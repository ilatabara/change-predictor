id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-nova-compute~master~I1ed82e70ef2236b3ac34cc4095ee20c85006469b,openstack/charm-nova-compute,master,I1ed82e70ef2236b3ac34cc4095ee20c85006469b,Update use of client.service_catalog with sessions,ABANDONED,2017-06-09 21:51:20.000000000,2017-08-21 23:29:57.000000000,,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-06-09 21:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b9fda9812ef0795a1d977d55ec3c03897d3c03d0', 'message': 'Use get_keystone_catalog\n\nWhen using keystoneauth1.sessions keystoneclient.service_catalog is no\nlonger populated.\n\nThis change uses the get_keystone_catalog for testing and will\nevenutally be used by the charms themselves.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}, {'number': 2, 'created': '2017-06-09 22:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d7cd84dd6510867f5168ee2facbed2b11d88d7bc', 'message': 'Use get_keystone_catalog\n\nWhen using keystoneauth1.sessions keystoneclient.service_catalog is no\nlonger populated.\n\nThis change uses the get_keystone_catalog for testing and will\nevenutally be used by the charms themselves.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}, {'number': 3, 'created': '2017-06-10 19:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e2884c8c39168d21aa1cf0dbb475480e9a0f7bb9', 'message': 'Use get_keystone_catalog\n\nWhen using keystoneauth1.sessions keystoneclient.service_catalog is no\nlonger populated.\n\nThis change uses the get_keystone_catalog for testing and will\nevenutally be used by the charms themselves.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}, {'number': 4, 'created': '2017-06-10 19:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/122cbb8264eaa54c4e0f1e0fea14532d570f8e95', 'message': 'Use get_keystone_catalog\n\nWhen using keystoneauth1.sessions keystoneclient.service_catalog is no\nlonger populated.\n\nThis change uses the get_keystone_catalog for testing and will\nevenutally be used by the charms themselves.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}, {'number': 5, 'created': '2017-06-12 18:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e26091c7c9ebc0b6dabb4c35fdfb712b1b580ea8', 'message': 'Update use of client.service_catalog with sessions\n\nDue to a bug in keystone client when using keystoneauth1.sessions\nkeystoneclient.service_catalog is no longer populated automatically.\n\nManually setting client.auth_ref has the side effect of populating\nthe service_catalog and has become the undocumented but accepted\npractice.\n\nThis change syncs charm helpers wich adds the manual setting of\nauth_ref, updates the query arguments for url_for() and uses\nkeystoneauth1 sessions.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}, {'number': 6, 'created': '2017-06-12 19:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/74d14a8251ab6aa723540f576cd4e65bf65e7e02', 'message': 'Update use of client.service_catalog with sessions\n\nDue to a bug in keystone client when using keystoneauth1.sessions\nkeystoneclient.service_catalog is no longer populated automatically.\n\nManually setting client.auth_ref has the side effect of populating\nthe service_catalog and has become the undocumented but accepted\npractice.\n\nThis change syncs charm helpers wich adds the manual setting of\nauth_ref, updates the query arguments for url_for() and uses\nkeystoneauth1 sessions.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}, {'number': 7, 'created': '2017-08-21 22:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/27863d7f805143a62f18c1225e4ab0f631ff646b', 'message': 'Update use of client.service_catalog with sessions\n\nDue to a bug in keystone client when using keystoneauth1.sessions\nkeystoneclient.service_catalog is no longer populated automatically.\n\nManually setting client.auth_ref has the side effect of populating\nthe service_catalog and has become the undocumented but accepted\npractice.\n\nThis change syncs charm helpers wich adds the manual setting of\nauth_ref, updates the query arguments for url_for() and uses\nkeystoneauth1 sessions.\n\nChange-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b\n'}]",0,472844,27863d7f805143a62f18c1225e4ab0f631ff646b,24,3,7,20805,,,0,"Update use of client.service_catalog with sessions

Due to a bug in keystone client when using keystoneauth1.sessions
keystoneclient.service_catalog is no longer populated automatically.

Manually setting client.auth_ref has the side effect of populating
the service_catalog and has become the undocumented but accepted
practice.

This change syncs charm helpers wich adds the manual setting of
auth_ref, updates the query arguments for url_for() and uses
keystoneauth1 sessions.

Change-Id: I1ed82e70ef2236b3ac34cc4095ee20c85006469b
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/44/472844/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/utils.py']",4,b9fda9812ef0795a1d977d55ec3c03897d3c03d0,service_catalog,"from keystoneauth1.identity import base def get_keystone_catalog(client): """"""Get the Keystone catalog When using keystoneauth1.sessions keystoneclient.service_catalog is no longer populated. This helper does the steps necessary to retrieve the catalog given a keystone client object. @param client: Authenticated Keystone client object @returns Keystone catalog as a list of dictionaries @raises ValueError if auth is not a keystoneauth1.identity.base object """""" try: auth = client.auth or client.session.auth except AttributeError: auth = client.session.auth if isinstance(auth, base.BaseIdentityPlugin): return auth.get_access(session=client.session).service_catalog.catalog else: msg = ""Keystone auth object not a keystoneauth1.identity.base object"" juju_log(msg, level=ERROR) raise ValueError(msg)",,117,28
openstack%2Ftripleo-quickstart-extras~master~I6b77d1b0f11d7240179f67cca6a84e7909d3fd20,openstack/tripleo-quickstart-extras,master,I6b77d1b0f11d7240179f67cca6a84e7909d3fd20,Add /root/.cache/image-create to cleanup role,MERGED,2017-06-30 15:37:52.000000000,2017-08-21 23:22:37.000000000,2017-08-21 18:03:56.000000000,"[{'_account_id': 3}, {'_account_id': 8367}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-06-30 15:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ff2699bff06c9cc20383f1538d57a343ba126db', 'message': 'Add /root/.cache/image-create to cleanup role\n\nThis commit clears the DIB cache on virthosts used in rdophase2.\n\nChange-Id: I6b77d1b0f11d7240179f67cca6a84e7909d3fd20\n'}, {'number': 2, 'created': '2017-06-30 15:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8fc472ca2205ea8fd3039afa3e114eb79a55310e', 'message': 'Add /root/.cache/image-create to cleanup role\n\nThis commit clears the DIB cache on virthosts used in rdophase2.\n\nChange-Id: I6b77d1b0f11d7240179f67cca6a84e7909d3fd20\n'}, {'number': 3, 'created': '2017-07-19 15:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cd1776c205449bcc8d6064214a98371d608dd176', 'message': 'Add /root/.cache/image-create to cleanup role\n\nThis commit clears the DIB cache on virthosts used in rdophase2.\n\nChange-Id: I6b77d1b0f11d7240179f67cca6a84e7909d3fd20\n'}, {'number': 4, 'created': '2017-07-24 15:18:21.000000000', 'files': ['roles/virthost-full-cleanup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7aa19020bc9e55a8ac42bf1ca3dc3d5806d2c1d3', 'message': 'Add /root/.cache/image-create to cleanup role\n\nThis commit clears the DIB cache on virthosts used in rdophase2.\n\nChange-Id: I6b77d1b0f11d7240179f67cca6a84e7909d3fd20\n'}]",1,479356,7aa19020bc9e55a8ac42bf1ca3dc3d5806d2c1d3,33,10,4,21686,,,0,"Add /root/.cache/image-create to cleanup role

This commit clears the DIB cache on virthosts used in rdophase2.

Change-Id: I6b77d1b0f11d7240179f67cca6a84e7909d3fd20
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/56/479356/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/virthost-full-cleanup/tasks/main.yml'],1,1ff2699bff06c9cc20383f1538d57a343ba126db,dib-cache-cleanup, rm -rf /root/.cache/image-create,,1,0
openstack%2Fneutron~stable%2Focata~I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6,openstack/neutron,stable/ocata,I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6,Don't raise exception if TC device doesn't exist,MERGED,2017-08-16 08:28:19.000000000,2017-08-21 23:06:42.000000000,2017-08-21 23:06:42.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-08-16 08:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/684841a359be35bd0abf4852f3f843e0c1e1f174', 'message': 'TC doesn\'t rise exception if device doesn\'t exist\n\nIf device doesn\'t exit, TC doesn\'t need to raise an exception\nduring the deletion of the qdisc.\n\nIn iproute2 source code [1], the error code used is ""1"".\n\n[1] https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2/+/master/tc/tc_qdisc.c#188\n\nChange-Id: I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6\nCloses-Bug: #1697937\n(cherry picked from commit 0a185354a16d2bbd87bea4371933032d0f349e60)\n'}, {'number': 2, 'created': '2017-08-17 10:35:20.000000000', 'files': ['neutron/tests/unit/agent/linux/test_tc_lib.py', 'neutron/agent/linux/tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8691deb707a1cc499688e1962036c10f02cd872a', 'message': 'Don\'t raise exception if TC device doesn\'t exist\n\nIf device doesn\'t exit, TC doesn\'t need to raise an exception\nduring the deletion of the qdisc.\n\nIn iproute2 source code [1], the error code used is ""1"".\n\n[1] https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2/+/master/tc/tc_qdisc.c#188\n\nChange-Id: I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6\nCloses-Bug: #1697937\n(cherry picked from commit 0a185354a16d2bbd87bea4371933032d0f349e60)\n'}]",2,494112,8691deb707a1cc499688e1962036c10f02cd872a,18,8,2,16688,,,0,"Don't raise exception if TC device doesn't exist

If device doesn't exit, TC doesn't need to raise an exception
during the deletion of the qdisc.

In iproute2 source code [1], the error code used is ""1"".

[1] https://kernel.googlesource.com/pub/scm/linux/kernel/git/shemminger/iproute2/+/master/tc/tc_qdisc.c#188

Change-Id: I9abecd6ef9d74abff27fb0ed0f5f4535c0622fd6
Closes-Bug: #1697937
(cherry picked from commit 0a185354a16d2bbd87bea4371933032d0f349e60)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/494112/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_tc_lib.py', 'neutron/agent/linux/tc_lib.py']",2,684841a359be35bd0abf4852f3f843e0c1e1f174,bug/1697937," # Return_code=1 means ""RTNETLINK answers: Cannot find device <device>"". # If the device doesn't exist, the qdisc is already deleted. return self._execute_tc_cmd(cmd, extra_ok_codes=[1, 2])"," return self._execute_tc_cmd(cmd, extra_ok_codes=[2])",6,4
openstack%2Fironic~stable%2Fpike~I34fb68c150b753824bd2687a1f522ac87771a5e3,openstack/ironic,stable/pike,I34fb68c150b753824bd2687a1f522ac87771a5e3,Get rid of sourcing stackrc in grenade settings,MERGED,2017-08-17 15:53:26.000000000,2017-08-21 22:53:21.000000000,2017-08-18 14:42:13.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 20035}]","[{'number': 1, 'created': '2017-08-17 15:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/27eb3d8d8b20f2491b863fb820fcf14f0a2369f0', 'message': 'Get rid of sourcing stackrc in grenade settings\n\nInstead, use the common_settings file to source all the variables\nwe need at the early stages of devstack setup and during the upgrade\nitself. This also fixes an issue with the networking-generic-switch\nupgrade script, which is run from the old release instead of the new\none.\n\nIt depends on a patch from an older release, as grenade is setup\nusing settings from an older release, we need common_setting to be\npopulated there.\n\nChange-Id: I34fb68c150b753824bd2687a1f522ac87771a5e3\nDepends-On: If63779ced5e99461782c65188f4776045df85125\n'}, {'number': 2, 'created': '2017-08-17 18:56:29.000000000', 'files': ['devstack/lib/ironic', 'devstack/common_settings', 'devstack/upgrade/settings', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbf2cab10089d9ee5b707c95c1f21d2094ee8d60', 'message': 'Get rid of sourcing stackrc in grenade settings\n\nInstead, use the common_settings file to source all the variables\nwe need at the early stages of devstack setup and during the upgrade\nitself. This also fixes an issue with the networking-generic-switch\nupgrade script, which is run from the old release instead of the new\none.\n\nIt depends on a patch from an older release, as grenade is setup\nusing settings from an older release, we need common_setting to be\npopulated there.\n\nChange-Id: I34fb68c150b753824bd2687a1f522ac87771a5e3\nDepends-On: If63779ced5e99461782c65188f4776045df85125\n'}]",0,494617,fbf2cab10089d9ee5b707c95c1f21d2094ee8d60,18,6,2,12356,,,0,"Get rid of sourcing stackrc in grenade settings

Instead, use the common_settings file to source all the variables
we need at the early stages of devstack setup and during the upgrade
itself. This also fixes an issue with the networking-generic-switch
upgrade script, which is run from the old release instead of the new
one.

It depends on a patch from an older release, as grenade is setup
using settings from an older release, we need common_setting to be
populated there.

Change-Id: I34fb68c150b753824bd2687a1f522ac87771a5e3
Depends-On: If63779ced5e99461782c65188f4776045df85125
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/494617/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'devstack/common_settings', 'devstack/upgrade/settings', 'devstack/settings']",4,27eb3d8d8b20f2491b863fb820fcf14f0a2369f0,,source $DEST/ironic/devstack/common_settings ,,70,71
openstack%2Fpanko~stable%2Fpike~Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d,openstack/panko,stable/pike,Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d,Update .gitreview for stable/pike,MERGED,2017-08-21 19:06:13.000000000,2017-08-21 22:49:15.000000000,2017-08-21 22:49:15.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2017-08-21 19:06:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/panko/commit/9a3a8891960c13a34f136aa1dcc246122cd3cbb3', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d\n'}]",0,495963,9a3a8891960c13a34f136aa1dcc246122cd3cbb3,6,2,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: Ife9c4bb86329d3acca6414cf1a7a42d9b6da163d
",git fetch https://review.opendev.org/openstack/panko refs/changes/63/495963/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9a3a8891960c13a34f136aa1dcc246122cd3cbb3,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fpuppet-nova~stable%2Focata~Ida3ecab717bc3113ba23553c559263f35c49c46a,openstack/puppet-nova,stable/ocata,Ida3ecab717bc3113ba23553c559263f35c49c46a,Fix handling of nova pci MultiStrOpt params,MERGED,2017-08-16 12:38:25.000000000,2017-08-21 22:47:13.000000000,2017-08-21 22:47:13.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-16 12:38:25.000000000', 'files': ['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_api_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/api.pp', 'lib/puppet/parser/functions/check_array_of_hash.rb', 'releasenotes/notes/pci_params_format-bf62bf47585ad1cc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/13cfe18726c9ff189258871149f54caeb20b2a77', 'message': 'Fix handling of nova pci MultiStrOpt params\n\nThe changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix\nthe handling of the nova pci_* params. The config being written to nova.conf\nremains in the ListOpt format.\n\nAs support for MultiStrOpt was added to nova_config in\nI6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of\nstrings to nova_config to set these MultiStrOpt params.\n\nNova expects the string values to be JSON encoded so that is what the parser\nfunction now returns.  This function has also been renamed from\n\'check_array_of_hash\' (which it never did) to \'to_array_of_json_strings\'.\n\nThe acceptable input formats are a JSON array of objects or a puppet Array of\nHashes. Perviously a ""JSON with single quotes"" format was used but should now\nbe considered deprecated as it could corrupt data.\n\nThis also removes any pci_alias entries from nova.conf when the param is not\nset.\n\nChange-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a\nCloses-bug: #1696955\n(cherry picked from commit 1cd349f893408803fec307f615ae3fe265d54fed)\n'}]",0,494189,13cfe18726c9ff189258871149f54caeb20b2a77,28,3,1,23811,,,0,"Fix handling of nova pci MultiStrOpt params

The changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix
the handling of the nova pci_* params. The config being written to nova.conf
remains in the ListOpt format.

As support for MultiStrOpt was added to nova_config in
I6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of
strings to nova_config to set these MultiStrOpt params.

Nova expects the string values to be JSON encoded so that is what the parser
function now returns.  This function has also been renamed from
'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.

The acceptable input formats are a JSON array of objects or a puppet Array of
Hashes. Perviously a ""JSON with single quotes"" format was used but should now
be considered deprecated as it could corrupt data.

This also removes any pci_alias entries from nova.conf when the param is not
set.

Change-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a
Closes-bug: #1696955
(cherry picked from commit 1cd349f893408803fec307f615ae3fe265d54fed)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/89/494189/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_api_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/api.pp', 'lib/puppet/parser/functions/check_array_of_hash.rb', 'releasenotes/notes/pci_params_format-bf62bf47585ad1cc.yaml']",7,13cfe18726c9ff189258871149f54caeb20b2a77,bug/1696955,--- features: - | The nova::api::pci_alias and nova::compute::pci_passthrough params now accept an array of hashes. A valid JSON encoded array of objects is also acceptable. deprecations: - | Invalid JSON was previously accepted for the nova::api::pci_alias and nova::compute::pci_passthrough parameters. This format is now deprecated and may not be accepted in future. ,,145,48
openstack%2Fcharm-guide~master~Ib5ffce2c45deda5a03edc9e3fc332836721d9b49,openstack/charm-guide,master,Ib5ffce2c45deda5a03edc9e3fc332836721d9b49,os-on-lxd: switch to openstack cli,ABANDONED,2017-05-04 15:26:17.000000000,2017-08-21 22:46:25.000000000,,"[{'_account_id': 3}, {'_account_id': 8992}]","[{'number': 1, 'created': '2017-05-04 15:26:17.000000000', 'files': ['doc/source/openstack-on-lxd.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/74065919b85ebfcfcc6f85f0044721349bdf1d82', 'message': 'os-on-lxd: switch to openstack cli\n\nThe patch switches to use the openstack commandline client all over\nthe place instead of using the project specific ones.\n\nChange-Id: Ib5ffce2c45deda5a03edc9e3fc332836721d9b49\n'}]",0,462595,74065919b85ebfcfcc6f85f0044721349bdf1d82,5,2,1,11307,,,0,"os-on-lxd: switch to openstack cli

The patch switches to use the openstack commandline client all over
the place instead of using the project specific ones.

Change-Id: Ib5ffce2c45deda5a03edc9e3fc332836721d9b49
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/95/462595/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-on-lxd.rst'],1,74065919b85ebfcfcc6f85f0044721349bdf1d82,openstack_client," --wait --nic net-id=$(openstack network list | awk '/internal/ {print $2}') \ fip=$(openstack floating ip create ext_net | awk '/floating_ip_address/{print $4}') openstack server add floating ip openstack-on-lxd-ftw $fip openstack security group rule create --ingress --protocol icmp \ $(openstack security group list --project admin -c ""ID"" -f value) openstack security group rule create --ingress --dst-port 22 \ $(openstack security group list --project admin -c ""ID"" -f value) ssh ubuntu@$fip", --wait --nic net-id=$(neutron net-list | grep internal | awk '{ print $2 }') \ nova floating-ip-create nova add-floating-ip <uuid-of-instance> <new-floating-ip> neutron security-group-rule-create --protocol icmp \ --direction ingress $(nova secgroup-list | grep default | awk '{ print $2 }') neutron security-group-rule-create --protocol tcp \ --port-range-min 22 --port-range-max 22 \ --direction ingress $(nova secgroup-list | grep default | awk '{ print $2 }') ssh ubuntu@<new-floating-ip>,8,9
openstack%2Fpatrole~master~I36aad1ea7ef3c1418cd23fda8357132ac8bde559,openstack/patrole,master,I36aad1ea7ef3c1418cd23fda8357132ac8bde559,RBAC tests for extended availability zone policies,MERGED,2017-07-18 00:18:48.000000000,2017-08-21 22:42:18.000000000,2017-08-21 22:42:18.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-07-18 00:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/bab9279eea86d94fd256580efcc8d40443686231', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\n'}, {'number': 2, 'created': '2017-07-18 03:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/218636de1effd9f7a3c9c63a904adb4988c1dd48', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\n'}, {'number': 3, 'created': '2017-07-18 03:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/561d56884d13e07e9658f1523153785bfec2bb50', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\n'}, {'number': 4, 'created': '2017-07-22 00:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/761f2e593d7b6bbc670a18ba541c2fabaf945674', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\n'}, {'number': 5, 'created': '2017-07-22 01:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/fe5d58e209212044392ff740092f0abd2f7ef3f8', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\n'}, {'number': 6, 'created': '2017-07-31 17:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/38760b38890c3efa7ee73b2fae224bad3f316403', 'message': 'RBAC tests for os-extended-status policies\n\nThis commit adds RBAC tests for os-extended-status\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_status.py\n\nTests for both APIs that enforce each policy were added.\n\nImplements: blueprint rbac-tests-for-compute-extended-status\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\nDepends-On: I1c14646dc8d102cd093be09833c23846781e5e73\n'}, {'number': 7, 'created': '2017-07-31 17:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/11ea594b7abba2bca23f19380c9366d0a5c7e274', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\n'}, {'number': 8, 'created': '2017-07-31 17:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/f05f3dfd42404ed014efdbbb6494570fe229d92b', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\nDepends-On: I1c14646dc8d102cd093be09833c23846781e5e73\n'}, {'number': 9, 'created': '2017-08-12 17:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/bc6ce22ceb0455719625ce67eb8146ffe012c663', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\nDepends-On: I1c14646dc8d102cd093be09833c23846781e5e73\n'}, {'number': 10, 'created': '2017-08-21 20:17:57.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'releasenotes/notes/extended-availability-zone-policies-2ec19e8bbb9ce158.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/5f72954f121a5aa5f6bd378e2d013d2973297766', 'message': 'RBAC tests for extended availability zone policies\n\nThis commit adds RBAC tests for extended availability zone\npolicies, the documentation for which can be found here:\n\nhttps://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py\n\nTests for both APIs that enforce each policy were added.\n\nChange-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559\nDepends-On: I1c14646dc8d102cd093be09833c23846781e5e73\n'}]",4,484535,5f72954f121a5aa5f6bd378e2d013d2973297766,42,4,10,23186,,,0,"RBAC tests for extended availability zone policies

This commit adds RBAC tests for extended availability zone
policies, the documentation for which can be found here:

https://github.com/openstack/nova/blob/master/nova/policies/extended_availability_zone.py

Tests for both APIs that enforce each policy were added.

Change-Id: I36aad1ea7ef3c1418cd23fda8357132ac8bde559
Depends-On: I1c14646dc8d102cd093be09833c23846781e5e73
",git fetch https://review.opendev.org/openstack/patrole refs/changes/35/484535/10 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'releasenotes/notes/extended-availability-zone-policies-2ec19e8bbb9ce158.yaml']",2,bab9279eea86d94fd256580efcc8d40443686231,availability-zone-policies,"--- features: > Add RBAC tests for APIs that enforce ""os_compute_api:os-extended-availability-zone"". ",,43,4
openstack%2Fglance~master~Icd79be4eb9d363e70955dbe208aba8564cf21e8e,openstack/glance,master,Icd79be4eb9d363e70955dbe208aba8564cf21e8e,Correct group name in config,MERGED,2017-08-21 16:03:51.000000000,2017-08-21 22:36:02.000000000,2017-08-21 22:13:11.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 16:03:51.000000000', 'files': ['glance/common/config.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d38c8d23975e37bc4450d0ac707f3c4ab48f2011', 'message': ""Correct group name in config\n\nHelp text for enable_image_import refers to [TASKS] whereas the\nrelated option group is named [task].  This patch corrects the\ntext so that operators don't add config for a group that doesn't\nexist and then wonder why it's not having any effect.\n\nChange-Id: Icd79be4eb9d363e70955dbe208aba8564cf21e8e\n""}]",0,495912,d38c8d23975e37bc4450d0ac707f3c4ab48f2011,13,4,1,5314,,,0,"Correct group name in config

Help text for enable_image_import refers to [TASKS] whereas the
related option group is named [task].  This patch corrects the
text so that operators don't add config for a group that doesn't
exist and then wonder why it's not having any effect.

Change-Id: Icd79be4eb9d363e70955dbe208aba8564cf21e8e
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/495912/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/config.py'],1,d38c8d23975e37bc4450d0ac707f3c4ab48f2011,bug/1712110,NOTE: It is discouraged to use same path as [task]/work_dir * [task]/work_dir,NOTE: It is discouraged to use same path as [TASKS]/work_dir * [TASKS]/work_dir,2,2
openstack%2Fcharm-layer-openstack-api~master~I393d512d379847fb1fa127f0fa7898c824e36182,openstack/charm-layer-openstack-api,master,I393d512d379847fb1fa127f0fa7898c824e36182,Adding support for worker multiplier,ABANDONED,2017-04-19 10:02:53.000000000,2017-08-21 22:32:26.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-19 10:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/90c15fa802b268411279e6b547b43756bf2a5285', 'message': 'Adding support for worker multiplier\n\n - adding worker_multiplier to config.yaml\n\nChange-Id: I393d512d379847fb1fa127f0fa7898c824e36182\n'}, {'number': 2, 'created': '2017-04-19 12:22:01.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/6dfea3e7b80d6f25d09f145aaac428a35e62acb1', 'message': 'Adding support for worker multiplier\n\n - adding worker_multiplier to config.yaml\n\nRelated-Bug: 1677543\nChange-Id: I393d512d379847fb1fa127f0fa7898c824e36182\n'}]",0,457994,6dfea3e7b80d6f25d09f145aaac428a35e62acb1,5,1,2,5677,,,0,"Adding support for worker multiplier

 - adding worker_multiplier to config.yaml

Related-Bug: 1677543
Change-Id: I393d512d379847fb1fa127f0fa7898c824e36182
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/94/457994/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,90c15fa802b268411279e6b547b43756bf2a5285,bug/1677543," worker-multiplier: type: float default: 2.0 description: | The CPU core multiplier to use when configuring worker processes. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has.",,7,0
openstack%2Fcharm-keystone~master~I6f24bc042a820ddd0147247267ee159753cfc1fb,openstack/charm-keystone,master,I6f24bc042a820ddd0147247267ee159753cfc1fb,Fix dangling file open() commands with no corresponding close,MERGED,2017-08-18 09:40:28.000000000,2017-08-21 22:27:53.000000000,2017-08-21 22:27:53.000000000,"[{'_account_id': 3}, {'_account_id': 20635}]","[{'number': 1, 'created': '2017-08-18 09:40:28.000000000', 'files': ['unit_tests/test_utils.py', 'hooks/keystone_ssl.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/b3a6fdf5b5b5dc701e01efada2f89a42be4ae388', 'message': 'Fix dangling file open() commands with no corresponding close\n\nThe code relies on a undocumented (and probably unstable) feature\nof CPython to close a file when the reference is GCed.  However,\nit\'s pretty poor practice to do so, so this patchset replaces them\nwith ""with ..."" statements to ensure that the files are closed\nwhen no longer being used.\n\nChange-Id: I6f24bc042a820ddd0147247267ee159753cfc1fb\n'}]",0,495142,b3a6fdf5b5b5dc701e01efada2f89a42be4ae388,6,2,1,20870,,,0,"Fix dangling file open() commands with no corresponding close

The code relies on a undocumented (and probably unstable) feature
of CPython to close a file when the reference is GCed.  However,
it's pretty poor practice to do so, so this patchset replaces them
with ""with ..."" statements to ensure that the files are closed
when no longer being used.

Change-Id: I6f24bc042a820ddd0147247267ee159753cfc1fb
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/42/495142/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_utils.py', 'hooks/keystone_ssl.py']",2,b3a6fdf5b5b5dc701e01efada2f89a42be4ae388,fix-file-opens," with open(bundle_file, 'r') as f: current = f.read().strip() if not os.path.isfile(crtpath): log(""Creating certificate and key for {}."".format(common_name), crtpath, keypath = self._create_certificate(common_name, common_name) with open(crtpath, 'r') as f: crt = f.read() with open(keypath, 'r') as f: key = f.read() return crt, key with open(self.ca_cert_path) as f: int_cert = f.read() with open(self.root_ca_cert_path) as f: root_cert = f.read()"," current = open(bundle_file, 'r').read().strip() log('Getting certificate and key for %s.' % common_name, level=DEBUG) if os.path.isfile(crtpath): log('Found existing certificate for %s.' % common_name, crt = open(crtpath, 'r').read() key = open(keypath, 'r').read() return crt, key crt, key = self._create_certificate(common_name, common_name) return open(crt, 'r').read(), open(key, 'r').read() int_cert = open(self.ca_cert_path).read() root_cert = open(self.root_ca_cert_path).read()",17,12
openstack%2Fcharm-manila-generic~master~Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb,openstack/charm-manila-generic,master,Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb,Modify tests.yaml which specifies bundletester config params with the following key:value pairs:,MERGED,2017-08-09 20:26:43.000000000,2017-08-21 22:27:23.000000000,2017-08-21 22:27:23.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-09 20:26:43.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/521d08f3dfc53617a5f0c0697f680d4356da5614', 'message': 'Modify tests.yaml which specifies bundletester config params\nwith the following key:value pairs:\n\n- reset_timeout: 600\n\nChange-Id: Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb\n'}]",0,492270,521d08f3dfc53617a5f0c0697f680d4356da5614,10,3,1,22799,,,0,"Modify tests.yaml which specifies bundletester config params
with the following key:value pairs:

- reset_timeout: 600

Change-Id: Ia197f23b0ef7745c0f39cfd68aef82fef7aed1bb
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/70/492270/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,521d08f3dfc53617a5f0c0697f680d4356da5614,update-tests-yaml-files,reset_timeout: 600,,1,0
openstack%2Fcharm-manila-generic~master~Idd74ceb3e1c7640241550cb104f9e93d4f782d80,openstack/charm-manila-generic,master,Idd74ceb3e1c7640241550cb104f9e93d4f782d80,Add workaround for Bug#1707303 for testing,MERGED,2017-08-21 10:00:11.000000000,2017-08-21 22:26:57.000000000,2017-08-21 22:26:57.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-21 10:00:11.000000000', 'files': ['src/tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/2ad8c79efd5224fbe8d1eb36df3ecb16b0f26b56', 'message': ""Add workaround for Bug#1707303 for testing\n\nUnfortunately, there's a bug in the released manila-client that's\nbeen fixed in master, but not yet released.  This patch works around\nthat bug.\n\nChange-Id: Idd74ceb3e1c7640241550cb104f9e93d4f782d80\nRelated-Bug: #1707303\n""}]",0,495798,2ad8c79efd5224fbe8d1eb36df3ecb16b0f26b56,7,3,1,20870,,,0,"Add workaround for Bug#1707303 for testing

Unfortunately, there's a bug in the released manila-client that's
been fixed in master, but not yet released.  This patch works around
that bug.

Change-Id: Idd74ceb3e1c7640241550cb104f9e93d4f782d80
Related-Bug: #1707303
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/98/495798/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/basic_deployment.py'],1,2ad8c79efd5224fbe8d1eb36df3ecb16b0f26b56,bug/1707303, # NOTE(AJK) the 'search_opts={}' is needed to work around Bug#1707303 manila.shares.list(search_opts={}), manila.shares.list(),2,1
openstack%2Fcharm-manila~master~Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2,openstack/charm-manila,master,Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2,Modify tests.yaml which specifies bundletester config params with the following key:value pairs:,MERGED,2017-08-09 20:26:32.000000000,2017-08-21 22:26:51.000000000,2017-08-21 22:26:51.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-09 20:26:32.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/ebefa225362f80f6aeaade54ef55520831ed9e66', 'message': 'Modify tests.yaml which specifies bundletester config params\nwith the following key:value pairs:\n\n- reset_timeout: 600\n\nChange-Id: Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2\n'}]",0,492269,ebefa225362f80f6aeaade54ef55520831ed9e66,10,3,1,22799,,,0,"Modify tests.yaml which specifies bundletester config params
with the following key:value pairs:

- reset_timeout: 600

Change-Id: Ic14d38e2fedb59b06889a086fa39e40bf3dd55e2
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/69/492269/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,ebefa225362f80f6aeaade54ef55520831ed9e66,update-tests-yaml-files,reset_timeout: 600,,1,0
openstack%2Fcharm-barbican-softhsm~master~I6be91ad4aed575ac972f7ca0aae21b22989db797,openstack/charm-barbican-softhsm,master,I6be91ad4aed575ac972f7ca0aae21b22989db797,Modify tests.yaml which specifies bundletester config params with the following key:value pairs:,MERGED,2017-08-09 20:20:02.000000000,2017-08-21 22:26:46.000000000,2017-08-21 22:26:46.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-09 20:20:02.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/0ac51d3d89cf8297a25c2456b49587c2a9b2d1f0', 'message': 'Modify tests.yaml which specifies bundletester config params\nwith the following key:value pairs:\n\n- reset_timeout: 600\n\nChange-Id: I6be91ad4aed575ac972f7ca0aae21b22989db797\n'}]",0,492249,0ac51d3d89cf8297a25c2456b49587c2a9b2d1f0,10,3,1,22799,,,0,"Modify tests.yaml which specifies bundletester config params
with the following key:value pairs:

- reset_timeout: 600

Change-Id: I6be91ad4aed575ac972f7ca0aae21b22989db797
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/49/492249/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,0ac51d3d89cf8297a25c2456b49587c2a9b2d1f0,update-tests-yaml-files,reset_timeout: 600,,1,0
openstack%2Fcharm-interface-hacluster~master~Ie6b4ae89af74151ebb435c72a6df78174bbec87b,openstack/charm-interface-hacluster,master,Ie6b4ae89af74151ebb435c72a6df78174bbec87b,Ensure only VIP resources are in vip group,MERGED,2017-08-21 21:50:19.000000000,2017-08-21 22:26:03.000000000,2017-08-21 22:26:03.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-21 21:50:19.000000000', 'files': ['requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/c01416b7eb084cc5923959d9d4e8d3d6064483de', 'message': 'Ensure only VIP resources are in vip group\n\nFix bug I intrduces in:\nhttps://github.com/openstack/charm-interface-hacluster/commit/77c2b2540777674b6dfb8d7e924a1125b264debe\nWhere the haproxy resource was also added to vip group.\n\nEnsure only VIP resources are added to the vip group.\n\nChange-Id: Ie6b4ae89af74151ebb435c72a6df78174bbec87b\n'}]",0,495990,c01416b7eb084cc5923959d9d4e8d3d6064483de,7,3,1,20805,,,0,"Ensure only VIP resources are in vip group

Fix bug I intrduces in:
https://github.com/openstack/charm-interface-hacluster/commit/77c2b2540777674b6dfb8d7e924a1125b264debe
Where the haproxy resource was also added to vip group.

Ensure only VIP resources are added to the vip group.

Change-Id: Ie6b4ae89af74151ebb435c72a6df78174bbec87b
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/90/495990/1 && git format-patch -1 --stdout FETCH_HEAD,['requires.py'],1,c01416b7eb084cc5923959d9d4e8d3d6064483de,dualstack," vip_res_group_members = [] for vip_res in vip_resources: if 'vip' in vip_res: vip_res_group_members.append(vip_res) resources.group(group, *vip_res_group_members)"," resources.group(group, *vip_resources.keys())",5,1
openstack%2Fironic~master~I962b2fd21fa4567370092fb0b73336dc3c842127,openstack/ironic,master,I962b2fd21fa4567370092fb0b73336dc3c842127,Fix minor grammar error,ABANDONED,2015-09-02 04:05:52.000000000,2017-08-21 22:23:30.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7634}, {'_account_id': 13997}, {'_account_id': 14760}, {'_account_id': 16237}, {'_account_id': 17773}]","[{'number': 1, 'created': '2015-09-02 04:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7df7a93cdc2084a4b3dbe1898099e18dc8ec6713', 'message': 'Fix minor grammar/comment description errors\n\nRevise ""has"" to ""have"" and comment description in ""/ironic/api/controllers/v1/types.py""\n\nChange-Id: I962b2fd21fa4567370092fb0b73336dc3c842127\nCloses-Bug: #1490406\n'}, {'number': 2, 'created': '2015-09-03 14:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23990fcd3ed3a154b24f47113b85d4807070f794', 'message': 'Fix minor grammar/comment description errors\n\nRevise ""has"" to ""have"" and comment description in ""/ironic/api/controllers/v1/types.py""\n\nChange-Id: I962b2fd21fa4567370092fb0b73336dc3c842127\nCloses-Bug: #1490406\n'}, {'number': 3, 'created': '2015-09-04 01:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a05d17351ec7f928ef3882abf80e83e75b36c57b', 'message': 'Fix minor grammar/comment description errors\n\nRevise grammar/comment errors in ""/ironic/api/controllers/v1/types.py""\n\nChange-Id: I962b2fd21fa4567370092fb0b73336dc3c842127\nCloses-Bug: #1490406\n'}, {'number': 4, 'created': '2015-09-07 06:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23be174d63dac83469c426980821b2c5f1f52591', 'message': 'Fix minor grammar error\n\nRevise grammar error in ""/ironic/api/controllers/v1/types.py""\n\nCloses-Bug: #1490406\n\nChange-Id: I962b2fd21fa4567370092fb0b73336dc3c842127\n'}, {'number': 5, 'created': '2015-09-09 05:12:24.000000000', 'files': ['etc/ironic/ironic.conf.sample'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c0dd5d6744b800505daf2c910d3ca24adc6b255', 'message': 'Fix minor grammar error\n\nRevise grammar error in ironic project\n\nCloses-Bug: #1490406\n\nChange-Id: I962b2fd21fa4567370092fb0b73336dc3c842127\n'}]",4,219551,8c0dd5d6744b800505daf2c910d3ca24adc6b255,22,8,5,17773,,,0,"Fix minor grammar error

Revise grammar error in ironic project

Closes-Bug: #1490406

Change-Id: I962b2fd21fa4567370092fb0b73336dc3c842127
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/219551/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/hash_ring.py'],1,7df7a93cdc2084a4b3dbe1898099e18dc8ec6713,bug/1490406, 'to a few hundred conductors. Too many partitions have a ' Default: None, 'to a few hundred conductors. Too many partitions has a ' Default: CONF.hash_distribution_replicas,2,2
openstack%2Fironic~master~I0f773f0897ef7d99ca1ccb27c6d839235fa2c393,openstack/ironic,master,I0f773f0897ef7d99ca1ccb27c6d839235fa2c393,Add /nodes/<uuid>/cleaning/steps API,ABANDONED,2015-02-26 02:24:20.000000000,2017-08-21 22:19:44.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 10202}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10380}, {'_account_id': 12081}, {'_account_id': 12356}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-02-26 02:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ced2f8548cd04432cdbda3e13d885a5c3d00cce8', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' paramater for RPC call to enable zapping steps.\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 2, 'created': '2015-02-26 23:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e44a0380b9e4caa398c5ce0bccc3d7c4427a0320', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' paramater for RPC call to enable zapping steps.\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 3, 'created': '2015-03-13 01:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/061ab467bfb7f719437483b02227756df977d1ab', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 4, 'created': '2015-03-13 05:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb8c57358ea71207ab7d5a1326fabe872709ad84', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 5, 'created': '2015-03-13 15:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8f5b0ff0280b33b3e4e10acb138fcedf855c5c5', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 6, 'created': '2015-03-13 22:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/953cd5440352c8f1be5aa244399fb93420ec1c31', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 7, 'created': '2015-03-16 18:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e2d228512288688c22e2e2ccdd433edd35b2de7', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 8, 'created': '2015-03-16 19:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aab06a021fce416a01edbee6c9b4cece2bff36a8', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nHides the controller and clean_step field in versions prior to 1.7.\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 9, 'created': '2015-03-16 20:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a816d7b329c23dc51a7acfa38c023e7a333660b5', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nHides the controller and clean_step field in versions prior to 1.7.\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}, {'number': 10, 'created': '2015-03-16 20:22:48.000000000', 'files': ['ironic/api/controllers/v1/__init__.py', 'ironic/common/exception.py', 'ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/api/v1/test_nodes.py', 'ironic/tests/conductor/test_rpcapi.py', 'ironic/conductor/rpcapi.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/df49f93d4db6f92ad24de553944899eeafe00833', 'message': ""Add /nodes/<uuid>/cleaning/steps API\n\nAdds a way to list all cleaning steps enabled for a node. Also provides\nan 'enabled' parameter for RPC call to enable zapping steps.\n\nBumping the RPC API version to add 'get_clean_steps'\n\nHides the controller and clean_step field in versions prior to 1.7.\n\nImplements: blueprint implement-cleaning-states\nChange-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393\n""}]",60,159322,df49f93d4db6f92ad24de553944899eeafe00833,69,11,10,10380,,,0,"Add /nodes/<uuid>/cleaning/steps API

Adds a way to list all cleaning steps enabled for a node. Also provides
an 'enabled' parameter for RPC call to enable zapping steps.

Bumping the RPC API version to add 'get_clean_steps'

Hides the controller and clean_step field in versions prior to 1.7.

Implements: blueprint implement-cleaning-states
Change-Id: I0f773f0897ef7d99ca1ccb27c6d839235fa2c393
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/159322/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/api/controllers/v1/node.py', 'ironic/conductor/rpcapi.py']",3,ced2f8548cd04432cdbda3e13d885a5c3d00cce8,bp/implement-cleaning-states," | 1.25 - Add get_clean_steps def get_clean_steps(self, context, node_id, topic=None, enabled=True): """"""Validate the `core` and `standardized` interfaces for drivers. :param context: request context. :param node_id: node id or uuid. :param topic: RPC topic. Defaults to self.topic. :param enabled: If true, only show enabled clean steps (priority > 0) :returns: a dictionary containing the results of each interface validation. """""" cctxt = self.client.prepare(topic=topic or self.topic, version='1.25') return cctxt.call(context, 'get_clean_steps', node_id=node_id, enabled=enabled) ",,68,1
openstack%2Fproject-config~master~I8b110d3394c5d5adf60a3f9e170545fc285d0098,openstack/project-config,master,I8b110d3394c5d5adf60a3f9e170545fc285d0098,grafana updates for n8g-bgpvpn and n8g-bagpipe,MERGED,2017-08-21 12:54:09.000000000,2017-08-21 22:19:36.000000000,2017-08-21 22:19:36.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-21 12:54:09.000000000', 'files': ['grafana/networking-bgpvpn.yaml', 'grafana/networking-bagpipe.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/160ccd71f535585d7a5b769ba19acde3be41e443', 'message': 'grafana updates for n8g-bgpvpn and n8g-bagpipe\n\nAdds graphs stable/ocata and stable/pike periodic tests.\n\nChange-Id: I8b110d3394c5d5adf60a3f9e170545fc285d0098\n'}]",0,495849,160ccd71f535585d7a5b769ba19acde3be41e443,8,4,1,12021,,,0,"grafana updates for n8g-bgpvpn and n8g-bagpipe

Adds graphs stable/ocata and stable/pike periodic tests.

Change-Id: I8b110d3394c5d5adf60a3f9e170545fc285d0098
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/495849/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/networking-bgpvpn.yaml', 'grafana/networking-bagpipe.yaml']",2,160ccd71f535585d7a5b769ba19acde3be41e443,grafana_n8g_b," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.pipeline.periodic-stable.job.periodic-networking-bagpipe-python27-ocata.FAILURE),sum(stats_counts.zuul.pipeline.periodic-stable.job.periodic-networking-bagpipe-python27-ocata.{SUCCESS,FAILURE})),'24hours'), 'periodic-networking-bagpipe-python27-ocata') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.pipeline.periodic-stable.job.periodic-networking-bagpipe-python27-pike.FAILURE),sum(stats_counts.zuul.pipeline.periodic-stable.job.periodic-networking-bagpipe-python27-pike.{SUCCESS,FAILURE})),'24hours'), 'periodic-networking-bagpipe-python27-pike')",,4,0
openstack%2Fneutron~master~I743a223c4ff4882fdd760a20823150558d5e5f4a,openstack/neutron,master,I743a223c4ff4882fdd760a20823150558d5e5f4a,tests: Log spawned processes by RootHelperProcess,MERGED,2017-08-16 12:03:04.000000000,2017-08-21 22:19:25.000000000,2017-08-21 22:19:25.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 9656}, {'_account_id': 9732}]","[{'number': 1, 'created': '2017-08-16 12:03:04.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a41ce8d6bb445aac7101457e7797d34db784e0cd', 'message': 'tests: Log spawned processes by RootHelperProcess\n\nThis patch logs the command spawned by RootHelperProcess, it is\nhandy when debugging failed functional tests on upstream gate.\n\nChange-Id: I743a223c4ff4882fdd760a20823150558d5e5f4a\n'}]",0,494177,a41ce8d6bb445aac7101457e7797d34db784e0cd,10,5,1,8655,,,0,"tests: Log spawned processes by RootHelperProcess

This patch logs the command spawned by RootHelperProcess, it is
handy when debugging failed functional tests on upstream gate.

Change-Id: I743a223c4ff4882fdd760a20823150558d5e5f4a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/494177/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,a41ce8d6bb445aac7101457e7797d34db784e0cd,functional-tests,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(""Spawning process %s"", cmd)",,4,0
openstack%2Fneutron~stable%2Fpike~Iaeb9153084c6864b0982902bbb2ae9c0233266a6,openstack/neutron,stable/pike,Iaeb9153084c6864b0982902bbb2ae9c0233266a6,Stop using v2 identity API,MERGED,2017-08-21 13:56:16.000000000,2017-08-21 22:17:47.000000000,2017-08-21 22:17:47.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-08-21 13:56:16.000000000', 'files': ['neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_floating_ips_admin_actions.py', 'neutron/tests/tempest/api/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec1b3104962d837137d6c903d8fc8d7027a68b00', 'message': 'Stop using v2 identity API\n\nv2 identity API was deprecated in Mitaka. There is only a one test\nremaining that still relies on the v2 identity API. This patch replaces\nv2 with v3.\n\nChange-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6\n(cherry picked from commit 5b51cd8dcb7fe9a4f8e7ae6d190a475e47560758)\n'}]",0,495864,ec1b3104962d837137d6c903d8fc8d7027a68b00,8,3,1,8655,,,0,"Stop using v2 identity API

v2 identity API was deprecated in Mitaka. There is only a one test
remaining that still relies on the v2 identity API. This patch replaces
v2 with v3.

Change-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6
(cherry picked from commit 5b51cd8dcb7fe9a4f8e7ae6d190a475e47560758)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/495864/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_floating_ips_admin_actions.py', 'neutron/tests/tempest/api/base.py']",3,ec1b3104962d837137d6c903d8fc8d7027a68b00,v3-identity, cls.identity_admin_client = cls.os_admin.projects_client, cls.identity_admin_client = cls.os_admin.tenants_client cls.identity_admin_clientv3 = cls.os_admin.projects_client,12,16
openstack%2Fproject-config~master~Iba12324f8101b2e70559a871e13840a1dbbb07b5,openstack/project-config,master,Iba12324f8101b2e70559a871e13840a1dbbb07b5,Fix condition for logs pipeline,MERGED,2017-08-21 10:41:37.000000000,2017-08-21 22:10:09.000000000,2017-08-21 22:10:09.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-08-21 10:41:37.000000000', 'files': ['jenkins/jobs/monasca.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f12e0d8d34b62027c484319c2c223f91f2747124', 'message': 'Fix condition for logs pipeline\n\nFix condition for monasca-logs-pipeline with unified\ngates.\n\nChange-Id: Iba12324f8101b2e70559a871e13840a1dbbb07b5\n'}]",0,495816,f12e0d8d34b62027c484319c2c223f91f2747124,8,5,1,20033,,,0,"Fix condition for logs pipeline

Fix condition for monasca-logs-pipeline with unified
gates.

Change-Id: Iba12324f8101b2e70559a871e13840a1dbbb07b5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/495816/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/monasca.yaml'],1,f12e0d8d34b62027c484319c2c223f91f2747124,unified, if [ {pipeline} == 'logs' ]; then, if [ {pipeline} == 'logs']; then,1,1
openstack%2Fironic~master~I45c54acd221443ae0bc54152d679a8791ff551a8,openstack/ironic,master,I45c54acd221443ae0bc54152d679a8791ff551a8,made and edited the ironic ucs.rst install guide,ABANDONED,2015-06-17 20:38:50.000000000,2017-08-21 22:09:44.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-06-17 20:38:50.000000000', 'files': ['doc/source/drivers/ucs.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7aafebefbeb52c324c9b48aebea76f30993a4c1', 'message': 'made and edited the ironic ucs.rst install guide\n\nper doc conventions ironic should be lowercase or Bare metal service\nPlease enter the commit message for your changes. Lines starting\n\nChange-Id: I45c54acd221443ae0bc54152d679a8791ff551a8\n'}]",4,192879,f7aafebefbeb52c324c9b48aebea76f30993a4c1,8,4,1,15804,,,0,"made and edited the ironic ucs.rst install guide

per doc conventions ironic should be lowercase or Bare metal service
Please enter the commit message for your changes. Lines starting

Change-Id: I45c54acd221443ae0bc54152d679a8791ff551a8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/192879/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/drivers/ucs.rst'],1,f7aafebefbeb52c324c9b48aebea76f30993a4c1,docs-uce-rst,The UCS driver is targeted for UCS manager managed Cisco UCS B/C seriesUCS manager by using the python SDK.management operations on the Bare metal service node (instead of using IPMI). to manage Cisco UCS managed B/C-series servers. Install ``UcsSdk`` [1]_ module on the Bare metal service conductor node.Tested platformsThis driver works on Cisco UCS manager managed B/C-series servers.Configuring and enabling the driver2. Restart the Bare metal conductor service::Registering UCS node in the Bare metal service- ``ucs_hostname``: IP address or hostname of the UCS manager - ``ucs_username``: UCS manager login user name with administrator or- ``ucs_password``: UCS manager login password for the above UCS manager user. - ``deploy_kernel``: The glance UUID of the deployment kernel. - ``deploy_ramdisk``: The glance UUID of the deployment ramdisk. Create node:: ironic node-create -d <pxe_ucs/agent_ucs> -i ucs_hostname=<UCS manager hostname/ip-address> -i ucs_username=<ucsm_username> -i ucs_password=<ucsm_password> -i ucs_service_profile=<serivce_profile_dn_being_enrolled> -i deploy_kernel=<glance_uuid_of_deploy_kernel> -i deploy_ramdisk=<glance_uuid_of_deploy_ramdisk> -p cpus=<number_of_cpus> -p memory_mb=<memory_size_in_MB> -p local_gb=<local_disk_size_in_GB> -p cpu_arch=<cpu_arch>,The UCS driver is targeted for UCS Manager managed Cisco UCS B/C seriesUCS Manager by using the python SDK.management operations on the baremetal node (instead of using IPMI). to manage Cisco UCS Managed B/C-series servers. Install ``UcsSdk`` [1]_ module on the Ironic conductor node.Tested PlatformsThis driver works on Cisco UCS Manager Managed B/C-series servers.Configuring and Enabling the driver2. Restart the Ironic conductor service::Registering UCS node in Ironic- ``ucs_hostname``: IP address or hostname of the UCS Manager - ``ucs_username``: UCS Manager login user name with administrator or- ``ucs_password``: UCS Manager login password for the above UCS Manager user. - ``deploy_kernel``: The Glance UUID of the deployment kernel. - ``deploy_ramdisk``: The Glance UUID of the deployment ramdisk. Create Node:: ironic node-create -d <pxe_ucs/agent_ucs> -i ucs_hostname=<UCS Manager hostname/ip-address> -i ucs_username=<ucsm_username> -i ucs_password=<ucsm_password> -i ucs_service_profile=<serivce_profile_dn_being_enrolled> -i deploy_kernel=<glance_uuid_of_deploy_kernel> -i deploy_ramdisk=<glance_uuid_of_deploy_ramdisk> -p cpus=<number_of_cpus> -p memory_mb=<memory_size_in_MB> -p local_gb=<local_disk_size_in_GB> -p cpu_arch=<cpu_arch>,17,17
openstack%2Fproject-config~master~I76a61aa1029eba403a2284e3ccd54d09b17a351f,openstack/project-config,master,I76a61aa1029eba403a2284e3ccd54d09b17a351f,Use python-jobs for Distil,MERGED,2017-07-31 04:06:05.000000000,2017-08-21 22:07:14.000000000,2017-08-21 22:07:14.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-07-31 04:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7549f9a4f984b0546b360cbc703255b87c9ae6b6', 'message': 'Enable docs job for Distil\n\nChange-Id: I76a61aa1029eba403a2284e3ccd54d09b17a351f\n'}, {'number': 2, 'created': '2017-08-20 22:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0933e51c27b1dfb3f8c48e45da00b93c37e72540', 'message': 'Use python-jobs for Distil\n\nChange-Id: I76a61aa1029eba403a2284e3ccd54d09b17a351f\n'}, {'number': 3, 'created': '2017-08-21 16:29:41.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9151c9d9b18101d36ec2322d8333991750091d19', 'message': 'Use python-jobs for Distil\n\nChange-Id: I76a61aa1029eba403a2284e3ccd54d09b17a351f\n'}]",3,489082,9151c9d9b18101d36ec2322d8333991750091d19,16,5,3,6484,,,0,"Use python-jobs for Distil

Change-Id: I76a61aa1029eba403a2284e3ccd54d09b17a351f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/489082/3 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/projects.yaml'],1,7549f9a4f984b0546b360cbc703255b87c9ae6b6,enable_docs_distil, - 'gate-{name}-docs-{node}': node: ubuntu-xenial,,2,0
openstack%2Fcharm-layer-openstack-api~master~I91b814db1ab5eef765abffea0f2f4359a9ff639d,openstack/charm-layer-openstack-api,master,I91b814db1ab5eef765abffea0f2f4359a9ff639d,Add missing hostname config options,MERGED,2017-08-21 21:52:01.000000000,2017-08-21 22:07:09.000000000,2017-08-21 22:07:09.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-21 21:52:01.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/3d6e2b6fe8a0e8464a6535aab10cc4c39b43b7d0', 'message': 'Add missing hostname config options\n\nOnly os-public-hostname was in the config.yaml. Add the missing\nos-internal-hostname and os-admin-hostname to config.yaml. The rest of\nthe code DTRT with these config options.\n\nChange-Id: I91b814db1ab5eef765abffea0f2f4359a9ff639d\n'}]",0,495991,3d6e2b6fe8a0e8464a6535aab10cc4c39b43b7d0,7,3,1,20805,,,0,"Add missing hostname config options

Only os-public-hostname was in the config.yaml. Add the missing
os-internal-hostname and os-admin-hostname to config.yaml. The rest of
the code DTRT with these config options.

Change-Id: I91b814db1ab5eef765abffea0f2f4359a9ff639d
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/91/495991/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,3d6e2b6fe8a0e8464a6535aab10cc4c39b43b7d0,dualstack," The hostname or address of the public endpoints created in the keystone identity provider. os-public-hostname set to 'api-public.example.com' with ssl enabled https://api-public.example.com:9696/ os-internal-hostname: type: string default: description: | The hostname or address of the internal endpoints created in the keystone identity provider. . This value will be used for internal endpoints. For example, an os-internal-hostname set to 'api-internal.example.com' with ssl enabled will create the following endpoint for neutron-api: . https://api-internal.example.com:9696/ os-admin-hostname: type: string default: description: | The hostname or address of the admin endpoints created in the keystone identity provider. . This value will be used for admin endpoints. For example, an os-admin-hostname set to 'api-admin.example.com' with ssl enabled will create the following endpoint for neutron-api: . https://api-admin.example.com:9696/", The hostname or address of the public endpoints created for neutron-api in the keystone identity provider. os-public-hostname set to 'neutron-api.example.com' with ssl enabled https://neutron-api.example.com:9696/,28,4
openstack%2Fceilometer~stable%2Fpike~Iad303e3d8101389ea139ecaebee02078fa13d74d,openstack/ceilometer,stable/pike,Iad303e3d8101389ea139ecaebee02078fa13d74d,Update .gitreview for stable/pike,MERGED,2017-08-21 19:05:26.000000000,2017-08-21 22:05:51.000000000,2017-08-21 22:05:51.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2017-08-21 19:05:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d17d43721da55a300a362cbad3a3fd3338d2347d', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: Iad303e3d8101389ea139ecaebee02078fa13d74d\n'}]",0,495961,d17d43721da55a300a362cbad3a3fd3338d2347d,6,2,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: Iad303e3d8101389ea139ecaebee02078fa13d74d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/61/495961/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d17d43721da55a300a362cbad3a3fd3338d2347d,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fironic~master~I69411a089e2ce2f9f010ebc98bb2eff53cfbd568,openstack/ironic,master,I69411a089e2ce2f9f010ebc98bb2eff53cfbd568,Add a check to pxe driver for TFTP service,ABANDONED,2015-04-01 20:56:34.000000000,2017-08-21 22:04:43.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 12081}, {'_account_id': 12356}, {'_account_id': 13997}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-04-01 20:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c67e640fd25c03d4e6f1d1155e916f7eaf4f694c', 'message': ""WIP: Add a check to pxe driver for TFTP service\n\nthis adds a check to the pxe driver for TFTP service. In it's\ncurrent state the check only logges a warning.\n\nChange-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568\n""}, {'number': 2, 'created': '2015-04-02 18:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75d2c8a117a31238efb01d13ef4694e73bc9293d', 'message': ""WIP: Add a check to pxe driver for TFTP service\n\nThis patch adds a check to the pxe driver for TFTP service. The\nPXE driver will now attempt to download a file from the configured\nTFTP server, In it's current form the check only logs a warning.\n\nI would like to get feed back as to the approach this patch is taking.\n\nChange-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568\nCloses-Bug: #1282836\n""}, {'number': 3, 'created': '2015-04-02 18:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5bba71bc8f2e337abbcd8180b826f809c53518db', 'message': ""WIP: Add a check to pxe driver for TFTP service\n\nThis patch adds a check to the pxe driver for TFTP service. The\nPXE driver will now attempt to download a file from the configured\nTFTP server, In it's current form the check only logs a warning.\n\nI would like to get feed back as to the approach this patch is taking.\n\nChange-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568\nCloses-Bug: #1282836\n""}, {'number': 4, 'created': '2015-04-02 20:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d814c97c38ce8abca26d110ca1691a469317369', 'message': ""WIP: Add a check to pxe driver for TFTP service\n\nThis patch adds a check to the pxe driver for TFTP service. The\nPXE driver will now attempt to download a file from the configured\nTFTP server, In it's current form the check only logs a warning.\n\nI would like to get feed back as to the approach this patch is taking.\n\nChange-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568\nCloses-Bug: #1282836\n""}, {'number': 5, 'created': '2015-04-02 21:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb0bd56c179bb264b56ece05daaa8f75c09b9e92', 'message': ""Add a check to pxe driver for TFTP service\n\nThis patch adds a check to the pxe driver for TFTP service. The\nPXE driver will now attempt to download a file from the configured\nTFTP server, In it's current form the check only logs a warning.\n\nChange-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568\nCloses-Bug: #1282836\n""}, {'number': 6, 'created': '2015-04-16 19:55:25.000000000', 'files': ['ironic/drivers/modules/pxe.py', 'ironic/drivers/modules/tftp_util.py', 'ironic/tests/drivers/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/535b63c3248e9575f58c01a4c87c5d72d65298c8', 'message': ""Add a check to pxe driver for TFTP service\n\nThis patch adds a check to the pxe driver for TFTP service. The\nPXE driver will now attempt to download a file from the configured\nTFTP server, In it's current form the check only logs a warning.\nThis is ment to be a pre-flight style check to inform operators of\nsimple configuration errors upon startup and is not ment to replace\nrun time error handling.\n\nChange-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568\nCloses-Bug: #1282836\n""}]",50,169918,535b63c3248e9575f58c01a4c87c5d72d65298c8,46,11,6,5805,,,0,"Add a check to pxe driver for TFTP service

This patch adds a check to the pxe driver for TFTP service. The
PXE driver will now attempt to download a file from the configured
TFTP server, In it's current form the check only logs a warning.
This is ment to be a pre-flight style check to inform operators of
simple configuration errors upon startup and is not ment to replace
run time error handling.

Change-Id: I69411a089e2ce2f9f010ebc98bb2eff53cfbd568
Closes-Bug: #1282836
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/169918/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe.py', 'ironic/common/tftp_util.py']",2,c67e640fd25c03d4e6f1d1155e916f7eaf4f694c,bug/1282836,"from struct import pack from struct import unpack import fcntl import select import socket import string import time import termios from ironic.common import exception from ironic.openstack.common import log as logging RRQ = 1 DATA = 3 ACK = 4 ERROR = 5 MAX_PACKET_SIZE = 512 + 4 LOG = logging.getLogger(__name__) class TftpBase: """"""Tftp base class."""""" def __init__(self, name): self.name = name self.mode = ""octet"" self.tftpInitialPort = 69 self.resendTimeout = 5 self.maxTimeout = self.resendTimeout * 2 self.trace = 0 self.segmentSize = 512 self.state = ""start"" self.done = 0 self.serverPort = None self.needAck = 0 self.needResend = 0 self.lastSegment = 0 self.blockNumber = 0 self.lastPacket = None self.lastPacketTime = None self.lastResendTime = None def makeRequestPacket(self, opcode, name, mode): lst = [pack("">H"", opcode), name, ""\0"", mode, ""\0""] return string.join(lst, """") def makeAckPacket(self): return pack("">HH"", ACK, self.blockNumber) def getNextPacket(self): now = time.time() if self.needResend: self.needResend = 0 if self.trace: self.dumpPacket(""sent"", self.lastPacket) self.lastResendTime = now return self.lastPacket if self.needAck: return None packet = self.getProtocolPacket() self.lastPacket = packet self.lastPacketTime = now self.lastResendTime = now self.needAck = 1 if self.trace: self.dumpPacket(""sent"", packet) return packet def handlePacket(self, packet, addr): if packet is None: self.handleTimeout() return (host, port) = addr if self.serverPort is None: self.serverPort = port elif port != self.serverPort: # Ignore packet sent from wrong UDP port. This can happen # if the initial request packet is retransmitted because # of a timeout. The RFC says that it is supposed to reply # with an ERROR packet back to that UDP port. The BSD # version accepts the packet and uses that UDP port as the # new destination for sending packets. return if self.trace: self.dumpPacket(""received"", packet) self.handleProtocolPacket(packet, addr) def getTimeout(self): if self.done: return 0 now = time.time() nextTime = min( self.lastPacketTime + self.maxTimeout, self.lastResendTime + self.resendTimeout) return max(0, nextTime - now) def handleTimeout(self): now = time.time() if now >= self.lastPacketTime + self.maxTimeout: LOG.error(""Tftp operation has timed out"") self.done = 1 raise Exception(""TFTP timeout"") else: self.needResend = 1 def getServerPortNumber(self): if self.serverPort is None: return self.tftpInitialPort return self.serverPort def isDone(self): return self.done def dumpPacket(self, where, data): limit = 16 text = string.join(map(lambda x: ""%02X"" % ord(x), data[:limit]), "" "") if len(data) > limit: text = text + (""... (%d bytes)"" % len(data)) LOG.debug(""%-10s %s"" % (where, text)) def handleErrorPacket(self, packet): code = 0 if len(packet) >= 4: (code,) = unpack("">H"", packet[2:4]) message = string.replace(packet[4:], ""\0"", """") if self.trace: LOG.debug(""Error code %d: %s"" % (code, message)) self.done = 1 raise Exception(message) class TftpProtocol(TftpBase): """"""Tftp download class."""""" def __init__(self, name): apply(TftpBase.__init__, (self, name)) def getProtocolPacket(self): if self.state == ""start"": packet = self.makeRequestPacket(RRQ, self.name, self.mode) self.state = ""data"" elif self.state == ""data"": packet = self.makeAckPacket() self.blockNumber = self.blockNumber + 1 if self.lastSegment: self.done = 1 return packet def handleProtocolPacket(self, packet, addr): if len(packet) < 2: return (rxOpcode,) = unpack("">H"", packet[:2]) if rxOpcode == ERROR: self.handleErrorPacket(packet) return if rxOpcode != DATA or len(packet) < 4: return (rxBlock,) = unpack("">H"", packet[2:4]) data = packet[4:] if rxBlock != self.blockNumber & 0xffff: # On an error, try to synchronize # both sides. j = self.flushPacketInputQueue() if j > 0 and self.trace: LOG.debug(""discarded %d packets"" % j) if rxBlock == (self.blockNumber - 1) & 0xffff: self.needResend = 1 return self.writeData(data) self.needAck = 0 if len(data) < self.segmentSize: self.lastSegment = 1 class SocketIO: """"""Socket handler."""""" def __init__(self, remoteHost): self.sendAddr = (remoteHost, 0) def sendPacket(self, packet): self.sock.sendto(packet, self.sendAddr) def recvPacket(self, timeout): now = time.time() deadline = now + timeout while 1: (sr, sw, se) = select.select([self.sock], [], [], deadline - now) if self.sock not in sr: return (None, None) (packet, addr) = self.sock.recvfrom(MAX_PACKET_SIZE) if len(packet) > 0: return (packet, addr) now = time.time() def transferLoop(self): while not self.isDone(): packet = self.getNextPacket() if packet: self.sendAddr = (self.sendAddr[0], self.getServerPortNumber()) self.sendPacket(packet) timeout = self.getTimeout() (packet, addr) = self.recvPacket(timeout) self.handlePacket(packet, addr) def transfer(self): self.sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) self.sock.bind(("""", 0)) self.sock.setblocking(0) self.transferLoop() def flushPacketInputQueue(self): # Attempt to clear any packets that have been received by the # OS but not by this application. Of course we have no # control over any packets that might still be out there in a # router between the server and the client. j = 0 while 1: buf = pack(""i"", 0) buf = fcntl.ioctl(self.sock.fileno(), termios.FIONREAD, buf) (i,) = unpack(""i"", buf) if i == 0: break j = j + 1 junk = self.sock.recvfrom(MAX_PACKET_SIZE) return j class Download(SocketIO, TftpProtocol): def __init__(self, file, remoteHost, remoteFilename): SocketIO.__init__(self, remoteHost) apply(TftpProtocol.__init__, (self, remoteFilename)) self.file = file def writeData(self, data): return self.file.write(data) ",,252,0
openstack%2Fcharm-aodh~master~Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a,openstack/charm-aodh,master,Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a,Ensure SSL gets setup,MERGED,2017-08-18 23:32:11.000000000,2017-08-21 22:02:33.000000000,2017-08-21 22:02:33.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-18 23:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/4260435f03525dd4c1ace2898cc5f8d8cd64a2fb', 'message': 'Ensure SSL gets setup\n\nAs a part of the dualstack work it was discovered SSL was not getting\nsetup for aodh. Ensure that it does.\n\nChange-Id: Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a\n'}, {'number': 2, 'created': '2017-08-21 21:14:05.000000000', 'files': ['unit_tests/test_aodh_handlers.py', 'src/reactive/aodh_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a091a5abd7a154644bb5d5ab80b40334e403e5c1', 'message': 'Ensure SSL gets setup\n\nAs a part of the dualstack work it was discovered SSL was not getting\nsetup for aodh. Ensure that it does.\n\nChange-Id: Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a\n'}]",0,495454,a091a5abd7a154644bb5d5ab80b40334e403e5c1,15,3,2,20805,,,0,"Ensure SSL gets setup

As a part of the dualstack work it was discovered SSL was not getting
setup for aodh. Ensure that it does.

Change-Id: Ia4051b11dbf9cc09c730cc0c3b9dcc4867df8a7a
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/54/495454/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/aodh_handlers.py'],1,4260435f03525dd4c1ace2898cc5f8d8cd64a2fb,dualstack, aodh.configure_ssl(),,1,0
openstack%2Frally~master~I1a68c4003c604e4b318f838234e0b85d52507455,openstack/rally,master,I1a68c4003c604e4b318f838234e0b85d52507455,Pring task keys in more user-friendly way,MERGED,2017-08-18 17:46:36.000000000,2017-08-21 21:59:08.000000000,2017-08-21 21:59:08.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-08-18 17:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a43a611c0eaa9053ca54bfb6b96d3ceacb2e0713', 'message': 'Pring task keys in more user-friendly way\n\nChange-Id: I1a68c4003c604e4b318f838234e0b85d52507455\n'}, {'number': 2, 'created': '2017-08-21 12:39:01.000000000', 'files': ['rally/task/engine.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/63b435701165f9d64374be1ec314ba577ebaf3bd', 'message': 'Pring task keys in more user-friendly way\n\nChange-Id: I1a68c4003c604e4b318f838234e0b85d52507455\n'}]",1,495391,63b435701165f9d64374be1ec314ba577ebaf3bd,13,5,2,9545,,,0,"Pring task keys in more user-friendly way

Change-Id: I1a68c4003c604e4b318f838234e0b85d52507455
",git fetch https://review.opendev.org/openstack/rally refs/changes/91/495391/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/task/engine.py'],1,a43a611c0eaa9053ca54bfb6b96d3ceacb2e0713,task_results," workload_cfg = objects.Workload.format_workload_config(workload) LOG.info(""Running benchmark with key: \n"" "" name = %(name)s\n"" "" description = %(description)s\n"" "" position = %(position)s\n"" "" config = %(cfg)s"", {""name"": workload[""name""], ""description"": workload[""description""], ""position"": workload[""position""], ""cfg"": json.dumps(workload_cfg, indent=3)})"," # to make the log more readable, use OrderedDict key = collections.OrderedDict([ (""name"", workload[""name""]), (""description"", workload[""description""]), (""position"", workload[""position""]), (""config"", objects.Workload.format_workload_config(workload))]) LOG.info(""Running benchmark with key: \n%s"" % json.dumps(key, indent=2))",10,8
openstack%2Fopenstack-helm~master~I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab,openstack/openstack-helm,master,I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab,Gate: Heat functional test,MERGED,2017-08-11 00:06:17.000000000,2017-08-21 21:57:29.000000000,2017-08-21 21:46:40.000000000,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-08-11 00:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2815d23b3f2e46b799e489c598eb194805085ee3', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 2, 'created': '2017-08-11 02:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/583641ca741665197617e2caf26c4c3b65559ec5', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 3, 'created': '2017-08-11 19:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac9156a3b225a89714c722e4bc176a114572c92d', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 4, 'created': '2017-08-11 19:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c161888a0ee6e5fc6934fa44f3558182ed26fd01', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 5, 'created': '2017-08-11 19:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea860867112b6ebaf526f06d23e6b2681df5a115', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 6, 'created': '2017-08-11 19:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cffa9917a35037fac56dc41866dd90b204f22ac', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 7, 'created': '2017-08-11 19:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3dfd73d16a03c7b77036101da5bf29e8beddf623', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 8, 'created': '2017-08-11 21:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ca2e4bb05eafe8521b97d84aaf3faa070712ec2', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 9, 'created': '2017-08-11 22:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b116e9d0212f95fb8338028678a52ae963d80a2', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 10, 'created': '2017-08-11 22:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f9aa58089b4144740b4e27a9a5aef7e08030b49', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 11, 'created': '2017-08-11 22:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40d856ab44aeb0f15539c83821d8970598c53907', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 12, 'created': '2017-08-21 13:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f2fd24ba82848af88ebd40a285dfc59ee0cd649', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 13, 'created': '2017-08-21 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/14774df4199908d125e69eff5768413ca4bcce69', 'message': 'WIP: Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}, {'number': 14, 'created': '2017-08-21 18:56:50.000000000', 'files': ['tools/gate/launch-osh/armada.sh', 'tools/gate/helm_dry_run.sh', 'tools/gate/launch-osh/basic.sh', 'tools/gate/setup_gate_worker_nodes.sh', 'tools/gate/files/heat-subnet-pool-deployment.yaml', 'tools/gate/openstack/vm_cli_launch.sh', 'tools/gate/setup_gate.sh', 'tools/gate/provision_gate_worker_node.sh', 'tools/gate/vars.sh', 'tools/gate/files/heat-public-net-deployment.yaml', 'tools/gate/openstack/vm_heat_launch.sh', 'tools/gate/dump_logs.sh', 'tools/gate/launch-osh/common.sh', 'tools/gate/files/heat-basic-vm-deployment.yaml', 'tools/gate/kubeadm_aio.sh', 'tools/gate/openstack_aio_launch.sh', 'tools/gate/funcs/openstack.sh', 'tools/gate/openstack/network_launch.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff6e6d19f9f882776773bc8532c008c2e6c98f4f', 'message': 'Gate: Heat functional test\n\nThis PS adds a functional test of heat in the OSH gates, it also moves\nmost params to a seperate file - making config of the gate in non-zuul\nenvironments simpler.\n\nChange-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab\n'}]",0,492719,ff6e6d19f9f882776773bc8532c008c2e6c98f4f,71,4,14,23928,,,0,"Gate: Heat functional test

This PS adds a functional test of heat in the OSH gates, it also moves
most params to a seperate file - making config of the gate in non-zuul
environments simpler.

Change-Id: I37a1bc0dcc8000c5da8067a8d376c78f7cd6f7ab
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/492719/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/openstack_heat_launch.sh', 'tools/gate/setup_gate.sh', 'tools/gate/files/heat-basic-deployment.yaml', 'tools/gate/openstack_aio_launch.sh', 'tools/gate/funcs/openstack.sh', 'tools/gate/basic_launch.sh']",6,2815d23b3f2e46b799e489c598eb194805085ee3,tests/heat-functional,helm install --namespace=openstack ${WORK_DIR}/heat --name=heat kube_wait_for_pods openstack ${SERVICE_LAUNCH_TIMEOUT} , helm install --namespace=openstack ${WORK_DIR}/heat --name=heat,192,19
openstack%2Fironic~master~I9886c8d14dbe584fa01e5c7078711863c46af49e,openstack/ironic,master,I9886c8d14dbe584fa01e5c7078711863c46af49e,Remove log translations,ABANDONED,2017-03-23 11:56:08.000000000,2017-08-21 21:56:54.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 24828}, {'_account_id': 25510}]","[{'number': 1, 'created': '2017-03-23 11:56:08.000000000', 'files': ['ironic/drivers/modules/snmp.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7afa87c4ac946c0064926759f98c41decb448d9', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\nhttps://wiki.openstack.org/wiki/GitCommitMessages#Including_external_references\nhttps://bugs.launchpad.net/ironic/+bug/1674374\n\nChange-Id: I9886c8d14dbe584fa01e5c7078711863c46af49e\n'}]",0,449100,f7afa87c4ac946c0064926759f98c41decb448d9,10,7,1,25526,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html
https://wiki.openstack.org/wiki/GitCommitMessages#Including_external_references
https://bugs.launchpad.net/ironic/+bug/1674374

Change-Id: I9886c8d14dbe584fa01e5c7078711863c46af49e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/449100/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/snmp.py'],1,f7afa87c4ac946c0064926759f98c41decb448d9,remove_log_translation,"from ironic.common.i18n import _ LOG.warning(""SNMP PDU %(addr)s outlet %(outlet)s: "" ""unrecognised power state %(state)s."", LOG.warning(""Eaton Power SNMP PDU %(addr)s outlet %(outlet)s: "" ""unrecognised power state %(state)s."",","from ironic.common.i18n import _, _LW LOG.warning(_LW(""SNMP PDU %(addr)s outlet %(outlet)s: "" ""unrecognised power state %(state)s.""), LOG.warning(_LW(""Eaton Power SNMP PDU %(addr)s outlet %(outlet)s: "" ""unrecognised power state %(state)s.""),",5,5
openstack%2Frally~master~I26ab3baf186f89f976ed3305855b6a157eb3a17f,openstack/rally,master,I26ab3baf186f89f976ed3305855b6a157eb3a17f,[task engine] Remove redundant classes,MERGED,2017-08-18 17:46:36.000000000,2017-08-21 21:55:16.000000000,2017-08-21 21:55:16.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-08-18 17:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7af949ae6e678f31fb18c00d34fa46c89ad0da77', 'message': ""[task engine] Remove redundant classes\n\nFor workloads and subtasks we have 3 classes for representation in\npython. The classes from rally.task.engine do not have any benefit, so\nlet's remove  them.\n\nChange-Id: I26ab3baf186f89f976ed3305855b6a157eb3a17f\n""}, {'number': 2, 'created': '2017-08-21 12:32:24.000000000', 'files': ['rally/task/engine.py', 'tests/unit/common/objects/test_task.py', 'tests/unit/task/test_hook.py', 'rally/task/hook.py', 'tests/unit/task/test_engine.py', 'rally/common/objects/task.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/d1bc530ffbc95e0ecf36b10aca4fa5f4555c72b6', 'message': ""[task engine] Remove redundant classes\n\nFor workloads and subtasks we have 3 classes for representation in\npython. The classes from rally.task.engine do not have any benefit, so\nlet's remove  them.\n\nChange-Id: I26ab3baf186f89f976ed3305855b6a157eb3a17f\n""}]",2,495390,d1bc530ffbc95e0ecf36b10aca4fa5f4555c72b6,14,4,2,9545,,,0,"[task engine] Remove redundant classes

For workloads and subtasks we have 3 classes for representation in
python. The classes from rally.task.engine do not have any benefit, so
let's remove  them.

Change-Id: I26ab3baf186f89f976ed3305855b6a157eb3a17f
",git fetch https://review.opendev.org/openstack/rally refs/changes/90/495390/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/engine.py', 'tests/unit/common/objects/test_task.py', 'tests/unit/task/test_engine.py', 'rally/common/objects/task.py']",4,7af949ae6e678f31fb18c00d34fa46c89ad0da77,task_results,"import collections def add_subtask(self, title, description=None, context=None): return Subtask(self.task[""uuid""], title=title, description=description, context=context) def __init__(self, task_uuid, title, description=None, context=None): self.subtask = db.subtask_create(task_uuid, title=title, description=description, context=context) return collections.OrderedDict([ (""args"", workload[""args""]), (""context"", workload[""context""]), (""runner"", workload[""runner""]), (""sla"", workload[""sla""]), (""hooks"", [r[""config""] for r in workload[""hooks""]])])"," def add_subtask(self, **subtask): return Subtask(self.task[""uuid""], **subtask) def __init__(self, task_uuid, **attributes): self.subtask = db.subtask_create(task_uuid, **attributes) return {""args"": workload[""args""], ""runner"": workload[""runner""], ""context"": workload[""context""], ""sla"": workload[""sla""], ""hooks"": [r[""config""] for r in workload[""hooks""]]}",253,334
openstack%2Fironic~master~I4af53977fae0ec83b391a86c48bb7dd7ca72e50e,openstack/ironic,master,I4af53977fae0ec83b391a86c48bb7dd7ca72e50e,Add missing word to comment,ABANDONED,2017-04-22 02:47:29.000000000,2017-08-21 21:54:26.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 11878}, {'_account_id': 13689}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-04-22 02:47:29.000000000', 'files': ['ironic/objects/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8409cf5ba594a1b2a199f49097b520cdf2fa850b', 'message': 'Add missing word to comment\n\nCRUD is an abbreviation for create, retrieve, update and delete\nSo add ""retrieve"" to the comment\n\nChange-Id: I4af53977fae0ec83b391a86c48bb7dd7ca72e50e\n'}]",2,459035,8409cf5ba594a1b2a199f49097b520cdf2fa850b,12,10,1,25316,,,0,"Add missing word to comment

CRUD is an abbreviation for create, retrieve, update and delete
So add ""retrieve"" to the comment

Change-Id: I4af53977fae0ec83b391a86c48bb7dd7ca72e50e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/459035/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/objects/node.py'],1,8409cf5ba594a1b2a199f49097b520cdf2fa850b,," """"""Notification emitted when ironic creates, updates, retrieve or deletes a node. """""" """"""Payload schema for when ironic creates, updates, retrieve or deletes a node. """""" "," """"""Notification emitted when ironic creates, updates or deletes a node."""""" """"""Payload schema for when ironic creates, updates or deletes a node.""""""",10,2
openstack%2Fironic~master~Idc4e271ff2db20cce2134cefe5e44f82b926bdd6,openstack/ironic,master,Idc4e271ff2db20cce2134cefe5e44f82b926bdd6,Remove log translations,ABANDONED,2017-03-23 10:29:57.000000000,2017-08-21 21:51:08.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 9251}, {'_account_id': 13295}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 24828}, {'_account_id': 25395}, {'_account_id': 25524}]","[{'number': 1, 'created': '2017-03-23 10:29:57.000000000', 'files': ['ironic/drivers/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1000983d9e086c77c55588fb8a5fac867e99e838', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\nhttps://wiki.openstack.org/wiki/GitCommitMessages#Including_external_references\nhttps://bugs.launchpad.net/ironic/+bug/1674374\n\nChange-Id: Idc4e271ff2db20cce2134cefe5e44f82b926bdd6\n'}]",0,449053,1000983d9e086c77c55588fb8a5fac867e99e838,10,10,1,25510,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html
https://wiki.openstack.org/wiki/GitCommitMessages#Including_external_references
https://bugs.launchpad.net/ironic/+bug/1674374

Change-Id: Idc4e271ff2db20cce2134cefe5e44f82b926bdd6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/449053/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/base.py'],1,1000983d9e086c77c55588fb8a5fac867e99e838,remove_log_translation,"from ironic.common.i18n import _ LOG.warning('Got heartbeat message from node %(node)s, but ' 'the driver %(driver)s does not support heartbeating', passthru_logmessage = 'vendor_passthru failed with method %s' LOG.warning('The network interface %s should be updated to ' 'implement the port_changed function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike', LOG.warning('The network interface %s should be updated to ' 'implement the portgroup_changed function. ' 'Falling back to default implementation, this ' 'behaviour will be removed in Pike', LOG.warning('The network interface %s should be updated to ' 'implement the vif_attach function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike', LOG.warning('The network interface %s should be updated to ' 'implement the vif_detach function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike', LOG.warning('The network interface %s should be updated to ' 'implement the vif_list function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike', LOG.warning('The network interface %s should be updated to ' 'implement the get_current_vif function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike',","from ironic.common.i18n import _, _LE, _LW LOG.warning(_LW('Got heartbeat message from node %(node)s, but ' 'the driver %(driver)s does not support heartbeating'), passthru_logmessage = _LE('vendor_passthru failed with method %s') LOG.warning(_LW('The network interface %s should be updated to ' 'implement the port_changed function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike'), LOG.warning(_LW('The network interface %s should be updated to ' 'implement the portgroup_changed function. ' 'Falling back to default implementation, this ' 'behaviour will be removed in Pike'), LOG.warning(_LW('The network interface %s should be updated to ' 'implement the vif_attach function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike'), LOG.warning(_LW('The network interface %s should be updated to ' 'implement the vif_detach function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike'), LOG.warning(_LW('The network interface %s should be updated to ' 'implement the vif_list function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike'), LOG.warning(_LW('The network interface %s should be updated to ' 'implement the get_current_vif function. Falling ' 'back to default implementation, this behaviour ' 'will be removed in Pike'),",28,28
openstack%2Fironic~master~Id8eb962854d994f8a23921d4195c7af1ffb00760,openstack/ironic,master,Id8eb962854d994f8a23921d4195c7af1ffb00760,Update proliantutils version for Pike release,MERGED,2017-06-29 05:42:31.000000000,2017-08-21 21:47:58.000000000,2017-08-19 11:47:39.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 7711}, {'_account_id': 10118}, {'_account_id': 10202}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 16635}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 22255}]","[{'number': 1, 'created': '2017-06-29 05:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/adc8193b52570c8040dfcb44f109a0fc3ebeb9cf', 'message': 'Update new proliantutils version to 2.3.0\n\nThis commit updates the proliantutils version required in Ironic\nto 2.3.0. This version of proliantutils includes support for\npreliminary Redfish, one-pass disk erase using SSA when sanitize\ndisk erase not supported, adds capability to check CPU\nVirtualization and NVDIMM_N availability.\n\nChange-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760\n'}, {'number': 2, 'created': '2017-08-11 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af132f7110d7413505cd46459d282f7ccf285db4', 'message': 'Update proliantutils version for Pike release\n\nThis commit updates the proliantutils version required in\nIronic to 2.4.0 for Pike release. This version of\nproliantutils adds Redfish support for all the existing APIs\nwith full backward compatibility. It also allows local_gb as\n0 (zero). Other features provided are one-pass disk erase using\nSSA when sanitize disk erase not supported, capability to check\nCPU Virtualization and NVDIMM_N availability.\n\nChange-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760\n'}, {'number': 3, 'created': '2017-08-11 21:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74cc034d7d8d7f7129de40be9374237c5aaf589d', 'message': 'Update proliantutils version for Pike release\n\nThis commit updates the proliantutils version required in\nIronic to 2.4.0 for Pike release. This version of\nproliantutils adds Redfish support for all the existing APIs\nwith full backward compatibility. It also allows local_gb as\n0 (zero). Other features provided are one-pass disk erase using\nSSA when sanitize disk erase not supported, capability to check\nCPU Virtualization and NVDIMM_N availability.\n\nChange-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760\n'}, {'number': 4, 'created': '2017-08-15 13:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71a5a0e2fc2b480a3bf8f31e9722ca5fa1dbcb1f', 'message': 'Update proliantutils version for Pike release\n\nThis commit updates the proliantutils version required in\nIronic to 2.4.0 for Pike release. This version of\nproliantutils adds support for Gen10 servers using Redfish\nprotocol. It also allows local_gb as 0 (zero) when no disk\ncould be discovered during inspection. Other features provided\nare one-pass disk erase using HPE SSA CLI when sanitize disk\nerase not supported.\n\nChange-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760\n'}, {'number': 5, 'created': '2017-08-15 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/074e06708a6159aa9e97a61ff02a4c6dae1f615b', 'message': 'Update proliantutils version for Pike release\n\nThis commit updates the proliantutils version required in\nIronic to 2.4.0 for Pike release. This version of\nproliantutils adds support for Gen10 servers using Redfish\nprotocol. It also allows local_gb as 0 (zero) when no disk\ncould be discovered during inspection. Other features provided\nare one-pass disk erase using HPE SSA CLI when sanitize disk\nerase not supported.\n\nChange-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760\n'}, {'number': 6, 'created': '2017-08-15 18:17:08.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'releasenotes/notes/ilo-update-proliantutils-version-fd41a7c2a27be735.yaml', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d8ca37a373796f354231c8a0f6370875912dcd2', 'message': 'Update proliantutils version for Pike release\n\nThis commit updates the proliantutils version required in\nIronic to 2.4.0 for Pike release. This version of\nproliantutils includes the following:\n\n  1. Support for Gen10 servers using Redfish protocol.\n  2. ``local_gb`` defaults to 0 (zero) when no disk could be\n     discovered during inspection.\n  3. Provides one-pass disk erase support using HPE SSA CLI when\n     sanitize disk erase not supported for Proliant hardware\n     manager in IPA.\n\nChange-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760\n'}]",34,478741,9d8ca37a373796f354231c8a0f6370875912dcd2,77,20,6,16635,,,0,"Update proliantutils version for Pike release

This commit updates the proliantutils version required in
Ironic to 2.4.0 for Pike release. This version of
proliantutils includes the following:

  1. Support for Gen10 servers using Redfish protocol.
  2. ``local_gb`` defaults to 0 (zero) when no disk could be
     discovered during inspection.
  3. Provides one-pass disk erase support using HPE SSA CLI when
     sanitize disk erase not supported for Proliant hardware
     manager in IPA.

Change-Id: Id8eb962854d994f8a23921d4195c7af1ffb00760
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/478741/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ilo-update-proliantutils-version-fd41a7c2a27be735.yaml', 'doc/source/drivers/ilo.rst', 'driver-requirements.txt']",3,adc8193b52570c8040dfcb44f109a0fc3ebeb9cf,update-proliantutils-version,proliantutils>=2.3.0,proliantutils>=2.2.1,9,3
openstack%2Fproject-config~master~I7b603aa0c12a46df441df2c084028a849beafe8d,openstack/project-config,master,I7b603aa0c12a46df441df2c084028a849beafe8d,Fix infra-docs issue with (openstack-)zuul-jobs,MERGED,2017-08-21 21:20:54.000000000,2017-08-21 21:39:53.000000000,2017-08-21 21:39:53.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 4146}]","[{'number': 1, 'created': '2017-08-21 21:20:54.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f497b850529d2e299a12150a3190e7bbbdb50d0', 'message': 'Fix infra-docs issue with (openstack-)zuul-jobs\n\nWe incorrectly published thes jobs into zuul docs location.\n\nChange-Id: I7b603aa0c12a46df441df2c084028a849beafe8d\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",2,495984,1f497b850529d2e299a12150a3190e7bbbdb50d0,9,3,1,4162,,,0,"Fix infra-docs issue with (openstack-)zuul-jobs

We incorrectly published thes jobs into zuul docs location.

Change-Id: I7b603aa0c12a46df441df2c084028a849beafe8d
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/495984/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,1f497b850529d2e299a12150a3190e7bbbdb50d0,, - openstack-zuul-jobs-infra-docs - zuul-jobs-infra-docs, - zuul-infra-docs - zuul-infra-docs,2,2
openstack%2Fcharm-swift-storage~stable%2F17.02~Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9,openstack/charm-swift-storage,stable/17.02,Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9,Sync stable charm-helpers into stable branch,MERGED,2017-08-10 03:27:35.000000000,2017-08-21 21:36:47.000000000,2017-08-21 21:36:47.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-10 03:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/86e1d5a531bdd5c173952b2aa9f942f9d91bf230', 'message': 'Sync stable charm-helpers into stable branch\n\nSync the stable charm-helpers into the stable branch in order\nto pick up the requisite change for running actions via amulet\ntests.\n\nChange-Id: Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9\nNeeded-By: I2d895741cb0528836a675deb6399005a5bf59ab5\n'}, {'number': 2, 'created': '2017-08-10 05:44:31.000000000', 'files': ['charmhelpers/contrib/hardening/templating.py', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/basic_deployment.py', 'charmhelpers/contrib/python/packages.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9f9c9896a6fd6a9143db61a20f3f25ca658b6577', 'message': 'Sync stable charm-helpers into stable branch\n\nSync the stable charm-helpers into the stable branch in order\nto pick up the requisite change for running actions via amulet\ntests.\n\nChange-Id: Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9\nNeeded-By: I2d895741cb0528836a675deb6399005a5bf59ab5\n'}]",0,492363,9f9c9896a6fd6a9143db61a20f3f25ca658b6577,13,3,2,8992,,,0,"Sync stable charm-helpers into stable branch

Sync the stable charm-helpers into the stable branch in order
to pick up the requisite change for running actions via amulet
tests.

Change-Id: Ia250f45b4f734f5a25c1deebbf6d7fa5303b6ad9
Needed-By: I2d895741cb0528836a675deb6399005a5bf59ab5
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/63/492363/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hardening/templating.py', 'tests/charmhelpers/contrib/amulet/utils.py', 'charmhelpers/contrib/python/packages.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templating.py']",6,86e1d5a531bdd5c173952b2aa9f942f9d91bf230,bug/1702039," apt_install('python-jinja2', fatal=True) apt_install('python-jinja2')"," if six.PY2: apt_install('python-jinja2', fatal=True) else: apt_install('python3-jinja2', fatal=True) if six.PY2: apt_install('python-jinja2') else: apt_install('python3-jinja2')",40,60
openstack%2Fironic~master~I6bc11b9f26b514e184ed62ff7c9fa672cc332279,openstack/ironic,master,I6bc11b9f26b514e184ed62ff7c9fa672cc332279,Optimize the link address,ABANDONED,2017-04-07 02:11:31.000000000,2017-08-21 21:19:23.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10206}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 14525}, {'_account_id': 19339}, {'_account_id': 22226}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-04-07 02:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/816f82c4c998ee7b5836968352cdb0df996b202b', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\n\nChange-Id: I6bc11b9f26b514e184ed62ff7c9fa672cc332279\n'}, {'number': 2, 'created': '2017-04-07 06:05:30.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b95fc961b5cc4e9e5822a312f8bd221d9aeeab14', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\n\nChange-Id: I6bc11b9f26b514e184ed62ff7c9fa672cc332279\n'}]",4,454425,b95fc961b5cc4e9e5822a312f8bd221d9aeeab14,17,9,2,23958,,,0,"Optimize the link address

Use https instead of http to ensure the safety without containing our
account/password information

Change-Id: I6bc11b9f26b514e184ed62ff7c9fa672cc332279
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/454425/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,816f82c4c998ee7b5836968352cdb0df996b202b,url_fix,.. image:: https://governance.openstack.org/badges/ironic.svg :target: https://governance.openstack.org/reference/tags/index.html* Documentation: https://docs.openstack.org/developer/ironic * Source: https://git.openstack.org/cgit/openstack/ironic * Bugs: https://bugs.launchpad.net/ironic* APIs: https://developer.openstack.org/api-ref/baremetal/index.htmlhttps://launchpad.net/ironichttps://docs.openstack.org/developer/ironic/dev/code-contribution-guide.html,.. image:: http://governance.openstack.org/badges/ironic.svg :target: http://governance.openstack.org/reference/tags/index.html* Documentation: http://docs.openstack.org/developer/ironic * Source: http://git.openstack.org/cgit/openstack/ironic * Bugs: http://bugs.launchpad.net/ironic* APIs: http://developer.openstack.org/api-ref/baremetal/index.htmlhttp://launchpad.net/ironichttp://docs.openstack.org/developer/ironic/dev/code-contribution-guide.html,8,8
openstack%2Fswift~master~I1700e997f4ae6fa1a7e68be6b97539a24046e80b,openstack/swift,master,I1700e997f4ae6fa1a7e68be6b97539a24046e80b,Retrieve encryption root secret from Barbican,MERGED,2016-09-02 12:39:00.000000000,2017-08-21 21:19:09.000000000,2017-08-21 21:19:09.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 1091}, {'_account_id': 1179}, {'_account_id': 7063}, {'_account_id': 7847}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9625}, {'_account_id': 10068}, {'_account_id': 11224}, {'_account_id': 12261}, {'_account_id': 12279}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 16046}, {'_account_id': 20988}]","[{'number': 1, 'created': '2016-09-02 12:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b57ccc7cdadd94576f40e5077594e6d85325da9', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://192.168.50.11:9311/v1/secrets/<key_id>   |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Barbican client directly (when using the\nv2 Identity API), or the Castellan library (when using the v3 API) to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests include one actual test that accesses Barbican, and several tests\nthat mock the Barbican calls in the new\nKeyMaster._get_key_from_barbican_vX() methods. The test that actually\naccesses Barbican is disabled by default, since it requires a Barbican\n(and Keystone) server to be set up, and the test needs to be configured\naccordingly.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 2, 'created': '2016-09-02 22:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0cd72f53ec1a342d6bc7130d30370a2abd6dcfa', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://192.168.50.11:9311/v1/secrets/<key_id>   |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Barbican client directly (when using the\nv2 Identity API), or the Castellan library (when using the v3 API) to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests include one actual test that accesses Barbican, and several tests\nthat mock the Barbican calls in the new\nKeyMaster._get_key_from_barbican_vX() methods. The test that actually\naccesses Barbican is disabled by default, since it requires a Barbican\n(and Keystone) server to be set up, and the test needs to be configured\naccordingly.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 3, 'created': '2016-09-03 05:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/87ac41549fc5e2f71f48e89808789a7ddf2932ef', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://192.168.50.11:9311/v1/secrets/<key_id>   |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Barbican client directly (when using the\nv2 Identity API), or the Castellan library (when using the v3 API) to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests include one actual test that accesses Barbican, and several tests\nthat mock the Barbican calls in the new\nKeyMaster._get_key_from_barbican_vX() methods. The test that actually\naccesses Barbican is disabled by default, since it requires a Barbican\n(and Keystone) server to be set up, and the test needs to be configured\naccordingly.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 4, 'created': '2016-09-06 13:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d9997e0c8d1a8aedbfd9b4ba7443923c2db562bd', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://192.168.50.11:9311/v1/secrets/<key_id>   |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Barbican client directly (when using the\nv2 Identity API), or the Castellan library (when using the v3 API) to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests include one actual test that accesses Barbican, and several tests\nthat mock the Barbican calls in the new\nKeyMaster._get_key_from_barbican_vX() methods. The test that actually\naccesses Barbican is disabled by default, since it requires a Barbican\n(and Keystone) server to be set up, and the test needs to be configured\naccordingly.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 5, 'created': '2016-09-13 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c30f1bec3ef51fddadfb3a205372e09198351422', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://192.168.50.11:9311/v1/secrets/<key_id>   |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Barbican client directly (when using the\nv2 Identity API), or the Castellan library (when using the v3 API) to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests include one actual test that accesses Barbican, and several tests\nthat mock the Barbican calls in the new\nKeyMaster._get_key_from_barbican_vX() methods. The test that actually\naccesses Barbican is disabled by default, since it requires a Barbican\n(and Keystone) server to be set up, and the test needs to be configured\naccordingly.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 6, 'created': '2016-09-22 22:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d19d4bc57d706b1436e3daf0e3be7bfc307f57ec', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://192.168.50.11:9311/v1/secrets/<key_id>   |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe imports related to retrieving the root encryption secret from an\nexternal key management system are performed in the corresponding\nfunction, which allows system with the root encryption secret stored\nin a file to omit the barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbenefician for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 7, 'created': '2016-11-07 15:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/252064b10b06ec5e9b10b24cacf958525c11fb78', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. In the proxy-server.conf file, add a pointer to the\nkeymaster.conf file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, add the following:\n\n    [keymaster]\n    keymaster_config_type = external_kms\n\n    [external_kms]\n    external_kms_type = barbican\n\n    [barbican]\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://192.168.50.11:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the keymaster.conf\nfile, instead of using e.g., configuration information from\n[filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe imports related to retrieving the root encryption secret from an\nexternal key management system are performed in the corresponding\nfunction, which allows system with the root encryption secret stored\nin a file to omit the barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbenefician for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 8, 'created': '2016-11-08 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee8918e7c16edf2196985ac76c518bbc0be9d7f5', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe imports related to retrieving the root encryption secret from an\nexternal key management system are performed in the corresponding\nfunction, which allows system with the root encryption secret stored\nin a file to omit the barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbenefician for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 9, 'created': '2016-11-21 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a225279796336faa3abd0396b2e509b586b8c654', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe imports related to retrieving the root encryption secret from an\nexternal key management system are performed in the corresponding\nfunction, which allows system with the root encryption secret stored\nin a file to omit the barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbenefician for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 10, 'created': '2016-11-21 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4c293883b19e2d267628e7090d130b5593de643a', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:keymaster]\n    use = egg:swift#keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe imports related to retrieving the root encryption secret from an\nexternal key management system are performed in the corresponding\nfunction, which allows system with the root encryption secret stored\nin a file to omit the barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbenefician for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 11, 'created': '2016-11-21 14:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc6ee818d0684cc630e697874402f9c2c0806aa6', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KmsKeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 12, 'created': '2016-11-21 19:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee4e3150c57a8e8c04cfe3d86c5ff191ca3d1e89', 'message': 'WIP: Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KmsKeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 13, 'created': '2016-11-24 13:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58b089ef496567b5935d2508c5f8ff83a6df0f74', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KmsKeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 14, 'created': '2016-11-28 15:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37ebf963daf3bca921ec3fe59d47366d61df16b7', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KmsKeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 15, 'created': '2016-11-29 11:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f9b178f9b29d732728b86c1d48923add30f2d941', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in Barbican\nbefore it can be used by the KmsKeyMaster, e.g., using the following\ncommand to store the current root secret in Barbican:\n\n$ openstack secret store --name swift_root_secret --payload \\\n  <existing_root_secret> --secret-type opaque --payload-content-type \\\n  ""text/plain"" --algorithm aes --bit-length 256 --mode cbc\n+---------------+-------------------------------------------------+\n| Field         | Value                                           |\n+---------------+-------------------------------------------------+\n| Secret href   | http://barbicanhost:9311/v1/secrets/<key_id>    |\n| Name          | swift_root_secret                               |\n| Created       | None                                            |\n| Status        | None                                            |\n| Content types | {u\'default\': u\'text/plain\'}                     |\n| Algorithm     | aes                                             |\n| Bit length    | 256                                             |\n| Secret type   | opaque                                          |\n| Mode          | cbc                                             |\n| Expiration    | None                                            |\n+---------------+-------------------------------------------------+\n\nAlternatively, a new, random root secret can be generated by replacing\n""<existing_root_secret>"" in the previous command with\n""$(openssl rand -base64 32)"". Set the barbican_key_id value in the\n/etc/swift/keymaster.conf file with the <key_id> from the output of\nthe ""openstack secret store"" command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 16, 'created': '2016-11-30 13:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/864515b12024f405ad8cde5a3089db67b3339b21', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the `proxy-server.conf` file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes \\\n    --mode ctr --secret-type symmetric --payload <existing_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the `keymaster.conf` file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 17, 'created': '2016-11-30 21:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b857e2ac2016a5cfbced01c5bcfbc1f6e378fb8', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swift\n    barbican_password = swift\n    barbican_project_name = service\n    barbican_auth_url = http://keystonehost:5000/v3\n\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the `proxy-server.conf` file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes \\\n    --mode ctr --secret-type symmetric --payload <existing_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the `keymaster.conf` file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 18, 'created': '2016-12-20 15:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/046934e153b7cd6833aab440f1443dbf5e9a6943', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swiftenc\n    barbican_password = swiftenc\n    barbican_project_name = swiftenc\n    barbican_auth_url = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the `proxy-server.conf` file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes \\\n    --mode ctr --secret-type symmetric --payload <existing_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the `keymaster.conf` file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nThe BarbicanKeyMaster class parses some parameters specific to Barbican\nand passes them to Castellan. If these parameters are not used, then\nthe more generic KmsKeyMaster class can also be used directly to\nretrieve the encryption root secret from a Barbican KMS.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican.py file. The unit\ntests mock the keystone and castellan related calls, which makes it\npossible for requirements.txt and test-requirements.txt to omit\ncastellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 19, 'created': '2016-12-21 09:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3c25051b74fcc1e0c60bb0b9a2ec0cac621c1cac', 'message': 'Storing encryption root secret in Barbican\n\nThis patch adds support for storing the encryption root secret in an\nexternal key management system. In practice, this is currently limited\nto Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file, or in the /etc/swift/proxy-server.conf file\ndirectly, add the following:\n\n    [keymaster]\n    keymaster_config_type = barbican\n\n    barbican_key_id = <key_id>\n    barbican_username = swiftenc\n    barbican_password = swiftenc\n    barbican_project_name = swiftenc\n    barbican_auth_url = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the `proxy-server.conf` file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes \\\n    --mode ctr --secret-type symmetric --payload <existing_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the `keymaster.conf` file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'barbican_username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nThe BarbicanKeyMaster class parses some parameters specific to Barbican\nand passes them to Castellan. If these parameters are not used, then\nthe more generic KmsKeyMaster class can also be used directly to\nretrieve the encryption root secret from a Barbican KMS.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican_keymaster.py file.\nThe unit tests mock the keystone and castellan related calls, which\nmakes it possible for requirements.txt and test-requirements.txt to\nomit castellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 20, 'created': '2017-01-10 10:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6c4367bdde22715ab2e14f8f89c5416d213adf03', 'message': 'Retrieve encryption root secret in Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file pointed to using keymaster_config_path from\nproxy-server.conf, add the following:\n\n    [kms_keymaster]\n    key_id = <key_id>\n    username = swiftenc\n    password = swiftenc\n    project_name = swiftenc\n    auth_endpoint = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the proxy-server.conf file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes --mode ctr \\\n    --secret-type symmetric --payload <base64_encoded_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the keymaster.conf file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nThe BarbicanKeyMaster class parses some parameters specific to Barbican\nand passes them to Castellan. If these parameters are not used, then\nthe more generic KmsKeyMaster class can also be used directly to\nretrieve the encryption root secret from a Barbican KMS.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican_keymaster.py file.\nThe unit tests mock the keystone and castellan related calls, which\nmakes it possible for requirements.txt and test-requirements.txt to\nomit castellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 21, 'created': '2017-01-10 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc52cf2526000dd8b3bcaf09ae5a3283ab1290ed', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file pointed to using keymaster_config_path from\nproxy-server.conf, add the following:\n\n    [kms_keymaster]\n    key_id = <key_id>\n    username = swiftenc\n    password = swiftenc\n    project_name = swiftenc\n    auth_endpoint = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the proxy-server.conf file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes --mode ctr \\\n    --secret-type symmetric --payload <base64_encoded_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the keymaster.conf file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nThe BarbicanKeyMaster class parses some parameters specific to Barbican\nand passes them to Castellan. If these parameters are not used, then\nthe more generic KmsKeyMaster class can also be used directly to\nretrieve the encryption root secret from a Barbican KMS.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_barbican_keymaster.py file.\nThe unit tests mock the keystone and castellan related calls, which\nmakes it possible for requirements.txt and test-requirements.txt to\nomit castellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 22, 'created': '2017-01-10 13:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df7a670aa9d5c111e38e66f2903749d4dd56a9e8', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file pointed to using keymaster_config_path from\nproxy-server.conf, add the following:\n\n    [kms_keymaster]\n    key_id = <key_id>\n    username = swiftenc\n    password = swiftenc\n    project_name = swiftenc\n    auth_endpoint = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the proxy-server.conf file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes --mode ctr \\\n    --secret-type symmetric --payload <base64_encoded_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the keymaster.conf file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_kms_keymaster.py file.\nThe unit tests mock the keystone and castellan related calls, which\nmakes it possible for requirements.txt and test-requirements.txt to\nomit castellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 23, 'created': '2017-01-17 08:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d66caa24e1153e6bce39a51b0924620eb9415b09', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file pointed to using keymaster_config_path from\nproxy-server.conf, add the following:\n\n    [kms_keymaster]\n    key_id = <key_id>\n    username = swiftenc\n    password = swiftenc\n    project_name = swiftenc\n    auth_endpoint = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the proxy-server.conf file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes --mode ctr \\\n    --secret-type symmetric --payload <base64_encoded_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the keymaster.conf file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_kms_keymaster.py file.\nThe unit tests mock the keystone and castellan related calls, which\nmakes it possible for requirements.txt and test-requirements.txt to\nomit castellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 24, 'created': '2017-02-23 18:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7cdc62e6cafe3d6999c5bc5a5dd32f4d7dda3bad', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nConfiguration\n=============\nThe configuration is done in one of two places: the\n/etc/swift/proxy-server.conf file, and the /etc/swift/keymaster.conf\nfile. If an external /etc/swift/keymaster.conf configuration file is\nused, add a pointer to the file instead of the root secret itself:\n\n    [filter:kms_keymaster]\n    use = egg:swift#kms_keymaster\n    #encryption_root_secret = <existing_root_secret>\n    keymaster_config_path = /etc/swift/keymaster.conf\n\nIn the keymaster.conf file pointed to using keymaster_config_path from\nproxy-server.conf, add the following:\n\n    [kms_keymaster]\n    key_id = <key_id>\n    username = swiftenc\n    password = swiftenc\n    project_name = swiftenc\n    auth_endpoint = http://keystonehost:5000/v3\n\nFrom a security point of view, using different credentials and a\ndifferent project than the general service project is recommended.\nThe encryption root secret shall be created and stored in the external\nkey management system before it can be used by the keymaster. It shall\nbe stored as a symmetric key, with content type\n""application/octet-stream"", algorithm AES, and bit length 256. The\nfollowing command can be user to store the currently configured\nencryption root secret from the proxy-server.conf file in Barbican:\n\n    openstack secret store --name swift_root_secret --bit-length 256 \\\n    --payload-content-type=""application/octet-stream"" \\\n    --payload-content-encoding=""base64"" --algorithm aes --mode ctr \\\n    --secret-type symmetric --payload <base64_encoded_root_secret>\n\nAlternatively, the existing root secret can also be stored in Barbican\nusing curl. Note that the credentials used to store the secret in\nBarbican shall be the same ones that the proxy server uses to retrieve\nthe secret, i.e., the ones configured in the keymaster.conf file.\n\nInstead of using an existing root secret, Barbican can also be asked to\ngenerate a new root secret:\n\n    openstack secret order create --name swift_root_secret \\\n    --payload-content-type=""application/octet-stream"" --algorithm aes \\\n    --bit-length 256 --mode ctr key\n\nThe order can then be retrieved using ``openstack order get``, and once\nthe order completes successfully, the output will show the key id of the\ngenerated root secret. As for storing an existing secret, and order can\nalso be created using curl. Keys currently stored in Barbican can be\nlisted using the ``openstack secret list`` command.\n\nMake sure to store the secret in Barbican using the credentials that\nthe proxy server will later be using to access the secret, i.e., the\nones configured using \'username\' etc.\n\nDesign and implementation details\n=================================\nThe KmsKeyMaster uses the Castellan library and the v3 Identity API to\ncommunicate with Barbican. It also uses the explicitly configured\nusername and password (and project name etc.) from the\n/etc/proxy-server.conf file, or the file pointed to using the\nkeymaster_config_path configuration option in the /etc/proxy-server.conf\nfile. In particular, the KmsKeyMaster does not use the configuration\ninformation from [filter:authtoken] in the /etc/proxy-server.conf file.\n\nFor the proxy server, reading the root secret directly from the\nproxy-server.conf file, from the keymaster.conf file pointed to\nfrom the proxy-server.conf file, or from Barbican, are all functionally\nequivalent. In case reading the root secret from Barbican fails, the\nproxy server will not start up. If the root secret is retrieved\nsuccessfully, it is cached in the proxy server.\n\nThe KmsKeyMaster is implemented as a child class to the original\nKeyMaster class. The imports related to retrieving the root encryption\nsecret from an external key management system are performed in the child\nclass, which allows system with the root encryption secret stored in a\nfile to continue using the original KeyMaster class, and therefore omit\nthe barbican and castellan related dependencies.\n\nTests\n=====\nUnit tests have been added in the\ntest/unit/common/middleware/crypto/test_kms_keymaster.py file.\nThe unit tests mock the keystone and castellan related calls, which\nmakes it possible for requirements.txt and test-requirements.txt to\nomit castellan and barbican, and their further dependencies. This is\nbeneficial for anyone wanting to run regular tests, but for running\nan actual system with a root encryption secret in an external key\nmanagement system, the dependencies have to be manually installed.\n\nThe test.functional.mock_swift_key_manager.MockSwiftKeyManager key\nmanager can be used for functional tests while still avoiding to set\nup and configure keystone and barbican services.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 25, 'created': '2017-04-21 11:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/39534cf9b9ff26b8b217d14c24b9e0df63c558d3', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 26, 'created': '2017-04-21 21:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5e9108ae445ea809f520ad896c16e7fb2986e592', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 27, 'created': '2017-07-07 15:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/35d6137d152143e7bbe802406b894e0c8f8f807c', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 28, 'created': '2017-07-10 07:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a8fa7373dcdbe784aa1449f389f4cc475e308a30', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 29, 'created': '2017-07-24 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a0105767b84d25d7fd5be82b3e8f9f1279376bd2', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 30, 'created': '2017-08-02 10:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2182022043d3e72f4b32ab9681109f9aa9f4bb3', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}, {'number': 31, 'created': '2017-08-02 15:49:28.000000000', 'files': ['etc/keymaster.conf-sample', 'requirements.txt', 'swift/common/middleware/crypto/keymaster.py', 'doc/source/overview_encryption.rst', 'etc/proxy-server.conf-sample', 'swift/common/middleware/crypto/kms_keymaster.py', 'test/unit/common/middleware/crypto/test_keymaster.py', 'test/unit/common/middleware/crypto/test_kms_keymaster.py', 'setup.cfg', 'test/functional/mock_swift_key_manager.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/77bd74da0971b0cb7c415bbe2c6f506f3cdc666d', 'message': 'Retrieve encryption root secret from Barbican\n\nThis patch adds support for retrieving the encryption root secret from\nan external key management system. In practice, this is currently\nlimited to Barbican.\n\nChange-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b\n'}]",293,364878,77bd74da0971b0cb7c415bbe2c6f506f3cdc666d,154,17,31,20988,,,0,"Retrieve encryption root secret from Barbican

This patch adds support for retrieving the encryption root secret from
an external key management system. In practice, this is currently
limited to Barbican.

Change-Id: I1700e997f4ae6fa1a7e68be6b97539a24046e80b
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/364878/23 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keymaster.conf-sample', 'test/unit/common/middleware/crypto/test_barbican.py', 'doc/source/overview_encryption.rst', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/crypto/crypto_utils.py', 'test/unit/common/middleware/crypto/crypto_helpers.py']",6,8b57ccc7cdadd94576f40e5077594e6d85325da9,keymaster-barbican,"from swift.common.middleware.crypto.crypto_utils import Crypto, \ CRYPTO_CONFIG_EXTERNAL_KMS, CRYPTO_EXTERNAL_KMS_TYPE_BARBICANTEST_KEYMASTER_BARBICAN_V2_CONF = { 'keymaster_config_path': 'PATH_TO_KEYMASTER_CONFIG_FILE', 'keymaster_config_type': CRYPTO_CONFIG_EXTERNAL_KMS, 'external_kms_type': CRYPTO_EXTERNAL_KMS_TYPE_BARBICAN, 'barbican_key_id': 'valid_barbican_key_id-abcdefg-123456', 'barbican_username': 'barbicanuser', 'barbican_password': 'barbicanpass', 'barbican_project_name': 'barbicanproject', 'barbican_auth_url': 'barbicanauthurlv2' } TEST_KEYMASTER_BARBICAN_V3_CONF = { 'keymaster_config_path': 'PATH_TO_KEYMASTER_CONFIG_FILE', 'keymaster_config_type': CRYPTO_CONFIG_EXTERNAL_KMS, 'external_kms_type': CRYPTO_EXTERNAL_KMS_TYPE_BARBICAN, 'barbican_key_id': 'valid_barbican_key_id-abcdefg-123456', 'barbican_username': 'barbicanuser', 'barbican_password': 'barbicanpass', 'barbican_project_name': 'barbicanproject', 'barbican_auth_url': 'barbicanauthurlv3', 'barbican_project_domain_name': 'default', 'barbican_user_domain_name': 'default', 'barbican_endpoint': 'BARBICAN_ENDPOINT_URL', 'barbican_api_version': 'vSomething' }",from swift.common.middleware.crypto.crypto_utils import Crypto,1431,4
openstack%2Fopenstack-ansible-ops~master~I9243417ac1c53f24acbad65ff08dd42941341c74,openstack/openstack-ansible-ops,master,I9243417ac1c53f24acbad65ff08dd42941341c74,Add missing dependencies for pyldap,MERGED,2017-08-21 18:12:32.000000000,2017-08-21 21:11:06.000000000,2017-08-21 21:11:06.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 14552}]","[{'number': 1, 'created': '2017-08-21 18:12:32.000000000', 'files': ['leap-upgrades/lib/functions.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8ef0c3c993b35bf9b2ac789a4d54ed7acc9650d0', 'message': 'Add missing dependencies for pyldap\n\nThe venv fails to build without the sasl and ldap headers\n\nChange-Id: I9243417ac1c53f24acbad65ff08dd42941341c74\n'}]",0,495947,8ef0c3c993b35bf9b2ac789a4d54ed7acc9650d0,8,4,1,14288,,,0,"Add missing dependencies for pyldap

The venv fails to build without the sasl and ldap headers

Change-Id: I9243417ac1c53f24acbad65ff08dd42941341c74
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/47/495947/1 && git format-patch -1 --stdout FETCH_HEAD,['leap-upgrades/lib/functions.sh'],1,8ef0c3c993b35bf9b2ac789a4d54ed7acc9650d0,leap-add-missing-deps-for-pyldap, # install ldap and sasl headers for pyldap (or ldap-python) apt-get -y install libldap2-dev libsasl2-dev ,,3,0
openstack%2Fopenstack-ansible-ops~master~I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d,openstack/openstack-ansible-ops,master,I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d,Allow mariadb to be used in place of mysql,MERGED,2017-08-21 16:52:12.000000000,2017-08-21 21:11:00.000000000,2017-08-21 21:11:00.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 14552}]","[{'number': 1, 'created': '2017-08-21 16:52:12.000000000', 'files': ['leap-upgrades/lib/functions.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/40dcac33ecbeff902da2667f284fb0a037743dfe', 'message': ""Allow mariadb to be used in place of mysql\n\nSome installs have libmariadbclient-dev already installed, so use that\nif it's available.\n\nChange-Id: I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d\n""}]",0,495923,40dcac33ecbeff902da2667f284fb0a037743dfe,8,4,1,14288,,,0,"Allow mariadb to be used in place of mysql

Some installs have libmariadbclient-dev already installed, so use that
if it's available.

Change-Id: I630f2f32c3b7b71eb6f348ae6b6838ae8cd6730d
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/23/495923/1 && git format-patch -1 --stdout FETCH_HEAD,['leap-upgrades/lib/functions.sh'],1,40dcac33ecbeff902da2667f284fb0a037743dfe,fix-leap-mysqlcleint-install, apt-get -y install liberasurecode-dev > /dev/null # Install libmysqlclient-dev so that we are later able to build mysql-python # Allow libmariadbclient-dev to be used instead if ! apt --installed list | grep libmariadbclient-dev; then apt-get -y install libmysqlclient-dev > /dev/null fi, apt-get -y install liberasurecode-dev libmysqlclient-dev > /dev/null,6,1
openstack%2Fopenstack-ansible-ops~master~I80cf1fc929e86c3498760ad4b342964c7f82ea5f,openstack/openstack-ansible-ops,master,I80cf1fc929e86c3498760ad4b342964c7f82ea5f,update tags the leap-upgrade use,MERGED,2017-08-18 14:32:40.000000000,2017-08-21 21:10:58.000000000,2017-08-21 21:10:58.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-08-18 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2ba7083297fcd1dff85ae95c356003a68dd32efa', 'message': 'update tags the leap-upgrade use\n\nThe comment on the bug in setuptools was fixed a while ago upstream and\nevrardjp also mentioned that comment could be removed.\n\nChange-Id: I80cf1fc929e86c3498760ad4b342964c7f82ea5f\n'}, {'number': 2, 'created': '2017-08-18 14:37:13.000000000', 'files': ['leap-upgrades/lib/vars.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/aa04643dedec404c3601c1a1c08a8241c414fcd7', 'message': 'update tags the leap-upgrade use\n\nThe comment on the bug in setuptools was fixed a while ago upstream and\nevrardjp also mentioned that comment could be removed.  Branches other\nthan newton have an EOL release, so change to use those.\n\nChange-Id: I80cf1fc929e86c3498760ad4b342964c7f82ea5f\n'}]",2,495323,aa04643dedec404c3601c1a1c08a8241c414fcd7,14,5,2,14288,,,0,"update tags the leap-upgrade use

The comment on the bug in setuptools was fixed a while ago upstream and
evrardjp also mentioned that comment could be removed.  Branches other
than newton have an EOL release, so change to use those.

Change-Id: I80cf1fc929e86c3498760ad4b342964c7f82ea5f
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/23/495323/2 && git format-patch -1 --stdout FETCH_HEAD,['leap-upgrades/lib/vars.sh'],1,2ba7083297fcd1dff85ae95c356003a68dd32efa,update-newton-leap-tag,"export MITAKA_RELEASE=""${MITAKA_RELEASE:-13.3.18}"" export NEWTON_RELEASE=""${NEWTON_RELEASE:-14.2.7}""","export MITAKA_RELEASE=""${MITAKA_RELEASE:-13.3.11}"" export NEWTON_RELEASE=""${NEWTON_RELEASE:-14.2.3}"" # commit used due to packaging bug caused by setuptools",2,2
openstack%2Freleases~master~I2f9a23d99105e59985327fce596f77bd3f6e8293,openstack/releases,master,I2f9a23d99105e59985327fce596f77bd3f6e8293,add --debug option to validate,MERGED,2017-08-21 19:52:43.000000000,2017-08-21 21:07:58.000000000,2017-08-21 21:07:58.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 19:52:43.000000000', 'files': ['openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/f64b1a49bfbd6531087bef66de8bb94ff1207dd0', 'message': 'add --debug option to validate\n\nAdd a --debug option to the validate command line app to have it throw\nan exception when there is an error so we can pinpoint where the error\nis coming from more easily.\n\nChange-Id: I2f9a23d99105e59985327fce596f77bd3f6e8293\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,495970,f64b1a49bfbd6531087bef66de8bb94ff1207dd0,7,3,1,2472,,,0,"add --debug option to validate

Add a --debug option to the validate command line app to have it throw
an exception when there is an error so we can pinpoint where the error
is coming from more easily.

Change-Id: I2f9a23d99105e59985327fce596f77bd3f6e8293
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/495970/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/validate.py'],1,f64b1a49bfbd6531087bef66de8bb94ff1207dd0,ceph-release-2.4.0-patch1," '--debug', default=False, action='store_true', help='throw exception on error', ) parser.add_argument( if args.debug: raise RuntimeError(msg)",,8,0
openstack%2Freleases~master~Ibabcc92963b004b8b1c4b83cddc3933f70229254,openstack/releases,master,Ibabcc92963b004b8b1c4b83cddc3933f70229254,Release puppet-ceph 2.4.0 and create jewel branch,MERGED,2017-08-16 14:27:38.000000000,2017-08-21 21:07:52.000000000,2017-08-21 21:07:52.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 11904}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-16 14:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bfeb431670224ab7a2c41c872fa1036ca31b19eb', 'message': 'Release puppet-ceph 2.4.0 and create jewel branch\n\nChange-Id: Ibabcc92963b004b8b1c4b83cddc3933f70229254\n'}, {'number': 2, 'created': '2017-08-21 19:52:43.000000000', 'files': ['deliverables/_independent/puppet-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1b39e79321e076609344168691336fc704bec9d', 'message': 'Release puppet-ceph 2.4.0 and create jewel branch\n\nChange-Id: Ibabcc92963b004b8b1c4b83cddc3933f70229254\n'}]",2,494224,e1b39e79321e076609344168691336fc704bec9d,14,6,2,14985,,,0,"Release puppet-ceph 2.4.0 and create jewel branch

Change-Id: Ibabcc92963b004b8b1c4b83cddc3933f70229254
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/494224/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/puppet-ceph.yaml'],1,bfeb431670224ab7a2c41c872fa1036ca31b19eb,ceph-release-2.4.0-patch1,team: 'Puppet OpenStack'branches: - name: stable/jewel location: 2.4.0 - projects: - hash: 3cc04b6900d36b83d67b95a5190a77c14c2d3a02 repo: openstack/puppet-ceph version: 2.4.0,team: Puppet OpenStack,8,1
openstack%2Freleases~master~I354bf975311c2b02c020dc83590c041c7733b041,openstack/releases,master,I354bf975311c2b02c020dc83590c041c7733b041,"add ""upstream"" stable-branch-type",MERGED,2017-08-21 19:52:43.000000000,2017-08-21 21:06:12.000000000,2017-08-21 21:06:11.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 19:52:43.000000000', 'files': ['README.rst', 'openstack_releases/cmds/validate.py', 'openstack_releases/schema.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/573194a62376aac79c9b58a4d94cb82f20704f02', 'message': 'add ""upstream"" stable-branch-type\n\nAdd a stable-branch-type called ""upstream"" for projects that follow\nthe naming conventions of another upstream project (see puppet-ceph\nfor an example).\n\nChange-Id: I354bf975311c2b02c020dc83590c041c7733b041\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,495969,573194a62376aac79c9b58a4d94cb82f20704f02,7,3,1,2472,,,0,"add ""upstream"" stable-branch-type

Add a stable-branch-type called ""upstream"" for projects that follow
the naming conventions of another upstream project (see puppet-ceph
for an example).

Change-Id: I354bf975311c2b02c020dc83590c041c7733b041
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/495969/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'openstack_releases/cmds/validate.py', 'openstack_releases/schema.yaml']",3,573194a62376aac79c9b58a4d94cb82f20704f02,ceph-release-2.4.0-patch1," enum: [ ""std"", ""tagless"", ""upstream"" ]"," enum: [ ""std"", ""tagless"" ]",17,2
openstack%2Fopenstack-ansible~stable%2Fpike~Ie17b0154caa8851d99f0881e8596a7c39350bbe2,openstack/openstack-ansible,stable/pike,Ie17b0154caa8851d99f0881e8596a7c39350bbe2,Remove repeated pip_install role execution,MERGED,2017-08-19 01:04:02.000000000,2017-08-21 20:57:39.000000000,2017-08-21 20:57:39.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-19 01:04:02.000000000', 'files': ['playbooks/galera-install.yml', 'playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0146e3e19a258e3ade73b0ad76e71bba9fb4972c', 'message': 'Remove repeated pip_install role execution\n\nIn the galera playbook, the pip_install role\nis executed, then the galera_server role. The\ngalera_server role has a meta-dependency on\ngalera_client, which in turn has a\nmeta-dependency on pip_install. This results in\nthe pip_install role being run twice.\n\nIn the utility playbook, the galera_client role\nis executed, then the pip_install role. The\ngalera_client role has a meta-dependency on\npip_install. This results in the pip_install\nrole being run twice.\n\nThis patch removes the duplicated executions of\nthe pip_install roles from these two playbooks.\n\nChange-Id: Ie17b0154caa8851d99f0881e8596a7c39350bbe2\n(cherry picked from commit 303e4e83740812287946b97e256577a441fee99c)\n'}]",0,495468,0146e3e19a258e3ade73b0ad76e71bba9fb4972c,7,3,1,6816,,,0,"Remove repeated pip_install role execution

In the galera playbook, the pip_install role
is executed, then the galera_server role. The
galera_server role has a meta-dependency on
galera_client, which in turn has a
meta-dependency on pip_install. This results in
the pip_install role being run twice.

In the utility playbook, the galera_client role
is executed, then the pip_install role. The
galera_client role has a meta-dependency on
pip_install. This results in the pip_install
role being run twice.

This patch removes the duplicated executions of
the pip_install roles from these two playbooks.

Change-Id: Ie17b0154caa8851d99f0881e8596a7c39350bbe2
(cherry picked from commit 303e4e83740812287946b97e256577a441fee99c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/495468/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/galera-install.yml', 'playbooks/utility-install.yml']",2,0146e3e19a258e3ade73b0ad76e71bba9fb4972c,pip-install-repeat,," - role: ""pip_install"" tags: - pip",0,6
openstack%2Fpanko~master~Ibd328f15c899654d6a1879cf4dc3a4d77745940f,openstack/panko,master,Ibd328f15c899654d6a1879cf4dc3a4d77745940f,Update reno for stable/pike,MERGED,2017-08-21 19:06:14.000000000,2017-08-21 20:54:14.000000000,2017-08-21 20:54:14.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2017-08-21 19:06:14.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/panko/commit/b8b0ebfab4476f89164fbc170de09a3dd75b58cf', 'message': 'Update reno for stable/pike\n\nChange-Id: Ibd328f15c899654d6a1879cf4dc3a4d77745940f\n'}]",0,495964,b8b0ebfab4476f89164fbc170de09a3dd75b58cf,6,2,1,22816,,,0,"Update reno for stable/pike

Change-Id: Ibd328f15c899654d6a1879cf4dc3a4d77745940f
",git fetch https://review.opendev.org/openstack/panko refs/changes/64/495964/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,b8b0ebfab4476f89164fbc170de09a3dd75b58cf,reno-pike, pike,,7,0
openstack%2Fcharm-hacluster~master~I232a043e6d9d45f2cf833d4f7c4d89b079f258bb,openstack/charm-hacluster,master,I232a043e6d9d45f2cf833d4f7c4d89b079f258bb,Add maintenance-mode configuration option,MERGED,2017-06-21 14:00:08.000000000,2017-08-21 20:52:48.000000000,2017-08-21 20:52:48.000000000,"[{'_account_id': 3}, {'_account_id': 2276}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-06-21 14:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/790c689a0063bcaa8149229b5cb6ec01ea30d84f', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 2, 'created': '2017-07-03 17:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/af2ea4617176d3342bb3fedf031bdc138dc13d67', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 3, 'created': '2017-07-17 11:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/13605cab23fff17715e382fe2db3e4de514031d7', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to put pacemaker into\nmaintenance mode which will stop monitoring on the configured\nresources, so services can be stopped/restarted and pacemaker\nwon't start them again or migrating resources (e.g. virtual\nIPs).\n\nPartial-Bug: 1698926\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\n""}, {'number': 4, 'created': '2017-08-03 20:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/454d1e36759b1dec6e08495af2d8aaffec98e495', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 5, 'created': '2017-08-04 21:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/221933f5988ffee4dba8700f7e2fc16fd3f0ad87', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 6, 'created': '2017-08-08 01:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e125b6e82fee2b0052a7f02da532a6dfba6bf747', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 7, 'created': '2017-08-16 15:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/23eb3a7a4a159ec12f309f9c58df22658e36ba09', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 8, 'created': '2017-08-16 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3a11a4f876526cefc5f463779b793385ebd27622', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}, {'number': 9, 'created': '2017-08-16 17:44:49.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'unit_tests/test_pcmk.py', 'unit_tests/test_utils.py', 'tests/basic_deployment.py', 'config.yaml', 'hooks/pcmk.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e95488afa0c8985ec494b1c53fe80ed2e6bbd728', 'message': ""Add maintenance-mode configuration option\n\nThis config option allows syadmins to set pacemaker in maintenance mode\nwhich will stop monitoring on the configured resources, so services\ncan be stopped/restarted and pacemaker won't start them again or\nmigrating resources (e.g. virtual IPs).\n\nChange-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb\nPartial-Bug: 1698926\n""}]",2,476151,e95488afa0c8985ec494b1c53fe80ed2e6bbd728,78,7,9,2424,,,0,"Add maintenance-mode configuration option

This config option allows syadmins to set pacemaker in maintenance mode
which will stop monitoring on the configured resources, so services
can be stopped/restarted and pacemaker won't start them again or
migrating resources (e.g. virtual IPs).

Change-Id: I232a043e6d9d45f2cf833d4f7c4d89b079f258bb
Partial-Bug: 1698926
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/51/476151/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/utils.py', 'unit_tests/test_pcmk.py', 'unit_tests/test_utils.py', 'tests/basic_deployment.py', 'config.yaml', 'hooks/pcmk.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py']",9,790c689a0063bcaa8149229b5cb6ec01ea30d84f,bug/1698926,"import test_utils class TestHooks(test_utils.CharmTestCase): TO_PATCH = [ 'config', 'enable_lsb_services' ] def setUp(self): super(TestHooks, self).setUp(hooks, self.TO_PATCH) self.config.side_effect = self.test_config.get @mock.patch.object(hooks, 'maintenance_mode') @mock.patch.object(hooks, 'is_leader') @mock.patch.object(hooks, 'update_nrpe_config') @mock.patch('pcmk.commit') @mock.patch('pcmk.wait_for_pcmk') @mock.patch.object(hooks, 'configure_corosync') @mock.patch('os.mkdir') @mock.patch('utils.config') @mock.patch('utils.rsync') @mock.patch('utils.mkdir') def test_config_changed(self, mock_mkdir, mock_rsync, mock_config, mock_os_mkdir, mock_configure_corosync, mock_wait_for_pcmk, mock_pcmk_commit, mock_update_nrpe_config, mock_is_leader, mock_maintenance_mode): mock_config.side_effect = self.test_config.get mock_wait_for_pcmk.return_value = True mock_is_leader.return_value = True hooks.config_changed() mock_maintenance_mode.assert_not_called() # enable maintenance self.test_config.set_previous('maintenance-mode', False) self.test_config.set('maintenance-mode', True) hooks.config_changed() mock_maintenance_mode.assert_called_with(True) # disable maintenance self.test_config.set_previous('maintenance-mode', True) self.test_config.set('maintenance-mode', False) hooks.config_changed() mock_maintenance_mode.assert_called_with(False)",,372,3
openstack%2Fopenstack-ansible-plugins~stable%2Focata~Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba,openstack/openstack-ansible-plugins,stable/ocata,Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba,Install python2-pyOpenSSL package on CentOS,MERGED,2017-03-03 19:25:42.000000000,2017-08-21 20:49:10.000000000,2017-03-03 21:12:26.000000000,"[{'_account_id': 3}, {'_account_id': 14805}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-03-03 19:25:42.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/974d5ed805c1d54032f64056dd8f28c1fa6e3581', 'message': 'Install python2-pyOpenSSL package on CentOS\n\nPackage pyOpenSSL is obsoleted by python2-pyOpenSSL.\n\nChange-Id: Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba\n(cherry picked from commit 58059874b4e3319bfd2ce669358fc546d55cc146)\n'}]",0,441382,974d5ed805c1d54032f64056dd8f28c1fa6e3581,8,3,1,17799,,,0,"Install python2-pyOpenSSL package on CentOS

Package pyOpenSSL is obsoleted by python2-pyOpenSSL.

Change-Id: Ib2f16ccd091432fbc9905dd540fdb23e4e8d3eba
(cherry picked from commit 58059874b4e3319bfd2ce669358fc546d55cc146)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/82/441382/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,974d5ed805c1d54032f64056dd8f28c1fa6e3581,python2-pyOpenSSL,python2-pyOpenSSL [platform:rpm],pyOpenSSL [platform:rpm],1,1
openstack%2Fkeystone~master~I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1,openstack/keystone,master,I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1,WIP: Extend comparator support for project list by tags,ABANDONED,2017-08-16 22:55:39.000000000,2017-08-21 20:39:40.000000000,,"[{'_account_id': 3}, {'_account_id': 23659}]","[{'number': 1, 'created': '2017-08-16 22:55:39.000000000', 'files': ['keystone/common/controller.py', 'keystone/resource/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/47e79a788c65b99812961cdabe798f1f0e9dcacf', 'message': ""WIP: Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1\nPartially-Implements: bp project-tags\nDepends-On: I00f094a5584be40ab477cbf680a5f6d1afb4d21b\nDepends-On: I0983a5b592aaffa9cef38c74c038fa60a176786c\n""}]",1,494339,47e79a788c65b99812961cdabe798f1f0e9dcacf,4,2,1,23659,,,0,"WIP: Extend comparator support for project list by tags

This changes allows operator to use the keystoneclient to filter
projects with tags using comparators including 'startswith',
'endswith', and 'contains'.

Change-Id: I58fce8bfe9c27e9d0ea36e58b1738edd2b1a3dc1
Partially-Implements: bp project-tags
Depends-On: I00f094a5584be40ab477cbf680a5f6d1afb4d21b
Depends-On: I0983a5b592aaffa9cef38c74c038fa60a176786c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/494339/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/controller.py', 'keystone/resource/controllers.py']",2,47e79a788c65b99812961cdabe798f1f0e9dcacf,bp/project-tags," 'parent_id', 'is_domain', 'tags', 'tags_any', 'not_tags', 'not_tags_any')"," 'parent_id', 'is_domain')",51,1
openstack%2Fproject-config~master~Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e,openstack/project-config,master,Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e,"Revert ""Make neutron functional job non-voting""",MERGED,2017-08-16 18:45:44.000000000,2017-08-21 20:39:28.000000000,2017-08-17 22:13:06.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7787}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-08-16 18:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2dbebd36dac13102c0654780fe8ba2981f4c01b', 'message': 'Revert ""Make neutron functional job non-voting""\n\nBug 1709032 has been solved and I\'m actively working on bug 1707933. Also stable Pike branch has been already cut, current failure rate on check queue is about ~15%.\n\nThis reverts commit d5d6dd800f74230faa1210ad7b2c275d74fbb9f3.\n\nChange-Id: Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e\n'}, {'number': 2, 'created': '2017-08-16 19:06:37.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/248e5eec0f86bce259cbf63f0fe944e89783e486', 'message': 'Revert ""Make neutron functional job non-voting""\n\nBug 1709032 has been solved and I\'m actively working on bug 1707933.\nAlso stable Pike branch has been already cut, current failure rate on\ncheck queue is about ~15%.\n\nThis reverts commit d5d6dd800f74230faa1210ad7b2c275d74fbb9f3.\n\nChange-Id: Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e\n'}]",1,494295,248e5eec0f86bce259cbf63f0fe944e89783e486,16,6,2,8655,,,0,"Revert ""Make neutron functional job non-voting""

Bug 1709032 has been solved and I'm actively working on bug 1707933.
Also stable Pike branch has been already cut, current failure rate on
check queue is about ~15%.

This reverts commit d5d6dd800f74230faa1210ad7b2c275d74fbb9f3.

Change-Id: Icffe9568e9aa36fdfb0e98006b642f3acedf8b9e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/494295/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'grafana/neutron.yaml']",3,e2dbebd36dac13102c0654780fe8ba2981f4c01b,bug/1707933," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.pipeline.check.job.gate-neutron-dsvm-functional-ubuntu-xenial.FAILURE),sum(stats_counts.zuul.pipeline.check.job.gate-neutron-dsvm-functional-ubuntu-xenial.{SUCCESS,FAILURE})),'24hours'), 'gate-neutron-dsvm-functional-ubuntu-xenial') - title: Functional Failure Rates (Gate queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.pipeline.gate.job.gate-neutron-dsvm-functional-ubuntu-xenial.FAILURE),sum(stats_counts.zuul.pipeline.gate.job.gate-neutron-dsvm-functional-ubuntu-xenial.{SUCCESS,FAILURE})),'24hours'), 'gate-neutron-dsvm-functional-ubuntu-xenial') type: graph"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.pipeline.check.job.gate-neutron-dsvm-functional-ubuntu-xenial-nv.FAILURE),sum(stats_counts.zuul.pipeline.check.job.gate-neutron-dsvm-functional-ubuntu-xenial-nv.{SUCCESS,FAILURE})),'24hours'), 'gate-neutron-dsvm-functional-ubuntu-xenial-nv')",15,4
openstack%2Fopenstack-ansible-pip_install~master~I7b0dd5d14c82a74be955071e638c122ffb45ab31,openstack/openstack-ansible-pip_install,master,I7b0dd5d14c82a74be955071e638c122ffb45ab31,Allow override of RDO repo baseurl,MERGED,2017-08-10 15:53:53.000000000,2017-08-21 20:33:36.000000000,2017-08-21 13:56:10.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}, {'_account_id': 4162}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-10 15:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/b35aa6b06e92e562f7443e39354b169db46146e8', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nDepends-On: I382b8ef06f5c99de7fa1ce5895bd229867c12535\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 2, 'created': '2017-08-10 16:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/482afac7008040251c61a5e4b916f75f9655bf62', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nDepends-On: I382b8ef06f5c99de7fa1ce5895bd229867c12535\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 3, 'created': '2017-08-10 20:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/bf7fa3cfaa2e15d04515158e753f9abff7a96246', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 4, 'created': '2017-08-10 20:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/4352bc6edd7d38a60a5d02c6c04caea99fcd3cc7', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 5, 'created': '2017-08-10 20:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/174f987413995df152383fd8b70a245bbe675340', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 6, 'created': '2017-08-18 14:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/93b9234691e68863c4d233a15e8a0c9fac5adc1b', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 7, 'created': '2017-08-18 14:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/abac9f2c100d6d35348819de784ef2ded321c870', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 8, 'created': '2017-08-18 14:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/b25cb858036cdb7b2e17bb4afdb0701c6087a8d4', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}, {'number': 9, 'created': '2017-08-21 12:37:28.000000000', 'files': ['releasenotes/notes/centos-mirror-url-variable-eea9f226b5611b40.yaml', 'tasks/pre_install_yum.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/3500a26919b5f420c15b80323fff7928e05054b9', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set pip_install_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31\n'}]",4,492601,3500a26919b5f420c15b80323fff7928e05054b9,41,8,9,538,,,0,"Allow override of RDO repo baseurl

This patch allows deployers to set pip_install_centos_mirror_url
and override the default RDO repository (mirrors.centos.org).

Change-Id: I7b0dd5d14c82a74be955071e638c122ffb45ab31
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/01/492601/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/centos-mirror-url-variable-eea9f226b5611b40.yaml', 'vars/redhat-7.yml', 'tasks/pre_install_yum.yml', 'defaults/main.yml']",4,b35aa6b06e92e562f7443e39354b169db46146e8,set-centos-mirror," # Set default mirror for CentOS repositories pip_install_centos_mirror_url: ""http://mirror.centos.org""",,26,0
openstack%2Fopenstack-helm~master~Idd9ea2692981b2ba971a259844f703ec9e7307b1,openstack/openstack-helm,master,Idd9ea2692981b2ba971a259844f703ec9e7307b1,pod resources mismatched in ingress chart,MERGED,2017-08-21 02:49:18.000000000,2017-08-21 20:29:03.000000000,2017-08-21 20:15:26.000000000,"[{'_account_id': 3}, {'_account_id': 20443}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-08-21 02:49:18.000000000', 'files': ['ingress/templates/deployment-ingress.yaml', 'ingress/templates/deployment-error.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f7e6eda90752232239f70061784a4ab2e643236', 'message': 'pod resources mismatched in ingress chart\n\nin ingress chart,\ningress/error resource configuration is mismatched.\n\nChange-Id: Idd9ea2692981b2ba971a259844f703ec9e7307b1\nCloses-Bug: #1711980\n'}]",0,495676,9f7e6eda90752232239f70061784a4ab2e643236,12,4,1,24427,,,0,"pod resources mismatched in ingress chart

in ingress chart,
ingress/error resource configuration is mismatched.

Change-Id: Idd9ea2692981b2ba971a259844f703ec9e7307b1
Closes-Bug: #1711980
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/495676/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/templates/deployment-error.yaml']",2,9f7e6eda90752232239f70061784a4ab2e643236,bug/1711980,"{{ tuple $envAll $envAll.Values.pod.resources.error_pages | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }}","{{ tuple $envAll $envAll.Values.pod.resources.ingress | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }}",2,2
openstack%2Fpatrole~master~Ic02c9278e5293311dd6f7b02790a256d391098f7,openstack/patrole,master,Ic02c9278e5293311dd6f7b02790a256d391098f7,Adds unit tests for hacking checks,MERGED,2017-08-09 21:44:17.000000000,2017-08-21 20:25:44.000000000,2017-08-21 20:25:44.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-09 21:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/975eb029ec7854281fc42d0085d5b69fb79134c5', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 2, 'created': '2017-08-10 00:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/809e50a59f39cceb0ff6a84449ebd8bffeb99e42', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 3, 'created': '2017-08-10 16:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5d82d92e345e06694ba01c9ab2b3496a0780ca40', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 4, 'created': '2017-08-14 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/260273dcee60bc9023e3b2dee978a0c9d4fd370e', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 5, 'created': '2017-08-14 23:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/9491b83cf6d8a2477b4806efbd4041d7cd721df7', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 6, 'created': '2017-08-15 18:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/cf44cc5c889fa713b3a7e88ce119dd948957c982', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 7, 'created': '2017-08-15 19:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/3937b1a99dbe7242f69342da388eed8634ae8e18', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nThis commit also modifies the P100 hacking check to work\nwith arbitrarily many decorators, so that rbac_rule_validation\ndecorator can be sandwiched between any number of decorators\nin any order; the only requirement is that it appear before\neach test.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}, {'number': 8, 'created': '2017-08-15 21:20:53.000000000', 'files': ['patrole_tempest_plugin/hacking/checks.py', 'patrole_tempest_plugin/tests/unit/test_hacking.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/b6a9c21424332d4e112d51e03158ea5ecb434e62', 'message': 'Adds unit tests for hacking checks\n\nAdds unit tests for Patrole hacking checks. Also cleans up\nexisting Patrole hacking checks for code maintainability.\n\nThis commit also modifies the P100 hacking check to work\nwith arbitrarily many decorators, so that rbac_rule_validation\ndecorator can be sandwiched between any number of decorators\nin any order; the only requirement is that it appear before\neach test.\n\nChange-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7\nCloses-Bug: #1708794\n'}]",6,492305,b6a9c21424332d4e112d51e03158ea5ecb434e62,32,4,8,23185,,,0,"Adds unit tests for hacking checks

Adds unit tests for Patrole hacking checks. Also cleans up
existing Patrole hacking checks for code maintainability.

This commit also modifies the P100 hacking check to work
with arbitrarily many decorators, so that rbac_rule_validation
decorator can be sandwiched between any number of decorators
in any order; the only requirement is that it appear before
each test.

Change-Id: Ic02c9278e5293311dd6f7b02790a256d391098f7
Closes-Bug: #1708794
",git fetch https://review.opendev.org/openstack/patrole refs/changes/05/492305/3 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/hacking/checks.py', 'patrole_tempest_plugin/tests/unit/test_hacking.py']",2,975eb029ec7854281fc42d0085d5b69fb79134c5,(detached,"# Copyright 2017 AT&T Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.tests import base from patrole_tempest_plugin.hacking import checks class RBACHackingTestCase(base.TestCase): def test_import_no_clients_in_api_tests(self): for client in checks.PYTHON_CLIENTS: import_string = ""import "" + client + ""client"" self.assertTrue(checks.import_no_clients_in_api_tests( import_string, ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"")) self.assertFalse(checks.import_no_clients_in_api_tests( import_string, ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertFalse(checks.import_no_clients_in_api_tests( import_string, ""./patrole_tempest_plugin/tests/unit/fake_test.py"")) self.assertFalse(checks.import_no_clients_in_api_tests( import_string, ""./patrole_tempest_plugin/fake_test.py"")) def test_no_setup_teardown_class_for_tests(self): self.assertTrue(checks.no_setup_teardown_class_for_tests( "" def setUpClass(cls):"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertIsNone(checks.no_setup_teardown_class_for_tests( "" def setUpClass(cls): # noqa"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertTrue(checks.no_setup_teardown_class_for_tests( "" def setUpClass(cls):"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"")) self.assertTrue(checks.no_setup_teardown_class_for_tests( "" def setUpClass(cls):"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertTrue(checks.no_setup_teardown_class_for_tests( "" def tearDownClass(cls):"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertIsNone(checks.no_setup_teardown_class_for_tests( "" def tearDownClass(cls): # noqa"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertTrue(checks.no_setup_teardown_class_for_tests( "" def tearDownClass(cls):"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"")) self.assertTrue(checks.no_setup_teardown_class_for_tests( "" def tearDownClass(cls):"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) def test_no_vi_headers(self): self.assertTrue(checks.no_vi_headers( ""# vim: "", 1, range(250))) self.assertTrue(checks.no_vi_headers(""# vim: "", 120, range(250))) def test_service_tags_not_in_module_path(self): self.assertTrue(checks.service_tags_not_in_module_path( ""@test.services('volume')"", ""./patrole_tempest_plugin/tests/api/volume/fake_test_rbac.py"")) self.assertFalse(checks.service_tags_not_in_module_path( ""@test.services('image')"", ""./patrole_tempest_plugin/tests/api/volume/fake_test_rbac.py"")) def test_no_hyphen_at_end_of_rand_name(self): self.assertIsNone(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test')"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertIsNone(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test')"", ""./patrole_tempest_plugin/tests/api/compute/fake_test_rbac.py"")) self.assertIsNone(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test')"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertIsNone(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test')"", ""./patrole_tempest_plugin/tests/unit/fake_test.py"")) self.assertTrue(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test-')"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertTrue(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test-')"", ""./patrole_tempest_plugin/tests/api/compute/fake_test_rbac.py"")) self.assertTrue(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test-')"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertTrue(checks.no_hyphen_at_end_of_rand_name( ""data_utils.rand_name('test-')"", ""./patrole_tempest_plugin/tests/unit/fake_test.py"")) def test_no_mutable_default_args(self): self.assertEqual(2, len(list(checks.no_mutable_default_args( "" def test_function(test_param_1=[], test_param_2={}"")))) self.assertEqual(0, len(list(checks.no_mutable_default_args( "" def test_function(test_param_1, test_param_2"")))) self.assertEqual(1, len(list(checks.no_mutable_default_args( "" def test_function(test_param_1, test_param_2={}"")))) def test_no_testtools_skip_decorator(self): self.assertEqual(1, len(list(checks.no_testtools_skip_decorator( "" @testtools.skip('Bug')"")))) self.assertEqual(0, len(list(checks.no_testtools_skip_decorator( "" @testtools.skipTest('reason')"")))) self.assertEqual(0, len(list(checks.no_testtools_skip_decorator( "" @testtools.skipUnless(reason, 'message')"")))) self.assertEqual(0, len(list(checks.no_testtools_skip_decorator( "" @testtools.skipIf(reason, 'message')"")))) def test_use_rand_uuid_instead_of_uuid4(self): self.assertTrue(checks.use_rand_uuid_instead_of_uuid4( ""new_uuid = uuid.uuid4()"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertTrue(checks.use_rand_uuid_instead_of_uuid4( ""new_hex_uuid = uuid.uuid4().hex"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertFalse(checks.use_rand_uuid_instead_of_uuid4( ""new_uuid = data_utils.rand_uuid()"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertFalse(checks.use_rand_uuid_instead_of_uuid4( ""new_hex_uuid = data_utils.rand_uuid_hex()"", ""./patrole_tempest_plugin/tests/fake_test.py"")) def test_no_rbac_rule_validation_decorator(self): self.assertFalse(checks.no_rbac_suffix_in_test_class_name( "" @decorators.idempotent_id(123)"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"", "" @rbac_rule_validation.action('rule')"")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( "" @rbac_rule_validation.action('rule')"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"", "" @decorators.idempotent_id(123)"")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( "" @decorators.idempotent_id(123)"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"", """")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( "" @decorators.idempotent_id(123)"", ""./patrole_tempest_plugin/tests/unit/fake_test.py"", """")) self.assertTrue(checks.no_rbac_suffix_in_test_class_name( "" @decorators.idempotent_id(123)"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"", """")) self.assertTrue(checks.no_rbac_suffix_in_test_class_name( "" @rbac_rule_validation.action('rule')"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"", """")) def test_no_rbac_suffix_in_test_filename(self): self.assertFalse(checks.no_rbac_suffix_in_test_filename( ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertFalse(checks.no_rbac_suffix_in_test_filename( ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertFalse(checks.no_rbac_suffix_in_test_filename( ""./patrole_tempest_plugin/tests/unit/fake_test.py"")) self.assertFalse(checks.no_rbac_suffix_in_test_filename( ""./patrole_tempest_plugin/tests/api/fake_rbac_base.py"")) self.assertFalse(checks.no_rbac_suffix_in_test_filename( ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"")) self.assertTrue(checks.no_rbac_suffix_in_test_filename( ""./patrole_tempest_plugin/tests/api/fake_test.py"")) def test_no_rbac_suffix_in_test_class_name(self): self.assertFalse(checks.no_rbac_suffix_in_test_class_name( ""class FakeTest"", ""./patrole_tempest_plugin/tests/fake_test.py"", """")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( ""class FakeTest"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"", """")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( ""class FakeTest"", ""./patrole_tempest_plugin/tests/unit/fake_test.py"", """")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( ""class FakeTest"", ""./patrole_tempest_plugin/tests/api/fake_rbac_base.py"", """")) self.assertFalse(checks.no_rbac_suffix_in_test_class_name( ""class FakeRbacTest"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"", """")) self.assertTrue(checks.no_rbac_suffix_in_test_class_name( ""class FakeTest"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"", """")) def test_no_client_alias_in_test_cases(self): self.assertFalse(checks.no_client_alias_in_test_cases( "" self.client"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertFalse(checks.no_client_alias_in_test_cases( "" cls.client"", ""./patrole_tempest_plugin/tests/fake_test.py"")) self.assertFalse(checks.no_client_alias_in_test_cases( "" self.client"", ""./patrole_tempest_plugin/tests/unit/fake_test.py"")) self.assertFalse(checks.no_client_alias_in_test_cases( "" cls.client"", ""./patrole_tempest_plugin/tests/unit/fake_test.py"")) self.assertFalse(checks.no_client_alias_in_test_cases( "" self.client"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertFalse(checks.no_client_alias_in_test_cases( "" cls.client"", ""./patrole_tempest_plugin/tests/scenario/fake_test.py"")) self.assertTrue(checks.no_client_alias_in_test_cases( "" self.client"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"")) self.assertTrue(checks.no_client_alias_in_test_cases( "" cls.client"", ""./patrole_tempest_plugin/tests/api/fake_test_rbac.py"")) ",,229,4
openstack%2Fcharm-ceph-osd~master~I1b6d91f0f09f0142f4470d8ae3eea650165a0575,openstack/charm-ceph-osd,master,I1b6d91f0f09f0142f4470d8ae3eea650165a0575,remove trusty requirement to allow xenial upgrades,MERGED,2017-08-21 14:12:11.000000000,2017-08-21 20:16:59.000000000,2017-08-21 20:16:59.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-21 14:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0552796fb3269ff5879348886bbd920a1bb7803b', 'message': 'remove trusty requirement to allow xenial upgrades\n\nChange-Id: I1b6d91f0f09f0142f4470d8ae3eea650165a0575\n'}, {'number': 2, 'created': '2017-08-21 14:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4512c4019c34908e7f153854deadef37eed69bbd', 'message': 'remove trusty requirement to allow xenial upgrades\n\nCloses-Bug: #1709962\nCloses-Bug: #1710645\nChange-Id: I1b6d91f0f09f0142f4470d8ae3eea650165a0575\n'}, {'number': 3, 'created': '2017-08-21 14:43:37.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8b0e49acdfbf1d9352041fad008c357c196bf5ae', 'message': 'remove trusty requirement to allow xenial upgrades\n\nCloses-Bug: #1709962\nCloses-Bug: #1710645\nChange-Id: I1b6d91f0f09f0142f4470d8ae3eea650165a0575\n'}]",0,495883,8b0e49acdfbf1d9352041fad008c357c196bf5ae,12,3,3,20634,,,0,"remove trusty requirement to allow xenial upgrades

Closes-Bug: #1709962
Closes-Bug: #1710645
Change-Id: I1b6d91f0f09f0142f4470d8ae3eea650165a0575
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/83/495883/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,0552796fb3269ff5879348886bbd920a1bb7803b,bug/1709962,," release_info = host.lsb_release() if not release_info['DISTRIB_CODENAME'] == 'trusty': log(""Invalid upgrade path from {}. Only trusty is currently "" ""supported"".format(release_info['DISTRIB_CODENAME'])) return ",0,6
openstack%2Fcharm-ceph-mon~master~I442072e0c10d0df95c40232f0191f5cc8b63ee8c,openstack/charm-ceph-mon,master,I442072e0c10d0df95c40232f0191f5cc8b63ee8c,remove trusty requirement to allow xenial upgrades,MERGED,2017-08-21 14:12:27.000000000,2017-08-21 20:12:09.000000000,2017-08-21 20:12:09.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-21 14:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/bffff70137c0b1847a4de4128a7841046a0d75e6', 'message': 'remove trusty requirement to allow xenial upgrades\n\nChange-Id: I442072e0c10d0df95c40232f0191f5cc8b63ee8c\n'}, {'number': 2, 'created': '2017-08-21 14:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a99d9b587b88cc0ca7b5fd3767ade57e50bead8f', 'message': 'remove trusty requirement to allow xenial upgrades\n\nCloses-Bug: #1709962\nCloses-Bug: #1710645\nChange-Id: I442072e0c10d0df95c40232f0191f5cc8b63ee8c\n'}, {'number': 3, 'created': '2017-08-21 14:43:32.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/07312cfa09578b0b54aa5b31ad0d31b9394c3a77', 'message': 'remove trusty requirement to allow xenial upgrades\n\nCloses-Bug: #1709962\nCloses-Bug: #1710645\nChange-Id: I442072e0c10d0df95c40232f0191f5cc8b63ee8c\n'}]",0,495885,07312cfa09578b0b54aa5b31ad0d31b9394c3a77,13,3,3,20634,,,0,"remove trusty requirement to allow xenial upgrades

Closes-Bug: #1709962
Closes-Bug: #1710645
Change-Id: I442072e0c10d0df95c40232f0191f5cc8b63ee8c
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/85/495885/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,bffff70137c0b1847a4de4128a7841046a0d75e6,bug/1709962,," release_info = host.lsb_release() if not release_info['DISTRIB_CODENAME'] == 'trusty': log(""Invalid upgrade path from {}. Only trusty is currently "" ""supported"".format(release_info['DISTRIB_CODENAME'])) return ",0,6
openstack%2Fcharm-ceph~master~I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386,openstack/charm-ceph,master,I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386,remove trusty requirement to allow xenial upgrades,MERGED,2017-08-21 14:12:19.000000000,2017-08-21 20:11:23.000000000,2017-08-21 20:11:23.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-08-21 14:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/1d0847081093024f40cf4b5f90b9b97fc1b92953', 'message': 'remove trusty requirement to allow xenial upgrades\n\nChange-Id: I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386\n'}, {'number': 2, 'created': '2017-08-21 14:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/854c9ed5a1738c9f26d84ab500868ab310b32178', 'message': 'remove trusty requirement to allow xenial upgrades\n\nCloses-Bug: #1709962\nCloses-Bug: #1710645\nChange-Id: I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386\n'}, {'number': 3, 'created': '2017-08-21 14:43:26.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph/commit/d259b894b202d05b266c13dbdda997194102a17c', 'message': 'remove trusty requirement to allow xenial upgrades\n\nCloses-Bug: #1709962\nCloses-Bug: #1710645\nChange-Id: I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386\n'}]",0,495884,d259b894b202d05b266c13dbdda997194102a17c,13,3,3,20634,,,0,"remove trusty requirement to allow xenial upgrades

Closes-Bug: #1709962
Closes-Bug: #1710645
Change-Id: I8274e40f36ac8c916b15efb6bb3d6f3b5d3af386
",git fetch https://review.opendev.org/openstack/charm-ceph refs/changes/84/495884/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,1d0847081093024f40cf4b5f90b9b97fc1b92953,bug/1709962,," release_info = host.lsb_release() if not release_info['DISTRIB_CODENAME'] == 'trusty': log(""Invalid upgrade path from {}. Only trusty is currently "" ""supported"".format(release_info['DISTRIB_CODENAME'])) return ",0,6
openstack%2Fnova~master~Ide8921b0d891a65212bc2173e0113f4ce00f50b0,openstack/nova,master,Ide8921b0d891a65212bc2173e0113f4ce00f50b0,doc: Address review comments for contributor index,MERGED,2017-08-07 15:13:11.000000000,2017-08-21 20:06:01.000000000,2017-08-21 20:06:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26126}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-07 15:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c695013cc5d8a84eacb792f9040f1f9b54975df8', 'message': 'doc: Address review comments for contributor index\n\nPer comments in If5e7940ddd0ae3316f7475742c02abfe3df28ac4.\n\nPart of bp: doc-migration\n\nChange-Id: Ide8921b0d891a65212bc2173e0113f4ce00f50b0\n'}, {'number': 2, 'created': '2017-08-09 19:32:19.000000000', 'files': ['doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fcf82b32bad435bede0c366f1331dadc24b7e4d', 'message': 'doc: Address review comments for contributor index\n\nPer comments in If5e7940ddd0ae3316f7475742c02abfe3df28ac4.\n\nPart of bp: doc-migration\n\nChange-Id: Ide8921b0d891a65212bc2173e0113f4ce00f50b0\n'}]",0,491517,3fcf82b32bad435bede0c366f1331dadc24b7e4d,28,14,2,15334,,,0,"doc: Address review comments for contributor index

Per comments in If5e7940ddd0ae3316f7475742c02abfe3df28ac4.

Part of bp: doc-migration

Change-Id: Ide8921b0d891a65212bc2173e0113f4ce00f50b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/491517/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,c695013cc5d8a84eacb792f9040f1f9b54975df8,bp/doc-migration,"is important for maintaining the strong ecosystem around nova. Our process is always evolving, just as nova and the community around novaReviewing ========= * :doc:`/contributor/code-review`: Important cheat sheet for what's important when doing code review in nova, especially some things that are hard to test for but need human eyes.Because Python is a dynamic language, code that is not tested might not even be Python code. All new code needs to be validated somehow. * :doc:`/contributor/testing`: An overview of our test taxonomy and the kinds* **Testing Guides**: There are also specific testing guides for features that are hard to test in our gate. * :doc:`/contributor/microversions`: How the API is (micro)versioned and what you need to do when adding an API exposed feature that needs a new microversion.Major subsystems in nova have different needs; some of those are documented","is important for maintaining the strong ecosystem around Nova. Our process is always evolving, just as nova and the community around NovaFor Reviewers =============* :doc:`/contributor/code-review`: important cheat sheet for what's important when doing code review in Nova, especially some things that are hard to test for, but need human eyes.Because Python is a dynamic language, code that is not testing might not even be python code. All new code needs to be validated somehow. * :doc:`/contributor/testing`: An overview of our test taxonomy, and the kinds* **Testing Guides**: There are also specific testing guides for features that are hard to test in our gate.* :doc:`/contributor/microversions`: we use microversions to version our API, this walks you through what you need to do when adding an API exposed feature that needs one.Major subsystems in Nova have different needs, some of those are documented",22,16
openstack%2Fpatrole~master~Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62,openstack/patrole,master,Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62,Move some slow tests into the multinode gate,MERGED,2017-08-21 16:43:59.000000000,2017-08-21 19:51:12.000000000,2017-08-21 19:51:12.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}]","[{'number': 1, 'created': '2017-08-21 16:43:59.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/6056d6b996cb8471141d983797c82e323441ae8c', 'message': 'Move some slow tests into the multinode gate\n\nThis commit moves two tests into the multinode gate by tagging\nthem as ""slow"":\n\n  1) patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py\n  2) patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py\n\nThey both also have a higher-than-normal failure rate, so placing\nthem in the non-voting gate will also increase gate stability. But\nthe main reason for moving them is because they belong there.\n\nChange-Id: Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62\n'}]",0,495920,6056d6b996cb8471141d983797c82e323441ae8c,7,3,1,23186,,,0,"Move some slow tests into the multinode gate

This commit moves two tests into the multinode gate by tagging
them as ""slow"":

  1) patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py
  2) patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py

They both also have a higher-than-normal failure rate, so placing
them in the non-voting gate will also increase gate stability. But
the main reason for moving them is because they belong there.

Change-Id: Iddb9d6e0cfce85e9bde00bec91ff7aec6fb22a62
",git fetch https://review.opendev.org/openstack/patrole refs/changes/20/495920/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py']",2,6056d6b996cb8471141d983797c82e323441ae8c,slow-tests, @decorators.attr(type='slow'),,2,0
openstack%2Fmanila-ui~master~Iba865145149ae4133ba1e25d28ff4d447b9d35ad,openstack/manila-ui,master,Iba865145149ae4133ba1e25d28ff4d447b9d35ad,Imported Translations from Zanata,MERGED,2017-08-21 09:45:18.000000000,2017-08-21 19:45:20.000000000,2017-08-21 19:45:20.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}]","[{'number': 1, 'created': '2017-08-21 09:45:18.000000000', 'files': ['manila_ui/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b48408c4ae4636e3078cb4960c92811bba8bd574', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iba865145149ae4133ba1e25d28ff4d447b9d35ad\n'}]",0,495793,b48408c4ae4636e3078cb4960c92811bba8bd574,8,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba865145149ae4133ba1e25d28ff4d447b9d35ad
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/93/495793/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/locale/de/LC_MESSAGES/django.po'],1,b48408c4ae4636e3078cb4960c92811bba8bd574,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2017. #zanata""Project-Id-Version: manila-ui 2.10.1.dev16\n""""POT-Creation-Date: 2017-08-18 17:02+0000\n""""PO-Revision-Date: 2017-08-20 04:32+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""msgid ""Allow project access to share group type."" msgstr ""Erlaube Projektzugriff zum Gruppenfreigabentyp"" msgstr ""Gruppenfreigabe Schattenkopie \""%s\"" erstellen.""msgstr[0] ""Gruppenfreigabe löschen"" msgstr[1] ""Gruppenfreigaben löschen""msgid ""Delete Share Snapshot"" msgid_plural ""Delete Share Snapshots"" msgstr[0] ""Lösche Freigabeschattenkopie"" msgstr[1] ""Lösche Freigabeschattenkopien"" msgid ""Delete Share Snapshot Rule"" msgid_plural ""Delete Share Snapshot Rules"" msgstr[0] ""Lösche Regel Freigabeschattenkopie"" msgstr[1] ""Lösche Regeln Freigabeschattenkopie"" msgstr[0] ""Gelöschte Gruppenfreigabe"" msgstr[1] ""Gelöschte Gruppenfreigaben""msgid ""Deleted Share Snapshot Rule"" msgid_plural ""Deleted Share Snapshot Rules"" msgstr[0] ""Gelöschte Regeln Freigabeschattenkopie"" msgstr[1] ""Gelöschte Regeln Freigabeschattenkopie"" msgid ""Manage Share Snapshot Rules"" msgstr ""Verwalte Regeln Freigabeschattenkopie"" msgid ""No source, empty share group"" msgstr ""Keine Quelle, leere Gruppenfreigabe"" msgstr ""Projekte mit Zugriff auf Gruppenfreigabetypen""msgid ""Reset Share Group Snapshot Status"" msgstr ""Rücksetzung des Status der Schattenkopie der Gruppenfreigabe"" msgstr ""Gruppenfreigaben Status zurücksetzen""#, python-format msgid ""Reseting share group ('%(id)s') status from '%(from)s' to '%(to)s'."" msgstr """" ""Gruppenfreigabe ('%(id)s') Status zurücksetzen von '%(from)s' zu '%(to)s'."" #, python-format msgid """" ""Reseting share group snapshot ('%(id)s') status from '%(from)s' to '%(to)s'."" msgstr """" ""Rücksetzung der Schattenkopie der Freigabegruppe ('%(id)s') Status von "" ""'%(from)s' zu '%(to)s'."" msgstr ""Gruppenfreigaben Details: %s""msgstr ""Gruppenfreigabe Übersicht""#, python-format msgid ""Share Group Snapshot Details: %(sgs_display_name)s"" msgstr ""Details der Schattenkopie der Gruppenfreigabe: %(sgs_display_name)s"" msgid ""Share Group Snapshot Overview"" msgstr ""Übersicht der Schattenkopien der Freigabegruppen"" msgid ""Share Group Type"" msgstr ""Gruppenfreigabetyp"" msgstr ""Gruppenfreigaben""msgid ""Share Types (multiple available)"" msgstr ""Freigabetypen (mehrere verfügbar)"" msgid ""Share Types (one available)"" msgstr ""Freigabetypen (eine verfügbar)"" msgid ""Share snapshot gigabytes"" msgstr "" Freigabeschattenkopie gigabytes"" msgid ""Share snapshots"" msgstr "" Freigabeschattenkopien"" msgid ""Source Share Group Snapshot"" msgstr ""Quelle Schattenkopie Gruppenfreigabe"" msgstr ""Gruppenfreigabe Typ erfolgreich erstellt: %s""msgstr ""Spezifikationen für Gruppenfreigabe Typ '%s' erfolgreich aktualisiert.""msgid ""Unable to create share group snapshot."" msgstr ""Konnte Schattenkopie von Gruppenfreigabe nicht erstellen."" msgstr ""Gruppenfreigabe Typ kann nicht erstellt werden."" msgid ""Unable to create share group."" msgstr ""Konnte Gruppenfreigabe nicht erstellen.""msgid """" ""Unable to delete share group snapshot \""%s\"". One or more share groups "" ""depend on it."" msgstr """" ""Konnte die Schattenkopie \""%s\"" der Freigabegruppe nicht löschen. Eine oder "" ""mehre Freigabegruppen hängen davon ab."" #, python-formatmsgid ""Unable to get information about share group type access."" msgstr """" ""Informationen über den Zugriff auf Gruppenfreigaben können nicht abgerufen "" ""werden."" #, python-format msgid ""Unable to get the specified share group '%s' for snapshot creation."" msgstr """" ""Konnte die Spezifikationen zur Gruppenfreigabe '%s' für "" ""Schattenkopieerstellung nicht empfangen."" msgid ""Unable to load the specified share group snapshot."" msgstr ""Konnte spezifizierte Schattenkopie der Gruppenfreigabe nicht laden."" msgstr ""Status der Gruppenfreigabe '%s' kann nicht zurückgesetzt werden."" #, python-format msgid ""Unable to reset status of share group snapshot '%s'."" msgstr ""Konnte die Schattenkopie '%s' der Freigabegruppe nicht zurücksetzen.""msgstr ""Gruppenfreigabe '%s' kann nicht abgerufen werden.""msgstr ""Gruppenfreigaben Details können nicht abgerufen werden.""msgid ""Unable to retrieve share group snapshot details."" msgstr """" ""Konnte die Details der Schattenkopie der Gruppenfreigabe nicht abrufen."" msgid ""Unable to retrieve share group snapshot list."" msgstr ""Konnte die Liste der Schattenkopien der Freigabegruppen nicht abrufen."" msgid ""Unable to retrieve share group snapshot."" msgstr ""Konnte Schattenkopie der Gruppenfreigabe nicht empfangen."" msgid ""Unable to retrieve share group snapshots."" msgstr ""Konnte Schattenkopien der Gruppenfreigabe nicht empfangen."" msgid ""Unable to retrieve share group."" msgstr ""Konnte Gruppenfreigabe nicht abrufen"" msgstr ""Gruppenfreigaben können nicht abgerufen werden.""msgid ""Unable to retrieve share snapshot rules."" msgstr ""Konnte Regeln für Freigabeschattenkopie nicht abrufen."" msgid ""Unable to retrieve share snapshot."" msgstr ""Konnte Freigabeschattenkopie nicht abrufen."" msgid ""Unable to retrieve share_gruop_type."" msgstr ""Konnte share_gruop_type nicht abrufen."" msgid ""Unable to update access for share group type \""%s\""."" msgstr """" ""Zugriff zum Gruppenfreigabetyp \""%s\"" konnte nicht aktualisiert werden."" #, python-format""Spezifikationen für Gruppenfreigabe Typ können nicht aktualisiert werden.""msgid ""Unable to update share group type."" msgstr ""Gruppenfreigabetyp konnte nicht aktualisiert werden."" msgid ""Unable to update share group."" msgstr ""Konnte Gruppenfreigabe nicht aktualisieren."" msgid ""Unable to update share snapshot."" msgstr ""Konnte Schattenkopie Gruppenfreigabe nicht aktualisieren."" msgid ""Update Share Snapshot"" msgstr ""Aktualisiere Freigabeschattenkopie"" msgid ""Updated access for share group type \""%s\""."" msgstr ""Zugriff zum Gruppenfreigabetyp aktualisiert \""%s\""."" #, python-formatmsgid ""Updating share group \""%s\"""" msgstr ""Aktualisiere Gruppenfreigabe \""%s\"""" #, python-formatmsgstr ""Gruppenfreigabe Schattenkopie \""%s\"" wird aktualisiert.""#, python-format msgid ""Updating share snapshot \""%s\"""" msgstr ""Aktualisiere Schattenkopie Gruppenfreigabe \""%s\"""" msgid ""Use share group snapshot as a source"" msgstr ""Benutze Gruppenfreigabe Schattenkopie als Quelle"" ","""Project-Id-Version: manila-ui 2.10.1.dev11\n""""POT-Creation-Date: 2017-08-14 14:51+0000\n""""PO-Revision-Date: 2017-08-14 11:22+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgstr ""Freigabegruppe Schattenkopie \""%s\"" erstellen.""msgstr[0] ""Freigabegruppe löschen"" msgstr[1] ""Freigabegruppen löschen""msgstr[0] ""Gelöschte Freigabegruppe"" msgstr[1] ""Gelöschte Freigabegruppen""msgstr ""Projekte mit Zugriff auf Freigabegruppentypen""msgstr ""Freigabegruppen Status zurücksetzen""msgstr ""Freigabegruppen Details: %s""msgstr ""Freigabegruppen Übersicht""msgstr ""Freigabegruppen""msgstr ""Freigabegruppen Typ erfolgreich erstellt: %s""msgstr ""Spezifikationen für Freigabegruppe Typ '%s' erfolgreich aktualisiert.""msgstr ""Freigabegruppen Typ kann nicht erstellt werden.""msgstr ""Status der Freigabegruppe '%s' kann nicht zurückgesetzt werden.""msgstr ""Freigabegruppe '%s' kann nicht abgerufen werden.""msgstr ""Freigabegruppen Details können nicht abgerufen werden.""msgstr ""Freigabegruppen können nicht abgerufen werden.""""Spezifikationen für Freigabegruppe Typ können nicht aktualisiert werden.""msgstr ""Freigabegruppe Schattenkopie \""%s\"" wird aktualisiert.""",177,23
openstack%2Fnova~master~Idc69876695e04d85df942ea2374d89342b27dc0f,openstack/nova,master,Idc69876695e04d85df942ea2374d89342b27dc0f,Correct statement in api-ref,MERGED,2017-08-21 03:34:09.000000000,2017-08-21 19:43:56.000000000,2017-08-21 19:43:56.000000000,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 6167}]","[{'number': 1, 'created': '2017-08-21 03:34:09.000000000', 'files': ['api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/76323b39db6b46f22817ab2b28f3624b53bd7eff', 'message': 'Correct statement in api-ref\n\nChange-Id: Idc69876695e04d85df942ea2374d89342b27dc0f\n'}]",0,495724,76323b39db6b46f22817ab2b28f3624b53bd7eff,16,3,1,22056,,,0,"Correct statement in api-ref

Change-Id: Idc69876695e04d85df942ea2374d89342b27dc0f
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/495724/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers.inc'],1,76323b39db6b46f22817ab2b28f3624b53bd7eff,api-ref,"the API soft delete the instance, so that the instance won't be","the API soft delete the instance, so that the instance's vm won't be",1,1
openstack%2Ftempest~master~I1c0b62cb29268fb4d34ab769eaf35139c4204509,openstack/tempest,master,I1c0b62cb29268fb4d34ab769eaf35139c4204509,Fix unit test that break isolation,MERGED,2017-08-17 11:09:38.000000000,2017-08-21 19:43:47.000000000,2017-08-21 19:43:47.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-08-17 11:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0a5a8379031af2a0f5eb4ffc370952d497d04fb', 'message': 'Fix unit test that break isolation\n\nUnit test that require configuration should use the configuration\nfixture and set_default so that configuration changes stay isolated\nto the specific test.\n\nTests in test_base_test break this rule and cause race conditions\nin other tests, fixing that.\n\nChange-Id: I1c0b62cb29268fb4d34ab769eaf35139c4204509\n'}, {'number': 2, 'created': '2017-08-17 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0070492b3507c447b6ae617b9a4ddb6d854eb541', 'message': 'Fix unit test that break isolation\n\nUnit test that require configuration should use the configuration\nfixture and set_default so that configuration changes stay isolated\nto the specific test.\n\nTests in test_base_test break this rule and cause race conditions\nin other tests, fixing that.\n\nChange-Id: I1c0b62cb29268fb4d34ab769eaf35139c4204509\n'}, {'number': 3, 'created': '2017-08-18 11:22:48.000000000', 'files': ['tempest/tests/test_base_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5fdfc9bfe0d9f6c2e003fdb46bd74c32e812e335', 'message': 'Fix unit test that break isolation\n\nUnit test that require configuration should use the configuration\nfixture and set_default so that configuration changes stay isolated\nto the specific test.\n\nTests in test_base_test break this rule and cause race conditions\nin other tests, fixing that.\n\nChange-Id: I1c0b62cb29268fb4d34ab769eaf35139c4204509\n'}]",0,494481,5fdfc9bfe0d9f6c2e003fdb46bd74c32e812e335,14,4,3,1921,,,0,"Fix unit test that break isolation

Unit test that require configuration should use the configuration
fixture and set_default so that configuration changes stay isolated
to the specific test.

Tests in test_base_test break this rule and cause race conditions
in other tests, fixing that.

Change-Id: I1c0b62cb29268fb4d34ab769eaf35139c4204509
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/494481/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/test_base_test.py'],1,a0a5a8379031af2a0f5eb4ffc370952d497d04fb,test_module_stable,"from oslo_config import cfg cfg.CONF.set_default('fixed_network_name', self.fixed_network_name, 'compute') cfg.CONF.set_default('neutron', True, 'service_available')", config.CONF.compute.fixed_network_name = self.fixed_network_name config.CONF.service_available.neutron = True,4,2
openstack%2Ftempest~master~I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b,openstack/tempest,master,I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b,Add comments for test module of tempest.test.idempotent_id,MERGED,2017-07-27 11:47:55.000000000,2017-08-21 19:43:38.000000000,2017-08-21 19:43:38.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 19262}, {'_account_id': 25388}, {'_account_id': 25456}]","[{'number': 1, 'created': '2017-07-27 11:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e528a2d25d13d343a35d30fdb66ac37cf18696d3', 'message': ""Fix the deprecate tempest.test.idempotent_id\n\nDeprecationWarning: Function 'tempest.test.idempotent_id()' has moved\nto 'tempest.lib.decorators.idempotent_id()' in version 'Mitaka' and will\nbe removed in a future version. This change is to fix it.\n\nChange-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b\n""}, {'number': 2, 'created': '2017-08-18 09:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5440537c5da7ddc1967420493f82e3e8abc308e3', 'message': ""Fix the deprecate tempest.test.idempotent_id\n\nDeprecationWarning: Function 'tempest.test.idempotent_id()' has moved\nto 'tempest.lib.decorators.idempotent_id()' in version 'Mitaka' and will\nbe removed in a future version. This change is to fix it.\n\nChange-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b\n""}, {'number': 3, 'created': '2017-08-18 09:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c0e5c5837fb04143bd8b36b29c410e3f544dff1e', 'message': 'Add comments for test module of tempest.test.idemppotent_id\n\nThe comments is:\n# NOTE: The test module is for tempest.test.idemppotent_id.\n# After all projects switch to use decorators.idempotent_id,\n# we can remove tempest.test.idemppotent_id as well as this\n# test module.\n\n\nChange-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b\n'}, {'number': 4, 'created': '2017-08-18 20:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d31e9f0443c1447ad08d4a10685b8f70e4d9190f', 'message': 'Add comments for test module of tempest.test.idemppotent_id\n\nThe comments is:\n# NOTE: The test module is for tempest.test.idemppotent_id.\n# After all projects switch to use decorators.idempotent_id,\n# we can remove tempest.test.idemppotent_id as well as this\n# test module.\n\n\nChange-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b\n'}, {'number': 5, 'created': '2017-08-21 03:32:02.000000000', 'files': ['tempest/tests/test_decorators.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc4ef74503cc4b3ecc594435a5ccbb330a298dff', 'message': 'Add comments for test module of tempest.test.idempotent_id\n\nAlthough the depreciate warning is generated, we can not use\ntempest.lib.decorators instead here, because the module is for\ntesting tempest.test.idempotent_id itself. We can not remove\nthis test module because some projects still use the depreciate\none. Adding the comments is for people that this depreciate\nwarning will be still here before all the projects switch to use\ntempest.lib.decorators, then we can remove this test module, but\nthis may need a period of time.\n\n\nChange-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b\n'}]",7,487816,cc4ef74503cc4b3ecc594435a5ccbb330a298dff,27,9,5,25456,,,0,"Add comments for test module of tempest.test.idempotent_id

Although the depreciate warning is generated, we can not use
tempest.lib.decorators instead here, because the module is for
testing tempest.test.idempotent_id itself. We can not remove
this test module because some projects still use the depreciate
one. Adding the comments is for people that this depreciate
warning will be still here before all the projects switch to use
tempest.lib.decorators, then we can remove this test module, but
this may need a period of time.


Change-Id: I188f1a6502f42e9eb4794aeea76c3ed06dcd4b3b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/16/487816/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/test_decorators.py'],1,e528a2d25d13d343a35d30fdb66ac37cf18696d3,fix-deprecated,from tempest.lib import decorators @decorators.idempotent_id(_id) @decorators.idempotent_id(_id), @test.idempotent_id(_id) @test.idempotent_id(_id),3,2
openstack%2Fswift~master~Ic59d3886b5fc0af10ea53d6d825a4f566402e367,openstack/swift,master,Ic59d3886b5fc0af10ea53d6d825a4f566402e367,Update reno for stable/pike,MERGED,2017-08-21 13:47:07.000000000,2017-08-21 19:43:30.000000000,2017-08-21 19:43:30.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-08-21 13:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3df30f996453e0816a194b4dfc395ec88cf34cba', 'message': 'Update reno for stable/pike\n\nChange-Id: Ic59d3886b5fc0af10ea53d6d825a4f566402e367\n'}, {'number': 2, 'created': '2017-08-21 16:19:41.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/26a2361f6bf9b1d269ed5907a26b4c4f31744307', 'message': 'Update reno for stable/pike\n\nChange-Id: Ic59d3886b5fc0af10ea53d6d825a4f566402e367\n'}]",0,495860,26a2361f6bf9b1d269ed5907a26b4c4f31744307,10,4,2,22816,,,0,"Update reno for stable/pike

Change-Id: Ic59d3886b5fc0af10ea53d6d825a4f566402e367
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/495860/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/pike.rst'],1,3df30f996453e0816a194b4dfc395ec88cf34cba,reno-pike,=================================== Pike Series Release Notes =================================== .. release-notes:: :branch: stable/pike ,,6,0
openstack%2Ftempest~master~I28d9ce6a435af1f9213c50569d2addf89c722ae3,openstack/tempest,master,I28d9ce6a435af1f9213c50569d2addf89c722ae3,Py3: Finish the python3 port,MERGED,2017-08-09 06:57:22.000000000,2017-08-21 19:42:01.000000000,2017-08-21 19:42:01.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 25388}]","[{'number': 1, 'created': '2017-08-09 06:57:22.000000000', 'files': ['tempest/tests/lib/test_ssh.py', 'tempest/api/object_storage/test_account_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/68cb44d488dab8cced28cbd34d6824671ae15809', 'message': 'Py3: Finish the python3 port\n\n- Use six.StringIO instead of StringIO [1].\n- Use six.int2byte instead of chr [1].\n[1] https://pythonhosted.org/six/\n\nChange-Id: I28d9ce6a435af1f9213c50569d2addf89c722ae3\nCloses-bug: #1709546\n'}]",0,492004,68cb44d488dab8cced28cbd34d6824671ae15809,9,4,1,25456,,,0,"Py3: Finish the python3 port

- Use six.StringIO instead of StringIO [1].
- Use six.int2byte instead of chr [1].
[1] https://pythonhosted.org/six/

Change-Id: I28d9ce6a435af1f9213c50569d2addf89c722ae3
Closes-bug: #1709546
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/492004/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/test_ssh.py', 'tempest/api/object_storage/test_account_services.py']",2,68cb44d488dab8cced28cbd34d6824671ae15809,bug/1709546, name = data_utils.rand_name(name='%s-' % six.int2byte(i)), name = data_utils.rand_name(name='%s-' % chr(i)),2,2
openstack%2Fglance~stable%2Fpike~Ibe164f02c99d10f5a5edd0de96c665413a12f700,openstack/glance,stable/pike,Ibe164f02c99d10f5a5edd0de96c665413a12f700,Fix Image API 'versions' response,MERGED,2017-08-21 15:35:58.000000000,2017-08-21 19:41:54.000000000,2017-08-21 19:41:54.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 15:35:58.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/tests/functional/test_api.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/fc65a9ef9c65d63d16e0b1e4b8ed952fe327b84d', 'message': ""Fix Image API 'versions' response\n\nWhether or not the v2.6 EXPERIMENTAL API is exposed at a site\ndepends on the enable_image_import config value.  If it's False\n(the default), then the API a client sees is the CURRENT v2.5\nAPI, and any of the v2.6 calls made against 2.5 return a 404\n(same as if you were running Ocata).  This patch adjusts the\n'versions' response so that when enable_image_import=False,\nthe EXPERIMENTAL v2.6 does not appear in the response.\n\nChange-Id: Ibe164f02c99d10f5a5edd0de96c665413a12f700\nCloses-bug: #1711829\n(cherry picked from commit d3871a57b895902432bc7ddb98f9bb757cc2502b)\n""}]",0,495907,fc65a9ef9c65d63d16e0b1e4b8ed952fe327b84d,8,4,1,5314,,,0,"Fix Image API 'versions' response

Whether or not the v2.6 EXPERIMENTAL API is exposed at a site
depends on the enable_image_import config value.  If it's False
(the default), then the API a client sees is the CURRENT v2.5
API, and any of the v2.6 calls made against 2.5 return a 404
(same as if you were running Ocata).  This patch adjusts the
'versions' response so that when enable_image_import=False,
the EXPERIMENTAL v2.6 does not appear in the response.

Change-Id: Ibe164f02c99d10f5a5edd0de96c665413a12f700
Closes-bug: #1711829
(cherry picked from commit d3871a57b895902432bc7ddb98f9bb757cc2502b)
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/495907/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/tests/functional/test_api.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'glance/tests/functional/__init__.py']",5,fc65a9ef9c65d63d16e0b1e4b8ed952fe327b84d,bug/1711829," # TODO(rosmaita): remove in Queens when the option is removed # also, don't forget to remove it from ApiServer.conf_base self.enable_image_import = Falseenable_image_import = %(enable_image_import)s",,472,372
openstack%2Fpython-glanceclient~master~I4de4be7a55f35c3533b53acd48042c7c95b4bdc0,openstack/python-glanceclient,master,I4de4be7a55f35c3533b53acd48042c7c95b4bdc0,stage call fails with TypeError,MERGED,2017-08-16 10:44:49.000000000,2017-08-21 19:37:02.000000000,2017-08-21 12:23:37.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-16 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/169e547425b9294099abf7d1af6d7ab59f42578d', 'message': ""stage call fails with TypeError\n\nimage-stage call fails with TypeError saying 'stage() takes exactly\n3 arguments (4 given). The reason is stage() also accepts image_size\nas a argument which is not provided.\n\nFurther it raises 'NoneType' object has no attribute 'headers'. The\nreason is stage() internally calls upload method which\nreturns a object of RequestIdWrapper on body (which is None) and\nresponse. In stage call it again tries to add request id which requires\nresponse object but instead it has a RequestIdWrapper which fails to\nretrieve headers.\n\nChange-Id: I4de4be7a55f35c3533b53acd48042c7c95b4bdc0\nCloses-bug: #1711090\n""}, {'number': 2, 'created': '2017-08-17 06:08:43.000000000', 'files': ['glanceclient/v2/images.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0e50837a374958d2863deef890879c960a05d8aa', 'message': ""stage call fails with TypeError\n\nimage-stage call fails with TypeError saying 'stage() takes exactly\n3 arguments (4 given). The reason is stage() also accepts image_size\nas a argument which is not provided.\n\nFurther it raises 'NoneType' object has no attribute 'headers'. The\nreason is stage() internally calls upload method which\nreturns a object of RequestIdWrapper on body (which is None) and\nresponse. In stage call it again tries to add request id which requires\nresponse object but instead it has a RequestIdWrapper which fails to\nretrieve headers.\n\nChange-Id: I4de4be7a55f35c3533b53acd48042c7c95b4bdc0\nCloses-bug: #1711090\n""}]",4,494160,0e50837a374958d2863deef890879c960a05d8aa,13,5,2,9303,,,0,"stage call fails with TypeError

image-stage call fails with TypeError saying 'stage() takes exactly
3 arguments (4 given). The reason is stage() also accepts image_size
as a argument which is not provided.

Further it raises 'NoneType' object has no attribute 'headers'. The
reason is stage() internally calls upload method which
returns a object of RequestIdWrapper on body (which is None) and
response. In stage call it again tries to add request id which requires
response object but instead it has a RequestIdWrapper which fails to
retrieve headers.

Change-Id: I4de4be7a55f35c3533b53acd48042c7c95b4bdc0
Closes-bug: #1711090
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/60/494160/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v2/images.py'],1,169e547425b9294099abf7d1af6d7ab59f42578d,bug/1711090," def stage(self, image_id, image_data, image_size): resp, body = self.upload(image_id, image_data, u_url=url) return body, resp"," def stage(self, image_id, image_data): return self.upload(image_id, image_data, u_url=url)",5,4
openstack%2Fopenstack-ansible-memcached_server~stable%2Fnewton~I6782320bf429cde17dff00401e7f136cfc979cee,openstack/openstack-ansible-memcached_server,stable/newton,I6782320bf429cde17dff00401e7f136cfc979cee,Add automatic restart for memcached,MERGED,2017-08-18 14:48:59.000000000,2017-08-21 19:18:59.000000000,2017-08-21 19:17:54.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 14:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/2f62c38050a0b2ba20a2055269f74f099926308e', 'message': 'Add automatic restart for memcached\n\nThis patch ensures that systemd will restart memcached in case of\nfailure or if the process is manually killed.\n\nCloses-Bug: 1659954\nChange-Id: I6782320bf429cde17dff00401e7f136cfc979cee\n(cherry picked from commit 4ec27e687422ba3e9840b998987c73e1758fc1d3)\n'}, {'number': 2, 'created': '2017-08-18 18:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/ee8d86e9cfdecfeab8475d8c41477c839afdb93f', 'message': 'Add automatic restart for memcached\n\nThis patch ensures that systemd will restart memcached in case of\nfailure or if the process is manually killed.\n\nCloses-Bug: 1659954\nChange-Id: I6782320bf429cde17dff00401e7f136cfc979cee\n(cherry picked from commit 4ec27e687422ba3e9840b998987c73e1758fc1d3)\n'}, {'number': 3, 'created': '2017-08-21 19:11:49.000000000', 'files': ['templates/systemd-restart-on-failure.conf.j2', 'tasks/memcached_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/0afdcad49d6d08410f1f0227619e9a984a34570f', 'message': 'Add automatic restart for memcached\n\nThis patch ensures that systemd will restart memcached in case of\nfailure or if the process is manually killed.\n\nCloses-Bug: 1659954\nChange-Id: I6782320bf429cde17dff00401e7f136cfc979cee\n(cherry picked from commit 4ec27e687422ba3e9840b998987c73e1758fc1d3)\n'}]",0,495339,0afdcad49d6d08410f1f0227619e9a984a34570f,16,4,3,538,,,0,"Add automatic restart for memcached

This patch ensures that systemd will restart memcached in case of
failure or if the process is manually killed.

Closes-Bug: 1659954
Change-Id: I6782320bf429cde17dff00401e7f136cfc979cee
(cherry picked from commit 4ec27e687422ba3e9840b998987c73e1758fc1d3)
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/39/495339/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd-restart-on-failure.conf.j2', 'tasks/memcached_config.yml']",2,2f62c38050a0b2ba20a2055269f74f099926308e,bug/1659954,"- name: Add automatic restart on failure template: src: systemd-restart-on-failure.conf.j2 dest: ""/etc/systemd/system/memcached.service.d/systemd-restart-on-failure.conf"" when: - ansible_service_mgr == 'systemd' notify: Restart memcached ",,12,0
openstack%2Freleases~master~I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4,openstack/releases,master,I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4,Release vitrage and vitrage-dashboard,MERGED,2017-08-21 18:23:24.000000000,2017-08-21 19:05:55.000000000,2017-08-21 19:05:54.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-08-21 18:23:24.000000000', 'files': ['deliverables/pike/vitrage.yaml', 'deliverables/pike/vitrage-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ddc7f81b5af462e9c3186c60f4a291ae64ac6346', 'message': 'Release vitrage and vitrage-dashboard\n\nChange-Id: I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4\n'}]",0,495949,ddc7f81b5af462e9c3186c60f4a291ae64ac6346,7,2,1,19184,,,0,"Release vitrage and vitrage-dashboard

Change-Id: I60ccbc8ddf3ec32a94594df2f41a5a47f47adde4
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/495949/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/vitrage.yaml', 'deliverables/pike/vitrage-dashboard.yaml']",2,ddc7f81b5af462e9c3186c60f4a291ae64ac6346,vitrage_pike, - version: 1.3.1 projects: - repo: openstack/vitrage-dashboard hash: 3ab435fa6b76c16c552a6cf95b4e16cc29499c13,,8,0
openstack%2Freleases~master~Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774,openstack/releases,master,Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774,Release Panko for Pike,MERGED,2017-08-21 17:12:14.000000000,2017-08-21 19:05:33.000000000,2017-08-21 19:05:33.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-08-21 17:12:14.000000000', 'files': ['deliverables/pike/panko.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0681787c512e4b763a051119c21e8da0db82136c', 'message': 'Release Panko for Pike\n\nChange-Id: Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774\n'}]",0,495933,0681787c512e4b763a051119c21e8da0db82136c,6,2,1,1669,,,0,"Release Panko for Pike

Change-Id: Ia9fb3548ec529d1c7dbb6e181f8e333cf1b76774
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/495933/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/panko.yaml'],1,0681787c512e4b763a051119c21e8da0db82136c,panko-pike,releases: - projects: - hash: 7f811a3fa915f1d18cbc817e892957324183761a repo: openstack/panko version: 3.0.0 branches: - location: 3.0.0 name: stable/pike,,8,0
openstack%2Fneutron-lib~master~I96d7859e4435a840387c44d0b2e6f2c01932cadd,openstack/neutron-lib,master,I96d7859e4435a840387c44d0b2e6f2c01932cadd,add rbac info for data plane status extension,ABANDONED,2017-08-21 18:08:37.000000000,2017-08-21 19:05:10.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-21 18:08:37.000000000', 'files': ['api-ref/source/v2/ports.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3d87088e608d0fec46ece9a757da02b3d01b8dc8', 'message': ""add rbac info for data plane status extension\n\nBased on the work in I04eef902b3310f799b1ce7ea44ed7cf77c74da04, the\napi-ref was updated for the data_plane_status port extension, but IIUC\nwe haven't noted the access required for this extension. While our users\nare likely familiar with administrator based extensions, this extension\nuses a new 'data_plane_status' role which maybe unfamiliar.\n\nThis patch proposes we add some info the api-ref for the extension to\nnote the default access required.\n\nChange-Id: I96d7859e4435a840387c44d0b2e6f2c01932cadd\nCloses-Bug: #1683102\n""}]",0,495946,3d87088e608d0fec46ece9a757da02b3d01b8dc8,3,1,1,5367,,,0,"add rbac info for data plane status extension

Based on the work in I04eef902b3310f799b1ce7ea44ed7cf77c74da04, the
api-ref was updated for the data_plane_status port extension, but IIUC
we haven't noted the access required for this extension. While our users
are likely familiar with administrator based extensions, this extension
uses a new 'data_plane_status' role which maybe unfamiliar.

This patch proposes we add some info the api-ref for the extension to
note the default access required.

Change-Id: I96d7859e4435a840387c44d0b2e6f2c01932cadd
Closes-Bug: #1683102
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/46/495946/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/ports.inc'],1,3d87088e608d0fec46ece9a757da02b3d01b8dc8,bug/1683102,attributes are independent from one another and by default are accessible by administrators and users with the ``data_plane_integrator`` role.,attributes are independent from one another.,2,1
openstack%2Fglance~master~I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5,openstack/glance,master,I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5,Add release note for Glance Pike RC-2,MERGED,2017-08-18 21:29:30.000000000,2017-08-21 19:03:49.000000000,2017-08-21 18:49:37.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-18 21:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/35a4f1e383396c30d69195ad7f8a36d4f42756d4', 'message': 'Add release note for Glance Pike RC-2\n\nChange-Id: I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5\n'}, {'number': 2, 'created': '2017-08-18 22:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/84e569c972eb2057b0c4711e3d66f8a54b12eaf3', 'message': 'Add release note for Glance Pike RC-2\n\nChange-Id: I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5\n'}, {'number': 3, 'created': '2017-08-19 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/669f8f0b2eda762ad56eb30b4d53ee66cf8e1521', 'message': 'Add release note for Glance Pike RC-2\n\nChange-Id: I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5\n'}, {'number': 4, 'created': '2017-08-21 13:41:48.000000000', 'files': ['releasenotes/notes/pike-rc-2-acc173005045e16a.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/2efc5b8fff4237d50d222617afd59bcd07f9d207', 'message': 'Add release note for Glance Pike RC-2\n\nChange-Id: I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5\n'}]",2,495437,2efc5b8fff4237d50d222617afd59bcd07f9d207,23,5,4,5314,,,0,"Add release note for Glance Pike RC-2

Change-Id: I3815305e3b9d86eadfbaf6b9cf4d0867fc664fb5
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/495437/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/pike-rc-2-acc173005045e16a.yaml'],1,35a4f1e383396c30d69195ad7f8a36d4f42756d4,pike-rc-2-relnote,"--- features: - | A new policy, ``tasks_api_access`` has been introduced so that ordinary user credentials may be used by Glance to manage the tasks that accomplish the interoperable image import process without requiring that operators expose the Tasks API to end users. upgrade: - | If you wish to enable the EXPERIMENTAL version 2.6 API that contains the new interoperable image import functionality, set the configuration option ``enable_image_import`` to True in the glance-api.conf file. The default value for this option is False. Additionally, you will need to verify that the task-related policies are set correctly. These settings are described below. - | A new policy, ``tasks_api_access`` has been introduced so that ordinary user credentials may be used by Glance to manage the tasks that accomplish the interoperable image import process without requiring that operators expose the Tasks API to end users. The `Tasks API`_ was made admin-only by default in Mitaka by restricting the following policy targets to **role:admin**: **get_task**, **get_tasks**, **add_task**, and **modify_task**. The new ``tasks_api_access`` policy target directly controls access to the Tasks API, whereas targets just mentioned indirectly affect what can be manipulated via the API by controlling what operations can be performed on Glance's internal task objects. The key point is that if you want to expose the new interoperable image import process to end users while keeping the Tasks API admin-only, you can accomplish this by using the following settings: .. code-block:: none ""get_task"": """" ""get_tasks"": """" ""add_task"": """" ""modify_task"": """" ""tasks_api_access"": ""role:admin"" To summarize: end users do **not** need access to the Tasks API in order to use the new interoperable image import process. They do, however, need permission to access internal Glance task objects. We recommend that all operators adopt the policy settings just described independently of the decision whether to expose the EXPERIMENTAL version 2.6 API. .. _`Tasks API`: https://developer.openstack.org/api-ref/image/v2/index.html#tasks security: - | A new policy, ``tasks_api_access`` has been introduced so that ordinary user credentials may be used by Glance to manage the tasks that accomplish the interoperable image import process without requiring that operators expose the Tasks API to end users. This is a good time to review your Glance ``policy.json`` file to make sure that if it contains a ``default`` target, the rule is fairly restrictive (""role:admin"" or ""!"" are good choices). The ``default`` target is used when the policy engine cannot find the target it's looking for. This can happen when a new policy is introduced but the policy file in use is from a prior release. other: - | The Image Service API Reference has been updated with a section on the `Interoperable image import`_ process (also known as ""image import refactored"") and the API calls that are exposed to implement it in the EXPERIMENTAL v2.6 of the API. .. _`Interoperable image import`: https://developer.openstack.org/api-ref/image/v2/index.html#interoperable-image-import ",,74,0
openstack%2Freleases~master~I8bfc6720221096f31fed59056393a2303fd459a8,openstack/releases,master,I8bfc6720221096f31fed59056393a2303fd459a8,Release Ceilometer for Pike,MERGED,2017-08-21 17:08:19.000000000,2017-08-21 19:03:13.000000000,2017-08-21 19:03:13.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 17:08:19.000000000', 'files': ['deliverables/pike/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aa82032c8073f131d521752413be88f074d6915a', 'message': 'Release Ceilometer for Pike\n\nChange-Id: I8bfc6720221096f31fed59056393a2303fd459a8\n'}]",0,495932,aa82032c8073f131d521752413be88f074d6915a,7,3,1,1669,,,0,"Release Ceilometer for Pike

Change-Id: I8bfc6720221096f31fed59056393a2303fd459a8
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/495932/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/ceilometer.yaml'],1,aa82032c8073f131d521752413be88f074d6915a,ceilometer-pike,releases: - projects: - hash: 04352f339db2eec1382b2f085651200774b56f29 repo: openstack/ceilometer version: 9.0.0 branches: - location: 9.0.0 name: stable/pike,,8,0
openstack%2Fglance~master~Ifbedc2e5e566db084bc7028ed4239485f0d68b18,openstack/glance,master,Ifbedc2e5e566db084bc7028ed4239485f0d68b18,api-ref: add interoperable image import docs,MERGED,2017-08-16 15:28:08.000000000,2017-08-21 19:02:06.000000000,2017-08-21 18:49:30.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-16 15:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b8009f707341f80ac414feb496e847555cb4e147', 'message': 'api-ref: add interoperable image import docs\n\nAdds documentation of the interoperable image import process\nintroduced in Pike in the EXPERIMENTAL Image API v2.6.\n\nChange-Id: Ifbedc2e5e566db084bc7028ed4239485f0d68b18\n'}, {'number': 2, 'created': '2017-08-16 15:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3b12b8170b3385c67836078f6d1f6e67eb785df0', 'message': 'api-ref: add interoperable image import docs\n\nAdds documentation of the interoperable image import process\nintroduced in Pike in the EXPERIMENTAL Image API v2.6.\n\nChange-Id: Ifbedc2e5e566db084bc7028ed4239485f0d68b18\n'}, {'number': 3, 'created': '2017-08-21 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a90ecdba8c1bf69dae142d8ef9db379a35849bed', 'message': 'api-ref: add interoperable image import docs\n\nAdds documentation of the interoperable image import process\nintroduced in Pike in the EXPERIMENTAL Image API v2.6.\n\nChange-Id: Ifbedc2e5e566db084bc7028ed4239485f0d68b18\n'}, {'number': 4, 'created': '2017-08-21 14:42:54.000000000', 'files': ['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/samples/image-info-import-response.json', 'api-ref/source/v2/images-import.inc', 'api-ref/source/v2/samples/image-import-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/images-images-v2.inc', 'api-ref/source/versions/versions.inc'], 'web_link': 'https://opendev.org/openstack/glance/commit/8005ee994cbbfb25575d13cd2d243e510c5e33d1', 'message': 'api-ref: add interoperable image import docs\n\nAdds documentation of the interoperable image import process\nintroduced in Pike in the EXPERIMENTAL Image API v2.6.\n\nChange-Id: Ifbedc2e5e566db084bc7028ed4239485f0d68b18\n'}]",8,494243,8005ee994cbbfb25575d13cd2d243e510c5e33d1,19,5,4,5314,,,0,"api-ref: add interoperable image import docs

Adds documentation of the interoperable image import process
introduced in Pike in the EXPERIMENTAL Image API v2.6.

Change-Id: Ifbedc2e5e566db084bc7028ed4239485f0d68b18
",git fetch https://review.opendev.org/openstack/glance refs/changes/43/494243/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/samples/image-info-import-response.json', 'api-ref/source/v2/images-import.inc', 'api-ref/source/v2/samples/image-import-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/images-images-v2.inc']",6,b8009f707341f80ac414feb496e847555cb4e147,api-ref-import-calls,.. _image-create: - OpenStack-image-import-methods: import-header,,286,0
openstack%2Ftripleo-heat-templates~master~Ibecc461b0c9af02500f590a1f7469d7e4ff20d95,openstack/tripleo-heat-templates,master,Ibecc461b0c9af02500f590a1f7469d7e4ff20d95,TLS everywhere/haproxy: Remove empty postsave command,MERGED,2017-08-18 12:08:23.000000000,2017-08-21 18:55:35.000000000,2017-08-21 18:55:35.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-08-18 12:08:23.000000000', 'files': ['puppet/services/haproxy-internal-tls-certmonger.yaml', 'puppet/services/haproxy-public-tls-certmonger.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d1a7f36be0b335998b343b44d919cc927698ea0', 'message': 'TLS everywhere/haproxy: Remove empty postsave command\n\nThis is addressed by the patch this depends on.\n\nbp tls-via-certmonger\nDepends-On: I62ff89362cfcc80e6e62fad09110918c36802813\n\nChange-Id: Ibecc461b0c9af02500f590a1f7469d7e4ff20d95\n'}]",0,495288,0d1a7f36be0b335998b343b44d919cc927698ea0,20,5,1,10873,,,0,"TLS everywhere/haproxy: Remove empty postsave command

This is addressed by the patch this depends on.

bp tls-via-certmonger
Depends-On: I62ff89362cfcc80e6e62fad09110918c36802813

Change-Id: Ibecc461b0c9af02500f590a1f7469d7e4ff20d95
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/495288/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/haproxy-internal-tls-certmonger.yaml', 'puppet/services/haproxy-public-tls-certmonger.yaml']",2,0d1a7f36be0b335998b343b44d919cc927698ea0,bp/tls-via-certmonger,," postsave_cmd: """" # TODO",0,2
openstack%2Fswift~master~Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44,openstack/swift,master,Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44,More test cases for final_recon_dump,ABANDONED,2017-08-21 16:45:40.000000000,2017-08-21 18:52:51.000000000,,[{'_account_id': 13052}],"[{'number': 1, 'created': '2017-08-21 16:45:40.000000000', 'files': ['test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6961d24a1a0294fa5c2d788a57f1ce8ed96c5d18', 'message': 'More test cases for final_recon_dump\n\nChange-Id: Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44\nRelated-Change: I84c07fc6841119b00d1a74078fe53f4ce637187b\n'}]",0,495921,6961d24a1a0294fa5c2d788a57f1ce8ed96c5d18,3,1,1,7847,,,0,"More test cases for final_recon_dump

Change-Id: Ie54478f65ac68d6ebc5b9849f4a5ef57d1ab3c44
Related-Change: I84c07fc6841119b00d1a74078fe53f4ce637187b
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/495921/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_reconstructor.py'],1,6961d24a1a0294fa5c2d788a57f1ce8ed96c5d18,495805," def check_per_disk_stats(before, now, old_total, total, override_devices): with mock.patch('swift.obj.reconstructor.time.time', return_value=now), \ mock.patch('swift.obj.reconstructor.os.getpid', return_value='pid-1'): reconstructor.final_recon_dump( total, override_devices=override_devices) with open(self.rcache) as f: data = json.load(f) self.assertEqual({ 'object_reconstruction_last': before, 'object_reconstruction_time': old_total, 'object_reconstruction_per_disk': { 'sda': { 'object_reconstruction_last': now, 'object_reconstruction_time': total, 'pid': 'pid-1', }, 'sdc': { 'object_reconstruction_last': now, 'object_reconstruction_time': total, 'pid': 'pid-1', }, }, }, data) # per_disk_stats with workers and local_devices check_per_disk_stats(before, now, old_total, total, ['sda', 'sdc']) # per_disk_stats with workers and local_devices but no overrides reconstructor.reconstructor_workers = 1 total = 17.0 now += total * 60 check_per_disk_stats(before, now, old_total, total, []) # set per disk stats again... reconstructor.reconstructor_workers = 1 old_total = total total = 18.0 before = now now += total * 60 check_per_disk_stats(before, now, old_total, total, ['sda', 'sdc']) # ...then remove all devices and check we clear out per-disk stats reconstructor.all_local_devices = [] total = 20.0 now += total * 60 with mock.patch('swift.obj.reconstructor.time.time', return_value=now): reconstructor.final_recon_dump(total) with open(self.rcache) as f: data = json.load(f) self.assertEqual({ 'object_reconstruction_last': now, 'object_reconstruction_time': total, }, data) "," # per_disk_stats with workers with mock.patch('swift.obj.reconstructor.time.time', return_value=now), \ mock.patch('swift.obj.reconstructor.os.getpid', return_value='pid-1'): reconstructor.final_recon_dump(total, override_devices=[ 'sda', 'sdc']) with open(self.rcache) as f: data = json.load(f) self.assertEqual({ 'object_reconstruction_last': before, 'object_reconstruction_time': old_total, 'object_reconstruction_per_disk': { 'sda': { 'object_reconstruction_last': now, 'object_reconstruction_time': total, 'pid': 'pid-1', }, 'sdc': { 'object_reconstruction_last': now, 'object_reconstruction_time': total, 'pid': 'pid-1', }, }, }, data)",58,25
openstack%2Fpython-ironicclient~master~Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04,openstack/python-ironicclient,master,Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04,Updated from global requirements,MERGED,2017-08-18 04:51:25.000000000,2017-08-21 18:52:25.000000000,2017-08-21 18:52:25.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-08-18 04:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/dd8de80dde3a12f5b4b043fee28daa94173ff05c', 'message': 'Updated from global requirements\n\nChange-Id: Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04\n'}, {'number': 2, 'created': '2017-08-18 11:41:23.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/14b546328929ca3b130ecda8bbaae004c2de4687', 'message': 'Updated from global requirements\n\nChange-Id: Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04\n'}]",0,494896,14b546328929ca3b130ecda8bbaae004c2de4687,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ia1bb352cebf00b900dee80d5cc5ef44a30f90c04
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/96/494896/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,dd8de80dde3a12f5b4b043fee28daa94173ff05c,openstack/requirements,requests-mock>=1.1.0 # Apache-2.0 mock>=2.0.0 # BSD,requests-mock>=1.1 # Apache-2.0 mock>=2.0 # BSD,3,3
openstack%2Fopenstack-ansible-repo_build~master~I8d3b9dca7c1733b2d4ca11fda351846db1d775a7,openstack/openstack-ansible-repo_build,master,I8d3b9dca7c1733b2d4ca11fda351846db1d775a7,Update reno for stable/pike,MERGED,2017-08-18 08:01:02.000000000,2017-08-21 18:51:42.000000000,2017-08-21 18:51:42.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 08:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/5d48fef075600bdbe55e7b9af11707b7a07e0022', 'message': 'Update reno for stable/pike\n\nChange-Id: I8d3b9dca7c1733b2d4ca11fda351846db1d775a7\n'}, {'number': 2, 'created': '2017-08-18 12:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/1faf21dd98532247e0f650a88ce01603c5723501', 'message': 'Update reno for stable/pike\n\nChange-Id: I8d3b9dca7c1733b2d4ca11fda351846db1d775a7\n'}, {'number': 3, 'created': '2017-08-21 08:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/fbc6deb8ffb6220a55834ce9ca879ba0b0d8bb35', 'message': 'Update reno for stable/pike\n\nChange-Id: I8d3b9dca7c1733b2d4ca11fda351846db1d775a7\n'}, {'number': 4, 'created': '2017-08-21 09:35:11.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/2b27c0a0ca15e69d4920e2d8ebe3ece2c2722218', 'message': 'Update reno for stable/pike\n\nChange-Id: I8d3b9dca7c1733b2d4ca11fda351846db1d775a7\n'}]",0,495088,2b27c0a0ca15e69d4920e2d8ebe3ece2c2722218,15,5,4,22816,,,0,"Update reno for stable/pike

Change-Id: I8d3b9dca7c1733b2d4ca11fda351846db1d775a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/88/495088/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,5d48fef075600bdbe55e7b9af11707b7a07e0022,reno-pike, pike,,7,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~I1c5e7a626ff386eccfc603946233601f72df1c7d,openstack/openstack-ansible-rabbitmq_server,master,I1c5e7a626ff386eccfc603946233601f72df1c7d,Update reno for stable/pike,MERGED,2017-08-18 08:00:58.000000000,2017-08-21 18:51:36.000000000,2017-08-21 18:51:36.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 08:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7b334ce19f17ecd573ac39e1f3c76075aaa4a4a0', 'message': 'Update reno for stable/pike\n\nChange-Id: I1c5e7a626ff386eccfc603946233601f72df1c7d\n'}, {'number': 2, 'created': '2017-08-18 12:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/69d6e1c8bfd4ea4e208aaf47bfc2f9f242edd679', 'message': 'Update reno for stable/pike\n\nChange-Id: I1c5e7a626ff386eccfc603946233601f72df1c7d\n'}, {'number': 3, 'created': '2017-08-21 08:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/068dad049c10c9c8da86c9faf269c7171e75b2bb', 'message': 'Update reno for stable/pike\n\nChange-Id: I1c5e7a626ff386eccfc603946233601f72df1c7d\n'}, {'number': 4, 'created': '2017-08-21 09:34:54.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0ab6163904426f48ba344273c3bd6d82210b2582', 'message': 'Update reno for stable/pike\n\nChange-Id: I1c5e7a626ff386eccfc603946233601f72df1c7d\n'}]",0,495085,0ab6163904426f48ba344273c3bd6d82210b2582,15,5,4,22816,,,0,"Update reno for stable/pike

Change-Id: I1c5e7a626ff386eccfc603946233601f72df1c7d
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/85/495085/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,7b334ce19f17ecd573ac39e1f3c76075aaa4a4a0,reno-pike, pike,,7,0
openstack%2Fkolla~master~I4b49270a2e0781431e22dc411774e4c6440045d9,openstack/kolla,master,I4b49270a2e0781431e22dc411774e4c6440045d9,base: enable 'opstools' repo on AArch64/CentOS,MERGED,2017-08-21 11:54:35.000000000,2017-08-21 18:50:53.000000000,2017-08-21 18:50:53.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 25945}]","[{'number': 1, 'created': '2017-08-21 11:54:35.000000000', 'files': ['docker/base/aarch64-cbs.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f673da392698d057eeae97ed52ee0f99a76c3ee9', 'message': ""base: enable 'opstools' repo on AArch64/CentOS\n\nTo build 'fluentd' image we need to have 'opstools' repo enabled.\n\nOn x86-64 it is enabled by installing proper centos-release-opstools\npackage but this option is not available (yet) for aarch64.\n\nChange-Id: I4b49270a2e0781431e22dc411774e4c6440045d9\n""}]",0,495828,f673da392698d057eeae97ed52ee0f99a76c3ee9,12,6,1,24072,,,0,"base: enable 'opstools' repo on AArch64/CentOS

To build 'fluentd' image we need to have 'opstools' repo enabled.

On x86-64 it is enabled by installing proper centos-release-opstools
package but this option is not available (yet) for aarch64.

Change-Id: I4b49270a2e0781431e22dc411774e4c6440045d9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/495828/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/aarch64-cbs.repo'],1,f673da392698d057eeae97ed52ee0f99a76c3ee9,,[aarch64-opstools] name=CentOS opstools repo baseurl=https://buildlogs.centos.org/centos/7/opstools/aarch64 enabled=1 gpgcheck=0 ,,6,0
openstack%2Fopenstack-ansible-rsyslog_server~master~I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0,openstack/openstack-ansible-rsyslog_server,master,I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0,Update reno for stable/pike,MERGED,2017-08-18 08:01:16.000000000,2017-08-21 18:50:34.000000000,2017-08-21 18:50:34.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 08:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/0a95655d61678932a1009f052c8e81b205af289c', 'message': 'Update reno for stable/pike\n\nChange-Id: I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0\n'}, {'number': 2, 'created': '2017-08-18 12:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/e3434a82f031d11bcc64a72553b155da74d15d39', 'message': 'Update reno for stable/pike\n\nChange-Id: I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0\n'}, {'number': 3, 'created': '2017-08-21 08:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/e9be3915d7d5454d1df8d0adb86866b04db4c40f', 'message': 'Update reno for stable/pike\n\nChange-Id: I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0\n'}, {'number': 4, 'created': '2017-08-21 09:35:40.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/4200ec59ecb3bb486314ea0ba330aea1da40fb96', 'message': 'Update reno for stable/pike\n\nChange-Id: I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0\n'}]",0,495097,4200ec59ecb3bb486314ea0ba330aea1da40fb96,15,5,4,22816,,,0,"Update reno for stable/pike

Change-Id: I3717aa18caddd4e9f2262fa0ec357fe1ad8831d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/97/495097/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,0a95655d61678932a1009f052c8e81b205af289c,reno-pike, pike,,7,0
openstack%2Fopenstack-ansible-repo_server~master~I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89,openstack/openstack-ansible-repo_server,master,I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89,Update reno for stable/pike,MERGED,2017-08-18 08:01:07.000000000,2017-08-21 18:50:28.000000000,2017-08-21 18:50:28.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 08:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/466fa6a816cbc4777b549fb6702f482f301b7644', 'message': 'Update reno for stable/pike\n\nChange-Id: I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89\n'}, {'number': 2, 'created': '2017-08-18 12:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/98437856fe6ae6bf416dcfafd953c0515026d7b5', 'message': 'Update reno for stable/pike\n\nChange-Id: I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89\n'}, {'number': 3, 'created': '2017-08-21 08:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/9f9b7ff0dfe5d5d83a425ff5729daf3168ac6ab0', 'message': 'Update reno for stable/pike\n\nChange-Id: I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89\n'}, {'number': 4, 'created': '2017-08-21 09:35:23.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/1f3e57e953754239de0b8111d7324b87ca5c88c1', 'message': 'Update reno for stable/pike\n\nChange-Id: I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89\n'}]",0,495091,1f3e57e953754239de0b8111d7324b87ca5c88c1,15,5,4,22816,,,0,"Update reno for stable/pike

Change-Id: I3b9fd42f66d774b10114e10ea42fa8a9cdeceb89
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/91/495091/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,466fa6a816cbc4777b549fb6702f482f301b7644,reno-pike, pike,,7,0
openstack%2Fpython-saharaclient~master~I792b4e7f0182e042086555f612d188d6dea03cf1,openstack/python-saharaclient,master,I792b4e7f0182e042086555f612d188d6dea03cf1,Adding volume_mount_prefix parameter,MERGED,2017-08-14 19:15:32.000000000,2017-08-21 18:50:14.000000000,2017-08-21 18:50:14.000000000,"[{'_account_id': 3}, {'_account_id': 10459}, {'_account_id': 23078}]","[{'number': 1, 'created': '2017-08-14 19:15:32.000000000', 'files': ['saharaclient/osc/v1/node_group_templates.py', 'saharaclient/tests/unit/osc/v1/test_node_group_templates.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/4ac9f74fae84db8cc33206ab56a43a2538880c7f', 'message': 'Adding volume_mount_prefix parameter\n\nAdding this parameter to create and update on the CLI\n\nChange-Id: I792b4e7f0182e042086555f612d188d6dea03cf1\nCloses-bug: #1630563\n'}]",0,493647,4ac9f74fae84db8cc33206ab56a43a2538880c7f,12,3,1,8932,,,0,"Adding volume_mount_prefix parameter

Adding this parameter to create and update on the CLI

Change-Id: I792b4e7f0182e042086555f612d188d6dea03cf1
Closes-bug: #1630563
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/47/493647/1 && git format-patch -1 --stdout FETCH_HEAD,"['saharaclient/osc/v1/node_group_templates.py', 'saharaclient/tests/unit/osc/v1/test_node_group_templates.py']",2,4ac9f74fae84db8cc33206ab56a43a2538880c7f,bug/1630563," node_configs=None, volume_mount_prefix=None) volumes_size=2, shares=None, node_configs=None, volume_mount_prefix='/volume/asd') volumes_size=2, volume_mount_prefix='/volume/asd')"," node_configs=None) volumes_size=2, shares=None, node_configs=None) volumes_size=2)",10,5
openstack%2Fopenstack-ansible-rsyslog_client~master~Ic2a01b73b49534f552b35bd32778b4a7c97c905c,openstack/openstack-ansible-rsyslog_client,master,Ic2a01b73b49534f552b35bd32778b4a7c97c905c,Update reno for stable/pike,MERGED,2017-08-18 08:01:12.000000000,2017-08-21 18:50:09.000000000,2017-08-21 18:50:09.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 08:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/f9e262583654452de1c3f3abd37a5ccb3c24dec4', 'message': 'Update reno for stable/pike\n\nChange-Id: Ic2a01b73b49534f552b35bd32778b4a7c97c905c\n'}, {'number': 2, 'created': '2017-08-18 12:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/912291d3ce064205a2841165d46d282952830fb4', 'message': 'Update reno for stable/pike\n\nChange-Id: Ic2a01b73b49534f552b35bd32778b4a7c97c905c\n'}, {'number': 3, 'created': '2017-08-21 08:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/781f34f80bd96b2ac49cf6699ff4231846170e0b', 'message': 'Update reno for stable/pike\n\nChange-Id: Ic2a01b73b49534f552b35bd32778b4a7c97c905c\n'}, {'number': 4, 'created': '2017-08-21 09:35:54.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/cd0588d997fd1916b0b60ee9810dfd38732e2a95', 'message': 'Update reno for stable/pike\n\nChange-Id: Ic2a01b73b49534f552b35bd32778b4a7c97c905c\n'}]",0,495094,cd0588d997fd1916b0b60ee9810dfd38732e2a95,15,5,4,22816,,,0,"Update reno for stable/pike

Change-Id: Ic2a01b73b49534f552b35bd32778b4a7c97c905c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/94/495094/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,f9e262583654452de1c3f3abd37a5ccb3c24dec4,reno-pike, pike,,7,0
openstack%2Fopenstack-ansible-os_designate~master~Ifa0e3896b8a8cb118a422343a0d56f3e875990f0,openstack/openstack-ansible-os_designate,master,Ifa0e3896b8a8cb118a422343a0d56f3e875990f0,Update reno for stable/pike,MERGED,2017-08-18 08:01:19.000000000,2017-08-21 18:50:03.000000000,2017-08-21 18:50:03.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 08:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/ffcf1fdefc031ad43ab4c9c001783c87c84c7a80', 'message': 'Update reno for stable/pike\n\nChange-Id: Ifa0e3896b8a8cb118a422343a0d56f3e875990f0\n'}, {'number': 2, 'created': '2017-08-18 12:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/20d68101b0c7a134cc3fc38c1b305991eb8180a0', 'message': 'Update reno for stable/pike\n\nChange-Id: Ifa0e3896b8a8cb118a422343a0d56f3e875990f0\n'}, {'number': 3, 'created': '2017-08-21 08:42:52.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/a21469c3fac96c61a111229447386e51e384dfad', 'message': 'Update reno for stable/pike\n\nChange-Id: Ifa0e3896b8a8cb118a422343a0d56f3e875990f0\n'}]",0,495100,a21469c3fac96c61a111229447386e51e384dfad,13,5,3,22816,,,0,"Update reno for stable/pike

Change-Id: Ifa0e3896b8a8cb118a422343a0d56f3e875990f0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/00/495100/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,ffcf1fdefc031ad43ab4c9c001783c87c84c7a80,reno-pike, pike,,7,0
openstack%2Fopenstack-ansible-os_glance~master~Ic3279b2d6499a1e0777a760abf2bff096e016856,openstack/openstack-ansible-os_glance,master,Ic3279b2d6499a1e0777a760abf2bff096e016856,Update links in README,MERGED,2017-08-19 11:01:41.000000000,2017-08-21 18:49:44.000000000,2017-08-21 18:49:44.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-19 11:01:41.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6d06dbb5f9c2f7610476f63de4ac8c2722cd1bde', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Ic3279b2d6499a1e0777a760abf2bff096e016856\n'}]",0,495502,6d06dbb5f9c2f7610476f63de4ac8c2722cd1bde,7,3,1,23314,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ic3279b2d6499a1e0777a760abf2bff096e016856
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/02/495502/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6d06dbb5f9c2f7610476f63de4ac8c2722cd1bde,update_links_readme,.. image:: https://governance.openstack.org/tc/badges/openstack-ansible-os_glance.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/openstack-ansible-os_glance.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fnova~stable%2Fnewton~I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,openstack/nova,stable/newton,I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,Exclude deleted service records when calling hypervisor statistics,MERGED,2017-05-26 19:58:58.000000000,2017-08-21 18:49:11.000000000,2017-08-21 18:49:11.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-26 19:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6578c5ebae918b9715db88723b13a3936673ac90', 'message': ""Exclude deleted service records when calling hypervisor statistics\n\nHypervisor statistics could be incorrect if not\nexclude deleted service records from DB.\n\nUser may stop 'nova-compute' service on some\ncompute nodes and delete the service from nova.\nWhen delete 'nova-compute' service, it performs\n'soft-delete' to the corresponding db records in\nboth 'service' table and 'compute_nodes' table if\nthe compute_nodes record is old, i.e. it is linked\nto the service record. For modern compute_nodes\nrecords, they aren't linked to the services table\nso deleting the services record will not delete\nthe compute_nodes record, and the ResourceTracker\nwon't recreate the compute_nodes record if the host\nand hypervisor_hostname still match the existing\nrecord, but restarting the process after deleting\nthe service will create a new services table record\nwith the same host/binary/topic.\n\nIf the 'nova-compute' service on that server\nre-starts, it will automatically add a record\nin 'compute_nodes' table (assuming it was deleted\nbecause it was an old-style record) and also a correspoding\nrecord in 'service' table, and if the host name\nof the compute node did not change, the newly\ncreated records in 'service' and 'compute_nodes'\ntable will be identical to the priously soft-deleted\nrecords except the deleted row.\n\nWhen calling Hypervisor-statistics, the DB layer\njoined records across the whole deployment by\ncomparing records' host field selected from\nserivce table and records' host field selected\nfrom compute_nodes table, and the calculated\nresults could be multiplied if multiple records\nfrom service table have the same host field,\nand this scenario could happen if user perform\nthe above actions.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n(cherry picked from commit 3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3)\n(cherry picked from commit 74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa)\n""}, {'number': 2, 'created': '2017-06-08 12:12:28.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6dc2a0ec1cfe70bbf0f50a36bca5d2794e34e1b1', 'message': ""Exclude deleted service records when calling hypervisor statistics\n\nHypervisor statistics could be incorrect if not\nexclude deleted service records from DB.\n\nUser may stop 'nova-compute' service on some\ncompute nodes and delete the service from nova.\nWhen delete 'nova-compute' service, it performs\n'soft-delete' to the corresponding db records in\nboth 'service' table and 'compute_nodes' table if\nthe compute_nodes record is old, i.e. it is linked\nto the service record. For modern compute_nodes\nrecords, they aren't linked to the services table\nso deleting the services record will not delete\nthe compute_nodes record, and the ResourceTracker\nwon't recreate the compute_nodes record if the host\nand hypervisor_hostname still match the existing\nrecord, but restarting the process after deleting\nthe service will create a new services table record\nwith the same host/binary/topic.\n\nIf the 'nova-compute' service on that server\nre-starts, it will automatically add a record\nin 'compute_nodes' table (assuming it was deleted\nbecause it was an old-style record) and also a correspoding\nrecord in 'service' table, and if the host name\nof the compute node did not change, the newly\ncreated records in 'service' and 'compute_nodes'\ntable will be identical to the priously soft-deleted\nrecords except the deleted row.\n\nWhen calling Hypervisor-statistics, the DB layer\njoined records across the whole deployment by\ncomparing records' host field selected from\nserivce table and records' host field selected\nfrom compute_nodes table, and the calculated\nresults could be multiplied if multiple records\nfrom service table have the same host field,\nand this scenario could happen if user perform\nthe above actions.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n(cherry picked from commit 3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3)\n(cherry picked from commit 74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa)\n""}]",0,468528,6dc2a0ec1cfe70bbf0f50a36bca5d2794e34e1b1,49,10,2,6873,,,0,"Exclude deleted service records when calling hypervisor statistics

Hypervisor statistics could be incorrect if not
exclude deleted service records from DB.

User may stop 'nova-compute' service on some
compute nodes and delete the service from nova.
When delete 'nova-compute' service, it performs
'soft-delete' to the corresponding db records in
both 'service' table and 'compute_nodes' table if
the compute_nodes record is old, i.e. it is linked
to the service record. For modern compute_nodes
records, they aren't linked to the services table
so deleting the services record will not delete
the compute_nodes record, and the ResourceTracker
won't recreate the compute_nodes record if the host
and hypervisor_hostname still match the existing
record, but restarting the process after deleting
the service will create a new services table record
with the same host/binary/topic.

If the 'nova-compute' service on that server
re-starts, it will automatically add a record
in 'compute_nodes' table (assuming it was deleted
because it was an old-style record) and also a correspoding
record in 'service' table, and if the host name
of the compute node did not change, the newly
created records in 'service' and 'compute_nodes'
table will be identical to the priously soft-deleted
records except the deleted row.

When calling Hypervisor-statistics, the DB layer
joined records across the whole deployment by
comparing records' host field selected from
serivce table and records' host field selected
from compute_nodes table, and the calculated
results could be multiplied if multiple records
from service table have the same host field,
and this scenario could happen if user perform
the above actions.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3
Closes-Bug: #1692397
(cherry picked from commit 3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3)
(cherry picked from commit 74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/468528/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,6578c5ebae918b9715db88723b13a3936673ac90,bug/1692397," services_tbl.c.binary == 'nova-compute', services_tbl.c.deleted == 0", services_tbl.c.binary == 'nova-compute',51,1
openstack%2Fpython-swiftclient~stable%2Fpike~I2877028999b110cf2f3ceac5f8743189dd9d29fa,openstack/python-swiftclient,stable/pike,I2877028999b110cf2f3ceac5f8743189dd9d29fa,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-07-28 21:08:10.000000000,2017-08-21 18:49:07.000000000,2017-08-21 18:49:07.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 15343}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-07-28 21:08:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9a60bc1307f47682d45af2b96936eb7dcd77aa98', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I2877028999b110cf2f3ceac5f8743189dd9d29fa\n'}]",0,488813,9a60bc1307f47682d45af2b96936eb7dcd77aa98,9,4,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I2877028999b110cf2f3ceac5f8743189dd9d29fa
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/13/488813/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a60bc1307f47682d45af2b96936eb7dcd77aa98,create-pike, CONSTRAINTS_FILE={env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike}, CONSTRAINTS_FILE={env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpython-swiftclient~stable%2Fpike~Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d,openstack/python-swiftclient,stable/pike,Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d,Update .gitreview for stable/pike,MERGED,2017-07-28 21:08:09.000000000,2017-08-21 18:48:51.000000000,2017-08-21 18:48:51.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-07-28 21:08:09.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e6bd6a484b0d7b64797f0615970c4070ff3a8574', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d\n'}]",0,488812,e6bd6a484b0d7b64797f0615970c4070ff3a8574,7,3,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: Ib8c97110142b06cf0c1d0d2f7173fc631d28d39d
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/12/488812/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e6bd6a484b0d7b64797f0615970c4070ff3a8574,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fcinder~stable%2Fpike~I664c0419b91952bc046c28d2474f52266bdbc351,openstack/cinder,stable/pike,I664c0419b91952bc046c28d2474f52266bdbc351,IBM storage: check pyxcli version on initialize,MERGED,2017-08-17 19:26:04.000000000,2017-08-21 18:48:30.000000000,2017-08-21 18:48:30.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-17 19:26:04.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'driver-requirements.txt', 'cinder/tests/unit/volume/drivers/ibm/fake_pyxcli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfa095470005cce7a4a35dd30d2783aef0362e49', 'message': 'IBM storage: check pyxcli version on initialize\n\nThe IBM storage driver is using a python client called pyxcli.\nthe client is:\nhttps://github.com/IBM/pyxcli\n\nUpon initialization of IBM Storage driver need to check if\nthe required client version is installed.\n\nChange-Id: I664c0419b91952bc046c28d2474f52266bdbc351\nCloses-Bug: 1696470\n(cherry picked from commit 71ff2adb6dab0d86560f8cb24e5bfc006d5b7364)\n'}]",0,494683,bfa095470005cce7a4a35dd30d2783aef0362e49,19,3,1,13047,,,0,"IBM storage: check pyxcli version on initialize

The IBM storage driver is using a python client called pyxcli.
the client is:
https://github.com/IBM/pyxcli

Upon initialization of IBM Storage driver need to check if
the required client version is installed.

Change-Id: I664c0419b91952bc046c28d2474f52266bdbc351
Closes-Bug: 1696470
(cherry picked from commit 71ff2adb6dab0d86560f8cb24e5bfc006d5b7364)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/494683/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'driver-requirements.txt', 'cinder/tests/unit/volume/drivers/ibm/fake_pyxcli.py']",4,bfa095470005cce7a4a35dd30d2783aef0362e49,bug/1696470,pyxcli_client.version = '1.1.5',,39,1
openstack%2Fcinder~stable%2Fpike~I7875de28cfd5bf15df754952adb90d2b9858c6de,openstack/cinder,stable/pike,I7875de28cfd5bf15df754952adb90d2b9858c6de,Ibm_storage - fix delete group with replication,MERGED,2017-08-17 12:21:39.000000000,2017-08-21 18:48:22.000000000,2017-08-21 18:48:22.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-17 12:21:39.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/075df508c42f4351cc76df4e5f6a4035b4dc3dee', 'message': 'Ibm_storage - fix delete group with replication\n\nRunning delete_group fails with no details.\nThe reason for this is because there is no informative message\nwhen the action fails.\n\nChange-Id: I7875de28cfd5bf15df754952adb90d2b9858c6de\nCloses-Bug: 1706319\n'}]",0,494512,075df508c42f4351cc76df4e5f6a4035b4dc3dee,19,3,1,13047,,,0,"Ibm_storage - fix delete group with replication

Running delete_group fails with no details.
The reason for this is because there is no informative message
when the action fails.

Change-Id: I7875de28cfd5bf15df754952adb90d2b9858c6de
Closes-Bug: 1706319
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/494512/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py']",2,075df508c42f4351cc76df4e5f6a4035b4dc3dee,bug/1706319," rep_status = group.get('replication_status') enabled = fields.ReplicationStatus.ENABLED failed_over = fields.ReplicationStatus.FAILED_OVER if rep_status == enabled or rep_status == failed_over: msg = _(""Disable group replication before deleting group."") LOG.error(msg) raise self._get_exception()(msg) ",,44,0
openstack%2Fopenstack-zuul-jobs~master~Ie577aa1c603158b1a71f8107113de51bddc1a771,openstack/openstack-zuul-jobs,master,Ie577aa1c603158b1a71f8107113de51bddc1a771,Remove publish-openstack-python-branch-tarball job,MERGED,2017-08-17 18:30:11.000000000,2017-08-21 18:46:13.000000000,2017-08-21 18:46:13.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-17 18:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b175c59b73a6969120ac8287d6240ee38e825d91', 'message': ""Remove publish-openstack-python-branch-tarball job\n\nWe'll be moving this into project-config\n\nChange-Id: Ie577aa1c603158b1a71f8107113de51bddc1a771\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}, {'number': 2, 'created': '2017-08-18 19:35:36.000000000', 'files': ['zuul.yaml', 'playbooks/python-branch-tarball/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/cdc3f2bad2f877efd5c6d071199f87af5cce1544', 'message': ""Remove publish-openstack-python-branch-tarball job\n\nWe'll be moving this into project-config\n\nChange-Id: Ie577aa1c603158b1a71f8107113de51bddc1a771\nDepends-On: I8ef01f14b2bde71c335017f0bbc8532b91f226b6\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,494670,cdc3f2bad2f877efd5c6d071199f87af5cce1544,9,3,2,4162,,,0,"Remove publish-openstack-python-branch-tarball job

We'll be moving this into project-config

Change-Id: Ie577aa1c603158b1a71f8107113de51bddc1a771
Depends-On: I8ef01f14b2bde71c335017f0bbc8532b91f226b6
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/70/494670/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.yaml', 'playbooks/python-branch-tarball/post.yaml']",2,b175c59b73a6969120ac8287d6240ee38e825d91,494670,,"- hosts: all tasks: # We only want to publish tar.gz file to tarballs.o.o. Find everything else # and delete them. - name: Find wheels in dist folder. find: file_type: file paths: ""src/{{ zuul.project.canonical_name }}/dist"" patterns: ^((?!tar\.gz).)*$ use_regex: yes register: result - name: Delete found files that don't match *.tar.gz. file: path: ""{{ item.path }}"" state: absent with_items: ""{{ result.files }}"" - name: Rename tarball to branch specific name. shell: ""mv *.tar.gz {{ zuul.project.short_name }}-{{ zuul.branch | replace('/', '-') }}.tar.gz"" args: chdir: ""src/{{ zuul.project.canonical_name }}/dist"" ",0,29
openstack%2Ftripleo-ci~master~I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06,openstack/tripleo-ci,master,I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06,DONT REVIEW: test openstakc version,ABANDONED,2017-08-20 14:06:00.000000000,2017-08-21 18:29:09.000000000,,"[{'_account_id': 3}, {'_account_id': 10969}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-08-20 14:06:00.000000000', 'files': ['scripts/te-broker/create-env'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/828d26f773e81660ab7162bd77e529b454db0c91', 'message': 'DONT REVIEW: test openstakc version\n\nnothing here\n\nChange-Id: I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06\n'}]",0,495550,828d26f773e81660ab7162bd77e529b454db0c91,12,3,1,10969,,,0,"DONT REVIEW: test openstakc version

nothing here

Change-Id: I9a8cfaa4b80096e758a5bccbcf2cd84f427baf06
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/495550/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/te-broker/create-env'],1,828d26f773e81660ab7162bd77e529b454db0c91,inves,"echo ""openstack --version:"" openstack --version echo ""neutron --version:"" neutron --version",,4,0
openstack%2Fnetworking-sfc~master~If3fee929a4764c1f083d12508df08a9928ae0d47,openstack/networking-sfc,master,If3fee929a4764c1f083d12508df08a9928ae0d47,Updated from global requirements,MERGED,2017-08-18 04:44:38.000000000,2017-08-21 18:27:10.000000000,2017-08-21 18:27:10.000000000,"[{'_account_id': 3}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 14744}]","[{'number': 1, 'created': '2017-08-18 04:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/d76ce239f1c55dda02e5a91dcfc5521179763a2e', 'message': 'Updated from global requirements\n\nChange-Id: If3fee929a4764c1f083d12508df08a9928ae0d47\n'}, {'number': 2, 'created': '2017-08-18 11:34:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/af5e29430356318130bf8c93a7dcf4c5f119fb87', 'message': 'Updated from global requirements\n\nChange-Id: If3fee929a4764c1f083d12508df08a9928ae0d47\n'}]",0,494851,af5e29430356318130bf8c93a7dcf4c5f119fb87,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: If3fee929a4764c1f083d12508df08a9928ae0d47
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/51/494851/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d76ce239f1c55dda02e5a91dcfc5521179763a2e,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0,2,2
openstack%2Fopenstack-ansible~stable%2Focata~I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0,openstack/openstack-ansible,stable/ocata,I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0,Move rally_all.yml into utility_all.yml,MERGED,2017-08-18 15:25:26.000000000,2017-08-21 18:21:10.000000000,2017-08-21 18:21:10.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-08-18 15:25:26.000000000', 'files': ['playbooks/inventory/group_vars/utility_all.yml', 'playbooks/inventory/group_vars/rally_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/14e8d1e75402c56aef383633010bfc46c22ad376', 'message': 'Move rally_all.yml into utility_all.yml\n\nos-rally-install.yml uses hosts: utility_all, so move the rally_all\nvariables into the utility_all\n\nChange-Id: I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0\n'}]",0,495354,14e8d1e75402c56aef383633010bfc46c22ad376,7,3,1,16479,,,0,"Move rally_all.yml into utility_all.yml

os-rally-install.yml uses hosts: utility_all, so move the rally_all
variables into the utility_all

Change-Id: I7a35ad24deb9ee6fca39ecf975cb39b22270b5c0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/495354/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/inventory/group_vars/utility_all.yml', 'playbooks/inventory/group_vars/rally_all.yml']",2,14e8d1e75402c56aef383633010bfc46c22ad376,ocata_rally_fix,,"--- # Copyright 2016, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # venv fetch configuration rally_venv_tag: ""{{ venv_tag }}"" rally_venv_download_url: ""{{ venv_base_download_url }}/rally-{{ openstack_release }}-{{ ansible_architecture | lower }}.tgz"" ",2,19
openstack%2Fopenstack-ansible~stable%2Fnewton~I40af9cdcc22633be361d03dd67015e8afa3d0c9b,openstack/openstack-ansible,stable/newton,I40af9cdcc22633be361d03dd67015e8afa3d0c9b,Move rally_all.yml into utility_all.yml,MERGED,2017-08-17 21:23:34.000000000,2017-08-21 18:20:23.000000000,2017-08-21 18:20:23.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7307}, {'_account_id': 15993}, {'_account_id': 16479}]","[{'number': 1, 'created': '2017-08-17 21:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6a95ea2d0ceb167ce6a05c77432010bdcaba073c', 'message': ""Add rally_all variable file into os_rally-install.yml\n\nthe os_rally-install doesn't load rally_all parameters properlly,\nadd it to avoid the rally installation failure.\n\nChange-Id: I40af9cdcc22633be361d03dd67015e8afa3d0c9b\n""}, {'number': 2, 'created': '2017-08-17 23:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac887415e3d73240c91a1900a87fc0c1291ad049', 'message': ""Add rally_all variable file into os_rally-install.yml\n\nthe os_rally-install doesn't load rally_all parameters properlly,\nadd it to avoid the rally installation failure.\n\nChange-Id: I40af9cdcc22633be361d03dd67015e8afa3d0c9b\n""}, {'number': 3, 'created': '2017-08-18 15:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5d959e5f73a84e6f93b477584951acb37cb3675b', 'message': 'Author:     Weezer Su <weezer.su@gmail.com>\nAuthorDate: 2017-08-17 16:21:34 -0500\nCommit:     Weezer Su <weezer.su@gmail.com>\nCommitDate: 2017-08-17 18:36:38 -0500\nMove rally_all.yml into utility_all.yml\n\nos-rally-install.yml uses hosts: utility_all, so move the rally_all\nvariables into the utility_all\n\nChange-Id: I40af9cdcc22633be361d03dd67015e8afa3d0c9b\n'}, {'number': 4, 'created': '2017-08-18 15:43:04.000000000', 'files': ['playbooks/inventory/group_vars/utility_all.yml', 'playbooks/inventory/group_vars/rally_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b12bb422c8841e6a7e7600c104d936f8394f936', 'message': 'Move rally_all.yml into utility_all.yml\n\nos-rally-install.yml uses hosts: utility_all, so move the rally_all\nvariables into the utility_all\n\nChange-Id: I40af9cdcc22633be361d03dd67015e8afa3d0c9b\n'}]",0,494717,0b12bb422c8841e6a7e7600c104d936f8394f936,17,5,4,16479,,,0,"Move rally_all.yml into utility_all.yml

os-rally-install.yml uses hosts: utility_all, so move the rally_all
variables into the utility_all

Change-Id: I40af9cdcc22633be361d03dd67015e8afa3d0c9b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/494717/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-rally-install.yml'],1,6a95ea2d0ceb167ce6a05c77432010bdcaba073c,newton_rally_variable," vars_files: - ""inventory/group_vars/rally_all.yml""",,2,0
openstack%2Fironic-ui~stable%2Fpike~I18072f749117421eede8d7c32ca3a2623e47f41f,openstack/ironic-ui,stable/pike,I18072f749117421eede8d7c32ca3a2623e47f41f,Imported Translations from Zanata,MERGED,2017-08-21 10:54:27.000000000,2017-08-21 18:16:25.000000000,2017-08-21 18:16:25.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-08-21 10:54:27.000000000', 'files': ['ironic_ui/locale/de/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/9875659f085996fa1d88e86fd8f1571fc86516bb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I18072f749117421eede8d7c32ca3a2623e47f41f\n'}]",0,495819,9875659f085996fa1d88e86fd8f1571fc86516bb,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I18072f749117421eede8d7c32ca3a2623e47f41f
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/19/495819/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_ui/locale/de/LC_MESSAGES/djangojs.po'],1,9875659f085996fa1d88e86fd8f1571fc86516bb,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2017. #zanata""Project-Id-Version: ironic-ui 3.0.1.dev2\n""""POT-Creation-Date: 2017-08-20 19:06+0000\n""""PO-Revision-Date: 2017-08-20 03:41+0000\n""msgstr ""Instanzeigenschaft hinzufügen""msgstr ""Inspektion beendet um""msgstr ""Aktualisieren Sie die Seite um das gesetzte Boot-Gerät zu sehen""msgstr ""Wählen Sie ein Boot-Gerät""msgstr ""Boot-Gerät setzen""msgstr ""Boot-Gerät setzen""msgstr ""Konsole für Knoten %s kann nicht abgerufen werden: %s""""Unterstützte Boot-Geräte für den Ironic-Knoten können nicht abgerufen ""msgstr ""Boot-Gerät kann nicht gesetzt werden: %s""msgstr ""Standard (?:value )?ist ([^\""\\. ]+|\""[^\""]+\"")""","# Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # Frank Kloeker <eumel@arcor.de>, 2016. #zanata # Robert Simai <robert.simai@suse.com>, 2016. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2017. #zanata""Project-Id-Version: ironic-ui 2.3.1.dev93\n""""POT-Creation-Date: 2017-07-31 15:33+0000\n""""PO-Revision-Date: 2017-08-01 08:15+0000\n""msgstr ""Instanz-Eigenschaft hinzufügen""msgstr ""Inspektion beenden um""msgstr ""Aktualisieren Sie die Seite um das gesetzte Boot-Device zu sehen""msgstr ""Wählen Sie ein Boot-Device""msgstr ""Boot-Device setzen""msgstr ""Boot-Device setzen""msgstr ""Konsole für Node %s kann nicht abgerufen werden: %s""""Unterstützte Boot-Devices für den Ironic-Knoten können nicht abgerufen ""msgstr ""Boot-Device kann nicht gesetzt werden: %s""msgstr ""Standard (?:value )?is ([^\""\\. ]+|\""[^\""]+\"")""",14,17
openstack%2Fswift~stable%2Fpike~Ia81586d568030ffa022fad42830075fe6ff69dcf,openstack/swift,stable/pike,Ia81586d568030ffa022fad42830075fe6ff69dcf,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-08-21 13:47:07.000000000,2017-08-21 18:14:41.000000000,2017-08-21 18:14:41.000000000,"[{'_account_id': 3}, {'_account_id': 330}]","[{'number': 1, 'created': '2017-08-21 13:47:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/c54c6b3aade8e15547d946adb284e650871d0ac5', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: Ia81586d568030ffa022fad42830075fe6ff69dcf\n'}]",0,495859,c54c6b3aade8e15547d946adb284e650871d0ac5,7,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: Ia81586d568030ffa022fad42830075fe6ff69dcf
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/495859/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c54c6b3aade8e15547d946adb284e650871d0ac5,create-pike,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fswift~stable%2Fpike~Ia31590dfb59580d1d6ad444bb599b963c56b042e,openstack/swift,stable/pike,Ia31590dfb59580d1d6ad444bb599b963c56b042e,Update .gitreview for stable/pike,MERGED,2017-08-21 13:47:06.000000000,2017-08-21 18:07:01.000000000,2017-08-21 18:07:01.000000000,"[{'_account_id': 3}, {'_account_id': 330}]","[{'number': 1, 'created': '2017-08-21 13:47:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/swift/commit/06d229abb1a7a5c4d7b2bc81c92b4a21ba3b8592', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: Ia31590dfb59580d1d6ad444bb599b963c56b042e\n'}]",0,495858,06d229abb1a7a5c4d7b2bc81c92b4a21ba3b8592,7,2,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: Ia31590dfb59580d1d6ad444bb599b963c56b042e
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/495858/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,06d229abb1a7a5c4d7b2bc81c92b4a21ba3b8592,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Ftripleo-heat-templates~master~Ic94373f0a0758e9959e1f896481780674437147d,openstack/tripleo-heat-templates,master,Ic94373f0a0758e9959e1f896481780674437147d,Add logrotate with crond service,MERGED,2017-08-02 14:48:19.000000000,2017-08-21 18:04:02.000000000,2017-08-21 18:04:02.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8745}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-02 14:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1e6cf22e56b6a81910750e6752ad3f19c5e33d7', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond\nto all environments among generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: #Ib9d5d8ca236296179182613e1ff625deea168614\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2017-08-02 16:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f479a84ca6ba62047fd5069c0f708879e13ca39f', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond\nto all environments among generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2017-08-02 16:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2367b089b0766d291ed1906c2a33bfed424ff2a3', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond\nto all environments among generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2017-08-02 16:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fe83de32c92c1bd67070d5b07f7f9e888e95840', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2017-08-03 11:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e186ac66dad8dde9b07162ddd2fbcbda45a23785', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2017-08-03 12:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0084a048fb95713586595d25905838e39b44205', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2017-08-03 14:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/baed7e7da5d72afb86ce415a19f11dc1a6db9afb', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2017-08-03 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a25183c2574eea4ba5e034a5e22349f681b35045', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2017-08-03 16:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42edae11c5bd934bf16a23477b5deed79b1bdae6', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2017-08-04 09:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85c7d7f717cd616eb7982303399027f8551bc68c', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2017-08-04 09:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11404cefc4dba92c8ffbd07442dc8a0b63b51e7f', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 12, 'created': '2017-08-08 10:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47142e793e9a444b17d6ceb603205a9c0b1b9239', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 13, 'created': '2017-08-14 11:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59edb59269caffcb637eef54ef39dc5f969830ad', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nDepends-on: I3fd918b01edd71e3e9e7c4efe7fb790ae2f37d19\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 14, 'created': '2017-08-16 07:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc1d50afb2840dcfa1b742e267014b7c68bb5e6a', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 15, 'created': '2017-08-16 07:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a8c927407f46bc7e6a322668c36e76e97d68afa', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nDepends-on: Ib9d5d8ca236296179182613e1ff625deea168614\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 16, 'created': '2017-08-18 04:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c04981e615824ca1bbb38f308bd6549d8067bf05', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 17, 'created': '2017-08-18 12:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/293f2be8592d42ed956f5e2511abbb97bc818336', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 18, 'created': '2017-08-21 06:56:41.000000000', 'files': ['roles/Messaging.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/Telemetry.yaml', 'roles/ComputeHCI.yaml', 'docker/services/logrotate-crond.yaml', 'roles/Database.yaml', 'environments/docker.yaml', 'roles/CephStorage.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/contrail/roles_data_contrail.yaml', 'roles/Controller.yaml', 'roles/ObjectStorage.yaml', 'roles_data_undercloud.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a03456056b22a0abff470dfd81334e369ae4cbc', 'message': 'Add logrotate with crond service\n\nAdd a docker service template to provide containerized services\nlogs rotation with a crond job.\nAdd OS::TripleO::Services::LogrotateCrond to CI multinode-containers\nand to all environments among with generic services like Ntp or Kernel.\nSet it to OS::Heat::None for non containerized environments and\nonly enable it to the environments/docker.yaml.\n\nCloses-bug: #1700912\n\nChange-Id: Ic94373f0a0758e9959e1f896481780674437147d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,490050,8a03456056b22a0abff470dfd81334e369ae4cbc,76,10,18,6926,,,0,"Add logrotate with crond service

Add a docker service template to provide containerized services
logs rotation with a crond job.
Add OS::TripleO::Services::LogrotateCrond to CI multinode-containers
and to all environments among with generic services like Ntp or Kernel.
Set it to OS::Heat::None for non containerized environments and
only enable it to the environments/docker.yaml.

Closes-bug: #1700912

Change-Id: Ic94373f0a0758e9959e1f896481780674437147d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/490050/18 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/logrotate-crond.yaml', 'environments/docker.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/contrail/roles_data_contrail.yaml', 'roles_data_undercloud.yaml', 'environments/hyperconverged-ceph.yaml']",6,a1e6cf22e56b6a81910750e6752ad3f19c5e33d7,bug/1700912, - OS::TripleO::Services::LogrotateCrond,,97,0
openstack%2Faodh~master~Icaf14619971a37db7d8818c73c9b152cd63c6bc2,openstack/aodh,master,Icaf14619971a37db7d8818c73c9b152cd63c6bc2,Update reno for stable/pike,MERGED,2017-08-21 14:36:29.000000000,2017-08-21 17:54:41.000000000,2017-08-21 17:54:41.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-08-21 14:36:29.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/aodh/commit/fb1678627caba6f0c2af7c42a84408c240d28b08', 'message': 'Update reno for stable/pike\n\nChange-Id: Icaf14619971a37db7d8818c73c9b152cd63c6bc2\n'}]",0,495893,fb1678627caba6f0c2af7c42a84408c240d28b08,7,3,1,22816,,,0,"Update reno for stable/pike

Change-Id: Icaf14619971a37db7d8818c73c9b152cd63c6bc2
",git fetch https://review.opendev.org/openstack/aodh refs/changes/93/495893/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,fb1678627caba6f0c2af7c42a84408c240d28b08,reno-pike, pike,,7,0
openstack%2Faodh~stable%2Fpike~If265fac166e75656af57528ff3570e267ce3c5b1,openstack/aodh,stable/pike,If265fac166e75656af57528ff3570e267ce3c5b1,Update .gitreview for stable/pike,MERGED,2017-08-21 14:36:28.000000000,2017-08-21 17:48:13.000000000,2017-08-21 17:48:13.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-08-21 14:36:28.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/aodh/commit/8344fd8cc0c914fa8c90c368074052f4df80cd36', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: If265fac166e75656af57528ff3570e267ce3c5b1\n'}]",0,495892,8344fd8cc0c914fa8c90c368074052f4df80cd36,7,3,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: If265fac166e75656af57528ff3570e267ce3c5b1
",git fetch https://review.opendev.org/openstack/aodh refs/changes/92/495892/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8344fd8cc0c914fa8c90c368074052f4df80cd36,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fsahara~master~I840559d54ca474299eeec9812dc1573ab305bc1b,openstack/sahara,master,I840559d54ca474299eeec9812dc1573ab305bc1b,Add CDH validation for attached volume size,MERGED,2017-08-16 08:44:34.000000000,2017-08-21 17:47:36.000000000,2017-08-21 17:47:36.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22689}, {'_account_id': 23078}, {'_account_id': 25847}]","[{'number': 1, 'created': '2017-08-16 08:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/61c6d848064046b82a0266b24e7fd766e0e76e4b', 'message': 'Add CDH validation for attached volume size\n\nCDH plugin has a DATANODE configuration parameter\ncalled ""dfs_datanode_du_reserved"". If user sets cinder volume\nas the storage location and sets volumes size less than the value\nof the parameter, HDFS would not work. The cluster deployment\nwould be Error in ""Starting"" Step because of ""Oozie Share Lib Upload\nFailed"".\nThis patch adds a validation in ""Validating"" Step before spawning\nCluster.\n\nBtw, If this situation (volume size less than ""du_reserved"")\nhappen in Vanilla, Spark plugin, the deploy can successfully,\nbut the HDFS can\'t be used when upload file to HDFS.\n\nCloses-Bug: #1709071\nChange-Id: I840559d54ca474299eeec9812dc1573ab305bc1b\n'}, {'number': 2, 'created': '2017-08-16 08:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/df6cbacb543cf8548150fd476795d242a551aa06', 'message': 'Add CDH validation for attached volume size\n\nCDH plugin has a DATANODE configuration parameter\ncalled ""dfs_datanode_du_reserved"". If user sets cinder volume\nas the storage location and sets volumes size less than the value\nof the parameter, HDFS would not work. The cluster deployment\nwould be Error in ""Starting"" Step because of ""Oozie Share Lib Upload\nFailed"".\nThis patch adds a validation in ""Validating"" Step before spawning\nCluster.\n\nBTW, If this situation (volume size less than ""du_reserved"")\nhappen in Vanilla, Spark plugin, the deploy can finish successfully,\nbut the HDFS can\'t be used when upload file to HDFS.\n\nCloses-Bug: #1709071\nChange-Id: I840559d54ca474299eeec9812dc1573ab305bc1b\n'}, {'number': 3, 'created': '2017-08-16 16:02:01.000000000', 'files': ['sahara/plugins/exceptions.py', 'sahara/plugins/cdh/validation.py', 'sahara/plugins/cdh/plugin_utils.py', 'sahara/tests/unit/plugins/cdh/base_validation_tests.py', 'sahara/tests/unit/testutils.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a126fb2140c4dc297520d8e48a3149b84eefd5cd', 'message': 'Add CDH validation for attached volume size\n\nCDH plugin has a DATANODE configuration parameter\ncalled ""dfs_datanode_du_reserved"". If user sets cinder volume\nas the storage location and sets volumes size less than the value\nof the parameter, HDFS would not work. The cluster deployment\nwould be Error in ""Starting"" Step because of ""Oozie Share Lib Upload\nFailed"".\nThis patch adds a validation in ""Validating"" Step before spawning\nCluster.\n\nBTW, If this situation (volume size less than ""du_reserved"")\nhappen in Vanilla, Spark plugin, the deploy can finish successfully,\nbut the HDFS can\'t be used when upload file to HDFS.\n\nCloses-Bug: #1709071\nChange-Id: I840559d54ca474299eeec9812dc1573ab305bc1b\n'}]",2,494123,a126fb2140c4dc297520d8e48a3149b84eefd5cd,16,6,3,22689,,,0,"Add CDH validation for attached volume size

CDH plugin has a DATANODE configuration parameter
called ""dfs_datanode_du_reserved"". If user sets cinder volume
as the storage location and sets volumes size less than the value
of the parameter, HDFS would not work. The cluster deployment
would be Error in ""Starting"" Step because of ""Oozie Share Lib Upload
Failed"".
This patch adds a validation in ""Validating"" Step before spawning
Cluster.

BTW, If this situation (volume size less than ""du_reserved"")
happen in Vanilla, Spark plugin, the deploy can finish successfully,
but the HDFS can't be used when upload file to HDFS.

Closes-Bug: #1709071
Change-Id: I840559d54ca474299eeec9812dc1573ab305bc1b
",git fetch https://review.opendev.org/openstack/sahara refs/changes/23/494123/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/exceptions.py', 'sahara/plugins/cdh/validation.py', 'sahara/plugins/cdh/plugin_utils.py', 'sahara/tests/unit/plugins/cdh/base_validation_tests.py', 'sahara/tests/unit/testutils.py']",5,61c6d848064046b82a0266b24e7fd766e0e76e4b,bug/1709071,"def make_ng_dict(name, flavor, processes, count, instances=None, volumes_size=None, node_configs=None, **kwargs): node_configs = node_configs or {} 'volumes_size': volumes_size, 'flavor_id': flavor, 'node_processes': processes, 'count': count, 'instances': instances, 'node_configs': node_configs,","def make_ng_dict(name, flavor, processes, count, instances=None, **kwargs): 'flavor_id': flavor, 'node_processes': processes, 'count': count, 'instances': instances, 'node_configs': {},",60,23
openstack%2Ftripleo-quickstart-extras~master~Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65,openstack/tripleo-quickstart-extras,master,Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65,Add quickstart-* repos to build-images role,MERGED,2017-08-21 09:35:52.000000000,2017-08-21 17:44:08.000000000,2017-08-21 17:44:08.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-21 09:35:52.000000000', 'files': ['roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b4b09dd9b056e888ec389b974a87f68b52387cd', 'message': 'Add quickstart-* repos to build-images role\n\nhttps://review.openstack.org/#/c/494056 renamed repo and repofile\nnames for jobs in triple-ci.  However the list of repositories\nconfigured in the build-image role still points to the old ""centos-*""\nrepofile name [1].\n\nThis patch adds repos /etc/yum.repos.d/quickstart-* to the default\nlist of repos to make build-images role compatible with new repos\nconfiguration.\n\n[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/build-images/defaults/main.yml#L20\n\nCloses-Bug: #1712029\n\nChange-Id: Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65\n'}]",4,495787,0b4b09dd9b056e888ec389b974a87f68b52387cd,22,6,1,16312,,,0,"Add quickstart-* repos to build-images role

https://review.openstack.org/#/c/494056 renamed repo and repofile
names for jobs in triple-ci.  However the list of repositories
configured in the build-image role still points to the old ""centos-*""
repofile name [1].

This patch adds repos /etc/yum.repos.d/quickstart-* to the default
list of repos to make build-images role compatible with new repos
configuration.

[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/build-images/defaults/main.yml#L20

Closes-Bug: #1712029

Change-Id: Ib25b2e9daf6b2ddaffc490552f9cc453c26f1a65
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/87/495787/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/defaults/main.yml'],1,0b4b09dd9b056e888ec389b974a87f68b52387cd,fix-periodic," - ""$(ls /etc/yum.repos.d/quickstart-*)""",,1,0
openstack%2Ftripleo-heat-templates~master~I6308a317ffe0af244396aba5197c85e273e69f68,openstack/tripleo-heat-templates,master,I6308a317ffe0af244396aba5197c85e273e69f68,Let mds create manila key and fs,MERGED,2017-07-11 10:15:54.000000000,2017-08-21 17:22:50.000000000,2017-08-21 17:22:50.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 7582}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 18002}]","[{'number': 1, 'created': '2017-07-11 10:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/105439e108813f54f698e15450af52a90a5853dd', 'message': 'WIP let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is created always).\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\n'}, {'number': 2, 'created': '2017-07-17 12:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d90f961b02700e76d250f8afbcaac01478c12498', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is created always).\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\n'}, {'number': 3, 'created': '2017-07-20 08:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/762945a7135b240e745300d61c700827eeafcc98', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is created always).\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\n'}, {'number': 4, 'created': '2017-07-21 08:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/699935ea22e7a7048f9dbd64141c7f5eaf8de380', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is created always).\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\n'}, {'number': 5, 'created': '2017-08-09 10:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18a3e43a2e3276ed2e47b69fc4d3b11db84c3b9f', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is created always).\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\n'}, {'number': 6, 'created': '2017-08-10 15:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5aab6f73c3d308427f59c254bdeec5f7606a428', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is created always).\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\nDepends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c\n'}, {'number': 7, 'created': '2017-08-11 10:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73d6b0500aad37e425e2eca8baa0550918023591', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is always created),\nmanila key is added to ceph-external for external ceph deployments.\nKey creation is removed from manila.pp in patch\nI2b5567a39ac8737e80758b705818cc1807dc8bf1\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\nDepends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c\n'}, {'number': 8, 'created': '2017-08-18 06:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c46c5b7d2ebf196c2bbc934af7b45055217ad300', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is always created),\nmanila key is added to ceph-external for external ceph deployments.\nKey creation is removed from manila.pp in patch\nI2b5567a39ac8737e80758b705818cc1807dc8bf1\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\nDepends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c\n'}, {'number': 9, 'created': '2017-08-18 10:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df30c87a752dd8d704c1c06054f0c749f75675b5', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is always created),\nmanila key is added to ceph-external for external ceph deployments.\nKey creation is removed from manila.pp in patch\nI2b5567a39ac8737e80758b705818cc1807dc8bf1\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\nDepends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c\n'}, {'number': 10, 'created': '2017-08-18 14:22:52.000000000', 'files': ['puppet/services/nova-libvirt.yaml', 'puppet/services/ceph-mds.yaml', 'puppet/services/ceph-base.yaml', 'puppet/services/nova-compute.yaml', 'puppet/services/ceph-external.yaml', 'docker/services/ceph-ansible/ceph-base.yaml', 'puppet/services/manila-backend-cephfs.yaml', 'docker/services/nova-libvirt.yaml', 'environments/storage/external-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad8589212cee744351b9d224265fed9ed1dbf447', 'message': 'Let mds create manila key and fs\n\nceph-ansible will take care of setting up client keys both\nin ceph and on client side. It will also create filesystem\nfor manila. To assure that manila manifest can work in future\nboth with puppet and with ceph-ansible, creation of filesystem\nis moved to ceph-mds manifest and creation of manila key on ceph\nside is moved to ceph-base (so manila key is always created),\nmanila key is added to ceph-external for external ceph deployments.\nKey creation is removed from manila.pp in patch\nI2b5567a39ac8737e80758b705818cc1807dc8bf1\n\nChange-Id: I6308a317ffe0af244396aba5197c85e273e69f68\nRelated-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27\nDepends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c\n'}]",8,482496,ad8589212cee744351b9d224265fed9ed1dbf447,68,6,10,7582,,,0,"Let mds create manila key and fs

ceph-ansible will take care of setting up client keys both
in ceph and on client side. It will also create filesystem
for manila. To assure that manila manifest can work in future
both with puppet and with ceph-ansible, creation of filesystem
is moved to ceph-mds manifest and creation of manila key on ceph
side is moved to ceph-base (so manila key is always created),
manila key is added to ceph-external for external ceph deployments.
Key creation is removed from manila.pp in patch
I2b5567a39ac8737e80758b705818cc1807dc8bf1

Change-Id: I6308a317ffe0af244396aba5197c85e273e69f68
Related-To: Ia3ef9e9a2b159dacea01e38762145ff2bcc7ba27
Depends-On: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/482496/6 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/ceph-mds.yaml', 'puppet/services/ceph-base.yaml', 'puppet/services/manila-backend-cephfs.yaml']",3,105439e108813f54f698e15450af52a90a5853dd,mds3, NetworkData: default: {} description: Dictionary transporting network data type: json, ManilaCephFSDataPoolName: default: manila_data type: string ManilaCephFSMetadataPoolName: default: manila_metadata type: string ceph::profile::params::fs_data_pool: {get_param: ManilaCephFSDataPoolName} ceph::profile::params::fs_metadata_pool: {get_param: ManilaCephFSMetadataPoolName} ceph::profile::params::fs_name: {get_param: ManilaCephFSNativeShareBackendName},32,10
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fnewton~I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4,openstack/openstack-ansible-haproxy_server,stable/newton,I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4,Allow HAproxy repo/gpg overrides without extra-vars,MERGED,2017-08-21 11:54:36.000000000,2017-08-21 17:18:32.000000000,2017-08-21 17:18:32.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}]","[{'number': 1, 'created': '2017-08-21 11:54:36.000000000', 'files': ['tasks/haproxy_add_ppa_repo.yml', 'vars/ubuntu-14.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/7bffdd5ad110e1cd3d7006fbc3691143c145fddf', 'message': 'Allow HAproxy repo/gpg overrides without extra-vars\n\nIt may be required to override the repo/key information\nso that a different repo source is used. This patch\nallows that to be done.\n\nIt includes setting the repo file to a static value for\neasier management and a transition task to remove the\nold configured source file.\n\nChange-Id: I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4\n'}]",1,495829,7bffdd5ad110e1cd3d7006fbc3691143c145fddf,7,3,1,6816,,,0,"Allow HAproxy repo/gpg overrides without extra-vars

It may be required to override the repo/key information
so that a different repo source is used. This patch
allows that to be done.

It includes setting the repo file to a static value for
easier management and a transition task to remove the
old configured source file.

Change-Id: I85b48f53a7ad33f91186c6a6e38bc45f73dc09c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/29/495829/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/haproxy_add_ppa_repo.yml', 'vars/ubuntu-14.04.yml', 'defaults/main.yml']",3,7bffdd5ad110e1cd3d7006fbc3691143c145fddf,easy-overrides,"haproxy_repo: ""{{ _haproxy_repo | default({}) }}"" haproxy_gpg_keys: ""{{ _haproxy_gpg_keys | default([]) }}""",haproxy_repo: {} haproxy_gpg_keys: [],26,4
openstack%2Ftripleo-heat-templates~master~Ib9b533249be37665b77396a76133cc42fd15ee2b,openstack/tripleo-heat-templates,master,Ib9b533249be37665b77396a76133cc42fd15ee2b,TLS for containerized horizon,MERGED,2017-08-18 07:50:21.000000000,2017-08-21 17:13:53.000000000,2017-08-21 17:13:53.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 17823}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-08-18 07:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37bdac7902384a459a119dfe6eeb18c7a0352915', 'message': 'TLS for containerized horizon\n\nbind mount the certificates needed for TLS.\n\nbp tls-via-certmonger-containers\n\nChange-Id: Ib9b533249be37665b77396a76133cc42fd15ee2b\n'}, {'number': 2, 'created': '2017-08-21 12:30:58.000000000', 'files': ['docker/services/horizon.yaml', 'environments/docker-services-tls-everywhere.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ba30a1912979925fa37e210df5ecaab47b07c33', 'message': 'TLS for containerized horizon\n\nbind mount the certificates needed for TLS.\n\nbp tls-via-certmonger-containers\n\nChange-Id: Ib9b533249be37665b77396a76133cc42fd15ee2b\n'}]",0,494989,8ba30a1912979925fa37e210df5ecaab47b07c33,14,9,2,10873,,,0,"TLS for containerized horizon

bind mount the certificates needed for TLS.

bp tls-via-certmonger-containers

Change-Id: Ib9b533249be37665b77396a76133cc42fd15ee2b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/494989/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/horizon.yaml', 'environments/docker-services-tls-everywhere.yaml']",2,37bdac7902384a459a119dfe6eeb18c7a0352915,bp/tls-via-certmonger-containers, OS::TripleO::Services::Horizon: ../docker/services/horizon.yaml,,18,0
openstack%2Fopenstack-ansible-os_rally~stable%2Fnewton~I8345a655f3e2de668a53ad9aabe53e486851f485,openstack/openstack-ansible-os_rally,stable/newton,I8345a655f3e2de668a53ad9aabe53e486851f485,Correct the search message in Create/upgrade Rally DB schema task,MERGED,2017-08-18 20:03:30.000000000,2017-08-21 17:09:46.000000000,2017-08-21 17:09:46.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 15993}, {'_account_id': 16479}]","[{'number': 1, 'created': '2017-08-18 20:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/821272f9024da0a98cb7374f83c8a5d36bc1f255', 'message': 'Correct the search message in Create/upgrade Rally DB schema task\n\ncorrect the search message in Create/upgrade Rally DB schema task\nfor database-setup.yml.\n\nChange-Id: I8345a655f3e2de668a53ad9aabe53e486851f485\n'}, {'number': 2, 'created': '2017-08-18 21:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/533040b4a9f75f760a720e2a48066dfd1ce1c547', 'message': 'Correct the search message in Create/upgrade Rally DB schema task\n\ncorrect the search message in Create/upgrade Rally DB schema task\nfor database-setup.yml.\n\nChange-Id: I8345a655f3e2de668a53ad9aabe53e486851f485\n'}, {'number': 3, 'created': '2017-08-18 22:10:46.000000000', 'files': ['tasks/database-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/b6377aeeddb894ded8888966e574d8b0ea4c7022', 'message': 'Correct the search message in Create/upgrade Rally DB schema task\n\ncorrect the search message in Create/upgrade Rally DB schema task\nfor database-setup.yml. Add ""Table \'rally.deployments\' doesn\'t exist""\nbecause the aio or mn-aio env will have the DB but no table exist.\n\nChange-Id: I8345a655f3e2de668a53ad9aabe53e486851f485\n'}]",0,495419,b6377aeeddb894ded8888966e574d8b0ea4c7022,12,4,3,16479,,,0,"Correct the search message in Create/upgrade Rally DB schema task

correct the search message in Create/upgrade Rally DB schema task
for database-setup.yml. Add ""Table 'rally.deployments' doesn't exist""
because the aio or mn-aio env will have the DB but no table exist.

Change-Id: I8345a655f3e2de668a53ad9aabe53e486851f485
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/19/495419/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/database-setup.yml'],1,821272f9024da0a98cb7374f83c8a5d36bc1f255,fix_create_message," - rally_deployment_list_result.stdout | search(""Table 'rally.deployments' doesn't exist"")"," - rally_deployment_list_result.stdout | search(""Database is missing"")",1,1
openstack%2Fdevstack-gate~master~I067a8681b55fd001d0e0d7ab87585db50f72c920,openstack/devstack-gate,master,I067a8681b55fd001d0e0d7ab87585db50f72c920,Fail properly if failing to clone a project,ABANDONED,2015-02-04 14:02:21.000000000,2017-08-21 17:09:00.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-02-04 14:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/864ffeed6eb67f2063f91956bd9f9a5bcf2ebad5', 'message': 'Fail properly if failing to clone a project\n\nThe git_clone_and_cd assumes the clone was successful and tries\nto cd into the clone folder. If the clone fails, d-g will\neventually fail, but not with the right error.\n\nCloses-Bug: #2000149\nChange-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920\n'}, {'number': 2, 'created': '2015-02-04 14:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/6f99079b0478897c31cfdb63fbcb43f8d6b1f842', 'message': 'Fail properly if failing to clone a project\n\nThe git_clone_and_cd assumes the clone was successful and tries\nto cd into the clone folder. If the clone fails, d-g will\neventually fail, but not with the right error.\n\nCloses-Bug: #2000149\nChange-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920\n'}, {'number': 3, 'created': '2015-02-04 14:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/5304dd5e26bd296dff5acdba03b0b166ad66774a', 'message': 'Fail properly if failing to clone a project\n\nThe git_clone_and_cd assumes the clone was successful and tries\nto cd into the clone folder. If the clone fails, d-g will\neventually fail, but not with the right error.\n\nCloses-Bug: #2000149\nChange-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920\n'}, {'number': 4, 'created': '2015-02-04 15:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1fae60482aaf902cb6ab79518520329672370624', 'message': 'Fail properly if failing to clone a project\n\nThe git_clone_and_cd assumes the clone was successful and tries\nto cd into the clone folder. If the clone fails, d-g will\neventually fail, but not with the right error.\n\nCloses-Bug: #2000149\nChange-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920\n'}, {'number': 5, 'created': '2015-02-04 21:37:59.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/664f9ebce8e4a3ff73fab5d7124f3202cce56f62', 'message': 'Fail properly if failing to clone a project\n\nThe git_clone_and_cd assumes the clone was successful and tries\nto cd into the clone folder. If the clone fails, d-g will\neventually fail, but not with the right error.\n\nCloses-Bug: #2000149\nChange-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920\n'}]",7,152900,664f9ebce8e4a3ff73fab5d7124f3202cce56f62,24,6,5,1921,,,0,"Fail properly if failing to clone a project

The git_clone_and_cd assumes the clone was successful and tries
to cd into the clone folder. If the clone fails, d-g will
eventually fail, but not with the right error.

Closes-Bug: #2000149
Change-Id: I067a8681b55fd001d0e0d7ab87585db50f72c920
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/00/152900/5 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,864ffeed6eb67f2063f91956bd9f9a5bcf2ebad5,storyboard_2000149," git clone $git_base/$project; clone_result=$? if [ $clone_result -eq 0 ]; then cd $short_project else echo ""Failed to clone project $short_project"" exit 1 fi", git clone $git_base/$project cd $short_project,7,2
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fnewton~I0fed53b917f641a38bd97aff7cbcfdf4b46243f6,openstack/openstack-ansible-haproxy_server,stable/newton,I0fed53b917f641a38bd97aff7cbcfdf4b46243f6,Optimise task execution,MERGED,2017-08-21 12:08:34.000000000,2017-08-21 17:08:53.000000000,2017-08-21 17:08:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}]","[{'number': 1, 'created': '2017-08-21 12:08:34.000000000', 'files': ['tasks/haproxy_install.yml', 'tasks/haproxy_add_ppa_repo.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/179975e02b2aadb28096335e03da8b0185ab0a9c', 'message': 'Optimise task execution\n\nUse block/rescue for the apt_key tasks and use\na dynamic include for the distro-specific install\ninclusion. This optimises the execution of the\nrole.\n\nChange-Id: I0fed53b917f641a38bd97aff7cbcfdf4b46243f6\n'}]",0,495832,179975e02b2aadb28096335e03da8b0185ab0a9c,7,3,1,6816,,,0,"Optimise task execution

Use block/rescue for the apt_key tasks and use
a dynamic include for the distro-specific install
inclusion. This optimises the execution of the
role.

Change-Id: I0fed53b917f641a38bd97aff7cbcfdf4b46243f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/32/495832/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/haproxy_install.yml', 'tasks/haproxy_add_ppa_repo.yml']",2,179975e02b2aadb28096335e03da8b0185ab0a9c,easy-overrides,"- block: - name: Add haproxy apt-keys apt_key: id: ""{{ item.hash_id }}"" keyserver: ""{{ item.keyserver | default(omit) }}"" data: ""{{ item.data | default(omit) }}"" url: ""{{ item.url | default(omit) }}"" state: ""present"" register: add_keys until: add_keys|success retries: 5 delay: 2 with_items: ""{{ haproxy_gpg_keys }}"" tags: - haproxy-apt-keys rescue: - name: Add haproxy apt-keys using fallback keyserver apt_key: id: ""{{ item.hash_id }}"" keyserver: ""{{ item.fallback_keyserver | default(omit) }}"" url: ""{{ item.fallback_url | default(omit) }}"" state: ""present"" register: add_keys_fallback until: add_keys_fallback|success retries: 5 delay: 2 with_items: ""{{ haproxy_gpg_keys }}"" when: item.fallback_keyserver is defined or item.fallback_url is defined tags: - haproxy-apt-keys","- name: Add haproxy apt-keys apt_key: id: ""{{ item.hash_id }}"" keyserver: ""{{ item.keyserver | default(omit) }}"" data: ""{{ item.data | default(omit) }}"" url: ""{{ item.url | default(omit) }}"" state: ""present"" register: add_keys until: add_keys|success failed_when: false retries: 5 delay: 2 with_items: ""{{ haproxy_gpg_keys }}"" tags: - haproxy-apt-keys - name: Add haproxy apt-keys using fallback keyserver apt_key: id: ""{{ item.hash_id }}"" keyserver: ""{{ item.fallback_keyserver | default(omit) }}"" url: ""{{ item.fallback_url | default(omit) }}"" state: ""present"" register: add_keys_fallback until: add_keys_fallback|success retries: 5 delay: 2 with_items: ""{{ haproxy_gpg_keys }}"" when: add_keys|failed and (item.fallback_keyserver is defined or item.fallback_url is defined) tags: - haproxy-apt-keys",31,35
openstack%2Fcinder~master~Ib610e6f9c82259f9dd2db37178b24d964a38e20d,openstack/cinder,master,Ib610e6f9c82259f9dd2db37178b24d964a38e20d,vstorage: added vz:volume_format vendor property,MERGED,2017-05-16 15:14:26.000000000,2017-08-21 16:45:30.000000000,2017-08-21 16:45:30.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15847}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-16 15:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcd547a3ce0a25096406df8cc29f5a15c59fb9e1', 'message': 'vstorage: added vz:volume_format vendor propertie\n\nVStorage backend is able to deal with multiple volume\nformats. Now desired volume format may be chosen by\nsetting vz:volume_format propertie in volume type\nextra spec.\n\nChange-Id: Ib610e6f9c82259f9dd2db37178b24d964a38e20d\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 2, 'created': '2017-05-16 15:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3003fb2affb0a41a6a1b4663e7069346c9dcec46', 'message': 'vstorage: added vz:volume_format vendor property\n\nVStorage backend is able to deal with multiple volume\nformats. Now desired volume format may be chosen by\nsetting vz:volume_format property in volume type\nextra spec.\n\nChange-Id: Ib610e6f9c82259f9dd2db37178b24d964a38e20d\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 3, 'created': '2017-05-19 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4490683be609c7d66ea95ab9e0b724526c52499c', 'message': 'vstorage: added vz:volume_format vendor property\n\nVStorage backend is able to deal with multiple volume\nformats. Now desired volume format may be chosen by\nsetting vz:volume_format property in volume type\nextra spec.\n\nChange-Id: Ib610e6f9c82259f9dd2db37178b24d964a38e20d\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 4, 'created': '2017-05-22 08:48:35.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py', 'releasenotes/notes/vzstorage-volume-format-cde85d3ad02f6bb4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f69f7507e2c8e0b65516710e974ba6932b5f5a2', 'message': 'vstorage: added vz:volume_format vendor property\n\nVStorage backend is able to deal with multiple volume\nformats. Now desired volume format may be chosen by\nsetting vz:volume_format property in volume type\nextra spec.\n\nChange-Id: Ib610e6f9c82259f9dd2db37178b24d964a38e20d\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}]",1,465091,1f69f7507e2c8e0b65516710e974ba6932b5f5a2,78,30,4,21284,,,0,"vstorage: added vz:volume_format vendor property

VStorage backend is able to deal with multiple volume
formats. Now desired volume format may be chosen by
setting vz:volume_format property in volume type
extra spec.

Change-Id: Ib610e6f9c82259f9dd2db37178b24d964a38e20d
Signed-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/465091/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py']",2,dcd547a3ce0a25096406df8cc29f5a15c59fb9e1,vzcap," 1.1 - Supports vz:volume_format in vendor properties. VERSION = '1.1' self.driver_volume_type = 'vzstorage' self.driver_prefix = 'vzstorage' self.volume_backend_name = 'Virtuozzo_Storage' def _update_volume_stats(self): super(VZStorageDriver, self)._update_volume_stats() self._stats['vendor_name'] = 'Virtuozzo' def _init_vendor_properties(self): namespace = 'vz' properties = {} self._set_property( properties, ""%s:volume_format"" % namespace, ""Volume format"", _(""Specifies volume format.""), ""string"", enum=[""qcow2"", ""ploop"", ""raw""], default=self.configuration.vzstorage_default_volume_format) return properties, namespace volume_format = None volume_type = volume.volume_type # Retrieve volume format from desired volume metadata if 'volume_format' in volume.metadata: volume_format = volume.metadata['volume_format'] # If volume format wasn't found in metadata, use # volume type extra specs if not volume_format and volume_type: extra_specs = volume_type.extra_specs or {} if 'vz:volume_format' in extra_specs: volume_format = extra_specs['vz:volume_format'] # If volume format is still undefined, return default # volume format from backend configuration return (volume_format or",VERSION = '1.0' driver_volume_type = 'vzstorage' driver_prefix = 'vzstorage' volume_backend_name = 'Virtuozzo_Storage' VERSION = VERSION # ThirdPartySystems wiki page vol_type = volume.volume_type if vol_type: extra_specs = vol_type.extra_specs or {} else: extra_specs = {} extra_specs.update(volume.metadata or {}) return (extra_specs.get('volume_format') or,69,14
openstack%2Fglance~stable%2Fpike~Ib56b600dbf53672bcaa4fd959adb736de4cdff50,openstack/glance,stable/pike,Ib56b600dbf53672bcaa4fd959adb736de4cdff50,Return 404 for import-info call,MERGED,2017-08-21 09:42:54.000000000,2017-08-21 16:36:48.000000000,2017-08-21 16:36:48.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}]","[{'number': 1, 'created': '2017-08-21 09:42:54.000000000', 'files': ['glance/tests/unit/v2/test_discovery_image_import.py', 'glance/api/v2/discovery.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c8873ccc18f1847e92a90e1ece03a15a4d40712d', 'message': 'Return 404 for import-info call\n\nChange the response to GET v2/info/import to be a 404 when Glance is\nconfigured with enable_image_import = False so that the response is\nconsistent with the v2.5 API.  See the bug for details.\n\nChange-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50\nCloses-bug: #1711362\n(cherry picked from commit 692dc040872e04d27469570a508018c44f8d88ef)\n'}]",0,495790,c8873ccc18f1847e92a90e1ece03a15a4d40712d,7,3,1,9303,,,0,"Return 404 for import-info call

Change the response to GET v2/info/import to be a 404 when Glance is
configured with enable_image_import = False so that the response is
consistent with the v2.5 API.  See the bug for details.

Change-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50
Closes-bug: #1711362
(cherry picked from commit 692dc040872e04d27469570a508018c44f8d88ef)
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/495790/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_discovery_image_import.py', 'glance/api/v2/discovery.py']",2,c8873ccc18f1847e92a90e1ece03a15a4d40712d,bug/1711362,"import webob.excfrom glance.i18n import _ # TODO(jokke): Will be removed after the config option # is removed. (deprecated) if not CONF.enable_image_import: msg = _(""Image import is not supported at this site."") raise webob.exc.HTTPNotFound(explanation=msg) ", # TODO(jokke): Will be removed after the config option # is removed. (deprecated) if not CONF.enable_image_import: import_methods['value'] = [] ,26,7
openstack%2Fopenstack-ansible~master~Ib371c3513081a82271f18cde340e1cd9465a3da6,openstack/openstack-ansible,master,Ib371c3513081a82271f18cde340e1cd9465a3da6,Vagrantfile: Increase VM memory size to 12G,MERGED,2017-08-21 14:02:34.000000000,2017-08-21 16:35:19.000000000,2017-08-21 16:22:04.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-08-21 14:02:34.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/15c420206fbef6c18952138aa91d2d60c5220178', 'message': ""Vagrantfile: Increase VM memory size to 12G\n\nRunning AIO on Vagrant results in the entire 8G of memory being used.\nThis makes the VM really slow after a while and as a result of which\nvarious services may start to fail due to timeouts. It's best to\nincrease the VM memory to 12G in order to make testing on Vagrant\nsmoother.\n\nRelated-Bug: #1711376\nChange-Id: Ib371c3513081a82271f18cde340e1cd9465a3da6\n""}]",0,495866,15c420206fbef6c18952138aa91d2d60c5220178,8,4,1,23163,,,0,"Vagrantfile: Increase VM memory size to 12G

Running AIO on Vagrant results in the entire 8G of memory being used.
This makes the VM really slow after a while and as a result of which
various services may start to fail due to timeouts. It's best to
increase the VM memory to 12G in order to make testing on Vagrant
smoother.

Related-Bug: #1711376
Change-Id: Ib371c3513081a82271f18cde340e1cd9465a3da6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/495866/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,15c420206fbef6c18952138aa91d2d60c5220178,osa-add-suse-support, v.memory = 12288, v.memory = 8192,1,1
openstack%2Fopenstack-ansible~master~Icfd7d2944fda0b419e742f153d338914fedcc20d,openstack/openstack-ansible,master,Icfd7d2944fda0b419e742f153d338914fedcc20d,Vagrantfile: Add openSUSE support,MERGED,2017-08-21 14:02:34.000000000,2017-08-21 16:22:18.000000000,2017-08-21 16:22:18.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-21 14:02:34.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2603e5a74e0e6b96bf51aba33051d189305c7318', 'message': 'Vagrantfile: Add openSUSE support\n\nIn preparation for adding openSUSE support, we extend the Vagrantfile\nto support openSUSE Leap 42.2/42.3 and extend the btrfs filesystem to the\nrequested size. The parted version in Leap 42.2/42.3 does not allow online\npartition size alternations so we delete and re-create the partition\nusing fdisk.\n\nChange-Id: Icfd7d2944fda0b419e742f153d338914fedcc20d\n'}]",0,495867,2603e5a74e0e6b96bf51aba33051d189305c7318,8,3,1,23163,,,0,"Vagrantfile: Add openSUSE support

In preparation for adding openSUSE support, we extend the Vagrantfile
to support openSUSE Leap 42.2/42.3 and extend the btrfs filesystem to the
requested size. The parted version in Leap 42.2/42.3 does not allow online
partition size alternations so we delete and re-create the partition
using fdisk.

Change-Id: Icfd7d2944fda0b419e742f153d338914fedcc20d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/495867/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,2603e5a74e0e6b96bf51aba33051d189305c7318,osa-add-suse-support," config.vm.define ""opensuse422"" do |leap422| leap422.disksize.size = disk_size leap422.vm.box = ""opensuse/openSUSE-42.2-x86_64"" leap422.vm.provision ""shell"", # NOTE(hwoarang) The parted version in Leap 42.2 can't do an online # partition resize so we must create a new one and attach it to the # btrfs filesystem. privileged: true, inline: <<-SHELL cd /vagrant echo -e 'd\n2\nn\np\n\n\n\nn\nw' | fdisk /dev/sda PART_END=$(fdisk -l /dev/sda | grep ^/dev/sda2 | awk '{print $4}') resizepart /dev/sda 2 $PART_END btrfs fi resize max / ./scripts/gate-check-commit.sh SHELL end config.vm.define ""opensuse423"" do |leap423| leap423.disksize.size = disk_size leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" leap423.vm.provision ""shell"", # NOTE(hwoarang) The parted version in Leap 42.3 can't do an online # partition resize so we must create a new one and attach it to the # btrfs filesystem. privileged: true, inline: <<-SHELL cd /vagrant echo -e 'd\n2\nn\np\n\n\n\nn\nw' | fdisk /dev/sda PART_END=$(fdisk -l /dev/sda | grep ^/dev/sda2 | awk '{print $4}') resizepart /dev/sda 2 $PART_END btrfs fi resize max / ./scripts/gate-check-commit.sh SHELL end ",,37,0
openstack%2Fopenstack-ansible~stable%2Fnewton~I2803b4b6814680af39594e205fcf7be338a70091,openstack/openstack-ansible,stable/newton,I2803b4b6814680af39594e205fcf7be338a70091,Create minor playbook to sync TZ data on upgrade,MERGED,2017-08-15 22:31:07.000000000,2017-08-21 16:21:57.000000000,2017-08-21 16:21:57.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-08-15 22:31:07.000000000', 'files': ['doc/source/upgrade-guide/manual-upgrade.rst', 'doc/source/upgrade-guide/reference-upgrade-playbooks.rst', 'scripts/upgrade-utilities/playbooks/lxc-container-tz-sync.yml', 'scripts/run-upgrade.sh', 'releasenotes/notes/lxc-container-sync-tz-b75cb628972c795b.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8af5bfcebcd3ab60374192c826858efc011efb61', 'message': ""Create minor playbook to sync TZ data on upgrade\n\nKeeping the timezone data in sync between containers and the host\nmachine should be done by default. This addition ensures that all\ncontainers inherit the TZ data from the host they're running on.\n\nChange-Id: I2803b4b6814680af39594e205fcf7be338a70091\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,494028,8af5bfcebcd3ab60374192c826858efc011efb61,7,3,1,7353,,,0,"Create minor playbook to sync TZ data on upgrade

Keeping the timezone data in sync between containers and the host
machine should be done by default. This addition ensures that all
containers inherit the TZ data from the host they're running on.

Change-Id: I2803b4b6814680af39594e205fcf7be338a70091
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/494028/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/upgrade-guide/manual-upgrade.rst', 'doc/source/upgrade-guide/reference-upgrade-playbooks.rst', 'scripts/upgrade-utilities/playbooks/lxc-container-tz-sync.yml', 'scripts/run-upgrade.sh', 'releasenotes/notes/lxc-container-sync-tz-b75cb628972c795b.yaml']",5,8af5bfcebcd3ab60374192c826858efc011efb61,,--- upgrade: - LXC containers will have their TZ data sync with their physical host machines. This is being done because containers have been assumed to use UTC while a host could be using something else. This causes issues in some services like celiometer and can result in general time differences in logging. ,,71,0
openstack%2Fnova~master~I2c1f575f806c3a605fdf213629015881bf87268c,openstack/nova,master,I2c1f575f806c3a605fdf213629015881bf87268c,conf: Set default for live_migration_scheme,ABANDONED,2017-04-18 16:32:59.000000000,2017-08-21 16:16:52.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-04-18 16:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dbed2013c14a08a9636772835614b5bb2ca9c57', 'message': 'conf: Set default for live_migration_scheme\n\nThere was a default hardcoded outside of the configuration option\nitself. Fix this, so the documentation will reflect the default.\n\nChange-Id: I2c1f575f806c3a605fdf213629015881bf87268c\n'}, {'number': 2, 'created': '2017-04-20 09:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0295ee6c6d238cba0159f92e9b861fd9b0522d64', 'message': 'conf: Set default for live_migration_scheme\n\nThere was a default hardcoded outside of the configuration option\nitself. Fix this, so the documentation will reflect the default.\n\nChange-Id: I2c1f575f806c3a605fdf213629015881bf87268c\n'}, {'number': 3, 'created': '2017-07-03 09:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/086fc82ec82a0c82dce66dd90fa3c1b49505acf7', 'message': 'conf: Set default for live_migration_scheme\n\nThere was a default hardcoded outside of the configuration option\nitself. Fix this, so the documentation will reflect the default.\n\nChange-Id: I2c1f575f806c3a605fdf213629015881bf87268c\n'}, {'number': 4, 'created': '2017-07-04 08:45:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/edade4b91d8cef5ef6c2bc29b452dcdfe2c8c344', 'message': 'conf: Set default for live_migration_scheme\n\nThere was a default hardcoded outside of the configuration option\nitself. Fix this, so the documentation will reflect the default.\n\nChange-Id: I2c1f575f806c3a605fdf213629015881bf87268c\n'}]",6,457716,edade4b91d8cef5ef6c2bc29b452dcdfe2c8c344,70,24,4,15334,,,0,"conf: Set default for live_migration_scheme

There was a default hardcoded outside of the configuration option
itself. Fix this, so the documentation will reflect the default.

Change-Id: I2c1f575f806c3a605fdf213629015881bf87268c
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/457716/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py']",2,7dbed2013c14a08a9636772835614b5bb2ca9c57,bug/1671288," default='tcp',",,2,2
openstack%2Freleases~master~I7c2bebd67a508fe07145b4721c2ec451b74faceb,openstack/releases,master,I7c2bebd67a508fe07145b4721c2ec451b74faceb,Release monasca-notification 1.10.1 for Pike,MERGED,2017-08-21 14:27:22.000000000,2017-08-21 15:56:13.000000000,2017-08-21 15:56:13.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 14:27:22.000000000', 'files': ['deliverables/pike/monasca-notification.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/48f3560050ca15697bef30a892fd3074136b7368', 'message': 'Release monasca-notification 1.10.1 for Pike\n\nChange-Id: I7c2bebd67a508fe07145b4721c2ec451b74faceb\n'}]",0,495888,48f3560050ca15697bef30a892fd3074136b7368,7,3,1,16222,,,0,"Release monasca-notification 1.10.1 for Pike

Change-Id: I7c2bebd67a508fe07145b4721c2ec451b74faceb
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/495888/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/monasca-notification.yaml'],1,48f3560050ca15697bef30a892fd3074136b7368,, - projects: - hash: cc13bcae010534e5ec04f6af95bf95a27e1474cd repo: openstack/monasca-notification version: 1.10.1,,4,0
openstack%2Freleases~master~I85ed20687b31ddb5628572a35f7c5b6a1415e36c,openstack/releases,master,I85ed20687b31ddb5628572a35f7c5b6a1415e36c,0.6.0 release of kuryr-lib,MERGED,2017-08-21 15:23:24.000000000,2017-08-21 15:54:55.000000000,2017-08-21 15:54:55.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 15:23:24.000000000', 'files': ['deliverables/_independent/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5e0e3ba2ced2b42a2dd7e3e730659b3fc86aa81e', 'message': '0.6.0 release of kuryr-lib\n\nWe should make a new release due to the requirements bump in\nkeystoneauth.\n\nChange-Id: I85ed20687b31ddb5628572a35f7c5b6a1415e36c\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",0,495905,5e0e3ba2ced2b42a2dd7e3e730659b3fc86aa81e,7,3,1,14352,,,0,"0.6.0 release of kuryr-lib

We should make a new release due to the requirements bump in
keystoneauth.

Change-Id: I85ed20687b31ddb5628572a35f7c5b6a1415e36c
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/495905/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/kuryr.yaml'],1,5e0e3ba2ced2b42a2dd7e3e730659b3fc86aa81e,kuryr-lib, - version: 0.6.0 projects: - repo: openstack/kuryr hash: 917ee686c1a824f23dfb80c0462be2d33502203e tarball-base: kuryr-lib,,5,0
openstack%2Fmagnum~master~Ie64e13720c8003b127ff937b506db357614ae6ee,openstack/magnum,master,Ie64e13720c8003b127ff937b506db357614ae6ee,Move to OpenStack client,MERGED,2017-07-29 07:06:15.000000000,2017-08-21 15:52:30.000000000,2017-08-21 15:52:30.000000000,"[{'_account_id': 3}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 26517}, {'_account_id': 26518}]","[{'number': 1, 'created': '2017-07-29 07:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9e8d3f320ada7ca18eed42103d0f1b4be0acd39a', 'message': 'changed nova keypai-add command as it is depricated instead used openstack\n\nChange-Id: Ie64e13720c8003b127ff937b506db357614ae6ee\n'}, {'number': 2, 'created': '2017-07-29 08:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3a2e441598b722af44cdb65a4a2f0f168a282797', 'message': 'changed nova keypai-add command as it is depricated instead used openstack\n\nChange-Id: Ie64e13720c8003b127ff937b506db357614ae6ee\n'}, {'number': 3, 'created': '2017-07-29 08:26:57.000000000', 'files': ['doc/source/contributor/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/65832dad7273885a06a324f5d71bab4f3554e9f9', 'message': 'Move to OpenStack client\n\nchanged nova keypair-add command as it is\ndepricated instead used openstack client\n\nChange-Id: Ie64e13720c8003b127ff937b506db357614ae6ee\n'}]",2,488927,65832dad7273885a06a324f5d71bab4f3554e9f9,12,5,3,26517,,,0,"Move to OpenStack client

changed nova keypair-add command as it is
depricated instead used openstack client

Change-Id: Ie64e13720c8003b127ff937b506db357614ae6ee
",git fetch https://review.opendev.org/openstack/magnum refs/changes/27/488927/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/quickstart.rst'],1,9e8d3f320ada7ca18eed42103d0f1b4be0acd39a,fix, openstack keypair-add --pub-key ~/.ssh/id_rsa.pub testkey, nova keypair-add --pub-key ~/.ssh/id_rsa.pub testkey,1,1
openstack%2Fnova~master~I5a069943c57ddaf1f2a8598f685d17ed1fd1c915,openstack/nova,master,I5a069943c57ddaf1f2a8598f685d17ed1fd1c915,conf: Reword 'reserved_host_memory_mb' help text,ABANDONED,2017-04-28 14:09:06.000000000,2017-08-21 15:48:52.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 20223}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-04-28 14:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62cd9aafd7531ed24ba965313ec192749753b46e', 'message': ""conf: Reword 'reserved_host_memory_mb' help text\n\nSynchronize the wording with that of the 'reserved_host_disk_mb',\n'reserved_host_disk_gb' images.\n\nChange-Id: I5a069943c57ddaf1f2a8598f685d17ed1fd1c915\n""}, {'number': 2, 'created': '2017-05-02 15:05:29.000000000', 'files': ['nova/conf/compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ba849505e343bbc3ec26aff66b6f677ff831132', 'message': ""conf: Reword 'reserved_host_memory_mb' help text\n\nSynchronize the wording with that of the 'reserved_host_disk_mb',\n'reserved_host_disk_gb' images.\n\nChange-Id: I5a069943c57ddaf1f2a8598f685d17ed1fd1c915\n""}]",0,461054,0ba849505e343bbc3ec26aff66b6f677ff831132,53,19,2,15334,,,0,"conf: Reword 'reserved_host_memory_mb' help text

Synchronize the wording with that of the 'reserved_host_disk_mb',
'reserved_host_disk_gb' images.

Change-Id: I5a069943c57ddaf1f2a8598f685d17ed1fd1c915
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/461054/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/compute.py'],1,62cd9aafd7531ed24ba965313ec192749753b46e,get-inventory,Amount of memory in MB to reserve for the host. Memory usage is reported back to the scheduler continuously by the `nova-compute` service running on a compute node. This option allows you to mark some of that memory as unusable by `nova-compute` and reserve it for the host.,"Amount of memory in MB to reserve for the host so that it is always available to host processes. The host resources usage is reported back to the scheduler continuously from nova-compute running on the compute node. To prevent the host memory from being considered as available, this option is used to reserve memory for the host. Possible values: * Any positive integer representing amount of memory in MB to reserve for the host.",5,9
openstack%2Fnova~master~Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931,openstack/nova,master,Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931,Replace reserved_host_disk_mb with reserved_host_disk_gb,ABANDONED,2017-04-27 16:11:14.000000000,2017-08-21 15:48:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-27 16:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac63a7ac263d2d157c02b3465b0c9abe420e953b', 'message': ""Replace reserved_host_disk_mb with reserved_host_disk_gb\n\nThere's a common pattern, particularly for resource trackers, of\nconverting 'reserved_host_disk_mb' to GBs. Given that disks are\nroutinely measured in the hundreds of GB, there's little reason to keep\nthis level of granularity around and force a potentially buggy\nconversion process.\n\nAdd a new configuration option - 'reserved_host_disk_gb' - which\nreplaces the now deprecated 'reserved_host_disk_mb' option. A helper\nmethod is included to make sure people don't do silly things like set\nboth values at the same time.\n\nChange-Id: Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931\n""}, {'number': 2, 'created': '2017-04-28 14:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3dce226dc6a44b78dfd517108b60afbce2426af', 'message': ""Replace reserved_host_disk_mb with reserved_host_disk_gb\n\nThere's a common pattern, particularly for resource trackers, of\nconverting 'reserved_host_disk_mb' to GBs. Given that disks are\nroutinely measured in the hundreds of GB, there's little reason to keep\nthis level of granularity around and force a potentially buggy\nconversion process.\n\nAdd a new configuration option - 'reserved_host_disk_gb' - which\nreplaces the now deprecated 'reserved_host_disk_mb' option. A helper\nmethod is included to make sure people don't do silly things like set\nboth values at the same time.\n\nChange-Id: Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931\n""}, {'number': 3, 'created': '2017-05-02 15:05:29.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/test_utils.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'releasenotes/notes/deprecate-reserved_host_disk_mb-6605ebe3fdc8537d.yaml', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/utils.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc5dda15c604a304f4eb4fd5039b8cac330e7ef6', 'message': ""Replace reserved_host_disk_mb with reserved_host_disk_gb\n\nThere's a common pattern, particularly for resource trackers, of\nconverting 'reserved_host_disk_mb' to GBs. Given that disks are\nroutinely measured in the hundreds of GB, there's little reason to keep\nthis level of granularity around and force a potentially buggy\nconversion process.\n\nAdd a new configuration option - 'reserved_host_disk_gb' - which\nreplaces the now deprecated 'reserved_host_disk_mb' option. A helper\nmethod is included to make sure people don't do silly things like set\nboth values at the same time.\n\nChange-Id: Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931\n""}]",4,460661,bc5dda15c604a304f4eb4fd5039b8cac330e7ef6,62,17,3,15334,,,0,"Replace reserved_host_disk_mb with reserved_host_disk_gb

There's a common pattern, particularly for resource trackers, of
converting 'reserved_host_disk_mb' to GBs. Given that disks are
routinely measured in the hundreds of GB, there's little reason to keep
this level of granularity around and force a potentially buggy
conversion process.

Add a new configuration option - 'reserved_host_disk_gb' - which
replaces the now deprecated 'reserved_host_disk_mb' option. A helper
method is included to make sure people don't do silly things like set
both values at the same time.

Change-Id: Iad2fb4b7b0a3ab47ae527936edab2f08afd9c931
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/460661/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/test_utils.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'releasenotes/notes/deprecate-reserved_host_disk_mb-6605ebe3fdc8537d.yaml', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/utils.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/db/test_db_api.py']",12,ac63a7ac263d2d157c02b3465b0c9abe420e953b,get-inventory, self.flags(reserved_host_disk_gb=0), self.flags(reserved_host_disk_mb=0),110,48
openstack%2Fmagnum~stable%2Fmitaka~Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751,openstack/magnum,stable/mitaka,Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751,"To take project and domain details from configuration in Mitaka relase, mandatory paramteres needed by keysonte V3",ABANDONED,2017-01-03 08:11:59.000000000,2017-08-21 15:48:02.000000000,,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 10206}]","[{'number': 1, 'created': '2017-01-03 08:11:59.000000000', 'files': ['magnum/common/keystone.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/84db32734df7b39b01170867a8dce71edf94047f', 'message': 'To take project and domain details from configuration in Mitaka relase, mandatory paramteres needed by keysonte V3\n\nChange-Id: Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751\nCloses-Bug: 1653206\n'}]",1,416171,84db32734df7b39b01170867a8dce71edf94047f,5,3,1,14961,,,0,"To take project and domain details from configuration in Mitaka relase, mandatory paramteres needed by keysonte V3

Change-Id: Ia54df4a26c2c365c4e54ac10ee2e09ef8d747751
Closes-Bug: 1653206
",git fetch https://review.opendev.org/openstack/magnum refs/changes/71/416171/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/common/keystone.py'],1,84db32734df7b39b01170867a8dce71edf94047f,bug/1653206," 'project_name': CONF.keystone_authtoken.admin_tenant_name, 'project_domain_name': CONF.keystone_authtoken.project_domain_name, 'user_domain_name': CONF.keystone_authtoken.user_domain_name", 'project_name': CONF.keystone_authtoken.admin_tenant_name,3,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fpike~Ieddb042952c7b1e12b62116daf1d7f6c199f93b8,openstack/openstack-ansible-os_neutron,stable/pike,Ieddb042952c7b1e12b62116daf1d7f6c199f93b8,Updated from OpenStack Ansible Tests,MERGED,2017-08-21 06:47:38.000000000,2017-08-21 15:42:20.000000000,2017-08-21 15:42:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-08-21 06:47:38.000000000', 'files': ['run_tests.sh', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/82689512c8134fd9daa9afab0145961e7b39618a', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ieddb042952c7b1e12b62116daf1d7f6c199f93b8\n(cherry picked from commit 1dffcac7d9b8b32a8d2b6cb31857ba48d2c648f5)\n'}]",0,495737,82689512c8134fd9daa9afab0145961e7b39618a,10,3,1,23163,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ieddb042952c7b1e12b62116daf1d7f6c199f93b8
(cherry picked from commit 1dffcac7d9b8b32a8d2b6cb31857ba48d2c648f5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/37/495737/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt']",2,82689512c8134fd9daa9afab0145961e7b39618a,,pyOpenSSL [platform:redhat],python2-pyOpenSSL [platform:redhat !platform:fedora] pyOpenSSL [platform:fedora],5,3
openstack%2Fironic~master~If7749c49604f5eac1c0307dbfea9d35cb64d3de0,openstack/ironic,master,If7749c49604f5eac1c0307dbfea9d35cb64d3de0,[reno] Add prelude for intermediate Pike 9.0.1 release,ABANDONED,2017-08-17 20:24:49.000000000,2017-08-21 15:39:13.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-08-17 20:24:49.000000000', 'files': ['releasenotes/notes/pike-901-release-c570884b8b2d8baf.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e585ba8cbb5b890d85ef4ded887f2a6127db44a7', 'message': '[reno] Add prelude for intermediate Pike 9.0.1 release\n\nThis adds a note to the intermediate 9.0.1 release, to indicate\nthat 9.0.1 should be used instead of 9.0.0.\n\nChange-Id: If7749c49604f5eac1c0307dbfea9d35cb64d3de0\n'}]",0,494693,e585ba8cbb5b890d85ef4ded887f2a6127db44a7,6,5,1,6618,,,0,"[reno] Add prelude for intermediate Pike 9.0.1 release

This adds a note to the intermediate 9.0.1 release, to indicate
that 9.0.1 should be used instead of 9.0.0.

Change-Id: If7749c49604f5eac1c0307dbfea9d35cb64d3de0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/494693/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/pike-901-release-c570884b8b2d8baf.yaml'],1,e585ba8cbb5b890d85ef4ded887f2a6127db44a7,reno-9.0.1,"--- prelude: > The 9.0.1 release is an intermediary Pike release; it should be used instead of the intermediary 9.0.0 release, since 9.0.1 passes all the ironic CI tests. other: - | Adds '9.0' and 'pike' as choices for the configuration option [default]/pin_release_version. This addresses failures with the unit and grenade tests. ",,10,0
openstack%2Fcinder~master~I848f6feaefbdbddb1f77b699012a96b235f7d7eb,openstack/cinder,master,I848f6feaefbdbddb1f77b699012a96b235f7d7eb,IBM Storage: add QoS documentation,MERGED,2017-07-23 13:57:07.000000000,2017-08-21 15:38:09.000000000,2017-08-18 07:54:41.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13047}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 17947}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20310}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25400}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-07-23 13:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c05686353d9b8a1bcd2167ba4296a5f61242e66', 'message': 'IBM Storage: add QoS documentation\n\nAdd best practice for using QoS feature with IBM Storage\nCinder driver\n\nChange-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb\nCloses-Bug: 1698433\n'}, {'number': 2, 'created': '2017-08-14 11:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a2271883549df2a044380dcd0215eefeb0348a5', 'message': 'IBM Storage: add QoS documentation\n\nAdd best practice for using QoS feature with IBM Storage\nCinder driver\n\nChange-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb\nCloses-Bug: 1698433\n'}, {'number': 3, 'created': '2017-08-15 12:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4ab8a28e1f2fed764d9f882963904bee22a4935', 'message': 'IBM Storage: add QoS documentation\n\nAdd best practice for using QoS feature with IBM Storage\nCinder driver\nAlso, handle some general text cleanup and formatting\n\nChange-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb\nCloses-Bug: 1698433\n'}, {'number': 4, 'created': '2017-08-15 14:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0054e2a40b55bafc77557b5b2f5917abe50184c0', 'message': 'IBM Storage: add QoS documentation\n\nAdd best practice for using QoS feature with IBM Storage\nCinder driver\nAlso, handle some general text cleanup and formatting\n\nChange-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb\nCloses-Bug: 1698433\n'}, {'number': 5, 'created': '2017-08-15 14:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/048bac0d62707aece1de38d437c0016bf6ff21d8', 'message': 'IBM Storage: add QoS documentation\n\nAdd best practice for using QoS feature with IBM Storage\nCinder driver\nAlso, handle some general text cleanup and formatting\n\nChange-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb\nCloses-Bug: 1698433\n'}, {'number': 6, 'created': '2017-08-17 19:51:40.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ee61f9fda5d3d3127e871bbf2c877341cfd5e11', 'message': 'IBM Storage: add QoS documentation\n\nAdd best practice for using QoS feature with IBM Storage\nCinder driver\nAlso, handle some general text cleanup and formatting\n\nChange-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb\nCloses-Bug: 1698433\n'}]",29,486405,9ee61f9fda5d3d3127e871bbf2c877341cfd5e11,140,42,6,13047,,,0,"IBM Storage: add QoS documentation

Add best practice for using QoS feature with IBM Storage
Cinder driver
Also, handle some general text cleanup and formatting

Change-Id: I848f6feaefbdbddb1f77b699012a96b235f7d7eb
Closes-Bug: 1698433
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/486405/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst'],1,5c05686353d9b8a1bcd2167ba4296a5f61242e66,bug/1698433,"################################################################After the driver is configured on the OpenStack Cinder nodes, storage volumes can be allocated by the Cinder nodes to the Nova nodes. Virtual machines on the Nova nodes can then utilize these storage resources.IBM Storage Driver for OpenStack is configured on the OpenStack Cinder nodes.Nova nodes in the OpenStack cloud.man-in-the-middle (MITM) attacks by following these rules. (XIV-CA.pem). The certificate files should be copied to one of the following directories: * /etc/ssl/certs * /etc/ssl/certs/xiv * /etc/pki * /etc/pki/xiv If you are using your own certificates, copy them to the same directories with the prefix ""XIV"" and in the .pem format. For example: XIV-my_cert.pem. * In order to prevent the CVE-2014-3566 MITM attack, follow the OpenStack community directions (http://osdir.com/ml/openstack-dev/2014-10/msg01349.html).Checking the Cinder node log files ------------------------------------- The Cinder log files record operation information that might be usefullogging level in the cinder.conf file, located in the ``/etc/cinder``restart the cinder-volume service:verbose = True debug = Truesave the file, and then restart the cinder-volume service.Storage Driver is functioning properly. * To check the log file on a Cinder node: * Go to the /var/log/cinder folder and open the activity log file named cinder-volume.log or volume.log. The IBM Storage Driver writes to this log file using the [IBM DS8K STORAGE] or [IBM XIV STORAGE] prefix (depending on the relevant storage system) for each event that it records in the file. access policy can be CLOSED (``domain_policy: access=CLOSED``). OPEN (``domain_policy: access=OPEN``). * If the user is not a domain administrator, the host management policy of the storage system domain can be BASIC (``domain_policy: system domain host management policy is EXTENDEDFollow these guidelines, when working with compressed storage resources, using the IBM Storage Driver for OpenStack: any volume, created in a compressed pool, will be compressed as well.Working with QoS ---------------- The IBM Storage Driver for OpenStack provides QoS per volume for IBM FlashSystem A9000/A900R storage systems, running microcode version of 12.0 or later. With QoS classes, the user can control the maximum bandwidth and I/O operations for each volume. QoS class types: * Shared (default). Limits the combined rates of all of the volumes in the same QoS class. The maximum rate is the sum of the combined rate for each volume. For example, two volumes under a QoS class of maximum 100 Gbps are allocated a combined maximum bandwidth rate of 100 Gbps. * Independent. Sets the maximum rate separately for each volume in the QoS class. For example, for two volumes under a QoS class of maximum 100 Gbps, each volume is limited to a rate of 100 Gbps. Thus, the combined maximum bandwidth rate is up to 200 Gbps. To define a QoS class: 1. Create the QoS class: .. code-block:: ini cinder qos-create <class_name> <class_specs: bw=#, iops=#> 2. Create a type: .. code-block:: ini cinder type-create type_<qos_class_name> 3. Associate the QoS class with the type: .. code-block:: ini cinder qos-associate <qos uuid> <type uuid> 4. Announce that the type is supporting QoS: .. code-block:: ini cinder type-key <type_name or UUID> set QoS_support=True 5. Create a volume: .. code-block:: ini cinder create 1 --volume-type <type_name> ","================================================================After the driver is configured on the OpenStack cinder nodes, storage volumes can be allocated by the cinder nodes to the nova nodes. Virtual machines on the nova nodes can then utilize these storage resources.IBM Storage Driver for OpenStack is configured on the OpenStack cinder nodes.nova nodes in the OpenStack cloud.man-in-the-middle (MITM) attacks by following these rules: (``XIV-CA.pem``). The certificate files should be copied to one of the following directories: * ``/etc/ssl/certs`` * ``/etc/ssl/certs/xiv`` * ``/etc/pki`` * ``/etc/pki/xiv`` If you are using your own certificates, copy them to the same directories with the prefix ``XIV`` and in the ``.pem`` format. For example: ``XIV-my_cert.pem``. * To prevent the CVE-2014-3566 MITM attack, follow the OpenStack community `directions <http://osdir.com/ml/openstack-dev/2014-10/msg01349.html>`_.Checking the cinder node log files ---------------------------------- The cinder log files record operation information that might be usefullogging level in the ``cinder.conf`` file, located in the ``/etc/cinder``restart the ``cinder-volume`` service: verbose = True debug = Truesave the file, and then restart the ``cinder-volume`` service.Storage Driver is functioning properly: #. Log into the cinder node. #. Go to the ``/var/log/cinder`` folder #. Open the activity log file named ``cinder-volume.log`` or ``volume.log``. The IBM Storage Driver writes to this log file using the ``[IBM DS8K STORAGE]`` or ``[IBM XIV STORAGE]`` prefix (depending on the relevant storage system) for each event that it records in the file. access policy can be ``CLOSED`` (``domain_policy: access=CLOSED``). ``OPEN`` (``domain_policy: access=OPEN``). * If the user is not a domain administrator, the host management policy of the storage system domain can be ``BASIC`` (``domain_policy: system domain host management policy is ``EXTENDED``Follow these guidelines when working with compressed storage resources using the IBM Storage Driver for OpenStack: any volume created in a compressed pool will be compressed as well.",96,43
openstack%2Fironic~master~I4d68ee02a37bb5c468a19fe2e7d76042e172d474,openstack/ironic,master,I4d68ee02a37bb5c468a19fe2e7d76042e172d474,[reno] Add prelude for Pike (9.1.0) release,ABANDONED,2017-08-17 15:35:03.000000000,2017-08-21 15:36:22.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14629}]","[{'number': 1, 'created': '2017-08-17 15:35:03.000000000', 'files': ['releasenotes/notes/pike-prelude-815f73ba4ad59f97.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a073ef98af675348853cb922d25f15687321b95a', 'message': '[reno] Add prelude for Pike (9.1.0) release\n\nThis adds the Prelude section for the Pike (9.1.0) release.\nIt includes changes from the 9.0.0 release (first release\nin stable/pike).\n\nChange-Id: I4d68ee02a37bb5c468a19fe2e7d76042e172d474\n'}]",0,494608,a073ef98af675348853cb922d25f15687321b95a,7,5,1,6618,,,0,"[reno] Add prelude for Pike (9.1.0) release

This adds the Prelude section for the Pike (9.1.0) release.
It includes changes from the 9.0.0 release (first release
in stable/pike).

Change-Id: I4d68ee02a37bb5c468a19fe2e7d76042e172d474
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/494608/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/pike-prelude-815f73ba4ad59f97.yaml'],1,a073ef98af675348853cb922d25f15687321b95a,pike-reno,"--- prelude: | The 9.1.0 (Pike) release includes many new features and bug fixes. Please review the upgrade section which describes the required actions to upgrade your installation from 7.0.x (Ocata) to 9.1.0 (Pike). A few major changes are worth mentioning. This is not an exhaustive list, and includes changes from 9.0.0 as well: - It is now possible to do rolling upgrades, starting with upgrading Ocata to Pike. For details, see https://docs.openstack.org/ironic/latest/admin/upgrade-guide.html. - The long-awaited support to boot from volumes is here. For details, see https://docs.openstack.org/ironic/latest/admin/boot-from-volume.html. - Full support for ""dynamic"" drivers is available. There are hardware types for all ""classic"" drivers. The use of hardware types is preferred over the use of ""classic"" drivers, since ""classic"" drivers may be deprecated in Queens. - ``redfish`` is a new hardware type that supports the Redfish standard. - The Compute service is changing the way bare metal nodes are scheduled, and will be using the node's ``resource_class`` to do this. For more details, see https://docs.openstack.org/ironic/latest/install/configure-nova-flavors.html#scheduling-based-on-resource-classes. - The Bare Metal service can now incorporate physical network information when attaching virtual interfaces (VIFs) via the new ``physical_network`` field to the port object. For details, see https://docs.openstack.org/ironic/latest/admin/multitenancy.html#multitenancy-physnets. - The ssh-based drivers have been removed from ironic. Please see the ""Upgrade Notes"" section for more information. ",,36,0
openstack%2Fglance~master~Ibe164f02c99d10f5a5edd0de96c665413a12f700,openstack/glance,master,Ibe164f02c99d10f5a5edd0de96c665413a12f700,Fix Image API 'versions' response,MERGED,2017-08-19 17:10:15.000000000,2017-08-21 15:35:59.000000000,2017-08-21 13:19:37.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11564}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-19 17:10:15.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/tests/functional/test_api.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d3871a57b895902432bc7ddb98f9bb757cc2502b', 'message': ""Fix Image API 'versions' response\n\nWhether or not the v2.6 EXPERIMENTAL API is exposed at a site\ndepends on the enable_image_import config value.  If it's False\n(the default), then the API a client sees is the CURRENT v2.5\nAPI, and any of the v2.6 calls made against 2.5 return a 404\n(same as if you were running Ocata).  This patch adjusts the\n'versions' response so that when enable_image_import=False,\nthe EXPERIMENTAL v2.6 does not appear in the response.\n\nChange-Id: Ibe164f02c99d10f5a5edd0de96c665413a12f700\nCloses-bug: #1711829\n""}]",0,495512,d3871a57b895902432bc7ddb98f9bb757cc2502b,11,5,1,5314,,,0,"Fix Image API 'versions' response

Whether or not the v2.6 EXPERIMENTAL API is exposed at a site
depends on the enable_image_import config value.  If it's False
(the default), then the API a client sees is the CURRENT v2.5
API, and any of the v2.6 calls made against 2.5 return a 404
(same as if you were running Ocata).  This patch adjusts the
'versions' response so that when enable_image_import=False,
the EXPERIMENTAL v2.6 does not appear in the response.

Change-Id: Ibe164f02c99d10f5a5edd0de96c665413a12f700
Closes-bug: #1711829
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/495512/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/tests/functional/test_api.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'glance/tests/functional/__init__.py']",5,d3871a57b895902432bc7ddb98f9bb757cc2502b,bug/1711829," # TODO(rosmaita): remove in Queens when the option is removed # also, don't forget to remove it from ApiServer.conf_base self.enable_image_import = Falseenable_image_import = %(enable_image_import)s",,472,372
openstack%2Fnova~master~I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd,openstack/nova,master,I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd,Clarify that vlan feature means nova-network support,MERGED,2017-06-28 16:16:36.000000000,2017-08-21 15:29:41.000000000,2017-08-21 15:29:41.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-06-28 16:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/918c3107e8add837c61fa8ccfc1e65f07b834cd8', 'message': 'Clarify that vlan feature means nova-network support\n\nChange-Id: I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd\nCloses-Bug: #1612890\n'}, {'number': 2, 'created': '2017-06-30 14:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05bbfa0e3eecd1417b4e3b7b10e22cf16afe19cc', 'message': 'Clarify that vlan feature means nova-network support\n\nChange-Id: I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd\nCloses-Bug: #1612890\n'}, {'number': 3, 'created': '2017-08-10 10:42:19.000000000', 'files': ['doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7adbc19e4124d8d21837c1734119c2c1866936', 'message': 'Clarify that vlan feature means nova-network support\n\nChange-Id: I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd\nCloses-Bug: #1612890\n'}]",0,478551,ae7adbc19e4124d8d21837c1734119c2c1866936,32,11,3,2750,,,0,"Clarify that vlan feature means nova-network support

Change-Id: I3fef0a935bb7fe9a91b1a1938ea47c86f0cf16fd
Closes-Bug: #1612890
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/478551/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/support-matrix.ini'],1,918c3107e8add837c61fa8ccfc1e65f07b834cd8,clarify,notes=Provide network connectivity to guests using VLANs to define the topology when using nova-network. At least one of the networking,notes=Provide network connectivity to guests using VLANs to define the topology. At least one of the networking,2,2
openstack%2Fnova~master~I12de2e195022593ea2a3e2894f2c3b5226930d4f,openstack/nova,master,I12de2e195022593ea2a3e2894f2c3b5226930d4f,replace chance with filter scheduler in func tests,MERGED,2017-08-07 15:54:40.000000000,2017-08-21 15:29:19.000000000,2017-08-21 15:29:19.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-07 15:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a98413a1bf83f0bee0e2ec72741d515cc9bb7c97', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test\nenvironment to use the FilterScheduler instead of the ChanceScheduler.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 2, 'created': '2017-08-07 22:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/197dcd093fd0348c6736603687c788dc5bed1a27', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 3, 'created': '2017-08-08 07:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/886ca826d93bc4cc7ee124960641dc38a07f6574', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 4, 'created': '2017-08-08 09:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a4f849d11b12ae9a4f633aa47428852296399b4', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe server group tests needed a bit of fix as now the previous tests sets\nonly the ComputeFilter as enabled filter and scheduler.utils caches this\ninformation. So now we invalidate that cache as well.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 5, 'created': '2017-08-08 11:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16a67d4981c912412de4f075adca2e332131b81b', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe server group tests needed a bit of fix as now the previous tests set\nonly the ComputeFilter as enabled filter and scheduler.utils caches this\ninformation. Previously only the server group conf tests mocked the\ncaches as those wanted to change the available filters but now the whole\nsuite has to make sure that the affinity filters are configured and the\ncache is not stale.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 6, 'created': '2017-08-09 09:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3fd86d04623905aab3f9756e04fb8fe0b04fe20', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 7, 'created': '2017-08-09 15:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cafccd35426b37018447b9246aaf6a61eb7b9cce', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 8, 'created': '2017-08-09 17:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6be4d0cf6582402c5a3fb167f98630211adac46d', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 9, 'created': '2017-08-09 20:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccba02777c288c378ce887badeaa94fd99028c7c', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 10, 'created': '2017-08-10 08:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec8942db23eb8717866786232fd6be7d5c2baf94', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 11, 'created': '2017-08-10 11:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b296d1deaffce881519587796fb645a32bb347c', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 12, 'created': '2017-08-11 09:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/963a7385963b282ac34d59640b75cea15aba22b9', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 13, 'created': '2017-08-15 15:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8004b1d33b3204aa8f6d1fab6b6e10f36ba3db2b', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}, {'number': 14, 'created': '2017-08-16 14:42:51.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-detail-with-servers-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1522536.py', 'doc/api_samples/os-hosts/host-get-resp.json', 'nova/tests/functional/regressions/test_bug_1548980.py', 'nova/tests/functional/regressions/test_bug_1689692.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-show-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'nova/tests/functional/test_list_servers_ip_filter.py', 'nova/tests/functional/regressions/test_bug_1679750.py', 'doc/api_samples/os-hypervisors/v2.28/hypervisors-statistics-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.28/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-detail-with-servers-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-show-with-servers-resp.json', 'nova/tests/functional/regressions/test_bug_1682693.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json', 'nova/virt/fake.py', 'doc/api_samples/os-hypervisors/hypervisors-statistics-resp.json', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/unit/compute/test_compute.py', 'doc/api_samples/os-hypervisors/v2.28/hypervisors-show-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.28/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-statistics-resp.json', 'nova/tests/functional/regressions/test_bug_1671648.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hosts/host-get-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1675570.py', 'doc/api_samples/os-hypervisors/v2.28/hypervisors-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.28/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-show-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/test_servers.py', 'doc/api_samples/os-hypervisors/hypervisors-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-show-with-servers-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc833359870d3962326c35094adea2f525ec8141', 'message': 'replace chance with filter scheduler in func tests\n\nFilterScheduler is the only scheduler driver that properly integrated\nwith placement api so this patch changes the functional test environment\nto use the FilterScheduler instead of the ChanceScheduler.\n\nThe amount of vcpu the SmallFakeDriver reports need to be bumped to 2\nas during resize to same host the filter scheduler doubles the\nallocation on the host. Simply relying on the 16.0 default allocation\nratio does not work as the max_unit of the vcpu does not use the\nallocation ratio to avoid that a single server overallocates the cpu.\n\nThe only change in unit test is\ntest_create_instance_with_oversubscribed_cpu which also loads the\nSmallFakeDriver and asserts available resources on it.\n\nChange-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f\n'}]",37,491529,cc833359870d3962326c35094adea2f525ec8141,181,21,14,9708,,,0,"replace chance with filter scheduler in func tests

FilterScheduler is the only scheduler driver that properly integrated
with placement api so this patch changes the functional test environment
to use the FilterScheduler instead of the ChanceScheduler.

The amount of vcpu the SmallFakeDriver reports need to be bumped to 2
as during resize to same host the filter scheduler doubles the
allocation on the host. Simply relying on the 16.0 default allocation
ratio does not work as the max_unit of the vcpu does not use the
allocation ratio to avoid that a single server overallocates the cpu.

The only change in unit test is
test_create_instance_with_oversubscribed_cpu which also loads the
SmallFakeDriver and asserts available resources on it.

Change-Id: I12de2e195022593ea2a3e2894f2c3b5226930d4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/491529/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-detail-with-servers-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1522536.py', 'doc/api_samples/os-hosts/host-get-resp.json', 'nova/tests/functional/regressions/test_bug_1548980.py', 'nova/tests/functional/regressions/test_bug_1689692.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-show-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'nova/tests/functional/test_list_servers_ip_filter.py', 'doc/api_samples/os-hypervisors/v2.28/hypervisors-statistics-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.28/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-detail-with-servers-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-show-with-servers-resp.json', 'nova/tests/functional/regressions/test_bug_1682693.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json', 'nova/virt/fake.py', 'doc/api_samples/os-hypervisors/hypervisors-statistics-resp.json', 'nova/tests/functional/integrated_helpers.py', 'doc/api_samples/os-hypervisors/v2.28/hypervisors-show-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.28/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-statistics-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hosts/host-get-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1675570.py', 'doc/api_samples/os-hypervisors/v2.28/hypervisors-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.28/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-show-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-statistics-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-show-with-servers-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1595962.py']",37,a98413a1bf83f0bee0e2ec72741d515cc9bb7c97,491529," self.flags(enabled_filters=['ComputeFilter', 'RetryFilter'], group='filter_scheduler')"," self.flags(driver='chance_scheduler', group='scheduler')",60,47
openstack%2Foslo.messaging~master~I2bf79884704974dc00196816f7de43580b474d3e,openstack/oslo.messaging,master,I2bf79884704974dc00196816f7de43580b474d3e,Remove unnecessary setUp function in testcase,MERGED,2017-08-17 03:17:23.000000000,2017-08-21 15:27:50.000000000,2017-08-21 15:27:50.000000000,"[{'_account_id': 3}, {'_account_id': 8770}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-08-17 03:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/edf1a59738c9ac38d75be04c82ece0a5a51bd8c0', 'message': 'Remove unnecessary setUp function in testcase\n\nIn testcase, setUp will be called automatically. This patch used\nto remove setUp functions that do nothing. Besides, it will keep\ncode clean.\n\nChange-Id: I2bf79884704974dc00196816f7de43580b474d3e\n'}, {'number': 2, 'created': '2017-08-17 05:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a56594ac01f5964ad005fdf6d9b72784af7790d8', 'message': 'Remove unnecessary setUp function in testcase\n\nIn testcase, setUp will be called automatically. This patch used\nto remove setUp functions that do nothing. Besides, it will keep\ncode clean.\n\nChange-Id: I2bf79884704974dc00196816f7de43580b474d3e\n'}, {'number': 3, 'created': '2017-08-18 01:22:54.000000000', 'files': ['oslo_messaging/tests/test_exception_serialization.py', 'oslo_messaging/tests/test_opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/80c628336144ed88538292d7db5a6c439f8d866d', 'message': 'Remove unnecessary setUp function in testcase\n\nIn testcase, setUp will be called automatically. This patch used\nto remove setUp functions that do nothing. Besides, it will keep\ncode clean.\n\nChange-Id: I2bf79884704974dc00196816f7de43580b474d3e\n'}]",1,494362,80c628336144ed88538292d7db5a6c439f8d866d,14,3,3,25388,,,0,"Remove unnecessary setUp function in testcase

In testcase, setUp will be called automatically. This patch used
to remove setUp functions that do nothing. Besides, it will keep
code clean.

Change-Id: I2bf79884704974dc00196816f7de43580b474d3e
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/62/494362/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/test_exception_serialization.py', 'oslo_messaging/tests/test_opts.py']",2,edf1a59738c9ac38d75be04c82ece0a5a51bd8c0,delete_setup,," def setUp(self): super(OptsTestCase, self).setUp()",0,5
openstack%2Fneutron~master~Id50674c44cd3720dcd8fd6d66361d937599f5992,openstack/neutron,master,Id50674c44cd3720dcd8fd6d66361d937599f5992,Treat Filter as Dict in get_policies,MERGED,2017-08-18 05:47:24.000000000,2017-08-21 15:23:22.000000000,2017-08-21 01:51:04.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9732}]","[{'number': 1, 'created': '2017-08-18 05:47:24.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/23ef48ad558def5ed2ce701e651a50590ac323c0', 'message': ""Treat Filter as Dict in get_policies\n\nCurrently QoS plugin's get_policies doesnt check if the filter\nis a dict or not, though similar checks exist in get_rule_types()\nand get_policy_rules().\nThis patch adds the check so that if any consumer passes filters=None\nthen it is converted to a dict.\n\nTrivialFix\nPartial-Bug: #1711165\n\nChange-Id: Id50674c44cd3720dcd8fd6d66361d937599f5992\n""}]",1,494953,23ef48ad558def5ed2ce701e651a50590ac323c0,15,5,1,17776,,,0,"Treat Filter as Dict in get_policies

Currently QoS plugin's get_policies doesnt check if the filter
is a dict or not, though similar checks exist in get_rule_types()
and get_policy_rules().
This patch adds the check so that if any consumer passes filters=None
then it is converted to a dict.

TrivialFix
Partial-Bug: #1711165

Change-Id: Id50674c44cd3720dcd8fd6d66361d937599f5992
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/494953/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,23ef48ad558def5ed2ce701e651a50590ac323c0,bug/1711165, filters = filters or dict(),,1,0
openstack%2Fmistral-dashboard~master~I70fae369fa9dd1a7aba16282e66db5db90133c57,openstack/mistral-dashboard,master,I70fae369fa9dd1a7aba16282e66db5db90133c57,Updated from global requirements,MERGED,2017-08-18 11:32:35.000000000,2017-08-21 15:16:22.000000000,2017-08-21 15:16:22.000000000,"[{'_account_id': 3}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-08-18 11:32:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/7f9c8210a5f2b719658f91b20c9ea1456bec926b', 'message': 'Updated from global requirements\n\nChange-Id: I70fae369fa9dd1a7aba16282e66db5db90133c57\n'}]",0,495186,7f9c8210a5f2b719658f91b20c9ea1456bec926b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I70fae369fa9dd1a7aba16282e66db5db90133c57
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/86/495186/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7f9c8210a5f2b719658f91b20c9ea1456bec926b,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fpython-novaclient~master~I662fd366df8e79db1966d45a9e090087dbace4b0,openstack/python-novaclient,master,I662fd366df8e79db1966d45a9e090087dbace4b0,Allow boot server with multiple nics,MERGED,2017-08-09 06:48:01.000000000,2017-08-21 15:14:36.000000000,2017-08-21 10:16:26.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 5754}, {'_account_id': 15888}]","[{'number': 1, 'created': '2017-08-09 06:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/956defa431fc8b6e2d6b9d519cd7b4aced03e9f6', 'message': 'Allow boot server with multiple nics\n\nTrying to boot a server while specifying multiple\n--nic parameters leads to an error: Invalid nic\nargument.\nThis patch fixes it.\n\nChange-Id: I662fd366df8e79db1966d45a9e090087dbace4b0\nCloses-Bug: #1706597\n'}, {'number': 2, 'created': '2017-08-10 01:58:36.000000000', 'files': ['novaclient/v2/shell.py', 'releasenotes/notes/fix-booting-with-multiple-nics-c6e5885b948d35ba.yaml', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0a3cf89c67a3fb78876137506fe57e645f4fabe4', 'message': 'Allow boot server with multiple nics\n\nTrying to boot a server while specifying multiple\n--nic parameters leads to an error: Invalid nic\nargument.\nThis patch fixes it.\n\nChange-Id: I662fd366df8e79db1966d45a9e090087dbace4b0\nCloses-Bug: #1706597\n'}]",1,492003,0a3cf89c67a3fb78876137506fe57e645f4fabe4,12,4,2,8289,,,0,"Allow boot server with multiple nics

Trying to boot a server while specifying multiple
--nic parameters leads to an error: Invalid nic
argument.
This patch fixes it.

Change-Id: I662fd366df8e79db1966d45a9e090087dbace4b0
Closes-Bug: #1706597
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/03/492003/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'novaclient/tests/unit/v2/test_shell.py']",2,956defa431fc8b6e2d6b9d519cd7b4aced03e9f6,bug/1706597," def test_boot_with_multiple_nics(self): cmd = ('boot --image %s --flavor 1 ' '--nic net-id=net_a,v4-fixed-ip=10.0.0.1 ' '--nic net-id=net_b some-server' % FAKE_UUID_1) self.run_command(cmd) self.assert_called_anytime( 'POST', '/servers', { 'server': { 'flavorRef': '1', 'name': 'some-server', 'imageRef': FAKE_UUID_1, 'min_count': 1, 'max_count': 1, 'networks': [ {'uuid': 'net_a', 'fixed_ip': '10.0.0.1'}, {'uuid': 'net_b'} ], }, }, ) ",,32,9
openstack%2Fmistral-lib~master~I5e3c05f06fe5d21c80feb645a422a149aa68ed6f,openstack/mistral-lib,master,I5e3c05f06fe5d21c80feb645a422a149aa68ed6f,Updated from global requirements,MERGED,2017-08-18 11:32:37.000000000,2017-08-21 15:11:56.000000000,2017-08-21 15:11:56.000000000,"[{'_account_id': 3}, {'_account_id': 9712}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-18 11:32:37.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/2198efb963c84ee7a565af0ac1877eca0ca7c448', 'message': 'Updated from global requirements\n\nChange-Id: I5e3c05f06fe5d21c80feb645a422a149aa68ed6f\n'}]",0,495187,2198efb963c84ee7a565af0ac1877eca0ca7c448,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I5e3c05f06fe5d21c80feb645a422a149aa68ed6f
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/87/495187/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2198efb963c84ee7a565af0ac1877eca0ca7c448,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fceilometer~master~I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2,openstack/ceilometer,master,I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2,deprecated pollster-list,MERGED,2017-06-29 16:15:21.000000000,2017-08-21 15:09:24.000000000,2017-08-21 15:09:24.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-06-29 16:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9905186f3fc9258b5b86031b77210ba10038e1c9', 'message': 'deprecated pollster-list\n\nwe should only do this via polling.yaml (or pipeline.yaml for\npre-Pike builds)\n\nChange-Id: I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2\n'}, {'number': 2, 'created': '2017-07-28 13:00:57.000000000', 'files': ['releasenotes/notes/deprecate-pollster-list-ccf22b0dea44f043.yaml', 'ceilometer/cmd/polling.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/32a7c4dfbd9ad794a3c5d300c4996c6586fc0626', 'message': 'deprecated pollster-list\n\nwe should only do this via polling.yaml (or pipeline.yaml for\npre-Pike builds)\n\nChange-Id: I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2\n'}]",0,478988,32a7c4dfbd9ad794a3c5d300c4996c6586fc0626,14,5,2,6537,,,0,"deprecated pollster-list

we should only do this via polling.yaml (or pipeline.yaml for
pre-Pike builds)

Change-Id: I6cb28913afc18b2a5d2a0c0612fad399ffa5a3b2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/88/478988/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-pollster-list-ccf22b0dea44f043.yaml', 'ceilometer/cmd/polling.py']",2,9905186f3fc9258b5b86031b77210ba10038e1c9,pollster-list," deprecated_for_removal=True, 'used while polling. This option is deprecated. ' 'Configure pollsters via polling.yaml'),"," 'used while polling'),",8,1
openstack%2Fnova~master~I0df401a7c91f012fdb25cb0e6b344ca51de8c309,openstack/nova,master,I0df401a7c91f012fdb25cb0e6b344ca51de8c309,delete allocation of evacuated instance,MERGED,2017-08-11 15:06:32.000000000,2017-08-21 15:08:52.000000000,2017-08-17 16:50:22.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-11 15:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45a5752ba6baf1288cda4c4b3d2379d324c98555', 'message': 'delete allocation of evacuated instance\n\nAfter evacuation the instance has allocations on both the source and\nthe destination computes. This is OK as the source compute is down.\nHowever after the source compute is brought up the allocation from\nthe source host needs to be cleaned up.\n\nCloses-Bug: #1709902\nChange-Id: I0df401a7c91f012fdb25cb0e6b344ca51de8c309\n'}, {'number': 2, 'created': '2017-08-14 12:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa98147296b4ec69f44e650d655b0c20a3fa7ab9', 'message': 'delete allocation of evacuated instance\n\nAfter evacuation the instance has allocations on both the source and\nthe destination computes. This is OK as the source compute is down.\nHowever after the source compute is brought up the allocation from\nthe source host needs to be cleaned up.\n\nCloses-Bug: #1709902\nChange-Id: I0df401a7c91f012fdb25cb0e6b344ca51de8c309\n'}, {'number': 3, 'created': '2017-08-16 07:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3715861e012f04d9dee0b8f34ab7fda8936b6c39', 'message': 'delete allocation of evacuated instance\n\nAfter evacuation the instance has allocations on both the source and\nthe destination computes. This is OK as the source compute is down.\nHowever after the source compute is brought up the allocation from\nthe source host needs to be cleaned up.\n\nCloses-Bug: #1709902\nChange-Id: I0df401a7c91f012fdb25cb0e6b344ca51de8c309\n'}, {'number': 4, 'created': '2017-08-16 11:44:29.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b9c2c52f323c536fb90bb29a40efbed1b129594', 'message': 'delete allocation of evacuated instance\n\nAfter evacuation the instance has allocations on both the source and\nthe destination computes. This is OK as the source compute is down.\nHowever after the source compute is brought up the allocation from\nthe source host needs to be cleaned up.\n\nCloses-Bug: #1709902\nChange-Id: I0df401a7c91f012fdb25cb0e6b344ca51de8c309\n'}]",2,493037,9b9c2c52f323c536fb90bb29a40efbed1b129594,57,17,4,9708,,,0,"delete allocation of evacuated instance

After evacuation the instance has allocations on both the source and
the destination computes. This is OK as the source compute is down.
However after the source compute is brought up the allocation from
the source host needs to be cleaned up.

Closes-Bug: #1709902
Change-Id: I0df401a7c91f012fdb25cb0e6b344ca51de8c309
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/493037/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",4,45a5752ba6baf1288cda4c4b3d2379d324c98555,bug/1709902," self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages) self.assertEqual(1, len(allocations))"," # NOTE(gibi): this is bug 1709902 as the source compute does not clean # up the allocation during init_host self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # after fixing bug 1709902 the following is expected # self.assertEqual({'VCPU': 0, # 'MEMORY_MB': 0, # 'DISK_GB': 0}, # source_usages) # NOTE(gibi): this is bug 1709902 as the source compute does not clean # up the allocation during init_host self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) # after fixing bug 1709902 the following is expected # self.assertEqual(1, len(allocations))",60,19
openstack%2Fzun~master~I810bd66bccb4c304edfaa92478764b17cccf47d1,openstack/zun,master,I810bd66bccb4c304edfaa92478764b17cccf47d1,Remove _get_container in capsule,MERGED,2017-08-21 09:06:07.000000000,2017-08-21 15:07:59.000000000,2017-08-21 15:07:59.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-08-21 09:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f4e18811f3d6924a57fe22589aa919a889512580', 'message': 'Remove _get_container in capsule\n\nChange-Id: I810bd66bccb4c304edfaa92478764b17cccf47d1\n'}, {'number': 2, 'created': '2017-08-21 09:26:04.000000000', 'files': ['zun/common/utils.py', 'zun/api/controllers/experimental/capsules.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/303a554f268f04a5c2009b4cffc2a76850046a4a', 'message': 'Remove _get_container in capsule\n\nChange-Id: I810bd66bccb4c304edfaa92478764b17cccf47d1\n'}]",3,495771,303a554f268f04a5c2009b4cffc2a76850046a4a,11,5,2,23365,,,0,"Remove _get_container in capsule

Change-Id: I810bd66bccb4c304edfaa92478764b17cccf47d1
",git fetch https://review.opendev.org/openstack/zun refs/changes/71/495771/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/controllers/experimental/capsules.py', 'zun/common/utils.py']",2,f4e18811f3d6924a57fe22589aa919a889512580,," if kind_field not in ['capsule', 'Capsule']: raise exception.InvalidCapsuleTemplate(""kind fields need to be "" ""setted as capsule or Capsule"")"," if kind_field != 'capsule' or kind_field != 'Capsule': raise exception.InvalidCapsuleTemplate(""kind fields need to "" ""be set as capsule"")",4,15
openstack%2Fsenlin~master~I91a79b36f9b1bb4c856904ce2830cc19fffb9040,openstack/senlin,master,I91a79b36f9b1bb4c856904ce2830cc19fffb9040,Revise log information,MERGED,2017-08-21 07:10:02.000000000,2017-08-21 15:07:53.000000000,2017-08-21 15:07:52.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 23401}]","[{'number': 1, 'created': '2017-08-21 07:10:02.000000000', 'files': ['contrib/vdu/vdu/server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1cb7c6e9a400e25d31ddf703657714c26b841ada', 'message': 'Revise log information\n\nChange-Id: I91a79b36f9b1bb4c856904ce2830cc19fffb9040\n'}]",0,495739,1cb7c6e9a400e25d31ddf703657714c26b841ada,7,3,1,17645,,,0,"Revise log information

Change-Id: I91a79b36f9b1bb4c856904ce2830cc19fffb9040
",git fetch https://review.opendev.org/openstack/senlin refs/changes/39/495739/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/vdu/vdu/server.py'],1,1cb7c6e9a400e25d31ddf703657714c26b841ada,revise_log," _('The network on which to create a floating IP'),"," _('The nework on which to create a floating IP'),",1,1
openstack%2Fceilometer~master~I7c120fbc98698787c96533dbae6d5a683d6d4661,openstack/ceilometer,master,I7c120fbc98698787c96533dbae6d5a683d6d4661,ensure timezone is included in timestamps,MERGED,2017-07-07 16:07:20.000000000,2017-08-21 15:04:52.000000000,2017-08-21 15:04:52.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 11224}, {'_account_id': 15843}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-07 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e1812e56ab8072ba85ac0ffe01ce633535b4762c', 'message': 'ensure timezone is included in timestamps\n\ndefault to UTC timezone if not provided.\n- safe to change ironic tests as the test notifications were\nmalformed[1]\n\n[1] https://github.com/openstack/ironic/blob/99ba58172c33baefa7af6bca55b7b3aba1fe695c/ironic/conductor/manager.py#L2159\n\nChange-Id: I7c120fbc98698787c96533dbae6d5a683d6d4661\n'}, {'number': 2, 'created': '2017-07-07 16:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eeb43fcca051153c0fba2a5606aaf10af791d620', 'message': 'ensure timezone is included in timestamps\n\ndefault to UTC timezone if not provided.\n- safe to change ironic tests as the test notifications were\nmalformed[1]\n\n[1] https://github.com/openstack/ironic/blob/99ba58172c33baefa7af6bca55b7b3aba1fe695c/ironic/conductor/manager.py#L2159\n\nCloses-Bug: #1483564\nChange-Id: I7c120fbc98698787c96533dbae6d5a683d6d4661\n'}, {'number': 3, 'created': '2017-08-01 16:45:19.000000000', 'files': ['ceilometer/tests/unit/ipmi/notifications/ipmi_test_data.py', 'ceilometer/sample.py', 'ceilometer/tests/unit/meter/test_notifications.py', 'ceilometer/tests/unit/telemetry/test_notifications.py', 'ceilometer/tests/unit/test_sample.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/232f8e90473568c2b7c5f3267d1f179721d007ac', 'message': 'ensure timezone is included in timestamps\n\ndefault to UTC timezone if not provided.\n- safe to change ironic tests as the test notifications were\nmalformed[1]\n\n[1] https://github.com/openstack/ironic/blob/99ba58172c33baefa7af6bca55b7b3aba1fe695c/ironic/conductor/manager.py#L2159\n\nCloses-Bug: #1483564\nChange-Id: I7c120fbc98698787c96533dbae6d5a683d6d4661\n'}]",0,481687,232f8e90473568c2b7c5f3267d1f179721d007ac,19,7,3,6537,,,0,"ensure timezone is included in timestamps

default to UTC timezone if not provided.
- safe to change ironic tests as the test notifications were
malformed[1]

[1] https://github.com/openstack/ironic/blob/99ba58172c33baefa7af6bca55b7b3aba1fe695c/ironic/conductor/manager.py#L2159

Closes-Bug: #1483564
Change-Id: I7c120fbc98698787c96533dbae6d5a683d6d4661
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/87/481687/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/ipmi/notifications/ipmi_test_data.py', 'ceilometer/sample.py', 'ceilometer/tests/unit/agent/test_plugin.py', 'ceilometer/tests/unit/meter/test_notifications.py', 'ceilometer/tests/unit/telemetry/test_notifications.py', 'ceilometer/tests/unit/test_sample.py']",6,e1812e56ab8072ba85ac0ffe01ce633535b4762c,bug/1483564," 'timestamp': u'2015-06-19T09:19:35.786893', 'timestamp': u'2015-06-19T09:19:35.786893', def test_sample_from_notifications_assume_utc(self): msg = { 'event_type': u'sample.create', 'timestamp': u'2015-06-19T09:19:35.786893', 'payload': {u'counter_name': u'instance100'}, 'priority': 'info', 'publisher_id': u'ceilometer.api', 'message_id': u'939823de-c242-45a2-a399-083f4d6a8c3e' } s = sample.Sample.from_notification( 'sample', 'type', 1.0, '%', 'user', 'project', 'res', msg) self.assertEqual('2015-06-19T09:19:35.786893+00:00', s.timestamp) def test_sample_from_notifications_keep_tz(self): msg = { 'event_type': u'sample.create', 'timestamp': u'2015-06-19T09:19:35.786893+01:00', 'payload': {u'counter_name': u'instance100'}, 'priority': 'info', 'publisher_id': u'ceilometer.api', 'message_id': u'939823de-c242-45a2-a399-083f4d6a8c3e' } s = sample.Sample.from_notification( 'sample', 'type', 1.0, '%', 'user', 'project', 'res', msg) self.assertEqual('2015-06-19T09:19:35.786893+01:00', s.timestamp)"," 'timestamp': u'2015-06-1909: 19: 35.786893', 'timestamp': u'2015-06-1909: 19: 35.786893',",44,17
openstack%2Fceilometer~master~I979adc9db3256aafb16584df542fb7e4fb7c1e61,openstack/ceilometer,master,I979adc9db3256aafb16584df542fb7e4fb7c1e61,update measurements,MERGED,2017-08-10 21:23:54.000000000,2017-08-21 15:04:19.000000000,2017-08-21 15:04:19.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 15843}, {'_account_id': 20100}, {'_account_id': 22752}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-08-10 21:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/62511f21f903179c40a95db8a03389bc1b901631', 'message': 'update measurements\n\nadd new meters:\nport meters: https://review.openstack.org/#/c/477883/\nmanila: https://review.openstack.org/#/c/472752\nmemory.swap: https://review.openstack.org/#/c/483283/\n\nkwapi meter removed.\n\nChange-Id: I979adc9db3256aafb16584df542fb7e4fb7c1e61\n'}, {'number': 2, 'created': '2017-08-21 08:55:16.000000000', 'files': ['doc/source/admin/telemetry-measurements.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/88a8c6e52a1c4e833526dca4af1ae3b649d3d8a9', 'message': 'update measurements\n\nadd new meters:\nport meters: https://review.openstack.org/#/c/477883/\nmanila: https://review.openstack.org/#/c/472752\nmemory.swap: https://review.openstack.org/#/c/483283/\n\nkwapi meter removed.\n\nChange-Id: I979adc9db3256aafb16584df542fb7e4fb7c1e61\n'}]",4,492695,88a8c6e52a1c4e833526dca4af1ae3b649d3d8a9,13,6,2,6537,,,0,"update measurements

add new meters:
port meters: https://review.openstack.org/#/c/477883/
manila: https://review.openstack.org/#/c/472752
memory.swap: https://review.openstack.org/#/c/483283/

kwapi meter removed.

Change-Id: I979adc9db3256aafb16584df542fb7e4fb7c1e61
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/95/492695/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/telemetry-measurements.rst'],1,62511f21f903179c40a95db8a03389bc1b901631,measures,| **Meters added in the Pike release** | +-----------+-------+------+----------+----------+---------+------------------+ | memory.\ | Gauge | MB | instance | Pollster | Libvirt | Memory swap in | | swap.in | | | ID | | | | +-----------+-------+------+----------+----------+---------+------------------+ | memory.\ | Gauge | MB | instance | Pollster | Libvirt | Memory swap out | | swap.out | | | ID | | | | +-----------+-------+------+----------+----------+---------+------------------+ OpenStack File Share ~~~~~~~~~~~~~~~~~~~~~~ The following meters are collected for OpenStack File Share: +--------------------+-------+--------+----------+----------+-----------------+ | Name | Type | Unit | Resource | Origin | Note | +====================+=======+========+==========+==========+=================+ | **Meters added in the Pike release** | +--------------------+-------+--------+----------+----------+-----------------+ | manila.share.size | Gauge | GB | share ID | Notifica\| Size of the fil\| | | | | | tion | e share | +--------------------+-------+--------+----------+----------+-----------------+ | **Meters added in the Pike release** | +-----------------+---------+--------+-----------+----------+-----------------+ | port | Gauge | port | port ID | Pollster | Existence of po\| | | | | | | rt | +-----------------+---------+--------+-----------+----------+-----------------+ | port.uptime | Gauge | s | port ID | Pollster | Uptime of port | | | | | | | | +-----------------+---------+--------+-----------+----------+-----------------+ | port.receive.pa\| Cumula\ | packet | port ID | Pollster | Packets trasmit\| | ckets | tive | | | | ted on port | +-----------------+---------+--------+-----------+----------+-----------------+ | port.transmit.\ | Cumula\ | packet | port ID | Pollster | Packets transmi\| | packets | tive | | | | tted on port | +-----------------+---------+--------+-----------+----------+-----------------+ | port.receive.\ | Cumula\ | B | port ID | Pollster | Bytes received | | bytes | tive | | | | on port | +-----------------+---------+--------+-----------+----------+-----------------+ | port.transmit.\ | Cumula\ | B | port ID | Pollster | Bytes transmitt\| | bytes | tive | | | | ed on port | +-----------------+---------+--------+-----------+----------+-----------------+ | port.receive.\ | Cumula\ | packet | port ID | Pollster | Drops received | | drops | tive | | | | on port | +-----------------+---------+--------+-----------+----------+-----------------+ | port.receive.\ | Cumula\ | packet | port ID | Pollster | Errors received | | errors | tive | | | | on port | +-----------------+---------+--------+-----------+----------+-----------------+ | switch.ports | Gauge | ports | switch ID | Pollster | Number of ports\| | | | | | | on switch | +-----------------+---------+--------+-----------+----------+-----------------+ | switch.port.upt\| Gauge | s | switch ID | Pollster | Uptime of switch| | ime | | | | | | +-----------------+---------+--------+-----------+----------+-----------------+| **Meters removed as of Pike release** |,| **Meters deprecated as of Newton release** |,57,1
openstack%2Fi18n~master~Ia014da76d51fa538513702560cd86da2bb1ae958,openstack/i18n,master,Ia014da76d51fa538513702560cd86da2bb1ae958,Fixes tox pep8 error in macOS,MERGED,2017-08-20 13:49:28.000000000,2017-08-21 15:00:38.000000000,2017-08-21 14:29:36.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6882}, {'_account_id': 14482}, {'_account_id': 26666}]","[{'number': 1, 'created': '2017-08-20 13:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/6e36b54c6fb4049c93a35d114cfa62cd8e1dd14c', 'message': ""Fixes tox pep8 error in POSIX such as macOS\n\nLet's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.\n\nChange-Id: Ia014da76d51fa538513702560cd86da2bb1ae958\n""}, {'number': 2, 'created': '2017-08-20 14:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/a6a197bdb019e38ed638722935b8fff21545adac', 'message': ""Fixes tox pep8 error in POSIX such as macOS\n\nLet's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.\n\nChange-Id: Ia014da76d51fa538513702560cd86da2bb1ae958\n""}, {'number': 3, 'created': '2017-08-20 14:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/e48cc76951369defe0e490e3460a897c5c467309', 'message': ""Fixes tox pep8 error in POSIX such as macOS\n\nLet's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.\n\nChange-Id: Ia014da76d51fa538513702560cd86da2bb1ae958\n""}, {'number': 4, 'created': '2017-08-20 16:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/2c345a6f595002361140935773264ad78a7ebe0a', 'message': ""Fixes tox pep8 error in macOS\n\nLet's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.\n\nChange-Id: Ia014da76d51fa538513702560cd86da2bb1ae958\n""}, {'number': 5, 'created': '2017-08-21 09:03:41.000000000', 'files': ['tools/check-po.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/i18n/commit/e05d6d58a942d32b26c279be56da80fcddd48e06', 'message': ""Fixes tox pep8 error in macOS\n\nLet's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.\n\nChange-Id: Ia014da76d51fa538513702560cd86da2bb1ae958\n""}]",6,495549,e05d6d58a942d32b26c279be56da80fcddd48e06,22,5,5,26666,,,0,"Fixes tox pep8 error in macOS

Let's remove xargs GNU Extended option -r, --no-run-if-empty in tox.ini.

Change-Id: Ia014da76d51fa538513702560cd86da2bb1ae958
",git fetch https://review.opendev.org/openstack/i18n refs/changes/49/495549/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-po.bash', 'tox.ini']",2,6e36b54c6fb4049c93a35d114cfa62cd8e1dd14c,495549," bash -c ""{toxinidir}/test-po.bash"""," bash -c ""find {toxinidir} -type f \( -name '*.po' -o -name '*.pot' \) -print0 | xargs -0 -n1 --no-run-if-empty msgfmt --check-format -o /dev/null""",17,1
openstack%2Ftripleo-ci~master~I9969693aa2e46fa66e26213b59e23a225daec1af,openstack/tripleo-ci,master,I9969693aa2e46fa66e26213b59e23a225daec1af,Copy Ceph logs from running containers,MERGED,2017-08-16 23:05:05.000000000,2017-08-21 14:58:26.000000000,2017-08-21 14:25:00.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18002}]","[{'number': 1, 'created': '2017-08-16 23:05:05.000000000', 'files': ['scripts/get_docker_logs.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8fe793b12457236160c2e91ff3f18d92bf7168cc', 'message': 'Copy Ceph logs from running containers\n\nWe need to copy from each container the /var/log/ceph directory if\nthat exists.\n\nChange-Id: I9969693aa2e46fa66e26213b59e23a225daec1af\n'}]",0,494340,8fe793b12457236160c2e91ff3f18d92bf7168cc,14,7,1,6796,,,0,"Copy Ceph logs from running containers

We need to copy from each container the /var/log/ceph directory if
that exists.

Change-Id: I9969693aa2e46fa66e26213b59e23a225daec1af
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/494340/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/get_docker_logs.sh'],1,8fe793b12457236160c2e91ff3f18d92bf7168cc,, # NOTE(gfidente): Just copy Ceph if docker exec --user root $cont stat /var/log/ceph > /dev/null; then docker cp $cont:/var/log/ceph $INFO_DIR/log fi,,4,1
openstack%2Fopenstack-ansible-os_tacker~master~I529795aab772a8a27626a223b2b7233e7a87fa8b,openstack/openstack-ansible-os_tacker,master,I529795aab772a8a27626a223b2b7233e7a87fa8b,Several bug fixes to integrate with sfc,ABANDONED,2017-08-21 09:14:12.000000000,2017-08-21 14:52:29.000000000,,"[{'_account_id': 3}, {'_account_id': 21883}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-21 09:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/facf058aa6abc86f7d20aac266a24e9834818d4d', 'message': 'Several bug fixes to integrate with sfc\n\nThe current role has several bugs which result in failures when integrating\ntacker with networking-sfc\n\n- networking-sfc python package must be installed in the venv\n- the official tacker port is 9890, not 8888\n- tacker.conf updated for ocata/pike\n\nThis patch was tested in OPNFV together with ODL and OVS and works\n\nChange-Id: I529795aab772a8a27626a223b2b7233e7a87fa8b\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2017-08-21 09:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/9cd07223da7cc04342a98d25d3667067ab5281b7', 'message': 'Several bug fixes to integrate with sfc\n\nThe current role has several bugs which result in failures when integrating\ntacker with networking-sfc\n\n- networking-sfc python package must be installed in the venv\n- the official tacker port is 9890, not 8888\n- tacker.conf updated for ocata/pike\n\nThis patch was tested in OPNFV together with ODL and OVS and works\n\nChange-Id: I529795aab772a8a27626a223b2b7233e7a87fa8b\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2017-08-21 09:28:13.000000000', 'files': ['tests/test-tacker-functional.yml', 'templates/etc/tacker/tacker.conf.j2', 'defaults/main.yml', 'extras/haproxy_tacker.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/10469bd2ce5d37a91203e9486b5d8b679e250bc8', 'message': 'Several bug fixes to integrate with sfc\n\nThe current role has several bugs which result in failures when integrating\ntacker with networking-sfc\n\n- networking-sfc python package must be installed in the venv\n- the official tacker port is 9890, not 8888\n- tacker.conf updated for ocata/pike\n\nThis patch was tested in OPNFV together with ODL and OVS and works\n\nChange-Id: I529795aab772a8a27626a223b2b7233e7a87fa8b\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",0,495776,10469bd2ce5d37a91203e9486b5d8b679e250bc8,7,3,3,21883,,,0,"Several bug fixes to integrate with sfc

The current role has several bugs which result in failures when integrating
tacker with networking-sfc

- networking-sfc python package must be installed in the venv
- the official tacker port is 9890, not 8888
- tacker.conf updated for ocata/pike

This patch was tested in OPNFV together with ODL and OVS and works

Change-Id: I529795aab772a8a27626a223b2b7233e7a87fa8b
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/76/495776/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-tacker-functional.yml', 'defaults/main.yml', 'extras/haproxy_tacker.yml']",3,facf058aa6abc86f7d20aac266a24e9834818d4d,495776, haproxy_port: 9890, haproxy_port: 8888,4,3
openstack%2Fironic-inspector~master~Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01,openstack/ironic-inspector,master,Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01,Release notes: specify pike versions,MERGED,2017-08-18 09:13:00.000000000,2017-08-21 14:50:39.000000000,2017-08-21 14:50:39.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-08-18 09:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4f2f38fdfe104538fb39fbdb3c1f631cf76d7cda', 'message': 'Release notes: specify pike versions\n\nPike is released, add version range.\n\nChange-Id: Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01\n'}, {'number': 2, 'created': '2017-08-21 07:54:19.000000000', 'files': ['releasenotes/source/pike.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/98019af4a02d84a5beabe8b18a737122bd809e96', 'message': 'Release notes: specify pike versions\n\nPike is released, add version range.\n\nChange-Id: Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01\n'}]",1,495127,98019af4a02d84a5beabe8b18a737122bd809e96,10,3,2,13636,,,0,"Release notes: specify pike versions

Pike is released, add version range.

Change-Id: Ie0a03c8fbf00bdb4e3919eb0297d8b7e3cca8f01
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/27/495127/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/pike.rst'],1,4f2f38fdfe104538fb39fbdb3c1f631cf76d7cda,reno-pike-version,========================================= Pike Series (6.0.0 - 6.x.x) Release Notes =========================================,=================================== Pike Series Release Notes ===================================,3,3
openstack%2Fmagnum~master~Ife2b60d1968482a8c3ab9b44abbe401c6230881c,openstack/magnum,master,Ife2b60d1968482a8c3ab9b44abbe401c6230881c,Remove /etc/ssl/certs in the controller manager pod,MERGED,2017-07-28 16:10:32.000000000,2017-08-21 14:46:35.000000000,2017-08-21 14:46:35.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 8871}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-07-28 16:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cdb629a73eb80f0edbb83a09858a492092a171bb', 'message': 'Mount /etc/pki in the controller manager pod\n\nFor system such as Fedora Atomic, the CA bundle files which are\ncontained in /etc/ssl/certs are symbolic links to /etc/pki. When\nconfiguring the controller manager to use an SSL endpoint, it will\nraise an error as it is unable to authenticate the SSL endpoint.\n\nThis patch adds mounting /etc/pki to the container which will\nallow it to communicate with any SSL endpoints, such as an external\nservice for cloud providers (LBaaS, etc).\n\nChange-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c\n'}, {'number': 2, 'created': '2017-07-28 18:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/35f372ea873b098fa90df5a94e067826b3e76474', 'message': 'Mount /etc/pki in the controller manager pod\n\nFor system such as Fedora Atomic, the CA bundle files which are\ncontained in /etc/ssl/certs are symbolic links to /etc/pki. When\nconfiguring the controller manager to use an SSL endpoint, it will\nraise an error as it is unable to authenticate the SSL endpoint.\n\nThis patch removes the host mount at /etc/ssl/certs.  The Hypercube\nimages already ship a collection of CAs which are likely good for\nall needs.\n\nChange-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c\n'}, {'number': 3, 'created': '2017-07-31 12:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9d225406b577658c80e1d3001ffbece867c4b395', 'message': 'Remove /etc/pki in the controller manager pod\n\nFor system such as Fedora Atomic, the CA bundle files which are\ncontained in /etc/ssl/certs are symbolic links to /etc/pki. When\nconfiguring the controller manager to use an SSL endpoint, it will\nraise an error as it is unable to authenticate the SSL endpoint.\n\nThis patch removes the host mount at /etc/ssl/certs.  The Hypercube\nimages already ship a collection of CAs which are likely good for\nall needs.\n\nChange-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c\n'}, {'number': 4, 'created': '2017-08-03 13:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bda9df56f84c1bb840aef7a714cc4c9c31d244fe', 'message': 'Remove /etc/ssl/certs in the controller manager pod\n\nFor system such as Fedora Atomic, the CA bundle files which are\ncontained in /etc/ssl/certs are symbolic links to /etc/pki. When\nconfiguring the controller manager to use an SSL endpoint, it will\nraise an error as it is unable to authenticate the SSL endpoint.\n\nThis patch removes the host mount at /etc/ssl/certs.  The Hyperkube\nimages already ship a collection of CAs which are likely good for\nall needs.\n\nCloses-Bug: #1708452\n\nChange-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c\n'}, {'number': 5, 'created': '2017-08-10 21:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/38348599184ac117de32f958aa6466f750d85176', 'message': 'Remove /etc/ssl/certs in the controller manager pod\n\nFor system such as Fedora Atomic, the CA bundle files which are\ncontained in /etc/ssl/certs are symbolic links to /etc/pki. When\nconfiguring the controller manager to use an SSL endpoint, it will\nraise an error as it is unable to authenticate the SSL endpoint.\n\nThis patch removes the host mount at /etc/ssl/certs.  The Hyperkube\nimages already ship a collection of CAs which are likely good for\nall needs.\n\nCloses-Bug: #1708452\n\nChange-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c\n'}, {'number': 6, 'created': '2017-08-21 11:56:18.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-kube-controller-manager-scheduler.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ae15aa6c28e4209e60a52ca6412b9c211f6866f5', 'message': 'Remove /etc/ssl/certs in the controller manager pod\n\nFor system such as Fedora Atomic, the CA bundle files which are\ncontained in /etc/ssl/certs are symbolic links to /etc/pki. When\nconfiguring the controller manager to use an SSL endpoint, it will\nraise an error as it is unable to authenticate the SSL endpoint.\n\nThis patch removes the host mount at /etc/ssl/certs.  The Hyperkube\nimages already ship a collection of CAs which are likely good for\nall needs.\n\nCloses-Bug: #1708452\n\nChange-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c\n'}]",2,488511,ae15aa6c28e4209e60a52ca6412b9c211f6866f5,51,6,6,1004,,,0,"Remove /etc/ssl/certs in the controller manager pod

For system such as Fedora Atomic, the CA bundle files which are
contained in /etc/ssl/certs are symbolic links to /etc/pki. When
configuring the controller manager to use an SSL endpoint, it will
raise an error as it is unable to authenticate the SSL endpoint.

This patch removes the host mount at /etc/ssl/certs.  The Hyperkube
images already ship a collection of CAs which are likely good for
all needs.

Closes-Bug: #1708452

Change-Id: Ife2b60d1968482a8c3ab9b44abbe401c6230881c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/488511/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-kube-controller-manager-scheduler.sh'],1,cdb629a73eb80f0edbb83a09858a492092a171bb,kube-controller-certs, - mountPath: /etc/pki name: pki-host readOnly: true path: /etc/pki name: pki-host - hostPath:,,6,0
openstack%2Fmagnum~master~I701a0a8406a8393114d79c54d9f415b601fece98,openstack/magnum,master,I701a0a8406a8393114d79c54d9f415b601fece98,Remove repeated auth_url,MERGED,2017-08-06 07:23:27.000000000,2017-08-21 14:46:28.000000000,2017-08-21 14:46:28.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 20498}, {'_account_id': 24604}]","[{'number': 1, 'created': '2017-08-06 07:23:27.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/52ce6ae4d6d37d843e10fde5751b527b3aa7fb2a', 'message': 'Remove repeated auth_url\n\nChange-Id: I701a0a8406a8393114d79c54d9f415b601fece98\n'}]",0,491229,52ce6ae4d6d37d843e10fde5751b527b3aa7fb2a,9,5,1,17795,,,0,"Remove repeated auth_url

Change-Id: I701a0a8406a8393114d79c54d9f415b601fece98
",git fetch https://review.opendev.org/openstack/magnum refs/changes/29/491229/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'],1,52ce6ae4d6d37d843e10fde5751b527b3aa7fb2a,remove_repeated_auth_url,, auth_url: {get_param: auth_url},0,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I4d373346cf85ca037f1520058f6a3bce18489e3c,openstack/openstack-ansible-lxc_hosts,master,I4d373346cf85ca037f1520058f6a3bce18489e3c,vars: suse-42.yml: Only install required packages,MERGED,2017-08-21 11:55:08.000000000,2017-08-21 14:44:18.000000000,2017-08-21 14:44:18.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-21 11:55:08.000000000', 'files': ['vars/suse-42.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/725b28dfa01acdcfb2108cbda8fa6c1be62ffa80', 'message': 'vars: suse-42.yml: Only install required packages\n\nDo not install (or update) recommended packages since that usually\nbrings a lot of extra packages that we may not need. As such, only\ninstall or update what we explicitely asked for. This also speeds up\na lot the container creation process.\n\nChange-Id: I4d373346cf85ca037f1520058f6a3bce18489e3c\n'}]",0,495831,725b28dfa01acdcfb2108cbda8fa6c1be62ffa80,7,3,1,23163,,,0,"vars: suse-42.yml: Only install required packages

Do not install (or update) recommended packages since that usually
brings a lot of extra packages that we may not need. As such, only
install or update what we explicitely asked for. This also speeds up
a lot the container creation process.

Change-Id: I4d373346cf85ca037f1520058f6a3bce18489e3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/31/495831/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse-42.yml'],1,725b28dfa01acdcfb2108cbda8fa6c1be62ffa80,osa-add-suse-support," # Disable recommended packages. Only update what's really needed if ! fgrep -qx ""solver.onlyRequires = true"" /etc/zypp/zypp.conf; then echo -e ""\n\n## Disable recommended packages\nsolver.onlyRequires = true"" >> /etc/zypp/zypp.conf fi",,4,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc,openstack/openstack-ansible-lxc_hosts,master,Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc,tasks: lxc_install_zypper: Allow 'chown' capability for dnsmasq,MERGED,2017-08-21 11:55:08.000000000,2017-08-21 14:43:56.000000000,2017-08-21 14:43:56.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-21 11:55:08.000000000', 'files': ['tasks/lxc_install_zypper.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f81edd2de16a977bfcd4540eebc8a33a4fdae3d0', 'message': 'tasks: lxc_install_zypper: Allow \'chown\' capability for dnsmasq\n\nThis aims to fix the following error\n\ntype=AVC msg=audit(1503252906.316:152167): apparmor=""DENIED""\noperation=""capable"" profile=""/usr/sbin/dnsmasq"" pid=31578 comm=""dnsmasq"" capability=0  capname=""chown\n\nChange-Id: Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc\n'}]",0,495830,f81edd2de16a977bfcd4540eebc8a33a4fdae3d0,7,3,1,23163,,,0,"tasks: lxc_install_zypper: Allow 'chown' capability for dnsmasq

This aims to fix the following error

type=AVC msg=audit(1503252906.316:152167): apparmor=""DENIED""
operation=""capable"" profile=""/usr/sbin/dnsmasq"" pid=31578 comm=""dnsmasq"" capability=0  capname=""chown

Change-Id: Iba2871dbb8f8966f4dd36dfa9cbe56715ef091cc
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/30/495830/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_install_zypper.yml'],1,f81edd2de16a977bfcd4540eebc8a33a4fdae3d0,osa-add-suse-support," capability chown,",,1,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I81d89299541211556bd76794a82475f3879fa297,openstack/openstack-ansible-openstack_hosts,master,I81d89299541211556bd76794a82475f3879fa297,Allow override of RDO repo baseurl,MERGED,2017-08-18 15:07:02.000000000,2017-08-21 14:43:17.000000000,2017-08-21 14:43:17.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-18 15:07:02.000000000', 'files': ['releasenotes/notes/centos-mirror-url-variable-c072a6ab21054093.yaml', 'tasks/openstack_host_install_yum.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/690ecb8ca4618eba97eda435c1e778274d189903', 'message': 'Allow override of RDO repo baseurl\n\nThis patch allows deployers to set openstack_hosts_centos_mirror_url\nand override the default RDO repository (mirrors.centos.org).\n\nChange-Id: I81d89299541211556bd76794a82475f3879fa297\n'}]",0,495344,690ecb8ca4618eba97eda435c1e778274d189903,7,3,1,538,,,0,"Allow override of RDO repo baseurl

This patch allows deployers to set openstack_hosts_centos_mirror_url
and override the default RDO repository (mirrors.centos.org).

Change-Id: I81d89299541211556bd76794a82475f3879fa297
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/44/495344/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/centos-mirror-url-variable-c072a6ab21054093.yaml', 'tasks/openstack_host_install_yum.yml', 'defaults/main.yml']",3,690ecb8ca4618eba97eda435c1e778274d189903,set-centos-mirror, # Set default mirror for CentOS repositories # NOTE(mhayden): Ensure that the full path to the 'centos' directory is used. #openstack_hosts_centos_mirror_url: 'http://mirror.centos.org/centos',,27,0
openstack%2Fnetworking-ovn~master~I73970aef6d84019032e3c68a6a785d7626ae2afc,openstack/networking-ovn,master,I73970aef6d84019032e3c68a6a785d7626ae2afc,schedule gateway on chassis with external connectivity,MERGED,2017-07-19 11:59:51.000000000,2017-08-21 14:42:43.000000000,2017-08-21 14:42:43.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 10267}, {'_account_id': 11762}, {'_account_id': 23458}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-07-19 11:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/362b649cf02fe275854a4833073dbfe8ee2a5fa1', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured in\nOVN_Southbound database will be treated as having external connectivity.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 2, 'created': '2017-07-20 11:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2adc9500e9e03a74c64b48a52c53dd259d46f143', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured in\nOVN_Southbound database will be treated as having external connectivity.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 3, 'created': '2017-08-07 05:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ac47a19a36f12db50962cefe4186eac3cfeaa63d', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured in\nOVN_Southbound database will be treated as having external connectivity.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 4, 'created': '2017-08-07 07:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9c0d1d0f3da20f9eddaa106a80349820556c1888', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured in\nOVN_Southbound database will be treated as having external connectivity.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 5, 'created': '2017-08-09 18:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0b1ebf7c72161630d807615f34d499cac32d7187', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 6, 'created': '2017-08-12 07:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f85fbe9406179002ea7f1bd65665102762dc8bb2', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 7, 'created': '2017-08-14 06:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8c106d269c3267c665cbc83921c87e457ba210bc', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 8, 'created': '2017-08-16 15:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d5d23c9a0ff0d374b1cb5b95a82b0e7462ed6e53', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 9, 'created': '2017-08-18 12:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3232eef1fe9b4329ccd80f6c44fc31175959c807', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 10, 'created': '2017-08-18 12:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e8c7bda4c27f6242bba8d758d69318286ab5dcb9', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}, {'number': 11, 'created': '2017-08-21 06:03:58.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/l3/l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/14d8e70cfae41fed5e9515dddda714b54a3c67bf', 'message': 'schedule gateway on chassis with external connectivity\n\nCurrently ovn schedules gateway router ports on all chassis.\nInstead we need to check which chassis has external connectivity\nand schedule them only on these chassis.\n\nChassis which has ovn-bridge-mappings properly configured(i.e\nphysnet same as gateway network physnet) in OVN_Southbound\ndatabase will be treated as having external connectivity.\nSome network types(for example, geneve) may not use bridge\nmappings. Currently, external networks of type VLAN and FLAT\nuse bridge mappings. So for these networks, we return chassis\nwith proper bridge mappings and for other networks we return\nall chassis.\n\nCloses-bug: #1705246\nChange-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc\n'}]",28,485176,14d8e70cfae41fed5e9515dddda714b54a3c67bf,69,9,11,10267,,,0,"schedule gateway on chassis with external connectivity

Currently ovn schedules gateway router ports on all chassis.
Instead we need to check which chassis has external connectivity
and schedule them only on these chassis.

Chassis which has ovn-bridge-mappings properly configured(i.e
physnet same as gateway network physnet) in OVN_Southbound
database will be treated as having external connectivity.
Some network types(for example, geneve) may not use bridge
mappings. Currently, external networks of type VLAN and FLAT
use bridge mappings. So for these networks, we return chassis
with proper bridge mappings and for other networks we return
all chassis.

Closes-bug: #1705246
Change-Id: I73970aef6d84019032e3c68a6a785d7626ae2afc
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/76/485176/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/l3/l3_ovn_scheduler.py']",3,362b649cf02fe275854a4833073dbfe8ee2a5fa1,bug/1705246, return sb_idl.get_all_chassis('gateway_router'), # TODO(azbiswas): Allow selection of a specific type of chassis when # the upstream code merges. # return sb_idl.get_all_chassis('gateway_router') or \ # sb_idl.get_all_chassis() return sb_idl.get_all_chassis(),14,12
openstack%2Fopenstack-ansible-lxc_hosts~master~Ica46433b5ce5b9e02b9647ba50da3d422728e341,openstack/openstack-ansible-lxc_hosts,master,Ica46433b5ce5b9e02b9647ba50da3d422728e341,"tasks: lxc_install_zypper: Set correct mode for new{u,g}idmap",MERGED,2017-08-19 18:23:05.000000000,2017-08-21 14:42:21.000000000,2017-08-21 14:42:21.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-19 18:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/355e23aa993a00a4a1469516816592fa602c649e', 'message': 'tasks: lxc_install_zypper: Set correct mode for new{u,g}idmap\n\nThe newuidmap and newgidmap binaries do not have setuid bit set and\nthat causes lxc-2.X.X to fail. As such, make sure the files have\nthe correct mode.\n\nLink: https://bugzilla.opensuse.org/show_bug.cgi?id=1054609\nChange-Id: Ica46433b5ce5b9e02b9647ba50da3d422728e341\n'}, {'number': 2, 'created': '2017-08-20 12:45:59.000000000', 'files': ['tasks/lxc_install_zypper.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d0d09db0e9e9bc555e9a281ee8baaf37b0afd523', 'message': 'tasks: lxc_install_zypper: Set correct mode for new{u,g}idmap\n\nThe newuidmap and newgidmap binaries do not have setuid bit set and\nthat causes lxc-2.X.X to fail with the following error:\n\nlxc-start 20170819174900.535 DEBUG    lxc_conf - conf.c:lxc_map_ids:3377\n- Either one or both of the newuidmap and newgidmap binaries do not\nexist or are missing necessary privilege.\n\nAs such, make sure the files have the correct mode.\n\nLink: https://bugzilla.opensuse.org/show_bug.cgi?id=1054609\nChange-Id: Ica46433b5ce5b9e02b9647ba50da3d422728e341\n'}]",0,495515,d0d09db0e9e9bc555e9a281ee8baaf37b0afd523,9,3,2,23163,,,0,"tasks: lxc_install_zypper: Set correct mode for new{u,g}idmap

The newuidmap and newgidmap binaries do not have setuid bit set and
that causes lxc-2.X.X to fail with the following error:

lxc-start 20170819174900.535 DEBUG    lxc_conf - conf.c:lxc_map_ids:3377
- Either one or both of the newuidmap and newgidmap binaries do not
exist or are missing necessary privilege.

As such, make sure the files have the correct mode.

Link: https://bugzilla.opensuse.org/show_bug.cgi?id=1054609
Change-Id: Ica46433b5ce5b9e02b9647ba50da3d422728e341
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/15/495515/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_install_zypper.yml'],1,355e23aa993a00a4a1469516816592fa602c649e,osa-add-suse-support,"# NOTE(hwoarang) The newuidmap and newgidmap binaries do not have setuid bit # set and that causes lxc-2.X.X to fail. As such, make sure the files have # the correct mode. # https://bugzilla.opensuse.org/show_bug.cgi?id=1054609 - name: Set setuid bit for newuidmap and newgidmap binaries (bsc#1054609) file: path: ""{{ item }}"" mode: 04755 with_items: - ""/usr/bin/newuidmap"" - ""/usr/bin/newgidmap"" tags: - lxc-files - lxc_hosts-config ",,15,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I7548fe4b55ed75846e5fa25f2ce9f3702316f497,openstack/openstack-ansible-lxc_hosts,master,I7548fe4b55ed75846e5fa25f2ce9f3702316f497,tasks: lxc_post_install: Change init.scope pids.max value,MERGED,2017-08-20 15:15:30.000000000,2017-08-21 14:42:15.000000000,2017-08-21 14:42:15.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-20 15:15:30.000000000', 'files': ['tasks/lxc_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a7ea307d46d6ce18ce300c8cb10656fc57d63cc1', 'message': 'tasks: lxc_post_install: Change init.scope pids.max value\n\nChanging the DefaultTasksMax value in /etc/systemd/system.conf\nonly affects newly started services. However, the init.scope is\nthere since the beginning so a daemon-reload will not affect it.\nAs such the value never actually applies to that scope on freshly\ninstalled systems. As a result of which, lets compare the current\nvalue with the desired one and fix it if necessary.\n\nChange-Id: I7548fe4b55ed75846e5fa25f2ce9f3702316f497\n'}]",0,495557,a7ea307d46d6ce18ce300c8cb10656fc57d63cc1,7,3,1,23163,,,0,"tasks: lxc_post_install: Change init.scope pids.max value

Changing the DefaultTasksMax value in /etc/systemd/system.conf
only affects newly started services. However, the init.scope is
there since the beginning so a daemon-reload will not affect it.
As such the value never actually applies to that scope on freshly
installed systems. As a result of which, lets compare the current
value with the desired one and fix it if necessary.

Change-Id: I7548fe4b55ed75846e5fa25f2ce9f3702316f497
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/57/495557/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_post_install.yml'],1,a7ea307d46d6ce18ce300c8cb10656fc57d63cc1,increase-default-tasks-max-8192,"# NOTE(hwoarang): The previous task only affected newly created services. # However, for particular systemd versions like v228 the default one for # started scopes is 512 # See https://github.com/systemd/systemd/commit/9ded9cd14cc03c67291b10a5c42ce5094ba0912f # This has later been fixed in v231 # https://github.com/systemd/systemd/commit/79baeeb96d58676853521e10a358e85d83dac7f1 # The only way to change the value for already started services and scopes is # by using the sysfs interface. Moreover, it appears that lxc places itself into the # init.scope group which is being created during boot and as such it always uses # the default value. There are variours reports that the init.scope breaks things # for LXC such as # https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420 # https://github.com/lxc/lxc/issues/713 # https://bugs.archlinux.org/index.php?do=details&action=details.addvote&task_id=47303 # In any case, it's best to also edit the pids controller to ensure that a # better max value is used in the init.scope - name: Determine if init.scope cgroup hierarchy exists stat: path: ""/sys/fs/cgroup/pids/init.scope/pids.max"" register: init_scope_cgroup when: ansible_service_mgr == 'systemd' - name: Get init.scope pids.max value command: cat /sys/fs/cgroup/pids/init.scope/pids.max register: init_scope_cgroup_pids_max when: - init_scope_cgroup.stat.exists - ansible_service_mgr == 'systemd' - name: Set systemd pids.max in init.scope shell: ""echo {{ lxc_default_tasks_max }} > /sys/fs/cgroup/pids/init.scope/pids.max"" when: - init_scope_cgroup.stat.exists - init_scope_cgroup_pids_max.stdout != lxc_default_tasks_max - ansible_service_mgr == 'systemd' tags: - lxc-config ",,38,0
openstack%2Fopenstack-ansible-os_magnum~master~If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf,openstack/openstack-ansible-os_magnum,master,If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf,Updated from OpenStack Ansible Tests,MERGED,2017-08-03 15:26:46.000000000,2017-08-21 14:40:38.000000000,2017-08-21 14:40:38.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-03 15:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/d3e3bf8c3eb24fcb204ba4a5c4d5aa7d8c9a80ef', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf\n'}, {'number': 2, 'created': '2017-08-04 15:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/71c53167879df5f377e6ce5061962f425ddf0e8e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf\n'}, {'number': 3, 'created': '2017-08-16 01:23:23.000000000', 'files': ['run_tests.sh', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/3c3dde6f8a80802cdda97703036a51a8afdaee23', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf\n'}]",0,490540,3c3dde6f8a80802cdda97703036a51a8afdaee23,22,6,3,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If5ea5ae6f4e0132ef794d17f2332ab31fcdc3ebf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/40/490540/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,d3e3bf8c3eb24fcb204ba4a5c4d5aa7d8c9a80ef,openstack/openstack-ansible-tests/sync-tests," # Prefer dnf over yum for CentOS. which dnf &>/dev/null && RHT_PKG_MGR='dnf' || RHT_PKG_MGR='yum' centos|rhel) pkg_mgr_cmd=""${RHT_PKG_MGR} install -y"" ;;"," centos|rhel) pkg_mgr_cmd=""yum install -y"" ;;",4,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Icfa31afb6f4eac4945dbd1697135078523eec43f,openstack/openstack-ansible-openstack_hosts,master,Icfa31afb6f4eac4945dbd1697135078523eec43f,tasks: SUSE: Disable background snapshot comparison on snapper,MERGED,2017-08-20 15:43:46.000000000,2017-08-21 14:40:15.000000000,2017-08-21 14:40:15.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-20 15:43:46.000000000', 'files': ['tasks/openstack_host_install_zypper.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ce29b4d326a7908e43de76879ced8acc25eb85b6', 'message': 'tasks: SUSE: Disable background snapshot comparison on snapper\n\nWe are calling zypper far too many times during the entire OSA\npreparation and that results in snapper consuming a significant\namount of CPU time comparing snapshots. As such, we disable it\nto speed up the entire operation. Moreover, we add some missing\ntags in one of the tasks.\n\nLink: https://en.opensuse.org/openSUSE:Snapper_FAQ#My_system_has_high_I.2FO_load_after_running_YaST_or_zypper._What_can_I_do.3F\nChange-Id: Icfa31afb6f4eac4945dbd1697135078523eec43f\n'}]",0,495559,ce29b4d326a7908e43de76879ced8acc25eb85b6,7,3,1,23163,,,0,"tasks: SUSE: Disable background snapshot comparison on snapper

We are calling zypper far too many times during the entire OSA
preparation and that results in snapper consuming a significant
amount of CPU time comparing snapshots. As such, we disable it
to speed up the entire operation. Moreover, we add some missing
tags in one of the tasks.

Link: https://en.opensuse.org/openSUSE:Snapper_FAQ#My_system_has_high_I.2FO_load_after_running_YaST_or_zypper._What_can_I_do.3F
Change-Id: Icfa31afb6f4eac4945dbd1697135078523eec43f
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/59/495559/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_host_install_zypper.yml'],1,ce29b4d326a7908e43de76879ced8acc25eb85b6,osa-add-suse-support,"# NOTE(hwoarang) snapper make take significant amount of CPU time # when executing zypper over and over so it's best to disable the # background comparison process. Snapper may need further tuning # for example reducing the number of snapshots to keep, disable daily # cleanup job etc but these may come later in the future if needed. - name: Check if Snapper root configuration file exists stat: path: ""/etc/snapper/configs/root"" register: snapper_root_config tags: - openstack_hosts-config - name: Disable background snapshot comparisons on Snapper lineinfile: path: ""/etc/snapper/configs/root"" regexp: '^BACKGROUND_COMPARISON=.*' line: 'BACKGROUND_COMPARISON=""no""' state: present when: snapper_root_config.stat.exists tags: - openstack_hosts-config tags: - openstack-zypper-packages - openstack-packages",,25,0
openstack%2Fpython-muranoclient~master~I6a5f8c31c1b9671b4ff7f41f83c415261785b635,openstack/python-muranoclient,master,I6a5f8c31c1b9671b4ff7f41f83c415261785b635,Add bundle import to openstack CLI,MERGED,2017-08-18 01:39:35.000000000,2017-08-21 14:38:48.000000000,2017-08-21 14:38:48.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 15168}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-18 01:39:35.000000000', 'files': ['muranoclient/osc/v1/package.py', 'setup.cfg', 'muranoclient/tests/unit/osc/v1/test_package.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/6103ec25d9bc4d7a36eb455ed6fd621188df9670', 'message': 'Add bundle import to openstack CLI\n\nusage: openstack bundle import [-h] [-f {csv,json,table,value,yaml}]\n                               [-c COLUMN] [--max-width <integer>]\n                               [--print-empty] [--noindent]\n                               [--quote {all,minimal,none,nonnumeric}]\n                               [--is-public] [--exists-action {a,s,u}]\n                               [--murano-repo-url MURANO_REPO_URL]\n                               <FILE> [<FILE> ...]\n\nImport a bundle.\n\nPartially implements: blueprint openstack-client-plugin-support\n\nChange-Id: I6a5f8c31c1b9671b4ff7f41f83c415261785b635\n'}]",0,494762,6103ec25d9bc4d7a36eb455ed6fd621188df9670,8,4,1,14107,,,0,"Add bundle import to openstack CLI

usage: openstack bundle import [-h] [-f {csv,json,table,value,yaml}]
                               [-c COLUMN] [--max-width <integer>]
                               [--print-empty] [--noindent]
                               [--quote {all,minimal,none,nonnumeric}]
                               [--is-public] [--exists-action {a,s,u}]
                               [--murano-repo-url MURANO_REPO_URL]
                               <FILE> [<FILE> ...]

Import a bundle.

Partially implements: blueprint openstack-client-plugin-support

Change-Id: I6a5f8c31c1b9671b4ff7f41f83c415261785b635
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/62/494762/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/osc/v1/package.py', 'setup.cfg', 'muranoclient/tests/unit/osc/v1/test_package.py']",3,6103ec25d9bc4d7a36eb455ed6fd621188df9670,bp/openstack-client-plugin-support,"import jsonimport shutil class TestBundleImport(TestPackage): def setUp(self): super(TestBundleImport, self).setUp() # Command to test self.cmd = osc_pkg.ImportBundle(self.app, None) @requests_mock.mock() def test_import_bundle_by_name(self, m): """"""Asserts bundle import calls packages create once for each pkg."""""" pkg1 = make_pkg({'FullName': 'first_app'}) pkg2 = make_pkg({'FullName': 'second_app'}) murano_repo_url = ""http://127.0.0.1"" m.get(murano_repo_url + '/apps/first_app.zip', body=pkg1) m.get(murano_repo_url + '/apps/second_app.1.0.zip', body=pkg2) s = six.StringIO() bundle_contents = {'Packages': [ {'Name': 'first_app'}, {'Name': 'second_app', 'Version': '1.0'} ]} json.dump(bundle_contents, s) s = six.BytesIO(s.getvalue().encode('ascii')) m.get(murano_repo_url + '/bundles/test_bundle.bundle', body=s) arglist = [""test_bundle"", '--murano-repo-url', murano_repo_url] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) self.package_mock.create.assert_has_calls( [ mock.call({'is_public': False}, {'first_app': mock.ANY}), mock.call({'is_public': False}, {'second_app': mock.ANY}), ], any_order=True, ) @requests_mock.mock() def test_import_bundle_wrong_url(self, m): url = 'http://127.0.0.2/test_bundle.bundle' m.get(url, status_code=404) arglist = [url] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) self.assertFalse(self.package_mock.packages.create.called) @requests_mock.mock() def test_import_bundle_no_bundle(self, m): url = 'http://127.0.0.1/bundles/test_bundle.bundle' m.get(url, status_code=404) arglist = [""test_bundle""] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) self.assertFalse(self.package_mock.packages.create.called) @requests_mock.mock() def test_import_bundle_by_url(self, m): """"""Asserts bundle import calls packages create once for each pkg."""""" pkg1 = make_pkg({'FullName': 'first_app'}) pkg2 = make_pkg({'FullName': 'second_app'}) murano_repo_url = 'http://127.0.0.1' m.get(murano_repo_url + '/apps/first_app.zip', body=pkg1) m.get(murano_repo_url + '/apps/second_app.1.0.zip', body=pkg2) s = six.StringIO() bundle_contents = {'Packages': [ {'Name': 'first_app'}, {'Name': 'second_app', 'Version': '1.0'} ]} json.dump(bundle_contents, s) s = six.BytesIO(s.getvalue().encode('ascii')) url = 'http://127.0.0.2/test_bundle.bundle' m.get(url, body=s) arglist = [url, '--murano-repo-url', murano_repo_url] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) self.package_mock.create.assert_has_calls( [ mock.call({'is_public': False}, {'first_app': mock.ANY}), mock.call({'is_public': False}, {'second_app': mock.ANY}), ], any_order=True, ) @requests_mock.mock() def test_import_local_bundle(self, m): """"""Asserts local bundles are first searched locally."""""" tmp_dir = tempfile.mkdtemp() bundle_file = os.path.join(tmp_dir, 'bundle.bundle') with open(os.path.join(tmp_dir, 'bundle.bundle'), 'w') as f: bundle_contents = {'Packages': [ {'Name': 'first_app'}, {'Name': 'second_app', 'Version': '1.0'} ]} json.dump(bundle_contents, f) pkg1 = make_pkg({'FullName': 'first_app', 'Require': {'third_app': None}}) pkg2 = make_pkg({'FullName': 'second_app'}) pkg3 = make_pkg({'FullName': 'third_app'}) with open(os.path.join(tmp_dir, 'first_app'), 'wb') as f: f.write(pkg1.read()) with open(os.path.join(tmp_dir, 'third_app'), 'wb') as f: f.write(pkg3.read()) murano_repo_url = ""http://127.0.0.1"" m.get(murano_repo_url + '/apps/first_app.zip', status_code=404) m.get(murano_repo_url + '/apps/second_app.1.0.zip', body=pkg2) m.get(murano_repo_url + '/apps/third_app.zip', status_code=404) arglist = [bundle_file, '--murano-repo-url', murano_repo_url] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) self.package_mock.create.assert_has_calls( [ mock.call({'is_public': False}, {'first_app': mock.ANY}), mock.call({'is_public': False}, {'second_app': mock.ANY}), mock.call({'is_public': False}, {'third_app': mock.ANY}), ], any_order=True, ) shutil.rmtree(tmp_dir)",,258,0
openstack%2Fansible-hardening~stable%2Focata~Ib195041cd84bafa0cc7ca1d2ca42041618ce181d,openstack/ansible-hardening,stable/ocata,Ib195041cd84bafa0cc7ca1d2ca42041618ce181d,Change default prohibit root sshd password auth,MERGED,2017-08-17 12:43:10.000000000,2017-08-21 14:36:55.000000000,2017-08-21 14:36:55.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-17 12:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/926e776d64c7bb3ef0fac905377c56f402910ead', 'message': 'Change default prohibit root sshd password auth\n\nChange-Id: Ib195041cd84bafa0cc7ca1d2ca42041618ce181d\n(cherry picked from commit 3c632174e90ab63f06bd281c966c6a8a05475810)\n'}, {'number': 2, 'created': '2017-08-18 15:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/61edef472b147ac636ed7ae276849e007dfa9550', 'message': 'Change default prohibit root sshd password auth\n\nChange-Id: Ib195041cd84bafa0cc7ca1d2ca42041618ce181d\n(cherry picked from commit 3c632174e90ab63f06bd281c966c6a8a05475810)\n'}, {'number': 3, 'created': '2017-08-18 15:20:35.000000000', 'files': ['doc/metadata/rhel6/V-38613.rst', 'releasenotes/notes/sshd-permit-root-login-without-password-948ec79c6508c19b.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/957c0bc39680118862a8aab66a189041827590b5', 'message': 'Change default prohibit root sshd password auth\n\nChange-Id: Ib195041cd84bafa0cc7ca1d2ca42041618ce181d\n(cherry picked from commit 3c632174e90ab63f06bd281c966c6a8a05475810)\n'}]",0,494523,957c0bc39680118862a8aab66a189041827590b5,10,3,3,13095,,,0,"Change default prohibit root sshd password auth

Change-Id: Ib195041cd84bafa0cc7ca1d2ca42041618ce181d
(cherry picked from commit 3c632174e90ab63f06bd281c966c6a8a05475810)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/23/494523/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/metadata/rhel6/V-38613.rst', 'releasenotes/notes/sshd-permit-root-login-without-password-948ec79c6508c19b.yaml', 'defaults/main.yml']",3,926e776d64c7bb3ef0fac905377c56f402910ead,493657,"# The ssh daemon must not permit root logins. The default value of # 'without-password' is a deviation from the STIG requirements due to how # OpenStack-Ansible operates, especially within OpenStack CI gate jobs. See # documentation for V-38613 for more details. security_ssh_permit_root_login: 'without-password' # V-38613","# The ssh daemon must not permit root logins. The default value of 'yes' is a # deviation from the STIG requirements due to how openstack-ansible operates, # especially within OpenStack CI gate jobs. See documentation for V-38613 for # more details. security_ssh_permit_root_login: 'yes' # V-38613",14,8
openstack%2Freleases~master~I3c941d64fa1c1c252ba3761efd0953f2d705ab12,openstack/releases,master,I3c941d64fa1c1c252ba3761efd0953f2d705ab12,Release ironic 9.0.1 for Pike,MERGED,2017-08-21 11:24:58.000000000,2017-08-21 14:36:00.000000000,2017-08-21 14:36:00.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 11:24:58.000000000', 'files': ['deliverables/pike/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/998b7f3cd57bfbff7676e79a6b9bdb63600df63e', 'message': 'Release ironic 9.0.1 for Pike\n\nThis is still not our final release. We release it, because our 9.0.0\nrelease had upgrade problems that we urgently need to fix.\n\nWe will release 9.1.0 in the coming days with the features that were\ndelayed because of our problems with grenade (which was hard-broken\nuntil we created stable/pike).\n\nPlease see the following thread for the context:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-August/121252.html\n\nChange-Id: I3c941d64fa1c1c252ba3761efd0953f2d705ab12\n'}]",0,495823,998b7f3cd57bfbff7676e79a6b9bdb63600df63e,10,3,1,10239,,,0,"Release ironic 9.0.1 for Pike

This is still not our final release. We release it, because our 9.0.0
release had upgrade problems that we urgently need to fix.

We will release 9.1.0 in the coming days with the features that were
delayed because of our problems with grenade (which was hard-broken
until we created stable/pike).

Please see the following thread for the context:
http://lists.openstack.org/pipermail/openstack-dev/2017-August/121252.html

Change-Id: I3c941d64fa1c1c252ba3761efd0953f2d705ab12
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/495823/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/ironic.yaml'],1,998b7f3cd57bfbff7676e79a6b9bdb63600df63e,ironic-pike, - version: 9.0.1 projects: - repo: openstack/ironic hash: 16ac17cbb7414254d72a5e791c6ecf7714094277,,4,0
openstack%2Freleases~master~I63da18e99056c7d9798125d6b7ed94841b424399,openstack/releases,master,I63da18e99056c7d9798125d6b7ed94841b424399,Release Aodh 5.0.0 for Pike,MERGED,2017-08-21 09:51:12.000000000,2017-08-21 14:35:46.000000000,2017-08-21 14:35:46.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 09:51:12.000000000', 'files': ['deliverables/pike/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0e7fe88aba09def8623510751d1ad0b25bffd318', 'message': 'Release Aodh 5.0.0 for Pike\n\nChange-Id: I63da18e99056c7d9798125d6b7ed94841b424399\n'}]",0,495795,0e7fe88aba09def8623510751d1ad0b25bffd318,7,3,1,1669,,,0,"Release Aodh 5.0.0 for Pike

Change-Id: I63da18e99056c7d9798125d6b7ed94841b424399
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/495795/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/aodh.yaml'],1,0e7fe88aba09def8623510751d1ad0b25bffd318,aodh-pike,releases: - projects: - hash: 48468c3f525676f8ddae2dae1e7d19006d5c4342 repo: openstack/aodh version: 5.0.0 branches: - location: 5.0.0 name: stable/pike,,8,0
openstack%2Fansible-hardening~stable%2Focata~If2c095a4671275e01af20ed6a132086c5d8a8856,openstack/ansible-hardening,stable/ocata,If2c095a4671275e01af20ed6a132086c5d8a8856,Backport bindep change from master,MERGED,2017-08-18 15:13:51.000000000,2017-08-21 14:34:44.000000000,2017-08-21 14:34:44.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 15:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/01852e15c6b02628e1aff862eba7d934e36c2813', 'message': 'Backport bindep change from master\n\nChange-Id: If2c095a4671275e01af20ed6a132086c5d8a8856\n'}, {'number': 2, 'created': '2017-08-18 15:20:30.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/2802c5515d6799724b06dd483766dcb5fbe86699', 'message': 'Backport bindep change from master\n\nChange-Id: If2c095a4671275e01af20ed6a132086c5d8a8856\n'}]",0,495350,2802c5515d6799724b06dd483766dcb5fbe86699,10,4,2,538,,,0,"Backport bindep change from master

Change-Id: If2c095a4671275e01af20ed6a132086c5d8a8856
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/50/495350/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,01852e15c6b02628e1aff862eba7d934e36c2813,backport-bindep,"# # Note: # This file is maintained in the openstack-ansible-tests repository. # https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/bindep.txt # If you need to remove or add extra dependencies, you should modify # the central file instead and once your change is accepted then update # this file as well. The purpose of this file is to ensure that Python and # Ansible have all their necessary binary requirements on the test host before # tox executes. Any binary requirements needed by services/roles should be # installed by those roles in their applicable package install tasks, not through # using this file. #python-dev [platform:dpkg] python3 [platform:dpkg] python3-apt [platform:dpkg] python3-dev [platform:dpkg] # Base requirements for RPM distroslibffi-devel [platform:rpm !platform:opensuseproject-42] libffi-devel-gcc5 [platform:opensuseproject-42] openssl-devel [platform:redhat] libopenssl-devel [platform:suse]python2-dnf [platform:fedora]libselinux-python [platform:redhat] libsemanage-python [platform:redhat]python-pyasn1 [platform:dpkg platform:suse]python-ndg-httpsclient [platform:ubuntu !platform:ubuntu-14] python2-pyasn1 [platform:redhat] pyOpenSSL [platform:redhat] python-pyOpenSSL [platform:opensuseproject-42] python2-pyOpenSSL [platform:suse !platform:opensuseproject-42] python-ndg_httpsclient [platform:redhat !platform:fedora] python2-ndg_httpsclient [platform:fedora] python-ndg-httpsclient [platform:suse]",libxslt1-dev [platform:dpkg]python-dev [platform:dpkg] # Base requirements for CentOSlibxslt-devel [platform:rpm] # Requirements for Paramiko 2.0 libffi-devel [platform:rpm] openssl-devel [platform:rpm]libselinux-python [platform:rpm]python-pyasn1 [platform:dpkg]python2-pyasn1 [platform:rpm] python2-pyOpenSSL [platform:rpm],33,12
openstack%2Fdesignate~master~I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce,openstack/designate,master,I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce,Improving the designate topology.,MERGED,2017-08-21 02:47:11.000000000,2017-08-21 14:28:52.000000000,2017-08-21 14:28:52.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2017-08-21 02:47:11.000000000', 'files': ['doc/source/images/Designate-Arch.png'], 'web_link': 'https://opendev.org/openstack/designate/commit/dba2a8bc78ff9137e6758b7297331d67ef1d2090', 'message': 'Improving the designate topology.\n\nBased on code-base, we should need correctly communication of producer,\nworker along with central services following items:\n1. Producer and Central.\n- The producer will call Central via RPC as following code-base:\n       self.central_api.purge_zones(\n            ctxt,\n            criterion,\n            limit=self.options.batch_size,\n        )\n2. Worker and Central.\n- The worker will call Central to get pool via RPC firstly:\n       pool = self.central_api.get_pool(context, pool_id)\n\nChange-Id: I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce\n'}]",0,495675,dba2a8bc78ff9137e6758b7297331d67ef1d2090,6,3,1,25254,,,0,"Improving the designate topology.

Based on code-base, we should need correctly communication of producer,
worker along with central services following items:
1. Producer and Central.
- The producer will call Central via RPC as following code-base:
       self.central_api.purge_zones(
            ctxt,
            criterion,
            limit=self.options.batch_size,
        )
2. Worker and Central.
- The worker will call Central to get pool via RPC firstly:
       pool = self.central_api.get_pool(context, pool_id)

Change-Id: I9c98c2c1fb441a333bc8d917e122a4e0371ef7ce
",git fetch https://review.opendev.org/openstack/designate refs/changes/75/495675/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/images/Designate-Arch.png'],1,dba2a8bc78ff9137e6758b7297331d67ef1d2090,improve/topology,,,0,0
openstack%2Fpython-monascaclient~master~If41a958e2007cf290557d1db620fea52fe291c34,openstack/python-monascaclient,master,If41a958e2007cf290557d1db620fea52fe291c34,Updated from global requirements,MERGED,2017-08-18 04:51:50.000000000,2017-08-21 14:17:41.000000000,2017-08-21 14:17:41.000000000,"[{'_account_id': 3}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-08-18 04:51:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/f25703e92f3868978d7f4aa9956117be12631ca6', 'message': 'Updated from global requirements\n\nChange-Id: If41a958e2007cf290557d1db620fea52fe291c34\n'}]",0,494903,f25703e92f3868978d7f4aa9956117be12631ca6,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: If41a958e2007cf290557d1db620fea52fe291c34
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/03/494903/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f25703e92f3868978d7f4aa9956117be12631ca6,openstack/requirements,PyYAML>=3.10 # MIT,PyYAML>=3.10.0 # MIT,1,1
openstack%2Fopenstack-ansible~master~I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5,openstack/openstack-ansible,master,I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5,Add support for OpenDaylight deployment in neutron,MERGED,2017-07-04 10:40:49.000000000,2017-08-21 14:16:53.000000000,2017-08-21 14:16:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6133}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 19494}, {'_account_id': 21883}, {'_account_id': 23163}, {'_account_id': 24468}, {'_account_id': 25340}, {'_account_id': 25505}, {'_account_id': 25846}]","[{'number': 1, 'created': '2017-07-04 10:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c4e9d9350d232e7305b4c241d4c4c23448e724cc', 'message': '[WIP] Add OpenDaylight Ansible role to the list of requirements\n\nThis is required to deploy OpenDaylight SDN Controller,\nsee: https://review.openstack.org/480128\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n'}, {'number': 2, 'created': '2017-07-20 15:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fbbbe8e57d155556e31624999e74534dc744fe05', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 3, 'created': '2017-08-01 12:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f2da6a39a20718e2f4fef997eda71ada568f0416', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 4, 'created': '2017-08-01 14:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4698b1fae3067197b4b3137a3239286314149864', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 5, 'created': '2017-08-07 17:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efd7771d64d95264e0e4e5f86c0dcfca54278aad', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 6, 'created': '2017-08-08 07:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9fb6b49302d1e8bf2fbfa358894df15e158b1b97', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 7, 'created': '2017-08-09 07:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b29548e74f7805558b1b7936786c9fb41ad4f915', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 8, 'created': '2017-08-14 08:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a1b29ecb71b970f18f46fbb35c3926c3cf14756', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 9, 'created': '2017-08-16 10:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/832b5def4ce8db84ae5904927905187cf594f02d', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 10, 'created': '2017-08-17 00:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76f4c402db5c22f526b007565a1dc214da365b59', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 11, 'created': '2017-08-18 07:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f7d5a87416fdeca9536e613b6bbc507b3b217273', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}, {'number': 12, 'created': '2017-08-21 07:34:38.000000000', 'files': ['playbooks/defaults/repo_packages/opendaylight.yml', 'playbooks/inventory/env.d/neutron.yml', 'tests/test_inventory.py', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1450119e86a5d918dacdbc3eb08ed9b5c014d591', 'message': ""Add support for OpenDaylight deployment in neutron\n\n - Added dependency to 'opendaylight' role\n - New 'opendaylight' target group\n - Configuration of networking-odl version that matches neutron\n\nChange-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5\n""}]",5,480131,1450119e86a5d918dacdbc3eb08ed9b5c014d591,71,14,12,25846,,,0,"Add support for OpenDaylight deployment in neutron

 - Added dependency to 'opendaylight' role
 - New 'opendaylight' target group
 - Configuration of networking-odl version that matches neutron

Change-Id: I45ca9135341d7cc9e86776196c60bbfe7d7a4ed5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/480131/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,c4e9d9350d232e7305b4c241d4c4c23448e724cc,opendaylight,- name: opendaylight scm: git src: https://git.opendaylight.org/gerrit/p/integration/packaging/ansible-opendaylight.git version: master,,4,0
openstack%2Fkuryr~master~Icd465e0c5f194ccc96827f2e8a54890e9c7777e9,openstack/kuryr,master,Icd465e0c5f194ccc96827f2e8a54890e9c7777e9,Updated from global requirements,MERGED,2017-07-19 18:35:08.000000000,2017-08-21 14:13:11.000000000,2017-08-21 14:13:11.000000000,"[{'_account_id': 3}, {'_account_id': 11343}, {'_account_id': 14352}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-07-19 18:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/bc6ed63cdb333fb671803ed31912147a4f23e39f', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 2, 'created': '2017-07-22 16:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/35a2b2abaa8f743f30f4ccabd47558c4e9fba987', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 3, 'created': '2017-07-23 13:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/c224fb36f70e565949cd73b42e58e01162ee1faf', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 4, 'created': '2017-07-26 14:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/239ade7d5674dc491448bbcb6f6136d86aa89145', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 5, 'created': '2017-07-27 19:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/38c452a398af6b4a491a45022c6bed027fa00351', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 6, 'created': '2017-07-27 19:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/ed933d2a50e2d5355e8ab256bdac5969e1c7b198', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 7, 'created': '2017-07-27 20:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/2aab75618997e48b14a06f89dbef73b8c1e6a318', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 8, 'created': '2017-07-27 20:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/c2e2aa8c607cffb6548563733653955900b4e8af', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}, {'number': 9, 'created': '2017-08-18 11:31:55.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/917ee686c1a824f23dfb80c0462be2d33502203e', 'message': 'Updated from global requirements\n\nChange-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9\n'}]",0,485310,917ee686c1a824f23dfb80c0462be2d33502203e,25,4,9,11131,,,0,"Updated from global requirements

Change-Id: Icd465e0c5f194ccc96827f2e8a54890e9c7777e9
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/10/485310/9 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bc6ed63cdb333fb671803ed31912147a4f23e39f,openstack/requirements,neutron-lib>=1.9.0 # Apache-2.0,neutron-lib>=1.7.0 # Apache-2.0,1,1
openstack%2Foslo.db~master~I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96,openstack/oslo.db,master,I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96,Rename idle_timeout to connection_recycle_time,MERGED,2016-06-25 15:27:49.000000000,2017-08-21 14:11:13.000000000,2017-08-21 08:02:16.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5638}, {'_account_id': 6849}, {'_account_id': 9796}, {'_account_id': 11816}]","[{'number': 1, 'created': '2016-06-25 15:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6d08775ca1bacd9565ea6954202678691da6f026', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe name and the docstring of the option ""idle_timeout""\n are completely wrong.  There is no ""connection reaping"" in\nSQLAlchemy or oslo.db and users are misled by this term.  Real\n""reaping"" requires that some worker or thread is running during\nidle periods to close out connections, and currently this is only\na server-side affair (e.g. HAProxy, MySQL idle timeout, etc).\nThe SQLAlchemy ""pool_recycle"" feature only refers to a time period for which\na connection will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that were closed by server-side\nreapers.\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}, {'number': 2, 'created': '2017-07-17 19:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/de87261a90ef777c1db541fd71df49d8f66a3d76', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe name and the docstring of the option ""idle_timeout""\n are completely wrong.  There is no ""connection reaping"" in\nSQLAlchemy or oslo.db and users are misled by this term.  Real\n""reaping"" requires that some worker or thread is running during\nidle periods to close out connections, and currently this is only\na server-side affair (e.g. HAProxy, MySQL idle timeout, etc).\nThe SQLAlchemy ""pool_recycle"" feature only refers to a time period for which\na connection will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that were closed by server-side\nreapers.\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}, {'number': 3, 'created': '2017-07-18 14:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f43c42d01e3102bafb83ce89eb4418bc31222713', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe ""idle_timeout"" name and documentation are misleading to users.\nRename the option to connection_recycle_time to more closely\nmatch that of the underlying SQLAlchemy argument name\n""pool_recycle"", which refers to a time period for which\na connection present in the pool for longer than that number\nof seconds will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that may have been closed by\nserver-side reapers.\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}, {'number': 4, 'created': '2017-07-18 15:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/cb1ccb1b69b5bc1f3f927a5f18e2d2be02de11b5', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe ""idle_timeout"" name and documentation are misleading to users.\nRename the option to connection_recycle_time to more closely\nmatch that of the underlying SQLAlchemy argument name\n""pool_recycle"", which refers to a time period for which\na connection present in the pool for longer than that number\nof seconds will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that may have been closed by\nserver-side reapers.\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}, {'number': 5, 'created': '2017-07-18 17:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c6083b7d012a32259404c593f643345d2c9494b6', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe ""idle_timeout"" name and documentation are misleading to users.\nRename the option to connection_recycle_time to more closely\nmatch that of the underlying SQLAlchemy argument name\n""pool_recycle"", which refers to a time period for which\na connection present in the pool for longer than that number\nof seconds will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that may have been closed by\nserver-side reapers.\n\nWIP: trying to get oslo.config to do something\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}, {'number': 6, 'created': '2017-08-11 16:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d07b1ff7048ed30110f5d7c29a47f28c3010f1c7', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe ""idle_timeout"" name and documentation are misleading to users.\nRename the option to connection_recycle_time to more closely\nmatch that of the underlying SQLAlchemy argument name\n""pool_recycle"", which refers to a time period for which\na connection present in the pool for longer than that number\nof seconds will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that may have been closed by\nserver-side reapers.\n\nWIP: trying to get oslo.config to do something\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}, {'number': 7, 'created': '2017-08-15 14:29:20.000000000', 'files': ['oslo_db/options.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py', 'releasenotes/notes/deprecate_idle_timeout-029d9f2cb7184b28.yaml', 'oslo_db/tests/sqlalchemy/test_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284', 'message': 'Rename idle_timeout to connection_recycle_time\n\nThe ""idle_timeout"" name and documentation are misleading to users.\nRename the option to connection_recycle_time to more closely\nmatch that of the underlying SQLAlchemy argument name\n""pool_recycle"", which refers to a time period for which\na connection present in the pool for longer than that number\nof seconds will be closed and replaced with a new one *upon checkout*,\nto prevent usage of stale connections that may have been closed by\nserver-side reapers.\n\nChange-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96\n'}]",16,334182,6634218415906192fca891362b8fa0ac50b66284,30,6,7,11816,,,0,"Rename idle_timeout to connection_recycle_time

The ""idle_timeout"" name and documentation are misleading to users.
Rename the option to connection_recycle_time to more closely
match that of the underlying SQLAlchemy argument name
""pool_recycle"", which refers to a time period for which
a connection present in the pool for longer than that number
of seconds will be closed and replaced with a new one *upon checkout*,
to prevent usage of stale connections that may have been closed by
server-side reapers.

Change-Id: I5e39d5ac81eaa8d85b1dfb18862fe27695ab8b96
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/82/334182/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/options.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/sqlalchemy/engines.py', 'oslo_db/tests/sqlalchemy/test_options.py']",4,6d08775ca1bacd9565ea6954202678691da6f026,dont_call_recycling_reaping," b'sql_connection_recycle_time=100\n' self.assertEqual(self.conf.database.connection_recycle_time, 100) b'connection_recycle_time=99\n' self.assertEqual(self.conf.database.connection_recycle_time, 99)"," b'sql_idle_timeout=100\n' self.assertEqual(self.conf.database.idle_timeout, 100) b'idle_timeout=99\n' self.assertEqual(self.conf.database.idle_timeout, 99)",18,12
openstack%2Freleases~master~I5fbdf794b3cf018bd1ede75bff8777b187c0d099,openstack/releases,master,I5fbdf794b3cf018bd1ede75bff8777b187c0d099,kuryr pike release and branch,MERGED,2017-08-21 12:09:23.000000000,2017-08-21 14:09:25.000000000,2017-08-21 14:09:25.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}, {'_account_id': 6598}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-21 12:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/37bfe247eaf9383d1776307185f30679202cc9cf', 'message': ""kuryr pike release and branch\n\nWe are a bit delayed due to August PTO pandemy. We just got the last\npatches in. Let's get a branch!\n\nChange-Id: I5fbdf794b3cf018bd1ede75bff8777b187c0d099\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 2, 'created': '2017-08-21 12:41:15.000000000', 'files': ['deliverables/pike/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b1f2691b4299b08031f10e708d6004eedaa49de', 'message': ""kuryr pike release and branch\n\nWe are a bit delayed due to August PTO pandemy. We just got the last\npatches in. Let's get a branch!\n\nChange-Id: I5fbdf794b3cf018bd1ede75bff8777b187c0d099\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}]",0,495833,8b1f2691b4299b08031f10e708d6004eedaa49de,10,5,2,14352,,,0,"kuryr pike release and branch

We are a bit delayed due to August PTO pandemy. We just got the last
patches in. Let's get a branch!

Change-Id: I5fbdf794b3cf018bd1ede75bff8777b187c0d099
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/495833/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/kuryr-kubernetes.yaml'],1,37bfe247eaf9383d1776307185f30679202cc9cf,kuryr-kubernetes,branches: - name: stable/pike location: 0.2.0 - version: 0.2.0 projects: - repo: openstack/kuryr-kubernetes hash: a2828664eb5f85f3d7effc7f0006066c17578d61 ,,8,0
openstack%2Freleases~master~I4a4bd26280c83ba7d352b80b50d1330081d5abef,openstack/releases,master,I4a4bd26280c83ba7d352b80b50d1330081d5abef,Re-release networking-baremetal 0.1.1 as Pike,MERGED,2017-08-18 10:21:54.000000000,2017-08-21 14:09:12.000000000,2017-08-21 14:09:12.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 12356}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-08-18 10:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dcb4b953bbef1b8c1452a6cb761aec0b9b592402', 'message': ""Re-release networking-baremetal 0.1.1 as Pike\n\nWe did not have publish-to-pypi jobs when doing 0.1.0 release, now\nthey're added. Releasing 0.1.1 so they are triggered.\n\nChange-Id: I4a4bd26280c83ba7d352b80b50d1330081d5abef\n""}, {'number': 2, 'created': '2017-08-21 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/accd7e43065b4a353c6d61c73c6aa7077ecd256b', 'message': ""Re-release networking-baremetal 0.1.1 as Pike\n\nWe did not have publish-to-pypi jobs when doing 0.1.0 release, now\nthey're added. Releasing 0.1.1 so they are triggered.\n\nChange-Id: I4a4bd26280c83ba7d352b80b50d1330081d5abef\n""}, {'number': 3, 'created': '2017-08-21 10:08:56.000000000', 'files': ['deliverables/pike/networking-baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b85e4b5e314c56f5bd2dc1d87076f3786298b7de', 'message': ""Re-release networking-baremetal 0.1.1 as Pike\n\nWe did not have publish-to-pypi jobs when doing 0.1.0 release, now\nthey're added. Releasing 0.1.1 so they are triggered.\n\nChange-Id: I4a4bd26280c83ba7d352b80b50d1330081d5abef\n""}]",5,495156,b85e4b5e314c56f5bd2dc1d87076f3786298b7de,18,8,3,12356,,,0,"Re-release networking-baremetal 0.1.1 as Pike

We did not have publish-to-pypi jobs when doing 0.1.0 release, now
they're added. Releasing 0.1.1 so they are triggered.

Change-Id: I4a4bd26280c83ba7d352b80b50d1330081d5abef
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/495156/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/networking-baremetal.yaml'],1,dcb4b953bbef1b8c1452a6cb761aec0b9b592402,re-release-n-baremetal, - version: 0.1.1 projects: - repo: openstack/networking-baremetal hash: 9208c7ccca9fad185c7ab95dfba7caff8a9e14e8 branches: - location: 0.1.1,branches: - location: 0.1.0,5,1
openstack%2Fdevstack-plugin-ceph~master~I0903b3cd9fa84041bcd7ed5034d8a60d14759e92,openstack/devstack-plugin-ceph,master,I0903b3cd9fa84041bcd7ed5034d8a60d14759e92,setup ceph-mgr daemon for luminous rc and greater,MERGED,2017-08-11 12:05:53.000000000,2017-08-21 14:08:36.000000000,2017-08-21 14:08:36.000000000,"[{'_account_id': 3}, {'_account_id': 6984}, {'_account_id': 9003}]","[{'number': 1, 'created': '2017-08-11 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e12daea531939340d712e513dbe7592a189c25e7', 'message': '[DNM] create Ceph mgr daemon for luminous rc and greater\n\nChange-Id: I0903b3cd9fa84041bcd7ed5034d8a60d14759e92\nCloses-Bug: #1708169\n'}, {'number': 2, 'created': '2017-08-11 13:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/71e6ae00c43d15e880ddd29d5c49f38d457d35fe', 'message': '[DNM] create Ceph mgr daemon for luminous rc and greater\n\nChange-Id: I0903b3cd9fa84041bcd7ed5034d8a60d14759e92\nCloses-Bug: #1708169\n'}, {'number': 3, 'created': '2017-08-11 17:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/faa581b3728fe4c6cd63b35823abe13cf9fc50e8', 'message': '[DNM] create Ceph mgr daemon for luminous rc and greater\n\nChange-Id: I0903b3cd9fa84041bcd7ed5034d8a60d14759e92\nCloses-Bug: #1708169\n'}, {'number': 4, 'created': '2017-08-16 11:35:21.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/68185a82942bff49550517b27bcdacc311c32032', 'message': 'setup ceph-mgr daemon for luminous rc and greater\n\nceph-mgr daemon is required as part of Ceph cluster from\nluminous release onwards.\n\nChange-Id: I0903b3cd9fa84041bcd7ed5034d8a60d14759e92\nCloses-Bug: #1708169\n'}]",1,492968,68185a82942bff49550517b27bcdacc311c32032,17,3,4,8056,,,0,"setup ceph-mgr daemon for luminous rc and greater

ceph-mgr daemon is required as part of Ceph cluster from
luminous release onwards.

Change-Id: I0903b3cd9fa84041bcd7ed5034d8a60d14759e92
Closes-Bug: #1708169
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/68/492968/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,e12daea531939340d712e513dbe7592a189c25e7,bug/1708169,MDS_ID=${MDS_ID:-a} MGR_ID=${MGR_ID:-x} if [[ $(echo $ceph_version '>=' 12.1 | bc -l) == 1 ]] ; then sudo mkdir -p ${CEPH_DATA_DIR}/mgr/ceph-${MGR_ID} sudo ceph -c ${CEPH_CONF_FILE} auth get-or-create mgr.${MGR_ID} \ mon 'allow *' \ -o ${CEPH_DATA_DIR}/mgr/ceph-${MGR_ID}/keyring sudo chown -R ceph. ${CEPH_DATA_DIR}/mgr fi curl -L https://shaman.ceph.com/api/repos/ceph/luminous/latest/ubuntu/$os_CODENAME/repo | \ curl -L https://shaman.ceph.com/api/repos/nfs-ganesha/next/latest/ubuntu/$os_CODENAME/flavors/ceph_luminous/repo | \ curl -L https://shaman.ceph.com/api/repos/ceph/luminous/latest/$DISTRO_TYPE/$RELEASE/repo | \ curl -L https://shaman.ceph.com/api/repos/nfs-ganesha/next/latest/$DISTRO_TYPE/$RELEASE/flavors/ceph_luminous/repo | \ if [[ $(echo $ceph_version '>=' 12.1 | bc -l) == 1 ]] ; then sudo systemctl start ceph-mgr@{MGR_ID} fi if [[ $(echo $ceph_version '>=' 12.1 | bc -l) == 1 ]] ; then sudo systemctl stop ceph-mgr@{MGR_ID} fi,MDS_ID=${MDS_ID:-a} curl -L https://shaman.ceph.com/api/repos/ceph/kraken/latest/ubuntu/$os_CODENAME/repo | \ curl -L https://shaman.ceph.com/api/repos/nfs-ganesha/next/latest/ubuntu/$os_CODENAME/flavors/ceph_kraken/repo | \ curl -L https://shaman.ceph.com/api/repos/ceph/kraken/latest/$DISTRO_TYPE/$RELEASE/repo | \ curl -L https://shaman.ceph.com/api/repos/nfs-ganesha/next/latest/$DISTRO_TYPE/$RELEASE/flavors/ceph_kraken/repo | \,20,5
openstack%2Fnova~master~I5d97e83053f809db3e45687a0eb2e985c5be9e27,openstack/nova,master,I5d97e83053f809db3e45687a0eb2e985c5be9e27,[DOC BLD FIX] Correct reST field lists in docstrings,ABANDONED,2017-07-21 07:07:42.000000000,2017-08-21 14:04:46.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25388}, {'_account_id': 25456}, {'_account_id': 26126}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-21 07:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b4f92bb1b6f640f40ae08e10b50e86207086e3d', 'message': '[DOC BLD FIX] Correct reST field lists in docstrings\n\nMost common format for documenting arguments is reST field, the incorrect\ndocstring will cause a Sphinx warning to be generated and caused the documentation\nto be improperly rendered.\n\n[1] http://sphinx-doc.org/domains.html#info-field-lists\n\nChange-Id: I5d97e83053f809db3e45687a0eb2e985c5be9e27\n'}, {'number': 2, 'created': '2017-07-21 08:51:19.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/objects/resource_provider.py', 'nova/api/openstack/placement/util.py', 'nova/db/sqlalchemy/resource_class_cache.py', 'nova/scheduler/client/report.py', 'nova/compute/provider_tree.py', 'nova/virt/driver.py', 'nova/virt/configdrive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b8a9f087df590543a997170dcd34fecb01a22da', 'message': '[DOC BLD FIX] Correct reST field lists in docstrings\n\nMost common format for documenting arguments is reST field, the incorrect\ndocstring will cause a Sphinx warning to be generated and caused the documentation\nto be improperly rendered.\n\n[1] http://sphinx-doc.org/domains.html#info-field-lists\n\nChange-Id: I5d97e83053f809db3e45687a0eb2e985c5be9e27\n'}]",0,486010,3b8a9f087df590543a997170dcd34fecb01a22da,34,20,2,25456,,,0,"[DOC BLD FIX] Correct reST field lists in docstrings

Most common format for documenting arguments is reST field, the incorrect
docstring will cause a Sphinx warning to be generated and caused the documentation
to be improperly rendered.

[1] http://sphinx-doc.org/domains.html#info-field-lists

Change-Id: I5d97e83053f809db3e45687a0eb2e985c5be9e27
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/486010/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/objects/resource_provider.py', 'nova/api/openstack/placement/util.py', 'nova/db/sqlalchemy/resource_class_cache.py', 'nova/scheduler/client/report.py', 'nova/compute/provider_tree.py', 'nova/virt/driver.py', 'nova/virt/configdrive.py']",8,9b4f92bb1b6f640f40ae08e10b50e86207086e3d,fix-docstring, :raises ProcessExecuteError: if a helper process has failed., :raises ProcessExecuteError if a helper process has failed.,16,16
openstack%2Fneutron~master~Iaeb9153084c6864b0982902bbb2ae9c0233266a6,openstack/neutron,master,Iaeb9153084c6864b0982902bbb2ae9c0233266a6,Stop using v2 identity API,MERGED,2017-08-15 13:47:07.000000000,2017-08-21 13:56:17.000000000,2017-08-18 00:21:10.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17491}]","[{'number': 1, 'created': '2017-08-15 13:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20f9f8a294412911bc989fcd81a05b210b5727d4', 'message': 'Stop using v2 identity API\n\nv2 identity API was deprecated in Mitaka. There is only a one test\nremaining that still relies on the v2 identity API. This patch replaces\nv2 with v3.\n\nChange-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6\n'}, {'number': 2, 'created': '2017-08-15 14:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/896944ac684931c91f867764ac9962627503a364', 'message': 'Stop using v2 identity API\n\nv2 identity API was deprecated in Mitaka. There is only a one test\nremaining that still relies on the v2 identity API. This patch replaces\nv2 with v3.\n\nChange-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6\n'}, {'number': 3, 'created': '2017-08-16 19:56:25.000000000', 'files': ['neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_floating_ips_admin_actions.py', 'neutron/tests/tempest/api/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b51cd8dcb7fe9a4f8e7ae6d190a475e47560758', 'message': 'Stop using v2 identity API\n\nv2 identity API was deprecated in Mitaka. There is only a one test\nremaining that still relies on the v2 identity API. This patch replaces\nv2 with v3.\n\nChange-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6\n'}]",2,493877,5b51cd8dcb7fe9a4f8e7ae6d190a475e47560758,21,9,3,8655,,,0,"Stop using v2 identity API

v2 identity API was deprecated in Mitaka. There is only a one test
remaining that still relies on the v2 identity API. This patch replaces
v2 with v3.

Change-Id: Iaeb9153084c6864b0982902bbb2ae9c0233266a6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/493877/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_floating_ips_admin_actions.py', 'neutron/tests/tempest/api/base.py']",3,20f9f8a294412911bc989fcd81a05b210b5727d4,v3-identity, cls.identity_admin_client = cls.os_admin.projects_client, cls.identity_admin_client = cls.os_admin.tenants_client cls.identity_admin_clientv3 = cls.os_admin.projects_client,11,15
openstack%2Fnova~master~I145e38149bf20a5e068f8cfe913f90c7ebeaad36,openstack/nova,master,I145e38149bf20a5e068f8cfe913f90c7ebeaad36,doc: Import configuration reference,MERGED,2017-08-08 16:34:46.000000000,2017-08-21 13:55:22.000000000,2017-08-10 21:04:01.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 16:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdf548f1a10ec0581761e293acef013fef618af9', 'message': ""doc: Import configuration reference\n\nImport the following files from the former config-reference [1]:\n\n  api.rst\n  cells.rst\n  database-connections.rst\n  fibre-channel.rst\n  hypervisor-basics.rst\n  hypervisor-hyper-v.rst\n  hypervisor-kvm.rst\n  hypervisor-lxc.rst\n  hypervisor-qemu.rst\n  hypervisor-virtuozzo.rst\n  hypervisor-vmware.rst\n  hypervisor-xen-api.rst\n  hypervisor-xen-libvirt.rst\n  hypervisors.rst\n  index.rst\n  iscsi-offload.rst\n  logs.rst\n  resize.rst\n  samples/api-paste.ini.rst\n  samples/index.rst\n  samples/policy.yaml.rst\n  samples/rootwrap.conf.rst\n  schedulers.rst\n\nThe below files are skipped as they're already included, in slightly\ndifferent forms, in the nova documentation.\n\n  config-options.rst\n  nova-conf-samples.rst\n  nova-conf.rst\n  nova.conf\n\nPart of bp doc-migration\n\nChange-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36\n""}, {'number': 2, 'created': '2017-08-08 16:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/902d08cb0047c18929309becc5b20b3f30a9afe8', 'message': ""doc: Import configuration reference\n\nImport the following files from the former config-reference [1]:\n\n  api.rst\n  cells.rst\n  database-connections.rst\n  fibre-channel.rst\n  hypervisor-basics.rst\n  hypervisor-hyper-v.rst\n  hypervisor-kvm.rst\n  hypervisor-lxc.rst\n  hypervisor-qemu.rst\n  hypervisor-virtuozzo.rst\n  hypervisor-vmware.rst\n  hypervisor-xen-api.rst\n  hypervisor-xen-libvirt.rst\n  hypervisors.rst\n  index.rst\n  iscsi-offload.rst\n  logs.rst\n  resize.rst\n  samples/api-paste.ini.rst\n  samples/index.rst\n  samples/policy.yaml.rst\n  samples/rootwrap.conf.rst\n  schedulers.rst\n\nThe below files are skipped as they're already included, in slightly\ndifferent forms, in the nova documentation.\n\n  config-options.rst\n  nova-conf-samples.rst\n  nova-conf.rst\n  nova.conf\n\nPart of bp doc-migration\n\nChange-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36\n""}, {'number': 3, 'created': '2017-08-08 20:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66aaf4d558ddb6660e1d2223edb6c83f696ea8ad', 'message': ""doc: Import configuration reference\n\nImport the following files from the former config-reference [1]:\n\n  api.rst\n  cells.rst\n  fibre-channel.rst\n  hypervisor-basics.rst\n  hypervisor-hyper-v.rst\n  hypervisor-kvm.rst\n  hypervisor-lxc.rst\n  hypervisor-qemu.rst\n  hypervisor-virtuozzo.rst\n  hypervisor-vmware.rst\n  hypervisor-xen-api.rst\n  hypervisor-xen-libvirt.rst\n  hypervisors.rst\n  index.rst\n  iscsi-offload.rst\n  logs.rst\n  resize.rst\n  samples/api-paste.ini.rst\n  samples/index.rst\n  samples/policy.yaml.rst\n  samples/rootwrap.conf.rst\n  schedulers.rst\n\nThe below files are skipped as they're already included, in slightly\ndifferent forms, in the nova documentation.\n\n  config-options.rst\n  nova-conf-samples.rst\n  nova-conf.rst\n  nova.conf\n\nPart of bp doc-migration\n\nChange-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36\n""}, {'number': 4, 'created': '2017-08-09 11:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54ccafcbadafc37ce81727ee21f281b1f824ce7a', 'message': ""doc: Import configuration reference\n\nImport the following files from the former config-reference [1]:\n\n  api.rst\n  cells.rst\n  fibre-channel.rst\n  hypervisor-basics.rst\n  hypervisor-hyper-v.rst\n  hypervisor-kvm.rst\n  hypervisor-lxc.rst\n  hypervisor-qemu.rst\n  hypervisor-virtuozzo.rst\n  hypervisor-vmware.rst\n  hypervisor-xen-api.rst\n  hypervisor-xen-libvirt.rst\n  hypervisors.rst\n  index.rst\n  iscsi-offload.rst\n  logs.rst\n  resize.rst\n  samples/api-paste.ini.rst\n  samples/index.rst\n  samples/policy.yaml.rst\n  samples/rootwrap.conf.rst\n  schedulers.rst\n\nThe below files are skipped as they're already included, in slightly\ndifferent forms, in the nova documentation.\n\n  config-options.rst\n  nova-conf-samples.rst\n  nova-conf.rst\n  nova.conf\n\nPart of bp: doc-migration\n\nChange-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36\n""}, {'number': 5, 'created': '2017-08-09 12:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bd0c1c478be5bf3f095f8e353661ac93321da55', 'message': ""doc: Import configuration reference\n\nImport the following files from the former config-reference [1]:\n\n  api.rst\n  cells.rst\n  fibre-channel.rst\n  hypervisor-basics.rst\n  hypervisor-hyper-v.rst\n  hypervisor-kvm.rst\n  hypervisor-lxc.rst\n  hypervisor-qemu.rst\n  hypervisor-virtuozzo.rst\n  hypervisor-vmware.rst\n  hypervisor-xen-api.rst\n  hypervisor-xen-libvirt.rst\n  hypervisors.rst\n  index.rst\n  iscsi-offload.rst\n  logs.rst\n  resize.rst\n  samples/api-paste.ini.rst\n  samples/index.rst\n  samples/policy.yaml.rst\n  samples/rootwrap.conf.rst\n  schedulers.rst\n\nThe below files are skipped as they're already included, in slightly\ndifferent forms, in the nova documentation.\n\n  config-options.rst\n  nova-conf-samples.rst\n  nova-conf.rst\n  nova.conf\n\nPart of bp: doc-migration\n\nChange-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36\n""}, {'number': 6, 'created': '2017-08-09 15:21:42.000000000', 'files': ['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'doc/source/admin/configuration/hypervisors.rst', 'doc/source/admin/configuration/samples/index.rst', 'doc/source/admin/configuration/hypervisor-basics.rst', 'doc/source/admin/configuration/logs.rst', 'doc/source/admin/configuration/index.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst', 'doc/source/admin/configuration/api.rst', 'doc/source/admin/configuration/hypervisor-qemu.rst', 'doc/source/admin/configuration/samples/api-paste.ini.rst', 'doc/source/index.rst', 'doc/source/admin/configuration/fibre-channel.rst', 'doc/source/admin/configuration/iscsi-offload.rst', 'doc/source/admin/configuration/resize.rst', 'doc/source/admin/configuration/hypervisor-virtuozzo.rst', 'doc/source/admin/configuration/samples/rootwrap.conf.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/schedulers.rst', 'doc/source/admin/configuration/samples/policy.yaml.rst', 'doc/source/admin/configuration/hypervisor-lxc.rst', 'doc/source/admin/configuration/cells.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst', 'doc/source/admin/configuration/hypervisor-xen-api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/da224b3a050a525e8ddfa491318b2f839048f668', 'message': ""doc: Import configuration reference\n\nImport the following files from the former config-reference [1]:\n\n  api.rst\n  cells.rst\n  fibre-channel.rst\n  hypervisor-basics.rst\n  hypervisor-hyper-v.rst\n  hypervisor-kvm.rst\n  hypervisor-lxc.rst\n  hypervisor-qemu.rst\n  hypervisor-virtuozzo.rst\n  hypervisor-vmware.rst\n  hypervisor-xen-api.rst\n  hypervisor-xen-libvirt.rst\n  hypervisors.rst\n  index.rst\n  iscsi-offload.rst\n  logs.rst\n  resize.rst\n  samples/api-paste.ini.rst\n  samples/index.rst\n  samples/policy.yaml.rst\n  samples/rootwrap.conf.rst\n  schedulers.rst\n\nThe below files are skipped as they're already included, in slightly\ndifferent forms, in the nova documentation.\n\n  config-options.rst\n  nova-conf-samples.rst\n  nova-conf.rst\n  nova.conf\n\nPart of bp: doc-migration\n\nChange-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36\n""}]",29,491853,da224b3a050a525e8ddfa491318b2f839048f668,45,14,6,15334,,,0,"doc: Import configuration reference

Import the following files from the former config-reference [1]:

  api.rst
  cells.rst
  fibre-channel.rst
  hypervisor-basics.rst
  hypervisor-hyper-v.rst
  hypervisor-kvm.rst
  hypervisor-lxc.rst
  hypervisor-qemu.rst
  hypervisor-virtuozzo.rst
  hypervisor-vmware.rst
  hypervisor-xen-api.rst
  hypervisor-xen-libvirt.rst
  hypervisors.rst
  index.rst
  iscsi-offload.rst
  logs.rst
  resize.rst
  samples/api-paste.ini.rst
  samples/index.rst
  samples/policy.yaml.rst
  samples/rootwrap.conf.rst
  schedulers.rst

The below files are skipped as they're already included, in slightly
different forms, in the nova documentation.

  config-options.rst
  nova-conf-samples.rst
  nova-conf.rst
  nova.conf

Part of bp: doc-migration

Change-Id: I145e38149bf20a5e068f8cfe913f90c7ebeaad36
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/491853/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'doc/source/admin/configuration/index.rst', 'doc/source/admin/configuration/nova-conf.rst', 'doc/source/admin/configuration/database-connections.rst', 'doc/source/admin/configuration/api.rst', 'doc/source/admin/configuration/samples/api-paste.ini.rst', 'doc/source/admin/configuration/nova.conf', 'doc/source/admin/configuration/samples/rootwrap.conf.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/schedulers.rst', 'doc/source/admin/configuration/samples/policy.yaml.rst', 'doc/source/admin/configuration/hypervisor-lxc.rst', 'doc/source/admin/configuration/cells.rst', 'doc/source/admin/configuration/hypervisors.rst', 'doc/source/admin/configuration/samples/index.rst', 'doc/source/admin/configuration/hypervisor-basics.rst', 'doc/source/admin/configuration/logs.rst', 'doc/source/admin/configuration/config-options.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst', 'doc/source/admin/configuration/hypervisor-qemu.rst', 'doc/source/admin/configuration/fibre-channel.rst', 'doc/source/admin/configuration/iscsi-offload.rst', 'doc/source/admin/configuration/resize.rst', 'doc/source/admin/configuration/hypervisor-virtuozzo.rst', 'doc/source/admin/configuration/nova-conf-samples.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst', 'doc/source/admin/configuration/hypervisor-xen-api.rst']",27,cdf548f1a10ec0581761e293acef013fef618af9,bp/doc-migration,".. _compute_xen_api: ============================================= XenServer (and other XAPI based Xen variants) ============================================= This section describes XAPI managed hypervisors, and how to use them with OpenStack. Terminology ~~~~~~~~~~~ Xen --- A hypervisor that provides the fundamental isolation between virtual machines. Xen is open source (GPLv2) and is managed by `XenProject.org <http://www.xenproject.org>`_, a cross-industry organization and a Linux Foundation Collaborative project. Xen is a component of many different products and projects. The hypervisor itself is very similar across all these projects, but the way that it is managed can be different, which can cause confusion if you're not clear which toolstack you are using. Make sure you know what `toolstack <http://wiki.xen.org/wiki/Choice_of_Toolstacks>`_ you want before you get started. If you want to use Xen with libvirt in OpenStack Compute refer to :doc:`hypervisor-xen-libvirt`. XAPI ---- XAPI is one of the toolstacks that could control a Xen based hypervisor. XAPI's role is similar to libvirt's in the KVM world. The API provided by XAPI is called XenAPI. To learn more about the provided interface, look at `XenAPI Object Model Overview <http://docs.vmd.citrix.com/XenServer/ 6.2.0/1.0/en_gb/sdk.html#object_model_overview>`_ for definitions of XAPI specific terms such as SR, VDI, VIF and PIF. OpenStack has a compute driver which talks to XAPI, therefore all XAPI managed servers could be used with OpenStack. XenAPI ------ XenAPI is the API provided by XAPI. This name is also used by the python library that is a client for XAPI. A set of packages to use XenAPI on existing distributions can be built using the `xenserver/buildroot <https://github.com/xenserver/buildroot>`_ project. XenServer --------- An Open Source virtualization platform that delivers all features needed for any server and datacenter implementation including the Xen hypervisor and XAPI for the management. For more information and product downloads, visit `xenserver.org <http://xenserver.org/>`_. XCP --- XCP is not supported anymore. XCP project recommends all XCP users to upgrade to the latest version of XenServer by visiting `xenserver.org <http://xenserver.org/>`_. Privileged and unprivileged domains ----------------------------------- A Xen host runs a number of virtual machines, VMs, or domains (the terms are synonymous on Xen). One of these is in charge of running the rest of the system, and is known as domain 0, or dom0. It is the first domain to boot after Xen, and owns the storage and networking hardware, the device drivers, and the primary control software. Any other VM is unprivileged, and is known as a domU or guest. All customer VMs are unprivileged, but you should note that on XenServer (and other XenAPI using hypervisors), the OpenStack Compute service (``nova-compute``) also runs in a domU. This gives a level of security isolation between the privileged system software and the OpenStack software (much of which is customer-facing). This architecture is described in more detail later. Paravirtualized versus hardware virtualized domains --------------------------------------------------- A Xen virtual machine can be paravirtualized (PV) or hardware virtualized (HVM). This refers to the interaction between Xen, domain 0, and the guest VM's kernel. PV guests are aware of the fact that they are virtualized and will co-operate with Xen and domain 0; this gives them better performance characteristics. HVM guests are not aware of their environment, and the hardware has to pretend that they are running on an unvirtualized machine. HVM guests do not need to modify the guest operating system, which is essential when running Windows. In OpenStack, customer VMs may run in either PV or HVM mode. However, the OpenStack domU (that's the one running ``nova-compute``) must be running in PV mode. XenAPI deployment architecture ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ A basic OpenStack deployment on a XAPI-managed server, assuming that the network provider is neutron network, looks like this: .. figure:: ../figures/xenserver_architecture.png :width: 100% Key things to note: * The hypervisor: Xen * Domain 0: runs XAPI and some small pieces from OpenStack, the XAPI plug-ins. * OpenStack VM: The ``Compute`` service runs in a paravirtualized virtual machine, on the host under management. Each host runs a local instance of ``Compute``. It is also running neutron plugin-agent (``neutron-openvswitch-agent``) to perform local vSwitch configuration. * OpenStack Compute uses the XenAPI Python library to talk to XAPI, and it uses the Management Network to reach from the OpenStack VM to Domain 0. Some notes on the networking: * The above diagram assumes DHCP networking. * There are three main OpenStack networks: * Management network: RabbitMQ, MySQL, inter-host communication, and compute-XAPI communication. Please note that the VM images are downloaded by the XenAPI plug-ins, so make sure that the OpenStack Image service is accessible through this network. It usually means binding those services to the management interface. * Tenant network: controlled by neutron, this is used for tenant traffic. * Public network: floating IPs, public API endpoints. * The networks shown here must be connected to the corresponding physical networks within the data center. In the simplest case, three individual physical network cards could be used. It is also possible to use VLANs to separate these networks. Please note, that the selected configuration must be in line with the networking model selected for the cloud. (In case of VLAN networking, the physical channels have to be able to forward the tagged traffic.) * With the Networking service, you should enable Linux bridge in ``Dom0`` which is used for Compute service. ``nova-compute`` will create Linux bridges for security group and ``neutron-openvswitch-agent`` in Compute node will apply security group rules on these Linux bridges. To implement this, you need to remove ``/etc/modprobe.d/blacklist-bridge*`` in ``Dom0``. Further reading ~~~~~~~~~~~~~~~ Here are some of the resources available to learn more about Xen: * `Citrix XenServer official documentation <http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/>`_ * `What is Xen? by XenProject.org <http://www.xenproject.org/users/cloud.html>`_ * `Xen Hypervisor project <http://www.xenproject.org/developers/teams/hypervisor.html>`_ * `Xapi project <http://www.xenproject.org/developers/teams/xapi.html>`_ * `Further XenServer and OpenStack information <http://wiki.openstack.org/XenServer>`_ Install XenServer ~~~~~~~~~~~~~~~~~ Before you can run OpenStack with XenServer, you must install the hypervisor on `an appropriate server <http://docs.vmd.citrix.com/XenServer/ 6.2.0/1.0/en_gb/installation.html#sys_requirements>`_. .. note:: Xen is a type 1 hypervisor: When your server starts, Xen is the first software that runs. Consequently, you must install XenServer before you install the operating system where you want to run OpenStack code. You then install ``nova-compute`` into a dedicated virtual machine on the host. Use the following link to download XenServer's installation media: * http://xenserver.org/open-source-virtualization-download.html When you install many servers, you might find it easier to perform `PXE boot installations <http://docs.vmd.citrix.com/XenServer/6.2.0/ 1.0/en_gb/installation.html#pxe_boot_install>`_. You can also package any post-installation changes that you want to make to your XenServer by following the instructions of `creating your own XenServer supplemental pack <http://docs.vmd.citrix.com/ XenServer/6.2.0/1.0/en_gb/supplemental_pack_ddk.html>`_. .. important:: Make sure you use the EXT type of storage repository (SR). Features that require access to VHD files (such as copy on write, snapshot and migration) do not work when you use the LVM SR. Storage repository (SR) is a XAPI-specific term relating to the physical storage where virtual disks are stored. On the XenServer installation screen, choose the :guilabel:`XenDesktop Optimized` option. If you use an answer file, make sure you use ``srtype=""ext""`` in the ``installation`` tag of the answer file. Post-installation steps ~~~~~~~~~~~~~~~~~~~~~~~ The following steps need to be completed after the hypervisor's installation: #. For resize and migrate functionality, enable password-less SSH authentication and set up the ``/images`` directory on dom0. #. Install the XAPI plug-ins. #. To support AMI type images, you must set up ``/boot/guest`` symlink/directory in dom0. #. Create a paravirtualized virtual machine that can run ``nova-compute``. #. Install and configure ``nova-compute`` in the above virtual machine. Install XAPI plug-ins --------------------- When you use a XAPI managed hypervisor, you can install a Python script (or any executable) on the host side, and execute that through XenAPI. These scripts are called plug-ins. The OpenStack related XAPI plug-ins live in OpenStack os-xenapi code repository. These plug-ins have to be copied to dom0's filesystem, to the appropriate directory, where XAPI can find them. It is important to ensure that the version of the plug-ins are in line with the OpenStack Compute installation you are using. The plugins should typically be copied from the Nova installation running in the Compute's DomU (``pip show os-xenapi`` to find its location), but if you want to download the latest version the following procedure can be used. **Manually installing the plug-ins** #. Create temporary files/directories: .. code-block:: console $ OS_XENAPI_TARBALL=$(mktemp) $ OS_XENAPI_SOURCES=$(mktemp -d) #. Get the source from the openstack.org archives. The example assumes the latest release is used, and the XenServer host is accessible as xenserver. Match those parameters to your setup. .. code-block:: console $ OS_XENAPI_URL=https://tarballs.openstack.org/os-xenapi/os-xenapi-0.1.1.tar.gz $ wget -qO ""$OS_XENAPI_TARBALL"" ""$OS_XENAPI_URL"" $ tar xvf ""$OS_XENAPI_TARBALL"" -d ""$OS_XENAPI_SOURCES"" #. Copy the plug-ins to the hypervisor: .. code-block:: console $ PLUGINPATH=$(find $OS_XENAPI_SOURCES -path '*/xapi.d/plugins' -type d -print) $ tar -czf - -C ""$PLUGINPATH"" ./ | > ssh root@xenserver tar -xozf - -C /etc/xapi.d/plugins #. Remove temporary files/directories:</para> .. code-block:: console $ rm ""$OS_XENAPI_TARBALL"" $ rm -rf ""$OS_XENAPI_SOURCES"" Prepare for AMI type images --------------------------- To support AMI type images in your OpenStack installation, you must create the ``/boot/guest`` directory on dom0. One of the OpenStack XAPI plugins will extract the kernel and ramdisk from AKI and ARI images and put them to that directory. OpenStack maintains the contents of this directory and its size should not increase during normal operation. However, in case of power failures or accidental shutdowns, some files might be left over. To prevent these files from filling up dom0's filesystem, set up this directory as a symlink that points to a subdirectory of the local SR. Run these commands in dom0 to achieve this setup: .. code-block:: console # LOCAL_SR=$(xe sr-list name-label=""Local storage"" --minimal) # LOCALPATH=""/var/run/sr-mount/$LOCAL_SR/os-guest-kernels"" # mkdir -p ""$LOCALPATH"" # ln -s ""$LOCALPATH"" /boot/guest Modify dom0 for resize/migration support ---------------------------------------- To resize servers with XenServer you must: * Establish a root trust between all hypervisor nodes of your deployment: To do so, generate an ssh key-pair with the :command:`ssh-keygen` command. Ensure that each of your dom0's ``authorized_keys`` file (located in ``/root/.ssh/authorized_keys``) contains the public key fingerprint (located in ``/root/.ssh/id_rsa.pub``). * Provide a ``/images`` mount point to the dom0 for your hypervisor: dom0 space is at a premium so creating a directory in dom0 is potentially dangerous and likely to fail especially when you resize large servers. The least you can do is to symlink ``/images`` to your local storage SR. The following instructions work for an English-based installation of XenServer and in the case of ext3-based SR (with which the resize functionality is known to work correctly). .. code-block:: console # LOCAL_SR=$(xe sr-list name-label=""Local storage"" --minimal) # IMG_DIR=""/var/run/sr-mount/$LOCAL_SR/images"" # mkdir -p ""$IMG_DIR"" # ln -s ""$IMG_DIR"" /images XenAPI configuration reference ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following section discusses some commonly changed options when using the XenAPI driver. The table below provides a complete reference of all configuration options available for configuring XAPI with OpenStack. The recommended way to use XAPI with OpenStack is through the XenAPI driver. To enable the XenAPI driver, add the following configuration options to ``/etc/nova/nova.conf`` and restart ``OpenStack Compute``: .. code-block:: ini compute_driver = xenapi.XenAPIDriver [xenserver] connection_url = http://your_xenapi_management_ip_address connection_username = root connection_password = your_password ovs_integration_bridge = br-int vif_driver = nova.virt.xenapi.vif.XenAPIOpenVswitchDriver These connection details are used by OpenStack Compute service to contact your hypervisor and are the same details you use to connect XenCenter, the XenServer management console, to your XenServer node. .. note:: The ``connection_url`` is generally the management network IP address of the XenServer. Networking configuration ------------------------ The Networking service in the Compute node is running ``neutron-openvswitch-agent``, this manages dom0's OVS. You can refer Networking `openvswitch_agent.ini.sample <https://github.com/openstack/ openstack-manuals/blob/master/doc/config-reference/source/samples/neutron/ openvswitch_agent.ini.sample>`_ for details, however there are several specific items to look out for. .. code-block:: ini [agent] minimize_polling = False root_helper_daemon = xenapi_root_helper [ovs] of_listen_address = management_ip_address ovsdb_connection = tcp:your_xenapi_management_ip_address:6640 bridge_mappings = <physical_network>:<physical_bridge>, ... integration_bridge = br-int [xenapi] connection_url = http://your_xenapi_management_ip_address connection_username = root connection_password = your_pass_word .. note:: The ``ovsdb_connection`` is the connection string for the native OVSDB backend, you need to enable port 6640 in dom0. Agent ----- The agent is a piece of software that runs on the instances, and communicates with OpenStack. In case of the XenAPI driver, the agent communicates with OpenStack through XenStore (see `the Xen Project Wiki <http://wiki.xenproject.org/wiki/XenStore>`_ for more information on XenStore). If you don't have the guest agent on your VMs, it takes a long time for OpenStack Compute to detect that the VM has successfully started. Generally a large timeout is required for Windows instances, but you may want to adjust: ``agent_version_timeout`` within the ``[xenserver]`` section. VNC proxy address ----------------- Assuming you are talking to XAPI through a management network, and XenServer is on the address: 10.10.1.34 specify the same address for the vnc proxy address: ``vncserver_proxyclient_address=10.10.1.34`` Storage ------- You can specify which Storage Repository to use with nova by editing the following flag. To use the local-storage setup by the default installer: .. code-block:: ini sr_matching_filter = ""other-config:i18n-key=local-storage"" Another alternative is to use the ""default"" storage (for example if you have attached NFS or any other shared storage): .. code-block:: ini sr_matching_filter = ""default-sr:true"" Image upload in TGZ compressed format ------------------------------------- To start uploading ``tgz`` compressed raw disk images to the Image service, configure ``xenapi_image_upload_handler`` by replacing ``GlanceStore`` with ``VdiThroughDevStore``. .. code-block:: ini xenapi_image_upload_handler=nova.virt.xenapi.image.vdi_through_dev.VdiThroughDevStore As opposed to: .. code-block:: ini xenapi_image_upload_handler=nova.virt.xenapi.image.glance.GlanceStore ",,4720,0
openstack%2Fnova~stable%2Fnewton~I4184382b49dd2193d6a21bfe02ea973d02d8b09f,openstack/nova,stable/newton,I4184382b49dd2193d6a21bfe02ea973d02d8b09f,"libvirt: Post-migration, set cache value for Cinder volume(s)",MERGED,2017-07-29 15:18:19.000000000,2017-08-21 13:52:59.000000000,2017-08-21 13:52:59.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-07-29 15:18:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1797d73efc0601a0a664d32a127669e93bce3d45', 'message': 'libvirt: Post-migration, set cache value for Cinder volume(s)\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into the\nfollowing:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_cache_mode()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo:\n\n  - Call _set_cache_mode() in _get_volume_config() method -- because it\n    is a callback function to _update_volume_xml() in\n    nova/virt/libvirt/migration.py.\n\n  - And remove duplicate calls to _set_cache_mode() in\n    _get_guest_storage_config() and attach_volume().\n\n  - Fix broken unit tests; adjust test_get_volume_config() to reflect\n    the disk cache mode.\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        in a downstream bug analysis, Daniel Berrangé for help in\n        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi\n        from QEMU for help on I/O latency instrumentation with `perf`.\n\nConflicts [stable/newton]:\n - libvirt/driver.py: The _get_scsi_controller() method from Git master\n   isn\'t in Newton, so adjust the _get_guest_storage_config() method\n   accordingly.\n - Fix unit test conflicts in the method\n   test_attach_volume_with_vir_domain_affect_live_flag().\n\nCloses-bug: 1706083\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n(cherry picked from commit 14c38ac0f253036da79f9d07aedf7dfd5778fde8)\n'}]",0,488959,1797d73efc0601a0a664d32a127669e93bce3d45,26,4,1,6962,,,0,"libvirt: Post-migration, set cache value for Cinder volume(s)

This was noticed in a downstream bug when a Nova instance with Cinder
volume (in this case, both the Nova instance storage _and_ Cinder volume
are located on Ceph) is migrated to a target Compute node, the disk
cache value for the Cinder volume gets changed.  I.e. the QEMU
command-line for the Cinder volume stored on Ceph turns into the
following:

Pre-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=writeback

Post-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=none

Furthermore, Jason Dillaman from Ceph confirms RBD cache being enabled
pre-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""true""
    }

And disabled, post-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""false""
    }

This change in cache value post-migration causes I/O latency on the
Cinder volume.

From a chat with Daniel Berrangé on IRC: Prior to live migration, Nova
rewrites all the <disk> elements, and passes this updated guest XML
across to target libvirt.  And it is never calling _set_cache_mode()
when doing this.  So `nova.conf`'s `writeback` setting is getting lost,
leaving the default `cache=none` setting.  And this mistake (of leaving
the default cache value to 'none') will of course be correct when you
reboot the guest on the target later.

So:

  - Call _set_cache_mode() in _get_volume_config() method -- because it
    is a callback function to _update_volume_xml() in
    nova/virt/libvirt/migration.py.

  - And remove duplicate calls to _set_cache_mode() in
    _get_guest_storage_config() and attach_volume().

  - Fix broken unit tests; adjust test_get_volume_config() to reflect
    the disk cache mode.

Thanks: Jason Dillaman of Ceph for observing the change in cache modes
        in a downstream bug analysis, Daniel Berrangé for help in
        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi
        from QEMU for help on I/O latency instrumentation with `perf`.

Conflicts [stable/newton]:
 - libvirt/driver.py: The _get_scsi_controller() method from Git master
   isn't in Newton, so adjust the _get_guest_storage_config() method
   accordingly.
 - Fix unit test conflicts in the method
   test_attach_volume_with_vir_domain_affect_live_flag().

Closes-bug: 1706083
Change-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f
(cherry picked from commit 14c38ac0f253036da79f9d07aedf7dfd5778fde8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/488959/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,1797d73efc0601a0a664d32a127669e93bce3d45,bug/1706083," @mock.patch.object(libvirt_driver.LibvirtDriver, '_set_cache_mode') def test_get_volume_config(self, _set_cache_mode, get_config, connect_volume): _set_cache_mode.assert_called_once_with(config) ) as (mock_connect_volume, mock_get_volume_config, mock_check_discard): return_value=mock_conf) ) as (volume_save, connect_volume, get_volume_config):"," def test_get_volume_config(self, get_config, connect_volume): mock.patch.object(drvr, '_set_cache_mode'), ) as (mock_connect_volume, mock_get_volume_config, mock_set_cache_mode, mock_check_discard): mock_set_cache_mode.assert_called_with(mock_conf) return_value=mock_conf), mock.patch.object(drvr, '_set_cache_mode') ) as (volume_save, connect_volume, get_volume_config, set_cache_mode): self.assertEqual(3, set_cache_mode.call_count)",10,14
openstack%2Frpm-packaging~master~I891791472d37b71c9d05c1ad1ddce979cec22d3e,openstack/rpm-packaging,master,I891791472d37b71c9d05c1ad1ddce979cec22d3e,horizon: Update to 12.0.0.rc1,MERGED,2017-08-15 12:03:05.000000000,2017-08-21 13:49:15.000000000,2017-08-21 13:49:15.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-08-15 12:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/47badb39b758c2e88f02c26c4695f3e77043547a', 'message': 'horizon: Update to 12.0.0.rc1\n\nChange-Id: I891791472d37b71c9d05c1ad1ddce979cec22d3e\n'}, {'number': 2, 'created': '2017-08-16 06:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/88f68be1a8bd1a6ebaf5bec7d739df356afaabad', 'message': 'horizon: Update to 12.0.0.rc1\n\nChange-Id: I891791472d37b71c9d05c1ad1ddce979cec22d3e\n'}, {'number': 3, 'created': '2017-08-21 13:30:57.000000000', 'files': ['openstack/horizon/0001-Make-nosehtmloutput-an-optional-test-requirement.patch', 'openstack/horizon/horizon.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/218d250d81f468a3067b4fb4ef38c4fb69fb9ee7', 'message': 'horizon: Update to 12.0.0.rc1\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: I891791472d37b71c9d05c1ad1ddce979cec22d3e\n'}]",1,493847,218d250d81f468a3067b4fb4ef38c4fb69fb9ee7,22,6,3,6593,,,0,"horizon: Update to 12.0.0.rc1

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Change-Id: I891791472d37b71c9d05c1ad1ddce979cec22d3e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/493847/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/horizon/horizon.spec.j2'],1,47badb39b758c2e88f02c26c4695f3e77043547a,493847,{% set upstream_version = '12.0.0rc1' %},{% set upstream_version = '11.0.2' %},1,1
openstack%2Freleases~master~I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe,openstack/releases,master,I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe,Create stable/pike branch for manila-ui,MERGED,2017-08-18 15:56:37.000000000,2017-08-21 13:48:08.000000000,2017-08-21 13:48:08.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-18 15:56:37.000000000', 'files': ['deliverables/pike/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/29230dc1cd0d9a2cc0d1fc195955f9cf348d660a', 'message': 'Create stable/pike branch for manila-ui\n\nCreate a new minor release to pick up all the\ntranslation since the lib freeze and start the\nstable/pike branch from this tag.\n\nChange-Id: I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe\n'}]",0,495368,29230dc1cd0d9a2cc0d1fc195955f9cf348d660a,7,3,1,2417,,,0,"Create stable/pike branch for manila-ui

Create a new minor release to pick up all the
translation since the lib freeze and start the
stable/pike branch from this tag.

Change-Id: I0bf70eed17de375fb5b0e22d07ff6b43e6f22dbe
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/495368/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/manila-ui.yaml'],1,29230dc1cd0d9a2cc0d1fc195955f9cf348d660a,, - version: 2.10.1 projects: - repo: openstack/manila-ui hash: 019f6b4e630232d398a595990d29524d8295028f branches: - location: 2.10.1 name: stable/pike,,7,0
openstack%2Freleases~master~Id33f03c3113ba8f99f03a7902a763d1f186cc0d8,openstack/releases,master,Id33f03c3113ba8f99f03a7902a763d1f186cc0d8,swift 2.15.1 release and pike stable branch,MERGED,2017-08-19 01:07:12.000000000,2017-08-21 13:45:59.000000000,2017-08-21 13:45:59.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-19 01:07:12.000000000', 'files': ['deliverables/pike/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7038be5112f724075eb555ee1122f99dcc3442ed', 'message': 'swift 2.15.1 release and pike stable branch\n\nChange-Id: Id33f03c3113ba8f99f03a7902a763d1f186cc0d8\n'}]",0,495470,7038be5112f724075eb555ee1122f99dcc3442ed,7,3,1,330,,,0,"swift 2.15.1 release and pike stable branch

Change-Id: Id33f03c3113ba8f99f03a7902a763d1f186cc0d8
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/495470/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/swift.yaml'],1,7038be5112f724075eb555ee1122f99dcc3442ed,swift_2_15_1,branches: - name: stable/pike location: 2.15.1 - version: 2.15.1 projects: - repo: openstack/swift hash: 1f751a797997e241d5cc9a32b9307e3b9f0df4c3,,7,0
openstack%2Fnova~master~I5fdafd9f6cf07a19bf86a6343663dad410887dcb,openstack/nova,master,I5fdafd9f6cf07a19bf86a6343663dad410887dcb,rework index intro to describe nova,MERGED,2017-08-08 15:05:31.000000000,2017-08-21 13:44:35.000000000,2017-08-10 20:59:52.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6fbbc190fc73dfe25b168c932f63c075cf2272a', 'message': 'rework index intro to describe nova\n\nThe index previously was written for the developer docs, but this is\nmore than developer docs now. That also means this is the general\ngoogle landing page for people, so a basic ""what is nova"" is\nappropriate.\n\nPart of bp: doc-migration\n\nChange-Id: I5fdafd9f6cf07a19bf86a6343663dad410887dcb\n'}, {'number': 2, 'created': '2017-08-08 19:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/021caa91ad1fc826adec24e9bad9019507b16901', 'message': 'rework index intro to describe nova\n\nThe index previously was written for the developer docs, but this is\nmore than developer docs now. That also means this is the general\ngoogle landing page for people, so a basic ""what is nova"" is\nappropriate.\n\nPart of bp: doc-migration\n\nChange-Id: I5fdafd9f6cf07a19bf86a6343663dad410887dcb\n'}, {'number': 3, 'created': '2017-08-09 12:11:03.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b072d75322cd345f876b6333fba5cd4acd0e03d', 'message': 'rework index intro to describe nova\n\nThe index previously was written for the developer docs, but this is\nmore than developer docs now. That also means this is the general\ngoogle landing page for people, so a basic ""what is nova"" is\nappropriate.\n\nPart of bp: doc-migration\n\nChange-Id: I5fdafd9f6cf07a19bf86a6343663dad410887dcb\n'}]",9,491834,8b072d75322cd345f876b6333fba5cd4acd0e03d,38,13,3,2750,,,0,"rework index intro to describe nova

The index previously was written for the developer docs, but this is
more than developer docs now. That also means this is the general
google landing page for people, so a basic ""what is nova"" is
appropriate.

Part of bp: doc-migration

Change-Id: I5fdafd9f6cf07a19bf86a6343663dad410887dcb
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/491834/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,d6fbbc190fc73dfe25b168c932f63c075cf2272a,bp/doc-migration,"======================== OpenStack Compute (nova) ======================== What is nova? ============= Nova is the OpenStack project that manages servers and makes it easy to provision compute instances (either VMs or Baremetal) out of that pile of hardware. Nova runs as a set of daemons on top of existing Linux servers to do this management. It requires the following additional OpenStack services for basic function: * `Keystone <https://docs.openstack.org/keystone/latest/>`_: which provides identity and authentication for all OpenSack services. * `Glance <https://docs.openstack.org/glance/latest/>`_: which provides the compute image repository. All compute instances launch from glance images. * `Neutron <https://docs.openstack.org/neutron/latest/>`_: which is responsible for provisioning the virtual or physical networks that compute instances connect to on boot. It can also be enhanced with other services to include persistent block storage, encrypted disks, baremetal compute instances.","========================================== Welcome to Nova's developer documentation! ========================================== Nova is an OpenStack project designed to provide power massively scalable, on demand, self service access to compute resources. The developer documentation provided here is continually kept up-to-date based on the latest code, and may not represent the state of the project at any specific prior release. .. note:: This is documentation for developers, if you are looking for more general documentation including API, install, operator and user guides see `docs.openstack.org`_ .. _`docs.openstack.org`: http://docs.openstack.org This documentation is intended to help explain what the Nova developers think is the current scope of the Nova project, as well as the architectural decisions we have made in order to support that scope. We also document our plans for evolving our architecture over time. Finally, we documented our current development process and policies.",19,17
openstack%2Fheat-translator~stable%2Fpike~I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912,openstack/heat-translator,stable/pike,I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912,"Revert ""Fix: nested resources cannot be given out""",MERGED,2017-08-14 15:41:54.000000000,2017-08-21 13:33:23.000000000,2017-08-21 08:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 20031}]","[{'number': 1, 'created': '2017-08-14 15:41:54.000000000', 'files': ['translator/hot/syntax/hot_template.py', 'translator/tests/test_tosca_hot_translation.py', 'translator/common/utils.py', 'translator/hot/tosca_translator.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/d80708aa3ab141565710906ff8975c02ffa2b9c2', 'message': 'Revert ""Fix: nested resources cannot be given out""\n\nThis reverts commit 3c53dc729fb71798c7e6a6b602b368cbb4b67991.\n\nChange-Id: I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912\n(cherry picked from commit 59a65caaf5b197e2b41c9a41655494b87dc65ae5)\n'}]",0,493589,d80708aa3ab141565710906ff8975c02ffa2b9c2,10,4,1,20031,,,0,"Revert ""Fix: nested resources cannot be given out""

This reverts commit 3c53dc729fb71798c7e6a6b602b368cbb4b67991.

Change-Id: I0230daa7b860f7f35ef5cd7be6e1d1a0d4547912
(cherry picked from commit 59a65caaf5b197e2b41c9a41655494b87dc65ae5)
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/89/493589/1 && git format-patch -1 --stdout FETCH_HEAD,"['translator/hot/syntax/hot_template.py', 'translator/tests/test_tosca_hot_translation.py', 'translator/common/utils.py', 'translator/hot/tosca_translator.py']",4,d80708aa3ab141565710906ff8975c02ffa2b9c2,," def translate_to_yaml_files_dict(self, base_filename): self.node_translator.hot_template_version)"," def translate_to_yaml_files_dict(self, base_filename, nested_resources=False): self.node_translator.hot_template_version, nested_resources)",11,30
openstack%2Fglance~stable%2Fpike~I3385b3f628b74b109c05108e331085c54b0126a1,openstack/glance,stable/pike,I3385b3f628b74b109c05108e331085c54b0126a1,"api-ref: update container_format, disk_format",MERGED,2017-08-18 17:06:54.000000000,2017-08-21 13:19:44.000000000,2017-08-21 13:19:44.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-18 17:06:54.000000000', 'files': ['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/images-parameters-descriptions.inc'], 'web_link': 'https://opendev.org/openstack/glance/commit/84c7ad4a769da6961e96e17cfb4eceb878d27ca8', 'message': 'api-ref: update container_format, disk_format\n\nThis patch updates the disk_format description to include ""ploop""\n(added in Ocata).  It also rewrites the container_format description\nto indicate that the actual values depend on how the API being queried\nis configured.\n\nThis patch does not update the api-ref for the deprecated v1 API.\n\nChange-Id: I3385b3f628b74b109c05108e331085c54b0126a1\n(cherry picked from commit 08cd24d28c660d69cf1eaacb7cae911bb91b1c91)\n'}]",0,495382,84c7ad4a769da6961e96e17cfb4eceb878d27ca8,7,3,1,5314,,,0,"api-ref: update container_format, disk_format

This patch updates the disk_format description to include ""ploop""
(added in Ocata).  It also rewrites the container_format description
to indicate that the actual values depend on how the API being queried
is configured.

This patch does not update the api-ref for the deprecated v1 API.

Change-Id: I3385b3f628b74b109c05108e331085c54b0126a1
(cherry picked from commit 08cd24d28c660d69cf1eaacb7cae911bb91b1c91)
",git fetch https://review.opendev.org/openstack/glance refs/changes/82/495382/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/images-parameters-descriptions.inc']",2,84c7ad4a769da6961e96e17cfb4eceb878d27ca8,cp-493880,".. |html-br| raw:: html <br /> |p-start|\ Values may vary based on the configuration available in a ``vhdx``, ``vmdk``, ``raw``, ``qcow2``, ``vdi``, ``ploop`` or ``iso``.\ |p-end| |p-start|\ **Newton changes**: The ``vhdx`` disk format is a supported value.\ |html-br| **Ocata changes**: The ``ploop`` disk format is a supported value.\ |p-end| .. |container_format_description| replace:: |p-start|\ Format of the image container.\ |p-end| |p-start|\ Values may vary based on the configuration available in a particular OpenStack cloud. See the :ref:`Image Schema <image-schema>` response from the cloud itself for the valid values available.\ |p-end| |p-start|\ Example formats are: ``ami``, ``ari``, ``aki``, ``bare``, ``ovf``, ``ova``, or ``docker``.\ |p-end| |p-start|\ The value might be ``null`` (JSON null data type).\ |p-end|"," |p-start|\ Responses may vary based on the configuration available in a ``vhdx``, ``vmdk``, ``raw``, ``qcow2``, ``vdi``, or ``iso``.\ |p-end| **Newton changes**: The ``vhdx`` disk format is a supported value.",23,9
openstack%2Fglance~stable%2Fpike~I3f66f7efa7c377d999a88457fc6492701a894f34,openstack/glance,stable/pike,I3f66f7efa7c377d999a88457fc6492701a894f34,Add 'tasks_api_access' policy,MERGED,2017-08-18 17:01:30.000000000,2017-08-21 13:19:30.000000000,2017-08-21 13:19:30.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-18 17:01:30.000000000', 'files': ['glance/api/v2/tasks.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/f6d384f1849cb2a20cbd510b622ff318719a8fce', 'message': ""Add 'tasks_api_access' policy\n\nThe Tasks API was made admin-only in Mitaka to prevent it from being\nexposed directly to end users.  The interoperable image import\nprocess introduced in Pike uses the tasks engine to perform the\nimport.  This patch introduces a new policy, 'tasks_api_access',\nthat determines whether a user can make Tasks API calls.\n\nThe currently existing task-related policies are retained so that\noperators can have fine-grained control over tasks.  With this\nnew policy, operators can restrict Tasks API access to admins,\nwhile at the same time, admin-level credentials are not required\nfor glance to perform task-related functions on behalf of users.\n\nChange-Id: I3f66f7efa7c377d999a88457fc6492701a894f34\nCloses-bug: #1711468\n(cherry picked from commit b90ad2524fd1c80e33930191b415c67a91904fd9)\n""}]",0,495378,f6d384f1849cb2a20cbd510b622ff318719a8fce,8,4,1,5314,,,0,"Add 'tasks_api_access' policy

The Tasks API was made admin-only in Mitaka to prevent it from being
exposed directly to end users.  The interoperable image import
process introduced in Pike uses the tasks engine to perform the
import.  This patch introduces a new policy, 'tasks_api_access',
that determines whether a user can make Tasks API calls.

The currently existing task-related policies are retained so that
operators can have fine-grained control over tasks.  With this
new policy, operators can restrict Tasks API access to admins,
while at the same time, admin-level credentials are not required
for glance to perform task-related functions on behalf of users.

Change-Id: I3f66f7efa7c377d999a88457fc6492701a894f34
Closes-bug: #1711468
(cherry picked from commit b90ad2524fd1c80e33930191b415c67a91904fd9)
",git fetch https://review.opendev.org/openstack/glance refs/changes/78/495378/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/tasks.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'etc/policy.json']",3,f6d384f1849cb2a20cbd510b622ff318719a8fce,bug/1711468," ""get_task"": """", ""get_tasks"": """", ""add_task"": """", ""modify_task"": """", ""tasks_api_access"": ""role:admin"","," ""get_task"": ""role:admin"", ""get_tasks"": ""role:admin"", ""add_task"": ""role:admin"", ""modify_task"": ""role:admin"",",99,5
openstack%2Fopenstack-ansible~master~I8e87a5285afc52ef6ec9169e1a145b8308f78fcf,openstack/openstack-ansible,master,I8e87a5285afc52ef6ec9169e1a145b8308f78fcf,Bump ansible-keepalived to 3.0.3,ABANDONED,2017-08-17 15:37:24.000000000,2017-08-21 13:05:53.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-08-17 15:37:24.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/391da5439feb98b7007ba65a8af9265cd52d2802', 'message': 'Bump ansible-keepalived to 3.0.3\n\nThis applies the changes that were made in the variable change\nfrom I8e6d811bca7553d82591a6c96f4316377d0d1829.\n\nCloses-Bug: 1702123\nChange-Id: I8e87a5285afc52ef6ec9169e1a145b8308f78fcf\n'}]",0,494610,391da5439feb98b7007ba65a8af9265cd52d2802,7,3,1,538,,,0,"Bump ansible-keepalived to 3.0.3

This applies the changes that were made in the variable change
from I8e6d811bca7553d82591a6c96f4316377d0d1829.

Closes-Bug: 1702123
Change-Id: I8e87a5285afc52ef6ec9169e1a145b8308f78fcf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/494610/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,391da5439feb98b7007ba65a8af9265cd52d2802,bug/1702123, version: 3.0.3, version: 3.0.1,1,1
openstack%2Frally~master~I7f786a0c989a8443a468e70f20faf8f5a3ff65ef,openstack/rally,master,I7f786a0c989a8443a468e70f20faf8f5a3ff65ef,Remove redundant parent atomic action,MERGED,2017-08-07 16:07:53.000000000,2017-08-21 13:03:57.000000000,2017-08-21 13:03:57.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}]","[{'number': 1, 'created': '2017-08-07 16:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f0e6bf776b487b49c7524d9172dae4f4f659dc67', 'message': 'Remove redundant parent atomic action\n\nSimilar atomics should be merged in the report automatically, so there is\nno reason to do it manually via parent action.\n\nChange-Id: I7f786a0c989a8443a468e70f20faf8f5a3ff65ef\n'}, {'number': 2, 'created': '2017-08-07 19:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a52faa5d406a44ee5f9b66921d25984013f30ace', 'message': 'Remove redundant parent atomic action\n\nSimilar atomics should be merged in the report automatically, so there is\nno reason to do it manually via parent action.\n\nChange-Id: I7f786a0c989a8443a468e70f20faf8f5a3ff65ef\n'}, {'number': 3, 'created': '2017-08-14 09:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f771d245cd70be70ae011a910011851829dd958d', 'message': 'Remove redundant parent atomic action\n\nSimilar atomics should be merged in the report automatically, so there is\nno reason to do it manually via parent action.\n\nChange-Id: I7f786a0c989a8443a468e70f20faf8f5a3ff65ef\n'}, {'number': 4, 'created': '2017-08-17 11:56:43.000000000', 'files': ['tests/unit/plugins/openstack/scenarios/swift/test_objects.py', 'rally/plugins/openstack/scenarios/swift/objects.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v1.py', 'tests/unit/plugins/openstack/scenarios/authenticate/test_authenticate.py', 'tests/unit/plugins/openstack/scenarios/heat/test_stacks.py', 'tests/unit/test.py', 'rally/plugins/openstack/scenarios/heat/stacks.py', 'rally/plugins/openstack/scenarios/authenticate/authenticate.py', 'rally/plugins/openstack/scenarios/neutron/network.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/2afcc209840a1a34b49d442e6a8dd2fce7fa4993', 'message': 'Remove redundant parent atomic action\n\nSimilar atomics should be merged in the report automatically, so there\nis no reason to do it manually via parent action.\n\nChange-Id: I7f786a0c989a8443a468e70f20faf8f5a3ff65ef\n'}]",0,491534,2afcc209840a1a34b49d442e6a8dd2fce7fa4993,26,4,4,9545,,,0,"Remove redundant parent atomic action

Similar atomics should be merged in the report automatically, so there
is no reason to do it manually via parent action.

Change-Id: I7f786a0c989a8443a468e70f20faf8f5a3ff65ef
",git fetch https://review.opendev.org/openstack/rally refs/changes/34/491534/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/plugins/rally_profile.py', 'rally/plugins/openstack/scenarios/swift/objects.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v1.py', 'rally/plugins/openstack/scenarios/heat/stacks.py', 'rally/plugins/openstack/scenarios/authenticate/authenticate.py', 'rally/plugins/openstack/scenarios/neutron/network.py']",6,f0e6bf776b487b49c7524d9172dae4f4f659dc67,samples," for i in range(ports_per_network): port = self._create_port(network, port_create_args) msg = ""Port isn't created"" self.assertTrue(port, err_msg=msg) port_info = self._show_port(port) msg = ""Created port and Showed port isn't equal"" self.assertEqual(port[""port""][""id""], port_info[""port""][""id""], err_msg=msg)"," with atomic.ActionTimer(self, ""neutron.create_and_show_%i_ports"" % ports_per_network): for i in range(ports_per_network): port = self._create_port(network, port_create_args) msg = ""Port isn't created"" self.assertTrue(port, err_msg=msg) port_info = self._show_port(port) msg = ""Created port and Showed port isn't equal"" self.assertEqual(port[""port""][""id""], port_info[""port""][""id""], err_msg=msg)",41,79
openstack%2Frally~master~Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8,openstack/rally,master,Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8,[install]Remove BASE_PIP_URL which was used to pass pypi resource,MERGED,2017-08-18 01:19:35.000000000,2017-08-21 13:03:44.000000000,2017-08-21 13:03:44.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-08-18 01:19:35.000000000', 'files': ['install_rally.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/c4d67d499da8fe13c43e37938bed9d055441ac40', 'message': '[install]Remove BASE_PIP_URL which was used to pass pypi resource\n\n1.it is unnecessary to specify pypi resource in pip command, if that\n  is required, user could specify in ~/.pip/pip.conf\n2.Also, trusted host is required on new pip version, if we specify\n  the other http resource via -i,\n\nChange-Id: Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8\n'}]",0,494758,c4d67d499da8fe13c43e37938bed9d055441ac40,7,3,1,21528,,,0,"[install]Remove BASE_PIP_URL which was used to pass pypi resource

1.it is unnecessary to specify pypi resource in pip command, if that
  is required, user could specify in ~/.pip/pip.conf
2.Also, trusted host is required on new pip version, if we specify
  the other http resource via -i,

Change-Id: Ie6af5b07fa4ee3f8ea74befbe36b50fefac741e8
",git fetch https://review.opendev.org/openstack/rally refs/changes/58/494758/1 && git format-patch -1 --stdout FETCH_HEAD,['install_rally.sh'],1,c4d67d499da8fe13c43e37938bed9d055441ac40,atomic,pip install -U 'pip!=8'pip install pbr 'tox<=1.6.1' bindep pip install -e . pip install .,"BASE_PIP_URL=${BASE_PIP_URL:-""https://pypi.python.org/simple""}pip install -i ""$BASE_PIP_URL"" -U 'pip!=8'pip install -i ""$BASE_PIP_URL"" pbr 'tox<=1.6.1' bindep pip install -i ""$BASE_PIP_URL"" -e . pip install -i ""$BASE_PIP_URL"" .",4,5
openstack%2Frally~master~Ie7291889337a7ffe7877910d3c3a24fd670aba94,openstack/rally,master,Ie7291889337a7ffe7877910d3c3a24fd670aba94,Handle log message interpolation by the logger in common/,MERGED,2017-07-13 11:57:48.000000000,2017-08-21 13:02:39.000000000,2017-08-21 13:02:39.000000000,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 17645}, {'_account_id': 26229}]","[{'number': 1, 'created': '2017-07-13 11:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5f7dd2b00fec97c621ff00ae02ebf9172d53a328', 'message': 'Add a hacking rule for string interpolation at logging\n\nString interpolation should be delayed to be handled\nby the logging code, rather than being done\nat the point of the logging call.\nSo add a hacking rule for it.\n\nSee the oslo i18n guideline.\n\n* http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nChange-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94\n'}, {'number': 2, 'created': '2017-07-13 12:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/54bbb4c5cffdfef3887de9295099b89702581e2b', 'message': 'Handle log message interpolation by the logger in common/\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94\n'}, {'number': 3, 'created': '2017-07-14 05:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/730dbff76571d6ac6b779874b6dbb36ceaabaafa', 'message': 'Handle log message interpolation by the logger in common/\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94\n'}, {'number': 4, 'created': '2017-07-17 08:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c0222739d1f500d1bacd8a9e11884c2fa8c55519', 'message': 'Handle log message interpolation by the logger in common/\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94\n'}, {'number': 5, 'created': '2017-07-18 04:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3a399396bda642f4241d1c13ae07e38a0d0a1c59', 'message': 'Handle log message interpolation by the logger in common/\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94\n'}, {'number': 6, 'created': '2017-08-18 04:57:12.000000000', 'files': ['rally/plugins/openstack/verification/tempest/config.py', 'rally/plugins/common/runners/rps.py', 'samples/plugins/context/context_plugin.py', 'rally/plugins/openstack/cleanup/resources.py', 'rally/plugins/openstack/context/nova/flavors.py', 'rally/plugins/openstack/scenarios/heat/utils.py', 'rally/task/utils.py', 'rally/plugins/openstack/scenarios/sahara/jobs.py', 'rally/plugins/openstack/context/swift/objects.py', 'rally/plugins/openstack/context/keystone/roles.py', 'rally/common/utils.py', 'rally/plugins/openstack/scenarios/sahara/utils.py', 'rally/task/runner.py', 'rally/plugins/openstack/scenarios/sahara/clusters.py', 'rally/plugins/openstack/verification/tempest/context.py', 'rally/plugins/openstack/context/ec2/servers.py', 'rally/plugins/openstack/context/nova/servers.py', 'rally/plugins/openstack/wrappers/network.py', 'rally/plugins/openstack/scenarios/vm/utils.py', 'doc/source/plugins/implementation/context_plugin.rst', 'rally/common/sshutils.py', 'rally/verification/utils.py', 'rally/plugins/openstack/context/keystone/users.py', 'rally/plugins/openstack/cleanup/manager.py', 'tests/ci/sync_requirements.py', 'rally/plugins/openstack/context/cinder/volume_types.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/4073d49652c10a874134ce9e94c590c831d8c170', 'message': 'Handle log message interpolation by the logger in common/\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94\n'}]",14,483314,4073d49652c10a874134ce9e94c590c831d8c170,27,6,6,24925,,,0,"Handle log message interpolation by the logger in common/

According to OpenStack Guideline[1], logged string message should be
interpolated by the logger.

[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages

Change-Id: Ie7291889337a7ffe7877910d3c3a24fd670aba94
",git fetch https://review.opendev.org/openstack/rally refs/changes/14/483314/6 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/verification/tempest/config.py', 'rally/plugins/common/runners/rps.py', 'samples/plugins/context/context_plugin.py', 'rally/plugins/openstack/cleanup/resources.py', 'rally/plugins/openstack/context/nova/flavors.py', 'rally/plugins/openstack/scenarios/heat/utils.py', 'rally/task/utils.py', 'rally/plugins/openstack/scenarios/sahara/jobs.py', 'rally/plugins/openstack/context/swift/objects.py', 'rally/plugins/openstack/context/keystone/roles.py', 'rally/common/utils.py', 'rally/plugins/openstack/scenarios/sahara/utils.py', 'rally/task/runner.py', 'rally/plugins/openstack/scenarios/sahara/clusters.py', 'rally/plugins/openstack/verification/tempest/context.py', 'rally/plugins/openstack/context/ec2/servers.py', 'rally/plugins/openstack/context/nova/servers.py', 'rally/plugins/openstack/wrappers/network.py', 'rally/plugins/openstack/scenarios/vm/utils.py', 'doc/source/plugins/implementation/context_plugin.rst', 'rally/common/sshutils.py', 'rally/verification/utils.py', 'rally/plugins/openstack/context/keystone/users.py', 'rally/plugins/openstack/cleanup/manager.py', 'tests/ci/sync_requirements.py', 'rally/plugins/openstack/context/cinder/volume_types.py']",26,5f7dd2b00fec97c621ff00ae02ebf9172d53a328,log," LOG.debug(""Creating Cinder volume type %s"", vtype_name)"," LOG.debug(""Creating Cinder volume type %s"" % vtype_name)",84,84
openstack%2Fmagnum~master~I4416e2826e4a14a11b93d55d342e4de9b3dc12d7,openstack/magnum,master,I4416e2826e4a14a11b93d55d342e4de9b3dc12d7,Add default for [cinder]default_docker_volume_type,MERGED,2017-07-06 16:30:40.000000000,2017-08-21 12:59:48.000000000,2017-08-21 12:59:48.000000000,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 20498}, {'_account_id': 23479}]","[{'number': 1, 'created': '2017-07-06 16:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1908d298daffff6d12160984da5ccf05813bed86', 'message': ""Add default for [cinder]default_docker_volume_type\n\nWhen creating a kubernetes cluster on baremetal & fedora, if the cluster\ntemplate does not have a docker_volume_type defined, the following error\nis seen:\n\nInvalidParameterValue: ERROR: The Parameter (docker_volume_type) was not\nprovided.\n\nCinder isn't mandatory, and neither is the docker_volume_type cluster\ntemplate parameter, so it shouldn't need to be set.\n\nThis change adds a default value of an empty string for the option\n[cinder]default_docker_volume_type, which allows the cluster to be\ncreated.\n\nChange-Id: I4416e2826e4a14a11b93d55d342e4de9b3dc12d7\nCloses-Bug: #1702075\n""}, {'number': 2, 'created': '2017-08-11 13:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e851cec4d534a22ff744958f36c8bb34ec180663', 'message': ""Add default for [cinder]default_docker_volume_type\n\nWhen creating a kubernetes cluster on baremetal & fedora, if the cluster\ntemplate does not have a docker_volume_type defined, the following error\nis seen:\n\nInvalidParameterValue: ERROR: The Parameter (docker_volume_type) was not\nprovided.\n\nCinder isn't mandatory, and neither is the docker_volume_type cluster\ntemplate parameter, so it shouldn't need to be set.\n\nThis change adds a default value of an empty string for the option\n[cinder]default_docker_volume_type, which allows the cluster to be\ncreated.\n\nChange-Id: I4416e2826e4a14a11b93d55d342e4de9b3dc12d7\nCloses-Bug: #1702075\n""}, {'number': 3, 'created': '2017-08-21 10:06:41.000000000', 'files': ['magnum/conf/cinder.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ddde90e07c42d3699b005e912d49f97b03fd574d', 'message': ""Add default for [cinder]default_docker_volume_type\n\nWhen creating a kubernetes cluster on baremetal & fedora, if the cluster\ntemplate does not have a docker_volume_type defined, the following error\nis seen:\n\nInvalidParameterValue: ERROR: The Parameter (docker_volume_type) was not\nprovided.\n\nCinder isn't mandatory, and neither is the docker_volume_type cluster\ntemplate parameter, so it shouldn't need to be set.\n\nThis change adds a default value of an empty string for the option\n[cinder]default_docker_volume_type, which allows the cluster to be\ncreated.\n\nChange-Id: I4416e2826e4a14a11b93d55d342e4de9b3dc12d7\nCloses-Bug: #1702075\n""}]",0,481144,ddde90e07c42d3699b005e912d49f97b03fd574d,22,7,3,14826,,,0,"Add default for [cinder]default_docker_volume_type

When creating a kubernetes cluster on baremetal & fedora, if the cluster
template does not have a docker_volume_type defined, the following error
is seen:

InvalidParameterValue: ERROR: The Parameter (docker_volume_type) was not
provided.

Cinder isn't mandatory, and neither is the docker_volume_type cluster
template parameter, so it shouldn't need to be set.

This change adds a default value of an empty string for the option
[cinder]default_docker_volume_type, which allows the cluster to be
created.

Change-Id: I4416e2826e4a14a11b93d55d342e4de9b3dc12d7
Closes-Bug: #1702075
",git fetch https://review.opendev.org/openstack/magnum refs/changes/44/481144/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conf/cinder.py'],1,1908d298daffff6d12160984da5ccf05813bed86,bug/1702075," default='',",,1,0
openstack%2Fglance~stable%2Fpike~I6f1cfe44a01542bc93a43cbd518956686adb366d,openstack/glance,stable/pike,I6f1cfe44a01542bc93a43cbd518956686adb366d,Fix 500 error from image-stage call,MERGED,2017-08-18 14:59:03.000000000,2017-08-21 12:54:51.000000000,2017-08-21 12:54:51.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-18 14:59:03.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/beb3e98445ee1fd35454fc3e8cd150622e3e083e', 'message': ""Fix 500 error from image-stage call\n\nAdds a RequestDeserializer for the stage and adjusts the image\nstatus transitions so that they can handle the 'uploading' status\nof an image with data in the stage.\n\nCloses-bug: #1710958\n\nChange-Id: I6f1cfe44a01542bc93a43cbd518956686adb366d\n(cherry picked from commit e17a349306e1a4ae287ce69cae0a545acfcf6b27)\n""}]",0,495341,beb3e98445ee1fd35454fc3e8cd150622e3e083e,9,4,1,5314,,,0,"Fix 500 error from image-stage call

Adds a RequestDeserializer for the stage and adjusts the image
status transitions so that they can handle the 'uploading' status
of an image with data in the stage.

Closes-bug: #1710958

Change-Id: I6f1cfe44a01542bc93a43cbd518956686adb366d
(cherry picked from commit e17a349306e1a4ae287ce69cae0a545acfcf6b27)
",git fetch https://review.opendev.org/openstack/glance refs/changes/41/495341/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/__init__.py']",3,beb3e98445ee1fd35454fc3e8cd150622e3e083e,bug/1710958," 'queued': ('saving', 'uploading', 'importing', 'active', 'deleted'), 'uploading': ('importing', 'queued', 'deleted'),"," 'queued': ('saving', 'importing', 'active', 'deleted'),",22,3
openstack%2Fsahara-dashboard~stable%2Fpike~I36d2b1ad8209edd7cc96bd20d0051e17f376be12,openstack/sahara-dashboard,stable/pike,I36d2b1ad8209edd7cc96bd20d0051e17f376be12,Imported Translations from Zanata,MERGED,2017-08-21 08:38:57.000000000,2017-08-21 12:52:48.000000000,2017-08-21 12:52:48.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 10459}]","[{'number': 1, 'created': '2017-08-21 08:38:57.000000000', 'files': ['sahara_dashboard/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/7394ec618343bc997e097958ac897b1a33d3cb1c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I36d2b1ad8209edd7cc96bd20d0051e17f376be12\n'}]",0,495764,7394ec618343bc997e097958ac897b1a33d3cb1c,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I36d2b1ad8209edd7cc96bd20d0051e17f376be12
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/64/495764/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/locale/de/LC_MESSAGES/django.po'],1,7394ec618343bc997e097958ac897b1a33d3cb1c,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2017. #zanata""Project-Id-Version: sahara-dashboard 7.0.0.0rc2.dev3\n""""POT-Creation-Date: 2017-08-15 13:23+0000\n""""PO-Revision-Date: 2017-08-20 10:14+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""msgstr ""Plugin Version %s""""durch Ausführung von\n""msgstr ""Plugin-Objekt kann nicht abgerufen werden.""","# Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata# Robert Simai <robert.simai@suse.com>, 2016. #zanata # Robert Simai <robert.simai@suse.com>, 2017. #zanata""Project-Id-Version: sahara-dashboard 7.0.0.0b2.dev13\n""""POT-Creation-Date: 2017-06-08 17:55+0000\n""""PO-Revision-Date: 2017-06-01 04:34+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgstr ""Plug-in Version %s""""durch Ausfügrung von\n""msgstr ""Plug-in-Objekt kann nicht abgerufen werden.""",8,10
openstack%2Fopenstack-ansible-rabbitmq_server~master~Icc5c95d73120482b8259307f0744d3dc7947eed8,openstack/openstack-ansible-rabbitmq_server,master,Icc5c95d73120482b8259307f0744d3dc7947eed8,[WIP] Streamline RabbitMQ install,ABANDONED,2017-08-15 15:44:02.000000000,2017-08-21 12:50:54.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-15 15:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e8ac40e1e6dedbd700be63645f200799fbc9fd15', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 2, 'created': '2017-08-15 16:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5a6e8c8491337941a8cf494fbb19bd7dcf5e2300', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 3, 'created': '2017-08-15 16:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/8313973855298a2c2c26cad63f68b7f7f9e1f627', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 4, 'created': '2017-08-15 18:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/de7bf9d43b12a1c7fe8843890475cf43e8dc91d1', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 5, 'created': '2017-08-15 18:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0311be775cde8ef645472dafda646dcf2fe5a06f', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 6, 'created': '2017-08-15 19:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/55785ad61ea4ce12974420b6debb311c1aa6d494', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 7, 'created': '2017-08-15 20:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/8815a63f70044f5792ea43690c5edc1a70fcf31e', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 8, 'created': '2017-08-15 20:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/04111a9ae2fd8d6ea70f2f5df2fab0a444a2dc0e', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 9, 'created': '2017-08-15 20:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ddd4172282f78459013dce1802f967d2e97c09fd', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 10, 'created': '2017-08-15 20:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5199b55c45511009ab408948e74b3747fdd040db', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}, {'number': 11, 'created': '2017-08-16 20:04:37.000000000', 'files': ['tests/test-rabbitmq-server-functional.yml', 'tasks/install_yum.yml', 'vars/redhat.yml', 'vars/debian.yml', 'tests/test.yml', 'templates/apt-preferences.j2', 'tasks/install_apt.yml', 'tox.ini', 'defaults/main.yml', 'tests/test-vars.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/34501e61d5d01d8ee3f15094ac2108287dd5274a', 'message': '[WIP] Streamline RabbitMQ install\n\nThis is a test to see if we can install a specific RabbitMQ version\ndirectly from PackageCloud and save a few steps in the process. This\nshould make it easier to set up reverse proxies in nodepool.\n\nChange-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8\n'}]",0,493923,34501e61d5d01d8ee3f15094ac2108287dd5274a,15,1,11,538,,,0,"[WIP] Streamline RabbitMQ install

This is a test to see if we can install a specific RabbitMQ version
directly from PackageCloud and save a few steps in the process. This
should make it easier to set up reverse proxies in nodepool.

Change-Id: Icc5c95d73120482b8259307f0744d3dc7947eed8
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/23/493923/8 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/suse.yml']",4,e8ac40e1e6dedbd700be63645f200799fbc9fd15,streamline-installation,_rabbitmq_install_method: file ,,7,7
openstack%2Fglance~stable%2Fpike~I5bcc9f4cdc55635809e8a90be555a367348a58c2,openstack/glance,stable/pike,I5bcc9f4cdc55635809e8a90be555a367348a58c2,Add 'api_image_import' type to task(s) schemas,MERGED,2017-08-18 15:04:46.000000000,2017-08-21 12:49:55.000000000,2017-08-21 12:49:55.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-18 15:04:46.000000000', 'files': ['glance/api/v2/tasks.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7a14edda9ee266ad165ce5009215a13d1dac1003', 'message': ""Add 'api_image_import' type to task(s) schemas\n\nThe glanceclient relies on the schemas being accurate so it can\nformat responses.  Without this update, admins won't be able to\nuse the glanceclient generate a task list containing the\napi_image_import task that the task engine uses to process the\nnew image import process being introduced in Pike.\n\nCloses-bug: #1711018\n\nChange-Id: I5bcc9f4cdc55635809e8a90be555a367348a58c2\n(cherry picked from commit b6e4ddaf42af2d4169681969bd288b678a65ae32)\n""}]",0,495342,7a14edda9ee266ad165ce5009215a13d1dac1003,11,4,1,5314,,,0,"Add 'api_image_import' type to task(s) schemas

The glanceclient relies on the schemas being accurate so it can
format responses.  Without this update, admins won't be able to
use the glanceclient generate a task list containing the
api_image_import task that the task engine uses to process the
new image import process being introduced in Pike.

Closes-bug: #1711018

Change-Id: I5bcc9f4cdc55635809e8a90be555a367348a58c2
(cherry picked from commit b6e4ddaf42af2d4169681969bd288b678a65ae32)
",git fetch https://review.opendev.org/openstack/glance refs/changes/42/495342/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/tasks.py'],1,7a14edda9ee266ad165ce5009215a13d1dac1003,bug/1711018," ""api_image_import""",,1,0
openstack%2Fglance~master~I679e75aab9327a2582f87319795e8e3e4e92a3f8,openstack/glance,master,I679e75aab9327a2582f87319795e8e3e4e92a3f8,Updated from global requirements,MERGED,2017-08-18 04:40:12.000000000,2017-08-21 12:49:20.000000000,2017-08-21 12:49:20.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-18 04:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3830cd5e7e01da0306562497fc3c779eb675c453', 'message': 'Updated from global requirements\n\nChange-Id: I679e75aab9327a2582f87319795e8e3e4e92a3f8\n'}, {'number': 2, 'created': '2017-08-18 11:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bef0b15daf7422e33108eeb0aadcea3a35ccbb59', 'message': 'Updated from global requirements\n\nChange-Id: I679e75aab9327a2582f87319795e8e3e4e92a3f8\n'}, {'number': 3, 'created': '2017-08-18 15:46:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/917d0d0c04c84fb472be0edbbbf906ec1757bc23', 'message': 'Updated from global requirements\n\nChange-Id: I679e75aab9327a2582f87319795e8e3e4e92a3f8\n'}]",0,494808,917d0d0c04c84fb472be0edbbbf906ec1757bc23,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: I679e75aab9327a2582f87319795e8e3e4e92a3f8
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/494808/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3830cd5e7e01da0306562497fc3c779eb675c453,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,1,1
openstack%2Ftacker~master~I81b57bd23a0eec21b63ad49de9a5fc20d78da28d,openstack/tacker,master,I81b57bd23a0eec21b63ad49de9a5fc20d78da28d,Change instance id to stack id in devices db,ABANDONED,2016-08-02 15:07:23.000000000,2017-08-21 12:45:50.000000000,,"[{'_account_id': 3}, {'_account_id': 10487}, {'_account_id': 20866}]","[{'number': 1, 'created': '2016-08-02 15:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a1ffa0483c4690cf7901be9649e5da816ef99a3', 'message': 'Change instance id to stack id in devices db\n\ninstance_id in devices DB actually reflects id of the heat stack created.\nChanging it to stack_id to increase code readability and avoid confusion with\nNova VM.\n\nChange-Id: I81b57bd23a0eec21b63ad49de9a5fc20d78da28d\nCloses-bug: #1602654\n'}, {'number': 2, 'created': '2016-08-08 05:17:24.000000000', 'files': ['tacker/db/vm/vm_db.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/tests/functional/base.py', 'tacker/tests/unit/vm/infra_drivers/heat/test_heat.py', 'tacker/vm/infra_drivers/noop.py', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/vm/test_plugin.py', 'tacker/tests/unit/services/vm/test_servicevm_extension.py', 'tacker/vm/plugin.py', 'tacker/db/migration/alembic_migrations/versions/25123908e3d0_change_instance_id_to_stack_id_in_.py', 'tacker/vm/monitor.py', 'tacker/tests/unit/db/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9b14448dda4d9ade39082943f422deaacb347256', 'message': 'Change instance id to stack id in devices db\n\ninstance_id in devices DB actually reflects id of the heat stack created.\nChanging it to stack_id to increase code readability and avoid confusion with\nNova VM.\n\nChange-Id: I81b57bd23a0eec21b63ad49de9a5fc20d78da28d\nCloses-bug: #1602654\n'}]",0,350084,9b14448dda4d9ade39082943f422deaacb347256,8,3,2,20866,,,0,"Change instance id to stack id in devices db

instance_id in devices DB actually reflects id of the heat stack created.
Changing it to stack_id to increase code readability and avoid confusion with
Nova VM.

Change-Id: I81b57bd23a0eec21b63ad49de9a5fc20d78da28d
Closes-bug: #1602654
",git fetch https://review.opendev.org/openstack/tacker refs/changes/84/350084/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/vm/vm_db.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/tests/functional/base.py', 'tacker/tests/unit/vm/infra_drivers/heat/test_heat.py', 'tacker/vm/infra_drivers/noop.py', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/vm/test_plugin.py', 'tacker/tests/unit/services/vm/test_servicevm_extension.py', 'tacker/vm/plugin.py', 'tacker/db/migration/alembic_migrations/versions/25123908e3d0_change_instance_id_to_stack_id_in_.py', 'tacker/vm/monitor.py', 'tacker/tests/unit/db/utils.py']",12,8a1ffa0483c4690cf7901be9649e5da816ef99a3,bug/1602654," return {'status': 'PENDING_CREATE', 'stack_id': None, 'name': return {'status': 'PENDING_CREATE', 'stack_id': None, 'name': 'stack_id': None, 'mgmt_url': None, 'service_context': [], return {'status': 'PENDING_CREATE', 'stack_id': None,"," return {'status': 'PENDING_CREATE', 'instance_id': None, 'name': return {'status': 'PENDING_CREATE', 'instance_id': None, 'name': 'instance_id': None, 'mgmt_url': None, 'service_context': [], return {'status': 'PENDING_CREATE', 'instance_id': None,",94,51
openstack%2Fpython-glanceclient~stable%2Fpike~Ibbc3330caf442f5cccd23da4736a85445828072d,openstack/python-glanceclient,stable/pike,Ibbc3330caf442f5cccd23da4736a85445828072d,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-07-28 21:06:50.000000000,2017-08-21 12:33:23.000000000,2017-08-21 12:33:23.000000000,"[{'_account_id': 3}, {'_account_id': 5202}]","[{'number': 1, 'created': '2017-07-28 21:06:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5cc1a8b02488378d57d2433274b2b76a09180f52', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: Ibbc3330caf442f5cccd23da4736a85445828072d\n'}]",0,488768,5cc1a8b02488378d57d2433274b2b76a09180f52,11,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: Ibbc3330caf442f5cccd23da4736a85445828072d
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/68/488768/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5cc1a8b02488378d57d2433274b2b76a09180f52,create-pike, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-tripleo~master~I2e6174595e30807b8dbf883cde2dd351f28641a0,openstack/puppet-tripleo,master,I2e6174595e30807b8dbf883cde2dd351f28641a0,GATE TEST: do not merge,ABANDONED,2017-08-17 13:12:26.000000000,2017-08-21 12:30:42.000000000,,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 8652}]","[{'number': 1, 'created': '2017-08-17 13:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/19d5c61889bfb70744c0a83fc744a95a48823ca9', 'message': 'GATE TEST: do not merge\n\nThis tests if we properly use the local mirrors introduced in\n\nhttps://review.openstack.org/494262 & https://review.openstack.org/494537\n\nChange-Id: I2e6174595e30807b8dbf883cde2dd351f28641a0\nDepends-On: I9f57b825864fc2fed854a7d6c4c6067a9dc45b7d\n'}, {'number': 2, 'created': '2017-08-17 13:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/16332d17366b07e29e39644f426c906c8f0cd891', 'message': 'GATE TEST: do not merge\n\nThis tests if we properly use the local mirrors introduced in\n\nhttps://review.openstack.org/494262 & https://review.openstack.org/494537\n\nChange-Id: I2e6174595e30807b8dbf883cde2dd351f28641a0\nDepends-On: I9f57b825864fc2fed854a7d6c4c6067a9dc45b7d\n'}, {'number': 3, 'created': '2017-08-18 10:12:13.000000000', 'files': ['manifests/profile/base/nova/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b377cdcf6eb0d642593babb1de34935cf76e7c4a', 'message': 'GATE TEST: do not merge\n\nThis tests if we properly use the local mirrors introduced in\n\nhttps://review.openstack.org/494262 & https://review.openstack.org/494537\n\nChange-Id: I2e6174595e30807b8dbf883cde2dd351f28641a0\nDepends-On: I9f57b825864fc2fed854a7d6c4c6067a9dc45b7d\n'}]",0,494538,b377cdcf6eb0d642593babb1de34935cf76e7c4a,19,3,3,8652,,,0,"GATE TEST: do not merge

This tests if we properly use the local mirrors introduced in

https://review.openstack.org/494262 & https://review.openstack.org/494537

Change-Id: I2e6174595e30807b8dbf883cde2dd351f28641a0
Depends-On: I9f57b825864fc2fed854a7d6c4c6067a9dc45b7d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/494538/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/compute.pp'],1,19d5c61889bfb70744c0a83fc744a95a48823ca9,local_mirror,# GATE TEST,,1,0
openstack%2Fopenstack-ansible-memcached_server~stable%2Fnewton~I4eace8b967eb1c639e7645854af58aa11eafffc7,openstack/openstack-ansible-memcached_server,stable/newton,I4eace8b967eb1c639e7645854af58aa11eafffc7,Backport pyOpenSSL bindep change,ABANDONED,2017-08-18 18:12:46.000000000,2017-08-21 12:30:41.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 18:12:46.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/8c3e535cf3d0cc1c79561cbff83bacab75406a28', 'message': 'Backport pyOpenSSL bindep change\n\nChange-Id: I4eace8b967eb1c639e7645854af58aa11eafffc7\n'}]",1,495406,8c3e535cf3d0cc1c79561cbff83bacab75406a28,6,4,1,538,,,0,"Backport pyOpenSSL bindep change

Change-Id: I4eace8b967eb1c639e7645854af58aa11eafffc7
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/06/495406/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8c3e535cf3d0cc1c79561cbff83bacab75406a28,bug/1659954,pyOpenSSL [platform:rpm],python2-pyOpenSSL [platform:rpm],1,1
openstack%2Fpython-glanceclient~stable%2Fpike~I6048611119eb780c7392c458cbf2b295b91830cc,openstack/python-glanceclient,stable/pike,I6048611119eb780c7392c458cbf2b295b91830cc,Updated from global requirements,MERGED,2017-08-11 19:05:03.000000000,2017-08-21 12:29:10.000000000,2017-08-21 12:29:10.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}]","[{'number': 1, 'created': '2017-08-11 19:05:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/192170eda7cb93d18f9f09ab69ea7250b16711d6', 'message': 'Updated from global requirements\n\nChange-Id: I6048611119eb780c7392c458cbf2b295b91830cc\n'}]",0,493177,192170eda7cb93d18f9f09ab69ea7250b16711d6,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I6048611119eb780c7392c458cbf2b295b91830cc
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/77/493177/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,192170eda7cb93d18f9f09ab69ea7250b16711d6,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,2,2
openstack%2Fpython-glanceclient~master~I5205e01980fc00b011a4aa4f9d24f045c375a4c5,openstack/python-glanceclient,master,I5205e01980fc00b011a4aa4f9d24f045c375a4c5,Updated from global requirements,MERGED,2017-08-18 04:51:14.000000000,2017-08-21 12:07:19.000000000,2017-08-21 12:07:19.000000000,"[{'_account_id': 3}, {'_account_id': 5202}]","[{'number': 1, 'created': '2017-08-18 04:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1d9b074fee2e785f82d5e26303ffceb2e7494ce0', 'message': 'Updated from global requirements\n\nChange-Id: I5205e01980fc00b011a4aa4f9d24f045c375a4c5\n'}, {'number': 2, 'created': '2017-08-18 11:41:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/14a96931fe53eb63bbd06b0e2be58008f05e22d3', 'message': 'Updated from global requirements\n\nChange-Id: I5205e01980fc00b011a4aa4f9d24f045c375a4c5\n'}]",0,494894,14a96931fe53eb63bbd06b0e2be58008f05e22d3,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I5205e01980fc00b011a4aa4f9d24f045c375a4c5
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/94/494894/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1d9b074fee2e785f82d5e26303ffceb2e7494ce0,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0,2,2
openstack%2Fnova~master~If0a7af3a958cf3aba95b89b96df5ff6bf252b110,openstack/nova,master,If0a7af3a958cf3aba95b89b96df5ff6bf252b110,Handle addition of new nodes/instances in ironic flavor migration,MERGED,2017-07-27 17:19:26.000000000,2017-08-21 12:06:14.000000000,2017-08-14 13:51:06.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-27 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5f62d290cb96765d8699cad62782b534b8de39b', 'message': ""Handle hash ring rebalancing in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\nhash ring is refreshed.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 2, 'created': '2017-07-27 17:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d3a624e0c397ca5a8ccc14d93ef6efe63d1f89a', 'message': ""Handle hash ring rebalancing in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\nhash ring is refreshed.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 3, 'created': '2017-07-27 20:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a811c6b29ea137d8546da60c0f65cfa113666e6', 'message': ""Handle hash ring rebalancing in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\nhash ring is refreshed.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 4, 'created': '2017-07-28 15:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6141e6d2aa5d9f2672e448b7f2ca40ac66cb1293', 'message': ""Handle hash ring rebalancing in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service are detected.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 5, 'created': '2017-07-28 19:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af3618f59d177bfb0354fed877f6a8b49ace5560', 'message': ""Handle hash ring rebalancing in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service are detected.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 6, 'created': '2017-08-01 21:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e511fd580640c65afcefde6615b26f5b6a4dbd61', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 7, 'created': '2017-08-02 18:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4051e24e8d98ab9fe1a7a24e2e970beea56ef7f6', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 8, 'created': '2017-08-02 19:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a320ffcf755e1702f8bdeaeb2cd94bf6ed38000', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 9, 'created': '2017-08-03 14:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7226c6d98ed5b1ef14f190248ea50dc9a56ff9a8', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 11, 'created': '2017-08-03 19:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/446e5dd0f8d49555b2f256623e75dc628a95771a', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 12, 'created': '2017-08-09 16:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/792317dff7b7ddd42cb2d9fe780f6da6497fc122', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 13, 'created': '2017-08-10 13:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b689b584c318cb429946fca73c151c593dcc5e7d', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 14, 'created': '2017-08-10 20:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf07bd7f61a0f92149a13fb4a87b23636c260706', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 15, 'created': '2017-08-11 11:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18acec2158c6abf3ae54381af0ed0aa380688675', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\nDepends-On: I36bf8d8204b0287a862a354760071ab3bdafbabc\n""}, {'number': 16, 'created': '2017-08-11 11:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37d7f097cd336007311d44eba7ca01592054adfc', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}, {'number': 17, 'created': '2017-08-11 20:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d99cb4a0447d1c5d4a34ff1cdb57dc6ccc4fa80', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n(cherry picked from commit 37d7f097cd336007311d44eba7ca01592054adfc)\n""}, {'number': 18, 'created': '2017-08-11 20:45:50.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3118b91db4b97a689c9a2f25a9554a0ccb29252', 'message': ""Handle addition of new nodes/instances in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\ncache is refreshed, and new nodes for the compute service that have\ninstances are detected. We also need to cover the cases where an\nexisting node has a new instance created on it to ensure that that new\ninstance's flavor is also migrated.\n\nCloses-Bug: #1707021\n\nChange-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110\n""}]",156,487954,c3118b91db4b97a689c9a2f25a9554a0ccb29252,260,25,17,1063,,,0,"Handle addition of new nodes/instances in ironic flavor migration

The original idea for ironic flavor migration was to handle it in
init_host(), so that the code wouldn't run often. But in a situation
like an upgrade with multiple Nova computes handling ironic nodes, this
may not cover all the nodes, so we are moving it to be run whenever the
cache is refreshed, and new nodes for the compute service that have
instances are detected. We also need to cover the cases where an
existing node has a new instance created on it to ensure that that new
instance's flavor is also migrated.

Closes-Bug: #1707021

Change-Id: If0a7af3a958cf3aba95b89b96df5ff6bf252b110
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/487954/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,f5f62d290cb96765d8699cad62782b534b8de39b,bug/1707021," # Since the code we're testing runs in a spawn_n green thread, ensure # that the thread completes. @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') mock_get_uuids_by_host, mock_svc_by_hv): mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] mock_svc_by_hv.return_value = [] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} self.driver._refresh_hash_ring(self.ctx) @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') mock_get_uuids_by_host, mock_svc_by_hv): mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_svc_by_hv.return_value = [] self.driver._refresh_hash_ring(self.ctx) @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') mock_get_by_uuid, mock_get_uuids_by_host, mock_svc_by_hv, mock_warning): mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] mock_svc_by_hv.return_value = [] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} self.driver._refresh_hash_ring(self.ctx) # Verify that the LOG.warning was called correctly @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') @mock.patch.object(objects.Instance, 'get_by_uuid') @mock.patch.object(objects.Instance, 'save') def test_pike_flavor_migration_dupe_instance(self, mock_save, mock_get_by_uuid, mock_get_uuids_by_host, mock_svc_by_hv): node1_uuid = uuidutils.generate_uuid() node2_uuid = uuidutils.generate_uuid() hostname = ""ironic-compute"" fake_flavor1 = objects.Flavor() fake_flavor1.extra_specs = {} fake_flavor2 = objects.Flavor() fake_flavor2.extra_specs = {} inst1 = fake_instance.fake_instance_obj(self.ctx, node=node1_uuid, host=hostname, flavor=fake_flavor1) inst2 = fake_instance.fake_instance_obj(self.ctx, node=node2_uuid, host=hostname, flavor=fake_flavor2) node1 = ironic_utils.get_test_node(uuid=node1_uuid, instance_uuid=inst1.uuid, instance_type_id=1, resource_class=""first"", network_interface=""flat"") node2 = ironic_utils.get_test_node(uuid=node2_uuid, instance_uuid=inst2.uuid, instance_type_id=2, resource_class=""second"", network_interface=""flat"") inst_dict = {inst1.uuid: inst1, inst2.uuid: inst2} mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] mock_svc_by_hv.return_value = [] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} def fake_inst_by_uuid(ctx, uuid, expected_attrs=None): return inst_dict.get(uuid) mock_get_by_uuid.side_effect = fake_inst_by_uuid self.driver._refresh_hash_ring(self.ctx) self.assertEqual(2, mock_get_by_uuid.call_count) # Refresh the hash ring again. The mock for getting an instance by uuid # should not be called again. self.driver._refresh_hash_ring(self.ctx) self.assertEqual(2, mock_get_by_uuid.call_count) @mock.patch.object(ironic_driver.LOG, 'error') def test_ironicclient_bad_response(self, mock_error): self.driver.ironicclient.call = mock.Mock(side_effect=[ [""node1"", ""node2""], Exception()]) result = self.driver._get_node_list() mock_error.assert_not_called() self.assertEqual([""node1"", ""node2""], result) result = self.driver._get_node_list() mock_error.assert_called_once() self.assertEqual([], result) "," # Since the init_host code we're testing runs in a spawn_n green # thread, ensure that the thread completes. @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') mock_refresh_cache): def fake_refresh(): self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_refresh_cache.side_effect = fake_refresh self.driver.init_host(hostname) @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') mock_refresh_cache): def fake_refresh(): self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_refresh_cache.side_effect = fake_refresh self.driver.init_host(hostname) @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') mock_get_by_uuid, mock_refresh_cache, mock_warning): def fake_refresh(): self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_refresh_cache.side_effect = fake_refresh self.driver.init_host(hostname)",99,33
openstack%2Fnova~master~I4ebebcf221dfe29e2aa125f5956aec10108f8fbe,openstack/nova,master,I4ebebcf221dfe29e2aa125f5956aec10108f8fbe,Handle ironicclient failures in Ironic driver,MERGED,2017-07-27 16:01:42.000000000,2017-08-21 12:06:03.000000000,2017-08-08 17:47:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 12356}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-27 16:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3657da6ebc5178e9167038e983e74eec998f24c5', 'message': ""Handle hash ring rebalancing in ironic flavor migration\n\nThe original idea for ironic flavor migration was to handle it in\ninit_host(), so that the code wouldn't run often. But in a situation\nlike an upgrade with multiple Nova computes handling ironic nodes, this\nmay not cover all the nodes, so we are moving it to be run whenever the\nhash ring is refreshed.\n\nAlso, there can be an issue with the ironic client causing a failure\nwhen the ironic service is not available. I've added better handling for\nthat case.\n\nCloses-Bug: #1706772\n\nChange-Id: I4ebebcf221dfe29e2aa125f5956aec10108f8fbe\n""}, {'number': 2, 'created': '2017-07-27 17:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c81df313675ca51afae706c1b920836b9498c04', 'message': ""Handle ironicclient failures in Ironic driver\n\nThe ironic driver uses ironicclient to get the list of nodes from the\nIronic service. If that service is not running, or something otherwise\nprevents the ironicclient's call from succeeding, and unhandled\nexception will occur. This patch adds a generic exception handler for\nthis call, logging an error and continuing.\n\nCloses-Bug: #1706772\n\nChange-Id: I4ebebcf221dfe29e2aa125f5956aec10108f8fbe\n""}, {'number': 3, 'created': '2017-08-03 18:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab876704389042c23974f8bd992d48bf5f0a3a81', 'message': ""Handle ironicclient failures in Ironic driver\n\nThe ironic driver uses ironicclient to get the list of nodes from the\nIronic service. If that service is not running, or something otherwise\nprevents the ironicclient's call from succeeding, and unhandled\nexception will occur. This patch adds a generic exception handler for\nthis call, logging an error and continuing.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nCloses-Bug: #1706772\n\nChange-Id: I4ebebcf221dfe29e2aa125f5956aec10108f8fbe\n""}, {'number': 4, 'created': '2017-08-07 18:26:05.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2d33c3271370358d48553233b41bf9119d834fb', 'message': ""Handle ironicclient failures in Ironic driver\n\nThe ironic driver uses ironicclient to get the list of nodes from the\nIronic service. If that service is not running, or something otherwise\nprevents the ironicclient's call from succeeding, and unhandled\nexception will occur. This patch adds a generic exception handler for\nthis call, logging an error and continuing.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nCloses-Bug: #1706772\n\nChange-Id: I4ebebcf221dfe29e2aa125f5956aec10108f8fbe\n""}]",8,487925,c2d33c3271370358d48553233b41bf9119d834fb,57,18,4,1063,,,0,"Handle ironicclient failures in Ironic driver

The ironic driver uses ironicclient to get the list of nodes from the
Ironic service. If that service is not running, or something otherwise
prevents the ironicclient's call from succeeding, and unhandled
exception will occur. This patch adds a generic exception handler for
this call, logging an error and continuing.

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>

Closes-Bug: #1706772

Change-Id: I4ebebcf221dfe29e2aa125f5956aec10108f8fbe
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/487925/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,3657da6ebc5178e9167038e983e74eec998f24c5,bug/1706772," @mock.patch.object(ironic_driver.LOG, 'error') def test_ironicclient_bad_response(self, mock_error): hold_call = self.driver.ironicclient.call self.driver.ironicclient.call = mock.Mock(side_effect=[ [""node1"", ""node2""], Exception()]) result = self.driver._get_node_list() mock_error.assert_not_called() self.assertEqual([""node1"", ""node2""], result) result = self.driver._get_node_list() mock_error.assert_called_once() self.assertEqual([], result) self.driver.ironicclient.call = hold_call # Since the code we're testing runs in a spawn_n green thread, ensure # that the thread completes. @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') mock_get_uuids_by_host, mock_svc_by_hv): mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] mock_svc_by_hv.return_value = [] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} self.driver._refresh_hash_ring(self.ctx) @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') mock_get_uuids_by_host, mock_svc_by_hv): mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_svc_by_hv.return_value = [] self.driver._refresh_hash_ring(self.ctx) @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') mock_get_by_uuid, mock_get_uuids_by_host, mock_svc_by_hv, mock_warning): mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] mock_svc_by_hv.return_value = [] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} self.driver._refresh_hash_ring(self.ctx) # Verify that the LOG.warning was called correctly @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') @mock.patch.object(objects.Instance, 'get_by_uuid') @mock.patch.object(objects.Instance, 'save') def test_pike_flavor_migration_dupe_instance(self, mock_save, mock_get_by_uuid, mock_get_uuids_by_host, mock_svc_by_hv): node1_uuid = uuidutils.generate_uuid() node2_uuid = uuidutils.generate_uuid() hostname = ""ironic-compute"" fake_flavor1 = objects.Flavor() fake_flavor1.extra_specs = {} fake_flavor2 = objects.Flavor() fake_flavor2.extra_specs = {} inst1 = fake_instance.fake_instance_obj(self.ctx, node=node1_uuid, host=hostname, flavor=fake_flavor1) inst2 = fake_instance.fake_instance_obj(self.ctx, node=node2_uuid, host=hostname, flavor=fake_flavor2) node1 = ironic_utils.get_test_node(uuid=node1_uuid, instance_uuid=inst1.uuid, instance_type_id=1, resource_class=""first"", network_interface=""flat"") node2 = ironic_utils.get_test_node(uuid=node2_uuid, instance_uuid=inst2.uuid, instance_type_id=2, resource_class=""second"", network_interface=""flat"") inst_dict = {inst1.uuid: inst1, inst2.uuid: inst2} mock_get_uuids_by_host.return_value = [inst1.uuid, inst2.uuid] mock_svc_by_hv.return_value = [] self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} def fake_inst_by_uuid(ctx, uuid, expected_attrs=None): return inst_dict.get(uuid) mock_get_by_uuid.side_effect = fake_inst_by_uuid self.driver._refresh_hash_ring(self.ctx) self.assertEqual(2, mock_get_by_uuid.call_count) # Refresh the hash ring again. The mock for getting an instance by uuid # should not be called again. self.driver._refresh_hash_ring(self.ctx) self.assertEqual(2, mock_get_by_uuid.call_count) @mock.patch.object(ironic_driver.LOG, 'error') def test_ironicclient_bad_response(self, mock_error): self.driver.ironicclient.call = mock.Mock(side_effect=[ [""node1"", ""node2""], Exception()]) result = self.driver._get_node_list() mock_error.assert_not_called() self.assertEqual([""node1"", ""node2""], result) result = self.driver._get_node_list() mock_error.assert_called_once() self.assertEqual([], result) "," # Since the init_host code we're testing runs in a spawn_n green # thread, ensure that the thread completes. @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') mock_refresh_cache): def fake_refresh(): self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_refresh_cache.side_effect = fake_refresh self.driver.init_host(hostname) @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') mock_refresh_cache): def fake_refresh(): self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_refresh_cache.side_effect = fake_refresh self.driver.init_host(hostname) @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') mock_get_by_uuid, mock_refresh_cache, mock_warning): def fake_refresh(): self.driver.node_cache = {node1_uuid: node1, node2_uuid: node2} mock_refresh_cache.side_effect = fake_refresh self.driver.init_host(hostname)",117,33
openstack%2Fnova~master~I8c41e88281aaf4250859622142a2f03f4452e1be,openstack/nova,master,I8c41e88281aaf4250859622142a2f03f4452e1be,tools/xenserver: Remove 'cleanup_sm_locks',MERGED,2017-01-04 11:11:38.000000000,2017-08-21 12:05:31.000000000,2017-08-07 21:31:55.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 6735}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17922}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-04 11:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb1a248c63da7925f175c5ac771deaf5b2fe9578', 'message': ""tools/xenserver: Remove 'cleanup_sm_locks'\n\nXenServer 6.0 has long since been replaced and the bug was fixed in 6.1\n[1]. No need to keep this legacy script around.\n\n[1] https://bugs.launchpad.net/nova/+bug/1103158/comments/1\n\nChange-Id: I8c41e88281aaf4250859622142a2f03f4452e1be\n""}, {'number': 2, 'created': '2017-05-04 10:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f85e822a084f24e536993388ed2eee5ffd15ec67', 'message': ""tools/xenserver: Remove 'cleanup_sm_locks'\n\nXenServer 6.0 has long since been replaced and the bug was fixed in 6.1\n[1]. No need to keep this legacy script around.\n\n[1] https://bugs.launchpad.net/nova/+bug/1103158/comments/1\n\nChange-Id: I8c41e88281aaf4250859622142a2f03f4452e1be\n""}, {'number': 3, 'created': '2017-08-07 12:26:53.000000000', 'files': ['tools/xenserver/cleanup_sm_locks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21d5dfacb46ad80b6af63fb0ae4a2c55f02d7026', 'message': ""tools/xenserver: Remove 'cleanup_sm_locks'\n\nXenServer 6.0 has long since been replaced and the bug was fixed in 6.1\n[1]. No need to keep this legacy script around.\n\n[1] https://bugs.launchpad.net/nova/+bug/1103158/comments/1\n\nChange-Id: I8c41e88281aaf4250859622142a2f03f4452e1be\n""}]",0,416520,21d5dfacb46ad80b6af63fb0ae4a2c55f02d7026,36,17,3,15334,,,0,"tools/xenserver: Remove 'cleanup_sm_locks'

XenServer 6.0 has long since been replaced and the bug was fixed in 6.1
[1]. No need to keep this legacy script around.

[1] https://bugs.launchpad.net/nova/+bug/1103158/comments/1

Change-Id: I8c41e88281aaf4250859622142a2f03f4452e1be
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/416520/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/xenserver/cleanup_sm_locks.py'],1,cb1a248c63da7925f175c5ac771deaf5b2fe9578,trivial,,"#!/usr/bin/env python # Copyright 2013 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """""" Script to cleanup old XenServer /var/lock/sm locks. XenServer 5.6 and 6.0 do not appear to always cleanup locks when using a FileSR. ext3 has a limit of 32K inode links, so when we have 32K-2 (31998) locks laying around, builds will begin to fail because we can't create any additional locks. This cleanup script is something we can run periodically as a stop-gap measure until this is fixed upstream. This script should be run on the dom0 of the affected machine. """""" import errno import optparse import os import sys import time BASE = '/var/lock/sm' def _get_age_days(secs): return float(time.time() - secs) / 86400 def _parse_args(): parser = optparse.OptionParser() parser.add_option(""-d"", ""--dry-run"", action=""store_true"", dest=""dry_run"", default=False, help=""don't actually remove locks"") parser.add_option(""-l"", ""--limit"", action=""store"", type='int', dest=""limit"", default=sys.maxint, help=""max number of locks to delete (default: no limit)"") parser.add_option(""-v"", ""--verbose"", action=""store_true"", dest=""verbose"", default=False, help=""don't print status messages to stdout"") options, args = parser.parse_args() try: days_old = int(args[0]) except (IndexError, ValueError): parser.print_help() sys.exit(1) return options, days_old def main(): options, days_old = _parse_args() if not os.path.exists(BASE): sys.stderr.write(""error: '%s' doesn't exist. Make sure you're""\ "" running this on the dom0."" % BASE) sys.exit(1) lockpaths_removed = 0 nspaths_removed = 0 for nsname in os.listdir(BASE)[:options.limit]: nspath = os.path.join(BASE, nsname) if not os.path.isdir(nspath): continue # Remove old lockfiles removed = 0 locknames = os.listdir(nspath) for lockname in locknames: lockpath = os.path.join(nspath, lockname) lock_age_days = _get_age_days(os.path.getmtime(lockpath)) if lock_age_days > days_old: lockpaths_removed += 1 removed += 1 if options.verbose: print('Removing old lock: %03d %s' % (lock_age_days, lockpath)) if not options.dry_run: os.unlink(lockpath) # Remove empty namespace paths if len(locknames) == removed: nspaths_removed += 1 if options.verbose: print('Removing empty namespace: %s' % nspath) if not options.dry_run: try: os.rmdir(nspath) except OSError, e: if e.errno == errno.ENOTEMPTY: sys.stderr.write(""warning: directory '%s'""\ "" not empty"" % nspath) else: raise if options.dry_run: print(""** Dry Run **"") print(""Total locks removed: %d"" % lockpaths_removed) print(""Total namespaces removed: %d"" % nspaths_removed) if __name__ == '__main__': main() ",0,123
openstack%2Fnova~master~If5235c47b8d4372e7e1b88f456391c012c843605,openstack/nova,master,If5235c47b8d4372e7e1b88f456391c012c843605,Show quota detail when inject file quota exceeds,MERGED,2017-04-04 07:17:25.000000000,2017-08-21 12:05:24.000000000,2017-08-17 21:34:16.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 7400}, {'_account_id': 8119}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16929}, {'_account_id': 20040}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-04-04 07:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03ab089bfd4c94b0afb184ba2b43caadfc7f8997', 'message': 'Show quota detail when inject file quota exceeds\n\nProvide quota info when:\n1) inject file path is too long\n2) inject file content is too long\n\nChange-Id: If5235c47b8d4372e7e1b88f456391c012c843605\nCloses-Bug: #1668163\n'}, {'number': 2, 'created': '2017-08-01 10:45:58.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/34242dbdbfdf3a24f77b10745672a78dcfc23858', 'message': 'Show quota detail when inject file quota exceeds\n\nProvide quota info when:\n1) inject file path is too long\n2) inject file content is too long\n\nChange-Id: If5235c47b8d4372e7e1b88f456391c012c843605\nCloses-Bug: #1668163\n'}]",1,453040,34242dbdbfdf3a24f77b10745672a78dcfc23858,54,23,2,22501,,,0,"Show quota detail when inject file quota exceeds

Provide quota info when:
1) inject file path is too long
2) inject file content is too long

Change-Id: If5235c47b8d4372e7e1b88f456391c012c843605
Closes-Bug: #1668163
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/453040/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",3,03ab089bfd4c94b0afb184ba2b43caadfc7f8997,bug/1668163, raise exception.OnsetFilePathLimitExceeded( allowed=exc.kwargs['quotas']['injected_file_path_bytes']) else: raise exception.OnsetFileContentLimitExceeded( allowed=exc.kwargs['quotas']['injected_file_content_bytes']), raise exception.OnsetFilePathLimitExceeded() else: raise exception.OnsetFileContentLimitExceeded(),10,6
openstack%2Fnova~master~I934a1693cbfd539d8575d022519510d19d13aaab,openstack/nova,master,I934a1693cbfd539d8575d022519510d19d13aaab,deprecate ``wsgi_log_format`` config variable,MERGED,2017-07-24 14:01:48.000000000,2017-08-21 12:05:18.000000000,2017-07-27 02:07:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-24 14:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67cc2c635815c27d5cc8ad62b3982aa982963218', 'message': ""deprecate ``wsgi_log_format`` config variable\n\nRunning under a real wsgi environment, such as uwsgi or apache /\nmod_wsgi is prefered now, and there is a different logging solution\nfor that. This was always an eventlet leaky abstraction. So we'll just\ndeprecate this for now, and the code can be removed once eventlet on\nthe API side is removed.\n\nChange-Id: I934a1693cbfd539d8575d022519510d19d13aaab\n""}, {'number': 2, 'created': '2017-07-24 18:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/008d774015d72a5e8aaf84e1712e076777ee18fe', 'message': ""deprecate ``wsgi_log_format`` config variable\n\nRunning under a real wsgi environment, such as uwsgi or apache /\nmod_wsgi is prefered now, and there is a different logging solution\nfor that. This was always an eventlet leaky abstraction. So we'll just\ndeprecate this for now, and the code can be removed once eventlet on\nthe API side is removed.\n\nChange-Id: I934a1693cbfd539d8575d022519510d19d13aaab\n""}, {'number': 3, 'created': '2017-07-25 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfa37374a3ee22bfb3778304cd5e0b0975d57fd9', 'message': ""deprecate ``wsgi_log_format`` config variable\n\nRunning under a real wsgi environment, such as uwsgi or apache /\nmod_wsgi is prefered now, and there is a different logging solution\nfor that. This was always an eventlet leaky abstraction. So we'll just\ndeprecate this for now, and the code can be removed once eventlet on\nthe API side is removed.\n\nChange-Id: I934a1693cbfd539d8575d022519510d19d13aaab\n""}, {'number': 4, 'created': '2017-07-26 13:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba8465e146488a75c92d5c2c2c70424ec4c94aef', 'message': ""deprecate ``wsgi_log_format`` config variable\n\nRunning under a real wsgi environment, such as uwsgi or apache /\nmod_wsgi is prefered now, and there is a different logging solution\nfor that. This was always an eventlet leaky abstraction. So we'll just\ndeprecate this for now, and the code can be removed once eventlet on\nthe API side is removed.\n\nChange-Id: I934a1693cbfd539d8575d022519510d19d13aaab\n""}, {'number': 5, 'created': '2017-07-26 21:15:05.000000000', 'files': ['releasenotes/notes/deprecate_wsgi_log_format-43a10b7a608ea8f3.yaml', 'nova/conf/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27c341c1bf7c44199df49edd63e89cd0c96c094f', 'message': ""deprecate ``wsgi_log_format`` config variable\n\nRunning under a real wsgi environment, such as uwsgi or apache /\nmod_wsgi is preferred now, and there is a different logging solution\nfor that. This was always an eventlet leaky abstraction. So we'll just\ndeprecate this for now, and the code can be removed once eventlet on\nthe API side is removed.\n\nChange-Id: I934a1693cbfd539d8575d022519510d19d13aaab\n""}]",6,486623,27c341c1bf7c44199df49edd63e89cd0c96c094f,79,19,5,2750,,,0,"deprecate ``wsgi_log_format`` config variable

Running under a real wsgi environment, such as uwsgi or apache /
mod_wsgi is preferred now, and there is a different logging solution
for that. This was always an eventlet leaky abstraction. So we'll just
deprecate this for now, and the code can be removed once eventlet on
the API side is removed.

Change-Id: I934a1693cbfd539d8575d022519510d19d13aaab
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/486623/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_wsgi_log_format-43a10b7a608ea8f3.yaml', 'nova/conf/wsgi.py']",2,67cc2c635815c27d5cc8ad62b3982aa982963218,request_log," deprecated_for_removal=True, deprecated_since='16.0.0', deprecated_reason="""""" This option only works when running nova-api under eventlet, and encodes very eventlet specific pieces of information. Starting in Pike the prefered model for running nova-api is under uwsgi or apache mod_wsgi. """""",This option is used for building custom request loglines when running nova-api under eventlet. If used under uwsgi or apache, this option has no effect.",This option is used for building custom request loglines.,17,1
openstack%2Fnova~master~I2fd1e4a95f000da19864e75299afa51527697101,openstack/nova,master,I2fd1e4a95f000da19864e75299afa51527697101,Fix reporting inventory for provisioned nodes in the Ironic driver,MERGED,2017-08-11 11:52:28.000000000,2017-08-21 12:04:49.000000000,2017-08-16 15:23:00.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9542}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11297}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14525}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15907}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18623}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-11 11:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75abf0240ddb4135c52bf6f83562257050536f28', 'message': 'DNM PoC for fixing ironic with resource classes\n\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n'}, {'number': 2, 'created': '2017-08-11 12:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ded2fccca635e4136145153637307dc80cebc4af', 'message': 'DNM PoC for fixing ironic with resource classes\n\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n'}, {'number': 3, 'created': '2017-08-11 12:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f194b3037c6574ebac5653ffc149b26761b365cb', 'message': 'PoC for fixing ironic with resource classes\n\nCloses-Bug: #1710141\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n'}, {'number': 4, 'created': '2017-08-11 14:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8564cb9447e9316473e3e7fe1963d7ece5a1169', 'message': 'Fix reporting inventory for the Ironic driver\n\nCurrently we report the full inventory for available nodes, and an empty\ninventory for nodes that are deployed to or otherwise unavailable.\nReporting an empty inventory for deployed nodes has 2 bad consequences:\n1. Nova tries deleting the inventory for Placement, which fails, because\n   the resources are still in use. This results in nasty warnings.\n2. When adding a resource class to a deployed node, it does not get into\n   inventory, and thus does not get to Placement. It results in an error\n   later one, when the custom resource class is not found.\n\nThis patch fixes that by\n1. Always report the custom resources class, if it is present.\n2. Report VCPUS/memory/disk in exactly the same amount, as was consumed\n   by the instances. This is to prevent Placement from thinking that\n   there are still free resources.\n\nCloses-Bug: #1710141\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n'}, {'number': 5, 'created': '2017-08-14 10:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14249d24f8e34e1debe955f4f4db3e45903063ee', 'message': 'Fix reporting inventory for provisioned nodes in the Ironic driver\n\nCurrently we report the full inventory for available nodes, and an empty\ninventory for nodes that are deployed to or otherwise unavailable.\n\nReporting an empty inventory for deployed nodes has 2 bad consequences:\n1. Nova tries deleting the inventory for Placement, which fails, because\n   the resources are still in use. This results in nasty warnings.\n2. When adding a resource class to a deployed node, it does not get into\n   inventory, and thus does not get to Placement. It results in an error\n   later one, when the custom resource class is not found.\n\nThis patch fixes the latter problem by\n1. Always report the custom resources class for deployed nodes, if present.\n2. Report VCPUS/memory/disk in exactly the same amount, as was consumed\n   by the instances. This is to prevent Placement from thinking that\n   there are still free resources.\n\nAs a side effect, the warnings are no longer shown for deployed nodes.\nThey still appear, however, for nodes during cleaning.\n\nPartial-Bug: #1710141\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n'}, {'number': 6, 'created': '2017-08-15 11:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8286a4d3c98d1f77ca1f69ae33589ca20b16f10', 'message': ""Fix reporting inventory for provisioned nodes in the Ironic driver\n\nCurrently we report the full inventory for available nodes, and an empty\ninventory for nodes that are deployed to or otherwise unavailable.\n\nReporting an empty inventory for deployed nodes has 2 bad consequences:\n1. Nova tries deleting the inventory for Placement, which fails, because\n   the resources are still in use. This results in nasty warnings.\n2. When adding a resource class to a deployed node, it does not get into\n   inventory, and thus does not get to Placement. It results in an error\n   later on, when the custom resource class is not found.\n\nThis patch fixes the latter problem by\n1. Always reporting the custom resource class for deployed nodes, if present.\n2. Reporting VCPUS/memory/disk in exactly the same amount, as it is configured\n   in the ironic node's properties.\n\nAs a side effect, the warnings are no longer shown for deployed nodes.\nThey still appear, however, for nodes during cleaning.\n\nPartial-Bug: #1710141\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n""}, {'number': 7, 'created': '2017-08-15 11:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/724e98d23b51366f547e2e15279483a259c6b31b', 'message': ""Fix reporting inventory for provisioned nodes in the Ironic driver\n\nCurrently we report the full inventory for available nodes, and an empty\ninventory for nodes that are deployed to or otherwise unavailable.\n\nReporting an empty inventory for deployed nodes has 2 bad consequences:\n1. Nova tries deleting the inventory for Placement, which fails, because\n   the resources are still in use. This results in nasty warnings.\n2. When adding a resource class to a deployed node, it does not get into\n   inventory, and thus does not get to Placement. It results in an error\n   later on, when the custom resource class is not found.\n\nThis patch fixes the latter problem by\n1. Always reporting the custom resource class for deployed nodes, if present.\n2. Reporting VCPUS/memory/disk in exactly the same amount, as it is configured\n   in the ironic node's properties.\n\nAs a side effect, the warnings are no longer shown for deployed nodes.\nThey still appear, however, for nodes during cleaning.\n\nPartial-Bug: #1710141\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n""}, {'number': 8, 'created': '2017-08-15 13:05:49.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-inventory-d565c77af83c710d.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ed692bf8c84e0a702536101cd6cb084d33e1c26', 'message': ""Fix reporting inventory for provisioned nodes in the Ironic driver\n\nCurrently we report the full inventory for available nodes, and an empty\ninventory for nodes that are deployed to or otherwise unavailable.\n\nReporting an empty inventory for deployed nodes has 2 bad consequences:\n1. Nova tries deleting the inventory for Placement, which fails, because\n   the resources are still in use. This results in nasty warnings.\n2. When adding a resource class to a deployed node, it does not get into\n   inventory, and thus does not get to Placement. It results in an error\n   later on, when the custom resource class is not found.\n\nThis patch fixes the latter problem by\n1. Always reporting the custom resource class for deployed nodes, if present.\n2. Reporting VCPUS/memory/disk in exactly the same amount, as it is configured\n   in the ironic node's properties.\n\nAs a side effect, the warnings are no longer shown for deployed nodes.\nThey still appear, however, for nodes during cleaning.\n\nPartial-Bug: #1710141\nChange-Id: I2fd1e4a95f000da19864e75299afa51527697101\n""}]",54,492964,9ed692bf8c84e0a702536101cd6cb084d33e1c26,94,24,8,10239,,,0,"Fix reporting inventory for provisioned nodes in the Ironic driver

Currently we report the full inventory for available nodes, and an empty
inventory for nodes that are deployed to or otherwise unavailable.

Reporting an empty inventory for deployed nodes has 2 bad consequences:
1. Nova tries deleting the inventory for Placement, which fails, because
   the resources are still in use. This results in nasty warnings.
2. When adding a resource class to a deployed node, it does not get into
   inventory, and thus does not get to Placement. It results in an error
   later on, when the custom resource class is not found.

This patch fixes the latter problem by
1. Always reporting the custom resource class for deployed nodes, if present.
2. Reporting VCPUS/memory/disk in exactly the same amount, as it is configured
   in the ironic node's properties.

As a side effect, the warnings are no longer shown for deployed nodes.
They still appear, however, for nodes during cleaning.

Partial-Bug: #1710141
Change-Id: I2fd1e4a95f000da19864e75299afa51527697101
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/492964/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,75abf0240ddb4135c52bf6f83562257050536f28,bug/1710141," result = {} else: result = { obj_fields.ResourceClass.VCPU: { 'total': info['vcpus'], 'reserved': 0, 'min_unit': 1, 'max_unit': info['vcpus'], 'step_size': 1, 'allocation_ratio': 1.0, }, obj_fields.ResourceClass.MEMORY_MB: { 'total': info['memory_mb'], 'reserved': 0, 'min_unit': 1, 'max_unit': info['memory_mb'], 'step_size': 1, 'allocation_ratio': 1.0, }, obj_fields.ResourceClass.DISK_GB: { 'total': info['local_gb'], 'reserved': 0, 'min_unit': 1, 'max_unit': info['local_gb'], 'step_size': 1, 'allocation_ratio': 1.0, }, } "," return {} result = { obj_fields.ResourceClass.VCPU: { 'total': info['vcpus'], 'reserved': 0, 'min_unit': 1, 'max_unit': info['vcpus'], 'step_size': 1, 'allocation_ratio': 1.0, }, obj_fields.ResourceClass.MEMORY_MB: { 'total': info['memory_mb'], 'reserved': 0, 'min_unit': 1, 'max_unit': info['memory_mb'], 'step_size': 1, 'allocation_ratio': 1.0, }, obj_fields.ResourceClass.DISK_GB: { 'total': info['local_gb'], 'reserved': 0, 'min_unit': 1, 'max_unit': info['local_gb'], 'step_size': 1, 'allocation_ratio': 1.0, }, }",28,27
openstack%2Fnova~master~I11c2122d08badcd8f21382623b799a269e671b41,openstack/nova,master,I11c2122d08badcd8f21382623b799a269e671b41,Update reno for stable/pike,MERGED,2017-08-11 12:29:25.000000000,2017-08-21 12:04:33.000000000,2017-08-11 15:27:49.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-11 12:29:25.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c318d9b7ac9ceb0b3befdeaf338c7f715e7a8623', 'message': 'Update reno for stable/pike\n\nChange-Id: I11c2122d08badcd8f21382623b799a269e671b41\n'}]",0,492982,c318d9b7ac9ceb0b3befdeaf338c7f715e7a8623,14,4,1,22816,,,0,"Update reno for stable/pike

Change-Id: I11c2122d08badcd8f21382623b799a269e671b41
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/492982/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,c318d9b7ac9ceb0b3befdeaf338c7f715e7a8623,reno-pike, pike,,7,0
openstack%2Fnova~master~I3fd9fe0317bcd1a59c366e60154b095e8df92327,openstack/nova,master,I3fd9fe0317bcd1a59c366e60154b095e8df92327,nova-manage: Deprecate '--version' parameters,MERGED,2017-04-05 17:50:10.000000000,2017-08-21 12:04:14.000000000,2017-08-10 21:02:05.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-04-05 17:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b92bd66acf5477b30f9ec11d380ffaa8dce0e90', 'message': ""nova-manage: Deprecate '--version' parameters\n\nBoth the 'api_db' and 'db' categories / commands define a 'sync'\n(sub)command which takes an optional '--version' parameter. We want to\nstart using 'cliff' in Queens, but that framework does not support\ncommand-level parameters with the exception of '--help' [1]. There\nreally isn't any reason that these should be optional parameters instead\nof positional arguments so that's what we do. We keep aliases for the\nolder commands to ease with the transition, but these raise a deprecated\nwarning and will be removed in the move to cliff.\n\n[1] https://bugs.launchpad.net/python-cliff/+bug/1619708\n\nChange-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}, {'number': 2, 'created': '2017-05-24 09:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dd9498f0898d666e9865453f718824d981ed87c', 'message': ""nova-manage: Deprecate '--version' parameters\n\nBoth the 'api_db' and 'db' categories / commands define a 'sync'\n(sub)command which takes an optional '--version' parameter. We want to\nstart using 'cliff' in Queens, but that framework does not support\ncommand-level parameters with the exception of '--help' [1]. There\nreally isn't any reason that these should be optional parameters instead\nof positional arguments so that's what we do. We keep aliases for the\nolder commands to ease with the transition, but these raise a deprecated\nwarning and will be removed in the move to cliff.\n\n[1] https://bugs.launchpad.net/python-cliff/+bug/1619708\n\nChange-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}, {'number': 3, 'created': '2017-07-04 13:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d29b583b4cb3cd3880a94fb0d9ce6e39560e1078', 'message': ""nova-manage: Deprecate '--version' parameters\n\nBoth the 'api_db' and 'db' categories / commands define a 'sync'\n(sub)command which takes an optional '--version' parameter. We want to\nstart using 'cliff' in Queens, but that framework does not support\ncommand-level parameters with the exception of '--help' [1]. There\nreally isn't any reason that these should be optional parameters instead\nof positional arguments so that's what we do. We keep aliases for the\nolder commands to ease with the transition, but these raise a deprecated\nwarning and will be removed in the move to cliff.\n\n[1] https://bugs.launchpad.net/python-cliff/+bug/1619708\n\nChange-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}, {'number': 4, 'created': '2017-08-03 18:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9133b8e458020ef566e0224d555c43c1432a2fd9', 'message': ""nova-manage: Deprecate '--version' parameters\n\nBoth the 'api_db' and 'db' categories / commands define a 'sync'\n(sub)command which takes an optional '--version' parameter. We want to\nstart using 'cliff' in Queens, but that framework does not support\ncommand-level parameters with the exception of '--help' [1]. If you\nthink of something like the 'ls' command, you can run it without any\narguments and assume a default of the current directory, or you can\nspecify the argument. In the same way, these commands should really be\nusing optional parameters instead of positional arguments. We do this\nand add aliases for the older parameters to ease with the transition.\nThese aliases are deprecated, raise warnings and will be removed in the\nmove to cliff.\n\n[1] https://bugs.launchpad.net/python-cliff/+bug/1619708\n\nChange-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}, {'number': 5, 'created': '2017-08-03 18:43:43.000000000', 'files': ['nova/cmd/common.py', 'nova/cmd/manage.py', 'releasenotes/notes/reworked-nova-manage-db-commands-b958b0a41a4004a6.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/59dd49978c04bb19dd7f56e1e97a2bb75a0da759', 'message': ""nova-manage: Deprecate '--version' parameters\n\nBoth the 'api_db' and 'db' categories / commands define a 'sync'\n(sub)command which takes an optional '--version' parameter. We want to\nstart using 'cliff' in Queens, but that framework does not support\ncommand-level parameters with the exception of '--help' [1]. If you\nthink of something like the 'ls' command, you can run it without any\narguments and assume a default of the current directory, or you can\nspecify the argument. In the same way, these commands should really be\nusing optional parameters instead of positional arguments. We do this\nand add aliases for the older parameters to ease with the transition.\nThese aliases are deprecated, raise warnings and will be removed in the\nmove to cliff.\n\n[1] https://bugs.launchpad.net/python-cliff/+bug/1619708\n\nChange-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}]",11,453808,59dd49978c04bb19dd7f56e1e97a2bb75a0da759,130,23,5,15334,,,0,"nova-manage: Deprecate '--version' parameters

Both the 'api_db' and 'db' categories / commands define a 'sync'
(sub)command which takes an optional '--version' parameter. We want to
start using 'cliff' in Queens, but that framework does not support
command-level parameters with the exception of '--help' [1]. If you
think of something like the 'ls' command, you can run it without any
arguments and assume a default of the current directory, or you can
specify the argument. In the same way, these commands should really be
using optional parameters instead of positional arguments. We do this
and add aliases for the older parameters to ease with the transition.
These aliases are deprecated, raise warnings and will be removed in the
move to cliff.

[1] https://bugs.launchpad.net/python-cliff/+bug/1619708

Change-Id: I3fd9fe0317bcd1a59c366e60154b095e8df92327
Partially-Implements: bp move-nova-cmds-to-cliff
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/453808/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/common.py', 'nova/cmd/manage.py', 'releasenotes/notes/reworked-nova-manage-db-commands-b958b0a41a4004a6.yaml']",3,0b92bd66acf5477b30f9ec11d380ffaa8dce0e90,bp/move-nova-cmds-to-cliff,--- upgrade: - | The ``nova-manage api_db sync`` and ``nova-manage db sync`` commands previously took an optional ``--version`` parameter to determine which version to sync to. For example:: $ nova-manage api_db sync --version some-version This is now an optional parameter. For example:: $ nova-manage api_db sync some-version Aliases are provided but these are marked as deprecated and will be removed in the next release of nova. deprecations: - | The ``--version`` parameters of the ``nova-manage api_db sync`` and ``nova-manage db sync`` commands has been deprecated in favor of positional arguments. ,,56,13
openstack%2Fnova~master~I1da7c375dbb98c125aebabec548280de8d8ed381,openstack/nova,master,I1da7c375dbb98c125aebabec548280de8d8ed381,Add some more cellsv2 doc goodness,MERGED,2017-07-25 19:24:52.000000000,2017-08-21 12:04:00.000000000,2017-08-02 00:57:33.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-25 19:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1494267839e987f164654db7218a4f483d6b2d4', 'message': '[WIP] Add some more cellsv2 doc goodness\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}, {'number': 2, 'created': '2017-07-25 19:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/155e207eabbd3dfd328f6af94997ff562e4a006c', 'message': '[WIP] Add some more cellsv2 doc goodness\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}, {'number': 3, 'created': '2017-07-25 20:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a2055cd42e1a1ac41d0b1800d65bbcb0a4d29ce', 'message': 'Add some more cellsv2 doc goodness\n\nThis adds a fresh cellsv2 overview document that talks about\ndeployment decisions for single and multiple cell environments\nin an attempt to help address confusion about what the service\nlayouts look like in a multi-cell setup.\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}, {'number': 4, 'created': '2017-07-28 17:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249ce0537d97315e4eb5937060fc02d9b2664c60', 'message': 'Add some more cellsv2 doc goodness\n\nThis adds a fresh cellsv2 overview document that talks about\ndeployment decisions for single and multiple cell environments\nin an attempt to help address confusion about what the service\nlayouts look like in a multi-cell setup.\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}, {'number': 5, 'created': '2017-07-28 18:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac1b5f53c9e6285244b5e2094b0f3c5c64894f25', 'message': 'Add some more cellsv2 doc goodness\n\nThis adds a fresh cellsv2 overview document that talks about\ndeployment decisions for single and multiple cell environments\nin an attempt to help address confusion about what the service\nlayouts look like in a multi-cell setup.\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}, {'number': 6, 'created': '2017-08-01 16:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dedcf980a0af3fa8a7037e29f1d6d0ee0283697', 'message': 'Add some more cellsv2 doc goodness\n\nThis adds a fresh cellsv2 overview document that talks about\ndeployment decisions for single and multiple cell environments\nin an attempt to help address confusion about what the service\nlayouts look like in a multi-cell setup.\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}, {'number': 7, 'created': '2017-08-01 16:20:13.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/cells.rst', 'doc/source/user/cellsv2_layout.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c17010448782181bc9197ce78ff90584b307fd3', 'message': 'Add some more cellsv2 doc goodness\n\nThis adds a fresh cellsv2 overview document that talks about\ndeployment decisions for single and multiple cell environments\nin an attempt to help address confusion about what the service\nlayouts look like in a multi-cell setup.\n\nChange-Id: I1da7c375dbb98c125aebabec548280de8d8ed381\n'}]",61,487183,7c17010448782181bc9197ce78ff90584b307fd3,57,15,7,4393,,,0,"Add some more cellsv2 doc goodness

This adds a fresh cellsv2 overview document that talks about
deployment decisions for single and multiple cell environments
in an attempt to help address confusion about what the service
layouts look like in a multi-cell setup.

Change-Id: I1da7c375dbb98c125aebabec548280de8d8ed381
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/487183/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/cellsv2_layout.rst']",2,c1494267839e987f164654db7218a4f483d6b2d4,cells-docs,".. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. =================== Cells Layout (v2) =================== This document describes the layout of a deployment with Cells version 2, including deployment considerations for security and scale. It is focused on code present in Pike and later, and while it is geared towards people who want to have multiple cells for whatever reason, the nature of the cellsv2 support in Nova means that it applies in some way to all deployments. **Note that this does not relate in any way to Cells v1** Concepts ======== A basic Nova system consists of the following components: * The nova-api service which provides the external REST API to users. * The nova-scheduler and nova-placement services which are responsible for tracking resources and deciding which compute node instances should be on. * An ""API database"" that is used primarily by nova-api and nova-scheduler (called *API-level services* below) to track location information about instances, as well as a temporary location for instances being built but not yet scheduled. * The nova-conductor service which offloads long-running tasks for the API service(s), as well as provides insulation all databases for the compute nodes * The nova-compute service which manages the virt driver and hypervisor host. * A ""cell database"" which is used by conductor and compute services, and which houses the majority of the information about instances. * A ""cell0 database"" which is just like the cell database, but contains only instances that failed to be scheduled. * A message queue which allows the services to communicate with each other via RPC. All deployments have at least the above components. Small deployments likely have a single message queue that all services share, and a single database server which hosts the API database and a single cell database. This is considered a ""single-cell deployment"" because it only has one ""real"" cell. The cell0 database mimics a regular cell, but has no compute nodes and is used only as a place to put instances that fail to land on a real compute node (and thus a real cell). The purpose of the cells functionality in nova is specifically to allow larger deployments to shard their many compute nodes into cells, each of which has a database and message queue. The API database is always and only global, but there canbe many cell databases (where the bulk of the instance information lives), each with a portion of the instances for the entire deployment within. All of the nova services use a configuration file, all of which will at a minimum specify a message queue endpoint (i.e. ``[default]/transport_url``). Most of the services also require configuration of database connection information (i.e. ``[database]/connection``). API-level services that need access to the global routing and placement information will also be configured to reach the API database (i.e. ``[api_database]/connection``). .. note:: The pair of ``transport_url`` and ``[database]/connection`` configured for a service defines what cell a service lives in. API-level services need to be able to contact other services in all of the cells. Since they only have one configured ``transport_url`` and ``[database]/connection`` they look up the information for the other cells in the API database, with records called *cell mappings*. .. note:: The API database must have cell mapping records that match the ``transport_url`` and ``[database]/connection`` configuration elements of the lower-level services. Service Layout ============== The services generally have a well-defined communication pattern that dictates their layout in a deployment. In a small/simple scenario, the rules do not have much of an impact as all the services can communicate with each other on a single message bus and in a single cell database. However, as the deployment grows, scaling and security concerns may drive separation and isolation of the services. Simple ------ This is a diagram of the basic services that a simple (single-cell) deployment would have, as well as the relationships (i.e. communication paths) between them: .. graphviz:: digraph services { graph [pad=""0.35"", ranksep=""0.65"", nodesep=""0.55"", concentrate=true]; node [fontsize=10 fontname=""Monospace""]; edge [arrowhead=""normal"", arrowsize=""0.8""]; labelloc=bottom; labeljust=left; { rank=same api [label=""nova-api""] apidb [label=""API Database"" shape=""box""] scheduler [label=""nova-scheduler""] } mq [label=""MQ"" shape=""diamond""] conductor [label=""nova-conductor""] { rank=same celldb [label=""Cell Database"" shape=""box""] compute [label=""nova-compute""] } api -> mq -> conductor api -> mq -> compute conductor -> mq -> scheduler conductor -> mq -> compute api -> apidb api -> celldb conductor -> apidb conductor -> celldb } All of the services are configured to talk to each other over the same message bus, and there is only one cell database where instance data lives. Multiple Cells -------------- In order to shard the services into multiple cells, a number of things must happen. First, the message bus must be split into pieces along the same lines as the cell database. Second, a dedicated conductor must be run for the API-level services, with access to the API database and a dedicated message queue. We call this *super conductor* to distinguish its place and purpose from the per-cell conductor nodes. .. graphviz:: digraph services2 { graph [pad=""0.35"", ranksep=""0.65"", nodesep=""0.55"", concentrate=true]; node [fontsize=10 fontname=""Monospace""]; edge [arrowhead=""normal"", arrowsize=""0.8""]; labelloc=bottom; labeljust=left; subgraph api { api [label=""nova-api""] scheduler [label=""nova-scheduler""] conductor [label=""super conductor""] { rank=same apimq [label=""API MQ"" shape=""diamond""] apidb [label=""API Database"" shape=""box""] } api -> apimq -> conductor api -> apidb conductor -> apimq -> scheduler conductor -> apidb } subgraph clustercell1 { label=""Cell 1"" color=blue mq1 [label=""Cell MQ"" shape=""diamond""] cell1db [label=""Cell Database"" shape=""box""] conductor1 [label=""nova-conductor""] compute1 [label=""nova-compute""] conductor1 -> mq1 -> compute1 conductor1 -> cell1db } subgraph clustercell2 { label=""Cell 2"" color=red mq2 [label=""Cell MQ"" shape=""diamond""] cell2db [label=""Cell Database"" shape=""box""] conductor2 [label=""nova-conductor""] compute2 [label=""nova-compute""] conductor2 -> mq2 -> compute2 conductor2 -> cell2db } api -> mq1 -> conductor1 api -> mq2 -> conductor2 api -> cell1db api -> cell2db conductor -> cell1db conductor -> mq1 conductor -> cell2db conductor -> mq2 } ",,212,0
openstack%2Fnova~master~I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4,openstack/nova,master,I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4,Provide original fault message when BFV fails,MERGED,2017-05-24 18:43:32.000000000,2017-08-21 12:03:46.000000000,2017-07-28 20:43:45.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-05-24 18:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc3fd5c47e8e4c98eeaac245ce51d7819b12c6bb', 'message': 'Provide original fault message when BFV fails\n\nWhen booting from volume and Nova is creating the volume,\nit can fail (timeout, invalid AZ in Cinder, etc) and the\ngeneric Exception handling in _prep_block_device will log\nthe original exception trace but then raise a generic\nInvalidBDM exception, which is handled higher up and converted\nto a BuildAbortException, which is recorded as an instance\nfault, but the original error message is lost from the fault.\n\nIt would be better to include the original exception message that\ntriggered the failure so that goes into the fault for debug.\n\nFor example, this is a different of getting an error like this:\n\n  BuildAbortException: Build of instance\n  9484f5a7-3198-47ff-b728-178515a26277 aborted:\n  Block Device Mapping is Invalid.\n\nTo something more useful like this:\n\n  BuildAbortException: Build of instance\n  9484f5a7-3198-47ff-b728-178515a26277 aborted:\n  Volume da947c97-66c6-4b7e-9ae6-54eb8128bb75 did not finish\n  being created even after we waited 3 seconds or 2 attempts.\n  And its status is error.\n\nChange-Id: I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4\nCloses-Bug: #1693315\n'}, {'number': 2, 'created': '2017-05-24 19:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7412008950e9f39129f24e19ae477b4bb9fe389', 'message': 'Provide original fault message when BFV fails\n\nWhen booting from volume and Nova is creating the volume,\nit can fail (timeout, invalid AZ in Cinder, etc) and the\ngeneric Exception handling in _prep_block_device will log\nthe original exception trace but then raise a generic\nInvalidBDM exception, which is handled higher up and converted\nto a BuildAbortException, which is recorded as an instance\nfault, but the original error message is lost from the fault.\n\nIt would be better to include the original exception message that\ntriggered the failure so that goes into the fault for debug.\n\nFor example, this is a difference of getting an error like this:\n\n  BuildAbortException: Build of instance\n  9484f5a7-3198-47ff-b728-178515a26277 aborted:\n  Block Device Mapping is Invalid.\n\nTo something more useful like this:\n\n  BuildAbortException: Build of instance\n  9484f5a7-3198-47ff-b728-178515a26277 aborted:\n  Volume da947c97-66c6-4b7e-9ae6-54eb8128bb75 did not finish\n  being created even after we waited 3 seconds or 2 attempts.\n  And its status is error.\n\nChange-Id: I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4\nCloses-Bug: #1693315\n'}, {'number': 3, 'created': '2017-06-15 15:47:39.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20c4715a49a44c642882618f102cd0fc9342978d', 'message': 'Provide original fault message when BFV fails\n\nWhen booting from volume and Nova is creating the volume,\nit can fail (timeout, invalid AZ in Cinder, etc) and the\ngeneric Exception handling in _prep_block_device will log\nthe original exception trace but then raise a generic\nInvalidBDM exception, which is handled higher up and converted\nto a BuildAbortException, which is recorded as an instance\nfault, but the original error message is lost from the fault.\n\nIt would be better to include the original exception message that\ntriggered the failure so that goes into the fault for debug.\n\nFor example, this is a difference of getting an error like this:\n\n  BuildAbortException: Build of instance\n  9484f5a7-3198-47ff-b728-178515a26277 aborted:\n  Block Device Mapping is Invalid.\n\nTo something more useful like this:\n\n  BuildAbortException: Build of instance\n  9484f5a7-3198-47ff-b728-178515a26277 aborted:\n  Volume da947c97-66c6-4b7e-9ae6-54eb8128bb75 did not finish\n  being created even after we waited 3 seconds or 2 attempts.\n  And its status is error.\n\nChange-Id: I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4\nCloses-Bug: #1693315\n'}]",3,467715,20c4715a49a44c642882618f102cd0fc9342978d,48,14,3,6873,,,0,"Provide original fault message when BFV fails

When booting from volume and Nova is creating the volume,
it can fail (timeout, invalid AZ in Cinder, etc) and the
generic Exception handling in _prep_block_device will log
the original exception trace but then raise a generic
InvalidBDM exception, which is handled higher up and converted
to a BuildAbortException, which is recorded as an instance
fault, but the original error message is lost from the fault.

It would be better to include the original exception message that
triggered the failure so that goes into the fault for debug.

For example, this is a difference of getting an error like this:

  BuildAbortException: Build of instance
  9484f5a7-3198-47ff-b728-178515a26277 aborted:
  Block Device Mapping is Invalid.

To something more useful like this:

  BuildAbortException: Build of instance
  9484f5a7-3198-47ff-b728-178515a26277 aborted:
  Volume da947c97-66c6-4b7e-9ae6-54eb8128bb75 did not finish
  being created even after we waited 3 seconds or 2 attempts.
  And its status is error.

Change-Id: I20a5e8e5e10dd505c1b24c208f919c6550e9d1a4
Closes-Bug: #1693315
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/467715/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,bc3fd5c47e8e4c98eeaac245ce51d7819b12c6bb,bug/1693315," except Exception as ex: # InvalidBDM will eventually result in a BuildAbortException when # booting from volume, and will be recorded as an instance fault. # Maintain the original exception message which most likely has # useful details which the standard InvalidBDM error message lacks. raise exception.InvalidBDM(six.text_type(ex))", except Exception: raise exception.InvalidBDM(),29,2
openstack%2Fnova~master~Iacf0a94296dbd44d0f30650003b732baccd3728b,openstack/nova,master,Iacf0a94296dbd44d0f30650003b732baccd3728b,Add oslo_concurrency=INFO to default log levels for nova-manage,MERGED,2017-07-25 19:07:13.000000000,2017-08-21 12:03:39.000000000,2017-07-31 14:04:38.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-25 19:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50f84ef8e345013566b9523fe713bf346a5b7e56', 'message': 'Add oslo_concurrency=INFO to default log levels for nova-manage\n\nWe currently get oslo_concurrency logging at DEBUG level which\nis gratuitous, so this changes the default to INFO.\n\nChange-Id: Iacf0a94296dbd44d0f30650003b732baccd3728b\n'}, {'number': 2, 'created': '2017-07-27 15:18:06.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc4f842caccec7641da910bb615cc64cff80d861', 'message': 'Add oslo_concurrency=INFO to default log levels for nova-manage\n\nWe currently get oslo_concurrency logging at DEBUG level which\nis gratuitous, so this changes the default to INFO.\n\nCloses-Bug: #1707001\n\nChange-Id: Iacf0a94296dbd44d0f30650003b732baccd3728b\n'}]",0,487179,bc4f842caccec7641da910bb615cc64cff80d861,39,18,2,6873,,,0,"Add oslo_concurrency=INFO to default log levels for nova-manage

We currently get oslo_concurrency logging at DEBUG level which
is gratuitous, so this changes the default to INFO.

Closes-Bug: #1707001

Change-Id: Iacf0a94296dbd44d0f30650003b732baccd3728b
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/487179/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,50f84ef8e345013566b9523fe713bf346a5b7e56,oslo.concurrency-info,"# Keep this list sorted and one entry per line for readability. _EXTRA_DEFAULT_LOG_LEVELS = ['oslo_concurrency=INFO', 'oslo_db=INFO', 'oslo_policy=INFO']","_EXTRA_DEFAULT_LOG_LEVELS = ['oslo_db=INFO', 'oslo_policy=INFO']",4,1
openstack%2Fnova~master~I17bf421a7eb2ec9ff7e94704889ea22bebfa980b,openstack/nova,master,I17bf421a7eb2ec9ff7e94704889ea22bebfa980b,add cli to support matrix,MERGED,2017-07-07 08:26:48.000000000,2017-08-21 12:03:32.000000000,2017-08-10 00:51:03.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 20382}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-07 08:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29c2cfabc40d7a6928a4cce9df59b4710d1b00cb', 'message': 'add cli to support matrix\n\nnova console-log is supported in novaclient from nova\nAPI 2.1 (2.0) and nova trigger-crash-dump was added for\nAPI 2.17 (commit 6cbb22583b94660cfd78d8ee0068778d5279ceca)\nso we can add those cli for user reference.\n\nChange-Id: I17bf421a7eb2ec9ff7e94704889ea22bebfa980b\n'}, {'number': 2, 'created': '2017-07-27 06:29:04.000000000', 'files': ['doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc9f4692ed479f5b71564d8760490d5384fff4cb', 'message': 'add cli to support matrix\n\nnova console-log is supported in novaclient from nova\nAPI 2.1 (2.0) and nova trigger-crash-dump was added for\nAPI 2.17 (commit 6cbb22583b94660cfd78d8ee0068778d5279ceca)\nso we can add those cli for user reference.\n\nChange-Id: I17bf421a7eb2ec9ff7e94704889ea22bebfa980b\n'}]",0,481498,bc9f4692ed479f5b71564d8760490d5384fff4cb,26,10,2,6062,,,0,"add cli to support matrix

nova console-log is supported in novaclient from nova
API 2.1 (2.0) and nova trigger-crash-dump was added for
API 2.17 (commit 6cbb22583b94660cfd78d8ee0068778d5279ceca)
so we can add those cli for user reference.

Change-Id: I17bf421a7eb2ec9ff7e94704889ea22bebfa980b
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/481498/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/support-matrix.ini'],1,29c2cfabc40d7a6928a4cce9df59b4710d1b00cb,add_cli_support_matrix,cli=nova trigger-crash-dump <server>cli=nova console-log <server>,cli=cli=,2,2
openstack%2Fnova~master~Idda59f3cf870479b5ca6ea3ab4516306d8e0075d,openstack/nova,master,Idda59f3cf870479b5ca6ea3ab4516306d8e0075d,Updated from global requirements,MERGED,2017-08-18 04:47:12.000000000,2017-08-21 12:03:14.000000000,2017-08-18 23:55:11.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-18 04:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/324a6fe9ace646ee530490cee08375b8c63e661e', 'message': 'Updated from global requirements\n\nChange-Id: Idda59f3cf870479b5ca6ea3ab4516306d8e0075d\n'}, {'number': 2, 'created': '2017-08-18 11:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c10cd818cd0871b2f92ee0e10e29db24db2dc6f9', 'message': 'Updated from global requirements\n\nChange-Id: Idda59f3cf870479b5ca6ea3ab4516306d8e0075d\n'}, {'number': 3, 'created': '2017-08-18 15:53:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/d48ba9873a381a165d86f1dfebf7ea6ed4e073fe', 'message': 'Updated from global requirements\n\nChange-Id: Idda59f3cf870479b5ca6ea3ab4516306d8e0075d\n'}]",0,494859,d48ba9873a381a165d86f1dfebf7ea6ed4e073fe,44,15,3,11131,,,0,"Updated from global requirements

Change-Id: Idda59f3cf870479b5ca6ea3ab4516306d8e0075d
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/494859/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,324a6fe9ace646ee530490cee08375b8c63e661e,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0,3,3
openstack%2Fnova~master~Idd1b58b85329b8e021eba4bc27f577af1b3338f4,openstack/nova,master,Idd1b58b85329b8e021eba4bc27f577af1b3338f4,Remove host filter for _cleanup_running_deleted_instances periodic task,MERGED,2017-08-08 13:38:09.000000000,2017-08-21 12:03:01.000000000,2017-08-17 22:27:17.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11975}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20676}, {'_account_id': 24680}, {'_account_id': 24791}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 13:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fa76cae42b8ab7122eed5de120a41b56b473590', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #12850\n""}, {'number': 2, 'created': '2017-08-08 13:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93d8dd0e33ce820ac8e82d67d86eadc826db9847', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 3, 'created': '2017-08-08 13:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/779b58229eec970f6e78212a37135589e753ec6e', 'message': ""Remove host filter for _cleanup_running_deleted_instances() periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 4, 'created': '2017-08-09 07:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f99c7c02c440aecddeb46aebdb9fe39cc4331d54', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 5, 'created': '2017-08-09 13:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69001875ff39a4d222c16c262afdab40837bd358', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 6, 'created': '2017-08-09 14:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46cef77eb82e544ad1e4e6126579f1066ab1311a', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 7, 'created': '2017-08-16 06:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/205e8fc756c3d5ac0e61da7364811ff6e588d609', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 8, 'created': '2017-08-16 10:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c16719aab38a7c56c34781aeec97da5906a0c315', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 9, 'created': '2017-08-16 13:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/739c224426c362ee6beb9941241b85669c30ce7c', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 10, 'created': '2017-08-16 13:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6cd2460d3ec6c32aee4621edbd57a6682f23e03', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}, {'number': 11, 'created': '2017-08-17 15:04:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aba3f649323d328f8122d372dea38256dfed6a52', 'message': ""Remove host filter for _cleanup_running_deleted_instances periodic task\n\nPeriodic task _cleanup_running_deleted_instances() looks for orphaned\nand running instances on hypervisor that should be deleted.\nThe problem is it checks if running instance has the same\nhypervisor defined as it is in nova database.\n\nIn bug #1285000 it has been found that removing instance during\nits migration could lead to abandon instance files on destination\nhost.\n\nThis change removes host filter in _running_deleted_instances() to\nfind also orphaned instances that are running on 'post migration'\ndestination host.\n\nChange-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4\nPartial-Bug: #1285000\n""}]",15,491808,aba3f649323d328f8122d372dea38256dfed6a52,122,30,11,24791,,,0,"Remove host filter for _cleanup_running_deleted_instances periodic task

Periodic task _cleanup_running_deleted_instances() looks for orphaned
and running instances on hypervisor that should be deleted.
The problem is it checks if running instance has the same
hypervisor defined as it is in nova database.

In bug #1285000 it has been found that removing instance during
its migration could lead to abandon instance files on destination
host.

This change removes host filter in _running_deleted_instances() to
find also orphaned instances that are running on 'post migration'
destination host.

Change-Id: Idd1b58b85329b8e021eba4bc27f577af1b3338f4
Partial-Bug: #1285000
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/491808/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",2,5fa76cae42b8ab7122eed5de120a41b56b473590,bug/1285000, 'soft_deleted': False}," 'soft_deleted': False, 'host': self.host}",6,12
openstack%2Fnova~master~I7464e085c8c688d85cdce5aaddcf3bf2e04498ab,openstack/nova,master,I7464e085c8c688d85cdce5aaddcf3bf2e04498ab,Always use application/json accept header in report client,MERGED,2017-08-01 22:41:29.000000000,2017-08-21 12:02:37.000000000,2017-08-14 22:56:36.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-01 22:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4306d6202ebd3ea319ea4dfe586d532f46701023', 'message': ""WIP Always use application/json accept header in report client\n\nAlways send 'accept: application/json' header when the scheduler\nreport client talks to placement.\n\nSetting accept ensures that if there are error responses, they will be\nformatted as JSON, not HTML. Without the accept header, webob will\nchoose to send what it thinks is a reasonable default.\n\nA WIP because I'm too tired to do tests right now, but I'm curious to\nsee how/what this will break.\n\nChange-Id: I7464e085c8c688d85cdce5aaddcf3bf2e04498ab\nCloses-Bug: #1708037\n""}, {'number': 2, 'created': '2017-08-02 11:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/235a76e2662a602a58786cba21619eb3345f6bf6', 'message': ""Always use application/json accept header in report client\n\nAlways send 'accept: application/json' header when the scheduler\nreport client talks to placement.\n\nSetting accept ensures that if there are error responses, they will be\nformatted as JSON, not HTML. Without the accept header, webob will\nchoose to send what it thinks is a reasonable default.\n\nChange-Id: I7464e085c8c688d85cdce5aaddcf3bf2e04498ab\nCloses-Bug: #1708037\n""}, {'number': 3, 'created': '2017-08-14 19:03:45.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5905eb7f48a86dcac5a810d318f1d4dae9138286', 'message': ""Always use application/json accept header in report client\n\nAlways send 'accept: application/json' header when the scheduler\nreport client talks to placement.\n\nSetting accept ensures that if there are error responses, they will be\nformatted as JSON, not HTML. Without the accept header, webob will\nchoose to send what it thinks is a reasonable default.\n\nChange-Id: I7464e085c8c688d85cdce5aaddcf3bf2e04498ab\nCloses-Bug: #1708037\n""}]",1,489772,5905eb7f48a86dcac5a810d318f1d4dae9138286,69,19,3,11564,,,0,"Always use application/json accept header in report client

Always send 'accept: application/json' header when the scheduler
report client talks to placement.

Setting accept ensures that if there are error responses, they will be
formatted as JSON, not HTML. Without the accept header, webob will
choose to send what it thinks is a reasonable default.

Change-Id: I7464e085c8c688d85cdce5aaddcf3bf2e04498ab
Closes-Bug: #1708037
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/489772/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,4306d6202ebd3ea319ea4dfe586d532f46701023,bug/1708037," # Set content-type and accept on every request to ensure we notify # placement service of our request and response body media type # preferences. CONF, 'placement', auth=auth_plugin, additional_headers={'accept': 'application/json'}) "," CONF, 'placement', auth=auth_plugin)",6,1
openstack%2Fnova~master~Ib0ffe3e9702fd39914b2025096667e699bc432a0,openstack/nova,master,Ib0ffe3e9702fd39914b2025096667e699bc432a0,doc: address review comments in stable-api guide updates,MERGED,2017-08-10 21:12:38.000000000,2017-08-21 12:02:24.000000000,2017-08-14 08:02:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 15941}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-10 21:12:38.000000000', 'files': ['doc/source/reference/stable-api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/430af62aa3a38c3de0da45e78fb936314036f6e8', 'message': 'doc: address review comments in stable-api guide updates\n\nThis addresses review comments made in change\nI6522100a78241400b1ea059a39a32c259fe6ab90 which\nupdated the stable API docs.\n\nChange-Id: Ib0ffe3e9702fd39914b2025096667e699bc432a0\n'}]",0,492690,430af62aa3a38c3de0da45e78fb936314036f6e8,15,6,1,6873,,,0,"doc: address review comments in stable-api guide updates

This addresses review comments made in change
I6522100a78241400b1ea059a39a32c259fe6ab90 which
updated the stable API docs.

Change-Id: Ib0ffe3e9702fd39914b2025096667e699bc432a0
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/492690/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/stable-api.rst'],1,430af62aa3a38c3de0da45e78fb936314036f6e8,doc,"evolved the REST API's implementation over time and removed some of theincludes `Microversion <https://developer.openstack.org/api-guide/compute/microversions.html>`_ and standardized validation of inputs using JSON-Schema.Nova used to have v2 API. In v2 API, there was a concept called 'extension'.In the Newton release, stevedore loading of API extension plugins was deprecated and marked for removal. In the Newton release, v2 API code base has been removed and /v2 endpoints wereIn the Kilo release, nova v2.1 API has been released. v2.1 APIIn the Newton release, config options of blacklist and whitelist extensions andIn Pike, stevedore based plugin framework has been removed and url mapping is done with plain router list. There is no more dynamic magic of detecting API implementation for url. See :doc:`Extending the API </contributor/api>` for more information.is `deprecated <https://developer.openstack.org/api-ref/compute/#extensions-extensions-deprecated>`_.As of the Pike release, many deprecated things have been removed and became* v2 legacy framework * API extensions concept * stevedore magic to load the extension/plugin dynamically * Configurable way to enable/disable APIs extensions","evolved the REST API's implementation over time and remove some of theincludes Microversion and standardized validation of inputs using JSON-Schema.Nova use to have v2 API. In v2 API, there was a concept called 'extension'.In Newton release, extensions magic was deprecated and marked for removal. In Newton release, v2 API code base has been removed and /v2 endpoints wereIn Kilo release, nova v2.1 API has been released. v2.1 APIIn Newton release, config options of blacklist and whitelist extensions andIn Pike, stevedore based plugin framekwork has been removed and url mapping is done with plain router list. No more dynamic magic of detecting API implementation for url.is deprecated.Till Pike release, many deprecated things have been removed and became* v2 legacy framework. * API extensions concept. * Stevedore magic to load the extension/plugin dynamically. * Configurable way to enable/disable APIs extensions.",19,16
openstack%2Fnova~master~I0692a4fdf9a19889c5d708fb9a6a562c914963f9,openstack/nova,master,I0692a4fdf9a19889c5d708fb9a6a562c914963f9,Add release note for shared storage known issue,MERGED,2017-08-07 19:26:21.000000000,2017-08-21 12:02:11.000000000,2017-08-10 00:48:07.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-07 19:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2077d33e6675dd96e1c7047e12a9b94e489658d3', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}, {'number': 2, 'created': '2017-08-07 19:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f6df8d4a30c94fbfbdf0670ce25fc114fde3ca8', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}, {'number': 3, 'created': '2017-08-07 20:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10acc014ecc286a0f0e027dcb9eb77e5c45ef3b8', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}, {'number': 4, 'created': '2017-08-08 19:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/889ce100dceb50409643ff3bd932b75e8a652b29', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}, {'number': 5, 'created': '2017-08-08 20:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/365f2f283ea10d804033e57555b80fe279b3ec3f', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}, {'number': 6, 'created': '2017-08-09 01:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f3af3a1c950fa2cb4360ab87eec207a3bb11e3a', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}, {'number': 7, 'created': '2017-08-09 15:17:49.000000000', 'files': ['releasenotes/notes/bug-1707256-shared-storage-placement-5f221e124500b999.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d31698d9e97e98f599f6b7ee0f1533677deee97', 'message': ""Add release note for shared storage known issue\n\nDue to the scheduler report client on the compute service\nnot being aware of shared storage providers in Placement\nfor a given compute node, we can't claim support for\nshared storage pool modeling in Pike. This adds a release\nnote to be clear about the lack of that functionality.\n\nChange-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9\nRelated-Bug: #1707256\n""}]",5,491582,0d31698d9e97e98f599f6b7ee0f1533677deee97,61,16,7,6873,,,0,"Add release note for shared storage known issue

Due to the scheduler report client on the compute service
not being aware of shared storage providers in Placement
for a given compute node, we can't claim support for
shared storage pool modeling in Pike. This adds a release
note to be clear about the lack of that functionality.

Change-Id: I0692a4fdf9a19889c5d708fb9a6a562c914963f9
Related-Bug: #1707256
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/491582/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1707256-shared-storage-placement-5f221e124500b999.yaml'],1,2077d33e6675dd96e1c7047e12a9b94e489658d3,bug/1707256,"--- issues: - | Due to `bug 1707256`_, shared storage resource providers are not supported. This means that in the Pike release series, an operator will be unable to model a shared storage pool between two or more compute hosts using the Placement service for scheduling and resource tracking. .. bug 1707256: https://bugs.launchpad.net/nova/+bug/1707256 ",,9,0
openstack%2Fnova~master~Ib817581dfe0c32d3888c242166e3daa7b954320a,openstack/nova,master,Ib817581dfe0c32d3888c242166e3daa7b954320a,Document service layout for consoles with cells,MERGED,2017-08-08 20:32:38.000000000,2017-08-21 12:02:05.000000000,2017-08-09 19:03:41.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-08 20:32:38.000000000', 'files': ['doc/source/user/cellsv2_layout.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/4a3e8ecf3876377d60f364d8cee6d7124c9899b4', 'message': 'Document service layout for consoles with cells\n\nThis adds information about where the consoleauth service and console\nproxies should run with multiple cells in Cells v2.\n\nChange-Id: Ib817581dfe0c32d3888c242166e3daa7b954320a\n'}]",0,491914,4a3e8ecf3876377d60f364d8cee6d7124c9899b4,15,5,1,4690,,,0,"Document service layout for consoles with cells

This adds information about where the consoleauth service and console
proxies should run with multiple cells in Cells v2.

Change-Id: Ib817581dfe0c32d3888c242166e3daa7b954320a
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/491914/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cellsv2_layout.rst'],1,4a3e8ecf3876377d60f364d8cee6d7124c9899b4,doc-consoles-for-cells,"Consoleauth service and console proxies ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The consoleauth service should be global across all cells and thus be configured as an API-level service with access to the ``[api_database]/connection`` information. The various console proxies should also be global across all cells but they don't need access to the API database. Future work will deprecate the consoleauth service, store token authorizations in the cell databases, and require console proxies running per cell instead of globally. ",,13,0
openstack%2Fnova~master~I96e70a950ed04862d512f91211c4cb6fc3fd1159,openstack/nova,master,I96e70a950ed04862d512f91211c4cb6fc3fd1159,Updated from global requirements,MERGED,2017-08-04 12:54:57.000000000,2017-08-21 12:01:45.000000000,2017-08-08 02:17:14.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 23317}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 12:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c23a294175c41c9a48bf88da827571310765671', 'message': 'Updated from global requirements\n\nChange-Id: I96e70a950ed04862d512f91211c4cb6fc3fd1159\n'}, {'number': 2, 'created': '2017-08-04 16:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6637cb7fb2b197d536008b96bf2c115c8f1324d', 'message': 'Updated from global requirements\n\nChange-Id: I96e70a950ed04862d512f91211c4cb6fc3fd1159\n'}, {'number': 3, 'created': '2017-08-07 00:49:25.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/92c4689256631350b0dd5370a575292a1810241c', 'message': 'Updated from global requirements\n\nChange-Id: I96e70a950ed04862d512f91211c4cb6fc3fd1159\n'}]",0,490859,92c4689256631350b0dd5370a575292a1810241c,65,14,3,11131,,,0,"Updated from global requirements

Change-Id: I96e70a950ed04862d512f91211c4cb6fc3fd1159
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/490859/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6c23a294175c41c9a48bf88da827571310765671,openstack/requirements,"python-barbicanclient!=4.5.0,!=4.5.1,>=4.0.0 # Apache-2.0","python-barbicanclient!=4.5.0,>=4.0.0 # Apache-2.0",1,1
openstack%2Fnova~master~I59ada8a4d4c9ff59fe494929510760f397396dc6,openstack/nova,master,I59ada8a4d4c9ff59fe494929510760f397396dc6,Update install guide to clearly define between package installs,MERGED,2017-08-04 12:41:10.000000000,2017-08-21 12:01:39.000000000,2017-08-04 14:26:58.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-04 12:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b70ab27d2923a491454da66492de3523fdfe8ad', 'message': 'Update install guide to clearly define between package installs\n\nChange-Id: I59ada8a4d4c9ff59fe494929510760f397396dc6\n'}, {'number': 2, 'created': '2017-08-04 12:45:57.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/85cd4574b8347d032be2285a277a0abe4d4a6869', 'message': 'Update install guide to clearly define between package installs\n\nChange-Id: I59ada8a4d4c9ff59fe494929510760f397396dc6\n'}]",2,490844,85cd4574b8347d032be2285a277a0abe4d4a6869,17,7,2,10607,,,0,"Update install guide to clearly define between package installs

Change-Id: I59ada8a4d4c9ff59fe494929510760f397396dc6
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/490844/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/compute-install.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst']",8,5b70ab27d2923a491454da66492de3523fdfe8ad,,Install and configure a compute node Red Hat Enterprise Linux and CentOS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,Install and configure a compute node ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,25,18
openstack%2Fnova~master~I21bcd71b21af3108e1b14229f90b5ec07cc8188b,openstack/nova,master,I21bcd71b21af3108e1b14229f90b5ec07cc8188b,Add redirect for api-microversion-history doc,MERGED,2017-08-01 15:44:36.000000000,2017-08-21 12:01:26.000000000,2017-08-03 00:21:13.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-08-01 15:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a1089e2147abe2ef99a64435b3648a28cbd9b25', 'message': 'Add redirect for api-microversion-history doc\n\nThe api-microversion-history doc has now moved under ""reference/""\nso we need a redirect.\n\nThis also removes the draft site redirect for cells since that\nwas only in here for CI testing to make sure the redirects work,\nwhich we know they do now:\n\n  https://docs.openstack.org/nova/latest/cells.html\n\nChange-Id: I21bcd71b21af3108e1b14229f90b5ec07cc8188b\n'}, {'number': 2, 'created': '2017-08-01 23:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/161842374863c2ad653a45935aa2e1bfb58d6c25', 'message': 'Add redirect for api-microversion-history doc\n\nThe api-microversion-history doc has now moved under ""reference/""\nso we need a redirect.\n\nThis also removes the draft site redirect for cells since that\nwas only in here for CI testing to make sure the redirects work,\nwhich we know they do now:\n\n  https://docs.openstack.org/nova/latest/cells.html\n\nChange-Id: I21bcd71b21af3108e1b14229f90b5ec07cc8188b\n'}, {'number': 3, 'created': '2017-08-01 23:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac37d419a2989dda13de2720e7197654b6ec9de2', 'message': 'Add redirect for api-microversion-history doc\n\nThe api-microversion-history doc has now moved under ""reference/""\nso we need a redirect.\n\nThis also removes the draft site redirect for cells since that\nwas only in here for CI testing to make sure the redirects work,\nwhich we know they do now:\n\n  https://docs.openstack.org/nova/latest/cells.html\n\nChange-Id: I21bcd71b21af3108e1b14229f90b5ec07cc8188b\n'}, {'number': 4, 'created': '2017-08-02 05:22:25.000000000', 'files': ['doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2f5864066532e323e8d6678509d9c4039574fff', 'message': 'Add redirect for api-microversion-history doc\n\nThe api-microversion-history doc has now moved under ""reference/""\nso we need a redirect.\n\nThis also removes the draft site redirect for cells since that\nwas only in here for CI testing to make sure the redirects work,\nwhich we know they do now:\n\n  https://docs.openstack.org/nova/latest/cells.html\n\nChange-Id: I21bcd71b21af3108e1b14229f90b5ec07cc8188b\n'}]",2,489641,c2f5864066532e323e8d6678509d9c4039574fff,37,12,4,6873,,,0,"Add redirect for api-microversion-history doc

The api-microversion-history doc has now moved under ""reference/""
so we need a redirect.

This also removes the draft site redirect for cells since that
was only in here for CI testing to make sure the redirects work,
which we know they do now:

  https://docs.openstack.org/nova/latest/cells.html

Change-Id: I21bcd71b21af3108e1b14229f90b5ec07cc8188b
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/489641/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_extra/.htaccess'],1,2a1089e2147abe2ef99a64435b3648a28cbd9b25,api-doc-redirect,# Same for the API microversion history docs. redirectmatch 301 ^/nova/([^/]+)/api-microversion-history.html$ /nova/$1/reference/api-microversion-history.html,# This pattern should match the URL on the draft site redirectmatch 301 /doc/build/html/cells.html$ /nova/$1/user/cells.html,2,2
openstack%2Fnova~master~Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67,openstack/nova,master,Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67,Add release note for PUT /os-services/* for non-compute services,MERGED,2017-08-01 14:33:40.000000000,2017-08-21 12:01:14.000000000,2017-08-02 10:00:54.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-01 14:33:40.000000000', 'files': ['releasenotes/notes/bug-1700359-b123208d51d73ae3.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/598314a4bb53ffff2a8872bd6b290ef8d1d6c532', 'message': 'Add release note for PUT /os-services/* for non-compute services\n\nChange If1e03c9343b8cc9c34bd51c2b4d25acdb21131ff made the\n""PUT /os-services/*"" APIs only work with nova-compute services\nsince they now rely on finding the compute service in a cell\nvia the host_mappings record in the API database, and host\nmappings only exist for compute services.\n\nNo one should have relied on disabling a non-compute service since\nthat does nothing, at least with in-tree code.\n\nThis change just adds a release note for awareness.\n\nChange-Id: Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67\nCloses-Bug: #1700359\n'}]",3,489621,598314a4bb53ffff2a8872bd6b290ef8d1d6c532,19,6,1,6873,,,0,"Add release note for PUT /os-services/* for non-compute services

Change If1e03c9343b8cc9c34bd51c2b4d25acdb21131ff made the
""PUT /os-services/*"" APIs only work with nova-compute services
since they now rely on finding the compute service in a cell
via the host_mappings record in the API database, and host
mappings only exist for compute services.

No one should have relied on disabling a non-compute service since
that does nothing, at least with in-tree code.

This change just adds a release note for awareness.

Change-Id: Idb5bbc31a0aabc328f11e5a9979e5b80651a8f67
Closes-Bug: #1700359
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/489621/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1700359-b123208d51d73ae3.yaml'],1,598314a4bb53ffff2a8872bd6b290ef8d1d6c532,bug/1700359,"--- other: - | The ``PUT /os-services/disable``, ``PUT /os-services/enable`` and ``PUT /os-services/force-down`` APIs to enable, disable, or force-down a service will now only work with *nova-compute* services. If you are using those APIs to try and disable a non-compute service, like nova-scheduler or nova-conductor, those APIs will result in a 404 response. There really never was a good reason to disable or enable non-compute services anyway since that would not do anything. The nova-scheduler and nova-api services are checking the ``status`` and ``forced_down`` fields to see if instance builds can be scheduled to a compute host or if instances can be evacuated from a downed compute host. There is nothing that relies on a disabled or downed nova-conductor or nova-scheduler service. ",,15,0
openstack%2Fnova~master~I35fa11660b9ff778f868af98802cb40ab3e2ce60,openstack/nova,master,I35fa11660b9ff778f868af98802cb40ab3e2ce60,Update SSL cert used in testing,MERGED,2017-07-31 03:12:50.000000000,2017-08-21 12:01:00.000000000,2017-08-03 00:26:09.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-31 03:12:50.000000000', 'files': ['nova/tests/unit/ssl_cert/certificate.crt', 'nova/tests/unit/ssl_cert/certificate.cnf', 'nova/tests/unit/ssl_cert/new_cert.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/42b0240bed75537b2542ed6958053de4563c2b99', 'message': ""Update SSL cert used in testing\n\nThe current SSL cert contains '::1' as a DNSName[1] which is clearly an\nipaddress.  When PyOpenSSL is installed this causes the cert to discard\nthe entire SubjectAlternateName attribute which causes something like:\n\n WARNING [urllib3.contrib.pyopenssl] A problem was encountered with the\n   certificate that prevented urllib3 from finding the\n   SubjectAlternativeName field. This can affect certificate validation.\n   The error was Codepoint U+003A at position 1 of u'::1' not allowed\n ERROR [urllib3.connection] Certificate did not match expected hostname:\n   127.0.0.1. Certificate: {'subject': ((('commonName', u'*'),),),\n   'subjectAltName': []}\n\nThe latest release of python-glanceclient now requires PyOpenSSL causing\nthe wsgi unit tests to fail.\n\nThis change alters the Alternate names to:\n    DNS         = localhost\n    DNS         = ip6-localhost\n    IP Address  = 127.0.0.1\n    IP  Address = ::1\n\nAnd introduces a script to regenerate the cert if needed in the future.\n\n[1]:\n    DNS         = localhost\n    DNS         = ip6-localhost\n    DNS         = 127.0.0.1\n    DNS         = ::1\n    IP Address  = 127.0.0.1\n    IP Address  = ::1\n\nChange-Id: I35fa11660b9ff778f868af98802cb40ab3e2ce60\nRelated-Change: Ibd43976e46a531556739eafcf326b64e33366610\n""}]",0,489078,42b0240bed75537b2542ed6958053de4563c2b99,22,9,1,12898,,,0,"Update SSL cert used in testing

The current SSL cert contains '::1' as a DNSName[1] which is clearly an
ipaddress.  When PyOpenSSL is installed this causes the cert to discard
the entire SubjectAlternateName attribute which causes something like:

 WARNING [urllib3.contrib.pyopenssl] A problem was encountered with the
   certificate that prevented urllib3 from finding the
   SubjectAlternativeName field. This can affect certificate validation.
   The error was Codepoint U+003A at position 1 of u'::1' not allowed
 ERROR [urllib3.connection] Certificate did not match expected hostname:
   127.0.0.1. Certificate: {'subject': ((('commonName', u'*'),),),
   'subjectAltName': []}

The latest release of python-glanceclient now requires PyOpenSSL causing
the wsgi unit tests to fail.

This change alters the Alternate names to:
    DNS         = localhost
    DNS         = ip6-localhost
    IP Address  = 127.0.0.1
    IP  Address = ::1

And introduces a script to regenerate the cert if needed in the future.

[1]:
    DNS         = localhost
    DNS         = ip6-localhost
    DNS         = 127.0.0.1
    DNS         = ::1
    IP Address  = 127.0.0.1
    IP Address  = ::1

Change-Id: I35fa11660b9ff778f868af98802cb40ab3e2ce60
Related-Change: Ibd43976e46a531556739eafcf326b64e33366610
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/489078/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/ssl_cert/certificate.crt', 'nova/tests/unit/ssl_cert/certificate.cnf', 'nova/tests/unit/ssl_cert/new_cert.sh']",3,42b0240bed75537b2542ed6958053de4563c2b99,,"#!/usr/bin/env bash openssl req -new -out certificate.csr -key privatekey.key \ -config certificate.cnf openssl x509 -extfile certificate.cnf -extensions x509_ext \ -req -sha512 -days 3650 -set_serial 1 \ -CA ca.crt -CAkey ca.key \ -in certificate.csr -out certificate.crt if [ ""$1"" == ""--dump"" ] ; then openssl req -in certificate.csr -text -noout > /tmp/csr.txt openssl x509 -in ca.crt -text -noout > /tmp/ca.txt openssl x509 -in certificate.crt -text -noout > /tmp/certificate.txt fi rm certificate.csr ",,74,25
openstack%2Fnova~master~Ic872d7a7a741175ef02266cb029611c5016103a8,openstack/nova,master,Ic872d7a7a741175ef02266cb029611c5016103a8,fix test_rebuild_server_exc instability,MERGED,2017-07-26 11:56:30.000000000,2017-08-21 12:00:54.000000000,2017-08-01 11:05:31.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18599}, {'_account_id': 18600}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 26242}]","[{'number': 1, 'created': '2017-07-26 11:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ba62b37cce3e2afc442006abd54d67598dbfcba', 'message': 'fix test_rebuild_server_exc instability\n\nIt depends on the environment we gets with\ninstance-rebuild-error notification an another\nnotification the compute-exception. In this\ncase should ignore this event. The\ninstance-rebuild-error notification always is\nfirst, so we sufficient ignore the second\nnotification (if have). This patch implement\nan other verify method, which can this.\n\nCloses-Bug: #1706533\n\nChange-Id: Ic872d7a7a741175ef02266cb029611c5016103a8\n'}, {'number': 2, 'created': '2017-07-28 14:39:04.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e9b60183cf1bc7f9474c88407f6eff2f9319b3a', 'message': 'fix test_rebuild_server_exc instability\n\nIt depends on the environment we gets with\ninstance-rebuild-error notification an another\nnotification the compute-exception. In this\ncase should ignore this event.\nSo we select the instance-rebuild-error event\ninto notification variable and we use this\nafter.\n\nCloses-Bug: #1706533\n\nChange-Id: Ic872d7a7a741175ef02266cb029611c5016103a8\n'}]",4,487382,6e9b60183cf1bc7f9474c88407f6eff2f9319b3a,26,15,2,21239,,,0,"fix test_rebuild_server_exc instability

It depends on the environment we gets with
instance-rebuild-error notification an another
notification the compute-exception. In this
case should ignore this event.
So we select the instance-rebuild-error event
into notification variable and we use this
after.

Closes-Bug: #1706533

Change-Id: Ic872d7a7a741175ef02266cb029611c5016103a8
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/487382/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/notification_sample_tests/test_instance.py']",2,6ba62b37cce3e2afc442006abd54d67598dbfcba,(detached," expected_notifications = [ {'event_type': 'instance-rebuild-error'} ] self._verify_notifications( expected_notifications=expected_notifications, notifications=fake_notifier.VERSIONED_NOTIFICATIONS, 'uuid': server['id'] } )"," self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self._verify_notification( 'instance-rebuild-error', 'uuid': server['id']}, actual=fake_notifier.VERSIONED_NOTIFICATIONS[0])",57,5
openstack%2Fnova~master~I242ad5a21cb03cae5a52d86af8f5f16d618ab16c,openstack/nova,master,I242ad5a21cb03cae5a52d86af8f5f16d618ab16c,Remove the code related to extension loading from APIRouterV21,MERGED,2017-07-23 15:16:32.000000000,2017-08-21 12:00:48.000000000,2017-07-26 22:24:39.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-23 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61727dff847fa0e1718b639244e902ba54658e73', 'message': 'Remove the code related to extension loading from APIRouterV21\n\nRemove the `nova.api.openstack.APIRouterV21` which is used to load\nextension by stevedore, since all the extensions are removed.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I242ad5a21cb03cae5a52d86af8f5f16d618ab16c\n'}, {'number': 2, 'created': '2017-07-25 17:58:02.000000000', 'files': ['nova/api/openstack/__init__.py', 'nova/api/openstack/compute/routes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0f671d747cc4dbb3caa412c508855640a2be033', 'message': 'Remove the code related to extension loading from APIRouterV21\n\nRemove the `nova.api.openstack.APIRouterV21` which is used to load\nextension by stevedore, since all the extensions are removed.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I242ad5a21cb03cae5a52d86af8f5f16d618ab16c\n'}]",1,486414,e0f671d747cc4dbb3caa412c508855640a2be033,49,17,2,5754,,,0,"Remove the code related to extension loading from APIRouterV21

Remove the `nova.api.openstack.APIRouterV21` which is used to load
extension by stevedore, since all the extensions are removed.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I242ad5a21cb03cae5a52d86af8f5f16d618ab16c
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/486414/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/__init__.py', 'nova/api/openstack/compute/routes.py']",2,61727dff847fa0e1718b639244e902ba54658e73,bp/api-no-more-extensions-pike,"from nova import wsgi as base_wsgiclass APIRouterV21(base_wsgi.Router): super(APIRouterV21, self).__init__(nova.api.openstack.ProjectMapper()) @classmethod def factory(cls, global_config, **local_config): """"""Simple paste factory, :class:`nova.wsgi.Router` doesn't have one."""""" return cls()","class APIRouterV21(nova.api.openstack.APIRouterV21): self._loaded_extension_info = extension_info.LoadedExtensionInfo() super(APIRouterV21, self).__init__() def _register_extension(self, ext): return self.loaded_extension_info.register_extension(ext.obj) @property def loaded_extension_info(self): return self._loaded_extension_info",7,148
openstack%2Fnova~master~I29c37e260465a574d3134a005dbc14e2a3c6ea00,openstack/nova,master,I29c37e260465a574d3134a005dbc14e2a3c6ea00,style-only: s/context/ctx/,MERGED,2017-07-20 19:13:53.000000000,2017-08-21 12:00:40.000000000,2017-07-26 16:15:09.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17922}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 23312}]","[{'number': 1, 'created': '2017-07-20 19:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde4ea60785a5da245a0f07fdf4d9a4db624f11a', 'message': 'style-only: s/context/ctx/\n\nChanges the self.context attribute to self.ctx in the\ntest_resource_provider functional test. Later patches clean up and\ncondense this test file and having a shorter context attribute allows\nus to reduce a number of lines of code in the test file and get rid of\nsome of the pesky parens on a line by themselves that so many people\nhate.\n\nChange-Id: I29c37e260465a574d3134a005dbc14e2a3c6ea00\n'}, {'number': 2, 'created': '2017-07-26 12:47:19.000000000', 'files': ['nova/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86fe9a70c24fce71bf85bfe39917073f833a0951', 'message': 'style-only: s/context/ctx/\n\nChanges the self.context attribute to self.ctx in the\ntest_resource_provider functional test. Later patches clean up and\ncondense this test file and having a shorter context attribute allows\nus to reduce a number of lines of code in the test file and get rid of\nsome of the pesky parens on a line by themselves that so many people\nhate.\n\nChange-Id: I29c37e260465a574d3134a005dbc14e2a3c6ea00\n'}]",2,485791,86fe9a70c24fce71bf85bfe39917073f833a0951,43,22,2,7,,,0,"style-only: s/context/ctx/

Changes the self.context attribute to self.ctx in the
test_resource_provider functional test. Later patches clean up and
condense this test file and having a shorter context attribute allows
us to reduce a number of lines of code in the test file and get rid of
some of the pesky parens on a line by themselves that so many people
hate.

Change-Id: I29c37e260465a574d3134a005dbc14e2a3c6ea00
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/485791/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_resource_provider.py'],1,dde4ea60785a5da245a0f07fdf4d9a4db624f11a,misc-shares-via-aggregate-trait," self.ctx = context.RequestContext('fake-user', 'fake-project') context=self.ctx, disk_inv = objects.Inventory(context=self.ctx, alloc = objects.Allocation(self.ctx, resource_provider=rp, alloc_list = objects.AllocationList(self.ctx, objects=[alloc]) context = self.ctx) context=self.ctx, self.ctx, context=self.ctx, self.ctx, context=self.ctx, self.ctx, context=self.ctx, context=self.ctx, self.ctx, resource_provider.uuid) self.ctx, resource_provider.uuid) context=self.ctx, context=self.ctx, context=self.ctx, context=self.ctx, self.ctx, resource_provider.uuid) self.ctx, resource_provider.uuid)) context=self.ctx, context=self.ctx, self.ctx, rp = objects.ResourceProvider(context=self.ctx, context=self.ctx, alloc_list = objects.AllocationList(self.ctx, objects=[alloc]) rp = objects.ResourceProvider(context=self.ctx, self.ctx, uuidsentinel.rp_uuid) self.ctx, uuidsentinel.rp_uuid) self.ctx, uuidsentinel.rp_uuid) self.ctx, uuidsentinel.rp_uuid) self.ctx, uuidsentinel.rp_uuid) self.ctx, uuidsentinel.rp_uuid) rp = objects.ResourceProvider(context=self.ctx, rp = objects.ResourceProvider(context=self.ctx, self.ctx, rp.uuid) self.ctx, rp.uuid) rp = objects.ResourceProvider(context=self.ctx, rp = objects.ResourceProvider(context=self.ctx, inv = objects.Inventory(context=self.ctx, resource_provider=rp, alloc = objects.Allocation(context=self.ctx, resource_provider=rp, alloc_list = objects.AllocationList(self.ctx, objects=[alloc]) self.ctx = context.RequestContext('fake-user', 'fake-project') rp = objects.ResourceProvider(self.ctx, name=name, uuid=uuid) self.ctx) self.ctx, filters={'name': u'rp_name_1'}) self.ctx, filters={'uuid': getattr(uuidsentinel, 'rp_uuid_2')}) rp = objects.ResourceProvider(self.ctx, name=name, uuid=uuid) self.ctx, objects=[allocation_1]) self.ctx, {'resources': {fields.ResourceClass.VCPU: 1}}) self.ctx, {'resources': {fields.ResourceClass.VCPU: 2}}) self.ctx, {'resources': {fields.ResourceClass.VCPU: 2, self.ctx, {'resources': {fields.ResourceClass.VCPU: 2, self.ctx, {'name': u'rp_name_1', self.ctx, {'resources': {fields.ResourceClass.MEMORY_MB: 2}}) self.ctx, {'resources': {fields.ResourceClass.MEMORY_MB: 1}}) self.ctx, {'resources': {fields.ResourceClass.MEMORY_MB: 5}}) self.ctx, {'resources': {fields.ResourceClass.MEMORY_MB: 3}}) self.ctx, {'resources': {'FOOBAR': 3}}) rp = objects.ResourceProvider(self.ctx, name=name, uuid=uuid) self.ctx, filters={'member_of': [uuidsentinel.agg_a]}) self.ctx, filters={'member_of': self.ctx, filters={'member_of': self.ctx, filters={'member_of': self.ctx, filters={'member_of': self.ctx = context.RequestContext('fake-user', 'fake-project') context=self.ctx, self.ctx, uuidsentinel.rp_uuid) context=self.ctx, context=self.ctx, aggs = objects.ResourceProvider._get_aggregates(self.ctx, rp_id) aggs = objects.ResourceProvider._get_aggregates(self.ctx, rp_id) context=self.ctx, inv = objects.Inventory(context=self.ctx, context=self.ctx, alloc_list = objects.AllocationList(self.ctx, self.ctx, resource_provider.uuid) self.ctx, resource_provider.uuid) self.ctx, rp.uuid) objects.Allocation._destroy(self.ctx, allocation.id) self.ctx, rp.uuid) self.ctx, allocation.id) self.ctx, rp.uuid) self.ctx, uuidsentinel.bad_rp_uuid) self.ctx, rp.uuid) self.ctx, rp1.uuid) self.ctx, alloc_list = objects.AllocationList(self.ctx, objects=[alloc3]) self.ctx, rp1.uuid) inv = objects.Inventory(self.ctx, resource_provider=rp1, self.ctx, alloc_list = objects.AllocationList(self.ctx, objects=[alloc4]) self.ctx, rp1.uuid) self.ctx, rp2.uuid) self.ctx, name=rp1_name, uuid=rp1_uuid) self.ctx, objects=[allocation_1, allocation_2]) self.ctx, objects=[allocation_1, allocation_2]) self.ctx, name=rp1_name, uuid=rp1_uuid) self.ctx, name=rp2_name, uuid=rp2_uuid) self.ctx, objects=[allocation_1, allocation_2]) self.ctx, rp1_uuid) self.ctx, rp2_uuid) self.ctx, objects=[allocation_1]) self.ctx, rp1_uuid) self.ctx, consumer_uuid) self.ctx, rp1_uuid) self.ctx, rp2_uuid) self.ctx, name=rp_name, uuid=rp_uuid) self.ctx, rp.uuid) allocation_list = objects.AllocationList(self.ctx, allocation_list = objects.AllocationList(self.ctx, self.ctx, project_id=self.ctx.project_id, user_id=self.ctx.user_id, tbl.c.external_id == self.ctx.project_id, tbl.c.external_id == self.ctx.user_id, self.ctx, project_id=self.ctx.project_id, self.ctx, self.ctx.project_id) self.ctx, self.ctx.project_id, rp = objects.ResourceProvider(self.ctx, name=uuid, uuid=uuid) self.ctx, uuidsentinel.rp_uuid_1) self.ctx, db_rp.uuid) db_rp = objects.ResourceProvider(self.ctx, self.ctx, db_rp.uuid) db_rp = objects.ResourceProvider(self.ctx, self.ctx, db_rp.uuid) rcs = objects.ResourceClassList.get_all(self.ctx) rcs = objects.ResourceClassList.get_all(self.ctx) self.ctx, self.ctx, self.ctx, self.ctx, context=self.ctx, context=self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, rc_list = objects.ResourceClassList.get_all(self.ctx) self.ctx, rc_list = objects.ResourceClassList.get_all(self.ctx) self.ctx, self.ctx, self.ctx, rc_list = objects.ResourceClassList.get_all(self.ctx) self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, t = objects.Trait(self.ctx) t = objects.Trait(self.ctx) t = objects.Trait(self.ctx) trait = objects.Trait(self.ctx) tmp_trait = objects.Trait.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') duplicated_trait = objects.Trait(self.ctx) t = objects.Trait(self.ctx) t = objects.Trait.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') objects.Trait.get_by_name, self.ctx, 'CUSTOM_TRAIT_A') t = objects.Trait(self.ctx) t = objects.Trait.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') self.ctx, 'CUSTOM_TRAIT_A') t = objects.Trait(self.ctx) t = objects.Trait(self.ctx) objects.TraitList.get_all(self.ctx)) t = objects.Trait(self.ctx) traits = objects.TraitList.get_all(self.ctx, traits = objects.TraitList.get_all(self.ctx, t = objects.Trait(self.ctx) traits = objects.TraitList.get_all(self.ctx, traits = objects.TraitList.get_all(self.ctx, context=self.ctx, t = objects.Trait(self.ctx) updated_traits = objects.TraitList.get_all(self.ctx, context=self.ctx, t = objects.Trait(self.ctx) context=self.ctx, context=self.ctx, t = objects.Trait(self.ctx) associated_traits = objects.TraitList.get_all(self.ctx, objects.TraitList.get_all(self.ctx, context=self.ctx, context=self.ctx, t = objects.Trait(self.ctx) associated_traits = objects.TraitList.get_all(self.ctx, objects.TraitList.get_all(self.ctx, objects.TraitList.get_all(self.ctx)] self.ctx, self.ctx, self.ctx, self.ctx, # self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, # self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, self.ctx, # self.ctx, self.ctx, self.ctx,"," self.context = context.RequestContext('fake-user', 'fake-project') context=self.context, disk_inv = objects.Inventory(context=self.context, alloc = objects.Allocation(self.context, resource_provider=rp, alloc_list = objects.AllocationList(self.context, objects=[alloc]) context = self.context) context=self.context, self.context, context=self.context, self.context, context=self.context, self.context, context=self.context, context=self.context, self.context, resource_provider.uuid) self.context, resource_provider.uuid) context=self.context, context=self.context, context=self.context, context=self.context, self.context, resource_provider.uuid) self.context, resource_provider.uuid)) context=self.context, context=self.context, self.context, rp = objects.ResourceProvider(context=self.context, context=self.context, alloc_list = objects.AllocationList(self.context, objects=[alloc]) rp = objects.ResourceProvider(context=self.context, self.context, uuidsentinel.rp_uuid) self.context, uuidsentinel.rp_uuid) self.context, uuidsentinel.rp_uuid) self.context, uuidsentinel.rp_uuid) self.context, uuidsentinel.rp_uuid) self.context, uuidsentinel.rp_uuid) rp = objects.ResourceProvider(context=self.context, rp = objects.ResourceProvider(context=self.context, self.context, rp.uuid) self.context, rp.uuid) rp = objects.ResourceProvider(context=self.context, rp = objects.ResourceProvider(context=self.context, inv = objects.Inventory(context=self.context, resource_provider=rp, alloc = objects.Allocation(context=self.context, resource_provider=rp, alloc_list = objects.AllocationList(self.context, objects=[alloc]) self.context = context.RequestContext('fake-user', 'fake-project') rp = objects.ResourceProvider(self.context, name=name, uuid=uuid) self.context) self.context, filters={'name': u'rp_name_1'}) self.context, filters={'uuid': getattr(uuidsentinel, 'rp_uuid_2')}) rp = objects.ResourceProvider(self.context, name=name, uuid=uuid) self.context, objects=[allocation_1]) self.context, {'resources': {fields.ResourceClass.VCPU: 1}}) self.context, {'resources': {fields.ResourceClass.VCPU: 2}}) self.context, {'resources': {fields.ResourceClass.VCPU: 2, self.context, {'resources': {fields.ResourceClass.VCPU: 2, self.context, {'name': u'rp_name_1', self.context, {'resources': {fields.ResourceClass.MEMORY_MB: 2}}) self.context, {'resources': {fields.ResourceClass.MEMORY_MB: 1}}) self.context, {'resources': {fields.ResourceClass.MEMORY_MB: 5}}) self.context, {'resources': {fields.ResourceClass.MEMORY_MB: 3}}) self.context, {'resources': {'FOOBAR': 3}}) rp = objects.ResourceProvider(self.context, name=name, uuid=uuid) self.context, filters={'member_of': [uuidsentinel.agg_a]}) self.context, filters={'member_of': self.context, filters={'member_of': self.context, filters={'member_of': self.context, filters={'member_of': self.context = context.RequestContext('fake-user', 'fake-project') context=self.context, self.context, uuidsentinel.rp_uuid) context=self.context, context=self.context, aggs = objects.ResourceProvider._get_aggregates(self.context, rp_id) aggs = objects.ResourceProvider._get_aggregates(self.context, rp_id) context=self.context, inv = objects.Inventory(context=self.context, context=self.context, alloc_list = objects.AllocationList(self.context, self.context, resource_provider.uuid) self.context, resource_provider.uuid) self.context, rp.uuid) objects.Allocation._destroy(self.context, allocation.id) self.context, rp.uuid) self.context, allocation.id) self.context, rp.uuid) self.context, uuidsentinel.bad_rp_uuid) self.context, rp.uuid) self.context, rp1.uuid) self.context, alloc_list = objects.AllocationList(self.context, objects=[alloc3]) self.context, rp1.uuid) inv = objects.Inventory(self.context, resource_provider=rp1, self.context, alloc_list = objects.AllocationList(self.context, objects=[alloc4]) self.context, rp1.uuid) self.context, rp2.uuid) self.context, name=rp1_name, uuid=rp1_uuid) self.context, objects=[allocation_1, allocation_2]) self.context, objects=[allocation_1, allocation_2]) self.context, name=rp1_name, uuid=rp1_uuid) self.context, name=rp2_name, uuid=rp2_uuid) self.context, objects=[allocation_1, allocation_2]) self.context, rp1_uuid) self.context, rp2_uuid) self.context, objects=[allocation_1]) self.context, rp1_uuid) self.context, consumer_uuid) self.context, rp1_uuid) self.context, rp2_uuid) self.context, name=rp_name, uuid=rp_uuid) self.context, rp.uuid) allocation_list = objects.AllocationList(self.context, allocation_list = objects.AllocationList(self.context, self.context, project_id=self.context.project_id, user_id=self.context.user_id, tbl.c.external_id == self.context.project_id, tbl.c.external_id == self.context.user_id, self.context, project_id=self.context.project_id, self.context, self.context.project_id) self.context, self.context.project_id, rp = objects.ResourceProvider(self.context, name=uuid, uuid=uuid) self.context, uuidsentinel.rp_uuid_1) self.context, db_rp.uuid) db_rp = objects.ResourceProvider(self.context, self.context, db_rp.uuid) db_rp = objects.ResourceProvider(self.context, self.context, db_rp.uuid) rcs = objects.ResourceClassList.get_all(self.context) rcs = objects.ResourceClassList.get_all(self.context) self.context, self.context, self.context, self.context, context=self.context, context=self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, rc_list = objects.ResourceClassList.get_all(self.context) self.context, rc_list = objects.ResourceClassList.get_all(self.context) self.context, self.context, self.context, rc_list = objects.ResourceClassList.get_all(self.context) self.context, self.context, self.context, self.context, self.context, t = objects.Trait(self.context) t = objects.Trait(self.context) t = objects.Trait(self.context) trait = objects.Trait(self.context) tmp_trait = objects.Trait.get_by_name(self.context, 'CUSTOM_TRAIT_A') duplicated_trait = objects.Trait(self.context) t = objects.Trait(self.context) t = objects.Trait.get_by_name(self.context, 'CUSTOM_TRAIT_A') objects.Trait.get_by_name, self.context, 'CUSTOM_TRAIT_A') t = objects.Trait(self.context) t = objects.Trait.get_by_name(self.context, 'CUSTOM_TRAIT_A') self.context, 'CUSTOM_TRAIT_A') t = objects.Trait(self.context) t = objects.Trait(self.context) objects.TraitList.get_all(self.context)) t = objects.Trait(self.context) traits = objects.TraitList.get_all(self.context, traits = objects.TraitList.get_all(self.context, t = objects.Trait(self.context) traits = objects.TraitList.get_all(self.context, traits = objects.TraitList.get_all(self.context, context=self.context, t = objects.Trait(self.context) updated_traits = objects.TraitList.get_all(self.context, context=self.context, t = objects.Trait(self.context) context=self.context, context=self.context, t = objects.Trait(self.context) associated_traits = objects.TraitList.get_all(self.context, objects.TraitList.get_all(self.context, context=self.context, context=self.context, t = objects.Trait(self.context) associated_traits = objects.TraitList.get_all(self.context, objects.TraitList.get_all(self.context, objects.TraitList.get_all(self.context)] self.context, self.context, self.context, self.context, # self.context, self.context, self.context, self.context, self.context, self.context, # self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, self.context, # self.context, self.context, self.context,",231,231
openstack%2Fnova~master~I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de,openstack/nova,master,I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de,Remove the useless extension block_device_mapping_v1 object,MERGED,2017-07-21 09:24:19.000000000,2017-08-21 12:00:27.000000000,2017-07-26 23:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-21 09:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c2e90bb90e23ea8d46ea836fafd8b9792276789', 'message': ""Remove the useless extension block_device_mapping_v1 object\n\nBlockDeviceMappingV1 isn't used by anywhere, so remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de\n""}, {'number': 2, 'created': '2017-07-23 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2a326402650f5cea351ebf279317d5123f75930', 'message': ""Remove the useless extension block_device_mapping_v1 object\n\nBlockDeviceMappingV1 isn't used by anywhere, so remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de\n""}, {'number': 3, 'created': '2017-07-24 18:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e51c774aeb666b8bd4ad78e1f897d6afc8ef180d', 'message': ""Remove the useless extension block_device_mapping_v1 object\n\nBlockDeviceMappingV1 isn't used by anywhere, so remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de\n""}, {'number': 4, 'created': '2017-07-25 17:58:47.000000000', 'files': ['nova/api/openstack/compute/block_device_mapping_v1.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c27b76379e16d0781be5daf05c448fd8fa699bb6', 'message': ""Remove the useless extension block_device_mapping_v1 object\n\nBlockDeviceMappingV1 isn't used by anywhere, so remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de\n""}]",0,486069,c27b76379e16d0781be5daf05c448fd8fa699bb6,75,16,4,5754,,,0,"Remove the useless extension block_device_mapping_v1 object

BlockDeviceMappingV1 isn't used by anywhere, so remove it.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I3658c4ea8f6b74dbf60b778a840f09e3dd2f19de
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/486069/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/block_device_mapping_v1.py'],1,5c2e90bb90e23ea8d46ea836fafd8b9792276789,bp/api-no-more-extensions-pike,,"from nova.api.openstack import extensionsALIAS = ""os-block-device-mapping-v1""class BlockDeviceMappingV1(extensions.V21APIExtensionBase): """"""Block device mapping boot support."""""" name = ""BlockDeviceMappingV1"" alias = ALIAS version = 1 def get_resources(self): return [] def get_controller_extensions(self): return [] ",0,16
openstack%2Fnova~master~Idedb8a911a2ab0c096f4c9f61c5db362b08758ba,openstack/nova,master,Idedb8a911a2ab0c096f4c9f61c5db362b08758ba,test server evacuation with placement,MERGED,2017-08-10 14:21:29.000000000,2017-08-21 11:58:14.000000000,2017-08-12 06:03:11.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-10 14:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3899d2615a73e8178a69a03e7c3f599f001054e', 'message': 'test server evacuation with placement\n\nThis patch test evacuation between two Pike compute hosts and\nchecks the resource state in the placement API.\nDebug logs: https://pastebin.com/hzb33Awu\n\nChange-Id: Idedb8a911a2ab0c096f4c9f61c5db362b08758ba\n'}, {'number': 2, 'created': '2017-08-10 15:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa6c2b9f9f4959421892baaddfc5231faa2e3a4', 'message': 'test server evacuation with placement\n\nThis patch test evacuation between two Pike compute hosts and\nchecks the resource state in the placement API.\n\nRelated-Bug: #1709902\n\nChange-Id: Idedb8a911a2ab0c096f4c9f61c5db362b08758ba\n'}, {'number': 3, 'created': '2017-08-11 10:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25841ae293a2b44a83dbb02fb81eb66d81763f0f', 'message': 'test server evacuation with placement\n\nThis patch test evacuation between two Pike compute hosts and\nchecks the resource state in the placement API.\n\nRelated-Bug: #1709902\n\nChange-Id: Idedb8a911a2ab0c096f4c9f61c5db362b08758ba\n'}, {'number': 4, 'created': '2017-08-11 15:06:32.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/96938426e6351fd0ed0e485c04fccb11e37e91bc', 'message': 'test server evacuation with placement\n\nThis patch test evacuation between two Pike compute hosts and\nchecks the resource state in the placement API.\n\nRelated-Bug: #1709902\n\nChange-Id: Idedb8a911a2ab0c096f4c9f61c5db362b08758ba\n'}]",3,492548,96938426e6351fd0ed0e485c04fccb11e37e91bc,33,11,4,9708,,,0,"test server evacuation with placement

This patch test evacuation between two Pike compute hosts and
checks the resource state in the placement API.

Related-Bug: #1709902

Change-Id: Idedb8a911a2ab0c096f4c9f61c5db362b08758ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/492548/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,e3899d2615a73e8178a69a03e7c3f599f001054e,bug/1709902," def test_evacuate(self): source_hostname = self.compute1.host dest_hostname = self.compute2.host server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # evacuate the server post = {'evacuate': {}} self.api.post_server_action( server['id'], post) server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual(dest_hostname, server['OS-EXT-SRV-ATTR:host']) # Expect to have allocation and usages on both computes as the # source compute is still down source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) self._run_periodics() source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # start up the source compute self.compute1.start() self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) self._run_periodics() # this looks like a bug as the source compute should delete the claim # after it detects that the instance is evacuated away but it doesn't source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation)",,77,0
openstack%2Fnova~master~I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1,openstack/nova,master,I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1,doc: add superconductor up-call caveat for cross_az_attach=False,MERGED,2017-08-11 13:25:22.000000000,2017-08-21 11:58:07.000000000,2017-08-11 15:50:21.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 14595}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-11 13:25:22.000000000', 'files': ['doc/source/user/cellsv2_layout.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c62ed630a9d4aebd1b3e3157a6ae4f0f75cae004', 'message': ""doc: add superconductor up-call caveat for cross_az_attach=False\n\nWhen attaching a volume, if CONF.cinder.cross_az_attach=False,\nwe attempt to lookup the AZ that the instance is in and compare\nthat to the volume AZ. The instance AZ lookup involves getting\nhost aggregates which are in the API database, and in superconductor\nmode the cell conductor can't access to the API database.\n\nFor volume attach, we could remove this check from the compute\nservice since we already check this in nova-api so the check in\nnova-compute is redundant.\n\nHowever, we still have a problem with checking this during boot\nfrom volume where nova-compute creates the volume and then\nattaches it. At that point it's too late and we'll fail.\n\nWe should eventually create volumes during boot from volume in\nconductor, like we've talked about doing with neutron ports\nduring server create, but that's not something we have today\nso we need to point out this limitation.\n\nChange-Id: I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1\n""}]",0,493007,c62ed630a9d4aebd1b3e3157a6ae4f0f75cae004,14,5,1,6873,,,0,"doc: add superconductor up-call caveat for cross_az_attach=False

When attaching a volume, if CONF.cinder.cross_az_attach=False,
we attempt to lookup the AZ that the instance is in and compare
that to the volume AZ. The instance AZ lookup involves getting
host aggregates which are in the API database, and in superconductor
mode the cell conductor can't access to the API database.

For volume attach, we could remove this check from the compute
service since we already check this in nova-api so the check in
nova-compute is redundant.

However, we still have a problem with checking this during boot
from volume where nova-compute creates the volume and then
attaches it. At that point it's too late and we'll fail.

We should eventually create volumes during boot from volume in
conductor, like we've talked about doing with neutron ports
during server create, but that's not something we have today
so we need to point out this limitation.

Change-Id: I9cbe41e41f8ccdc9962ab593f313b5a47314a9d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/493007/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cellsv2_layout.rst'],1,c62ed630a9d4aebd1b3e3157a6ae4f0f75cae004,bug/1709594,"#. Attaching a volume and ``[cinder]/cross_az_attach=False`` The fifth is a problem because when a volume is attached to an instance in the *nova-compute* service, and ``[cinder]/cross_az_attach=False`` in nova.conf, we attempt to look up the availability zone that the instance is in which includes getting any host aggregates that the ``instance.host`` is in. Since the aggregates are in the API database and the cell conductor cannot access that information, so this will fail. In the future this check could be moved to the *nova-api* service such that the availability zone between the instance and the volume is checked before we reach the cell, except in the case of boot from volume where the *nova-compute* service itself creates the volume and must tell Cinder in which availability zone to create the volume. Long-term, volume creation during boot from volume should be moved to the top-level superconductor which would eliminate this AZ up-call check problem.",,14,0
openstack%2Fnova~master~Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f,openstack/nova,master,Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f,[placement] Make placement_api_docs.py failing,MERGED,2017-07-06 09:12:39.000000000,2017-08-21 11:57:47.000000000,2017-08-14 19:20:04.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11224}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26159}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-06 09:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3df6f72a12b3f6bc64b77b6a4d130f774b43d4e7', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 2, 'created': '2017-07-06 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efd8041a6662b53877eadd3e4b4954a6a96b656f', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 3, 'created': '2017-07-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec7bdc6516c692d7a4c0b5d14f26fb78c8506fb4', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 4, 'created': '2017-07-07 11:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41e0aaa525cfbcba5e37ac740c41147a52583261', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 5, 'created': '2017-07-07 11:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/839489e0ee31d7221f6f2fb41f7ba4fbef4a0663', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 6, 'created': '2017-07-07 11:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2ae39b503817e3efb3b194302383d20fa4aa622', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 7, 'created': '2017-07-11 16:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0adbe7f951b8e14af5c6885bc79e57e852cbfd89', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 8, 'created': '2017-07-12 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/328149551f051e52021a43fcfe8cf44f89e8d659', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 9, 'created': '2017-07-18 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05296f022af2fbd6ad0dc253c00d26ec45de7cfd', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 10, 'created': '2017-07-18 09:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6313ce47322be944ff471a8d7ee87f756fe1941c', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 11, 'created': '2017-07-18 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dac52fe2384a7321d2367b815d2aa928a489af87', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 12, 'created': '2017-08-07 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cd1379b6f60006309227e79c9f1caf7dd7ae3db', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 13, 'created': '2017-08-10 09:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0e443f392658ae24fb4b4278e8084089c938e10', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}, {'number': 14, 'created': '2017-08-10 11:27:13.000000000', 'files': ['tools/placement_api_docs.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa5749727fbeeb17b3f294adf76ca2c4c58721c4', 'message': '[placement] Make placement_api_docs.py failing\n\nIf there is no api reference for some placement API method\ntox -e placement-api-ref will fail now.\n\nChange-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f\n'}]",2,480924,fa5749727fbeeb17b3f294adf76ca2c4c58721c4,93,20,14,21813,,,0,"[placement] Make placement_api_docs.py failing

If there is no api reference for some placement API method
tox -e placement-api-ref will fail now.

Change-Id: Ifefedcd51f1f8d5e741ef6d02b7a0879a185e05f
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/480924/7 && git format-patch -1 --stdout FETCH_HEAD,"['tools/placement_api_docs.py', 'tox.ini']",2,3df6f72a12b3f6bc64b77b6a4d130f774b43d4e7,cd/placement-api-ref, python tools/placement_api_docs.py placement-api-ref/source/, # TODO(cdent): Get rid of the leading '-' after all the existing # routes have been documented. It causes the non-zero exit code to # ignored. - python tools/placement_api_docs.py placement-api-ref/source/,4,6
openstack%2Fnova~master~Id89d7c16ca53938e2bc18e904e8d13477ceb15f7,openstack/nova,master,Id89d7c16ca53938e2bc18e904e8d13477ceb15f7,[placement] Add api-ref for allocation_candidates,MERGED,2017-07-06 15:16:40.000000000,2017-08-21 11:57:34.000000000,2017-08-12 06:16:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-06 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1aaa9c4efdc630d8e242e6ef8fb9724225f8527', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 2, 'created': '2017-07-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5156829aa26a1653525935e3ac8df94826c7a9f5', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 3, 'created': '2017-07-07 11:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04675f00ccd7fe40d0a7119eab6d3864f40fe662', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 4, 'created': '2017-07-07 11:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db764516315953bee401f68626e6a25ba23aac72', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 5, 'created': '2017-07-07 11:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc6c60d0c003a9df6ab4d4022d4bcb91bd55dd62', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 6, 'created': '2017-07-11 16:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa053af106f9f1bf35a546ee22531b2d535daa92', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 7, 'created': '2017-07-12 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f386419c2e6c0a076b12a615846f86effd395bec', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 8, 'created': '2017-07-18 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c833adedb47df9f33327532da405c16cae4ce9c7', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 9, 'created': '2017-07-18 09:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a3dc919895d1382b15d416e6ee7ec31e181dbdc', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 10, 'created': '2017-07-18 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/060fa02d19b7b4c3357615f447144f8195d2e2d1', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 11, 'created': '2017-08-07 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11dd09bf8937fa71ff37536ebd8cea037c1934e5', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 12, 'created': '2017-08-10 09:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90cd00eeb8c0f3d55a65125ef13b306deecdcc4d', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}, {'number': 13, 'created': '2017-08-10 11:26:37.000000000', 'files': ['placement-api-ref/source/allocation_candidates.inc', 'placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/get-allocation_candidates.json', 'placement-api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0af9820e1aa365dfd61535036ee119742737aa7', 'message': '[placement] Add api-ref for allocation_candidates\n\nChange-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7\n'}]",38,481112,d0af9820e1aa365dfd61535036ee119742737aa7,135,20,13,21813,,,0,"[placement] Add api-ref for allocation_candidates

Change-Id: Id89d7c16ca53938e2bc18e904e8d13477ceb15f7
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/481112/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/allocation_candidates.inc', 'placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/get-allocation_candidates.json']",3,a1aaa9c4efdc630d8e242e6ef8fb9724225f8527,cd/placement-api-ref,"{ ""allocation_requests"": [ { ""allocations"": [ { ""resource_provider"": { ""uuid"": ""30742363-f65e-4012-a60a-43e0bec38f0e"" }, ""resources"": { ""MEMORY_MB"": 512 } } ] } ], ""provider_summaries"": { ""30742363-f65e-4012-a60a-43e0bec38f0e"": { ""resources"": { ""DISK_GB"": { ""capacity"": 77, ""used"": 0 }, ""MEMORY_MB"": { ""capacity"": 11206, ""used"": 256 }, ""VCPU"": { ""capacity"": 64, ""used"": 0 } } } } } ",,90,0
openstack%2Fnova~master~I6ba8765a427f654dafb32fc3fbf5492b0e1b426a,openstack/nova,master,I6ba8765a427f654dafb32fc3fbf5492b0e1b426a,[placement] Add api-ref for RP usages,MERGED,2017-03-27 07:49:40.000000000,2017-08-21 11:57:28.000000000,2017-08-12 05:30:13.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11224}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 17814}, {'_account_id': 19339}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 21813}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-03-27 07:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f65f590feb060c75f321afa3bc28de6980086cd7', 'message': 'WIP: add usage doc\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 2, 'created': '2017-03-28 03:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c2d0ed311b437132f96b2a4e42fd4188cc6174d', 'message': 'add usage doc for resource provider\n\nthis add the usage doc for resource provider\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 3, 'created': '2017-03-28 03:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2aab0f17ae4c092bf145fe317cac24f54d5097d', 'message': 'add usage doc for resource provider\n\nthis add the usage doc for resource provider\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 4, 'created': '2017-03-29 12:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddc77cd0f61b7002c7a3a24d5a2bb8ac53111d36', 'message': 'add usage doc for resource provider\n\nthis add the usage doc for resource provider\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 5, 'created': '2017-04-05 10:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6ae90edfabd24b5e57fc388b18a09833b5da9a', 'message': 'add usage doc for resource provider\n\nthis add the usage doc for resource provider\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 6, 'created': '2017-04-07 11:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28830249318a4e6e29fceebeb47ecab60591d94e', 'message': '[placement] Add doc for resource provider usages\n\nAdd placement-api-ref doc for resource provider usages\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 7, 'created': '2017-04-13 09:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d7f0bf68de87457d1badf933127030cff571a3a', 'message': '[placement] Add doc for resource provider usages\n\nAdd placement-api-ref doc for resource provider usages\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 8, 'created': '2017-04-21 08:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9a48a66409bd27f859410d982d562bbe65b812c', 'message': '[placement] Add doc for resource provider usages\n\nAdd placement-api-ref doc for resource provider usages\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 9, 'created': '2017-05-03 09:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/115c3ee503bfb7f5f1f6c507403d9e155758383e', 'message': '[placement] Add doc for resource provider usages\n\nAdd placement-api-ref doc for resource provider usages\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 10, 'created': '2017-06-07 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44208ffb5279dba99ff0ddfcddfb08d84c18680a', 'message': '[placement] Add doc for resource provider usages\n\nAdd placement-api-ref doc for resource provider usages\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 11, 'created': '2017-06-15 08:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c1e006054ad883a961920edee632370bbbaca11', 'message': '[placement] Add doc for resource provider usages\n\nAdd placement-api-ref doc for resource provider usages\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 12, 'created': '2017-06-26 15:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbcef73243fc90a65d535b119c3abea828b77361', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 13, 'created': '2017-06-28 08:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b4666bf03973e4596595da879f100ee57f35343', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 14, 'created': '2017-07-05 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac98dea91739db79f66f56b654c6f9fd1dac8f79', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 15, 'created': '2017-07-06 08:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cc275c5c1f07ec2e44df44adae4d44b760927c9', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 16, 'created': '2017-07-06 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70f274d5343024a36fbf761da31b0ece6590cf56', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 17, 'created': '2017-07-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdd7324376f5bdaed0c373148de51a9a73f7a3f3', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 18, 'created': '2017-07-07 11:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/171d28dd1d803fa7328dcdeec2a7e4d83ad385d5', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 19, 'created': '2017-07-11 16:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e44db3380b418cd73720513d5ee167382e9c9b5', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 20, 'created': '2017-07-12 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68af9830dc1ab1bc38724d06e31ee8c375de8717', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 21, 'created': '2017-07-18 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ff2e9399deaf8f0023aa53880bcc722b17af7a2', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 22, 'created': '2017-07-18 09:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fc880034f337b9b32e06f08aa99b05fd9c42d1b', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 23, 'created': '2017-07-18 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e80f1137a28329f04d9c61f1a30253cdfeed186', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 24, 'created': '2017-08-07 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84520d2bd54213761f3914e1353564b33eb4ddf0', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 25, 'created': '2017-08-09 15:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f493b5f6747e51ef8e0a468cf33d9091271698e', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}, {'number': 26, 'created': '2017-08-10 09:37:27.000000000', 'files': ['placement-api-ref/source/resource_provider_usages.inc', 'placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/get-resource_provider_usages.json', 'placement-api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/4db481592de84836cd58e5b69850938466822c81', 'message': '[placement] Add api-ref for RP usages\n\nAdd placement-api-ref for resource provider usages.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a\n'}]",55,450105,4db481592de84836cd58e5b69850938466822c81,360,31,26,6062,,,0,"[placement] Add api-ref for RP usages

Add placement-api-ref for resource provider usages.

Co-Authored-by: Andrey Volkov <avolkov@gmail.com>

Change-Id: I6ba8765a427f654dafb32fc3fbf5492b0e1b426a
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/450105/6 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/usage.rst', 'placement-api-ref/source/get-resource_providers_usages.json']",2,f65f590feb060c75f321afa3bc28de6980086cd7,cd/placement-api-ref,"{ ""resource_providers"": [ { ""generation"": 1, ""usages"": { }, ], }, ] } ",,48,0
openstack%2Fnova~master~I6f8afe6680f83125da9381c812016b3623503825,openstack/nova,master,I6f8afe6680f83125da9381c812016b3623503825,Remove provider allocs in confirm/revert resize,MERGED,2017-07-28 16:10:00.000000000,2017-08-21 11:57:22.000000000,2017-08-11 02:29:49.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 22056}, {'_account_id': 23630}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-28 16:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fd744d847e457c5707af2be2bd66786c5f970fc', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nIn addition, we add a call to the placement API to manipulate the\ndoubled-up allocation created by the scheduler during a move operation\n(added in Ifd09bd0128ed74347c984a3dcca1304336853865) to remove only the\nallocations that reference the source host. This patch should be\napplicable to stable/ocata with no modifications necessary even though\nIfd09bd0128ed74347c984a3dcca1304336853865 is a Pike-only feature\nchange).\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 2, 'created': '2017-07-28 18:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea085aca837ffeb714f4e2043120d919837ccda8', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nIn addition, we add a call to the placement API to manipulate the\ndoubled-up allocation created by the scheduler during a move operation\n(added in Ifd09bd0128ed74347c984a3dcca1304336853865) to remove only the\nallocations that reference the source host. This patch should be\napplicable to stable/ocata with no modifications necessary even though\nIfd09bd0128ed74347c984a3dcca1304336853865 is a Pike-only feature\nchange).\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 3, 'created': '2017-07-28 18:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34c26352d6f3b58c9fd5e8dfd2c40f2634a2fdfe', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nIn addition, we add a call to the placement API to manipulate the\ndoubled-up allocation created by the scheduler during a move operation\n(added in Ifd09bd0128ed74347c984a3dcca1304336853865) to remove only the\nallocations that reference the source host. This patch should be\napplicable to stable/ocata with no modifications necessary even though\nIfd09bd0128ed74347c984a3dcca1304336853865 is a Pike-only feature\nchange).\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 4, 'created': '2017-07-31 14:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e55eb43a24fcf532a0606bd909eed22b52322963', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nIn addition, we add a call to the placement API to manipulate the\ndoubled-up allocation created by the scheduler during a move operation\n(added in Ifd09bd0128ed74347c984a3dcca1304336853865) to remove only the\nallocations that reference the source host. This patch should be\napplicable to stable/ocata with no modifications necessary even though\nIfd09bd0128ed74347c984a3dcca1304336853865 is a Pike-only feature\nchange).\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 5, 'created': '2017-07-31 16:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c0098b94c30605c487a824c7d2e112dd65edef', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nIn addition, we add a call to the placement API to manipulate the\ndoubled-up allocation created by the scheduler during a move operation\n(added in Ifd09bd0128ed74347c984a3dcca1304336853865) to remove only the\nallocations that reference the source host. This patch should be\napplicable to stable/ocata with no modifications necessary even though\nIfd09bd0128ed74347c984a3dcca1304336853865 is a Pike-only feature\nchange).\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 6, 'created': '2017-07-31 20:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69bb7781b5817e16189faddbcf0181ed7a0b1182', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 7, 'created': '2017-08-01 13:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e24d6237015d41dac48fc6c23478b72787402590', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 8, 'created': '2017-08-01 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae17ed25e97d3a7a0364ad5cd271d7e1a69974b1', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 9, 'created': '2017-08-01 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67253ac83f359683d2bcffe5f99bdf70db4fd015', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 10, 'created': '2017-08-01 15:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bae5d4c4aa6e97e3ba93e29bf009313e49aed17b', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 11, 'created': '2017-08-01 15:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dca70628f985758cd27869582f05f53831ef4da', 'message': 'remove source provider allocs in confirm_resize()\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 12, 'created': '2017-08-01 19:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a7db5ddd7673881e3cbe76a00dba36c55c1a0c3', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 13, 'created': '2017-08-02 19:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b186ccaaa18901b9297f2c7bac9dec750867aa9', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 14, 'created': '2017-08-02 19:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/330054fdf51c15f850a76ecef370747270a01c14', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 15, 'created': '2017-08-02 20:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eda68597cf79505d65aad1f1b9748299ea9d6cd', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 16, 'created': '2017-08-02 21:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a8fda82523e5213c2937e017d174ccce06039f8', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 17, 'created': '2017-08-03 14:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e94d3c6cbb1961aa7501a491bbc56a669d887dba', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 18, 'created': '2017-08-03 15:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1346feed03f6bc94e11883651b89b0dd4359d43c', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nFixes-bug: #1707071\n'}, {'number': 19, 'created': '2017-08-03 16:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98234f8de3945e7e983a038ecc29f36e0fd21c25', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n'}, {'number': 20, 'created': '2017-08-03 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e04462faaf63ee8e809beef2b0857714d9d857c8', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n'}, {'number': 21, 'created': '2017-08-03 19:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f53b840b56b78941266cdbc11130484c12db59c', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n'}, {'number': 22, 'created': '2017-08-03 19:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0b9578a9e686f5e2ac0f799fc187e7f5acfa891', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n'}, {'number': 23, 'created': '2017-08-04 16:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06662a9ace33d29b314e50509d8789d12bc3b1c4', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n'}, {'number': 24, 'created': '2017-08-04 16:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af3d04650b182a98222fd7a1ff7d520e0d60f992', 'message': 'remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT\'s drop_move_claim() method.\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n'}, {'number': 25, 'created': '2017-08-04 18:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/073618a33fab80ebc5610580c15190f0341006e2', 'message': ""remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 26, 'created': '2017-08-04 20:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75c8ca001c92b29fe8c75e4a48f863a955877697', 'message': ""remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 27, 'created': '2017-08-04 21:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79062bc481e5a61d2037203b41f99424825f4e9e', 'message': ""remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 28, 'created': '2017-08-08 16:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23146ab357e69c7f3cb5f801c68678921c8daf76', 'message': ""remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 29, 'created': '2017-08-08 19:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6c7b05319b409d579c32093a8a22b1025fd952a', 'message': ""remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 30, 'created': '2017-08-09 12:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76591884cab0be7a383e82db6c8538a135e0c4f9', 'message': ""remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 31, 'created': '2017-08-09 20:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cadffffa9317afde74c9908c3b2073beb58baa01', 'message': ""Remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 32, 'created': '2017-08-09 20:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f2be31b0c397980e40e77e3f31bf2bf18a7f29e', 'message': ""Remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}, {'number': 33, 'created': '2017-08-09 20:48:52.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5390210a4fa46e2af6b6aec9b41c03147b52760c', 'message': ""Remove provider allocs in confirm/revert resize\n\nNow that the scheduler creates a doubled-up allocation for the duration\nof a move operation (with part of the allocation referring to the\nsource and part referring to the destination host), we need to remove\nthe source provider when confirming the resize and remove the\ndestination provider from the allocation when reverting a resize. This\npatch adds this logic in the RT's drop_move_claim() method.\n\nChange-Id: I6f8afe6680f83125da9381c812016b3623503825\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nFixes-bug: #1707071\n""}]",77,488510,5390210a4fa46e2af6b6aec9b41c03147b52760c,292,23,33,7,,,0,"Remove provider allocs in confirm/revert resize

Now that the scheduler creates a doubled-up allocation for the duration
of a move operation (with part of the allocation referring to the
source and part referring to the destination host), we need to remove
the source provider when confirming the resize and remove the
destination provider from the allocation when reverting a resize. This
patch adds this logic in the RT's drop_move_claim() method.

Change-Id: I6f8afe6680f83125da9381c812016b3623503825
Co-Authored-By: Dan Smith <dms@danplanet.com>
Fixes-bug: #1707071
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/488510/33 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py']",3,5fd744d847e457c5707af2be2bd66786c5f970fc,bug/1707071," # NOTE(jaypipes): This sucks, but due to the fact that confirm_resize() # only runs on the source host, we need to do this here. Basically, # what we're doing here is grabbing the existing allocations for this # instance from the placement API, dropping the resources in the # doubled-up allocation set that refer to the source host UUID and # calling PUT /allocations back to the placement API. The allocation # that gets PUT'd back to placement will only include the destination # host and any shared providers. if prefix == 'old_': # We're on the source host during confirm_resize()... cn_uuid = self.compute_nodes[nodename].uuid res = self.report_client.remove_provider_from_instance_allocation( instance['uuid'], cn_uuid, instance.user_id, instance.project_id) if not res: LOG.warning(""Failed to save manipulated allocation when "" ""confirming resize."", instance=instance) if instance.vm_state not in vm_states.ALLOW_RESOURCE_REMOVAL: # NOTE(jaypipes): If the instance is migrating or resizing, # it's vm_state will be something other than DELETED or # SHELVED_OFFLOADED, and we continue here to ensure that we # do NOT delete the instance allocation. The instance's # allocation will be set on the destination host during # confirming of the resize operation. This will cause the # allocations against the source host to be effectively # deleted. continue",,289,3
openstack%2Fnova~master~Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde,openstack/nova,master,Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde,Require Placement 1.10 in nova-status upgrade check,MERGED,2017-08-09 19:23:50.000000000,2017-08-21 11:57:15.000000000,2017-08-10 20:58:27.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-09 19:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f9e56d0ff717d826b6f4b15f325b6f5fee274dd', 'message': 'Require Placement 1.0 in nova-status upgrade check\n\nThe FilterScheduler is now using the GET /allocation_candidates\nAPI from the Placement service which was added in microversion\n1.10, and the nova-compute service is also going to rely on it\nfor updating allocations during move operations.\n\nSo this makes nova-status require Placement 1.10 as a minimum\nfor Pike. There are already release notes and some docs changes\nmentioning that 1.10 is required for the scheduler and that\nPlacement should be upgraded before the scheduler, so another\nrelease note is not added here.\n\nRelated to blueprint placement-claims\n\nChange-Id: Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde\n'}, {'number': 2, 'created': '2017-08-09 19:27:05.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'nova/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/98246687d750ced28d87c9b64015089c6fcefe9b', 'message': 'Require Placement 1.10 in nova-status upgrade check\n\nThe FilterScheduler is now using the GET /allocation_candidates\nAPI from the Placement service which was added in microversion\n1.10, and the nova-compute service is also going to rely on it\nfor updating allocations during move operations.\n\nSo this makes nova-status require Placement 1.10 as a minimum\nfor Pike. There are already release notes and some docs changes\nmentioning that 1.10 is required for the scheduler and that\nPlacement should be upgraded before the scheduler, so another\nrelease note is not added here.\n\nRelated to blueprint placement-claims\n\nChange-Id: Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde\n'}]",0,492234,98246687d750ced28d87c9b64015089c6fcefe9b,28,8,2,6873,,,0,"Require Placement 1.10 in nova-status upgrade check

The FilterScheduler is now using the GET /allocation_candidates
API from the Placement service which was added in microversion
1.10, and the nova-compute service is also going to rely on it
for updating allocations during move operations.

So this makes nova-status require Placement 1.10 as a minimum
for Pike. There are already release notes and some docs changes
mentioning that 1.10 is required for the scheduler and that
Placement should be upgraded before the scheduler, so another
release note is not added here.

Related to blueprint placement-claims

Change-Id: Iba0a734eb5535ec7cc394858ef15f6eebf8a9bde
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/492234/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_status.py', 'nova/cmd/status.py']",2,8f9e56d0ff717d826b6f4b15f325b6f5fee274dd,bp/placement-claims," # NOTE(rpodolyaka): 1.10 is needed in Pike and further as # FilterScheduler requires GET /allocation_candidates in the # Placement API. needs_version = pkg_resources.parse_version(""1.10"")"," # NOTE(rpodolyaka): 1.4 is needed in Pike and further as # FilterScheduler will no longer fall back to not using placement needs_version = pkg_resources.parse_version(""1.4"")",6,5
openstack%2Fnova~master~I6522100a78241400b1ea059a39a32c259fe6ab90,openstack/nova,master,I6522100a78241400b1ea059a39a32c259fe6ab90,Improve stable-api doc with current API state,MERGED,2017-08-02 08:37:11.000000000,2017-08-21 11:57:08.000000000,2017-08-10 22:01:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-02 08:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7b09afe6321c61d79f6582f040abd35a40d2b10', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 2, 'created': '2017-08-02 08:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6136439ebeff091d88f9860fe307fecc64aafd3', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 3, 'created': '2017-08-02 09:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbd89cc7ba81cfbbc487f90d528294fc016ca7e2', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 4, 'created': '2017-08-02 12:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/047f1d0ac9d2d84fee1d6aa887a92e7d8f1d81c5', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 5, 'created': '2017-08-02 12:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fffa47bfc38982e08c90b7c4419a191f23baf6b', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 6, 'created': '2017-08-04 01:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b0352d68146cb8477ce1a48fa8ac0907625b18b', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 7, 'created': '2017-08-08 05:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73fc4063a8118d421c0d825a4ba78b42a81a926d', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 8, 'created': '2017-08-08 06:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d5ee41f15537ad174172590224fcb1d918d6025', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}, {'number': 9, 'created': '2017-08-09 14:13:20.000000000', 'files': ['doc/source/_static/images/evolution-of-api.png', 'doc/source/reference/stable-api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a03c66710969a713117b2fcdab960ebdef1f3905', 'message': 'Improve stable-api doc with current API state\n\nextensions, stevedore and extensions config options are gone\nand plain router is introduced in Pike.\n\nAlso this documents was little bit confusing about current and\nold state of APIs.\n\nThis commit makes it more clear and reflect the current API state\nand also describe the evolution of APIs.\n\nChange-Id: I6522100a78241400b1ea059a39a32c259fe6ab90\n'}]",33,489926,a03c66710969a713117b2fcdab960ebdef1f3905,71,14,9,8556,,,0,"Improve stable-api doc with current API state

extensions, stevedore and extensions config options are gone
and plain router is introduced in Pike.

Also this documents was little bit confusing about current and
old state of APIs.

This commit makes it more clear and reflect the current API state
and also describe the evolution of APIs.

Change-Id: I6522100a78241400b1ea059a39a32c259fe6ab90
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/489926/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/images/evolution-of-api.png', 'doc/source/reference/stable-api.rst']",2,a7b09afe6321c61d79f6582f040abd35a40d2b10,doc,"of the Pike release -- and also attempts to describe how the Nova team intendsfunctionality. Older code is called the ""v2 API"" and existed in theThe v2 API is the old Nova REST API. It is mostly replaced by v2.1 API. The v2.1 API is the new Nova REST API with a set of improvements whichAlso the v2.1 API is totally backwards compatible with the v2 API (That is the reason we call it as v2.1 API). Evolution of Nova REST API -------------------------- .. image:: /_static/images/evolution-of-api.png Nova v2 API + Extensions ************************ Nova use to have v2 API. In v2 API, there was a concept called 'extension'. An operator can use it to enable/disable part of Nova REST API based on requirements. An end user may query the '/extensions' API to discover what *API functionality* isUnfortunately, because v2 API extensions could be enabled or disabledIn Newton release, extensions magic was deprecated and marked for removal. In Newton release, v2 API code base has been removed and /v2 endpoints were directed to v2.1 code base. Nova v2.1 API + Microvesion *************************** In Kilo release, nova v2.1 API has been released. v2.1 API is supposed to be backward compatible with v2 API with strong input validation using JSON Schema. v2.1 API comes up with microversion concept which is a way to version the API changes. Each new feature or modification in API has to done via microversion bump. API extensions concept was deprecated from the v2.1 API, are no longerAPI functionality should be added via microversion concept and use the microversioning decorators to add or change the REST API. v2.1 API had plugin framework which was using stevedore to load Nova REST API extensions instead of old V2 handcrafted extension load mechanism. There was an argument that the plugin framework supported extensibility in the Nova API to allow deployers to publish custom API resources. In Newton release, config options of blacklist and whitelist extensions and stevedore things were deprecated and marked for removal. The '/extensions' API exposed the list of enabled API functions to users by GET method. However as the above, new API extensions should not be added to the list of this API. The '/extensions' API is frozen in Nova V2.1 API and is deprecated. Plain Router mapping ******************** In Pike release, plain routing of url mapping has been implemented to remove the stevedore logic to load extensions. Hitory ****** Till Pike release, many deprecated things have been removed and became history in Nova API world: * v2 legacy framework. * API extensions concept. * Stevedore magic to load the extension/plugin dynamically. * Configurable way to enable/disable APIs extensions. Current State ------------- Nova v2.1 REST API with Microversion concept is current state of NOVA REST API. The concept of core API and extension API is no more valid and all of them are part of Nova stable REST API.","of the Newton release -- and also attempts to describe how the Nova team intendsfunctionality. Older code is called the ""V2 API"" and existed in theThe V2 API is the old Nova REST API. It is mostly replaced by V2.1 API. The V2.1 API is the new Nova REST API with a set of improvements whichAlso the V2.1 API is totally backwards compatible with the V2 API (That is the reason we call it as V2.1 API). Stable API ---------- In the V2 API, there is a concept called 'extension'. An operator can use it to enable/disable part of Nova REST API based on requirements. An end user may query the '/extensions' API to discover what *API functionality* isUnfortunately, because V2 API extensions could be enabled or disabledAPI extensions, being removed from the v2.1 API, are no longerAPI functionality should use the microversioning decorators to add or change the REST API. The extension is considered as two things in the Nova V2.1 API: * The '/extensions' API This API exposed the list of enabled API functions to users by GET method. However as the above, new API extensions should not be added to the list of this API. The '/extensions' API is frozen in Nova V2.1 API and is deprecated. * The plugin framework One of the improvements in the V2.1 API was using stevedore to load Nova REST API extensions instead of old V2 handcrafted extension load mechanism. There was an argument that the plugin framework supported extensibility in the Nova API to allow deployers to publish custom API resources. From Nove V2.1 REST API, the concept of core API and extension API is eliminated also. There is no difference between Nova V2.1 REST API, all of them are part of Nova stable REST API.",65,30
openstack%2Fnova~master~I005fc24e49487631d7fe73cb498c61619bcaac9d,openstack/nova,master,I005fc24e49487631d7fe73cb498c61619bcaac9d,Create reference subpage,MERGED,2017-08-04 17:20:20.000000000,2017-08-21 11:56:37.000000000,2017-08-08 19:05:46.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 10607}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 17:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e77e75993c5b431c68c963bb06494ae5d36b944', 'message': 'Create reference subpage\n\nIn an attempt to make the main navigation sidebar not be visual mud\n(and really confusing) create a reference sub page that explains all\nthe references.\n\nPart of bp: doc-migration\n\nChange-Id: I005fc24e49487631d7fe73cb498c61619bcaac9d\n'}, {'number': 2, 'created': '2017-08-08 11:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7be39fa55e74792408de7388387b98ca9fcc86bf', 'message': 'Create reference subpage\n\nIn an attempt to make the main navigation sidebar not be visual mud\n(and really confusing) create a reference sub page that explains all\nthe references.\n\nPart of bp: doc-migration\n\nChange-Id: I005fc24e49487631d7fe73cb498c61619bcaac9d\n'}, {'number': 3, 'created': '2017-08-08 12:28:51.000000000', 'files': ['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9efc9d641f26456805d24a5eba90356a9c9b4aa', 'message': 'Create reference subpage\n\nIn an attempt to make the main navigation sidebar not be visual mud\n(and really confusing) create a reference sub page that explains all\nthe references.\n\nPart of bp: doc-migration\n\nChange-Id: I005fc24e49487631d7fe73cb498c61619bcaac9d\n'}]",16,490994,b9efc9d641f26456805d24a5eba90356a9c9b4aa,32,12,3,2750,,,0,"Create reference subpage

In an attempt to make the main navigation sidebar not be visual mud
(and really confusing) create a reference sub page that explains all
the references.

Part of bp: doc-migration

Change-Id: I005fc24e49487631d7fe73cb498c61619bcaac9d
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/490994/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/contributor/index.rst']",3,6e77e75993c5b431c68c963bb06494ae5d36b944,bp/doc-migration,* :doc:`/reference/i18n`: what we require for i18n in patches,,70,19
openstack%2Fnova~master~If20a20e5cce7ab490998643e32556a1016646b07,openstack/nova,master,If20a20e5cce7ab490998643e32556a1016646b07,Raise NoValidHost if no allocation candidates,MERGED,2017-08-07 13:30:23.000000000,2017-08-21 11:56:30.000000000,2017-08-10 07:03:46.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-07 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7957b1c0926a45ba6e697888fb942d408741b76', 'message': 'Raise NoValidHost if no allocation candidates\n\nPlacement took over the role of the CoreFilter, RamFilter and DiskFilter\nfrom the FilterScheduler. Therefore if placement returns no allocation\ncandidates for a request then scheduling should be stopped as this means\nthere is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute\nnode for the request.\n\nChange-Id: If20a20e5cce7ab490998643e32556a1016646b07\nCloses-Bug: #1708637\n'}, {'number': 2, 'created': '2017-08-07 13:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff9c4ee6fcd6039397a2f5e6b10126a6db7d0c3d', 'message': 'Raise NoValidHost if no allocation candidates\n\nPlacement took over the role of the CoreFilter, RamFilter and DiskFilter\nfrom the FilterScheduler. Therefore if placement returns no allocation\ncandidates for a request then scheduling should be stopped as this means\nthere is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute\nnode for the request.\n\nChange-Id: If20a20e5cce7ab490998643e32556a1016646b07\nCloses-Bug: #1708637\n'}, {'number': 3, 'created': '2017-08-07 13:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96f58a93b602d6d69052502750509a36754997a2', 'message': 'Raise NoValidHost if no allocation candidates\n\nPlacement took over the role of the CoreFilter, RamFilter and DiskFilter\nfrom the FilterScheduler. Therefore if placement returns no allocation\ncandidates for a request then scheduling should be stopped as this means\nthere is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute\nnode for the request.\n\nChange-Id: If20a20e5cce7ab490998643e32556a1016646b07\nCloses-Bug: #1708637\n'}, {'number': 4, 'created': '2017-08-07 21:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ff5f96ea02cb156866ca201bcf6f6a33ec869a3', 'message': 'Raise NoValidHost if no allocation candidates\n\nPlacement took over the role of the CoreFilter, RamFilter and DiskFilter\nfrom the FilterScheduler. Therefore if placement returns no allocation\ncandidates for a request then scheduling should be stopped as this means\nthere is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute\nnode for the request.\n\nChange-Id: If20a20e5cce7ab490998643e32556a1016646b07\nCloses-Bug: #1708637\n'}, {'number': 5, 'created': '2017-08-08 12:01:23.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/scheduler/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b0ab40e4233a480c9bdcca657f594d7e90fadc8', 'message': 'Raise NoValidHost if no allocation candidates\n\nPlacement took over the role of the CoreFilter, RamFilter and DiskFilter\nfrom the FilterScheduler. Therefore if placement returns no allocation\ncandidates for a request then scheduling should be stopped as this means\nthere is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute\nnode for the request.\n\nChange-Id: If20a20e5cce7ab490998643e32556a1016646b07\nCloses-Bug: #1708637\n'}]",12,491491,6b0ab40e4233a480c9bdcca657f594d7e90fadc8,68,16,5,9708,,,0,"Raise NoValidHost if no allocation candidates

Placement took over the role of the CoreFilter, RamFilter and DiskFilter
from the FilterScheduler. Therefore if placement returns no allocation
candidates for a request then scheduling should be stopped as this means
there is not enough VCPU, MEMORY_MB, or DISK_GB available in any compute
node for the request.

Change-Id: If20a20e5cce7ab490998643e32556a1016646b07
Closes-Bug: #1708637
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/491491/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/functional/test_servers.py']",2,a7957b1c0926a45ba6e697888fb942d408741b76,bug/1708637," resp = self.api.post_server_action( server['id'], resize_req, check_response_status=[400]) self.assertEqual( resp['badRequest']['message'], ""No valid host was found. No valid host found for resize"") server = self.admin_api.get_server(server['id']) self.assertEqual(source_hostname, server['OS-EXT-SRV-ATTR:host'])"," # NOTE(gibi): This is bug 1708637. Placement returns no allocation # candidate and the scheduler falls back to the legacy filtering. As # CoreFilter is not enabled the filtering result in hosts selected # without enough VCPU resource self.api.post_server_action(server['id'], resize_req) server = self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') self.assertEqual(dest_hostname, server['OS-EXT-SRV-ATTR:host']) # Note(gibi): After bug 1708637 is fixed the following is expected # resp = self.api.post_server_action( # server['id'], resize_req, check_response_status=[400]) # self.assertEqual( # resp['badRequest']['message'], # ""No valid host was found. No valid host found for resize"") # server = self.admin_api.get_server(server['id']) # self.assertEqual(source_hostname, server['OS-EXT-SRV-ATTR:host'])",9,24
openstack%2Fnova~master~If7da79356174be57481ef246618221e3b2ff8200,openstack/nova,master,If7da79356174be57481ef246618221e3b2ff8200,Fix migrate single instance when it was created concurrently,MERGED,2017-08-07 11:12:07.000000000,2017-08-21 11:56:18.000000000,2017-08-09 12:50:51.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-07 11:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b578010ed7a5341d87cbb61af826673e05f78b', 'message': ""Fix migrate single instance when it was created concurrently\n\nWhen a multiple-instance creation is requested by the user, we create a single\nRequestSpec per instance (each of them having the corresponding instance UUID)\nbut we keep track of how many concurrent instances were created at once by\nupdating a field named 'num_instances' and we persist it.\n\nUnfortunately, due to Ifc5cf482209e4f6f4e3e39b24389bd3563d86444 we now lookup\nthat field in the scheduler for knowing how many allocations to do. Since a\nmove operation will only pass a single instance UUID to migrate to the scheduler,\nthere is a discrepancy that can lead to an ugly IndexError.\nDefaulting that loop to be what is passed over RPC unless we don't have it and\nthen we default back to what we know from the RequestSpec record.\n\nChange-Id: If7da79356174be57481ef246618221e3b2ff8200\nCloses-Bug: #1708961\n""}, {'number': 2, 'created': '2017-08-07 13:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/929c83d4c3c9657bab627f9f0a994bb3b9c27a54', 'message': ""Fix migrate single instance when it was created concurrently\n\nWhen a multiple-instance creation is requested by the user, we create a single\nRequestSpec per instance (each of them having the corresponding instance UUID)\nbut we keep track of how many concurrent instances were created at once by\nupdating a field named 'num_instances' and we persist it.\n\nUnfortunately, due to Ifc5cf482209e4f6f4e3e39b24389bd3563d86444 we now lookup\nthat field in the scheduler for knowing how many allocations to do. Since a\nmove operation will only pass a single instance UUID to migrate to the scheduler,\nthere is a discrepancy that can lead to an ugly IndexError.\nDefaulting that loop to be what is passed over RPC unless we don't have it and\nthen we default back to what we know from the RequestSpec record.\n\nChange-Id: If7da79356174be57481ef246618221e3b2ff8200\nCloses-Bug: #1708961\n""}, {'number': 3, 'created': '2017-08-07 16:50:21.000000000', 'files': ['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bd7df84dcf8a45ce92b82f2360a1b39df522297', 'message': ""Fix migrate single instance when it was created concurrently\n\nWhen a multiple-instance creation is requested by the user, we create a\nsingle RequestSpec per instance (each of them having the corresponding\ninstance UUID) but we keep track of how many concurrent instances were\ncreated at once by updating a field named 'num_instances' and we persist\nit.\n\nUnfortunately, due to Ifc5cf482209e4f6f4e3e39b24389bd3563d86444 we now\nlookup that field in the scheduler for knowing how many allocations to\ndo. Since a move operation will only pass a single instance UUID to\nmigrate to the scheduler, there is a discrepancy that can lead to an\nugly IndexError. Defaulting that loop to be what is passed over RPC\nunless we don't have it and then we default back to what we know from\nthe RequestSpec record.\n\nChange-Id: If7da79356174be57481ef246618221e3b2ff8200\nCloses-Bug: #1708961\n""}]",6,491439,2bd7df84dcf8a45ce92b82f2360a1b39df522297,79,16,3,7166,,,0,"Fix migrate single instance when it was created concurrently

When a multiple-instance creation is requested by the user, we create a
single RequestSpec per instance (each of them having the corresponding
instance UUID) but we keep track of how many concurrent instances were
created at once by updating a field named 'num_instances' and we persist
it.

Unfortunately, due to Ifc5cf482209e4f6f4e3e39b24389bd3563d86444 we now
lookup that field in the scheduler for knowing how many allocations to
do. Since a move operation will only pass a single instance UUID to
migrate to the scheduler, there is a discrepancy that can lead to an
ugly IndexError. Defaulting that loop to be what is passed over RPC
unless we don't have it and then we default back to what we know from
the RequestSpec record.

Change-Id: If7da79356174be57481ef246618221e3b2ff8200
Closes-Bug: #1708961
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/491439/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",2,c6b578010ed7a5341d87cbb61af826673e05f78b,bug/1708961," def _test_schedule_successful_claim(self, mock_get_hosts, mock_get_all_states, mock_claim, num_instances=1): num_instances=num_instances, def test_schedule_successful_claim(self): self._test_schedule_successful_claim() def test_schedule_old_reqspec_and_move_operation(self): """"""This test is for verifying that in case of a move operation with an original RequestSpec created for 10 concurrent instances, we only verify the instance that is moved."""""" self._test_schedule_successful_claim(num_instances=3) "," def test_schedule_successful_claim(self, mock_get_hosts, mock_get_all_states, mock_claim): num_instances=1,",18,5
openstack%2Fnova~master~I9377e988fbdc822df46e91c0db6c8012697bc2ee,openstack/nova,master,I9377e988fbdc822df46e91c0db6c8012697bc2ee,Fix getting instance bdms in multiple cells,MERGED,2017-08-03 06:22:49.000000000,2017-08-21 11:55:53.000000000,2017-08-04 20:17:18.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10234}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-08-03 06:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc86565cdf5cf50003ce4e6ac63a38e46892568c', 'message': ""Fix getting instance bdms in multiple cells\n\nIn the 'detail' method of ExtendedVolumesController\nrelated to 'GET /servers/detail' API,\nmultiple cells environemnt is not taken into account\nwhen getting instance BDMs.\nSo fix it.\n\nChange-Id: I9377e988fbdc822df46e91c0db6c8012697bc2ee\nCloses-Bug: #1708210\n""}, {'number': 2, 'created': '2017-08-04 14:45:15.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_extended_volumes.py', 'nova/api/openstack/compute/extended_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a2f45a5b2e90b0a5650f5069b77dd2a8ddfc4a4', 'message': ""Fix getting instance bdms in multiple cells\n\nIn the 'detail' method of ExtendedVolumesController\nrelated to 'GET /servers/detail' API,\nmultiple cells environemnt is not taken into account\nwhen getting instance BDMs.\nSo fix it.\n\nChange-Id: I9377e988fbdc822df46e91c0db6c8012697bc2ee\nCloses-Bug: #1708210\n""}]",14,490340,0a2f45a5b2e90b0a5650f5069b77dd2a8ddfc4a4,42,17,2,7634,,,0,"Fix getting instance bdms in multiple cells

In the 'detail' method of ExtendedVolumesController
related to 'GET /servers/detail' API,
multiple cells environemnt is not taken into account
when getting instance BDMs.
So fix it.

Change-Id: I9377e988fbdc822df46e91c0db6c8012697bc2ee
Closes-Bug: #1708210
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/490340/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_extended_volumes.py', 'nova/api/openstack/compute/extended_volumes.py']",2,fc86565cdf5cf50003ce4e6ac63a38e46892568c,bug/1708210,"from nova import context def _get_instance_bdms_in_multiple_cells(self, ctxt, servers): instance_uuids = [server['id'] for server in servers] inst_maps = objects.InstanceMappingList.get_by_instance_uuids( ctxt, instance_uuids) cell_mappings = {} for inst_map in inst_maps: if (inst_map.cell_mapping is not None and inst_map.cell_mapping.uuid not in cell_mappings): cell_mappings.update( {inst_map.cell_mapping.uuid: inst_map.cell_mapping}) bdms = {} for cell_mapping in cell_mappings.values(): with context.target_cell(ctxt, cell_mapping) as cctxt: bdms.update( objects.BlockDeviceMappingList.bdms_by_instance_uuid( cctxt, instance_uuids)) return bdms bdms = self._get_instance_bdms_in_multiple_cells(context, servers)"," instance_uuids = [server['id'] for server in servers] bdms = objects.BlockDeviceMappingList.bdms_by_instance_uuid( context, instance_uuids)",40,4
openstack%2Fnova~master~Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c,openstack/nova,master,Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c,policies: Fix Sphinx issues,MERGED,2017-07-05 11:00:40.000000000,2017-08-21 11:55:33.000000000,2017-08-04 06:59:52.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-05 11:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76726d0946205f9b25b0fe6ffaaf5f515111f585', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2017-07-12 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dc5286ebcda2a0e09cc5ba91f44ea3ceb1965ef', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2017-07-12 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1f087d5b45da8e41bcbc56825a7e168a9ac10e1', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2017-07-13 14:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7562877aae701fa224a12e372edb2c0e3dd9aa6', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2017-07-18 14:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3287027492d6ed5805b31fadfba1aea21b75f49b', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2017-08-02 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96ac9e21986e48766d3342f696ad9a96b6845f01', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2017-08-03 16:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bf92c27903810274467ad0cdc99f79aa43ecc25', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2017-08-03 20:06:34.000000000', 'files': ['nova/policies/extended_server_attributes.py', 'nova/policies/extended_status.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c28bb51978aa695a752442fddcd94c4e66427a3f', 'message': 'policies: Fix Sphinx issues\n\nThese cause issues with oslo_policy.sphinxext.\n\nChange-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,480516,c28bb51978aa695a752442fddcd94c4e66427a3f,101,17,8,15334,,,0,"policies: Fix Sphinx issues

These cause issues with oslo_policy.sphinxext.

Change-Id: Icac6eaba7a24bb0ccf141aebeadc7408f2725a4c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/480516/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/extended_server_attributes.py', 'nova/policies/extended_status.py']",2,76726d0946205f9b25b0fe6ffaaf5f515111f585,doc-migration, - ``OS-EXT-STS:task_state`` - ``OS-EXT-STS:vm_state`` - ``OS-EXT-STS:power_state``, OS-EXT-STS:task_state OS-EXT-STS:vm_state OS-EXT-STS:power_state,15,12
openstack%2Fnova~master~I278f71d5c4baaafcfc03746b981d32a8d570ddc5,openstack/nova,master,I278f71d5c4baaafcfc03746b981d32a8d570ddc5,imagebackend: cleanup constructor args to Rbd,MERGED,2017-08-03 14:27:27.000000000,2017-08-21 11:55:27.000000000,2017-08-10 11:46:28.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-03 14:27:27.000000000', 'files': ['nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a285996c488a155fc453c48917ccbc297424079b', 'message': 'imagebackend: cleanup constructor args to Rbd\n\nkwargs can never be used due to the way these objects are created. All\nconstructor arguments need to be identical, so this is an anomaly.\n\nChange-Id: I278f71d5c4baaafcfc03746b981d32a8d570ddc5\n'}]",0,490499,a285996c488a155fc453c48917ccbc297424079b,20,5,1,9555,,,0,"imagebackend: cleanup constructor args to Rbd

kwargs can never be used due to the way these objects are created. All
constructor arguments need to be identical, so this is an anomaly.

Change-Id: I278f71d5c4baaafcfc03746b981d32a8d570ddc5
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/490499/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/imagebackend.py'],1,a285996c488a155fc453c48917ccbc297424079b,bz865335," def __init__(self, instance=None, disk_name=None, path=None):"," def __init__(self, instance=None, disk_name=None, path=None, **kwargs):",1,1
openstack%2Fnova~master~I2feee4018a332483658d24d299dbb04ec87f2df0,openstack/nova,master,I2feee4018a332483658d24d299dbb04ec87f2df0,Fix list rendering in bdm doc.,MERGED,2017-08-03 12:00:53.000000000,2017-08-21 11:55:14.000000000,2017-08-03 13:56:40.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 12:00:53.000000000', 'files': ['doc/source/user/block-device-mapping.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/33617699108bb3eb9632af3800e918915a7e38c8', 'message': 'Fix list rendering in bdm doc.\n\nWhat looked clear in the rst actually was far from clear when rendered\nin HTML. The document was restructured a bit so all the options end up\nin a single bullet list, and the combination description is a separate\nsection.\n\nPart of bp: doc-migration\n\nChange-Id: I2feee4018a332483658d24d299dbb04ec87f2df0\n'}]",1,490446,33617699108bb3eb9632af3800e918915a7e38c8,13,7,1,2750,,,0,"Fix list rendering in bdm doc.

What looked clear in the rst actually was far from clear when rendered
in HTML. The document was restructured a bit so all the options end up
in a single bullet list, and the combination description is a separate
section.

Part of bp: doc-migration

Change-Id: I2feee4018a332483658d24d299dbb04ec87f2df0
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/490446/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/block-device-mapping.rst'],1,33617699108bb3eb9632af3800e918915a7e38c8,bp/doc-migration," * `image` * `volume` * `snapshot` * `blank` * `local` * `volume`Valid source / dest combinations ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Combination of the ``source_type`` and ``dest_type`` will define the kind of block device the entry is referring to. The following combinations are supported: * `image` -> `local` - this is only currently reserved for the entry referring to the Glance image that the instance is being booted with (it should also be marked as a boot device). It is also worth noting that an API request that specifies this, also has to provide the same Glance uuid as the `image_ref` parameter to the boot request (this is done for backwards compatibility and may be changed in the future). This functionality might be extended to specify additional Glance images to be attached to an instance after boot (similar to kernel/ramdisk images) but this functionality is not supported by any of the current drivers. * `volume` -> `volume` - this is just a Cinder volume to be attached to the instance. It can be marked as a boot device. * `snapshot` -> `volume` - this works exactly as passing `type=snap` does. It would create a volume from a Cinder volume snapshot and attach that volume to the instance. Can be marked bootable. * `image` -> `volume` - As one would imagine, this would download a Glance image to a cinder volume and attach it to an instance. Can also be marked as bootable. This is really only a shortcut for creating a volume out of an image before booting an instance with the newly created volume. * `blank` -> `volume` - Creates a blank Cinder volume and attaches it. This will also require the volume size to be set. * `blank` -> `local` - Depending on the guest_format field (see below), this will either mean an ephemeral blank disk on hypervisor local storage, or a swap disk (instances can have only one of those). Nova will not allow mixing of BDMv1 and BDMv2 in a single request, and will do basic validation to make sure that the requested block device mapping is valid before accepting a boot request."," * `image` * `volume` * `snapshot` * `blank` * `local` * `volume` Combination of the above two fields would define what kind of block device the entry is referring to. We currently support the following combinations: * `image` -> `local` - this is only currently reserved for the entry referring to the Glance image that the instance is being booted with (it should also be marked as a boot device). It is also worth noting that an API request that specifies this, also has to provide the same Glance uuid as the `image_ref` parameter to the boot request (this is done for backwards compatibility and may be changed in the future). This functionality might be extended to specify additional Glance images to be attached to an instance after boot (similar to kernel/ramdisk images) but this functionality is not supported by any of the current drivers. * `volume` -> `volume` - this is just a Cinder volume to be attached to the instance. It can be marked as a boot device. * `snapshot` -> `volume` - this works exactly as passing `type=snap` does. It would create a volume from a Cinder volume snapshot and attach that volume to the instance. Can be marked bootable. * `image` -> `volume` - As one would imagine, this would download a Glance image to a cinder volume and attach it to an instance. Can also be marked as bootable. This is really only a shortcut for creating a volume out of an image before booting an instance with the newly created volume. * `blank` -> `volume` - Creates a blank Cinder volume and attaches it. This will also require the volume size to be set. * `blank` -> `local` - Depending on the guest_format field (see below), this will either mean an ephemeral blank disk on hypervisor local storage, or a swap disk (instances can have only one of those). Nova will not allow mixing of two formats in a single request, and will do basic validation to make sure that the requested block device mapping is valid before accepting a boot request.",41,37
openstack%2Fnova~master~Ic1d1383148b005b884fdfa3e9a9658adcb13ee70,openstack/nova,master,Ic1d1383148b005b884fdfa3e9a9658adcb13ee70,Fix lists in process doc,MERGED,2017-08-03 11:32:13.000000000,2017-08-21 11:55:07.000000000,2017-08-03 13:37:11.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 11:32:13.000000000', 'files': ['doc/source/contributor/process.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce53afce8c7605bef412a393f193414c448e92c8', 'message': ""Fix lists in process doc\n\nA lot of our rst was actually misformatted with extra spaces indenting\nthe bullet lists. This wasn't very visually noticable in the\noslosphinx theme, but it's really bad in the new theme. There will\nneed to be lots of fixes here, but will do them one page at a time.\n\nPart of bp: doc-migration\n\nChange-Id: Ic1d1383148b005b884fdfa3e9a9658adcb13ee70\n""}]",3,490431,ce53afce8c7605bef412a393f193414c448e92c8,15,7,1,2750,,,0,"Fix lists in process doc

A lot of our rst was actually misformatted with extra spaces indenting
the bullet lists. This wasn't very visually noticable in the
oslosphinx theme, but it's really bad in the new theme. There will
need to be lots of fixes here, but will do them one page at a time.

Part of bp: doc-migration

Change-Id: Ic1d1383148b005b884fdfa3e9a9658adcb13ee70
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/490431/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/process.rst'],1,ce53afce8c7605bef412a393f193414c448e92c8,bp/doc-migration," - make sure all code is up for review - so we can optimise for completed features, not lots of half completed features - make sure all feature code is merged - give translators time to translate all our strings - Note: debug logs are no longer translated - time to co-ordinate the final list of dependencies, and give packagers time to package them - generally it is also quite destabilising to take upgrades (beyond bug fixes) this late"," - make sure all code is up for review - so we can optimise for completed features, not lots of half completed features - make sure all feature code is merged - give translators time to translate all our strings - Note: debug logs are no longer translated - time to co-ordinate the final list of dependencies, and give packagers time to package them - generally it is also quite destabilising to take upgrades (beyond bug fixes) this late",10,10
openstack%2Fnova~master~I361fa1e534d7b20c985558e272b672b84c6fe439,openstack/nova,master,I361fa1e534d7b20c985558e272b672b84c6fe439,[placement] Require at least one allocation when PUT,MERGED,2017-08-02 20:25:36.000000000,2017-08-21 11:54:59.000000000,2017-08-04 09:18:27.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-02 20:25:36.000000000', 'files': ['nova/api/openstack/placement/handlers/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9155da345e5d6d1aee293bc66f746da52bca4c79', 'message': ""[placement] Require at least one allocation when PUT\n\nWhen doing a PUT to /allocations/{consumer_uuid} if the list of\nallocations is empty there is a 500 error coming from an uncaught\nIndexError.\n\nAdjust the schema to require at least one allocation. If no allocations\nare provided in the list, the response will be a 400.\n\nThis doesn't require a microversion because it is changing a 500 to\na useful response.\n\nChange-Id: I361fa1e534d7b20c985558e272b672b84c6fe439\nCloses-Bug: #1708260\n""}]",0,490195,9155da345e5d6d1aee293bc66f746da52bca4c79,20,6,1,11564,,,0,"[placement] Require at least one allocation when PUT

When doing a PUT to /allocations/{consumer_uuid} if the list of
allocations is empty there is a 500 error coming from an uncaught
IndexError.

Adjust the schema to require at least one allocation. If no allocations
are provided in the list, the response will be a 400.

This doesn't require a microversion because it is changing a 500 to
a useful response.

Change-Id: I361fa1e534d7b20c985558e272b672b84c6fe439
Closes-Bug: #1708260
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/490195/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/handlers/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml']",2,9155da345e5d6d1aee293bc66f746da52bca4c79,bug/1708260,"- name: put an allocation empty list PUT: /allocations/599ffd2d-526a-4b2e-8683-f13ad25f9958 request_headers: content-type: application/json data: allocations: [] status: 400 response_strings: - ""Failed validating 'minItems'"" ",,11,0
openstack%2Fnova~master~I8cd056fa17184a98c31547add0e9fb2d363d0908,openstack/nova,master,I8cd056fa17184a98c31547add0e9fb2d363d0908,Detach device from live domain even if not found on persistent,MERGED,2017-07-28 17:26:33.000000000,2017-08-21 11:54:45.000000000,2017-08-07 21:47:34.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-28 17:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e4cd421e0bee9185b13d7afaa79a560ead1dc2a', 'message': ""Detach device from live domain even if not found on persistent\n\nIn a past attempt to fix a bug [1], we started raising DeviceNotFound\nif a device wasn't found on the persistent domain. This was to address\na scenario where the guest ignored the detach from the live domain\nbecause it was busy and we wanted to avoid failing a later detach\nrequest to the user (compute handles DeviceNotFound).\n\nUnfortunately, in the above case, a later detach request won't fail to\nthe user but it also won't detach from the live domain. It sees the\ndevice already detached from the persistent domain and doesn't attempt\nto detach from the live domain.\n\nThis is a serious problem because it's possible for a volume to be\nattached to two live domains and data corruption can occur.\n\nThis adds an attempt to detach from the live domain even if we had\nalready detached from the persistent domain in the past.\n\nCloses-Bug: #1707238\n\n[1] https://review.openstack.org/386257\n\nChange-Id: I8cd056fa17184a98c31547add0e9fb2d363d0908\n""}, {'number': 2, 'created': '2017-08-01 20:18:11.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d39934ad6afb7e2729bb45235f363ada86012d15', 'message': ""Detach device from live domain even if not found on persistent\n\nIn a past attempt to fix a bug [1], we started raising DeviceNotFound\nif a device wasn't found on the persistent domain. This was to address\na scenario where the guest ignored the detach from the live domain\nbecause it was busy and we wanted to avoid failing a later detach\nrequest to the user (compute handles DeviceNotFound).\n\nUnfortunately, in the above case, a later detach request won't fail to\nthe user but it also won't detach from the live domain. It sees the\ndevice already detached from the persistent domain and doesn't attempt\nto detach from the live domain.\n\nThis is a serious problem because it's possible for a volume to be\nattached to two live domains and data corruption can occur.\n\nThis adds an attempt to detach from the live domain even if we had\nalready detached from the persistent domain in the past.\n\nCloses-Bug: #1707238\n\n[1] https://review.openstack.org/386257\n\nChange-Id: I8cd056fa17184a98c31547add0e9fb2d363d0908\n""}]",4,488545,d39934ad6afb7e2729bb45235f363ada86012d15,33,16,2,4690,,,0,"Detach device from live domain even if not found on persistent

In a past attempt to fix a bug [1], we started raising DeviceNotFound
if a device wasn't found on the persistent domain. This was to address
a scenario where the guest ignored the detach from the live domain
because it was busy and we wanted to avoid failing a later detach
request to the user (compute handles DeviceNotFound).

Unfortunately, in the above case, a later detach request won't fail to
the user but it also won't detach from the live domain. It sees the
device already detached from the persistent domain and doesn't attempt
to detach from the live domain.

This is a serious problem because it's possible for a volume to be
attached to two live domains and data corruption can occur.

This adds an attempt to detach from the live domain even if we had
already detached from the persistent domain in the past.

Closes-Bug: #1707238

[1] https://review.openstack.org/386257

Change-Id: I8cd056fa17184a98c31547add0e9fb2d363d0908
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/488545/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']",2,7e4cd421e0bee9185b13d7afaa79a560ead1dc2a,bug/1707238," try: _try_detach_device(conf, persistent, live) except exception.DeviceNotFound: # NOTE(melwitt): If the persistent domain device wasn't found, we # should still try to detach the live device, so continue. if persistent: pass else: raise"," _try_detach_device(conf, persistent, live)",28,9
openstack%2Fnova~master~I23ed64d5c48f520f115d64a97c748e5b49bb5f20,openstack/nova,master,I23ed64d5c48f520f115d64a97c748e5b49bb5f20,Additional assertions to resize tests,MERGED,2017-08-01 19:02:13.000000000,2017-08-21 11:54:38.000000000,2017-08-02 07:04:46.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 15941}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-08-01 19:02:13.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dea7a19c361be8180c35ed09ce12434de0e9fc87', 'message': 'Additional assertions to resize tests\n\nAdds a number of assertions that usage and allocation records are what\nwe expect at the following times:\n\n* After boot on the source host but before running periodics After\n* resize operation but before confirming or reverting and before\n  running periodics\n\nChange-Id: I23ed64d5c48f520f115d64a97c748e5b49bb5f20\nRelated-bug: #1707071\n'}]",1,489714,dea7a19c361be8180c35ed09ce12434de0e9fc87,16,6,1,7,,,0,"Additional assertions to resize tests

Adds a number of assertions that usage and allocation records are what
we expect at the following times:

* After boot on the source host but before running periodics After
* resize operation but before confirming or reverting and before
  running periodics

Change-Id: I23ed64d5c48f520f115d64a97c748e5b49bb5f20
Related-bug: #1707071
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/489714/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,dea7a19c361be8180c35ed09ce12434de0e9fc87,bug/1707071," dest_rp_uuid = self._get_provider_uuid_by_host( self._other_hostname(source_hostname)) # Before we run periodics, make sure that we have allocations/usages # only on the source host dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations), 'No allocation for the server on the host it' 'is booted on') allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(flavor, allocation) self._run_periodics() # After running the periodics but before we start any resize operation, # we should have exactly the same allocation/usage information as # before running the periodics # Check usages on the selected host after boot source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(flavor, source_usages) # Check that the other provider has no usage # OK, so the resize operation has run, but we have not yet confirmed or # reverted the resize operation. Before we run periodics, make sure # that we have allocations/usages on BOTH the source and the # destination hosts (because during select_destinations(), the # scheduler should have created a ""doubled-up"" allocation referencing # both the source and destination hosts source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(old_flavor, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(new_flavor, dest_usages) # Check that the server allocates resource from both source and dest allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations), 'Expected scheduler to create doubled-up allocation') source_alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(old_flavor, source_alloc) dest_alloc = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(new_flavor, dest_alloc) ", self._run_periodics() # Check usages on the selected host after boot dest_rp_uuid = self._get_provider_uuid_by_host( self._other_hostname(source_hostname)),50,5
openstack%2Fnova~master~If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7,openstack/nova,master,If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7,Test resize with placement api,MERGED,2017-07-27 17:33:05.000000000,2017-08-21 11:54:31.000000000,2017-08-01 18:36:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-27 17:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7e76c92ecaa20f1441463365d35c2b9f4004185', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis tests are pretty unstable. I saw both test cases passing and\nfailing with seeming timing issues in my env. Also it has some\ncommented out assert that I expect to pass but still fails at the\nmoment.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 2, 'created': '2017-07-28 08:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/367b4aa8177889947d24c46981f92ef3e44099c3', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis tests are pretty unstable. I saw both test cases passing and\nfailing with seeming timing issues in my env. Also it has some\ncommented out assert that I expect to pass but still fails at the\nmoment.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 3, 'created': '2017-07-31 11:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/363a1ac6aac38688ac8d72f34a7a79847ab69fe9', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nStill there are some commented out asserts that I expect to pass but\nfails at the moment.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 4, 'created': '2017-07-31 13:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/402c4e566ca6f254f44349d8e90ca63a8a6c4f86', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host1 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617009/\n* Target host host2 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617007/\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 5, 'created': '2017-07-31 14:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef324a59c2035135c295ade42ba3608c249a35ab', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 6, 'created': '2017-07-31 14:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99679840fa24920ce467d1348e550613845c5ace', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 7, 'created': '2017-07-31 16:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efc62d3e0ae2fbdce95a15ba52a6c47972d813dc', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 8, 'created': '2017-07-31 20:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/547d5dbb482a4ec1fa3134344b87e06d4cceaf3d', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 9, 'created': '2017-07-31 21:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d352e098d424d35379761c144a39693e0d19038', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 10, 'created': '2017-07-31 21:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d10184724ad1602fa8edb4cb1d6b17734e78d78', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 11, 'created': '2017-07-31 21:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a085d06473cbe9d7fcd1cf6920a8b8a8384ec434', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 12, 'created': '2017-07-31 21:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88e6d4e10bda3ed17c3e737cb441edc8440fa109', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios has been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nAt least the tests are failing at a stable points:\n* The original host host2 still has usages after the resize has been confirmed\n** http://paste.openstack.org/show/617019/\n* Target host host1 still has usage after the resize has been reverted\n** http://paste.openstack.org/show/617017/\n\nThe double allocations are not collapsed and usages are still\nduplicated after confirm/revert.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 13, 'created': '2017-07-31 21:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08b688655c7368cba1a49a96cf9652f7822c463a', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 14, 'created': '2017-07-31 22:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/721ef2791acef30b86f1d4a00e1670ba405144fb', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 15, 'created': '2017-08-01 10:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a884e0a693472334f3ae0687c872e6df0f15a077', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 16, 'created': '2017-08-01 10:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/667c5eba1273baa12cbda3eb9751f955a0f903ed', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 17, 'created': '2017-08-01 12:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09d1fe7f08ca585bf92f940c724bac94ffa38f99', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 18, 'created': '2017-08-01 13:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f91ba29350c1dec3d0174a3aaff4187beb87e0cb', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 19, 'created': '2017-08-01 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c20fee2ac8b485363bd413a7fefe8f9fe96ab62c', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 20, 'created': '2017-08-01 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1425096c3e9a4048438df40a52232571ddb331d0', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 21, 'created': '2017-08-01 15:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c92e155cc965a506cfded41cf8f545019e0b228', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}, {'number': 22, 'created': '2017-08-01 15:49:42.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8dd11ca1b34e1ed58b4632d09fabd6a6a9425ec0', 'message': 'Test resize with placement api\n\nTest cases for resize with confirm and revert scenarios have been\nadded.\n\nThis test depends on the periodic update_available_resources call to heal\nthe resource allocations. The fake virt driver needed to be tweaked to\nwork when more than one compute service is created and periodic tasks\nare enabled.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nChange-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7\nblueprint: placement-claims\n'}]",69,487958,8dd11ca1b34e1ed58b4632d09fabd6a6a9425ec0,140,21,22,9708,,,0,"Test resize with placement api

Test cases for resize with confirm and revert scenarios have been
added.

This test depends on the periodic update_available_resources call to heal
the resource allocations. The fake virt driver needed to be tweaked to
work when more than one compute service is created and periodic tasks
are enabled.

The accounting of the current code is very incorrect at the moment, so this
asserts the existing (wrong) behavior, but marks the actual expected
values everywhere so that we can follow up with fixes to remove all of the
annotations.

Change-Id: If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7
blueprint: placement-claims
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/487958/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py']",5,b7e76c92ecaa20f1441463365d35c2b9f4004185,bug/1707071,"from nova.tests import fixtures as nova_fixturesimport nova.tests.unit.image.fake from nova.tests.unit import policy_fixture from nova.virt import fake class ServerMovingTests(test.TestCase, integrated_helpers.InstanceHelperMixin): REQUIRES_LOCKING = True microversion = None _enabled_filters = ['RetryFilter', 'ComputeFilter'] def setUp(self): self.flags(enabled_filters=self._enabled_filters, group='filter_scheduler') super(ServerMovingTests, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) placement = self.useFixture(nova_fixtures.PlacementFixture()) self.placement_api = placement.api api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.api self.api.microversion = self.microversion self.admin_api = api_fixture.admin_api self.admin_api.microversion = self.microversion # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.start_service('scheduler') self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) fake.set_nodes(['host1']) self.compute = self.start_service('compute', host='host1') # NOTE(sbauza): Make sure the FakeDriver returns a different nodename # for the second compute node. fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.compute2 = self.start_service('compute', host='host2') fake_network.set_stub_network_methods(self) def _other_host(self, host): other_host = {'host1': 'host2', 'host2': 'host1'} return other_host[host] def _get_provider_uuid_by_host(self, host): providers = self.placement_api.get( '/resource_providers?name=%s' % host).body return providers['resource_providers'][0]['uuid'] def _get_provider_usages(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/usages' % provider_uuid).body['usages'] def test_resize_revert(self): flavors = self.api.get_flavors() server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=flavors[0]['id']) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.admin_api, created_server, 'ACTIVE') # Check usages on the selected host after boot host = server['OS-EXT-SRV-ATTR:host'] provider_uuid = self._get_provider_uuid_by_host(host) usages = self._get_provider_usages(provider_uuid) self.assertEqual(flavors[0]['vcpus'], usages['VCPU']) self.assertEqual(flavors[0]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[0]['disk'], usages['DISK_GB']) # Check that the other provider has no usage other_provider_uuid = self._get_provider_uuid_by_host( self._other_host(host)) usages = self._get_provider_usages(other_provider_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, usages) # Resize the server and check usages in VERIFY_RESIZE state self.flags(allow_resize_to_same_host=False) resize_req = { 'resize': { 'flavorRef': flavors[1]['id'] } } self.api.post_server_action(server['id'], resize_req) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') original_host = host target_host = self._other_host(original_host) # the original host expected to have the old resource allocation provider_uuid = self._get_provider_uuid_by_host(original_host) usages = self._get_provider_usages(provider_uuid) self.assertEqual(flavors[0]['vcpus'], usages['VCPU']) self.assertEqual(flavors[0]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[0]['disk'], usages['DISK_GB']) # the destination host expected to have resource allocation based on # the new flavor the server is resized to other_provider_uuid = self._get_provider_uuid_by_host(target_host) usages = self._get_provider_usages(other_provider_uuid) self.assertEqual(flavors[1]['vcpus'], usages['VCPU']) self.assertEqual(flavors[1]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[1]['disk'], usages['DISK_GB']) # Revert the resize and check that the usages post = {'revertResize': None} self.api.post_server_action(server['id'], post) self._wait_for_state_change(self.api, server, 'ACTIVE') # the original host expected to have the old resource allocation provider_uuid = self._get_provider_uuid_by_host(original_host) usages = self._get_provider_usages(provider_uuid) self.assertEqual(flavors[0]['vcpus'], usages['VCPU']) self.assertEqual(flavors[0]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[0]['disk'], usages['DISK_GB']) # and the target host allocation should be freed # FIXME(gibi): This is not true in practice, it seems to be a bug # commenting it out to test the delete part # # other_provider_uuid = self._get_provider_uuid_by_host(target_host) # usages = self._get_provider_usages(other_provider_uuid) # self.assertEqual({'VCPU': 0, # 'MEMORY_MB': 0, # 'DISK_GB': 0}, usages) # Check usages after delete self.api.delete_server(server['id']) self._wait_until_deleted(server) # both provider should have zero usage provider_uuid = self._get_provider_uuid_by_host(original_host) usages = self._get_provider_usages(provider_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, usages) provider_uuid = self._get_provider_uuid_by_host(target_host) usages = self._get_provider_usages(provider_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, usages) def test_resize_confirm(self): flavors = self.api.get_flavors() server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=flavors[0]['id']) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.admin_api, created_server, 'ACTIVE') # Check usages on the selected host after boot host = server['OS-EXT-SRV-ATTR:host'] provider_uuid = self._get_provider_uuid_by_host(host) usages = self._get_provider_usages(provider_uuid) self.assertEqual(flavors[0]['vcpus'], usages['VCPU']) self.assertEqual(flavors[0]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[0]['disk'], usages['DISK_GB']) # Check that the other provider has no usage other_provider_uuid = self._get_provider_uuid_by_host( self._other_host(host)) usages = self._get_provider_usages(other_provider_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, usages) # Resize the server and check usages in VERIFY_RESIZE state self.flags(allow_resize_to_same_host=False) resize_req = { 'resize': { 'flavorRef': flavors[1]['id'] } } self.api.post_server_action(server['id'], resize_req) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') original_host = host target_host = self._other_host(original_host) # the original host expected to have the old resource allocation provider_uuid = self._get_provider_uuid_by_host(original_host) usages = self._get_provider_usages(provider_uuid) self.assertEqual(flavors[0]['vcpus'], usages['VCPU']) self.assertEqual(flavors[0]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[0]['disk'], usages['DISK_GB']) # the destination host expected to have resource allocation based on # the new flavor the server is resized to other_provider_uuid = self._get_provider_uuid_by_host(target_host) usages = self._get_provider_usages(other_provider_uuid) self.assertEqual(flavors[1]['vcpus'], usages['VCPU']) self.assertEqual(flavors[1]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[1]['disk'], usages['DISK_GB']) # Confirm the resize and check the usages post = {'confirmResize': None} self.api.post_server_action( server['id'], post, check_response_status=[204]) self._wait_for_state_change(self.api, server, 'ACTIVE') # the original host expected to have no allocation # FIXME(gibi): This is not true in practice, it seems to be a bug # commenting it out to check the other provider usage as well # # provider_uuid = self._get_provider_uuid_by_host(original_host) # usages = self._get_provider_usages(provider_uuid) # self.assertEqual({'VCPU': 0, # 'MEMORY_MB': 0, # 'DISK_GB': 0}, usages) # and the target host allocation should be according to the new flavor other_provider_uuid = self._get_provider_uuid_by_host(target_host) usages = self._get_provider_usages(other_provider_uuid) self.assertEqual(flavors[1]['vcpus'], usages['VCPU']) self.assertEqual(flavors[1]['ram'], usages['MEMORY_MB']) self.assertEqual(flavors[1]['disk'], usages['DISK_GB']) # Check usages after delete self.api.delete_server(server['id']) self._wait_until_deleted(server) # both provider should have zero usage # FIXME(gibi): This is not true in practice, it seems to be a bug # commenting it out to check the target provider usage # # provider_uuid = self._get_provider_uuid_by_host(original_host) # usages = self._get_provider_usages(provider_uuid) # self.assertEqual({'VCPU': 0, # 'MEMORY_MB': 0, # 'DISK_GB': 0}, usages) # FIXME(gibi): This is not true in practice, it seems to be a bug # provider_uuid = self._get_provider_uuid_by_host(target_host) # usages = self._get_provider_usages(provider_uuid) # self.assertEqual({'VCPU': 0, # 'MEMORY_MB': 0, # 'DISK_GB': 0}, usages)",,275,16
openstack%2Fnova~master~I3d89830e4770a7cf88389fac5a2a684554a29bc5,openstack/nova,master,I3d89830e4770a7cf88389fac5a2a684554a29bc5,rootwrap.d cleanup mislabeled files,MERGED,2017-07-25 02:44:42.000000000,2017-08-21 11:54:01.000000000,2017-08-01 11:16:21.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 20382}]","[{'number': 1, 'created': '2017-07-25 02:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/499592411551d7c87af28f1c9742debf100a4b2d', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Also update one comment to make the awk script above work.\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}, {'number': 2, 'created': '2017-07-25 06:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/604193831a02d6384e82ce894c3dcc515525816c', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Update one comment to make the awk script above work.\n* Add a comment as chown is used in nova/virt/libvirt/utils.py\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}, {'number': 3, 'created': '2017-07-25 06:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4725713a8f0ddeabfa3b58502c188584a5207d09', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Update one comment to make the awk script above work.\n* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}, {'number': 4, 'created': '2017-07-25 22:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0edd176dffe1aeb1861d651257899938868bd969', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Update one comment to make the awk script above work.\n* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}, {'number': 5, 'created': '2017-07-27 03:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/502b464fc7f59dc9635937be1d0df1ca37ebdb61', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Update one comment to make the awk script above work.\n* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}, {'number': 6, 'created': '2017-07-28 00:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/650dd6c45051c6bc356a07b6860bd4572088617e', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Update one comment to make the awk script above work.\n* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}, {'number': 7, 'created': '2017-08-01 06:10:20.000000000', 'files': ['etc/nova/rootwrap.d/compute.filters'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa2e975e7df2882f2358b72e5d4f812eebff0ae8', 'message': ""rootwrap.d cleanup mislabeled files\n\nThe form for rootwrap.d files is to include a comment before the filter\nwith the filename (and preferably) the command the filter matches.\n\nThis change ensures that these file comments refer to a valid file in the\ntree.  They can be checked with something like:\n  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \\\n                 | sort -u` ; do\n      ls ${i/:}\n  done\n\n* I13c701c390784fa1f7809705741abb46e40973be renamed\n   .../libvirt/connection.py to .../libvirt/drver.py\n* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and\n   removed nova/storage/linuxscsi.py\n* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py\n   into .../libvirt/volume/\n* Update one comment to make the awk script above work.\n* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/\n\nChange-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5\n""}]",4,486831,fa2e975e7df2882f2358b72e5d4f812eebff0ae8,117,21,7,12898,,,0,"rootwrap.d cleanup mislabeled files

The form for rootwrap.d files is to include a comment before the filter
with the filename (and preferably) the command the filter matches.

This change ensures that these file comments refer to a valid file in the
tree.  They can be checked with something like:
  for i in `awk '/^#.*py *:/ {print $2}' etc/nova/rootwrap.d/compute.filters \
                 | sort -u` ; do
      ls ${i/:}
  done

* I13c701c390784fa1f7809705741abb46e40973be renamed
   .../libvirt/connection.py to .../libvirt/drver.py
* I400db60fcc29c2d5e2d3b9dabc055649138468eb switched to os-brick and
   removed nova/storage/linuxscsi.py
* I5fc2425d2c25076ea87686b2e41be35f66ebb923 moved .../libvirt/volume.py
   into .../libvirt/volume/
* Update one comment to make the awk script above work.
* Add comments as 'chown' and 'tee' are used in nova/virt/libvirt/

Change-Id: I3d89830e4770a7cf88389fac5a2a684554a29bc5
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/486831/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/rootwrap.d/compute.filters'],1,499592411551d7c87af28f1c9742debf100a4b2d,hurrah-for-privsep,"# nova/virt/libvirt/driver.py: 'chown', os.getuid( console_log # nova/virt/libvirt/driver.py: 'chown', os.getuid( console_log # nova/virt/libvirt/driver.py: 'chown', 'root', basepath('disk')# nova/virt/libvirt/driver.py: 'dd', if=%s % virsh_output, ...# nova/virt/libvirt/driver.py:# nova/utils.py: read_file_as_root: 'cat', file_path# nova/virt/libvirt/volume/volume.py: 'cp', '/dev/stdin', delete_control..","# nova/virt/libvirt/connection.py: 'chown', os.getuid( console_log # nova/virt/libvirt/connection.py: 'chown', os.getuid( console_log # nova/virt/libvirt/connection.py: 'chown', 'root', basepath('disk')# nova/virt/libvirt/connection.py: 'dd', if=%s % virsh_output, ...# nova/virt/libvirt/connection.py:# nova/utils.py:read_file_as_root: 'cat', file_path# nova/storage/linuxscsi.py: sg_scan device sg_scan: CommandFilter, sg_scan, root # nova/virt/libvirt/volume.py: 'cp', '/dev/stdin', delete_control..",7,10
openstack%2Fnova~master~If3c00a223fbfcb34fd92f8315f2a59bcb819e79e,openstack/nova,master,If3c00a223fbfcb34fd92f8315f2a59bcb819e79e,Add cinder keystone client opts to config reference,MERGED,2017-07-28 16:58:38.000000000,2017-08-21 11:53:26.000000000,2017-07-31 17:36:34.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-28 16:58:38.000000000', 'files': ['nova/conf/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db1d1880ba48a2a6f08264b2df6468d7634a1925', 'message': 'Add cinder keystone client opts to config reference\n\nThis adds the config reference items to cinder for things like the\ninsecure flag, and ca options. This mirrors what we have for services\nlike glance and ironic.\n\nChange-Id: If3c00a223fbfcb34fd92f8315f2a59bcb819e79e\nCloses-Bug: #1615666\n'}]",1,488530,db1d1880ba48a2a6f08264b2df6468d7634a1925,19,5,1,2750,,,0,"Add cinder keystone client opts to config reference

This adds the config reference items to cinder for things like the
insecure flag, and ca options. This mirrors what we have for services
like glance and ironic.

Change-Id: If3c00a223fbfcb34fd92f8315f2a59bcb819e79e
Closes-Bug: #1615666
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/488530/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/cinder.py'],1,db1d1880ba48a2a6f08264b2df6468d7634a1925,cinder_opts, cinder_group.name: ( cinder_opts + ks_loading.get_session_conf_options()), cinder_group.name: cinder_opts,3,1
openstack%2Fnova~master~I56b1c077dd604c2947c791c7d5ccdddb9fb815a2,openstack/nova,master,I56b1c077dd604c2947c791c7d5ccdddb9fb815a2,add a redirect for the old cells landing page,MERGED,2017-07-27 16:13:57.000000000,2017-08-21 11:53:20.000000000,2017-08-01 13:33:30.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 14123}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-27 16:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e454dc4a6bab42252fb19fafa86dfb4be1519b5', 'message': 'WIP: add a redirect for the old cells landing page\n\nRedirect from /nova/$series/cells.html to /nova/$series/admin/cells.html\n\nChange-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-27 17:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c84941d8ff24b4fb0da9a08e999559c0adf1f66', 'message': 'WIP: add a redirect for the old cells landing page\n\nRedirect from /nova/$series/cells.html to /nova/$series/admin/cells.html\n\nChange-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-27 17:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a680dcd69a835f01a24c7f182c55351fcffc3e6', 'message': 'WIP: add a redirect for the old cells landing page\n\nRedirect from /nova/$series/cells.html to /nova/$series/admin/cells.html\n\nChange-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-27 19:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37c099c2bf9061883a3507356cf75f482a3941d7', 'message': 'add a redirect for the old cells landing page\n\nRedirect from /nova/$series/cells.html to /nova/$series/admin/cells.html\n\nDepends-On: I236b7b0a9aae065167bd0aef316603d258e4c3c6\nChange-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2017-07-28 12:27:33.000000000', 'files': ['doc/source/conf.py', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/74b6b7741bc7f254e39468a234e02408f33b0bbb', 'message': 'add a redirect for the old cells landing page\n\nRedirect from /nova/$series/cells.html to /nova/$series/admin/cells.html\n\nDepends-On: I236b7b0a9aae065167bd0aef316603d258e4c3c6\nChange-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,487932,74b6b7741bc7f254e39468a234e02408f33b0bbb,56,15,5,2472,,,0,"add a redirect for the old cells landing page

Redirect from /nova/$series/cells.html to /nova/$series/admin/cells.html

Depends-On: I236b7b0a9aae065167bd0aef316603d258e4c3c6
Change-Id: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/487932/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/.htaccess'],1,5e454dc4a6bab42252fb19fafa86dfb4be1519b5,in-tree-redirects,redirectmatch 301 ^/nova/([^/]+)/cells.html$ /nova/\1/admin/cells.html,,1,0
openstack%2Fnova~master~Ifd09bd0128ed74347c984a3dcca1304336853865,openstack/nova,master,Ifd09bd0128ed74347c984a3dcca1304336853865,placement: account for move operations in claim,MERGED,2017-07-26 21:03:48.000000000,2017-08-21 11:53:06.000000000,2017-07-28 04:08:54.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-07-26 21:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2788c748211d9cafa477d4d464973fa47f102e2', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\n'}, {'number': 2, 'created': '2017-07-26 22:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c8f3388fc01f12fa40e00d62defea63fa6059bc', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\n'}, {'number': 3, 'created': '2017-07-26 23:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85b6e7f6d85401ca67c90d7dead94424bd70681b', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\n'}, {'number': 4, 'created': '2017-07-27 02:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff1f6e25cbf6b3e3f430ed5a6ced5d8804a99f3c', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\n'}, {'number': 5, 'created': '2017-07-27 10:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9a52520f12ddf41b5817a87580c3e169fd21552', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\n'}, {'number': 6, 'created': '2017-07-27 13:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2578e9082369dd80077e0fab1a0d14c9f1a75db', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\n'}, {'number': 7, 'created': '2017-07-28 00:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/524e29385d6b153c720ee12ec3e8d64961a91439', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nDepends-On: Ib14016a3bc6f2714758ad0291396233218c593c6\nblueprint: placement-claims\n'}, {'number': 8, 'created': '2017-07-28 00:56:46.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9d1db10f842286fb59b9316987e075fd8758107d', 'message': 'placement: account for move operations in claim\n\nWhen a move operation occurs that involves the scheduler, we want the\nscheduler to claim resources against the destination host but we do not\nwant the allocations against the source host to be removed until the\nmove operation completes. If that were to happen, we would improperly\nbe freeing resources on the source host before those resources were\nactually able to be claimed by another consumer.\n\nSo, in this patch, we modify the scheduler report client\'s\nclaim_resources() method to first check to see if there are any\nallocations for the requested consumer (instance) before attempting to\nclaim resources against a new set of resource providers. If there *are*\nexisting allocations, we assume that the scheduler is calling\nclaim_resources() during a move operation and we adjust the requested\nallocation to include the original source host\'s resources along with\nthe new destination host\'s resources.\n\nWe ensure that if the original allocation on the source host included\nshared resource providers that we do not ""double up"" the request for\nthat resource in the new allocation.\n\nChange-Id: Ifd09bd0128ed74347c984a3dcca1304336853865\nblueprint: placement-claims\nDepends-On: Ib14016a3bc6f2714758ad0291396233218c593c6\n'}]",26,487589,9d1db10f842286fb59b9316987e075fd8758107d,114,22,8,7,,,0,"placement: account for move operations in claim

When a move operation occurs that involves the scheduler, we want the
scheduler to claim resources against the destination host but we do not
want the allocations against the source host to be removed until the
move operation completes. If that were to happen, we would improperly
be freeing resources on the source host before those resources were
actually able to be claimed by another consumer.

So, in this patch, we modify the scheduler report client's
claim_resources() method to first check to see if there are any
allocations for the requested consumer (instance) before attempting to
claim resources against a new set of resource providers. If there *are*
existing allocations, we assume that the scheduler is calling
claim_resources() during a move operation and we adjust the requested
allocation to include the original source host's resources along with
the new destination host's resources.

We ensure that if the original allocation on the source host included
shared resource providers that we do not ""double up"" the request for
that resource in the new allocation.

Change-Id: Ifd09bd0128ed74347c984a3dcca1304336853865
blueprint: placement-claims
Depends-On: Ib14016a3bc6f2714758ad0291396233218c593c6
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/487589/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,b2788c748211d9cafa477d4d464973fa47f102e2,bp/placement-claims," # NOTE(jaypipes): Currently, this method is ONLY used by the scheduler to # allocate resources on the selected destination hosts. This method should # not be called by the resource tracker; instead, the # _allocate_for_instance() method is used which does not perform any # checking that a move operation is in place. @safe_connect We check to see if resources have already been claimed for this consumer. If so, we assume that a move operation is underway and the scheduler is attempting to claim resources against the new (destination host). In order to prevent compute nodes currently performing move operations from being scheduled to improperly, we create a ""doubled-up"" allocation that consumes resources on *both* the source and the destination host during the move operation. When the move operation completes, the destination host (via _allocation_for_instance()) will end up setting allocations for the instance only on the destination host thereby freeing up resources on the source host appropriately. # Ensure we don't change the supplied alloc request since it's used in # a loop within the scheduler against multiple instance claims ar = copy.deepcopy(alloc_request) # We first need to determine if this is a move operation and if so # create the ""doubled-up"" allocation that exists for the duration of # the move operation against both the source and destination hosts r = self.get(url) if r.status_code == 200: LOG.debug(""Doubling-up allocation request for move operation."") current_allocs = r.json()['allocations'] # Remove any allocations against resource providers that are # already allocated against on the source host (like shared storage # providers) cur_rp_uuids = set(a['resource_provider']['uuid'] for a in current_allocs) new_rp_uuids = set(a['resource_provider']['uuid'] for a in ar['allocations']) - cur_rp_uuids payload = { 'allocations': current_allocs, } for alloc in ar['allocations']: if alloc['resource_provider']['uuid'] in new_rp_uuids: payload['allocations'].append(alloc) LOG.debug(""New allocation request containing both source and "" ""destination hosts in move operation: %s"", payload) else: # Normal build operation payload = ar ", payload = copy.deepcopy(alloc_request),257,17
openstack%2Fnova~master~I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4,openstack/nova,master,I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4,Move the note about '/os-volume_boot' to the correct place,MERGED,2017-07-21 09:24:19.000000000,2017-08-21 11:52:26.000000000,2017-07-26 23:44:48.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-21 09:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/878030dd01d2a2a6e81c4d53b967330787843cc0', 'message': ""Move the note about '/os-volume_boot' to the correct place\n\nMove the note about '/os-volume_boot' close to the routes of\n'/os-volume_boot'.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4\n""}, {'number': 2, 'created': '2017-07-23 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a74aea51a8e3e3a9e8a8ebe50a8dc3221cbb66f', 'message': ""Move the note about '/os-volume_boot' to the correct place\n\nMove the note about '/os-volume_boot' close to the routes of\n'/os-volume_boot'.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4\n""}, {'number': 3, 'created': '2017-07-24 18:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e3db068ae93fbba2e1bb264aefd435406fc6fee', 'message': ""Move the note about '/os-volume_boot' to the correct place\n\nMove the note about '/os-volume_boot' close to the routes of\n'/os-volume_boot'.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4\n""}, {'number': 4, 'created': '2017-07-26 12:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2c4aea2548839f9520562cae35393d07e76dedc', 'message': ""Move the note about '/os-volume_boot' to the correct place\n\nMove the note about '/os-volume_boot' close to the routes of\n'/os-volume_boot'.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4\n""}, {'number': 5, 'created': '2017-07-26 19:33:10.000000000', 'files': ['nova/api/openstack/compute/routes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d863b200e1873e555864164a49a939938e5113db', 'message': ""Move the note about '/os-volume_boot' to the correct place\n\nMove the note about '/os-volume_boot' close to the routes of\n'/os-volume_boot'.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4\n""}]",0,486071,d863b200e1873e555864164a49a939938e5113db,66,17,5,5754,,,0,"Move the note about '/os-volume_boot' to the correct place

Move the note about '/os-volume_boot' close to the routes of
'/os-volume_boot'.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I4799e1b4d31f8a0c3fe8a796f7c9adadea92a6f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/486071/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/routes.py'],1,878030dd01d2a2a6e81c4d53b967330787843cc0,bp/api-no-more-extensions-pike, # NOTE: '/os-volumes_boot' is a clone of '/servers'. We may want to # deprecate it in the future., # NOTE: '/os-volumes_boot' is a clone of '/servers'. We may want to # deprecate it in the future.,2,2
openstack%2Fnova~master~Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd,openstack/nova,master,Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd,docstring and unused code removal,MERGED,2017-07-26 15:50:38.000000000,2017-08-21 11:52:19.000000000,2017-07-26 23:44:07.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-26 15:50:38.000000000', 'files': ['nova/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e595b42cc47fe9f8618d5b8ced0e54946246d14', 'message': 'docstring and unused code removal\n\nSimply makes the docstring for _set_allocations() accurate w.r.t. the\nexceptions raised from it and removes a useless call to\n_RC_CACHE.id_from_string()\n\nChange-Id: Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd\n'}]",0,487492,6e595b42cc47fe9f8618d5b8ced0e54946246d14,27,7,1,7,,,0,"docstring and unused code removal

Simply makes the docstring for _set_allocations() accurate w.r.t. the
exceptions raised from it and removes a useless call to
_RC_CACHE.id_from_string()

Change-Id: Iba73516c77a2a9ae41e8d7d33d9b3b70caa9e0cd
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/487492/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,6e595b42cc47fe9f8618d5b8ced0e54946246d14,bp/placement-claims," :raises `exception.InvalidAllocationCapacityExceeded` if any inventory would be exhausted by the allocation. :raises `InvalidAllocationConstraintsViolated` if any of the `step_size`, `min_unit` or `max_unit` constraints in an inventory will be violated by any one of the allocations.", _RC_CACHE.id_from_string(alloc.resource_class),5,1
openstack%2Fnova~master~I4184382b49dd2193d6a21bfe02ea973d02d8b09f,openstack/nova,master,I4184382b49dd2193d6a21bfe02ea973d02d8b09f,"libvirt: Post-migration, set cache value for Cinder volume(s)",MERGED,2017-07-20 17:26:05.000000000,2017-08-21 11:52:13.000000000,2017-07-28 16:15:08.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-20 17:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce01bb5cfd14f3d78ae2a6047023960bad690b35', 'message': 'libvirt/driver.py: Set cache value for Cinder volume post-migration\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_disk_cache()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo set the cache mode in _get_volume_config() method -- because it is a\ncallback function to _update_volume_xml() in\nnova/virt/libvirt/migration.py.\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        from a downstream analysis, Daniel Berrangé for help in analysis\n        from a Nova libvirt driver POV, and Stefan Hajnoczi from QEMU\n        for help on I/O latency instrumentation with `perf`.\n\nA description of cache values:\nhttps://rwmj.wordpress.com/2013/09/02/new-in-libguestfs-allow-cache-mode-to-be-selected/\n\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n'}, {'number': 2, 'created': '2017-07-24 12:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/036578b937a07326fa849625821fbe610e96122c', 'message': 'libvirt: Post-migration, set cache value for Cinder volume(s)\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_cache_mode()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo:\n\n  - Set the cache mode in _get_volume_config() method -- because it is a\n    callback function to _update_volume_xml() in\n    nova/virt/libvirt/migration.py.\n\n  - And remove duplicate calls to set cache mode in\n    _get_guest_storage_config() and attach_volume().\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        from a downstream analysis, Daniel Berrangé for help in analysis\n        from a Nova libvirt driver POV, and Stefan Hajnoczi from QEMU\n        for help on I/O latency instrumentation with `perf`.\n\nA description of cache values:\nhttps://rwmj.wordpress.com/2013/09/02/new-in-libguestfs-allow-cache-mode-to-be-selected/\n\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n'}, {'number': 3, 'created': '2017-07-24 14:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee66ca01ddf1b2966ffc8bba169ea1a67d90da42', 'message': 'libvirt: Post-migration, set cache value for Cinder volume(s)\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_cache_mode()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo:\n\n  - Set the cache mode in _get_volume_config() method -- because it is a\n    callback function to _update_volume_xml() in\n    nova/virt/libvirt/migration.py.\n\n  - And remove duplicate calls to set cache mode in\n    _get_guest_storage_config() and attach_volume().\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        from a downstream analysis, Daniel Berrangé for help in analysis\n        from a Nova libvirt driver POV, and Stefan Hajnoczi from QEMU\n        for help on I/O latency instrumentation with `perf`.\n\nA description of cache values:\nhttps://rwmj.wordpress.com/2013/09/02/new-in-libguestfs-allow-cache-mode-to-be-selected/\n\nCloses-bug: 1706083\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n'}, {'number': 4, 'created': '2017-07-25 16:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e250a68c06146428930b7c297141d4c2d467001', 'message': 'libvirt: Post-migration, set cache value for Cinder volume(s)\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into the\nfollowing:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_cache_mode()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo:\n\n  - Call _set_cache_mode() in _get_volume_config() method -- because it\n    is a callback function to _update_volume_xml() in\n    nova/virt/libvirt/migration.py.\n\n  - And remove duplicate calls to _set_cache_mode() in\n    _get_guest_storage_config() and attach_volume().\n\n  - Fix broken unit tests\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        in a downstream bug analysis, Daniel Berrangé for help in\n        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi\n        from QEMU for help on I/O latency instrumentation with `perf`.\n\nCloses-bug: 1706083\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n'}, {'number': 5, 'created': '2017-07-26 11:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f923fdeadbf5f411936a1ebf5295c89012ea531e', 'message': 'libvirt: Post-migration, set cache value for Cinder volume(s)\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into the\nfollowing:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_cache_mode()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo:\n\n  - Call _set_cache_mode() in _get_volume_config() method -- because it\n    is a callback function to _update_volume_xml() in\n    nova/virt/libvirt/migration.py.\n\n  - And remove duplicate calls to _set_cache_mode() in\n    _get_guest_storage_config() and attach_volume().\n\n  - Fix broken unit tests; adjust test_get_volume_config() to reflect\n    the cache value\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        in a downstream bug analysis, Daniel Berrangé for help in\n        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi\n        from QEMU for help on I/O latency instrumentation with `perf`.\n\nCloses-bug: 1706083\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n'}, {'number': 6, 'created': '2017-07-26 13:59:17.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14c38ac0f253036da79f9d07aedf7dfd5778fde8', 'message': 'libvirt: Post-migration, set cache value for Cinder volume(s)\n\nThis was noticed in a downstream bug when a Nova instance with Cinder\nvolume (in this case, both the Nova instance storage _and_ Cinder volume\nare located on Ceph) is migrated to a target Compute node, the disk\ncache value for the Cinder volume gets changed.  I.e. the QEMU\ncommand-line for the Cinder volume stored on Ceph turns into the\nfollowing:\n\nPre-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=writeback\n\nPost-migration, QEMU command-line for the Nova instance:\n\n    [...] -drive file=rbd:volumes/volume-[...],cache=none\n\nFurthermore, Jason Dillaman from Ceph confirms RBD cache being enabled\npre-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""true""\n    }\n\nAnd disabled, post-migration:\n\n    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \\\n        config get rbd_cache\n    {\n        ""rbd_cache"": ""false""\n    }\n\nThis change in cache value post-migration causes I/O latency on the\nCinder volume.\n\nFrom a chat with Daniel Berrangé on IRC: Prior to live migration, Nova\nrewrites all the <disk> elements, and passes this updated guest XML\nacross to target libvirt.  And it is never calling _set_cache_mode()\nwhen doing this.  So `nova.conf`\'s `writeback` setting is getting lost,\nleaving the default `cache=none` setting.  And this mistake (of leaving\nthe default cache value to \'none\') will of course be correct when you\nreboot the guest on the target later.\n\nSo:\n\n  - Call _set_cache_mode() in _get_volume_config() method -- because it\n    is a callback function to _update_volume_xml() in\n    nova/virt/libvirt/migration.py.\n\n  - And remove duplicate calls to _set_cache_mode() in\n    _get_guest_storage_config() and attach_volume().\n\n  - Fix broken unit tests; adjust test_get_volume_config() to reflect\n    the disk cache mode.\n\nThanks: Jason Dillaman of Ceph for observing the change in cache modes\n        in a downstream bug analysis, Daniel Berrangé for help in\n        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi\n        from QEMU for help on I/O latency instrumentation with `perf`.\n\nCloses-bug: 1706083\nChange-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f\n'}]",9,485752,14c38ac0f253036da79f9d07aedf7dfd5778fde8,72,19,6,6962,,,0,"libvirt: Post-migration, set cache value for Cinder volume(s)

This was noticed in a downstream bug when a Nova instance with Cinder
volume (in this case, both the Nova instance storage _and_ Cinder volume
are located on Ceph) is migrated to a target Compute node, the disk
cache value for the Cinder volume gets changed.  I.e. the QEMU
command-line for the Cinder volume stored on Ceph turns into the
following:

Pre-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=writeback

Post-migration, QEMU command-line for the Nova instance:

    [...] -drive file=rbd:volumes/volume-[...],cache=none

Furthermore, Jason Dillaman from Ceph confirms RBD cache being enabled
pre-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""true""
    }

And disabled, post-migration:

    $ ceph --admin-daemon /var/run/qemu/ceph-client.openstack.[...] \
        config get rbd_cache
    {
        ""rbd_cache"": ""false""
    }

This change in cache value post-migration causes I/O latency on the
Cinder volume.

From a chat with Daniel Berrangé on IRC: Prior to live migration, Nova
rewrites all the <disk> elements, and passes this updated guest XML
across to target libvirt.  And it is never calling _set_cache_mode()
when doing this.  So `nova.conf`'s `writeback` setting is getting lost,
leaving the default `cache=none` setting.  And this mistake (of leaving
the default cache value to 'none') will of course be correct when you
reboot the guest on the target later.

So:

  - Call _set_cache_mode() in _get_volume_config() method -- because it
    is a callback function to _update_volume_xml() in
    nova/virt/libvirt/migration.py.

  - And remove duplicate calls to _set_cache_mode() in
    _get_guest_storage_config() and attach_volume().

  - Fix broken unit tests; adjust test_get_volume_config() to reflect
    the disk cache mode.

Thanks: Jason Dillaman of Ceph for observing the change in cache modes
        in a downstream bug analysis, Daniel Berrangé for help in
        analysis from a Nova libvirt driver POV, and Stefan Hajnoczi
        from QEMU for help on I/O latency instrumentation with `perf`.

Closes-bug: 1706083
Change-Id: I4184382b49dd2193d6a21bfe02ea973d02d8b09f
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/485752/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,ce01bb5cfd14f3d78ae2a6047023960bad690b35,bug/1706083," conf = vol_driver.get_config(connection_info, disk_info) self._set_cache_mode(conf) return conf"," return vol_driver.get_config(connection_info, disk_info)",3,1
openstack%2Fnova~master~I254977fbebf87ac712322f321792a5dfe3f0df0e,openstack/nova,master,I254977fbebf87ac712322f321792a5dfe3f0df0e,Instance remains in migrating state forever,MERGED,2017-07-14 12:04:04.000000000,2017-08-21 11:51:48.000000000,2017-08-01 11:36:07.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7764}, {'_account_id': 8190}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10207}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-14 12:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6654367960edb11477025502740139e134ff23a7', 'message': 'An unexpected failure during live migration leaves the insatnce\nto migrating state forever.\n\nThe issue is that in case of unexpected failure the task state is\nset to be same as the instance task state. It should be set to\nNone instead or the arg can be omitted as the default value for\nthe arg is None.\n\nChange-Id: I254977fbebf87ac712322f321792a5dfe3f0df0e\nCloses-Bug: 1694406\n'}, {'number': 2, 'created': '2017-07-17 08:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49bce1c6c0a138334c748af238014d74dcc34649', 'message': ""Instance remains in migrating state forever\n\nAn unexpected failure during live migration leaves the instance\nto migrating state forever.\nThe issue is that in case of unexpected failure the task state is\nset to be same as the instance task state. It should be set to\n'None' instead.\n\nChange-Id: I254977fbebf87ac712322f321792a5dfe3f0df0e\nCloses-Bug: 1694406\n""}, {'number': 3, 'created': '2017-07-17 09:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a659a0e4c304a82b7f1843e219e9a147842ca02', 'message': ""Instance remains in migrating state forever\n\nAn unexpected failure during live migration leaves the instance\nto migrating state forever.\nThe issue is that in case of unexpected failure the task state is\nset to be same as the instance task state. It should be set to\n'None' instead.\n\nChange-Id: I254977fbebf87ac712322f321792a5dfe3f0df0e\nCloses-Bug: 1694406\n""}, {'number': 4, 'created': '2017-07-26 10:47:47.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d3486d0ee72bc5fdd6982b9cab76c8ca9015848', 'message': ""Instance remains in migrating state forever\n\nAn unexpected failure during live migration leaves the instance\nto migrating state forever.\nThe issue is that in case of unexpected failure the task state is\nset to be same as the instance task state. It should be set to\n'None' instead.\n\nChange-Id: I254977fbebf87ac712322f321792a5dfe3f0df0e\nCloses-Bug: 1694406\n""}]",12,483911,2d3486d0ee72bc5fdd6982b9cab76c8ca9015848,74,21,4,10207,,,0,"Instance remains in migrating state forever

An unexpected failure during live migration leaves the instance
to migrating state forever.
The issue is that in case of unexpected failure the task state is
set to be same as the instance task state. It should be set to
'None' instead.

Change-Id: I254977fbebf87ac712322f321792a5dfe3f0df0e
Closes-Bug: 1694406
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/483911/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,6654367960edb11477025502740139e134ff23a7,bug/1694406," _set_vm_state(context, instance, ex, vm_states.ERROR)"," _set_vm_state(context, instance, ex, vm_states.ERROR, instance.task_state)",2,3
openstack%2Fglance_store~master~I1baee6c794859c7bb480e2f53bb7ffa69af04406,openstack/glance_store,master,I1baee6c794859c7bb480e2f53bb7ffa69af04406,Updated from global requirements,MERGED,2017-08-18 04:40:16.000000000,2017-08-21 11:50:43.000000000,2017-08-21 11:50:43.000000000,"[{'_account_id': 3}, {'_account_id': 5202}]","[{'number': 1, 'created': '2017-08-18 04:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a2851dd3a993913050ba0fe3ec95bd0e8cc49050', 'message': 'Updated from global requirements\n\nChange-Id: I1baee6c794859c7bb480e2f53bb7ffa69af04406\n'}, {'number': 2, 'created': '2017-08-18 11:29:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e322bc241ec9cf5f48a2f01f22b69aac16f8b586', 'message': 'Updated from global requirements\n\nChange-Id: I1baee6c794859c7bb480e2f53bb7ffa69af04406\n'}]",0,494809,e322bc241ec9cf5f48a2f01f22b69aac16f8b586,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I1baee6c794859c7bb480e2f53bb7ffa69af04406
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/09/494809/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a2851dd3a993913050ba0fe3ec95bd0e8cc49050,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0,2,2
openstack%2Ftripleo-heat-templates~master~I48325893a00690e2f5d6f1d685f903234545d5b8,openstack/tripleo-heat-templates,master,I48325893a00690e2f5d6f1d685f903234545d5b8,Enable TLS for containerized RabbitMQ,MERGED,2017-08-14 17:56:16.000000000,2017-08-21 11:49:28.000000000,2017-08-21 11:49:28.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-08-14 17:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/704a579dc12d8b466d11468b99d2f54e221ae4ad', 'message': ""Enable TLS for containerized RabbitMQ\n\nBind mounts and adds the appropriate permissions for the cert and\nkey that's used for TLS.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I48325893a00690e2f5d6f1d685f903234545d5b8\n""}, {'number': 2, 'created': '2017-08-18 12:52:27.000000000', 'files': ['environments/docker-services-tls-everywhere.yaml', 'docker/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f8e4e366fc3e2e3f32474c71de15a739162a653', 'message': ""Enable TLS for containerized RabbitMQ\n\nBind mounts and adds the appropriate permissions for the cert and\nkey that's used for TLS.\n\nbp tls-via-certmonger-containers\n\nDepends-On: I62ff89362cfcc80e6e62fad09110918c36802813\nChange-Id: I48325893a00690e2f5d6f1d685f903234545d5b8\n""}]",0,493632,0f8e4e366fc3e2e3f32474c71de15a739162a653,12,5,2,10873,,,0,"Enable TLS for containerized RabbitMQ

Bind mounts and adds the appropriate permissions for the cert and
key that's used for TLS.

bp tls-via-certmonger-containers

Depends-On: I62ff89362cfcc80e6e62fad09110918c36802813
Change-Id: I48325893a00690e2f5d6f1d685f903234545d5b8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/493632/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/docker-services-tls-everywhere.yaml', 'docker/services/rabbitmq.yaml']",2,704a579dc12d8b466d11468b99d2f54e221ae4ad,bp/tls-via-certmonger-containers," EnableInternalTLS: type: boolean default: false InternalTLSCAFile: default: '/etc/ipa/ca.crt' type: string description: Specifies the default CA cert to use if TLS is used for services in the internal network. conditions: internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true - path: /etc/pki/tls/certs/rabbitmq.crt owner: rabbitmq:rabbitmq optional: true - path: /etc/pki/tls/private/rabbitmq.key owner: rabbitmq:rabbitmq optional: true - if: - internal_tls_enabled - - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro' - /etc/pki/tls/certs/rabbitmq.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/rabbitmq.crt:ro - /etc/pki/tls/private/rabbitmq.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/rabbitmq.key:ro - null - if: - internal_tls_enabled - - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro' - /etc/pki/tls/certs/rabbitmq.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/rabbitmq.crt:ro - /etc/pki/tls/private/rabbitmq.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/rabbitmq.key:ro - null metadata_settings: get_attr: [RabbitmqBase, role_data, metadata_settings]",,48,0
openstack%2Fkuryr-kubernetes~master~I87b8cb128ad99bcef4fdfab789ca988074f88192,openstack/kuryr-kubernetes,master,I87b8cb128ad99bcef4fdfab789ca988074f88192,Update Dragonflow-kuryr devstack configuration.,MERGED,2017-08-21 09:14:57.000000000,2017-08-21 11:48:34.000000000,2017-08-21 11:48:34.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-08-21 09:14:57.000000000', 'files': ['devstack/local.conf.df.sample'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/29758b35bac71ca5784f970416c29f1df6ad2940', 'message': 'Update Dragonflow-kuryr devstack configuration.\n\nRemove non-required services and disable selective\ntopology distribution.\n\nChange-Id: I87b8cb128ad99bcef4fdfab789ca988074f88192\n'}]",0,495777,29758b35bac71ca5784f970416c29f1df6ad2940,8,4,1,6598,,,0,"Update Dragonflow-kuryr devstack configuration.

Remove non-required services and disable selective
topology distribution.

Change-Id: I87b8cb128ad99bcef4fdfab789ca988074f88192
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/77/495777/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.df.sample'],1,29758b35bac71ca5784f970416c29f1df6ad2940,update-df-devstack,DF_SELECTIVE_TOPO_DIST=False,"TUNNEL_TYPE=vxlanenable_service df-ext-services enable_service df-zmq-publisher-serviceenable_service df-l3-agentDF_L2_RESPONDER=""True"" OVS_INSTALL_FROM_GIT=False OVS_BRANCH=master",1,7
openstack%2Fnova~master~I1d2d95a0864578161a34084db31eb460e895c1ec,openstack/nova,master,I1d2d95a0864578161a34084db31eb460e895c1ec,Fix contributor documentation,MERGED,2017-08-16 17:22:42.000000000,2017-08-21 11:46:46.000000000,2017-08-17 04:55:56.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 15941}, {'_account_id': 17920}]","[{'number': 1, 'created': '2017-08-16 17:22:42.000000000', 'files': ['doc/source/contributor/documentation.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/547725946b9618156df44f9f71b628140bb2b07c', 'message': 'Fix contributor documentation\n\nThere are some small comments on the review of\nIb2b49f70c55311195535a5ef250ff555e227fa0a\nThis is a follow-up for these comments.\n\nChange-Id: I1d2d95a0864578161a34084db31eb460e895c1ec\n'}]",0,494277,547725946b9618156df44f9f71b628140bb2b07c,17,7,1,6167,,,0,"Fix contributor documentation

There are some small comments on the review of
Ib2b49f70c55311195535a5ef250ff555e227fa0a
This is a follow-up for these comments.

Change-Id: I1d2d95a0864578161a34084db31eb460e895c1ec
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/494277/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/documentation.rst'],1,547725946b9618156df44f9f71b628140bb2b07c,doc,"These are some basic guidelines for contributing to documentation in Nova.Documentation-only patches differ from code patches in a few ways. cycles of nova or on irc code patches ""clearest"" way is to say a thingAs such, documentation patches should be evaluated in the basic context of ""does This raises an interesting and unexplored question about whether we want alldeveloper.openstack.org. As such, they are effectively branchless.* Give users context before following a link","These are some basic guidelines in contributing to documentation in Nova.Documentation only patches differ from code patches in a few ways. cycles of nova or on irc. code patches. ""clearest"" way is to say a thing.As such documentation patches should be evaluated in the basic context of ""does This raises an interesting an unexplored question about whether we want alldeveloper.openstack.org. As such they are effectively branchless.* Give users context before following a link.",9,9
openstack%2Fnova~master~Iaf88f8802a456d5e197b65405fa6959a2c514325,openstack/nova,master,Iaf88f8802a456d5e197b65405fa6959a2c514325,test shelve and shelve offload with placement,MERGED,2017-08-11 16:04:02.000000000,2017-08-21 11:46:40.000000000,2017-08-17 17:21:34.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-11 16:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5d466af120835e35fded030e5a85cfa3260abda', 'message': 'test shelve and shelve offload with placement\n\nThe following two scenarios are covered by this patch:\n* boot, shelve, unshelve, delete\n* boot shelve, shelve offload, unshelve, delete\n\nThe second scenarion seems faulty and therefore that test case now\nasserts the wrong behavior but contains the expected behavior as\ncommented out asserts.\n\nChange-Id: Iaf88f8802a456d5e197b65405fa6959a2c514325\nRelated-Bug: 1710249\n'}, {'number': 2, 'created': '2017-08-14 07:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b5961b4554bb75964b78367bd385da27f54f06c', 'message': 'test shelve and shelve offload with placement\n\nThe following two scenarios are covered by this patch:\n* boot, shelve, unshelve, delete\n* boot shelve, shelve offload, unshelve, delete\n\nThe second scenarion seems faulty and therefore that test case now\nasserts the wrong behavior but contains the expected behavior as\ncommented out asserts.\n\nChange-Id: Iaf88f8802a456d5e197b65405fa6959a2c514325\nRelated-Bug: 1710249\n'}, {'number': 3, 'created': '2017-08-15 11:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0888d998c5c9fec487d7ac027038922ef012639a', 'message': 'test shelve and shelve offload with placement\n\nThe following two scenarios are covered by this patch:\n* boot, shelve, unshelve, delete\n* boot shelve, shelve offload, unshelve, delete\n\nThe second scenarion seems faulty and therefore that test case now\nasserts the wrong behavior but contains the expected behavior as\ncommented out asserts.\n\nChange-Id: Iaf88f8802a456d5e197b65405fa6959a2c514325\nRelated-Bug: 1710249\n'}, {'number': 4, 'created': '2017-08-16 14:41:49.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13c39b1e79fa4e4a697ec3df5bea9b2470cc3deb', 'message': 'test shelve and shelve offload with placement\n\nThe following 3 scenarios are covered by this patch:\n* boot, shelve, unshelve, delete\n* boot, shelve, shelve offload, unshelve on different host, delete\n* boot, shelve, shelve offload, unshelve on the same host, delete\n\nThe second and the third scenarios are faulty and therefore those\ntest cases now assert the wrong behavior but contain the expected\nbehavior as commented out asserts.\n\nChange-Id: Iaf88f8802a456d5e197b65405fa6959a2c514325\nRelated-Bug: 1710249\n'}]",14,493062,13c39b1e79fa4e4a697ec3df5bea9b2470cc3deb,46,13,4,9708,,,0,"test shelve and shelve offload with placement

The following 3 scenarios are covered by this patch:
* boot, shelve, unshelve, delete
* boot, shelve, shelve offload, unshelve on different host, delete
* boot, shelve, shelve offload, unshelve on the same host, delete

The second and the third scenarios are faulty and therefore those
test cases now assert the wrong behavior but contain the expected
behavior as commented out asserts.

Change-Id: Iaf88f8802a456d5e197b65405fa6959a2c514325
Related-Bug: 1710249
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/493062/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,c5d466af120835e35fded030e5a85cfa3260abda,bug/1710249," def test_shelve_unshelve(self): # avoid shelve offloading self.flags(shelved_offload_time=-1) source_hostname = self.compute1.host source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_state_change(self.api, server, 'SHELVED') # the host should keep the reservation while the instance is shelved source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) req = { 'unshelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_state_change(self.api, server, 'ACTIVE') # the host should have resource usage as the instance is ACTIVE source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) self._delete_and_check_allocations( server, source_rp_uuid, source_rp_uuid) def test_shelve_offload_unshelve(self): # avoid automatic shelve offload as the test will trigger it self.flags(shelved_offload_time=-1) source_hostname = self.compute1.host source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) server = self._boot_and_check_allocations( self.flavor1, source_hostname) req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_state_change(self.api, server, 'SHELVED') # the host should keep the reservation while the instance is shelved source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) req = { 'shelveOffload': {} } self.api.post_server_action(server['id'], req) self._wait_for_state_change(self.api, server, 'SHELVED_OFFLOADED') source_usages = self._get_provider_usages(source_rp_uuid) # NOTE(gibi): this is bug 1710249 where shelve offload doesn't free up # the resources self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # NOTE(gibi): after fixing bug 1710249 the following should be true # after offload there should be no usages # self.assertEqual({'VCPU': 0, # 'MEMORY_MB': 0, # 'DISK_GB': 0}, # source_usages) # NOTE(gibi): this is bug 1710249 where shelve offload doesn't free up # the resources allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) # NOTE(gibi): after fixing bug 1710249 the following should be true # after offload there should be no allocations # self.assertEqual(0, len(allocations)) req = { 'unshelve': {} } self.api.post_server_action(server['id'], req) server = self._wait_for_state_change(self.api, server, 'ACTIVE') # unshelving an offloaded instance will call the scheduler so the # instance might end up on a different host current_hostname = server['OS-EXT-SRV-ATTR:host'] # the host running the instance should have resource usage current_rp_uuid = self._get_provider_uuid_by_host(current_hostname) current_usages = self._get_provider_usages(current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, current_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # NOTE(gibi): this is bug 1710249 where shelve offload doesn't free up # the resources self.assertEqual(2, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) allocation = allocations[current_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) # NOTE(gibi): after fixing bug 1710249 the following should be true # self.assertEqual(1, len(allocations)) # allocation = allocations[current_hostname]['resources'] # self.assertFlavorMatchesAllocation(self.flavor1, allocation) self._delete_and_check_allocations( server, source_rp_uuid, source_rp_uuid)",,133,0
openstack%2Fnova~master~Idea9315d6bce8b341f0c3d2dc0accca6ac259587,openstack/nova,master,Idea9315d6bce8b341f0c3d2dc0accca6ac259587,Make scheduler.utils.merge_resources ignore zero values,MERGED,2017-08-15 17:38:21.000000000,2017-08-21 11:45:54.000000000,2017-08-17 02:51:44.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-15 17:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a45f3bbcc7cdcfb3bc45dcf3145239ce349b0a6', 'message': 'Make scheduler.utils.merge_resources ignore zero values\n\nIf merge_resources results in a class of resource with a value of zero,\nand that result is then used to form an allocation request, the\nallocation will be rejected: the json schema for allocations requires\nthe value of a resource class to be at least 1.\n\nTherefore merge_resources is changed so that anywhere the value is zero\nin the results, that key is popped from the dict. We need to do it in\nthis way because we are modifying an existing dict, not returning a new\none that we are assembling.\n\nChange-Id: Idea9315d6bce8b341f0c3d2dc0accca6ac259587\nCloses-Bug: #1710908\n'}, {'number': 2, 'created': '2017-08-15 18:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/928738d6740fdb32e7e813edd4e09167c95e48cd', 'message': 'Make scheduler.utils.merge_resources ignore zero values\n\nIf merge_resources results in a class of resource with a value of zero,\nand that result is then used to form an allocation request, the\nallocation will be rejected: the json schema for allocations requires\nthe value of a resource class to be at least 1.\n\nTherefore merge_resources is changed so that anywhere the value is zero\nin the results, that key is popped from the dict. We need to do it in\nthis way because we are modifying an existing dict, not returning a new\none that we are assembling.\n\nChange-Id: Idea9315d6bce8b341f0c3d2dc0accca6ac259587\nCloses-Bug: #1710908\n'}, {'number': 3, 'created': '2017-08-15 20:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/deac64fc6cf83e1ad0a97b2ad282bd5987f1de60', 'message': 'Make scheduler.utils.merge_resources ignore zero values\n\nIf merge_resources results in a class of resource with a value of zero,\nand that result is then used to form an allocation request, the\nallocation will be rejected: the json schema for allocations requires\nthe value of a resource class to be at least 1.\n\nTherefore merge_resources is changed so that anywhere the value is zero\nin the results, that key is popped from the dict. We need to do it in\nthis way because we are modifying an existing dict, not returning a new\none that we are assembling.\n\nChange-Id: Idea9315d6bce8b341f0c3d2dc0accca6ac259587\nCloses-Bug: #1710908\n'}, {'number': 4, 'created': '2017-08-16 08:30:46.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c463e2e761ae545bdc86576c2bba537c8cfc27e', 'message': 'Make scheduler.utils.merge_resources ignore zero values\n\nIf merge_resources results in a class of resource with a value of zero,\nand that result is then used to form an allocation request, the\nallocation will be rejected: the json schema for allocations requires\nthe value of a resource class to be at least 1.\n\nTherefore merge_resources is changed so that anywhere the value is zero\nin the results, that key is popped from the dict. We need to do it in\nthis way because we are modifying an existing dict, not returning a new\none that we are assembling.\n\nChange-Id: Idea9315d6bce8b341f0c3d2dc0accca6ac259587\nCloses-Bug: #1710908\n'}]",7,493963,7c463e2e761ae545bdc86576c2bba537c8cfc27e,56,17,4,11564,,,0,"Make scheduler.utils.merge_resources ignore zero values

If merge_resources results in a class of resource with a value of zero,
and that result is then used to form an allocation request, the
allocation will be rejected: the json schema for allocations requires
the value of a resource class to be at least 1.

Therefore merge_resources is changed so that anywhere the value is zero
in the results, that key is popped from the dict. We need to do it in
this way because we are modifying an existing dict, not returning a new
one that we are assembling.

Change-Id: Idea9315d6bce8b341f0c3d2dc0accca6ac259587
Closes-Bug: #1710908
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/493963/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,3a45f3bbcc7cdcfb3bc45dcf3145239ce349b0a6,bug/1710908," def test_merge_resources_zero(self): """"""Test 0 value resources are ignored."""""" resources = { 'VCPU': 1, 'MEMORY_MB': 1024, } new_resources = { 'VCPU': 2, 'MEMORY_MB': 2048, 'DISK_GB': 0, } # The result should not include the zero valued resource. doubled = { 'VCPU': 3, 'MEMORY_MB': 3072, } utils.merge_resources(resources, new_resources) self.assertEqual(doubled, resources)",,23,3
openstack%2Fnova~master~I273998ebc03f3a832cc44787a5c2396da58e5e25,openstack/nova,master,I273998ebc03f3a832cc44787a5c2396da58e5e25,Avoid race in test_evacuate,MERGED,2017-08-14 06:36:05.000000000,2017-08-21 11:45:38.000000000,2017-08-15 20:35:46.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21784}, {'_account_id': 26498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-14 06:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99f6db1e98e4d384dfa53b716c7eb97e0c629a1a', 'message': ""Avoid race for status update and field value\n\nThere's a race between instance status and host field update\nif the instance's status updated then we find it's ACTIVE and\ndo the following check before the host field update, it will\ncontain dirty data and lead test to failure.\n\nThis patch added another check in order to provide one more chance\nto wait for the instance's status and field both up to date.\n\nChange-Id: I273998ebc03f3a832cc44787a5c2396da58e5e25\nCloses-Bug: 1710509\n""}, {'number': 2, 'created': '2017-08-15 08:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f17fb528f15f63efa822f389ed47eb8c6e7c2fc', 'message': ""add loop count and assert server status\n\nThere's possiblity that server we expected to be desired status\ndidn't reach its final status, in the test case we are having\nwe just return without final check, and this may lead to issue\nthat nova is checking dirty data.\n\nThis patch incrases the timeout value first, then check the status\nof server at last if time out and raise an assertion to let us\nconsider increase the loop time.\n\nChange-Id: I273998ebc03f3a832cc44787a5c2396da58e5e25\nCloses-Bug: 1710509\n""}, {'number': 3, 'created': '2017-08-15 10:10:37.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/548e93c4b45df05bb0352cc3ef6554d0f65870bd', 'message': 'Avoid race in test_evacuate\n\nWe want the host to be the destination and the status to be active so\nuse _wait_for_server_parameter to wait on both of those, rather than\nwaiting only for the server to change to ACTIVE.\n\nWithout this, we sometimes see the server go ACTIVE but the host has\nnot yet changed.\n\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@ericsson.com>\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I273998ebc03f3a832cc44787a5c2396da58e5e25\nCloses-Bug: 1710509\n'}]",11,493448,548e93c4b45df05bb0352cc3ef6554d0f65870bd,44,16,3,6062,,,0,"Avoid race in test_evacuate

We want the host to be the destination and the status to be active so
use _wait_for_server_parameter to wait on both of those, rather than
waiting only for the server to change to ACTIVE.

Without this, we sometimes see the server go ACTIVE but the host has
not yet changed.

Co-Authored-By: Balazs Gibizer <balazs.gibizer@ericsson.com>
Co-Authored-By: Chris Dent <cdent@anticdent.org>
Change-Id: I273998ebc03f3a832cc44787a5c2396da58e5e25
Closes-Bug: 1710509
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/493448/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,99f6db1e98e4d384dfa53b716c7eb97e0c629a1a,bug/1710509," find = 0 for i in range(0, 100): # some times we changed the server status but # other attribute might be updated after the # status change, so we need double check again # to give one more chance to let nova update # those fields if server['status'] != from_status: find += 1 else: find = 0 if find == 2:"," for i in range(0, 50): if server['status'] != from_status:",12,1
openstack%2Fnova~master~I0628d8fa0b19c3fb09f1896402fc85dcae90916f,openstack/nova,master,I0628d8fa0b19c3fb09f1896402fc85dcae90916f,Update api doc with latest updates in api framework,MERGED,2017-08-11 15:18:34.000000000,2017-08-21 11:45:24.000000000,2017-08-15 17:28:30.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26126}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-11 15:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a17c5d3515c11f2474d9cb298a1b03b4c2642b9a', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}, {'number': 2, 'created': '2017-08-11 16:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/065f985d33bd787561aa6ba1c61665213673da6f', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}, {'number': 3, 'created': '2017-08-11 16:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f23d3e5154103a464213d5acc9a92a678b985e3f', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}, {'number': 4, 'created': '2017-08-12 02:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/740909f05402fa2d463c28d28ff376bc24b8c7e7', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}, {'number': 5, 'created': '2017-08-14 17:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/506befc18a9a156bbc49f3db103d987ba0b25d1f', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}, {'number': 6, 'created': '2017-08-15 05:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30968c650c78820e9474af817e9b993c89238467', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}, {'number': 7, 'created': '2017-08-15 07:02:55.000000000', 'files': ['doc/source/contributor/api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/796f3036c29b3625ce2bbeb3108b64addf376a4f', 'message': ""Update api doc with latest updates in api framework\n\napi.rst has many stale information now as we have done\nmany changes in api framework specially removal of\nstevedore extensions loading and plain routing.\n\nThis commit modify this doc to reflect latest information\nand remove v2 specific info which are no longer valid.\n\nNote- in next part we will merge api_2.rst in this doc and\nshow 'adding api method' step by step.\n\nChange-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f\n""}]",50,493041,796f3036c29b3625ce2bbeb3108b64addf376a4f,60,12,7,8556,,,0,"Update api doc with latest updates in api framework

api.rst has many stale information now as we have done
many changes in api framework specially removal of
stevedore extensions loading and plain routing.

This commit modify this doc to reflect latest information
and remove v2 specific info which are no longer valid.

Note- in next part we will merge api_2.rst in this doc and
show 'adding api method' step by step.

Change-Id: I0628d8fa0b19c3fb09f1896402fc85dcae90916f
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/493041/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api.rst'],1,a17c5d3515c11f2474d9cb298a1b03b4c2642b9a,api-doc,"Nova used to have two API plugin frameworks, one for the original v2 API and one for what we call v2.1 which also supports V2.1 microversions. The v2 API framework is removed now and Nova has only v2.1 framework for API implementation. For more details refer `Nova API Evolution </reference/stable-api>`_ This document covers how to write new API plugins for the v2.1 framework. Aaround what is required for the microversions part. The v2.1 framework and plugins live in ``nova/api/openstack/compute``.A very basic skeleton of a v2.1 plugin:: from nova.api.openstack.compute.schemas import xyz from nova.api import validation @extensions.expected_errors((400, 409)) @validation.schema(xyz.create) def create(self, req, body): write_body_here = ok URL Mapping to API ~~~~~~~~~~~~~~~~~~ The URL mapping is based on the plain list which routes the API request to appropriate controller and method. Each API needs to add its route information in ``nova/api/openstack/compute/routes.py``. A basic skeleton of URL mapping in routers.py:: """"""URL Mapping Router List"""""" import functools import nova.api.openstack from nova.api.openstack.compute import basic_api basic_controller = functools.partial( _create_controller, basic_api.BasicController, [], []) ROUTE_LIST = ( . . . ('/basic', { 'GET': [basic_controller, 'index'], 'POST': [basic_controller, 'create'] }), . . . ) Complete Routing list can be found in `routes.py <https://git.openstack.org/cgit/openstack/nova/tree/nova/api/openstack/compute/routes.py>`_. Similarly to plugin modularity, JSON-Schema definitions can be added in same or separate JSON-Schema module. which returns additional Schema parameters:.. note:: Currently only create schema are implemented in modular way. Final goal is to merge them all and define the concluded process in this doc.",".. TODO:: Update this to reflect the removal of the legacy v2 API code Nova has two API plugin frameworks, one for the original V2 API and one for what we call V2.1 which also supports V2.1 microversions. The V2.1 API acts from a REST API user point of view in an identical way to the original V2 API. V2.1 is implemented in the same framework as microversions, with the version requested being 2.1. The V2 API is now frozen and with the exception of significant bugs no change should be made to the V2 API code. API changes should only be made through V2.1 microversions. This document covers how to write plugins for the v2.1 framework. Aaround what is required for the microversions part. It does not cover V2 plugins which should no longer be developed. There may still be references to a v3 API both in comments and in the directory path of relevant files. This is because v2.1 first started out being called v3 rather than v2.1. Where you see references to v3 you can treat it as a reference to v2.1 with or without microversions support. The original V2 API plugins live in ``nova/api/openstack/compute/legacy_v2`` and the V2.1 plugins live in ``nova/api/openstack/compute``.A very basic skeleton of a v2.1 plugin can be seen `here in the unittests <https://git.openstack.org/cgit/openstack/nova/tree/nova/tests/unit/api/openstack/compute/basic.py>`_. An annotated version below:: ALIAS = 'test-basic' # ALIAS needs to be unique and should be of the format # ^[a-z]+[a-z\-]*[a-z]$ # create -> POST class Basic(extensions.V3APIExtensionBase): """"""Basic Test Extension."""""" name = ""BasicTest"" alias = ALIAS version = 1 # Both get_resources and get_controller_extensions must always # be defined by can return an empty array def get_resources(self): resource = extensions.ResourceExtension('test', BasicController()) return [resource] def get_controller_extensions(self): return [] Nova supports the extension of JSON-Schema definitions based on the loaded API extensions for some APIs. Stevedore library tries to find specific name methods which return additional parameters and extends them to the original JSON-Schema definitions.which returns additional parameters:* Update a server API - get_server_update_schema() * Rebuild a server API - get_server_rebuild_schema() * Resize a server API - get_server_resize_schema()Support files ------------- At least one entry needs to made in ``setup.cfg`` for each plugin. An entry point for the plugin must be added to nova.api.v21.extensions even if no resource or controller is added. Other entry points available are * Modify create behaviour (nova.api.v21.extensions.server.create) * Modify rebuild behaviour (nova.api.v21.extensions.server.rebuild) * Modify update behaviour (nova.api.v21.extensions.server.update) * Modify resize behaviour (nova.api.v21.extensions.server.resize)",56,66
openstack%2Fmagnum-ui~master~I66af3a0b1fe4864f8aaaaad347fdace00ce99262,openstack/magnum-ui,master,I66af3a0b1fe4864f8aaaaad347fdace00ce99262,Updated from global requirements,MERGED,2017-08-18 04:42:48.000000000,2017-08-21 11:45:14.000000000,2017-08-21 11:45:14.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-08-18 04:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/51e3e4c9b74862d634dfd4178d5317ebc75efe7f', 'message': 'Updated from global requirements\n\nChange-Id: I66af3a0b1fe4864f8aaaaad347fdace00ce99262\n'}, {'number': 2, 'created': '2017-08-18 11:32:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/507d744dbfaf4beaf676b0a65eb86aed421ae054', 'message': 'Updated from global requirements\n\nChange-Id: I66af3a0b1fe4864f8aaaaad347fdace00ce99262\n'}]",0,494825,507d744dbfaf4beaf676b0a65eb86aed421ae054,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: I66af3a0b1fe4864f8aaaaad347fdace00ce99262
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/25/494825/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,51e3e4c9b74862d634dfd4178d5317ebc75efe7f,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,1,1
openstack%2Fnova~master~I1bb3674f35f83e2a33243103a267b4aff70f852e,openstack/nova,master,I1bb3674f35f83e2a33243103a267b4aff70f852e,doc: Extend nfv feature matrix with pinning/NUMA,MERGED,2016-06-08 14:24:32.000000000,2017-08-21 11:45:10.000000000,2017-08-14 21:24:12.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8802}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-06-08 14:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39c04cc771d6b6e47d2a96eb010fe93794c94b37', 'message': 'Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided, as no upstream Tempest tests currently exist.\n\nblueprint feature-classification\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\n'}, {'number': 2, 'created': '2016-08-11 11:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a704f0bcc43010eb1672de75407d98dc53953101', 'message': 'Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided, as no upstream Tempest tests currently exist.\n\nblueprint feature-classification\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\n'}, {'number': 3, 'created': '2016-08-11 11:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6565c21a3e2890a243d1d46e2ae7bf9b2d8c84d5', 'message': 'Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided, as no upstream Tempest tests currently exist.\n\nblueprint feature-classification\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\n'}, {'number': 4, 'created': '2016-09-21 09:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da4d81bf7345161ebde82f2fb38c86a077ac8c7d', 'message': 'Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided, as no upstream Tempest tests currently exist.\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\nblueprint feature-classification-ocata'}, {'number': 5, 'created': '2016-12-15 15:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2580c017a5981e652136d6c4cb5a5decf460953', 'message': 'Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided, as no upstream Tempest tests currently exist.\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\nblueprint feature-classification-ocata\n'}, {'number': 6, 'created': '2017-08-08 14:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ef5580e2992648d82de9cba3998c2880c4de560', 'message': 'doc: Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided as no upstream Tempest tests currently exist.\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\n'}, {'number': 7, 'created': '2017-08-14 20:02:02.000000000', 'files': ['doc/source/user/feature-matrix-nfv.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/8797ed5ac8af5262bedf2aab5772978b42a95d8e', 'message': 'doc: Extend nfv feature matrix with pinning/NUMA\n\nDetail these features, including links to the documentation. No tests\nare provided as no upstream Tempest tests currently exist.\n\nChange-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e\n'}]",10,327126,8797ed5ac8af5262bedf2aab5772978b42a95d8e,57,18,7,15334,,,0,"doc: Extend nfv feature matrix with pinning/NUMA

Detail these features, including links to the documentation. No tests
are provided as no upstream Tempest tests currently exist.

Change-Id: I1bb3674f35f83e2a33243103a267b4aff70f852e
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/327126/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/feature_matrix_nfv.ini'],1,39c04cc771d6b6e47d2a96eb010fe93794c94b37,feature-classification-queens,"# # Lists all the CI jobs as targets # # # Lists all features # # Includes information on the feature, its maturity, status, # links to admin docs, api docs and tempest test uuids. # # It then lists the current state for each of the about CI jobs. # It is hoped this mapping will eventually be automated. #notes=Configure placement of instance vCPUs and memory across host NUMA nodesadmin_doc_link=http://docs.openstack.org/admin-guide/compute-numa-cpu-pinning.htmllibvirt-kvm=complete libvirt-xen=missing [operation.cpu-pinning-policy] title=CPU Pinning Policy notes=Enable/disable binding of instance vCPUs to host CPUs maturity=experimental api_doc_link=http://developer.openstack.org/api-ref-compute-v2.1.html#createServer admin_doc_link=http://docs.openstack.org/admin-guide/compute-numa-cpu-pinning.html libvirt-kvm=complete libvirt-xen=missing [operation.cpu-pinning-thread-policy] title=CPU Pinning Thread Policy notes=Configure usage of host hardware threads when pinning is used maturity=experimental api_doc_link=http://developer.openstack.org/api-ref-compute-v2.1.html#createServer admin_doc_link=http://docs.openstack.org/admin-guide/compute-numa-cpu-pinning.html libvirt-kvm=complete",notes=TODO add notes for featureadmin_doc_link=http://docs.openstack.org/admin-guide-cloud/compute-images-instances.html#instance-building-blockslibvirt-kvm=partial:m,34,3
openstack%2Fmagnum-ui~master~I476c9621963b29a647eaabdaae8e80e78109cd42,openstack/magnum-ui,master,I476c9621963b29a647eaabdaae8e80e78109cd42,Imported Translations from Zanata,MERGED,2017-08-17 10:44:52.000000000,2017-08-21 11:45:09.000000000,2017-08-21 11:45:09.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-08-17 10:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/f676e4458ef562329bbb43564cc2cba5def78ae8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I476c9621963b29a647eaabdaae8e80e78109cd42\n'}, {'number': 2, 'created': '2017-08-18 10:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/2d245857074432f116321991184fdb2d2bbfcc50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I476c9621963b29a647eaabdaae8e80e78109cd42\n'}, {'number': 3, 'created': '2017-08-21 10:41:12.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/tr_TR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/02222051da2051cc24f68acc5319f1ba9106f838', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I476c9621963b29a647eaabdaae8e80e78109cd42\n'}]",0,494474,02222051da2051cc24f68acc5319f1ba9106f838,11,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I476c9621963b29a647eaabdaae8e80e78109cd42
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/74/494474/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/tr_TR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",5,f676e4458ef562329bbb43564cc2cba5def78ae8,zanata/translations,"""POT-Creation-Date: 2017-08-16 15:11+0000\n""""PO-Revision-Date: 2017-08-17 01:53+0000\n""msgid ""2.2.0-60"" msgstr ""2.2.0-60""","""POT-Creation-Date: 2017-08-15 13:35+0000\n""""PO-Revision-Date: 2017-08-15 02:37+0000\n""msgid ""2.2.0-59"" msgstr ""2.2.0-59""",101,29
openstack%2Fnova~master~I2385d95169711e8be0b4ee00823bfff7a8ab88d8,openstack/nova,master,I2385d95169711e8be0b4ee00823bfff7a8ab88d8,Fix messages in functional tests,MERGED,2017-08-14 07:20:33.000000000,2017-08-21 11:44:57.000000000,2017-08-15 20:39:16.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 15941}, {'_account_id': 20191}]","[{'number': 1, 'created': '2017-08-14 07:20:33.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6fb9fe3b9812c5bfbcb8fe1be585fd74aa91952', 'message': 'Fix messages in functional tests\n\nThey need an extra white space.\n\nTrivialFix\nChange-Id: I2385d95169711e8be0b4ee00823bfff7a8ab88d8\n'}]",0,493460,b6fb9fe3b9812c5bfbcb8fe1be585fd74aa91952,17,7,1,7634,,,0,"Fix messages in functional tests

They need an extra white space.

TrivialFix
Change-Id: I2385d95169711e8be0b4ee00823bfff7a8ab88d8
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/493460/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,b6fb9fe3b9812c5bfbcb8fe1be585fd74aa91952,fix_message, 'No allocation for the server on the host it ' 'No allocation for the server on the host it ', 'No allocation for the server on the host it' 'No allocation for the server on the host it',2,2
openstack%2Fnova~master~I6c880c72d87eb0116cb57371e5d600dced2915f7,openstack/nova,master,I6c880c72d87eb0116cb57371e5d600dced2915f7,doc: add another up-call caveat for cells v2 for xenapi aggregates,MERGED,2017-08-11 13:25:22.000000000,2017-08-21 11:44:43.000000000,2017-08-11 15:49:36.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 14595}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-11 13:25:22.000000000', 'files': ['doc/source/user/cellsv2_layout.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/904c4a1d9ac25119bb3100a349e19fef8d318527', 'message': ""doc: add another up-call caveat for cells v2 for xenapi aggregates\n\nThere is an up-call from the xenapi driver when performing a live\nmigration and --block-migrate is not specified such that the driver\nchecks to see if the source and destination hosts are in the same\naggregate. This fails in a super-conductor setup because the\naggregates are now in the API database and the cell conductor\nwon't be able to access that database by design.\n\nChange-Id: I6c880c72d87eb0116cb57371e5d600dced2915f7\nRelated-Bug: #1709594\n""}]",1,493006,904c4a1d9ac25119bb3100a349e19fef8d318527,18,7,1,6873,,,0,"doc: add another up-call caveat for cells v2 for xenapi aggregates

There is an up-call from the xenapi driver when performing a live
migration and --block-migrate is not specified such that the driver
checks to see if the source and destination hosts are in the same
aggregate. This fails in a super-conductor setup because the
aggregates are now in the API database and the cell conductor
won't be able to access that database by design.

Change-Id: I6c880c72d87eb0116cb57371e5d600dced2915f7
Related-Bug: #1709594
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/493006/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cellsv2_layout.rst'],1,904c4a1d9ac25119bb3100a349e19fef8d318527,bug/1709594,"#. Instance reschedules during boot #. Instance affinity reporting from the compute nodes to scheduler #. The late anti-affinity check #. Querying host aggregates from the cell The fourth is currently only a problem when performing live migrations using the XenAPI driver and not specifying ``--block-migrate``. The driver will attempt to figure out if block migration should be performed based on source and destination hosts being in the same aggregate. Since aggregates data has migrated to the API database, the cell conductor will not be able to access the aggregate information and will fail.",- Instance reschedules during boot - Instance affinity reporting from the compute nodes to scheduler - The late anti-affinity check,11,3
openstack%2Fnova~master~I843353427c90142a366ae9ca63ee4298b4f3ecd4,openstack/nova,master,I843353427c90142a366ae9ca63ee4298b4f3ecd4,Deprecate bare metal filters,MERGED,2017-08-10 14:59:38.000000000,2017-08-21 11:44:31.000000000,2017-08-11 15:24:49.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-10 14:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/224e0d5e91504da447dfa421a91b552aca200941', 'message': 'Deprecate bare metal filters\n\nThis change deprecates the Exact filters, and two options commonly used\nto enable them. Custom resource classes should be used instead.\n\nChange-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4\n'}, {'number': 2, 'created': '2017-08-10 15:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eca3d6a2ce0aa24c4fd089529cacd6441312261e', 'message': 'Deprecate bare metal filters\n\nThis change deprecates the Exact filters, and two options commonly used\nto enable them. Custom resource classes should be used instead.\n\nChange-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4\n'}, {'number': 3, 'created': '2017-08-10 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/645ac317731f2c478e014c52d4ec1f026def5296', 'message': 'Deprecate bare metal filters\n\nThis change deprecates the Exact filters, and two options commonly used\nto enable them. Custom resource classes should be used instead.\n\nChange-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4\n'}, {'number': 4, 'created': '2017-08-10 19:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2924bfe6655720d109343939f1a33fc1b49d2c14', 'message': 'Deprecate bare metal filters\n\nThis change deprecates the Exact filters, and two options commonly used\nto enable them. Custom resource classes should be used instead.\n\nChange-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4\n'}, {'number': 5, 'created': '2017-08-11 10:41:04.000000000', 'files': ['releasenotes/notes/deprecate-baremetal-filters-618249af65115bf6.yaml', 'nova/scheduler/filters/exact_ram_filter.py', 'nova/scheduler/filters/exact_core_filter.py', 'nova/conf/scheduler.py', 'nova/scheduler/filters/exact_disk_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4295ef0496849c1bc43481d31f57d79afaf6b7b', 'message': 'Deprecate bare metal filters\n\nThis change deprecates the Exact filters, and two options commonly used\nto enable them. Custom resource classes should be used instead.\n\nChange-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4\n'}]",9,492563,b4295ef0496849c1bc43481d31f57d79afaf6b7b,48,14,5,10239,,,0,"Deprecate bare metal filters

This change deprecates the Exact filters, and two options commonly used
to enable them. Custom resource classes should be used instead.

Change-Id: I843353427c90142a366ae9ca63ee4298b4f3ecd4
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/492563/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-baremetal-filters-618249af65115bf6.yaml', 'nova/scheduler/filters/exact_core_filter.py', 'nova/scheduler/filters/exact_ram_filter.py', 'nova/conf/scheduler.py', 'nova/scheduler/filters/exact_disk_filter.py']",5,224e0d5e91504da447dfa421a91b552aca200941,exact-filters," def __init__(self, *args, **kwargs): super(ExactDiskFilter, self).__init__(*args, **kwargs) LOG.warning('ExactDiskFilter is deprecated in Pike and will be ' 'removed in a subsequent release.') ",,36,0
openstack%2Fnova~master~Iaafa71a99d947b4ffb1b365c614a73f38591dca2,openstack/nova,master,Iaafa71a99d947b4ffb1b365c614a73f38591dca2,Imported Translations from Zanata,MERGED,2017-06-24 11:31:19.000000000,2017-08-21 11:43:51.000000000,2017-08-10 18:18:31.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18598}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-24 11:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4540a3b35aef1ab314da940164a9fadbe3a4144', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 2, 'created': '2017-06-27 11:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4319d00db2e9d69d54f1644c41256459214144bc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 3, 'created': '2017-06-28 11:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b166aafc181b56dc74227ec5e02070eaba0c642f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 4, 'created': '2017-06-29 11:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f95981a71269756f4f5479b2fdb23416bac7dd7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 5, 'created': '2017-06-30 11:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dd41ab5b2460a7317c69e69a789cd86353026d6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 6, 'created': '2017-07-01 11:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67c804ccbd105d49915645a918f89f138b3f9873', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 7, 'created': '2017-07-02 11:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64e55ef3b79816153ce9fd8ab964213f0421c3dd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 8, 'created': '2017-07-04 11:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a74e2dae006f8f416d6fab39324a0c907886042', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 9, 'created': '2017-07-05 12:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a114f2e50f604adc2409888b2a4baa14076820d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 10, 'created': '2017-07-06 12:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0d6e49697fc55edea4a4610c01122811ae6c94', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 11, 'created': '2017-07-07 12:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d6ef7d5ce68340ca8f462b68e447f596a0d8477', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 12, 'created': '2017-07-08 11:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9770f2925643567f767cf6c9c4be636895e11af2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 13, 'created': '2017-07-11 11:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69c1842184089edc503c50f4b4ee780882c61198', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 14, 'created': '2017-07-12 13:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6db38a04532194ba00264b1b389cf825620da4c1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 15, 'created': '2017-07-13 12:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e621cfb6472adc16350ab53d1a499dac0b4a561', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 16, 'created': '2017-07-14 12:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5227f4b8490913cacabd48bcf7fee046cfa54883', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 17, 'created': '2017-07-15 11:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f502dd3b847a0be6d5aade49def87038f4fdeb1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 18, 'created': '2017-07-16 11:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97a4ef93b62db03e0229c392d35b0d29db9ad47a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 19, 'created': '2017-07-17 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a6b8bc7ac0a47fdb232167464b56761aa4f90f5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 20, 'created': '2017-07-18 11:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/446ede67579c2f9a7813ae15a2c6adc5a56099b8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 21, 'created': '2017-07-19 12:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7f2a60b348cd3d86141cc2698fe92f8e313226b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 22, 'created': '2017-07-20 11:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfe867644cd18c5699949de2cf4a2ecdc55b2b73', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 23, 'created': '2017-07-21 12:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10d7b55db1c36666cd6d007a3884bd306d9ef205', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 24, 'created': '2017-07-22 11:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e405177c4a0a07337afa0141edcb0ba51deedfe8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 25, 'created': '2017-07-23 11:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63015edaf411f379a9e0d1d06596bf11098d1d5a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 26, 'created': '2017-07-24 12:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f22db4afb547d755a1a9ea8cd387e29e5bba052', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 27, 'created': '2017-07-25 12:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bbd2e5f9175cc556528caf459200520a76a40b2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 28, 'created': '2017-07-26 12:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd2ce1ec75e1063b7486b94208e1f85011a39913', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 29, 'created': '2017-07-27 12:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebc6b18b6e56ad4b65aaad2f3235956250318be7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 30, 'created': '2017-07-28 12:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66f262ec33b1dbd63d44511863f5b496081b9f70', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 31, 'created': '2017-07-29 11:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7df56865da3067ea8e5bddbc23de987bcea97a33', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 32, 'created': '2017-08-01 12:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e947f7ea056d6aad75cb672cfe68cb892fc889c9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 33, 'created': '2017-08-02 12:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d57783fd3be8a4b328566e2eba0d153f5d00a816', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 34, 'created': '2017-08-03 11:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cc6b200069e32a6018fd20e5a7c1ad0e3fa9e63', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 35, 'created': '2017-08-04 12:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7125cbba344473d27dfc689fab30a77f7f85907', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 36, 'created': '2017-08-05 11:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6550987e68d48c454d4a2b00caefbffcf31b44f2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 37, 'created': '2017-08-08 11:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28e1a43afa8b9c37df282bca6b34b39f697fba50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 38, 'created': '2017-08-09 11:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc2f7a1ad50b414bf53e863efc73c6863636c43a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}, {'number': 39, 'created': '2017-08-10 11:34:34.000000000', 'files': ['nova/locale/pt_BR/LC_MESSAGES/nova.po', 'nova/locale/zh_CN/LC_MESSAGES/nova.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova.po', 'nova/locale/zh_TW/LC_MESSAGES/nova.po', 'nova/locale/cs/LC_MESSAGES/nova.po', 'nova/locale/ru/LC_MESSAGES/nova.po', 'nova/locale/tr_TR/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova.po', 'nova/locale/de/LC_MESSAGES/nova.po'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6654ba4a48847586bec1bc69d13d10e4fd3075d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2\n'}]",0,477091,a6654ba4a48847586bec1bc69d13d10e4fd3075d,439,18,39,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Iaafa71a99d947b4ffb1b365c614a73f38591dca2
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/477091/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/locale/pt_BR/LC_MESSAGES/nova.po', 'nova/locale/zh_CN/LC_MESSAGES/nova.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova.po', 'nova/locale/zh_TW/LC_MESSAGES/nova.po', 'nova/locale/cs/LC_MESSAGES/nova.po', 'nova/locale/ru/LC_MESSAGES/nova.po', 'nova/locale/tr_TR/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova.po', 'nova/locale/de/LC_MESSAGES/nova.po']",12,f4540a3b35aef1ab314da940164a9fadbe3a4144,zanata/translations,"""Project-Id-Version: nova 16.0.0.0b3.dev171\n""""POT-Creation-Date: 2017-06-24 02:21+0000\n""""PO-Revision-Date: 2016-09-25 11:17+0000\n""","""Project-Id-Version: nova 15.0.0.0rc2.dev255\n""""POT-Creation-Date: 2017-03-02 18:28+0000\n""""PO-Revision-Date: 2016-09-26 12:48+0000\n""msgid ""Cannot access 'scality_sofs_config': %s"" msgstr ""Zugriff auf 'scality_sofs_config' nicht möglich: %s"" #, python-formatmsgid """" ""Cannot create default bittorrent URL without xenserver.torrent_base_url "" ""configuration option set."" msgstr """" ""Kann keine Standard-bittorrent-URL erstellen ohne xenserver.torrent_base_url "" ""Konfigurationssoption gesetzt."" msgid ""Cannot execute /sbin/mount.sofs"" msgstr ""Ausführen von /sbin/mount.sofs nicht möglich"" msgid ""Cannot mount Scality SOFS, check syslog for errors"" msgstr ""Scality-SoFS kann nicht angehängt werden. Syslog auf Fehler überprüfen"" msgid ""Certificate is not valid after: %s UTC"" msgstr ""Das Zertifikat ist nicht gültig nach: %s UTC"" #, python-format msgid ""Certificate is not valid before: %s UTC"" msgstr ""Das Zertifikat ist erst gültig ab: %s UTC"" #, python-formatmsgid ""Error occurred while creating the verifier"" msgstr ""Beim Erstellen der Prüffunktion ist ein Fehler aufgetreten."" msgid ""Expected object of type: %s"" msgstr ""Erwartetes Objekt vom Typ: %s"" #, python-formatmsgid ""Invalid certificate format: %s"" msgstr ""Ungültiges Zertifikatformat: %s"" #, python-formatmsgid ""Invalid data supplied to HashRing.get_hosts."" msgstr ""Ungültige Daten für HashRing.get_hosts angegeben."" msgid ""Invalid field name: %s"" msgstr ""Ungültiger Feldname: %s"" #, python-formatmsgid ""Invalid hosts supplied when building HashRing."" msgstr ""Ungültige Hosts beim Erstellen von HashRing angegeben."" msgid ""Invalid public key type for signature key type: %s"" msgstr ""Ungültiger öffentlicher Schlüsseltyp für den Signaturschlüsseltyp: %s"" #, python-format#, python-format msgid ""Invalid signature hash method: %s"" msgstr ""Ungültige Signaturhashmethode: %s"" #, python-format msgid ""Invalid signature key type: %s"" msgstr ""Ungültiger Signaturschlüsseltyp: %s"" msgid ""Invalid type for %s"" msgstr ""Ungültiger Typ für %s"" #, python-format msgid ""Invalid type for %s entry"" msgstr ""Ungültiger Typ für %s Eintrag"" #, python-format""Live migration can not be used without shared storage except a booted from "" ""volume VM which does not have a local disk."" msgstr """" ""Live migration kann nicht benutzt werden ohne geteiltem Speicher ausser "" ""einer gebooteten VM ohne lokaler Festplatte."" msgid """"msgid ""Only root certificate can be retrieved."" msgstr ""Nur Stammzertifikat abrufbar."" msgid """" ""Required image properties for signature verification do not exist. Cannot "" ""verify signature. Missing property: %s"" msgstr """" ""Es fehlen erforderliche Abbildeigenschaften für die Signaturverifizierung. "" ""Die Signatur konnte nicht verifiziert werden. Fehlende Eigenschaft: %s"" #, python-formatmsgid ""Signature verification for the image failed: %(reason)s."" msgstr ""Signaturverifizierung für das Abbild fehlgeschlagen: %(reason)s."" #, python-formatmsgid """" ""The metadata for this location will not work with this module %(module)s. "" ""%(reason)s."" msgstr """" ""Die Metadaten für diese Position funktionieren nicht mit diesem Modul "" ""%(module)s. %(reason)s."" #, python-format msgid ""The method %(method_name)s is not implemented."" msgstr ""Die Methode %(method_name)s ist nicht implementiert."" #, python-format msgid ""The module %(module)s is misconfigured: %(reason)s."" msgstr ""Das Modul %(module)s ist fehlerhaft konfiguriert: %(reason)s."" #, python-formatmsgid ""The signature data was not properly encoded using base64"" msgstr ""Die Signaturdaten wurden nicht ordnungsgemäß mit base64 codiert."" msgid ""The supplied device (%(device)s) is busy."" msgstr ""Der gelieferte Gerätepfad (%(device)s) ist belegt."" #, python-format#, python-format msgid ""There was an error with the download module %(module)s. %(reason)s"" msgstr ""Beim Downloadmodul %(module)s ist ein Fehler aufgetreten. %(reason)s"" msgid """" ""Unable to claim IP for VPN instances, ensure it isn't running, and try again "" ""in a few minutes"" msgstr """" ""IP-Adresse für VPN-Instanz kann nicht angefordert werden. Stellen Sie "" ""sicher, dass sie nicht aktiv ist, und versuchen Sie es in ein paar Minuten "" ""erneut"" #, python-format msgid ""Unable to retrieve certificate with ID: %s"" msgstr ""Das Zertifikat mit der folgenden ID konnte nicht abgerufen werden: %s"" #, python-format msgid ""Unknown action %s"" msgstr ""Unbekannte Aktion %s"" msgid ""Value required for 'scality_sofs_config'"" msgstr ""Wert für 'scality_sofs_config' erforderlich"" msgid ""Volume resource quota exceeded"" msgstr ""Kontingentüberschreitung Datenträgerressource"" ",257,1517
openstack%2Fnova~master~Ia93168b1560267178059284186fb2b7096c7e81f,openstack/nova,master,Ia93168b1560267178059284186fb2b7096c7e81f,Resource tracker compatibility with Ocata and Pike,MERGED,2017-08-04 18:18:56.000000000,2017-08-21 11:43:44.000000000,2017-08-11 07:06:48.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 18:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30a63c4839383780fb44ef25367d710bee9879a9', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 2, 'created': '2017-08-04 20:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3afa8aaf207da000f65f400927fd0eb01ce77bcc', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 3, 'created': '2017-08-04 20:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76ac7aa2db098e844bd8d995cc28dedaaedbb34a', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 4, 'created': '2017-08-04 21:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c471defd3ba97b1ce3c7fd795558f527e04285cb', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nThere is a latent issue since Ocata that we may be improperly removing\nallocations on the source host during the update_available_resource()\nperiodic interval call before a migration is confirmed. This patch adds\ncode to the _delete_allocations_for_instance() report client call to\nensure that if an instance is NOT in either DELETED or\nSHELVED_OFFLOADED vm_states, we do not attempt to delete the\nallocations for an instance that is no longer ""tracked"" by the source\nhost.\n\nHowever, because we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 5, 'created': '2017-08-08 16:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae80e1be8fb30ae3e1a50625759eef70e18746a', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 6, 'created': '2017-08-08 19:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be7f47d5ed92972d0e6a611c5cede496420987f5', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 7, 'created': '2017-08-09 12:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/337f2c87fd588f680f1bb6653c754cfd2177d6ec', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 8, 'created': '2017-08-09 17:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21f0897b074b3bc110ac4e2b17c8265bc20f3e77', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nNote that this adds service version caching for the compute service.\nWe were already doing the lookup for the RPC pin and caching that,\nso this is not much of a change. Also note that we weren\'t clearing\nthis caching in tests, so any test that ran code that cached the\nservice version would affect later ones. This clears it as part of the\nbase test setup too.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 9, 'created': '2017-08-09 20:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f10ac2d066873fd4723290e85c1f2239d166479', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nNote that this adds service version caching for the compute service.\nWe were already doing the lookup for the RPC pin and caching that,\nso this is not much of a change. Also note that we weren\'t clearing\nthis caching in tests, so any test that ran code that cached the\nservice version would affect later ones. This clears it as part of the\nbase test setup too.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 10, 'created': '2017-08-09 20:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/646f63ce3737e7b7cca657b4ea451ed34060b36a', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nNote that this adds service version caching for the compute service.\nWe were already doing the lookup for the RPC pin and caching that,\nso this is not much of a change. Also note that we weren\'t clearing\nthis caching in tests, so any test that ran code that cached the\nservice version would affect later ones. This clears it as part of the\nbase test setup too.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 11, 'created': '2017-08-09 20:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb99b92ab768d3bf39d8e2fe3ab356fc27013d01', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nNote that this adds service version caching for the compute service.\nWe were already doing the lookup for the RPC pin and caching that,\nso this is not much of a change. Also note that we weren\'t clearing\nthis caching in tests, so any test that ran code that cached the\nservice version would affect later ones. This clears it as part of the\nbase test setup too.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}, {'number': 12, 'created': '2017-08-10 13:47:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1679750.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/test.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/service-update.json', 'nova/cmd/compute.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ddef9dcfc0f7b8f80c6f67f2bfcaf752558a7788', 'message': 'Resource tracker compatibility with Ocata and Pike\n\nBecause we need to allow for a smooth upgrade from Ocata to\nPike, we need Pike compute hosts to be tolerant of the bad accounting\nassumptions that Ocata compute hosts were making. If a user migrates an\ninstance from an Ocata compute host to a Pike compute host, the Ocata\ncompute host will continue essentially re-setting the instance\nallocation to be an allocation against only the source Ocata host\n(during the migration operation). We need to have the Pike destination\ncompute host recognize when its in a mixed Ocata/Pike environment and\ntolerate this incorrect ""healing"" that the Ocata source host will do.\nTo tolerate this, the Pike destination compute host must continue to\nbehave like an Ocata compute host until all compute hosts are upgraded\nto Pike or beyond.\n\nNote that this adds service version caching for the compute service.\nWe were already doing the lookup for the RPC pin and caching that,\nso this is not much of a change. Also note that we weren\'t clearing\nthis caching in tests, so any test that ran code that cached the\nservice version would affect later ones. This clears it as part of the\nbase test setup too.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: Ia93168b1560267178059284186fb2b7096c7e81f\n'}]",36,491012,ddef9dcfc0f7b8f80c6f67f2bfcaf752558a7788,126,18,12,4393,,,0,"Resource tracker compatibility with Ocata and Pike

Because we need to allow for a smooth upgrade from Ocata to
Pike, we need Pike compute hosts to be tolerant of the bad accounting
assumptions that Ocata compute hosts were making. If a user migrates an
instance from an Ocata compute host to a Pike compute host, the Ocata
compute host will continue essentially re-setting the instance
allocation to be an allocation against only the source Ocata host
(during the migration operation). We need to have the Pike destination
compute host recognize when its in a mixed Ocata/Pike environment and
tolerate this incorrect ""healing"" that the Ocata source host will do.
To tolerate this, the Pike destination compute host must continue to
behave like an Ocata compute host until all compute hosts are upgraded
to Pike or beyond.

Note that this adds service version caching for the compute service.
We were already doing the lookup for the RPC pin and caching that,
so this is not much of a change. Also note that we weren't clearing
this caching in tests, so any test that ran code that cached the
service version would affect later ones. This clears it as part of the
base test setup too.

Co-Authored-By: Jay Pipes <jaypipes@gmail.com>
Change-Id: Ia93168b1560267178059284186fb2b7096c7e81f
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/491012/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/service-update.json', 'nova/compute/resource_tracker.py']",6,30a63c4839383780fb44ef25367d710bee9879a9,bug/1707071," is_removed=False, has_ocata_computes=False): if has_ocata_computes: LOG.debug(""We're on a Pike compute host in a deployment "" ""with Ocata compute hosts. Auto-correcting "" ""allocations to handle Ocata-style assumptions."") self.reportclient.update_instance_allocation(cn, instance, sign) else: # NOTE(jaypipes): We're on a Pike compute host or later in # a deployment with all compute hosts upgraded to Pike or # later # # If that is the case, then we know that the scheduler will # have properly created an allocation and that the compute # hosts have not attempted to overwrite allocations # **during the periodic update_available_resource() call**. # However, Pike compute hosts may still rework an # allocation for an instance in a move operation during # confirm_resize() on the source host which will remove the # source resource provider from any allocation for an # instance. # # In Queens and beyond, the scheduler will understand when # a move operation has been requested and instead of # creating a doubled-up allocation that contains both the # source and destination host, the scheduler will take the # original allocation (against the source host) and change # the consumer ID of that allocation to be the migration # UUID and not the instance UUID. The scheduler will # allocate the resources for the destination host to the # instance UUID. LOG.debug(""We're on a Pike compute host in a deployment "" ""with all Pike compute hosts. Skipping "" ""auto-correction of allocations."") # NOTE(jaypipes): In Pike, we need to be tolerant of Ocata compute # nodes that overwrite placement allocations to look like what the # resource tracker *thinks* is correct. When an instance is # migrated from an Ocata compute node to a Pike compute node, the # Pike scheduler will have created a ""doubled-up"" allocation that # contains allocated resources against both the source and # destination hosts. The Ocata source compute host, during its # update_available_resource() periodic call will find the instance # in its list of known instances and will call # update_instance_allocation() in the report client. That call will # pull the allocations for the instance UUID which will contain # both the source and destination host providers in the allocation # set. Seeing that this is different from what the Ocata source # host thinks it should be and will overwrite the allocation to # only be an allocation against itself. # # And therefore, here we need to have Pike compute hosts # ""correct"" the improper healing that the Ocata source host did # during its periodic interval. When the instance is fully migrated # to the Pike compute host, the Ocata compute host will find an # allocation that refers to itself for an instance it no longer # controls and will *delete* all allocations that refer to that # instance UUID, assuming that the instance has been deleted. We # need the destination Pike compute host to recreate that # allocation to refer to its own resource provider UUID. # # For Pike compute nodes that migrate to either a Pike compute host # or a Queens compute host, we do NOT want the Pike compute host to # be ""healing"" allocation information. Instead, we rely on the Pike # scheduler to properly create allocations during scheduling. compute_version = objects.Service.get_minimum_version( context, 'nova-compute') has_ocata_computes = False if compute_version < 22: has_ocata_computes = True self._update_usage_from_instance(context, instance, nodename, has_ocata_computes=has_ocata_computes) self._remove_deleted_instances_allocations(context, cn, has_ocata_computes=has_ocata_computes) def _remove_deleted_instances_allocations(self, context, cn, has_ocata_computes): can_rem = instance.vm_state in vm_states.ALLOW_RESOURCE_REMOVAL if not has_ocata_computes and not can_rem: # NOTE(jaypipes): If the instance is migrating or resizing, # its vm_state will be something other than DELETED or # SHELVED_OFFLOADED, and we continue here to ensure that we # do NOT delete the instance allocation. # # Note that the instance's allocation will be set on the # destination host during confirming of the resize # operation. That action will cause the allocations against # the source host to be effectively deleted. # # In the case of an Ocata compute host migrating to a Pike # compute host, we actually DO want to delete the # allocation for the instance entirely because the Ocata # source host will be trying to ""heal"" the allocation to # refer to itself during migration and the Pike destination # host will need to ""heal"" the allocation back to refer to # *itself* during the update_available_resource() periodic # interval, essentially correcting the bad allocation the # Ocata source compute made. continue"," is_removed=False): self.reportclient.update_instance_allocation(cn, instance, sign) self._update_usage_from_instance(context, instance, nodename) self._remove_deleted_instances_allocations(context, cn) def _remove_deleted_instances_allocations(self, context, cn):",167,77
openstack%2Fnova~master~Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414,openstack/nova,master,Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414,Remove ram/disk sched filters from default list,MERGED,2017-08-08 16:37:30.000000000,2017-08-21 11:43:10.000000000,2017-08-10 10:53:59.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 23317}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 16:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53f59896784e9f16224e5f2fd1043928e29a44e5', 'message': 'Remove ram/disk sched filters from default list\n\nSince we now use placement to verify basic CPU/RAM/disk resources,\nwe should default to disabling the equivalent scheduler filters.\n\nOddly enough, CoreFilter was already disabled so now also disable\nRamFilter and DiskFilter.\n\nCloses-Bug: #1709328\nChange-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414\n'}, {'number': 2, 'created': '2017-08-09 17:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b1b2c96bf4282584891928b1722f32c695765a2', 'message': 'Remove ram/disk sched filters from default list\n\nSince we now use placement to verify basic CPU/RAM/disk resources,\nwe should default to disabling the equivalent scheduler filters.\n\nOddly enough, CoreFilter was already disabled so now also disable\nRamFilter and DiskFilter.\n\nCloses-Bug: #1709328\nChange-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414\n'}, {'number': 3, 'created': '2017-08-09 17:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/862402ccada21f1a8dc3ec831aab9fc4898f003e', 'message': 'Remove ram/disk sched filters from default list\n\nSince we now use placement to verify basic CPU/RAM/disk resources,\nwe should default to disabling the equivalent scheduler filters.\n\nOddly enough, CoreFilter was already disabled so now also disable\nRamFilter and DiskFilter.\n\nCloses-Bug: #1709328\nChange-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414\n'}, {'number': 4, 'created': '2017-08-09 21:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01a541a9f90fafbcbec6cb389dad2f07b733d6d7', 'message': 'Remove ram/disk sched filters from default list\n\nSince we now use placement to verify basic CPU/RAM/disk resources,\nwe should default to disabling the equivalent scheduler filters.\n\nOddly enough, CoreFilter was already disabled so now also disable\nRamFilter and DiskFilter.\n\nCloses-Bug: #1709328\nChange-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414\n'}, {'number': 5, 'created': '2017-08-09 21:10:21.000000000', 'files': ['releasenotes/notes/trim-default-sched-filters-e70de3bb4c7b1a1b.yaml', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2fe96819c24eff5a9493a6559f3e8d5b4624a8c9', 'message': 'Remove ram/disk sched filters from default list\n\nSince we now use placement to verify basic CPU/RAM/disk resources,\nwe should default to disabling the equivalent scheduler filters.\n\nOddly enough, CoreFilter was already disabled so now also disable\nRamFilter and DiskFilter.\n\nCloses-Bug: #1709328\nChange-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414\n'}]",6,491854,2fe96819c24eff5a9493a6559f3e8d5b4624a8c9,52,19,5,8768,,,0,"Remove ram/disk sched filters from default list

Since we now use placement to verify basic CPU/RAM/disk resources,
we should default to disabling the equivalent scheduler filters.

Oddly enough, CoreFilter was already disabled so now also disable
RamFilter and DiskFilter.

Closes-Bug: #1709328
Change-Id: Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/491854/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/scheduler.py'],1,53f59896784e9f16224e5f2fd1043928e29a44e5,bug/1709328,," ""RamFilter"", ""DiskFilter"",",0,2
openstack%2Fnova~master~I8d882278a0c2c125be422304679b2067d9730e2a,openstack/nova,master,I8d882278a0c2c125be422304679b2067d9730e2a,remove log message with potential stale info,MERGED,2017-08-09 20:03:32.000000000,2017-08-21 11:42:53.000000000,2017-08-10 16:18:18.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-09 20:03:32.000000000', 'files': ['nova/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2651b27b68ae84ea7726c19892573e6c20c68039', 'message': ""remove log message with potential stale info\n\nThere was a log message in the filter scheduler _claim_resources()\nmethod that had the potential of containing stale information when a\nmove operation may have modified the allocation request, so we remove\nthat log message here for clarity since the scheduler report client's\nclaim_resources() method always logs the original and updated\nallocation request.\n\nChange-Id: I8d882278a0c2c125be422304679b2067d9730e2a\n""}]",1,492242,2651b27b68ae84ea7726c19892573e6c20c68039,29,5,1,7,,,0,"remove log message with potential stale info

There was a log message in the filter scheduler _claim_resources()
method that had the potential of containing stale information when a
move operation may have modified the allocation request, so we remove
that log message here for clarity since the scheduler report client's
claim_resources() method always logs the original and updated
allocation request.

Change-Id: I8d882278a0c2c125be422304679b2067d9730e2a
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/492242/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,2651b27b68ae84ea7726c19892573e6c20c68039,bug/1707071," return self.placement_client.claim_resources(instance_uuid,"," claimed = self.placement_client.claim_resources(instance_uuid, if not claimed: return False LOG.debug(""Successfully claimed resources for instance %s using "" ""allocation request %s"", instance_uuid, alloc_req) return True ",1,9
openstack%2Fnova~master~Ia7ff98ff28b7265058845e46b277317a2bfc96d2,openstack/nova,master,Ia7ff98ff28b7265058845e46b277317a2bfc96d2,Mark Chance and Caching schedulers as deprecated,MERGED,2017-08-09 17:54:26.000000000,2017-08-21 11:42:41.000000000,2017-08-10 10:57:36.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-09 17:54:26.000000000', 'files': ['releasenotes/notes/scheduler-deprecation-20d035193c7392e4.yaml', 'nova/scheduler/chance.py', 'nova/scheduler/caching_scheduler.py', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d48bba18a7cebc57e63f5b2c5a1e939654de0883', 'message': 'Mark Chance and Caching schedulers as deprecated\n\nFilterScheduler with Placement should replace both of these. Mark them\nas deprecated now so the timer starts.\n\nChange-Id: Ia7ff98ff28b7265058845e46b277317a2bfc96d2\n'}]",0,492210,d48bba18a7cebc57e63f5b2c5a1e939654de0883,22,6,1,4393,,,0,"Mark Chance and Caching schedulers as deprecated

FilterScheduler with Placement should replace both of these. Mark them
as deprecated now so the timer starts.

Change-Id: Ia7ff98ff28b7265058845e46b277317a2bfc96d2
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/492210/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/scheduler-deprecation-20d035193c7392e4.yaml', 'nova/scheduler/caching_scheduler.py', 'nova/scheduler/chance.py', 'nova/conf/scheduler.py']",4,d48bba18a7cebc57e63f5b2c5a1e939654de0883,deprecate-dem-schedulers, multiple schedulers. [DEPRECATED] * 'chance_scheduler' which simply picks a host at random. [DEPRECATED], multiple schedulers. * 'chance_scheduler' which simply picks a host at random.,25,2
openstack%2Fnova~master~I963170f99037d5ed085e8c676ab55750c7f6372e,openstack/nova,master,I963170f99037d5ed085e8c676ab55750c7f6372e,Clean up *most* ec2 / euca2ools references,MERGED,2017-08-09 14:58:47.000000000,2017-08-21 11:42:33.000000000,2017-08-16 19:55:12.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 11564}, {'_account_id': 15751}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-09 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/084f91bf57a75b9e0e99b24ea277ef55090edf0a', 'message': ""Clean up *most* ec2 / euca2ools references\n\nThe ec2 / euca2ools command references definitely don't work any more,\nthis deletes most of them. The exception is the policy reference doc\nwhich is over a year out of date, and needs more then surgical removal\nof ec2 from it.\n\nChange-Id: I963170f99037d5ed085e8c676ab55750c7f6372e\n""}, {'number': 2, 'created': '2017-08-09 15:21:42.000000000', 'files': ['doc/source/admin/networking-nova.rst', 'doc/source/admin/index.rst', 'doc/source/admin/euca2ools.rst', 'doc/source/admin/manage-the-cloud.rst', 'doc/source/admin/system-admin.rst', 'doc/source/reference/rpc.rst', 'doc/source/admin/node-down.rst', 'doc/source/cli/nova-api.rst', 'doc/source/admin/arch.rst', 'doc/source/install/get-started-compute.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e693e9c5ccb2e11838cce7ef4973a1087432b05', 'message': ""Clean up *most* ec2 / euca2ools references\n\nThe ec2 / euca2ools command references definitely don't work any more,\nthis deletes most of them. The exception is the policy reference doc\nwhich is over a year out of date, and needs more then surgical removal\nof ec2 from it.\n\nChange-Id: I963170f99037d5ed085e8c676ab55750c7f6372e\n""}]",3,492166,7e693e9c5ccb2e11838cce7ef4973a1087432b05,17,6,2,2750,,,0,"Clean up *most* ec2 / euca2ools references

The ec2 / euca2ools command references definitely don't work any more,
this deletes most of them. The exception is the policy reference doc
which is over a year out of date, and needs more then surgical removal
of ec2 from it.

Change-Id: I963170f99037d5ed085e8c676ab55750c7f6372e
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/492166/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking-nova.rst', 'doc/source/admin/index.rst', 'doc/source/admin/euca2ools.rst', 'doc/source/admin/manage-the-cloud.rst', 'doc/source/admin/system-admin.rst', 'doc/source/reference/rpc.rst', 'doc/source/admin/node-down.rst', 'doc/source/cli/nova-api.rst', 'doc/source/admin/arch.rst', 'doc/source/install/get-started-compute.rst']",10,084f91bf57a75b9e0e99b24ea277ef55090edf0a,bp/doc-migration," OpenStack Compute API. It enforces some policies and initiates most orchestration activities, such as running an instance."," OpenStack Compute API, the Amazon EC2 API, and a special Admin API for privileged users to perform administrative actions. It enforces some policies and initiates most orchestration activities, such as running an instance.",16,107
openstack%2Fnova~master~Iecf99e173be3c3d5a2d5dd758c09f79d443729b9,openstack/nova,master,Iecf99e173be3c3d5a2d5dd758c09f79d443729b9,Structure cli page,MERGED,2017-08-09 12:03:50.000000000,2017-08-21 11:42:21.000000000,2017-08-10 21:04:44.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-09 12:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a182c3d02210ec0161f4d5a8420b31c53cdaa33', 'message': ""Structure cli page\n\nThe cli page was just a straight list of cli links. This groups them\nby function with a preamble to make it more clear why you'd want to go\nlook at any particular ones.\n\nPart of bp: doc-migration\n\nChange-Id: Iecf99e173be3c3d5a2d5dd758c09f79d443729b9\n""}, {'number': 2, 'created': '2017-08-09 12:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efa5d613f364e8e6628b634bcc80c15567d43b13', 'message': ""Structure cli page\n\nThe cli page was just a straight list of cli links. This groups them\nby function with a preamble to make it more clear why you'd want to go\nlook at any particular ones.\n\nPart of bp: doc-migration\n\nChange-Id: Iecf99e173be3c3d5a2d5dd758c09f79d443729b9\n""}, {'number': 3, 'created': '2017-08-09 15:21:42.000000000', 'files': ['doc/source/cli/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/104efa6fb6c36e5104b1c42d36837e72c5ba37de', 'message': ""Structure cli page\n\nThe cli page was just a straight list of cli links. This groups them\nby function with a preamble to make it more clear why you'd want to go\nlook at any particular ones.\n\nPart of bp: doc-migration\n\nChange-Id: Iecf99e173be3c3d5a2d5dd758c09f79d443729b9\n""}]",1,492111,104efa6fb6c36e5104b1c42d36837e72c5ba37de,25,11,3,2750,,,0,"Structure cli page

The cli page was just a straight list of cli links. This groups them
by function with a preamble to make it more clear why you'd want to go
look at any particular ones.

Part of bp: doc-migration

Change-Id: Iecf99e173be3c3d5a2d5dd758c09f79d443729b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/492111/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/index.rst'],1,9a182c3d02210ec0161f4d5a8420b31c53cdaa33,bp/doc-migration,"Nova Management Commands ------------------------ These commands are used to manage existing installations. They are designed to be run by operators in an environment where they have direct access to the nova database. .. toctree:: :maxdepth: 1 nova-manage nova-status Service Daemons --------------- The service daemons make up a functioning nova environment. All of these are expected to be started by an init system, expect to read a nova.conf file, and daemonize correctly after starting up. .. toctree:: :maxdepth: 1 nova-api nova-compute nova-conductor nova-console nova-consoleauth nova-novncproxy nova-scheduler nova-serialproxy nova-spicehtml5proxy nova-xvpvncproxy WSGI Services ------------- Starting in the Pike release, the prefered way to deploy the nova api is in a wsgi container (uwsgi or apache/mod_wsgi). These are the wsgi entry points to do that. Additional Tools ---------------- There are a few additional cli tools which nova services call when appropriate. This should not need to be called directly by operators, but they are documented for completeness and debugging if something goes wrong. .. toctree:: :maxdepth: 1 nova-idmapshift Deprecated Services ------------------- The following services are deprecated in nova. They should not be used in new deployments, but are documented for existing ones. .. toctree:: :maxdepth: 1 nova-cells nova-dhcpbridge nova-network",Reference --------- nova-api nova-cells nova-compute nova-conductor nova-console nova-consoleauth nova-dhcpbridge nova-idmapshift nova-manage nova-network nova-novncproxy nova-scheduler nova-serialproxy nova-spicehtml5proxy nova-status nova-xvpvncproxy,66,18
openstack%2Fnova~master~Ib2b49f70c55311195535a5ef250ff555e227fa0a,openstack/nova,master,Ib2b49f70c55311195535a5ef250ff555e227fa0a,Add documentation for documentation contributions,MERGED,2017-08-09 12:50:44.000000000,2017-08-21 11:42:14.000000000,2017-08-16 19:54:35.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-08-09 12:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/338ae5ef97ab7dac0831fe4e641be0d2a838b61c', 'message': 'Add documentation for documentation contributions\n\nMissing from our contributor guides is documentation guidelines,\nstarting a page there for now especially as there are a couple of\nthings that emerged in the great pike import that would be good to\nwrite down.\n\nPart of bp: doc-migration\n\nChange-Id: Ib2b49f70c55311195535a5ef250ff555e227fa0a\n'}, {'number': 2, 'created': '2017-08-09 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87f297553d8397649879972c63295e8a97a508e5', 'message': 'Add documentation for documentation contributions\n\nMissing from our contributor guides is documentation guidelines,\nstarting a page there for now especially as there are a couple of\nthings that emerged in the great pike import that would be good to\nwrite down.\n\nPart of bp: doc-migration\n\nChange-Id: Ib2b49f70c55311195535a5ef250ff555e227fa0a\n'}, {'number': 3, 'created': '2017-08-09 15:21:42.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/documentation.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/54529f03c93a0c251f627b3d9b92d6c8a9b8300b', 'message': 'Add documentation for documentation contributions\n\nMissing from our contributor guides is documentation guidelines,\nstarting a page there for now especially as there are a couple of\nthings that emerged in the great pike import that would be good to\nwrite down.\n\nPart of bp: doc-migration\n\nChange-Id: Ib2b49f70c55311195535a5ef250ff555e227fa0a\n'}]",9,492124,54529f03c93a0c251f627b3d9b92d6c8a9b8300b,23,10,3,2750,,,0,"Add documentation for documentation contributions

Missing from our contributor guides is documentation guidelines,
starting a page there for now especially as there are a couple of
things that emerged in the great pike import that would be good to
write down.

Part of bp: doc-migration

Change-Id: Ib2b49f70c55311195535a5ef250ff555e227fa0a
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/492124/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/documentation.rst']",2,338ae5ef97ab7dac0831fe4e641be0d2a838b61c,bp/doc-migration,"=========================== Documentation Guide Lines =========================== These are some basic guidelines in contributing to documentation in Nova. Review Guidelines ================= Documentation only patches differ from code patches in a few ways. * They are often written by users / operators that aren't plugged into daily cycles of nova or on irc. * Outstanding patches are far more likely to trigger merge conflict in git than code patches. * There may be wide variation on points of view of what the ""best"" or ""clearest"" way is to say a thing. This all can lead to a large number of practical documentation improvements stalling out because the author submitted the fix, and does not have the time to merge conflict chase or is used to the gerrit follow up model. As such documentation patches should be evaluated in the basic context of ""does this make things better than the current tree"". Patches are cheap, it can always be further enhanced in future patches. Typo / trivial documentation only fixes should get approved with a single +2. How users consume docs ====================== The current primary target for all documentation in nova is the web. While it is theoretically possible to generate pdf versions of the content, the tree is not currently well structured for that, and it's not clear there is an audience for that. The main nova docs tree ``doc/source`` is published per release, so there will be copies of all of this as both the ``latest`` url (which is master), and for every stable release (e.g. ``pike``). .. note:: This raises an interesting an unexplored question about whether we want all of ``doc/source`` published with stable branches that will be stale and unimproved as we address content in ``latest``. The ``api-ref`` and ``api-guide`` publish only from master to a single site on developer.openstack.org. As such they are effectively branchless. Guidelines for consumable docs ============================== * Give users context before following a link. Most users exploring our documentation will be trying to learn about our software. Entry and subpages that provide links to in depth topics need to provide some basic context about why someone would need to know about a ``filter scheduler`` before following the link named filter scheduler. Providing these summaries helps the new consumer come up to speed more quickly. * Doc moves require .htaccess redirects If a file is moved in a documentation source tree, we should be aware that it might be linked from external sources, and is now a ``404 Not Found`` error for real users. All doc moves should include an entry in ``doc/source/_extra/.htaccess`` to redirect from the old page to the new page. * Images are good, please provide source An image is worth a 1000 words, but can go stale pretty quickly. We ideally want ``png`` files for display on the web, but that's a non modifiable format. For any new diagram contributions we should also get some kind of source format (``svg`` is ideal as it can be modified with open tools) along with ``png`` formats. Long Term TODOs =============== * Sort out our toctree / sidebar navigation During the bulk import of the install, admin, config guides we started with a unified toctree, which was a ton of entries, and made the navigation sidebar in Nova incredibly confusing. The short term fix was to just make that almost entirely hidden and rely on structured landing and sub pages. Long term it would be good to reconcile the toctree / sidebar into something that feels coherent. ",,93,0
openstack%2Fnova~master~I8feba7d694cc0f2971b0fb0dbe0409c90809df98,openstack/nova,master,I8feba7d694cc0f2971b0fb0dbe0409c90809df98,update policy UT fixtures,MERGED,2016-11-16 22:09:54.000000000,2017-08-21 11:42:07.000000000,2017-08-10 20:57:46.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-11-16 22:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa07758d313419a615556807e27eef3cc4ca5fe1', 'message': 'update policy UT fixtures\n\nRoleBasedPolicyFixture is opening a policy file specified by a conf\nsetting. This only works for NoDbTestCase today because of the way\nTestCase sets up CONF. And now that policy has moved into code, we\nreally have no reason to read from a file here. We should read\ndefaults from the code. This makes that change.\n\nChange-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98\n'}, {'number': 2, 'created': '2016-11-17 13:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92e2252f658b8326b11edd8895b37130df95eff2', 'message': 'update policy UT fixtures\n\nRoleBasedPolicyFixture is opening a policy file specified by a conf\nsetting. This only works for NoDbTestCase today because of the way\nTestCase sets up CONF. And now that policy has moved into code, we\nreally have no reason to read from a file here. We should read\ndefaults from the code. This makes that change.\n\nChange-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98\n'}, {'number': 3, 'created': '2017-01-06 19:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ba9770280e830e6e9df5dd0ba7f8c01a0e33880', 'message': 'update policy UT fixtures\n\nRoleBasedPolicyFixture is opening a policy file specified by a conf\nsetting. This only works for NoDbTestCase today because of the way\nTestCase sets up CONF. And now that policy has moved into code, we\nreally have no reason to read from a file here. We should read\ndefaults from the code. This makes that change.\n\nChange-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98\n'}, {'number': 4, 'created': '2017-08-01 19:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20f48f65fdbe13547309d6f6dbe94f18e76290e9', 'message': 'update policy UT fixtures\n\nRoleBasedPolicyFixture is opening a policy file specified by a conf\nsetting. This only works for NoDbTestCase today because of the way\nTestCase sets up CONF. And now that policy has moved into code, we\nreally have no reason to read from a file here. We should read\ndefaults from the code. This makes that change.\n\nChange-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98\n'}, {'number': 5, 'created': '2017-08-09 14:00:51.000000000', 'files': ['nova/tests/unit/policy_fixture.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55b4e51e8cd5b6875c7d384589ec188638b8a255', 'message': 'update policy UT fixtures\n\nRoleBasedPolicyFixture is opening a policy file specified by a conf\nsetting. This only works for NoDbTestCase today because of the way\nTestCase sets up CONF. And now that policy has moved into code, we\nreally have no reason to read from a file here. We should read\ndefaults from the code. This makes that change.\n\nChange-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98\n'}]",2,398610,55b4e51e8cd5b6875c7d384589ec188638b8a255,58,18,5,10608,,,0,"update policy UT fixtures

RoleBasedPolicyFixture is opening a policy file specified by a conf
setting. This only works for NoDbTestCase today because of the way
TestCase sets up CONF. And now that policy has moved into code, we
really have no reason to read from a file here. We should read
defaults from the code. This makes that change.

Change-Id: I8feba7d694cc0f2971b0fb0dbe0409c90809df98
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/398610/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policy_fixture.py'],1,aa07758d313419a615556807e27eef3cc4ca5fe1,policy_ut," policy = {} for rule in policies.list_rules(): policy[rule.name] = 'role:%s' % self.role self.policy_file = os.path.join(self.policy_dir.path, 'policy.json')"," with open(CONF.oslo_policy.policy_file) as fp: policy = fp.read() policy = jsonutils.loads(policy) self.add_missing_default_rules(policy) for action, rule in six.iteritems(policy): policy[action] = 'role:%s' % self.role self.policy_file = os.path.join(self.policy_dir.path, 'policy.json')",4,9
openstack%2Fpuppet-tripleo~master~I62ff89362cfcc80e6e62fad09110918c36802813,openstack/puppet-tripleo,master,I62ff89362cfcc80e6e62fad09110918c36802813,Certmonger: Make postsave command configurable,MERGED,2017-08-16 06:29:24.000000000,2017-08-21 11:42:06.000000000,2017-08-21 11:42:06.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-08-16 06:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/06f24507a652dc5d39341a39c956c1b013285c3d', 'message': ""Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n""}, {'number': 2, 'created': '2017-08-16 06:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f4996eab22661a0fb8c00cffc9c1588478633e51', 'message': ""Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n""}, {'number': 3, 'created': '2017-08-18 11:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/56e9613c80395aef9f51f72defde1c2223a7ab14', 'message': ""Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n""}, {'number': 4, 'created': '2017-08-18 12:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a2620aed98c4cc24948839ed48f8b7fb2028dc9a', 'message': ""Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n""}, {'number': 5, 'created': '2017-08-18 18:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cecce074547dce61ed326d3b912974663416b01a', 'message': ""Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n""}, {'number': 6, 'created': '2017-08-18 18:59:35.000000000', 'files': ['manifests/certmonger/haproxy.pp', 'manifests/certmonger/httpd.pp', 'manifests/certmonger/mysql.pp', 'manifests/certmonger/mongodb.pp', 'manifests/profile/base/certmonger_user.pp', 'manifests/certmonger/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/095d130f9dbadb698c2c349819e754a907455ee0', 'message': ""Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813\n""}]",0,494085,095d130f9dbadb698c2c349819e754a907455ee0,24,9,6,10873,,,0,"Certmonger: Make postsave command configurable

We need to make it configurable since these commands don't apply for
containerized environments. This way we can restart containers or
disable restarting and rely on other means.

This stems from the issue that some services get accidentally started by
certmonger on containerized environments, which makes the container
initialization fail.

bp tls-via-certmonger-containers

Change-Id: I62ff89362cfcc80e6e62fad09110918c36802813
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/494085/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/httpd.pp', 'manifests/certmonger/mysql.pp', 'manifests/certmonger/mongodb.pp', 'manifests/certmonger/rabbitmq.pp']",4,06f24507a652dc5d39341a39c956c1b013285c3d,bp/tls-via-certmonger-containers,"# [*postsave_cmd*] # (Optional) Specifies the command to execute after requesting a certificate. # If nothing is given, it will default to: ""systemctl restart ${service name}"" # Defaults to undef. # $postsave_cmd = undef, $postsave_cmd_real = pick($postsave_cmd, ""systemctl restart ${::rabbitmq::params::service_name}"") postsave_cmd => $postsave_cmd_real,"," $postsave_cmd = ""systemctl restart ${::rabbitmq::params::service_name}"" postsave_cmd => $postsave_cmd,",32,8
openstack%2Fnova~master~I50954991f80725dc22be95eeecded2ee1e005e97,openstack/nova,master,I50954991f80725dc22be95eeecded2ee1e005e97,[placement] Add api-ref for usages,MERGED,2017-07-05 12:47:30.000000000,2017-08-21 11:42:01.000000000,2017-08-10 06:58:57.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-05 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98384b69b4b973729041d363333de735999aa3e3', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 2, 'created': '2017-07-06 08:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f71f64bade722b0bce7a34a1114af4236d7d5a1f', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 3, 'created': '2017-07-06 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2fc36bd8d352e804adee8da7f2b9aa74cee16b5', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 4, 'created': '2017-07-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1fb6fe302393eb57801a73aa5b66ab5e0706ebf', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 5, 'created': '2017-07-07 11:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/556c0d0e5a4373d7531df0fc155df8b2eec30ca3', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 6, 'created': '2017-07-11 16:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6c190e1169f4ef60176e2a5a672d2d1435e8957', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 7, 'created': '2017-07-12 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c37fc9131966a3979de1725bb87cbf4539be8e2a', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 8, 'created': '2017-07-18 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/136265984c9a30746c2cb90dc0a9df328cef4680', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 9, 'created': '2017-07-18 09:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3747159082e09bdad2aff7356895e1a1267243b0', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 10, 'created': '2017-07-18 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/845f1283d95c25705c20a8363eb569ea58d41f9e', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 11, 'created': '2017-08-07 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd5dd8cf0298d90d7df018e975000f46c22fe7bb', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 12, 'created': '2017-08-09 15:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/666a39ad72700445b1f4ae981be0852ceff4c67b', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}, {'number': 13, 'created': '2017-08-09 15:55:06.000000000', 'files': ['placement-api-ref/source/usages.inc', 'placement-api-ref/source/get-usages.json', 'placement-api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/032a1d0a3b6865fc1ea4406e3d8807fc9bd0df3f', 'message': '[placement] Add api-ref for usages\n\nChange-Id: I50954991f80725dc22be95eeecded2ee1e005e97\n'}]",4,480563,032a1d0a3b6865fc1ea4406e3d8807fc9bd0df3f,153,20,13,21813,,,0,"[placement] Add api-ref for usages

Change-Id: I50954991f80725dc22be95eeecded2ee1e005e97
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/480563/6 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/resource_provider_usages.inc', 'placement-api-ref/source/usages.inc', 'placement-api-ref/source/get-usages.json']",3,98384b69b4b973729041d363333de735999aa3e3,cd/placement-api-ref,"{ ""usages"": { ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } ",,68,19
openstack%2Fnova~master~I57929f3035f0a9f41398b50d93afee267d981f12,openstack/nova,master,I57929f3035f0a9f41398b50d93afee267d981f12,Bulk import all config reference figures,MERGED,2017-08-09 11:36:25.000000000,2017-08-21 11:41:54.000000000,2017-08-10 21:00:36.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 15751}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-09 11:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad50a6d2e388ef17b5ad60009aac0397ccc070c0', 'message': ""Bulk import all config reference figures\n\nMost of these are used by the follow on patch, however because all\nthis content is deleted from openstack-manuals pulling these out of\nhistory there is less straight forward. So bulk import even the ones\nthat aren't currently used into a top level figures repository.\n\nPart of bp: doc-migration\n\nChange-Id: I57929f3035f0a9f41398b50d93afee267d981f12\n""}, {'number': 2, 'created': '2017-08-09 12:11:03.000000000', 'files': ['doc/source/figures/ceph-architecture.png', 'doc/source/figures/bb-cinder-fig1.png', 'doc/source/figures/emc-enabler.png', 'doc/source/figures/filteringWorkflow2.png', 'doc/source/figures/nova-conf-kvm-flat.vsd', 'doc/source/figures/nova-conf-xen-flat.svg', 'doc/source/figures/nova-conf-xen-flat.vsd', 'doc/source/figures/xenserver_architecture.svg', 'doc/source/figures/nova-conf-xen-flat.png', 'doc/source/figures/xenserver_architecture.png', 'doc/source/figures/hsp_network.png', 'doc/source/figures/nova-conf-kvm-flat.png', 'doc/source/figures/nova-conf-kvm-flat.svg', 'doc/source/figures/hds_network.jpg', 'doc/source/figures/filteringWorkflow1.png', 'doc/source/figures/nova-weighting-hosts.png', 'doc/source/figures/vmware-nova-driver-architecture.jpg'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b21efbc7fd9289680e201d34bb509ba32b35845', 'message': ""Bulk import all config reference figures\n\nMost of these are used by the follow on patch, however because all\nthis content is deleted from openstack-manuals pulling these out of\nhistory there is less straight forward. So bulk import even the ones\nthat aren't currently used into a top level figures repository.\n\nPart of bp: doc-migration\n\nChange-Id: I57929f3035f0a9f41398b50d93afee267d981f12\n""}]",0,492105,6b21efbc7fd9289680e201d34bb509ba32b35845,18,6,2,2750,,,0,"Bulk import all config reference figures

Most of these are used by the follow on patch, however because all
this content is deleted from openstack-manuals pulling these out of
history there is less straight forward. So bulk import even the ones
that aren't currently used into a top level figures repository.

Part of bp: doc-migration

Change-Id: I57929f3035f0a9f41398b50d93afee267d981f12
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/492105/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/figures/ceph-architecture.png', 'doc/source/figures/bb-cinder-fig1.png', 'doc/source/figures/emc-enabler.png', 'doc/source/figures/filteringWorkflow2.png', 'doc/source/figures/nova-conf-kvm-flat.vsd', 'doc/source/figures/nova-conf-xen-flat.svg', 'doc/source/figures/nova-conf-xen-flat.vsd', 'doc/source/figures/xenserver_architecture.svg', 'doc/source/figures/nova-conf-xen-flat.png', 'doc/source/figures/xenserver_architecture.png', 'doc/source/figures/hsp_network.png', 'doc/source/figures/nova-conf-kvm-flat.png', 'doc/source/figures/nova-conf-kvm-flat.svg', 'doc/source/figures/hds_network.jpg', 'doc/source/figures/filteringWorkflow1.png', 'doc/source/figures/nova-weighting-hosts.png', 'doc/source/figures/vmware-nova-driver-architecture.jpg']",17,ad50a6d2e388ef17b5ad60009aac0397ccc070c0,bp/doc-migration,,,4321,0
openstack%2Fnova~master~I5c8e3859407fe9489255a82747ff85b27172ba69,openstack/nova,master,I5c8e3859407fe9489255a82747ff85b27172ba69,remove extension param and usage,MERGED,2017-07-07 08:11:10.000000000,2017-08-21 11:41:42.000000000,2017-08-16 21:35:08.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25720}, {'_account_id': 26490}]","[{'number': 1, 'created': '2017-07-07 08:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab454094a92956d4b8614bbcf0486e58c378d744', 'message': 'WIP: remove extension pop\n\nChange-Id: I5c8e3859407fe9489255a82747ff85b27172ba69\n'}, {'number': 2, 'created': '2017-07-07 09:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8edcab7f098ea7f543c109d5ab9eea60bb297f4f', 'message': 'WIP: remove extension pop\n\nChange-Id: I5c8e3859407fe9489255a82747ff85b27172ba69\n'}, {'number': 3, 'created': '2017-07-10 04:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d7e2dd02cad30c5133c890b2e004b7e0931f41f', 'message': 'WIP: remove extension pop\n\nChange-Id: I5c8e3859407fe9489255a82747ff85b27172ba69\n'}, {'number': 4, 'created': '2017-07-10 06:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac18452379423ace4762de8ce10a9c04fb6e400d', 'message': 'remove extension param and usage\n\nas extension info is not needed and used at all, we can\njust remove the extension param and usage\n\nChange-Id: I5c8e3859407fe9489255a82747ff85b27172ba69\n'}, {'number': 5, 'created': '2017-08-09 09:20:21.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/api/openstack/compute/test_quota_classes.py', 'nova/tests/unit/api/openstack/compute/test_config_drive.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_block_device_mapping.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/api/openstack/compute/test_access_ips.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_user_data.py', 'nova/tests/unit/api/openstack/compute/test_multiple_create.py', 'nova/tests/unit/api/openstack/compute/test_block_device_mapping_v1.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/29bdffc8e83a3b60982ade75c477f69864a9da50', 'message': 'remove extension param and usage\n\nas extension info is not needed and used at all, we can\njust remove the extension param and usage\n\nChange-Id: I5c8e3859407fe9489255a82747ff85b27172ba69\n'}]",1,481491,29bdffc8e83a3b60982ade75c477f69864a9da50,96,20,5,6062,,,0,"remove extension param and usage

as extension info is not needed and used at all, we can
just remove the extension param and usage

Change-Id: I5c8e3859407fe9489255a82747ff85b27172ba69
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/481491/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,ab454094a92956d4b8614bbcf0486e58c378d744,remove_pop,," # TODO(alex_xu): Remove this line when 'extension_info' won't be passed # in when creating controller. kwargs.pop('extension_info', None)",0,3
openstack%2Fnova~master~I274c684f829bc310ebb17faabf498d36f4ceea0c,openstack/nova,master,I274c684f829bc310ebb17faabf498d36f4ceea0c,doc: provide more details on scheduling with placement,MERGED,2017-08-08 19:50:38.000000000,2017-08-21 11:41:30.000000000,2017-08-09 19:01:11.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 19:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1109dde24931d2b681e40d7b5f501cfde5598bf7', 'message': 'doc: provide more details on scheduling with placement\n\nThis provides a more detailed, but still high level, explanation\nof how the FilterScheduler is using allocation candidates to pick\nhosts during scheduling, and how the allocations are handled during\na move operation, including a resize to the same host.\n\nIdeally this content will live somewhere else in the devref, or\nwould be updated in the spec for blueprint placement-claims, but\nfor now this should suffice for Pike release notes that can point\nat this upgrade doc.\n\nChange-Id: I274c684f829bc310ebb17faabf498d36f4ceea0c\n'}, {'number': 2, 'created': '2017-08-09 01:56:36.000000000', 'files': ['doc/source/user/placement.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/204e7d7f4209925325c641286da23d41a20ea6b2', 'message': 'doc: provide more details on scheduling with placement\n\nThis provides a more detailed, but still high level, explanation\nof how the FilterScheduler is using allocation candidates to pick\nhosts during scheduling, and how the allocations are handled during\na move operation, including a resize to the same host.\n\nIdeally this content will live somewhere else in the devref, or\nwould be updated in the spec for blueprint placement-claims, but\nfor now this should suffice for Pike release notes that can point\nat this upgrade doc.\n\nChange-Id: I274c684f829bc310ebb17faabf498d36f4ceea0c\n'}]",10,491900,204e7d7f4209925325c641286da23d41a20ea6b2,27,11,2,6873,,,0,"doc: provide more details on scheduling with placement

This provides a more detailed, but still high level, explanation
of how the FilterScheduler is using allocation candidates to pick
hosts during scheduling, and how the allocations are handled during
a move operation, including a resize to the same host.

Ideally this content will live somewhere else in the devref, or
would be updated in the spec for blueprint placement-claims, but
for now this should suffice for Pike release notes that can point
at this upgrade doc.

Change-Id: I274c684f829bc310ebb17faabf498d36f4ceea0c
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/491900/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/placement.rst'],1,1109dde24931d2b681e40d7b5f501cfde5598bf7,bug/1707256," The allocation candidates are used to get compute nodes from the cell(s) which are passed through the enabled scheduler filters and weighers. The filtered and weighed list of hosts is then iterated to make an allocation request for the given instance against a selected host, retrying as necessary until an allocation is made or all allocation candidates are exhausted, resulting in a NoValidHost error. For a move operation, like migration, allocations are made in Placement against both the source and destination compute node. Once the move operation is complete, the resource tracker in the *nova-compute* service will adjust the allocations in Placement appropriately. For a resize to the same host, allocations are summed on the single compute node. This could pose a problem if the compute node has limited capacity. Since resizing to the same host is disabled by default, and generally only used in testing, this is mentioned for completeness but should not be a concern for production deployments. ",,18,0
openstack%2Fnova~master~I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634,openstack/nova,master,I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634,Mark max microversion for Pike in history doc,MERGED,2017-08-07 19:26:21.000000000,2017-08-21 11:41:23.000000000,2017-08-09 19:02:57.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-07 19:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e23ff27a8df2c25348e3f99699d10ee677afb1a4', 'message': 'Mark max microversion for Pike in history doc\n\nChange-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634\n'}, {'number': 2, 'created': '2017-08-07 20:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f67b72fe4f5e4e041d5bcb7c4b911f62f3fdeebc', 'message': 'Mark max microversion for Pike in history doc\n\nChange-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634\n'}, {'number': 3, 'created': '2017-08-08 19:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd0cafff3375329de09f3e770f3e16d63e152a04', 'message': 'Mark max microversion for Pike in history doc\n\nChange-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634\n'}, {'number': 4, 'created': '2017-08-08 20:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42af5f5e0777c5c4be27b1c206779820d18e0591', 'message': 'Mark max microversion for Pike in history doc\n\nChange-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634\n'}, {'number': 5, 'created': '2017-08-09 01:56:36.000000000', 'files': ['nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/9add178664327d94153199439549be989d84afc3', 'message': 'Mark max microversion for Pike in history doc\n\nChange-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634\n'}]",0,491581,9add178664327d94153199439549be989d84afc3,42,16,5,6873,,,0,"Mark max microversion for Pike in history doc

Change-Id: I180f2e8ca1cccce1b73429cdc47a6e7d7fc40634
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/491581/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/rest_api_version_history.rst'],1,e23ff27a8df2c25348e3f99699d10ee677afb1a4,bug/1707256,2.53 (Maximum in Pike) ----------------------,2.53 ----,2,2
openstack%2Fnova~master~Ia68a5a69783963b063264edde84006973bb77ceb,openstack/nova,master,Ia68a5a69783963b063264edde84006973bb77ceb,Add functional test for local delete allocations,MERGED,2017-06-02 23:15:16.000000000,2017-08-21 11:41:17.000000000,2017-08-09 03:01:21.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-02 23:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b03f8ac593a90348045009794e95d63a5f86b0a', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}, {'number': 2, 'created': '2017-06-07 20:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d1e28df6650fd02501e2d9bae767f049e41697', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}, {'number': 3, 'created': '2017-07-20 12:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c7703bb8acc562683a080b454584e7a05c85926', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}, {'number': 4, 'created': '2017-08-07 21:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa78cce42db2b1f3fab6b7543aa177f13bda34cc', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}, {'number': 5, 'created': '2017-08-08 20:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daa8a6c393b9be8ea4b4c36c5d699986290d8af7', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}, {'number': 6, 'created': '2017-08-08 20:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eac3c006a68b3cfeb4a57257357172a9795c8013', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}, {'number': 7, 'created': '2017-08-08 22:21:20.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1679750.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ba7baf451512d72b14f51cefe762642fabeda3e', 'message': 'Add functional test for local delete allocations\n\nThis adds a test that shows we clean up allocations for an instance\nthat was local deleted while the compute host was down, when the\ncompute host comes back up.\n\nThere might still be a problem if the compute host is never brought\nback up, as allocations will still exist for the instance and show\nup as usage during usage queries to placement.\n\nRelated-Bug: #1679750\n\nChange-Id: Ia68a5a69783963b063264edde84006973bb77ceb\n'}]",13,470578,4ba7baf451512d72b14f51cefe762642fabeda3e,71,16,7,4690,,,0,"Add functional test for local delete allocations

This adds a test that shows we clean up allocations for an instance
that was local deleted while the compute host was down, when the
compute host comes back up.

There might still be a problem if the compute host is never brought
back up, as allocations will still exist for the instance and show
up as usage during usage queries to placement.

Related-Bug: #1679750

Change-Id: Ia68a5a69783963b063264edde84006973bb77ceb
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/470578/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1679750.py'],1,0b03f8ac593a90348045009794e95d63a5f86b0a,bug/1679750,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import cast_as_call from nova.tests.unit import fake_network import nova.tests.unit.image.fake from nova.tests.unit import policy_fixture class TestLocalDeleteAllocations(test.TestCase, integrated_helpers.InstanceHelperMixin): def setUp(self): super(TestLocalDeleteAllocations, self).setUp() # Set the service_down_time and report_interval lower to trigger the # local delete path faster. self.flags(service_down_time=2) self.flags(report_interval=1) self.useFixture(policy_fixture.RealPolicyFixture()) # The NeutronFixture is needed to stub out validate_networks in API. self.useFixture(nova_fixtures.NeutronFixture(self)) # This stubs out the network allocation in compute. fake_network.set_stub_network_methods(self) # We need the computes reporting into placement for the filter # scheduler to pick a host. self.placement_api = self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) # The admin API is used to get the server details to verify the # host on which the server was built. self.api = api_fixture.api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.start_service('consoleauth') self.flags(group='scheduler', driver='chance_scheduler') self.start_service('scheduler') self.compute = self.start_service('compute') self.useFixture(cast_as_call.CastAsCall(self.stubs)) self.image_id = self.api.get_images()[0]['id'] self.flavor_id = self.api.get_flavors()[0]['id'] def _get_usages(self, rp_uuid): fmt = '/resource_providers/%(uuid)s/usages' resp = self.placement_api._fake_get(None, fmt % {'uuid': rp_uuid}) return resp.json()['usages'] def test_local_delete_removes_allocations(self): """"""Tests that allocations are removed after a local delete. This tests the scenario where a server is local deleted (because the compute host is down) and we want to make sure that its allocations have been cleaned up. """""" # Get allocations, make sure they are 0. resp = self.placement_api._fake_get(None, '/resource_providers') rp_uuid = resp.json()['resource_providers'][0]['uuid'] usages_before = self._get_usages(rp_uuid) for usage in usages_before.values(): self.assertEqual(0, usage) # Create a server. server = dict(name='local-delete-test', imageRef=self.image_id, flavorRef=self.flavor_id) server = self.api.post_server({'server': server}) server = self._wait_for_state_change(self.api, server, 'ACTIVE') # Assert usages are non zero now. usages_during = self._get_usages(rp_uuid) for usage in usages_during.values(): self.assertNotEqual(0, usage) # Stop the compute service and sleep to trigger local delete. self.compute.stop() time.sleep(2) # Delete the server. self.api.delete_server(server['id']) # Start the compute service again. self.compute.start() # Get the allocations again to check against the original. usages_after = self._get_usages(rp_uuid) # They should match. self.assertEqual(usages_before, usages_after) ",,112,0
openstack%2Fnova~master~Ic2fcabbf3faa531fccb19cffa2564f005142e463,openstack/nova,master,Ic2fcabbf3faa531fccb19cffa2564f005142e463,Create For End Users index section,MERGED,2017-08-08 12:39:14.000000000,2017-08-21 11:41:10.000000000,2017-08-08 23:00:28.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 12:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dbdc65c0ccc8814d4ddab803d874709a17925c8', 'message': 'Create For End Users index section\n\nThis reorganizes the pieces that are for end users into a convenient\nchunk up front in the main index page.\n\nPart of bp: doc-migration\n\nChange-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463\n'}, {'number': 2, 'created': '2017-08-08 12:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8dd6e5d66a0d62d3d7166f75afe8a18b98baf52', 'message': 'Create For End Users index section\n\nThis reorganizes the pieces that are for end users into a convenient\nchunk up front in the main index page.\n\nPart of bp: doc-migration\n\nChange-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463\n'}, {'number': 3, 'created': '2017-08-08 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec1a91291413bbca43e9057cd7fefc26d2747159', 'message': 'Create For End Users index section\n\nThis reorganizes the pieces that are for end users into a convenient\nchunk up front in the main index page.\n\nPart of bp: doc-migration\n\nChange-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463\n'}, {'number': 4, 'created': '2017-08-08 19:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7fcd2886ad4d6949e908f8c5caa41f25dccf681', 'message': 'Create For End Users index section\n\nThis reorganizes the pieces that are for end users into a convenient\nchunk up front in the main index page.\n\nPart of bp: doc-migration\n\nChange-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463\n'}, {'number': 5, 'created': '2017-08-08 19:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c6a66ad7def4a73a2a57b81fb0f1d8289e0e78', 'message': 'Create For End Users index section\n\nThis reorganizes the pieces that are for end users into a convenient\n\n\nPart of bp: doc-migration\n\nChange-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463\n'}, {'number': 6, 'created': '2017-08-08 19:22:15.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/53f752a6693e81535a62bc582af8a10e7c438783', 'message': 'Create For End Users index section\n\nThis reorganizes the pieces that are for end users into a convenient\nchunk up front in the main index page.\n\nPart of bp: doc-migration\n\nChange-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463\n'}]",8,491785,53f752a6693e81535a62bc582af8a10e7c438783,34,11,6,2750,,,0,"Create For End Users index section

This reorganizes the pieces that are for end users into a convenient
chunk up front in the main index page.

Part of bp: doc-migration

Change-Id: Ic2fcabbf3faa531fccb19cffa2564f005142e463
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/491785/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,2dbdc65c0ccc8814d4ddab803d874709a17925c8,bp/doc-migration,"For End Users ============= As an end user of nova, you'll use nova to create and manage computes with either tools or the API directly. Tools for using Nova -------------------- * `Horizon <https://docs.openstack.org/horizon/latest/user/launch-instances.html>`_: the official web ui for the OpenStack Project. * `openstack client <https://docs.openstack.org/python-openstackclient/latest/>`_: the official CLI for OpenStack Projects. You should use this as your CLI for most things, it includes not just nova commands but also commands for most of the projects in OpenStack. * `nova client <https://docs.openstack.org/python-novaclient/latest/user/shell.html>`_: for some very advanced features (or administrative commands) of nova you may need to use nova client. It is still supported, but the ``openstack`` cli is recommended. Writing to the API ------------------ All end user (and some administrative) features of nova are exposed via a REST API, which can be used to build more complicated logic or automation with nova. This can be consumed directly, or via various SDKs. The following resources will help you get started with consuming the API directly. * `Compute API Guide: <https://developer.openstack.org/api-guide/compute/>`_: The concept guide for the API. This helps lay out the concepts behind the API to make consuming the API reference easier. * `Compute API Reference <http://developer.openstack.org/api-ref/compute/>`_: The complete reference for the API, including all methods and request / response parameters and their meaning. * `API Microversion History </reference/api-microversion-history>`_: The compute API evolves over time through `Microversions <https://developer.openstack.org/api-guide/compute/microversions.html>`_. This provides the history of all those changes. Consider it a ""what's new"" in the compute API. reference/api-microversion-history.rst","Compute API References ====================== The Nova compute API is quite large, we provide a concept guide which gives some of the high level details, as well as a more detailed API reference. The API reference covers all versions of the API. Version 2.0 and Version 2.1 are actually the same API, and Version 2.1 evolves forward with microversions. The API ref starts with the base API version, and specifies all changes that exist to it as microversions roll forward. You can also see a history of our microversions here: .. toctree:: :maxdepth: 1 reference/api-microversion-history .. note:: Only Version 2.1 APIs should be used from this point forward, Version 2.0 APIs are only provided for backward compatibility purposes. .. _`Compute API Guide`: http://developer.openstack.org/api-guide/compute/ .. _`Compute API Reference`: http://developer.openstack.org/api-ref/compute/ There was a session on the v2.1 API at the Liberty summit which you can watch `here <https://www.openstack.org/summit/vancouver-2015/summit-videos/presentation/introduction-of-a-new-nova-rest-api-why-we-need-to-use-nova-v2-1-api>`_. reference/i18n",37,22
openstack%2Fnova~master~I6815958b2533d462a2e5d27e7be57440d9f4f40a,openstack/nova,master,I6815958b2533d462a2e5d27e7be57440d9f4f40a,Add For Operators section to front page,MERGED,2017-08-08 13:55:53.000000000,2017-08-21 11:41:03.000000000,2017-08-10 20:59:08.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-08 13:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a750f837e1f4f0d8d0e18a0708b2e7a5f698e918', 'message': 'Add For Operators section to front page\n\nThis attempts to reorganize the front page content relevant to\noperators into digestable chunks, including some summaries of links to\nexplain to people why they might want to follow those links to learn\nmore.\n\nPart of bp: doc-migration\n\nChange-Id: I6815958b2533d462a2e5d27e7be57440d9f4f40a\n'}, {'number': 2, 'created': '2017-08-08 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7997163d8526668eecde6c3966169fac8780bab', 'message': 'Add For Operators section to front page\n\nThis attempts to reorganize the front page content relevant to\noperators into digestable chunks, including some summaries of links to\nexplain to people why they might want to follow those links to learn\nmore.\n\nPart of bp: doc-migration\n\nChange-Id: I6815958b2533d462a2e5d27e7be57440d9f4f40a\n'}, {'number': 3, 'created': '2017-08-08 19:22:15.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad69d0507f21a3612bf8b594a3557e4ea3de5589', 'message': 'Add For Operators section to front page\n\nThis attempts to reorganize the front page content relevant to\noperators into digestable chunks, including some summaries of links to\nexplain to people why they might want to follow those links to learn\nmore.\n\nPart of bp: doc-migration\n\nChange-Id: I6815958b2533d462a2e5d27e7be57440d9f4f40a\n'}]",57,491815,ad69d0507f21a3612bf8b594a3557e4ea3de5589,40,14,3,2750,,,0,"Add For Operators section to front page

This attempts to reorganize the front page content relevant to
operators into digestable chunks, including some summaries of links to
explain to people why they might want to follow those links to learn
more.

Part of bp: doc-migration

Change-Id: I6815958b2533d462a2e5d27e7be57440d9f4f40a
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/491815/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst']",2,a750f837e1f4f0d8d0e18a0708b2e7a5f698e918,bp/doc-migration,* :doc:`/user/conductor`,,115,106
openstack%2Fnova~master~I30286855119a9c34d96dfb8d0505af3f908ec1ae,openstack/nova,master,I30286855119a9c34d96dfb8d0505af3f908ec1ae,Fix the log information argument mistake,MERGED,2017-06-29 08:12:36.000000000,2017-08-21 11:40:57.000000000,2017-08-08 22:54:35.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9610}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-06-29 08:12:36.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7a886d8c43cf4edb17d1b9b0a0d5231a2c6e57e', 'message': 'Fix the log information argument mistake\n\nLog information in _numa_fit_instance_cell has taken memory_usage as the argument to\nshow the cpu usage.Need replace memory_usage to cpu_usage in the log expression.\n\nChange-Id: I30286855119a9c34d96dfb8d0505af3f908ec1ae\n'}]",0,478792,a7a886d8c43cf4edb17d1b9b0a0d5231a2c6e57e,85,11,1,17788,,,0,"Fix the log information argument mistake

Log information in _numa_fit_instance_cell has taken memory_usage as the argument to
show the cpu usage.Need replace memory_usage to cpu_usage in the log expression.

Change-Id: I30286855119a9c34d96dfb8d0505af3f908ec1ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/478792/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,a7a886d8c43cf4edb17d1b9b0a0d5231a2c6e57e,," {'usage': cpu_usage, 'limit': cpu_limit})"," {'usage': memory_usage, 'limit': cpu_limit})",1,1
openstack%2Fnova~master~Idd6149ae85ac2724633b80e938c4c1bf981b772b,openstack/nova,master,Idd6149ae85ac2724633b80e938c4c1bf981b772b,Cleanup release note about ignoring allow_same_net_traffic,MERGED,2017-08-08 16:44:41.000000000,2017-08-21 11:40:50.000000000,2017-08-09 19:04:13.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 15334}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-08 16:44:41.000000000', 'files': ['releasenotes/notes/libvirt-ignore-allow_same_net_traffic-fd88bb2801b81561.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0cae8d50fa3d039c601f3ee60840ff06fd4a3e45', 'message': 'Cleanup release note about ignoring allow_same_net_traffic\n\nA large chunk of the release note for this is duplicated with\nthe same reno from e5080c733076f5098f85952051878f41d47f8181\nbut the formatting and wording is slightly different.\n\nThis fixes them to look similar for the duplicate text.\n\nChange-Id: Idd6149ae85ac2724633b80e938c4c1bf981b772b\n'}]",0,491855,0cae8d50fa3d039c601f3ee60840ff06fd4a3e45,16,4,1,6873,,,0,"Cleanup release note about ignoring allow_same_net_traffic

A large chunk of the release note for this is duplicated with
the same reno from e5080c733076f5098f85952051878f41d47f8181
but the formatting and wording is slightly different.

This fixes them to look similar for the duplicate text.

Change-Id: Idd6149ae85ac2724633b80e938c4c1bf981b772b
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/491855/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-ignore-allow_same_net_traffic-fd88bb2801b81561.yaml'],1,0cae8d50fa3d039c601f3ee60840ff06fd4a3e45,allow_same_net_traffic-reno," The libvirt driver port filtering feature will now ignore the ``allow_same_net_traffic`` config option. The libvirt driver provides port filtering capability. This capability is enabled when the following is true: - The ``nova.virt.libvirt.firewall.IptablesFirewallDriver`` firewall driver - Neutron port filtering is disabled/unsupported - An IPTables-compatible interface is used, e.g. an OVS VIF in hybrid mode, where the VIF is a tap device connected to OVS with a bridge When enabled, libvirt applies IPTables rules to all interface ports that provide MAC, IP, and ARP spoofing protection."," The libvirt driver provides port filtering capability. This capability is enabled when the following is true: - The `nova.virt.libvirt.firewall.IptablesFirewallDriver` firewall driver - Neutron port filtering is disabled - An IPTables-compatible interface is used, e.g. hybrid mode, where the VIF is a tap device When enabled, libvirt applies IPTables rules that provide MAC, IP, and ARP spoofing protection.",11,8
openstack%2Fnova~master~I860e9e7c7ef458722135a21c6c5745f5519c56c4,openstack/nova,master,I860e9e7c7ef458722135a21c6c5745f5519c56c4,no instance info cache update if instance deleted,MERGED,2016-08-31 11:12:28.000000000,2017-08-21 11:40:44.000000000,2017-08-09 12:43:19.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7102}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18339}, {'_account_id': 18602}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-08-31 11:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a618e7750b32cd1144e3e054dbe65ac62d4f87ea', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 2, 'created': '2016-08-31 13:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b000ad21fb24b702cc4b84981b22d6b0a249de60', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 3, 'created': '2016-09-08 11:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef3c738be7840a0c01e217e267bc28c2593905d1', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 4, 'created': '2016-11-22 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b136dafb4b2ef7a0e29a26d4ed5a1e1ac9ff220c', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 5, 'created': '2016-11-22 18:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/602ef6013555bcb82efc6fd80c365b2962d38c00', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 6, 'created': '2016-11-24 20:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb0c30ac62df665c0e3276860748b9e61ddb3ed5', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 7, 'created': '2016-11-24 21:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/319d74d71026c78a48df12d3a1daa3eff536d33d', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 8, 'created': '2016-12-01 18:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4236afdab11afd0bec209dfd62021b36696e9a5', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 9, 'created': '2016-12-13 10:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/231bd9e5a40fe39b45b499cf39eb5edd03cb23cc', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nPlease note this is different to regular info cache and\nlead to InstanceInfoCacheNotFound exception, it's in the\ncase when you first create the info cache after instance\ndelete and InstanceInfo is also deleted.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 10, 'created': '2017-03-09 06:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8e647c82138525f2d6ba0dd5c62c086e139c75', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nPlease note this is different to regular info cache and\nlead to InstanceInfoCacheNotFound exception, it's in the\ncase when you first create the info cache after instance\ndelete and InstanceInfo is also deleted.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}, {'number': 11, 'created': '2017-08-08 15:36:47.000000000', 'files': ['nova/network/base_api.py', 'nova/tests/unit/network/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef85c99f5e5ba091b6711d76c88d50aa2dae6989', 'message': ""no instance info cache update if instance deleted\n\nAvoid instance info cache update if the instance is deleted,\nas the deleted instance's info cache is already deleted in\ndb layer and it will report InstanceInfoCacheNotFound\nexception and lead to a few exception logs in compute.\n\nPlease note this is different to regular info cache and\nlead to InstanceInfoCacheNotFound exception, it's in the\ncase when you first create the info cache after instance\ndelete and InstanceInfo is also deleted.\n\nChange-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4\nCloses-Bug: 1618822\n""}]",14,363585,ef85c99f5e5ba091b6711d76c88d50aa2dae6989,149,26,11,6062,,,0,"no instance info cache update if instance deleted

Avoid instance info cache update if the instance is deleted,
as the deleted instance's info cache is already deleted in
db layer and it will report InstanceInfoCacheNotFound
exception and lead to a few exception logs in compute.

Please note this is different to regular info cache and
lead to InstanceInfoCacheNotFound exception, it's in the
case when you first create the info cache after instance
delete and InstanceInfo is also deleted.

Change-Id: I860e9e7c7ef458722135a21c6c5745f5519c56c4
Closes-Bug: 1618822
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/363585/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/base_api.py'],1,a618e7750b32cd1144e3e054dbe65ac62d4f87ea,bug/1618822," if instance.deleted: LOG.info('instance is deleted, no further info case update', instance=instance) return ",,5,0
openstack%2Fnova~master~I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a,openstack/nova,master,I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a,Add format_dom for PCI device addresses,MERGED,2017-08-08 14:21:06.000000000,2017-08-21 11:40:37.000000000,2017-08-10 18:25:32.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 14676}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-08 14:21:06.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/376a902cabd548f1bcc7f7f7f8f98bd2dfa87c89', 'message': 'Add format_dom for PCI device addresses\n\nIn case of having a PCI device, its address can not be output\nproperly in the instance XML because of the missing format_dom\nmethod. This change adds this method.\n\nCloses-Bug: #1709319\nChange-Id: I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a\n'}]",0,491822,376a902cabd548f1bcc7f7f7f8f98bd2dfa87c89,21,7,1,12356,,,0,"Add format_dom for PCI device addresses

In case of having a PCI device, its address can not be output
properly in the instance XML because of the missing format_dom
method. This change adds this method.

Closes-Bug: #1709319
Change-Id: I1a8023ee6e8c85eed1c7c55a21f996371a0dd80a
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/491822/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",2,376a902cabd548f1bcc7f7f7f8f98bd2dfa87c89,bug/1709319," def test_config_disk_device_address_pci(self): obj = config.LibvirtConfigGuestDeviceAddressPCI() obj.domain = 1 obj.bus = 2 obj.slot = 3 obj.function = 4 xml = """""" <address type=""pci"" domain=""1"" bus=""2"" slot=""3"" function=""4""/> """""" self.assertXmlEqual(xml, obj.to_xml()) def test_config_disk_device_address_pci_added(self): obj = config.LibvirtConfigGuestDisk() obj.source_type = ""network"" obj.source_name = ""volumes/volume-0"" obj.source_protocol = ""rbd"" obj.source_hosts = [""192.168.1.1""] obj.source_ports = [""1234""] obj.target_dev = ""hdb"" obj.target_bus = ""virtio"" obj.device_addr = config.LibvirtConfigGuestDeviceAddressPCI() obj.device_addr.domain = 1 obj.device_addr.bus = 2 obj.device_addr.slot = 3 obj.device_addr.function = 4 self.assertXmlEqual("""""" <disk type=""network"" device=""disk""> <source protocol=""rbd"" name=""volumes/volume-0""> <host name=""192.168.1.1"" port=""1234""/> </source> <target bus=""virtio"" dev=""hdb""/> <address type=""pci"" domain=""1"" bus=""2"" slot=""3"" function=""4""/> </disk>"""""", obj.to_xml()) ",,50,0
openstack%2Fnova~master~I313e4a22dc2ad3faa890de864d00943b802e8b30,openstack/nova,master,I313e4a22dc2ad3faa890de864d00943b802e8b30,Fix all >= 2 hit 404s,MERGED,2017-08-08 11:33:57.000000000,2017-08-21 11:40:31.000000000,2017-08-08 15:54:55.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 15334}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-08 11:33:57.000000000', 'files': ['doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecc6928a4a78c4880d149cb3a4beb72d5e0fe767', 'message': ""Fix all >= 2 hit 404s\n\nThis fixes all the >= 2 hit 404s from 2017-08-07 with\nredirects. nova-cert is being referenced somewhere, in that case we\nprovide a 410 because that's never coming back.\n\nPart of bp: doc-migration\n\nChange-Id: I313e4a22dc2ad3faa890de864d00943b802e8b30\n""}]",0,491761,ecc6928a4a78c4880d149cb3a4beb72d5e0fe767,14,4,1,2750,,,0,"Fix all >= 2 hit 404s

This fixes all the >= 2 hit 404s from 2017-08-07 with
redirects. nova-cert is being referenced somewhere, in that case we
provide a 410 because that's never coming back.

Part of bp: doc-migration

Change-Id: I313e4a22dc2ad3faa890de864d00943b802e8b30
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/491761/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_extra/.htaccess'],1,ecc6928a4a78c4880d149cb3a4beb72d5e0fe767,bp/doc-migration,"redirectmatch 301 ^/nova/([^/]+)/devref/api.html /nova/$1/contributor/api.html redirectmatch 301 ^/nova/([^/]+)/devref/cells.html /nova/$1/user/cells.html redirectmatch 301 ^/nova/([^/]+)/devref/filter_scheduler.html /nova/$1/user/filter-scheduler.html # catch all, if we hit something in devref assume it moved to # reference unless we have already triggered a hit above. redirectmatch 301 ^/nova/([^/]+)/devref/([^/]+).html /nova/$1/reference/$2.html# this is gone and never coming back, indicate that to the end users redirectmatch 410 ^/nova/([^/]+)/man/nova-cert.html$",redirectmatch 301 ^/nova/([^/]+)/devref/rpc.html /nova/$1/reference/rpc.html,8,1
openstack%2Fnova~master~I40fcbc3077151227f33c6a021229b5c549889bbe,openstack/nova,master,I40fcbc3077151227f33c6a021229b5c549889bbe,[placement] Add api-ref for RP allocations,MERGED,2017-03-28 03:42:55.000000000,2017-08-21 11:40:17.000000000,2017-08-08 06:35:35.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17814}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 23302}]","[{'number': 1, 'created': '2017-03-28 03:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24bec60579c941e5bd5f416e087a40a7792ada5d', 'message': 'Add allocation doc for placement\n\nAdd allocation doc for placement\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 2, 'created': '2017-04-05 10:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f54711f6e1cad5a0d16d6111f1efe32783b65940', 'message': 'Add allocation doc for placement\n\nAdd allocation doc for placement\n\npart of blueprint: cd/placement-api-ref\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 3, 'created': '2017-04-05 10:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66b06e61d30275cb05ded4090460c105128e6706', 'message': 'Add allocation doc for placement\n\nAdd allocation doc for placement\n\npart of blueprint: placement-api-ref\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 4, 'created': '2017-04-05 10:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a8c2ffc8b9c43b6697e58f3b5669f2919f145ad', 'message': '[placement] Add allocation doc for placement\n\nAdd allocation doc for placement\n\npart of blueprint: placement-api-ref\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 5, 'created': '2017-05-10 10:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6a41f326a4cb2a765f430e15a7d2a84bb6704c4', 'message': '[placement] Add allocation doc for placement\n\nAdd allocation doc for placement\n\npart of blueprint: placement-api-ref\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 6, 'created': '2017-05-31 08:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7f74d4817f9b6379771a6f859ab34ea5f2e90a4', 'message': '[placement] Add allocation doc for placement\n\nAdd allocation doc for placement\n\npart of blueprint: placement-api-ref\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 7, 'created': '2017-06-07 08:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0cc0487c256d8b5f0534af4aa327bd7f2545def', 'message': '[placement] Add allocation doc for placement\n\nAdd allocation doc for placement\n\npart of blueprint: placement-api-ref\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 8, 'created': '2017-06-15 08:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/122885f2501788301fea93c265aab3a0154b4666', 'message': '[placement] Add /GET allocation doc for placement\n\nAdd allocation doc for placement\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 9, 'created': '2017-06-26 12:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ba4270d5e8265597eb3f42848365e2f273aff9f', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 10, 'created': '2017-06-26 15:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb5876e017d0b6e5dde9acadf9a0384cb86689fa', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 11, 'created': '2017-06-28 08:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf8bf83b33a9c5cfe65ac90cc32cedb3db118dc0', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 12, 'created': '2017-07-05 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/812badf9da25b5beb71ee85f223008953a47a87c', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 13, 'created': '2017-07-06 08:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe0ecade8753e8985cc7a69be2eac96694dc8e20', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 14, 'created': '2017-07-06 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63fb6d9e2eda41a7b793694d5f5677b42b0b56d2', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 15, 'created': '2017-07-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e74b546179969eaaba3b04a41fcd5ecef9cfe56', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 16, 'created': '2017-07-07 11:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/260a6cc87eaf448611c3bafa4402886f37b7cdff', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 17, 'created': '2017-07-11 16:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd28cf38b4c523517c14deb2a58bca286183b4eb', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 18, 'created': '2017-07-12 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8df669e22d14fd54cb5b85ae810313021cb09873', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 19, 'created': '2017-07-18 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64633d90ffb8979909436f5ccfda2165989c01a3', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 20, 'created': '2017-07-18 09:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/138cddc70712bc54c9c7abe6ee03bf7b564a30b0', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 21, 'created': '2017-07-18 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07cceb5d4b21fea37b76413788d611cde71ea438', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}, {'number': 22, 'created': '2017-08-07 09:12:41.000000000', 'files': ['placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/resource_provider_allocations.inc', 'placement-api-ref/source/get-resource_provider_allocations.json', 'placement-api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3e136e25c7a0c49ccc40331c645f07313969d5', 'message': '[placement] Add api-ref for RP allocations\n\nThis provides simple documentation of the path and response\nbody parameters when listing resource provider allocations.\n\nCo-Authored-by: Andrey Volkov <avolkov@gmail.com>\n\nChange-Id: I40fcbc3077151227f33c6a021229b5c549889bbe\n'}]",40,450550,5f3e136e25c7a0c49ccc40331c645f07313969d5,269,27,22,6062,,,0,"[placement] Add api-ref for RP allocations

This provides simple documentation of the path and response
body parameters when listing resource provider allocations.

Co-Authored-by: Andrey Volkov <avolkov@gmail.com>

Change-Id: I40fcbc3077151227f33c6a021229b5c549889bbe
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/450550/22 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/get-resource_providers_allocation.json', 'placement-api-ref/source/allocation.inc', 'placement-api-ref/source/index.rst']",4,24bec60579c941e5bd5f416e087a40a7792ada5d,cd/placement-api-ref,.. include:: allocation.inc,,58,0
openstack%2Fnova~master~Iaaa7e0670eef41cab5f93fc787d2436c7521b35b,openstack/nova,master,Iaaa7e0670eef41cab5f93fc787d2436c7521b35b,remove mox from unit/virt/vmwareapi/test_driver_api.py,MERGED,2017-03-31 10:08:43.000000000,2017-08-21 11:39:19.000000000,2017-08-10 11:39:48.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19741}, {'_account_id': 20040}, {'_account_id': 25050}]","[{'number': 1, 'created': '2017-03-31 10:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/463a9aabeecbaa6b5d55991f54b024bf1e85e3cd', 'message': 'remove mox from unit/virt/vmwareapi/test_driver_api.py\n\nPart of blueprint remove-mox-pike\n\nChange-Id: Iaaa7e0670eef41cab5f93fc787d2436c7521b35b\n'}, {'number': 2, 'created': '2017-05-29 10:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aee2f61f89c76d72e58c638f26f739f48117911f', 'message': 'remove mox from unit/virt/vmwareapi/test_driver_api.py\n\nPart of blueprint remove-mox-pike\n\nChange-Id: Iaaa7e0670eef41cab5f93fc787d2436c7521b35b\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2017-05-30 09:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/729852a0c8106882e1397aba1c88bc1e94de882e', 'message': 'remove mox from unit/virt/vmwareapi/test_driver_api.py\n\nPart of blueprint remove-mox-pike\n\nChange-Id: Iaaa7e0670eef41cab5f93fc787d2436c7521b35b\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2017-06-14 02:48:42.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/540033369de4fb00d7574fd9cb2aba6ea0dacb26', 'message': 'remove mox from unit/virt/vmwareapi/test_driver_api.py\n\nPart of blueprint remove-mox-pike\n\nChange-Id: Iaaa7e0670eef41cab5f93fc787d2436c7521b35b\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}]",29,452128,540033369de4fb00d7574fd9cb2aba6ea0dacb26,55,16,4,25050,,,0,"remove mox from unit/virt/vmwareapi/test_driver_api.py

Part of blueprint remove-mox-pike

Change-Id: Iaaa7e0670eef41cab5f93fc787d2436c7521b35b
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/452128/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/vmwareapi/test_driver_api.py'],1,463a9aabeecbaa6b5d55991f54b024bf1e85e3cd,bp/remove-mox-pike," @mock.patch.object(vmops.VMwareVMOps, '_extend_virtual_disk') def test_spawn_disk_extend(self, mock_extend): # self.mox.StubOutWithMock(self.conn._vmops, '_extend_virtual_disk') self.conn._vmops._extend_virtual_disk(mock.ANY, requested_size, mock.ANY, mock.ANY) @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_relocate_vmdk_volume') @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' 'attach_volume') @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_get_res_pool_of_vm') @mock.patch('nova.block_device.volume_in_mapping') @mock.patch('nova.virt.driver.block_device_info_get_mapping') def _spawn_attach_volume_vmdk(self, mock_info_get_mapping, mock_volume_in_mapping, mock_get_res_pool_of_vm, mock_attach_volume, mock__relocate_vmdk_volume, set_image_ref=True): mock_volume_in_mapping.return_value = root_disk mock_get_res_pool_of_vm.return_value = 'fake_res_pool' volumeops.VMwareVolumeOps._relocate_vmdk_volume(mock.ANY, 'fake_res_pool', mock.ANY) @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' 'attach_volume') @mock.patch('nova.block_device.volume_in_mapping') @mock.patch('nova.virt.driver.block_device_info_get_mapping') def test_spawn_attach_volume_iscsi(self, mock_block_device_info_get_mapping, mock_block_volume_in_mapping, mock_attach_volume): mock_block_device_info_get_mapping.return_value = root_disk @mock.patch('nova.virt.vmwareapi.vmops.VMwareVMOps._delete_vm_snapshot') @mock.patch('nova.virt.vmwareapi.vmops.VMwareVMOps._create_vm_snapshot') @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' 'attach_volume') def test_snapshot_delete_vm_snapshot(self, mock_attach_volume, mock_create_vm_snapshot, mock_delete_vm_snapshot): mock_create_vm_snapshot.return_value = snapshot_ref mock_delete_vm_snapshot.return_value = None mock_create_vm_snapshot.assert_called_once_with(self.instance, fake_vm.obj) mock_delete_vm_snapshot.assert_called_once_with(self.instance, fake_vm.obj, snapshot_ref) @mock.patch.object(compute_api.API, 'reboot') def test_poll_rebooting_instances(self, mock_reboot): compute_api.API.reboot(mock.ANY, mock.ANY, mock.ANY) @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_attach_volume_vmdk') def test_volume_attach_vmdk(self, mock_attach_volume_vmdk): @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_detach_volume_vmdk') def test_volume_detach_vmdk(self, mock_detach_volume_vmdk): @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_attach_volume_iscsi') def test_volume_attach_iscsi(self, mock_attach_volume_iscsi): @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_detach_volume_iscsi') def test_volume_detach_iscsi(self, mock_detach_volume_iscsi): with mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_iscsi_get_target') as mock_iscsi_get_target, \ mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_iscsi_add_send_target_host'), \ mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_iscsi_rescan_hba'), \ mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' 'attach_disk_to_vm'): connection_info = self._test_vmdk_connection_info('iscsi') connection_info['data']['target_portal'] = 'fake_target_host:port' connection_info['data']['target_iqn'] = 'fake_target_iqn' mount_point = '/dev/vdc' discover = ('fake_name', 'fake_uuid') # simulate target not found mock_iscsi_get_target.return_value = (None, None) volumeops.VMwareVolumeOps._iscsi_rescan_hba( connection_info['data']['target_portal']) # simulate target found mock_iscsi_get_target.return_value = discover volumeops.VMwareVolumeOps.attach_disk_to_vm(mock.ANY, self.instance, mock.ANY, 'rdmp', device_name=mock.ANY) self.conn.attach_volume(None, connection_info, self.instance, mount_point) mock_iscsi_get_target.assert_called_once_with( connection_info['data']) @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' 'detach_disk_from_vm') @mock.patch('nova.virt.vmwareapi.vm_util.get_rdm_disk') @mock.patch('nova.virt.vmwareapi.volumeops.VMwareVolumeOps.' '_iscsi_get_target') def test_detach_iscsi_disk_from_vm(self, mock_iscsi_get_target, mock_get_rdm_disk, mock_detach_disk_from_vm): mock_iscsi_get_target.return_value = find mock_get_rdm_disk.return_value = device volumeops.VMwareVolumeOps.detach_disk_from_vm(mock.ANY,","from mox3 import moxfrom nova import block_device def test_spawn_disk_extend(self): self.mox.StubOutWithMock(self.conn._vmops, '_extend_virtual_disk') self.conn._vmops._extend_virtual_disk(mox.IgnoreArg(), requested_size, mox.IgnoreArg(), mox.IgnoreArg()) self.mox.ReplayAll() def _spawn_attach_volume_vmdk(self, set_image_ref=True): self.mox.StubOutWithMock(block_device, 'volume_in_mapping') self.mox.StubOutWithMock(v_driver, 'block_device_info_get_mapping') v_driver.block_device_info_get_mapping( mox.IgnoreArg()).AndReturn(root_disk) self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_get_res_pool_of_vm') volumeops.VMwareVolumeOps._get_res_pool_of_vm( mox.IgnoreArg()).AndReturn('fake_res_pool') self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_relocate_vmdk_volume') volumeops.VMwareVolumeOps._relocate_vmdk_volume(mox.IgnoreArg(), 'fake_res_pool', mox.IgnoreArg()) self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, 'attach_volume') self.mox.ReplayAll() def test_spawn_attach_volume_iscsi(self): self.mox.StubOutWithMock(block_device, 'volume_in_mapping') self.mox.StubOutWithMock(v_driver, 'block_device_info_get_mapping') v_driver.block_device_info_get_mapping( mox.IgnoreArg()).AndReturn(root_disk) self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, 'attach_volume') self.mox.ReplayAll() def test_snapshot_delete_vm_snapshot(self): self.mox.StubOutWithMock(vmops.VMwareVMOps, '_create_vm_snapshot') self.conn._vmops._create_vm_snapshot( self.instance, fake_vm.obj).AndReturn(snapshot_ref) self.mox.StubOutWithMock(vmops.VMwareVMOps, '_delete_vm_snapshot') self.conn._vmops._delete_vm_snapshot( self.instance, fake_vm.obj, snapshot_ref).AndReturn(None) self.mox.ReplayAll() def test_poll_rebooting_instances(self): self.mox.StubOutWithMock(compute_api.API, 'reboot') compute_api.API.reboot(mox.IgnoreArg(), mox.IgnoreArg(), mox.IgnoreArg()) self.mox.ReplayAll() def test_volume_attach_vmdk(self): self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_attach_volume_vmdk') self.mox.ReplayAll() def test_volume_detach_vmdk(self): self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_detach_volume_vmdk') self.mox.ReplayAll() def test_volume_attach_iscsi(self): self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_attach_volume_iscsi') self.mox.ReplayAll() def test_volume_detach_iscsi(self): self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_detach_volume_iscsi') self.mox.ReplayAll() connection_info = self._test_vmdk_connection_info('iscsi') connection_info['data']['target_portal'] = 'fake_target_host:port' connection_info['data']['target_iqn'] = 'fake_target_iqn' mount_point = '/dev/vdc' discover = ('fake_name', 'fake_uuid') self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_iscsi_get_target') # simulate target not found volumeops.VMwareVolumeOps._iscsi_get_target( connection_info['data']).AndReturn((None, None)) self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_iscsi_add_send_target_host') # rescan gets called with target portal self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_iscsi_rescan_hba') volumeops.VMwareVolumeOps._iscsi_rescan_hba( connection_info['data']['target_portal']) # simulate target found volumeops.VMwareVolumeOps._iscsi_get_target( connection_info['data']).AndReturn(discover) self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, 'attach_disk_to_vm') volumeops.VMwareVolumeOps.attach_disk_to_vm(mox.IgnoreArg(), self.instance, mox.IgnoreArg(), 'rdmp', device_name=mox.IgnoreArg()) self.mox.ReplayAll() self.conn.attach_volume(None, connection_info, self.instance, mount_point) def test_detach_iscsi_disk_from_vm(self): self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, '_iscsi_get_target') volumeops.VMwareVolumeOps._iscsi_get_target( connection_info['data']).AndReturn(find) self.mox.StubOutWithMock(vm_util, 'get_rdm_disk') vm_util.get_rdm_disk(mox.IgnoreArg(), 'fake_uuid').AndReturn(device) self.mox.StubOutWithMock(volumeops.VMwareVolumeOps, 'detach_disk_from_vm') volumeops.VMwareVolumeOps.detach_disk_from_vm(mox.IgnoreArg(), self.mox.ReplayAll()",108,102
openstack%2Fnova~master~Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c,openstack/nova,master,Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c,Test resize with too big flavor,MERGED,2017-08-04 09:53:37.000000000,2017-08-21 11:39:12.000000000,2017-08-10 03:49:22.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 09:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0ce27b196d72a51e7e06b1d82ec039255fc1e8f', 'message': 'Test resize with too big flavor\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nThe test uses a flavor with more vcpu than what is available in any\ncompute.\n\nWhen the CoreFilter is enabled the the resource accounting seems\ncorrect.\n\nWhenthe CoreFilter is not enabled then I see two possible expected\nbahaviors to choose from:\n* Option A: Scheduling should fail with NoValidHost. This is not the\n  case today.\n\n* Option B: We allow the Server to boot. Then we expect that the\n  allocations are at leat reflets the amount of (over) allocated\n  resources in the placement API. This is not the case today either.\n\nChange-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c\n'}, {'number': 2, 'created': '2017-08-04 09:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eab28eaab9f90f247d29bf401197af47dd1e17a6', 'message': 'Test resize with too big flavor\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nThe test uses a flavor with more vcpu than what is available in any\ncompute.\n\nWhen the CoreFilter is enabled the the resource accounting seems\ncorrect.\n\nWhenthe CoreFilter is not enabled then I see two possible expected\nbahaviors to choose from:\n* Option A: Scheduling should fail with NoValidHost. This is not the\n  case today.\n\n* Option B: We allow the Server to boot. Then we expect that the\n  allocations are at leat reflets the amount of (over) allocated\n  resources in the placement API. This is not the case today either.\n\nChange-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c\n'}, {'number': 3, 'created': '2017-08-04 10:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0338ca092101299f578e0928706d03b7299da342', 'message': 'Test resize with too big flavor\n\nThe test uses a flavor with more vcpus than what is available in any\ncompute.\n\nWhen the CoreFilter is enabled the the resource accounting seems\ncorrect.\n\nWhenthe CoreFilter is not enabled then I see two possible expected\nbahaviors to choose from:\n* Option A: Scheduling should fail with NoValidHost. This is not the\n  case today.\n\n* Option B: We allow the Server to boot. Then we expect that the\n  allocations at least reflect the amount of (over) allocated\n  resources in the placement API. This is not the case today either.\n\nRelated-bug: #1708637\nChange-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c\n'}, {'number': 4, 'created': '2017-08-07 11:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18cfd3d22b16f9a0cc372ddbd1915933dc5bbb2e', 'message': 'Test resize with too big flavor\n\nThis test tries to resize to a flavor that requests more VCPU than\nwhat the compute hosts has available and expect the resize to fail.\nHowever placement returns no allocation candidate and the scheduler\nfalls back to the legacy filtering. As CoreFilter is not enabled the\nfiltering result in hosts selected without enough VCPU resource.\n\nThis is a test for an open bug therefore it asserts the wrong behavior\nbut it has the proper assert commented out.\n\nRelated-bug: #1708637\nChange-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c\n'}, {'number': 5, 'created': '2017-08-07 11:40:02.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13f52d443ed2a5154c9b10ee19ea5aed8205e37b', 'message': 'Test resize with too big flavor\n\nThis test tries to resize to a flavor that requests more VCPU than\nwhat the compute hosts has available and expect the resize to fail.\nHowever placement returns no allocation candidate and the scheduler\nfalls back to the legacy filtering. As CoreFilter is not enabled the\nfiltering result in hosts selected without enough VCPU resource.\n\nThis is a test for an open bug therefore it asserts the wrong behavior\nbut it has the proper assert commented out.\n\nRelated-bug: #1708637\nChange-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c\n'}]",11,490814,13f52d443ed2a5154c9b10ee19ea5aed8205e37b,56,19,5,9708,,,0,"Test resize with too big flavor

This test tries to resize to a flavor that requests more VCPU than
what the compute hosts has available and expect the resize to fail.
However placement returns no allocation candidate and the scheduler
falls back to the legacy filtering. As CoreFilter is not enabled the
filtering result in hosts selected without enough VCPU resource.

This is a test for an open bug therefore it asserts the wrong behavior
but it has the proper assert commented out.

Related-bug: #1708637
Change-Id: Ibd7f695d51b1f8497ca492968c7e5c69ada0a85c
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/490814/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/test_servers.py']",2,e0ce27b196d72a51e7e06b1d82ec039255fc1e8f,bug/1708637," # we're now giving it. So, use the bigger MediumFakeDriver here. self.flags(compute_driver='fake.MediumFakeDriver') self.scheduler = self.start_service('scheduler') def _test_resize_not_enough_resource(self, enable_core_filter): if enable_core_filter: self.scheduler.stop() filters = self._enabled_filters[:] filters.append('CoreFilter') self.flags(enabled_filters=filters, group='filter_scheduler') self.scheduler = self.start_service('scheduler') flavor_body = {'flavor': {'name': 'test_too_big_flavor', 'ram': 1024, 'vcpus': fake.MediumFakeDriver.vcpus + 1, 'disk': 20, }} big_flavor = self.api.post_flavor(flavor_body) dest_hostname = self.compute2.host self.flags(allow_resize_to_same_host=False) resize_req = { 'resize': { 'flavorRef': big_flavor['id'] } } resp = self.api.post_server_action( server['id'], resize_req, check_response_status=[400]) self.assertEqual( resp['badRequest']['message'], ""No valid host was found. No valid host found for resize"") server = self.admin_api.get_server(server['id']) self.assertEqual(source_hostname, server['OS-EXT-SRV-ATTR:host']) # only the source host shall have usages after the NoValidHost source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) # Check that the other provider has no usage dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations), 'No allocation for the server on the host it' 'is booted on') allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) self._delete_and_check_allocations( server, source_rp_uuid, dest_rp_uuid) def test_resize_not_enough_resource_with_filter(self): self._test_resize_not_enough_resource( enable_core_filter=True) def test_resize_not_enough_resource_without_filter_A(self): # NOTE(gibi): Placement returns no allocation candidate when there # is no host with enough resource to fulfill the request. In this case # the FilterScheduler falls back to the legacy filter based host # selection. However when CoreFilter is not enabled in the # FilterScheduler selects host which doesn't have enough resources. # # Option A: we treat this as a bug as VCPU expected to be handled # by placement instead of the legacy CoreFilter in Pike. This test case # assert Option A. # # Option B: we treat this as an expected behavior as we not deprecate # CoreFilter in Pike and expect that deployers will use placement # together with the CoreFilter. See the test for this case below in a # different test case self.skipTest('Bug XXX') self._test_resize_not_enough_resource(enable_core_filter=False) def _test_resize_not_enough_resource_without_filter_B(self, dest_hostname): flavor_body = {'flavor': {'name': 'test_too_big_flavor', 'ram': 1024, 'vcpus': fake.MediumFakeDriver.vcpus + 1, 'disk': 20, }} big_flavor = self.api.post_flavor(flavor_body) source_hostname = self._other_hostname(dest_hostname) source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations(self.flavor1, source_hostname) # NOTE(gibi): As in this option we expect that the instance is booted # successfully I think we should expect the same resource behavior as # in case of a normal successful resize. However the # _resize_and_check_allocations call fails as the big_flavor allocation # does not appear on the destination host. This is bug XXX. # Now I inlined _resize_and_check_allocations here and changed it to # assert the wrong behavior # Resize the server and check usages in VERIFY_RESIZE state self.flags(allow_resize_to_same_host=False) resize_req = { 'resize': { 'flavorRef': big_flavor['id'] } } self.api.post_server_action(server['id'], resize_req) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') # OK, so the resize operation has run, but we have not yet confirmed or # reverted the resize operation. Before we run periodics, make sure # that we have allocations/usages on BOTH the source and the # destination hosts (because during select_destinations(), the # scheduler should have created a ""doubled-up"" allocation referencing # both the source and destination hosts source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) # NOTE(gibi): This is bug XXX as there is no allocation for the new # flavor on the destination host. self.assertEqual(0, dest_usages['VCPU']) self.assertEqual(0, dest_usages['MEMORY_MB']) self.assertEqual(0, dest_usages['DISK_GB']) # NOTE(gibi): After fixing bug XXX the below assert should succeed # self.assertFlavorMatchesAllocation(big_flavor, dest_usages) # Check that the server allocates resource from both source and dest allocations = self._get_allocations_by_server_uuid(server['id']) # NOTE(gibi): This is bug XXX as there is no allocation for the new # flavor on the destination host. self.assertEqual(1, len(allocations)) source_alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_alloc) # NOTE(gibi): After fixing bug XXX the below assert should succeed # self.assertEqual(2, len(allocations), # 'Expected scheduler to create doubled-up allocation') # source_alloc = allocations[source_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(self.flavor1, source_alloc) # dest_alloc = allocations[dest_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(big_flavor, dest_alloc) self._run_periodics() # the original host expected to have the old resource usage source_usages = self._get_provider_usages(source_rp_uuid) # NOTE(danms): This is bug 1707071, where we've lost the # doubled allocation self.assertEqual(0, source_usages['VCPU']) self.assertEqual(0, source_usages['MEMORY_MB']) self.assertEqual(0, source_usages['DISK_GB']) # NOTE(danms): After we fix the 'healing' of the doubled allocation # by the resource tracker, the following will be expected # self.assertFlavorMatchesAllocation(old_flavor, source_usages) # the dest host expected to have resource allocation based on # the new flavor the server is resized to dest_usages = self._get_provider_usages(dest_rp_uuid) # NOTE(danms): This is bug 1707071 where we've lost the entire # allocation because one of the computes deleted it self.assertEqual(0, dest_usages['VCPU']) self.assertEqual(0, dest_usages['MEMORY_MB']) self.assertEqual(0, dest_usages['DISK_GB']) # NOTE(danms): After we fix the 'healing' of the double allocation # by the resource tracker, the following will be expected # self.assertFlavorMatchesAllocation(new_flavor, dest_usages) # and our server should have allocation on both providers accordingly allocations = self._get_allocations_by_server_uuid(server['id']) # NOTE(danms): This is bug 1707071, where we've lost the # doubled allocation self.assertEqual(0, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) # NOTE(danms): After we fix the 'healing' of the doubled allocation # by the resource tracker, the following will be expected # self.assertEqual(2, len(allocations)) # source_allocation = allocations[source_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(old_flavor, source_allocation) # NOTE(danms): This is bug 1707071, where we've lost the # doubled allocation self.assertNotIn(dest_rp_uuid, allocations) # NOTE(danms): After we fix the 'healing' of the doubled allocation # by the resource tracker, the following will be expected # self.assertEqual(2, len(allocations)) # dest_allocation = allocations[dest_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(new_flavor, dest_allocation) # NOTE(gibi) After fixing this bug the below commented out call should # succeed instead of the above inline asserts # self._resize_and_check_allocations(server, self.flavor1, big_flavor, # source_rp_uuid, dest_rp_uuid) # NOTE(gibi): This is bug XXX the resource healing on the destination # hostfails with 409 Conflict self.assertEqual(0, dest_usages['VCPU']) self.assertEqual(0, dest_usages['MEMORY_MB']) self.assertEqual(0, dest_usages['DISK_GB']) # NOTE(gibi): After fixing bug XXX the below assert should succeed # self.assertFlavorMatchesAllocation(big_flavor, dest_usages) # NOTE(gibi): This is bug XXX the resource healing fails with # 409 Conflict self.assertEqual(0, len(allocations)) # NOTE(gibi): After fixing bug XXX the below assert should succeed # self.assertEqual(1, len(allocations)) # dest_allocation = allocations[dest_rp_uuid]['resources'] # self.assertFlavorMatchesAllocation(big_flavor, dest_allocation) def test_resize_not_enough_resource_without_filter_B(self): self._test_resize_not_enough_resource_without_filter_B( dest_hostname='host1') def test_resize_not_enough_resource_without_filter_B_revers(self): # NOTE(danms): This will run the test the other direction, # but with the periodics running in the same order. When # bug 1707071 is fixed, we should be able to pass with things # running both ways. Until then, skip. self.skipTest('Bug 1707071') self._test_resize_not_enough_resource_without_filter_B( dest_hostname='host2')"," # we're now giving it. So, use the (big) FakeDriver here. self.flags(compute_driver='fake.FakeDriver') self.start_service('scheduler') def test_resize_no_valid_host(self, dest_hostname='host2'): self._resize_and_check_allocations(server, self.flavor1, self.flavor2, source_rp_uuid, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, dest_allocation)",242,10
openstack%2Fnova~master~I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a,openstack/nova,master,I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a,placement: filtering the resource provider id when delete trait association,MERGED,2017-07-31 12:50:45.000000000,2017-08-21 11:39:06.000000000,2017-08-08 14:43:02.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-31 12:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1cd08d921ac27aa9da340e3fd125ae781681482', 'message': ""placement: filtering the resource provider id when delete trait association\n\nThe `ResourceProvider.set_traits()` will delete the traits which aren't\nin the new set. But the SQL didn't filter the resource provider id when\ndelete trait association, which leads to all the associations with same\ntrait will be deleted.\n\nChange-Id: I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a\n""}, {'number': 2, 'created': '2017-08-07 01:49:42.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e66c1accbd2ecbc61f71733ee60a6e1ef693e47a', 'message': 'placement: filtering the resource provider id when delete trait association\n\nWhen delete a trait association for specific resource provider, the current\ncode will delete that trait associations for all the resource providers.\n\nThe expected behaviour is only the specific trait association for the\nspecific resource provider will be removed. This patch corrects the filter\nfor the deletion of trait association.\n\nChange-Id: I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a\nCloses-Bug: #1708978\n'}]",0,489205,e66c1accbd2ecbc61f71733ee60a6e1ef693e47a,37,17,2,5754,,,0,"placement: filtering the resource provider id when delete trait association

When delete a trait association for specific resource provider, the current
code will delete that trait associations for all the resource providers.

The expected behaviour is only the specific trait association for the
specific resource provider will be removed. This patch corrects the filter
for the deletion of trait association.

Change-Id: I4b8f1b8f0a8d16f1c415edbfb2a7d342d176f70a
Closes-Bug: #1708978
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/489205/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py']",2,b1cd08d921ac27aa9da340e3fd125ae781681482,bug/1708978," def test_set_traits_for_correct_resource_provider(self): rp1 = objects.ResourceProvider( context=self.ctx, uuid=uuidsentinel.fake_resource_provider1, name=uuidsentinel.fake_resource_name1, ) rp1.create() rp2 = objects.ResourceProvider( context=self.ctx, uuid=uuidsentinel.fake_resource_provider2, name=uuidsentinel.fake_resource_name2, ) rp2.create() t = objects.Trait(self.ctx) t.name = 'CUSTOM_TRAIT_A' t.create() rp1.set_traits([t]) rp2.set_traits([t]) self._assert_traits(['CUSTOM_TRAIT_A'], rp1.get_traits()) self._assert_traits(['CUSTOM_TRAIT_A'], rp2.get_traits()) # Clean up one of resource provider, and ensure only the correct one # is cleaned up. rp1.set_traits([]) self._assert_traits([], rp1.get_traits()) self._assert_traits(['CUSTOM_TRAIT_A'], rp2.get_traits()) ",,35,1
openstack%2Fnova~master~I34e4d572a5fb0e0be48e75dece49ebc7337ad30c,openstack/nova,master,I34e4d572a5fb0e0be48e75dece49ebc7337ad30c,Add resource utilities to scheduler utils,MERGED,2017-08-03 15:21:47.000000000,2017-08-21 11:38:50.000000000,2017-08-07 16:39:05.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-03 15:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68743a9db49b320e67a2714d2ad3b93eec57d829', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}, {'number': 2, 'created': '2017-08-03 16:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7ca00ec8b51abb1bcba4d39471d28cc7dfa46d3', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}, {'number': 3, 'created': '2017-08-03 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82c892be5189f844ca4d95c4d50cdcb135601a06', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}, {'number': 4, 'created': '2017-08-03 19:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ac21c1eb5647188eab8c2a32a42036ef654ce79', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}, {'number': 5, 'created': '2017-08-04 16:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87dbb666a9e34f4027ff055ae9532d15137e0a3f', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}, {'number': 6, 'created': '2017-08-04 16:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc7f7fa3bc9bb8c3d2bd70db16720b5ce401285d', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}, {'number': 7, 'created': '2017-08-04 18:18:56.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/057ca0b7eff76ffbbd460e6c8cbce100d01fa721', 'message': 'Add resource utilities to scheduler utils\n\nThis adds resources_from_flavor() and merge_resources() to help us\nin the following patches.\n\nCo-Authored-By: Jay Pipes <jaypipes@gmail.com>\nChange-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c\n'}]",14,490514,057ca0b7eff76ffbbd460e6c8cbce100d01fa721,66,16,7,4393,,,0,"Add resource utilities to scheduler utils

This adds resources_from_flavor() and merge_resources() to help us
in the following patches.

Co-Authored-By: Jay Pipes <jaypipes@gmail.com>
Change-Id: I34e4d572a5fb0e0be48e75dece49ebc7337ad30c
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/490514/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/scheduler/client/report.py']",3,68743a9db49b320e67a2714d2ad3b93eec57d829,bug/1707071,"from nova.scheduler import utils as scheduler_utils scheduler_utils.merge_resources(current_alloc['resources'], alloc['resources'])"," for res_name, res_value in alloc['resources'].items(): if res_name in current_alloc['resources']: current_alloc['resources'][res_name] += res_value else: # This is a new resource class in the new # allocation for which we need to account. current_alloc['resources'][res_name] = res_value",72,7
openstack%2Fnova~master~If5e7940ddd0ae3316f7475742c02abfe3df28ac4,openstack/nova,master,If5e7940ddd0ae3316f7475742c02abfe3df28ac4,Add Contributor Guide section page,MERGED,2017-08-03 20:40:15.000000000,2017-08-21 11:38:36.000000000,2017-08-07 17:18:25.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 10607}, {'_account_id': 11224}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22406}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-03 20:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7991fc1e9be4b9cb38b17984a936fcb91c9d2392', 'message': 'Add Contributor Guide section page\n\nIn order to wrangle together a top level TOC that makes sense, stop\nincluding everything in the TOC (ideally we could convince sphinx to\nnot warn on that).\n\nThis creates a Contributor Documentation landing page with deep links\nto all the relevant documents. It removes all those links from the\nfront page, and the TOC. They can be found by deep links or search,\nand it is a less confusing initial experience for folks.\n\nPart of bp: doc-migration\n\nChange-Id: If5e7940ddd0ae3316f7475742c02abfe3df28ac4\n'}, {'number': 2, 'created': '2017-08-04 00:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd0ff81b2f1f856a03098e72ee457559bcd06c10', 'message': 'Add Contributor Guide section page\n\nIn order to wrangle together a top level TOC that makes sense, stop\nincluding everything in the TOC (ideally we could convince sphinx to\nnot warn on that).\n\nThis creates a Contributor Documentation landing page with deep links\nto all the relevant documents. It removes all those links from the\nfront page, and the TOC. They can be found by deep links or search,\nand it is a less confusing initial experience for folks.\n\nPart of bp: doc-migration\n\nChange-Id: If5e7940ddd0ae3316f7475742c02abfe3df28ac4\n'}, {'number': 3, 'created': '2017-08-04 14:51:36.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5acc83c21030dfe484e188ea5881b92ffda78f4', 'message': 'Add Contributor Guide section page\n\nIn order to wrangle together a top level TOC that makes sense, stop\nincluding everything in the TOC (ideally we could convince sphinx to\nnot warn on that).\n\nThis creates a Contributor Documentation landing page with deep links\nto all the relevant documents. It removes all those links from the\nfront page, and the TOC. They can be found by deep links or search,\nand it is a less confusing initial experience for folks.\n\nPart of bp: doc-migration\n\nChange-Id: If5e7940ddd0ae3316f7475742c02abfe3df28ac4\n'}]",35,490644,a5acc83c21030dfe484e188ea5881b92ffda78f4,38,15,3,2750,,,0,"Add Contributor Guide section page

In order to wrangle together a top level TOC that makes sense, stop
including everything in the TOC (ideally we could convince sphinx to
not warn on that).

This creates a Contributor Documentation landing page with deep links
to all the relevant documents. It removes all those links from the
front page, and the TOC. They can be found by deep links or search,
and it is a less confusing initial experience for folks.

Part of bp: doc-migration

Change-Id: If5e7940ddd0ae3316f7475742c02abfe3df28ac4
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/490644/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst']",2,7991fc1e9be4b9cb38b17984a936fcb91c9d2392,bp/doc-migration,"=========================== Contributor Documentation =========================== Nova is power by you, the contributor, to help add features, fix bugs, enhance documentation, and increase testing. Contributions of any type are valuable, and part of what keeps the project going. Here are a list of resources to get your started. Getting Started =============== * :doc:`/contributor/how-to-get-involved`: overview of engaging in the project * :doc:`/contributor/development-environment`: get your computer setup to contribute Nova Process ============ The Nova community is a large community. We have lots of users, and they all have a lot of expectations around upgrade and backwards compatibility. For example, having a good stable API, with discoverable versions and capabilities is important for maintaining the strong ecosystem around Nova. Our process is always evolving, just as Nova and the community around Nova evolves over time. If there are things that seem strange, or you have ideas on how to improve things, please engage in that debate, so we continue to improve how the Nova community operates. This section looks at the processes and why. The main aim behind all the process is to aid good communication between all members of the Nova community, while keeping users happy and keeping developers productive. * :doc:`/contributor/project-scope`: the focus is on features and bug fixes that make Nova work better within this scope * :doc:`/contributor/policies`: general guidelines about what's supported * :doc:`/contributor/process`: the processes we follow around feature and bug submission, including how the release calendar works, and the freezes we go under * :doc:`/contributor/blueprints`: an overview of our tracking artifacts. For Reviewers ============= * :doc:`/contributor/releasenotes`: when we need a release not for a contribution. * :doc:`/contributor/code-review`: important cheat sheet for what's important when doing code review in Nova, especially some things that are hard to test for, but need human eyes. Testing ======= Because python is a dynamic language, code that is not testing might not even be python code. So all new code needs to be validated somehow. * :doc:`/contributor/testing`: an overview of our test taxonomy, and the kinds of testing we do and expect. * Testing Guides: there are also specific testing guides for features that are hard to test in our gate. * :doc:`/contributor/testing/libvirt-numa` * :doc:`/contributor/testing/serial-console` * :doc:`/contributor/testing/zero-downtime-upgrade` The Nova API ============ Because we have many consumers of our API, we're extremely careful about changes done to the API, as the impact can be very wide. * :doc:`/contributor/api`: How the code is structured inside the API layer * :doc:`/contributor/api-2`: (needs update) * :doc:`/contributor/microversions`: we use microversions to version our API, this walks you through what you need to do when adding an API exposed feature that needs one. Nova Major Subsystems ===================== Major subsystems in Nova have different needs, some of those are documented here. If you are contributing to one of these please read the subsystem guide before diving in. * :doc:`/contributor/placement` ",,112,47
openstack%2Fnova~master~I28bb8ce1f4a8653f176a554d2e95b4423c437972,openstack/nova,master,I28bb8ce1f4a8653f176a554d2e95b4423c437972,doc: Import administration guide,MERGED,2017-06-26 11:28:35.000000000,2017-08-21 11:38:29.000000000,2017-08-04 12:03:39.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19779}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-26 11:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5939e0ddfba34b8f173a616fc7d160f08f8ee7d3', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 2, 'created': '2017-06-27 03:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c82edf9e62f3a5378aaa52c72546809d5407ebfc', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 3, 'created': '2017-06-27 05:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4869549ceb1bad6e03ddd3aa0a31e5615a893840', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 4, 'created': '2017-06-27 06:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/660e3345c3a603d40e7fed44b269b3981f47471f', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 5, 'created': '2017-06-27 07:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ca9b42ffd14d3eeb9af8b2abfb1279945d772b3', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\nDepends-on: Ia183f972f8f583b4a5784afd423990eb1c1467a5\n'}, {'number': 6, 'created': '2017-06-28 06:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/429e336aa4d29fb3e08bc598f60e320a20029687', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 7, 'created': '2017-06-28 11:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fa9ad1136c8330dc6dc7be922081b9b6fe80bcb', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 8, 'created': '2017-06-29 07:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dff9aa95fa4be2627ca81d777b6e502e886ee310', 'message': 'import the admin guide content from openstack-manuals\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 9, 'created': '2017-08-03 18:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fd9568e3ef9ecb2e45d3409077216b90007113e', 'message': 'doc: Import administration guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 10, 'created': '2017-08-03 20:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0631db22238e5b14fc0b7ab18fae51a3efa2261c', 'message': 'doc: Import administration guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 11, 'created': '2017-08-04 09:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/172ee78d3fd99bf2258696b198dd6fd42d1de794', 'message': 'doc: Import administration guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 12, 'created': '2017-08-04 10:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b05a966711010dadfe3370be78647f17b2d84bbd', 'message': 'doc: Import administration guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\n'}, {'number': 13, 'created': '2017-08-04 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f0f08ffc4a10f3e8071d382aef982024598a963', 'message': 'doc: Import administration guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 14, 'created': '2017-08-04 11:01:03.000000000', 'files': ['doc/source/admin/huge-pages.rst', 'doc/source/admin/manage-logs.rst', 'doc/source/admin/index.rst', 'doc/source/admin/service-groups.rst', 'doc/source/admin/flavors.rst', 'doc/source/admin/remote-console-access.rst', 'doc/source/admin/manage-the-cloud.rst', 'doc/source/admin/manage-volumes.rst', 'doc/source/admin/figures/SCH_5009_V00_NUAC-VNC_OpenStack.vsd', 'doc/source/admin/pci-passthrough.rst', 'doc/source/admin/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-VLAN-manager.jpg', 'doc/source/admin/figures/SCH_5009_V00_NUAC-VNC_OpenStack.png', 'doc/source/admin/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-Flat-DHCP-manager.jpg', 'doc/source/admin/configuring-migrations.rst', 'doc/source/admin/common/nova-show-usage-statistics-for-hosts-instances.rst', 'doc/source/admin/root-wrap-reference.rst', 'doc/source/admin/cpu-topologies.rst', 'doc/source/admin/manage-users.rst', 'doc/source/admin/euca2ools.rst', 'doc/source/admin/default-ports.rst', 'doc/source/admin/system-admin.rst', 'doc/source/admin/figures/OpenStackTrustedComputePool1.png', 'doc/source/admin/figures/OpenStackTrustedComputePool2.png', 'doc/source/admin/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack.vsd', 'doc/source/admin/security.rst', 'doc/source/admin/support-compute.rst', 'doc/source/admin/figures/SCH_5009_V00_NUAC-VNC_OpenStack.svg', 'doc/source/admin/adv-config.rst', 'doc/source/admin/networking-nova.rst', 'doc/source/admin/admin-password-injection.rst', 'doc/source/index.rst', 'doc/source/admin/live-migration-usage.rst', 'doc/source/admin/node-down.rst', 'doc/source/admin/arch.rst', 'doc/source/admin/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-Flat-manager.jpg'], 'web_link': 'https://opendev.org/openstack/nova/commit/575b529118b80d86702fce3980dd83d7506cd0a6', 'message': 'doc: Import administration guide\n\nImport all docs from openstack-manuals.\n\nPart of bp: doc-migration\n\nChange-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}]",12,477497,575b529118b80d86702fce3980dd83d7506cd0a6,94,14,14,19779,,,0,"doc: Import administration guide

Import all docs from openstack-manuals.

Part of bp: doc-migration

Change-Id: I28bb8ce1f4a8653f176a554d2e95b4423c437972
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/477497/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/huge-pages.rst', 'doc/source/admin/manage-logs.rst', 'doc/source/admin/index.rst', 'doc/source/admin/service-groups.rst', 'doc/source/admin/flavors.rst', 'doc/source/admin/remote-console-access.rst', 'doc/source/admin/manage-the-cloud.rst', 'doc/source/admin/manage-volumes.rst', 'doc/source/admin/pci-passthrough.rst', 'doc/source/admin/configuring-migrations.rst', 'doc/source/admin/root-wrap-reference.rst', 'doc/source/admin/cpu-topologies.rst', 'doc/source/admin/manage-users.rst', 'doc/source/admin/euca2ools.rst', 'doc/source/admin/default-ports.rst', 'doc/source/admin/system-admin.rst', 'doc/source/admin/security.rst', 'doc/source/admin/support-compute.rst', 'doc/source/admin/adv-config.rst', 'doc/source/admin/networking-nova.rst', 'doc/source/admin/admin-password-injection.rst', 'doc/source/index.rst', 'doc/source/admin/live-migration-usage.rst', 'doc/source/admin/node-down.rst', 'doc/source/admin/arch.rst']",25,5939e0ddfba34b8f173a616fc7d160f08f8ee7d3,doc-migration,"=================== System architecture =================== OpenStack Compute contains several main components. - The :term:`cloud controller` represents the global state and interacts with the other components. The ``API server`` acts as the web services front end for the cloud controller. The ``compute controller`` provides compute server resources and usually also contains the Compute service. - The ``object store`` is an optional component that provides storage services; you can also use OpenStack Object Storage instead. - An ``auth manager`` provides authentication and authorization services when used with the Compute system; you can also use OpenStack Identity as a separate authentication service instead. - A ``volume controller`` provides fast and permanent block-level storage for the compute servers. - The ``network controller`` provides virtual networks to enable compute servers to interact with each other and with the public network. You can also use OpenStack Networking instead. - The ``scheduler`` is used to select the most suitable compute controller to host an instance. Compute uses a messaging-based, ``shared nothing`` architecture. All major components exist on multiple servers, including the compute, volume, and network controllers, and the Object Storage or Image service. The state of the entire system is stored in a database. The cloud controller communicates with the internal object store using HTTP, but it communicates with the scheduler, network controller, and volume controller using Advanced Message Queuing Protocol (AMQP). To avoid blocking a component while waiting for a response, Compute uses asynchronous calls, with a callback that is triggered when a response is received. Hypervisors ~~~~~~~~~~~ Compute controls hypervisors through an API server. Selecting the best hypervisor to use can be difficult, and you must take budget, resource constraints, supported features, and required technical specifications into account. However, the majority of OpenStack development is done on systems using KVM and Xen-based hypervisors. For a detailed list of features and support across different hypervisors, see the `Feature Support Matrix <https://docs.openstack.org/developer/nova/support-matrix.html>`_. You can also orchestrate clouds using multiple hypervisors in different availability zones. Compute supports the following hypervisors: - `Baremetal <https://wiki.openstack.org/wiki/Ironic>`__ - `Docker <https://www.docker.io>`__ - `Hyper-V <http://www.microsoft.com/en-us/server-cloud/hyper-v-server/default.aspx>`__ - `Kernel-based Virtual Machine (KVM) <http://www.linux-kvm.org/page/Main_Page>`__ - `Linux Containers (LXC) <https://linuxcontainers.org/>`__ - `Quick Emulator (QEMU) <http://wiki.qemu.org/Manual>`__ - `User Mode Linux (UML) <http://user-mode-linux.sourceforge.net/>`__ - `VMware vSphere <http://www.vmware.com/products/vsphere-hypervisor/support.html>`__ - `Xen <http://www.xen.org/support/documentation.html>`__ For more information about hypervisors, see the `Hypervisors <https://docs.openstack.org/ocata/config-reference/compute/hypervisors.html>`__ section in the OpenStack Configuration Reference. Projects, users, and roles ~~~~~~~~~~~~~~~~~~~~~~~~~~ The Compute system is designed to be used by different consumers in the form of projects on a shared system, and role-based access assignments. Roles control the actions that a user is allowed to perform. Projects are isolated resource containers that form the principal organizational structure within the Compute service. They consist of an individual VLAN, and volumes, instances, images, keys, and users. A user can specify the project by appending ``project_id`` to their access key. If no project is specified in the API request, Compute attempts to use a project with the same ID as the user. For projects, you can use quota controls to limit the: - Number of volumes that can be launched. - Number of processor cores and the amount of RAM that can be allocated. - Floating IP addresses assigned to any instance when it launches. This allows instances to have the same publicly accessible IP addresses. - Fixed IP addresses assigned to the same instance when it launches. This allows instances to have the same publicly or privately accessible IP addresses. Roles control the actions a user is allowed to perform. By default, most actions do not require a particular role, but you can configure them by editing the ``policy.json`` file for user roles. For example, a rule can be defined so that a user must have the ``admin`` role in order to be able to allocate a public IP address. A project limits users' access to particular images. Each user is assigned a user name and password. Keypairs granting access to an instance are enabled for each user, but quotas are set, so that each project can control resource consumption across available hardware resources. .. note:: Earlier versions of OpenStack used the term ``tenant`` instead of ``project``. Because of this legacy terminology, some command-line tools use ``--tenant_id`` where you would normally expect to enter a project ID. Block storage ~~~~~~~~~~~~~ OpenStack provides two classes of block storage: ephemeral storage and persistent volume. **Ephemeral storage** Ephemeral storage includes a root ephemeral volume and an additional ephemeral volume. The root disk is associated with an instance, and exists only for the life of this very instance. Generally, it is used to store an instance's root file system, persists across the guest operating system reboots, and is removed on an instance deletion. The amount of the root ephemeral volume is defined by the flavor of an instance. In addition to the ephemeral root volume, all default types of flavors, except ``m1.tiny``, which is the smallest one, provide an additional ephemeral block device sized between 20 and 160 GB (a configurable value to suit an environment). It is represented as a raw block device with no partition table or file system. A cloud-aware operating system can discover, format, and mount such a storage device. OpenStack Compute defines the default file system for different operating systems as Ext4 for Linux distributions, VFAT for non-Linux and non-Windows operating systems, and NTFS for Windows. However, it is possible to specify any other filesystem type by using ``virt_mkfs`` or ``default_ephemeral_format`` configuration options. .. note:: For example, the ``cloud-init`` package included into an Ubuntu's stock cloud image, by default, formats this space as an Ext4 file system and mounts it on ``/mnt``. This is a cloud-init feature, and is not an OpenStack mechanism. OpenStack only provisions the raw storage. **Persistent volume** A persistent volume is represented by a persistent virtualized block device independent of any particular instance, and provided by OpenStack Block Storage. Only a single configured instance can access a persistent volume. Multiple instances cannot access a persistent volume. This type of configuration requires a traditional network file system to allow multiple instances accessing the persistent volume. It also requires a traditional network file system like NFS, CIFS, or a cluster file system such as GlusterFS. These systems can be built within an OpenStack cluster, or provisioned outside of it, but OpenStack software does not provide these features. You can configure a persistent volume as bootable and use it to provide a persistent virtual instance similar to the traditional non-cloud-based virtualization system. It is still possible for the resulting instance to keep ephemeral storage, depending on the flavor selected. In this case, the root file system can be on the persistent volume, and its state is maintained, even if the instance is shut down. For more information about this type of configuration, see `Introduction to the Block Storage service <https://docs.openstack.org/ocata/config-reference/block-storage/block-storage-overview.html>`_ in the OpenStack Configuration Reference. .. note:: A persistent volume does not provide concurrent access from multiple instances. That type of configuration requires a traditional network file system like NFS, or CIFS, or a cluster file system such as GlusterFS. These systems can be built within an OpenStack cluster, or provisioned outside of it, but OpenStack software does not provide these features. EC2 compatibility API ~~~~~~~~~~~~~~~~~~~~~ In addition to the native compute API, OpenStack provides an EC2-compatible API. This API allows EC2 legacy workflows built for EC2 to work with OpenStack. .. warning:: Nova in tree EC2-compatible API is deprecated. The `ec2-api project <https://git.openstack.org/cgit/openstack/ec2-api/>`_ is working to implement the EC2 API. You can use numerous third-party tools and language-specific SDKs to interact with OpenStack clouds. You can use both native and compatibility APIs. Some of the more popular third-party tools are: Euca2ools A popular open source command-line tool for interacting with the EC2 API. This is convenient for multi-cloud environments where EC2 is the common API, or for transitioning from EC2-based clouds to OpenStack. For more information, see the `Eucalyptus Documentation <http://docs.hpcloud.com/eucalyptus>`__. Hybridfox A Firefox browser add-on that provides a graphical interface to many popular public and private cloud technologies, including OpenStack. For more information, see the `hybridfox site <http://code.google.com/p/hybridfox/>`__. boto Python library for interacting with Amazon Web Services. You can use this library to access OpenStack through the EC2 compatibility API. For more information, see the `boto project page on GitHub <https://github.com/boto/boto>`__. fog A Ruby cloud services library. It provides methods to interact with a large number of cloud and virtualization platforms, including OpenStack. For more information, see the `fog site <https://rubygems.org/gems/fog>`__. php-opencloud A PHP SDK designed to work with most OpenStack-based cloud deployments, as well as Rackspace public cloud. For more information, see the `php-opencloud site <http://www.php-opencloud.com>`__. Building blocks ~~~~~~~~~~~~~~~ In OpenStack the base operating system is usually copied from an image stored in the OpenStack Image service. This is the most common case and results in an ephemeral instance that starts from a known template state and loses all accumulated states on virtual machine deletion. It is also possible to put an operating system on a persistent volume in the OpenStack Block Storage volume system. This gives a more traditional persistent system that accumulates states which are preserved on the OpenStack Block Storage volume across the deletion and re-creation of the virtual machine. To get a list of available images on your system, run: .. code-block:: console $ openstack image list +--------------------------------------+-----------------------------+--------+ | ID | Name | Status | +--------------------------------------+-----------------------------+--------+ | aee1d242-730f-431f-88c1-87630c0f07ba | Ubuntu 14.04 cloudimg amd64 | active | | 0b27baa1-0ca6-49a7-b3f4-48388e440245 | Ubuntu 14.10 cloudimg amd64 | active | | df8d56fc-9cea-4dfd-a8d3-28764de3cb08 | jenkins | active | +--------------------------------------+-----------------------------+--------+ The displayed image attributes are: ``ID`` Automatically generated UUID of the image ``Name`` Free form, human-readable name for image ``Status`` The status of the image. Images marked ``ACTIVE`` are available for use. ``Server`` For images that are created as snapshots of running instances, this is the UUID of the instance the snapshot derives from. For uploaded images, this field is blank. Virtual hardware templates are called ``flavors``. By default, these are configurable by admin users, however that behavior can be changed by redefining the access controls for ``compute_extension:flavormanage`` in ``/etc/nova/policy.json`` on the ``compute-api`` server. For a list of flavors that are available on your system: .. code-block:: console $ openstack flavor list +-----+-----------+-------+------+-----------+-------+-----------+ | ID | Name | RAM | Disk | Ephemeral | VCPUs | Is_Public | +-----+-----------+-------+------+-----------+-------+-----------+ | 1 | m1.tiny | 512 | 1 | 0 | 1 | True | | 2 | m1.small | 2048 | 20 | 0 | 1 | True | | 3 | m1.medium | 4096 | 40 | 0 | 2 | True | | 4 | m1.large | 8192 | 80 | 0 | 4 | True | | 5 | m1.xlarge | 16384 | 160 | 0 | 8 | True | +-----+-----------+-------+------+-----------+-------+-----------+ Compute service architecture ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ These basic categories describe the service architecture and information about the cloud controller. **API server** At the heart of the cloud framework is an API server, which makes command and control of the hypervisor, storage, and networking programmatically available to users. The API endpoints are basic HTTP web services which handle authentication, authorization, and basic command and control functions using various API interfaces under the Amazon, Rackspace, and related models. This enables API compatibility with multiple existing tool sets created for interaction with offerings from other vendors. This broad compatibility prevents vendor lock-in. **Message queue** A messaging queue brokers the interaction between compute nodes (processing), the networking controllers (software which controls network infrastructure), API endpoints, the scheduler (determines which physical hardware to allocate to a virtual resource), and similar components. Communication to and from the cloud controller is handled by HTTP requests through multiple API endpoints. A typical message passing event begins with the API server receiving a request from a user. The API server authenticates the user and ensures that they are permitted to issue the subject command. The availability of objects implicated in the request is evaluated and, if available, the request is routed to the queuing engine for the relevant workers. Workers continually listen to the queue based on their role, and occasionally their type host name. When an applicable work request arrives on the queue, the worker takes assignment of the task and begins executing it. Upon completion, a response is dispatched to the queue which is received by the API server and relayed to the originating user. Database entries are queried, added, or removed as necessary during the process. **Compute worker** Compute workers manage computing instances on host machines. The API dispatches commands to compute workers to complete these tasks: - Run instances - Delete instances (Terminate instances) - Reboot instances - Attach volumes - Detach volumes - Get console output **Network Controller** The Network Controller manages the networking resources on host machines. The API server dispatches commands through the message queue, which are subsequently processed by Network Controllers. Specific operations include: - Allocating fixed IP addresses - Configuring VLANs for projects - Configuring networks for compute nodes ",,5447,0
openstack%2Fnova~master~If1fa15f5495a8a207042e7a43d34d32671c59ee1,openstack/nova,master,If1fa15f5495a8a207042e7a43d34d32671c59ee1,doc: Import installation guide,MERGED,2017-06-26 10:57:18.000000000,2017-08-21 11:38:23.000000000,2017-08-04 11:59:47.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19779}, {'_account_id': 20040}, {'_account_id': 20156}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-26 10:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed635c0906e106d5895fefec8694cbfb878c54c1', 'message': 'import installation guide pages from openstack-manuals\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 2, 'created': '2017-06-27 03:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76d57dd97face29ec8eabe630dcf31deae57b4f6', 'message': 'import installation guide pages from openstack-manuals\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 3, 'created': '2017-06-28 05:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/259f238e4f75b35440df5754944090108baeeecf', 'message': 'import installation guide pages from openstack-manuals\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 4, 'created': '2017-06-28 05:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ede0c0921bbf439cc6aa0acfe923fa8058c51c2d', 'message': 'import installation guide pages from openstack-manuals\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 5, 'created': '2017-06-28 10:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca722e99c33711e69d73cbd0de7d6ffb855631e6', 'message': 'import installation guide pages from openstack-manuals\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 6, 'created': '2017-06-28 10:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97ef05d59affc542e94ab6c92b39eda5d7150951', 'message': 'import installation guide pages from openstack-manuals\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 7, 'created': '2017-08-03 18:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb49781d4bbaa08a50b8f854adbb6cca5cefcdb4', 'message': 'doc: Import installation guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 8, 'created': '2017-08-03 20:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/728f50f5a74462fc69eec14ce4d66bdc2b62e076', 'message': 'doc: Import installation guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\n'}, {'number': 9, 'created': '2017-08-04 09:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ea47c2a3939d87d59dfcd10222d32d38c12662e', 'message': 'doc: Import installation guide\n\nImport all docs from openstack-manuals.\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 10, 'created': '2017-08-04 10:08:07.000000000', 'files': ['doc/source/install/figures/hwreqs.png', 'doc/source/install/figures/network2-services.png', 'doc/source/install/index.rst', 'doc/source/install/overview.rst', 'doc/source/install/figures/network1-services.png', 'doc/source/install/figures/network2-services.graffle', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/shared/note_configuration_vary_by_distribution.rst', 'doc/source/install/get-started-compute.rst', 'doc/source/index.rst', 'doc/source/install/figures/hwreqs.graffle', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/figures/network1-services.graffle', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/verify.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/figures/network1-services.svg', 'doc/source/install/figures/hwreqs.svg', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/figures/network2-services.svg', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/036642ce3333f3cd63c62c15eb1a1d35e8825450', 'message': 'doc: Import installation guide\n\nImport all docs from openstack-manuals.\n\nPart of bp: doc-migration\n\nChange-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,477488,036642ce3333f3cd63c62c15eb1a1d35e8825450,72,16,10,19779,,,0,"doc: Import installation guide

Import all docs from openstack-manuals.

Part of bp: doc-migration

Change-Id: If1fa15f5495a8a207042e7a43d34d32671c59ee1
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/477488/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/get-started-compute.rst', 'doc/source/install/compute-install-debian.rst', 'doc/source/index.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-debian.rst', 'doc/source/install/verify.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst']",14,ed635c0906e106d5895fefec8694cbfb878c54c1,doc-migration,"Install and configure a compute node ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section describes how to install and configure the Compute service on a compute node. The service supports several :term:`hypervisors <hypervisor>` to deploy :term:`instances <instance>` or :term:`VMs <virtual machine (VM)>`. For simplicity, this configuration uses the :term:`QEMU <Quick EMUlator (QEMU)>` hypervisor with the :term:`KVM <kernel-based VM (KVM)>` extension on compute nodes that support hardware acceleration for virtual machines. On legacy hardware, this configuration uses the generic QEMU hypervisor. You can follow these instructions with minor modifications to horizontally scale your environment with additional compute nodes. .. note:: This section assumes that you are following the instructions in this guide step-by-step to configure the first compute node. If you want to configure additional compute nodes, prepare them in a similar fashion to the first compute node in the :ref:`example architectures <overview-example-architectures>` section. Each additional compute node requires a unique IP address. Install and configure components -------------------------------- .. include:: shared/note_configuration_vary_by_distribution.rst #. Install the packages: .. code-block:: console # yum install openstack-nova-compute .. end 2. Edit the ``/etc/nova/nova.conf`` file and complete the following actions: * In the ``[DEFAULT]`` section, enable only the compute and metadata APIs: .. path /etc/nova/nova.conf .. code-block:: ini [DEFAULT] # ... enabled_apis = osapi_compute,metadata .. end * In the ``[DEFAULT]`` section, configure ``RabbitMQ`` message queue access: .. path /etc/nova/nova.conf .. code-block:: ini [DEFAULT] # ... transport_url = rabbit://openstack:RABBIT_PASS@controller .. end Replace ``RABBIT_PASS`` with the password you chose for the ``openstack`` account in ``RabbitMQ``. * In the ``[api]`` and ``[keystone_authtoken]`` sections, configure Identity service access: .. path /etc/nova/nova.conf .. code-block:: ini [api] # ... auth_strategy = keystone [keystone_authtoken] # ... auth_uri = http://controller:5000 auth_url = http://controller:35357 memcached_servers = controller:11211 auth_type = password project_domain_name = default user_domain_name = default project_name = service username = nova password = NOVA_PASS .. end Replace ``NOVA_PASS`` with the password you chose for the ``nova`` user in the Identity service. .. note:: Comment out or remove any other options in the ``[keystone_authtoken]`` section. * In the ``[DEFAULT]`` section, configure the ``my_ip`` option: .. path /etc/nova/nova.conf .. code-block:: ini [DEFAULT] # ... my_ip = MANAGEMENT_INTERFACE_IP_ADDRESS .. end Replace ``MANAGEMENT_INTERFACE_IP_ADDRESS`` with the IP address of the management network interface on your compute node, typically 10.0.0.31 for the first node in the :ref:`example architecture <overview-example-architectures>`. * In the ``[DEFAULT]`` section, enable support for the Networking service: .. path /etc/nova/nova.conf .. code-block:: ini [DEFAULT] # ... use_neutron = True firewall_driver = nova.virt.firewall.NoopFirewallDriver .. end .. note:: By default, Compute uses an internal firewall service. Since Networking includes a firewall service, you must disable the Compute firewall service by using the ``nova.virt.firewall.NoopFirewallDriver`` firewall driver. * In the ``[vnc]`` section, enable and configure remote console access: .. path /etc/nova/nova.conf .. code-block:: ini [vnc] # ... enabled = True vncserver_listen = 0.0.0.0 vncserver_proxyclient_address = $my_ip novncproxy_base_url = http://controller:6080/vnc_auto.html .. end The server component listens on all IP addresses and the proxy component only listens on the management interface IP address of the compute node. The base URL indicates the location where you can use a web browser to access remote consoles of instances on this compute node. .. note:: If the web browser to access remote consoles resides on a host that cannot resolve the ``controller`` hostname, you must replace ``controller`` with the management interface IP address of the controller node. * In the ``[glance]`` section, configure the location of the Image service API: .. path /etc/nova/nova.conf .. code-block:: ini [glance] # ... api_servers = http://controller:9292 .. end * In the ``[oslo_concurrency]`` section, configure the lock path: .. path /etc/nova/nova.conf .. code-block:: ini [oslo_concurrency] # ... lock_path = /var/lib/nova/tmp .. end * In the ``[placement]`` section, configure the Placement API: .. path /etc/nova/nova.conf .. code-block:: ini [placement] # ... os_region_name = RegionOne project_domain_name = Default project_name = service auth_type = password user_domain_name = Default auth_url = http://controller:35357/v3 username = placement password = PLACEMENT_PASS Replace ``PLACEMENT_PASS`` with the password you choose for the ``placement`` user in the Identity service. Comment out any other options in the ``[placement]`` section. Finalize installation --------------------- #. Determine whether your compute node supports hardware acceleration for virtual machines: .. code-block:: console $ egrep -c '(vmx|svm)' /proc/cpuinfo .. end If this command returns a value of ``one or greater``, your compute node supports hardware acceleration which typically requires no additional configuration. If this command returns a value of ``zero``, your compute node does not support hardware acceleration and you must configure ``libvirt`` to use QEMU instead of KVM. * Edit the ``[libvirt]`` section in the ``/etc/nova/nova.conf`` file as follows: .. path /etc/nova/nova.conf .. code-block:: ini [libvirt] # ... virt_type = qemu .. end 2. Start the Compute service including its dependencies and configure them to start automatically when the system boots: .. code-block:: console # systemctl enable libvirtd.service openstack-nova-compute.service # systemctl start libvirtd.service openstack-nova-compute.service .. end .. note:: If the ``nova-compute`` service fails to start, check ``/var/log/nova/nova-compute.log``. The error message ``AMQP server on controller:5672 is unreachable`` likely indicates that the firewall on the controller node is preventing access to port 5672. Configure the firewall to open port 5672 on the controller node and restart ``nova-compute`` service on the compute node. Add the compute node to the cell database ----------------------------------------- .. important:: Run the following commands on the **controller** node. #. Source the admin credentials to enable admin-only CLI commands, then confirm there are compute hosts in the database: .. code-block:: console $ . admin-openrc $ openstack compute service list --service nova-compute +----+-------+--------------+------+-------+---------+----------------------------+ | ID | Host | Binary | Zone | State | Status | Updated At | +----+-------+--------------+------+-------+---------+----------------------------+ | 1 | node1 | nova-compute | nova | up | enabled | 2017-04-14T15:30:44.000000 | +----+-------+--------------+------+-------+---------+----------------------------+ #. Discover compute hosts: .. code-block:: console # su -s /bin/sh -c ""nova-manage cell_v2 discover_hosts --verbose"" nova Found 2 cell mappings. Skipping cell0 since it does not contain hosts. Getting compute nodes from cell 'cell1': ad5a5985-a719-4567-98d8-8d148aaae4bc Found 1 computes in cell: ad5a5985-a719-4567-98d8-8d148aaae4bc Checking host mapping for compute host 'compute': fe58ddc1-1d65-4f87-9456-bc040dc106b3 Creating host mapping for compute host 'compute': fe58ddc1-1d65-4f87-9456-bc040dc106b3 .. note:: When you add new compute nodes, you must run ``nova-manage cell_v2 discover_hosts`` on the controller node to register those new compute nodes. Alternatively, you can set an appropriate interval in ``/etc/nova/nova.conf``: .. code-block:: ini [scheduler] discover_hosts_in_cells_interval = 300 ",,3834,0
openstack%2Fnova~master~If95be4f631f929cd8c6528671433ae0fc747a6be,openstack/nova,master,If95be4f631f929cd8c6528671433ae0fc747a6be,Add a caveat section about cellsv2 upcalls,MERGED,2017-08-03 17:50:53.000000000,2017-08-21 11:38:00.000000000,2017-08-03 22:19:34.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-03 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3f30347231df68243f00c5e22522be28fc54416', 'message': 'Add a caveat section about cellsv2 upcalls\n\nThis adds another subsection to the caveat section about operations that\nrequire upcalls in Pike not being supported.\n\nChange-Id: If95be4f631f929cd8c6528671433ae0fc747a6be\n'}, {'number': 2, 'created': '2017-08-03 18:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8cc885ff9e602fcc117d96ee0b25f2a68a3cca0', 'message': 'Add a caveat section about cellsv2 upcalls\n\nThis adds another subsection to the caveat section about operations that\nrequire upcalls in Pike not being supported.\n\nChange-Id: If95be4f631f929cd8c6528671433ae0fc747a6be\n'}, {'number': 3, 'created': '2017-08-03 20:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83ada5c230165c234f441a25509ef90e978b16f2', 'message': 'Add a caveat section about cellsv2 upcalls\n\nThis adds another subsection to the caveat section about operations that\nrequire upcalls in Pike not being supported.\n\nChange-Id: If95be4f631f929cd8c6528671433ae0fc747a6be\n'}, {'number': 4, 'created': '2017-08-03 21:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3fa4b1f4c7da9b6273d7c458e0385ed6b8b09b5', 'message': 'Add a caveat section about cellsv2 upcalls\n\nThis adds another subsection to the caveat section about operations that\nrequire upcalls in Pike not being supported.\n\nChange-Id: If95be4f631f929cd8c6528671433ae0fc747a6be\n'}, {'number': 5, 'created': '2017-08-03 21:20:59.000000000', 'files': ['doc/source/user/cellsv2_layout.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/916ba166c8ecb726d9ced26d7bbce3e25c6bbeff', 'message': 'Add a caveat section about cellsv2 upcalls\n\nThis adds another subsection to the caveat section about operations that\nrequire upcalls in Pike not being supported.\n\nChange-Id: If95be4f631f929cd8c6528671433ae0fc747a6be\n'}]",8,490612,916ba166c8ecb726d9ced26d7bbce3e25c6bbeff,36,10,5,4393,,,0,"Add a caveat section about cellsv2 upcalls

This adds another subsection to the caveat section about operations that
require upcalls in Pike not being supported.

Change-Id: If95be4f631f929cd8c6528671433ae0fc747a6be
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/490612/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cellsv2_layout.rst'],1,c3f30347231df68243f00c5e22522be28fc54416,cells-docs," Operations Requiring upcalls ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If you deploy multiple cells with a superconductor as described above, computes and cell-based conductors will not have the ability to speak to the scheduler as they are not connected to the same MQ. This is by design for isolation, but currently the processes are not in place to implement some features without such connectivity. Thus, anything that requires a so-called ""upcall"" will not function. This impacts the following: - Instance reschedules during boot - Scheduler instance info reporting from the compute nodes - The late anti-affinity check The first is simple: if you boot an instance, it gets scheduled to a compute node, fails, it would normally be re-scheduled to another node. That requires scheduler intervention and thus it will not work in Pike with a multi-cell layout. If you do not rely on reschedules for covering up transient compute-node failures, then this will not affect you. The second two are related. The summary is that some of the facilities that Nova has for ensuring that affinty/anti-affinity is preserved between instances does not function in Pike with a multi-cell layout. If you don't use (or depend on perfect) affinity operations, then this will not affect you.",,28,0
openstack%2Fnova~master~I4a3b48f726220e8db3dc79f0b4b5405df6d28f13,openstack/nova,master,I4a3b48f726220e8db3dc79f0b4b5405df6d28f13,doc: Remove dead files,MERGED,2017-06-28 10:39:15.000000000,2017-08-21 11:37:53.000000000,2017-08-03 21:54:00.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 20382}, {'_account_id': 24441}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-28 10:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31ab449771508a62348e83cb9c9ef495d48ce189', 'message': 'doc: Remove dead files\n\nThese are no longer referenced anywhere and can therefore go away.\n\nPart of blueprint doc-migration\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n'}, {'number': 2, 'created': '2017-06-29 08:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e77cbbfd75e7a0c315376425ff8d58e449621ef', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nPart of blueprint os-manuals-migration\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 3, 'created': '2017-06-29 09:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d85a66e3931c00ad7e68ea733bf5d63377524ab', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nImplements: blueprint os-manuals-migration\nTrivialFix\n""}, {'number': 4, 'created': '2017-06-29 10:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4f9b5f64b000a2e3f56d520cebab77d14e42429', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nImplements: blueprint doc-migration\nTrivialFix\n""}, {'number': 5, 'created': '2017-06-29 10:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0c301cbf87135bb66d5d8dae23746479bbeecae', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 6, 'created': '2017-07-04 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/749ffc629006838fc468b54eb3ccd8b7b9233bfa', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 7, 'created': '2017-07-12 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/511ce97b950a33ff1df9ef00b26e1e3394e35cd9', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 8, 'created': '2017-07-12 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6214df9d7dc5a357e787274733e0784a631d409a', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 9, 'created': '2017-07-13 14:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f664ed1147726f00a86b91f0ea3cce87848b9a0', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 10, 'created': '2017-07-18 14:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b88fc196cdfcfdc3c54d87effa8dd6606cff7e1', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 11, 'created': '2017-08-02 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb56163763197566325bf6cddaa63645c3a678c0', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 12, 'created': '2017-08-03 16:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b8f2307ae38fb8b9452d3c01748299c8447f3c0', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}, {'number': 13, 'created': '2017-08-03 20:06:34.000000000', 'files': ['doc/source/images/PowerStates1.png', 'doc/source/images/PowerStates2.png', 'doc/source/_ga/layout.html', 'doc/source/images/run_instance_walkthrough.png'], 'web_link': 'https://opendev.org/openstack/nova/commit/7bc2ca1f28d502b9662e0c0e2c95c655dbfde529', 'message': ""doc: Remove dead files\n\nThe Sphinx themes now include Google Analytics code, therefore, it's not\nnecessary to keep the local version. In addition, some images are no\nlonger referenced anywhere and can therefore go away.\n\nChange-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13\nTrivialFix\n""}]",0,478470,7bc2ca1f28d502b9662e0c0e2c95c655dbfde529,90,18,13,15334,,,0,"doc: Remove dead files

The Sphinx themes now include Google Analytics code, therefore, it's not
necessary to keep the local version. In addition, some images are no
longer referenced anywhere and can therefore go away.

Change-Id: I4a3b48f726220e8db3dc79f0b4b5405df6d28f13
TrivialFix
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/478470/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/images/PowerStates1.png', 'doc/source/images/PowerStates2.png', 'doc/source/_ga/layout.html', 'doc/source/images/run_instance_walkthrough.png']",4,31ab449771508a62348e83cb9c9ef495d48ce189,doc-migration,,,0,17
openstack%2Fnova~master~I6cceeca7edcacb762daa1f22f2138e2d2334b3a2,openstack/nova,master,I6cceeca7edcacb762daa1f22f2138e2d2334b3a2,doc: Start using oslo_policy.sphinxext,MERGED,2017-06-30 15:41:10.000000000,2017-08-21 11:37:45.000000000,2017-08-04 07:00:54.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25254}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-30 15:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f5dff197e09573f4800f04d3f2460b94250540f', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 2, 'created': '2017-07-04 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f29c9e668621f59db053b349e642ebc56eedfcd0', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 3, 'created': '2017-07-04 09:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de67ddfa2e5cc72fad39a79a1625fb857097633e', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 4, 'created': '2017-07-05 11:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17b0cfe9cbec8303f554059bc7b15b220fd21744', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 5, 'created': '2017-07-12 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e580046ba027d9ba6f901c2785323c05b0d5661', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 6, 'created': '2017-07-12 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5377f43adf22af33d649b46fea38c2fcd4d117', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 7, 'created': '2017-07-13 14:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e204ba0ef9bae7325869eebdddafe1336fc75bd', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 8, 'created': '2017-07-18 14:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff7b58fcc0e806a8d3953ec565ae4e181f7b5dec', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 9, 'created': '2017-08-02 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ce67bf388662fe1f2a5f1cd19e151a551c39af', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 10, 'created': '2017-08-03 16:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad1e8ef126d42fc01a2c1a8028dd5a89c0fa96b7', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}, {'number': 11, 'created': '2017-08-03 20:06:34.000000000', 'files': ['doc/source/index.rst', 'doc/source/configuration/sample-policy.rst', 'doc/source/conf.py', 'doc/source/configuration/policy.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b03e8151341f16ce7317569c86b51253a8c3635f', 'message': ""doc: Start using oslo_policy.sphinxext\n\nProviding a sample policy file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.policy to do this.\n\nChange-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2\n""}]",0,479358,b03e8151341f16ce7317569c86b51253a8c3635f,90,15,11,15334,,,0,"doc: Start using oslo_policy.sphinxext

Providing a sample policy file is all well and good, but it's not
exactly designed for readability on the web. Make use of the 'sphinxext'
module built into oslo.policy to do this.

Change-Id: I6cceeca7edcacb762daa1f22f2138e2d2334b3a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/479358/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/configuration/sample-policy.rst', 'doc/source/conf.py', 'doc/source/configuration/policy.rst']",4,2f5dff197e09573f4800f04d3f2460b94250540f,doc-migration,"======== Policies ======== The following is an overview of all available policies in Nova. For a sample configuration file, refer to :doc:`/configuration/sample-policy`. .. show-policy:: :config-file: etc/nova/nova-policy-generator.conf ",,23,8
openstack%2Fnova~master~I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb,openstack/nova,master,I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb,doc: Start using oslo_config.sphinxext,MERGED,2017-07-12 13:12:58.000000000,2017-08-21 11:37:37.000000000,2017-08-03 21:55:41.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-12 13:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72b79629ae6e3c3cef900030ee2fb734c809936a', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}, {'number': 2, 'created': '2017-07-12 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3102f63f5525aab29f873f2ae33cbe95317cca9d', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}, {'number': 3, 'created': '2017-07-13 14:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d95b073fb7e2db2610dc197583a05ed353c54146', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}, {'number': 4, 'created': '2017-07-18 14:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f2896578fb040df20a2c8f91a6f8de952e3e94', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}, {'number': 5, 'created': '2017-08-02 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd8dbab42ffde907866820fa8d91022724ded95f', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}, {'number': 6, 'created': '2017-08-03 16:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88a30fe33b77e3eedceb45cc0b42e29b464e45bd', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}, {'number': 7, 'created': '2017-08-03 20:06:34.000000000', 'files': ['doc/source/index.rst', 'doc/source/configuration/sample-config.rst', 'doc/source/configuration/config.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83a9c2ac334712b27704a814552628cf0e536a85', 'message': ""doc: Start using oslo_config.sphinxext\n\nProviding a sample configuration file is all well and good, but it's not\nexactly designed for readability on the web. Make use of the 'sphinxext'\nmodule built into oslo.config to do this.\n\nChange-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb\n""}]",0,482961,83a9c2ac334712b27704a814552628cf0e536a85,55,11,7,15334,,,0,"doc: Start using oslo_config.sphinxext

Providing a sample configuration file is all well and good, but it's not
exactly designed for readability on the web. Make use of the 'sphinxext'
module built into oslo.config to do this.

Change-Id: I75e8f0adae7cfaaa6020870cdb20dc2144fc70eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/482961/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/configuration/sample-config.rst', 'doc/source/configuration/config.rst', 'doc/source/conf.py']",5,72b79629ae6e3c3cef900030ee2fb734c809936a,doc-migration," 'oslo_config.sphinxext',",,35,14
openstack%2Fnova~master~I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6,openstack/nova,master,I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6,doc: Rework README to reflect new doc URLs,MERGED,2017-07-04 09:04:27.000000000,2017-08-21 11:37:30.000000000,2017-08-03 21:54:52.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-04 09:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f29849ebecd5413c4abf82f40c4801876f545807', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2017-07-12 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff3aa15b3bd867ec7012fa5902951b17777aa25f', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2017-07-12 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/607ce232089120b758a5c44197ee3e59e2b06cf3', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2017-07-13 14:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6427323c7bc5b1e3a29cc404cebe954d806e74a1', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2017-07-18 14:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70971dd314558083dcd936bedbe05705f095d59c', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2017-08-02 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f66c59462c308d1d66237dee9a398580fbf1936a', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2017-08-03 16:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/143329fcbd80446d48d87b9ea4108c15a8be7aed', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2017-08-03 20:06:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf52fc21ccce559c2b233b56f827d7bf061fb786', 'message': 'doc: Rework README to reflect new doc URLs\n\nWe also take the opportunity to clean up the doc and add a few more\nhelpful links. This is mostly based on the blueprint established by\nGlance [1].\n\n[1] https://github.com/openstack/glance/blob/69555ae/README.rst\n\nChange-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",4,480074,cf52fc21ccce559c2b233b56f827d7bf061fb786,63,12,8,15334,,,0,"doc: Rework README to reflect new doc URLs

We also take the opportunity to clean up the doc and add a few more
helpful links. This is mostly based on the blueprint established by
Glance [1].

[1] https://github.com/openstack/glance/blob/69555ae/README.rst

Change-Id: I819fd2e6d49e00c2f9175dd5b0f4a1bc356d35e6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/480074/7 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f29849ebecd5413c4abf82f40c4801876f545807,doc-migration,"OpenStack Nova provides a cloud computing fabric controller, supporting a wide variety of compute technologies, including: libvirt (KVM, Xen, LXC and more), Hyper-V, VMware, XenServer and OpenStack Ironic. Use the following resources to learn moreTo learn how to use Nova's API, consult the documentation available online at: - `Compute API Guide <https://developer.openstack.org/api-guide/compute/>`__ - `Compute API Reference <https://developer.openstack.org/api-ref/compute/>`__ For more information on OpenStack APIs, SDKs and CLIs in general, refer to: - `OpenStack for App Developers <https://www.openstack.org/appdev/>`__ - `Development resources for OpenStack clouds <https://developer.openstack.org/>`__To learn how to deploy and configure OpenStack Nova, consult the documentation available online at: - `OpenStack Nova <https://docs.openstack.org/nova/>`__ In the unfortunate event that bugs are discovered, they should be reported to the appropriate bug tracker. If you obtained the software from a 3rd party operating system vendor, it is often wise to use their own bug tracker for reporting problems. In all other cases use the master OpenStack bug tracker,- `Bug Tracker <https://bugs.launchpad.net/nova>`__For information on how to contribute to Nova, please see the contents of the CONTRIBUTING.rst. Any new code must follow the development guidelines detailed in the HACKING.rst file, and pass all unit tests.- `Official Nova Documentation <https://docs.openstack.org/nova/>`__ - `Official Client Documentation <https://docs.openstack.org/python-novaclient/>`__ Other Information ----------------- During each design summit, we agree on what the whole community wants to focus on for the upcoming release. The plans for nova can be found at: - `Nova Specs <http://specs.openstack.org/openstack/nova-specs/>`__ For more information about the Nova project, refer to: - `Nova Project <https://launchpad.net/nova/>`__","OpenStack Nova provides a cloud computing fabric controller, supporting a wide variety of compute technologies, including: libvirt (KVM, Xen, LXC and more), Hyper-V, VMware, XenServer and OpenStack Ironic. OpenStack Nova is distributed under the terms of the Apache License, Version 2.0. The full terms and conditions of this license are detailed in the LICENSE file.To learn how to use Nova's API, consult the documentation available online at: https://developer.openstack.org/api-guide/compute/ https://developer.openstack.org/api-ref/compute/ For more information on OpenStack APIs, SDKs and CLIs, please see: https://www.openstack.org/appdev/ https://developer.openstack.org/To learn how to deploy and configure OpenStack Nova, consult the documentation available online at: https://docs.openstack.org For information about the different compute (hypervisor) drivers supported by Nova, please read: https://docs.openstack.org/developer/nova/feature_classification.html In the unfortunate event that bugs are discovered, they should be reported to the appropriate bug tracker. If you obtained the software from a 3rd party operating system vendor, it is often wise to use their own bug tracker for reporting problems. In all other cases use the master OpenStack bug tracker, https://bugs.launchpad.net/novaFor information on how to contribute to Nova, please see the contents of the CONTRIBUTING.rst. Any new code must follow the development guidelines detailed in the HACKING.rst file, and pass all unit tests. https://docs.openstack.org/developer/nova/",38,34
openstack%2Fnova~master~I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c,openstack/nova,master,I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c,Sum allocations in the scheduler when resizing to the same host,MERGED,2017-08-02 16:50:49.000000000,2017-08-21 11:37:23.000000000,2017-08-03 20:50:08.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21784}, {'_account_id': 23630}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-02 16:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d6830868a1014f9e07023188ebcf5d061ea5d9b', 'message': ""WIP: Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, without a shared provider, like\nfor storage, the _move_operation_alloc_request code is currently\nremoving compute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}, {'number': 2, 'created': '2017-08-02 18:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72d85867d7f8775e43061f1cd036c91340e650b2', 'message': ""WIP: Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, without a shared provider, like\nfor storage, the _move_operation_alloc_request code is currently\nremoving compute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}, {'number': 3, 'created': '2017-08-02 19:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eac813c5daad5c25b75b31cac16c00976e9bda7d', 'message': ""WIP: Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, without a shared provider, like\nfor storage, the _move_operation_alloc_request code is currently\nremoving compute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}, {'number': 4, 'created': '2017-08-02 19:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f9b9c4bc18d3b603845da9f8cb64aeb6621a4fc', 'message': ""WIP: Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, without a shared provider, like\nfor storage, the _move_operation_alloc_request code is currently\nremoving compute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}, {'number': 5, 'created': '2017-08-02 20:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0381712d935d370ad3776df69dc04512f0aae14f', 'message': ""Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, with or without a shared provider,\nthe _move_operation_alloc_request code is currently removing the\ncompute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}, {'number': 6, 'created': '2017-08-02 21:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e53bfb208a711ca6e5e1d96905cd19ef9b06862c', 'message': ""Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, with or without a shared provider,\nthe _move_operation_alloc_request code is currently removing the\ncompute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}, {'number': 7, 'created': '2017-08-03 15:21:47.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/79c376ec162a0049523f196b3fd10a1585cff1da', 'message': ""Sum allocations in the scheduler when resizing to the same host\n\nWhen we resize to the same host, with or without a shared provider,\nthe _move_operation_alloc_request code is currently removing the\ncompute node resource provider uuid from the new_rp_uuids\nvariable since the uuid is the same in both the cur_rp_uuids and\nnew_rp_uuids as it's the same compute node provider. So later when\nprocessing the new destination allocation requests, since new_rp_uuids\nis empty, the new destination allocations aren't part of the request.\n\nThis change checks for this case and sums the resource allocation\namounts when we're resizing to the same compute node.\n\nChange-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c\nCloses-Bug: #1707252\n""}]",16,490085,79c376ec162a0049523f196b3fd10a1585cff1da,75,21,7,6873,,,0,"Sum allocations in the scheduler when resizing to the same host

When we resize to the same host, with or without a shared provider,
the _move_operation_alloc_request code is currently removing the
compute node resource provider uuid from the new_rp_uuids
variable since the uuid is the same in both the cur_rp_uuids and
new_rp_uuids as it's the same compute node provider. So later when
processing the new destination allocation requests, since new_rp_uuids
is empty, the new destination allocations aren't part of the request.

This change checks for this case and sums the resource allocation
amounts when we're resizing to the same compute node.

Change-Id: I1c9442eed850a3eb7ac9871fafcb0ae93ba8117c
Closes-Bug: #1707252
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/490085/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,0d6830868a1014f9e07023188ebcf5d061ea5d9b,bug/1707071," elif not new_rp_uuids: # If there are no new_rp_uuids that means we're resizing to # the same host with no shared providers, like storage, involved, # so we need to sum/merge the allocations for the host using both # the current and new allocations. # FIXME(mriedem): would have to handle resize to same host with # shared storage. for current_alloc in current_allocs: # Find the matching resource provider allocations by UUID. if (current_alloc['resource_provider']['uuid'] == alloc['resource_provider']['uuid']): # Now sum the current allocation resource amounts with # the new allocation resource amounts. for res_name, res_value in alloc['resources'].items(): current_alloc['resources'][res_name] += res_value ",,103,0
openstack%2Fnova~master~I3f38954bc5cf7b1690182dc8af45078eea275aa4,openstack/nova,master,I3f38954bc5cf7b1690182dc8af45078eea275aa4,hardware offload support for openvswitch,MERGED,2016-11-16 10:44:15.000000000,2017-08-21 11:37:16.000000000,2017-08-03 19:08:06.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 12408}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 14807}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16690}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17671}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 25733}]","[{'number': 1, 'created': '2016-11-16 10:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a8af738cd41adfd1307349136a980658fc79078', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 2, 'created': '2016-11-16 11:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ead9e200127cb87392f04e80bae9f9ed94520f4', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 3, 'created': '2016-12-08 14:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28f7b0e500eaf6e00cbdb58efc142ebe0feb5cd3', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 4, 'created': '2016-12-08 15:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e88aebdd9ef606016a9fa1a0db496f1f86db56a8', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 5, 'created': '2016-12-11 12:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69f9186a3e07ee4e6202590a4d33faae75eeccce', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 6, 'created': '2017-01-03 07:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ddd078509b39e96d0336c1cc290b31b2ba23963', 'message': 'OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 7, 'created': '2017-02-12 12:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50a41fc7ce7b369ed6e25d31ecb3965fd9557cf7', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 8, 'created': '2017-03-01 08:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6204719410919ec7ca2694285f6b929e4f40244', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 9, 'created': '2017-03-01 10:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/917c67755a0c69671c66706a8f1778edc66b1794', 'message': '[WIP] OVS acceleration\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 10, 'created': '2017-03-16 15:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a92a11c740b6c825273ad7928855e9f35885441f', 'message': 'HW offload support for openvswitch\n\nIn Kernel 4.8 we introduced TC HW offloads framework\nfor SR-IOV VF which allow to configure the NIC. [1]\n\nThese OVS patches [2] allow to use the TC\nframework to offload ovs datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 11, 'created': '2017-03-19 08:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b250b130e73fe394571952f3255343746c263fe2', 'message': 'HW offload support for openvswitch\n\nIn Kernel 4.8 we introduced TC HW offloads framework\nfor SR-IOV VF which allow to configure the NIC. [1]\n\nThese OVS patches [2] allow to use the TC\nframework to offload ovs datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 12, 'created': '2017-05-15 16:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/640f8daecc57bbc1178fb50db749d5ff73ada74e', 'message': 'HW offload support for openvswitch\n\nIn Kernel 4.8 we introduced TC HW offloads framework\nfor SR-IOV VF which allow to configure the NIC. [1]\n\nThese OVS patches [2] allow to use the TC\nframework to offload ovs datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 13, 'created': '2017-06-18 09:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d21fdb4f7871d173a6b17e7b5b37cc60bdb634de', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 14, 'created': '2017-07-04 14:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ede9fadf536ac5c7b11998c08258b6f10cf3542', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 15, 'created': '2017-07-06 19:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/325b83123c7f65418b3b8a2398d51013fb59dee8', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 16, 'created': '2017-07-11 13:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2b75fd64980b4464ddd6cc78f47235ef12ef339', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 17, 'created': '2017-07-16 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0009805fb7d75a37f5be46a274fe0aa97df6ab8e', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\n\nThis patch add support for  VIF_TYPE_OVS_ACCELERATION\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 18, 'created': '2017-07-20 07:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0e42544cf763f9788f70ad7118b1ee9ff2ea2a9', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is support in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 19, 'created': '2017-07-22 02:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1beb6870d1ad39e5d73c1d024fabe86a92ac18e8', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is support in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 20, 'created': '2017-07-23 09:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be937049daf2a7a64fb6cb71f56474d8335760cf', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is support in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 21, 'created': '2017-07-24 08:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed33891c3c825a8a3a0c8a79e0cebb1535afd903', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allow us to use the TC framework\nto offload OVS datapath rules.\nhardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is support in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 22, 'created': '2017-07-24 08:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cefd3ca6a1f619b37bbade084b6329ff854863b4', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is support in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 23, 'created': '2017-07-24 10:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80854b47df4dc31618eb3b965f6aff2ac4dc9bba', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 24, 'created': '2017-07-25 14:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dea636093049c576efa6268f58c866c9f712094b', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 25, 'created': '2017-07-25 19:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/763e182246e0658c8ff32f18d46b43c238c4ea2c', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 26, 'created': '2017-07-26 02:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6ec97de61e77d03ce071afeb32fdaa41ec94411', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 27, 'created': '2017-07-26 15:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a4bb40f81c6226c5a3cddb09696bbb95dca222b', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 28, 'created': '2017-07-27 00:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02cdd90c2e927dda3b265db7b0b9819e66928e06', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for  VIF_TYPE_OVS with vnic_type direct\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 29, 'created': '2017-07-27 13:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3504559b65e75004c87d943121ce8553c24905d3', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for VIF_TYPE_OVS with vnic_type direct\n\nblueprint sriov-ovs-offload\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 30, 'created': '2017-07-27 14:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a0c7c61fe7e53c911143d6e5d9f6514c7e2f9f4', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for VIF_TYPE_OVS with vnic_type direct\n\nblueprint sriov-ovs-offload\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 31, 'created': '2017-07-27 14:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a40dd185d648d774a0b8be1278b318f0c081d20c', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for VIF_TYPE_OVS with vnic_type direct\n\nblueprint sriov-ovs-offload\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 32, 'created': '2017-07-27 17:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4fd062535aaaf87b589d37caaffeee7ce8f65ea', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for VIF_TYPE_OVS with vnic_type direct\n\nblueprint sriov-ovs-offload\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 33, 'created': '2017-07-31 06:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0868530669f48f9cc11d889306359e1824da4a5', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for VIF_TYPE_OVS with vnic_type direct\n\nblueprint sriov-ovs-offload\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}, {'number': 34, 'created': '2017-08-03 13:30:33.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/network/os_vif_util.py', 'releasenotes/notes/sriov-ovs-offload-1c3fe79e847f8c8f.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ccc1def0f5f6ec1cde48ca50c7e3e854e8cd112e', 'message': 'hardware offload support for openvswitch\n\nIn Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads\nframework for SR-IOV VFs which allows us to configure the NIC [2].\nSubsequent OVS patches [3] allows us to use the TC framework\nto offload OVS datapath rules. This feature is supported in OVS 2.8.0.\n\nThis patch adds support for VIF_TYPE_OVS with vnic_type direct\n\nblueprint sriov-ovs-offload\n\n[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf\n[2] https://patchwork.ozlabs.org/patch/738176/\n[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html\n\nChange-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4\n'}]",75,398265,ccc1def0f5f6ec1cde48ca50c7e3e854e8cd112e,477,32,34,12171,,,0,"hardware offload support for openvswitch

In Kernel 4.8 we introduced Traffic Control (TC see [1]) hardware offloads
framework for SR-IOV VFs which allows us to configure the NIC [2].
Subsequent OVS patches [3] allows us to use the TC framework
to offload OVS datapath rules. This feature is supported in OVS 2.8.0.

This patch adds support for VIF_TYPE_OVS with vnic_type direct

blueprint sriov-ovs-offload

[1] http://netdevconf.org/1.2/papers/efraim-gerlitz-sriov-ovs-final.pdf
[2] https://patchwork.ozlabs.org/patch/738176/
[3] https://mail.openvswitch.org/pipermail/ovs-dev/2017-April/330606.html

Change-Id: I3f38954bc5cf7b1690182dc8af45078eea275aa4
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/398265/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/model.py', 'nova/network/os_vif_util.py']",2,8a8af738cd41adfd1307349136a980658fc79078,ovs_acc,"# VIF_TYPE_OVS_ACCELERATION = 'ovs_acceleration' def _nova_to_osvif_vif_ovs_acceleration(vif): profile = objects.vif.VIFPortProfileOpenVSwitch( interface_id=vif.get('ovs_interfaceid') or vif['id']) obj = _get_vif_instance(vif, objects.vif.VIFDirect, port_profile=profile, plugin=""ovs"") obj.dev_address = profile = vif[""profile""]['pci_slot'] obj.bridge_name = vif[""details""][""bridge_name""] return obj ",,12,0
openstack%2Fnova~master~I270c29fa9d7f02ccc4437f05a86edb79a3a373ba,openstack/nova,master,I270c29fa9d7f02ccc4437f05a86edb79a3a373ba,"doc: Make use of definition lists, literals",MERGED,2017-08-03 13:42:52.000000000,2017-08-21 11:37:09.000000000,2017-08-03 16:41:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 13:42:52.000000000', 'files': ['doc/source/reference/rpc.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/24cdb620f9f8665ecff7cf530405ed30d7897470', 'message': 'doc: Make use of definition lists, literals\n\nPart of bp: doc-migration\n\nChange-Id: I270c29fa9d7f02ccc4437f05a86edb79a3a373ba\n'}]",0,490481,24cdb620f9f8665ecff7cf530405ed30d7897470,13,5,1,15334,,,0,"doc: Make use of definition lists, literals

Part of bp: doc-migration

Change-Id: I270c29fa9d7f02ccc4437f05a86edb79a3a373ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/490481/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/rpc.rst'],1,24cdb620f9f8665ecff7cf530405ed30d7897470,bp/doc-migration,"AMQP is the messaging technology chosen by the OpenStack cloud. The AMQP``rpc.call`` and ``rpc.cast``) over AMQP by providing an adapter class which take cares of marshaling and unmarshaling of messages into function calls. Each Nova service (for example Compute, Scheduler, etc.) create two queues at the``NODE-TYPE.NODE-ID`` (for example ``compute.hostname``) and another, which accepts messages with routing keys as generic ``NODE-TYPE`` (for example ``compute``). The former is used specifically when Nova-API needs to redirect commands to a specific node like ``euca-terminate instance``. In this case, only the compute node whose host's hypervisor is running the virtual machine can kill the instance. The API acts as a consumer when RPC calls are request/response, otherwise it acts as a publisher only.via two operations: 1) ``rpc.call`` and ii) ``rpc.cast``; a Worker is a component that receives messages from the queuing system and reply accordingly to ``rpc.call`` operations.Topic Publisher A Topic Publisher comes to life when an ``rpc.call`` or an ``rpc.cast`` operation is executed; this object is instantiated and used to push a message to the queuing system. Every publisher connects always to the sameDirect Consumer A Direct Consumer comes to life if (and only if) an ``rpc.call`` operation is executed; this object is instantiated and used to receive a response message from the queuing system. Every consumer connects to a unique direct-based exchange via a unique exclusive queue; its life-cycle is limited to the message delivery; the exchange and queue identifiers are determined by a UUID generator, and are marshaled in the message sent by the Topic Publisher (only ``rpc.call`` operations). Topic Consumer A Topic Consumer comes to life as soon as a Worker is instantiated and exists throughout its life-cycle; this object is used to receive messages from the queue and it invokes the appropriate action as defined by the Worker role. A Topic Consumer connects to the same topic-based exchange either via a shared queue or via a unique exclusive queue. Every Worker has two topic consumers, one that is addressed only during ``rpc.cast`` operations (and it connects to a shared queue whose exchange key is ``topic``) and the other that is addressed only during ``rpc.call`` operations (and it connects to a unique queue whose exchange key is ``topic.host``). Direct Publisher A Direct Publisher comes to life only during ``rpc.call`` operations and it is instantiated to return the message required by the request/response operation. The object connects to a direct-based exchange whose identity is dictated by the incoming message. Topic Exchange The Exchange is a routing table that exists in the context of a virtual host (the multi-tenancy mechanism provided by Qpid or RabbitMQ); its type (such as topic vs. direct) determines the routing policy; a message broker node will have only one topic-based exchange for every topic in Nova. Direct Exchange This is a routing table that is created during ``rpc.call`` operations; there are many instances of this kind of exchange throughout the life-cycle of a message broker node, one for each ``rpc.call`` invoked. Queue Element A Queue is a message bucket. Messages are kept in the queue until a Consumer (either Topic or Direct Consumer) connects to the queue and fetch it. Queues can be shared or can be exclusive. Queues whose routing key is ``topic`` are shared amongst Workers of the same personality.The diagram below shows the message flow during an ``rpc.call`` operation: Consumer dictated by the routing key (such as ``msg_id``) and passed to theThe diagram below shows the message flow during an ``rpc.cast`` operation:Throughput of API calls The number of API calls (more precisely ``rpc.call`` ops) being served by the OpenStack cloud dictates the number of direct-based exchanges, related queues and direct consumers connected to them. Number of Workers There is one queue shared amongst workers with the same personality; however there are as many exclusive queues as the number of workers; the number of workers dictates also the number of routing keys within the topic-based exchange, which is shared amongst all workers. 1. ``compute.phantom`` (``phantom`` is hostname) 2. ``compute`` 3. ``network.phantom`` (``phantom`` is hostname) 4. ``network`` 5. ``scheduler.phantom`` (``phantom`` is hostname) 6. ``scheduler````hostname`` The hostname to the AMQP server. ``userid`` A valid username used to authenticate to the server. ``password`` The password used to authenticate to the server. ``virtual_host`` The name of the virtual host to work with. This virtual host must exist on the server, and the user must have access to it. Default is ""/"". ``port`` The port of the AMQP server. Default is ``5672`` (amqp).``insist`` Insist on connecting to a server. In a configuration with multiple``connect_timeout`` The timeout in seconds before the client gives up connecting to the server. The default is no timeout. ``ssl`` Use SSL to connect to the server. The default is False.``connection`` The above mentioned Connection object. ``queue`` Name of the queue. ``exchange`` Name of the exchange the queue binds to. ``routing_key`` The interpretation of the routing key depends on the value of the ``exchange_type`` attribute. Direct exchange If the routing key property of the message and the ``routing_key`` attribute of the queue are identical, then the message is forwarded to the queue. Fanout exchange Messages are forwarded to the queues bound the exchange, even if the binding does not have a key. Topic exchange If the routing key property of the message matches the routing key of the key according to a primitive pattern matching scheme, then the message is forwarded to the queue. The message routing key then consists of words separated by dots (``.``, like domain names), and two special characters are available; star (``*``) and hash (``#``). The star matches any word, and the hash matches zero or more words. For example ``.stock.#`` matches the routing keys ``usd.stock`` and ``eur.stock.db`` but not ``stock.nasdaq``. ``durable`` This flag determines the durability of both exchanges and queues; durable exchanges and queues remain active when a RabbitMQ server restarts.``auto_delete`` If set, the exchange is deleted when all queues have finished using it.``exclusive`` Exclusive queues (such as non-shared) may only be consumed from by the current connection. When exclusive is on, this also implies ``auto_delete``. Default is False. ``exchange_type`` AMQP defines several default exchange types (routing algorithms) that covers most of the common messaging use cases. ``auto_ack`` Acknowledgment is handled automatically once messages are received. By default ``auto_ack`` is set to False, and the receiver is required to manually``no_ack`` It disable acknowledgment on the server-side. This is different from ``auto_ack`` in that acknowledgment is turned off altogether. This functionality increases performance but at the cost of reliability. Messages can get lost if a client dies before it can deliver them to the application. ``auto_declare`` If this is True and the exchange name is set, the exchange will be automatically declared at instantiation. Auto declare is on by default.``delivery_mode`` The default delivery mode used for messages. The value is an integer. The following delivery modes are supported by RabbitMQ: ``1`` (transient) The message is transient. Which means it is stored in memory only, and is lost if the server dies or restarts. ``2`` (persistent) The message is persistent. Which means the message is stored both in-memory, and on disk, and therefore preserved if the server dies or restarts. The default value is ``2`` (persistent). During a send operation, Publishers can override the delivery mode of messages so that, for example, transient messages can be sent over a durable queue.","AMQP is the messaging technology chosen by the OpenStack cloud. The AMQP.. 'rpc.call' and 'rpc.cast') over AMQP by providing an adapter class which take cares of marshaling and unmarshaling of messages into function calls. Each Nova service (for example Compute, Scheduler, etc.) create two queues at the'NODE-TYPE.NODE-ID' (for example compute.hostname) and another, which accepts messages with routing keys as generic 'NODE-TYPE' (for example compute). The former is used specifically when Nova-API needs to redirect commands to a specific node like 'euca-terminate instance'. In this case, only the compute node whose host's hypervisor is running the virtual machine can kill the instance. The API acts as a consumer when RPC calls are request/response, otherwise it acts as a publisher only.via two operations: 1) rpc.call and ii) rpc.cast; a Worker is a component that receives messages from the queuing system and reply accordingly to rpc.call operations.* Topic Publisher: a Topic Publisher comes to life when an rpc.call or an rpc.cast operation is executed; this object is instantiated and used to push a message to the queuing system. Every publisher connects always to the same* Direct Consumer: a Direct Consumer comes to life if (an only if) a rpc.call operation is executed; this object is instantiated and used to receive a response message from the queuing system; Every consumer connects to a unique direct-based exchange via a unique exclusive queue; its life-cycle is limited to the message delivery; the exchange and queue identifiers are determined by a UUID generator, and are marshaled in the message sent by the Topic Publisher (only rpc.call operations). * Topic Consumer: a Topic Consumer comes to life as soon as a Worker is instantiated and exists throughout its life-cycle; this object is used to receive messages from the queue and it invokes the appropriate action as defined by the Worker role. A Topic Consumer connects to the same topic-based exchange either via a shared queue or via a unique exclusive queue. Every Worker has two topic consumers, one that is addressed only during rpc.cast operations (and it connects to a shared queue whose exchange key is 'topic') and the other that is addressed only during rpc.call operations (and it connects to a unique queue whose exchange key is 'topic.host'). * Direct Publisher: a Direct Publisher comes to life only during rpc.call operations and it is instantiated to return the message required by the request/response operation. The object connects to a direct-based exchange whose identity is dictated by the incoming message. * Topic Exchange: The Exchange is a routing table that exists in the context of a virtual host (the multi-tenancy mechanism provided by Qpid or RabbitMQ); its type (such as topic vs. direct) determines the routing policy; a message broker node will have only one topic-based exchange for every topic in Nova. * Direct Exchange: this is a routing table that is created during rpc.call operations; there are many instances of this kind of exchange throughout the life-cycle of a message broker node, one for each rpc.call invoked. * Queue Element: A Queue is a message bucket. Messages are kept in the queue until a Consumer (either Topic or Direct Consumer) connects to the queue and fetch it. Queues can be shared or can be exclusive. Queues whose routing key is 'topic' are shared amongst Workers of the same personality... The diagram below shows the message flow during an rpc.call operation: Consumer dictated by the routing key (such as 'msg_id') and passed to the.. The diagram below shows the message flow during an rpc.cast operation:.. * Throughput of API calls: the number of API calls (more precisely rpc.call ops) being served by the OpenStack cloud dictates the number of direct-based exchanges, related queues and direct consumers connected to them. * Number of Workers: there is one queue shared amongst workers with the same personality; however there are as many exclusive queues as the number of workers; the number of workers dictates also the number of routing keys within the topic-based exchange, which is shared amongst all workers. 1. compute.phantom (phantom is hostname) 2. compute 3. network.phantom (phantom is hostname) 4. network 5. scheduler.phantom (phantom is hostname) 6. scheduler.. * Hostname: The hostname to the AMQP server. * Userid: A valid username used to authenticate to the server. * Password: The password used to authenticate to the server. * Virtual_host: The name of the virtual host to work with. This virtual host must exist on the server, and the user must have access to it. Default is ""/"". * Port: The port of the AMQP server. Default is 5672 (amqp).* Insist: insist on connecting to a server. In a configuration with multiple* Connect_timeout: the timeout in seconds before the client gives up connecting to the server. The default is no timeout. * SSL: use SSL to connect to the server. The default is False.* Connection: the above mentioned Connection object. * Queue: name of the queue. * Exchange: name of the exchange the queue binds to. * Routing_key: the interpretation of the routing key depends on the value of the exchange_type attribute. * Direct exchange: if the routing key property of the message and the routing_key attribute of the queue are identical, then the message is forwarded to the queue. * Fanout exchange: messages are forwarded to the queues bound the exchange, even if the binding does not have a key. * Topic exchange: if the routing key property of the message matches the routing key of the key according to a primitive pattern matching scheme, then the message is forwarded to the queue. The message routing key then consists of words separated by dots (""."", like domain names), and two special characters are available; star ("""") and hash (""#""). The star matches any word, and the hash matches zero or more words. For example "".stock.#"" matches the routing keys ""usd.stock"" and ""eur.stock.db"" but not ""stock.nasdaq"". * Durable: this flag determines the durability of both exchanges and queues; durable exchanges and queues remain active when a RabbitMQ server restarts.* Auto_delete: if set, the exchange is deleted when all queues have finished using it. Default is False. * Exclusive: exclusive queues (such as non-shared) may only be consumed from by the current connection. When exclusive is on, this also implies auto_delete.* Exchange_type: AMQP defines several default exchange types (routing algorithms) that covers most of the common messaging use cases. * Auto_ack: acknowledgment is handled automatically once messages are received. By default auto_ack is set to False, and the receiver is required to manually* No_ack: it disable acknowledgment on the server-side. This is different from auto_ack in that acknowledgment is turned off altogether. This functionality increases performance but at the cost of reliability. Messages can get lost if a client dies before it can deliver them to the application. * Auto_declare: if this is True and the exchange name is set, the exchange will be automatically declared at instantiation. Auto declare is on by default.* Delivery_mode: the default delivery mode used for messages. The value is an integer. The following delivery modes are supported by RabbitMQ: * 1 or ""transient"": the message is transient. Which means it is stored in memory only, and is lost if the server dies or restarts. * 2 or ""persistent"": the message is persistent. Which means the message is stored both in-memory, and on disk, and therefore preserved if the server dies or restarts. The default value is 2 (persistent). During a send operation, Publishers can override the delivery mode of messages so that, for example, transient messages can be sent over a durable queue.",152,130
openstack%2Fnova~master~I36cd7513fa5d482b6cd85a062eace21704c49f85,openstack/nova,master,I36cd7513fa5d482b6cd85a062eace21704c49f85,reflow rpc doc to 80 columns,MERGED,2017-08-03 12:18:11.000000000,2017-08-21 11:36:56.000000000,2017-08-03 16:40:21.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15524}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 12:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f025bc60dc55684548f8ba398fd9e2f6c0fe01b8', 'message': 'reflow rpc doc to 80 columns\n\nAnd add some additional horizontal white space to make it easier to\nunderstand different long bullets are different.\n\nPart of bp: doc-migration\n\nChange-Id: I36cd7513fa5d482b6cd85a062eace21704c49f85\n'}, {'number': 2, 'created': '2017-08-03 12:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae953d9d8aed8ffad4804f0a6ebaf32ab89057a3', 'message': 'reflow rpc doc to 80 columns\n\nAnd add some additional horizontal white space to make it easier to\nunderstand different long bullets are different.\n\nPart of bp: doc-migration\n\nChange-Id: I36cd7513fa5d482b6cd85a062eace21704c49f85\n'}, {'number': 3, 'created': '2017-08-03 13:29:11.000000000', 'files': ['doc/source/reference/rpc.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a87afe2fc256a4539de85ae46ca2f053a09ae544', 'message': 'reflow rpc doc to 80 columns\n\nAnd add some additional horizontal white space to make it easier to\nunderstand different long bullets are different.\n\nPart of bp: doc-migration\n\nChange-Id: I36cd7513fa5d482b6cd85a062eace21704c49f85\n'}]",7,490455,a87afe2fc256a4539de85ae46ca2f053a09ae544,22,9,3,2750,,,0,"reflow rpc doc to 80 columns

And add some additional horizontal white space to make it easier to
understand different long bullets are different.

Part of bp: doc-migration

Change-Id: I36cd7513fa5d482b6cd85a062eace21704c49f85
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/490455/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/rpc.rst'],1,f025bc60dc55684548f8ba398fd9e2f6c0fe01b8,bp/doc-migration,"AMQP is the messaging technology chosen by the OpenStack cloud. The AMQP broker, either RabbitMQ or Qpid, sits between any two Nova components and allows them to communicate in a loosely coupled fashion. More precisely, Nova components (the compute fabric of OpenStack) use Remote Procedure Calls (RPC hereinafter) to communicate to one another; however such a paradigm is built atop the publish/subscribe paradigm so that the following benefits can be achieved:Nova uses direct, fanout, and topic-based exchanges. The architecture looks like the one depicted in the figure below:Nova implements RPC (both request+response, and one-way, respectively nicknamed 'rpc.call' and 'rpc.cast') over AMQP by providing an adapter class which take cares of marshaling and unmarshaling of messages into function calls. Each Nova service (for example Compute, Scheduler, etc.) create two queues at the initialization time, one which accepts messages with routing keys 'NODE-TYPE.NODE-ID' (for example compute.hostname) and another, which accepts messages with routing keys as generic 'NODE-TYPE' (for example compute). The former is used specifically when Nova-API needs to redirect commands to a specific node like 'euca-terminate instance'. In this case, only the compute node whose host's hypervisor is running the virtual machine can kill the instance. The API acts as a consumer when RPC calls are request/response, otherwise it acts as a publisher only.The figure below shows the internals of a message broker node (referred to as a RabbitMQ node in the diagrams) when a single instance is deployed and shared in an OpenStack cloud. Every Nova component connects to the message broker and, depending on its personality (for example a compute node or a network node), may use the queue either as an Invoker (such as API or Scheduler) or a Worker (such as Compute or Network). Invokers and Workers do not actually exist in the Nova object model, but we are going to use them as an abstraction for sake of clarity. An Invoker is a component that sends messages in the queuing system via two operations: 1) rpc.call and ii) rpc.cast; a Worker is a component that receives messages from the queuing system and reply accordingly to rpc.call operations.* Topic Publisher: a Topic Publisher comes to life when an rpc.call or an rpc.cast operation is executed; this object is instantiated and used to push a message to the queuing system. Every publisher connects always to the same topic-based exchange; its life-cycle is limited to the message delivery. * Direct Consumer: a Direct Consumer comes to life if (an only if) a rpc.call operation is executed; this object is instantiated and used to receive a response message from the queuing system; Every consumer connects to a unique direct-based exchange via a unique exclusive queue; its life-cycle is limited to the message delivery; the exchange and queue identifiers are determined by a UUID generator, and are marshaled in the message sent by the Topic Publisher (only rpc.call operations). * Topic Consumer: a Topic Consumer comes to life as soon as a Worker is instantiated and exists throughout its life-cycle; this object is used to receive messages from the queue and it invokes the appropriate action as defined by the Worker role. A Topic Consumer connects to the same topic-based exchange either via a shared queue or via a unique exclusive queue. Every Worker has two topic consumers, one that is addressed only during rpc.cast operations (and it connects to a shared queue whose exchange key is 'topic') and the other that is addressed only during rpc.call operations (and it connects to a unique queue whose exchange key is 'topic.host'). * Direct Publisher: a Direct Publisher comes to life only during rpc.call operations and it is instantiated to return the message required by the request/response operation. The object connects to a direct-based exchange whose identity is dictated by the incoming message. * Topic Exchange: The Exchange is a routing table that exists in the context of a virtual host (the multi-tenancy mechanism provided by Qpid or RabbitMQ); its type (such as topic vs. direct) determines the routing policy; a message broker node will have only one topic-based exchange for every topic in Nova. * Direct Exchange: this is a routing table that is created during rpc.call operations; there are many instances of this kind of exchange throughout the life-cycle of a message broker node, one for each rpc.call invoked. * Queue Element: A Queue is a message bucket. Messages are kept in the queue until a Consumer (either Topic or Direct Consumer) connects to the queue and fetch it. Queues can be shared or can be exclusive. Queues whose routing key is 'topic' are shared amongst Workers of the same personality.1. a Topic Publisher is instantiated to send the message request to the queuing system; immediately before the publishing operation, a Direct Consumer is instantiated to wait for the response message. 2. once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic.host') and passed to the Worker in charge of the task. 3. once the task is completed, a Direct Publisher is allocated to send the response message to the queuing system. 4. once the message is dispatched by the exchange, it is fetched by the Direct Consumer dictated by the routing key (such as 'msg_id') and passed to the Invoker. 1. A Topic Publisher is instantiated to send the message request to the queuing system. 2. Once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic') and passed to the Worker in charge of the task. At any given time the load of a message broker node running either Qpid or RabbitMQ is function of the following parameters: * Throughput of API calls: the number of API calls (more precisely rpc.call ops) being served by the OpenStack cloud dictates the number of direct-based exchanges, related queues and direct consumers connected to them. * Number of Workers: there is one queue shared amongst workers with the same personality; however there are as many exclusive queues as the number of workers; the number of workers dictates also the number of routing keys within the topic-based exchange, which is shared amongst all workers. The figure below shows the status of a RabbitMQ node after Nova components' bootstrap in a test environment. Exchanges and queues being created by Nova components are:Nova uses Kombu to connect to the RabbitMQ environment. Kombu is a Python library that in turn uses AMQPLib, a library that implements the standard AMQP 0.8 at the time of writing. When using Kombu, Invokers and Workers need the following parameters in order to instantiate a Connection object that connects to the RabbitMQ server (please note that most of the following material can be also found in the Kombu documentation; it has been summarized and revised here for sake of clarity):* Virtual_host: The name of the virtual host to work with. This virtual host must exist on the server, and the user must have access to it. Default is ""/"".* Insist: insist on connecting to a server. In a configuration with multiple load-sharing servers, the Insist option tells the server that the client is insisting on a connection to the specified server. Default is False. * Connect_timeout: the timeout in seconds before the client gives up connecting to the server. The default is no timeout. * Direct exchange: if the routing key property of the message and the routing_key attribute of the queue are identical, then the message is forwarded to the queue. * Fanout exchange: messages are forwarded to the queues bound the exchange, even if the binding does not have a key. * Topic exchange: if the routing key property of the message matches the routing key of the key according to a primitive pattern matching scheme, then the message is forwarded to the queue. The message routing key then consists of words separated by dots (""."", like domain names), and two special characters are available; star ("""") and hash (""#""). The star matches any word, and the hash matches zero or more words. For example "".stock.#"" matches the routing keys ""usd.stock"" and ""eur.stock.db"" but not ""stock.nasdaq"". * Durable: this flag determines the durability of both exchanges and queues; durable exchanges and queues remain active when a RabbitMQ server restarts. Non-durable exchanges/queues (transient exchanges/queues) are purged when a server restarts. It is worth noting that AMQP specifies that durable queues cannot bind to transient exchanges. Default is True. * Auto_delete: if set, the exchange is deleted when all queues have finished using it. Default is False. * Exclusive: exclusive queues (such as non-shared) may only be consumed from by the current connection. When exclusive is on, this also implies auto_delete. Default is False. * Exchange_type: AMQP defines several default exchange types (routing algorithms) that covers most of the common messaging use cases. * Auto_ack: acknowledgment is handled automatically once messages are received. By default auto_ack is set to False, and the receiver is required to manually handle acknowledgment. * No_ack: it disable acknowledgment on the server-side. This is different from auto_ack in that acknowledgment is turned off altogether. This functionality increases performance but at the cost of reliability. Messages can get lost if a client dies before it can deliver them to the application. * Auto_declare: if this is True and the exchange name is set, the exchange will be automatically declared at instantiation. Auto declare is on by default. Publishers specify most the parameters of Consumers (such as they do not specify a queue name), but they can also specify the following: * Delivery_mode: the default delivery mode used for messages. The value is an integer. The following delivery modes are supported by RabbitMQ: * 1 or ""transient"": the message is transient. Which means it is stored in memory only, and is lost if the server dies or restarts. * 2 or ""persistent"": the message is persistent. Which means the message is stored both in-memory, and on disk, and therefore preserved if the server dies or restarts. The default value is 2 (persistent). During a send operation, Publishers can override the delivery mode of messages so that, for example, transient messages can be sent over a durable queue.","AMQP is the messaging technology chosen by the OpenStack cloud. The AMQP broker, either RabbitMQ or Qpid, sits between any two Nova components and allows them to communicate in a loosely coupled fashion. More precisely, Nova components (the compute fabric of OpenStack) use Remote Procedure Calls (RPC hereinafter) to communicate to one another; however such a paradigm is built atop the publish/subscribe paradigm so that the following benefits can be achieved:Nova uses direct, fanout, and topic-based exchanges. The architecture looks like the one depicted in the figure below:Nova implements RPC (both request+response, and one-way, respectively nicknamed 'rpc.call' and 'rpc.cast') over AMQP by providing an adapter class which take cares of marshaling and unmarshaling of messages into function calls. Each Nova service (for example Compute, Scheduler, etc.) create two queues at the initialization time, one which accepts messages with routing keys 'NODE-TYPE.NODE-ID' (for example compute.hostname) and another, which accepts messages with routing keys as generic 'NODE-TYPE' (for example compute). The former is used specifically when Nova-API needs to redirect commands to a specific node like 'euca-terminate instance'. In this case, only the compute node whose host's hypervisor is running the virtual machine can kill the instance. The API acts as a consumer when RPC calls are request/response, otherwise it acts as a publisher only.The figure below shows the internals of a message broker node (referred to as a RabbitMQ node in the diagrams) when a single instance is deployed and shared in an OpenStack cloud. Every Nova component connects to the message broker and, depending on its personality (for example a compute node or a network node), may use the queue either as an Invoker (such as API or Scheduler) or a Worker (such as Compute or Network). Invokers and Workers do not actually exist in the Nova object model, but we are going to use them as an abstraction for sake of clarity. An Invoker is a component that sends messages in the queuing system via two operations: 1) rpc.call and ii) rpc.cast; a Worker is a component that receives messages from the queuing system and reply accordingly to rpc.call operations.* Topic Publisher: a Topic Publisher comes to life when an rpc.call or an rpc.cast operation is executed; this object is instantiated and used to push a message to the queuing system. Every publisher connects always to the same topic-based exchange; its life-cycle is limited to the message delivery. * Direct Consumer: a Direct Consumer comes to life if (an only if) a rpc.call operation is executed; this object is instantiated and used to receive a response message from the queuing system; Every consumer connects to a unique direct-based exchange via a unique exclusive queue; its life-cycle is limited to the message delivery; the exchange and queue identifiers are determined by a UUID generator, and are marshaled in the message sent by the Topic Publisher (only rpc.call operations). * Topic Consumer: a Topic Consumer comes to life as soon as a Worker is instantiated and exists throughout its life-cycle; this object is used to receive messages from the queue and it invokes the appropriate action as defined by the Worker role. A Topic Consumer connects to the same topic-based exchange either via a shared queue or via a unique exclusive queue. Every Worker has two topic consumers, one that is addressed only during rpc.cast operations (and it connects to a shared queue whose exchange key is 'topic') and the other that is addressed only during rpc.call operations (and it connects to a unique queue whose exchange key is 'topic.host'). * Direct Publisher: a Direct Publisher comes to life only during rpc.call operations and it is instantiated to return the message required by the request/response operation. The object connects to a direct-based exchange whose identity is dictated by the incoming message. * Topic Exchange: The Exchange is a routing table that exists in the context of a virtual host (the multi-tenancy mechanism provided by Qpid or RabbitMQ); its type (such as topic vs. direct) determines the routing policy; a message broker node will have only one topic-based exchange for every topic in Nova. * Direct Exchange: this is a routing table that is created during rpc.call operations; there are many instances of this kind of exchange throughout the life-cycle of a message broker node, one for each rpc.call invoked. * Queue Element: A Queue is a message bucket. Messages are kept in the queue until a Consumer (either Topic or Direct Consumer) connects to the queue and fetch it. Queues can be shared or can be exclusive. Queues whose routing key is 'topic' are shared amongst Workers of the same personality.1. a Topic Publisher is instantiated to send the message request to the queuing system; immediately before the publishing operation, a Direct Consumer is instantiated to wait for the response message. 2. once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic.host') and passed to the Worker in charge of the task. 3. once the task is completed, a Direct Publisher is allocated to send the response message to the queuing system. 4. once the message is dispatched by the exchange, it is fetched by the Direct Consumer dictated by the routing key (such as 'msg_id') and passed to the Invoker.1. A Topic Publisher is instantiated to send the message request to the queuing system. 2. Once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic') and passed to the Worker in charge of the task.At any given time the load of a message broker node running either Qpid or RabbitMQ is function of the following parameters: * Throughput of API calls: the number of API calls (more precisely rpc.call ops) being served by the OpenStack cloud dictates the number of direct-based exchanges, related queues and direct consumers connected to them. * Number of Workers: there is one queue shared amongst workers with the same personality; however there are as many exclusive queues as the number of workers; the number of workers dictates also the number of routing keys within the topic-based exchange, which is shared amongst all workers. The figure below shows the status of a RabbitMQ node after Nova components' bootstrap in a test environment. Exchanges and queues being created by Nova components are:Nova uses Kombu to connect to the RabbitMQ environment. Kombu is a Python library that in turn uses AMQPLib, a library that implements the standard AMQP 0.8 at the time of writing. When using Kombu, Invokers and Workers need the following parameters in order to instantiate a Connection object that connects to the RabbitMQ server (please note that most of the following material can be also found in the Kombu documentation; it has been summarized and revised here for sake of clarity):* Virtual_host: The name of the virtual host to work with. This virtual host must exist on the server, and the user must have access to it. Default is ""/"".* Insist: insist on connecting to a server. In a configuration with multiple load-sharing servers, the Insist option tells the server that the client is insisting on a connection to the specified server. Default is False. * Connect_timeout: the timeout in seconds before the client gives up connecting to the server. The default is no timeout. * Direct exchange: if the routing key property of the message and the routing_key attribute of the queue are identical, then the message is forwarded to the queue. * Fanout exchange: messages are forwarded to the queues bound the exchange, even if the binding does not have a key. * Topic exchange: if the routing key property of the message matches the routing key of the key according to a primitive pattern matching scheme, then the message is forwarded to the queue. The message routing key then consists of words separated by dots (""."", like domain names), and two special characters are available; star ("""") and hash (""#""). The star matches any word, and the hash matches zero or more words. For example "".stock.#"" matches the routing keys ""usd.stock"" and ""eur.stock.db"" but not ""stock.nasdaq"". * Durable: this flag determines the durability of both exchanges and queues; durable exchanges and queues remain active when a RabbitMQ server restarts. Non-durable exchanges/queues (transient exchanges/queues) are purged when a server restarts. It is worth noting that AMQP specifies that durable queues cannot bind to transient exchanges. Default is True. * Auto_delete: if set, the exchange is deleted when all queues have finished using it. Default is False. * Exclusive: exclusive queues (such as non-shared) may only be consumed from by the current connection. When exclusive is on, this also implies auto_delete. Default is False. * Exchange_type: AMQP defines several default exchange types (routing algorithms) that covers most of the common messaging use cases. * Auto_ack: acknowledgment is handled automatically once messages are received. By default auto_ack is set to False, and the receiver is required to manually handle acknowledgment. * No_ack: it disable acknowledgment on the server-side. This is different from auto_ack in that acknowledgment is turned off altogether. This functionality increases performance but at the cost of reliability. Messages can get lost if a client dies before it can deliver them to the application. * Auto_declare: if this is True and the exchange name is set, the exchange will be automatically declared at instantiation. Auto declare is on by default. Publishers specify most the parameters of Consumers (such as they do not specify a queue name), but they can also specify the following: * Delivery_mode: the default delivery mode used for messages. The value is an integer. The following delivery modes are supported by RabbitMQ: * 1 or ""transient"": the message is transient. Which means it is stored in memory only, and is lost if the server dies or restarts. * 2 or ""persistent"": the message is persistent. Which means the message is stored both in-memory, and on disk, and therefore preserved if the server dies or restarts. The default value is 2 (persistent). During a send operation, Publishers can override the delivery mode of messages so that, for example, transient messages can be sent over a durable queue.",207,40
openstack%2Fnova~master~I2f36ea1d3feaa5f40f34d6884a543ad287e0c252,openstack/nova,master,I2f36ea1d3feaa5f40f34d6884a543ad287e0c252,Split Compute.errors_out_migration into a separate contextmanager,MERGED,2017-07-20 16:23:08.000000000,2017-08-21 11:36:45.000000000,2017-08-07 23:37:07.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 20040}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-07-20 16:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1869887fb6d566f50d131f1f709cc5d64f4d664', 'message': 'Split Compute.errors_out_migration into a separate contextmanager\n\nThis refactor is in support of subsequent change Ib6156d8e. We also\nadd a test for the migration status exclusion we intend to remove\nin support of change I26706a93.\n\nChange-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252\n'}, {'number': 2, 'created': '2017-07-26 16:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c249fbebad9232cf1f00c1df63a6fbb72dce39f1', 'message': 'Split Compute.errors_out_migration into a separate contextmanager\n\nThis refactor is in support of subsequent change Ib6156d8e. We also\nadd a test for the migration status exclusion we intend to remove\nin support of change I26706a93.\n\nChange-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252\n'}, {'number': 3, 'created': '2017-08-01 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9b4d810b37520f3e588d6413a00cc8c6d5eccef', 'message': 'Split Compute.errors_out_migration into a separate contextmanager\n\nThis refactor is in support of subsequent change Ib6156d8e. We also\nadd a test for the migration status exclusion we intend to remove\nin support of change I26706a93.\n\nChange-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252\n'}, {'number': 4, 'created': '2017-08-02 12:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/643cc2cd29f4f26b822d919a22661c81dd7ab8ff', 'message': 'Split Compute.errors_out_migration into a separate contextmanager\n\nThis refactor is in support of subsequent change Ib6156d8e. We also\nadd a test for the migration status exclusion we intend to remove\nin support of change I26706a93.\n\nChange-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252\n'}, {'number': 5, 'created': '2017-08-03 12:09:53.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a96d9f4bfe9994829a2655243e8fad1927a8d517', 'message': 'Split Compute.errors_out_migration into a separate contextmanager\n\nThis refactor is in support of subsequent change Ib6156d8e. We also\nadd a test for the migration status exclusion we intend to remove\nin support of change I26706a93.\n\nChange-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252\n'}]",0,485734,a96d9f4bfe9994829a2655243e8fad1927a8d517,98,21,5,9555,,,0,"Split Compute.errors_out_migration into a separate contextmanager

This refactor is in support of subsequent change Ib6156d8e. We also
add a test for the migration status exclusion we intend to remove
in support of change I26706a93.

Change-Id: I2f36ea1d3feaa5f40f34d6884a543ad287e0c252
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/485734/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,c1869887fb6d566f50d131f1f709cc5d64f4d664,bug/1686703,"@contextlib.contextmanager def errors_out_migration_ctxt(migration): """"""Context manager to error out migration on failure."""""" try: yield except Exception as ex: with excutils.save_and_reraise_exception(): # NOTE(rajesht): If InstanceNotFound error is thrown from # decorated function, migration status should be set to # 'error', without checking current migration status. if not isinstance(ex, exception.InstanceNotFound): status = migration.status if status not in ['migrating', 'post-migrating']: return migration.status = 'error' try: with migration.obj_as_admin(): migration.save() except Exception: LOG.debug('Error setting migration status for instance %s.', migration.instance_uuid, exc_info=True) wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) migration = keyed_args['migration'] with errors_out_migration_ctxt(migration):"," try: except Exception as ex: with excutils.save_and_reraise_exception(): wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) migration = keyed_args['migration'] # NOTE(rajesht): If InstanceNotFound error is thrown from # decorated function, migration status should be set to # 'error', without checking current migration status. if not isinstance(ex, exception.InstanceNotFound): status = migration.status if status not in ['migrating', 'post-migrating']: return migration.status = 'error' try: with migration.obj_as_admin(): migration.save() except Exception: LOG.debug('Error setting migration status ' 'for instance %s.', migration.instance_uuid, exc_info=True)",98,50
openstack%2Fnova~master~Ia0355c14fba16416d0d6068d2478377dccfa2ed9,openstack/nova,master,Ia0355c14fba16416d0d6068d2478377dccfa2ed9,fix list rendering in policy-enforcement,MERGED,2017-08-03 12:10:44.000000000,2017-08-21 11:36:30.000000000,2017-08-03 13:58:59.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 12:10:44.000000000', 'files': ['doc/source/reference/policy-enforcement.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea669d3488f6aec685028a92edde47f99cbcf0d1', 'message': 'fix list rendering in policy-enforcement\n\nPart of bp: doc-migration\n\nChange-Id: Ia0355c14fba16416d0d6068d2478377dccfa2ed9\n'}]",0,490451,ea669d3488f6aec685028a92edde47f99cbcf0d1,13,9,1,2750,,,0,"fix list rendering in policy-enforcement

Part of bp: doc-migration

Change-Id: Ia0355c14fba16416d0d6068d2478377dccfa2ed9
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/490451/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/policy-enforcement.rst'],1,ea669d3488f6aec685028a92edde47f99cbcf0d1,bp/doc-migration,"* EC2 API: Use prefix ""ec2_api"". The rule looks like ""ec2_api:[action]"" * Nova V2 API: After we move to V2.1, we needn't spend time to change V2 api rule, and needn't to bother deployer upgrade their policy config. So just keep V2 API policy rule named as before. * Nova V2.1 API: We name the policy rule as ""os_compute_api:[extension]:[action]"". The core API may be changed in the future, so we needn't name them as ""compute"" or ""compute_extension"" to distinguish the core or extension API.* policy.json: It only contains the generic rule, like: :: ""context_is_admin"": ""role:admin"", ""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"", ""default"": ""rule:admin_or_owner"", * policy.d/00-ec2-api.conf: It contains all the policy rules for EC2 API. * policy.d/00-v2-api.conf: It contains all the policy rules for nova V2 API. * policy.d/00-v2.1-api.conf: It contains all the policy rules for nova v2.1 API."," * EC2 API: Use prefix ""ec2_api"". The rule looks like ""ec2_api:[action]"" * Nova V2 API: After we move to V2.1, we needn't spend time to change V2 api rule, and needn't to bother deployer upgrade their policy config. So just keep V2 API policy rule named as before. * Nova V2.1 API: We name the policy rule as ""os_compute_api:[extension]:[action]"". The core API may be changed in the future, so we needn't name them as ""compute"" or ""compute_extension"" to distinguish the core or extension API. * policy.json: It only contains the generic rule, like: :: ""context_is_admin"": ""role:admin"", ""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"", ""default"": ""rule:admin_or_owner"", * policy.d/00-ec2-api.conf: It contains all the policy rules for EC2 API. * policy.d/00-v2-api.conf: It contains all the policy rules for nova V2 API. * policy.d/00-v2.1-api.conf: It contains all the policy rules for nova v2.1 API.",16,16
openstack%2Fnova~master~If4b369a8d9a1acda0d8290183dd4f94159b6a3c9,openstack/nova,master,If4b369a8d9a1acda0d8290183dd4f94159b6a3c9,fix list rendering in cells,MERGED,2017-08-03 12:06:23.000000000,2017-08-21 11:36:23.000000000,2017-08-03 13:58:12.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 12:06:23.000000000', 'files': ['doc/source/user/cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6e5e521d2c9b39fc6b563bcd926da6b5bfad476', 'message': 'fix list rendering in cells\n\nPart of bp: doc-migration\n\nChange-Id: If4b369a8d9a1acda0d8290183dd4f94159b6a3c9\n'}]",0,490449,e6e5e521d2c9b39fc6b563bcd926da6b5bfad476,13,7,1,2750,,,0,"fix list rendering in cells

Part of bp: doc-migration

Change-Id: If4b369a8d9a1acda0d8290183dd4f94159b6a3c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/490449/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cells.rst'],1,e6e5e521d2c9b39fc6b563bcd926da6b5bfad476,bp/doc-migration,"1. The ""API"" database 2. One special ""cell"" database called ""cell0"" 3. One (or eventually more) ""cell"" databases"," 1. The ""API"" database 2. One special ""cell"" database called ""cell0"" 3. One (or eventually more) ""cell"" databases",3,3
openstack%2Fnova~master~I16634edbc562aff69744e5d7c7275689326ab8d0,openstack/nova,master,I16634edbc562aff69744e5d7c7275689326ab8d0,fix list rendering in aggregates,MERGED,2017-08-03 12:05:06.000000000,2017-08-21 11:36:16.000000000,2017-08-03 13:57:23.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 10607}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 12:05:06.000000000', 'files': ['doc/source/user/aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/613f55c26a6ace2d4eb50fa8e7df267cc756a6a8', 'message': 'fix list rendering in aggregates\n\nList items need to be exactly 2 spaces off of the parent, and the top\nlevel left justified, otherwise <blockquote> gets thrown into the\nhtml.\n\nPart of bp: doc-migration\n\nChange-Id: I16634edbc562aff69744e5d7c7275689326ab8d0\n'}]",0,490448,613f55c26a6ace2d4eb50fa8e7df267cc756a6a8,14,9,1,2750,,,0,"fix list rendering in aggregates

List items need to be exactly 2 spaces off of the parent, and the top
level left justified, otherwise <blockquote> gets thrown into the
html.

Part of bp: doc-migration

Change-Id: I16634edbc562aff69744e5d7c7275689326ab8d0
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/490448/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/aggregates.rst'],1,613f55c26a6ace2d4eb50fa8e7df267cc756a6a8,bp/doc-migration,"* Aggregates * list aggregates: returns a list of all the host-aggregates (optionally filtered by availability zone) * create aggregate: creates an aggregate, takes a friendly name, etc. returns an id * show aggregate: shows the details of an aggregate (id, name, availability_zone, hosts and metadata) * update aggregate: updates the name and availability zone of an aggregate * set metadata: sets the metadata on an aggregate to the values supplied * delete aggregate: deletes an aggregate, it fails if the aggregate is not empty * add host: adds a host to the aggregate * remove host: removes a host from the aggregate * Hosts * start host maintenance (or evacuate-host): disallow a host to serve API requests and migrate instances to other hosts of the aggregate * stop host maintenance: (or rebalance-host): put the host back into operational mode, migrating instances back onto that host"," * Aggregates * list aggregates: returns a list of all the host-aggregates (optionally filtered by availability zone) * create aggregate: creates an aggregate, takes a friendly name, etc. returns an id * show aggregate: shows the details of an aggregate (id, name, availability_zone, hosts and metadata) * update aggregate: updates the name and availability zone of an aggregate * set metadata: sets the metadata on an aggregate to the values supplied * delete aggregate: deletes an aggregate, it fails if the aggregate is not empty * add host: adds a host to the aggregate * remove host: removes a host from the aggregate * Hosts * start host maintenance (or evacuate-host): disallow a host to serve API requests and migrate instances to other hosts of the aggregate * stop host maintenance: (or rebalance-host): put the host back into operational mode, migrating instances back onto that host",12,12
openstack%2Fnova~master~I6de7c2bffb08f370fcfbd86070c94263ee202f93,openstack/nova,master,I6de7c2bffb08f370fcfbd86070c94263ee202f93,[placement] Avoid error log on 405 response,MERGED,2017-08-02 13:22:54.000000000,2017-08-21 11:36:09.000000000,2017-08-10 11:26:38.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-08-02 13:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21f97ee7ae6bb3d1e275ed34cd079a0499ca9f7e', 'message': '[placement] Avoid error log on 405 response\n\nTreat HTTPMethodNotAllowed as a WSGI application rather than exception\nso that it is not treated as an ERROR by the FaultWrapper middleware.\nBad method detection is happening outside the context of WebOb wsgify\nhandling (which automatically catches Webob exceptions and transforms\nthem into appropriate responses) so we need to do the transformation\nitself.\n\nThis will help to avoid spurious noise in the logs. See the bug report\nfor more detail.\n\nThe existing gabbi functional tests confirm that 405 handling remains\ncorrect.\n\nChange-Id: I6de7c2bffb08f370fcfbd86070c94263ee202f93\nCloses-Bug: #1708167\n'}, {'number': 2, 'created': '2017-08-02 16:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c299e12698a95d4908c8f7c33c5a932bae0dcd2', 'message': '[placement] Avoid error log on 405 response\n\nTreat HTTPMethodNotAllowed as a WSGI application rather than exception\nso that it is not treated as an ERROR by the FaultWrapper middleware.\nBad method detection is happening outside the context of WebOb wsgify\nhandling (which automatically catches Webob exceptions and transforms\nthem into appropriate responses) so we need to do the transformation\nitself.\n\nThis will help to avoid spurious noise in the logs. See the bug report\nfor more detail.\n\nChange-Id: I6de7c2bffb08f370fcfbd86070c94263ee202f93\nCloses-Bug: #1708167\n'}, {'number': 3, 'created': '2017-08-02 20:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecabfc45c9e75003c9eb4499ed06800c8e88dbc9', 'message': '[placement] Avoid error log on 405 response\n\nTreat HTTPMethodNotAllowed as a WSGI application rather than exception\nso that it is not treated as an ERROR by the FaultWrapper middleware.\nBad method detection is happening outside the context of WebOb wsgify\nhandling (which automatically catches Webob exceptions and transforms\nthem into appropriate responses) so we need to do the transformation\nourself.\n\nThis will help to avoid spurious noise in the logs. See the bug report\nfor more detail.\n\nChange-Id: I6de7c2bffb08f370fcfbd86070c94263ee202f93\nCloses-Bug: #1708167\n'}, {'number': 4, 'created': '2017-08-03 11:08:51.000000000', 'files': ['nova/tests/unit/api/openstack/placement/test_handler.py', 'nova/api/openstack/placement/handler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a895c67b1c2be1a4be17203c06f023aaf371546', 'message': '[placement] Avoid error log on 405 response\n\nTreat HTTPMethodNotAllowed as a WSGI application rather than exception\nso that it is not treated as an uncaught exception and logged as an ERROR\nin the PlacementHandler before being caught in the FaultWrapper middleware.\nBad method detection is happening outside the context of WebOb wsgify\nhandling (which automatically catches Webob exceptions and transforms\nthem into appropriate responses) so we need to do the transformation\nourself.\n\nThis will help to avoid spurious noise in the logs. See the bug report\nfor more detail.\n\nChange-Id: I6de7c2bffb08f370fcfbd86070c94263ee202f93\nCloses-Bug: #1708167\n'}]",3,490021,7a895c67b1c2be1a4be17203c06f023aaf371546,53,17,4,11564,,,0,"[placement] Avoid error log on 405 response

Treat HTTPMethodNotAllowed as a WSGI application rather than exception
so that it is not treated as an uncaught exception and logged as an ERROR
in the PlacementHandler before being caught in the FaultWrapper middleware.
Bad method detection is happening outside the context of WebOb wsgify
handling (which automatically catches Webob exceptions and transforms
them into appropriate responses) so we need to do the transformation
ourself.

This will help to avoid spurious noise in the logs. See the bug report
for more detail.

Change-Id: I6de7c2bffb08f370fcfbd86070c94263ee202f93
Closes-Bug: #1708167
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/490021/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/handler.py'],1,21f97ee7ae6bb3d1e275ed34cd079a0499ca9f7e,bug/1708167," response = webob.exc.HTTPMethodNotAllowed( return response(environ, start_response)", raise webob.exc.HTTPMethodNotAllowed(,2,1
openstack%2Fnova~master~Ie8b311ca286601a47475b33ef80da272efc9be31,openstack/nova,master,Ie8b311ca286601a47475b33ef80da272efc9be31,fix list rendering in rpc doc,MERGED,2017-08-03 11:51:37.000000000,2017-08-21 11:36:04.000000000,2017-08-03 13:55:58.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 11:51:37.000000000', 'files': ['doc/source/reference/rpc.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dafd133ab89dc91829bff9a6676669750c5f21b4', 'message': 'fix list rendering in rpc doc\n\nlist bullets have to be exactly 2 spaces indented from the parent, and\nthe top level is left justified, otherwise we get lots of <blockquote>\nhtml tags inserted.\n\nPart of bp: doc-migration\n\nChange-Id: Ie8b311ca286601a47475b33ef80da272efc9be31\n'}]",1,490442,dafd133ab89dc91829bff9a6676669750c5f21b4,15,7,1,2750,,,0,"fix list rendering in rpc doc

list bullets have to be exactly 2 spaces indented from the parent, and
the top level is left justified, otherwise we get lots of <blockquote>
html tags inserted.

Part of bp: doc-migration

Change-Id: Ie8b311ca286601a47475b33ef80da272efc9be31
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/490442/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/rpc.rst'],1,dafd133ab89dc91829bff9a6676669750c5f21b4,bp/doc-migration,"* Decoupling between client and servant (such as the client does not need to know where the servant's reference is). * Full a-synchronism between client and servant (such as the client does not need the servant to run at the same time of the remote call). * Random balancing of remote calls (such as if more servants are up and running, one-way calls are transparently dispatched to the first available servant).* Topic Publisher: a Topic Publisher comes to life when an rpc.call or an rpc.cast operation is executed; this object is instantiated and used to push a message to the queuing system. Every publisher connects always to the same topic-based exchange; its life-cycle is limited to the message delivery. * Direct Consumer: a Direct Consumer comes to life if (an only if) a rpc.call operation is executed; this object is instantiated and used to receive a response message from the queuing system; Every consumer connects to a unique direct-based exchange via a unique exclusive queue; its life-cycle is limited to the message delivery; the exchange and queue identifiers are determined by a UUID generator, and are marshaled in the message sent by the Topic Publisher (only rpc.call operations). * Topic Consumer: a Topic Consumer comes to life as soon as a Worker is instantiated and exists throughout its life-cycle; this object is used to receive messages from the queue and it invokes the appropriate action as defined by the Worker role. A Topic Consumer connects to the same topic-based exchange either via a shared queue or via a unique exclusive queue. Every Worker has two topic consumers, one that is addressed only during rpc.cast operations (and it connects to a shared queue whose exchange key is 'topic') and the other that is addressed only during rpc.call operations (and it connects to a unique queue whose exchange key is 'topic.host'). * Direct Publisher: a Direct Publisher comes to life only during rpc.call operations and it is instantiated to return the message required by the request/response operation. The object connects to a direct-based exchange whose identity is dictated by the incoming message. * Topic Exchange: The Exchange is a routing table that exists in the context of a virtual host (the multi-tenancy mechanism provided by Qpid or RabbitMQ); its type (such as topic vs. direct) determines the routing policy; a message broker node will have only one topic-based exchange for every topic in Nova. * Direct Exchange: this is a routing table that is created during rpc.call operations; there are many instances of this kind of exchange throughout the life-cycle of a message broker node, one for each rpc.call invoked. * Queue Element: A Queue is a message bucket. Messages are kept in the queue until a Consumer (either Topic or Direct Consumer) connects to the queue and fetch it. Queues can be shared or can be exclusive. Queues whose routing key is 'topic' are shared amongst Workers of the same personality.1. a Topic Publisher is instantiated to send the message request to the queuing system; immediately before the publishing operation, a Direct Consumer is instantiated to wait for the response message. 2. once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic.host') and passed to the Worker in charge of the task. 3. once the task is completed, a Direct Publisher is allocated to send the response message to the queuing system. 4. once the message is dispatched by the exchange, it is fetched by the Direct Consumer dictated by the routing key (such as 'msg_id') and passed to the Invoker.1. A Topic Publisher is instantiated to send the message request to the queuing system. 2. Once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic') and passed to the Worker in charge of the task.* Throughput of API calls: the number of API calls (more precisely rpc.call ops) being served by the OpenStack cloud dictates the number of direct-based exchanges, related queues and direct consumers connected to them. * Number of Workers: there is one queue shared amongst workers with the same personality; however there are as many exclusive queues as the number of workers; the number of workers dictates also the number of routing keys within the topic-based exchange, which is shared amongst all workers.* Exchanges 1. nova (topic exchange) * Queues 1. compute.phantom (phantom is hostname) 2. compute 3. network.phantom (phantom is hostname) 4. network 5. scheduler.phantom (phantom is hostname) 6. scheduler* Hostname: The hostname to the AMQP server. * Userid: A valid username used to authenticate to the server. * Password: The password used to authenticate to the server. * Virtual_host: The name of the virtual host to work with. This virtual host must exist on the server, and the user must have access to it. Default is ""/"". * Port: The port of the AMQP server. Default is 5672 (amqp).* Insist: insist on connecting to a server. In a configuration with multiple load-sharing servers, the Insist option tells the server that the client is insisting on a connection to the specified server. Default is False. * Connect_timeout: the timeout in seconds before the client gives up connecting to the server. The default is no timeout. * SSL: use SSL to connect to the server. The default is False.* Connection: the above mentioned Connection object. * Queue: name of the queue. * Exchange: name of the exchange the queue binds to. * Routing_key: the interpretation of the routing key depends on the value of the exchange_type attribute. * Direct exchange: if the routing key property of the message and the routing_key attribute of the queue are identical, then the message is forwarded to the queue. * Fanout exchange: messages are forwarded to the queues bound the exchange, even if the binding does not have a key. * Topic exchange: if the routing key property of the message matches the routing key of the key according to a primitive pattern matching scheme, then the message is forwarded to the queue. The message routing key then consists of words separated by dots (""."", like domain names), and two special characters are available; star ("""") and hash (""#""). The star matches any word, and the hash matches zero or more words. For example "".stock.#"" matches the routing keys ""usd.stock"" and ""eur.stock.db"" but not ""stock.nasdaq"". * Durable: this flag determines the durability of both exchanges and queues; durable exchanges and queues remain active when a RabbitMQ server restarts. Non-durable exchanges/queues (transient exchanges/queues) are purged when a server restarts. It is worth noting that AMQP specifies that durable queues cannot bind to transient exchanges. Default is True. * Auto_delete: if set, the exchange is deleted when all queues have finished using it. Default is False. * Exclusive: exclusive queues (such as non-shared) may only be consumed from by the current connection. When exclusive is on, this also implies auto_delete. Default is False. * Exchange_type: AMQP defines several default exchange types (routing algorithms) that covers most of the common messaging use cases. * Auto_ack: acknowledgment is handled automatically once messages are received. By default auto_ack is set to False, and the receiver is required to manually handle acknowledgment. * No_ack: it disable acknowledgment on the server-side. This is different from auto_ack in that acknowledgment is turned off altogether. This functionality increases performance but at the cost of reliability. Messages can get lost if a client dies before it can deliver them to the application. * Auto_declare: if this is True and the exchange name is set, the exchange will be automatically declared at instantiation. Auto declare is on by default. Publishers specify most the parameters of Consumers (such as they do not specify a queue name), but they can also specify the following: * Delivery_mode: the default delivery mode used for messages. The value is an integer. The following delivery modes are supported by RabbitMQ: * 1 or ""transient"": the message is transient. Which means it is stored in memory only, and is lost if the server dies or restarts. * 2 or ""persistent"": the message is persistent. Which means the message is stored both in-memory, and on disk, and therefore preserved if the server dies or restarts."," * Decoupling between client and servant (such as the client does not need to know where the servant's reference is). * Full a-synchronism between client and servant (such as the client does not need the servant to run at the same time of the remote call). * Random balancing of remote calls (such as if more servants are up and running, one-way calls are transparently dispatched to the first available servant). * Topic Publisher: a Topic Publisher comes to life when an rpc.call or an rpc.cast operation is executed; this object is instantiated and used to push a message to the queuing system. Every publisher connects always to the same topic-based exchange; its life-cycle is limited to the message delivery. * Direct Consumer: a Direct Consumer comes to life if (an only if) a rpc.call operation is executed; this object is instantiated and used to receive a response message from the queuing system; Every consumer connects to a unique direct-based exchange via a unique exclusive queue; its life-cycle is limited to the message delivery; the exchange and queue identifiers are determined by a UUID generator, and are marshaled in the message sent by the Topic Publisher (only rpc.call operations). * Topic Consumer: a Topic Consumer comes to life as soon as a Worker is instantiated and exists throughout its life-cycle; this object is used to receive messages from the queue and it invokes the appropriate action as defined by the Worker role. A Topic Consumer connects to the same topic-based exchange either via a shared queue or via a unique exclusive queue. Every Worker has two topic consumers, one that is addressed only during rpc.cast operations (and it connects to a shared queue whose exchange key is 'topic') and the other that is addressed only during rpc.call operations (and it connects to a unique queue whose exchange key is 'topic.host'). * Direct Publisher: a Direct Publisher comes to life only during rpc.call operations and it is instantiated to return the message required by the request/response operation. The object connects to a direct-based exchange whose identity is dictated by the incoming message. * Topic Exchange: The Exchange is a routing table that exists in the context of a virtual host (the multi-tenancy mechanism provided by Qpid or RabbitMQ); its type (such as topic vs. direct) determines the routing policy; a message broker node will have only one topic-based exchange for every topic in Nova. * Direct Exchange: this is a routing table that is created during rpc.call operations; there are many instances of this kind of exchange throughout the life-cycle of a message broker node, one for each rpc.call invoked. * Queue Element: A Queue is a message bucket. Messages are kept in the queue until a Consumer (either Topic or Direct Consumer) connects to the queue and fetch it. Queues can be shared or can be exclusive. Queues whose routing key is 'topic' are shared amongst Workers of the same personality. 1. a Topic Publisher is instantiated to send the message request to the queuing system; immediately before the publishing operation, a Direct Consumer is instantiated to wait for the response message. 2. once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic.host') and passed to the Worker in charge of the task. 3. once the task is completed, a Direct Publisher is allocated to send the response message to the queuing system. 4. once the message is dispatched by the exchange, it is fetched by the Direct Consumer dictated by the routing key (such as 'msg_id') and passed to the Invoker. 1. A Topic Publisher is instantiated to send the message request to the queuing system. 2. Once the message is dispatched by the exchange, it is fetched by the Topic Consumer dictated by the routing key (such as 'topic') and passed to the Worker in charge of the task. * Throughput of API calls: the number of API calls (more precisely rpc.call ops) being served by the OpenStack cloud dictates the number of direct-based exchanges, related queues and direct consumers connected to them. * Number of Workers: there is one queue shared amongst workers with the same personality; however there are as many exclusive queues as the number of workers; the number of workers dictates also the number of routing keys within the topic-based exchange, which is shared amongst all workers. * Exchanges 1. nova (topic exchange) * Queues 1. compute.phantom (phantom is hostname) 2. compute 3. network.phantom (phantom is hostname) 4. network 5. scheduler.phantom (phantom is hostname) 6. scheduler * Hostname: The hostname to the AMQP server. * Userid: A valid username used to authenticate to the server. * Password: The password used to authenticate to the server. * Virtual_host: The name of the virtual host to work with. This virtual host must exist on the server, and the user must have access to it. Default is ""/"". * Port: The port of the AMQP server. Default is 5672 (amqp). * Insist: insist on connecting to a server. In a configuration with multiple load-sharing servers, the Insist option tells the server that the client is insisting on a connection to the specified server. Default is False. * Connect_timeout: the timeout in seconds before the client gives up connecting to the server. The default is no timeout. * SSL: use SSL to connect to the server. The default is False. * Connection: the above mentioned Connection object. * Queue: name of the queue. * Exchange: name of the exchange the queue binds to. * Routing_key: the interpretation of the routing key depends on the value of the exchange_type attribute. * Direct exchange: if the routing key property of the message and the routing_key attribute of the queue are identical, then the message is forwarded to the queue. * Fanout exchange: messages are forwarded to the queues bound the exchange, even if the binding does not have a key. * Topic exchange: if the routing key property of the message matches the routing key of the key according to a primitive pattern matching scheme, then the message is forwarded to the queue. The message routing key then consists of words separated by dots (""."", like domain names), and two special characters are available; star ("""") and hash (""#""). The star matches any word, and the hash matches zero or more words. For example "".stock.#"" matches the routing keys ""usd.stock"" and ""eur.stock.db"" but not ""stock.nasdaq"". * Durable: this flag determines the durability of both exchanges and queues; durable exchanges and queues remain active when a RabbitMQ server restarts. Non-durable exchanges/queues (transient exchanges/queues) are purged when a server restarts. It is worth noting that AMQP specifies that durable queues cannot bind to transient exchanges. Default is True. * Auto_delete: if set, the exchange is deleted when all queues have finished using it. Default is False. * Exclusive: exclusive queues (such as non-shared) may only be consumed from by the current connection. When exclusive is on, this also implies auto_delete. Default is False. * Exchange_type: AMQP defines several default exchange types (routing algorithms) that covers most of the common messaging use cases. * Auto_ack: acknowledgment is handled automatically once messages are received. By default auto_ack is set to False, and the receiver is required to manually handle acknowledgment. * No_ack: it disable acknowledgment on the server-side. This is different from auto_ack in that acknowledgment is turned off altogether. This functionality increases performance but at the cost of reliability. Messages can get lost if a client dies before it can deliver them to the application. * Auto_declare: if this is True and the exchange name is set, the exchange will be automatically declared at instantiation. Auto declare is on by default. Publishers specify most the parameters of Consumers (such as they do not specify a queue name), but they can also specify the following: * Delivery_mode: the default delivery mode used for messages. The value is an integer. The following delivery modes are supported by RabbitMQ: * 1 or ""transient"": the message is transient. Which means it is stored in memory only, and is lost if the server dies or restarts. * 2 or ""persistent"": the message is persistent. Which means the message is stored both in-memory, and on disk, and therefore preserved if the server dies or restarts.",59,53
openstack%2Fnova~master~Iab46b5e39e4bd0d154f33dc795f24362c77a88a5,openstack/nova,master,Iab46b5e39e4bd0d154f33dc795f24362c77a88a5,Fix list rendering in code-review.rst,MERGED,2017-08-03 11:47:02.000000000,2017-08-21 11:35:57.000000000,2017-08-03 13:41:14.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 11:47:02.000000000', 'files': ['doc/source/contributor/code-review.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/12c0a666572dfa8a6a2c671e4c72bfe3e0e8384b', 'message': ""Fix list rendering in code-review.rst\n\nSub lists have to be indented exactly 2 additional spaces from their\nparent, otherwise it is treated as a blockquote, which isn't what we\nwant.\n\nPart of bp: doc-migration\n\nChange-Id: Iab46b5e39e4bd0d154f33dc795f24362c77a88a5\n""}]",0,490437,12c0a666572dfa8a6a2c671e4c72bfe3e0e8384b,13,8,1,2750,,,0,"Fix list rendering in code-review.rst

Sub lists have to be indented exactly 2 additional spaces from their
parent, otherwise it is treated as a blockquote, which isn't what we
want.

Part of bp: doc-migration

Change-Id: Iab46b5e39e4bd0d154f33dc795f24362c77a88a5
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/490437/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/code-review.rst'],1,12c0a666572dfa8a6a2c671e4c72bfe3e0e8384b,bp/doc-migration," * The manager-side (example: compute/manager) needs a version bump * The manager-side method needs to tolerate older calls as well as newer calls * Arguments can be added as long as they are optional. Arguments cannot be removed or changed in an incompatible way. * The RPC client code (example: compute/rpcapi.py) needs to be able to honor a pin for the older version (see self.client.can_send_version() calls). If we are pinned at 1.5, but the version requirement for a method is 1.7, we need to be able to formulate the call at version 1.5. * Methods can drop compatibility with older versions when we bump a major version. * ``project`` should be used in the REST API instead of ``tenant``. * ``server`` should be used in the REST API instead of ``instance``. * ``compute`` should be used in the REST API instead of ``nova``. * URL should not include underscores; use hyphens ('-') instead. * The field names contained in a request/response body should use snake_case style, not CamelCase or Mixed_Case style. * Synchronous resource creation: ``201 Created`` * Asynchronous resource creation: ``202 Accepted`` * Synchronous resource deletion: ``204 No Content`` * For all other successful operations: ``200 OK`` * If this is an option with numeric values (int, float), describe the edge cases (like the min value, max value, 0, -1). * If this is a DictOpt, describe the allowed keys. * If this is a StrOpt, list any possible regex validations, or provide a list of acceptable and/or prohibited values."," * The manager-side (example: compute/manager) needs a version bump * The manager-side method needs to tolerate older calls as well as newer calls * Arguments can be added as long as they are optional. Arguments cannot be removed or changed in an incompatible way. * The RPC client code (example: compute/rpcapi.py) needs to be able to honor a pin for the older version (see self.client.can_send_version() calls). If we are pinned at 1.5, but the version requirement for a method is 1.7, we need to be able to formulate the call at version 1.5. * Methods can drop compatibility with older versions when we bump a major version. * ``project`` should be used in the REST API instead of ``tenant``. * ``server`` should be used in the REST API instead of ``instance``. * ``compute`` should be used in the REST API instead of ``nova``. * URL should not include underscores; use hyphens ('-') instead. * The field names contained in a request/response body should use snake_case style, not CamelCase or Mixed_Case style. * Synchronous resource creation: ``201 Created`` * Asynchronous resource creation: ``202 Accepted`` * Synchronous resource deletion: ``204 No Content`` * For all other successful operations: ``200 OK`` * If this is an option with numeric values (int, float), describe the edge cases (like the min value, max value, 0, -1). * If this is a DictOpt, describe the allowed keys. * If this is a StrOpt, list any possible regex validations, or provide a list of acceptable and/or prohibited values.",27,27
openstack%2Fnova~master~I18af115c17791cf2faf03311b857153f674c6367,openstack/nova,master,I18af115c17791cf2faf03311b857153f674c6367,Fix whitespace in rest_api_version_history,MERGED,2017-08-03 11:42:33.000000000,2017-08-21 11:35:50.000000000,2017-08-03 13:40:32.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 11:42:33.000000000', 'files': ['nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbab78e1b6c1d3a2d833feb2bee3b75e0f6b70d6', 'message': ""Fix whitespace in rest_api_version_history\n\nThe extra whitespace causes the content to be rendered in <blockquote>\nwhich is not what we intended. It's far more noticable in the new\ntheme.\n\nPart of bp: doc-migration\n\nChange-Id: I18af115c17791cf2faf03311b857153f674c6367\n""}]",2,490435,cbab78e1b6c1d3a2d833feb2bee3b75e0f6b70d6,14,8,1,2750,,,0,"Fix whitespace in rest_api_version_history

The extra whitespace causes the content to be rendered in <blockquote>
which is not what we intended. It's far more noticable in the new
theme.

Part of bp: doc-migration

Change-Id: I18af115c17791cf2faf03311b857153f674c6367
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/490435/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/rest_api_version_history.rst'],1,cbab78e1b6c1d3a2d833feb2bee3b75e0f6b70d6,bp/doc-migration,"This is the initial version of the v2.1 API which supports microversions. The V2.1 API is from the REST API users's point of view exactly the same as v2.0 except with strong input validation. A user can specify a header in the API request:: X-OpenStack-Nova-API-Version: <version> where ``<version>`` is any valid api version for this API. If no version is specified then the API will behave as if a version request of v2.1 was requested.Added Keypair type. A user can request the creation of a certain 'type' of keypair (``ssh`` or ``x509``) in the ``os-keypairs`` plugin If no keypair type is specified, then the default ``ssh`` type of keypair is created. Fixes status code for ``os-keypairs`` create method from 200 to 201 Fixes status code for ``os-keypairs`` delete method from 202 to 204Exposed additional attributes in ``os-extended-server-attributes``: ``reservation_id``, ``launch_index``, ``ramdisk_id``, ``kernel_id``, ``hostname``, ``root_device_name``, ``userdata``. Exposed ``delete_on_termination`` for ``volumes_attached`` in ``os-extended-volumes``. This change is required for the extraction of EC2 API into a standalone service. It exposes necessary properties absent in public nova APIs yet. Add info for Standalone EC2 API to cut access to Nova DB.Show the ``reserved`` status on a ``FixedIP`` object in the ``os-fixed-ips`` API extension. The extension allows one to ``reserve`` and ``unreserve`` a fixed IP but the show method does not report the current status.Before version 2.5, the command ``nova list --ip6 xxx`` returns all servers for non-admins, as the filter option is silently discarded. There is no reason to treat ip6 different from ip, though, so we just add this option to the allowed list.A new API for getting remote console is added:: POST /servers/<uuid>/remote-consoles { ""remote_console"": { ""protocol"": [""vnc""|""rdp""|""serial""|""spice""], ""type"": [""novnc""|""xpvnc""|""rdp-html5""|""spice-html5""|""serial""] } } Example response:: { ""remote_console"": { ""protocol"": ""vnc"", ""type"": ""novnc"", ""url"": ""http://example.com:6080/vnc_auto.html?token=XYZ"" } } The old APIs 'os-getVNCConsole', 'os-getSPICEConsole', 'os-getSerialConsole' and 'os-getRDPConsole' are removed.Check the ``is_public`` attribute of a flavor before adding tenant access to it. Reject the request with HTTPConflict error.Add 'mks' protocol and 'webmks' type for remote consoles.Add a new ``locked`` attribute to the detailed view, update, and rebuild action. ``locked`` will be ``true`` if anyone is currently holding a lock on the server, ``false`` otherwise.Added user_id parameter to os-keypairs plugin, as well as a new property in the request body, for the create operation. Administrators will be able to list, get details and delete keypairs owned by users other than themselves and to create new keypairs on behalf of their users.Exposed attribute ``forced_down`` for ``os-services``. Added ability to change the ``forced_down`` attribute by calling an update.Exposes VIF ``net_id`` attribute in ``os-virtual-interfaces``. User will be able to get Virtual Interfaces ``net_id`` in Virtual Interfaces list and can determine in which network a Virtual Interface is plugged into.Add information ``project_id`` and ``user_id`` to ``os-server-groups`` API response data.Remove ``onSharedStorage`` parameter from server's evacuate action. Nova will automatically detect if the instance is on shared storage. Also adminPass is removed from the response body. The user can get the password with the server's os-server-password action.From this version of the API users can choose 'soft-affinity' and 'soft-anti-affinity' rules too for server-groups.Exposes new host_status attribute for servers/detail and servers/{server_id}. Ability to get nova-compute status when querying servers. By default, this is only exposed to cloud administrators.Add a new API for triggering crash dump in an instance. Different operation systems in instance may need different configurations to trigger crash dump.Establishes a set of routes that makes project_id an optional construct in v2.1.Allow the user to set and get the server description. The user will be able to set the description when creating, rebuilding, or updating a server, and get the description as part of the server details.From this version of the API user can call detach and attach volumes for instances which are in shelved and shelved_offloaded state.The ``os-instance-actions`` API now returns information from deleted instances.A new resource servers:migrations added. A new API to force live migration to complete added:: POST /servers/<uuid>/migrations/<id>/action { ""force_complete"": null }From this version of the API users can get the migration summary list by index API or the information of a specific migration by get API. And the old top-level resource `/os-migrations` won't be extended anymore. Add migration_type for old /os-migrations API, also add ref link to the /servers/{uuid}/migrations/{id} for it when the migration is an in-progress live-migration.A new API call to cancel a running live migration:: DELETE /servers/<uuid>/migrations/<id>Modify input parameter for ``os-migrateLive``. The block_migration will support 'auto' value, and disk_over_commit flag will be removed.Added support of server tags. A user can create, update, delete or check existence of simple string tags for servers by the os-server-tags plugin. Tags have the following schema restrictions: * Tag is a Unicode bytestring no longer than 60 characters. * Tag is a non-empty string. * '/' is not allowed to be in a tag name * Comma is not allowed to be in a tag name in order to simplify requests that specify lists of tags * All other characters are allowed to be in a tag name * Each server can have up to 50 tags. The resource point for these operations is /servers/<server_id>/tags A user can add a single tag to the server by sending PUT request to the /servers/<server_id>/tags/<tag> where <tag> is any valid tag name. A user can replace **all** current server tags to the new set of tags by sending PUT request to the /servers/<server_id>/tags. New set of tags must be specified in request body. This set must be in list 'tags'. A user can remove specified tag from the server by sending DELETE request to the /servers/<server_id>/tags/<tag> where <tag> is tag name which user wants to remove. A user can remove **all** tags from the server by sending DELETE request to the /servers/<server_id>/tags A user can get a set of server tags with information about server by sending GET request to the /servers/<server_id> Request returns dictionary with information about specified server, including list 'tags' :: { 'id': {server_id}, ... 'tags': ['foo', 'bar', 'baz'] } A user can get **only** a set of server tags by sending GET request to the /servers/<server_id>/tags Response :: { 'tags': ['foo', 'bar', 'baz'] } A user can check if a tag exists or not on a server by sending GET /servers/{server_id}/tags/{tag} Request returns `204 No Content` if tag exist on a server or `404 Not Found` if tag doesn't exist on a server. A user can filter servers in GET /servers request by new filters: * tags * tags-any * not-tags * not-tags-any These filters can be combined. Also user can use more than one string tags for each filter. In this case string tags for each filter must be separated by comma: GET /servers?tags=red&tags-any=green,orangeAdded support for the new form of microversion headers described in the `Microversion Specification <http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html>`_. Both the original form of header and the new form is supported.Nova API hypervisor.cpu_info change from string to JSON object. From this version of the API the hypervisor's 'cpu_info' field will be will returned as JSON object (not string) by sending GET request to the /v2.1/os-hypervisors/{hypervisor_id}.Updates the POST request body for the ``evacuate`` action to include the optional ``force`` boolean field defaulted to False. Also changes the evacuate action behaviour when providing a ``host`` string field by calling the nova scheduler to verify the provided host unless the ``force`` attribute is set.Updates the POST request body for the ``live-migrate`` action to include the optional ``force`` boolean field defaulted to False. Also changes the live-migrate action behaviour when providing a ``host`` string field by calling the nova scheduler to verify the provided host unless the ``force`` attribute is set.Fix os-console-auth-tokens to return connection info for all types of tokens, not just RDP.Adds an optional, arbitrary 'tag' item to the 'networks' item in the server boot request body. In addition, every item in the block_device_mapping_v2 array can also have an optional, arbitrary 'tag' item. These tags are used to identify virtual device metadata, as exposed in the metadata API and on the config drive. For example, a network interface on the virtual PCI bus tagged with 'nic1' will appear in the metadata along with its bus (PCI), bus address (ex: 0000:00:02.0), MAC address, and tag ('nic1'). .. note:: A bug has caused the tag attribute to no longer be accepted for networks starting with version 2.37 and for block_device_mapping_v2 starting with version 2.33. In other words, networks could only be tagged between versions 2.32 and 2.36 inclusively and block devices only in version 2.32. As of version 2.42 the tag attribute has been restored and both networks and block devices can be tagged again.Support pagination for hypervisor by accepting limit and marker from the GET API request:: GET /v2.1/{tenant_id}/os-hypervisors?marker={hypervisor_id}&limit={limit} In the context of device tagging at server create time, 2.33 also removes the tag attribute from block_device_mapping_v2. This is a bug that is fixed in 2.42, in which the tag attribute is reintroduced.Checks in ``os-migrateLive`` before live-migration actually starts are now made in background. ``os-migrateLive`` is not throwing `400 Bad Request` if pre-live-migration checks fail.Added pagination support for keypairs. Optional parameters 'limit' and 'marker' were added to GET /os-keypairs request, the default sort_key was changed to 'name' field as ASC order, the generic request format is:: GET /os-keypairs?limit={limit}&marker={kp_name}All the APIs which proxy to another service were deprecated in this version, also the fping API. Those APIs will return 404 with Microversion 2.36. The network related quotas and limits are removed from API also. The deprecated API endpoints as below:: '/images' '/os-networks' '/os-tenant-networks' '/os-fixed-ips' '/os-floating-ips' '/os-floating-ips-bulk' '/os-floating-ip-pools' '/os-floating-ip-dns' '/os-security-groups' '/os-security-group-rules' '/os-security-group-default-rules' '/os-volumes' '/os-snapshots' '/os-baremetal-nodes' '/os-fping'Added support for automatic allocation of networking, also known as ""Get Me a Network"". With this microversion, when requesting the creation of a new server (or servers) the ``networks`` entry in the ``server`` portion of the request body is required. The ``networks`` object in the request can either be a list or an enum with values: #. *none* which means no networking will be allocated for the created server(s). #. *auto* which means either a network that is already available to the project will be used, or if one does not exist, will be automatically created for the project. Automatic network allocation for a project only happens once for a project. Subsequent requests using *auto* for the same project will reuse the network that was previously allocated. Also, the ``uuid`` field in the ``networks`` object in the server create request is now strictly enforced to be in UUID format. In the context of device tagging at server create time, 2.37 also removes the tag attribute from networks. This is a bug that is fixed in 2.42, in which the tag attribute is reintroduced.Before version 2.38, the command ``nova list --status invalid_status`` was returning empty list for non admin user and 500 InternalServerError for admin user. As there are sufficient statuses defined already, any invalid status should not be accepted. From this version of the API admin as well as non admin user will get 400 HTTPBadRequest if invalid status is passed to nova list command.Deprecates image-metadata proxy API that is just a proxy for Glance API to operate the image metadata. Also removes the extra quota enforcement with Nova `metadata` quota (quota checks for 'createImage' and 'createBackup' actions in Nova were removed). After this version Glance configuration option `image_property_quota` should be used to control the quota of image metadatas. Also, removes the `maxImageMeta` field from `os-limits` API response.Optional query parameters ``limit`` and ``marker`` were added to the ``os-simple-tenant-usage`` endpoints for pagination. If a limit isn’t provided, the configurable ``max_limit`` will be used which currently defaults to 1000. :: GET /os-simple-tenant-usage?limit={limit}&marker={instance_uuid} GET /os-simple-tenant-usage/{tenant_id}?limit={limit}&marker={instance_uuid} A tenant’s usage statistics may span multiple pages when the number of instances exceeds limit, and API consumers will need to stitch together the aggregate results if they still want totals for all instances in a specific time window, grouped by tenant. Older versions of the ``os-simple-tenant-usage`` endpoints will not accept these new paging query parameters, but they will start to silently limit by ``max_limit`` to encourage the adoption of this new microversion, and circumvent the existing possibility of DoS-like usage requests when there are thousands of instances.The 'uuid' attribute of an aggregate is now returned from calls to the `/os-aggregates` endpoint. This attribute is auto-generated upon creation of an aggregate. The `os-aggregates` API resource endpoint remains an administrator-only API.In the context of device tagging at server create time, a bug has caused the tag attribute to no longer be accepted for networks starting with version 2.37 and for block_device_mapping_v2 starting with version 2.33. Microversion 2.42 restores the tag parameter to both networks and block_device_mapping_v2, allowing networks and block devices to be tagged again.The ``os-hosts`` API is deprecated as of the 2.43 microversion. Requests made with microversion >= 2.43 will result in a 404 error. To list and show host details, use the ``os-hypervisors`` API. To enable or disable a service, use the ``os-services`` API. There is no replacement for the `shutdown`, `startup`, `reboot`, or `maintenance_mode` actions as those are system-level operations which should be outside of the control of the compute service.The following APIs which are considered as proxies of Neutron networking API, are deprecated and will result in a 404 error response in new Microversion:: POST /servers/{server_uuid}/action { ""addFixedIp"": {...} } POST /servers/{server_uuid}/action { ""removeFixedIp"": {...} } POST /servers/{server_uuid}/action { ""addFloatingIp"": {...} } POST /servers/{server_uuid}/action { ""removeFloatingIp"": {...} } Those server actions can be replaced by calling the Neutron API directly. The nova-network specific API to query the server's interfaces is deprecated:: GET /servers/{server_uuid}/os-virtual-interfaces To query attached neutron interfaces for a specific server, the API `GET /servers/{server_uuid}/os-interface` can be used.The ``createImage`` and ``createBackup`` server action APIs no longer return a ``Location`` header in the response for the snapshot image, they now return a json dict in the response body with an ``image_id`` key and uuid value.The request_id created for every inbound request is now returned in ``X-OpenStack-Request-ID`` in addition to ``X-Compute-Request-ID`` to be consistent with the rest of OpenStack. This is a signaling only microversion, as these header settings happen well before microversion processing.Replace the ``flavor`` name/ref with the actual flavor details from the embedded flavor object when displaying server details. Requests made with microversion >= 2.47 will no longer return the flavor ID/link but instead will return a subset of the flavor details. If the user is prevented by policy from indexing extra-specs, then the ``extra_specs`` field will not be included in the flavor information.Before version 2.48, VM diagnostics response was just a 'blob' of data returned by each hypervisor. From this version VM diagnostics response is standardized. It has a set of fields which each hypervisor will try to fill. If a hypervisor driver is unable to provide a specific field then this field will be reported as 'None'.Continuing from device role tagging at server create time introduced in version 2.32 and later fixed in 2.42, microversion 2.49 allows the attachment of network interfaces and volumes with an optional ``tag`` parameter. This tag is used to identify the virtual devices in the guest and is exposed in the metadata API. Because the config drive cannot be updated while the guest is running, it will only contain metadata of devices that were tagged at boot time. Any changes made to devices while the instance is running - be it detaching a tagged device or performing a tagged device attachment - will not be reflected in the config drive. Tagged volume attachment is not supported for shelved-offloaded instances.The ``server_groups`` and ``server_group_members`` keys are exposed in GET & PUT ``os-quota-class-sets`` APIs Response body. Networks related quotas have been filtered out from os-quota-class. Below quotas are filtered out and not available in ``os-quota-class-sets`` APIs from this microversion onwards. - ""fixed_ips"" - ""floating_ips"" - ""networks"", - ""security_group_rules"" - ""security_groups""There are two changes for the 2.51 microversion: * Add ``volume-extended`` event name to the ``os-server-external-events`` API. This will be used by the Block Storage service when extending the size of an attached volume. This signals the Compute service to perform any necessary actions on the compute host or hypervisor to adjust for the new volume block device size. * Expose the ``events`` field in the response body for the ``GET /servers/{server_id}/os-instance-actions/{request_id}`` API. This is useful for API users to monitor when a volume extend operation completes for the given server instance. By default only users with the administrator role will be able to see event ``traceback`` details.Adds support for applying tags when creating a server. The tag schema is the same as in the `2.26`_ microversion.**os-services** Services are now identified by uuid instead of database id to ensure uniqueness across cells. This microversion brings the following changes: * ``GET /os-services`` returns a uuid in the ``id`` field of the response * ``DELETE /os-services/{service_uuid}`` requires a service uuid in the path * The following APIs have been superseded by ``PUT /os-services/{service_uuid}/``: * ``PUT /os-services/disable`` * ``PUT /os-services/disable-log-reason`` * ``PUT /os-services/enable`` * ``PUT /os-services/force-down`` ``PUT /os-services/{service_uuid}`` takes the following fields in the body: * ``status`` - can be either ""enabled"" or ""disabled"" to enable or disable the given service * ``disabled_reason`` - specify with status=""disabled"" to log a reason for why the service is disabled * ``forced_down`` - boolean indicating if the service was forced down by an external service * ``PUT /os-services/{service_uuid}`` will now return a full service resource representation like in a ``GET`` response **os-hypervisors** Hypervisors are now identified by uuid instead of database id to ensure uniqueness across cells. This microversion brings the following changes: * ``GET /os-hypervisors/{hypervisor_hostname_pattern}/search`` is deprecated and replaced with the ``hypervisor_hostname_pattern`` query parameter on the ``GET /os-hypervisors`` and ``GET /os-hypervisors/detail`` APIs. Paging with ``hypervisor_hostname_pattern`` is not supported. * ``GET /os-hypervisors/{hypervisor_hostname_pattern}/servers`` is deprecated and replaced with the ``with_servers`` query parameter on the ``GET /os-hypervisors`` and ``GET /os-hypervisors/detail`` APIs. * ``GET /os-hypervisors/{hypervisor_id}`` supports the ``with_servers`` query parameter to include hosted server details in the response. * ``GET /os-hypervisors/{hypervisor_id}`` and ``GET /os-hypervisors/{hypervisor_id}/uptime`` APIs now take a uuid value for the ``{hypervisor_id}`` path parameter. * The ``GET /os-hypervisors`` and ``GET /os-hypervisors/detail`` APIs will now use a uuid marker for paging across cells. * The following APIs will now return a uuid value for the hypervisor id and optionally service id fields in the response: * ``GET /os-hypervisors`` * ``GET /os-hypervisors/detail`` * ``GET /os-hypervisors/{hypervisor_id}`` * ``GET /os-hypervisors/{hypervisor_id}/uptime``"," This is the initial version of the v2.1 API which supports microversions. The V2.1 API is from the REST API users's point of view exactly the same as v2.0 except with strong input validation. A user can specify a header in the API request:: X-OpenStack-Nova-API-Version: <version> where ``<version>`` is any valid api version for this API. If no version is specified then the API will behave as if a version request of v2.1 was requested. Added Keypair type. A user can request the creation of a certain 'type' of keypair (``ssh`` or ``x509``) in the ``os-keypairs`` plugin If no keypair type is specified, then the default ``ssh`` type of keypair is created. Fixes status code for ``os-keypairs`` create method from 200 to 201 Fixes status code for ``os-keypairs`` delete method from 202 to 204 Exposed additional attributes in ``os-extended-server-attributes``: ``reservation_id``, ``launch_index``, ``ramdisk_id``, ``kernel_id``, ``hostname``, ``root_device_name``, ``userdata``. Exposed ``delete_on_termination`` for ``volumes_attached`` in ``os-extended-volumes``. This change is required for the extraction of EC2 API into a standalone service. It exposes necessary properties absent in public nova APIs yet. Add info for Standalone EC2 API to cut access to Nova DB. Show the ``reserved`` status on a ``FixedIP`` object in the ``os-fixed-ips`` API extension. The extension allows one to ``reserve`` and ``unreserve`` a fixed IP but the show method does not report the current status. Before version 2.5, the command ``nova list --ip6 xxx`` returns all servers for non-admins, as the filter option is silently discarded. There is no reason to treat ip6 different from ip, though, so we just add this option to the allowed list. A new API for getting remote console is added:: POST /servers/<uuid>/remote-consoles { ""remote_console"": { ""protocol"": [""vnc""|""rdp""|""serial""|""spice""], ""type"": [""novnc""|""xpvnc""|""rdp-html5""|""spice-html5""|""serial""] } } Example response:: { ""remote_console"": { ""protocol"": ""vnc"", ""type"": ""novnc"", ""url"": ""http://example.com:6080/vnc_auto.html?token=XYZ"" } } The old APIs 'os-getVNCConsole', 'os-getSPICEConsole', 'os-getSerialConsole' and 'os-getRDPConsole' are removed. Check the ``is_public`` attribute of a flavor before adding tenant access to it. Reject the request with HTTPConflict error. Add 'mks' protocol and 'webmks' type for remote consoles. Add a new ``locked`` attribute to the detailed view, update, and rebuild action. ``locked`` will be ``true`` if anyone is currently holding a lock on the server, ``false`` otherwise. Added user_id parameter to os-keypairs plugin, as well as a new property in the request body, for the create operation. Administrators will be able to list, get details and delete keypairs owned by users other than themselves and to create new keypairs on behalf of their users. Exposed attribute ``forced_down`` for ``os-services``. Added ability to change the ``forced_down`` attribute by calling an update. Exposes VIF ``net_id`` attribute in ``os-virtual-interfaces``. User will be able to get Virtual Interfaces ``net_id`` in Virtual Interfaces list and can determine in which network a Virtual Interface is plugged into. Add information ``project_id`` and ``user_id`` to ``os-server-groups`` API response data. Remove ``onSharedStorage`` parameter from server's evacuate action. Nova will automatically detect if the instance is on shared storage. Also adminPass is removed from the response body. The user can get the password with the server's os-server-password action. From this version of the API users can choose 'soft-affinity' and 'soft-anti-affinity' rules too for server-groups. Exposes new host_status attribute for servers/detail and servers/{server_id}. Ability to get nova-compute status when querying servers. By default, this is only exposed to cloud administrators. Add a new API for triggering crash dump in an instance. Different operation systems in instance may need different configurations to trigger crash dump. Establishes a set of routes that makes project_id an optional construct in v2.1. Allow the user to set and get the server description. The user will be able to set the description when creating, rebuilding, or updating a server, and get the description as part of the server details. From this version of the API user can call detach and attach volumes for instances which are in shelved and shelved_offloaded state. The ``os-instance-actions`` API now returns information from deleted instances. A new resource servers:migrations added. A new API to force live migration to complete added:: POST /servers/<uuid>/migrations/<id>/action { ""force_complete"": null } From this version of the API users can get the migration summary list by index API or the information of a specific migration by get API. And the old top-level resource `/os-migrations` won't be extended anymore. Add migration_type for old /os-migrations API, also add ref link to the /servers/{uuid}/migrations/{id} for it when the migration is an in-progress live-migration. A new API call to cancel a running live migration:: DELETE /servers/<uuid>/migrations/<id> Modify input parameter for ``os-migrateLive``. The block_migration will support 'auto' value, and disk_over_commit flag will be removed. Added support of server tags. A user can create, update, delete or check existence of simple string tags for servers by the os-server-tags plugin. Tags have the following schema restrictions: * Tag is a Unicode bytestring no longer than 60 characters. * Tag is a non-empty string. * '/' is not allowed to be in a tag name * Comma is not allowed to be in a tag name in order to simplify requests that specify lists of tags * All other characters are allowed to be in a tag name * Each server can have up to 50 tags. The resource point for these operations is /servers/<server_id>/tags A user can add a single tag to the server by sending PUT request to the /servers/<server_id>/tags/<tag> where <tag> is any valid tag name. A user can replace **all** current server tags to the new set of tags by sending PUT request to the /servers/<server_id>/tags. New set of tags must be specified in request body. This set must be in list 'tags'. A user can remove specified tag from the server by sending DELETE request to the /servers/<server_id>/tags/<tag> where <tag> is tag name which user wants to remove. A user can remove **all** tags from the server by sending DELETE request to the /servers/<server_id>/tags A user can get a set of server tags with information about server by sending GET request to the /servers/<server_id> Request returns dictionary with information about specified server, including list 'tags' :: { 'id': {server_id}, ... 'tags': ['foo', 'bar', 'baz'] } A user can get **only** a set of server tags by sending GET request to the /servers/<server_id>/tags Response :: { 'tags': ['foo', 'bar', 'baz'] } A user can check if a tag exists or not on a server by sending GET /servers/{server_id}/tags/{tag} Request returns `204 No Content` if tag exist on a server or `404 Not Found` if tag doesn't exist on a server. A user can filter servers in GET /servers request by new filters: * tags * tags-any * not-tags * not-tags-any These filters can be combined. Also user can use more than one string tags for each filter. In this case string tags for each filter must be separated by comma: GET /servers?tags=red&tags-any=green,orange Added support for the new form of microversion headers described in the `Microversion Specification <http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html>`_. Both the original form of header and the new form is supported. Nova API hypervisor.cpu_info change from string to JSON object. From this version of the API the hypervisor's 'cpu_info' field will be will returned as JSON object (not string) by sending GET request to the /v2.1/os-hypervisors/{hypervisor_id}. Updates the POST request body for the ``evacuate`` action to include the optional ``force`` boolean field defaulted to False. Also changes the evacuate action behaviour when providing a ``host`` string field by calling the nova scheduler to verify the provided host unless the ``force`` attribute is set. Updates the POST request body for the ``live-migrate`` action to include the optional ``force`` boolean field defaulted to False. Also changes the live-migrate action behaviour when providing a ``host`` string field by calling the nova scheduler to verify the provided host unless the ``force`` attribute is set. Fix os-console-auth-tokens to return connection info for all types of tokens, not just RDP. Adds an optional, arbitrary 'tag' item to the 'networks' item in the server boot request body. In addition, every item in the block_device_mapping_v2 array can also have an optional, arbitrary 'tag' item. These tags are used to identify virtual device metadata, as exposed in the metadata API and on the config drive. For example, a network interface on the virtual PCI bus tagged with 'nic1' will appear in the metadata along with its bus (PCI), bus address (ex: 0000:00:02.0), MAC address, and tag ('nic1'). .. note:: A bug has caused the tag attribute to no longer be accepted for networks starting with version 2.37 and for block_device_mapping_v2 starting with version 2.33. In other words, networks could only be tagged between versions 2.32 and 2.36 inclusively and block devices only in version 2.32. As of version 2.42 the tag attribute has been restored and both networks and block devices can be tagged again. Support pagination for hypervisor by accepting limit and marker from the GET API request:: GET /v2.1/{tenant_id}/os-hypervisors?marker={hypervisor_id}&limit={limit} In the context of device tagging at server create time, 2.33 also removes the tag attribute from block_device_mapping_v2. This is a bug that is fixed in 2.42, in which the tag attribute is reintroduced. Checks in ``os-migrateLive`` before live-migration actually starts are now made in background. ``os-migrateLive`` is not throwing `400 Bad Request` if pre-live-migration checks fail. Added pagination support for keypairs. Optional parameters 'limit' and 'marker' were added to GET /os-keypairs request, the default sort_key was changed to 'name' field as ASC order, the generic request format is:: GET /os-keypairs?limit={limit}&marker={kp_name} All the APIs which proxy to another service were deprecated in this version, also the fping API. Those APIs will return 404 with Microversion 2.36. The network related quotas and limits are removed from API also. The deprecated API endpoints as below:: '/images' '/os-networks' '/os-tenant-networks' '/os-fixed-ips' '/os-floating-ips' '/os-floating-ips-bulk' '/os-floating-ip-pools' '/os-floating-ip-dns' '/os-security-groups' '/os-security-group-rules' '/os-security-group-default-rules' '/os-volumes' '/os-snapshots' '/os-baremetal-nodes' '/os-fping' Added support for automatic allocation of networking, also known as ""Get Me a Network"". With this microversion, when requesting the creation of a new server (or servers) the ``networks`` entry in the ``server`` portion of the request body is required. The ``networks`` object in the request can either be a list or an enum with values: #. *none* which means no networking will be allocated for the created server(s). #. *auto* which means either a network that is already available to the project will be used, or if one does not exist, will be automatically created for the project. Automatic network allocation for a project only happens once for a project. Subsequent requests using *auto* for the same project will reuse the network that was previously allocated. Also, the ``uuid`` field in the ``networks`` object in the server create request is now strictly enforced to be in UUID format. In the context of device tagging at server create time, 2.37 also removes the tag attribute from networks. This is a bug that is fixed in 2.42, in which the tag attribute is reintroduced. Before version 2.38, the command ``nova list --status invalid_status`` was returning empty list for non admin user and 500 InternalServerError for admin user. As there are sufficient statuses defined already, any invalid status should not be accepted. From this version of the API admin as well as non admin user will get 400 HTTPBadRequest if invalid status is passed to nova list command. Deprecates image-metadata proxy API that is just a proxy for Glance API to operate the image metadata. Also removes the extra quota enforcement with Nova `metadata` quota (quota checks for 'createImage' and 'createBackup' actions in Nova were removed). After this version Glance configuration option `image_property_quota` should be used to control the quota of image metadatas. Also, removes the `maxImageMeta` field from `os-limits` API response. Optional query parameters ``limit`` and ``marker`` were added to the ``os-simple-tenant-usage`` endpoints for pagination. If a limit isn’t provided, the configurable ``max_limit`` will be used which currently defaults to 1000. :: GET /os-simple-tenant-usage?limit={limit}&marker={instance_uuid} GET /os-simple-tenant-usage/{tenant_id}?limit={limit}&marker={instance_uuid} A tenant’s usage statistics may span multiple pages when the number of instances exceeds limit, and API consumers will need to stitch together the aggregate results if they still want totals for all instances in a specific time window, grouped by tenant. Older versions of the ``os-simple-tenant-usage`` endpoints will not accept these new paging query parameters, but they will start to silently limit by ``max_limit`` to encourage the adoption of this new microversion, and circumvent the existing possibility of DoS-like usage requests when there are thousands of instances. The 'uuid' attribute of an aggregate is now returned from calls to the `/os-aggregates` endpoint. This attribute is auto-generated upon creation of an aggregate. The `os-aggregates` API resource endpoint remains an administrator-only API. In the context of device tagging at server create time, a bug has caused the tag attribute to no longer be accepted for networks starting with version 2.37 and for block_device_mapping_v2 starting with version 2.33. Microversion 2.42 restores the tag parameter to both networks and block_device_mapping_v2, allowing networks and block devices to be tagged again. The ``os-hosts`` API is deprecated as of the 2.43 microversion. Requests made with microversion >= 2.43 will result in a 404 error. To list and show host details, use the ``os-hypervisors`` API. To enable or disable a service, use the ``os-services`` API. There is no replacement for the `shutdown`, `startup`, `reboot`, or `maintenance_mode` actions as those are system-level operations which should be outside of the control of the compute service. The following APIs which are considered as proxies of Neutron networking API, are deprecated and will result in a 404 error response in new Microversion:: POST /servers/{server_uuid}/action { ""addFixedIp"": {...} } POST /servers/{server_uuid}/action { ""removeFixedIp"": {...} } POST /servers/{server_uuid}/action { ""addFloatingIp"": {...} } POST /servers/{server_uuid}/action { ""removeFloatingIp"": {...} } Those server actions can be replaced by calling the Neutron API directly. The nova-network specific API to query the server's interfaces is deprecated:: GET /servers/{server_uuid}/os-virtual-interfaces To query attached neutron interfaces for a specific server, the API `GET /servers/{server_uuid}/os-interface` can be used. The ``createImage`` and ``createBackup`` server action APIs no longer return a ``Location`` header in the response for the snapshot image, they now return a json dict in the response body with an ``image_id`` key and uuid value. The request_id created for every inbound request is now returned in ``X-OpenStack-Request-ID`` in addition to ``X-Compute-Request-ID`` to be consistent with the rest of OpenStack. This is a signaling only microversion, as these header settings happen well before microversion processing. Replace the ``flavor`` name/ref with the actual flavor details from the embedded flavor object when displaying server details. Requests made with microversion >= 2.47 will no longer return the flavor ID/link but instead will return a subset of the flavor details. If the user is prevented by policy from indexing extra-specs, then the ``extra_specs`` field will not be included in the flavor information. Before version 2.48, VM diagnostics response was just a 'blob' of data returned by each hypervisor. From this version VM diagnostics response is standardized. It has a set of fields which each hypervisor will try to fill. If a hypervisor driver is unable to provide a specific field then this field will be reported as 'None'. Continuing from device role tagging at server create time introduced in version 2.32 and later fixed in 2.42, microversion 2.49 allows the attachment of network interfaces and volumes with an optional ``tag`` parameter. This tag is used to identify the virtual devices in the guest and is exposed in the metadata API. Because the config drive cannot be updated while the guest is running, it will only contain metadata of devices that were tagged at boot time. Any changes made to devices while the instance is running - be it detaching a tagged device or performing a tagged device attachment - will not be reflected in the config drive. Tagged volume attachment is not supported for shelved-offloaded instances. The ``server_groups`` and ``server_group_members`` keys are exposed in GET & PUT ``os-quota-class-sets`` APIs Response body. Networks related quotas have been filtered out from os-quota-class. Below quotas are filtered out and not available in ``os-quota-class-sets`` APIs from this microversion onwards. - ""fixed_ips"" - ""floating_ips"" - ""networks"", - ""security_group_rules"" - ""security_groups"" There are two changes for the 2.51 microversion: * Add ``volume-extended`` event name to the ``os-server-external-events`` API. This will be used by the Block Storage service when extending the size of an attached volume. This signals the Compute service to perform any necessary actions on the compute host or hypervisor to adjust for the new volume block device size. * Expose the ``events`` field in the response body for the ``GET /servers/{server_id}/os-instance-actions/{request_id}`` API. This is useful for API users to monitor when a volume extend operation completes for the given server instance. By default only users with the administrator role will be able to see event ``traceback`` details. Adds support for applying tags when creating a server. The tag schema is the same as in the `2.26`_ microversion. **os-services** Services are now identified by uuid instead of database id to ensure uniqueness across cells. This microversion brings the following changes: * ``GET /os-services`` returns a uuid in the ``id`` field of the response * ``DELETE /os-services/{service_uuid}`` requires a service uuid in the path * The following APIs have been superseded by ``PUT /os-services/{service_uuid}/``: * ``PUT /os-services/disable`` * ``PUT /os-services/disable-log-reason`` * ``PUT /os-services/enable`` * ``PUT /os-services/force-down`` ``PUT /os-services/{service_uuid}`` takes the following fields in the body: * ``status`` - can be either ""enabled"" or ""disabled"" to enable or disable the given service * ``disabled_reason`` - specify with status=""disabled"" to log a reason for why the service is disabled * ``forced_down`` - boolean indicating if the service was forced down by an external service * ``PUT /os-services/{service_uuid}`` will now return a full service resource representation like in a ``GET`` response **os-hypervisors** Hypervisors are now identified by uuid instead of database id to ensure uniqueness across cells. This microversion brings the following changes: * ``GET /os-hypervisors/{hypervisor_hostname_pattern}/search`` is deprecated and replaced with the ``hypervisor_hostname_pattern`` query parameter on the ``GET /os-hypervisors`` and ``GET /os-hypervisors/detail`` APIs. Paging with ``hypervisor_hostname_pattern`` is not supported. * ``GET /os-hypervisors/{hypervisor_hostname_pattern}/servers`` is deprecated and replaced with the ``with_servers`` query parameter on the ``GET /os-hypervisors`` and ``GET /os-hypervisors/detail`` APIs. * ``GET /os-hypervisors/{hypervisor_id}`` supports the ``with_servers`` query parameter to include hosted server details in the response. * ``GET /os-hypervisors/{hypervisor_id}`` and ``GET /os-hypervisors/{hypervisor_id}/uptime`` APIs now take a uuid value for the ``{hypervisor_id}`` path parameter. * The ``GET /os-hypervisors`` and ``GET /os-hypervisors/detail`` APIs will now use a uuid marker for paging across cells. * The following APIs will now return a uuid value for the hypervisor id and optionally service id fields in the response: * ``GET /os-hypervisors`` * ``GET /os-hypervisors/detail`` * ``GET /os-hypervisors/{hypervisor_id}`` * ``GET /os-hypervisors/{hypervisor_id}/uptime``",395,395
openstack%2Fnova~master~Iea1359c108146db8e56cebb13f34a87e0c028040,openstack/nova,master,Iea1359c108146db8e56cebb13f34a87e0c028040,Keep the code consistent,MERGED,2017-08-03 03:10:11.000000000,2017-08-21 11:35:43.000000000,2017-08-10 13:11:31.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-03 03:10:11.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7db6ab6fb63047fa3d9de9cf09522f8035eaca99', 'message': 'Keep the code consistent\n\nChange-Id: Iea1359c108146db8e56cebb13f34a87e0c028040\n'}]",0,490304,7db6ab6fb63047fa3d9de9cf09522f8035eaca99,19,4,1,21135,,,0,"Keep the code consistent

Change-Id: Iea1359c108146db8e56cebb13f34a87e0c028040
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/490304/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,7db6ab6fb63047fa3d9de9cf09522f8035eaca99,method_doc," """"""Initialize this instance during service init.""""""", '''Initialize this instance during service init.''',1,1
openstack%2Fnova~master~Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3,openstack/nova,master,Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3,Test resize to same host with placement api,MERGED,2017-08-02 11:13:31.000000000,2017-08-21 11:35:37.000000000,2017-08-03 02:16:11.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-08-02 11:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16750a2f60b1799de8e8ececdfa50a9061d083a4', 'message': 'Test resize to same host with placement api\n\nRelated-Bug: #1707252\nChange-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3\n'}, {'number': 2, 'created': '2017-08-02 12:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06b244a1e12dff4c6aa5ec999d814e4f1ae1d84f', 'message': 'Test resize to same host with placement api\n\nTest cases for resize to same host with confirm and revert scenarios\nhave been added.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nRelated-Bug: #1707252\nChange-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3\n'}, {'number': 3, 'created': '2017-08-02 18:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74ae0a1a23acadbe63d158d6c0061495a9a78992', 'message': 'Test resize to same host with placement api\n\nTest cases for resize to same host with confirm and revert scenarios\nhave been added.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nRelated-Bug: #1707252\nChange-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3\n'}, {'number': 4, 'created': '2017-08-02 19:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e78f936d3e4ccb9f1ab331bb6163cd78d59aa180', 'message': 'Test resize to same host with placement api\n\nTest cases for resize to same host with confirm and revert scenarios\nhave been added.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nRelated-Bug: #1707252\nChange-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3\n'}, {'number': 5, 'created': '2017-08-02 20:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4133ee7d5d0d62e79da37ad8e1116e70c726de79', 'message': 'Test resize to same host with placement api\n\nTest cases for resize to same host with confirm and revert scenarios\nhave been added.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nRelated-Bug: #1707252\nChange-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3\n'}, {'number': 6, 'created': '2017-08-02 21:51:29.000000000', 'files': ['nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e8ce056ca004244483c2b99ddbb31dd0400c9cd', 'message': 'Test resize to same host with placement api\n\nTest cases for resize to same host with confirm and revert scenarios\nhave been added.\n\nThe accounting of the current code is very incorrect at the moment, so this\nasserts the existing (wrong) behavior, but marks the actual expected\nvalues everywhere so that we can follow up with fixes to remove all of the\nannotations.\n\nRelated-Bug: #1707252\nChange-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3\n'}]",7,489973,2e8ce056ca004244483c2b99ddbb31dd0400c9cd,48,15,6,9708,,,0,"Test resize to same host with placement api

Test cases for resize to same host with confirm and revert scenarios
have been added.

The accounting of the current code is very incorrect at the moment, so this
asserts the existing (wrong) behavior, but marks the actual expected
values everywhere so that we can follow up with fixes to remove all of the
annotations.

Related-Bug: #1707252
Change-Id: Ica83ce5f43c0e7b84fd4117852e81e4d2979dea3
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/489973/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py']",2,16750a2f60b1799de8e8ececdfa50a9061d083a4,bug/1707071," def test_resize_revert_same_host(self): # make sure that the test only use a single host compute2_service_id = self.admin_api.get_services( host=self.compute2.host, binary='nova-compute')[0]['id'] self.admin_api.put_service(compute2_service_id, {'status': 'disabled'}) hostname = self.compute1.manager.host rp_uuid = self._get_provider_uuid_by_host(hostname) server = self._boot_and_check_allocations(self.flavor2, hostname) # create flavor3 which has less MEMORY_MB but more DISK_GB than flavor2 flavor_body = {'flavor': {'name': 'test_flavor3', 'ram': int(self.flavor2['ram'] / 2), 'vcpus': 1, 'disk': self.flavor2['disk'] * 2, 'id': 'a22d5517-147c-4147-a0d1-e698df5cd4e3' }} flavor3 = self.api.post_flavor(flavor_body) # Resize the server to the same host and check usages in VERIFY_RESIZE # state self.flags(allow_resize_to_same_host=True) resize_req = { 'resize': { 'flavorRef': flavor3['id'] } } self.api.post_server_action(server['id'], resize_req) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') usages = self._get_provider_usages(rp_uuid) # NOTE(gibi): This is bug 1707252, where the usages are not doubled for # resize to same host self.assertFlavorMatchesAllocation(self.flavor2, usages) # NOTE(gibi): After fixing bug 1707252 the following is expected # self.assertEqual(max(self.flavor2['vcpus'], flavor3['vcpus']), # usages['VCPU']) # self.assertEqual(max(self.flavor2['ram'], flavor3['ram']), # usages['MEMORY_MB']) # self.assertEqual(max(self.flavor2['disk'], flavor3['disk']), # usages['DISK_GB']) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] # NOTE(gibi): This is bug 1707252, where allocation is not doubled for # resize to same host self.assertFlavorMatchesAllocation(self.flavor2, allocation) # NOTE(gibi): After fixing bug 1707252 the following is expected # self.assertEqual(max(self.flavor2['vcpus'], flavor3['vcpus']), # allocation['VCPU']) # self.assertEqual(max(self.flavor2['ram'], flavor3['ram']), # allocation['MEMORY_MB']) # self.assertEqual(max(self.flavor2['disk'], flavor3['disk']), # allocation['DISK_GB']) self._run_periodics() usages = self._get_provider_usages(rp_uuid) # NOTE(gibi): This is bug 1707252, where the usages are not doubled for # resize to same host self.assertFlavorMatchesAllocation(flavor3, usages) # NOTE(gibi): After fixing bug 1707252 the following is expected # self.assertEqual(max(self.flavor2['vcpus'], flavor3['vcpus']), # usages['VCPU']) # self.assertEqual(max(self.flavor2['ram'], flavor3['ram']), # usages['MEMORY_MB']) # self.assertEqual(max(self.flavor2['disk'], flavor3['disk']), # usages['DISK_GB']) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] # NOTE(gibi): This is bug 1707252, where allocation is not doubled for # resize to same host self.assertFlavorMatchesAllocation(flavor3, allocation) # NOTE(gibi): After fixing bug 1707252 the following is expected # self.assertEqual(max(self.flavor2['vcpus'], flavor3['vcpus']), # allocation['VCPU']) # self.assertEqual(max(self.flavor2['ram'], flavor3['ram']), # allocation['MEMORY_MB']) # self.assertEqual(max(self.flavor2['disk'], flavor3['disk']), # allocation['DISK_GB']) # Revert the resize and check the usages post = {'revertResize': None} self.api.post_server_action(server['id'], post) self._wait_for_state_change(self.api, server, 'ACTIVE') self._run_periodics() # after revert only allocations due to the old flavor should remain usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, allocation) self._delete_and_check_allocations(server, rp_uuid, rp_uuid) def test_resize_confirm_same_host(self): # TODO(gibi): add the test pass",,128,2
openstack%2Fnova~master~I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d,openstack/nova,master,I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d,fix rpc broken rst comment,MERGED,2017-08-02 20:46:09.000000000,2017-08-21 11:35:21.000000000,2017-08-03 00:25:30.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-02 20:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ea587f8a6e16dad3c4a0a5872b5bfcf54138577', 'message': ""fix rpc broken rst comment\n\nThe license header isn't in a comment correctly, show it shows up\ninline in the rpc page and looks pretty ugly. Add missing '.'\n\nChange-Id: I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d\n""}, {'number': 2, 'created': '2017-08-02 20:47:37.000000000', 'files': ['doc/source/reference/rpc.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc94d8ad5ba38974fa4253f55d6a7199bb5f3211', 'message': ""fix rpc broken rst comment\n\nThe license header isn't in a comment correctly, so it shows up\ninline in the rpc page and looks pretty ugly. Add missing '.'\n\nChange-Id: I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d\n""}]",0,490197,dc94d8ad5ba38974fa4253f55d6a7199bb5f3211,13,3,2,2750,,,0,"fix rpc broken rst comment

The license header isn't in a comment correctly, so it shows up
inline in the rpc page and looks pretty ugly. Add missing '.'

Change-Id: I7c05ee9c4074d1e29f77b4c1c292196bcf0b801d
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/490197/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/rpc.rst'],1,7ea587f8a6e16dad3c4a0a5872b5bfcf54138577,redirects,..,.,1,1
openstack%2Fnova~master~Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44,openstack/nova,master,Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44,sort redirectmatch lines,MERGED,2017-08-02 20:03:13.000000000,2017-08-21 11:35:15.000000000,2017-08-03 00:24:51.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-02 20:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41cf2386d63fa2873b95c9d35795696456d194bb', 'message': 'sort redirectmatch lines\n\nJust to make it easier to see if items are in the list or not, we\nshould keep them sorted. No fancy hacking rules for this, just being\ndilligent.\n\nChange-Id: Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44\n'}, {'number': 2, 'created': '2017-08-02 20:39:20.000000000', 'files': ['doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/c0339a3b73d4aa652777fdccf2deb796e5af095c', 'message': 'sort redirectmatch lines\n\nJust to make it easier to see if items are in the list or not, we\nshould keep them sorted. No fancy hacking rules for this, just being\ndilligent.\n\nChange-Id: Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44\n'}]",0,490182,c0339a3b73d4aa652777fdccf2deb796e5af095c,22,9,2,2750,,,0,"sort redirectmatch lines

Just to make it easier to see if items are in the list or not, we
should keep them sorted. No fancy hacking rules for this, just being
dilligent.

Change-Id: Icbfdcffbc15c5c32ca48ddd6fbac15d425ab8c44
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/490182/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_extra/.htaccess'],1,41cf2386d63fa2873b95c9d35795696456d194bb,redirects,redirectmatch 301 ^/nova/([^/]+)/addmethod.openstackapi.html$ /nova/$1/contributor/api-2.htmlredirectmatch 301 ^/nova/([^/]+)/api_microversion_dev.html$ /nova/$1/contributor/microversions.html redirectmatch 301 ^/nova/([^/]+)/api_plugins.html$ /nova/$1/contributor/api.htmlredirectmatch 301 ^/nova/([^/]+)/blueprints.html$ /nova/$1/contributor/blueprints.htmlredirectmatch 301 ^/nova/([^/]+)/code-review.html$ /nova/$1/contributor/code-review.htmlredirectmatch 301 ^/nova/([^/]+)/development.environment.html$ /nova/$1/contributor/development-environment.html redirectmatch 301 ^/nova/([^/]+)/devref/rpc.html /nova/$1/reference/rpc.htmlredirectmatch 301 ^/nova/([^/]+)/i18n.html$ /nova/$1/reference/i18n.htmlredirectmatch 301 ^/nova/([^/]+)/notifications.html$ /nova/$1/reference/notifications.html redirectmatch 301 ^/nova/([^/]+)/placement.html$ /nova/$1/user/placement.html redirectmatch 301 ^/nova/([^/]+)/placement_dev.html$ /nova/$1/contributor/placement.html redirectmatch 301 ^/nova/([^/]+)/policies.html$ /nova/$1/contributor/policies.html redirectmatch 301 ^/nova/([^/]+)/policy_enforcement.html$ /nova/$1/reference/policy-enforcement.html redirectmatch 301 ^/nova/([^/]+)/process.html$ /nova/$1/contributor/process.html redirectmatch 301 ^/nova/([^/]+)/project_scope.html$ /nova/$1/contributor/project-scope.html redirectmatch 301 ^/nova/([^/]+)/quotas.html$ /nova/$1/user/quotas.html redirectmatch 301 ^/nova/([^/]+)/releasenotes.html$ /nova/$1/contributor/releasenotes.html redirectmatch 301 ^/nova/([^/]+)/rpc.html$ /nova/$1/reference/rpc.html redirectmatch 301 ^/nova/([^/]+)/sample_config.html$ /nova/$1/configuration/sample-config.html redirectmatch 301 ^/nova/([^/]+)/sample_policy.html$ /nova/$1/configuration/sample-policy.html redirectmatch 301 ^/nova/([^/]+)/scheduler_evolution.html$ /nova/$1/reference/scheduler-evolution.html redirectmatch 301 ^/nova/([^/]+)/services.html$ /nova/$1/reference/services.html redirectmatch 301 ^/nova/([^/]+)/stable_api.html$ /nova/$1/reference/stable-api.html redirectmatch 301 ^/nova/([^/]+)/support-matrix.html$ /nova/$1/user/support-matrix.html redirectmatch 301 ^/nova/([^/]+)/test_strategy.html$ /nova/$1/contributor/testing.html redirectmatch 301 ^/nova/([^/]+)/testing/libvirt-numa.html$ /nova/$1/contributor/testing/libvirt-numa.html redirectmatch 301 ^/nova/([^/]+)/testing/serial-console.html$ /nova/$1/contributor/testing/serial-console.html redirectmatch 301 ^/nova/([^/]+)/testing/zero-downtime-upgrade.html$ /nova/$1/contributor/testing/zero-downtime-upgrade.html redirectmatch 301 ^/nova/([^/]+)/threading.html$ /nova/$1/reference/threading.html redirectmatch 301 ^/nova/([^/]+)/upgrade.html$ /nova/$1/user/upgrade.html redirectmatch 301 ^/nova/([^/]+)/vendordata.html$ /nova/$1/user/vendordata.html redirectmatch 301 ^/nova/([^/]+)/vmstates.html$ /nova/$1/reference/vm-states.html redirectmatch 301 ^/nova/([^/]+)/wsgi.html$ /nova/$1/user/wsgi.html,redirectmatch 301 ^/nova/([^/]+)/placement.html$ /nova/$1/user/placement.html redirectmatch 301 ^/nova/([^/]+)/quotas.html$ /nova/$1/user/quotas.html redirectmatch 301 ^/nova/([^/]+)/support-matrix.html$ /nova/$1/user/support-matrix.html redirectmatch 301 ^/nova/([^/]+)/upgrade.html$ /nova/$1/user/upgrade.html redirectmatch 301 ^/nova/([^/]+)/vendordata.html$ /nova/$1/user/vendordata.html redirectmatch 301 ^/nova/([^/]+)/wsgi.html$ /nova/$1/user/wsgi.htmlredirectmatch 301 ^/nova/([^/]+)/i18n.html$ /nova/$1/reference/i18n.html redirectmatch 301 ^/nova/([^/]+)/notifications.html$ /nova/$1/reference/notifications.html redirectmatch 301 ^/nova/([^/]+)/policy_enforcement.html$ /nova/$1/reference/policy-enforcement.html redirectmatch 301 ^/nova/([^/]+)/rpc.html$ /nova/$1/reference/rpc.html redirectmatch 301 ^/nova/([^/]+)/devref/rpc.html /nova/$1/reference/rpc.html redirectmatch 301 ^/nova/([^/]+)/scheduler_evolution.html$ /nova/$1/reference/scheduler-evolution.html redirectmatch 301 ^/nova/([^/]+)/services.html$ /nova/$1/reference/services.html redirectmatch 301 ^/nova/([^/]+)/stable_api.html$ /nova/$1/reference/stable-api.html redirectmatch 301 ^/nova/([^/]+)/threading.html$ /nova/$1/reference/threading.html redirectmatch 301 ^/nova/([^/]+)/vmstates.html$ /nova/$1/reference/vm-states.html redirectmatch 301 ^/nova/([^/]+)/addmethod.openstackapi.html$ /nova/$1/contributor/api-2.html redirectmatch 301 ^/nova/([^/]+)/api_plugins.html$ /nova/$1/contributor/api.html redirectmatch 301 ^/nova/([^/]+)/blueprints.html$ /nova/$1/contributor/blueprints.html redirectmatch 301 ^/nova/([^/]+)/code-review.html$ /nova/$1/contributor/code-review.html redirectmatch 301 ^/nova/([^/]+)/development.environment.html$ /nova/$1/contributor/development-environment.htmlredirectmatch 301 ^/nova/([^/]+)/api_microversion_dev.html$ /nova/$1/contributor/microversions.html redirectmatch 301 ^/nova/([^/]+)/placement_dev.html$ /nova/$1/contributor/placement.html redirectmatch 301 ^/nova/([^/]+)/policies.html$ /nova/$1/contributor/policies.html redirectmatch 301 ^/nova/([^/]+)/process.html$ /nova/$1/contributor/process.html redirectmatch 301 ^/nova/([^/]+)/project_scope.html$ /nova/$1/contributor/project-scope.html redirectmatch 301 ^/nova/([^/]+)/releasenotes.html$ /nova/$1/contributor/releasenotes.html redirectmatch 301 ^/nova/([^/]+)/test_strategy.html$ /nova/$1/contributor/testing.html redirectmatch 301 ^/nova/([^/]+)/testing/libvirt-numa.html$ /nova/$1/contributor/testing/libvirt-numa.html redirectmatch 301 ^/nova/([^/]+)/testing/serial-console.html$ /nova/$1/contributor/testing/serial-console.html redirectmatch 301 ^/nova/([^/]+)/testing/zero-downtime-upgrade.html$ /nova/$1/contributor/testing/zero-downtime-upgrade.html redirectmatch 301 ^/nova/([^/]+)/sample_config.html$ /nova/$1/configuration/sample-config.html redirectmatch 301 ^/nova/([^/]+)/sample_policy.html$ /nova/$1/configuration/sample-policy.html,33,33
openstack%2Fnova~master~Ie42935e5fa5d2199f9878edc2951ba0734e95a7c,openstack/nova,master,Ie42935e5fa5d2199f9878edc2951ba0734e95a7c,add top 404 redirect,MERGED,2017-08-02 20:03:13.000000000,2017-08-21 11:35:08.000000000,2017-08-03 00:24:13.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-02 20:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11a035d7b2b4b63f1d4a9187a98cb4d72a1c82d1', 'message': 'add top 404 redirect\n\nFrom http://paste.openstack.org/show/617316/ this devref linked page\nis our top 404 at the moment, add a redirect match for it.\n\nChange-Id: Ie42935e5fa5d2199f9878edc2951ba0734e95a7c\n'}, {'number': 2, 'created': '2017-08-02 20:37:00.000000000', 'files': ['doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1f9edd6f6c5a9839ca1919479298f1d56fcc1a1', 'message': 'add top 404 redirect\n\nFrom http://paste.openstack.org/show/617316/ this devref linked page\nis our top 404 at the moment, add a redirect match for it.\n\nChange-Id: Ie42935e5fa5d2199f9878edc2951ba0734e95a7c\n'}]",2,490181,a1f9edd6f6c5a9839ca1919479298f1d56fcc1a1,18,5,2,2750,,,0,"add top 404 redirect

From http://paste.openstack.org/show/617316/ this devref linked page
is our top 404 at the moment, add a redirect match for it.

Change-Id: Ie42935e5fa5d2199f9878edc2951ba0734e95a7c
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/490181/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_extra/.htaccess'],1,11a035d7b2b4b63f1d4a9187a98cb4d72a1c82d1,redirects,redirectmatch 301 ^/nova/([^/]+)/devref/rpc.html /nova/$1/reference/rpc.html,,1,0
openstack%2Fnova~master~I9a9af0e3e04c7ea7314b7077a681d6a111de6e47,openstack/nova,master,I9a9af0e3e04c7ea7314b7077a681d6a111de6e47,Fix 409 handling in report client when deleting inventory,MERGED,2017-08-01 22:01:39.000000000,2017-08-21 11:34:48.000000000,2017-08-04 16:52:08.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-01 22:01:39.000000000', 'files': ['nova/exception.py', 'nova/tests/functional/api/openstack/placement/gabbits/with-allocations.yaml', 'nova/api/openstack/placement/handlers/inventory.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6dc38ea7db58d1bc6e3e937355e1a4b02678d75', 'message': ""Fix 409 handling in report client when deleting inventory\n\nChange I30b51a3235e69f4a2993052f7f9ef853858f2d65 regressed\na check added in I10b22606f704abcb970939fb2cd77f026d4d6322\nwhich is meant to avoid dumping errors in the logs when\nthe scheduler report client fails to delete compute node\nresource provider inventory since some resource class inventory\nis still in use. It's all very fragile since the check\nin the report client is dependent on a regex for the\nerror message coming back from the Placement API, but until\nwe have error codes in the API responses, this is what we\nhave to deal with.\n\nThis change puts the original error message back in the\nPlacement API and adds notes for awareness.\n\nChange-Id: I9a9af0e3e04c7ea7314b7077a681d6a111de6e47\nCloses-Bug: #1708031\n""}]",0,489763,f6dc38ea7db58d1bc6e3e937355e1a4b02678d75,31,6,1,6873,,,0,"Fix 409 handling in report client when deleting inventory

Change I30b51a3235e69f4a2993052f7f9ef853858f2d65 regressed
a check added in I10b22606f704abcb970939fb2cd77f026d4d6322
which is meant to avoid dumping errors in the logs when
the scheduler report client fails to delete compute node
resource provider inventory since some resource class inventory
is still in use. It's all very fragile since the check
in the report client is dependent on a regex for the
error message coming back from the Placement API, but until
we have error codes in the API responses, this is what we
have to deal with.

This change puts the original error message back in the
Placement API and adds notes for awareness.

Change-Id: I9a9af0e3e04c7ea7314b7077a681d6a111de6e47
Closes-Bug: #1708031
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/489763/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/functional/api/openstack/placement/gabbits/with-allocations.yaml', 'nova/api/openstack/placement/handlers/inventory.py']",3,f6dc38ea7db58d1bc6e3e937355e1a4b02678d75,bug/1708031, except exception.InventoryInUse as ex: # NOTE(mriedem): This message cannot change without impacting the # nova.scheduler.client.report._RE_INV_IN_USE regex. raise webob.exc.HTTPConflict(explanation=ex.format_message()), except exception.InventoryInUse: raise webob.exc.HTTPConflict( _('Unable to delete inventory for resource provider ' '%(rp_uuid)s because the inventory is in use.') % {'rp_uuid': resource_provider.uuid}),7,6
openstack%2Fswift~master~Ic66ccb51f76bc7727212a3565acc160a7e168736,openstack/swift,master,Ic66ccb51f76bc7727212a3565acc160a7e168736,Account Quotas for Storage Policies.,NEW,2017-07-11 13:12:54.000000000,2017-08-21 11:34:37.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 4608}, {'_account_id': 6968}, {'_account_id': 13052}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 17245}]","[{'number': 1, 'created': '2017-07-11 13:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4fa9acf3f08279cf165625b4047225bc04895bc', 'message': 'Account Quota Factor for Storage Policies.\n\nStorage Policies allow the implementation of different storage mechanisms.\nDifferent storage mechanisms can result in different storage economizations.\nCurrently, there is no way to forward these economizations to the end-user,\nnor it is possible to encourage the user to use certain storage policies by\ngiving him Quota advantages.\n\nThis commit introduces a float-valued option\n(called storage_policy_factor_<policy-name>)\nfor each storage policy, denoting\na Quota weight factor for the bytes stored inside. E.g. if a storage policy has\na weight of 0.5, only half of the bytes are charged for the quota. It is also\npossible to specify negative numbers, meaning that bytes stored in this\npolicy allow to store additional bytes in overall.\n\nOne Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x\ntotal storage. The EC Policy would store only half of the bytes as the 3x\nReplica. One could weight the EC Policy with a 0.5 factor\nto forward the economization to the end-user or to motivate him to use this\npolicy.\n\nChange-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736\n'}, {'number': 2, 'created': '2017-07-11 17:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d3a6866d2fa0d4a0414975b09668c4dd4a86a53', 'message': 'Account Quota Factor for Storage Policies.\n\nStorage Policies allow the implementation of different storage mechanisms.\nDifferent storage mechanisms can result in different storage economizations.\nCurrently, there is no way to forward these economizations to the end-user,\nnor it is possible to encourage the user to use certain storage policies by\ngiving him Quota advantages.\n\nThis commit introduces a float-valued option\n(called storage_policy_factor_<policy-name>)\nfor each storage policy, denoting\na Quota weight factor for the bytes stored inside. E.g. if a storage policy has\na weight of 0.5, only half of the bytes are charged for the quota. It is also\npossible to specify negative numbers, meaning that bytes stored in this\npolicy allow to store additional bytes in overall.\n\nOne Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x\ntotal storage. The EC Policy would store only half of the bytes as the 3x\nReplica. One could weight the EC Policy with a 0.5 factor\nto forward the economization to the end-user or to motivate him to use this\npolicy.\n\nChange-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736\n'}, {'number': 3, 'created': '2017-08-14 09:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6af7bff230d4860f915dee9a306aa2c06feb5bf6', 'message': 'Account Quota Factor for Storage Policies.\n\nStorage Policies allow the implementation of different storage mechanisms.\nDifferent storage mechanisms can result in different storage economizations.\nCurrently, there is no way to forward these economizations to the end-user,\nnor it is possible to encourage the user to use certain storage policies by\ngiving him Quota advantages.\n\nThis commit introduces a float-valued option\n(called storage_policy_factor_<policy-name>)\nfor each storage policy, denoting\na Quota weight factor for the bytes stored inside. E.g. if a storage policy has\na weight of 0.5, only half of the bytes are charged for the quota. It is also\npossible to specify negative numbers, meaning that bytes stored in this\npolicy allow to store additional bytes in overall.\n\nOne Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x\ntotal storage. The EC Policy would store only half of the bytes as the 3x\nReplica. One could weight the EC Policy with a 0.5 factor\nto forward the economization to the end-user or to motivate him to use this\npolicy.\n\nChange-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736\n'}, {'number': 4, 'created': '2017-08-17 13:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88f697a65c94e6fb3be1a88755ac9573559de02c', 'message': 'Account Quota Factor for Storage Policies.\n\nStorage Policies allow the implementation of different storage mechanisms.\nDifferent storage mechanisms can result in different storage economizations.\nCurrently, there is no way to forward these economizations to the end-user,\nnor it is possible to encourage the user to use certain storage policies by\ngiving him Quota advantages.\n\nThis commit introduces a float-valued option\n(called storage_policy_factor_<policy-name>)\nfor each storage policy, denoting\na Quota weight factor for the bytes stored inside. E.g. if a storage policy has\na weight of 0.5, only half of the bytes are charged for the quota. It is also\npossible to specify negative numbers, meaning that bytes stored in this\npolicy allow to store additional bytes in overall.\n\nOne Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x\ntotal storage. The EC Policy would store only half of the bytes as the 3x\nReplica. One could weight the EC Policy with a 0.5 factor\nto forward the economization to the end-user or to motivate him to use this\npolicy.\n\nChange-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736\n'}, {'number': 5, 'created': '2017-08-18 14:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14cdca24d8c543d0768ab9bf67a1b7c20eae8130', 'message': ""Account Quota Factor for Storage Policies.\n\nStorage Policies allow the implementation of different storage mechanisms.\nDifferent storage mechanisms can result in different storage economizations.\nCurrently, there is no way to forward these economizations to the end-user,\nnor it is possible to encourage the user to use certain storage policies by\ngiving him Quota advantages.\n\nThis commit introduces quotas for storage policies, using the metadata entry\n'x-account-meta-quota-storage-policy-idx-INDEX-bytes' for a storage policy\nwith index INDEX. This metadata entry denotes the limits of bytes which are\nallowed to be stored in all containers using this policy.\n\nThe overall handling is almost equal to the account quota for the overall\naccount (e.g. only resellers are allowed to set the quotas), but there is\none difference: The metadata entry 'x-account-meta-quota-storage-policy-idx-INDEX-bytes'\ngets translated to  'x-account-quota-storage-policy-NAME-bytes' on an account\nHEAD or GET, because ordinary users of the cluster understand names better\nthan indices.\n\nOne Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x total storage.\nThe EC Policy would store only half of the bytes as the 3x Replica. One could set the quota\nfor the EC policy to the double amount of the one for the 3x Replica to forward the\neconomization to the end-user or to motivate him to use this policy.\n\nChange-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736\n""}, {'number': 6, 'created': '2017-08-21 10:09:46.000000000', 'files': ['swift/common/middleware/account_quotas.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_account_quotas.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cea2f08912dd84041e890e48c4934faf615b38f7', 'message': ""Account Quotas for Storage Policies.\n\nStorage Policies allow the implementation of different storage mechanisms.\nDifferent storage mechanisms can result in different storage economizations.\nCurrently, there is no way to forward these economizations to the end-user,\nnor it is possible to encourage the user to use certain storage policies by\ngiving him Quota advantages.\n\nThis commit introduces quotas for storage policies, using the metadata entry\n'x-account-meta-quota-storage-policy-idx-INDEX-bytes' for a storage policy\nwith index INDEX. This metadata entry denotes the limits of bytes which are\nallowed to be stored in all containers using this policy. (PUT, POST) requests\nto a container using a storage policy whose quota is exceeded are blocked.\n\nThe overall handling is almost equal to the account quota for the overall\naccount (e.g. only resellers are allowed to set the quotas), but there is\none difference: The metadata entry 'x-account-meta-quota-storage-policy-idx-INDEX-bytes'\ngets translated to  'x-account-quota-storage-policy-NAME-bytes' on an account\nHEAD or GET, because ordinary users of the cluster understand names better\nthan indices.\n\nOne Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x total storage.\nThe EC Policy would store only half of the bytes as the 3x Replica. One could set the quota\nfor the EC policy to the double amount of the one for the 3x Replica to forward the\neconomization to the end-user or to motivate him to use this policy.\n\nChange-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736\n""}]",6,482558,cea2f08912dd84041e890e48c4934faf615b38f7,29,8,6,17245,,,0,"Account Quotas for Storage Policies.

Storage Policies allow the implementation of different storage mechanisms.
Different storage mechanisms can result in different storage economizations.
Currently, there is no way to forward these economizations to the end-user,
nor it is possible to encourage the user to use certain storage policies by
giving him Quota advantages.

This commit introduces quotas for storage policies, using the metadata entry
'x-account-meta-quota-storage-policy-idx-INDEX-bytes' for a storage policy
with index INDEX. This metadata entry denotes the limits of bytes which are
allowed to be stored in all containers using this policy. (PUT, POST) requests
to a container using a storage policy whose quota is exceeded are blocked.

The overall handling is almost equal to the account quota for the overall
account (e.g. only resellers are allowed to set the quotas), but there is
one difference: The metadata entry 'x-account-meta-quota-storage-policy-idx-INDEX-bytes'
gets translated to  'x-account-quota-storage-policy-NAME-bytes' on an account
HEAD or GET, because ordinary users of the cluster understand names better
than indices.

One Use-case: Imagine there exist two policies, 3x Replica and EC with 1.5x total storage.
The EC Policy would store only half of the bytes as the 3x Replica. One could set the quota
for the EC policy to the double amount of the one for the 3x Replica to forward the
economization to the end-user or to motivate him to use this policy.

Change-Id: Ic66ccb51f76bc7727212a3565acc160a7e168736
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/482558/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/account_quotas.py', 'etc/proxy-server.conf-sample', 'swift/proxy/controllers/base.py', 'test/unit/common/middleware/test_account_quotas.py']",4,f4fa9acf3f08279cf165625b4047225bc04895bc,account-quota-spolicy,"import mock info = headers_to_account_info(self.headers, 200) info.update( {k[0]: k[1] for k in self.headers if k[0].startswith('x-account-storage-policy-')}) env.setdefault('swift.infocache', {})[cache_key] = info app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) account_quotas.AccountQuotaMiddleware(FakeApp(headers), {})) account_quotas.AccountQuotaMiddleware(FakeApp(headers), {})) @mock.patch('swift.common.middleware.account_quotas.POLICIES', mock.Mock()) def test_exceed_bytes_spolicy(self): headers = [('x-account-bytes-used', '751'), ('x-account-storage-policy-first-bytes-used', 500), ('x-account-meta-quota-bytes', 1500)] app = account_quotas.AccountQuotaMiddleware( FakeApp(headers), {'storage_policy_factor_first': 2.5}) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 413) self.assertEqual(res.body, 'Upload exceeds quota.') @mock.patch('swift.common.middleware.account_quotas.POLICIES', mock.Mock()) def test_under_quota_spolicy(self): headers = [('x-account-bytes-used', '1000'), ('x-account-storage-policy-first-bytes-used', 500), ('x-account-storage-policy-second-bytes-used', 500), ('x-account-meta-quota-bytes', 1500)] app = account_quotas.AccountQuotaMiddleware( FakeApp(headers), {'storage_policy_factor_first': 2.5, 'storage_policy_factor_second': 0.5}) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) @mock.patch('swift.common.middleware.account_quotas.POLICIES', mock.Mock()) def test_under_quota_spolicy_negative(self): headers = [('x-account-bytes-used', '1500'), ('x-account-storage-policy-first-bytes-used', 500), ('x-account-storage-policy-second-bytes-used', 1000), ('x-account-meta-quota-bytes', 1000)] app = account_quotas.AccountQuotaMiddleware( FakeApp(headers), {'storage_policy_factor_first': -1}) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) account_quotas.AccountQuotaMiddleware(FakeApp(headers), {})) account_quotas.AccountQuotaMiddleware(FakeApp(headers), {})) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeBadApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) @mock.patch('swift.common.middleware.account_quotas.POLICIES', mock.Mock()) def test_get_account_spolicy(self): headers = [('x-account-bytes-used', '1500'), ('x-account-storage-policy-first-bytes-used', 500), ('x-account-storage-policy-second-bytes-used', 500), ('x-account-storage-policy-third-bytes-used', 500)] app = account_quotas.AccountQuotaMiddleware( FakeApp(headers), {'storage_policy_factor_first': 2.5, 'storage_policy_factor_second': 0.333}) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'GET', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) self.assertIn( account_quotas.SPOLICY_CHARGED_HDR_PREFIX + 'first' + account_quotas.SPOLICY_CHARGED_HDR_SUFFIX, res.headers) self.assertEqual( float(res.headers[account_quotas.SPOLICY_CHARGED_HDR_PREFIX + 'first' + account_quotas.SPOLICY_CHARGED_HDR_SUFFIX]), 500 * 2.5) self.assertIn( account_quotas.SPOLICY_CHARGED_HDR_PREFIX + 'second' + account_quotas.SPOLICY_CHARGED_HDR_SUFFIX, res.headers) self.assertEqual( float(res.headers[account_quotas.SPOLICY_CHARGED_HDR_PREFIX + 'second' + account_quotas.SPOLICY_CHARGED_HDR_SUFFIX]), 500 * 0.333) self.assertNotIn( account_quotas.SPOLICY_CHARGED_HDR_PREFIX + 'third' + account_quotas.SPOLICY_CHARGED_HDR_SUFFIX, res.headers) self.assertIn(account_quotas.SPOLICY_TTL_CHARGED_HDR, res.headers) self.assertEqual( float(res.headers[account_quotas.SPOLICY_TTL_CHARGED_HDR]), 500 * 2.5 + 500 * 0.333 + 500) @mock.patch('swift.common.middleware.account_quotas.POLICIES', mock.Mock()) def test_get_account_no_spolicy(self): headers = [('x-account-bytes-used', '1500'), ('x-account-storage-policy-first-bytes-used', 500)] app = account_quotas.AccountQuotaMiddleware(FakeApp(headers), {}) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'GET', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) self.assertNotIn( account_quotas.SPOLICY_CHARGED_HDR_PREFIX + 'first' + account_quotas.SPOLICY_CHARGED_HDR_SUFFIX, res.headers) self.assertNotIn(account_quotas.SPOLICY_TTL_CHARGED_HDR, res.headers) @mock.patch('swift.common.middleware.account_quotas.POLICIES', mock.Mock()) def test_spolicy_no_float(self): with self.assertRaises(ValueError) as cm: account_quotas.AccountQuotaMiddleware( None, {'storage_policy_factor_first': 'ada'}) self.assertEqual( cm.exception.message, 'Value ""ada"" for option ""storage_policy_factor_first"" ' 'must be a float.') def test_spolicy_policy_missing(self): with self.assertRaises(ValueError) as cm: account_quotas.AccountQuotaMiddleware( None, {'storage_policy_factor_first': 1}) self.assertEqual( cm.exception.message, 'Error in option ""storage_policy_factor_first"": ' 'Policy ""first"" does not exist.') "," env.setdefault('swift.infocache', {})[cache_key] = \ headers_to_account_info(self.headers, 200) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) account_quotas.AccountQuotaMiddleware(FakeApp(headers))) account_quotas.AccountQuotaMiddleware(FakeApp(headers))) account_quotas.AccountQuotaMiddleware(FakeApp(headers))) account_quotas.AccountQuotaMiddleware(FakeApp(headers))) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeBadApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers)) app = account_quotas.AccountQuotaMiddleware(FakeApp(headers))",227,37
openstack%2Fnova~master~I0835e5b4f22277465012aab9a5bf474608cb533b,openstack/nova,master,I0835e5b4f22277465012aab9a5bf474608cb533b,placement: remove existing allocs when set allocs,MERGED,2017-07-31 16:32:14.000000000,2017-08-21 11:34:36.000000000,2017-08-02 17:34:55.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-31 16:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ff2f18979398ae810b3f6d9acadabfe37578f45', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}, {'number': 2, 'created': '2017-08-01 13:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40f8aaa47136543d2da5a926fab858bab81ed487', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}, {'number': 3, 'created': '2017-08-01 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81b3118d502cd2320b68b430093b9004ecb799f9', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}, {'number': 4, 'created': '2017-08-01 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16974c024055179b3f1a018287ca0792e51d0e24', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}, {'number': 5, 'created': '2017-08-01 15:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8ba7a9f010a2ec5d231f79d1d6c8adcd4307f17', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}, {'number': 6, 'created': '2017-08-01 15:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/befda4b21b51198381f868b2aa606e9fdf800b61', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}, {'number': 7, 'created': '2017-08-01 19:02:14.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/afab0ca0c8f4c68b8d6d8646f408e9522596870e', 'message': 'placement: remove existing allocs when set allocs\n\nBug #1707669 highlighted a situation that arose when attempting to\nremove part of an allocation for a source host during a resize\noperation where the exiting allocation was not being properly deleted.\n\nIn this patch, we remove the part of the WHERE condition that limited\ndeleted allocation records to only those referring to a particular\nresource provider. In doing so, we make the creation of an allocation\nfor a consumer a proper overwrite operation.\n\nChange-Id: I0835e5b4f22277465012aab9a5bf474608cb533b\nFixes-bug: #1707669\n'}]",4,489273,afab0ca0c8f4c68b8d6d8646f408e9522596870e,55,15,7,7,,,0,"placement: remove existing allocs when set allocs

Bug #1707669 highlighted a situation that arose when attempting to
remove part of an allocation for a source host during a resize
operation where the exiting allocation was not being properly deleted.

In this patch, we remove the part of the WHERE condition that limited
deleted allocation records to only those referring to a particular
resource provider. In doing so, we make the creation of an allocation
for a consumer a proper overwrite operation.

Change-Id: I0835e5b4f22277465012aab9a5bf474608cb533b
Fixes-bug: #1707669
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/489273/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py']",2,3ff2f18979398ae810b3f6d9acadabfe37578f45,bug/1707071," def test_multi_provider_allocation(self): """"""Tests that an allocation that includes more than one resource provider can be created, listed and deleted properly. Bug #1707669 highlighted a situation that arose when attempting to remove part of an allocation for a source host during a resize operation where the exiting allocation was not being properly deleted. """""" cn_source = objects.ResourceProvider( context=self.ctx, uuid=uuidsentinel.cn_source, name=uuidsentinel.cn_source, ) cn_source.create() cn_dest = objects.ResourceProvider( context=self.ctx, uuid=uuidsentinel.cn_dest, name=uuidsentinel.cn_dest, ) cn_dest.create() # Add same inventory to both source and destination host for cn in (cn_source, cn_dest): cpu_inv = objects.Inventory( context=self.ctx, resource_provider=cn, resource_class=fields.ResourceClass.VCPU, total=24, reserved=0, min_unit=1, max_unit=24, step_size=1, allocation_ratio=16.0) ram_inv = objects.Inventory( context=self.ctx, resource_provider=cn, resource_class=fields.ResourceClass.MEMORY_MB, total=1024, reserved=0, min_unit=64, max_unit=1024, step_size=64, allocation_ratio=1.5) inv_list = objects.InventoryList(context=self.ctx, objects=[cpu_inv, ram_inv]) cn.set_inventory(inv_list) # Now create an allocation that represents a move operation where the # scheduler has selected cn_dest as the target host and created a # ""doubled-up"" allocation for the duration of the move operation alloc_list = objects.AllocationList(context=self.ctx, objects=[ objects.Allocation( context=self.ctx, consumer_id=uuidsentinel.instance, resource_provider=cn_source, resource_class=fields.ResourceClass.VCPU, used=1), objects.Allocation( context=self.ctx, consumer_id=uuidsentinel.instance, resource_provider=cn_source, resource_class=fields.ResourceClass.MEMORY_MB, used=256), objects.Allocation( context=self.ctx, consumer_id=uuidsentinel.instance, resource_provider=cn_dest, resource_class=fields.ResourceClass.VCPU, used=1), objects.Allocation( context=self.ctx, consumer_id=uuidsentinel.instance, resource_provider=cn_dest, resource_class=fields.ResourceClass.MEMORY_MB, used=256), ]) alloc_list.create_all() src_allocs = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, cn_source.uuid) self.assertEqual(2, len(src_allocs)) dest_allocs = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, cn_dest.uuid) self.assertEqual(2, len(dest_allocs)) consumer_allocs = objects.AllocationList.get_all_by_consumer_id( self.ctx, uuidsentinel.instance) self.assertEqual(4, len(consumer_allocs)) # Validate that when we create an allocation for a consumer that we # delete any existing allocation and replace it with what the new. # Here, we're emulating the step that occurs on confirm_resize() where # the source host pulls the existing allocation for the instance and # removes any resources that refer to itself and saves the allocation # back to placement new_alloc_list = objects.AllocationList(context=self.ctx, objects=[ objects.Allocation( context=self.ctx, consumer_id=uuidsentinel.instance, resource_provider=cn_dest, resource_class=fields.ResourceClass.VCPU, used=1), objects.Allocation( context=self.ctx, consumer_id=uuidsentinel.instance, resource_provider=cn_dest, resource_class=fields.ResourceClass.MEMORY_MB, used=256), ]) new_alloc_list.create_all() src_allocs = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, cn_source.uuid) self.assertEqual(0, len(src_allocs)) dest_allocs = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, cn_dest.uuid) self.assertEqual(2, len(dest_allocs)) consumer_allocs = objects.AllocationList.get_all_by_consumer_id( self.ctx, uuidsentinel.instance) self.assertEqual(2, len(consumer_allocs)) "," def test_get_all_multiple_providers(self): # This confirms that the join with resource provider is # behaving. rp1, allocation1 = self._make_allocation(uuidsentinel.rp1) rp2, allocation2 = self._make_allocation(uuidsentinel.rp2) allocations = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, rp1.uuid) self.assertEqual(1, len(allocations)) self.assertEqual(rp1.id, allocations[0].resource_provider.id) self.assertEqual(allocation1.resource_provider.id, allocations[0].resource_provider.id) # add more allocations for the first resource provider # of the same class alloc3 = objects.Allocation( self.ctx, consumer_id=uuidsentinel.consumer1, resource_class=fields.ResourceClass.DISK_GB, resource_provider=rp1, used=2, ) alloc_list = objects.AllocationList(self.ctx, objects=[alloc3]) alloc_list.create_all() allocations = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, rp1.uuid) self.assertEqual(2, len(allocations)) # add more allocations for the first resource provider # of a different class # First we need to add sufficient inventory res_cls = fields.ResourceClass.IPV4_ADDRESS inv = objects.Inventory(self.ctx, resource_provider=rp1, resource_class=res_cls, total=256, max_unit=10) inv.obj_set_defaults() inv.create() # Now allocate 4 of them. alloc4 = objects.Allocation( self.ctx, consumer_id=uuidsentinel.consumer2, resource_class=res_cls, resource_provider=rp1, used=4, ) alloc_list = objects.AllocationList(self.ctx, objects=[alloc4]) alloc_list.create_all() allocations = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, rp1.uuid) self.assertEqual(3, len(allocations)) self.assertEqual(rp1.uuid, allocations[0].resource_provider.uuid) allocations = objects.AllocationList.get_all_by_resource_provider_uuid( self.ctx, rp2.uuid) self.assertEqual(1, len(allocations)) self.assertEqual(rp2.uuid, allocations[0].resource_provider.uuid) self.assertIn(fields.ResourceClass.DISK_GB, [allocation.resource_class for allocation in allocations]) self.assertNotIn(fields.ResourceClass.IPV4_ADDRESS, [allocation.resource_class for allocation in allocations]) ",141,71
openstack%2Fnova~master~I346881bc3bc48794b139cc471be1de11c49b8ee3,openstack/nova,master,I346881bc3bc48794b139cc471be1de11c49b8ee3,Accept any scheduler driver entrypoint,MERGED,2017-07-18 14:38:52.000000000,2017-08-21 11:34:21.000000000,2017-08-02 16:57:52.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-18 14:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3cc2ed968469dccae31cb97312c6e57da01bec6', 'message': ""Add a scheduler custom driver possibility\n\nWe reverted the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3\nbut it was an incidental change not properly communicated without a clear\ndeprecation notice.\n\nGiven now the scheduler manager is given to drivers a list of hosts that are\nable to accept resource requests supported by the placement service, I think it's\nacceptable to have custom drivers having a different behaviour if and only if\nthe input list of hosts is consistent with our in-tree drivers (for interoperable\nconcerns).\n\nChange-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3\nCloses-Bug: #1704788\n""}, {'number': 2, 'created': '2017-07-19 16:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/047738393a4f800203a065c6a718e106166e7404', 'message': 'Accept any scheduler driver entrypoint\n\nWe broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3\nto use other scheduler drivers but the ones we provided in tree.\n\nUnfortunately, that was an incidental change without any communication.\n\nRemoving the choices kwarg will allow operators to run their own scheduler driver.\nWhether Nova would stop supporting custom drivers would require a totally separate\nchange which would clearly communicate thru a deprecation notice but that is not\nthe intent for that bugfix, which aims only to bring back the capability.\n\nChange-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3\nCloses-Bug: #1704788\n'}, {'number': 3, 'created': '2017-07-20 07:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7289ee739d1a0806b84bbf0b9e4b59c93ba16fbc', 'message': 'Accept any scheduler driver entrypoint\n\nWe broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3\nto use other scheduler drivers but the ones we provided in tree.\n\nUnfortunately, that was an incidental change without any communication.\n\nRemoving the choices kwarg will allow operators to run their own scheduler driver.\nWhether Nova would stop supporting custom drivers would require a totally separate\nchange which would clearly communicate thru a deprecation notice but that is not\nthe intent for that bugfix, which aims only to bring back the capability.\n\nChange-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3\nCloses-Bug: #1704788\n'}, {'number': 4, 'created': '2017-07-31 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4de10cb27906ca460eb53a2aa56f1523c6ff8959', 'message': 'Accept any scheduler driver entrypoint\n\nWe broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3\nto use other scheduler drivers but the ones we provided in tree.\n\nUnfortunately, that was an incidental change without any communication.\n\nRemoving the choices kwarg will allow operators to run their own scheduler driver.\nWhether Nova would stop supporting custom drivers would require a totally separate\nchange which would clearly communicate thru a deprecation notice but that is not\nthe intent for that bugfix, which aims only to bring back the capability.\n\nChange-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3\nCloses-Bug: #1704788\n'}, {'number': 5, 'created': '2017-08-01 09:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53cb36b17a8b4004d55269e338be1972f057a8fd', 'message': 'Accept any scheduler driver entrypoint\n\nWe broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3\nto use other scheduler drivers but the ones we provided in tree.\n\nUnfortunately, that was an incidental change without any communication.\n\nRemoving the choices kwarg will allow operators to run their own scheduler driver.\nWhether Nova would stop supporting custom drivers would require a totally separate\nchange which would clearly communicate thru a deprecation notice but that is not\nthe intent for that bugfix, which aims only to bring back the capability.\n\nChange-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3\nCloses-Bug: #1704788\n'}, {'number': 6, 'created': '2017-08-01 16:50:12.000000000', 'files': ['releasenotes/notes/bug-1704788-490797827bae9142.yaml', 'nova/conf/scheduler.py', 'nova/tests/unit/scheduler/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e5c7b52a403e708dba5a069dd86b628a4cb952c', 'message': 'Accept any scheduler driver entrypoint\n\nWe broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3\nto use other scheduler drivers but the ones we provided in tree.\n\nUnfortunately, that was an incidental change without any communication.\n\nRemoving the choices kwarg will allow operators to run their own scheduler driver.\nWhether Nova would stop supporting custom drivers would require a totally separate\nchange which would clearly communicate thru a deprecation notice but that is not\nthe intent for that bugfix, which aims only to bring back the capability.\n\nChange-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3\nCloses-Bug: #1704788\n'}]",11,484828,1e5c7b52a403e708dba5a069dd86b628a4cb952c,114,19,6,7166,,,0,"Accept any scheduler driver entrypoint

We broke the possibility in Ocata with Icdcf839b6d28893694bfa1355e9dbe8dbb5ea8c3
to use other scheduler drivers but the ones we provided in tree.

Unfortunately, that was an incidental change without any communication.

Removing the choices kwarg will allow operators to run their own scheduler driver.
Whether Nova would stop supporting custom drivers would require a totally separate
change which would clearly communicate thru a deprecation notice but that is not
the intent for that bugfix, which aims only to bring back the capability.

Change-Id: I346881bc3bc48794b139cc471be1de11c49b8ee3
Closes-Bug: #1704788
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/484828/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/scheduler.py'],1,d3cc2ed968469dccae31cb97312c6e57da01bec6,bug/1704788," ""chance_scheduler"", ""fake_scheduler"", ""custom_scheduler""),** 'custom_scheduler', which requires you to add a new entrypoint in setup.cfg named 'custom_scheduler' and pointing to your scheduler driver module."," ""chance_scheduler"", ""fake_scheduler""),",4,1
openstack%2Fnova~master~Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4,openstack/nova,master,Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4,add redirects for existing broken docs urls,MERGED,2017-08-01 16:18:07.000000000,2017-08-21 11:34:15.000000000,2017-08-02 01:48:28.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-01 16:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1292da4a4076c96e724decf3f958a44acc5ca93d', 'message': 'add redirects for existing broken docs urls\n\nThis adds the redirects to the existing broken doc urls, and explains\nhow we generate this.\n\nChange-Id: Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4\n'}, {'number': 2, 'created': '2017-08-01 16:20:43.000000000', 'files': ['doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/122efa35f6ddda8ae765d402d4e6ebf81226b8c4', 'message': 'add redirects for existing broken docs urls\n\nThis adds the redirects to the existing broken doc urls, and explains\nhow we generate this.\n\nChange-Id: Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4\n'}]",2,489650,122efa35f6ddda8ae765d402d4e6ebf81226b8c4,17,5,2,2750,,,0,"add redirects for existing broken docs urls

This adds the redirects to the existing broken doc urls, and explains
how we generate this.

Change-Id: Ied2b95f4e7d8b35c9eee5740f17bfe75e479f3c4
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/489650/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_extra/.htaccess'],1,1292da4a4076c96e724decf3f958a44acc5ca93d,, # The following is generated with: # # git log --follow --name-status --format='%H' 2d0dfc632f.. -- doc/source | \ # grep ^R | grep .rst | cut -f2- | \ # sed -e 's|doc/source/|redirectmatch 301 ^/nova/([^/]+)/|' -e 's|doc/source/|/nova/$1/|' -e 's/.rst/.html$/' -e 's/.rst/.html/' redirectmatch 301 ^/nova/([^/]+)/aggregates.html$ /nova/$1/user/aggregates.html redirectmatch 301 ^/nova/([^/]+)/architecture.html$ /nova/$1/user/architecture.html redirectmatch 301 ^/nova/([^/]+)/block_device_mapping.html$ /nova/$1/user/block-device-mapping.html redirectmatch 301 ^/nova/([^/]+)/cells.html$ /nova/$1/user/cells.html redirectmatch 301 ^/nova/([^/]+)/conductor.html$ /nova/$1/user/conductor.html redirectmatch 301 ^/nova/([^/]+)/feature_classification.html$ /nova/$1/user/feature-classification.html redirectmatch 301 ^/nova/([^/]+)/filter_scheduler.html$ /nova/$1/user/filter-scheduler.html redirectmatch 301 ^/nova/([^/]+)/placement.html$ /nova/$1/user/placement.html redirectmatch 301 ^/nova/([^/]+)/quotas.html$ /nova/$1/user/quotas.html redirectmatch 301 ^/nova/([^/]+)/support-matrix.html$ /nova/$1/user/support-matrix.html redirectmatch 301 ^/nova/([^/]+)/upgrade.html$ /nova/$1/user/upgrade.html redirectmatch 301 ^/nova/([^/]+)/vendordata.html$ /nova/$1/user/vendordata.html redirectmatch 301 ^/nova/([^/]+)/wsgi.html$ /nova/$1/user/wsgi.html redirectmatch 301 ^/nova/([^/]+)/gmr.html$ /nova/$1/reference/gmr.html redirectmatch 301 ^/nova/([^/]+)/i18n.html$ /nova/$1/reference/i18n.html redirectmatch 301 ^/nova/([^/]+)/notifications.html$ /nova/$1/reference/notifications.html redirectmatch 301 ^/nova/([^/]+)/policy_enforcement.html$ /nova/$1/reference/policy-enforcement.html redirectmatch 301 ^/nova/([^/]+)/rpc.html$ /nova/$1/reference/rpc.html redirectmatch 301 ^/nova/([^/]+)/scheduler_evolution.html$ /nova/$1/reference/scheduler-evolution.html redirectmatch 301 ^/nova/([^/]+)/services.html$ /nova/$1/reference/services.html redirectmatch 301 ^/nova/([^/]+)/stable_api.html$ /nova/$1/reference/stable-api.html redirectmatch 301 ^/nova/([^/]+)/threading.html$ /nova/$1/reference/threading.html redirectmatch 301 ^/nova/([^/]+)/vmstates.html$ /nova/$1/reference/vm-states.html redirectmatch 301 ^/nova/([^/]+)/addmethod.openstackapi.html$ /nova/$1/contributor/api-2.html redirectmatch 301 ^/nova/([^/]+)/api_plugins.html$ /nova/$1/contributor/api.html redirectmatch 301 ^/nova/([^/]+)/blueprints.html$ /nova/$1/contributor/blueprints.html redirectmatch 301 ^/nova/([^/]+)/code-review.html$ /nova/$1/contributor/code-review.html redirectmatch 301 ^/nova/([^/]+)/development.environment.html$ /nova/$1/contributor/development-environment.html redirectmatch 301 ^/nova/([^/]+)/how_to_get_involved.html$ /nova/$1/contributor/how-to-get-involved.html redirectmatch 301 ^/nova/([^/]+)/api_microversion_dev.html$ /nova/$1/contributor/microversions.html redirectmatch 301 ^/nova/([^/]+)/placement_dev.html$ /nova/$1/contributor/placement.html redirectmatch 301 ^/nova/([^/]+)/policies.html$ /nova/$1/contributor/policies.html redirectmatch 301 ^/nova/([^/]+)/process.html$ /nova/$1/contributor/process.html redirectmatch 301 ^/nova/([^/]+)/project_scope.html$ /nova/$1/contributor/project-scope.html redirectmatch 301 ^/nova/([^/]+)/releasenotes.html$ /nova/$1/contributor/releasenotes.html redirectmatch 301 ^/nova/([^/]+)/test_strategy.html$ /nova/$1/contributor/testing.html redirectmatch 301 ^/nova/([^/]+)/testing/libvirt-numa.html$ /nova/$1/contributor/testing/libvirt-numa.html redirectmatch 301 ^/nova/([^/]+)/testing/serial-console.html$ /nova/$1/contributor/testing/serial-console.html redirectmatch 301 ^/nova/([^/]+)/testing/zero-downtime-upgrade.html$ /nova/$1/contributor/testing/zero-downtime-upgrade.html redirectmatch 301 ^/nova/([^/]+)/sample_config.html$ /nova/$1/configuration/sample-config.html redirectmatch 301 ^/nova/([^/]+)/sample_policy.html$ /nova/$1/configuration/sample-policy.html redirectmatch 301 ^/nova/([^/]+)/man/index.html$ /nova/$1/cli/index.html redirectmatch 301 ^/nova/([^/]+)/man/nova-api-metadata.html$ /nova/$1/cli/nova-api-metadata.html redirectmatch 301 ^/nova/([^/]+)/man/nova-api-os-compute.html$ /nova/$1/cli/nova-api-os-compute.html redirectmatch 301 ^/nova/([^/]+)/man/nova-api.html$ /nova/$1/cli/nova-api.html redirectmatch 301 ^/nova/([^/]+)/man/nova-cells.html$ /nova/$1/cli/nova-cells.html redirectmatch 301 ^/nova/([^/]+)/man/nova-compute.html$ /nova/$1/cli/nova-compute.html redirectmatch 301 ^/nova/([^/]+)/man/nova-conductor.html$ /nova/$1/cli/nova-conductor.html redirectmatch 301 ^/nova/([^/]+)/man/nova-console.html$ /nova/$1/cli/nova-console.html redirectmatch 301 ^/nova/([^/]+)/man/nova-consoleauth.html$ /nova/$1/cli/nova-consoleauth.html redirectmatch 301 ^/nova/([^/]+)/man/nova-dhcpbridge.html$ /nova/$1/cli/nova-dhcpbridge.html redirectmatch 301 ^/nova/([^/]+)/man/nova-idmapshift.html$ /nova/$1/cli/nova-idmapshift.html redirectmatch 301 ^/nova/([^/]+)/man/nova-manage.html$ /nova/$1/cli/nova-manage.html redirectmatch 301 ^/nova/([^/]+)/man/nova-network.html$ /nova/$1/cli/nova-network.html redirectmatch 301 ^/nova/([^/]+)/man/nova-novncproxy.html$ /nova/$1/cli/nova-novncproxy.html redirectmatch 301 ^/nova/([^/]+)/man/nova-rootwrap.html$ /nova/$1/cli/nova-rootwrap.html redirectmatch 301 ^/nova/([^/]+)/man/nova-scheduler.html$ /nova/$1/cli/nova-scheduler.html redirectmatch 301 ^/nova/([^/]+)/man/nova-serialproxy.html$ /nova/$1/cli/nova-serialproxy.html redirectmatch 301 ^/nova/([^/]+)/man/nova-spicehtml5proxy.html$ /nova/$1/cli/nova-spicehtml5proxy.html redirectmatch 301 ^/nova/([^/]+)/man/nova-status.html$ /nova/$1/cli/nova-status.html redirectmatch 301 ^/nova/([^/]+)/man/nova-xvpvncproxy.html$ /nova/$1/cli/nova-xvpvncproxy.html,redirectmatch 301 ^/nova/([^/]+)/cells.html$ /nova/$1/user/cells.html,68,1
openstack%2Fnova~master~I1a173f7ce0715e684850e030c358e8175fa8724c,openstack/nova,master,I1a173f7ce0715e684850e030c358e8175fa8724c,Deprecate cells v1,MERGED,2017-08-01 15:08:20.000000000,2017-08-21 11:34:08.000000000,2017-08-02 01:49:24.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-01 15:08:20.000000000', 'files': ['doc/source/user/cells.rst', 'nova/cmd/cells.py', 'nova/conf/cells.py', 'releasenotes/notes/deprecate-cellsv1-592b3c3612a9dfa5.yaml', 'doc/source/cli/nova-cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3414ab14cacc6e855bbdc3381f3d6c8bdccbdec0', 'message': 'Deprecate cells v1\n\nWith multi-cell support in Pike, we should deprecate cells v1\nso we can at least start the deprecation signaling in the\ndocs and release notes. We may not end up removing cells v1\ncode in Queens, but this at least gives us the option.\n\nNote that we also want to do this because nova-network cannot\nbe removed until we remove cells v1.\n\nChange-Id: I1a173f7ce0715e684850e030c358e8175fa8724c\n'}]",0,489632,3414ab14cacc6e855bbdc3381f3d6c8bdccbdec0,20,7,1,6873,,,0,"Deprecate cells v1

With multi-cell support in Pike, we should deprecate cells v1
so we can at least start the deprecation signaling in the
docs and release notes. We may not end up removing cells v1
code in Queens, but this at least gives us the option.

Note that we also want to do this because nova-network cannot
be removed until we remove cells v1.

Change-Id: I1a173f7ce0715e684850e030c358e8175fa8724c
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/489632/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/cells.rst', 'nova/cmd/cells.py', 'nova/conf/cells.py', 'releasenotes/notes/deprecate-cellsv1-592b3c3612a9dfa5.yaml', 'doc/source/cli/nova-cells.rst']",5,3414ab14cacc6e855bbdc3381f3d6c8bdccbdec0,deprecate-cellsv1, not recommended for new deployments and is deprecated in favor of Cells v2 as of the 16.0.0 Pike release. For information about commands to use, not recommended for new deployments. For information about commands to use,85,16
openstack%2Fnova~master~Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0,openstack/nova,master,Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0,Updated from global requirements,MERGED,2017-08-01 13:33:52.000000000,2017-08-21 11:33:55.000000000,2017-08-01 16:39:05.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-08-01 13:33:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba68d604c3d292e7c2bcaedfaff2e8d1e73024d9', 'message': 'Updated from global requirements\n\nChange-Id: Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0\n'}]",0,489604,ba68d604c3d292e7c2bcaedfaff2e8d1e73024d9,17,6,1,11131,,,0,"Updated from global requirements

Change-Id: Ibf254eb950cbd7eaebb7cb6f995161f4a8dd6be0
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/489604/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ba68d604c3d292e7c2bcaedfaff2e8d1e73024d9,openstack/requirements,os-brick>=1.15.2 # Apache-2.0,os-brick>=1.15.1 # Apache-2.0,1,1
openstack%2Fnova~master~Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a,openstack/nova,master,Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a,do not pass proxy env variables by tox,MERGED,2017-07-26 09:07:47.000000000,2017-08-21 11:33:48.000000000,2017-08-01 13:24:23.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-07-26 09:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afcd024fa0a5144a716e4b355a5ef20f64471e67', 'message': 'do not pass proxy env variables by tox\n\nIn an environment where http_proxy env variable is needed to buil a\nproper python virtualenv the functional test fails with:\nRuntimeError: http_proxy or https_proxy set in environment, please unset\n\nThis patch removes passing proxy env varibles in tox.ini to avoid this\nerror.\n\nChange-Id: Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a\nCloses-Bug: #1706545\n'}, {'number': 2, 'created': '2017-08-01 11:44:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd26d3d14139dedc97397639117f56970940b500', 'message': 'do not pass proxy env variables by tox\n\nIn an environment where http_proxy env variable is needed to buil a\nproper python virtualenv the functional test fails with:\nRuntimeError: http_proxy or https_proxy set in environment, please unset\n\nThis patch removes passing proxy env varibles in tox.ini to avoid this\nerror.\n\nChange-Id: Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a\nCloses-Bug: #1706545\n'}]",1,487327,dd26d3d14139dedc97397639117f56970940b500,33,14,2,9708,,,0,"do not pass proxy env variables by tox

In an environment where http_proxy env variable is needed to buil a
proper python virtualenv the functional test fails with:
RuntimeError: http_proxy or https_proxy set in environment, please unset

This patch removes passing proxy env varibles in tox.ini to avoid this
error.

Change-Id: Ia4d8fe952aecb5c3e688878ef0fdafd6fac4fc7a
Closes-Bug: #1706545
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/487327/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,afcd024fa0a5144a716e4b355a5ef20f64471e67,bug/1706545,passenv = OS_DEBUG GENERATE_HASHES,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHES,1,1
openstack%2Fnova~master~Id84c7803fdd44961497cd35c15ece98e2852d4f6,openstack/nova,master,Id84c7803fdd44961497cd35c15ece98e2852d4f6,add description about key_name,MERGED,2017-08-01 08:18:41.000000000,2017-08-21 11:33:29.000000000,2017-08-10 13:12:18.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 15941}, {'_account_id': 16211}]","[{'number': 1, 'created': '2017-08-01 08:18:41.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a36e7cda45f8b35f6d5325c3b9c77b80d7e1847', 'message': ""add description about key_name\n\nadd description about key_name, which tells user 'null' is not\naccepted parameter.\n\nthis is ths solution that other than change the code.\n\nChange-Id: Id84c7803fdd44961497cd35c15ece98e2852d4f6\nRelated-Bug: 1700825\n""}]",0,489525,9a36e7cda45f8b35f6d5325c3b9c77b80d7e1847,16,4,1,6062,,,0,"add description about key_name

add description about key_name, which tells user 'null' is not
accepted parameter.

this is ths solution that other than change the code.

Change-Id: Id84c7803fdd44961497cd35c15ece98e2852d4f6
Related-Bug: 1700825
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/489525/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,9a36e7cda45f8b35f6d5325c3b9c77b80d7e1847,bug/1700825," .. note:: The ``null`` value allowed in Nova legacy v2 API, but due to the strict input validation, it isn't allowed in Nova v2.1 API.",,5,0
openstack%2Fnova~master~Idb306e4f854957fd2ded9ae061fc27f0ef768fc0,openstack/nova,master,Idb306e4f854957fd2ded9ae061fc27f0ef768fc0,always show urls in list_cells,MERGED,2017-07-27 13:58:40.000000000,2017-08-21 11:33:15.000000000,2017-08-02 00:58:40.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-27 13:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4cc3f4e3a21261ce8cd68f790cc0c588de40852', 'message': 'WIP: always show urls in list_cells\n\nThis makes the --verbose flag now mean to show secrets. Thus the\n--verbose flag provides the same information as before, but the\ndefault also provides useful debug information.\n\nChange-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0\n'}, {'number': 2, 'created': '2017-07-27 17:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5499666f1281e77187c91af08d7ef3235a4f18c9', 'message': 'always show urls in list_cells\n\nThis makes the --verbose flag now mean to show secrets. Thus the\n--verbose flag provides the same information as before, but the\ndefault also provides useful debug information.\n\nIt uses urlparse to attempt to be pretty robust in removing the\ncorrect part of the string.\n\nChange-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0\n'}, {'number': 3, 'created': '2017-07-28 11:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d326d3b214fcb51336d493e815aefcc0bc988856', 'message': 'always show urls in list_cells\n\nThis makes the --verbose flag now mean to show secrets. Thus the\n--verbose flag provides the same information as before, but the\ndefault also provides useful debug information.\n\nIt uses urlparse to attempt to be pretty robust in removing the\ncorrect part of the string.\n\nChange-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0\n'}, {'number': 4, 'created': '2017-07-31 19:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f941c8da3768dbdbc13d873cbf4735a593488261', 'message': 'always show urls in list_cells\n\nThis makes the --verbose flag now mean to show secrets. Thus the\n--verbose flag provides the same information as before, but the\ndefault also provides useful debug information.\n\nIt uses urlparse to attempt to be pretty robust in removing the\ncorrect part of the string.\n\nChange-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0\n'}, {'number': 5, 'created': '2017-07-31 19:56:34.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed490ee93ad1c721c7442704aad877ef90c7bbb8', 'message': 'always show urls in list_cells\n\nThis makes the --verbose flag now mean to show secrets. Thus the\n--verbose flag provides the same information as before, but the\ndefault also provides useful debug information.\n\nIt uses urlparse to attempt to be pretty robust in removing the\ncorrect part of the string.\n\nChange-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0\n'}]",6,487860,ed490ee93ad1c721c7442704aad877ef90c7bbb8,66,17,5,2750,,,0,"always show urls in list_cells

This makes the --verbose flag now mean to show secrets. Thus the
--verbose flag provides the same information as before, but the
default also provides useful debug information.

It uses urlparse to attempt to be pretty robust in removing the
correct part of the string.

Change-Id: Idb306e4f854957fd2ded9ae061fc27f0ef768fc0
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/487860/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,a4cc3f4e3a21261ce8cd68f790cc0c588de40852,487860,"import redef mask_passwd_in_url(url): parsed = urlparse.urlparse(url) safe_netloc = re.sub(':.*?@', '****', parsed.netloc) new_parsed = urlparse.ParseResult( parsed.scheme, safe_netloc, parsed.path, parsed.params, parsed.query, parsed.fragment) return urlparse.urlunparse(new_parsed) help=_('Show sensitive details, such as passwords')) field_names = [_('Name'), _('UUID'), _('Transport URL'), _('Database Connection')] else: fields.extend([ mask_passwd_in_url(cell.transport_url), mask_passwd_in_url(cell.database_connection)])"," help=_('Show more details than just the cell name and uuid.')) field_names = [_('Name'), _('UUID')] if verbose: field_names.extend([_('Transport URL'), _('Database Connection')])",18,4
openstack%2Fnova~master~I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9,openstack/nova,master,I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9,api-ref: fix security_groups response parameter in os-security-groups,MERGED,2017-07-31 16:38:24.000000000,2017-08-21 11:33:08.000000000,2017-08-10 11:27:40.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-31 16:38:24.000000000', 'files': ['api-ref/source/os-security-groups.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/edeec029637784b7712c55cd1f4b345cbef752a8', 'message': 'api-ref: fix security_groups response parameter in os-security-groups\n\nThe \'security_groups\' parameter in the GET /os-security-groups API\nis not optional and we don\'t need information about the name\nattribute. The ""security_groups"" parameter being used is actually\nfor the create server API.\n\nChange-Id: I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9\n'}]",1,489274,edeec029637784b7712c55cd1f4b345cbef752a8,17,4,1,6873,,,0,"api-ref: fix security_groups response parameter in os-security-groups

The 'security_groups' parameter in the GET /os-security-groups API
is not optional and we don't need information about the name
attribute. The ""security_groups"" parameter being used is actually
for the create server API.

Change-Id: I63bb8fc433b56a3f2b80cfafab37b103fe3a27d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/489274/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-security-groups.inc'],1,edeec029637784b7712c55cd1f4b345cbef752a8,bug/1707319, - security_groups: security_groups_obj, - security_groups: security_groups,1,1
openstack%2Fnova~master~I0ea6891f10f021b0ed752200417e87d7e9bfda31,openstack/nova,master,I0ea6891f10f021b0ed752200417e87d7e9bfda31,api-ref: requested security groups are not applied to pre-existing ports,MERGED,2017-07-31 16:38:24.000000000,2017-08-21 11:33:01.000000000,2017-08-10 11:28:18.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 11536}, {'_account_id': 15941}, {'_account_id': 25026}]","[{'number': 1, 'created': '2017-07-31 16:38:24.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/67f7b96b22d31b251ab13ba9fce55346dccc4522', 'message': 'api-ref: requested security groups are not applied to pre-existing ports\n\nWhen creating a server, you can request security groups and\npre-existing ports, but the security groups are only applied to\nany new ports that nova creates, not the pre-existing ones that\nthe user passes in. This change makes a note of that in the API\nreference.\n\nChange-Id: I0ea6891f10f021b0ed752200417e87d7e9bfda31\nRelated-Bug: #1707319\n'}]",0,489275,67f7b96b22d31b251ab13ba9fce55346dccc4522,19,6,1,6873,,,0,"api-ref: requested security groups are not applied to pre-existing ports

When creating a server, you can request security groups and
pre-existing ports, but the security groups are only applied to
any new ports that nova creates, not the pre-existing ones that
the user passes in. This change makes a note of that in the API
reference.

Change-Id: I0ea6891f10f021b0ed752200417e87d7e9bfda31
Related-Bug: #1707319
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/489275/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,67f7b96b22d31b251ab13ba9fce55346dccc4522,bug/1707319," To provision the server instance with a NIC for an already existing port, specify the port-id in the ``port`` attribute in a ``networks`` object. The port status must be ``DOWN``. Required if you omit the ``uuid`` attribute. Requested security groups are not applied to pre-existing ports. One or more security groups. Specify the name of the security group in the ``name`` attribute. If you omit this attribute, the API creates the server in the ``default`` security group. Requested security groups are not applied to pre-existing ports."," To provision the server instance with a NIC for an already existing port, specify the port-id in the ``port`` attribute in a ``networks`` object. The port status must be ``DOWN``. required if you omit the ``uuid`` attribute. One or more security groups. Specify the name of the security group in the ``name`` attribute. If you omit this attribute, the API creates the server in the ``default`` security group.",8,6
openstack%2Fnova~master~I35689a80f0a36779a32e8c49b0950daff306ea45,openstack/nova,master,I35689a80f0a36779a32e8c49b0950daff306ea45,Updated from global requirements,MERGED,2017-07-28 21:43:14.000000000,2017-08-21 11:32:33.000000000,2017-07-31 21:23:25.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-28 21:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c9d098e618fd5e942e45dd004acfc0113daecd4', 'message': 'Updated from global requirements\n\nChange-Id: I35689a80f0a36779a32e8c49b0950daff306ea45\n'}, {'number': 2, 'created': '2017-07-29 02:37:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/b1244e795dc477ef04be96b525712bbbb7bbdf7a', 'message': 'Updated from global requirements\n\nChange-Id: I35689a80f0a36779a32e8c49b0950daff306ea45\n'}]",0,488865,b1244e795dc477ef04be96b525712bbbb7bbdf7a,41,14,2,11131,,,0,"Updated from global requirements

Change-Id: I35689a80f0a36779a32e8c49b0950daff306ea45
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/488865/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5c9d098e618fd5e942e45dd004acfc0113daecd4,openstack/requirements,"python-barbicanclient!=4.5.0,>=4.0.0 # Apache-2.0",python-barbicanclient>=4.0.0 # Apache-2.0,1,1
openstack%2Fnova~master~I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1,openstack/nova,master,I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1,Updated from global requirements,MERGED,2017-07-27 19:16:12.000000000,2017-08-21 11:32:26.000000000,2017-07-28 21:05:13.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-27 19:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d50b5ab73c507fa5bb31f26110532d3878190ff2', 'message': 'Updated from global requirements\n\nChange-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1\n'}, {'number': 2, 'created': '2017-07-27 19:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e71f91866841024eb09c353b69a0017b3169841', 'message': 'Updated from global requirements\n\nChange-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1\n'}, {'number': 3, 'created': '2017-07-27 20:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea05d299634339134a0434efe50412e0b7a94e89', 'message': 'Updated from global requirements\n\nChange-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1\n'}, {'number': 4, 'created': '2017-07-27 20:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcbbbcef199b01df62a992b1fa0756de84750b06', 'message': 'Updated from global requirements\n\nChange-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1\n'}, {'number': 5, 'created': '2017-07-28 04:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ac8af7d4e1a92831bc2fd84d5b03031f96e298e', 'message': 'Updated from global requirements\n\nChange-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1\n'}, {'number': 6, 'created': '2017-07-28 16:31:05.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/e08cda0a70821bf6375005202b373f4b926f7408', 'message': 'Updated from global requirements\n\nChange-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1\n'}]",0,488034,e08cda0a70821bf6375005202b373f4b926f7408,55,15,6,11131,,,0,"Updated from global requirements

Change-Id: I812b4b9c7b05ab032f436e81d6e10b5a0f6598c1
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/488034/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d50b5ab73c507fa5bb31f26110532d3878190ff2,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fnova~master~Id9d859830d584d650ea748c8c5274156a30fd773,openstack/nova,master,Id9d859830d584d650ea748c8c5274156a30fd773,[placement] quash unicode warning with shared provider,MERGED,2017-07-28 10:29:50.000000000,2017-08-21 11:32:13.000000000,2017-07-28 21:56:34.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-28 10:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fe45c93e1230f73383a93840f0faa5c7084859e', 'message': ""[placement] quash unicode warning with shared provider\n\ntrait.name is expected to be unicode and sqlalchemy will warn when it\ndoesn't get that. The os_traits library creates default quoted strings\nfor its symbols, so it needs a six.text_type wrapper to shut the warning\nup.\n\nCloses-Bug: #1707168\nChange-Id: Id9d859830d584d650ea748c8c5274156a30fd773\n""}, {'number': 2, 'created': '2017-07-28 14:13:44.000000000', 'files': ['nova/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5728a575c77bc74af8df5e5d8ef22dba0eed1677', 'message': ""[placement] quash unicode warning with shared provider\n\ntrait.name is expected to be unicode and sqlalchemy will warn when it\ndoesn't get that. The os_traits library creates default quoted strings\nfor its symbols, so it needs a six.text_type wrapper to shut the warning\nup.\n\nCloses-Bug: #1707168\nChange-Id: Id9d859830d584d650ea748c8c5274156a30fd773\n""}]",2,488363,5728a575c77bc74af8df5e5d8ef22dba0eed1677,46,15,2,11564,,,0,"[placement] quash unicode warning with shared provider

trait.name is expected to be unicode and sqlalchemy will warn when it
doesn't get that. The os_traits library creates default quoted strings
for its symbols, so it needs a six.text_type wrapper to shut the warning
up.

Closes-Bug: #1707168
Change-Id: Id9d859830d584d650ea748c8c5274156a30fd773
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/488363/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,4fe45c93e1230f73383a93840f0faa5c7084859e,bug/1707168," t_tbl.c.name == six.text_type(os_traits.MISC_SHARES_VIA_AGGREGATE),"," t_tbl.c.name == os_traits.MISC_SHARES_VIA_AGGREGATE,",1,1
openstack%2Fnova~master~Ic0d649cc5700d737c18b84ccb019da9120f720d3,openstack/nova,master,Ic0d649cc5700d737c18b84ccb019da9120f720d3,Remove unnecessary code,MERGED,2017-07-28 06:00:23.000000000,2017-08-21 11:31:49.000000000,2017-07-31 14:32:35.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-28 06:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11efc5f45cd57c415228c19ff2fc407ee20e7cd8', 'message': 'Remove unnecesary code\n\nTrivialFix\nChange-Id: Ic0d649cc5700d737c18b84ccb019da9120f720d3\n'}, {'number': 2, 'created': '2017-07-28 06:01:24.000000000', 'files': ['nova/tests/unit/virt/test_netutils.py', 'nova/tests/unit/api/openstack/placement/test_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf4e5819172b97a1ec5ca6fddbffe0544ca809ca', 'message': 'Remove unnecessary code\n\nTrivialFix\nChange-Id: Ic0d649cc5700d737c18b84ccb019da9120f720d3\n'}]",0,488299,cf4e5819172b97a1ec5ca6fddbffe0544ca809ca,20,8,2,7634,,,0,"Remove unnecessary code

TrivialFix
Change-Id: Ic0d649cc5700d737c18b84ccb019da9120f720d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/488299/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_netutils.py', 'nova/tests/unit/api/openstack/placement/test_util.py']",2,11efc5f45cd57c415228c19ff2fc407ee20e7cd8,remove_unnecessary_code,," def setUp(self): super(TestNormalizeResourceQsParam, self).setUp() ",0,6
openstack%2Fnova~master~Ifc5cf482209e4f6f4e3e39b24389bd3563d86444,openstack/nova,master,Ifc5cf482209e4f6f4e3e39b24389bd3563d86444,claim resources in placement API during schedule(),MERGED,2017-07-13 21:33:26.000000000,2017-08-21 11:31:43.000000000,2017-07-28 04:12:32.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 22623}]","[{'number': 1, 'created': '2017-07-13 21:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68335c102fd47ac15b447b97bfff24334dcc4c9b', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources IFF the scheduler driver uses\nallocation candidates (i.e. it isn't the caching scheduler) and the\nconductor has passed in a list of instance UUIDs (otherwise, there's no\nway to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 2, 'created': '2017-07-14 16:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3f92f9828b40fce3c1b7d05cfe0a6df5967ce2', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources IFF the scheduler driver uses\nallocation candidates (i.e. it isn't the caching scheduler) and the\nconductor has passed in a list of instance UUIDs (otherwise, there's no\nway to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 3, 'created': '2017-07-17 14:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/529b1239318e8b7ace6fb956415aa4ce3e11ad6a', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources IFF the scheduler driver uses\nallocation candidates (i.e. it isn't the caching scheduler) and the\nconductor has passed in a list of instance UUIDs (otherwise, there's no\nway to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 4, 'created': '2017-07-19 19:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71a1a9666977e732ff093bf5ca91eed6c8cdd2aa', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources IFF the scheduler driver uses\nallocation candidates (i.e. it isn't the caching scheduler) and the\nconductor has passed in a list of instance UUIDs (otherwise, there's no\nway to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 5, 'created': '2017-07-20 23:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d608a066d63e22cadf44802670ce0e2d73286b4e', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 6, 'created': '2017-07-20 23:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ba52dad4230df9a221af0be645f31effe9134e3', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 7, 'created': '2017-07-21 03:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a5618788663394a583645c07ffe37a3dd040f95', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 8, 'created': '2017-07-21 16:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/486da243de1cd1640de1211fa1ccd29666bbde00', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 9, 'created': '2017-07-24 14:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0542dd205bb7b14fcdc216b59ff8cbfb66345d64', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 10, 'created': '2017-07-24 16:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/144bdfc29ea596b138e5006e9ea15b1b14f06db1', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 11, 'created': '2017-07-25 21:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/798872da2f4e9f25a08c299098e9b2de65dc69e2', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 12, 'created': '2017-07-26 15:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88014b284b0d8f67ad407b21eb20a556e6b2b4be', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 13, 'created': '2017-07-26 15:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7db96ec2326599d4b8bb0379278a1b249e89713b', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 14, 'created': '2017-07-26 15:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0138c14a0c4e3f97fedd6ee894695a0c121f560', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 15, 'created': '2017-07-26 21:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7f599eb0c483b37c09ca9152247a3192b707014', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 16, 'created': '2017-07-26 22:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcedb556ca8eab5aa5aed8a55ceafd0d78907543', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 17, 'created': '2017-07-26 23:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8275adc6fdd9b168df284baa4c833d42fab051ce', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 18, 'created': '2017-07-27 02:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/273ea3b2218d6522596cd5e61428666883d7d4d5', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 19, 'created': '2017-07-27 10:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9cbb34e39f7b3c6838706fbca9ce163c2b5aedd', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 20, 'created': '2017-07-27 13:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d85a50ec6bf4240259285512695b1b9a47c0d6a6', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 21, 'created': '2017-07-28 00:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97d480937113430fb7081fdacc976384c8144c04', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}, {'number': 22, 'created': '2017-07-28 00:56:46.000000000', 'files': ['releasenotes/notes/placement-claims-844540aa7bf52b33.yaml', 'nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23c4eb34380bdf3eece11abbe0f6ccb68c060f47', 'message': ""claim resources in placement API during schedule()\n\nAdds logic to call the placement API's PUT /allocations/{consumer_uuid}\nwhen selecting hosts in the filter scheduler's _schedule() method.\n\nWe only attempt the claim of resources if and only if the scheduler\ndriver uses allocation candidates (i.e. it isn't the caching scheduler)\nand the conductor has passed in a list of instance UUIDs (otherwise,\nthere's no way to allocate in the placement API).\n\nChange-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444\nblueprint: placement-claims\n""}]",73,483566,23c4eb34380bdf3eece11abbe0f6ccb68c060f47,289,24,22,7,,,0,"claim resources in placement API during schedule()

Adds logic to call the placement API's PUT /allocations/{consumer_uuid}
when selecting hosts in the filter scheduler's _schedule() method.

We only attempt the claim of resources if and only if the scheduler
driver uses allocation candidates (i.e. it isn't the caching scheduler)
and the conductor has passed in a list of instance UUIDs (otherwise,
there's no way to allocate in the placement API).

Change-Id: Ifc5cf482209e4f6f4e3e39b24389bd3563d86444
blueprint: placement-claims
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/483566/22 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",2,68335c102fd47ac15b447b97bfff24334dcc4c9b,bp/placement-claims,"from nova.scheduler import client from nova.scheduler.client import report @mock.patch('nova.scheduler.client.SchedulerClient') def setUp(self, mock_client): pc_client = mock.Mock(spec=report.SchedulerReportClient) sched_client = mock.Mock(spec=client.SchedulerClient) sched_client.reportclient = pc_client mock_client.return_value = sched_client self.placement_client = pc_client super(FilterSchedulerTestCase, self).setUp() @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_claim_resources') def test_schedule_old_conductor(self, mock_get_hosts, mock_get_all_states, mock_claim): """"""Old conductor can call scheduler without the instance_uuids parameter. When this happens, we need to ensure we do not attempt to claim resources in the placement API since obviously we need instance UUIDs to perform those claims. """""" host=mock.sentinel.host, uuid=uuids.cn1) instance_uuids = None # And ensure we never called _claim_resources() self.assertFalse(mock_claim.called) @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_claim_resources') @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_get_all_host_states') @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_get_sorted_hosts') def test_schedule_successful_claim(self, mock_get_hosts, mock_get_all_states, mock_claim): spec_obj = objects.RequestSpec( num_instances=1, flavor=objects.Flavor(memory_mb=512, root_gb=512, ephemeral_gb=0, swap=0, vcpus=1), project_id=uuids.project_id, instance_group=None) host_state = mock.Mock(spec=host_manager.HostState, host=mock.sentinel.host, uuid=uuids.cn1) all_host_states = [host_state] mock_get_all_states.return_value = all_host_states mock_get_hosts.return_value = all_host_states mock_claim.return_value = True instance_uuids = [uuids.instance] alloc_reqs_by_rp_uuid = { uuids.cn1: [mock.sentinel.alloc_req], } ctx = mock.Mock() selected_hosts = self.driver._schedule(ctx, spec_obj, instance_uuids, alloc_reqs_by_rp_uuid, mock.sentinel.provider_summaries) mock_get_all_states.assert_called_once_with( ctx.elevated.return_value, spec_obj, mock.sentinel.provider_summaries) mock_get_hosts.assert_called_once_with(spec_obj, all_host_states, 0) mock_claim.assert_called_once_with(ctx.elevated.return_value, spec_obj, uuids.instance, [mock.sentinel.alloc_req]) self.assertEqual(len(selected_hosts), 1) self.assertEqual([host_state], selected_hosts) # Ensure that we have consumed the resources on the chosen host states host_state.consume_from_request.assert_called_once_with(spec_obj) @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_cleanup_allocations') @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_claim_resources') @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_get_all_host_states') @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_get_sorted_hosts') def test_schedule_unsuccessful_claim(self, mock_get_hosts, mock_get_all_states, mock_claim, mock_cleanup): """"""Tests that we return an empty list if we are unable to successfully claim resources for the instance """""" spec_obj = objects.RequestSpec( num_instances=1, flavor=objects.Flavor(memory_mb=512, root_gb=512, ephemeral_gb=0, swap=0, vcpus=1), project_id=uuids.project_id, instance_group=None) host_state = mock.Mock(spec=host_manager.HostState, host=mock.sentinel.host, uuid=uuids.cn1) all_host_states = [host_state] mock_get_all_states.return_value = all_host_states mock_get_hosts.return_value = all_host_states mock_claim.return_value = False instance_uuids = [uuids.instance] alloc_reqs_by_rp_uuid = { uuids.cn1: [mock.sentinel.alloc_req], } ctx = mock.Mock() selected_hosts = self.driver._schedule(ctx, spec_obj, instance_uuids, alloc_reqs_by_rp_uuid, mock.sentinel.provider_summaries) mock_get_all_states.assert_called_once_with( ctx.elevated.return_value, spec_obj, mock.sentinel.provider_summaries) mock_get_hosts.assert_called_once_with(spec_obj, all_host_states, 0) mock_claim.assert_called_once_with(ctx.elevated.return_value, spec_obj, uuids.instance, [mock.sentinel.alloc_req]) self.assertEqual([], selected_hosts) mock_cleanup.assert_called_once_with([]) # Ensure that we have consumed the resources on the chosen host states self.assertFalse(host_state.consume_from_request.called) @mock.patch('nova.scheduler.filter_scheduler.FilterScheduler.' '_claim_resources') mock_get_all_states, mock_claim): hs1 = mock.Mock(spec=host_manager.HostState, host='host1', uuid=uuids.cn1) hs2 = mock.Mock(spec=host_manager.HostState, host='host2', uuid=uuids.cn2) mock_claim.return_value = True alloc_reqs_by_rp_uuid = { uuids.cn1: [mock.sentinel.alloc_req_cn1], uuids.cn2: [mock.sentinel.alloc_req_cn2], } alloc_reqs_by_rp_uuid, mock.sentinel.provider_summaries) # Check that we called _claim_resources() for both the first and second # host state claim_calls = [ mock.call(ctx.elevated.return_value, spec_obj, uuids.instance0, [mock.sentinel.alloc_req_cn1]), mock.call(ctx.elevated.return_value, spec_obj, uuids.instance1, [mock.sentinel.alloc_req_cn2]), ] mock_claim.assert_has_calls(claim_calls) def test_cleanup_allocations(self): instance_uuids = [] # Check we don't do anything if there's no instance UUIDs to cleanup # allocations for pc = self.placement_client self.driver._cleanup_allocations(instance_uuids) self.assertFalse(pc.delete_allocation_for_instance.called) instance_uuids = [uuids.instance1, uuids.instance2] self.driver._cleanup_allocations(instance_uuids) exp_calls = [mock.call(uuids.instance1), mock.call(uuids.instance2)] pc.delete_allocation_for_instance.assert_has_calls(exp_calls) def test_claim_resources(self): """"""Tests that when _schedule() calls _claim_resources(), that we appropriately call the placement client to claim resources for the instance. """""" ctx = mock.Mock(user_id=uuids.user_id) spec_obj = mock.Mock(project_id=uuids.project_id) instance_uuid = uuids.instance alloc_reqs = [mock.sentinel.alloc_req] res = self.driver._claim_resources(ctx, spec_obj, instance_uuid, alloc_reqs) pc = self.placement_client pc.claim_resources.return_value = True pc.claim_resources.assert_called_once_with(uuids.instance, mock.sentinel.alloc_req, uuids.project_id, uuids.user_id) self.assertTrue(res) "," def test_schedule(self, mock_get_hosts, mock_get_all_states): host=mock.sentinel.host) instance_uuids = [uuids.instance] mock_get_all_states): hs1 = mock.Mock(spec=host_manager.HostState, host='host1') hs2 = mock.Mock(spec=host_manager.HostState, host='host2') mock.sentinel.alloc_reqs_by_rp_uuid, mock.sentinel.provider_summaries)",303,15
openstack%2Fnova~master~I5e106d9e0743d918e2115d809ac3732c5a3d7a5a,openstack/nova,master,I5e106d9e0743d918e2115d809ac3732c5a3d7a5a,doc: add FAQ entry for cells v1 config options,MERGED,2017-07-27 16:48:59.000000000,2017-08-21 11:31:37.000000000,2017-08-01 13:23:55.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 15888}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-27 16:48:59.000000000', 'files': ['doc/source/user/cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c73f9eef6b3471611e56195f6151c6f5bbcbdd3d', 'message': ""doc: add FAQ entry for cells v1 config options\n\nIt's super confusing for new people to nova and cells\nto see config options in a [cells] group and think they\nshould be changing those, like enable and cell_type.\n\nWhile we have warnings in the config option help text,\nlet's also put a reminder in the FAQ page in the docs.\n\nChange-Id: I5e106d9e0743d918e2115d809ac3732c5a3d7a5a\n""}]",0,487938,c73f9eef6b3471611e56195f6151c6f5bbcbdd3d,16,6,1,6873,,,0,"doc: add FAQ entry for cells v1 config options

It's super confusing for new people to nova and cells
to see config options in a [cells] group and think they
should be changing those, like enable and cell_type.

While we have warnings in the config option help text,
let's also put a reminder in the FAQ page in the docs.

Change-Id: I5e106d9e0743d918e2115d809ac3732c5a3d7a5a
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/487938/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cells.rst'],1,c73f9eef6b3471611e56195f6151c6f5bbcbdd3d,cellsv2-faqs, #. Should I change any of the ``[cells]`` configuration options for Cells v2? **NO**. Those options are for Cells v1 usage only and are not used at all for Cells v2. That includes the ``nova-cells`` service - it has nothing to do with Cells v2.,,6,0
openstack%2Fnova~master~I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea,openstack/nova,master,I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea,Remove redundant free_vcpus logging in _report_hypervisor_resource_view,MERGED,2017-07-25 21:06:21.000000000,2017-08-21 11:31:30.000000000,2017-07-31 14:32:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-25 21:06:21.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/df7e9af42d31a27cc6bb975455ef341c964e7a74', 'message': ""Remove redundant free_vcpus logging in _report_hypervisor_resource_view\n\nWe're already logging the full hypervisor resource view in\n_report_hypervisor_resource_view which includes the free_vcpus\nso there is no good reason to log free_vcpus separately right\nbefore it.\n\nChange-Id: I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea\n""}]",0,487216,df7e9af42d31a27cc6bb975455ef341c964e7a74,28,6,1,6873,,,0,"Remove redundant free_vcpus logging in _report_hypervisor_resource_view

We're already logging the full hypervisor resource view in
_report_hypervisor_resource_view which includes the free_vcpus
so there is no good reason to log free_vcpus separately right
before it.

Change-Id: I25ef0db50edb2ac54b40ca1cfac06d0bd1e6baea
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/487216/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,df7e9af42d31a27cc6bb975455ef341c964e7a74,remove-redundant-rt-logging,," LOG.debug(""Hypervisor: free VCPUs: %s"", free_vcpus) LOG.debug(""Hypervisor: VCPU information unavailable"")",0,2
openstack%2Fnova~master~If03a0d264c9f054cc5482efd9f1aac8f3733947f,openstack/nova,master,If03a0d264c9f054cc5482efd9f1aac8f3733947f,stabilize test_create_delete_server functional test,MERGED,2017-07-27 09:03:43.000000000,2017-08-21 11:31:01.000000000,2017-07-27 19:01:29.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-27 09:03:43.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca07237167e88fb2e26de424c8a859a18552e6e3', 'message': 'stabilize test_create_delete_server functional test\n\nThe TestInstanceNotificationSample#test_create_delete_server functional\ntest is unstable due to a race between the instance is disappering from\nthe REST API after a successfull delete and the emission of\ninstance.delete.end notification. This patch adds a wait for the\ndelete.end notification to make the test stable.\n\nChange-Id: If03a0d264c9f054cc5482efd9f1aac8f3733947f\nCloses-Bug: #1705818\n'}]",1,487772,ca07237167e88fb2e26de424c8a859a18552e6e3,16,5,1,9708,,,0,"stabilize test_create_delete_server functional test

The TestInstanceNotificationSample#test_create_delete_server functional
test is unstable due to a race between the instance is disappering from
the REST API after a successfull delete and the emission of
instance.delete.end notification. This patch adds a wait for the
delete.end notification to make the test stable.

Change-Id: If03a0d264c9f054cc5482efd9f1aac8f3733947f
Closes-Bug: #1705818
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/487772/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,ca07237167e88fb2e26de424c8a859a18552e6e3,bug/1705818, # NOTE(gibi): The wait_unit_deleted() call polls the REST API to see if # the instance is disappeared however the _delete_instance() in # compute/manager destroys the instance first then send the # instance.delete.end notification. So to avoid race condition the test # needs to wait for the notification as well here. self._wait_for_notification('instance.delete.end'),,6,0
openstack%2Fnova~master~I96285a1902436cf59b6c6ddf22b69a33503d0f4a,openstack/nova,master,I96285a1902436cf59b6c6ddf22b69a33503d0f4a,Ensure we unshelve in the cell the instance is mapped,MERGED,2017-07-21 19:29:35.000000000,2017-08-21 11:30:41.000000000,2017-07-27 15:43:41.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-21 19:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92a11c668baf8fe1bba6fbe7e01c6a5d11726a1e', 'message': 'Ensure we unshelve in the cell the instance is mapped\n\nWhen we create a server it gets put in a specific cell and its\ninstance_mappings record in the API DB is set to map that instance\nto that cell.\n\nWhen unshelving an instance we want to ensure that the scheduler\nonly considers compute nodes in the cell where the instance is\nmapped.\n\nChange-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a\nCloses-Bug: #1702935\n'}, {'number': 2, 'created': '2017-07-21 21:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9b4633f05c71c978e71f13429fd9da3314fb583', 'message': 'Ensure we unshelve in the cell the instance is mapped\n\nWhen we create a server it gets put in a specific cell and its\ninstance_mappings record in the API DB is set to map that instance\nto that cell.\n\nWhen unshelving an instance we want to ensure that the scheduler\nonly considers compute nodes in the cell where the instance is\nmapped.\n\nChange-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a\nCloses-Bug: #1702935\n'}, {'number': 3, 'created': '2017-07-21 23:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a7a5439ba8bbacfb44beb97fa16aaab4ca6f8af', 'message': 'Ensure we unshelve in the cell the instance is mapped\n\nWhen we create a server it gets put in a specific cell and its\ninstance_mappings record in the API DB is set to map that instance\nto that cell.\n\nWhen unshelving an instance we want to ensure that the scheduler\nonly considers compute nodes in the cell where the instance is\nmapped.\n\nChange-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a\nCloses-Bug: #1702935\n'}, {'number': 4, 'created': '2017-07-22 01:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e709f707897f5f1a7a06eebd250f27a7c003cbc', 'message': 'Ensure we unshelve in the cell the instance is mapped\n\nWhen we create a server it gets put in a specific cell and its\ninstance_mappings record in the API DB is set to map that instance\nto that cell.\n\nWhen unshelving an instance we want to ensure that the scheduler\nonly considers compute nodes in the cell where the instance is\nmapped.\n\nChange-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a\nCloses-Bug: #1702935\n'}, {'number': 5, 'created': '2017-07-24 17:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/476caa0884eadf7ad4e42c17fe953a6df84c2f7d', 'message': 'Ensure we unshelve in the cell the instance is mapped\n\nWhen we create a server it gets put in a specific cell and its\ninstance_mappings record in the API DB is set to map that instance\nto that cell.\n\nWhen unshelving an instance we want to ensure that the scheduler\nonly considers compute nodes in the cell where the instance is\nmapped.\n\nChange-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a\nCloses-Bug: #1702935\n'}, {'number': 6, 'created': '2017-07-27 03:03:52.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06b4ff7df857f56d6ecb819895c17e1e708dd071', 'message': 'Ensure we unshelve in the cell the instance is mapped\n\nWhen we create a server it gets put in a specific cell and its\ninstance_mappings record in the API DB is set to map that instance\nto that cell.\n\nWhen unshelving an instance we want to ensure that the scheduler\nonly considers compute nodes in the cell where the instance is\nmapped.\n\nChange-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a\nCloses-Bug: #1702935\n'}]",6,486208,06b4ff7df857f56d6ecb819895c17e1e708dd071,65,16,6,8768,,,0,"Ensure we unshelve in the cell the instance is mapped

When we create a server it gets put in a specific cell and its
instance_mappings record in the API DB is set to map that instance
to that cell.

When unshelving an instance we want to ensure that the scheduler
only considers compute nodes in the cell where the instance is
mapped.

Change-Id: I96285a1902436cf59b6c6ddf22b69a33503d0f4a
Closes-Bug: #1702935
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/486208/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,92a11c668baf8fe1bba6fbe7e01c6a5d11726a1e,bug/1702935," # NOTE(cfriesen): Ensure that we restrict the scheduler to # the cell specified by the instance mapping. instance_mapping = \ objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid) LOG.debug('Requesting cell %(cell)s while unshelving', {'cell': instance_mapping.cell_mapping.identity}, instance=self.instance) if ('requested_destination' in self.request_spec and self.request_spec.requested_destination): self.request_spec.requested_destination.cell = ( instance_mapping.cell_mapping) else: self.request_spec.requested_destination = ( objects.Destination( cell=instance_mapping.cell_mapping)) ",,17,0
openstack%2Fnova~master~I3425267cd1e8563eb89cda83ae1ed07ee782526e,openstack/nova,master,I3425267cd1e8563eb89cda83ae1ed07ee782526e,Fix example in _serialize_allocations_for_consumer,MERGED,2017-07-26 22:30:04.000000000,2017-08-21 11:30:27.000000000,2017-08-01 11:12:38.000000000,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-26 22:30:04.000000000', 'files': ['nova/api/openstack/placement/handlers/allocation.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/686d7a08188ee7a4df5dfc5dc499f70ce18a57a3', 'message': 'Fix example in _serialize_allocations_for_consumer\n\nThis fixes the json response body for GET /allocations/{consumer_id}\nin _serialize_allocations_for_consumer.\n\nChange-Id: I3425267cd1e8563eb89cda83ae1ed07ee782526e\n'}]",0,487614,686d7a08188ee7a4df5dfc5dc499f70ce18a57a3,19,6,1,6873,,,0,"Fix example in _serialize_allocations_for_consumer

This fixes the json response body for GET /allocations/{consumer_id}
in _serialize_allocations_for_consumer.

Change-Id: I3425267cd1e8563eb89cda83ae1ed07ee782526e
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/487614/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/handlers/allocation.py'],1,686d7a08188ee7a4df5dfc5dc499f70ce18a57a3,allocations-resp-example," { 'allocations': { RP_UUID_1: { 'generation': GENERATION, 'resources': { 'DISK_GB': 4, 'VCPU': 2 } }, RP_UUID_2: { 'generation': GENERATION, 'resources': { 'DISK_GB': 6, 'VCPU': 3 } } }"," {'allocations': RP_UUID_1: { 'generation': GENERATION, 'resources': { 'DISK_GB': 4, 'VCPU': 2 } }, RP_UUID_2: { 'generation': GENERATION, 'resources': { 'DISK_GB': 6, 'VCPU': 3 } }",17,15
openstack%2Fdevstack-plugin-ceph~master~I1d696c63baad4d117e6e7e87242751c2d550b739,openstack/devstack-plugin-ceph,master,I1d696c63baad4d117e6e7e87242751c2d550b739,Update tag link address in README,MERGED,2017-08-03 07:00:07.000000000,2017-08-21 11:29:53.000000000,2017-08-21 11:29:53.000000000,"[{'_account_id': 3}, {'_account_id': 8056}]","[{'number': 1, 'created': '2017-08-03 07:00:07.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/3e2e1d77bb72cf58754ad485eebbdc4cea922989', 'message': 'Update tag link address in README\n\nChange-Id: I1d696c63baad4d117e6e7e87242751c2d550b739\n'}]",0,490356,3e2e1d77bb72cf58754ad485eebbdc4cea922989,6,2,1,25747,,,0,"Update tag link address in README

Change-Id: I1d696c63baad4d117e6e7e87242751c2d550b739
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/56/490356/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,3e2e1d77bb72cf58754ad485eebbdc4cea922989,readme,[![Team and repository tags](https://governance.openstack.org/tc/badges/devstack-plugin-ceph.svg)](https://governance.openstack.org/tc/reference/tags/index.html),[![Team and repository tags](http://governance.openstack.org/badges/devstack-plugin-ceph.svg)](http://governance.openstack.org/reference/tags/index.html),1,1
openstack%2Fnova~master~I5b1ff4439a4441a90f1c77804b5521f7c3c4830d,openstack/nova,master,I5b1ff4439a4441a90f1c77804b5521f7c3c4830d,Remove the useless fake ExtensionManager from API unittests,MERGED,2017-07-23 15:16:32.000000000,2017-08-21 11:29:42.000000000,2017-07-26 23:41:43.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-23 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f45167b8ba35258ca9532d681a223c0f347459f6', 'message': ""Remove the useless fake ExtensionManager from API unittests\n\nThe old legacy v2 extension mechanism isn't used by v2.1 API\nanymore. The fake ExtensionManager is used to test that, so\nnow we can remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I5b1ff4439a4441a90f1c77804b5521f7c3c4830d\n""}, {'number': 2, 'created': '2017-07-24 18:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c38a2dec5df5c9f2c06a37649bc877b08cc4617', 'message': ""Remove the useless fake ExtensionManager from API unittests\n\nThe old legacy v2 extension mechanism isn't used by v2.1 API\nanymore. The fake ExtensionManager is used to test that, so\nnow we can remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I5b1ff4439a4441a90f1c77804b5521f7c3c4830d\n""}, {'number': 3, 'created': '2017-07-24 23:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27c1c4a40f3dad061e6aed784a233179e9972a88', 'message': ""Remove the useless fake ExtensionManager from API unittests\n\nThe old legacy v2 extension mechanism isn't used by v2.1 API\nanymore. The fake ExtensionManager is used to test that, so\nnow we can remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I5b1ff4439a4441a90f1c77804b5521f7c3c4830d\n""}, {'number': 4, 'created': '2017-07-26 19:33:00.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c92e48de036ad2b30443b5786c2da0ec68a7b8', 'message': ""Remove the useless fake ExtensionManager from API unittests\n\nThe old legacy v2 extension mechanism isn't used by v2.1 API\nanymore. The fake ExtensionManager is used to test that, so\nnow we can remove it.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I5b1ff4439a4441a90f1c77804b5521f7c3c4830d\n""}]",2,486416,c7c92e48de036ad2b30443b5786c2da0ec68a7b8,42,14,4,5754,,,0,"Remove the useless fake ExtensionManager from API unittests

The old legacy v2 extension mechanism isn't used by v2.1 API
anymore. The fake ExtensionManager is used to test that, so
now we can remove it.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I5b1ff4439a4441a90f1c77804b5521f7c3c4830d
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/486416/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py']",2,f45167b8ba35258ca9532d681a223c0f347459f6,bp/api-no-more-extensions-pike, FloatingIPActionController() FloatingIPActionController(), self.ext_mgr = extensions.ExtensionManager() self.ext_mgr.extensions = {} FloatingIPActionController(self.ext_mgr) self.ext_mgr = extensions.ExtensionManager() self.ext_mgr.extensions = {} self.ext_mgr.extensions['os-floating-ips'] = True self.ext_mgr.extensions['os-extended-floating-ips'] = True FloatingIPActionController(self.ext_mgr),2,30
openstack%2Fnova~master~I939dc1ca82e3e5fad55735ed7706ba4119a611b9,openstack/nova,master,I939dc1ca82e3e5fad55735ed7706ba4119a611b9,Remove the useless FakeExt,MERGED,2017-07-23 15:16:32.000000000,2017-08-21 11:29:34.000000000,2017-07-26 22:37:31.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-23 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19b9525abd8806a55649d478119a61d243d8efbb', 'message': 'Remove the useless FakeExt\n\nThe FakeExt is used to test the extension point of servers API.\nAll the extension points and related tests are already removed,\nso the FakeExt is useless now.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I939dc1ca82e3e5fad55735ed7706ba4119a611b9\n'}, {'number': 2, 'created': '2017-07-24 18:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40bb24882920c9202de0ca940ee58312fabd262b', 'message': 'Remove the useless FakeExt\n\nThe FakeExt is used to test the extension point of servers API.\nAll the extension points and related tests are already removed,\nso the FakeExt is useless now.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I939dc1ca82e3e5fad55735ed7706ba4119a611b9\n'}, {'number': 3, 'created': '2017-07-25 17:58:39.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b47d39c2e67f9855e898e7d8c3ed3ddead2ebe6e', 'message': 'Remove the useless FakeExt\n\nThe FakeExt is used to test the extension point of servers API.\nAll the extension points and related tests are already removed,\nso the FakeExt is useless now.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I939dc1ca82e3e5fad55735ed7706ba4119a611b9\n'}]",1,486415,b47d39c2e67f9855e898e7d8c3ed3ddead2ebe6e,46,12,3,5754,,,0,"Remove the useless FakeExt

The FakeExt is used to test the extension point of servers API.
All the extension points and related tests are already removed,
so the FakeExt is useless now.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I939dc1ca82e3e5fad55735ed7706ba4119a611b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/486415/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_serversV21.py'],1,19b9525abd8806a55649d478119a61d243d8efbb,bp/api-no-more-extensions-pike,,"class FakeExt(extensions.V21APIExtensionBase): name = ""DiskConfig"" alias = 'os-disk-config' version = 1 fake_schema = {'fake_ext_attr': {'type': 'string'}} def fake_extension_point(self, *args, **kwargs): pass def fake_schema_extension_point(self, version): if version in ('2.1', '2.19', '2.32', '2.37'): return self.fake_schema elif version == '2.0': return {} # This fake method should return the schema for expected version # Return None will make the tests failed, that means there is something # in the code. return None def get_controller_extensions(self): return [] def get_resources(self): return [] ",0,26
openstack%2Fnova~master~I3da059fb62f085ff04532f8ec05857acfb628b06,openstack/nova,master,I3da059fb62f085ff04532f8ec05857acfb628b06,Netronome SmartNIC Enablement,MERGED,2017-07-13 16:15:59.000000000,2017-08-21 11:29:27.000000000,2017-07-26 23:39:52.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20040}, {'_account_id': 25733}]","[{'number': 1, 'created': '2017-07-13 16:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce9ef040c520dc4a7a85af3c83408d7a23058c64', 'message': 'Netronome SmartNIC Enablement\n\nThis is patch set enables Netronome Agilio SmartNIC acceleration in OpenStack.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 2, 'created': '2017-07-14 08:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e27c3559117b2f3640c54103e97cd5c28c6ca6fd', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 3, 'created': '2017-07-14 13:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f5465eca3e1e25d14a19a5c529fdf8dc0d51a20', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 4, 'created': '2017-07-14 14:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c9e0146cbe64b13722f48f382304d8f30243803', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 5, 'created': '2017-07-17 14:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/506ec75eff920820504ec499df13f6d1cee5a7ef', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 6, 'created': '2017-07-19 18:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4f1f4a61428209b371fd32ef473c460941086e1', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 7, 'created': '2017-07-20 07:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2846c02889600dcc50e4234b1c7979a2d8efe2a', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* A WIP external ML2 and OS-VIF plugin is hosted at:\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 8, 'created': '2017-07-21 07:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8093089f4a2629d7c05c7be68b0eb254d23fb41a', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFHostDevice has been added (can be broken out into a separate patch)\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 9, 'created': '2017-07-23 18:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/396a4422f74932d5fbb7e37e7721332a22829b0d', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 10, 'created': '2017-07-25 14:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71f577af72308a1568d0b3812f63c5586f99ce58', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 11, 'created': '2017-07-25 14:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f99dcee4298a57a2486a2c3bd6758c7229ca01bc', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 12, 'created': '2017-07-25 14:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fbcb38715bfb5e5911d7aa191c9a808b0fd8917', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 13, 'created': '2017-07-25 17:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81af2b4301518371b11fb1f2185d81533beeedb1', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 14, 'created': '2017-07-25 19:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5baf880a3d650173d824133c5d78688e67db88cb', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 15, 'created': '2017-07-25 21:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63fd2bdf42afcf11d3837448a9f44fadd8bc2b43', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 16, 'created': '2017-07-26 10:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c9cdfe0fceb4c63ab8bb2418a2d9884ff5a84df', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 17, 'created': '2017-07-26 19:03:50.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/network/model.py', 'releasenotes/notes/netronome-smartnic-enablement-d3897fb294429282.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bd008ef5c56b85c85b09ec94d7ed079116c8e3c', 'message': 'Netronome SmartNIC Enablement\n\nThese patches enable Netronome Agilio SmartNIC acceleration in Nova.\n\n* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2\n  plugin.\n\n* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the\n  virtio-forwarder plugging mode.\n\n* nova/network/neutronv2/api.py has been modified to pass the bridge\n  in the os-vif objects, similar to other OVS VIF types.\n\n* os_vif_util.py has been extended to handle the agilio_ovs os-vif\n  plugin.\n\n* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif\n  name to the os-vif plugin.\n\n* Note: this enables the external ML2 and OS-VIF plugin, hosted at\n  https://github.com/Netronome/agilio-ovs-openstack-plugin\n  to support the out-of-tree version of Agilio OVS. Consult the Agilio\n  documentation for configuration recommendations.\n\nChange-Id: I3da059fb62f085ff04532f8ec05857acfb628b06\nDepends-On: Id95a9f311e71b3cefb170704728641a4a1a91144\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}]",75,483459,2bd008ef5c56b85c85b09ec94d7ed079116c8e3c,212,22,17,25733,,,0,"Netronome SmartNIC Enablement

These patches enable Netronome Agilio SmartNIC acceleration in Nova.

* This patch set adds VIF_TYPE_AGILIO_OVS to hook in the external ML2
  plugin.

* This patch set adds VNIC_TYPE_VIRTIO_FORWARDER to enable the
  virtio-forwarder plugging mode.

* nova/network/neutronv2/api.py has been modified to pass the bridge
  in the os-vif objects, similar to other OVS VIF types.

* os_vif_util.py has been extended to handle the agilio_ovs os-vif
  plugin.

* VIFPortProfileOVSRepresentor is used to pass the PCI address and vif
  name to the os-vif plugin.

* Note: this enables the external ML2 and OS-VIF plugin, hosted at
  https://github.com/Netronome/agilio-ovs-openstack-plugin
  to support the out-of-tree version of Agilio OVS. Consult the Agilio
  documentation for configuration recommendations.

Change-Id: I3da059fb62f085ff04532f8ec05857acfb628b06
Depends-On: Id95a9f311e71b3cefb170704728641a4a1a91144
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/483459/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/virt/libvirt/designer.py', 'nova/network/os_vif_util.py']",5,ce9ef040c520dc4a7a85af3c83408d7a23058c64,netronome-smartnic-enablement,"from os_vif.objects import fieldsdef _get_vif_vnic_type(vif): """"""Get the VIFs vnic_type :param vif: the nova.nework.model.VIF instance Get the VNIC type of the VIF :returns: vnic_type """""" return vif.get('vnic_type', model.VNIC_TYPE_NORMAL) # VIF_TYPE_AGILIO_OVS = 'agilio_ovs' def _nova_to_osvif_vif_agilio_ovs(vif): vnic_type = _get_vif_vnic_type(vif) vif_name = _get_vif_name(vif) profile = objects.vif.VIFPortProfileOpenVSwitch( interface_id=vif.get(""ovs_interfaceid"") or vif[""id""]) if vnic_type == model.VNIC_TYPE_DIRECT: obj = _get_vif_instance( vif, objects.vif.VIFHostDevice, port_profile=profile, plugin=""agilio_ovs"", dev_address=vif[""profile""][""pci_slot""], dev_type=fields.VIFHostDeviceDevType.ETHERNET ) if vif[""network""][""bridge""] is not None: obj.network.bridge = vif[""network""][""bridge""] elif vnic_type == model.VNIC_TYPE_VIRTIO_FORWARDER: # (jangutter): Note, we are stashing the PCI address into the socket. # os-vif plug and unplug grabs it from there. # This monumentally hacky to say the least. obj = _get_vif_instance(vif, objects.vif.VIFVHostUser, port_profile=profile, plugin=""agilio_ovs"", vif_name=vif_name, mode=""client"", path=""/run/virtiorelay/%s.sock"" % vif[""profile""][""pci_slot""]) if vif[""network""][""bridge""] is not None: obj.network.bridge = vif[""network""][""bridge""] else: LOG.debug(""agilio_ovs falling through to ovs %s"", vif) obj = _nova_to_osvif_vif_ovs(vif) return obj ",,65,1
openstack%2Fnova~master~Ide0ffe532685ac813828f9b4675b39e939c8e2eb,openstack/nova,master,Ide0ffe532685ac813828f9b4675b39e939c8e2eb,Updated from global requirements,MERGED,2017-07-26 15:06:54.000000000,2017-08-21 11:29:21.000000000,2017-07-26 22:07:15.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-26 15:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e68d0fcaea6d16d54688e64a29f57687723f02c7', 'message': 'Updated from global requirements\n\nChange-Id: Ide0ffe532685ac813828f9b4675b39e939c8e2eb\n'}, {'number': 2, 'created': '2017-07-26 17:39:04.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/582d08e3f4951a7406d8e899a47f37e193b66ec3', 'message': 'Updated from global requirements\n\nChange-Id: Ide0ffe532685ac813828f9b4675b39e939c8e2eb\n'}]",0,487473,582d08e3f4951a7406d8e899a47f37e193b66ec3,24,12,2,11131,,,0,"Updated from global requirements

Change-Id: Ide0ffe532685ac813828f9b4675b39e939c8e2eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/487473/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e68d0fcaea6d16d54688e64a29f57687723f02c7,openstack/requirements,"cryptography!=2.0,>=1.6 # BSD/Apache-2.0",cryptography>=1.6 # BSD/Apache-2.0,1,1
openstack%2Fnova~master~I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a,openstack/nova,master,I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a,add a retry on DBDeadlock to _set_allocations(),MERGED,2017-07-26 15:21:55.000000000,2017-08-21 11:29:08.000000000,2017-07-27 03:16:55.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-07-26 15:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76d0c64ec076722e678a1a7e3ea79f2c4930bcf0', 'message': ""add a retry on DBDeadlock to _set_allocations()\n\nA job failed with an uncaught DBDeadlock when attempting to run the\nclaim process in https://review.openstack.org/#/c/483566/. This is\nlikely due to the update_available_resource() method of the resource\ntracker running and updating a resource provider's inventory (and thus\nthe resource provider record's generation field) at the exact same time\nthat the scheduler has already started a transaction that is attempting\nto claim resources (set allocations) against that same resource\nprovider. It's a rare situation that is highlighted by the test runs\nbut we should handle it regardless.\n\nChange-Id: I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a\n""}, {'number': 2, 'created': '2017-07-26 15:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4510f4e81bda2f85522b9091736b41f905c889e9', 'message': ""add a retry on DBDeadlock to _set_allocations()\n\nA job failed with an uncaught DBDeadlock when attempting to run the\nclaim process in https://review.openstack.org/#/c/483566/. This is\nlikely due to the update_available_resource() method of the resource\ntracker running and updating a resource provider's inventory (and thus\nthe resource provider record's generation field) at the exact same time\nthat the scheduler has already started a transaction that is attempting\nto claim resources (set allocations) against that same resource\nprovider. It's a rare situation that is highlighted by the test runs\nbut we should handle it regardless.\n\nChange-Id: I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a\n""}, {'number': 3, 'created': '2017-07-26 15:50:38.000000000', 'files': ['nova/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e001b0538a9d413f864d39584c2aea0b9e200e4b', 'message': ""add a retry on DBDeadlock to _set_allocations()\n\nA job failed with an uncaught DBDeadlock when attempting to run the\nclaim process in https://review.openstack.org/#/c/483566/. This is\nlikely due to the update_available_resource() method of the resource\ntracker running and updating a resource provider's inventory (and thus\nthe resource provider record's generation field) at the exact same time\nthat the scheduler has already started a transaction that is attempting\nto claim resources (set allocations) against that same resource\nprovider. It's a rare situation that is highlighted by the test runs\nbut we should handle it regardless.\n\nChange-Id: I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a\n""}]",6,487483,e001b0538a9d413f864d39584c2aea0b9e200e4b,35,9,3,7,,,0,"add a retry on DBDeadlock to _set_allocations()

A job failed with an uncaught DBDeadlock when attempting to run the
claim process in https://review.openstack.org/#/c/483566/. This is
likely due to the update_available_resource() method of the resource
tracker running and updating a resource provider's inventory (and thus
the resource provider record's generation field) at the exact same time
that the scheduler has already started a transaction that is attempting
to claim resources (set allocations) against that same resource
provider. It's a rare situation that is highlighted by the test runs
but we should handle it regardless.

Change-Id: I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/487483/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,76d0c64ec076722e678a1a7e3ea79f2c4930bcf0,bp/placement-claims,"from oslo_db import api as oslo_db_api @oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True) :raises `exception.InvalidAllocationCapacityExceeded` if any inventory would be exhausted by the allocation. Raises an InvalidAllocationConstraintsViolated exception if any of the `step_size`, `min_unit` or `max_unit` constraints in an inventory will be violated by any one of the allocations.", _RC_CACHE.id_from_string(alloc.resource_class),8,1
openstack%2Fnova~master~I5e6146404132090d054deb76ecd896a1716e0405,openstack/nova,master,I5e6146404132090d054deb76ecd896a1716e0405,Use _error_out_instance_on_exception in finish_resize,MERGED,2017-07-20 12:50:19.000000000,2017-08-21 11:29:02.000000000,2017-07-26 16:16:42.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 10118}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-07-20 12:50:19.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9dd035ea404474defc25c440d0d32c528abc5e45', 'message': ""Use _error_out_instance_on_exception in finish_resize\n\nChange I9269ffa2 removed the quota handling from finish_resize, which\nwas the reason we weren't using _error_out_instance_on_exception\nthere. With the removal of quota handling, the remaining code is now\nidentical to _error_out_instance_on_exception, including the log\nmessage. This trivial non-functional change simply updates the method\nto use the existing utility function.\n\nChange-Id: I5e6146404132090d054deb76ecd896a1716e0405\n""}]",1,485601,9dd035ea404474defc25c440d0d32c528abc5e45,41,9,1,9555,,,0,"Use _error_out_instance_on_exception in finish_resize

Change I9269ffa2 removed the quota handling from finish_resize, which
was the reason we weren't using _error_out_instance_on_exception
there. With the removal of quota handling, the remaining code is now
identical to _error_out_instance_on_exception, including the log
message. This trivial non-functional change simply updates the method
to use the existing utility function.

Change-Id: I5e6146404132090d054deb76ecd896a1716e0405
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/485601/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,9dd035ea404474defc25c440d0d32c528abc5e45,," with self._error_out_instance_on_exception(context, instance):"," try: except Exception: LOG.exception('Setting instance vm_state to ERROR', instance=instance) with excutils.save_and_reraise_exception(): self._set_instance_obj_error_state(context, instance)",1,6
openstack%2Fnova~master~I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5,openstack/nova,master,I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5,use os_traits.MISC_SHARES_VIA_AGGREGATE,MERGED,2017-07-20 19:13:53.000000000,2017-08-21 11:28:48.000000000,2017-07-26 16:15:54.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-07-20 19:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77f232d73ff6ba937e109f8bf27807b8c025db74', 'message': 'use os_traits.MISC_SHARES_VIA_AGGREGATE\n\nThere was a TODO left in the test_resource_provider functional test\ncase to actually use the os_traits.MISC_SHARES_VIA_AGGREGATE trait\ninstead of creating a trait once os-traits library was released that\ncontained MISC_SHARES_VIA_AGGREGATE. Well, os-traits version 0.3.0\nintroduces this traits in commit\nI4e9d8389c9b93ffee20adb53d864d55d335a27fd and Nova has had os-traits\n0.3.0 in requirements for a while now, so this patch takes care of that\nTODO.\n\nChange-Id: I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5\n'}, {'number': 2, 'created': '2017-07-26 12:47:50.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f86b5610d4109f48fed24feb33a0043d701cc0d1', 'message': 'use os_traits.MISC_SHARES_VIA_AGGREGATE\n\nThere was a TODO left in the test_resource_provider functional test\ncase to actually use the os_traits.MISC_SHARES_VIA_AGGREGATE trait\ninstead of creating a trait once os-traits library was released that\ncontained MISC_SHARES_VIA_AGGREGATE. Well, os-traits version 0.3.0\nintroduces this traits in commit\nI4e9d8389c9b93ffee20adb53d864d55d335a27fd and Nova has had os-traits\n0.3.0 in requirements for a while now, so this patch takes care of that\nTODO.\n\nChange-Id: I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5\n'}]",0,485792,f86b5610d4109f48fed24feb33a0043d701cc0d1,37,18,2,7,,,0,"use os_traits.MISC_SHARES_VIA_AGGREGATE

There was a TODO left in the test_resource_provider functional test
case to actually use the os_traits.MISC_SHARES_VIA_AGGREGATE trait
instead of creating a trait once os-traits library was released that
contained MISC_SHARES_VIA_AGGREGATE. Well, os-traits version 0.3.0
introduces this traits in commit
I4e9d8389c9b93ffee20adb53d864d55d335a27fd and Nova has had os-traits
0.3.0 in requirements for a while now, so this patch takes care of that
TODO.

Change-Id: I9f5290c00cdc7b740755fe2e988e2a9ebf2848f5
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/485792/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py']",2,77f232d73ff6ba937e109f8bf27807b8c025db74,misc-shares-via-aggregate-trait," t = objects.Trait.get_by_name(self.ctx, ""MISC_SHARES_VIA_AGGREGATE"") t = objects.Trait.get_by_name(self.ctx, ""MISC_SHARES_VIA_AGGREGATE"") t = objects.Trait.get_by_name(self.ctx, ""MISC_SHARES_VIA_AGGREGATE"")"," t = objects.Trait( self.ctx, name=""MISC_SHARES_VIA_AGGREGATE"", ) # TODO(jaypipes): Once MISC_SHARES_VIA_AGGREGATE is a standard # os-traits trait, we won't need to create() here. Instead, we will # just do: # t = objects.Trait.get_by_name( # self.ctx, # ""MISC_SHARES_VIA_AGGREGATE"", # ) t.create() t = objects.Trait( self.ctx, name=""MISC_SHARES_VIA_AGGREGATE"", ) # TODO(jaypipes): Once MISC_SHARES_VIA_AGGREGATE is a standard # os-traits trait, we won't need to create() here. Instead, we will # just do: # t = objects.Trait.get_by_name( # self.ctx, # ""MISC_SHARES_VIA_AGGREGATE"", # ) t.create() t = objects.Trait( self.ctx, name=""MISC_SHARES_VIA_AGGREGATE"", ) # TODO(jaypipes): Once MISC_SHARES_VIA_AGGREGATE is a standard # os-traits trait, we won't need to create() here. Instead, we will # just do: # t = objects.Trait.get_by_name( # self.ctx, # ""MISC_SHARES_VIA_AGGREGATE"", # ) t.create()",4,39
openstack%2Fnova~master~Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c,openstack/nova,master,Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c,Move the last_bytes util method to libvirt,MERGED,2017-06-08 12:08:56.000000000,2017-08-21 11:28:33.000000000,2017-07-27 03:05:13.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26500}]","[{'number': 1, 'created': '2017-06-08 12:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd5f939846174e38dea68ae5010230ec8818a627', 'message': ""Move the last_bytes util method to the libvirt driver.\n\nThe only user of this util method is the libvirt driver, so it\nshould live there. This is a precursor to re-writing its single\ncaller to use privsep to read bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 2, 'created': '2017-06-21 02:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd0b47fa26b31d1b5f5acc041618ebb778ffc157', 'message': ""Move the last_bytes util method to the libvirt driver.\n\nThe only user of this util method is the libvirt driver, so it\nshould live there. This is a precursor to re-writing its single\ncaller to use privsep to read bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 3, 'created': '2017-07-21 01:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b517fff2b199d694540d5495081a6baf125085a', 'message': ""Move the last_bytes util method to the libvirt driver.\n\nThe only user of this util method is the libvirt driver, so it\nshould live there. This is a precursor to re-writing its single\ncaller to use privsep to read bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 4, 'created': '2017-07-21 04:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec12dbd97fb6944fe4911632821189e3659c4263', 'message': ""Move the last_bytes util method to the libvirt driver.\n\nThe only user of this util method is the libvirt driver, so it\nshould live there. This is a precursor to re-writing its single\ncaller to use privsep to read bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 5, 'created': '2017-07-21 04:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4f4559a9a92355cbb7f04c5acf267b22f0eb442', 'message': ""Move the last_bytes util method to the libvirt driver.\n\nThe only user of this util method is the libvirt driver, so it\nshould live there. This is a precursor to re-writing its single\ncaller to use privsep to read bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 6, 'created': '2017-07-25 02:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c639ced29bf2913825a2da3edeeb308f146dd7d', 'message': ""Move the last_bytes util method to libvirt\n\nThe only user of this util method is libvirt, so it should live there.\nThis is a precursor to re-writing its single caller to use privsep to\nread bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 7, 'created': '2017-07-25 06:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52a666d1891e596b9f0b13a14f02b50d616b036f', 'message': ""Move the last_bytes util method to libvirt\n\nThe only user of this util method is libvirt, so it should live there.\nThis is a precursor to re-writing its single caller to use privsep to\nread bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 8, 'created': '2017-07-25 06:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d01a52e41e4cb57a95ee9fa1e0127d6872136e2', 'message': ""Move the last_bytes util method to libvirt\n\nThe only user of this util method is libvirt, so it should live there.\nThis is a precursor to re-writing its single caller to use privsep to\nread bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}, {'number': 9, 'created': '2017-07-25 22:38:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_utils.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/utils.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ddfd93a38cd03372a5e88d81c825262f9a22cf71', 'message': ""Move the last_bytes util method to libvirt\n\nThe only user of this util method is libvirt, so it should live there.\nThis is a precursor to re-writing its single caller to use privsep to\nread bytes instead of chown'ing files.\n\nChange-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c\n""}]",0,472228,ddfd93a38cd03372a5e88d81c825262f9a22cf71,126,22,9,2271,,,0,"Move the last_bytes util method to libvirt

The only user of this util method is libvirt, so it should live there.
This is a precursor to re-writing its single caller to use privsep to
read bytes instead of chown'ing files.

Change-Id: Ice5cc70eeef3fbeee9a1a0ec0daa801c6f74480c
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/472228/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,bd5f939846174e38dea68ae5010230ec8818a627,hurrah-for-privsep,"import tempfile class LastBytesTestCase(test.NoDBTestCase): """"""Test the last_bytes() utility method."""""" def setUp(self): super(LastBytesTestCase, self).setUp() self.f = six.BytesIO(b'1234567890') def test_truncated(self): self.f.seek(0, os.SEEK_SET) out, remaining = libvirt_driver._last_bytes(self.f, 5) self.assertEqual(out, b'67890') self.assertGreater(remaining, 0) def test_read_all(self): self.f.seek(0, os.SEEK_SET) out, remaining = libvirt_driver._last_bytes(self.f, 1000) self.assertEqual(out, b'1234567890') self.assertFalse(remaining > 0) def test_seek_too_far_real_file(self): # StringIO doesn't raise IOError if you see past the start of the file. with tempfile.TemporaryFile() as flo: content = b'1234567890' flo.write(content) self.assertEqual( (content, 0), libvirt_driver._last_bytes(flo, 1000))",,55,53
openstack%2Fnova~master~Ia068de2dac34f2399025fb28fec9af75c1442d63,openstack/nova,master,Ia068de2dac34f2399025fb28fec9af75c1442d63,Add helper method for waiting migrations in functional tests,MERGED,2017-07-24 09:27:37.000000000,2017-08-21 11:27:52.000000000,2017-07-26 23:43:23.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18599}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 26242}]","[{'number': 1, 'created': '2017-07-24 09:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b321cf04f680966a7d846917478f01acab8d3cd', 'message': 'Add helper method for waiting migrations in functional tests\n\nIn functional tests, this method will be used in some places. This\nmethod waits for the migrations and if there is at least one  active\nmigration in progress, the method return with the migrations.\n\nChange-Id: Ia068de2dac34f2399025fb28fec9af75c1442d63\nCo-Authored-By: Alex Szarka <szarka@inf.u-szeged.hu>\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 2, 'created': '2017-07-26 08:23:37.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/api/client.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/47469ac8683e914d4dcc26ae38bcea1e4a22587a', 'message': 'Add helper method for waiting migrations in functional tests\n\nIn functional tests, this method will be used in some places. This\nmethod waits for the migrations and if there is at least one  active\nmigration in progress, the method return with the migrations.\n\nChange-Id: Ia068de2dac34f2399025fb28fec9af75c1442d63\nCo-Authored-By: Alex Szarka <szarka@inf.u-szeged.hu>\nImplements: bp versioned-notification-transformation-pike\n'}]",6,486537,47469ac8683e914d4dcc26ae38bcea1e4a22587a,31,19,2,18602,,,0,"Add helper method for waiting migrations in functional tests

In functional tests, this method will be used in some places. This
method waits for the migrations and if there is at least one  active
migration in progress, the method return with the migrations.

Change-Id: Ia068de2dac34f2399025fb28fec9af75c1442d63
Co-Authored-By: Alex Szarka <szarka@inf.u-szeged.hu>
Implements: bp versioned-notification-transformation-pike
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/486537/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/notification_sample_base.py'],1,8b321cf04f680966a7d846917478f01acab8d3cd,bp/versioned-notification-transformation-pike," def _wait_and_get_migrations(self, server, max_retries=20): """"""Simple method to wait for the migrations Here we wait for the moment where active migration is in progress so we can get them and use them in the migration-related tests. :param server: server we'd like to use :param max_retries: maximum number of retries :returns: the migrations """""" retries = 0 while retries < max_retries: retries += 1 migrations = self.admin_api.get_active_migrations(server['id']) if (len(migrations) > 0 and migrations[0]['status'] != 'preparing'): return migrations if retries == max_retries: self.fail('The migration table left empty.')",,20,0
openstack%2Fnova~master~I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d,openstack/nova,master,I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d,Using plain routes for the microversions test,MERGED,2017-07-19 06:41:12.000000000,2017-08-21 11:27:38.000000000,2017-07-26 14:33:25.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-19 06:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec5a64b21352e239da741d57633dfb5c425b5bd4', 'message': '[DNM] Using plain routes for the microversions test\n\nChange-Id: I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d\n'}, {'number': 2, 'created': '2017-07-21 09:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94d9c060a7b7c2efc3c3deb6597bf8ba6079ce9d', 'message': 'Using plain routes for the microversions test\n\nFew microversions unittest still depend on the stevedore to load few\nfake controller. This patch uses the plain routes to instead of stevedore.\n\nFor the unittest can injects routes which are used for test, the `custom_routes`\nparameter is added to the APIRouterV21.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d\n'}, {'number': 3, 'created': '2017-07-23 15:16:32.000000000', 'files': ['nova/tests/unit/api/openstack/compute/microversions.py', 'nova/api/openstack/compute/routes.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/api/openstack/fakes.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8928e4a7ca59fb153967ef436962a4658975129', 'message': 'Using plain routes for the microversions test\n\nFew microversions unittest still depend on the stevedore to load few\nfake controller. This patch uses the plain routes to instead of stevedore.\n\nFor the unittest can injects routes which are used for test, the `custom_routes`\nparameter is added to the APIRouterV21.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d\n'}]",1,485061,d8928e4a7ca59fb153967ef436962a4658975129,48,15,3,5754,,,0,"Using plain routes for the microversions test

Few microversions unittest still depend on the stevedore to load few
fake controller. This patch uses the plain routes to instead of stevedore.

For the unittest can injects routes which are used for test, the `custom_routes`
parameter is added to the APIRouterV21.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I1a7c653ab21be41b1a41f748a35ec9a57dd8b15d
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/485061/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/microversions.py', 'nova/api/openstack/compute/routes.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/api/openstack/fakes.py', 'setup.cfg']",5,ec5a64b21352e239da741d57633dfb5c425b5bd4,bp/api-no-more-extensions-pike,,nova.api.v21.test_extensions = microversions = nova.tests.unit.api.openstack.compute.microversions:Microversions ,84,72
openstack%2Fnova~master~Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e,openstack/nova,master,Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e,Do not import nova.conf into nova/exception.py,MERGED,2017-07-21 01:39:02.000000000,2017-08-21 11:27:25.000000000,2017-07-26 10:12:15.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18405}, {'_account_id': 18602}, {'_account_id': 19930}, {'_account_id': 20040}, {'_account_id': 22406}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-07-21 01:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71533030701a0b2b7a073a71380c0ca60e61151e', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}, {'number': 2, 'created': '2017-07-21 04:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2e778f277adbc7fe0437c8ad5ebdf2496586658', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}, {'number': 3, 'created': '2017-07-21 04:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3de522f9ed1745c7f73cc706146c1cf96ab23ba7', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}, {'number': 4, 'created': '2017-07-25 02:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e7665e35491baa0cc075b349e5afc85858fdb49', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}, {'number': 5, 'created': '2017-07-25 06:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cdf47243eb3f5bc013b764c26aff385650a2ced', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}, {'number': 6, 'created': '2017-07-25 06:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66d689b4d90d54ef3fab726c597c115d361c1b21', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}, {'number': 7, 'created': '2017-07-25 22:38:11.000000000', 'files': ['nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/24a96f4cbe309aac76c0a76e19bd1417c988008a', 'message': 'Do not import nova.conf into nova/exception.py\n\nClearly this is unused and results in:\n ArgsAlreadyParsedError: arguments already parsed: cannot register CLI\noption\n\nWhen trying to launch the privsep-helper in later patches\n\nChange-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e\n'}]",0,485907,24a96f4cbe309aac76c0a76e19bd1417c988008a,88,24,7,12898,,,0,"Do not import nova.conf into nova/exception.py

Clearly this is unused and results in:
 ArgsAlreadyParsedError: arguments already parsed: cannot register CLI
option

When trying to launch the privsep-helper in later patches

Change-Id: Ic44dc7ccbd1bdbbeb41bde923e65d2c78d183d2e
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/485907/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,71533030701a0b2b7a073a71380c0ca60e61151e,hurrah-for-privsep,,import nova.confCONF = nova.conf.CONF ,0,4
openstack%2Fsahara-image-elements~master~Iadee41efcf3e43e7933abb55ebee17c704020ae9,openstack/sahara-image-elements,master,Iadee41efcf3e43e7933abb55ebee17c704020ae9,Update links in README,MERGED,2017-08-21 09:44:38.000000000,2017-08-21 10:56:41.000000000,2017-08-21 10:53:17.000000000,"[{'_account_id': 3}, {'_account_id': 10459}]","[{'number': 1, 'created': '2017-08-21 09:44:38.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/d480884c56017779c2438ce3c0ed3db6efc9bac7', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Iadee41efcf3e43e7933abb55ebee17c704020ae9\n'}]",0,495792,d480884c56017779c2438ce3c0ed3db6efc9bac7,7,2,1,23314,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Iadee41efcf3e43e7933abb55ebee17c704020ae9
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/92/495792/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d480884c56017779c2438ce3c0ed3db6efc9bac7,,.. image:: https://governance.openstack.org/tc/badges/sahara-image-elements.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/sahara-image-elements.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fdragonflow~master~I09f4caed07dab72040855e5fd8235cb898ed41be,openstack/dragonflow,master,I09f4caed07dab72040855e5fd8235cb898ed41be,patch port pair creation utility,MERGED,2017-06-18 09:19:24.000000000,2017-08-21 10:55:42.000000000,2017-08-21 10:55:42.000000000,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 18347}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}, {'_account_id': 26131}]","[{'number': 1, 'created': '2017-06-18 09:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/e7a313fa6e9ec05d4156e84937e964f6fa90e163', 'message': 'fix issue of multiple patch ports between bridges\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 2, 'created': '2017-06-19 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/5c538d129f04b7f33589e70030dd6d50cba9b824', 'message': 'fix issue of multiple patch ports between bridges\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 3, 'created': '2017-06-28 09:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/9599f2727d3828745cfda450368246556aeceafc', 'message': 'Fix issue of multiple patch ports between bridges\n\nGeneric patch port link pair creation utility\nWith addition to create both ends of 2 bridges patch port\nit also allows creation of a unique shareable patch, to be used\namong the different applications, without a worry for patch creation\nrace condition\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 4, 'created': '2017-07-16 15:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d85a27ad3aa88ef57018d22ecdf3de2594cc05c9', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nWith addition to create both ends of 2 bridges patch port\nit also allows creation of a unique shareable patch, to be used\namong the different applications, using a utility to get the mapping\nof patch port ofport to physical network.\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 5, 'created': '2017-07-19 12:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/89cb8b9be144b0938501bb4891fb634221bec49e', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nto create both ends of 2 bridges patch port in one function call\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 6, 'created': '2017-07-19 14:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2135e10af1a94a99845ef2b2365016312dbeebc5', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nto create both ends of 2 bridges patch port in one function call\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 7, 'created': '2017-07-30 10:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/4fe205de864b77dc82dbb3c847407c4df13f1c7d', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nto create both ends of 2 bridges patch port in one function call\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 8, 'created': '2017-08-08 14:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a8d8b1017e101849159e1ec9eda5c7b6ed4654b0', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nto create both ends of 2 bridges patch port in one function call\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 9, 'created': '2017-08-09 07:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/442d341264e6c95a00cf9ac535dea722de37baed', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nto create both ends of 2 bridges patch port in one function call\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}, {'number': 10, 'created': '2017-08-16 16:00:47.000000000', 'files': ['dragonflow/ovsdb/commands.py', 'dragonflow/controller/apps/dnat.py', 'dragonflow/db/models/ovs.py', 'dragonflow/ovsdb/impl_idl.py', 'dragonflow/ovsdb/vswitch_impl.py', 'dragonflow/controller/apps/provider.py', 'dragonflow/controller/apps/chassis_snat.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d964168a00fc8844c413df62a4360c5137ab8b98', 'message': 'patch port pair creation utility\n\nGeneric patch port link pair creation utility\nto create both ends of 2 bridges patch port in one function call\n\nChange-Id: I09f4caed07dab72040855e5fd8235cb898ed41be\n'}]",41,475166,d964168a00fc8844c413df62a4360c5137ab8b98,47,7,10,18347,,,0,"patch port pair creation utility

Generic patch port link pair creation utility
to create both ends of 2 bridges patch port in one function call

Change-Id: I09f4caed07dab72040855e5fd8235cb898ed41be
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/66/475166/5 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/controller/provider_networks_app.py', 'dragonflow/common/helpers.py', 'dragonflow/tests/unit/test_helpers.py', 'dragonflow/controller/dnat_app.py']",4,e7a313fa6e9ec05d4156e84937e964f6fa90e163,test,"from dragonflow.common import helpersZERO_MAC = '00:00:00:00:00:00' self.conf = cfg.CONF.df_dnat_app self.external_network_bridge = self.conf.external_network_bridge or mac == ZERO_MAC): mapping = helpers.generate_mapping( self.integration_bridge, self.external_network_bridge, self.vswitch_api.create_patch_port) self.external_ofport = mapping[self.integration_bridge]"," self.external_network_bridge = \ cfg.CONF.df_dnat_app.external_network_bridge self.conf = cfg.CONF.df_dnat_app self.int_peer_patch_port = self.conf.int_peer_patch_port self.ex_peer_patch_port = self.conf.ex_peer_patch_port or mac == '00:00:00:00:00:00'): self.external_ofport = self.vswitch_api.create_patch_port( self.integration_bridge, self.ex_peer_patch_port, self.int_peer_patch_port) self.vswitch_api.create_patch_port( self.external_network_bridge, self.int_peer_patch_port, self.ex_peer_patch_port)",145,22
openstack%2Fsenlin~master~I52687fe964fefa2c9005998631cbc8243de4a1f9,openstack/senlin,master,I52687fe964fefa2c9005998631cbc8243de4a1f9,try to acqure first ready action,MERGED,2017-08-20 15:24:27.000000000,2017-08-21 10:53:06.000000000,2017-08-21 10:53:06.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 23401}]","[{'number': 1, 'created': '2017-08-20 15:24:27.000000000', 'files': ['senlin/engine/scheduler.py', 'senlin/tests/unit/engine/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d9ebd96799c903b2c088f037d674652f677348a5', 'message': 'try to acqure first ready action\n\nthis patch revise scheduler to use action.acquire_first_ready(...)\nto get the first action which are ordered by ""created_at"" field to\nprocess.\n\nChange-Id: I52687fe964fefa2c9005998631cbc8243de4a1f9\n'}]",0,495558,d9ebd96799c903b2c088f037d674652f677348a5,7,3,1,23401,,,0,"try to acqure first ready action

this patch revise scheduler to use action.acquire_first_ready(...)
to get the first action which are ordered by ""created_at"" field to
process.

Change-Id: I52687fe964fefa2c9005998631cbc8243de4a1f9
",git fetch https://review.opendev.org/openstack/senlin refs/changes/58/495558/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/scheduler.py', 'senlin/tests/unit/engine/test_scheduler.py']",2,d9ebd96799c903b2c088f037d674652f677348a5,scheduler," @mock.patch.object(db_api, 'action_acquire_first_ready') @mock.patch.object(db_api, 'action_acquire_first_ready') @mock.patch.object(db_api, 'action_acquire_first_ready') @mock.patch.object(db_api, 'action_acquire_first_ready') @mock.patch.object(db_api, 'action_acquire_first_ready')"," @mock.patch.object(db_api, 'action_acquire_random_ready') @mock.patch.object(db_api, 'action_acquire_random_ready') @mock.patch.object(db_api, 'action_acquire_random_ready') @mock.patch.object(db_api, 'action_acquire_random_ready') @mock.patch.object(db_api, 'action_acquire_random_ready')",7,7
openstack%2Fproject-config~master~Id2065059ced524fdc9615ec90cc207955a6e87d6,openstack/project-config,master,Id2065059ced524fdc9615ec90cc207955a6e87d6,Add pike branch for OpenStack-Ansible gerritbot,MERGED,2017-08-18 18:45:13.000000000,2017-08-21 10:47:54.000000000,2017-08-21 10:47:54.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-18 18:45:13.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/24fa2f39f532a50780a5bb9eb05c2bd3a0771221', 'message': 'Add pike branch for OpenStack-Ansible gerritbot\n\nChange-Id: Id2065059ced524fdc9615ec90cc207955a6e87d6\n'}]",0,495410,24fa2f39f532a50780a5bb9eb05c2bd3a0771221,7,3,1,14805,,,0,"Add pike branch for OpenStack-Ansible gerritbot

Change-Id: Id2065059ced524fdc9615ec90cc207955a6e87d6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/495410/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,24fa2f39f532a50780a5bb9eb05c2bd3a0771221,openstack-ansible, - stable/pike,,1,0
openstack%2Fproject-config~master~Id8754d80061b9f561a6734638d80453cea0d85fc,openstack/project-config,master,Id8754d80061b9f561a6734638d80453cea0d85fc,Kuryr: Setup multinode gate,MERGED,2017-08-18 05:03:57.000000000,2017-08-21 10:43:39.000000000,2017-08-21 10:43:39.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-18 05:03:57.000000000', 'files': ['jenkins/jobs/kuryr.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b1b6ced0afa44cc912460a5afd47db5e11920950', 'message': 'Kuryr: Setup multinode gate\n\n- Add topology to setup both singlenode and multinode gates.\n- Remove unnecessary export ENABLE_SERVICES, these services already enabled\n  in Kuryr-libnetwork side [1].\n\n[1]\nhttps://github.com/openstack/kuryr-libnetwork/blob/master/devstack/settings#L29\n\nChange-Id: Id8754d80061b9f561a6734638d80453cea0d85fc\nPartial-implements: blueprint multi-node-ci\n'}]",0,494946,b1b6ced0afa44cc912460a5afd47db5e11920950,7,3,1,22406,,,0,"Kuryr: Setup multinode gate

- Add topology to setup both singlenode and multinode gates.
- Remove unnecessary export ENABLE_SERVICES, these services already enabled
  in Kuryr-libnetwork side [1].

[1]
https://github.com/openstack/kuryr-libnetwork/blob/master/devstack/settings#L29

Change-Id: Id8754d80061b9f561a6734638d80453cea0d85fc
Partial-implements: blueprint multi-node-ci
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/494946/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/kuryr.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,b1b6ced0afa44cc912460a5afd47db5e11920950,bp/multi-node-ci, experimental: - gate-install-dsvm-kuryr-libnetwork-multinode-ubuntu-xenial-nv,,17,6
openstack%2Fproject-config~master~I08c8faef0b61124f6c5d15844922c62dfaccc700,openstack/project-config,master,I08c8faef0b61124f6c5d15844922c62dfaccc700,Remove old functional job for Watcher,MERGED,2017-08-18 12:54:23.000000000,2017-08-21 10:39:00.000000000,2017-08-21 10:39:00.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-18 12:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2ded8272a56080fa6df0605c856957b08a5babfd', 'message': 'Remove old functional job for Watcher\n\nThis patch set removes old functional test job and\nrenames new one to the old one.\n\nChange-Id: I08c8faef0b61124f6c5d15844922c62dfaccc700\n'}, {'number': 2, 'created': '2017-08-21 08:48:31.000000000', 'files': ['jenkins/jobs/projects.yaml', 'jenkins/jobs/watcher.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d97bf60d97f751695ee659958be41fbeb7d5da14', 'message': 'Remove old functional job for Watcher\n\nThis patch set removes old functional test job and\nrenames new one to the old one.\n\nChange-Id: I08c8faef0b61124f6c5d15844922c62dfaccc700\n'}]",0,495296,d97bf60d97f751695ee659958be41fbeb7d5da14,16,3,2,19055,,,0,"Remove old functional job for Watcher

This patch set removes old functional test job and
renames new one to the old one.

Change-Id: I08c8faef0b61124f6c5d15844922c62dfaccc700
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/495296/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'jenkins/jobs/watcher.yaml', 'zuul/layout.yaml']",3,2ded8272a56080fa6df0605c856957b08a5babfd,remove-old-watcher-job,, - gate-watcher-dsvm-multinode-split-ubuntu-xenial-nv,0,53
openstack%2Fkuryr-kubernetes~master~Ic66bab138b170ac9ffbbaed5b69055641b157376,openstack/kuryr-kubernetes,master,Ic66bab138b170ac9ffbbaed5b69055641b157376,ipv6: Support pod networking,MERGED,2017-08-12 00:29:14.000000000,2017-08-21 10:34:54.000000000,2017-08-21 10:34:54.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 12398}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 15168}, {'_account_id': 15967}, {'_account_id': 21273}, {'_account_id': 24827}]","[{'number': 1, 'created': '2017-08-12 00:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f4420c35f33da5c05493c5ffb8dd1d29b8d792b3', 'message': ""[WIP] ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nthe pods to get IPv6 addressing.\n\nStatus:\n\nPods get working IPv6 addresses\nServices don't work cause the Kubernetes API won't take the ipv6 service\nsubnet as a parameter.\n\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 2, 'created': '2017-08-14 21:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9c61a06496ec2c85b03d935e5dd272db53df531e', 'message': '[WIP] ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nthe pods to get IPv6 addressing.\n\nStatus:\n\nPods get working IPv6 addresses\nServices get the right ClusterIP and Octavia LB entities.\n\nMissing:\n\nVerify LB and listener all work well. Should be fast.\n\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 3, 'created': '2017-08-16 12:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b7dd58471af94fc6a462c19b6b173e51d8a905c8', 'message': 'ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nan IPv6 only Kubernetes cluster (pods + services).\n\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 4, 'created': '2017-08-16 12:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c6a29f3c73ea167ba3de70e547faee3eadc33e38', 'message': 'ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nan IPv6 only Kubernetes cluster (pods + services).\n\nImplements: blueprint ipv6-support\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 5, 'created': '2017-08-16 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/367ef140b20e88d559dc807b7570cf6e91c226df', 'message': 'ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nan IPv6 only Kubernetes cluster (pods + services).\n\nImplements: blueprint ipv6-support\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 6, 'created': '2017-08-16 15:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f1434251ed46595e229df6bce6c2d4b339d67fe', 'message': 'ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nan IPv6 only Kubernetes cluster (pods + services).\n\nImplements: blueprint ipv6-support\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 7, 'created': '2017-08-17 06:33:40.000000000', 'files': ['doc/source/installation/ipv6.rst', 'doc/source/installation/services.rst', 'doc/source/installation/index.rst', 'kuryr_kubernetes/cni/binding/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c91af09d2e734d8b4416261dfc0018ea83ff3714', 'message': 'ipv6: Support pod networking\n\nThis patch adds support and documents how to set up the deployment for\nan IPv6 only Kubernetes cluster (pods + services).\n\nImplements: blueprint ipv6-support\nChange-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",9,493267,c91af09d2e734d8b4416261dfc0018ea83ff3714,25,9,7,14352,,,0,"ipv6: Support pod networking

This patch adds support and documents how to set up the deployment for
an IPv6 only Kubernetes cluster (pods + services).

Implements: blueprint ipv6-support
Change-Id: Ic66bab138b170ac9ffbbaed5b69055641b157376
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/67/493267/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/ipv6.rst', 'doc/source/installation/index.rst', 'kuryr_kubernetes/cni/binding/base.py']",3,f4420c35f33da5c05493c5ffb8dd1d29b8d792b3,bp/ipv6-support,"def _enable_ipv6(netns): # Docker disables IPv6 for --net=none containers # TODO(apuimedo) remove when it is no longer the case try: self_ns_fd = open('/proc/self/ns/net') pyroute2.netns.setns(netns) with open('/proc/sys/net/ipv6/conf/all/disable_ipv6', 'w') as disable_ipv6: disable_ipv6.write('0') except Exception: raise finally: pyroute2.netns.setns(self_ns_fd) if subnet.cidr.version == 6: _enable_ipv6(netns) for fip in subnet.ips.objects: iface.add_ip('%s/%s' % (fip.address, subnet.cidr.prefixlen))"," for fip in subnet.ips.objects: iface.add_ip(str(fip.address), mask=str(subnet.cidr.netmask))",199,1
openstack%2Fi18n~master~I426b66320b453de92dfd33597f8c6896b56feefd,openstack/i18n,master,I426b66320b453de92dfd33597f8c6896b56feefd,Imported Translations from Zanata,MERGED,2017-08-21 10:18:29.000000000,2017-08-21 10:27:55.000000000,2017-08-21 10:27:55.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-08-21 10:18:29.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/i18n/commit/af552ed4d435570e9d95e95d8c4bafa237281033', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I426b66320b453de92dfd33597f8c6896b56feefd\n'}]",0,495807,af552ed4d435570e9d95e95d8c4bafa237281033,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I426b66320b453de92dfd33597f8c6896b56feefd
",git fetch https://review.opendev.org/openstack/i18n refs/changes/07/495807/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/id/LC_MESSAGES/doc.po'],1,af552ed4d435570e9d95e95d8c4bafa237281033,zanata/translations,"""POT-Creation-Date: 2017-08-20 15:03+0000\n""""PO-Revision-Date: 2017-08-21 06:45+0000\n""""Also, release notes translations are only needed on master since release "" ""notes are published only from master, the translations get removed on stable "" ""branches."" msgstr """" ""Juga, pelepasan catatan terjemahan hanya diperlukan pada master karena "" ""catatan rilis hanya diterbitkan dari master, terjemahannya bisa dihapus di "" ""cabang yang stabil."" msgid """"","""POT-Creation-Date: 2017-08-18 11:23+0000\n""""PO-Revision-Date: 2017-08-17 05:04+0000\n""",11,2
openstack%2Fnova~stable%2Focata~I5d53407fc9619b9d8873c8b68400229a17fd3bbe,openstack/nova,stable/ocata,I5d53407fc9619b9d8873c8b68400229a17fd3bbe,[DNM] test ironic grenade failure,ABANDONED,2017-08-15 09:38:48.000000000,2017-08-21 10:24:37.000000000,,"[{'_account_id': 3}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21279}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-15 09:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc1b71e0b6e0c674e4b866553f0c9241e0443631', 'message': '[DNM] test ironic grenade failure\n\nChange-Id: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\n'}, {'number': 2, 'created': '2017-08-15 09:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7d5b6a9fc36fc6c12867110411804ada712aaae', 'message': '[DNM] test ironic grenade failure\n\nChange-Id: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\n'}, {'number': 3, 'created': '2017-08-15 11:54:12.000000000', 'files': ['nova/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c42cefbf189515c8cf210fcfb7b7393edc12be0a', 'message': '[DNM] test ironic grenade failure\n\nChange-Id: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\n'}]",0,493811,c42cefbf189515c8cf210fcfb7b7393edc12be0a,17,8,3,12356,,,0,"[DNM] test ironic grenade failure

Change-Id: I5d53407fc9619b9d8873c8b68400229a17fd3bbe
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/493811/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,dc1b71e0b6e0c674e4b866553f0c9241e0443631,test," rps = reportclient.get('/resource_providers')['resource_providers'] for rp in rps: LOG.debug('Inventory of rp %s is: %s; usages: %s', rp['uuid'], reportclient.get('/resource_providers/%s/inventories' % rp['uuid']), reportclient.get('/resource_providers/%s/usages' % rp['uuid']))",,5,0
openstack%2Fironic~master~I3ea3ab73166b78bb90639d9d71c4cc2aedc74064,openstack/ironic,master,I3ea3ab73166b78bb90639d9d71c4cc2aedc74064,[DNM] test multinode grenade failures,ABANDONED,2017-08-15 09:46:10.000000000,2017-08-21 10:24:27.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-08-15 09:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3797de78ba14c6eee62ec487f04661f1d1dd241b', 'message': '[DNM] test multinode grenade failures\n\nDepends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\nChange-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064\n'}, {'number': 2, 'created': '2017-08-15 11:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c20d24f0b451bec9881d23b93982051c33d5180', 'message': '[DNM] test multinode grenade failures\n\nDepends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\nChange-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064\n'}, {'number': 3, 'created': '2017-08-15 14:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/086d242969d93ed03a3101313c13e189cf93c560', 'message': '[DNM] test multinode grenade failures\n\nDepends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\nDepends-On: I28149c99e3b1a0f7bcac5d085e1b97eb76b7c604\nChange-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064\n'}, {'number': 4, 'created': '2017-08-15 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0ee8bc645fd16bf99024003a795a4cbaf3647a6', 'message': '[DNM] test multinode grenade failures\n\nDepends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\nDepends-On: I50540eaddcfb250254ab77a6b6a15e379db3d316\nChange-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064\n'}, {'number': 5, 'created': '2017-08-15 20:44:31.000000000', 'files': ['ironic/drivers/modules/ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/61ec376606b8796703ce3d1988bf21b7ea0b23be', 'message': '[DNM] test multinode grenade failures\n\nDepends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe\nDepends-On: I0874fe3b3628cb3e662ee01f24c4599247fdc82d\nChange-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064\n'}]",0,493812,61ec376606b8796703ce3d1988bf21b7ea0b23be,21,5,5,12356,,,0,"[DNM] test multinode grenade failures

Depends-On: I5d53407fc9619b9d8873c8b68400229a17fd3bbe
Depends-On: I0874fe3b3628cb3e662ee01f24c4599247fdc82d
Change-Id: I3ea3ab73166b78bb90639d9d71c4cc2aedc74064
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/493812/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ipmitool.py'],1,3797de78ba14c6eee62ec487f04661f1d1dd241b,test-grenade-multinode,Uses the 'cowsay' command (https://linux.die.net/man/1/cowsay) to remotely,Uses the 'ipmitool' command (http://ipmitool.sourceforge.net/) to remotely,1,1
openstack%2Fheat~master~I8450df08c84b5a467ab8ac991451c5b108ee96e7,openstack/heat,master,I8450df08c84b5a467ab8ac991451c5b108ee96e7,Rollback stack with correct tags,MERGED,2017-07-04 11:26:22.000000000,2017-08-21 10:20:37.000000000,2017-08-21 10:20:37.000000000,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-07-04 11:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/362c8a0673319da665f46b750288173b28c85857', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 2, 'created': '2017-07-06 06:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1526c256627131db37e72273e6f956f7c0fd90f1', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 3, 'created': '2017-07-06 11:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2f5fe8c892956f83f8a86c15ec8f0ff687eebb4d', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 4, 'created': '2017-07-07 03:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4fcf908bc030967c5d6ea8633fddd9ee06d8fb89', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 5, 'created': '2017-07-10 02:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9291fe1dde5d912441ae6a59ebe89762d32aa45', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 6, 'created': '2017-07-10 06:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ee866c95192c5dfa9bf874f5c3d490ded740336', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 7, 'created': '2017-08-14 09:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a5bd84b00a9301f0c687917f9c98b4954f2ac0b0', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}, {'number': 8, 'created': '2017-08-14 09:59:54.000000000', 'files': ['heat/tests/test_stack.py', 'heat/engine/stack.py', 'heat/tests/test_stack_update.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9e81190e74c8979ba39a8815e88f998d93364de4', 'message': 'Rollback stack with correct tags\n\nSet old tags for old_stack to make sure the stack\nwith the correct tags after rollback.\n\nChange-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7\nCloses-Bug: #1702251\n'}]",7,480153,9e81190e74c8979ba39a8815e88f998d93364de4,29,7,8,8289,,,0,"Rollback stack with correct tags

Set old tags for old_stack to make sure the stack
with the correct tags after rollback.

Change-Id: I8450df08c84b5a467ab8ac991451c5b108ee96e7
Closes-Bug: #1702251
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/480153/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/stack.py', 'heat/tests/test_stack_update.py']",2,362c8a0673319da665f46b750288173b28c85857,bug/1702251," old_tags = ['tag1', 'tag2'] template.Template(tmpl), tags=old_tags) self.assertEqual(old_tags, self.stack.tags) new_tags = ['tag3', 'tag4'] disable_rollback=disable_rollback, tags=new_tags) if disable_rollback: self.assertEqual(new_tags, self.stack.tags) else: self.assertEqual(old_tags, self.stack.tags)", template.Template(tmpl)) disable_rollback=disable_rollback),13,3
openstack%2Fdjango_openstack_auth~master~I8479435468d52b48f68fbd6d49de83b7de550598,openstack/django_openstack_auth,master,I8479435468d52b48f68fbd6d49de83b7de550598,Imported Translations from Zanata,MERGED,2017-08-21 10:04:56.000000000,2017-08-21 10:17:15.000000000,2017-08-21 10:17:15.000000000,"[{'_account_id': 3}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-08-21 10:04:56.000000000', 'files': ['openstack_auth/locale/tr_TR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/e45760d904a6f286dcc5a3f746dbc544b27e2140', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8479435468d52b48f68fbd6d49de83b7de550598\n'}]",0,495801,e45760d904a6f286dcc5a3f746dbc544b27e2140,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8479435468d52b48f68fbd6d49de83b7de550598
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/01/495801/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/locale/tr_TR/LC_MESSAGES/django.po'],1,e45760d904a6f286dcc5a3f746dbc544b27e2140,zanata/translations,"# yasemin demiral <yasemin.demiral@tubitak.gov.tr>, 2017. #zanata""Project-Id-Version: django_openstack_auth 3.5.1.dev8\n""""POT-Creation-Date: 2017-08-20 11:30+0000\n""""PO-Revision-Date: 2017-08-21 08:33+0000\n"" ""Last-Translator: yasemin demiral <yasemin.demiral@tubitak.gov.tr>\n""msgstr ""Parola""","""Project-Id-Version: django_openstack_auth 3.1.2.dev20\n""""POT-Creation-Date: 2017-05-18 13:23+0000\n""""PO-Revision-Date: 2017-05-22 09:01+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""msgstr ""Şifre""",6,5
openstack%2Fneutron-fwaas-dashboard~master~I8dc68408f0e3c4dd85554e016e7aeffbb30747d1,openstack/neutron-fwaas-dashboard,master,I8dc68408f0e3c4dd85554e016e7aeffbb30747d1,Imported Translations from Zanata,MERGED,2017-08-21 09:35:36.000000000,2017-08-21 10:13:37.000000000,2017-08-21 10:13:37.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-08-21 09:35:36.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/locale/ja/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/1bffc2376442bd48343624a8fc322ff3da7dd423', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8dc68408f0e3c4dd85554e016e7aeffbb30747d1\n'}]",0,495786,1bffc2376442bd48343624a8fc322ff3da7dd423,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8dc68408f0e3c4dd85554e016e7aeffbb30747d1
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/86/495786/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/locale/ja/LC_MESSAGES/django.po']",2,1bffc2376442bd48343624a8fc322ff3da7dd423,zanata/translations,"""Project-Id-Version: neutron-fwaas-dashboard 0.1.1.dev5\n""""POT-Creation-Date: 2017-08-15 14:42+0000\n""""PO-Revision-Date: 2017-08-20 05:34+0000\n""msgid """" ""Non admin users are not allowed to set the shared property of the policy."" msgstr ""管理ユーザー以外は、ポリシーの共有属性を設定できません。"" msgid ""Non admin users are not allowed to set the shared property of the rule."" msgstr ""管理ユーザー以外は、ルールの共有属性を設定できません。"" ","""Project-Id-Version: neutron-fwaas-dashboard 0.0.1.dev14\n""""POT-Creation-Date: 2017-07-03 16:12+0000\n""""PO-Revision-Date: 2017-06-30 09:11+0000\n""",10,48
openstack%2Fhorizon~master~I811711412d85a989826a946d1d57ed39790e34ed,openstack/horizon,master,I811711412d85a989826a946d1d57ed39790e34ed,Fix pofile for pseudo translations,MERGED,2017-08-10 20:19:18.000000000,2017-08-21 10:10:02.000000000,2017-08-21 10:10:02.000000000,"[{'_account_id': 3}, {'_account_id': 12826}, {'_account_id': 26590}]","[{'number': 1, 'created': '2017-08-10 20:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/936a2e530af270a17bcefb0d9a2ea043b5c3be59', 'message': 'Fix pofile for pseudo translations\n\nChange-Id: I811711412d85a989826a946d1d57ed39790e34ed\n'}, {'number': 2, 'created': '2017-08-10 20:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c7dfc54249845b5de68f42fc710a72da039233a7', 'message': 'Fix pofile for pseudo translations\n\nThe pofile name in the pseudo translation logic appears to expect the\nbabel.messages object, not the string holding the location of the pofile.\n\nChange-Id: I811711412d85a989826a946d1d57ed39790e34ed\nCloses-Bug: 1710003\n'}, {'number': 3, 'created': '2017-08-15 18:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/78e7296b17e77249464d3195a6450498c6875611', 'message': 'Fix pofile for pseudo translations\n\nThe pofile name in the pseudo translation logic appears to expect the\nbabel.messages object, not the string holding the location of the pofile.\n\nChange-Id: I811711412d85a989826a946d1d57ed39790e34ed\nCloses-Bug: 1710003\n'}, {'number': 4, 'created': '2017-08-15 18:15:17.000000000', 'files': ['openstack_dashboard/management/commands/update_catalog.py', 'horizon/templates/horizon/common/_data_table_pagination.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/846fc19d719182700656039f91f09e212cabd9ec', 'message': 'Fix pofile for pseudo translations\n\nThe pofile name in the pseudo translation logic appears to expect the\nbabel.messages object, not the string holding the location of the pofile.\n\nTrimmed a string that gettext reacts poorly with when creating pseudo-\ntranslations.\n\nChange-Id: I811711412d85a989826a946d1d57ed39790e34ed\nCloses-Bug: 1710003\n'}]",0,492670,846fc19d719182700656039f91f09e212cabd9ec,12,3,4,26590,,,0,"Fix pofile for pseudo translations

The pofile name in the pseudo translation logic appears to expect the
babel.messages object, not the string holding the location of the pofile.

Trimmed a string that gettext reacts poorly with when creating pseudo-
translations.

Change-Id: I811711412d85a989826a946d1d57ed39790e34ed
Closes-Bug: 1710003
",git fetch https://review.opendev.org/openstack/horizon refs/changes/70/492670/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/management/commands/update_catalog.py'],1,936a2e530af270a17bcefb0d9a2ea043b5c3be59,bug/1710003,"import babel.messages.pofile as babel_pofile pot_cat = babel_pofile.read_po(f, ignore_obsolete=True) babel_pofile.write_po(f, new_cat, ignore_obsolete=True)"," pot_cat = pofile.read_po(f, ignore_obsolete=True) pofile.write_po(f, new_cat, ignore_obsolete=True)",3,2
openstack%2Fdragonflow~master~I55ecce4b01a734d620ca9cae9cf1f45b2c714b18,openstack/dragonflow,master,I55ecce4b01a734d620ca9cae9cf1f45b2c714b18,gate-hook.sh to take gate environment into account,MERGED,2017-08-16 10:15:53.000000000,2017-08-21 10:09:43.000000000,2017-08-21 10:09:43.000000000,"[{'_account_id': 3}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-08-16 10:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b97c4a8ac7bf52fc1058b6f031fc7dd210612dc4', 'message': 'gate-hook.sh to take gate environment into account\n\nThe gate-hook for fullstack and tempest are different. Tempest needs\ndocker installed for the BGP tests.\n\nThis change adds a test to the gate-hook so it will run only on expected\ngates, and will set them up if needed.\n\nChange-Id: I55ecce4b01a734d620ca9cae9cf1f45b2c714b18\n'}, {'number': 2, 'created': '2017-08-18 05:41:03.000000000', 'files': ['dragonflow/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/88af56cea79e1ebd5fe241c3a1a2fe5688002f90', 'message': 'gate-hook.sh to take gate environment into account\n\nThe gate-hook for fullstack and tempest are different. Tempest needs\ndocker installed for the BGP tests.\n\nThis change adds a test to the gate-hook so it will run only on expected\ngates, and will set them up if needed.\n\nChange-Id: I55ecce4b01a734d620ca9cae9cf1f45b2c714b18\n'}]",0,494154,88af56cea79e1ebd5fe241c3a1a2fe5688002f90,14,4,2,20229,,,0,"gate-hook.sh to take gate environment into account

The gate-hook for fullstack and tempest are different. Tempest needs
docker installed for the BGP tests.

This change adds a test to the gate-hook so it will run only on expected
gates, and will set them up if needed.

Change-Id: I55ecce4b01a734d620ca9cae9cf1f45b2c714b18
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/54/494154/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/tests/contrib/gate_hook.sh'],1,b97c4a8ac7bf52fc1058b6f031fc7dd210612dc4,bgp,"# Taken from neutron_dynamic_router's gate hook function configure_docker_test_env { local docker_pkg sudo bash -c 'echo ""tempest ALL=(ALL) NOPASSWD: ALL"" >> /etc/sudoers' if apt-cache search docker-engine | grep docker-engine; then docker_pkg=docker-engine else docker_pkg=docker.io fi sudo apt-get install -y $docker_pkg } if [ ""$VENV"" == ""fullstack"" ]; then GATE_DEST=$BASE/new DEVSTACK_PATH=$GATE_DEST/devstack elif [ ""$VENV"" == ""tempest"" ]; then configure_docker_test_env else echo >&2 ""Unknown gate-hook environment: $VENV"" exit 1 fi $BASE/new/devstack-gate/devstack-vm-gate.sh ",GATE_DEST=$BASE/new DEVSTACK_PATH=$GATE_DEST/devstack $BASE/new/devstack-gate/devstack-vm-gate.sh,23,3
openstack%2Fheat~stable%2Focata~I809dd844797dc0d9a8f31226a5b2da65a20a345d,openstack/heat,stable/ocata,I809dd844797dc0d9a8f31226a5b2da65a20a345d,Don't set metadata for deleted resources,MERGED,2017-04-25 17:45:18.000000000,2017-08-21 09:59:35.000000000,2017-08-21 09:59:35.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8289}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-04-25 17:45:18.000000000', 'files': ['heat/engine/service_software_config.py', 'heat/tests/test_signal.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6894be453c52083756c6bae0f01dbab53cc3b6e1', 'message': ""Don't set metadata for deleted resources\n\nChange-Id: I809dd844797dc0d9a8f31226a5b2da65a20a345d\nPartial-Bug: #1675286\n(cherry picked from commit 8d7e3e41e8f02726dca33b5ec2f6d5b6b6b07a31)\n""}]",0,459795,6894be453c52083756c6bae0f01dbab53cc3b6e1,8,4,1,13564,,,0,"Don't set metadata for deleted resources

Change-Id: I809dd844797dc0d9a8f31226a5b2da65a20a345d
Partial-Bug: #1675286
(cherry picked from commit 8d7e3e41e8f02726dca33b5ec2f6d5b6b6b07a31)
",git fetch https://review.opendev.org/openstack/heat refs/changes/95/459795/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/service_software_config.py', 'heat/tests/test_signal.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py']",4,6894be453c52083756c6bae0f01dbab53cc3b6e1,bug/1675286," def test_metadata_set_when_deleted(self): tmpl = rsrc_defn.ResourceDefinition('test_resource', 'Foo') res = generic_rsrc.GenericResource('test_resource', tmpl, self.stack) res.store() md = {""don't"": ""care""} res.action = 'CREATE' res.metadata_set(md) self.assertFalse(hasattr(res, '_db_res_is_deleted')) res_obj = self.stack.context.session.query( models.Resource).get(res.id) res_obj.update({'action': 'DELETE'}) self.assertRaises(exception.ResourceNotAvailable, res.metadata_set, md) self.assertTrue(res._db_res_is_deleted) ",,42,11
openstack%2Fironic-inspector~master~I8344e48c29504ec2bfea64c3a2084647fcfda20b,openstack/ironic-inspector,master,I8344e48c29504ec2bfea64c3a2084647fcfda20b,Updated from global requirements,MERGED,2017-08-18 04:41:33.000000000,2017-08-21 09:57:22.000000000,2017-08-21 09:57:22.000000000,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-08-18 04:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/23194b68f8afb1bdf679c29923a5af5cb7656286', 'message': 'Updated from global requirements\n\nChange-Id: I8344e48c29504ec2bfea64c3a2084647fcfda20b\n'}, {'number': 2, 'created': '2017-08-18 11:30:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0ed098a36a9eeb5f9f7112267756eeab50b4858d', 'message': 'Updated from global requirements\n\nChange-Id: I8344e48c29504ec2bfea64c3a2084647fcfda20b\n'}]",0,494815,0ed098a36a9eeb5f9f7112267756eeab50b4858d,12,5,2,11131,,,0,"Updated from global requirements

Change-Id: I8344e48c29504ec2bfea64c3a2084647fcfda20b
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/15/494815/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,23194b68f8afb1bdf679c29923a5af5cb7656286,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,1,1
openstack%2Fglance~master~Ib56b600dbf53672bcaa4fd959adb736de4cdff50,openstack/glance,master,Ib56b600dbf53672bcaa4fd959adb736de4cdff50,Return 404 for import-info call,MERGED,2017-08-17 13:21:59.000000000,2017-08-21 09:42:55.000000000,2017-08-21 08:30:14.000000000,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 9303}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-17 13:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd4e83cd12e0d0669164cd02990208a8901bb827', 'message': 'Return 404 for import-info call\n\nChange the response to GET v2/info/import to be a 404 when Glance is\nconfigured with enable_image_import = False so that the response is\nconsistent with the v2.5 API.  See the bug for details.\n\nChange-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50\nCloses-bug: #1711362\n'}, {'number': 2, 'created': '2017-08-18 05:17:44.000000000', 'files': ['glance/tests/unit/v2/test_discovery_image_import.py', 'glance/api/v2/discovery.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/692dc040872e04d27469570a508018c44f8d88ef', 'message': 'Return 404 for import-info call\n\nChange the response to GET v2/info/import to be a 404 when Glance is\nconfigured with enable_image_import = False so that the response is\nconsistent with the v2.5 API.  See the bug for details.\n\nChange-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50\nCloses-bug: #1711362\n'}]",2,494544,692dc040872e04d27469570a508018c44f8d88ef,23,5,2,5314,,,0,"Return 404 for import-info call

Change the response to GET v2/info/import to be a 404 when Glance is
configured with enable_image_import = False so that the response is
consistent with the v2.5 API.  See the bug for details.

Change-Id: Ib56b600dbf53672bcaa4fd959adb736de4cdff50
Closes-bug: #1711362
",git fetch https://review.opendev.org/openstack/glance refs/changes/44/494544/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/discovery.py'],1,bd4e83cd12e0d0669164cd02990208a8901bb827,bug/1711362,"import webob.excfrom glance.i18n import _ # TODO(jokke): Will be removed after the config option # is removed. (deprecated) if not CONF.enable_image_import: msg = _(""Image import is not supported at this site."") raise webob.exc.HTTPNotFound(explanation=msg) ", # TODO(jokke): Will be removed after the config option # is removed. (deprecated) if not CONF.enable_image_import: import_methods['value'] = [] ,9,5
openstack%2Fglance~master~I08783e28719e63b5a4b2115b8fce135e55be460a,openstack/glance,master,I08783e28719e63b5a4b2115b8fce135e55be460a,Fix 500 error from image-import call,MERGED,2017-08-06 15:23:37.000000000,2017-08-21 09:41:18.000000000,2017-08-21 08:29:34.000000000,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11391}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-06 15:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/deaa8da62ff8f879fa33d51028e6f65f4188aec5', 'message': 'Fix 500 error from image-import call\n\nThis patch modifies the images controller to accept a body (which\nis required) for the image import call.\n\nCo-authored-by: Abhishek Kekane <abhishek.kekane@nttdata.com>\n(Actually, this is all Abhishek -- I just uploaded the patch.)\n\nChange-Id: I08783e28719e63b5a4b2115b8fce135e55be460a\nCloses-bug: #1708702\n'}, {'number': 2, 'created': '2017-08-15 20:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c718116eeeb14c93adfe04918b4da8a0f7ab0c9e', 'message': 'Fix 500 error from image-import call\n\nThis patch modifies the images controller to accept a body (which\nis required) for the image import call and cleans up a bit around\nthe request deserialization/response serialization.\n\nCo-authored-by: Abhishek Kekane <abhishek.kekane@nttdata.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I08783e28719e63b5a4b2115b8fce135e55be460a\nCloses-bug: #1708702\n'}, {'number': 3, 'created': '2017-08-15 22:09:32.000000000', 'files': ['glance/api/v2/images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d4917cf606e99429e019538cd95f06ab0673acca', 'message': 'Fix 500 error from image-import call\n\nThis patch modifies the images controller to accept a body (which\nis required) for the image import call and cleans up a bit around\nthe request deserialization/response serialization.\n\nCo-authored-by: Abhishek Kekane <abhishek.kekane@nttdata.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I08783e28719e63b5a4b2115b8fce135e55be460a\nCloses-bug: #1708702\n'}]",2,491249,d4917cf606e99429e019538cd95f06ab0673acca,30,7,3,5314,,,0,"Fix 500 error from image-import call

This patch modifies the images controller to accept a body (which
is required) for the image import call and cleans up a bit around
the request deserialization/response serialization.

Co-authored-by: Abhishek Kekane <abhishek.kekane@nttdata.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I08783e28719e63b5a4b2115b8fce135e55be460a
Closes-bug: #1708702
",git fetch https://review.opendev.org/openstack/glance refs/changes/49/491249/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/images.py'],1,deaa8da62ff8f879fa33d51028e6f65f4188aec5,bug/1708702," def import_image(self, req, image_id, body): return image_id"," def import_image(self, req, image): return image",2,2
openstack%2Fpuppet-nova~master~I6798218a3695bfced781056b12a192b82733eea6,openstack/puppet-nova,master,I6798218a3695bfced781056b12a192b82733eea6,Use API level filtering for nova_security_group provider,MERGED,2017-08-18 21:03:54.000000000,2017-08-21 09:41:10.000000000,2017-08-21 09:41:10.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-18 21:03:54.000000000', 'files': ['lib/puppet/provider/nova_security_group/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/414ae8da0ae637ce5059207d7834241f6421ed54', 'message': 'Use API level filtering for nova_security_group provider\n\nIn order to speed things up and avoid pulling all the groups,\nwe can instead provide it to the client and it will filter\nthings at the API level speeding the process up.\n\nChange-Id: I6798218a3695bfced781056b12a192b82733eea6\n'}]",0,495433,414ae8da0ae637ce5059207d7834241f6421ed54,9,3,1,1004,,,0,"Use API level filtering for nova_security_group provider

In order to speed things up and avoid pulling all the groups,
we can instead provide it to the client and it will filter
things at the API level speeding the process up.

Change-Id: I6798218a3695bfced781056b12a192b82733eea6
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/33/495433/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_security_group/openstack.rb'],1,414ae8da0ae637ce5059207d7834241f6421ed54,," self.nova_request('security group', 'list', nil, ['--project', project_id]).collect do |attrs|"," self.nova_request('security group', 'list', nil).select do |attrs| attrs[:project] == project_id end.collect do |attrs|",1,3
openstack%2Freleases~master~I95f994d998ea03c5c9c73908e0cc2bddde50a77a,openstack/releases,master,I95f994d998ea03c5c9c73908e0cc2bddde50a77a,Release ironic 9.0.0 for pike,MERGED,2017-08-17 12:56:16.000000000,2017-08-21 09:37:52.000000000,2017-08-17 14:28:56.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 12356}]","[{'number': 1, 'created': '2017-08-17 12:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d989c6c914428d832eb66c5e2bdf6d93e58dd69e', 'message': 'Release ironic 9.0.0rc1 for pike\n\nChange-Id: I95f994d998ea03c5c9c73908e0cc2bddde50a77a\n'}, {'number': 2, 'created': '2017-08-17 13:26:00.000000000', 'files': ['deliverables/pike/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f6e9dca83a2540df99a7b1a6086c81ca1be19754', 'message': 'Release ironic 9.0.0 for pike\n\nChange-Id: I95f994d998ea03c5c9c73908e0cc2bddde50a77a\n'}]",0,494530,f6e9dca83a2540df99a7b1a6086c81ca1be19754,20,7,2,11655,,,0,"Release ironic 9.0.0 for pike

Change-Id: I95f994d998ea03c5c9c73908e0cc2bddde50a77a
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/494530/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/ironic.yaml'],1,d989c6c914428d832eb66c5e2bdf6d93e58dd69e,,branches: - location: 9.0.0rc1 name: stable/pike - version: 9.0.0rc1 projects: - repo: openstack/ironic hash: 45e6d4a3f8fdb5145bd94a862e50db1f0886e5cf,,7,0
openstack%2Faodh~master~Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641,openstack/aodh,master,Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641,Imported Translations from Zanata,MERGED,2017-08-15 11:17:15.000000000,2017-08-21 09:33:11.000000000,2017-08-21 09:33:11.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-08-15 11:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/dc9a90f50284b7132796bf05a89cf07ac3399b71', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641\n'}, {'number': 2, 'created': '2017-08-16 10:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c0c7986b516f91adb5925e810411f50de81db7bd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641\n'}, {'number': 3, 'created': '2017-08-18 10:36:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/48468c3f525676f8ddae2dae1e7d19006d5c4342', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641\n'}]",0,493833,48468c3f525676f8ddae2dae1e7d19006d5c4342,12,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibfe85d034c1f8bf2ee6f72feb3d14e7cddf03641
",git fetch https://review.opendev.org/openstack/aodh refs/changes/33/493833/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",2,dc9a90f50284b7132796bf05a89cf07ac3399b71,zanata/translations,"""POT-Creation-Date: 2017-08-14 21:58+0000\n""msgid ""1.1.3"" msgstr ""1.1.3"" ","""POT-Creation-Date: 2017-08-09 15:05+0000\n""",7,4
openstack%2Fneutron~master~I4cac1b87c03053255ed298d4423ea672e60b410d,openstack/neutron,master,I4cac1b87c03053255ed298d4423ea672e60b410d,Fixing test_convert_default_subnetpool_to_non_default,MERGED,2017-08-10 12:50:59.000000000,2017-08-21 09:31:34.000000000,2017-08-15 22:16:02.000000000,"[{'_account_id': 3}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}]","[{'number': 1, 'created': '2017-08-10 12:50:59.000000000', 'files': ['neutron/tests/tempest/api/test_subnetpools.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34ad023ea3b00ed876e9c5b1a4f19ee56f7f89b7', 'message': 'Fixing test_convert_default_subnetpool_to_non_default\n\nSusbnetpool is created by admin but the show command\nis using non-admin client.\n\nChange-Id: I4cac1b87c03053255ed298d4423ea672e60b410d\nCloses-bug: #1709869\n'}]",0,492522,34ad023ea3b00ed876e9c5b1a4f19ee56f7f89b7,12,4,1,4727,,,0,"Fixing test_convert_default_subnetpool_to_non_default

Susbnetpool is created by admin but the show command
is using non-admin client.

Change-Id: I4cac1b87c03053255ed298d4423ea672e60b410d
Closes-bug: #1709869
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/492522/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/api/test_subnetpools.py'],1,34ad023ea3b00ed876e9c5b1a4f19ee56f7f89b7,bug/1709869, show_body = self.admin_client.show_subnetpool(subnetpool_id), show_body = self.client.show_subnetpool(subnetpool_id),1,1
openstack%2Fkolla~master~Ib17c04a57e8b41e2100be42bc4fb2242d40faf01,openstack/kolla,master,Ib17c04a57e8b41e2100be42bc4fb2242d40faf01,replace 'Memcahced' with 'Memcached',ABANDONED,2017-07-26 06:30:11.000000000,2017-08-21 09:28:12.000000000,,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-07-26 06:30:11.000000000', 'files': ['specs/high-availability.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cb8e962033c55828aef38b833bbdd14dfc932163', 'message': ""replace 'Memcahced' with 'Memcached'\n\nFix a typo\n\nChange-Id: Ib17c04a57e8b41e2100be42bc4fb2242d40faf01\n""}]",0,487291,cb8e962033c55828aef38b833bbdd14dfc932163,5,3,1,25373,,,0,"replace 'Memcahced' with 'Memcached'

Fix a typo

Change-Id: Ib17c04a57e8b41e2100be42bc4fb2242d40faf01
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/487291/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/high-availability.rst'],1,cb8e962033c55828aef38b833bbdd14dfc932163,TrivalFix,outside of localhost. Since deploying Memcached in a highly-available manner,outside of localhost. Since deploying Memcahced in a highly-available manner,1,1
openstack%2Fvitrage~stable%2Fpike~Ie60f17ed05128d70c3ac93da44b447e888f8361b,openstack/vitrage,stable/pike,Ie60f17ed05128d70c3ac93da44b447e888f8361b,disable mistral tempest,MERGED,2017-08-20 15:44:59.000000000,2017-08-21 09:27:47.000000000,2017-08-21 09:27:47.000000000,"[{'_account_id': 3}, {'_account_id': 19184}, {'_account_id': 19194}]","[{'number': 1, 'created': '2017-08-20 15:44:59.000000000', 'files': ['devstack/post_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a4d14d248dc32f1402939895fc25164a57066f2c', 'message': 'disable mistral tempest\n\nChange-Id: Ie60f17ed05128d70c3ac93da44b447e888f8361b\n'}]",1,495560,a4d14d248dc32f1402939895fc25164a57066f2c,7,3,1,24635,,,0,"disable mistral tempest

Change-Id: Ie60f17ed05128d70c3ac93da44b447e888f8361b
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/60/495560/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/post_test_hook.sh', 'devstack/plugin.sh']",2,a4d14d248dc32f1402939895fc25164a57066f2c,,# cp -rf $VITRAGE_DIR/vitrage_tempest_tests/tests/resources/templates/api/* $VITRAGE_CONF_DIR/templates/, cp -rf $VITRAGE_DIR/vitrage_tempest_tests/tests/resources/templates/api/* $VITRAGE_CONF_DIR/templates/,2,2
openstack%2Fvitrage-dashboard~stable%2Fpike~I87b785d9ac5a381c9912a22e61812c85d2193097,openstack/vitrage-dashboard,stable/pike,I87b785d9ac5a381c9912a22e61812c85d2193097,Description: Resource id is shown now in alarm list,MERGED,2017-08-21 09:07:28.000000000,2017-08-21 09:20:51.000000000,2017-08-21 09:20:51.000000000,"[{'_account_id': 3}, {'_account_id': 19140}]","[{'number': 1, 'created': '2017-08-21 09:07:28.000000000', 'files': ['vitrage_dashboard/dashboard/static/dashboard/project/alarmList/alarmList.html'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/3ab435fa6b76c16c552a6cf95b4e16cc29499c13', 'message': 'Description: Resource id is shown now in alarm list\n\nChange-Id: I87b785d9ac5a381c9912a22e61812c85d2193097\nCloses-Bug: #1707604\n'}]",0,495772,3ab435fa6b76c16c552a6cf95b4e16cc29499c13,6,2,1,19140,,,0,"Description: Resource id is shown now in alarm list

Change-Id: I87b785d9ac5a381c9912a22e61812c85d2193097
Closes-Bug: #1707604
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/72/495772/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_dashboard/dashboard/static/dashboard/project/alarmList/alarmList.html'],1,3ab435fa6b76c16c552a6cf95b4e16cc29499c13,stable/pike, <td>{$alarm.vitrage_resource_type$}</td>, <td>{$alarm.resource_type$}</td>,1,1
openstack%2Fnetworking-ovn~master~If37eedee0a5000144089776c4ebdffda44b2322b,openstack/networking-ovn,master,If37eedee0a5000144089776c4ebdffda44b2322b,add functional test for QoS.,MERGED,2017-04-28 06:44:19.000000000,2017-08-21 09:15:32.000000000,2017-08-21 09:15:32.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 23458}]","[{'number': 1, 'created': '2017-04-28 06:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eabfda4aa1741d4089d1ccab6bad123242d130dc', 'message': 'add functional test for QoS.\n\nChange-Id: If37eedee0a5000144089776c4ebdffda44b2322b\n'}, {'number': 2, 'created': '2017-05-03 07:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e287af81f49be294c6cf1c4e6246310f4071c7c6', 'message': 'add functional test for QoS.\n\nChange-Id: If37eedee0a5000144089776c4ebdffda44b2322b\n'}, {'number': 3, 'created': '2017-05-11 08:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e0cd9631dfdd744d34c688d0b960f03f7be2b4f9', 'message': 'add functional test for QoS.\n\nChange-Id: If37eedee0a5000144089776c4ebdffda44b2322b\n'}, {'number': 4, 'created': '2017-06-24 07:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3653726e5b7df422cd90447cbfdb42266dfa9446', 'message': 'add functional test for QoS.\n\nChange-Id: If37eedee0a5000144089776c4ebdffda44b2322b\n'}, {'number': 5, 'created': '2017-07-18 04:59:02.000000000', 'files': ['networking_ovn/tests/functional/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/760899eb886abcc8d75e7f7004c36baffc75ad09', 'message': 'add functional test for QoS.\n\nChange-Id: If37eedee0a5000144089776c4ebdffda44b2322b\n'}]",4,460846,760899eb886abcc8d75e7f7004c36baffc75ad09,22,4,5,24438,,,0,"add functional test for QoS.

Change-Id: If37eedee0a5000144089776c4ebdffda44b2322b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/460846/5 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/test_ovn_db_resources.py'],1,eabfda4aa1741d4089d1ccab6bad123242d130dc,qos_test,"from neutron.api.v2 import attributes as attr from neutron.extensions import qos as qos_ext from neutron.tests.unit.api import test_extensions class QoSTestExtensionManager(object): def get_resources(self): # Add the resources to the global attribute map # This is done here as the setup process won't # initialize the main API QoS which extends # the global attribute map attr.RESOURCE_ATTRIBUTE_MAP.update(qos_ext.RESOURCE_ATTRIBUTE_MAP) return qos_ext.Qos.get_resources() def get_actions(self): return [] def get_request_extensions(self): return [] class TestNBDbQoSResources(base.TestOVNFunctionalBase): _extension_drivers = ['qos', 'port_security'] def setUp(self): super(TestNBDbQoSResources, self).setUp() qos_mgr = QoSTestExtensionManager() self.resource_prefix_map = {'policies': '/qos'} self.qos_api = test_extensions.setup_extensions_middleware(qos_mgr) def tearDown(self): super(TestNBDbQoSResources, self).tearDown() def get_additional_service_plugins(self): return {'qos_plugin_name': 'qos'} def _test_qos_policy_create(self): data = {'policy': {'name': 'test-policy', 'tenant_id': self._tenant_id}} policy_req = self.new_create_request('policies', data, self.fmt) policy_res = policy_req.get_response(self.qos_api) policy = self.deserialize(self.fmt, policy_res)['policy'] return policy['id'] def _test_qos_policy_rule_create(self, policy_id, max_burst, max_bw): data = {'bandwidth_limit_rule': {'max_burst_kbps': max_burst, 'max_kbps': max_bw, 'tenant_id': self._tenant_id}} policy_rule_req = self.new_create_request( 'policies', data, self.fmt, policy_id, 'bandwidth_limit_rules') policy_rule_res = policy_rule_req.get_response(self.qos_api) policy_rule = self.deserialize(self.fmt, policy_rule_res)['bandwidth_limit_rule'] return policy_rule['id'] def _test_qos_policy_rule_update( self, policy_id, rule_id, max_burst, max_bw): data = {'bandwidth_limit_rule': {'max_burst_kbps': max_burst, 'max_kbps': max_bw}} policy_rule_req = self.new_update_request( 'policies', data, policy_id, self.fmt, subresource='bandwidth_limit_rules' + '/' + rule_id) policy_rule_req.get_response(self.qos_api) def _test_qos_policy_rule_delete( self, policy_id, rule_id): policy_rule_req = self.new_delete_request( 'policies', policy_id, self.fmt, subresource='bandwidth_limit_rules', sub_id=rule_id) policy_rule_req.get_response(self.qos_api) def _test_port_create(self, network_id, policy_id=None): data = {'port': {'network_id': network_id, 'tenant_id': self._tenant_id, 'device_owner': 'compute:None', 'qos_policy_id': policy_id}} port_req = self.new_create_request('ports', data, self.fmt) port_res = port_req.get_response(self.api) p1 = self.deserialize(self.fmt, port_res)['port'] return p1['id'] def _test_port_update(self, port_id, policy_id): data = {'port': {'qos_policy_id': policy_id}} port_req = self.new_update_request('ports', data, port_id, self.fmt) port_req.get_response(self.api) def _verify_qos_option_row_for_port(self, port_id, expected_lsp_qos_options): lsp = idlutils.row_by_value(self.monitor_nb_db_idl, 'Logical_Switch_Port', 'name', port_id, None) if lsp.options: observed_lsp_qos_options = { 'qos_burst': lsp.options.get('qos_burst'), 'qos_max_rate': lsp.options.get('qos_max_rate')} else: observed_lsp_qos_options = {} self.assertEqual(expected_lsp_qos_options, observed_lsp_qos_options) def test_port_qos_options_add_and_remove(self): expected_burst = 100 expected_max_rate = 1 network_id = self._make_network(self.fmt, 'n1', True)['network']['id'] self._create_subnet(self.fmt, network_id, '10.0.0.0/24') port_id = self._test_port_create(network_id) policy_id = self._test_qos_policy_create() self._test_qos_policy_rule_create( policy_id, expected_burst, expected_max_rate) # port add QoS policy self._test_port_update(port_id, policy_id) expected_options = { 'qos_burst': str(expected_burst * 1000), 'qos_max_rate': str(expected_max_rate * 1000), } self._verify_qos_option_row_for_port(port_id, expected_options) # port remove QoS policy self._test_port_update(port_id, None) self._verify_qos_option_row_for_port(port_id, {}) def test_port_qos_options_with_rule(self): expected_burst = 100 expected_max_rate = 1 network_id = self._make_network(self.fmt, 'n1', True)['network']['id'] self._create_subnet(self.fmt, network_id, '10.0.0.0/24') policy_id = self._test_qos_policy_create() policy_rule_id = self._test_qos_policy_rule_create( policy_id, expected_burst, expected_max_rate) port_id = self._test_port_create(network_id, policy_id) # check qos options expected_options = { 'qos_burst': str(expected_burst * 1000), 'qos_max_rate': str(expected_max_rate * 1000), } self._verify_qos_option_row_for_port(port_id, expected_options) # update qos rule self._test_qos_policy_rule_update( policy_id, policy_rule_id, expected_burst * 2, expected_max_rate * 2) expected_options = { 'qos_burst': str(expected_burst * 2 * 1000), 'qos_max_rate': str(expected_max_rate * 2 * 1000), } self._verify_qos_option_row_for_port(port_id, expected_options) # delete qos rule self._test_qos_policy_rule_delete(policy_id, policy_rule_id) self._verify_qos_option_row_for_port(port_id, {}) class TestNBDbQoSResourcesOverTcp(TestNBDbQoSResources): def get_ovsdb_server_protocol(self): return 'tcp' class TestNBDbQoSResourcesOverSsl(TestNBDbQoSResources): def get_ovsdb_server_protocol(self): return 'ssl'",,163,0
openstack%2Fheat-translator~master~Ib40eb9d803dcdf75a6626793f0b0055889f7559b,openstack/heat-translator,master,Ib40eb9d803dcdf75a6626793f0b0055889f7559b,Test if property is a get_input before treating it as such,ABANDONED,2017-08-21 09:12:36.000000000,2017-08-21 09:14:58.000000000,,[],"[{'number': 1, 'created': '2017-08-21 09:12:36.000000000', 'files': ['ssh.yaml', 'artifacts/mongodb/create.sh', 'hot_exchange_ssh_keys.yaml', 'artifacts/mysql/mysql_database_configure.sh', 'artifacts/rsyslog/start.sh', 'artifacts/logstash/configure_elasticsearch.py', 'artifacts/elasticsearch/start.sh', 'artifacts/nodejs/create.sh', 'artifacts/wordpress/wordpress_configure.sh', 'artifacts/rsyslog/config.sh', 'translator/tests/data/hot_output/autoscaling/hot_autoscaling_asg_group.yaml', 'artifacts/wordpress/wordpress_install.sh', 'artifacts/ssh/ssh_import_public_key.sh', 'artifacts/mongodb/config.sh', 'artifacts/webserver/webserver_start.sh', 'ssh_slave.yaml', 'artifacts/logstash/configure_collectd.py', 'artifacts/kibana/config.sh', 'openstack-heat-translator.spec', 'artifacts/mysql/mysql_dbms_start.sh', 'artifacts/logstash/configure_rsyslog.py', 'artifacts/logstash/create.sh', 'artifacts/mysql/mysql_dbms_install.sh', '.vscode/settings.json', 'artifacts/kibana/start.sh', 'translator/tests/data/hot_output/nfv/hot_tosca_nfv_autoscaling_SP1_group.yaml', 'artifacts/rsyslog/create.sh', 'artifacts/nodejs/start.sh', 'artifacts/mysql/mysql_dbms_configure.sh', 'translator/hot/tosca_translator.py', 'artifacts/logstash/start.sh', 'hot_exchange_ssh_keys_slave.yaml', 'translator/tests/data/hot_output/monitoring/hot_monitoring_scaling_asg_group.yaml', '.vscode/tags', 'artifacts/mongodb/create_database.sh', 'artifacts/collectd/create.sh', 'artifacts/nodejs/config.sh', 'artifacts/webserver/webserver_install.sh', 'dd.diff', 'translator/hot/syntax/hot_utils.py', 'artifacts/collectd/config.py', '.eggs/README.txt', 'artifacts/kibana/create.sh', 'artifacts/mongodb/start.sh', 'artifacts/collectd/start.sh', 'artifacts/elasticsearch/create.sh', 'artifacts/ssh/ssh_generate_keys.sh'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/9e1b1c96d44cc1b1e36b60c3fa6576a7d756b02b', 'message': 'Test if property is a get_input before treating it as such\n\nChange-Id: Ib40eb9d803dcdf75a6626793f0b0055889f7559b\n'}]",0,495774,9e1b1c96d44cc1b1e36b60c3fa6576a7d756b02b,2,0,1,20031,,,0,"Test if property is a get_input before treating it as such

Change-Id: Ib40eb9d803dcdf75a6626793f0b0055889f7559b
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/74/495774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ssh.yaml', 'artifacts/mongodb/create.sh', 'hot_exchange_ssh_keys.yaml', 'artifacts/mysql/mysql_database_configure.sh', 'artifacts/rsyslog/start.sh', 'artifacts/logstash/configure_elasticsearch.py', 'artifacts/elasticsearch/start.sh', 'artifacts/nodejs/create.sh', 'artifacts/wordpress/wordpress_configure.sh', 'artifacts/rsyslog/config.sh', 'translator/tests/data/hot_output/autoscaling/hot_autoscaling_asg_group.yaml', 'artifacts/wordpress/wordpress_install.sh', 'artifacts/ssh/ssh_import_public_key.sh', 'artifacts/mongodb/config.sh', 'artifacts/webserver/webserver_start.sh', 'ssh_slave.yaml', 'artifacts/logstash/configure_collectd.py', 'artifacts/kibana/config.sh', 'openstack-heat-translator.spec', 'artifacts/mysql/mysql_dbms_start.sh', 'artifacts/logstash/configure_rsyslog.py', 'artifacts/logstash/create.sh', 'artifacts/mysql/mysql_dbms_install.sh', '.vscode/settings.json', 'artifacts/kibana/start.sh', 'translator/tests/data/hot_output/nfv/hot_tosca_nfv_autoscaling_SP1_group.yaml', 'artifacts/rsyslog/create.sh', 'artifacts/nodejs/start.sh', 'artifacts/mysql/mysql_dbms_configure.sh', 'translator/hot/tosca_translator.py', 'artifacts/logstash/start.sh', 'hot_exchange_ssh_keys_slave.yaml', 'translator/tests/data/hot_output/monitoring/hot_monitoring_scaling_asg_group.yaml', '.vscode/tags', 'artifacts/mongodb/create_database.sh', 'artifacts/collectd/create.sh', 'artifacts/nodejs/config.sh', 'artifacts/webserver/webserver_install.sh', 'dd.diff', 'translator/hot/syntax/hot_utils.py', 'artifacts/collectd/config.py', '.eggs/README.txt', 'artifacts/kibana/create.sh', 'artifacts/mongodb/start.sh', 'artifacts/collectd/start.sh', 'artifacts/elasticsearch/create.sh', 'artifacts/ssh/ssh_generate_keys.sh']",47,9e1b1c96d44cc1b1e36b60c3fa6576a7d756b02b,fix,"#!/bin/bash test -d /root/.ssh || mkdir /root/.ssh test -f /root/.ssh/id_rsa.pub || ssh-keygen -q -t rsa -N """" -f /root/.ssh/id_rsa cat /root/.ssh/id_rsa.pub > ${heat_outputs_path}.public_key ",,21189,1
openstack%2Fnetworking-bagpipe~master~If941cee0c7a80fe844a8999f2414e33dc6f2a00a,openstack/networking-bagpipe,master,If941cee0c7a80fe844a8999f2414e33dc6f2a00a,Updated from global requirements,MERGED,2017-08-18 11:33:24.000000000,2017-08-21 09:13:27.000000000,2017-08-21 09:13:27.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-08-18 11:33:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0c6c1a0daccdd6657f00f92f0eb834d305a5d961', 'message': 'Updated from global requirements\n\nChange-Id: If941cee0c7a80fe844a8999f2414e33dc6f2a00a\n'}]",0,495196,0c6c1a0daccdd6657f00f92f0eb834d305a5d961,9,2,1,11131,,,0,"Updated from global requirements

Change-Id: If941cee0c7a80fe844a8999f2414e33dc6f2a00a
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/96/495196/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0c6c1a0daccdd6657f00f92f0eb834d305a5d961,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fpython-tripleoclient~master~I35866fb24915ef80b86cc402015afb08cb155dcf,openstack/python-tripleoclient,master,I35866fb24915ef80b86cc402015afb08cb155dcf,Filter container images by deployed services,MERGED,2017-08-17 03:59:55.000000000,2017-08-21 09:13:07.000000000,2017-08-21 09:13:07.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-08-17 03:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/08b5b9a68771ca5706e51d2c860180c0a00a6d86', 'message': ""Filter container images by deployed services\n\nThis change adds the --service-environment-file/-e argument to the\nprepare command which will take heat environment files that specify\nwhich services are containerised.\n\nWhen specified, the resulting image entries will be filtered only by\nthe containerised services discovered in the environment.\n\n-e is used as the short argument so that tools like quickstart can use\nthe same variable to specify these environments for both the prepare\ncommand and the overcloud deploy command.\n\nOnce this change merges, any calls to prepare in CI can be modified to\nreduce the number of images being transferred for 'upload' calls. For\nexample, specifying -e environment/docker.yaml will reduce image\ntransfers from 85 to 44.\n\nChange-Id: I35866fb24915ef80b86cc402015afb08cb155dcf\nPartial-Bug: #1710992\nDepends-On: #Ie8801b11921c46923b0f7c9aaba6bf524c464e82\n""}, {'number': 2, 'created': '2017-08-17 23:25:53.000000000', 'files': ['tripleoclient/v1/container_image.py', 'releasenotes/notes/prepare-service-4281d7358be7450a.yaml', 'tripleoclient/tests/v1/overcloud_image/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cd1eb1e111779a0a335c7e28f521acc0eb18dae3', 'message': ""Filter container images by deployed services\n\nThis change adds the --service-environment-file/-e argument to the\nprepare command which will take heat environment files that specify\nwhich services are containerised.\n\nWhen specified, the resulting image entries will be filtered only by\nthe containerised services discovered in the environment.\n\n-e is used as the short argument so that tools like quickstart can use\nthe same variable to specify these environments for both the prepare\ncommand and the overcloud deploy command.\n\nOnce this change merges, any calls to prepare in CI can be modified to\nreduce the number of images being transferred for 'upload' calls. For\nexample, specifying -e environment/docker.yaml will reduce image\ntransfers from 85 to 44.\n\nChange-Id: I35866fb24915ef80b86cc402015afb08cb155dcf\nPartial-Bug: #1710992\nDepends-On: #Ie8801b11921c46923b0f7c9aaba6bf524c464e82\n""}]",4,494367,cd1eb1e111779a0a335c7e28f521acc0eb18dae3,24,6,2,4571,,,0,"Filter container images by deployed services

This change adds the --service-environment-file/-e argument to the
prepare command which will take heat environment files that specify
which services are containerised.

When specified, the resulting image entries will be filtered only by
the containerised services discovered in the environment.

-e is used as the short argument so that tools like quickstart can use
the same variable to specify these environments for both the prepare
command and the overcloud deploy command.

Once this change merges, any calls to prepare in CI can be modified to
reduce the number of images being transferred for 'upload' calls. For
example, specifying -e environment/docker.yaml will reduce image
transfers from 85 to 44.

Change-Id: I35866fb24915ef80b86cc402015afb08cb155dcf
Partial-Bug: #1710992
Depends-On: #Ie8801b11921c46923b0f7c9aaba6bf524c464e82
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/494367/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/overcloud_image/test_container_image.py']",2,08b5b9a68771ca5706e51d2c860180c0a00a6d86,bug/1710992," @mock.patch('heatclient.common.template_utils.' 'process_multiple_environments_and_files') def test_container_image_prepare(self, pmef, mock_builder): aodh_file = os.path.join(temp, 'docker', 'services', 'overcloud_containers.yaml.j2') resource_registry = {'resource_registry': { 'OS::TripleO::Services::AodhEvaluator': aodh_file, 'OS::TripleO::Services::AodhApi': aodh_file }} pmef.return_value = None, resource_registry '-e', 'environment/docker.yaml' 'services': [ 'OS::TripleO::Services::AodhApi', 'OS::TripleO::Services::AodhEvaluator', ], }, { 'imagename': 'tripleo/os-aodh-evaluatorfoo:passed-ci', 'params': ['DockerAodhEvaluatorImage'], 'services': [ 'OS::TripleO::Services::AodhEvaluator', ], pmef.assert_called_once_with(['environment/docker.yaml']) 'imagename': 'tripleo/os-aodh-evaluatorfoo:passed-ci', 'DockerAodhEvaluatorImage': 'tripleo/os-aodh-evaluatorfoo:passed-ci'"," def test_container_image_prepare(self, mock_builder): }, { 'imagename': 'tripleo/os-heat-apifoo:passed-ci', 'params': ['DockerHeatApiImage'], 'imagename': 'tripleo/os-heat-apifoo:passed-ci', 'DockerHeatApiImage': 'tripleo/os-heat-apifoo:passed-ci',",60,5
openstack%2Fnetworking-generic-switch~master~If1b8fbc666aa229e5a616223fd8593f553b0e204,openstack/networking-generic-switch,master,If1b8fbc666aa229e5a616223fd8593f553b0e204,Updated from global requirements,MERGED,2017-08-18 04:44:08.000000000,2017-08-21 09:06:04.000000000,2017-08-21 09:06:04.000000000,"[{'_account_id': 3}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-08-18 04:44:08.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/d975e246d396ed7907077b4fd51fafdf26c74dcc', 'message': 'Updated from global requirements\n\nChange-Id: If1b8fbc666aa229e5a616223fd8593f553b0e204\n'}]",0,494844,d975e246d396ed7907077b4fd51fafdf26c74dcc,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: If1b8fbc666aa229e5a616223fd8593f553b0e204
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/44/494844/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d975e246d396ed7907077b4fd51fafdf26c74dcc,openstack/requirements,mock>=2.0.0 # BSDsphinxcontrib-pecanwsme>=0.8.0 # Apache-2.0,mock>=2.0 # BSDsphinxcontrib-pecanwsme>=0.8 # Apache-2.0,2,2
openstack%2Fheat~master~Ifc84fba24224530343945ae6fc89f3d361f7916e,openstack/heat,master,Ifc84fba24224530343945ae6fc89f3d361f7916e,Avoid generate dependency leaves twice,ABANDONED,2017-08-18 08:36:00.000000000,2017-08-21 08:56:28.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-18 08:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2990dbf5ac66fa2a46df1992ddb0e5d7ab71ca1b', 'message': 'Avoid generate dependency leaves to check empty\n\nThis patch proposes to set a flag when handling leaves and check\nthat flag to judge if leaves is an empty set or not instead of\ngenerating same map twice. If we have 500 edges in graph, but one\n10 leaves. It makes no sense for us to go through all 500 edges\none extra time, just to find those 10 leaves.\nCloses-Bug: #1711539\n\nChange-Id: Ifc84fba24224530343945ae6fc89f3d361f7916e\n'}, {'number': 2, 'created': '2017-08-19 05:40:29.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5585f9d1c0a5d7224493469fd4cf9532e9fcaf96', 'message': 'Avoid generate dependency leaves twice\n\nThis patch proposes to reuse the leaves set when checking empty\ninstead of generating same map twice. If we have 500 edges in\ngraph. It makes no sense for us to go through all 500 edges one\nextra time.\nCloses-Bug: #1711539\n\nChange-Id: Ifc84fba24224530343945ae6fc89f3d361f7916e\n'}]",0,495121,5585f9d1c0a5d7224493469fd4cf9532e9fcaf96,5,1,2,12404,,,0,"Avoid generate dependency leaves twice

This patch proposes to reuse the leaves set when checking empty
instead of generating same map twice. If we have 500 edges in
graph. It makes no sense for us to go through all 500 edges one
extra time.
Closes-Bug: #1711539

Change-Id: Ifc84fba24224530343945ae6fc89f3d361f7916e
",git fetch https://review.opendev.org/openstack/heat refs/changes/21/495121/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,2990dbf5ac66fa2a46df1992ddb0e5d7ab71ca1b,bug/1711539," no_leave = True for rsrc_id, is_update in self.convergence_dependencies.leaves(): no_leave = False if is_update: LOG.info(""Triggering resource %s for update"", rsrc_id) else: LOG.info(""Triggering resource %s for cleanup"", rsrc_id) input_data = sync_point.serialize_input_data({}) self.worker_client.check_resource(self.context, rsrc_id, self.current_traversal, input_data, is_update, self.adopt_stack_data, self.converge) if scheduler.ENABLE_SLEEP: eventlet.sleep(1) if no_leave:"," leaves = set(self.convergence_dependencies.leaves()) if not any(leaves): else: for rsrc_id, is_update in self.convergence_dependencies.leaves(): if is_update: LOG.info(""Triggering resource %s for update"", rsrc_id) else: LOG.info(""Triggering resource %s for cleanup"", rsrc_id) input_data = sync_point.serialize_input_data({}) self.worker_client.check_resource(self.context, rsrc_id, self.current_traversal, input_data, is_update, self.adopt_stack_data, self.converge) if scheduler.ENABLE_SLEEP: eventlet.sleep(1)",17,17
openstack%2Fkolla~master~I12503810f80ca18f42e5f2ebeac835bccced02fd,openstack/kolla,master,I12503810f80ca18f42e5f2ebeac835bccced02fd,Cleanup opendaylight-template-overrides,MERGED,2017-05-19 15:30:49.000000000,2017-08-21 08:54:05.000000000,2017-08-21 08:54:05.000000000,"[{'_account_id': 3}, {'_account_id': 10787}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 17280}, {'_account_id': 19316}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 25945}]","[{'number': 1, 'created': '2017-05-19 15:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b8b04c49f5d80234ac20901678597b83b5d9326', 'message': 'Install ODL driver from package where appropriate\n\nThe Neutron ODL driver should come from a package in the case of binary\ndistro as it is not advised to mix installs from the package manager\nand pip because it can lead to unexpected results.\n\nChange-Id: I12503810f80ca18f42e5f2ebeac835bccced02fd\n'}, {'number': 2, 'created': '2017-05-19 15:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/508a6475141ec021d36b4e468b03811107910d4a', 'message': ""Install ODL driver from package for binary distros\n\nThe Neutron ODL driver should come from a package in the case of binary\ndistro as it is not advised to mix installs from the package manager\nand pip because it can lead to unexpected results.\n\nThe rpm and the deb share the same name so they don't need to be\ntreated separately.\n\nThe source build already installs plugins-archive in neutron-server.\n\nChange-Id: I12503810f80ca18f42e5f2ebeac835bccced02fd\n""}, {'number': 3, 'created': '2017-08-17 17:15:16.000000000', 'files': ['doc/template-override/opendaylight-source.rst', 'contrib/template-override/opendaylight-template-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/847f4822c5444ec78234fdc96142c01c769c2f50', 'message': 'Cleanup opendaylight-template-overrides\n\nThe neutron OpenDaylight drivers can now be customized with the\nneutron-server-opendaylight image, there is no need to add them to the\noverride file.\n\nUpdate OpenDaylight overrides file documentation to make it clear this\nis only available for source builds.\n\nChange-Id: I12503810f80ca18f42e5f2ebeac835bccced02fd\n'}]",6,466325,847f4822c5444ec78234fdc96142c01c769c2f50,22,9,3,13039,,,0,"Cleanup opendaylight-template-overrides

The neutron OpenDaylight drivers can now be customized with the
neutron-server-opendaylight image, there is no need to add them to the
override file.

Update OpenDaylight overrides file documentation to make it clear this
is only available for source builds.

Change-Id: I12503810f80ca18f42e5f2ebeac835bccced02fd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/466325/3 && git format-patch -1 --stdout FETCH_HEAD,['contrib/template-override/opendaylight-template-overrides.j2'],1,7b8b04c49f5d80234ac20901678597b83b5d9326,odl-contrib-override,{% if install_type == 'binary' %} {% set neutron_server_packages_append = ['python-networking-odl'] %} {% elif install_type == 'source' %} {% block neutron_server_footer %} {% endblock %} {% endif %},{% block neutron_server_footer %}{% endblock %},6,2
openstack%2Fhorizon~stable%2Fpike~I9b1a706225b3d0f50cb61a81948919d78f096793,openstack/horizon,stable/pike,I9b1a706225b3d0f50cb61a81948919d78f096793,Imported Translations from Zanata,MERGED,2017-08-21 06:15:29.000000000,2017-08-21 08:52:26.000000000,2017-08-21 08:52:26.000000000,"[{'_account_id': 3}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-08-21 06:15:29.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b1b6b3fee9c73b1e04b85ea0ad86300a166dcb50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b1a706225b3d0f50cb61a81948919d78f096793\n'}]",0,495732,b1b6b3fee9c73b1e04b85ea0ad86300a166dcb50,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9b1a706225b3d0f50cb61a81948919d78f096793
",git fetch https://review.opendev.org/openstack/horizon refs/changes/32/495732/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po']",3,b1b6b3fee9c73b1e04b85ea0ad86300a166dcb50,zanata/translations,"# Tom Fifield <tom@openstack.org>, 2017. #zanata""Project-Id-Version: horizon 12.0.0.0rc2.dev9\n""""POT-Creation-Date: 2017-08-20 12:00+0000\n""""PO-Revision-Date: 2017-08-21 06:13+0000\n"" ""Last-Translator: Tom Fifield <tom@openstack.org>\n""#, python-format msgid """" ""\n"" "" %(used)s of %(quota)s GiB Used\n"" "" "" msgstr """" ""\n"" "" 已使用 %(quota)s 中的 %(used)s GiB\n"" "" "" #, python-format msgid """" ""\n"" "" %(used)s of %(quota)s Used\n"" "" "" msgstr """" ""\n"" "" 已使用 %(quota)s 中的 %(used)s\n"" "" "" "" You can create a port for the network.\n"" "" If you specify device ID to be attached, the device specified will\n"" "" be attached to the port created.\n"" "" "" msgstr """" "" 您可以為網路建立埠。\n"" "" 如果您指定要連接的裝置 ID，\n"" "" 則指定的裝置將連接至所建立的埠。\n"" "" "" msgid """"msgid ""%(used)s of %(quota)s GiB Used"" msgstr ""已使用 %(quota)s 中的 %(used)s GiB"" #, python-format msgid ""%(used)s of %(quota)s MB Used"" msgstr ""已使用 %(quota)s 中的 %(used)s MB"" #, python-format#, python-format msgid ""<a href=\""%(instance_url)s\"">%(instance_name)s</a> on %(device)s"" msgstr """" "" %(device)s 上的 <a href=\""%(instance_url)s\"">%(instance_name)s</a>\n"" "" "" #, python-format msgid ""<a href=\""%(volume_url)s\"">%(volume_label)s</a> on %(volume_device)s"" msgstr """" ""%(volume_device)s 上的 <a href=\""%(volume_url)s\"">%(volume_label)s</a>\n"" "" "" msgid ""A valid MAC Address"" msgstr ""有效的 MAC 位址"" msgid ""Additional Routes"" msgstr ""其他路由"" msgid ""Allowed Address Pairs"" msgstr ""容許使用的位址配對"" msgid ""At least one volume type must be assigned to a consistency group."" msgstr ""至少一個雲硬碟需要被指定到一制性群組"" msgid ""Attach Volume to Running Instance."" msgstr ""附加雲端硬碟到正在運行的實例。"" msgid ""Attach a Volume"" msgstr ""附加雲硬碟"" msgid ""Availability Zone ="" msgstr ""可用區域 ="" msgid ""Case sensitive"" msgstr ""區分大小寫"" msgid ""Case-sensitive"" msgstr ""區分大小寫"" msgid ""Changes Since"" msgstr ""最後變更"" msgid """" ""Choose \""Disk Format\"" for the image. The volume images are created with the "" ""QEMU disk image utility."" msgstr """" "" 為映像檔選擇「硬碟格式」。會以 QEMU 硬碟映像檔工具來新增雲硬碟映像檔。\n"" "" "" msgid ""Clone Consistency Group"" msgstr ""複製一制性群組"" msgid ""Consistency Groups"" msgstr ""一致性群組"" msgid ""Console is currently unavailable."" msgstr ""無法使用控制台"" msgid ""Create Consistency Group Snapshot"" msgstr ""建立一致性群組快照。"" msgid ""Creating consistency group \""%s\""."" msgstr ""正在建立一致性群組 \""%s\"" 。"" #, python-formatmsgid ""DHCP Enabled"" msgstr ""DHCP 已啟用"" msgid ""Delete"" msgid_plural ""Delete"" msgstr[0] ""刪除"" msgid ""Deleted volume backups are not recoverable."" msgstr ""已刪除的磁區備份將不可回復。"" msgctxt ""Action to perform (the volume is currently attached)"" msgid ""Detach Volume"" msgid_plural ""Detach Volumes"" msgstr[0] ""卸除雲硬碟"" msgid ""Detach Volume from Running Instance."" msgstr ""從正在運行的實例卸除雲端硬碟"" msgid ""Detach a Volume"" msgstr ""卸除雲硬碟"" msgctxt ""Past action (the volume is currently being detached)"" msgid ""Detaching Volume"" msgid_plural ""Detaching Volumes"" msgstr[0] ""正在卸除雲硬碟"" msgid ""Download OpenStack RC File"" msgstr ""下載 OpenStack 用的 RC 檔"" msgid ""EC2 Credentials"" msgstr ""EC2 認證"" msgid ""Enter an integer value between 0 and 255."" msgstr ""輸入 0 到 255 之間的整數。"" msgid ""Failed to add interface: %s"" msgstr ""無法新增介面：%s"" #, python-format#, python-format msgid ""Failed to get network list: %s"" msgstr ""無法獲得網路列表: %s"" msgid ""Failed to set gateway: %s"" msgstr ""無法設定閘道: %s"" #, python-formatmsgid ""Failed to update port \""%s\""."" msgstr ""更新接口 %s 時失敗"" #, python-formatmsgid ""Filter by an ISO 8061 formatted time, e.g. 2016-06-14T06:27:59Z"" msgstr ""按照ISO 8061格式化的時間過濾，例如：2016-06-14T06:27:59Z"" msgid ""Flavor Name ="" msgstr ""虛擬硬體樣板 ="" msgid ""Function"" msgstr ""功能"" msgid ""Graph"" msgstr ""圖表"" msgid ""High Availability Status"" msgstr ""高可用性狀態"" msgid ""IP Address or CIDR"" msgstr ""IP 位址或 CIDR"" msgid ""IPv4 Address"" msgstr ""IPv4 位址"" msgid ""IPv6 Address"" msgstr ""IPv6 位址"" msgid ""Instance ID ="" msgstr ""實例 ID ="" msgid ""Insufficient privilege level to retrieve key pair list."" msgstr ""權限不足以檢視密鑰對列表。"" #, python-format msgid ""Invalid format for routes: %s"" msgstr ""無效的路徑格式：%s"" msgid """" ""Key pair name may only contain letters, numbers, underscores, spaces, and "" ""hyphens and may not be white space."" msgstr ""密鑰對名稱只能包含英文字母、數字、底線、空格和連字號而不能為空白。"" msgid ""L3 Agent"" msgstr ""L3代理"" msgid ""Messages"" msgstr ""訊息"" msgid ""No flavors meet minimum criteria for selected boot source."" msgstr ""沒有虛擬硬體樣板符合所選映像檔的準則下限。"" msgid ""No server groups available"" msgstr ""無可用的主機群組"" msgid ""No volumes attached"" msgstr ""沒有附加的雲硬碟"" msgid ""Old password and new password must be different"" msgstr ""舊密碼跟新密碼必須不相同"" msgid ""OpenStack RC File (Identity API v2.0)"" msgstr ""OpenStack RC 檔 (身份服務第 2.0 版)"" msgid ""OpenStack RC File (Identity API v3)"" msgstr ""OpenStack RC 檔 (身份服務第 3 版)"" msgid ""OpenStack RC File v2"" msgstr ""OpenStack RC 檔 第 2 版"" msgid ""OpenStack RC File v3"" msgstr ""OpenStack RC 檔第 3 版"" msgid ""OpenStack clouds.yaml File"" msgstr ""OpenStack clouds.yaml 檔"" #, python-format msgid """" ""Other IPv6 modes: ipv6_ra_mode=%(ra_mode)s, ipv6_address_mode=%(addr_mode)s"" msgstr """" ""其他 IPv6 模式：ipv6_ra_mode=%(ra_mode)s、ipv6_address_mode=%(addr_mode)s\n"" "" "" msgid """" ""Ownership of a volume can be transferred from one project to another. "" ""Accepting a transfer requires obtaining the Transfer ID and Authorization "" ""Key from the donor. This is equivalent to the <tt>openstack volume transfer "" ""request accept</tt> command."" msgstr """" ""磁區的所有權可以從一個專案傳送至另一個專案。接受傳送需要獲得「傳送 ID」和來自"" ""發布中心的「授權金鑰」。這等效於 <tt>openstack volume transfer request "" ""accept</tt> 指令。"" msgid """" ""Ownership of a volume can be transferred from one project to another. Once a "" ""volume transfer is created in a donor project, it then can be \""accepted\"" "" ""by a recipient project. This is equivalent to the <tt>openstack volume "" ""transfer create</tt> command."" msgstr """" ""磁區的所有權可以從一個專案傳送至另一個專案。在發布中心專案內建立磁區傳送之"" ""後，可以由接收者專案來「接受」。這等效於 <tt>openstack volume transfer "" ""create</tt> 指令。"" msgid ""Primary Project ID"" msgstr ""主要專案 ID"" msgid ""Primary Project Name"" msgstr ""主要專案名稱"" #, python-format msgid ""Regenerate and download Key Pair &quot;%(keypair_name)s&quot;"" msgstr ""重新產生並下載密鑰對「%(keypair_name)s」"" msgid ""Remove Volumes from Consistency Group"" msgstr ""從一致性群組移除雲硬碟"" #, python-format msgid ""Request for launching %(count)s named \""%(name)s\"" has been submitted."" msgstr ""發動名為「%(name)s」%(count)s 個的請求已經被送出"" #, python-format msgid ""Request for resizing of instance \""%s\"" has been submitted."" msgstr ""調整雲實例 「%s」 的請求已經被送出"" msgid """" ""Resize the canvas by scrolling up/down with your mouse/trackpad on the "" ""topology. Pan around the canvas by clicking and dragging the space behind "" ""the topology."" msgstr """" ""以滑鼠/觸控板在網路拓撲上捲動以調整曲線尺寸。點擊並拖曳網路拓撲之後的空白處來"" ""旋轉曲線。\n"" "" "" msgid ""Role ID ="" msgstr ""角色 ID = "" msgid ""Role Name ="" msgstr ""角色名稱 = "" msgid ""Router Name ="" msgstr ""路由器名稱 ="" msgid ""Select Server Group"" msgstr ""選擇主機群組"" msgid ""Select a volume to detach from this instance."" msgstr ""選擇雲硬碟來卸除自這個雲實例。"" msgid ""Server Group"" msgstr ""伺服器群組"" msgid ""Server group to associate with this instance."" msgstr ""與雲實例相關的伺服器群組"" msgid """" ""Some flavors not meeting minimum boot source requirements have been disabled."" msgstr ""已停用部分不符合映像檔需求下限的虛擬硬體樣板。"" msgid ""Specify the MAC address for the new port"" msgstr ""指定配置給此新埠的 MAC 位址"" msgid ""Stack ID ="" msgstr ""堆疊 ID ="" msgid ""Stack Name ="" msgstr ""堆疊名稱 ="" msgid ""Subnet Pool"" msgstr ""子網路儲存區"" msgid ""Template Functions"" msgstr ""範本功能"" msgid ""Template Versions"" msgstr ""範本版本"" msgid """" ""The \""Migration Policy\"" is only used if the volume retype cannot be "" ""completed. If the \""Migration Policy\"" is \""On Demand\"", the back end will "" ""perform volume migration. Note that migration may take a significant amount "" ""of time to complete, in some cases hours."" msgstr """" ""「移轉原則」只用於當不能完成磁區 Retype 動作時。如果「移轉原則」是「隨需應"" ""變」，則後端將執行磁區移轉。請注意，移轉可能需要大量時間來完成，在部分情況"" ""下，需要幾個小時。"" msgid ""The \""Type\"" selected must be different from the current volume type."" msgstr ""所選「類型」必須與現行磁區類型不同。"" #, python-format msgid """" ""The key pair &quot;%(keypair_name)s&quot; should download automatically. If "" ""not, use the button below."" msgstr """" ""密鑰對「%(keypair_name)s」應該會自動下載。假如沒有開始，請使用下列超連結。"" #, python-format msgid """" ""The requested instance(s) cannot be launched as your quota will be exceeded: "" ""Available: %(avail)s, Requested: %(req)s."" msgstr """" ""不能發動所請求的雲實例因請求超出可用配額：可用：%(avail)s、請求：%(req)s。"" msgid ""Toggle Labels"" msgstr ""切換標籤"" msgid ""Transfer name"" msgstr ""轉移名稱"" msgid ""Type ="" msgstr ""類型 ="" msgid ""Unable to clone empty consistency group."" msgstr ""無法複製空的一致性群組"" msgid ""Unable to create snapshots due to exceeding snapshot quota limit."" msgstr ""無法建立一致性群組快照因為超過快照使用限制"" msgid ""Unable to detach volume."" msgstr ""無法卸除雲硬碟"" msgid ""Unable to display consistency group."" msgstr ""無法顯示一致性群組。"" #, python-format msgid ""Unable to get functions for template version \""%s\""."" msgstr ""無法取得範本 \""%s\"" 的功能。"" msgid ""Unable to load console. Please reload page to try again."" msgstr ""無法載入控制台。請重新整理此頁面後重試"" msgid ""Unable to retrieve Nova server groups."" msgstr ""無法獲得 Nova 主機群組。"" msgid ""Unable to retrieve template functions."" msgstr ""無法獲得範本功能"" msgid ""Unable to retrieve template versions."" msgstr ""無法獲得範本版本。"" msgid ""Unable to retrieve the instance."" msgstr ""無法獲得雲實例。"" msgid """" ""Upload the volume to the Image Service as an image. This is equivalent to "" ""the <tt>cinder upload-to-image</tt> command."" msgstr """" ""將磁區作為映像檔上傳到映像檔服務。這等效於 <tt>cinder upload-to-image</tt> 指"" ""令。\n"" "" "" msgid ""User ID ="" msgstr ""使用者 ID = "" msgid ""User Name ="" msgstr ""使用者名稱 = "" msgid ""Version"" msgstr ""版本"" msgid ""Warning: "" msgstr ""警告："" msgid """" ""When the volume status is \""in-use\"", you can use \""Force\"" to upload the "" ""volume to an image."" msgstr """" ""當雲硬碟狀態是「使用中」，您可以使用「強制」來上傳雲硬碟到映像檔。\n"" "" "" msgid """" ""You do not have the required privileges to access this content. If you "" ""believe this message to be in error, please contact your project manager."" msgstr """" ""您沒有所需的權限來存取這個內容。若您相信這個訊息是個錯誤，請通知您的專案管理"" ""員。"" msgid ""You have selected:"" msgstr ""你已經選擇:"" msgid ""e.g. Yes/No"" msgstr ""例如：Yes/No"" msgid ""vCPUs ="" msgstr ""虛擬處理器數 ="" ","# Zhang Xiaowei <zero00072@gmail.com>, 2016. #zanata""Project-Id-Version: horizon 12.0.0.0b4.dev60\n""""POT-Creation-Date: 2017-08-09 02:47+0000\n""""PO-Revision-Date: 2017-07-17 04:58+0000\n"" ""Last-Translator: Ching Kuo <gene@openstack.org>\n""#, fuzzy#, fuzzy#, fuzzy#, fuzzy#, fuzzy",737,40
openstack%2Fhorizon~master~Ibad0c3ade6f34870099122da6a07789d3d5d7467,openstack/horizon,master,Ibad0c3ade6f34870099122da6a07789d3d5d7467,Imported Translations from Zanata,MERGED,2017-08-21 06:06:47.000000000,2017-08-21 08:51:21.000000000,2017-08-21 08:51:21.000000000,"[{'_account_id': 3}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-08-21 06:06:47.000000000', 'files': ['releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/03e2299405216fd8b4046988ed93db61d7cb4aaa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibad0c3ade6f34870099122da6a07789d3d5d7467\n'}]",0,495731,03e2299405216fd8b4046988ed93db61d7cb4aaa,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibad0c3ade6f34870099122da6a07789d3d5d7467
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/495731/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'],1,03e2299405216fd8b4046988ed93db61d7cb4aaa,zanata/translations,"# zzxwill <zzxwill@gmail.com>, 2017. #zanata""POT-Creation-Date: 2017-08-18 15:42+0000\n""""PO-Revision-Date: 2017-08-20 01:30+0000\n"" ""Last-Translator: zzxwill <zzxwill@gmail.com>\n""msgid ""12.0.0.0b3"" msgstr ""12.0.0.0b3"" msgid ""12.0.0.0rc1"" msgstr ""12.0.0.0rc1"" msgid ""API call efficiency optimizations."" msgstr ""API调用效率优化。"" msgid """" ""Add a new setting OVERVIEW_DAYS_RANGE. It defines the default date range in "" ""the Overview panel meters - either today minus N days (if the value is "" ""integer N), or from the beginning of the current month until today (if set "" ""to None). This setting is be used to limit the amount of data fetched by "" ""default when rendering the Overview panel. The default value is 1, which "" ""differs from the past behaviour, since it caused serious lags on large "" ""deployments (`bug 1508571 <https://bugs.launchpad.net/horizon/"" ""+bug/1508571>`__)."" msgstr """" ""添加了一个新的设置 -- OVERVIEW_DAYS_RANGE，它定义了详情框中的计费器的默认日期"" ""范围（如果它的值是整数 N，则是今天减去 N 天；如果设置为 None, 则是从当前月开"" ""始直到今天）。使用这个设置可以在生成详情框的内容时限制需要获取的数据数量。和"" ""以前不同，它的默认值是 1 ，以前的设置会导致在大型环境中出现严重的滞后问题，详"" ""见`bug 1508571 <https://bugs.launchpad.net/horizon/+bug/1508571>`__。"" msgid ""Allow service disable/enable on Hypervisor"" msgstr ""允许在虚拟机管理程序上关闭或开启服务"" msgid ""Allowed Hosts"" msgstr ""允许的宿主机"" msgid ""Ceilometer"" msgstr ""Ceilometer"" msgid ""Cinder"" msgstr ""Cinder"" msgid ""Cinder v2 by default"" msgstr ""默认是Cinder V2版本"" msgid ""Conflicting Security Group Names With Neutron"" msgstr ""与Newtron的安全组名字相冲突"" msgid ""Creating and restoring volume backups"" msgstr ""创建和恢复卷备份"" msgid ""DVR (Distributed Virtual Routing)"" msgstr ""DVR（分布式虚拟路由）"" msgid ""Django 1.6 Support"" msgstr ""Django 1.6支持"" msgid ""Django 1.7 is now supported."" msgstr ""已支持Django 1.7。"" msgid ""Firewall as a Service."" msgstr ""防火墙即服务"" msgid ""Fixing ordering issues"" msgstr ""修复排序问题"" msgid """" ""For more information see `Pluggable Settings <https://docs.openstack.org/"" ""horizon/latest/configuration/pluggable_panels.html>`__."" msgstr """" ""想获取更多的信息，请参考 `插件式设置 <https://docs.openstack.org/horizon/"" ""latest/configuration/pluggable_panels.html>`__."" msgid ""Glance"" msgstr ""Glance"" msgid ""Havana Series Release Notes"" msgstr ""Havana版本发布说明"" msgid ""Heat"" msgstr ""Heat"" msgid ""Horizon Release Notes"" msgstr ""Horizon版本发布说明"" msgid ""Icehouse Series Release Notes"" msgstr ""Icehouse版本发布说明"" msgid ""Improved Plugin Support"" msgstr ""提升的插件支持"" msgid ""Improved client/server search"" msgstr ""改善的客户端/服务端检索"" msgid ""Integration Test Framework"" msgstr ""集成测试框架"" msgid ""JavaScript"" msgstr ""JavaScript"" msgid ""Juno Series Release Notes"" msgstr ""Juno版本发布说明"" msgid ""Key New Features"" msgstr ""核心新特性"" msgid ""Kilo Series Release Notes"" msgstr ""Kilo版本发布说明"" msgid ""L3 HA support"" msgstr ""3层高可用支持"" msgid ""Liberty Series Release Notes"" msgstr ""Liberty版本发布说明"" msgid ""Live Migration Support"" msgstr ""热迁移支持"" msgid ""Migrate all instances from host"" msgstr ""从宿主机上迁移所有实例"" msgid ""Neutron"" msgstr ""Neutron"" msgid ""Neutron L3 HA"" msgstr ""Neutron3层高可用"" msgid ""Newton Series Release Notes"" msgstr ""Newton版本发布说明"" msgid ""Nova"" msgstr ""Nova"" msgid ""Numerous other bug fixes"" msgstr ""非常多的其他缺陷修复"" msgid ""Ocata Series Release Notes"" msgstr ""Ocata版本发布说明"" msgid ""Online Compression"" msgstr ""在线实时压缩"" msgid ""Orchestration Resources Panel"" msgstr ""编排资源模板"" msgid ""Pike Series Release Notes"" msgstr ""Pike版本发布说明"" msgid ""Plugin Architecture"" msgstr ""插件架构"" msgid ""Role-Based Access Controls"" msgstr ""基于角色的访问控制"" msgid ""Sahara"" msgstr ""Sahara"" msgid ""Security Group Rule Templates"" msgstr ""安全组规则模板"" msgid ""Session Creation and Health Checks"" msgstr ""Session创建和健康检查"" msgid ""Some of these features include:"" msgstr ""一些特性包括："" msgid ""Stack Template view"" msgstr ""栈模板视图"" msgid ""Swift"" msgstr ""Swift"" msgid ""Translation Team"" msgstr ""翻译团队"" msgid ""Trove"" msgstr ""Trove"" msgid ""Trove Databases"" msgstr ""Trove数据库"" msgid ""UX Changes"" msgstr ""用户体验变更"" msgid ""Upgrade Information"" msgstr ""升级说明"" msgid ""User Experience Group"" msgstr ""用户体验组"" msgid ""VPN as a Service."" msgstr ""VPN 即服务"" msgid ""Volume encryption metadata support"" msgstr ""卷加密元数据支持"" msgid ""Wizard"" msgstr ""教程"" msgid ""https://bugs.launchpad.net/horizon/+bug/1379761"" msgstr ""https://bugs.launchpad.net/horizon/+bug/1379761"" ","""POT-Creation-Date: 2017-08-10 14:51+0000\n""""PO-Revision-Date: 2017-06-24 03:08+0000\n"" ""Last-Translator: blkart <blkart.org@gmail.com>\n""",201,3
openstack%2Faodh~master~Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987,openstack/aodh,master,Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987,Add api-ref initial patch,ABANDONED,2016-12-23 06:34:15.000000000,2017-08-21 08:49:30.000000000,,"[{'_account_id': 3}, {'_account_id': 8290}, {'_account_id': 23037}]","[{'number': 1, 'created': '2016-12-23 06:34:15.000000000', 'files': ['api-ref/source/parameters.yaml', 'aodh/version.py', 'api-ref/source/index.rst', 'api-ref/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/ff67c751636f0980f449847e793c6dc4a05d960e', 'message': 'Add api-ref initial patch\n\nChange-Id: Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987\n'}]",1,414437,ff67c751636f0980f449847e793c6dc4a05d960e,6,3,1,8290,,,0,"Add api-ref initial patch

Change-Id: Iec9cd4bdfbcccb5e8127ca9087b91974f3cf8987
",git fetch https://review.opendev.org/openstack/aodh refs/changes/37/414437/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/version.py', 'api-ref/source/parameters.yaml', 'api-ref/source/index.rst', 'api-ref/source/conf.py', 'setup.cfg', 'tox.ini']",6,ff67c751636f0980f449847e793c6dc4a05d960e,api-ref, [testenv:api-ref] commands = rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html,,560,0
openstack%2Faodh~master~If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d,openstack/aodh,master,If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d,disable workload partition when backend_url is not set,ABANDONED,2016-05-03 13:30:49.000000000,2017-08-21 08:49:05.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-05-03 13:30:49.000000000', 'files': ['aodh/tests/unit/test_evaluator.py', 'aodh/cmd/alarm.py', 'aodh/evaluator/__init__.py', 'aodh/coordination.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/aodh/commit/ed9f361208dc42d61c210adbc6b2a9fc6da4b8ff', 'message': 'disable workload partition when backend_url is not set\n\nCurrently we always do workload partition no matter backend_url\nis set or not, which is wrong, we should run singleton worker when\nit is not set.\n\nChange-Id: If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d\nCloses-Bug: #1577754\n'}]",0,312059,ed9f361208dc42d61c210adbc6b2a9fc6da4b8ff,4,1,1,6676,,,0,"disable workload partition when backend_url is not set

Currently we always do workload partition no matter backend_url
is set or not, which is wrong, we should run singleton worker when
it is not set.

Change-Id: If0344eb2905fc72cd04c29bfd8b3f10b7c649c2d
Closes-Bug: #1577754
",git fetch https://review.opendev.org/openstack/aodh refs/changes/59/312059/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/tests/unit/test_evaluator.py', 'aodh/cmd/alarm.py', 'aodh/evaluator/__init__.py', 'aodh/coordination.py', 'devstack/settings']",5,ed9f361208dc42d61c210adbc6b2a9fc6da4b8ff,bug/1577754,AODH_COORDINATION_URL=${AODH_COORDINATION_URL:-redis://localhost:6379},AODH_COORDINATION_URL=${AODH_COORDINATION_URL:-},37,16
openstack%2Fceilometer~master~I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e,openstack/ceilometer,master,I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e,"Revert ""deprecate archive policy of Gnocchi dispatcher""",MERGED,2017-07-10 15:49:01.000000000,2017-08-21 08:46:43.000000000,2017-08-21 08:46:43.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-10 15:49:01.000000000', 'files': ['ceilometer/dispatcher/gnocchi_opts.py', 'releasenotes/notes/deprecate-archive-policy-7148be0948dde101.yaml', 'ceilometer/dispatcher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bb3a29e2ad0a5b83f8aa5298adc2ad0d2b36f405', 'message': 'Revert ""deprecate archive policy of Gnocchi dispatcher""\n\nThis reverts commit 5016d7e26ae03d3e427b73c01f93c514612e61f0.\n\nI don\'t think it\'s a good idea to deprecate that settings. They are some weird\nuse cases that are not covered by archive policy rules, such as posting from 2\nCeilometer with different archive policies to a single Gnocchi instance.\n\nThere\'s also the possibility that the Gnocchi instance is used for some other\nmeans and that the rule cannot correctly be set.\n\nChange-Id: I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e\n'}]",3,482191,bb3a29e2ad0a5b83f8aa5298adc2ad0d2b36f405,17,4,1,1669,,,0,"Revert ""deprecate archive policy of Gnocchi dispatcher""

This reverts commit 5016d7e26ae03d3e427b73c01f93c514612e61f0.

I don't think it's a good idea to deprecate that settings. They are some weird
use cases that are not covered by archive policy rules, such as posting from 2
Ceilometer with different archive policies to a single Gnocchi instance.

There's also the possibility that the Gnocchi instance is used for some other
means and that the rule cannot correctly be set.

Change-Id: I4ee646088f7bc370ed7ffd1eb3b98e66bae6782e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/482191/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/dispatcher/gnocchi_opts.py', 'releasenotes/notes/deprecate-archive-policy-7148be0948dde101.yaml', 'ceilometer/dispatcher/gnocchi.py']",3,bb3a29e2ad0a5b83f8aa5298adc2ad0d2b36f405,jd/remove-deprecation-from-archive-policy-settings,," if self.cfg.get('archive_policy'): LOG.warning(""archive_policy in gnocchi resource definition is "" ""deprecated. Archive Policy Rule must be setup on "" ""Gnocchi side instead"")",0,12
openstack%2Fkolla-ansible~master~Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b,openstack/kolla-ansible,master,Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b,Missing ExecStart in docker.service,MERGED,2017-06-02 08:44:35.000000000,2017-08-21 08:43:00.000000000,2017-06-02 09:45:22.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-06-02 08:44:35.000000000', 'files': ['doc/multinode.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88684547e7ae1ab2beb7d7a328cd315c7127bd97', 'message': 'Missing ExecStart in docker.service\n\ndocker.service requires extra ExecStart to clear ""settings""\n\nChange-Id: Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b\n'}]",0,470207,88684547e7ae1ab2beb7d7a328cd315c7127bd97,8,3,1,23759,,,0,"Missing ExecStart in docker.service

docker.service requires extra ExecStart to clear ""settings""

Change-Id: Ica9b8b5f7f57e1c8c87adc62df766c101bb03d2b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/470207/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/multinode.rst'],1,88684547e7ae1ab2beb7d7a328cd315c7127bd97,, ExecStart= ExecStart=,,2,0
openstack%2Fpython-ironic-inspector-client~master~I0d3054c1f7c34ebb533678377d3d60d229dc44da,openstack/python-ironic-inspector-client,master,I0d3054c1f7c34ebb533678377d3d60d229dc44da,Updated from global requirements,MERGED,2017-08-18 04:51:22.000000000,2017-08-21 08:38:40.000000000,2017-08-21 08:38:40.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}]","[{'number': 1, 'created': '2017-08-18 04:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/bad2c1ec94e17b662195b123529c73c95ed4d025', 'message': 'Updated from global requirements\n\nChange-Id: I0d3054c1f7c34ebb533678377d3d60d229dc44da\n'}, {'number': 2, 'created': '2017-08-18 11:41:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/82b2fa84dad35afa05d5246f0642e635d95a0176', 'message': 'Updated from global requirements\n\nChange-Id: I0d3054c1f7c34ebb533678377d3d60d229dc44da\n'}]",0,494895,82b2fa84dad35afa05d5246f0642e635d95a0176,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: I0d3054c1f7c34ebb533678377d3d60d229dc44da
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/95/494895/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bad2c1ec94e17b662195b123529c73c95ed4d025,openstack/requirements,mock>=2.0.0 # BSD requests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSD requests-mock>=1.1 # Apache-2.0,2,2
openstack%2Fvitrage-dashboard~master~I71f469263566179a82187123ae65bf43dfd3975e,openstack/vitrage-dashboard,master,I71f469263566179a82187123ae65bf43dfd3975e,resource id is shown now in alarm list,MERGED,2017-08-20 13:12:46.000000000,2017-08-21 08:37:11.000000000,2017-08-21 08:37:11.000000000,"[{'_account_id': 3}, {'_account_id': 19134}, {'_account_id': 19140}, {'_account_id': 19142}, {'_account_id': 19159}, {'_account_id': 23133}]","[{'number': 1, 'created': '2017-08-20 13:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/3ba520586010a75fa798fa6b6ba4b62f20950a24', 'message': 'resource id is shown now in alarm list\n\nChange-Id: I71f469263566179a82187123ae65bf43dfd3975e\n'}, {'number': 2, 'created': '2017-08-20 13:54:10.000000000', 'files': ['vitrage_dashboard/dashboard/static/dashboard/project/alarmList/alarmList.html'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/8be5a32a61bce5ccb45bfb502fbcd2f8b0162ec8', 'message': 'resource id is shown now in alarm list\n\nChange-Id: I71f469263566179a82187123ae65bf43dfd3975e\nCloses-Bug: #1707604'}]",0,495547,8be5a32a61bce5ccb45bfb502fbcd2f8b0162ec8,8,6,2,19140,,,0,"resource id is shown now in alarm list

Change-Id: I71f469263566179a82187123ae65bf43dfd3975e
Closes-Bug: #1707604",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/47/495547/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_dashboard/dashboard/static/dashboard/project/alarmList/alarmList.html'],1,3ba520586010a75fa798fa6b6ba4b62f20950a24,master, <td>{$alarm.vitrage_resource_type$}</td>, <td>{$alarm.resource_type$}</td>,1,1
openstack%2Fpuppet-nova~master~Ida3ecab717bc3113ba23553c559263f35c49c46a,openstack/puppet-nova,master,Ida3ecab717bc3113ba23553c559263f35c49c46a,Fix handling of nova pci MultiStrOpt params,MERGED,2017-08-09 15:23:17.000000000,2017-08-21 08:33:18.000000000,2017-08-16 06:43:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6908}, {'_account_id': 8971}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-08-09 15:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6794d20793fe8d79cfd28d5a6b3e78d83eae614c', 'message': ""Fix handling of nova pci MultiStrOpt params\n\nThe changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix\nthe handling of the nova pci_* params. The config being written to nova.conf\nremains in the ListOpt format.\n\nAs support for MultiStrOpt was added to nova_config in\nI6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of\nstrings to nova_config to set these MultiStrOpt params.\n\nNova expects the string values to be JSON encoded so that is what the parser\nfunction now returns. This function also now accepts both the legacy JSON\nencoded format and an array of hashes. This function has also been renamed from\n'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.\n\nChange-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a\nCloses-bug: #1696955\n""}, {'number': 2, 'created': '2017-08-09 16:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/47c4a66c88f26892898683885411e74e2c1232d6', 'message': ""Fix handling of nova pci MultiStrOpt params\n\nThe changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix\nthe handling of the nova pci_* params. The config being written to nova.conf\nremains in the ListOpt format.\n\nAs support for MultiStrOpt was added to nova_config in\nI6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of\nstrings to nova_config to set these MultiStrOpt params.\n\nNova expects the string values to be JSON encoded so that is what the parser\nfunction now returns. This function also now accepts both the legacy JSON\nencoded format and an array of hashes. This function has also been renamed from\n'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.\n\nAlso removes any pci_alias from nova.conf when the param is not set/default.\n\nChange-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a\nCloses-bug: #1696955\n""}, {'number': 3, 'created': '2017-08-14 11:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/701a404ff35b41f1f9d3ba204d6cd515a5e9407d', 'message': 'Fix handling of nova pci MultiStrOpt params\n\nThe changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix\nthe handling of the nova pci_* params. The config being written to nova.conf\nremains in the ListOpt format.\n\nAs support for MultiStrOpt was added to nova_config in\nI6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of\nstrings to nova_config to set these MultiStrOpt params.\n\nNova expects the string values to be JSON encoded so that is what the parser\nfunction now returns.  This function has also been renamed from\n\'check_array_of_hash\' (which it never did) to \'to_array_of_json_strings\'.\n\nThe acceptable input formats are a JSON array of objects or a puppet Array of\nHashes. Perviously a ""JSON with single quotes"" format was used but should now\nbe considered deprecated as it could corrupt data.\n\nThis also removes any pci_alias entries from nova.conf when the param is not\nset.\n\nChange-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a\nCloses-bug: #1696955\n'}, {'number': 4, 'created': '2017-08-14 11:52:36.000000000', 'files': ['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_api_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/api.pp', 'lib/puppet/parser/functions/check_array_of_hash.rb', 'releasenotes/notes/pci_params_format-bf62bf47585ad1cc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1cd349f893408803fec307f615ae3fe265d54fed', 'message': 'Fix handling of nova pci MultiStrOpt params\n\nThe changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix\nthe handling of the nova pci_* params. The config being written to nova.conf\nremains in the ListOpt format.\n\nAs support for MultiStrOpt was added to nova_config in\nI6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of\nstrings to nova_config to set these MultiStrOpt params.\n\nNova expects the string values to be JSON encoded so that is what the parser\nfunction now returns.  This function has also been renamed from\n\'check_array_of_hash\' (which it never did) to \'to_array_of_json_strings\'.\n\nThe acceptable input formats are a JSON array of objects or a puppet Array of\nHashes. Perviously a ""JSON with single quotes"" format was used but should now\nbe considered deprecated as it could corrupt data.\n\nThis also removes any pci_alias entries from nova.conf when the param is not\nset.\n\nChange-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a\nCloses-bug: #1696955\n'}]",8,492172,1cd349f893408803fec307f615ae3fe265d54fed,30,8,4,23811,,,0,"Fix handling of nova pci MultiStrOpt params

The changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix
the handling of the nova pci_* params. The config being written to nova.conf
remains in the ListOpt format.

As support for MultiStrOpt was added to nova_config in
I6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of
strings to nova_config to set these MultiStrOpt params.

Nova expects the string values to be JSON encoded so that is what the parser
function now returns.  This function has also been renamed from
'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.

The acceptable input formats are a JSON array of objects or a puppet Array of
Hashes. Perviously a ""JSON with single quotes"" format was used but should now
be considered deprecated as it could corrupt data.

This also removes any pci_alias entries from nova.conf when the param is not
set.

Change-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a
Closes-bug: #1696955
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/492172/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_api_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/api.pp', 'lib/puppet/parser/functions/check_array_of_hash.rb', 'releasenotes/notes/pci_params_format-bf62bf47585ad1cc.yaml']",7,6794d20793fe8d79cfd28d5a6b3e78d83eae614c,bug/1696955,--- features: - | The nova::api::pci_alias and nova::compute::pci_passthrough now accept an array of hashes. The previous format of a JSON encoded string is still support but may be deprecated in future. ,,133,48
openstack%2Ffuxi~stable%2Fpike~I6cdcee1dec4048d7c8d19d05957a0087909f4297,openstack/fuxi,stable/pike,I6cdcee1dec4048d7c8d19d05957a0087909f4297,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-08-14 16:54:13.000000000,2017-08-21 08:31:40.000000000,2017-08-21 08:31:40.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-08-14 16:54:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/fuxi/commit/ebbadd2b1e06017402de69a7f87546842f762663', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I6cdcee1dec4048d7c8d19d05957a0087909f4297\n'}]",0,493612,ebbadd2b1e06017402de69a7f87546842f762663,12,6,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I6cdcee1dec4048d7c8d19d05957a0087909f4297
",git fetch https://review.opendev.org/openstack/fuxi refs/changes/12/493612/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ebbadd2b1e06017402de69a7f87546842f762663,create-pike,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fironic-lib~master~I3a1d618e60038f80fbc5cc993790338bd2aeda6c,openstack/ironic-lib,master,I3a1d618e60038f80fbc5cc993790338bd2aeda6c,Updated from global requirements,MERGED,2017-07-27 19:10:39.000000000,2017-08-21 08:30:37.000000000,2017-08-21 08:30:37.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-07-27 19:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f3a1debe68449915f8498d3e967590680ddeb808', 'message': 'Updated from global requirements\n\nChange-Id: I3a1d618e60038f80fbc5cc993790338bd2aeda6c\n'}, {'number': 2, 'created': '2017-08-18 04:41:36.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d5d0b3bbd19cb66e438415f9e17e9f56c6d7452f', 'message': 'Updated from global requirements\n\nChange-Id: I3a1d618e60038f80fbc5cc993790338bd2aeda6c\n'}]",0,488004,d5d0b3bbd19cb66e438415f9e17e9f56c6d7452f,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: I3a1d618e60038f80fbc5cc993790338bd2aeda6c
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/04/488004/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f3a1debe68449915f8498d3e967590680ddeb808,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Ftempest~master~I7114b19716ba59ed72671616e22bcd468e32d55c,openstack/tempest,master,I7114b19716ba59ed72671616e22bcd468e32d55c,[TrivialFix] Remove unused statements in compute tests,MERGED,2017-08-21 03:51:18.000000000,2017-08-21 08:26:28.000000000,2017-08-21 08:26:28.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-08-21 03:51:18.000000000', 'files': ['tempest/api/compute/servers/test_server_metadata.py', 'tempest/api/compute/security_groups/test_security_group_rules.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/15ee1ff6e5d771f7a7ee4b09c70a576ef93f6eb9', 'message': '[TrivialFix] Remove unused statements in compute tests\n\nThis patch removes some unused statements in compute tests to make\ncode clean.\n\nChange-Id: I7114b19716ba59ed72671616e22bcd468e32d55c\n'}]",0,495726,15ee1ff6e5d771f7a7ee4b09c70a576ef93f6eb9,9,3,1,23081,,,0,"[TrivialFix] Remove unused statements in compute tests

This patch removes some unused statements in compute tests to make
code clean.

Change-Id: I7114b19716ba59ed72671616e22bcd468e32d55c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/495726/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_metadata.py', 'tempest/api/compute/security_groups/test_security_group_rules.py']",2,15ee1ff6e5d771f7a7ee4b09c70a576ef93f6eb9,remove_unused_statement, group_id=sg2_id), group_id=sg2_id)['security_group_rule'],3,4
openstack%2Fkolla-ansible~master~Ief1392c5e8becc90034fca782211a1da30da14ae,openstack/kolla-ansible,master,Ief1392c5e8becc90034fca782211a1da30da14ae,Disable grafana Getting Started panel,MERGED,2017-07-21 03:42:25.000000000,2017-08-21 08:26:21.000000000,2017-08-21 08:26:21.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 10453}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 24013}]","[{'number': 1, 'created': '2017-07-21 03:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c474b76556fb354bbcd7a58b19ac15f88eb4040e', 'message': 'Disable grafana Getting Started panel\n\nI think that we do not need this in a production-ready project.\n\nChange-Id: Ief1392c5e8becc90034fca782211a1da30da14ae\n'}, {'number': 2, 'created': '2017-07-24 04:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab9fb56494a35add8dc459b0f774a396ef09eb44', 'message': 'Disable grafana Getting Started panel\n\nI think that we do not need this in a production-ready project.\n\nChange-Id: Ief1392c5e8becc90034fca782211a1da30da14ae\n'}, {'number': 3, 'created': '2017-07-27 07:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3082dc42d2ec6ac3b9e7528ea9e8108019af6c8c', 'message': 'Disable grafana Getting Started panel\n\nI think that we do not need this in a production-ready project.\n\nChange-Id: Ief1392c5e8becc90034fca782211a1da30da14ae\n'}, {'number': 4, 'created': '2017-08-16 08:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5dbefdea1c92ad98b714e32a13f8407cd2dc7d02', 'message': 'Disable grafana Getting Started panel\n\nI think that we do not need this in a production-ready project.\n\nChange-Id: Ief1392c5e8becc90034fca782211a1da30da14ae\n'}, {'number': 5, 'created': '2017-08-16 08:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43f3bcfa8a586cfe28232ab006ad11e1f8675f40', 'message': 'Disable grafana Getting Started panel\n\nI think that we do not need this in a production-ready project.\n\nChange-Id: Ief1392c5e8becc90034fca782211a1da30da14ae\n'}, {'number': 6, 'created': '2017-08-16 09:57:55.000000000', 'files': ['ansible/roles/grafana/tasks/post_config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/deadbdb43ed2944ee2cd23c8bb5d64387de8323d', 'message': 'Disable grafana Getting Started panel\n\nI think that we do not need this in a production-ready project.\n\nChange-Id: Ief1392c5e8becc90034fca782211a1da30da14ae\n'}]",2,485932,deadbdb43ed2944ee2cd23c8bb5d64387de8323d,26,7,6,24013,,,0,"Disable grafana Getting Started panel

I think that we do not need this in a production-ready project.

Change-Id: Ief1392c5e8becc90034fca782211a1da30da14ae
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/485932/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/grafana/tasks/post_config.yml'],1,c474b76556fb354bbcd7a58b19ac15f88eb4040e,," - name: Disable Getting Started panel uri: url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address }}:{{ grafana_server_port }}/api/user/helpflags/1"" method: PUT user: admin password: ""{{ grafana_admin_password }}"" force_basic_auth: yes status_code: 200",,9,0
openstack%2Fcinder~master~Ic76cc4738132f993e805559cff1c40cb055cc26d,openstack/cinder,master,Ic76cc4738132f993e805559cff1c40cb055cc26d,Ibm_storage - fix failover_replication.,MERGED,2017-08-07 14:47:33.000000000,2017-08-21 08:25:53.000000000,2017-08-18 08:01:03.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10213}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13047}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 17565}, {'_account_id': 17947}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20310}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-08-07 14:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/011bbe4c4664b857b1e22887f9aea0bd7e044f3c', 'message': 'Ibm_storage - fix failover_replication.\n\nrunning failover_replication of a group with volumes fails.\nThis happens because we are not switching between the backends\nat the end of the process, and we are not returning the correct\nupdate fot the volume. This patch fixes it.\n\nChange-Id: Ic76cc4738132f993e805559cff1c40cb055cc26d\nCloses-Bug: 1709100\n'}, {'number': 2, 'created': '2017-08-15 14:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c6e71c059af7884f028f27ed876e41f581b8d23', 'message': 'Ibm_storage - fix failover_replication.\n\nrunning failover_replication of a group with volumes fails.\nThis happens because we are not switching between the backends\nat the end of the process, and we are not returning the correct\nupdate fot the volume. This patch fixes it.\n\nChange-Id: Ic76cc4738132f993e805559cff1c40cb055cc26d\nCloses-Bug: 1709100\n'}, {'number': 3, 'created': '2017-08-16 13:01:24.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6addf0ed00ad22a616cc806c90e5d1917661dbbf', 'message': 'Ibm_storage - fix failover_replication.\n\nrunning failover_replication of a group with volumes fails.\nThis happens because we are not switching between the backends\nat the end of the process, and we are not returning the correct\nupdate fot the volume. This patch fixes it.\n\nChange-Id: Ic76cc4738132f993e805559cff1c40cb055cc26d\nCloses-Bug: 1709100\n'}]",0,491509,6addf0ed00ad22a616cc806c90e5d1917661dbbf,108,42,3,17947,,,0,"Ibm_storage - fix failover_replication.

running failover_replication of a group with volumes fails.
This happens because we are not switching between the backends
at the end of the process, and we are not returning the correct
update fot the volume. This patch fixes it.

Change-Id: Ic76cc4738132f993e805559cff1c40cb055cc26d
Closes-Bug: 1709100
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/491509/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_replication.py']",3,011bbe4c4664b857b1e22887f9aea0bd7e044f3c,bug/1709100, if rep_type == 'cg': resource['name'] = self.proxy._cg_name_from_group(resource) return cg_recovery_manager.CGRecoveryManager(, return volume_recovery_manager.CGRecoveryManager(,50,9
openstack%2Ffuxi~stable%2Fpike~Iaefe444f523838ca85d9ce90e1493e991f7c97ff,openstack/fuxi,stable/pike,Iaefe444f523838ca85d9ce90e1493e991f7c97ff,Update .gitreview for stable/pike,MERGED,2017-08-14 16:54:12.000000000,2017-08-21 08:24:11.000000000,2017-08-21 08:24:10.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-08-14 16:54:12.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/fuxi/commit/d6156ba903ec398d2e13f500a592935c81dda775', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: Iaefe444f523838ca85d9ce90e1493e991f7c97ff\n'}]",0,493611,d6156ba903ec398d2e13f500a592935c81dda775,14,6,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: Iaefe444f523838ca85d9ce90e1493e991f7c97ff
",git fetch https://review.opendev.org/openstack/fuxi refs/changes/11/493611/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d6156ba903ec398d2e13f500a592935c81dda775,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fopenstack-ansible-galera_server~master~I1de5d8484f1d2655a97498235fb63341cc088db8,openstack/openstack-ansible-galera_server,master,I1de5d8484f1d2655a97498235fb63341cc088db8,[TEST] Remove mitaka releasenotes index,ABANDONED,2017-08-21 08:13:59.000000000,2017-08-21 08:23:35.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-21 08:13:59.000000000', 'files': ['releasenotes/source/mitaka.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/ae8e8d169592db31bbc91552185f5469f5418fe0', 'message': '[TEST] Remove mitaka releasenotes index\n\nChange-Id: I1de5d8484f1d2655a97498235fb63341cc088db8\n'}]",0,495753,ae8e8d169592db31bbc91552185f5469f5418fe0,3,1,1,6816,,,0,"[TEST] Remove mitaka releasenotes index

Change-Id: I1de5d8484f1d2655a97498235fb63341cc088db8
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/53/495753/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/mitaka.rst'],1,ae8e8d169592db31bbc91552185f5469f5418fe0,reno-pike,,============================= Mitaka Series Release Notes ============================= .. release-notes:: :branch: origin/stable/mitaka ,0,6
openstack%2Fmagnum~master~I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433,openstack/magnum,master,I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433,tests: Use swarm-mode for api tests,MERGED,2017-08-10 06:28:35.000000000,2017-08-21 08:20:18.000000000,2017-08-21 08:20:18.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 8871}, {'_account_id': 9591}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 24604}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-08-10 06:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/05652582ba08718335594979b8205cdae845b327', 'message': ""tests: Use swarm-mode for api tests\n\nSwarm-mode is the fastest cluster to deploy since it doesn't require\nto pull anything from outside.\n\nAdd the output nodes for swarm-mode too.\n\nPartially-Implements: blueprint swarm-mode-support\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 2, 'created': '2017-08-10 06:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7eb5fea27a99e105b0bf4cc8159d86a30b0760c9', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n\nPartially-Implements: blueprint swarm-mode-support\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 3, 'created': '2017-08-10 14:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cd4b4d212636dfd1c071f371c8e0fb94355643b1', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n\nPartially-Implements: blueprint swarm-mode-support\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 4, 'created': '2017-08-10 16:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cd1193a8c65dbc6c2b004b9f9296c543f2725620', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 5, 'created': '2017-08-10 20:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/371674c5448202f9795d963a96f253548c9b316a', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 6, 'created': '2017-08-11 19:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/51e047ad17e9b06af0509b5563c14075a1c87e67', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Use latest stable Fedora-Atomic-25 from the openstack mirrors\n\nPartially-Implements: blueprint swarm-mode-support\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 7, 'created': '2017-08-13 05:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc6e376ecd110163030a82bf3d87a37cb4050d75', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1] https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 8, 'created': '2017-08-13 05:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9ba9c68f493376fe41d14056fc2d13250eaf3ef9', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 9, 'created': '2017-08-14 14:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e74b4f9d54478f9b646200171f1881e7a8200100', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 10, 'created': '2017-08-14 16:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0b0fc83dc607d40ab6291f45bb2439c90d1a2128', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 11, 'created': '2017-08-15 09:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9fa60447e4ec6fb953d5ea28e822e9def65b0bc0', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 12, 'created': '2017-08-15 10:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/503338931677d3db4a700e7ced1f47694eb97745', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 13, 'created': '2017-08-15 11:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/64c1451973254266e316639fca9dbad8d277041f', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 14, 'created': '2017-08-15 12:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e3a7967e7b764b17ebd175078160c70e303b867e', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 15, 'created': '2017-08-16 09:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/16aaad6a65d46ff2c736a529bde491cf10dbcb66', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 16, 'created': '2017-08-16 12:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fef7e6d469573c60a9b369323ceba556a7c94bc0', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 17, 'created': '2017-08-16 12:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/918d329b2ad5b8072d215cabd14dbc0cb1eb5f49', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}, {'number': 18, 'created': '2017-08-21 05:30:09.000000000', 'files': ['doc/source/user/index.rst', 'magnum/tests/functional/api/v1/test_cluster_template.py', 'magnum/tests/functional/common/datagen.py', 'magnum/tests/functional/api/v1/test_baymodel.py', 'devstack/plugin.sh', 'magnum/tests/contrib/post_test_hook.sh', 'magnum/drivers/common/templates/kubernetes/fragments/network-service.sh', 'magnum/drivers/common/templates/swarm/fragments/network-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/contrib/gate_hook.sh', 'install-guide/source/launch-instance.rst', 'magnum/tests/functional/api/v1/test_cluster.py', 'magnum/tests/functional/python_client_base.py', 'magnum/tests/functional/api/v1/test_bay.py', 'magnum/tests/functional/api/v1/test_baymodel_admin.py', 'magnum/tests/functional/api/v1/test_cluster_template_admin.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4fb91cc109a9e636abb309e614341f25bf26c7b8', 'message': ""tests: Use swarm-mode for api tests\n\n* Swarm-mode is the fastest cluster to deploy since it doesn't\n  require to pull anything from outside.\n* Add the output nodes for swarm-mode too.\n* Disable copy logs (I think a better practice is to copy logs\n  on demand).\n* Don't run test_create_list_sign_delete_clusters, because it is\n  very unstable on the CI.\n\nPartially-Implements: blueprint swarm-mode-support\n\n2nd commit message:\n\nUpdate to Fedora Atomic 26\n\nThis patch moves the current master to test against Fedora Atomic 26,\nin addition, it switches to downloading from Fedora mirrors.\n\n2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1\n\n3rd commit message:\n\nSet default iptables FORWARD policy to ACCEPT\n\nWith the release of Docker 1.13 which is available in Fedora\nAtomic 26, it no longer sets the policy of the FORWARD chain\nto ACCEPT[1].  Therefore, CNI networking such as Flannel will\ncease to work.\n\nThis patch sets the policy to ACCEPT so that traffic can work\nonce again for deployments which are based on Docker versions\nwhich are newer than 1.13\n\n[1]: https://github.com/moby/moby/pull/28257\n\n3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7\nCloses-Bug: #1708454\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433\n""}]",1,492390,4fb91cc109a9e636abb309e614341f25bf26c7b8,82,9,18,20498,,,0,"tests: Use swarm-mode for api tests

* Swarm-mode is the fastest cluster to deploy since it doesn't
  require to pull anything from outside.
* Add the output nodes for swarm-mode too.
* Disable copy logs (I think a better practice is to copy logs
  on demand).
* Don't run test_create_list_sign_delete_clusters, because it is
  very unstable on the CI.

Partially-Implements: blueprint swarm-mode-support

2nd commit message:

Update to Fedora Atomic 26

This patch moves the current master to test against Fedora Atomic 26,
in addition, it switches to downloading from Fedora mirrors.

2nd-Change-Id: I9a97c0eb78b2c9d10e8be1501babb19e73ee70c1

3rd commit message:

Set default iptables FORWARD policy to ACCEPT

With the release of Docker 1.13 which is available in Fedora
Atomic 26, it no longer sets the policy of the FORWARD chain
to ACCEPT[1].  Therefore, CNI networking such as Flannel will
cease to work.

This patch sets the policy to ACCEPT so that traffic can work
once again for deployments which are based on Docker versions
which are newer than 1.13

[1]: https://github.com/moby/moby/pull/28257

3rd-Change-Id: I1457602748619f38f87542fc01a2996ee80e58b7
Closes-Bug: #1708454

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I86d4dcc94fff622be4ee2acc8dd60ed81bc5d433
",git fetch https://review.opendev.org/openstack/magnum refs/changes/90/492390/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/functional/api/v1/test_cluster_template.py', 'magnum/tests/functional/api/v1/test_cluster.py', 'magnum/tests/functional/python_client_base.py', 'magnum/tests/functional/common/datagen.py', 'magnum/tests/functional/api/v1/test_bay.py', 'magnum/tests/functional/api/v1/test_baymodel.py', 'magnum/tests/functional/api/v1/test_baymodel_admin.py', 'magnum/tests/functional/api/v1/test_cluster_template_admin.py']",8,05652582ba08718335594979b8205cdae845b327,bug/1708454, gen_model = datagen.valid_swarm_mode_cluster_template(is_public=True), gen_model = datagen.valid_swarm_cluster_template(is_public=True),19,13
openstack%2Fkolla-ansible~master~I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf,openstack/kolla-ansible,master,I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf,Skydive: allow access to netns for skydive agents,MERGED,2017-08-04 15:58:33.000000000,2017-08-21 08:19:50.000000000,2017-08-21 08:19:50.000000000,"[{'_account_id': 3}, {'_account_id': 2888}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 25945}]","[{'number': 1, 'created': '2017-08-04 15:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b1be5198aed5b58798896d32f65c6352ab694a4', 'message': 'Skydive: allow access to netns for skydive agents\n\nThis access is now mandatory for skydive.\nIt allows to add netns info to the topology, and to\nattach interfaces to their netns if needed.\n\nChange-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf\n'}, {'number': 2, 'created': '2017-08-07 09:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87bd2ca9cc53a6d588d7fbdbb0c8d2092bb6093a', 'message': 'Skydive: allow access to netns for skydive agents\n\nThis access is now mandatory for skydive.\nIt allows to add netns info to the topology, and to\nattach interfaces to their netns if needed.\n\nChange-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf\n'}, {'number': 3, 'created': '2017-08-14 08:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d0872f9964223bd691c66a4b6d6140c92ca177da', 'message': 'Skydive: allow access to netns for skydive agents\n\nThis access is now mandatory for skydive.\nIt allows to add netns info to the topology, and to\nattach interfaces to their netns if needed.\n\nChange-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf\n'}, {'number': 4, 'created': '2017-08-14 13:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/163cf35ab849c5dc7bdfedf944c70f9c631d7b06', 'message': 'Skydive: allow access to netns for skydive agents\n\nThis access is now mandatory for skydive.\nIt allows to add netns info to the topology, and to\nattach interfaces to their netns if needed.\n\nCloses-Bug: #1710627\nChange-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf\n'}, {'number': 5, 'created': '2017-08-17 20:02:37.000000000', 'files': ['ansible/roles/skydive/tasks/config.yml', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/skydive/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dff4c6b328d165bf8c18b57965b90467669c6aa5', 'message': 'Skydive: allow access to netns for skydive agents\n\nThis access is now mandatory for skydive.\nIt allows to add netns info to the topology, and to\nattach interfaces to their netns if needed.\n\nCloses-Bug: #1710627\nChange-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf\n'}]",8,490957,dff4c6b328d165bf8c18b57965b90467669c6aa5,26,5,5,2888,,,0,"Skydive: allow access to netns for skydive agents

This access is now mandatory for skydive.
It allows to add netns info to the topology, and to
attach interfaces to their netns if needed.

Closes-Bug: #1710627
Change-Id: I41cc1fd0fdeae0757a2c4e3e310ec6375da0b8cf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/490957/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/skydive/defaults/main.yml', 'ansible/roles/skydive/handlers/main.yml']",2,9b1be5198aed5b58798896d32f65c6352ab694a4,bug/1710627," privileged: ""{{ service.privileged }}""",,3,0
openstack%2Fkolla-ansible~master~I474c4d20c407717c6da973383bbbd5539be480f1,openstack/kolla-ansible,master,I474c4d20c407717c6da973383bbbd5539be480f1,Update fluentd config for rpm distros,MERGED,2017-07-11 11:55:24.000000000,2017-08-21 08:11:45.000000000,2017-08-21 08:11:45.000000000,"[{'_account_id': 3}, {'_account_id': 5241}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22954}, {'_account_id': 23717}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-07-11 11:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cadcf85623426d3eb6693ffc3b2e9ebddc45fb4', 'message': 'Test fluentd kolla change\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 2, 'created': '2017-07-11 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f2dc290349913881651e963a3e07f44832cee93', 'message': 'Test fluentd kolla change\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 3, 'created': '2017-07-11 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e90fc1d046576397c65cc5755d5bb8acedd243c8', 'message': 'Test fluentd kolla change\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 4, 'created': '2017-07-13 08:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/798c98c70d64ded284de6215cb3b8c7eccb3dd06', 'message': 'Test fluentd kolla change\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 5, 'created': '2017-07-13 11:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c461b84cd86a079a74a4db7a41e76ecb33e718b1', 'message': 'Test fluentd kolla change\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 6, 'created': '2017-07-20 10:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dea3bce4cbdd40d360c9ca2e19bc23b91784d6e', 'message': 'Test fluentd kolla change\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 7, 'created': '2017-07-25 15:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1bd4d6dc2fe30cbb74a38b367eae135dd7770e29', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 8, 'created': '2017-07-27 08:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77ef6f52eaa6f269636ac1ff222bf53d2e69f78b', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 9, 'created': '2017-07-27 12:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5460f820b129767099bde808f7b30b9df6619fc3', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 10, 'created': '2017-08-01 13:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c45605ec78559f695ca01bfb1821bf8b8f31a4af', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 11, 'created': '2017-08-09 12:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/877f722aebb83451210029737b916a8ba375c511', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 12, 'created': '2017-08-09 12:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce43c6171c7dead1091d47a2079184b6ac3a1c4e', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I441c742251754db27374331f774041c214678eba\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 13, 'created': '2017-08-21 05:42:56.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d5bd219762a218d609d6a7161d717e61b37d789', 'message': 'Update fluentd config for rpm distros\n\nFluentd repo/packages are changed in depends changes below.\nRpm distros need changes in their config for properly\nstart and deploy fluentd containers.\n\nChange-Id: I474c4d20c407717c6da973383bbbd5539be480f1\nDepends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}]",8,482528,1d5bd219762a218d609d6a7161d717e61b37d789,98,9,13,19316,,,0,"Update fluentd config for rpm distros

Fluentd repo/packages are changed in depends changes below.
Rpm distros need changes in their config for properly
start and deploy fluentd containers.

Change-Id: I474c4d20c407717c6da973383bbbd5539be480f1
Depends-On: I4802618373cfa53d67d1dfe65be7abe1950b3d04
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/482528/13 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2']",4,5cadcf85623426d3eb6693ffc3b2e9ebddc45fb4,test-fluentd,"{% set fluentd_dir = 'td-agent' if kolla_base_distro in ['ubuntu', 'debian'] else 'fluentd' %} pos_file /var/run/{{ fluentd_dir }}/kolla.pos", pos_file /var/run/td-agent/kolla.pos,37,30
openstack%2Fkolla-ansible~master~Ic3b994056e6287488a0a9f7dbeb140c007ad86d3,openstack/kolla-ansible,master,Ic3b994056e6287488a0a9f7dbeb140c007ad86d3,Add panko log in fluentd,MERGED,2017-08-02 03:31:56.000000000,2017-08-21 08:06:53.000000000,2017-08-21 08:06:53.000000000,"[{'_account_id': 3}, {'_account_id': 19316}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-08-02 03:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/614a5229a7821f5073d795a1db53a94300ef6c6f', 'message': 'Add panko log in fluentd\n\nChange-Id: Ic3b994056e6287488a0a9f7dbeb140c007ad86d3\n'}, {'number': 2, 'created': '2017-08-16 08:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b15368764aefa2a6ef3d835ade05880ecd2a60d', 'message': 'Add panko log in fluentd\n\nChange-Id: Ic3b994056e6287488a0a9f7dbeb140c007ad86d3\n'}, {'number': 3, 'created': '2017-08-20 09:11:52.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46b1b91607f35135d344d668cb77321b359e9cac', 'message': 'Add panko log in fluentd\n\nChange-Id: Ic3b994056e6287488a0a9f7dbeb140c007ad86d3\n'}]",2,489845,46b1b91607f35135d344d668cb77321b359e9cac,16,3,3,11869,,,0,"Add panko log in fluentd

Change-Id: Ic3b994056e6287488a0a9f7dbeb140c007ad86d3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/489845/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2']",2,614a5229a7821f5073d795a1db53a94300ef6c6f,a5,{% if service_name == 'panko-api' %} # Force panko-api.log or will use app.wsgi log_file = /var/log/kolla/panko/panko-api.log {% endif % ,,8,1
openstack%2Foslo.db~master~If76115f706e9e100a1780471af0f9c5d92d3bc9f,openstack/oslo.db,master,If76115f706e9e100a1780471af0f9c5d92d3bc9f,Replace six.iteritems() with .items(),MERGED,2017-07-19 06:15:44.000000000,2017-08-21 08:02:19.000000000,2017-08-21 08:02:19.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-07-19 06:15:44.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3ef34da36ccfe34ed0d2d572d2aa6b6a515b18a2', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve iterators.\nWe can use dict.items instead, as it will return iterators in PY3 as well.\nAnd dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the link [2].\n\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: If76115f706e9e100a1780471af0f9c5d92d3bc9f\n'}]",0,485055,3ef34da36ccfe34ed0d2d572d2aa6b6a515b18a2,7,3,1,25388,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve iterators.
We can use dict.items instead, as it will return iterators in PY3 as well.
And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the link [2].

[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: If76115f706e9e100a1780471af0f9c5d92d3bc9f
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/55/485055/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/sqlalchemy/models.py']",2,3ef34da36ccfe34ed0d2d572d2aa6b6a515b18a2,modify_six," for k, v in values.items(): joined = dict([(k, v) for k, v in self.__dict__.items() return self._as_dict().items()"," for k, v in six.iteritems(values): joined = dict([(k, v) for k, v in six.iteritems(self.__dict__) return six.iteritems(self._as_dict())",4,5
openstack%2Fproject-config~master~I076a8b392cc1a83a0a9eb859689752283c7e695e,openstack/project-config,master,I076a8b392cc1a83a0a9eb859689752283c7e695e,Add networking-sfc to Dragonflow's tempest job,MERGED,2017-08-15 16:47:12.000000000,2017-08-21 07:56:30.000000000,2017-08-21 07:56:30.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-08-15 16:47:12.000000000', 'files': ['jenkins/jobs/dragonflow.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/66652a8aa43c2d9928a77865675c72cbf51354c5', 'message': ""Add networking-sfc to Dragonflow's tempest job\n\nChange-Id: I076a8b392cc1a83a0a9eb859689752283c7e695e\n""}]",0,493950,66652a8aa43c2d9928a77865675c72cbf51354c5,9,5,1,23766,,,0,"Add networking-sfc to Dragonflow's tempest job

Change-Id: I076a8b392cc1a83a0a9eb859689752283c7e695e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/493950/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/dragonflow.yaml'],1,66652a8aa43c2d9928a77865675c72cbf51354c5,," # Add bgp project to tempest gate job. # Add networking-sfc enable_plugin networking-sfc git://git.openstack.org/openstack/networking-sfc export PROJECTS=""openstack/networking-sfc $PROJECTS""", # Add bgp project to fullstack gate job.,4,1
openstack%2Fproject-config~master~I72c4e061ec6807883dbf7a187c40263bf7244fab,openstack/project-config,master,I72c4e061ec6807883dbf7a187c40263bf7244fab,Split COE scenarios: 1 for each COE,MERGED,2017-08-16 16:58:41.000000000,2017-08-21 07:54:40.000000000,2017-08-21 07:54:40.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-16 16:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5c92ffe22a83cff5de49aef9af66aa6ca3f31aaf', 'message': ""Split COE scenarios: 1 for each COE\n\nInstead of hacking 1 scenario for all the supported COEs, we'll have a\nscenario per COE to be able to have more specific configurations.\n\nChange-Id: I72c4e061ec6807883dbf7a187c40263bf7244fab\n""}, {'number': 2, 'created': '2017-08-17 07:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/540f55c3648943af36b7a3dab69c1f1e1ef8bdcc', 'message': ""Split COE scenarios: 1 for each COE\n\nInstead of hacking 1 scenario for all the supported COEs, we'll have a\nscenario per COE to be able to have more specific configurations.\n\nChange-Id: I72c4e061ec6807883dbf7a187c40263bf7244fab\n""}, {'number': 3, 'created': '2017-08-17 10:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9759406e00c01283aabcfb4ee92a68b1155f22b8', 'message': ""Split COE scenarios: 1 for each COE\n\nInstead of hacking 1 scenario for all the supported COEs, we'll have a\nscenario per COE to be able to have more specific configurations.\n\nChange-Id: I72c4e061ec6807883dbf7a187c40263bf7244fab\n""}, {'number': 4, 'created': '2017-08-18 09:44:54.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/64a25fa8fbfbe4e04da21603ec882f6448372a8f', 'message': ""Split COE scenarios: 1 for each COE\n\nInstead of hacking 1 scenario for all the supported COEs, we'll have a\nscenario per COE to be able to have more specific configurations.\n\nChange-Id: I72c4e061ec6807883dbf7a187c40263bf7244fab\n""}]",1,494272,64a25fa8fbfbe4e04da21603ec882f6448372a8f,23,6,4,6159,,,0,"Split COE scenarios: 1 for each COE

Instead of hacking 1 scenario for all the supported COEs, we'll have a
scenario per COE to be able to have more specific configurations.

Change-Id: I72c4e061ec6807883dbf7a187c40263bf7244fab
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/494272/4 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,5c92ffe22a83cff5de49aef9af66aa6ca3f31aaf,split-coe, - gate-tripleo-ci-centos-7-scenario009-multinode-oooq-nv - ^coe/kubernetes.*$ - name: ^gate-tripleo-ci-centos-7-scenario009-multinode(-oooq)?(-nv)?$ branch: ^(?!stable/(newton|ocata)).*$ files: - ^coe/openshift.*$ - ^environments/openshift.*$ - ci/environments/scenario009-multinode.yaml - ci/pingtests/scenario009-multinode.yaml - config/general_config/featureset032.yml, - ^coe/.*$ - ^environments/openshift.*$,18,2
openstack%2Fneutron-fwaas~master~I6f4c65b26576d6057bc5db5a9a540768cc78d3fa,openstack/neutron-fwaas,master,I6f4c65b26576d6057bc5db5a9a540768cc78d3fa,Use neutron-lib definition of neutron-fwaas API,ABANDONED,2017-01-17 19:50:43.000000000,2017-08-21 07:41:14.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 13995}, {'_account_id': 15905}, {'_account_id': 17177}, {'_account_id': 17776}, {'_account_id': 23858}]","[{'number': 1, 'created': '2017-01-17 19:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2682da5357a3da56bc304647a1226daf36c94a99', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 2, 'created': '2017-01-27 01:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/db446ee12bd60fe6ef5253aaf09374becac9787a', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 3, 'created': '2017-02-10 15:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ec53e6c52c2d65897b27c5c1b5fb6f2b5d6c68c9', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 4, 'created': '2017-02-16 09:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e1d15602340e6667416503ddbbb17d43be494704', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\nCo-Authored-By: Reedip Banerjee <reedip.banerjee@nectechnologies.in>\n'}, {'number': 5, 'created': '2017-02-16 09:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6131fc0762a9f9adcdf9946a22620367799f885e', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\nCo-Authored-By: Reedip Banerjee <reedip.banerjee@nectechnologies.in>\nDepends-On: I1698da11d1196a94eb02e332c26e2bd013adbb58\n'}, {'number': 6, 'created': '2017-02-16 09:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2004b325c4ddaa7c27a3b5c8324dba997a59bc8d', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\nDepends-On: I1698da11d1196a94eb02e332c26e2bd013adbb58\n'}, {'number': 7, 'created': '2017-02-17 08:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f2685a4f5cfd591633bd922ab999b140b92c5e63', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 8, 'created': '2017-02-17 09:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/05725cecdfd433eec711138c55d12c69be11548a', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 9, 'created': '2017-02-27 18:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/855274a15b54c51aaf696caaa8a19b63ceb88894', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 10, 'created': '2017-03-01 18:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/56dfc8a0af16ca656daea9aa52892f6c93a18454', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 11, 'created': '2017-03-02 11:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f541762a06afe6f08f43f517138a0a8e9ac06162', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 12, 'created': '2017-03-03 02:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6e21ea1a12b895865af5f33229db1e06ba2cb28b', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 13, 'created': '2017-03-06 12:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/84356a18cbe026fd36939b224096c7dd2f86028e', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 14, 'created': '2017-03-06 15:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a33fd3a58329f414633749d95c4a1f9518a69387', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 15, 'created': '2017-03-07 07:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0566c3f67d1ec7fd7de212463ea858fa35d313f0', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 16, 'created': '2017-03-07 08:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/66e9661cdda5189ea5a158eca1ebb1d9d58d3034', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 17, 'created': '2017-03-07 08:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7e3062d48a80a3e87b52a0bd5c37f852504864ad', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 18, 'created': '2017-03-15 11:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e11f0e1b08e20959ca6efd3f75d11161acfb600e', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nDepends-On: I1698da11d1196a94eb02e332c26e2bd013adbb58\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 19, 'created': '2017-03-30 04:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/01d154f7ae1d1471c4a5c8f344e62449d3b7081f', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nDepends-On: I1698da11d1196a94eb02e332c26e2bd013adbb58\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 20, 'created': '2017-04-01 05:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/78fff5ad68822d30e99f1f2be3bf19fd1c07397c', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nDepends-On: I1698da11d1196a94eb02e332c26e2bd013adbb58\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 21, 'created': '2017-04-01 05:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/728e3b642608d3552c56b41bfcd051a133804b79', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 22, 'created': '2017-04-04 06:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4c56d569db15c5fa640e9e6ee87979f2b15026b4', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 23, 'created': '2017-04-04 09:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2312a982774ccf1549505eedcf925d9aeba8c2a5', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 24, 'created': '2017-04-04 09:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/98904f893d86c91167620998e5085c050ca0b05c', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 25, 'created': '2017-04-04 11:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/dd80e95f72d0d6c8add08fe7f707fd74ef430d7e', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 26, 'created': '2017-04-04 13:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/86e9047d90c16dabf956db680e1068c0bb1ad9d4', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 27, 'created': '2017-04-10 11:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1ea4885dd7d3e0eb35aa29cceec28776efcfee10', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6f4c65b26576d6057bc5db5a9a540768cc78d3fa\n'}, {'number': 28, 'created': '2017-04-12 02:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f78055525c7da89b5568b94102f4b8421a6d9949', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6faf26d263788d21da078e570487ee4876d04efd\n'}, {'number': 29, 'created': '2017-04-12 02:28:11.000000000', 'files': ['neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/tests/unit/db/firewall/test_firewall_db.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/tests/unit/extensions/__init__.py', 'neutron_fwaas/extensions/firewallrouterinsertion.py', 'neutron_fwaas/tests/unit/extensions/test_firewall_v2.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/common/fwaas_constants.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/extensions/firewall.py', 'neutron_fwaas/services/firewall/agents/l3reference/firewall_l3_agent.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py', 'neutron_fwaas/db/firewall/firewall_router_insertion_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fb09c76bc366ffd7dcbacfa94d3cee2118677a52', 'message': 'Use neutron-lib definition of neutron-fwaas API\n\nAs a part of the neutron stadium, the neutron-fwaas project should shift\nto use the neutron-fwaas API definitions in neutron-lib.  This makes\nthat change happen.\n\nCo-Authored-By: Reedip <reedip14@gmail.com>\nChange-Id: I6faf26d263788d21da078e570487ee4876d04efd\n'}]",14,421472,fb09c76bc366ffd7dcbacfa94d3cee2118677a52,70,10,29,13995,,,0,"Use neutron-lib definition of neutron-fwaas API

As a part of the neutron stadium, the neutron-fwaas project should shift
to use the neutron-fwaas API definitions in neutron-lib.  This makes
that change happen.

Co-Authored-By: Reedip <reedip14@gmail.com>
Change-Id: I6faf26d263788d21da078e570487ee4876d04efd
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/72/421472/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/extensions/__init__.py', 'neutron_fwaas/tests/unit/extensions/test_firewall.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/tests/unit/extensions/__init__.py', 'neutron_fwaas/extensions/firewallrouterinsertion.py', 'neutron_fwaas/tests/unit/extensions/test_firewall_v2.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/extensions/firewall.py', 'neutron_fwaas/services/firewall/agents/l3reference/firewall_l3_agent.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py', 'neutron_fwaas/db/firewall/firewall_router_insertion_db.py']",17,2682da5357a3da56bc304647a1226daf36c94a99,fwaas-lib,from neutron_lib.api.definitions import firewallrouterinsertion as fwrtrins,from neutron_fwaas.extensions import firewallrouterinsertion as fwrtrins ,17,2124
openstack%2Fopenstack-ansible-os_keystone~stable%2Fpike~I8f838ecce118cb36081b98f483ddef465ddbae3f,openstack/openstack-ansible-os_keystone,stable/pike,I8f838ecce118cb36081b98f483ddef465ddbae3f,Add extra headers for Keystone,MERGED,2017-08-18 14:47:22.000000000,2017-08-21 07:38:20.000000000,2017-08-21 07:38:20.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-08-18 14:47:22.000000000', 'files': ['releasenotes/notes/extra-headers-e54a672d3a78dd89.yaml', 'templates/keystone_nginx.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8fd7b162fc83ac4f4391b8406c802a38d74f7a9a', 'message': 'Add extra headers for Keystone\n\nThis patch allows deployers to add arbitrary headers to Keystone\nresponses. This can be handy for CORS or for passing certain\nheaders through nginx to the requester.\n\nCloses-Bug: 1695827\nChange-Id: I8f838ecce118cb36081b98f483ddef465ddbae3f\n(cherry picked from commit 08f879649b3b0e58ae218580eee0261521050b4e)\n'}]",0,495330,8fd7b162fc83ac4f4391b8406c802a38d74f7a9a,10,3,1,538,,,0,"Add extra headers for Keystone

This patch allows deployers to add arbitrary headers to Keystone
responses. This can be handy for CORS or for passing certain
headers through nginx to the requester.

Closes-Bug: 1695827
Change-Id: I8f838ecce118cb36081b98f483ddef465ddbae3f
(cherry picked from commit 08f879649b3b0e58ae218580eee0261521050b4e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/30/495330/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/extra-headers-e54a672d3a78dd89.yaml', 'templates/keystone_nginx.conf.j2', 'defaults/main.yml']",3,8fd7b162fc83ac4f4391b8406c802a38d74f7a9a,bug/1695827," ## Extra HTTP headers for Keystone # Add any additional headers here that Keystone should return. # # Example: # # keystone_extra_headers: # - parameter: ""Access-Control-Expose-Headers"" # value: ""X-Subject-Token"" # - parameter: ""Access-Control-Allow-Headers"" # value: ""Content-Type, X-Auth-Token"" # - parameter: ""Access-Control-Allow-Origin"" # value: ""*"" keystone_extra_headers: []",,32,0
openstack%2Fpython-muranoclient~master~Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf,openstack/python-muranoclient,master,Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf,Updated from global requirements,MERGED,2017-08-18 11:41:51.000000000,2017-08-21 07:37:35.000000000,2017-08-21 07:37:35.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-18 11:41:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/8cff957d517c1f1f85b7cc449c0cd77eeb88968b', 'message': 'Updated from global requirements\n\nChange-Id: Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf\n'}]",0,495267,8cff957d517c1f1f85b7cc449c0cd77eeb88968b,9,5,1,11131,,,0,"Updated from global requirements

Change-Id: Ib68c1dbcf2119aee1c4ea9562e6f89883139e5bf
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/67/495267/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8cff957d517c1f1f85b7cc449c0cd77eeb88968b,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fnova~stable%2Fnewton~Ib90bc7571aef59325be0efe123fcf12e86252b85,openstack/nova,stable/newton,Ib90bc7571aef59325be0efe123fcf12e86252b85,Parse algorithm from cipher for ephemeral disk encryption,MERGED,2017-05-19 06:13:24.000000000,2017-08-21 07:34:54.000000000,2017-08-21 07:34:54.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 6873}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 15022}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-05-19 06:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e68e75a1f5e88b3a0c6da161113472717cca82dd', 'message': ""Parse algorithm from cipher for ephemeral disk encryption\n\nNova's keymgr implementation used to have default values\nfor the algorithm and bit length.  Castellan does not have\ndefault values, and when Castellan replaced keymgr in\nIb563b0ea4b8b4bc1833bf52bf49a68546c384996, the parameters\nto the create_key method were not updated. This change\nparses the algorithm from the cipher value and passes it\nto Castellan's key manager interface.\n\nCloses-Bug: #1651887\nChange-Id: Ib90bc7571aef59325be0efe123fcf12e86252b85\n""}, {'number': 2, 'created': '2017-05-25 23:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bee379b90f4097ab8e2654b69cf4c56e56c0c140', 'message': ""Parse algorithm from cipher for ephemeral disk encryption\n\nNova's keymgr implementation used to have default values\nfor the algorithm and bit length.  Castellan does not have\ndefault values, and when Castellan replaced keymgr in\nIb563b0ea4b8b4bc1833bf52bf49a68546c384996, the parameters\nto the create_key method were not updated. This change\nparses the algorithm from the cipher value and passes it\nto Castellan's key manager interface.\n\nConflicts:\n      nova/conf/ephemeral_storage.py\n\nNOTE(mriedem): The conflicts are due to not having\nIc8ea9b0852d5b6f5d8a468fe0a03d21e220a8913 in newton, which\nwas a refactor/cleanup change in ocata. It's just preserved\nhere for readability.\n\nCloses-Bug: #1651887\nChange-Id: Ib90bc7571aef59325be0efe123fcf12e86252b85\n(cherry picked from commit 1d3acad111c5106592b0921628480fcf41e0fb4c)\n(cherry picked from commit fcc931f4017ab4bb830ff645431edaa8a18bf880)\n""}, {'number': 3, 'created': '2017-07-06 20:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99123647fc13b409686fb4fc406e73ce801a2bcd', 'message': ""Parse algorithm from cipher for ephemeral disk encryption\n\nNova's keymgr implementation used to have default values\nfor the algorithm and bit length.  Castellan does not have\ndefault values, and when Castellan replaced keymgr in\nIb563b0ea4b8b4bc1833bf52bf49a68546c384996, the parameters\nto the create_key method were not updated. This change\nparses the algorithm from the cipher value and passes it\nto Castellan's key manager interface.\n\nConflicts:\n      nova/conf/ephemeral_storage.py\n\nNOTE(mriedem): The conflicts are due to not having\nIc8ea9b0852d5b6f5d8a468fe0a03d21e220a8913 in newton, which\nwas a refactor/cleanup change in ocata. It's just preserved\nhere for readability.\n\nCloses-Bug: #1651887\nChange-Id: Ib90bc7571aef59325be0efe123fcf12e86252b85\n(cherry picked from commit 1d3acad111c5106592b0921628480fcf41e0fb4c)\n(cherry picked from commit fcc931f4017ab4bb830ff645431edaa8a18bf880)\n""}, {'number': 4, 'created': '2017-08-11 17:51:49.000000000', 'files': ['nova/conf/ephemeral_storage.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c589b76e13f54f8c0d753b1d2c4d4c2ef3399359', 'message': ""Parse algorithm from cipher for ephemeral disk encryption\n\nNova's keymgr implementation used to have default values\nfor the algorithm and bit length.  Castellan does not have\ndefault values, and when Castellan replaced keymgr in\nIb563b0ea4b8b4bc1833bf52bf49a68546c384996, the parameters\nto the create_key method were not updated. This change\nparses the algorithm from the cipher value and passes it\nto Castellan's key manager interface.\n\nConflicts:\n      nova/conf/ephemeral_storage.py\n\nNOTE(mriedem): The conflicts are due to not having\nIc8ea9b0852d5b6f5d8a468fe0a03d21e220a8913 in newton, which\nwas a refactor/cleanup change in ocata. It's just preserved\nhere for readability.\n\nCloses-Bug: #1651887\nChange-Id: Ib90bc7571aef59325be0efe123fcf12e86252b85\n(cherry picked from commit 1d3acad111c5106592b0921628480fcf41e0fb4c)\n(cherry picked from commit fcc931f4017ab4bb830ff645431edaa8a18bf880)\n""}]",1,466196,c589b76e13f54f8c0d753b1d2c4d4c2ef3399359,85,15,4,1916,,,0,"Parse algorithm from cipher for ephemeral disk encryption

Nova's keymgr implementation used to have default values
for the algorithm and bit length.  Castellan does not have
default values, and when Castellan replaced keymgr in
Ib563b0ea4b8b4bc1833bf52bf49a68546c384996, the parameters
to the create_key method were not updated. This change
parses the algorithm from the cipher value and passes it
to Castellan's key manager interface.

Conflicts:
      nova/conf/ephemeral_storage.py

NOTE(mriedem): The conflicts are due to not having
Ic8ea9b0852d5b6f5d8a468fe0a03d21e220a8913 in newton, which
was a refactor/cleanup change in ocata. It's just preserved
here for readability.

Closes-Bug: #1651887
Change-Id: Ib90bc7571aef59325be0efe123fcf12e86252b85
(cherry picked from commit 1d3acad111c5106592b0921628480fcf41e0fb4c)
(cherry picked from commit fcc931f4017ab4bb830ff645431edaa8a18bf880)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/466196/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/ephemeral_storage.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",3,e68e75a1f5e88b3a0c6da161113472717cca82dd,bug/1651887," # NOTE(kfarr): dm-crypt expects the cipher in a # hyphenated format: cipher-chainmode-ivmode # (ex: aes-xts-plain64). The algorithm needs # to be parsed out to pass to the key manager (ex: aes). cipher = CONF.ephemeral_storage_encryption.cipher algorithm = cipher.split('-')[0] if cipher else None algorithm=algorithm,",,43,3
openstack%2Fproject-config~master~I3dc64a27b0ae8f7408c11f8486f43381054b20ed,openstack/project-config,master,I3dc64a27b0ae8f7408c11f8486f43381054b20ed,Add splitted multinode job to watcher-tempest-plugin,MERGED,2017-08-18 12:27:43.000000000,2017-08-21 07:33:06.000000000,2017-08-21 07:33:06.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-18 12:27:43.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9d07cbe6c61c0649cd498964b68fa1be24c425e', 'message': 'Add splitted multinode job to watcher-tempest-plugin\n\nSince splitted job for watcher-tempest-plugin now works good\non watcher side[1], this job can be added to watcher-tempest-plugin.\n\n[1]: http://logs.openstack.org/72/494472/1/check/gate-watcher-dsvm-multinode-split-ubuntu-xenial-nv/770f3ba/console.html#_2017-08-18_11_45_00_735077\n\nChange-Id: I3dc64a27b0ae8f7408c11f8486f43381054b20ed\n'}]",0,495289,a9d07cbe6c61c0649cd498964b68fa1be24c425e,7,3,1,19055,,,0,"Add splitted multinode job to watcher-tempest-plugin

Since splitted job for watcher-tempest-plugin now works good
on watcher side[1], this job can be added to watcher-tempest-plugin.

[1]: http://logs.openstack.org/72/494472/1/check/gate-watcher-dsvm-multinode-split-ubuntu-xenial-nv/770f3ba/console.html#_2017-08-18_11_45_00_735077

Change-Id: I3dc64a27b0ae8f7408c11f8486f43381054b20ed
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/495289/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,a9d07cbe6c61c0649cd498964b68fa1be24c425e,goal-split-tempest-plugins, - gate-watcher-dsvm-multinode-split-ubuntu-xenial-nv,,1,0
openstack%2Fproject-config~master~I92f04326c91f3b93c5589bfd4702e8f33ee77ee6,openstack/project-config,master,I92f04326c91f3b93c5589bfd4702e8f33ee77ee6,Fix layout for tripleo scenario007,MERGED,2017-08-19 07:16:20.000000000,2017-08-21 07:29:19.000000000,2017-08-21 07:29:19.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-19 07:16:20.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dc1c0a32327706f27310589aca6198df64a957f9', 'message': ""Fix layout for tripleo scenario007\n\nIt fix the regex to find jobs for scenario007 and run the right ones\ndepending on which files we're trying to modify.\n\nChange-Id: I92f04326c91f3b93c5589bfd4702e8f33ee77ee6\n""}]",0,495493,dc1c0a32327706f27310589aca6198df64a957f9,7,3,1,3153,,,0,"Fix layout for tripleo scenario007

It fix the regex to find jobs for scenario007 and run the right ones
depending on which files we're trying to modify.

Change-Id: I92f04326c91f3b93c5589bfd4702e8f33ee77ee6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/495493/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,dc1c0a32327706f27310589aca6198df64a957f9,scenario007/oooq, - name: ^gate-tripleo-ci-centos-7-scenario007-multinode-oooq(-nv)?$ - name: ^gate-tripleo-ci-centos-7-scenario007-multinode-oooq-container(-nv)?$, - name: ^gate-tripleo-ci-centos-7-scenario007-multinode(-oooq)?(-nv)?$ - name: ^gate-tripleo-ci-centos-7-scenario007-multinode(-oooq)?(-container)?(-nv)?$,2,2
openstack%2Fnova~stable%2Fnewton~Ibd03d0406744d2a4cff689c722a2330ea0c8de18,openstack/nova,stable/newton,Ibd03d0406744d2a4cff689c722a2330ea0c8de18,Updated from global requirements,MERGED,2017-07-15 14:49:53.000000000,2017-08-21 07:27:39.000000000,2017-08-21 07:27:39.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-15 14:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06dc5a3df242c7f9195c560dffa2fc852c0ed240', 'message': 'Updated from global requirements\n\nChange-Id: Ibd03d0406744d2a4cff689c722a2330ea0c8de18\n'}, {'number': 2, 'created': '2017-08-11 17:52:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/1255f6964c697a3c491f7eb6f6136de65a8fc947', 'message': 'Updated from global requirements\n\nChange-Id: Ibd03d0406744d2a4cff689c722a2330ea0c8de18\n'}]",0,484141,1255f6964c697a3c491f7eb6f6136de65a8fc947,28,6,2,11131,,,0,"Updated from global requirements

Change-Id: Ibd03d0406744d2a4cff689c722a2330ea0c8de18
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/484141/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,06dc5a3df242c7f9195c560dffa2fc852c0ed240,openstack/requirements,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=34.3.3,!=36.2.0,>=16.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=34.3.3,>=16.0 # PSF/ZPL",1,1
openstack%2Fproject-config~master~I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0,openstack/project-config,master,I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0,enable qos in congress dsvm job,MERGED,2017-08-17 01:40:51.000000000,2017-08-21 07:24:34.000000000,2017-08-21 07:24:34.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 20000}]","[{'number': 1, 'created': '2017-08-17 01:40:51.000000000', 'files': ['jenkins/jobs/congress.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/837e7ec5584361aeafeef6afc39574f944a6f346', 'message': 'enable qos in congress dsvm job\n\nChange-Id: I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0\n'}]",0,494350,837e7ec5584361aeafeef6afc39574f944a6f346,9,4,1,18591,,,0,"enable qos in congress dsvm job

Change-Id: I358e0bad6111f1fa5cc279d9fe7358f5ce9d46a0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/494350/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/congress.yaml'],1,837e7ec5584361aeafeef6afc39574f944a6f346,," ENABLED_SERVICES+=h-eng,h-api,h-api-cfn,h-api-cw, ENABLED_SERVICES+=q-qos"," ENABLED_SERVICES+=h-eng,h-api,h-api-cfn,h-api-cw",2,1
openstack%2Fneutron-fwaas~master~I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9,openstack/neutron-fwaas,master,I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9,Add firewall_policy_id in FWaaS v2,MERGED,2016-09-15 12:00:38.000000000,2017-08-21 07:22:20.000000000,2017-08-21 07:22:20.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6995}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-09-15 12:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1edb66262fa78b67845e4e0b7c234ad5455e2199', 'message': '[WIP]Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 2, 'created': '2016-09-21 06:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/27c06ad4d5fd7fcee5b8a7d56cc6457637089410', 'message': '[WIP]Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 3, 'created': '2017-08-02 05:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2cd957caa68e8f5f9fa5be6e76829c59446e69dd', 'message': '[WIP]Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 4, 'created': '2017-08-02 06:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8c3f5a62f3348b197cc8a87befc5efd7f150d76a', 'message': '[WIP]Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 5, 'created': '2017-08-10 09:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4854cdf04ab604fc78fefec279fbdaf417653669', 'message': 'Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 6, 'created': '2017-08-10 10:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f8686df757db9727745459d176f516d99a50839e', 'message': 'Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 7, 'created': '2017-08-11 03:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/23a950dfe24aae02a72b7ba0a8e9588356bda662', 'message': 'Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}, {'number': 8, 'created': '2017-08-17 03:07:40.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaasv2_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/55fed400b0511132b352b9a1fa0d2f55fc1bcbb8', 'message': 'Add firewall_policy_id in FWaaS v2\n\nCurrently, Firewall Policy ID is not reflected\nwhile creating firewall rules.\n\nThis patch allows the same.\n\nChange-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9\nCloses-Bug: #1623099\n'}]",0,370731,55fed400b0511132b352b9a1fa0d2f55fc1bcbb8,35,8,8,17776,,,0,"Add firewall_policy_id in FWaaS v2

Currently, Firewall Policy ID is not reflected
while creating firewall rules.

This patch allows the same.

Change-Id: I9d2f34dc1f8848142d0aecb54151f2c1a1d66fe9
Closes-Bug: #1623099
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/31/370731/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/firewall/v2/firewall_db_v2.py'],1,1edb66262fa78b67845e4e0b7c234ad5455e2199,bug/1623099," firewall_policy_id = sa.Column(sa.String(36), sa.ForeignKey( 'firewall_policies_v2.id')) 'firewall_policy_id': firewall_rule['firewall_policy_id'], firewall_policy_id=None, # During create, policy ID = Null",,5,0
openstack%2Fblazar~master~I89d358e35e57edbff1d841df96ce705455b1cd11,openstack/blazar,master,I89d358e35e57edbff1d841df96ce705455b1cd11,Allow duplicate lease names,MERGED,2017-08-16 08:58:54.000000000,2017-08-21 07:20:54.000000000,2017-08-21 07:20:54.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 23840}, {'_account_id': 24603}]","[{'number': 1, 'created': '2017-08-16 08:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6d51c90a10ae3c97d5281e031eb1d3a9ad890d0b', 'message': 'Allow duplicate lease names\n\nA unique constraint currently restricts two leases from having the same\nname, even if they belong to different projects.\n\nThis patch removes this constraint in order to allow duplicate lease\nnames, even within the same project, to match the behavior of Nova with\ninstances and Glance with images.\n\nChange-Id: I89d358e35e57edbff1d841df96ce705455b1cd11\nCloses-Bug: #1711076\n'}, {'number': 2, 'created': '2017-08-16 10:51:46.000000000', 'files': ['blazar/db/migration/alembic_migrations/versions/6bfd1c23aa18_allow_duplicate_lease_names.py', 'blazar/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/3018e70d34f1a6b56e0f1dbb0dc67b5e6cc76156', 'message': 'Allow duplicate lease names\n\nA unique constraint currently restricts two leases from having the same\nname, even if they belong to different projects.\n\nThis patch removes this constraint in order to allow duplicate lease\nnames, even within the same project, to match the behavior of Nova with\ninstances and Glance with images.\n\nChange-Id: I89d358e35e57edbff1d841df96ce705455b1cd11\nCloses-Bug: #1711076\n'}]",0,494137,3018e70d34f1a6b56e0f1dbb0dc67b5e6cc76156,10,4,2,15197,,,0,"Allow duplicate lease names

A unique constraint currently restricts two leases from having the same
name, even if they belong to different projects.

This patch removes this constraint in order to allow duplicate lease
names, even within the same project, to match the behavior of Nova with
instances and Glance with images.

Change-Id: I89d358e35e57edbff1d841df96ce705455b1cd11
Closes-Bug: #1711076
",git fetch https://review.opendev.org/openstack/blazar refs/changes/37/494137/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/db/migration/alembic_migrations/versions/6bfd1c23aa18_allow_duplicate_lease_names.py', 'blazar/db/sqlalchemy/models.py']",2,6d51c90a10ae3c97d5281e031eb1d3a9ad890d0b,bug/1711076,," __table_args__ = ( sa.UniqueConstraint('name'), ) ",42,4
openstack%2Fblazar~master~If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7,openstack/blazar,master,If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7,Set user_id when creating leases,MERGED,2017-08-16 08:31:50.000000000,2017-08-21 07:17:39.000000000,2017-08-21 07:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 23840}, {'_account_id': 24603}]","[{'number': 1, 'created': '2017-08-16 08:31:50.000000000', 'files': ['blazar/manager/service.py', 'blazar/api/v1/service.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/9f832e13fbf83919f5ef95f37d984ebbb53de910', 'message': 'Set user_id when creating leases\n\nThe user_id field in leases is set from ctx.user_id, which is always\nNone because it is not defined in trusts.create_ctx_from_trust().\nNevertheless, we cannot use this value since we are in the trustee\ncontext, which is the blazar user.\n\nThis patch modifies the API handler so that the real user_id is included\nin the lease_values dict passed to create_lease(). Ideally, the context\nwould be extended to include a field referring to the trustor user.\n\nChange-Id: If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7\nCloses-Bug: #1709103\n'}]",0,494113,9f832e13fbf83919f5ef95f37d984ebbb53de910,8,4,1,15197,,,0,"Set user_id when creating leases

The user_id field in leases is set from ctx.user_id, which is always
None because it is not defined in trusts.create_ctx_from_trust().
Nevertheless, we cannot use this value since we are in the trustee
context, which is the blazar user.

This patch modifies the API handler so that the real user_id is included
in the lease_values dict passed to create_lease(). Ideally, the context
would be extended to include a field referring to the trustor user.

Change-Id: If0ee6efcd30dc56dfd78fbfe566517a8d8aa6ba7
Closes-Bug: #1709103
",git fetch https://review.opendev.org/openstack/blazar refs/changes/13/494113/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'blazar/api/v1/service.py']",2,9f832e13fbf83919f5ef95f37d984ebbb53de910,bug/1709103," # TODO(priteau): If possible, extend the context object used in the # manager to keep track of the trustor, instead of using the following # two lines ctx = context.current() data['user_id'] = ctx.user_id",,8,1
openstack%2Fcinder~master~I34a6c1639cea129fecbc3ea9ddde8c581b84ae56,openstack/cinder,master,I34a6c1639cea129fecbc3ea9ddde8c581b84ae56,[Api-ref] fix response status,ABANDONED,2017-07-20 01:17:30.000000000,2017-08-21 07:16:08.000000000,,"[{'_account_id': 3}, {'_account_id': 8846}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24578}, {'_account_id': 24863}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-07-20 01:17:30.000000000', 'files': ['api-ref/source/v2/ext-backups-actions-v2.inc', 'api-ref/source/v3/ext-backups-actions-v3.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/333d73f3d060e18fecc76c0e581babc5e56c8893', 'message': ""[Api-ref] fix response status\n\nIn the API reference, the backup-actions's status is not correct, This\nchange to fix them.\n\nChange-Id: I34a6c1639cea129fecbc3ea9ddde8c581b84ae56\n""}]",0,485389,333d73f3d060e18fecc76c0e581babc5e56c8893,27,24,1,25388,,,0,"[Api-ref] fix response status

In the API reference, the backup-actions's status is not correct, This
change to fix them.

Change-Id: I34a6c1639cea129fecbc3ea9ddde8c581b84ae56
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/485389/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/ext-backups-actions-v2.inc', 'api-ref/source/v3/ext-backups-actions-v3.inc']",2,333d73f3d060e18fecc76c0e581babc5e56c8893,fix_return_value,"Normal response codes: 202, Error response codes: 404, 405,","Error response codes:404,405,202,",3,2
openstack%2Fmistral~master~Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850,openstack/mistral,master,Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850,Update URL in /doc/source/install,ABANDONED,2017-07-17 10:06:05.000000000,2017-08-21 07:15:24.000000000,,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 18955}, {'_account_id': 20863}, {'_account_id': 21970}, {'_account_id': 25944}]","[{'number': 1, 'created': '2017-07-17 10:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0abe49765a9eb0ca4184301b7ab1dffacdb023e2', 'message': 'Update URL in /doc/source/install\n\nThe URL <https://docs.openstack.org/developer/horizon/quickstart.html#setup.>\nis out of date, but we can still access it, this change is to replace the\nvanity URL with the real one.\n\nChange-Id: Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850\n'}, {'number': 2, 'created': '2017-07-25 11:47:46.000000000', 'files': ['doc/source/install/dashboard_guide.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/23b548a763ab17c398da12df60b5fec219a22687', 'message': 'Update URL in /doc/source/install\n\nThe URL <https://docs.openstack.org/developer/horizon/quickstart.html#setup.>\nis out of date, but we can still access it, this change is to replace the\nvanity URL with the real one.\n\nChange-Id: Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850\n'}]",1,484313,23b548a763ab17c398da12df60b5fec219a22687,12,6,2,25388,,,0,"Update URL in /doc/source/install

The URL <https://docs.openstack.org/developer/horizon/quickstart.html#setup.>
is out of date, but we can still access it, this change is to replace the
vanity URL with the real one.

Change-Id: Ia0b23481e1bd856e873eb52e0d1a11faa3bdf850
",git fetch https://review.opendev.org/openstack/mistral refs/changes/13/484313/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/dashboard_guide.rst'],1,0abe49765a9eb0ca4184301b7ab1dffacdb023e2,modify_url,found at `Horizon Installation <https://docs.openstack.org/horizon/latest/#setup.>`_,found at `Horizon Installation <https://docs.openstack.org/developer/horizon/quickstart.html#setup.>`_,1,1
openstack%2Ftacker~master~I33836feef02c7996b46505c79369e78b7057741d,openstack/tacker,master,I33836feef02c7996b46505c79369e78b7057741d,Fix broken link to tacker_nfv_defs in docs,MERGED,2017-08-17 12:52:00.000000000,2017-08-21 07:13:52.000000000,2017-08-21 07:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 12455}, {'_account_id': 16237}, {'_account_id': 19644}, {'_account_id': 19999}, {'_account_id': 20560}]","[{'number': 1, 'created': '2017-08-17 12:52:00.000000000', 'files': ['doc/source/contributor/vnfd_template_description.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0edbad25d0d0c64a5867a20d005403a38f84dddb', 'message': 'Fix broken link to tacker_nfv_defs in docs\n\nLink to tacker_nfv_defs does not exist\nWrong link: https://github.com/openstack/tacker/blob/master/tacker/vnfm/tosca/lib/tacker_nfv_defs.yaml\nCorrect link: https://github.com/openstack/tacker/blob/master/tacker/tosca/lib/tacker_nfv_defs.yaml\n\nChange-Id: I33836feef02c7996b46505c79369e78b7057741d\n'}]",0,494527,0edbad25d0d0c64a5867a20d005403a38f84dddb,11,6,1,19316,,,0,"Fix broken link to tacker_nfv_defs in docs

Link to tacker_nfv_defs does not exist
Wrong link: https://github.com/openstack/tacker/blob/master/tacker/vnfm/tosca/lib/tacker_nfv_defs.yaml
Correct link: https://github.com/openstack/tacker/blob/master/tacker/tosca/lib/tacker_nfv_defs.yaml

Change-Id: I33836feef02c7996b46505c79369e78b7057741d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/27/494527/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vnfd_template_description.rst'],1,0edbad25d0d0c64a5867a20d005403a38f84dddb,, listed `here <https://github.com/openstack/tacker/blob/master/tacker/tosca/ lib/tacker_nfv_defs.yaml>`_ under **properties** section of, listed `here <https://github.com/openstack/tacker/blob/master/tacker/vnfm/ tosca/lib/tacker_nfv_defs.yaml>`_ under **properties** section of,2,2
openstack%2Foslo.messaging~master~If8ec99fc641cd3cd337353a6085dcd3f834b450c,openstack/oslo.messaging,master,If8ec99fc641cd3cd337353a6085dcd3f834b450c,Remove log translations,ABANDONED,2017-08-17 10:04:30.000000000,2017-08-21 07:13:29.000000000,,"[{'_account_id': 3}, {'_account_id': 8770}]","[{'number': 1, 'created': '2017-08-17 10:04:30.000000000', 'files': ['oslo_messaging/_drivers/zmq_driver/zmq_socket.py', 'oslo_messaging/_i18n.py', 'oslo_messaging/hacking/checks.py', 'oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/notify/dispatcher.py', 'oslo_messaging/notify/middleware.py', 'oslo_messaging/notify/listener.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_request.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/_drivers/zmq_driver/proxy/central/zmq_central_proxy.py', 'oslo_messaging/notify/notifier.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_dealer_consumer.py', 'oslo_messaging/transport.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_ack_manager.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_routing_table.py', 'oslo_messaging/_drivers/zmq_driver/matchmaker/zmq_matchmaker_base.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/dealer/zmq_dealer_publisher_base.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_consumer_base.py', 'oslo_messaging/_cmd/zmq_proxy.py', 'oslo_messaging/_drivers/zmq_driver/proxy/zmq_sender.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_publisher_manager.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_router_consumer.py', 'oslo_messaging/_drivers/amqp1_driver/eventloop.py', 'oslo_messaging/_drivers/zmq_driver/server/zmq_server.py', 'oslo_messaging/_drivers/zmq_driver/proxy/zmq_base_proxy.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_sub_consumer.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/tests/drivers/zmq/zmq_common.py', 'oslo_messaging/server.py', 'oslo_messaging/_drivers/impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_receivers.py', 'oslo_messaging/_drivers/zmq_driver/proxy/zmq_proxy.py', 'oslo_messaging/notify/_impl_routing.py', 'oslo_messaging/_drivers/zmq_driver/matchmaker/zmq_matchmaker_redis.py', 'oslo_messaging/_drivers/impl_amqp1.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f55678c5bc17cb8df57d35c1586d71635d26a13b', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: If8ec99fc641cd3cd337353a6085dcd3f834b450c\n'}]",0,494463,f55678c5bc17cb8df57d35c1586d71635d26a13b,3,2,1,25388,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html

Change-Id: If8ec99fc641cd3cd337353a6085dcd3f834b450c
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/63/494463/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/zmq_driver/zmq_socket.py', 'oslo_messaging/_i18n.py', 'oslo_messaging/hacking/checks.py', 'oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/notify/dispatcher.py', 'oslo_messaging/notify/middleware.py', 'oslo_messaging/notify/listener.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_request.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/_drivers/zmq_driver/proxy/central/zmq_central_proxy.py', 'oslo_messaging/notify/notifier.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_dealer_consumer.py', 'oslo_messaging/transport.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_ack_manager.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_routing_table.py', 'oslo_messaging/_drivers/zmq_driver/matchmaker/zmq_matchmaker_base.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/_drivers/zmq_driver/client/publishers/dealer/zmq_dealer_publisher_base.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_consumer_base.py', 'oslo_messaging/_cmd/zmq_proxy.py', 'oslo_messaging/_drivers/zmq_driver/proxy/zmq_sender.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_publisher_manager.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_router_consumer.py', 'oslo_messaging/_drivers/amqp1_driver/eventloop.py', 'oslo_messaging/_drivers/zmq_driver/server/zmq_server.py', 'oslo_messaging/_drivers/zmq_driver/proxy/zmq_base_proxy.py', 'oslo_messaging/_drivers/zmq_driver/server/consumers/zmq_sub_consumer.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/tests/drivers/zmq/zmq_common.py', 'oslo_messaging/server.py', 'oslo_messaging/_drivers/impl_zmq.py', 'oslo_messaging/_drivers/zmq_driver/client/zmq_receivers.py', 'oslo_messaging/_drivers/zmq_driver/proxy/zmq_proxy.py', 'oslo_messaging/notify/_impl_routing.py', 'oslo_messaging/_drivers/zmq_driver/matchmaker/zmq_matchmaker_redis.py', 'oslo_messaging/_drivers/impl_amqp1.py']",39,f55678c5bc17cb8df57d35c1586d71635d26a13b,remove_log_transaction," LOG.warning(""Ignoring unrecognized pre_settle value(s): %s"", LOG.warning(""Process forked after connection "" ""established!"") LOG.info(""AMQP 1.0 messaging driver shutdown"")","from oslo_messaging._i18n import _LI, _LW LOG.warning(_LW(""Ignoring unrecognized pre_settle value(s): %s""), LOG.warning(_LW(""Process forked after connection "" ""established!"")) LOG.info(_LI(""AMQP 1.0 messaging driver shutdown""))",164,221
openstack%2Fmurano-dashboard~master~I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc,openstack/murano-dashboard,master,I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc,Updated from global requirements,MERGED,2017-08-18 11:33:13.000000000,2017-08-21 07:11:07.000000000,2017-08-21 07:11:07.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-08-18 11:33:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/2da498fd44caa6ab730b277ab1fa1dec4f1bb283', 'message': 'Updated from global requirements\n\nChange-Id: I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc\n'}]",0,495193,2da498fd44caa6ab730b277ab1fa1dec4f1bb283,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I6a0a3151e7ffe8f7110d82c0404c86f8becb55bc
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/93/495193/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2da498fd44caa6ab730b277ab1fa1dec4f1bb283,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fcinder~master~Ia81b9616b68e28ce9e49c3b9f009371e35ce1277,openstack/cinder,master,Ia81b9616b68e28ce9e49c3b9f009371e35ce1277,Use QoSConsumerValues enum field,ABANDONED,2017-07-03 07:15:44.000000000,2017-08-21 07:09:48.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13167}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19853}, {'_account_id': 19933}, {'_account_id': 20191}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25388}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-03 07:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63314bd696e7e29e4d48d683443b0d5e39592707', 'message': 'Use QoSConsumerValues enum field\n\nThe QoSConsumerValues and QoSConsumerField has been defined already,\nThis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 2, 'created': '2017-07-03 09:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17616d51751e62ac3c9aa4574bcecc5dedc1f02a', 'message': 'Use QoSConsumerValues enum field\n\nThe QoSConsumerValues and QoSConsumerField has been defined already,\nThis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 3, 'created': '2017-07-04 06:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee1464475ace443189e631f144a872aa08f43a84', 'message': 'Use QoSConsumerValues enum field\n\nThe QoSConsumerValues and QoSConsumerField has been defined already,\nThis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 4, 'created': '2017-07-04 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5657b466fa2db8317f96d1aaf37621e2939e269', 'message': 'Use QoSConsumerValues enum field\n\nThe QoSConsumerValues and QoSConsumerField has been defined already,\nThis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 5, 'created': '2017-07-04 09:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fe7f74a4a497cf42bb68fc2b5d2f1adf0cd8e72', 'message': 'Use QoSConsumerValues enum field\n\nThe QosConsumerValues and QoSConsumerField has been defined already,\nthis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 6, 'created': '2017-07-05 01:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f45d19756dcc7cd7cc33049bd389d3f3b82f834c', 'message': 'Use QoSConsumerValues enum field\n\nThe QosConsumerValues and QoSConsumerField has been defined already,\nthis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 7, 'created': '2017-07-05 04:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da1925ccb0b3ac7b29268f9fa385c3634f69cd8d', 'message': 'Use QoSConsumerValues enum field\n\nThe QosConsumerValues and QoSConsumerField has been defined already,\nthis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 8, 'created': '2017-07-05 09:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/994d49e09754ca6edb58635f3ff9a6944e3e5965', 'message': 'Use QoSConsumerValues enum field\n\nThe QosConsumerValues and QoSConsumerField has been defined already,\nthis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 9, 'created': '2017-07-11 01:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ab7e37228a01ec1ab969b0714c4b8afe1696acf', 'message': 'Use QoSConsumerValues enum field\n\nThe QosConsumerValues and QoSConsumerField has been defined already,\nthis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}, {'number': 10, 'created': '2017-07-17 01:33:39.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/tests/unit/volume/test_connection.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/test_volume_types.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/api/contrib/volume_type_encryption.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_qos_specs.py', 'cinder/tests/unit/api/contrib/test_qos_specs_manage.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/qos_specs.py', 'cinder/tests/unit/db/test_volume_type.py', 'cinder/tests/unit/db/test_qos_specs.py', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py', 'cinder/tests/unit/objects/test_qos.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b0c62cea9af270623827f5eeb3aff6ea4d83d0b', 'message': 'Use QoSConsumerValues enum field\n\nThe QosConsumerValues and QoSConsumerField has been defined already,\nthis change just replace the consumer value with QoSConsumerValues enum\nfield.\n\nChange-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277\nPartial-Implements: bp cinder-object-fields\n'}]",2,479674,7b0c62cea9af270623827f5eeb3aff6ea4d83d0b,180,44,10,25388,,,0,"Use QoSConsumerValues enum field

The QosConsumerValues and QoSConsumerField has been defined already,
this change just replace the consumer value with QoSConsumerValues enum
field.

Change-Id: Ia81b9616b68e28ce9e49c3b9f009371e35ce1277
Partial-Implements: bp cinder-object-fields
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/479674/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/tests/unit/volume/test_connection.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/test_volume_types.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/api/contrib/volume_type_encryption.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_qos_specs.py', 'cinder/tests/unit/api/contrib/test_qos_specs_manage.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/qos_specs.py', 'cinder/tests/unit/db/test_volume_type.py', 'cinder/tests/unit/db/test_qos_specs.py', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py', 'cinder/tests/unit/objects/test_qos.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_utils.py']",22,63314bd696e7e29e4d48d683443b0d5e39592707,bp/cinder-object-fields,"from cinder.objects import fields ret = {'qos_specs': {'consumer': 'fields.QoSConsumerValues.BACK_END', 'specs': {}}} 'consumer': 'fields.QoSConsumerValues.BACK_END',"," ret = {'qos_specs': {'consumer': 'back-end', 'specs': {}}} 'consumer': 'back-end',",81,66
openstack%2Fmurano-agent~master~I36d07dadbb4729bbd23dde41e1160d49fe247ed1,openstack/murano-agent,master,I36d07dadbb4729bbd23dde41e1160d49fe247ed1,Updated from global requirements,MERGED,2017-08-18 11:33:10.000000000,2017-08-21 07:05:27.000000000,2017-08-21 07:05:26.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-18 11:33:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/d34ccefd961c5d0436c80957bb4a533850325921', 'message': 'Updated from global requirements\n\nChange-Id: I36d07dadbb4729bbd23dde41e1160d49fe247ed1\n'}]",0,495191,d34ccefd961c5d0436c80957bb4a533850325921,9,5,1,11131,,,0,"Updated from global requirements

Change-Id: I36d07dadbb4729bbd23dde41e1160d49fe247ed1
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/91/495191/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d34ccefd961c5d0436c80957bb4a533850325921,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fmurano-pkg-check~master~Ic3a144052092d73a8172e7852f096555aa332a8c,openstack/murano-pkg-check,master,Ic3a144052092d73a8172e7852f096555aa332a8c,Updated from global requirements,MERGED,2017-08-18 11:33:16.000000000,2017-08-21 07:04:15.000000000,2017-08-21 07:04:15.000000000,"[{'_account_id': 3}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-18 11:33:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/8d655cb0d43554916b25914334a34fa830c7c84c', 'message': 'Updated from global requirements\n\nChange-Id: Ic3a144052092d73a8172e7852f096555aa332a8c\n'}]",0,495194,8d655cb0d43554916b25914334a34fa830c7c84c,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ic3a144052092d73a8172e7852f096555aa332a8c
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/94/495194/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8d655cb0d43554916b25914334a34fa830c7c84c,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Ftempest~master~I839da90a7f7b5015765a6a67737304ef3109c7c3,openstack/tempest,master,I839da90a7f7b5015765a6a67737304ef3109c7c3,Remove usage of credentials_factory.AdminManager,MERGED,2017-08-08 07:24:36.000000000,2017-08-21 06:55:33.000000000,2017-08-21 06:55:33.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}]","[{'number': 1, 'created': '2017-08-08 07:24:36.000000000', 'files': ['tempest/cmd/cleanup.py', 'tempest/cmd/cleanup_service.py', 'tempest/cmd/run.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/009a1f6c0a4d1af383364e806cbba68c553f8077', 'message': 'Remove usage of credentials_factory.AdminManager\n\nWe are going to make credentials_factory as stable interfa\nand will be removing the AdminManager class which is wrapper\nof creating client manager wirth admin cred.\n\nadmin manager can be instantiated by providing the admin cred\nto clients.Manager.\n\nThis commit removes the usage of AdminManager.\n\nChange-Id: I839da90a7f7b5015765a6a67737304ef3109c7c3\n'}]",1,491698,009a1f6c0a4d1af383364e806cbba68c553f8077,14,3,1,8556,,,0,"Remove usage of credentials_factory.AdminManager

We are going to make credentials_factory as stable interfa
and will be removing the AdminManager class which is wrapper
of creating client manager wirth admin cred.

admin manager can be instantiated by providing the admin cred
to clients.Manager.

This commit removes the usage of AdminManager.

Change-Id: I839da90a7f7b5015765a6a67737304ef3109c7c3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/491698/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/cleanup.py', 'tempest/cmd/cleanup_service.py', 'tempest/cmd/run.py']",3,009a1f6c0a4d1af383364e806cbba68c553f8077,remove-AdminManager,from tempest import clients self.admin_mgr = clients.Manager( credentials.get_configured_admin_credentials()), self.admin_mgr = credentials.AdminManager(),11,5
openstack%2Fneutron-fwaas~master~I417b2d853a257f141c6c6355becf043fbdddc400,openstack/neutron-fwaas,master,I417b2d853a257f141c6c6355becf043fbdddc400,Update links in README,ABANDONED,2017-08-19 11:30:01.000000000,2017-08-21 06:49:54.000000000,,"[{'_account_id': 3}, {'_account_id': 13702}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-08-19 11:30:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a30ee522dc730a4cf7a696754eff199c22ef89a5', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: I417b2d853a257f141c6c6355becf043fbdddc400\n'}]",0,495503,a30ee522dc730a4cf7a696754eff199c22ef89a5,6,3,1,23314,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I417b2d853a257f141c6c6355becf043fbdddc400
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/03/495503/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a30ee522dc730a4cf7a696754eff199c22ef89a5,,.. image:: https://governance.openstack.org/tc/badges/neutron-fwaas.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: https://governance.openstack.org/badges/neutron-fwaas.svg :target: https://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Foslo.messaging~master~Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256,openstack/oslo.messaging,master,Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256,Updated from global requirements,MERGED,2017-08-18 04:50:10.000000000,2017-08-21 06:42:38.000000000,2017-08-21 06:42:38.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-08-18 04:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9c0f0a486a4c8277c3541500e7bbac0b3fa05a63', 'message': 'Updated from global requirements\n\nChange-Id: Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256\n'}, {'number': 2, 'created': '2017-08-18 11:40:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/38d8bdcd19d933c892b3670ef73a3fc5d67386a1', 'message': 'Updated from global requirements\n\nChange-Id: Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256\n'}]",0,494876,38d8bdcd19d933c892b3670ef73a3fc5d67386a1,12,2,2,11131,,,0,"Updated from global requirements

Change-Id: Ida4133ebeb4cc0cbfbd0e8ee62a52236dc4a0256
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/76/494876/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,9c0f0a486a4c8277c3541500e7bbac0b3fa05a63,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,2,2
openstack%2Fglance~master~I16acc18e6758785365b48a514828f8fd3a92b94f,openstack/glance,master,I16acc18e6758785365b48a514828f8fd3a92b94f,Add enable_lazy() in glance,ABANDONED,2017-06-20 07:55:27.000000000,2017-08-21 06:29:04.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 25388}]","[{'number': 1, 'created': '2017-06-20 07:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2f838e4156700a4884cbef6d85a8c6cb143f6626', 'message': 'Add enable_lazy() in glance\n\nAdd i18n.enable_lazy() in glance/common/wsgi.py and\nglance/tests/unit/common/test_wsgi.py.\n\nChange-Id: I16acc18e6758785365b48a514828f8fd3a92b94f\n'}, {'number': 2, 'created': '2017-07-04 09:47:10.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/common/wsgi.py', 'glance/i18n.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8e0ad1b449a7b45881789b0c17342ea3f112f214', 'message': 'Add enable_lazy() in glance\n\nAdd i18n.enable_lazy() in glance/common/wsgi.py and\nglance/tests/unit/common/test_wsgi.py.\n\nChange-Id: I16acc18e6758785365b48a514828f8fd3a92b94f\n'}]",0,475691,8e0ad1b449a7b45881789b0c17342ea3f112f214,10,3,2,25388,,,0,"Add enable_lazy() in glance

Add i18n.enable_lazy() in glance/common/wsgi.py and
glance/tests/unit/common/test_wsgi.py.

Change-Id: I16acc18e6758785365b48a514828f8fd3a92b94f
",git fetch https://review.opendev.org/openstack/glance refs/changes/91/475691/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_wsgi.py', 'glance/common/wsgi.py']",2,2f838e4156700a4884cbef6d85a8c6cb143f6626,enable_lazy,i18n.enable_lazy(),,2,0
openstack%2Fmonasca-api~master~Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39,openstack/monasca-api,master,Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39,Updated from global requirements,MERGED,2017-08-18 11:32:46.000000000,2017-08-21 05:52:17.000000000,2017-08-21 05:52:17.000000000,"[{'_account_id': 3}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-08-18 11:32:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/20d701d97c80e6a45b0d2c9d5452ed9dd9c8ff77', 'message': 'Updated from global requirements\n\nChange-Id: Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39\n'}]",0,495188,20d701d97c80e6a45b0d2c9d5452ed9dd9c8ff77,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Iefb5391ccd79ad2aebe1e59f68361bfdc00c6c39
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/88/495188/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,20d701d97c80e6a45b0d2c9d5452ed9dd9c8ff77,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fmonasca-log-api~master~I1d30336b39dbd1e790cf48457c4f9a005f719f26,openstack/monasca-log-api,master,I1d30336b39dbd1e790cf48457c4f9a005f719f26,Updated from global requirements,MERGED,2017-08-18 11:32:51.000000000,2017-08-21 05:51:32.000000000,2017-08-21 05:51:32.000000000,"[{'_account_id': 3}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-08-18 11:32:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5e922485abcd9b5b6b45f020ab50cf83b4a15bf7', 'message': 'Updated from global requirements\n\nChange-Id: I1d30336b39dbd1e790cf48457c4f9a005f719f26\n'}]",0,495189,5e922485abcd9b5b6b45f020ab50cf83b4a15bf7,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I1d30336b39dbd1e790cf48457c4f9a005f719f26
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/89/495189/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5e922485abcd9b5b6b45f020ab50cf83b4a15bf7,openstack/requirements,reno>=2.5.0 # Apache-2.0,"reno!=2.3.1,>=1.8.0 # Apache-2.0",1,1
openstack%2Fironic~master~Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3,openstack/ironic,master,Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3,remove vif_port_id when tear down a node,ABANDONED,2017-06-10 00:51:33.000000000,2017-08-21 05:35:59.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 25675}]","[{'number': 1, 'created': '2017-06-10 00:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec6205d11fa89e7447aeca8a0b1ecf402bbf04b3', 'message': 'remove vif_port_id when tear down a node\n\nChange-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3\n'}, {'number': 2, 'created': '2017-06-10 01:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42648c671139e435afea7548571d4f9c3114ca45', 'message': 'remove vif_port_id when tear down a node\n\nwhen we tear down a node, vif_port_id may\nleft in a port or a portgroup.\n\nwhen deploying error, provisioning_vif_port_id and\ncleaning_vif_port_id may left in a port or a\nportgroup. we sholud also remove it when tearing down\na ironic node.\n\nChange-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3\n'}, {'number': 3, 'created': '2017-06-10 01:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4212a7214d6565f9f74507a9521e9acb710a3dba', 'message': 'remove vif_port_id when tear down a node\n\nwhen we tear down a node, vif_port_id may\nleft in a port or a portgroup.\n\nwhen deploying error, provisioning_vif_port_id and\ncleaning_vif_port_id may left in a port or a\nportgroup. we sholud also remove it when tearing down\na ironic node.\n\nChange-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3\n'}, {'number': 4, 'created': '2017-06-10 01:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/602c6f0f8b411667d9283b2f555ed287c372fe85', 'message': 'remove vif_port_id when tear down a node\n\nwhen we tear down a node, vif_port_id may\nleft in a port or a portgroup.\n\nwhen deploying error, provisioning_vif_port_id and\ncleaning_vif_port_id may left in a port or a\nportgroup. we sholud also remove it when tearing down\na ironic node.\n\nChange-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3\n'}, {'number': 5, 'created': '2017-06-10 10:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ca62572272058cfa6a750415106cf68dee8ac0f', 'message': 'remove vif_port_id when tear down a node\n\nwhen we tear down a node, vif_port_id may\nleft in a port or a portgroup.\n\nwhen deploying error, provisioning_vif_port_id and\ncleaning_vif_port_id may left in a port or a\nportgroup. we sholud also remove it when tearing down\na ironic node.\n\nChange-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3\n'}, {'number': 6, 'created': '2017-06-11 14:56:44.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/network/neutron.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2dc7ba92c596b75f6f246b3f16627dbfbf4ed13d', 'message': 'remove vif_port_id when tear down a node\n\nwhen we tear down a node, vif_port_id may\nleft in a port or a portgroup.\n\nwhen deploying error, provisioning_vif_port_id and\ncleaning_vif_port_id may left in a port or a\nportgroup. we sholud also remove it when tearing down\na ironic node.\n\nChange-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3\n'}]",0,472870,2dc7ba92c596b75f6f246b3f16627dbfbf4ed13d,23,6,6,25675,,,0,"remove vif_port_id when tear down a node

when we tear down a node, vif_port_id may
left in a port or a portgroup.

when deploying error, provisioning_vif_port_id and
cleaning_vif_port_id may left in a port or a
portgroup. we sholud also remove it when tearing down
a ironic node.

Change-Id: Ie945a2d5b3d5bba8e93cbaa3d165e15b4c2cd4b3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/472870/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/network/neutron.py']",3,ec6205d11fa89e7447aeca8a0b1ecf402bbf04b3,bug/1696615, vif_port_id = port_like_obj.internal_info.get(common.TENANT_VIF_KEY) if vif_port_id: neutron.unbind_neutron_port(vif_port_id) internal_info = port_like_obj.internal_info del internal_info[common.TENANT_VIF_KEY] port_like_obj.internal_info = internal_info port_like_obj.save() vif_port_id = port_like_obj.extra.get('vif_port_id') if vif_port_id: neutron.unbind_neutron_port(vif_port_id) extra = port_like_obj.extra del extra['vif_port_id'] port_like_obj.extra = extra port_like_obj.save() , vif_port_id = ( port_like_obj.internal_info.get(common.TENANT_VIF_KEY) or port_like_obj.extra.get('vif_port_id')) if not vif_port_id: continue neutron.unbind_neutron_port(vif_port_id),20,6
openstack%2Fnova~stable%2Fnewton~I27d3241300f75e2aa79a32348a3843e09123cb10,openstack/nova,stable/newton,I27d3241300f75e2aa79a32348a3843e09123cb10,Handle conflict from neutron when addFloatingIP fails,MERGED,2017-05-31 22:16:04.000000000,2017-08-21 05:24:15.000000000,2017-08-21 05:24:14.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-05-31 22:16:04.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/api/openstack/compute/floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/76d59ebcb9ace58d9364877da25f1aa66fb759d8', 'message': ""Handle conflict from neutron when addFloatingIP fails\n\nNeutron can raise a Conflict exception when attempting\nto associate a floating IP to a server when the fixed\naddress is already associated to another floating IP.\nThis has always resulted in a 400 response, however, it\nwould also trace an ERROR in the nova-api logs, which is\nsomething we shouldn't be doing for an expected type of\nfailure.\n\nThis handles the Conflict in the neutronv2 API client code\nand re-raises an exception that the REST API controller code\ncan handle and return as a 400 without the stacktrace in the\nlogs.\n\nConflicts:\n      nova/tests/unit/network/test_neutronv2.py\n\nNOTE(mriedem): The conflict is due to not having change\nI740c49111bc8e5e76a2fe42b35e8d6c9267e04a2 in Newton.\n\nChange-Id: I27d3241300f75e2aa79a32348a3843e09123cb10\nCloses-Bug: #1693576\n(cherry picked from commit 452f21183f2f80cc5673ebd3fd3e5daf039caacc)\n(cherry picked from commit cea9f71634a161dc58a0c9a43d44a6e9d12ddc4c)\n""}]",0,469672,76d59ebcb9ace58d9364877da25f1aa66fb759d8,21,5,1,6873,,,0,"Handle conflict from neutron when addFloatingIP fails

Neutron can raise a Conflict exception when attempting
to associate a floating IP to a server when the fixed
address is already associated to another floating IP.
This has always resulted in a 400 response, however, it
would also trace an ERROR in the nova-api logs, which is
something we shouldn't be doing for an expected type of
failure.

This handles the Conflict in the neutronv2 API client code
and re-raises an exception that the REST API controller code
can handle and return as a 400 without the stacktrace in the
logs.

Conflicts:
      nova/tests/unit/network/test_neutronv2.py

NOTE(mriedem): The conflict is due to not having change
I740c49111bc8e5e76a2fe42b35e8d6c9267e04a2 in Newton.

Change-Id: I27d3241300f75e2aa79a32348a3843e09123cb10
Closes-Bug: #1693576
(cherry picked from commit 452f21183f2f80cc5673ebd3fd3e5daf039caacc)
(cherry picked from commit cea9f71634a161dc58a0c9a43d44a6e9d12ddc4c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/469672/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/api/openstack/compute/floating_ips.py']",4,76d59ebcb9ace58d9364877da25f1aa66fb759d8,bug/1693576, except exception.FloatingIpAssociateFailed as e: raise webob.exc.HTTPBadRequest(explanation=e.format_message()),,45,1
openstack%2Fmonasca-agent~master~I98e9a928179d22373c658894a82d64df9dc7d043,openstack/monasca-agent,master,I98e9a928179d22373c658894a82d64df9dc7d043,Change template/example of Libvirt config file,MERGED,2017-08-01 05:39:04.000000000,2017-08-21 05:23:00.000000000,2017-08-21 05:23:00.000000000,"[{'_account_id': 3}, {'_account_id': 11809}, {'_account_id': 13702}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17331}, {'_account_id': 17981}, {'_account_id': 20033}]","[{'number': 1, 'created': '2017-08-01 05:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/eb112352ab7a17e97533bf011924f130423d89d8', 'message': 'Template of Libvirt monitoring configuration\n\nChange template/example of\nLibvirt monitoring configuration file.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\n'}, {'number': 2, 'created': '2017-08-01 05:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9419529ce755e2de9bd476d89bfb9a6dfa23fbe6', 'message': 'Template of Libvirt monitoring configuration\n\nChange template/example of\nLibvirt monitoring configuration file.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 3, 'created': '2017-08-01 08:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/38ce13899f4d181c42a4d98b8714a6ce15cca1f7', 'message': 'Change template/example of Libvirt config file\n\nThis commit Changes template/example of\nLibvirt monitoring configuration file.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 4, 'created': '2017-08-02 04:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1aa24645a272037050d1b3d3dea807d80edebbde', 'message': 'Change template/example of Libvirt config file\n\nThis commit changes template/example of\nLibvirt monitoring configuration file.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 5, 'created': '2017-08-02 06:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/fdd3d294b48517049b17cc92985589501bee9a01', 'message': 'Change template/example of Libvirt config file\n\nThere are no some parameter examples in Libvirt monitoring configuration\ntemplate/example.\nThis commit adds some parameter examples.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 6, 'created': '2017-08-03 00:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f868902c13e1ef3d2ca152a9ef08e92330c07cae', 'message': 'Change template/example of Libvirt config file\n\nSome of parameters which can be configured for Libvirt monitoring are\nmissing from the template file and example of documentation.\nThis commit adds the parameter examples.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 7, 'created': '2017-08-16 05:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/6999883511016f52167ed1ab60395f65ad3cc75f', 'message': 'Change template/example of Libvirt config file\n\nSome of parameters which can be configured for Libvirt monitoring are\nmissing from the template file and example of documentation.\nThis commit adds the parameter examples.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 8, 'created': '2017-08-17 00:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/80c4a2c66f580826fe350c9652b6c6de5e957872', 'message': 'Change template/example of Libvirt config file\n\nSome of parameters which can be configured for Libvirt monitoring are\nmissing from the template file and example of documentation.\nThis commit adds the parameter examples.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}, {'number': 9, 'created': '2017-08-18 00:06:00.000000000', 'files': ['docs/Libvirt.md', 'conf.d/libvirt.yaml.example'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2e5c6475e78494ca6b71db85f9a5d0fbf0cfbb08', 'message': 'Change template/example of Libvirt config file\n\nSome of parameters which can be configured for Libvirt monitoring are\nmissing from the template file and example of documentation.\nThis commit adds the parameter examples.\n\nChange-Id: I98e9a928179d22373c658894a82d64df9dc7d043\nStory: 2001137\nTask: 4853\n'}]",27,489471,2e5c6475e78494ca6b71db85f9a5d0fbf0cfbb08,36,8,9,17981,,,0,"Change template/example of Libvirt config file

Some of parameters which can be configured for Libvirt monitoring are
missing from the template file and example of documentation.
This commit adds the parameter examples.

Change-Id: I98e9a928179d22373c658894a82d64df9dc7d043
Story: 2001137
Task: 4853
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/71/489471/8 && git format-patch -1 --stdout FETCH_HEAD,"['docs/Libvirt.md', 'conf.d/libvirt.yaml.example']",2,eb112352ab7a17e97533bf011924f130423d89d8,libvirt_conf, # Configuration parameters can be used to control which metrics are reported # by libvirt plugin. vm_cpu_check_enable: True vm_disks_check_enable: True vm_network_check_enable: True vm_ping_check_enable: True vm_extended_disks_check_enable: True,,12,0
openstack%2Fdevstack~master~Ib300b58377a0d0fe1bd7444c71acdb9a87dc033b,openstack/devstack,master,Ib300b58377a0d0fe1bd7444c71acdb9a87dc033b,Don't reinstall python-virtualenv on infra nodes,MERGED,2017-08-03 04:40:04.000000000,2017-08-21 05:09:35.000000000,2017-08-21 05:09:35.000000000,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 04:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b216467659bdb1e269ab73ae3316b86b47d3448b', 'message': 'Don\'t reinstall python-virtualenv on infra nodes\n\nIn the original change I said ""for infra nodes, it shouldn\'t do\nanything anyway ..."".  Well that was pre-Fedora 26 :)\n\nIt may be that the referenced issues in the comment is a bug, or it\nmay be that it was always intended to work this way and the problem is\nours; dnf went from version 1 -> 2 in Fedora 26 so there\'s way too\nmuch to find a simple root cause ATM.\n\nAs described in the comment, take a simpler approach of skipping this\non infra nodes.  pip-and-virtualenv in dib should have installed the\nlatest pip, virtualenv and setuptools, so we don\'t want to fiddle with\nthat anyway.\n\n[1] https://review.openstack.org/#/c/338998/\n\nChange-Id: Ib300b58377a0d0fe1bd7444c71acdb9a87dc033b\n'}, {'number': 2, 'created': '2017-08-10 06:44:34.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2d57f93f68ae14e17313486e0d5ad2513af58fd1', 'message': 'Don\'t reinstall python-virtualenv on infra nodes\n\nIn the original change I said ""for infra nodes, it shouldn\'t do\nanything anyway ..."".  Well that was pre-Fedora 26 :)\n\nIt seems that dnf > 2.0 now intentionally throws an error when trying\nto explicitly install an ignored package.  Thus, as described in the\ncomment, take a simpler approach of skipping this on infra nodes.\npip-and-virtualenv in dib should have installed the latest pip,\nvirtualenv and setuptools, so we don\'t want to fiddle with that\nanyway.\n\n[1] https://review.openstack.org/#/c/338998/\n\nChange-Id: Ib300b58377a0d0fe1bd7444c71acdb9a87dc033b\n'}]",0,490331,2d57f93f68ae14e17313486e0d5ad2513af58fd1,30,5,2,7118,,,0,"Don't reinstall python-virtualenv on infra nodes

In the original change I said ""for infra nodes, it shouldn't do
anything anyway ..."".  Well that was pre-Fedora 26 :)

It seems that dnf > 2.0 now intentionally throws an error when trying
to explicitly install an ignored package.  Thus, as described in the
comment, take a simpler approach of skipping this on infra nodes.
pip-and-virtualenv in dib should have installed the latest pip,
virtualenv and setuptools, so we don't want to fiddle with that
anyway.

[1] https://review.openstack.org/#/c/338998/

Change-Id: Ib300b58377a0d0fe1bd7444c71acdb9a87dc033b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/31/490331/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,b216467659bdb1e269ab73ae3316b86b47d3448b,python-virtualenv-reinstall,"# ... but, for infra builds, the pip-and-virtualenv [1] element has # already done this to ensure the latest pip, virtualenv and # setuptools on the base image for all platforms. It has also added # the packages to the ignore list to prevent them being overwritten # with old versions. In theory, this should be idempotent, however # F26 has a bug (?) [2] that means re-installing python-virtualenv # fails. Thus we do a quick check if we're in the infra environment # by looking for the mirror config script before doing this, and just # skip it if so. # [1] https://git.openstack.org/cgit/openstack/diskimage-builder/tree/ \ # diskimage_builder/elements/pip-and-virtualenv/ \ # install.d/pip-and-virtualenv-source-install/04-install-pip # [2] https://bugzilla.redhat.com/show_bug.cgi?id=1477823 if [[ ! -f /etc/ci/mirror_info.sh ]]; then install_package python-virtualenv pip_install -U --force-reinstall virtualenv fi",install_package python-virtualenv pip_install -U --force-reinstall virtualenv,19,2
openstack%2Ftempest~master~Iae42b5c2b4381947df71004613ca0a82b29730bb,openstack/tempest,master,Iae42b5c2b4381947df71004613ca0a82b29730bb,Fix disable_ssl_certificate_validation values if ca_certificates file is defined,MERGED,2017-07-24 20:40:47.000000000,2017-08-21 05:07:56.000000000,2017-08-21 05:07:56.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 23186}, {'_account_id': 26198}, {'_account_id': 26484}]","[{'number': 1, 'created': '2017-07-24 20:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b04656086e8b0b13d20c7d23241612115bd4c7e8', 'message': 'Fix disable_ssl_certificate_validation values if ca_certificates file is defined\n\nRefactors http.py to correctly disable certificate validation even if the ca_certification location is provided.\n\nChange-Id: Iae42b5c2b4381947df71004613ca0a82b29730bb\nCloses-Bug: #1705769\n'}, {'number': 2, 'created': '2017-07-25 21:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0ccf7cbeb74c7ef6c1604d3edd551570a43cea4', 'message': 'Fix disable_ssl_certificate_validation values if ca_certificates file is defined\n\nIn ClosingHttp.__init__, if disable_ssl_certification_validation is True and\nca_certs is defined, tempest should not try to validate the ca_certificates\nfile. If the certificate is self-signed, the validation will execute and fail.\nAs it is right now if both of those values are defined, tempest.conf will try\nto validate the self-signed certs and it will fail. Instead, it should support\nself-signed certs that will not pass validation. The code should be refactored\nto correctly disable certificate validation even if the ca_cert location is\nprovided.\n\nChange-Id: Iae42b5c2b4381947df71004613ca0a82b29730bb\nCloses-Bug: #1705769\n'}, {'number': 3, 'created': '2017-07-26 13:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de63c8d0fdaa9f632e535ce63e5744ebf25450fc', 'message': 'Fix disable_ssl_certificate_validation values if ca_certificates file is defined\n\nIn ClosingHttp.__init__, if disable_ssl_certification_validation is True and\nca_certs is defined, tempest should not try to validate the ca_certificates\nfile. If the certificate is self-signed, the validation will execute and fail.\nAs it is right now if both of those values are defined, tempest.conf will try\nto validate the self-signed certs and it will fail. Instead, it should support\nself-signed certs that will not pass validation. The code should be refactored\nto correctly disable certificate validation even if the ca_cert location is\nprovided.\n\nChange-Id: Iae42b5c2b4381947df71004613ca0a82b29730bb\nCloses-Bug: #1705769\n'}, {'number': 4, 'created': '2017-07-31 13:00:50.000000000', 'files': ['tempest/lib/common/http.py', 'tempest/tests/lib/common/test_http.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6a79056ca6ecdfcb070a931e874d68a4a3b06df', 'message': 'Fix disable_ssl_certificate_validation values if ca_certificates file is defined\n\nIn ClosingHttp.__init__, if disable_ssl_certification_validation is True and\nca_certs is defined, tempest should not try to validate the ca_certificates\nfile. If the certificate is self-signed, the validation will execute and fail.\nAs it is right now if both of those values are defined, tempest.conf will try\nto validate the self-signed certs and it will fail. Instead, it should support\nself-signed certs that will not pass validation. The code should be refactored\nto correctly disable certificate validation even if the ca_cert location is\nprovided.\n\nChange-Id: Iae42b5c2b4381947df71004613ca0a82b29730bb\nCloses-Bug: #1705769\n'}]",8,486748,c6a79056ca6ecdfcb070a931e874d68a4a3b06df,25,16,4,26198,,,0,"Fix disable_ssl_certificate_validation values if ca_certificates file is defined

In ClosingHttp.__init__, if disable_ssl_certification_validation is True and
ca_certs is defined, tempest should not try to validate the ca_certificates
file. If the certificate is self-signed, the validation will execute and fail.
As it is right now if both of those values are defined, tempest.conf will try
to validate the self-signed certs and it will fail. Instead, it should support
self-signed certs that will not pass validation. The code should be refactored
to correctly disable certificate validation even if the ca_cert location is
provided.

Change-Id: Iae42b5c2b4381947df71004613ca0a82b29730bb
Closes-Bug: #1705769
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/486748/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/http.py', 'tempest/tests/lib/common/test_http.py']",2,b04656086e8b0b13d20c7d23241612115bd4c7e8,bug/1705769,"# Copyright 2017 AT&T Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from operator import getitem from tempest.lib.common import http from tempest.tests import base class TestClosingHTTP(base.TestCase): def test_constructor(self): connection = http.ClosingHttp(disable_ssl_certificate_validation=False, ca_certs=None, timeout=None) self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'cert_reqs') self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'ca_certs') self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'timeout') cert_location = ""/etc/ssl/certs/ca-certificates.crt"" cert_required = 'CERT_REQUIRED' connection = http.ClosingHttp(disable_ssl_certificate_validation=False, ca_certs=cert_location, timeout=None) self.assertEqual(connection.connection_pool_kw['cert_reqs'], cert_required) self.assertEqual(connection.connection_pool_kw['ca_certs'], cert_location) self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'timeout') cert_none = 'CERT_NONE' connection = http.ClosingHttp(disable_ssl_certificate_validation=True, ca_certs=None, timeout=30) self.assertEqual(connection.connection_pool_kw['cert_reqs'], cert_none) self.assertEqual(connection.connection_pool_kw['timeout'], 30) self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'ca_certs') connection = http.ClosingHttp(disable_ssl_certificate_validation=True, ca_certs=cert_location, timeout=None) self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'timeout') self.assertEqual(connection.connection_pool_kw['cert_reqs'], cert_none) self.assertRaises(KeyError, getitem, connection.connection_pool_kw, 'ca_certs') ",,61,2
openstack%2Fneutron~stable%2Fpike~I02d8587d3a1f9f3f6b8cbc79dbe8df4b4b99a893,openstack/neutron,stable/pike,I02d8587d3a1f9f3f6b8cbc79dbe8df4b4b99a893,Add port dns_domain processing logic,MERGED,2017-08-11 18:22:01.000000000,2017-08-21 05:07:48.000000000,2017-08-21 05:07:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-11 18:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a27aea83650be097019a771909044322a7485ec7', 'message': 'Add port dns_domain processing logic\n\nThis patchset adds logic to the ML2 DNS integration extension to process\na new dns_domain attribute associated to ports.\n\nThis patchset belongs to a series that adds dns_domain attribute\nfunctionality to ports.\n\nDocImpact: Ports have a new dns_domain attribute, that takes precedence\n           over networks dns_domain when published to an external DNS\n           service.\n\nAPIImpact: Users can now specify a dns_domain attribute in port POST and\n           PUT operations.\n\nChange-Id: I02d8587d3a1f9f3f6b8cbc79dbe8df4b4b99a893\nPartial-Bug: #1650678\n(cherry picked from commit 4a7753325999ef1e5c77f6131cfe03b2cfa364a7)\n'}, {'number': 2, 'created': '2017-08-18 22:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b997f95cdb5430c49571933f2c5730c28e8230d6', 'message': 'Add port dns_domain processing logic\n\nThis patchset adds logic to the ML2 DNS integration extension to process\na new dns_domain attribute associated to ports.\n\nThis patchset belongs to a series that adds dns_domain attribute\nfunctionality to ports.\n\nDocImpact: Ports have a new dns_domain attribute, that takes precedence\n           over networks dns_domain when published to an external DNS\n           service.\n\nAPIImpact: Users can now specify a dns_domain attribute in port POST and\n           PUT operations.\n\nChange-Id: I02d8587d3a1f9f3f6b8cbc79dbe8df4b4b99a893\nPartial-Bug: #1650678\n(cherry picked from commit 4a7753325999ef1e5c77f6131cfe03b2cfa364a7)\n'}, {'number': 3, 'created': '2017-08-19 02:45:24.000000000', 'files': ['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'releasenotes/notes/add-dns-domain-to-ports-f71359d75909a2d5.yaml', 'neutron/plugins/ml2/extensions/dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bda14668119ea6c884b46983b187f55f2d55b3dd', 'message': 'Add port dns_domain processing logic\n\nThis patchset adds logic to the ML2 DNS integration extension to process\na new dns_domain attribute associated to ports.\n\nThis patchset belongs to a series that adds dns_domain attribute\nfunctionality to ports.\n\nDocImpact: Ports have a new dns_domain attribute, that takes precedence\n           over networks dns_domain when published to an external DNS\n           service.\n\nAPIImpact: Users can now specify a dns_domain attribute in port POST and\n           PUT operations.\n\nChange-Id: I02d8587d3a1f9f3f6b8cbc79dbe8df4b4b99a893\nPartial-Bug: #1650678\n(cherry picked from commit 4a7753325999ef1e5c77f6131cfe03b2cfa364a7)\n'}]",0,493108,bda14668119ea6c884b46983b187f55f2d55b3dd,54,8,3,7787,,,0,"Add port dns_domain processing logic

This patchset adds logic to the ML2 DNS integration extension to process
a new dns_domain attribute associated to ports.

This patchset belongs to a series that adds dns_domain attribute
functionality to ports.

DocImpact: Ports have a new dns_domain attribute, that takes precedence
           over networks dns_domain when published to an external DNS
           service.

APIImpact: Users can now specify a dns_domain attribute in port POST and
           PUT operations.

Change-Id: I02d8587d3a1f9f3f6b8cbc79dbe8df4b4b99a893
Partial-Bug: #1650678
(cherry picked from commit 4a7753325999ef1e5c77f6131cfe03b2cfa364a7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/493108/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'releasenotes/notes/add-dns-domain-to-ports-f71359d75909a2d5.yaml', 'neutron/plugins/ml2/extensions/dns_integration.py']",3,a27aea83650be097019a771909044322a7485ec7,add-port-dns-domain-logic," if not (request_data.get(dns.DNSNAME) or request_data.get(dns.DNSDOMAIN)): self._create_port_dns_record(plugin_context, request_data, db_data, network, dns_name) def _create_port_dns_record(self, plugin_context, request_data, db_data, network, dns_name): external_dns_domain = (request_data.get(dns.DNSDOMAIN) or network.get(dns.DNSDOMAIN)) current_dns_name, current_dns_domain = ( self._calculate_current_dns_name_and_domain( dns_name, external_dns_domain, self.external_dns_not_needed(plugin_context, network))) dns_data_obj = port_obj.PortDNS( plugin_context, port_id=db_data['id'], current_dns_name=current_dns_name, current_dns_domain=current_dns_domain, previous_dns_name='', previous_dns_domain='', dns_name=dns_name, dns_domain=request_data.get(dns.DNSDOMAIN, '')) dns_data_obj.create() return dns_data_obj def _calculate_current_dns_name_and_domain(self, dns_name, external_dns_domain, no_external_dns_service): # When creating a new PortDNS object, the current_dns_name and # current_dns_domain fields hold the data that the integration driver # will send to the external DNS service. They are set to non-blank # values only if all the following conditions are met: # 1) There is an external DNS integration driver configured # 2) The user request contains a valid non-blank value for the port's # dns_name # 3) The user request contains a valid non-blank value for the port's # dns_domain or the port's network has a non-blank value in its # dns_domain attribute are_both_dns_attributes_set = dns_name and external_dns_domain if no_external_dns_service or not are_both_dns_attributes_set: return '', '' return dns_name, external_dns_domain def _update_dns_db(self, plugin_context, request_data, db_data, network): dns_name = request_data.get(dns.DNSNAME) dns_domain = request_data.get(dns.DNSDOMAIN) has_fixed_ips = 'fixed_ips' in request_data dns_data_db[dns.DNSNAME] != dns_name) is_dns_domain_changed = (dns_domain is not None and dns_data_db[dns.DNSDOMAIN] != dns_domain) if (is_dns_name_changed or is_dns_domain_changed or (has_fixed_ips and dns_data_db['current_dns_name'])): dns_data_db = self._populate_previous_external_dns_data( dns_data_db) dns_data_db = self._populate_current_external_dns_data( request_data, network, dns_data_db, dns_name, dns_domain, is_dns_name_changed, is_dns_domain_changed) elif not dns_data_db['current_dns_name']: # If port was removed from external DNS service in previous # update, make sure we don't attempt removal again dns_data_db['previous_dns_name'] = '' dns_data_db['previous_dns_domain'] = '' if dns_name or dns_domain: dns_data_db = self._create_port_dns_record(plugin_context, request_data, db_data, network, dns_name or '') return dns_data_db def _populate_previous_external_dns_data(self, dns_data_db): dns_data_db['previous_dns_name'] = ( dns_data_db['current_dns_name']) dns_data_db['previous_dns_domain'] = ( dns_data_db['current_dns_domain']) return dns_data_db def _populate_current_external_dns_data(self, request_data, network, dns_data_db, dns_name, dns_domain, is_dns_name_changed, is_dns_domain_changed): if is_dns_name_changed or is_dns_domain_changed: if is_dns_name_changed: dns_data_db[dns.DNSNAME] = dns_name external_dns_domain = (dns_data_db[dns.DNSDOMAIN] or network.get(dns.DNSDOMAIN)) if is_dns_domain_changed: dns_data_db[dns.DNSDOMAIN] = dns_domain external_dns_domain = request_data[dns.DNSDOMAIN] if not external_dns_domain: external_dns_domain = network.get(dns.DNSDOMAIN) dns_data_db['current_dns_name'] = dns_data_db[dns.DNSNAME] dns_data_db['current_dns_domain'] = external_dns_domain if not (dns_data_db['current_dns_name'] and dns_data_db['current_dns_domain']): dns_data_db['current_dns_name'] = '' dns_data_db['current_dns_domain'] = '' has_dns_name = dns.DNSNAME in request_data has_dns_domain = dns.DNSDOMAIN in request_data if not any((has_dns_name, has_fixed_ips, has_dns_domain)): is_dns_domain_default = self._get_request_dns_name( request_data)[1] if is_dns_domain_default: self._extend_port_dict(plugin_context.session, db_data, db_data, None) return if self.external_dns_not_needed(plugin_context, network): # dns_name or dns_domain attributes if necessary if has_dns_name or has_dns_domain: dns_data_db = self._process_only_port_update( plugin_context, request_data, db_data) else: dns_data_db = self._update_dns_db(plugin_context, request_data, db_data, network) def _process_only_port_update(self, plugin_context, request_data, db_data): dns_name = request_data.get(dns.DNSNAME) dns_domain = request_data.get(dns.DNSDOMAIN) if dns_name is not None and dns_data_db[dns.DNSNAME] != dns_name: dns_data_db[dns.DNSNAME] = dns_name if (dns_domain is not None and dns_data_db[dns.DNSDOMAIN] != dns_domain): dns_data_db[dns.DNSDOMAIN] = dns_domain dns_data_db = port_obj.PortDNS(plugin_context, port_id=db_data['id'], current_dns_name='', current_dns_domain='', previous_dns_name='', previous_dns_domain='', dns_name=dns_name or '', dns_domain=dns_domain or '') dns_data_db.create() _supported_extension_aliases = ['dns-integration', 'dns-domain-ports'] def extension_aliases(self): return self._supported_extension_aliases def extend_port_dict(self, session, db_data, response_data): response_data = ( super(DNSDomainPortsExtensionDriver, self).extend_port_dict( session, db_data, response_data)) dns_data_db = db_data.dns response_data[dns.DNSDOMAIN] = '' if dns_data_db: response_data[dns.DNSDOMAIN] = dns_data_db[dns.DNSDOMAIN] is_dns_name_changed = (updated_port[dns.DNSNAME] != original_port[dns.DNSNAME]) is_dns_domain_changed = (dns.DNSDOMAIN in updated_port and updated_port[dns.DNSDOMAIN] != original_port[dns.DNSDOMAIN]) ips_changed = set(original_ips) != set(updated_ips) if not any((is_dns_name_changed, is_dns_domain_changed, ips_changed)):"," if not request_data.get(dns.DNSNAME): if self.external_dns_not_needed( plugin_context, network) or not network[dns.DNSDOMAIN]: current_dns_name = '' current_dns_domain = '' else: current_dns_name = dns_name current_dns_domain = network[dns.DNSDOMAIN] port_obj.PortDNS(plugin_context, port_id=db_data['id'], current_dns_name=current_dns_name, current_dns_domain=current_dns_domain, previous_dns_name='', previous_dns_domain='', dns_name=dns_name, dns_domain='').create() def _update_dns_db(self, dns_name, dns_domain, db_data, plugin_context, has_fixed_ips): dns_data_db['current_dns_name'] != dns_name) if is_dns_name_changed or (has_fixed_ips and dns_data_db['current_dns_name']): dns_data_db['previous_dns_name'] = ( dns_data_db['current_dns_name']) dns_data_db['previous_dns_domain'] = ( dns_data_db['current_dns_domain']) if is_dns_name_changed: dns_data_db[dns.DNSNAME] = dns_name dns_data_db['current_dns_name'] = dns_name if dns_name: dns_data_db['current_dns_domain'] = dns_domain else: dns_data_db['current_dns_domain'] = '' if dns_name: dns_data_db = port_obj.PortDNS(plugin_context, port_id=db_data['id'], current_dns_name=dns_name, current_dns_domain=dns_domain, previous_dns_name='', previous_dns_domain='', dns_name=dns_name, dns_domain='') dns_data_db.create() dns_name = request_data.get(dns.DNSNAME) if dns_name is None and not has_fixed_ips: if dns_name is not None: dns_name, is_dns_domain_default = self._get_request_dns_name( request_data) if is_dns_domain_default: self._extend_port_dict(plugin_context.session, db_data, db_data, None) return dns_domain = network[dns.DNSDOMAIN] if not dns_domain or self.external_dns_not_needed(plugin_context, network): # dns_name attribute if necessary if dns_name is not None: dns_data_db = self._process_only_dns_name_update( plugin_context, db_data, dns_name) else: dns_data_db = self._update_dns_db(dns_name, dns_domain, db_data, plugin_context, has_fixed_ips) def _process_only_dns_name_update(self, plugin_context, db_data, dns_name): dns_data_db['dns_name'] = dns_name if dns_name: dns_data_db = port_obj.PortDNS(plugin_context, port_id=db_data['id'], current_dns_name='', current_dns_domain='', previous_dns_name='', previous_dns_domain='', dns_name=dns_name, dns_domain='') dns_data_db.create() _supported_extension_alias = 'dns-domain-ports' def extension_alias(self): return self._supported_extension_alias if (updated_port[dns.DNSNAME] == original_port[dns.DNSNAME] and set(original_ips) == set(updated_ips)): return if (updated_port[dns.DNSNAME] == original_port[dns.DNSNAME] and not original_port[dns.DNSNAME]):",157,85
openstack%2Ftempest~master~Ie8c9b542e62965615e96c06009a7e6554f07fb06,openstack/tempest,master,Ie8c9b542e62965615e96c06009a7e6554f07fb06,Do not run test_create_server_with_scheduler_hint_group twice,MERGED,2017-08-11 05:40:50.000000000,2017-08-21 05:07:39.000000000,2017-08-21 05:07:39.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 20190}, {'_account_id': 23186}, {'_account_id': 23709}]","[{'number': 1, 'created': '2017-08-11 05:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b8469061f579d9c1209180860acf421b4218d11', 'message': ""Do not run test_create_server_with_scheduler_hint_group twice\n\ntest_create_server_with_scheduler_hint_group will be run twice\nin ServersTestJSON and ServersTestBootFromVolume with exactly\nsame behaviour, because it doesn't use the server created in\nresource_setup.\nThis is to move test_create_server_with_scheduler_hint_group to\ntest_server_group.py, to let it be run only once, and to put it\ntogether with server group testcases is reasonable.\n\ntest_create_server_with_scheduler_hint_group is not used in\ninterop, so we can safely move it.\n\nChange-Id: Ie8c9b542e62965615e96c06009a7e6554f07fb06\n""}, {'number': 2, 'created': '2017-08-11 06:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc6a67618ee21f38461c14896d7fbc8496fc4d38', 'message': ""Do not run test_create_server_with_scheduler_hint_group twice\n\ntest_create_server_with_scheduler_hint_group will be run twice\nin ServersTestJSON and ServersTestBootFromVolume with exactly\nsame behaviour, because it doesn't use the server created in\nresource_setup.\nThis is to move test_create_server_with_scheduler_hint_group to\ntest_server_group.py, to let it be run only once, and to put it\ntogether with server group testcases is reasonable.\n\ntest_create_server_with_scheduler_hint_group is not used in\ninterop, so we can safely move it.\n\nChange-Id: Ie8c9b542e62965615e96c06009a7e6554f07fb06\n""}, {'number': 3, 'created': '2017-08-11 08:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/046cc8ff07086bba0ae7e897c11fcf5d4560a300', 'message': ""Do not run test_create_server_with_scheduler_hint_group twice\n\ntest_create_server_with_scheduler_hint_group will be run twice\nin ServersTestJSON and ServersTestBootFromVolume with exactly\nsame behaviour, because it doesn't use the server created in\nresource_setup.\nThis is to move test_create_server_with_scheduler_hint_group to\ntest_server_group.py, to let it be run only once, and to put it\ntogether with server group testcases is reasonable.\n\ntest_create_server_with_scheduler_hint_group is not used in\ninterop, so we can safely move it.\n\nChange-Id: Ie8c9b542e62965615e96c06009a7e6554f07fb06\n""}, {'number': 4, 'created': '2017-08-14 02:42:20.000000000', 'files': ['tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/servers/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d095847bfd9ebea92c046a5155013b4249d14036', 'message': ""Do not run test_create_server_with_scheduler_hint_group twice\n\ntest_create_server_with_scheduler_hint_group will be run twice\nin ServersTestJSON and ServersTestBootFromVolume with exactly\nsame behaviour, because it doesn't use the server created in\nresource_setup.\nThis is to move test_create_server_with_scheduler_hint_group to\ntest_server_group.py, to let it be run only once, and to put it\ntogether with server group testcases is reasonable.\n\ntest_create_server_with_scheduler_hint_group is not used in\ninterop, so we can safely move it.\n\nChange-Id: Ie8c9b542e62965615e96c06009a7e6554f07fb06\n""}]",0,492804,d095847bfd9ebea92c046a5155013b4249d14036,17,6,4,20190,,,0,"Do not run test_create_server_with_scheduler_hint_group twice

test_create_server_with_scheduler_hint_group will be run twice
in ServersTestJSON and ServersTestBootFromVolume with exactly
same behaviour, because it doesn't use the server created in
resource_setup.
This is to move test_create_server_with_scheduler_hint_group to
test_server_group.py, to let it be run only once, and to put it
together with server group testcases is reasonable.

test_create_server_with_scheduler_hint_group is not used in
interop, so we can safely move it.

Change-Id: Ie8c9b542e62965615e96c06009a7e6554f07fb06
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/492804/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/servers/test_server_group.py']",2,0b8469061f579d9c1209180860acf421b4218d11,move_test,"import testtools @decorators.idempotent_id('ed20d3fb-9d1f-4329-b160-543fbd5d9811') @testtools.skipUnless( test.is_scheduler_filter_enabled(""ServerGroupAffinityFilter""), 'ServerGroupAffinityFilter is not available.') def test_create_server_with_scheduler_hint_group(self): # Create a server with the scheduler hint ""group"". hints = {'group': self.created_server_group['id']} server = self.create_test_server(scheduler_hints=hints, wait_until='ACTIVE') # Check a server is in the group server_group = (self.server_groups_client.show_server_group( self.created_server_group['id'])['server_group']) self.assertIn(server['id'], server_group['members'])",,17,16
openstack%2Ftempest~master~I56ee6a1aa8fd63c336849affb8d6aff5c9e66e9e,openstack/tempest,master,I56ee6a1aa8fd63c336849affb8d6aff5c9e66e9e,Update and replace http with https for doc links in tempest,MERGED,2017-08-14 07:14:12.000000000,2017-08-21 05:07:31.000000000,2017-08-21 05:07:31.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 23186}, {'_account_id': 23709}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-14 07:14:12.000000000', 'files': ['doc/source/microversion_testing.rst', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/20e512b55333248bd37f081419aed4ef38b8ec2a', 'message': 'Update and replace http with https for doc links in tempest\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I56ee6a1aa8fd63c336849affb8d6aff5c9e66e9e\n'}]",0,493458,20e512b55333248bd37f081419aed4ef38b8ec2a,12,6,1,23317,,,0,"Update and replace http with https for doc links in tempest

1) Update doc links according to OpenStack document migration
2) Use https instead of http for docs links

Change-Id: I56ee6a1aa8fd63c336849affb8d6aff5c9e66e9e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/493458/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/microversion_testing.rst', 'bindep.txt']",2,20e512b55333248bd37f081419aed4ef38b8ec2a,dev,# More info at: https://docs.openstack.org/infra/bindep/readme.html,# More info at: http://docs.openstack.org/infra/bindep/readme.html,9,9
openstack%2Fkolla-ansible~stable%2Focata~I49c64808cb236dab1d9fa2e699d0a2f2fc54cc99,openstack/kolla-ansible,stable/ocata,I49c64808cb236dab1d9fa2e699d0a2f2fc54cc99,Update default settings in libvirtd.conf jinja template,MERGED,2017-08-20 03:41:47.000000000,2017-08-21 05:01:03.000000000,2017-08-21 05:01:03.000000000,"[{'_account_id': 3}, {'_account_id': 11869}, {'_account_id': 16704}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-08-20 03:41:47.000000000', 'files': ['ansible/roles/nova/templates/libvirtd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c84faf4a266450d2eba3be3a67d168b4906d4e7e', 'message': ""Update default settings in libvirtd.conf jinja template\n\nExisting defaults are setup for tcp, and set ca_file to an empty string.\n'If you set this to an empty string, then no trusted CA certificate is loaded.'\n\nlibvirt may complain 'unsupported configuration: No server certificate path\nset to match server key', as such tls should also be explicitly set to 0.\n\nChange-Id: I49c64808cb236dab1d9fa2e699d0a2f2fc54cc99\n(cherry picked from commit 24427735dae38206fcc1615c4dfee88d6999ffb6)\n""}]",0,495524,c84faf4a266450d2eba3be3a67d168b4906d4e7e,8,4,1,7488,,,0,"Update default settings in libvirtd.conf jinja template

Existing defaults are setup for tcp, and set ca_file to an empty string.
'If you set this to an empty string, then no trusted CA certificate is loaded.'

libvirt may complain 'unsupported configuration: No server certificate path
set to match server key', as such tls should also be explicitly set to 0.

Change-Id: I49c64808cb236dab1d9fa2e699d0a2f2fc54cc99
(cherry picked from commit 24427735dae38206fcc1615c4dfee88d6999ffb6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/495524/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/templates/libvirtd.conf.j2'],1,c84faf4a266450d2eba3be3a67d168b4906d4e7e,,listen_tls = 0,,1,0
openstack%2Ftempest~master~I19c957445ccdb7f260c99529cdc7ce32373d20f4,openstack/tempest,master,I19c957445ccdb7f260c99529cdc7ce32373d20f4,Updated from global requirements,MERGED,2017-08-18 04:54:14.000000000,2017-08-21 04:52:47.000000000,2017-08-21 04:52:47.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-08-18 04:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c42b033a534a5ad2e99e67b48806cbbaf10de8fd', 'message': 'Updated from global requirements\n\nChange-Id: I19c957445ccdb7f260c99529cdc7ce32373d20f4\n'}, {'number': 2, 'created': '2017-08-18 11:44:11.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/05c86924cd69b9c0d6e4b1dc6a1425015d99c1ed', 'message': 'Updated from global requirements\n\nChange-Id: I19c957445ccdb7f260c99529cdc7ce32373d20f4\n'}]",0,494933,05c86924cd69b9c0d6e4b1dc6a1425015d99c1ed,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: I19c957445ccdb7f260c99529cdc7ce32373d20f4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/494933/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,c42b033a534a5ad2e99e67b48806cbbaf10de8fd,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,3,3
openstack%2Fblazar~master~Ic9bd743a1c31858db9390a3379dc19e1e54327a8,openstack/blazar,master,Ic9bd743a1c31858db9390a3379dc19e1e54327a8,Allow update host API to add new extra capabilities,MERGED,2017-08-07 19:29:31.000000000,2017-08-21 04:43:25.000000000,2017-08-21 04:43:25.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 23840}, {'_account_id': 24603}]","[{'number': 1, 'created': '2017-08-07 19:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/7cddab1f05902e96dd9b98c15c91d94f3dd865c8', 'message': 'Allow update host API to add new extra capabilities\n\nThe update host API can only update existing extra capabilities.\nHowever, we can support adding new extra capabilities to hosts without\nAPI change.\n\nWith this patch, Blazar can both create and update extra capabilities\nvia the update host API.\n\nChange-Id: Ic9bd743a1c31858db9390a3379dc19e1e54327a8\n'}, {'number': 2, 'created': '2017-08-09 16:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c57715490d249d407db82e21289c5bcc9ac7c0d8', 'message': 'Allow update host API to add new extra capabilities\n\nThe update host API can only update existing extra capabilities.\nHowever, we can support adding new extra capabilities to hosts without\nAPI change.\n\nWith this patch, Blazar can both create and update extra capabilities\nvia the update host API.\n\nPartial-Bug: #1674524\nChange-Id: Ic9bd743a1c31858db9390a3379dc19e1e54327a8\n'}, {'number': 3, 'created': '2017-08-10 17:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f85ee524553ddee42c4c7ff33b6998084fb2c30b', 'message': 'Allow update host API to add new extra capabilities\n\nThe update host API can only update existing extra capabilities.\nHowever, we can support adding new extra capabilities to hosts without\nAPI change.\n\nWith this patch, Blazar can both create and update extra capabilities\nvia the update host API.\n\nPartial-Bug: #1674524\nChange-Id: Ic9bd743a1c31858db9390a3379dc19e1e54327a8\n'}, {'number': 4, 'created': '2017-08-11 08:20:13.000000000', 'files': ['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/plugins/test_physical_host_plugin.py', 'releasenotes/notes/create-extra-capabilities-in-update-host-c74ce75c88e88c67.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/03e005993262357eb955601fb8acef38654eadf8', 'message': 'Allow update host API to add new extra capabilities\n\nThe update host API can only update existing extra capabilities.\nHowever, we can support adding new extra capabilities to hosts without\nAPI change.\n\nWith this patch, Blazar can both create and update extra capabilities\nvia the update host API.\n\nPartial-Bug: #1674524\nChange-Id: Ic9bd743a1c31858db9390a3379dc19e1e54327a8\n'}]",3,491583,03e005993262357eb955601fb8acef38654eadf8,22,5,4,15197,,,0,"Allow update host API to add new extra capabilities

The update host API can only update existing extra capabilities.
However, we can support adding new extra capabilities to hosts without
API change.

With this patch, Blazar can both create and update extra capabilities
via the update host API.

Partial-Bug: #1674524
Change-Id: Ic9bd743a1c31858db9390a3379dc19e1e54327a8
",git fetch https://review.opendev.org/openstack/blazar refs/changes/83/491583/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/plugins/test_physical_host_plugin.py', 'releasenotes/notes/create-extra-capabilities-in-update-host-c74ce75c88e88c67.yaml']",3,7cddab1f05902e96dd9b98c15c91d94f3dd865c8,bug/1674524,"--- features: - | The update host API now supports creating new extra capabilities on existing hosts, in addition to modifying existing ones. ",,35,8
openstack%2Fkolla~stable%2Focata~Iee4efeb9ce8e669646f01022b701037edd225531,openstack/kolla,stable/ocata,Iee4efeb9ce8e669646f01022b701037edd225531,Bump OpenStack service version,MERGED,2017-08-16 06:00:46.000000000,2017-08-21 04:35:32.000000000,2017-08-21 04:35:32.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-08-16 06:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2f6134993200afc19b21e0871deb73e3fde98ecd', 'message': 'Bump OpenStack service version\n\n* Bump aodh from 4.0.0 to 4.0.1\n* Bump ceilometer from 8.0.1 to 8.1.0\n* Bump cinder from 10.0.3 to 10.0.4\n* Bump heat from 8.0.2 to 8.0.3\n* Bump keystone from 11.0.2 to 11.0.3\n* Bump magnum from 4.1.2 to 4.1.3\n\nChange-Id: Iee4efeb9ce8e669646f01022b701037edd225531\n'}, {'number': 2, 'created': '2017-08-19 14:47:00.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/141e26a4ffb8a2870b9a5584cfa4545b24ffd152', 'message': 'Bump OpenStack service version\n\n* Bump aodh from 4.0.0 to 4.0.1\n* Bump ceilometer from 8.0.1 to 8.1.0\n* Bump cinder from 10.0.3 to 10.0.4\n* Bump heat from 8.0.2 to 8.0.3\n* Bump keystone from 11.0.2 to 11.0.3\n* Bump magnum from 4.1.2 to 4.1.3\n\nChange-Id: Iee4efeb9ce8e669646f01022b701037edd225531\n'}]",0,494079,141e26a4ffb8a2870b9a5584cfa4545b24ffd152,13,4,2,7488,,,0,"Bump OpenStack service version

* Bump aodh from 4.0.0 to 4.0.1
* Bump ceilometer from 8.0.1 to 8.1.0
* Bump cinder from 10.0.3 to 10.0.4
* Bump heat from 8.0.2 to 8.0.3
* Bump keystone from 11.0.2 to 11.0.3
* Bump magnum from 4.1.2 to 4.1.3

Change-Id: Iee4efeb9ce8e669646f01022b701037edd225531
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/494079/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,2f6134993200afc19b21e0871deb73e3fde98ecd,," 'aodh-4.0.1.tar.gz')}, 'ceilometer-8.1.0.tar.gz')}, 'cinder-10.0.4.tar.gz')}, 'heat-8.0.3.tar.gz')}, 'keystone-11.0.3.tar.gz')}, 'magnum-4.1.3.tar.gz')},"," 'aodh-4.0.0.tar.gz')}, 'ceilometer-8.0.1.tar.gz')}, 'cinder-10.0.3.tar.gz')}, 'heat-8.0.2.tar.gz')}, 'keystone-11.0.2.tar.gz')}, 'magnum-4.1.2.tar.gz')},",6,6
openstack%2Fkolla~stable%2Focata~I0d7bf1576aaf24fc7c60f49923e37a6a1afe9a8e,openstack/kolla,stable/ocata,I0d7bf1576aaf24fc7c60f49923e37a6a1afe9a8e,libvirt should be installed from OS rather than pip,MERGED,2017-08-16 09:02:02.000000000,2017-08-21 04:35:25.000000000,2017-08-21 04:35:25.000000000,"[{'_account_id': 3}, {'_account_id': 10787}, {'_account_id': 11869}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-08-16 09:02:02.000000000', 'files': ['docker/nova/nova-compute/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c09a7d5a780ead60592801ab02df1b4d94901ae', 'message': 'libvirt should be installed from OS rather than pip\n\npython-libvirt need be compiled with libvirt header. compiling\nit with different libvirt header may be failed.\n\nSo better install python-libvirt from OS distro.\n\nCloses-Bug: #1707841\nChange-Id: I0d7bf1576aaf24fc7c60f49923e37a6a1afe9a8e\n(cherry picked from commit 17c5123fda995438a2fdba3ec40e6c4cec9c5505)\n'}]",0,494138,3c09a7d5a780ead60592801ab02df1b4d94901ae,10,4,1,7488,,,0,"libvirt should be installed from OS rather than pip

python-libvirt need be compiled with libvirt header. compiling
it with different libvirt header may be failed.

So better install python-libvirt from OS distro.

Closes-Bug: #1707841
Change-Id: I0d7bf1576aaf24fc7c60f49923e37a6a1afe9a8e
(cherry picked from commit 17c5123fda995438a2fdba3ec40e6c4cec9c5505)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/494138/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-compute/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2']",2,3c09a7d5a780ead60592801ab02df1b4d94901ae,bug/1707841, 'libvirt-python' 'python-libvirt', 'libvirt-devel' 'libvirt-dev'RUN /var/lib/kolla/venv/bin/pip --no-cache-dir install --upgrade -c requirements/upper-constraints.txt libvirt-python,5,9
openstack%2Foslo.rootwrap~stable%2Fpike~I49f64fa17fb8b85e7b3823f025de7e67c151cf37,openstack/oslo.rootwrap,stable/pike,I49f64fa17fb8b85e7b3823f025de7e67c151cf37,Updated from global requirements,MERGED,2017-08-11 19:04:19.000000000,2017-08-21 04:34:23.000000000,2017-08-21 04:34:23.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-08-11 19:04:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/b7b63e2ecb50ba66a1f152ae6f71dd208326fbee', 'message': 'Updated from global requirements\n\nChange-Id: I49f64fa17fb8b85e7b3823f025de7e67c151cf37\n'}]",0,493161,b7b63e2ecb50ba66a1f152ae6f71dd208326fbee,11,2,1,11131,,,0,"Updated from global requirements

Change-Id: I49f64fa17fb8b85e7b3823f025de7e67c151cf37
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/61/493161/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b7b63e2ecb50ba66a1f152ae6f71dd208326fbee,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fblazar~master~I2217eb60496e4f564b0e5181445e9ac919c70d3d,openstack/blazar,master,I2217eb60496e4f564b0e5181445e9ac919c70d3d,Return a MissingParameter error when required parameters are missing,MERGED,2017-08-14 05:44:20.000000000,2017-08-21 04:32:34.000000000,2017-08-21 04:32:34.000000000,"[{'_account_id': 3}, {'_account_id': 15197}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-08-14 05:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/85c55ea772880e6cbc8b7f61331e362abace8a29', 'message': ""Return Missing Parameter error by the instance reservation plugin\n\nThe instance reservation plugin dosen't raise MssingParameter exception\nin its parameter validation method. It causes 500 Internal Server error\nwhen users try to create instance reservation with insufficient\nparameters.\n\nThis patch changes the plugin raises Missing Pramater Exception at\nthe validation method. Thus, the plugin correctly return Missing\nParameter error with 400 status code to user.\n\nChange-Id: I2217eb60496e4f564b0e5181445e9ac919c70d3d\n""}, {'number': 2, 'created': '2017-08-14 17:45:13.000000000', 'files': ['blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/eb2a6fa7430fdde2925fed2cd8a0e8bc88757bb9', 'message': 'Return a MissingParameter error when required parameters are missing\n\nThe instance reservation plugin was failing to raise a MissingParameter\nexception in its parameter validation method. It resulted in users\nreceiving a ""500 Internal Server Error"" when trying to create instance\nreservations with insufficient parameters.\n\nThis patch changes the plugin to correctly raise a MissingParameter\nexception in the validation method, which results in a MissingParameter\nerror with a 400 status code being returned to the user.\n\nChange-Id: I2217eb60496e4f564b0e5181445e9ac919c70d3d\n'}]",0,493433,eb2a6fa7430fdde2925fed2cd8a0e8bc88757bb9,11,3,2,8878,,,0,"Return a MissingParameter error when required parameters are missing

The instance reservation plugin was failing to raise a MissingParameter
exception in its parameter validation method. It resulted in users
receiving a ""500 Internal Server Error"" when trying to create instance
reservations with insufficient parameters.

This patch changes the plugin to correctly raise a MissingParameter
exception in the validation method, which results in a MissingParameter
error with a 400 status code being returned to the user.

Change-Id: I2217eb60496e4f564b0e5181445e9ac919c70d3d
",git fetch https://review.opendev.org/openstack/blazar refs/changes/33/493433/2 && git format-patch -1 --stdout FETCH_HEAD,['blazar/plugins/instances/instance_plugin.py'],1,85c55ea772880e6cbc8b7f61331e362abace8a29,missing-param-error," missing_attr = marshall_attributes - set(values.keys()) if missing_attr: raise mgr_exceptions.MissingParameter(param=','.join(missing_attr))"," missing_params = marshall_attributes - set(values.keys()) if missing_params: mgr_exceptions.MissingParameter(param=','.join(missing_params))",3,3
openstack%2Fmagnum~master~I582c787395d6eef559d7914bea815440cc09c0e2,openstack/magnum,master,I582c787395d6eef559d7914bea815440cc09c0e2,Remove deprecated usage of CORS.set_latent,MERGED,2017-08-18 03:25:00.000000000,2017-08-21 04:16:34.000000000,2017-08-21 04:16:34.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}]","[{'number': 1, 'created': '2017-08-18 03:25:00.000000000', 'files': ['magnum/tests/unit/api/controllers/auth-paste.ini', 'magnum/tests/unit/api/controllers/auth-v1-access.ini', 'magnum/tests/unit/api/controllers/auth-root-access.ini', 'magnum/tests/unit/api/controllers/noauth-paste.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f46cb1fc3d8cfd85e74833380052aacfc716d3a4', 'message': ""Remove deprecated usage of CORS.set_latent\n\nMethod set_latent is deprecated in favor of method set_defaults in\ne9c3a23e845d8c53b266a3b2e4ca7fb0a5a0425a. We need remove the usage of\nmethod set_latent. We just use these config options in tests, it works\nwell for unit tests without them, so it's safe to remove them.\n\nChange-Id: I582c787395d6eef559d7914bea815440cc09c0e2\nCloses-Bug: #1707151\n""}]",0,494778,f46cb1fc3d8cfd85e74833380052aacfc716d3a4,7,3,1,9796,,,0,"Remove deprecated usage of CORS.set_latent

Method set_latent is deprecated in favor of method set_defaults in
e9c3a23e845d8c53b266a3b2e4ca7fb0a5a0425a. We need remove the usage of
method set_latent. We just use these config options in tests, it works
well for unit tests without them, so it's safe to remove them.

Change-Id: I582c787395d6eef559d7914bea815440cc09c0e2
Closes-Bug: #1707151
",git fetch https://review.opendev.org/openstack/magnum refs/changes/78/494778/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/controllers/auth-paste.ini', 'magnum/tests/unit/api/controllers/auth-v1-access.ini', 'magnum/tests/unit/api/controllers/auth-root-access.ini', 'magnum/tests/unit/api/controllers/noauth-paste.ini']",4,f46cb1fc3d8cfd85e74833380052aacfc716d3a4,bug/1707151,,"latent_allow_methods = GET, PUT, POST, DELETE, PATCH latent_allow_headers = X-Auth-Token, X-Identity-Status, X-Roles, X-Service-Catalog, X-User-Id, X-Tenant-Id, X-OpenStack-Request-ID latent_expose_headers = X-Auth-Token, X-Subject-Token, X-Service-Token, X-OpenStack-Request-ID",0,12
openstack%2Fneutron-fwaas~master~Ie60009b7057f2167e4c97f82e13487ef0b226e07,openstack/neutron-fwaas,master,Ie60009b7057f2167e4c97f82e13487ef0b226e07,Update links in README,MERGED,2017-08-04 02:30:43.000000000,2017-08-21 03:40:21.000000000,2017-08-21 03:40:21.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 17776}, {'_account_id': 22153}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-04 02:30:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4bf81807faabe5ceb638054284ce406a5a2b38f3', 'message': 'Update links in README\n\nChange-Id: Ie60009b7057f2167e4c97f82e13487ef0b226e07\n'}]",0,490709,4bf81807faabe5ceb638054284ce406a5a2b38f3,10,6,1,25747,,,0,"Update links in README

Change-Id: Ie60009b7057f2167e4c97f82e13487ef0b226e07
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/09/490709/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4bf81807faabe5ceb638054284ce406a5a2b38f3,readme,.. image:: https://governance.openstack.org/tc/badges/neutron-fwaas.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: https://governance.openstack.org/badges/neutron-fwaas.svg :target: https://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fneutron-fwaas~master~Icbfd7e1f62a35780d232fbe02b0825a78ea0bf6b,openstack/neutron-fwaas,master,Icbfd7e1f62a35780d232fbe02b0825a78ea0bf6b,Updated from global requirements,MERGED,2017-08-18 04:45:22.000000000,2017-08-21 03:34:08.000000000,2017-08-21 03:34:08.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-08-18 04:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/294361d1c5992764c0d6e1aa5ce830e1d0fae8c0', 'message': 'Updated from global requirements\n\nChange-Id: Icbfd7e1f62a35780d232fbe02b0825a78ea0bf6b\n'}, {'number': 2, 'created': '2017-08-18 11:34:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/465023a1369ab678d023eb4ce62f65985bd90c03', 'message': 'Updated from global requirements\n\nChange-Id: Icbfd7e1f62a35780d232fbe02b0825a78ea0bf6b\n'}]",1,494854,465023a1369ab678d023eb4ce62f65985bd90c03,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: Icbfd7e1f62a35780d232fbe02b0825a78ea0bf6b
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/54/494854/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,294361d1c5992764c0d6e1aa5ce830e1d0fae8c0,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0,2,2
openstack%2Fopenstacksdk~master~Id05fcdc0be8f50304a974c01d1aada4eaa4053cd,openstack/openstacksdk,master,Id05fcdc0be8f50304a974c01d1aada4eaa4053cd,fix the bug that cannot create a listener by openstacksdk,MERGED,2017-08-14 06:38:32.000000000,2017-08-21 03:12:43.000000000,2017-08-21 03:12:43.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 10068}, {'_account_id': 11628}, {'_account_id': 26650}, {'_account_id': 26651}]","[{'number': 1, 'created': '2017-08-14 06:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9629d12571768367cad9935f019a1c27fad2ba67', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 2, 'created': '2017-08-14 07:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c4d44eef5c507bb565bf95f634c50966439e6836', 'message': 'The patch is fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave a problem\n Listener must be created with a loadbalancer or pool.\nWhen I modify the parameter ""loadlbalancer_id:\'2\'"" to\n""loadbalancers:[{\'id\':\'2\'}],there have other problem\nAttribute \'loadbalancers\' not allowed in POST\n\nI modify the listener class, convert the ""loadbalancers"" to\n""loadbalancer_id"", then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 3, 'created': '2017-08-14 10:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5ccc9a46aa9d8a3a09a643a5fe650e9674f226b9', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave a error with the message ""Listener must be created with a\nloadbalancer or pool."" I guess the reason is that i give the parameter\n""loadbalancer_id""  but it be ignored in the code.\n\nI modify the listener class, convert the ""loadbalancers"" to\n""loadbalancer_id"", then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 4, 'created': '2017-08-15 01:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3151bb35fcd253f6efdd62365b377a3fa23e2fc2', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave an error with the message ""Listener must be created with a\nloadbalancer or pool."" I guess the reason is that I give the parameter\n""loadbalancer_id""  but it be ignored in the code.\n\nI modify the listener class, I add a new line load_balancer_id =\nresource.Body(\'loadbalancer_id\'), then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 5, 'created': '2017-08-15 02:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/93a6226740ffe12de8309eb83bbf0ff1f26dd839', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave an error with the message ""Listener must be created with a\nloadbalancer or pool."" I guess the reason is that I give the parameter\n""loadbalancer_id""  but it be ignored in the code.\n\nI modify the listener class, I add a new line load_balancer_id =\nresource.Body(\'loadbalancer_id\'), then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 6, 'created': '2017-08-19 02:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f89cf7534d539177925ac6d39ec4a894ee4b0b0c', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave an error with the message ""Listener must be created with a\nloadbalancer or pool."" I guess the reason is that I give the parameter\n""loadbalancer_id""  but it be ignored in the code.\n\nI modify the listener class, I add a new line load_balancer_id =\nresource.Body(\'loadbalancer_id\'), then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 7, 'created': '2017-08-21 02:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/53ea530bb36f279c1d2270e4ef53c8a562ed3b34', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave an error with the message ""Listener must be created with a\nloadbalancer or pool."" I guess the reason is that I give the parameter\n""loadbalancer_id""  but it be ignored in the code.\n\nI modify the listener class, I add a new line load_balancer_id =\nresource.Body(\'loadbalancer_id\'), then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}, {'number': 8, 'created': '2017-08-21 02:12:07.000000000', 'files': ['openstack/tests/unit/network/v2/test_listener.py', 'openstack/network/v2/listener.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/73924e988fd2c05ce8b74e5f526c71becc43e250', 'message': 'fix the bug that cannot create a listener by openstacksdk\n\nWhen creating a listener with a loadbalance id by openstacksdk,there\nhave an error with the message ""Listener must be created with a\nloadbalancer or pool."" I guess the reason is that I give the parameter\n""loadbalancer_id""  but it be ignored in the code.\n\nI modify the listener class, I add a new line load_balancer_id =\nresource.Body(\'loadbalancer_id\'), then successfully create a listener.\n\nChange-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd\nCloses-Bug: 1708780\n'}]",2,493449,73924e988fd2c05ce8b74e5f526c71becc43e250,26,8,8,26650,,,0,"fix the bug that cannot create a listener by openstacksdk

When creating a listener with a loadbalance id by openstacksdk,there
have an error with the message ""Listener must be created with a
loadbalancer or pool."" I guess the reason is that I give the parameter
""loadbalancer_id""  but it be ignored in the code.

I modify the listener class, I add a new line load_balancer_id =
resource.Body('loadbalancer_id'), then successfully create a listener.

Change-Id: Id05fcdc0be8f50304a974c01d1aada4eaa4053cd
Closes-Bug: 1708780
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/493449/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/listener.py'],1,9629d12571768367cad9935f019a1c27fad2ba67,bug/1708780, load_balancer_ids = resource.Body('loadbalancer_id'), load_balancer_ids = resource.Body('loadbalancers'),1,1
openstack%2Fpython-manilaclient~master~I751605fbffc7f04cd2f7f19de7e5aa003771d53f,openstack/python-manilaclient,master,I751605fbffc7f04cd2f7f19de7e5aa003771d53f,Updated from global requirements,MERGED,2017-08-18 04:51:39.000000000,2017-08-21 03:11:16.000000000,2017-08-21 03:11:16.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 14567}]","[{'number': 1, 'created': '2017-08-18 04:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b59d2129c761863f6348409c1755fa65b2913120', 'message': 'Updated from global requirements\n\nChange-Id: I751605fbffc7f04cd2f7f19de7e5aa003771d53f\n'}, {'number': 2, 'created': '2017-08-18 11:41:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/72331f014282e5051201a7877223b04bb6d99ba3', 'message': 'Updated from global requirements\n\nChange-Id: I751605fbffc7f04cd2f7f19de7e5aa003771d53f\n'}]",0,494900,72331f014282e5051201a7877223b04bb6d99ba3,14,3,2,11131,,,0,"Updated from global requirements

Change-Id: I751605fbffc7f04cd2f7f19de7e5aa003771d53f
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/00/494900/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b59d2129c761863f6348409c1755fa65b2913120,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,1,1
openstack%2Ftaskflow~master~I86f232684baba4c26e46f7c6b2af36b89aff0ff8,openstack/taskflow,master,I86f232684baba4c26e46f7c6b2af36b89aff0ff8,Updated from global requirements,MERGED,2017-08-18 04:54:06.000000000,2017-08-21 03:01:04.000000000,2017-08-21 03:01:04.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-08-18 04:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/012f8814d4b3685e83851943787c38b4ae261321', 'message': 'Updated from global requirements\n\nChange-Id: I86f232684baba4c26e46f7c6b2af36b89aff0ff8\n'}, {'number': 2, 'created': '2017-08-18 11:44:02.000000000', 'files': ['requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/daefa879e6d34643c428fa076c69cdeca30bd8dd', 'message': 'Updated from global requirements\n\nChange-Id: I86f232684baba4c26e46f7c6b2af36b89aff0ff8\n'}]",0,494932,daefa879e6d34643c428fa076c69cdeca30bd8dd,12,2,2,11131,,,0,"Updated from global requirements

Change-Id: I86f232684baba4c26e46f7c6b2af36b89aff0ff8
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/32/494932/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg']",2,012f8814d4b3685e83851943787c38b4ae261321,openstack/requirements, mock>=2.0.0 # BSD, mock>=2.0 # BSD,2,2
openstack%2Fpython-adjutantclient~master~I98be962cb0dcb2a0e5a04c3def88643db6d30bc0,openstack/python-adjutantclient,master,I98be962cb0dcb2a0e5a04c3def88643db6d30bc0,Fixing an issue with json data caused by a code update,MERGED,2017-08-21 02:55:38.000000000,2017-08-21 02:58:21.000000000,2017-08-21 02:58:21.000000000,"[{'_account_id': 3}, {'_account_id': 10420}]","[{'number': 1, 'created': '2017-08-21 02:55:38.000000000', 'files': ['adjutantclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-adjutantclient/commit/da7961e5df904c9827cef03bd6f0fc13933b5a28', 'message': 'Fixing an issue with json data caused by a code update\n\n* this fixes a regression caused by updating some code based on\n  changes in similar upstream clients.\n\nChange-Id: I98be962cb0dcb2a0e5a04c3def88643db6d30bc0\n'}]",0,495678,da7961e5df904c9827cef03bd6f0fc13933b5a28,6,2,1,26263,,,0,"Fixing an issue with json data caused by a code update

* this fixes a regression caused by updating some code based on
  changes in similar upstream clients.

Change-Id: I98be962cb0dcb2a0e5a04c3def88643db6d30bc0
",git fetch https://review.opendev.org/openstack/python-adjutantclient refs/changes/78/495678/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutantclient/common/http.py'],1,da7961e5df904c9827cef03bd6f0fc13933b5a28,, kwargs['json'] = kwargs.pop('data'), kwargs['data'] = jsonutils.dumps(kwargs['data']),1,1
openstack%2Fgovernance-uc~master~I187a46f8c1d2b2a472d433689bccabae8519a016,openstack/governance-uc,master,I187a46f8c1d2b2a472d433689bccabae8519a016,Update UC members after Aug 2017 election,MERGED,2017-08-19 04:36:31.000000000,2017-08-21 02:55:38.000000000,2017-08-20 10:23:21.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 12651}, {'_account_id': 17556}]","[{'number': 1, 'created': '2017-08-19 04:36:31.000000000', 'files': ['reference/uc-election-feb2017.rst', 'reference/uc-election-aug2017.rst', 'reference/members'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/c7b0f25222efbcb38070be0768aa9c811257ad24', 'message': 'Update UC members after Aug 2017 election\n\nUpdates the UC members list after the result of the\nAugust 2017 election.\n\nAdditionally, adds pointers to the full election results\nfor the election information pages.\n\nChange-Id: I187a46f8c1d2b2a472d433689bccabae8519a016\n'}]",0,495483,c7b0f25222efbcb38070be0768aa9c811257ad24,12,4,1,612,,,0,"Update UC members after Aug 2017 election

Updates the UC members list after the result of the
August 2017 election.

Additionally, adds pointers to the full election results
for the election information pages.

Change-Id: I187a46f8c1d2b2a472d433689bccabae8519a016
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/83/495483/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/uc-election-feb2017.rst', 'reference/uc-election-aug2017.rst', 'reference/members']",3,c7b0f25222efbcb38070be0768aa9c811257ad24,aug17-election,Edgar Magana (emagana) [August 2018] {undefined} Matt van Winkle (VW) [August 2018] {undefined} Saverio Proto (zioproto) [August 2018] {undefined},Edgar Magana (emagana) [August 2017] {undefined} Jon Proulx (jproulx) [August 2017] {undefined} Shilla Saebi (ShillaSaebi) [August 2017] {undefined},13,3
openstack%2Fheat~master~Id2972fcef0e986ee4eb9448b0ed0cfdaf67b8a57,openstack/heat,master,Id2972fcef0e986ee4eb9448b0ed0cfdaf67b8a57,"Remove ""Create the heat_stack_owner role""",ABANDONED,2017-05-03 08:51:50.000000000,2017-08-21 02:54:37.000000000,,"[{'_account_id': 3}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-05-03 08:51:50.000000000', 'files': ['install-guide/source/install-obs.rst', 'install-guide/source/install-rdo.rst', 'install-guide/source/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/c5a6c81ed85b051762f6740bae11ba79d6ca5bde', 'message': 'Remove ""Create the heat_stack_owner role""\n\nThese operations are useless, heat_stack_owner is need if\nuser set trusts_delegated_roles=heat_stack_owner,\nsee commit aab01c00ff330d743fc15e97d7ae144eac5015bb\n\nChange-Id: Id2972fcef0e986ee4eb9448b0ed0cfdaf67b8a57\n'}]",0,462039,c5a6c81ed85b051762f6740bae11ba79d6ca5bde,5,2,1,21778,,,0,"Remove ""Create the heat_stack_owner role""

These operations are useless, heat_stack_owner is need if
user set trusts_delegated_roles=heat_stack_owner,
see commit aab01c00ff330d743fc15e97d7ae144eac5015bb

Change-Id: Id2972fcef0e986ee4eb9448b0ed0cfdaf67b8a57
",git fetch https://review.opendev.org/openstack/heat refs/changes/39/462039/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/install-obs.rst', 'install-guide/source/install-rdo.rst', 'install-guide/source/install-ubuntu.rst']",3,c5a6c81ed85b051762f6740bae11ba79d6ca5bde,fix_doc,, * Create the ``heat_stack_owner`` role: .. code-block:: console $ openstack role create heat_stack_owner +-----------+----------------------------------+ | Field | Value | +-----------+----------------------------------+ | domain_id | None | | id | 15e34f0c4fed4e68b3246275883c8630 | | name | heat_stack_owner | +-----------+----------------------------------+ * Add the ``heat_stack_owner`` role to the ``demo`` project and user to enable stack management by the ``demo`` user: .. code-block:: console $ openstack role add --project demo --user demo heat_stack_owner .. note:: This command provides no output. .. note:: You must add the ``heat_stack_owner`` role to each user that manages stacks. ,0,87
openstack%2Fdevstack~master~Ic73b4232ca64544076f6d50b667e4570cafa4e77,openstack/devstack,master,Ic73b4232ca64544076f6d50b667e4570cafa4e77,Fix certification problem of hypervisor-vsphere.,ABANDONED,2016-07-31 11:31:26.000000000,2017-08-21 02:54:17.000000000,,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-07-31 11:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5dd95006231db5eebf4a38b11e1c1b10ceb1f45', 'message': 'Fix certification problem of hypervisor-vsphere.\n\nChange-Id: Ic73b4232ca64544076f6d50b667e4570cafa4e77\n'}, {'number': 2, 'created': '2016-07-31 13:57:40.000000000', 'files': ['lib/nova_plugins/hypervisor-vsphere'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d0cffbb966634a089eb0ecdfff715ddb4397ea2b', 'message': 'Fix certification problem of hypervisor-vsphere.\n\nChange-Id: Ic73b4232ca64544076f6d50b667e4570cafa4e77\n'}]",0,349252,d0cffbb966634a089eb0ecdfff715ddb4397ea2b,13,6,2,21778,,,0,"Fix certification problem of hypervisor-vsphere.

Change-Id: Ic73b4232ca64544076f6d50b667e4570cafa4e77
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/349252/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-vsphere'],1,c5dd95006231db5eebf4a38b11e1c1b10ceb1f45,, if [[ -n $VMWAREAPI_CAFILE ]]; then iniset $NOVA_CONF vmware ca_file $VMWAREAPI_CAFILE else iniset $NOVA_CONF vmware insecure True fi ,,6,0
openstack%2Fdevstack~master~Ibc0d2bbb2aaf033aa29212d9afd19ffa7e1e5fa8,openstack/devstack,master,Ibc0d2bbb2aaf033aa29212d9afd19ffa7e1e5fa8,"Fix ""RTNETLINK answers: Network is unreachable""",ABANDONED,2016-08-02 11:45:10.000000000,2017-08-21 02:54:08.000000000,,"[{'_account_id': 3}, {'_account_id': 4656}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 16803}, {'_account_id': 21778}]","[{'number': 1, 'created': '2016-08-02 11:45:10.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f8fe0f4518b04f4f1f59bad29b92c9243bddae7', 'message': 'Fix ""RTNETLINK answers: Network is unreachable""\n\nThe command ""ip route replace $FIXED_RANGE via $ROUTER_GW_IP"" is failed when\nthere is no route to ""$ROUTER_GW_IP"", and this will cause the stack.sh failed.\nThis patch tells whether to execute that command.\n\nChange-Id: Ibc0d2bbb2aaf033aa29212d9afd19ffa7e1e5fa8\n'}]",0,349948,6f8fe0f4518b04f4f1f59bad29b92c9243bddae7,9,7,1,21778,,,0,"Fix ""RTNETLINK answers: Network is unreachable""

The command ""ip route replace $FIXED_RANGE via $ROUTER_GW_IP"" is failed when
there is no route to ""$ROUTER_GW_IP"", and this will cause the stack.sh failed.
This patch tells whether to execute that command.

Change-Id: Ibc0d2bbb2aaf033aa29212d9afd19ffa7e1e5fa8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/349948/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,6f8fe0f4518b04f4f1f59bad29b92c9243bddae7,, reachable=$(ip route get $ROUTER_GW_IP 2>/dev/null || true) if [[ -n $reachable ]]; then sudo ip route replace $FIXED_RANGE via $ROUTER_GW_IP fi, sudo ip route replace $FIXED_RANGE via $ROUTER_GW_IP,4,1
openstack%2Fpython-adjutantclient~master~I56c7945372bb755b6826b9d799c1af4e0e3ae9b4,openstack/python-adjutantclient,master,I56c7945372bb755b6826b9d799c1af4e0e3ae9b4,Update .gitreview file for openstack gerrit,MERGED,2017-08-21 02:38:20.000000000,2017-08-21 02:51:47.000000000,2017-08-21 02:51:47.000000000,"[{'_account_id': 3}, {'_account_id': 10420}]","[{'number': 1, 'created': '2017-08-21 02:38:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-adjutantclient/commit/f26e5dcb1b37b16486348202e9444683dfd4115f', 'message': 'Update .gitreview file for openstack gerrit\n\n* Was still pointing to internal Catalyst gerrit\n\nChange-Id: I56c7945372bb755b6826b9d799c1af4e0e3ae9b4\n'}]",0,495673,f26e5dcb1b37b16486348202e9444683dfd4115f,6,2,1,26263,,,0,"Update .gitreview file for openstack gerrit

* Was still pointing to internal Catalyst gerrit

Change-Id: I56c7945372bb755b6826b9d799c1af4e0e3ae9b4
",git fetch https://review.opendev.org/openstack/python-adjutantclient refs/changes/73/495673/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f26e5dcb1b37b16486348202e9444683dfd4115f,new/os-gerrit,host=review.openstack.orgproject=openstack/python-adjutantclient.git,host=gerrit.dmz.wgtn.cat-it.co.nzproject=openstack-registrationclient.git,2,2
openstack%2Fdevstack~master~I4747e03aa29828cba364a5887fada0721c8da56e,openstack/devstack,master,I4747e03aa29828cba364a5887fada0721c8da56e,Updated from generate-devstack-plugins-list,MERGED,2017-08-18 08:21:35.000000000,2017-08-21 02:50:22.000000000,2017-08-21 02:50:22.000000000,"[{'_account_id': 3}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-18 08:21:35.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/af9f71d693cd548b18986e99f58503fa57f815f1', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I4747e03aa29828cba364a5887fada0721c8da56e\n'}]",0,495116,af9f71d693cd548b18986e99f58503fa57f815f1,8,2,1,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I4747e03aa29828cba364a5887fada0721c8da56e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/495116/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,af9f71d693cd548b18986e99f58503fa57f815f1,openstack/devstack/plugins,networking-hyperv `git://git.openstack.org/openstack/networking-hyperv <https://git.openstack.org/cgit/openstack/networking-hyperv>`__networking-opencontrail `git://git.openstack.org/openstack/networking-opencontrail <https://git.openstack.org/cgit/openstack/networking-opencontrail>`__,,2,0
openstack%2Fkarbor~master~I08dfb288830101379ab053c6b1db3a9963b2f835,openstack/karbor,master,I08dfb288830101379ab053c6b1db3a9963b2f835,Enable nova n-api-meta service in devstack of Karbor,MERGED,2017-08-20 09:17:29.000000000,2017-08-21 02:26:40.000000000,2017-08-21 02:26:40.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}, {'_account_id': 22484}]","[{'number': 1, 'created': '2017-08-20 09:17:29.000000000', 'files': ['devstack/devstackgaterc', 'devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7d0cd8edf56ed4c3682f3fcd6dcc6ebc2573e09a', 'message': 'Enable nova n-api-meta service in devstack of Karbor\n\nThis patch enables the nova n-api-meta service in devstack\nenvironment of Karbor. The n-api-meta service is needed when\nthe kubernetes service is running on the nova instance.\n\nChange-Id: I08dfb288830101379ab053c6b1db3a9963b2f835\n'}]",0,495540,7d0cd8edf56ed4c3682f3fcd6dcc6ebc2573e09a,8,4,1,17151,,,0,"Enable nova n-api-meta service in devstack of Karbor

This patch enables the nova n-api-meta service in devstack
environment of Karbor. The n-api-meta service is needed when
the kubernetes service is running on the nova instance.

Change-Id: I08dfb288830101379ab053c6b1db3a9963b2f835
",git fetch https://review.opendev.org/openstack/karbor refs/changes/40/495540/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'devstack/local.conf.sample']",2,7d0cd8edf56ed4c3682f3fcd6dcc6ebc2573e09a,nova_meta_api,"ENABLED_SERVICES+=,n-cpu,n-api,n-obj,n-cond,n-sch,n-novnc,n-cauth,n-api-meta","ENABLED_SERVICES+=,n-cpu,n-api,n-obj,n-cond,n-sch,n-novnc,n-cauth",2,2
openstack%2Ftricircle~master~Ic5b0e951a30f84e7a38c05ac08ad335f0793e028,openstack/tricircle,master,Ic5b0e951a30f84e7a38c05ac08ad335f0793e028,Updated from global requirements,MERGED,2017-08-18 04:54:21.000000000,2017-08-21 02:04:28.000000000,2017-08-21 02:04:28.000000000,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}]","[{'number': 1, 'created': '2017-08-18 04:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7e0cfff66ec305567ef10f277bfdc995aa9a8dc4', 'message': 'Updated from global requirements\n\nChange-Id: Ic5b0e951a30f84e7a38c05ac08ad335f0793e028\n'}, {'number': 2, 'created': '2017-08-18 11:44:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/fddcd9afb2e644ad2081693725e13c12de66f3d3', 'message': 'Updated from global requirements\n\nChange-Id: Ic5b0e951a30f84e7a38c05ac08ad335f0793e028\n'}]",0,494935,fddcd9afb2e644ad2081693725e13c12de66f3d3,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ic5b0e951a30f84e7a38c05ac08ad335f0793e028
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/35/494935/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7e0cfff66ec305567ef10f277bfdc995aa9a8dc4,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0,2,2
openstack%2Ftricircle~master~I4fdcf300950fcb1e75317e6261930aa7b8760a19,openstack/tricircle,master,I4fdcf300950fcb1e75317e6261930aa7b8760a19,Change links in README to the newest addresses,MERGED,2017-08-18 03:32:58.000000000,2017-08-21 02:00:46.000000000,2017-08-21 02:00:46.000000000,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}]","[{'number': 1, 'created': '2017-08-18 03:32:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/3d0abac6f7e0b46bce1ca66cf6b8fcbfc05ee3e2', 'message': 'Change links in README to the newest addresses\n\nChange-Id: I4fdcf300950fcb1e75317e6261930aa7b8760a19\n'}]",0,494779,3d0abac6f7e0b46bce1ca66cf6b8fcbfc05ee3e2,7,3,1,23874,,,0,"Change links in README to the newest addresses

Change-Id: I4fdcf300950fcb1e75317e6261930aa7b8760a19
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/79/494779/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3d0abac6f7e0b46bce1ca66cf6b8fcbfc05ee3e2,readme,.. image:: https://governance.openstack.org/tc/badges/tricircle.svg :target: https://governance.openstack.org/tc/reference/tags/index.html* Source: https://git.openstack.org/cgit/openstack/tricircle * Bugs: https://bugs.launchpad.net/tricircle* Release notes: https://docs.openstack.org/releasenotes/tricircle,.. image:: http://governance.openstack.org/badges/tricircle.svg :target: http://governance.openstack.org/reference/tags/index.html* Source: http://git.openstack.org/cgit/openstack/tricircle * Bugs: http://bugs.launchpad.net/tricircle* Release notes: http://docs.openstack.org/releasenotes/tricircle,5,5
openstack%2Fmistral~master~I154115397f64cbac7e0e385b63765308566fd1c7,openstack/mistral,master,I154115397f64cbac7e0e385b63765308566fd1c7,Updated from global requirements,MERGED,2017-08-18 04:43:06.000000000,2017-08-21 01:08:49.000000000,2017-08-21 01:08:49.000000000,"[{'_account_id': 3}, {'_account_id': 6732}, {'_account_id': 9712}, {'_account_id': 20863}]","[{'number': 1, 'created': '2017-08-18 04:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5cb8a7ef8685a4b3fd51799d9b44685065b97901', 'message': 'Updated from global requirements\n\nChange-Id: I154115397f64cbac7e0e385b63765308566fd1c7\n'}, {'number': 2, 'created': '2017-08-18 11:32:32.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e379caf45c12101b62f2e8fd53492f49c050fad6', 'message': 'Updated from global requirements\n\nChange-Id: I154115397f64cbac7e0e385b63765308566fd1c7\n'}]",0,494828,e379caf45c12101b62f2e8fd53492f49c050fad6,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: I154115397f64cbac7e0e385b63765308566fd1c7
",git fetch https://review.opendev.org/openstack/mistral refs/changes/28/494828/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,5cb8a7ef8685a4b3fd51799d9b44685065b97901,openstack/requirements,mock>=2.0.0 # BSDrequests-mock>=1.1.0 # Apache-2.0sphinxcontrib-pecanwsme>=0.8.0 # Apache-2.0,mock>=2.0 # BSDrequests-mock>=1.1 # Apache-2.0sphinxcontrib-pecanwsme>=0.8 # Apache-2.0,5,5
openstack%2Fproject-config~master~I88c0c6aecfd026d32f3bab17e20e81f4201092d4,openstack/project-config,master,I88c0c6aecfd026d32f3bab17e20e81f4201092d4,Create glean@.service.d/override.conf,MERGED,2017-08-14 20:37:50.000000000,2017-08-21 00:48:40.000000000,2017-08-21 00:48:40.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-14 20:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b8197e2b9cf3cb39292ba90ea225be9d49063e35', 'message': 'Create glean@.service.d/override.conf\n\nOn systemd systems, so everything except ubuntu-trusty. Set --no-dns\nbecause we run a local unbound service and never want to use clouds\nDNS servers.\n\nChange-Id: I88c0c6aecfd026d32f3bab17e20e81f4201092d4\nDepends-On: I0cfd83ab4208e3a35d7674c5fc34cd209d340074\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-08-16 23:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7934f3a58c44dc3e214dc88cde2c3dddce1a2581', 'message': 'Create glean@.service.d/override.conf\n\nOn systemd systems, so everything except ubuntu-trusty. Set --no-dns\nbecause we run a local unbound service and never want to use clouds\nDNS servers.\n\nChange-Id: I88c0c6aecfd026d32f3bab17e20e81f4201092d4\nDepends-On: I0cfd83ab4208e3a35d7674c5fc34cd209d340074\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2017-08-17 22:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c0691664d8d0d924c8e7be5a43a15c1bc13c4566', 'message': 'Create glean@.service.d/override.conf\n\nOn systemd systems, so everything except ubuntu-trusty. Set --no-dns\nbecause we run a local unbound service and never want to use clouds\nDNS servers.\n\nChange-Id: I88c0c6aecfd026d32f3bab17e20e81f4201092d4\nDepends-On: I0cfd83ab4208e3a35d7674c5fc34cd209d340074\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2017-08-18 20:29:06.000000000', 'files': ['nodepool/elements/nodepool-base/glean@.service.d/override.conf', 'nodepool/elements/nodepool-base/finalise.d/89-glean'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a61544113f142d9c20c183f8860616f85ded5f88', 'message': 'Create glean@.service.d/override.conf\n\nOn systemd systems, so everything except ubuntu-trusty. Set --no-dns\nbecause we run a local unbound service and never want to use clouds\nDNS servers.\n\nChange-Id: I88c0c6aecfd026d32f3bab17e20e81f4201092d4\nDepends-On: I0cfd83ab4208e3a35d7674c5fc34cd209d340074\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",2,493665,a61544113f142d9c20c183f8860616f85ded5f88,20,5,4,4162,,,0,"Create glean@.service.d/override.conf

On systemd systems, so everything except ubuntu-trusty. Set --no-dns
because we run a local unbound service and never want to use clouds
DNS servers.

Change-Id: I88c0c6aecfd026d32f3bab17e20e81f4201092d4
Depends-On: I0cfd83ab4208e3a35d7674c5fc34cd209d340074
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/493665/3 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/glean@.service.d/override.conf', 'nodepool/elements/nodepool-base/glean@.service.d/override.conf.debuntu', 'nodepool/elements/nodepool-base/finalise.d/89-glean']",3,b8197e2b9cf3cb39292ba90ea225be9d49063e35,493665,"#!/bin/bash # Copyright (C) 2011-2013 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. # dib-lint: disable=set setu setpipefail indent if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -e case ""$DIB_INIT_SYSTEM"" in upstart) glean_path_dib=""/etc/systemd/system/glean\@.service.d"" mkdir -p $glean_path_dib glean_dir=""$(dirname $0)/../glean\@.service.d"" if [[ ""$DISTRO_NAME"" =~ (debian|ubuntu) ]]; then cp -RP $glean_dir/override.conf.debuntu $glean_path_dib/override.conf else cp -RP $glean_dir/override.conf $glean_path_dib/override.conf fi ;; *) echo ""Skipping glean systemd configuration"" ;; esac ",,42,0
openstack%2Frequirements~stable%2Fpike~I935262f54d6aa2af5b9be1353f2ef9aea1304dc1,openstack/requirements,stable/pike,I935262f54d6aa2af5b9be1353f2ef9aea1304dc1,Add networking-hpe to projects.txt for updates,MERGED,2017-08-18 15:50:50.000000000,2017-08-21 00:04:03.000000000,2017-08-21 00:04:03.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-08-18 15:50:50.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ddedda4abce4446944b03ffc240d0f9d86353775', 'message': 'Add networking-hpe to projects.txt for updates\n\nnetworking-hpe would like to get requirements update patches.\n\nChange-Id: I935262f54d6aa2af5b9be1353f2ef9aea1304dc1\n(cherry picked from commit 338c057c2c8a5d8d55af72ae1d471470a52720b3)\n'}]",0,495361,ddedda4abce4446944b03ffc240d0f9d86353775,8,4,1,6876,,,0,"Add networking-hpe to projects.txt for updates

networking-hpe would like to get requirements update patches.

Change-Id: I935262f54d6aa2af5b9be1353f2ef9aea1304dc1
(cherry picked from commit 338c057c2c8a5d8d55af72ae1d471470a52720b3)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/495361/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,ddedda4abce4446944b03ffc240d0f9d86353775,add-networking-hpe,openstack/networking-hpe,,1,0
openstack%2Freleases~master~I1213eb0a70ebd4b4e3a0ef3f70f6f8f1d3e54425,openstack/releases,master,I1213eb0a70ebd4b4e3a0ef3f70f6f8f1d3e54425,Tagging Sahara 5.0.2,MERGED,2017-08-15 11:35:20.000000000,2017-08-20 23:52:35.000000000,2017-08-20 23:52:35.000000000,"[{'_account_id': 3}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-08-15 11:35:20.000000000', 'files': ['deliverables/newton/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09b908fde133f87f97075b93e9665884e175a1e2', 'message': 'Tagging Sahara 5.0.2\n\nChange-Id: I1213eb0a70ebd4b4e3a0ef3f70f6f8f1d3e54425\n'}]",2,493838,09b908fde133f87f97075b93e9665884e175a1e2,13,4,1,8932,,,0,"Tagging Sahara 5.0.2

Change-Id: I1213eb0a70ebd4b4e3a0ef3f70f6f8f1d3e54425
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/493838/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/sahara.yaml'],1,09b908fde133f87f97075b93e9665884e175a1e2,, - version: 5.0.2 projects: - repo: openstack/sahara hash: 0dc238ea602e3a08910734a26340eaefcd8b3538 - repo: openstack/sahara-dashboard hash: fed6bed0409f7c52426391b29ea73f3355bf190d - repo: openstack/sahara-extra hash: fc147fe56343847056f8573b2b14329de24795ec - repo: openstack/sahara-image-elements hash: 04ac8d8da19ec027daa3e1d30201d2f1a1685636,,10,0
openstack%2Fpython-troveclient~master~I66375afca6a4a016c9282dfae12b4941736f9768,openstack/python-troveclient,master,I66375afca6a4a016c9282dfae12b4941736f9768,Updated from global requirements,MERGED,2017-08-18 04:52:44.000000000,2017-08-20 23:39:18.000000000,2017-08-20 23:39:18.000000000,"[{'_account_id': 3}, {'_account_id': 9664}]","[{'number': 1, 'created': '2017-08-18 04:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/a6d1b02aeddedb781d328bd65623196debc74a58', 'message': 'Updated from global requirements\n\nChange-Id: I66375afca6a4a016c9282dfae12b4941736f9768\n'}, {'number': 2, 'created': '2017-08-18 11:42:40.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/a397f72da43b8a09d5995f88df966918044583e3', 'message': 'Updated from global requirements\n\nChange-Id: I66375afca6a4a016c9282dfae12b4941736f9768\n'}]",0,494917,a397f72da43b8a09d5995f88df966918044583e3,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I66375afca6a4a016c9282dfae12b4941736f9768
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/17/494917/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a6d1b02aeddedb781d328bd65623196debc74a58,openstack/requirements,requests-mock>=1.1.0 # Apache-2.0mock>=2.0.0 # BSD,requests-mock>=1.1 # Apache-2.0mock>=2.0 # BSD,2,2
openstack%2Fproject-config~master~Ia14bf4cc9d129bc50bd8f8b14cf682cb1c450c28,openstack/project-config,master,Ia14bf4cc9d129bc50bd8f8b14cf682cb1c450c28,Remove reference to non-existent job,MERGED,2017-08-20 21:43:16.000000000,2017-08-20 22:08:25.000000000,2017-08-20 22:08:25.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-08-20 21:43:16.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/890fea6e7ca60a967bb2e344bdc367400fa61eb1', 'message': 'Remove reference to non-existent job\n\nrelease-openstack-python should depend on openstack-publish-artifacts,\nnot openstack-publish-tarball.\n\nChange-Id: Ia14bf4cc9d129bc50bd8f8b14cf682cb1c450c28\n'}]",0,495659,890fea6e7ca60a967bb2e344bdc367400fa61eb1,6,2,1,2,,,0,"Remove reference to non-existent job

release-openstack-python should depend on openstack-publish-artifacts,
not openstack-publish-tarball.

Change-Id: Ia14bf4cc9d129bc50bd8f8b14cf682cb1c450c28
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/495659/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,890fea6e7ca60a967bb2e344bdc367400fa61eb1,, parent: publish-openstack-artifacts, parent: publish-openstack-tarball,1,1
openstack%2Ftrove~master~Idcde50547b9abb6a14ce653037b221edef28bbca,openstack/trove,master,Idcde50547b9abb6a14ce653037b221edef28bbca,DNM: Canary,ABANDONED,2017-08-11 17:55:54.000000000,2017-08-20 21:29:48.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}]","[{'number': 1, 'created': '2017-08-11 17:55:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/3b4527d8f7a3d4b3e74b9382adc2481cc9a7fcaf', 'message': 'DNM: Canary\n\nChange-Id: Idcde50547b9abb6a14ce653037b221edef28bbca\n'}]",0,493101,3b4527d8f7a3d4b3e74b9382adc2481cc9a7fcaf,7,2,1,9664,,,0,"DNM: Canary

Change-Id: Idcde50547b9abb6a14ce653037b221edef28bbca
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/493101/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3b4527d8f7a3d4b3e74b9382adc2481cc9a7fcaf,master-canary,DNM: Trove,Trove,1,1
openstack%2Fopenstack-helm~master~Iccc996fb2b2140ed19c6708d6033b4a9dd1bfc46,openstack/openstack-helm,master,Iccc996fb2b2140ed19c6708d6033b4a9dd1bfc46,Gate: Add heat to single node checks and to Armada checks,MERGED,2017-08-20 18:20:55.000000000,2017-08-20 21:28:13.000000000,2017-08-20 21:13:30.000000000,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-08-20 18:20:55.000000000', 'files': ['tools/deployment/armada/openstack-master.yaml', 'tools/gate/funcs/openstack.sh', 'tools/gate/basic_launch.sh', 'tools/deployment/armada/openstack-master-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c715b8b3c6f53df438f22ede8acf6862517fb44', 'message': 'Gate: Add heat to single node checks and to Armada checks\n\nThis PS adds heat to the single node and Armada based deployment\nchecks in the gate scripts. Additionally it moves the client calls\nin the check scripts to use the heat engine pod.\n\nChange-Id: Iccc996fb2b2140ed19c6708d6033b4a9dd1bfc46\n'}]",0,495572,0c715b8b3c6f53df438f22ede8acf6862517fb44,12,4,1,23928,,,0,"Gate: Add heat to single node checks and to Armada checks

This PS adds heat to the single node and Armada based deployment
checks in the gate scripts. Additionally it moves the client calls
in the check scripts to use the heat engine pod.

Change-Id: Iccc996fb2b2140ed19c6708d6033b4a9dd1bfc46
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/495572/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/armada/openstack-master.yaml', 'tools/gate/funcs/openstack.sh', 'tools/gate/basic_launch.sh', 'tools/deployment/armada/openstack-master-aio.yaml']",4,0c715b8b3c6f53df438f22ede8acf6862517fb44,heat/single-node-gate,schema: armada/Chart/v1 metadata: schema: metadata/Document/v1 name: heat data: chart_name: heat release: heat namespace: openstack timeout: 300 install: no_hooks: false upgrade: no_hooks: false pre: delete: - name: heat-bootstrap type: job labels: - application: heat - component: bootstrap - release_group: osh-heat - name: heat-db-init type: job labels: - application: heat - component: db-init - release_group: osh-heat - name: heat-db-sync type: job labels: - application: heat - component: db-sync - release_group: osh-heat - name: heat-ks-service type: job labels: - application: heat - component: ks-service - release_group: osh-heat - name: heat-ks-endpoints type: job labels: - application: heat - component: ks-endpoints - release_group: osh-heat - name: heat-ks-user type: job labels: - application: heat - component: ks-user - release_group: osh-heat values: {} source: type: local location: /opt/openstack-helm/charts subpath: heat reference: master dependencies: - helm-toolkit --- - heat,,128,4
openstack%2Fkolla~master~I4802618373cfa53d67d1dfe65be7abe1950b3d04,openstack/kolla,master,I4802618373cfa53d67d1dfe65be7abe1950b3d04,Use community fluentd packages for CentOS/RHEL/Oraclelinux,MERGED,2017-05-23 12:43:20.000000000,2017-08-20 21:16:43.000000000,2017-08-20 21:16:43.000000000,"[{'_account_id': 3}, {'_account_id': 894}, {'_account_id': 1390}, {'_account_id': 4264}, {'_account_id': 4571}, {'_account_id': 5241}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 18737}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 22954}, {'_account_id': 24072}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-05-23 12:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/09c1c6310f3f38148c86b0816c28498fb15c7214', 'message': 'WIP - Modified fluentd Image\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 2, 'created': '2017-05-23 15:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8183b1c7513cddf5aa8b55c5265d7ebc4d13c71a', 'message': 'WIP - Modified fluentd Image\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 3, 'created': '2017-05-24 14:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b745200b3f12f26e492d9001f456d0afd993062d', 'message': 'WIP - Modified fluentd Image\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 4, 'created': '2017-05-25 06:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6f643aa438d6342f510b323c9d5526af7b2e0c40', 'message': 'WIP - Modified fluentd Image\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 5, 'created': '2017-05-31 09:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/25db182b0c049a9250a36957db52a3236066b712', 'message': 'WIP - Modified fluentd Image\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 6, 'created': '2017-06-01 07:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/41ef5849b9b9dae8ad1a34e0603450b32baa20ad', 'message': 'Modified fluentd Image\n\nUse the fluentd package on the CentOS OpsTools repository\ncreted by the CentOS OpsTools SIG.\nThis patch should only affect the CentOS/RedHat base image.\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 7, 'created': '2017-06-07 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6fe1e77fede5bb83e9d8cc2d3424d91713b51e4', 'message': 'WIP - Modified fluentd Image\n\nUse the fluentd package on the CentOS OpsTools repository\ncreted by the CentOS OpsTools SIG.\nThis patch should only affect the CentOS/RedHat base image.\n\nWIP - Plugins need to be added\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 8, 'created': '2017-06-27 14:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75a5177d81541d5b40d3e2e6573290aaed0f662b', 'message': 'WIP - Modified fluentd Image\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 9, 'created': '2017-06-27 14:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6789aaed40b1ed40e1e5238e4986ef145d6e9c5', 'message': 'Modified fluentd Image to use fluentd from Opstools Centos SIG\n\nUse fluentd from Opstools CentOS SIG instead of the td-agent\nfor CentOS and RHEL.\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 10, 'created': '2017-06-27 16:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/09298046c18430af3eb361a0f37d49b90c6bf5c7', 'message': 'Modified fluentd Image to use fluentd from Opstools Centos SIG\n\nUse fluentd from Opstools CentOS SIG instead of the td-agent\nfor CentOS and RHEL.\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 11, 'created': '2017-06-28 06:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/93dd13c7ec8af6a09fbf2de1c78305fd3585a2c4', 'message': 'Modified fluentd Image to use fluentd from Opstools Centos SIG\n\nUse fluentd from Opstools CentOS SIG instead of the td-agent\nfor CentOS and RHEL.\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 12, 'created': '2017-07-04 14:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5806336ec2126a8a74492fe6d4e3660171033395', 'message': 'Modified fluentd Image\n\nUse the fluentd package on the CentOS OpsTools repository\ncreted by the CentOS OpsTools SIG.\nThis patch should only affect the RedHat base image.\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 13, 'created': '2017-07-05 06:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/63a02b9c6bff8deb3a86ee1e167ba31ccf8b2151', 'message': 'Changed fluentd repository for CentOS\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect the RedHat base image.\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 14, 'created': '2017-07-10 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/173a7b1bfa0e16bbcec3b6411c78b28958b1c69a', 'message': 'Changed fluentd repository for CentOS/RHEL\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 15, 'created': '2017-07-10 14:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8355d4cb98d575404c76a17af4e57122417096a4', 'message': 'Changed fluentd repository for CentOS/RHEL\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 16, 'created': '2017-07-13 07:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d662ad2949779455d01c21544f9d85bf74cdb38c', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 17, 'created': '2017-07-13 13:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74db2b7149a7fe102478f536206e5e5e55fbbc9e', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 18, 'created': '2017-07-13 14:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a888094ce42ea14f92441f08b95759dd1b0a3f8b', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 19, 'created': '2017-07-14 16:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f24bb525093c896796e99b7ce2f67484dad6d8af', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 20, 'created': '2017-07-18 17:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/868d95a0938ae4883a472f13de9bc02627e5052d', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 21, 'created': '2017-07-19 06:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/655eecdfbd6a4a5dafbbddc32a739e182c56a087', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 22, 'created': '2017-07-20 12:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4160be69642f2faa2f5c4be81b49629fbb297ddb', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\nThis patch should only affect CentOS/RedHat base image.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 23, 'created': '2017-07-24 09:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/113060dbc5ab1025e74c465408ea73645f11bc3a', 'message': 'Changed fluentd repository for CentOS/RHEL/Oraclelinux\n\nUse the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n\n-The user changed to fluentd from td-agent\n-Plugins are installed either as rpm packages or gems on\nCentOS/Oraclelinux\n-Plugins are only installed as rpm on Red Hat (None)\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 24, 'created': '2017-07-25 17:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/77e48fb510e250406646a400252c4eb22aa35c00', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 25, 'created': '2017-07-26 07:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c796fe9c4f9f8b8e448f7995cfa8bb85849bae2', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 26, 'created': '2017-07-26 16:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0e2f8cfd61e6ee34ff60a436552c2e4487e53a3b', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 27, 'created': '2017-07-26 22:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/29eabf59a2889edb2e03661e75874154a4b473f0', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 28, 'created': '2017-07-26 22:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0263a35cf446975e92c8f22cc30d41d51d90da0d', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 29, 'created': '2017-07-27 07:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a316652ab2e78546a50254ed1a739f4973e23cf7', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 30, 'created': '2017-07-31 07:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf1122909aacf792136eea5b9dae4deca0dd9a6b', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}, {'number': 31, 'created': '2017-07-31 14:11:01.000000000', 'files': ['docker/fluentd/Dockerfile.j2', 'docker/fluentd/extend_start.sh', 'kolla/common/config.py', 'docker/fluentd/rpm_fluentd_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/00032822535e0aca208263aa2bd84be83132d60a', 'message': 'Use community fluentd packages for CentOS/RHEL/Oraclelinux\n\n-Use the fluentd package on the CentOS OpsTools repository\ncreated by the CentOS OpsTools SIG.\n-The user changed to fluentd for CentOS/RHEL/Oraclelinux\n-Plugins are installed as gems on CentOS/RHEL/Oraclelinux\n\nChange-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04\n'}]",50,467219,00032822535e0aca208263aa2bd84be83132d60a,154,15,31,22954,,,0,"Use community fluentd packages for CentOS/RHEL/Oraclelinux

-Use the fluentd package on the CentOS OpsTools repository
created by the CentOS OpsTools SIG.
-The user changed to fluentd for CentOS/RHEL/Oraclelinux
-Plugins are installed as gems on CentOS/RHEL/Oraclelinux

Change-Id: I4802618373cfa53d67d1dfe65be7abe1950b3d04
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/467219/24 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/fluentd/fluentd_sudoers', 'docker/fluentd/extend_start.sh', 'kolla/common/config.py']",5,09c1c6310f3f38148c86b0816c28498fb15c7214,feature/community-fluentd," }, 'fluentd-user': { 'uid': 42466, 'gid': 42466,",,57,18
openstack%2Fproject-config~master~Ibfd0e2fc08f3459ab26ec77de71f43797223fbbb,openstack/project-config,master,Ibfd0e2fc08f3459ab26ec77de71f43797223fbbb,Request the site-logs secret in base job,MERGED,2017-08-20 20:06:35.000000000,2017-08-20 20:22:29.000000000,2017-08-20 20:22:29.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-20 20:06:35.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/44428f8772b0c443b50e887a84f510258cdc3ffb', 'message': 'Request the site-logs secret in base job\n\nChange-Id: Ibfd0e2fc08f3459ab26ec77de71f43797223fbbb\n'}]",0,495575,44428f8772b0c443b50e887a84f510258cdc3ffb,7,3,1,2,,,0,"Request the site-logs secret in base job

Change-Id: Ibfd0e2fc08f3459ab26ec77de71f43797223fbbb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/495575/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,44428f8772b0c443b50e887a84f510258cdc3ffb,, secrets: - site_logs,,2,0
openstack%2Fproject-config~master~I7e46763e6c6c7cb3a413f9f656de52c387978ae1,openstack/project-config,master,I7e46763e6c6c7cb3a413f9f656de52c387978ae1,Promote ara logging and site_logs secret to base job,MERGED,2017-08-16 17:32:31.000000000,2017-08-20 19:51:08.000000000,2017-08-20 19:51:08.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 9061}]","[{'number': 1, 'created': '2017-08-16 17:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7e89a52cfda98dac508842a9f93cf6ab53434eab', 'message': 'Emit and publish ara logs if available\n\nIf ara is installed, zuul will add it to the available callback plugins.\nMake sure a sqlite file actually exists, and that the ara command exists\nbefore attempting to\n\nChange-Id: I7e46763e6c6c7cb3a413f9f656de52c387978ae1\nDepends-On: Iefeda37338c57466d671ea07e7d318fa92aafc35\n'}, {'number': 2, 'created': '2017-08-18 18:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8380791c3494bf0010c04de6b4db5570f94f8a8', 'message': 'Emit and publish ara logs if available\n\nIf ara is installed, zuul will add it to the available callback plugins.\nMake sure a sqlite file actually exists, and that the ara command exists\nbefore attempting to\n\nChange-Id: I7e46763e6c6c7cb3a413f9f656de52c387978ae1\nDepends-On: Iefeda37338c57466d671ea07e7d318fa92aafc35\n'}, {'number': 3, 'created': '2017-08-18 20:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8cc5b4f22eb4ced43cd09046da3db0b87b123ca2', 'message': ""Promote ara logging and site_logs secret to base job\n\nIf these work in the base-test job, they're good to go into base.\n\nChange-Id: I7e46763e6c6c7cb3a413f9f656de52c387978ae1\n""}, {'number': 4, 'created': '2017-08-18 21:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4ab7f4e309601f01c4b5746655aa394284c78b8c', 'message': ""Promote ara logging and site_logs secret to base job\n\nIf these work in the base-test job, they're good to go into base.\n\nChange-Id: I7e46763e6c6c7cb3a413f9f656de52c387978ae1\n""}, {'number': 5, 'created': '2017-08-20 14:04:12.000000000', 'files': ['playbooks/base/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a0d27d6c9e33d4cd5ac62aed97590589e56eb623', 'message': ""Promote ara logging and site_logs secret to base job\n\nIf these work in the base-test job, they're good to go into base.\n\nChange-Id: I7e46763e6c6c7cb3a413f9f656de52c387978ae1\n""}]",4,494281,a0d27d6c9e33d4cd5ac62aed97590589e56eb623,23,5,5,2,,,0,"Promote ara logging and site_logs secret to base job

If these work in the base-test job, they're good to go into base.

Change-Id: I7e46763e6c6c7cb3a413f9f656de52c387978ae1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/81/494281/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/base/post-logs.yaml'],1,7e89a52cfda98dac508842a9f93cf6ab53434eab,495431," # TODO(mordred) Replace the following tasks with the add-fileserver # role and a secret. # TODO(mordred) Move the following tasks into a role in zuul-jobs # when the above tasks use the add-fileserver role # with a secret. - name: Check for ara db stat: path: ""{{ zuul.executor.work_root }}/.ara/ansible.sqlite"" register: ara_db_stat - name: Check for ara install args: executable: /bin/bash command: type -p bindep ignore_errors: yes register: ara_command_type when: ara_db_stat.stat.exists - name: Generate ara html output command: type ara && ara generate html ""{{ zuul.executor.log_root/ara }}"" when: ara_command_type|succeeded and not ara_command_type|skipped ",,22,0
openstack%2Fproject-config~master~I17232a5f1d7869e205c405e779933e9b54f585a7,openstack/project-config,master,I17232a5f1d7869e205c405e779933e9b54f585a7,Remove openstack-publish-tarball base job,MERGED,2017-08-10 23:56:50.000000000,2017-08-20 19:49:38.000000000,2017-08-20 19:49:38.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-10 23:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1724fb039ea90ba1ce0c3757623ef1e9aac109fc', 'message': 'Remove openstack-publish-tarball base job\n\nThe rename is now done, so we can remove the old job.\n\nChange-Id: I17232a5f1d7869e205c405e779933e9b54f585a7\nDepends-On: Iad5001a0591e1a019465b72c05ea36aee334e903\n'}, {'number': 2, 'created': '2017-08-14 22:16:14.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8ee4dbab63dc4d23e5905bfb005a0cf3a4b6163', 'message': 'Remove openstack-publish-tarball base job\n\nThe rename is now done, so we can remove the old job.\n\nChange-Id: I17232a5f1d7869e205c405e779933e9b54f585a7\nDepends-On: Iad5001a0591e1a019465b72c05ea36aee334e903\n'}]",0,492714,d8ee4dbab63dc4d23e5905bfb005a0cf3a4b6163,16,4,2,2,,,0,"Remove openstack-publish-tarball base job

The rename is now done, so we can remove the old job.

Change-Id: I17232a5f1d7869e205c405e779933e9b54f585a7
Depends-On: Iad5001a0591e1a019465b72c05ea36aee334e903
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/492714/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,1724fb039ea90ba1ce0c3757623ef1e9aac109fc,,, name: publish-openstack-tarball description: | Do not use. Old publish job to upload artifacts. post-run: playbooks/publish/openstack-artifacts - job:,0,6
openstack%2Fproject-config~master~I2c2cdbd9f90e7ece27a8cdbdc4a5736d41c01ef0,openstack/project-config,master,I2c2cdbd9f90e7ece27a8cdbdc4a5736d41c01ef0,Set OVERRIDE_NODEPOOL_PROJECT_REF to 0.2.0 for old job,ABANDONED,2017-06-05 14:58:44.000000000,2017-08-20 19:37:03.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-06-05 14:58:44.000000000', 'files': ['jenkins/jobs/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/96ce5a91b350516ac074e7067cf3fd0927f870bf', 'message': ""Set OVERRIDE_NODEPOOL_PROJECT_REF to 0.2.0 for old job\n\nSetting it in branch-override doesn't quite work because branch-override\nchecks for actual branches. 0.2.0 is a tag, not a branch, so that\ndoesn't work.\n\nChange-Id: I2c2cdbd9f90e7ece27a8cdbdc4a5736d41c01ef0\nDepends-On: Icc7aa6986943f558dfb4f88c6fea2a3bad41a472\n""}]",0,470998,96ce5a91b350516ac074e7067cf3fd0927f870bf,3,1,1,2,,,0,"Set OVERRIDE_NODEPOOL_PROJECT_REF to 0.2.0 for old job

Setting it in branch-override doesn't quite work because branch-override
checks for actual branches. 0.2.0 is a tag, not a branch, so that
doesn't work.

Change-Id: I2c2cdbd9f90e7ece27a8cdbdc4a5736d41c01ef0
Depends-On: Icc7aa6986943f558dfb4f88c6fea2a3bad41a472
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/470998/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/nodepool.yaml'],1,96ce5a91b350516ac074e7067cf3fd0927f870bf,," name: '{pipeline}-dsvm-nodepool{python}{images}{old}-src{suffix}' # 0.2.0 is the pre-zk tag. This should let us test that latests # shade doesn't break folks using that tag. We can't just put it # in BRANCH_OVERRIDE though, because the d-g logic looks for # specific branch names. if [ ""{branch-override}"" == ""0.2.0"" ] ; then export OVERRIDE_NODEPOOL_PROJECT_REF=""0.2.0"" export BRANCH_OVERRIDE=""default"" else export BRANCH_OVERRIDE={branch-override} fi", name: '{pipeline}-dsvm-nodepool{python}{images}-src{suffix}' export BRANCH_OVERRIDE={branch-override},11,2
openstack%2Fironic-ui~stable%2Fpike~Ia175bc3d4ceddecd55dc798137d5c2de71d93d01,openstack/ironic-ui,stable/pike,Ia175bc3d4ceddecd55dc798137d5c2de71d93d01,Imported Translations from Zanata,MERGED,2017-08-15 11:36:01.000000000,2017-08-20 19:05:05.000000000,2017-08-20 19:05:05.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-08-15 11:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/0386583f2328dd049f523e7666bdf355094c1762', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ia175bc3d4ceddecd55dc798137d5c2de71d93d01\n'}, {'number': 2, 'created': '2017-08-16 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/0de82375f906ad6e80908c4f2f6f8ec0f93d9bfe', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ia175bc3d4ceddecd55dc798137d5c2de71d93d01\n'}, {'number': 3, 'created': '2017-08-18 10:52:20.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'ironic_ui/locale/id/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'ironic_ui/locale/zh_CN/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/ja/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/e24e260247fbdbe16f1d7bf503ec9e7a578807b5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia175bc3d4ceddecd55dc798137d5c2de71d93d01\n'}]",0,493839,e24e260247fbdbe16f1d7bf503ec9e7a578807b5,12,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia175bc3d4ceddecd55dc798137d5c2de71d93d01
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/39/493839/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'ironic_ui/locale/id/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'ironic_ui/locale/ja/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",10,0386583f2328dd049f523e7666bdf355094c1762,zanata/translations,,"# sunanchen <KF.sunanchen@h3c.com>, 2016. #zanata # Bin <liubin@glab.cn>, 2017. #zanata # sunanchen <KF.sunanchen@h3c.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: ironic-ui 2.0.0\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2017-07-31 15:33+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-07-30 01:41+0000\n"" ""Last-Translator: Bin <liubin@glab.cn>\n"" ""Language-Team: Chinese (China)\n"" ""Language: zh-CN\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""2.0.0"" msgstr ""2.0.0版本"" msgid ""2.1.0"" msgstr ""2.1.0版本"" msgid ""2.2.0"" msgstr ""2.2.0版本"" msgid """" ""A backend mock has been added that enables better unit testing of the ironic-"" ""ui application by mocking the ironic API service. The mock utilizes angular "" ""$httpbackend handlers to intercept requests targeted at the ironic-ui server-"" ""side REST endpoints, and returns simulated responses."" msgstr """" ""添加了一个后端模拟，能够通过对Ironic-ui的API服务模拟，以便对ironic-ui应用进行"" ""更好的单元测试。该模拟利用angular的$httpbackend处理器去拦截针对Ironic-UI服务"" ""端的REST端口请求，并返回模拟响应。"" msgid """" ""A column has been added that displays the UUID of the portgroup to which the "" ""port belongs."" msgstr ""添加了一个显示端口所属端口组的UUID的列。"" msgid """" ""A number of unit tests have been developed that illustrate the use of the "" ""backend mock functionality."" msgstr ""已经开发了许多单元测试来说明后端模拟功能性的使用。"" msgid ""A portgroup table has been added to the node-details/configuration tab."" msgstr ""添加了一个端口组表到节点详情或配置选项卡。"" msgid ""Ability to enroll a node without all required fields for other states"" msgstr """" ""可在缺少部分参数的情况下注册节点，并在创建之后通过编辑节点的方式来切换至其他"" ""状态"" msgid ""Add and delete nodes"" msgstr ""增加或删除节点"" msgid ""Add and delete ports"" msgstr ""增加或删除端口"" msgid """" ""Additional properties are displayed by clicking the detail-toggle-selector "" ""for that port in a similar manner to the portgroup table."" msgstr """" ""通过类似于端口组表的方式点击那个端口的detail-toggle-selector（详情切换选项）"" ""显示附加的属性。"" msgid """" ""Adds support for a user to be able to edit the ``resource_class`` field when "" ""enrolling/updating a node."" msgstr ""增加了用户在注册或更新节点时可以编辑``resource_class``字段。"" msgid """" ""Adds support for viewing and managing the portgroups associated with an "" ""ironic node."" msgstr ""增加了查看和管理关联一个Ironic节点端口组的支持。"" msgid """" ""Adds the ability to view and edit the node's ``resource_class`` field on the "" ""node-details/configuration page."" msgstr ""在节点详情／配置页增加了能够查看和编辑节点的``resource_class``字段。"" msgid """" ""Although the backend mock is a work in progress, enough functionality "" ""already exists to support test development for the current set of in-"" ""progress features."" msgstr """" ""尽管后端模拟是一个正在进行的工作，但是足够的功能已经存在去支持目前进行中的一"" ""组功能的测试开发。"" msgid ""Breadcrumbs have been added"" msgstr ""已增加面包屑导航"" msgid ""Current Series Release Notes"" msgstr ""当前版本发布说明"" msgid """" ""Currently it is not possible to edit a node via the UI once it has been "" ""enrolled. Therefore, the enrollment must be done accurately to ensure the "" ""node is enrolled accurately and can then be made available. At present, any "" ""errors made during enrollment can only be corrected by deleting the node and "" ""enrolling it again."" msgstr """" ""目前，不支持通过UI修改已经注册的节点的信息。因此，请务必保证节点注册信息的精"" ""确性和可用性。目前，注册节点过程中出现的错误，只能通过删除节点之后重新注册来"" ""修正"" msgid """" ""Detailed information for a portgroup is obtained by clicking the detail-"" ""toggle-selector (right-chevron) located in its table row. The additional "" ""information is displayed in a row expansion."" msgstr """" ""一个端口的详细信息可以通过点击位于表行中的细节切换选项(right-chevron)去获得。"" ""附加信息以行展开方式显示。"" msgid """" ""Each row in the table displays a single portgroup, and has column entries "" ""for its UUID, MAC address, name, and number of ports. A dropdown menu is "" ""also provided that contains actions that can be applied to the portgroup."" msgstr """" ""表中的每一行显示了一个单个端口组，并具有它的UUID、MAC地址、名称和端口数量的列"" ""条目。也提供了包含可以应用于端口组动作的下拉菜单。"" msgid ""Edit nodes after creation"" msgstr ""创建之后编辑节点"" msgid """" ""For ``shellinabox``, the value is an anchor with the URL required to access "" ""the web console and title ``shellinabox``. For others, the value is a string "" ""representation of the ``console_info`` object returned by the ``get_console "" ""api`` call."" msgstr """" ""对于``shellinabox``，该值是一个具有访问web控制台和标题``shellinabox``所需URL"" ""的锚点。对于其他，该值是一个由``get_console api``调用返回的``console_info``对"" ""象的字符串表示形式。"" msgid ""Ironic UI Release Notes"" msgstr ""Ironic UI发布说明"" msgid ""Known Issues"" msgstr ""已知的问题"" msgid ""Move nodes between enroll, manageable, available and active states"" msgstr ""可在已注册，可管理，可用，运行中四种状态间切换"" msgid ""New Features"" msgstr ""新特性"" msgid ""Newton Series Release Notes (2.0.0 - 2.1.x)"" msgstr ""Newton版本发布说明(2.0.0 - 2.1.x)"" msgid ""Ocata Series Release Notes (2.2.0 - 2.2.x)"" msgstr ""Ocata版本发布说明(2.2.0 - 2.2.x)"" msgid ""Panel hidden if baremetal service or admin rights are not present"" msgstr ""如果当前baremetal service不可用或者admin权限不够，面板将会不可见"" msgid """" ""Support has been added for inspecting nodes. For a node that is in the "" ""``manageable`` state, its action menu will include an ``Inspect`` button. "" ""Node action menus are located in the node-list and node-detail pages."" msgstr """" ""增加了检测节点的支持。对于一个处于可管理状态下的节点，该节点的菜单中会包含一"" ""个``Inspect``按钮。Node action菜单位于node-list和node-detail页面"" msgid """" ""Support has been added for starting, stopping, and accessing the console "" ""associated with a node."" msgstr ""增加了开启、停止和获取节点关联控制台的支持。"" msgid ""The Node Details/Configuration tab now shows the node's boot device."" msgstr ""节点详情或配置选项现在显示了节点的引导设备。"" msgid """" ""The ``Properties`` column has been replaced with a column that displays only "" ""the boolean value of the ``pxe_enabled`` property."" msgstr ""``Properties``列已经被替换为仅显示``pxe_enabled``属性布尔值的列。"" msgid """" ""The action dropdown menu in the node-details panel has a new item ``Enable|"" ""Disable console``."" msgstr ""在节点详情面板的动作下拉菜单中有一个新的选项``启用|禁用控制台``。"" msgid """" ""The current cleaning step is displayed in the Provisioning Status section of "" ""the node-details/overview page"" msgstr """" ""目前的清理步骤可以在node-details/overview page页面下Provisioning Status模块中"" ""了解"" msgid """" ""The node-details/configuration page has been extended to enable the user to "" ""edit ports after initial creation."" msgstr ""现在node-details/configuration页面可以允许用户在初始化创建之后编辑端口"" msgid """" ""The node-details/overview panel has a new ``Console info`` item in the "" ""``General`` section. The value of this field is dependent on the console "" ""type."" msgstr """" ""节点详情或概览面板在``常规``部分有一个新的``控制台信息``选项。该字段的值取决"" ""于控制台的类型。"" msgid """" ""The port table in node-details/configuration tab has been modified as "" ""follows:"" msgstr ""在节点详情或配置选项卡中的端口表已修改如下："" msgid """" ""The user is now able to abort a node cleaning operation. When cleaning is "" ""aborted the node is moved from the ``CLEAN WAIT`` state to the ``CLEAN "" ""FAIL`` state. When appropriate an \""Abort cleaning\"" action will be present "" ""in individual node action menu."" msgstr """" ""现在用户可以取消节点的清理操作。当一个节点的清理状态被取消时，节点的状态会从"" ""``CLEAN WAIT``变成``CLEAN FAIL``状态。在合适的时候，\""Abort cleaning\""操作将"" ""会增加至individual node action菜单中。"" msgid """" ""The user is now able to specify the pxe_enabled and local-link-connection "" ""attributes as part of defining/editing ports."" msgstr """" ""现在用户能够在定义/编辑端口的时候指定pxe_enabled和local-link-connection属性"" msgid """" ""This release adds support for adding and deleting nodes. Support has also "" ""been added for adding and deleting ports. The panel will now be hidden if "" ""the baremetal service is not present in the scenario where the collection of "" ""running services differs between multiple keystone regions."" msgstr """" ""该版本支持增加和删除节点的功能。同样也支持增加和删除端口。在多keystone "" ""regions的情况下，如果当前场景下，baremetal service不可用，面板将会被隐藏"" msgid """" ""This release adds support for editing nodes and moving those nodes between "" ""enroll, manageable, available and active states. It is now possible to "" ""enroll a node without all required fields for moving to manageable state "" ""being present due to the facility for editing the node once it has been "" ""created."" msgstr """" ""这个版本增加了编辑节点，在已注册、可管理、可用、运行中四种状态间切换的支持。"" ""现在可在缺少部分参数的情况下注册节点，并在创建之后通过编辑节点的方式来切换至"" ""可管理状态"" msgid ""UX improvements across the interface"" msgstr ""通过修改接口的方式提升UX "" ",381,1104
openstack%2Fironic-lib~stable%2Fpike~I82959556ef3edc67a316137a1bc51987938bbc67,openstack/ironic-lib,stable/pike,I82959556ef3edc67a316137a1bc51987938bbc67,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-07-28 21:03:29.000000000,2017-08-20 18:54:29.000000000,2017-08-20 18:54:29.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 14760}]","[{'number': 1, 'created': '2017-07-28 21:03:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d6b1a3ca02536e55ee4ee8cde39cfb1b58ad68a6', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I82959556ef3edc67a316137a1bc51987938bbc67\n'}]",0,488638,d6b1a3ca02536e55ee4ee8cde39cfb1b58ad68a6,8,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I82959556ef3edc67a316137a1bc51987938bbc67
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/38/488638/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d6b1a3ca02536e55ee4ee8cde39cfb1b58ad68a6,create-pike, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fironic-inspector~master~I878963255c35cd4035a467881740803814feaf64,openstack/ironic-inspector,master,I878963255c35cd4035a467881740803814feaf64,Imported Translations from Zanata,MERGED,2017-08-18 06:26:37.000000000,2017-08-20 18:54:11.000000000,2017-08-20 18:54:11.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-08-18 06:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8ea8f884919857d75c56fa9b15d87a71da1b5419', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I878963255c35cd4035a467881740803814feaf64\n'}, {'number': 2, 'created': '2017-08-20 06:26:51.000000000', 'files': ['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bc72a69758f8b287d34aaa4dd1723a96e00e2972', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I878963255c35cd4035a467881740803814feaf64\n'}]",0,494962,bc72a69758f8b287d34aaa4dd1723a96e00e2972,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I878963255c35cd4035a467881740803814feaf64
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/62/494962/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'],1,8ea8f884919857d75c56fa9b15d87a71da1b5419,zanata/translations,"# Gérald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Ironic Inspector Release Notes 6.0.1\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2017-08-17 15:00+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 05:07+0000\n"" ""Last-Translator: Gérald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""2.2.3"" msgstr ""2.2.3"" msgid ""2.2.4"" msgstr ""2.2.4"" msgid ""2.2.5"" msgstr ""2.2.5"" msgid ""2.2.6"" msgstr ""2.2.6"" msgid ""2.3.0"" msgstr ""2.3.0"" msgid ""3.0.0"" msgstr ""3.0.0"" msgid ""3.1.0"" msgstr ""3.1.0"" msgid ""3.2.0"" msgstr ""3.2.0"" msgid ""3.2.1"" msgstr ""3.2.1"" msgid ""3.2.2"" msgstr ""3.2.2"" msgid ""3.2.2-7"" msgstr ""3.2.2-7"" msgid ""3.3.0"" msgstr ""3.3.0"" msgid ""4.0.0"" msgstr ""4.0.0"" msgid ""4.1.0"" msgstr ""4.1.0"" msgid ""4.2.0"" msgstr ""4.2.0"" msgid ""Bug Fixes"" msgstr ""Corrections de bugs"" msgid ""Critical Issues"" msgstr ""Erreurs critiques"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dépréciées "" msgid ""Ironic Inspector Release Notes"" msgstr ""Note de release d'Ironic Inspector"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalités"" msgid ""Other Notes"" msgstr ""Autres notes"" msgid ""Security Issues"" msgstr ""Problèmes de sécurités"" msgid ""Start using reno to manage release notes."" msgstr ""Commence à utiliser reno pour la gestion des notes de release"" msgid ""Upgrade Notes"" msgstr ""Notes de mises à jours"" msgid ""`Openstack Theme <https://github.com/openstack/oslosphinx>`_ support"" msgstr ""`Openstack Theme <https://github.com/openstack/oslosphinx>`_ support"" msgid ""http://docs.openstack.org/admin-guide-cloud/cross_project_cors.html"" msgstr ""http://docs.openstack.org/admin-guide-cloud/cross_project_cors.html"" msgid ""http://docs.openstack.org/developer/oslo.middleware/cors.html"" msgstr ""http://docs.openstack.org/developer/oslo.middleware/cors.html"" msgid """" ""http://specs.openstack.org/openstack/openstack-specs/specs/cors-support.html"" msgstr """" ""http://specs.openstack.org/openstack/openstack-specs/specs/cors-support.html"" msgid ""https://bugs.launchpad.net/bugs/1501746"" msgstr ""https://bugs.launchpad.net/bugs/1501746"" msgid ""https://bugs.launchpad.net/bugs/1506160"" msgstr ""https://bugs.launchpad.net/bugs/1506160"" ",,110,0
openstack%2Fpuppet-nova~stable%2Fnewton~Ida3ecab717bc3113ba23553c559263f35c49c46a,openstack/puppet-nova,stable/newton,Ida3ecab717bc3113ba23553c559263f35c49c46a,Fix handling of nova pci MultiStrOpt params,MERGED,2017-08-16 13:58:16.000000000,2017-08-20 18:35:36.000000000,2017-08-20 18:10:33.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-08-16 13:58:16.000000000', 'files': ['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_api_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/api.pp', 'lib/puppet/parser/functions/check_array_of_hash.rb', 'releasenotes/notes/pci_params_format-bf62bf47585ad1cc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/064799e31cb662745caf4ee93b3f36a82b1c4e33', 'message': 'Fix handling of nova pci MultiStrOpt params\n\nThe changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix\nthe handling of the nova pci_* params. The config being written to nova.conf\nremains in the ListOpt format.\n\nAs support for MultiStrOpt was added to nova_config in\nI6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of\nstrings to nova_config to set these MultiStrOpt params.\n\nNova expects the string values to be JSON encoded so that is what the parser\nfunction now returns.  This function has also been renamed from\n\'check_array_of_hash\' (which it never did) to \'to_array_of_json_strings\'.\n\nThe acceptable input formats are a JSON array of objects or a puppet Array of\nHashes. Perviously a ""JSON with single quotes"" format was used but should now\nbe considered deprecated as it could corrupt data.\n\nThis also removes any pci_alias entries from nova.conf when the param is not\nset.\n\nChange-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a\nCloses-bug: #1696955\n(cherry picked from commit 1cd349f893408803fec307f615ae3fe265d54fed)\n(cherry picked from commit 13cfe18726c9ff189258871149f54caeb20b2a77)\n'}]",0,494217,064799e31cb662745caf4ee93b3f36a82b1c4e33,18,3,1,23811,,,0,"Fix handling of nova pci MultiStrOpt params

The changes in Ie27dbbc510c73c685b239a9be4af2700a0eb42f0 did not appear to fix
the handling of the nova pci_* params. The config being written to nova.conf
remains in the ListOpt format.

As support for MultiStrOpt was added to nova_config in
I6be7bb4cea1906bd98c513bd2d01153e4643e3ac we just need to pass an array of
strings to nova_config to set these MultiStrOpt params.

Nova expects the string values to be JSON encoded so that is what the parser
function now returns.  This function has also been renamed from
'check_array_of_hash' (which it never did) to 'to_array_of_json_strings'.

The acceptable input formats are a JSON array of objects or a puppet Array of
Hashes. Perviously a ""JSON with single quotes"" format was used but should now
be considered deprecated as it could corrupt data.

This also removes any pci_alias entries from nova.conf when the param is not
set.

Change-Id: Ida3ecab717bc3113ba23553c559263f35c49c46a
Closes-bug: #1696955
(cherry picked from commit 1cd349f893408803fec307f615ae3fe265d54fed)
(cherry picked from commit 13cfe18726c9ff189258871149f54caeb20b2a77)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/17/494217/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/to_array_of_json_strings.rb', 'spec/classes/nova_api_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/api.pp', 'lib/puppet/parser/functions/check_array_of_hash.rb', 'releasenotes/notes/pci_params_format-bf62bf47585ad1cc.yaml']",7,064799e31cb662745caf4ee93b3f36a82b1c4e33,bug/1696955,--- features: - | The nova::api::pci_alias and nova::compute::pci_passthrough params now accept an array of hashes. A valid JSON encoded array of objects is also acceptable. deprecations: - | Invalid JSON was previously accepted for the nova::api::pci_alias and nova::compute::pci_passthrough parameters. This format is now deprecated and may not be accepted in future. ,,147,48
openstack%2Fmagnum~stable%2Focata~I73f039659250f1d5b69b23141835c4602c8e019a,openstack/magnum,stable/ocata,I73f039659250f1d5b69b23141835c4602c8e019a,Don't poll heat if no stack exists,MERGED,2017-08-17 19:46:31.000000000,2017-08-20 17:18:55.000000000,2017-08-20 17:18:55.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 14826}]","[{'number': 1, 'created': '2017-08-17 19:46:31.000000000', 'files': ['magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8cb0e1f57033f697ec43819952ef07b43582b3d1', 'message': ""Don't poll heat if no stack exists\n\nCluster objects are created asynchronously from their underlying\nheat stacks, meaning that the periodic update can sometimes end up\ntrying to poll a cluster's heat stack before the stack has been created.\n\nThis change checks whether the stack_id is None and skips polling heat\nif so. This has the side effect of resolving bug 1682058, since we don't\ntry to use a trust and trustee that do not exist.\n\nChange-Id: I73f039659250f1d5b69b23141835c4602c8e019a\nCloses-Bug: #1682058\n(cherry picked from commit 88a6e3bab5f4af92ea4700580af05f5c20ab64f6)\n""}]",0,494688,8cb0e1f57033f697ec43819952ef07b43582b3d1,8,4,1,15736,,,0,"Don't poll heat if no stack exists

Cluster objects are created asynchronously from their underlying
heat stacks, meaning that the periodic update can sometimes end up
trying to poll a cluster's heat stack before the stack has been created.

This change checks whether the stack_id is None and skips polling heat
if so. This has the side effect of resolving bug 1682058, since we don't
try to use a trust and trustee that do not exist.

Change-Id: I73f039659250f1d5b69b23141835c4602c8e019a
Closes-Bug: #1682058
(cherry picked from commit 88a6e3bab5f4af92ea4700580af05f5c20ab64f6)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/88/494688/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/driver.py'],1,8cb0e1f57033f697ec43819952ef07b43582b3d1,bug/1682058, if cluster.stack_id is None: # NOTE(mgoddard): During cluster creation it is possible to poll # the cluster before its heat stack has been created. See bug # 1682058. return,,5,0
openstack%2Fironic~stable%2Fpike~Ifa74b9ea522a0aceb26c55e1e2ae049b159d1965,openstack/ironic,stable/pike,Ifa74b9ea522a0aceb26c55e1e2ae049b159d1965,[reno] Add prelude for intermediate Pike 9.0.1 release,MERGED,2017-08-18 14:06:55.000000000,2017-08-20 17:00:27.000000000,2017-08-19 11:47:54.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-08-18 14:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b653d4bec62a888e96a407c50569f7d93f0e6953', 'message': '[reno] Add prelude for intermediate Pike 9.0.1 release\n\nThis adds a note to the intermediate 9.0.1 release, to indicate\nthat 9.0.1 should be used instead of 9.0.0.\n\nChange-Id: Ifa74b9ea522a0aceb26c55e1e2ae049b159d1965\n'}, {'number': 2, 'created': '2017-08-18 16:35:59.000000000', 'files': ['releasenotes/notes/pike-901-release-c570884b8b2d8baf.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a405dcffbdc719a3d8f06b652e80e0e09ed9ad39', 'message': '[reno] Add prelude for intermediate Pike 9.0.1 release\n\nThis adds a note to the intermediate 9.0.1 release, to indicate\nthat 9.0.1 should be used instead of 9.0.0.\n\nChange-Id: Ifa74b9ea522a0aceb26c55e1e2ae049b159d1965\n'}]",2,495312,a405dcffbdc719a3d8f06b652e80e0e09ed9ad39,12,6,2,6618,,,0,"[reno] Add prelude for intermediate Pike 9.0.1 release

This adds a note to the intermediate 9.0.1 release, to indicate
that 9.0.1 should be used instead of 9.0.0.

Change-Id: Ifa74b9ea522a0aceb26c55e1e2ae049b159d1965
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/495312/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/pike-901-release-c570884b8b2d8baf.yaml'],1,b653d4bec62a888e96a407c50569f7d93f0e6953,reno-901,"--- prelude: > The 9.0.1 release is an intermediary Pike release; it should be used instead of the intermediary 9.0.0 release, since 9.0.1 passes all the ironic CI tests. other: - | Adds '9.0' and 'pike' as choices for the configuration option [default]/pin_release_version. This addresses failures with the unit and grenade tests. ",,10,0
openstack%2Fcinder~master~I259f72cab4e6843e74f33fb566fc6201346c9ea1,openstack/cinder,master,I259f72cab4e6843e74f33fb566fc6201346c9ea1,NetApp: block drivers fail when volume missing.,MERGED,2017-08-09 01:51:48.000000000,2017-08-20 16:29:41.000000000,2017-08-10 10:54:39.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 25677}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-08-09 01:51:48.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/630ef764c94d47c3e9395025dc7a2f1c997cd6c0', 'message': ""NetApp: block drivers fail when volume missing.\n\nThe block driver will fail when attempting to perform a Cinder delete\nwhen the volume does not exist on the backend. The Cinder volume status\nis then set to error_deleting even though the volume no longer exists.\nThis fix logs a warning if the volume doesn't exist on the backend and\nallows Cinder to successfully remove the Cinder volume.\n\nChange-Id: I259f72cab4e6843e74f33fb566fc6201346c9ea1\nCloses-Bug: #1682928\n""}]",0,491962,630ef764c94d47c3e9395025dc7a2f1c997cd6c0,68,13,1,16212,,,0,"NetApp: block drivers fail when volume missing.

The block driver will fail when attempting to perform a Cinder delete
when the volume does not exist on the backend. The Cinder volume status
is then set to error_deleting even though the volume no longer exists.
This fix logs a warning if the volume doesn't exist on the backend and
allows Cinder to successfully remove the Cinder volume.

Change-Id: I259f72cab4e6843e74f33fb566fc6201346c9ea1
Closes-Bug: #1682928
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/491962/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",2,630ef764c94d47c3e9395025dc7a2f1c997cd6c0,bug/1682928," try: self.zapi_client.destroy_lun(metadata['Path']) except netapp_api.NaApiError as e: if e.code == netapp_api.EOBJECTNOTFOUND: LOG.warning(""Failure deleting LUN %(name)s. %(message)s"", {'name': lun_name, 'message': e}) else: error_message = (_('A NetApp Api Error occurred: %s') % e) raise exception.NetAppDriverException(error_message)", self.zapi_client.destroy_lun(metadata['Path']),44,1
openstack%2Fdragonflow~master~Ie7fb43e95260ccfae99a463a2b2f32cf939ee08d,openstack/dragonflow,master,Ie7fb43e95260ccfae99a463a2b2f32cf939ee08d,Mark objects deleted from db_store as stale,MERGED,2017-08-16 10:08:06.000000000,2017-08-20 15:40:08.000000000,2017-08-20 15:40:08.000000000,"[{'_account_id': 3}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-08-16 10:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2a1c37da00376349294cfc2524460cd7901ac02d', 'message': 'Mark objects deleted from db_store as stale\n\nChange-Id: Ie7fb43e95260ccfae99a463a2b2f32cf939ee08d\n'}, {'number': 2, 'created': '2017-08-17 20:02:26.000000000', 'files': ['dragonflow/tests/unit/test_db_store.py', 'dragonflow/db/db_store.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c173a85e03fd80339ebfdf6043155043956984d6', 'message': 'Mark objects deleted from db_store as stale\n\nChange-Id: Ie7fb43e95260ccfae99a463a2b2f32cf939ee08d\n'}]",0,494153,c173a85e03fd80339ebfdf6043155043956984d6,12,3,2,20229,,,0,"Mark objects deleted from db_store as stale

Change-Id: Ie7fb43e95260ccfae99a463a2b2f32cf939ee08d
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/53/494153/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/tests/unit/test_db_store.py', 'dragonflow/db/db_store.py']",2,2a1c37da00376349294cfc2524460cd7901ac02d,bug/1690775, old_obj = self._objs.pop(obj.id) old_obj._is_object_stale = True, del self._objs[obj.id],9,1
openstack%2Fdragonflow~master~Ibe38fb829d1467f84d9b4bddf1a50787298f86eb,openstack/dragonflow,master,Ibe38fb829d1467f84d9b4bddf1a50787298f86eb,Add example SFC Heat template to docs,MERGED,2017-07-30 06:43:52.000000000,2017-08-20 15:25:46.000000000,2017-08-20 15:25:46.000000000,"[{'_account_id': 3}, {'_account_id': 13108}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-07-30 06:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b70785a149af75af52d57932f18a205650cd6339', 'message': '[WIP] Add example SFC HEAT template to docs\n\nChange-Id: Ibe38fb829d1467f84d9b4bddf1a50787298f86eb\n'}, {'number': 2, 'created': '2017-07-30 08:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/130c0041236aeeb95b7f89401043cdb77fc043f9', 'message': '[WIP] Add example SFC HEAT template to docs\n\nChange-Id: Ibe38fb829d1467f84d9b4bddf1a50787298f86eb\n'}, {'number': 3, 'created': '2017-08-01 14:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b311d1186c482e926df74f88369897130ebebe00', 'message': 'Add example SFC Heat template to docs\n\nChange-Id: Ibe38fb829d1467f84d9b4bddf1a50787298f86eb\n'}, {'number': 4, 'created': '2017-08-02 06:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/11ccb666fd368fcb406506b80d8e12f6125351ff', 'message': 'Add example SFC Heat template to docs\n\nChange-Id: Ibe38fb829d1467f84d9b4bddf1a50787298f86eb\n'}, {'number': 5, 'created': '2017-08-15 13:36:05.000000000', 'files': ['doc/source/sfc-example/sfc-example.yaml'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d553646734444a4bda04b06e14c3c3f51a381a32', 'message': 'Add example SFC Heat template to docs\n\nChange-Id: Ibe38fb829d1467f84d9b4bddf1a50787298f86eb\n'}]",2,488987,d553646734444a4bda04b06e14c3c3f51a381a32,17,5,5,23766,,,0,"Add example SFC Heat template to docs

Change-Id: Ibe38fb829d1467f84d9b4bddf1a50787298f86eb
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/87/488987/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/sfc-example/sfc-example.yaml'],1,b70785a149af75af52d57932f18a205650cd6339,sfc-heat,"heat_template_version: 2015-04-30 description: SFC example parameters: key_name: type: string label: Keypair name default: stack image_id: type: string label: Image ID default: Fedora-Cloud-Base-25-1.3.x86_64 provider_net: type: string label: Provider net to use default: public provider_subnet: type: string label: Provider subnet to use default: public-subnet resources: flavor: type: OS::Nova::Flavor properties: name: sfc-test-flavor disk: 3 ram: 1024 vcpus: 1 private_net: type: OS::Neutron::Net properties: name: sfc-test-net private_subnet: type: OS::Neutron::Subnet properties: name: sfc-test-subnet network_id: { get_resource: private_net } cidr: 20.0.0.0/24 gateway_ip: 20.0.0.1 enable_dhcp: true allocation_pools: - start: 20.0.0.10 end: 20.0.0.100 router: type: OS::Neutron::Router properties: name: sfc-test-router external_gateway_info: network: { get_param: provider_net } router_interface: type: OS::Neutron::RouterInterface properties: router_id: { get_resource: router } subnet_id: { get_resource: private_subnet } sec_group: type: OS::Neutron::SecurityGroup properties: name: sfc-test-sg rules: - remote_ip_prefix: 0.0.0.0/0 protocol: tcp - remote_ip_prefix: 0.0.0.0/0 protocol: udp - remote_ip_prefix: 0.0.0.0/0 protocol: icmp source_vm_port: type: OS::Neutron::Port properties: name: sfc-test-src-vm-port network_id: { get_resource: private_net } fixed_ips: - subnet_id: { get_resource: private_subnet } security_groups: - { get_resource: sec_group } source_vm: type: OS::Nova::Server properties: name: sfc-test-src-vm admin_pass: test key_name: { get_param: key_name } flavor: { get_resource: flavor } image: { get_param: image_id } networks: - port: { get_resource: source_vm_port } source_fip: type: OS::Neutron::FloatingIP properties: floating_network: { get_param: provider_net } port_id: { get_resource: source_vm_port } dest_vm_port: type: OS::Neutron::Port properties: name: sfc-test-dst-vm-port network_id: { get_resource: private_net } fixed_ips: - subnet_id: { get_resource: private_subnet } security_groups: - { get_resource: sec_group } dest_vm: type: OS::Nova::Server properties: name: sfc-test-dst-vm admin_pass: test key_name: { get_param: key_name } flavor: { get_resource: flavor } image: { get_param: image_id } networks: - port: { get_resource: dest_vm_port } dest_fip: type: OS::Neutron::FloatingIP properties: floating_network: { get_param: provider_net } port_id: { get_resource: dest_vm_port } sf_port_ctrl: type: OS::Neutron::Port properties: name: sfc-test-sf-port-ctrl network_id: { get_param: provider_net } fixed_ips: - subnet_id: { get_param: provider_subnet } security_groups: - { get_resource: sec_group } sf_port_ingress: type: OS::Neutron::Port properties: name: sfc-test-sf-port-ingress network_id: { get_resource: private_net } fixed_ips: - subnet_id: { get_resource: private_subnet } port_security_enabled: false sf_port_egress: type: OS::Neutron::Port properties: name: sfc-test-sf-port-egress network_id: { get_resource: private_net } fixed_ips: - subnet_id: { get_resource: private_subnet } port_security_enabled: false sf_vm: type: OS::Nova::Server properties: name: sfc-test-sf admin_pass: test key_name: { get_param: key_name } flavor: { get_resource: flavor } image: { get_param: image_id } networks: - port: { get_resource: sf_port_ctrl } - port: { get_resource: sf_port_ingress } - port: { get_resource: sf_port_egress } user_data_format: RAW user_data: | #cloud-config runcmd: - ip route add default via 172.24.4.1 - sudo dnf install -y openvswitch tcpdump - sudo systemctl start openvswitch - sudo ovs-vsctl add-br br-sf - sudo ovs-vsctl add-port br-sf eth1 - sudo ovs-vsctl add-port br-sf eth2 - sudo ovs-ofctl del-flows br-sf - sudo ip link set dev eth1 up - sudo ip link set dev eth2 up - sudo ovs-ofctl add-flow table=0 in_port=$(sudo ovs-ofctl show br-sf | grep eth1 | cut -f1 -d""(""),mpls,actions=output:$(sudo ovs-ofctl show br-sf | grep eth2 | cut -f1 -d""("") port_pair: type: OS::Neutron::PortPair properties: name: sfc-test-pp ingress: { get_resource: sf_port_ingress } egress: { get_resource: sf_port_egress } service_function_parameters: correlation: mpls depends_on: sf_vm port_pair_group: type: OS::Neutron::PortPairGroup properties: name: sfc-test-ppg port_pairs: - { get_resource: port_pair } flow_classifier: type: OS::Neutron::FlowClassifier properties: name: sfc-test-fc logical_source_port: { get_resource: source_vm_port } ethertype: IPv4 destination_ip_prefix: str_replace: template: ip/32 params: ip: { get_attr: [ dest_vm, first_address ] } port_chain: type: OS::Neutron::PortChain properties: name: sfc-test-pc flow_classifiers: - { get_resource: flow_classifier } port_pair_groups: - { get_resource: port_pair_group } ",,220,0
openstack%2Fdragonflow~master~Ia1e12b84eb14a8ee9170b34683154b9818268ec5,openstack/dragonflow,master,Ia1e12b84eb14a8ee9170b34683154b9818268ec5,Updated from global requirements,MERGED,2017-08-18 04:39:44.000000000,2017-08-20 15:25:29.000000000,2017-08-20 15:25:29.000000000,"[{'_account_id': 3}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-08-18 04:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/0c3d3b8869614ecf286389a97eea6d1a5fb019f1', 'message': 'Updated from global requirements\n\nChange-Id: Ia1e12b84eb14a8ee9170b34683154b9818268ec5\n'}, {'number': 2, 'created': '2017-08-18 11:29:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/bc042e2ca61c97a1a651b1315978c4143a7acb42', 'message': 'Updated from global requirements\n\nChange-Id: Ia1e12b84eb14a8ee9170b34683154b9818268ec5\n'}]",0,494802,bc042e2ca61c97a1a651b1315978c4143a7acb42,10,4,2,11131,,,0,"Updated from global requirements

Change-Id: Ia1e12b84eb14a8ee9170b34683154b9818268ec5
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/02/494802/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0c3d3b8869614ecf286389a97eea6d1a5fb019f1,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,1,1
openstack%2Fkolla~master~I4f2a6ff30ec31b835eacf89ea07493e60fa29b2c,openstack/kolla,master,I4f2a6ff30ec31b835eacf89ea07493e60fa29b2c,Add systool binary for cinder-volume container,MERGED,2017-08-18 03:45:23.000000000,2017-08-20 15:24:33.000000000,2017-08-20 15:24:33.000000000,"[{'_account_id': 3}, {'_account_id': 11869}, {'_account_id': 18737}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-08-18 03:45:23.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5075cdb342edbc5fce7c171ac2ee63408027bdaa', 'message': 'Add systool binary for cinder-volume container\n\nsystool is used when using FC driver backend[0].\n\n[0]\nhttps://github.com/openstack/os-brick/blob/master/os_brick/initiator/linuxfc.py#L94\n\nCloses-Bug: #1711490\nChange-Id: I4f2a6ff30ec31b835eacf89ea07493e60fa29b2c\n'}]",0,494781,5075cdb342edbc5fce7c171ac2ee63408027bdaa,8,4,1,7488,,,0,"Add systool binary for cinder-volume container

systool is used when using FC driver backend[0].

[0]
https://github.com/openstack/os-brick/blob/master/os_brick/initiator/linuxfc.py#L94

Closes-Bug: #1711490
Change-Id: I4f2a6ff30ec31b835eacf89ea07493e60fa29b2c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/494781/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,5075cdb342edbc5fce7c171ac2ee63408027bdaa,bug/1711490," 'sysfsutils', 'sysfsutils',",,2,0
openstack%2Fsenlin~master~I9af6151db9d3487fe854282e04ca53debdb2d2db,openstack/senlin,master,I9af6151db9d3487fe854282e04ca53debdb2d2db,small step to revise scheduler,ABANDONED,2017-08-12 08:10:38.000000000,2017-08-20 15:03:28.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-12 08:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a4a32ff5e4de69df1027b791971780064fd69369', 'message': ""small step to revise scheduler\n\nthis is a small step to revise scheduler to solve the\nconcurrence problems.\n\nI just drafted it on etherpad to describe the problem we met.\nhttps://etherpad.openstack.org/p/senlin-engine-blocked\n\nIt is drafted in Chinese, may translate it to English if needed.\nplease don't be hesitate to leave any comments.\n\nChange-Id: I9af6151db9d3487fe854282e04ca53debdb2d2db\n""}, {'number': 2, 'created': '2017-08-14 10:20:55.000000000', 'files': ['senlin/engine/dispatcher.py', 'senlin/engine/service.py', 'senlin/engine/scheduler.py', 'senlin/tests/unit/engine/test_scheduler.py', 'senlin/tests/unit/engine/test_dispatcher.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d3988879a3588ac4bd8539ca8703b4eab08307c1', 'message': ""small step to revise scheduler\n\nthis is a small step to revise scheduler to solve the\nconcurrence problems.\n\nI just drafted it on etherpad to describe the problem we met.\nhttps://etherpad.openstack.org/p/senlin-engine-blocked\n\nIt is drafted in Chinese, may translate it to English if needed.\nplease don't be hesitate to leave any comments.\n\nChange-Id: I9af6151db9d3487fe854282e04ca53debdb2d2db\n""}]",0,493289,d3988879a3588ac4bd8539ca8703b4eab08307c1,5,1,2,23401,,,0,"small step to revise scheduler

this is a small step to revise scheduler to solve the
concurrence problems.

I just drafted it on etherpad to describe the problem we met.
https://etherpad.openstack.org/p/senlin-engine-blocked

It is drafted in Chinese, may translate it to English if needed.
please don't be hesitate to leave any comments.

Change-Id: I9af6151db9d3487fe854282e04ca53debdb2d2db
",git fetch https://review.opendev.org/openstack/senlin refs/changes/89/493289/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/dispatcher.py', 'senlin/engine/service.py', 'senlin/engine/scheduler.py']",3,a4a32ff5e4de69df1027b791971780064fd69369,scheduler," def __init__(self, worker_id): self.worker_id = worker_id # TODO(ruijie) may need real queue self.queues = [] self.process_action() self.group = threadgroup.ThreadGroup() def start_action(self, action_id=None): '''Caches the actions to queues :param action_id: ID of the action to be executed. None means all ready actions will be acquired and scheduled to run. ''' def queue_action(action_id): '''Queue actions.''' self.queues.append(action_id) actions_queued = 0 if action_id is not None: timestamp = wallclock() # TODO(ruijie) we may just want to own it, but not change status action = ao.Action.acquire(self.db_session, action_id, self.worker_id, timestamp) if action: queue_action(action.id) actions_queued += 1 batch_size = cfg.CONF.max_actions_per_batch batch_interval = cfg.CONF.batch_interval while True: timestamp = wallclock() action = ao.Action.acquire_random_ready(self.db_session, self.worker_id, timestamp) if action: if batch_size > 0 and 'NODE' in action.action: if actions_queued < batch_size: queue_action(action.id) actions_queued += 1 else: msg = _('Engine %(id)s has queued %(num)s node ' 'actions consecutively, stop scheduling ' 'node action for %(interval)s second...' ) % {'id': self.worker_id, 'num': batch_size, 'interval': batch_interval} LOG.debug(msg) sleep(batch_interval) queue_action(action.id) actions_queued = 1 else: queue_action(action.id) else: break def process_action(self): if len(self.queues) > 0: timestamp = wallclock() action_id = self.queues.pop(0) # TODO(ruijie) we may need to set action status to RUNNING launch(action_id) sleep(batch_interval) "," def __init__(self): self.group = threadgroup.ThreadGroup() def start_action(self, worker_id, action_id=None): :param worker_id: ID of the worker thread; we fake workers using senlin engines at the moment. actions_launched = 0 if action_id is not None: timestamp = wallclock() action = ao.Action.acquire(self.db_session, action_id, worker_id, timestamp) if action: launch(action.id) actions_launched += 1 timestamp = wallclock() action = ao.Action.acquire_random_ready(self.db_session, worker_id, timestamp) if action: if batch_size > 0 and 'NODE' in action.action: if actions_launched < batch_size: launch(action.id) actions_launched += 1 else: msg = _('Engine %(id)s has launched %(num)s node ' 'actions consecutively, stop scheduling ' 'node action for %(interval)s second...' ) % {'id': worker_id, 'num': batch_size, 'interval': batch_interval} LOG.debug(msg) sleep(batch_interval) launch(action.id) actions_launched = 1 else: launch(action.id) else: break",62,38
openstack%2Fi18n~master~Iec3141db405b4f498515f59901ff3552bcf9ede5,openstack/i18n,master,Iec3141db405b4f498515f59901ff3552bcf9ede5,Imported Translations from Zanata,MERGED,2017-08-18 10:16:55.000000000,2017-08-20 15:02:49.000000000,2017-08-20 15:02:49.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-08-18 10:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/eaba2f4ce4a7da52fcac227db396a6872f51e217', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iec3141db405b4f498515f59901ff3552bcf9ede5\n'}, {'number': 2, 'created': '2017-08-19 10:14:55.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/tr_TR/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/i18n/commit/d56e4f27e9e2562ec85f63658db1e4e17325645e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iec3141db405b4f498515f59901ff3552bcf9ede5\n'}]",0,495152,d56e4f27e9e2562ec85f63658db1e4e17325645e,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iec3141db405b4f498515f59901ff3552bcf9ede5
",git fetch https://review.opendev.org/openstack/i18n refs/changes/52/495152/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/tr_TR/LC_MESSAGES/doc.po']",5,eaba2f4ce4a7da52fcac227db396a6872f51e217,zanata/translations,"# işbaran akçayır <isbaran@gmail.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: I18n Contributor Guide\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2017-08-17 14:51+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-08-11 07:39+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n"" ""Language-Team: Turkish (Turkey)\n"" ""Language: tr-TR\n"" ""Plural-Forms: nplurals=2; plural=(n > 1);\n"" ""X-Generator: Zanata 3.9.6\n"" ""X-POOTLE-MTIME: 1502369718.000000\n"" msgid ""(Some contribution would be appreciated.)"" msgstr ""(Biraz katkı fena olmazdı.)"" msgid ""(optional) Put your language name as bug tag."" msgstr ""(isteğe bağlı) Dil ismini hata etiketi olarak koyun."" msgid """" ""**Make sure to include your English language name in a bug summary**. It is "" ""also suggested to write a bug summary in English. For example:"" msgstr """" ""**İngilizce dil isminizi hata özetine dahil ettiğinizden emin olun**. "" ""İngilizce bir hata özeti yazmanız da tavsiye edilir. Örneğin:"" msgid """" ""**tox** is available on PyPI and also available in various Linux "" ""distribution. ``pip install tox`` or ``apt-get install python-tox`` (in case "" ""of Ubuntu) installs **tox**."" msgstr """" ""**tox** hem PyPI hem çeşitli Linux dağıtımları üzerinde kullanılabilir. "" ""``pip install tox`` veya ``apt-get install python-tox`` (Ubuntu için) "" ""**tox** kurar."" msgid ""..."" msgstr ""..."" msgid "":doc:`IRC meeting <i18n_team_meeting>`"" msgstr "":doc:`IRC toplantısı <i18n_team_meeting>`"" msgid """" "":doc:`Your language team <lang_team>` may have useful information to help "" ""our translation efforts including translation guidelines, priorities, "" ""communication tools and so on. It is worth visited. You can find your "" ""language team page at https://wiki.openstack.org/wiki/I18nTeam/team. If you "" ""have questions, you can contact your coordinators."" msgstr """" "":doc:`Dil ekibinizin <lang_team>` çeviri kılavuz hatları, öncelikler, "" ""iletişim araçları gibi konularda çeviri çabalarımıza yardımcı olacak faydalı "" ""bilgileri olabilir. Ziyaret etmeye değer. Dil takım sayfanızı https://wiki."" ""openstack.org/wiki/I18nTeam/team adresinde bulabilirsiniz. Sorularınız varsa "" ""yürütücünüzle iletişime geçebilirsiniz."" msgid """" "":ref:`ATC status in I18n project <i18n-atc>` is determined based on "" ""translation statistics in a specific period."" msgstr """" "":ref:`i18n projesinde ATC durumu <i18n-atc>` belirli bir dönemdeki çeviri "" ""istatistiklerine dayalıdır."" msgid "":ref:`search`"" msgstr "":ref:`search`"" msgid """" ""A glossary file of your language is found at ``glossary/locale/<lang>/"" ""LC_MESSAGES/glossary.po`` in the i18n repository. The file is a usual PO "" ""file."" msgstr """" ""Diliniz için bir sözlük dosyası i18n deposunda ``glossary/locale/<dil>/"" ""LC_MESSAGES/glossary.po`` konumunda bulunabilir. Dosya genellikle bir PO "" ""dosyasıdır."" msgid """" ""A person who can proofread translations and mark them as reviewed (approved) "" ""or rejected."" msgstr """" ""Çevirileri kontrol edebilen ve gözden geçirildi (onaylandı) veya reddedildi "" ""olarak işaretleyebilen kişi."" msgid ""A person who can submit translations."" msgstr ""Çeviri gönderebilen kişi."" msgid """" ""A privileged member in a translation team who can help in team management "" ""tasks, such as approving new members and reviewing contributions to that "" ""language. We also have task coordinators for specific tasks."" msgstr """" ""Çeviri ekibinde yeni üyeleri onaylayan veya bu dile katkıları gözden "" ""geçirmek gibi ekip yönetim işlerini yapan yetkili bir üye. Ayrıca belirli "" ""görevler için görev düzenleyicilerimiz bulunur."" msgid """" ""A series of scripts in OpenStack infrastructure is used to manage "" ""translation changes in Zanata. Without running the scripts, translation "" ""changes will not be reflected into OpenStack projects. This page explains "" ""how the infrastructure scripts runs as Jenkins jobs and monitor the jobs "" ""status."" msgstr """" ""Zanata'daki çeviri değişikliklerini yönetmek için OpenStack altyapısında bir "" ""takım betikler kullanılır. Betikleri çalıştırmadan, çeviri değişiklikleri "" ""OpenStack projelerine yansıtılmaz. Bu sayfa altyapı betiklerinin Jenkins "" ""işleri olarak nasıl çalıştığını ve iş durumunu nasıl izleyeceğinizi açıklar."" msgid """" ""A template is a skeleton of static HTML files. In this case, the string is "" ""perhaps used in \""Update\"" form in \""Container\"" menu."" msgstr """" ""Şablon statik HTML dosyalarının iskeletidir. Bu durumda karakter dizisi "" ""belki de \""Kapsayıcı\"" menüsünde \""Güncelleme\"" biçiminde kullanılmıştır."" msgid ""ATC status in I18n project"" msgstr ""i18n projesinde ATC durumu"" msgid ""About this guide"" msgstr ""Bu kılavuz hakkında"" msgid """" ""After the official release, translating master version is welcome for "" ""upstream translation contribution, but the original strings may be changed "" ""frequently due to upstream development on the projects."" msgstr """" ""Resmi yayından sonra, çeviri katkısı için master sürüm çevrilebilir, ama "" ""asıl karakter dizileri projelerdeki geliştirmeler sebebiyle sık değişebilir."" msgid """" ""After you edit the master glossary, ensure to reflect the change to all "" ""language glossary files. To do this, run the following command."" msgstr """" ""Ana sözlüğü düzenledikten sonra, değişikliği tüm dil sözlük dosyalarına "" ""yansıttığınızdan emin olun. Bunu yapmak için aşağıdaki komutu çalıştırın."" msgid """" ""After you log in with OpenStack ID, you will be requested to fill in your "" ""profile."" msgstr """" ""OpenStack kimliğinizle giriş yaptıktan sonra, profilinizi doldurmanız "" ""istenecektir."" msgid """" ""Although each language team could follow the I18n team working plan, your "" ""team may also decide your own work items and priorities as a language team."" msgstr """" ""Her dil ekibi i18n ekibinin iş planını takip edebilse de, takımınız kendi "" ""çalışma ögelerinde ve önceliklerinde karar kılabilir."" msgid """" ""Another convenient way is to check dashboard translations is to run DevStack "" ""in your local environment. To run DevStack, you need to prepare ``local."" ""conf`` file, but no worries. Several ``local.conf`` files are shared on the "" ""Internet and a minimum example is shown below. From our experience, you need "" ""a machine with two or four CPU cores, 8 GB memory and 20 GB disk to run "" ""DevStack comfortably. If you enable just major OpenStack projects, the "" ""machine requirement would be much smaller like 2~4GB memory."" msgstr """" ""Kontrol panosu çevirilerini kontrol etmenin kolay başka bir yolu da yerel "" ""ortamınızda DevStack çalıştırmaktır. DevStack çalıştırmak için, ``local."" ""conf`` dosyasını hazırlamalısınız, ama dert etmeyin. İnternette bir çok "" ""``local.conf`` dosyası paylaşılır ve aşağıda asgari bir örnek verilmiştir. "" ""Deneyimlerimize göre, iki ya da dört CPU çekirdeğine sahip, 8 GB hafıza ve "" ""20 GB diske sahip bir makine ile DevStack'i rahatlıkla çalıştırabilirsiniz. "" ""Yalnızca temel OpenStack projelerini etkinleştirirseniz, makine "" ""gereksinimleri 2~4GB bellek gibi çok daha düşük olacaktır."" msgid ""Application developer documentation"" msgstr ""Uygulama geliştiricisi belgelendirmesi"" msgid """" ""As a translator, if reported bugs turns out beyond a translation bug, it is "" ""better to ask I18n team members via the mailing list or the IRC channel. "" ""They can handle such bugs."" msgstr """" ""Bir çevirmen olarak, bildirilen hataların bir çeviri hatasının ötesinde "" ""olduğunu düşünüyorsanız, posta listesi veya IRC kanalı aracılığıyla i18n "" ""takım üyelerine sormak en iyisidir. Bu tür hataları onlar halledebilirler."" msgid """" ""As of now, ATC of official translators are treated as extra ATCs as we have "" ""no way to collect statistics automatically now. The list of extra ATCs is "" ""maintained by the PTL and is usually updated short before the deadline of "" ""extra ATCs nomination in each release cycle. The deadline of extra ATCs "" ""nomination can be checked in the release schedule page at http://releases."" ""openstack.org/ (for example, http://releases.openstack.org/newton/schedule."" ""html)."" msgstr """" ""Şu an itibariyle, otomatik olarak istatistik toplamanın bir yolu "" ""olmadığından resmi çevirmenlerin ATC'sine ek ATC'ler olarak davranılır. Ek "" ""ATC'lerin listesi PTL tarafından yönetilir ve genellikle her yayın döneminde "" ""ek ATC adayı süre bitiminden kısa bir süre önce güncellenir. Ek ATC adaylığı "" ""süre bitimi yayın programı sayfasından kontrol edilebilir http://releases."" ""openstack.org/ (örneğin, http://releases.openstack.org/newton/schedule.html)."" msgid """" ""At the moment, the I18n PTL needs to maintain the ATC list of the I18n "" ""project manually around the end of each release cycle. This requires name "" ""and e-mail address of individual translators."" msgstr """" ""Şu an, i18n PTL i18n projesinin ATC listesini her yayın döngüsünün sonunda "" ""elle yönetmek durumundadır. Bu da her bir çevirmenin ismini ve e-posta "" ""adresini gerektirir."" msgid """" ""At this stage, the master version on Zanata is still open for translations, "" ""but it is strongly suggested to work on a stable version."" msgstr """" ""Bu aşamada, Zanata'daki master sürümü çevirilere açıktır, ama kararlı "" ""sürümde çalışılması önerilir."" msgid """" ""Before use sphinx-build to build HTML file, we need to feed the translations "" ""from the single PO file into those small PO files. For example:"" msgstr """" ""Sphinx-build kullanarak HTML dosyası inşa etmeden önce, çevirileri tek bir "" ""PO dosyasından daha küçük PO dosyalarına bölmeliyiz. Örneğin:"" msgid """" ""Before you start contribution, you'll have to `agree to the contributor "" ""license agreement <http://docs.openstack.org/infra/manual/developers."" ""html#account-setup>`_. (You can preview the full text of `the OpenStack "" ""Individual Contributor License Agreement <https://review.openstack.org/"" ""static/cla.html>`_ first if you want.)"" msgstr """" ""Katkı vermeye başlamadan önce, `katkıcı lisans anlaşmasını kabul etmeniz "" ""gerekir <http://docs.openstack.org/infra/manual/developers.html#account-"" ""setup>`_. (İsterseniz önce `OpenStack Bağımsız Katkıcı Anlaşmasının <https://"" ""review.openstack.org/static/cla.html>`_ tam metnine göz atabilirsiniz.)"" msgid ""Bugs in a source project"" msgstr ""Bir kaynak projedeki hatalar"" msgid ""Bugs in tool chains"" msgstr ""Araç zincirlerindeki hatalar"" msgid """" ""Bugs in translated documents or dashboard are mainly classified into the "" ""following areas:"" msgstr """" ""Çevrilen belgelerdeki veya kontrol panosundaki hatalar temelde şu alanlara "" ""sınıflandırılır:"" msgid """" ""Bugs to report English strings are hard to translate in your language. For "" ""example, translators cannot control the order of words, or a plural form is "" ""not supported. Usually, this kind of bugs are in the original strings and "" ""cannot be fixed just by changing the strings and more work is needed."" msgstr """" ""Dilinize çevirmesi zor olan İngilizce karakter dizileriyle ilgili hatalar. "" ""Örneğin, çevirmen kelimelerin sırasını kontrol edemiyor olabilir, veya çoğul "" ""biçimi desteklenmiyor olabilir. Genellikle, bu tür hatalar asıl karakter "" ""dizilerindedir ve sadece karakter dizilerini değiştirerek düzeltilemezler."" msgid ""Building"" msgstr ""İnşa etme"" msgid ""Building: Build HTML from RST documents and the translated results."" msgstr ""İnşa: Çeviri sonuçlarından ve RST belgelerden HTML inşa edin."" msgid """" ""Builds release notes in both the original (English) version and translated "" ""versions (if any)."" msgstr """" ""Dağıtım notlarını hem asıl (İngilizce) sürümüyle hem de (varsa) çevrilmiş "" ""sürümleriyle inşa eder."" msgid ""CLI (command line interface)"" msgstr ""CLI (komut satırı arayüzü)"" msgid ""Carries out the second Jenkins job (Syncing into repos)."" msgstr ""İkinci Jenkins işini yapar (Depolara eşzamanlama)."" msgid ""Click \""...\"" on the right, and select \""Request to join team\""."" msgstr """" ""Sağdaki \""...\"" işaretine tıklayın, ve \""Takıma katılma isteği\""ni seçin."" msgid ""Click \""Languages\"" on the top, all languages will be listed."" msgstr ""Yukarıda \""Diller\""e tıklayın, tüm diller listelenir."" msgid ""Click \""Log in\"" button."" msgstr ""\""Giriş\"" düğmesine tıklayın."" msgid """" ""Click the language you want to translate, the language page will be shown."" msgstr ""Çevirmek istediğiniz dile tıklayın, dil sayfası gösterilecektir."" msgid """" ""Common code used by **propose_translation_update.sh** and "" ""**upstream_translation_update.sh**"" msgstr """" ""**propose_translation_update.sh** ve **upstream_translation_update.sh** "" ""tarafından kullanılan ortak kod"" msgid ""Contents"" msgstr ""İçerikler"" msgid ""Contributing"" msgstr ""Katkı sağlama"" msgid ""Convention"" msgstr ""Gelenek"" msgid ""Coordinator"" msgstr ""Düzenleyici"" msgid ""Creating a Language Team"" msgstr ""Bir Dil Ekibi Oluşturmak"" msgid ""Currently there is no solid plan when the check site is provided."" msgstr """" ""Kontrol sitesinin ne zaman sağlanacağıyla ilgili sağlam bir plan henüz yok."" msgid """" ""Currently, we do not support translations for OpenStack developer documents: "" ""http://docs.openstack.org/developer/<project>"" msgstr """" ""Şu an OpenStack geliştirici belgeleri için çevirileri desteklemiyoruz: "" ""http://docs.openstack.org/developer/<proje>"" msgid """" ""Discuss and review glossary changes in your language team before you propose "" ""changes to the Gerrit review system. Reviewers in the Gerrit review system "" ""cannot understand your language in most cases, so they can only check syntax "" ""or conventions."" msgstr """" ""Gerrit gözden geçirme sistemine değişiklik önermeden önce dil takımınızla "" ""sözlük değişikliklerini tartışın ve gözden geçirin. Gerrit gözden geçirme "" ""sistemindekiler genellikle diliniz anlamayacaklardır, yani yalnızca "" ""sözdizimi ve genel özellikleri kontrol edebilirler."" msgid ""Documentation"" msgstr ""Belgelendirme"" msgid ""Downloading"" msgstr ""İndirme"" msgid ""Downloading: Download the translated results by automation scripts."" msgstr ""İndirme: Otomatik betikler aracılığıyla çeviri sonuçlarını indirin."" msgid """" ""During translating a dashboard related project, you may want to know \""where "" ""is this string used in the dashboard?\""."" msgstr """" ""Kontrol panosuyla ilişkili bir proje çevirirken, \""bu karakter dizisinin "" ""kontrol panosunda nerde olduğu\""nu bilmek isteyebilirsiniz."" msgid """" ""Each language team has useful information to help our translation efforts. "" ""It is worth visited. You can find your language team at https://wiki."" ""openstack.org/wiki/I18nTeam/team."" msgstr """" ""Her dil ekibinin çeviri çabamıza yardımcı olacak faydalı bilgileri vardır. "" ""Ziyaret etmeye değer. Kend dil ekibinizi https://wiki.openstack.org/wiki/"" ""I18nTeam/team adresinde bulabilirsiniz."" msgid """" ""Each language team may have useful information to help our translation "" ""efforts including translation guidelines, priorities, communication tools "" ""and so on. It is worth visited. You can find your language team page at "" ""https://wiki.openstack.org/wiki/I18nTeam/team. If you have questions, you "" ""can contact your coordinators."" msgstr """" ""Her dil ekibi çeviri kılavuz hatları, öncelikleri, iletişim araçları gibi "" ""çeviri çabalarımıza katkısı olacak faydalı bilgilere sahip olabilir. Ziyaret "" ""etmeye değer. Dil ekibi sayfanızı https://wiki.openstack.org/wiki/I18nTeam/"" ""team adresinde bulabilirsiniz. Sorularınız varsa, düzenleyicilerinizle "" ""iletişime geçebilirsiniz."" msgid """" ""Every day, new translations get imported into the repositories using a "" ""proposal job. These need to have a review on whether the bot worked "" ""properly. You can see all open reviews in `Gerrit <https://review.openstack."" ""org/#/q/status:open+topic:zanata/translations,n,z>`_. The subject of these "" ""patches is always \""Imported Translations from Zanata\""."" msgstr """" ""Her gün, yeni çeviriler planlı bir iş kullanılarak depolara aktarılır. "" ""Bunların düzgün çalışıp çalışmadıklarıyla ilgili gözden geçirilmeleri "" ""gerekir. Tüm açık gözden geçirmeleri `Gerrit <https://review.openstack.org/#/"" ""q/status:open+topic:zanata/translations,n,z>`_ üzerinde görebilirsiniz. Bu "" ""yamaların konusu \""Zanata'dan İçe Aktarılan Çeviriler\""dir."" msgid ""Every even week: 07:00 UTC, Thursday"" msgstr ""Her çift hafta: 07:00 UTC, Perşembe"" msgid ""Every odd week: 13:00 UTC, Thursday"" msgstr ""Her tek hafta: 13:00 UTC, Perşembe"" msgid ""Everyone in the OpenStack community is glad to help you."" msgstr ""OpenStack topluluğundaki herkes yardım etmek isteyecektir."" msgid ""Extract Zanata user information"" msgstr ""Zanata kullanıcı bilgisini çıkart"" msgid ""Extracting"" msgstr ""Çıkartma"" msgid ""FAQ: I cannot find my name in Stackalytics"" msgstr ""SSS: Stackalytics'de kendi ismimi bulamıyorum"" msgid """" ""Finally, propose a patch including all of the above changes to the Gerrit "" ""review system."" msgstr """" ""Son olarak, yukardaki tüm değişiklikleri içeren bir yamayı Gerrit gözden "" ""geçirme sistemine gönderin."" msgid ""Finally, we could generate HTML files by"" msgstr ""Son olarak, HTML dosyalarını şu şekilde üretebiliriz"" msgid """" ""Finding and reporting translation bugs is an important step towards better "" ""quality of translations in OpenStack."" msgstr """" ""OpenStack'de çevirilerin kalitesini korumak için çeviri hatalarını bulmak ve "" ""bildirmek önemli bir adımdır."" msgid ""Fixing I18n bugs"" msgstr ""i18n hatalarını düzeltmek"" msgid """" ""Follow :doc:`the step <official_translator>` to register an ID in the "" ""translation website."" msgstr """" ""Çeviri web sitesine kaydolmak için :doc:`adımı <official_translator>` takip "" ""edin."" msgid """" ""For a document in a stable branch, such as the installation guide for "" ""Liberty, you need to update the file ``doc-tools-check-languages.conf`` in "" ""the target stable branch directly. You must add an entry to ``DRAFTS``, "" ""which is used as a special flag for a stable branch."" msgstr """" ""Libery için kurulum kılavuzu gibi, stable dalındaki bir belge için, hedef "" ""stable dalındaki ``doc-tools-check-languages.conf`` dosyasını doğrudan "" ""güncellemeniz gerekir. ``DRAFTS`` kısmına stable dalı için özel bire bayrak "" ""olarak kullanılacak olan bir girdi eklemeniz gerekir."" msgid ""For documentations, URL and a detail place would be great."" msgstr ""Belgelendirmeler için URL ve ayrıntılı konum çok iyi olur."" msgid """" ""For each Python project in OpenStack, there is an automation job daily to "" ""download the translations in PO file to the \""locale\"" folder under the "" ""source folder of each project. See :doc:`here <infra>`. It will generate a "" ""review request in Gerrit. After :doc:`review <reviewing-translation-"" ""import>`, the translation in PO file will be merged."" msgstr """" ""OpenStack'deki her Python projesi için, PO dosyasındaki çevirileri her proje "" ""için kaynak dizinin altındaki \""locale\"" dizinine indirecek gnlük bir "" ""otomasyon işi bulunur. Buraya :doc:`bakınız <infra>`. Bu Gerrit'de bir "" ""gözden geçirme isteği üretir. :doc:`Gözden geçirmeden <reviewing-translation-"" ""import>` sonra, PO dosyasındaki çeviri birleştirilir."" msgid """" ""For each Python project in OpenStack, there is an automation job to extract "" ""the messages , generate PO template and upload to Zanata, which is triggered "" ""by the \""commit\"" event. See :doc:`here <infra>`."" msgstr """" ""OpenStack'deki her Python projesi için iletileri çıkartan, PO şablonu "" ""oluşturan ve Zanata'ya yükleyen, \""commit\"" olayıyla tetiklenen bir "" ""otomasyon işi bulunur. Buraya :doc:`bkz <infra>`."" msgid ""For example, in case of nova,"" msgstr ""Örneğin, nova durumunda,"" msgid """" ""For most of the Python projects, the preferred tools for I18N are gettext "" ""and babel. The gettext module provides internationalization (I18N) and "" ""localization (L10N) services for your Python modules and applications. Babel "" ""are a collection of tools for internationalizing Python applications."" msgstr """" ""Çoğu Python projesi için, i18n için tercih edilen araçlar gettext ve "" ""babel'dir. Gettext modülü Python modülleriniz ve uygulamalarınız için "" ""uluslararasılaştırma (I18N) ve yerelleştirme (L10N) servislerini sağlar. "" ""Babel Python uygulamalarını uluslararasılaştırmak için olan araçlar "" ""koleksiyonudur."" msgid ""For the dashboard, panel or form name."" msgstr ""Kontrol panosu, pano veya form ismi."" msgid ""Getting in touch"" msgstr ""İletişim"" msgid ""Glossary Management"" msgstr ""Sözlük Yönetimi"" msgid ""Glossary of your language"" msgstr ""Diliniz için sözlük"" msgid ""Go to `Zanata server <https://translate.openstack.org/>`_"" msgstr ""`Zanata sunucusuna <https://translate.openstack.org/>`_ gidin"" msgid ""Handling documentation projects"" msgstr ""Belgelendirme projelerini ele alma"" msgid ""Handling horizon projects"" msgstr ""Horizon projelerinin ele alınması"" msgid ""Handling python projects"" msgstr ""Python projelerinin ele alınması"" msgid ""Handling translation bugs"" msgstr ""Çeviri hatalarını ele almak"" msgid ""Here is the check list for such case:"" msgstr ""Böyle bir durumda yapılacaklar şu şekildedir:"" msgid ""How are translations handled?"" msgstr ""Çeviriler nasıl ele alınır?"" msgid ""How can I report a bug?"" msgstr ""Nasıl bir hata bildirebilirim?"" msgid ""How to check translations"" msgstr ""Çevirileri kontrol etmek"" msgid ""I18n team meeting"" msgstr ""i18n takım buluşması"" msgid """" ""I18n team sets target projects to be translated and prioritizes during "" ""around the Forum (renamed from the Design Summit). Current translation plan "" ""and priority are available on `translation dashboard <https://translate."" ""openstack.org/>`_."" msgstr """" ""I18n ekibi çevrilecek hedef projeleri Forum civarında ayarlar ve "" ""önceliklendirir (Tasarım Zirvesi'nden yeniden isimlendirildi). Mevcut çeviri "" ""planı ve önceliği `çeviri kontrol panosunda <https://translate.openstack.org/"" "">`_ bulunabilir."" msgid ""IRC channel: ``#openstack-i18n`` on freenode"" msgstr ""IRC kanalı: freenode üzerinde ``#openstack-i18n`` "" msgid ""IRC meeting commands"" msgstr ""IRC toplantı komutları"" msgid """" ""If a bug reports translation errors of a certain language, it could be "" ""called **translation bug**. The translation bug should be fixed in the "" ""translation tool."" msgstr """" ""Eğer bir hata belirli bir dille ilgili çeviri hataları bildiriyorsa, "" ""**çeviri hatası** olarak adlandırılabilir. Çeviri hatası çeviri aracında "" ""düzeltilmelidir."" msgid """" ""If a reported bug turns out to be bugs in a source project, You could help"" msgstr """" ""Bildirilen bir hatanın kaynak projede olduğu netleşirse, yardımcı "" ""olabilirsiniz"" msgid """" ""If there is a translation bug on a stable version in Zanata, it is highly "" ""recommended to fix the same translation bug on the corresponding string in "" ""the master version."" msgstr """" ""Zanata'da kararlı sürümde bir çeviri hatası varsa, aynı çeviri hatasının "" ""ilişkili master sürümünde de düzeltilmesi önerilir."" msgid ""If you are a speaker of this language, you could help"" msgstr ""Bu dili konuşan biriyseniz, yardım edebilirsiniz"" msgid ""If you are a translator of this language, you could help"" msgstr ""Bu dilin çevirmeniyseniz, yardımcı olabilirsiniz"" msgid """" ""If you are a translator or a person involved in I18n effort, you may be "" ""interested in triaging and fixing translation bugs :)"" msgstr """" ""i18n ekibiyle ilgili bir çevirmen ya da şahıssanız, çeviri hatalarını "" ""sıralayabilir ya da çözebilirsiniz :)"" msgid """" ""If you are lucky to use a same name for launchpad and Zanata IDs, you do not "" ""need to do the above. Stackalytics will find your statistics automatically."" msgstr """" ""Launchpad ve Zanata kimlikleriniz için aynı ismi kullanacak kadar "" ""şanslıysanız, yukarıdaki adımı yapmanıza gerek yoktur. Stackalytcis "" ""istatistiklerinizi otomatik bulur."" msgid ""If you are reviewing these translations, keep the following in mind:"" msgstr ""Bu çevirileri gözden geçiriyorsanız, şunları aklınızda tutun:"" msgid """" ""If you are unfamiliar with translations in OpenStack, read the `Project Team "" ""Guide on Internationalization and Translation <http://docs.openstack.org/"" ""project-team-guide/i18n.html>`_ first."" msgstr """" ""OpenStack'de çevirilere aşina değilseniz, önce `Uluslararasılaştırma ve "" ""Çeviri üzerine Proje Ekibi Kılavuzunu <http://docs.openstack.org/project-"" ""team-guide/i18n.html>`_ okuyun."" msgid """" ""If you cannot find your local team, you can request to :ref:`create a local "" ""translation team <creating-lang-team>`."" msgstr """" ""Yerel ekibinizi bulamazsanız, :ref:`yerel çeviri ekibi oluşturma <creating-"" ""lang-team>` isteği yapabilirsiniz."" msgid """" ""If you don't have OpenStack ID, `register one <https://www.openstack.org/"" ""join/register>`_."" msgstr """" ""OpenStack kimliğiniz yoksa, `kaydolun <https://www.openstack.org/join/"" ""register>`_."" msgid """" ""If you encounter more complicated things including translation tool chains "" ""or something others, the most recommended way is to ask it in the I18n "" ""mailing list ``openstack-i18n@lists.openstack.org``. Of course, you can file "" ""a bug against a related project directly."" msgstr """" ""Çeviri aracı zincirleri veya başka şeylerde daha karmaşık hatalarla "" ""karşılaşırsanız, ``openstack-i18n@lists.openstack.org`` i18n posta listesine "" ""sormanızı öneriyoruz. Tabi ilgili projeye doğrudan bir hata raporu da "" ""oluşturabilirsiniz."" msgid ""If you have a machine running DevStack, there are two ways."" msgstr ""DevStack çalıştıran bir makineniz varsa, iki yol vardır."" msgid """" ""If you have a question, feel free to ask it to the PTL or the i18n list."" msgstr ""Bir sorunuz varsa, PTL'ye veya i18n listesine sormaya çekinmeyin."" msgid ""If you have any, don't hesitate to share it :)"" msgstr ""Sizde de varsa, paylaşmayı ihmal etmeyin :)"" msgid """" ""If you notice bad translations in a language, file a bug (see :ref:"" ""`reporting_translation_bugs`). Then the translation team will update the "" ""translation. We recommend to still import this change as is and import later "" ""the fix to not block other valid translations to merge."" msgstr """" ""Bir dilde kötü çeviriler farkederseniz, hata raporu doldurun (bkz :ref:"" ""`reporting_translation_bugs`). Ardından çeviri ekibi çeviriyi "" ""güncelleyecektir. Diğer geçerli çevirilerin birleştirilmesini engellememek "" ""için bu değişikliği yine de aktarıp daha sonra düzeltmenin yapılmasını "" ""öneriyoruz."" msgid """" ""If you visit `openstack-i18n launchpad <https://bugs.launchpad.net/openstack-"" ""i18n>`_, we can find **Report a bug** at the right-upper corner. Click to "" ""report a bug."" msgstr """" ""`openstack-i18n launchpad <https://bugs.launchpad.net/openstack-i18n>`_ "" ""sayfasını ziyaret ettiğinizde sağ üst köşede **Bir hata bildir** "" ""göreceksiniz. Hata bildirmek için buraya tıklayın."" msgid """" ""If you want to become a translator only, simply speaking, you need to `join "" ""The OpenStack Foundation <https://www.openstack.org/join/>`_ (select "" ""\""Foundation Member\"") and `sign the appropriate Individual Contributor "" ""License Agreement <http://docs.openstack.org/infra/manual/developers."" ""html#sign-the-appropriate-individual-contributor-license-agreement>`_."" msgstr """" ""Yalnızca bir çevirmen olmak istiyorsanız, `OpenStack Vakfına katılmanız "" ""<https://www.openstack.org/join/>`_ (\""Vakıf Üyesi\""ni seçin) ve `uygun "" ""Bağımsız Katkıcı Lisans Anlaşmasını <http://docs.openstack.org/infra/manual/"" ""developers.html#sign-the-appropriate-individual-contributor-license-"" ""agreement>`_ imzalamanız gerekir."" msgid """" ""If you want to create a language team and you want to be a coordinator, "" ""please follow below steps:"" msgstr """" ""Bir dil ekibi oluşturmak istiyorsanız ve düzenleyicisi olmak istiyorsanız, "" ""aşağıdaki adımları takip edin:"" msgid """" ""If you want to help fix I18n bugs of OpenStack, we can find them in the "" ""following places:"" msgstr """" ""OpenStack'de i18n hatalarını düzeltmek için yardımcı olmak istiyorsanız, "" ""aşağıdaki sayfalarda bulabiliriz:"" msgid """" ""If you want to help to report bugs, add more wishlists, and improve them, "" ""you can report and fix bugs at `openstack-i18n in Launchpad <https://bugs."" ""launchpad.net/openstack-i18n>`_. Mark bugs with a tag \""tools\""."" msgstr """" ""Hata bildirimlerine yardım etmek, istek listesine bir şeyler eklemek ya da "" ""geliştirmek isterseniz `Launchpad'de openstack-i18n <https://bugs.launchpad."" ""net/openstack-i18n>` içinde hata düzeltme ve bildirim yapabilirsiniz. "" ""Hataları bir \""araçlar\"" etiketiyle etiketleyin."" msgid """" ""If your Zanata ID is different from your launchpad ID, Stackalytics will not "" ""find your translation statistics. You need to let Stackalytics know your ID "" ""mappings. To do this, you need to add your user data into ``etc/detault_data."" ""json`` in `the Stackalytics repository <http://git.openstack.org/cgit/"" ""openstack/stackalytics/>`__. An example is https://review.openstack.org/#/"" ""c/284638/1/etc/default_data.json."" msgstr """" ""Zanata kimliğiniz launchpad kimliğinizden farklıysa, Stackalytics çeviri "" ""istatistiklerinizi bulamayacaktır. Stackalytics'in kimlik eşleştirmenizi "" ""bilmesini sağlamalısınız. Bunu yapmak için, kullanıcı verinizi `Stackalytics "" ""deposunda <http://git.openstack.org/cgit/openstack/stackalytics/>`__ ``etc/"" ""detault_data.json`` dosyasına eklemeniz gerekir. Örneğin https://review."" ""openstack.org/#/c/284638/1/etc/default_data.json."" msgid """" ""If your Zanata ID is not included in the translator list, you need to update "" ""the list to include your Zanata ID. Contact your language coordinator, email "" ""the i18n mailing list. You can also submit a patch to update the list by "" ""yourself (For detail, see :ref:`sync-translator-list`)."" msgstr """" ""Zanata kimliğiniz çevirmen listesinde yoksa, listeyi Zanata kimliğinizi "" ""içerecek şekilde güncellemeniz gerekir. Dil düzenleyicinizle iletişime "" ""geçin, i18n posta listesine eposta atın. Listeyi kendiniz güncellemek "" ""isterseniz bir yama da gönderebilirsiniz (Ayrıntı için, bkz :ref:`sync-"" ""translator-list`)."" msgid ""Implements the first Jenkins job (Syncing to Zanata)."" msgstr ""İlk Jenkins işini uygular (Zanata'ya eşzamanlama)."" msgid ""Import latest translations"" msgstr ""En son çevirileri içe aktarın"" msgid ""In most cases, a source project would be one of:"" msgstr ""Çoğu durumda, kaynak proje şunlardan biridir:"" msgid """" ""Input a short introduction of yourself, including your name, as \""Additional "" ""information\"", then click \""Send message\""."" msgstr """" ""Kendinizle ilgili kısa bir giriş yazın, isminizi \""Ek bilgi\"" olarak girin "" ""ve \""İleti gönder\""e tıklayın."" msgid """" ""Internationalization (I18n) is essential to make OpenStack ubiquitous. The "" ""mission of OpenStack I18n team is to make OpenStack ubiquitously accessible "" ""to people of all language backgrounds, by enhancing OpenStack software "" ""internationalization, providing translation, maintaining a translation "" ""platform and managing translation process for better quality of outcomes."" msgstr """" ""Uluslararasılaştırma (i18n) OpenStack'in her yerde bulunması için "" ""gereklidir. OpenStack i18n takımının amacı OpenStack yazılımını "" ""uluslararasılaştırarak, bir çeviri platformu yöneterek ve çeviri sürecini "" ""daha kaliteli çıktılar üretecek şekilde yöneterek tüm dil arka planına sahip "" ""insanlar için OpenStack'i erişilir kulmaktır."" msgid ""Is your Zanata ID different from your launchpad ID?"" msgstr ""Zanata kimliğiniz Launchpad kimliğinizden farklı mı?"" msgid """" ""Is your Zanata ID included in the `translator list <http://git.openstack.org/"" ""cgit/openstack/i18n/tree/tools/zanata/translation_team.yaml>`__?"" msgstr """" ""Zanata kimliğiniz `çevirmen listesinde <http://git.openstack.org/cgit/"" ""openstack/i18n/tree/tools/zanata/translation_team.yaml>`__ mevcut mu?"" msgid """" ""It is a good idea to organize glossaries and initiate related discussion."" msgstr """" ""Sözlükleri düzenlemek ve ilgili tartışmaları başlatmak iyi bir fikirdir."" msgid ""It is highly recommended to include the following information."" msgstr ""Aşağıdaki bilgileri dahil etmenizi öneriyoruz."" msgid """" ""It is important to check your translations by using a real situation where "" ""your translation is used. This page describes how to check your translations."" msgstr """" ""Çevirinizi çevirinizin kullanıldığı gerçek bir durumla denemek önemlidir. Bu "" ""sayfa çevirilerinizi nasıl kontrol edeceğinizi tanımlar."" msgid """" ""It is important to understand how an original string is used in the source "" ""code with contextual knowledge for better quality of translations. "" ""Unfortunately Zanata translation interface does not show where a target "" ""string is used in a source code correspondingly."" msgstr """" ""Daha iyi çeviri kalitesi için bir karakter dizisinin aslen kaynak kodda "" ""hangi içerikte kullanıldığını bilmek önemlidir. Malesef Zanata çeviri "" ""arayüzü hedef karakter dizisinin kaynak kodda nerde kullanıldığını göstermez."" msgid """" ""Keep in mind to work with your `local user group <https://groups.openstack."" ""org/>`_ and the `OpenStack Ambassadors <https://wiki.openstack.org/wiki/"" ""Community/AmbassadorProgram>`_ to raise awareness and gather members :)"" msgstr """" ""`Yerel kullanıcı grubunuz <https://groups.openstack.org/>`_ ve `OpenStack "" ""Elçilerinizle <https://wiki.openstack.org/wiki/Community/"" ""AmbassadorProgram>`_ çalışarak farkındalık yaratmayı ve üye toplamayı "" ""aklınızda bulundurun :)"" msgid ""Language Team"" msgstr ""Dil Ekibi"" msgid ""Language translation team"" msgstr ""Dil çeviri ekibi"" msgid """" ""Mailing List: `openstack-i18n@lists.openstack.org <http://lists.openstack."" ""org/cgi-bin/mailman/listinfo/openstack-i18n>`_"" msgstr """" ""Posta Listesi: `openstack-i18n@lists.openstack.org <http://lists.openstack."" ""org/cgi-bin/mailman/listinfo/openstack-i18n>`_"" msgid """" ""Make sure to include a short introduction because it is the only information "" ""which language coordinators can use to determine your join request is valid "" ""or not."" msgstr """" ""Kısa bir giriş eklemeyi unutmayın çünkü bu dil düzenleyicilerin katılım "" ""isteğinizin uygun olup olmadığını anlayabilecekleri tek bilgidir."" msgid ""Managing a Language Team"" msgstr ""Bir Dil Ekibini Yönetmek"" msgid ""Master glossary"" msgstr ""Ana sözlük"" msgid ""Meeting agenda"" msgstr ""Toplantı ajandası"" msgid ""Member (translator)"" msgstr ""Üye (çevirmen)"" msgid """" ""Missed translations. Missed translations might be caused by not extracting "" ""English strings from the source project, or be caused by real missed "" ""translations. If the translations are missed in two different languages, "" ""they are probably bugs in the source project. Or else, they are real missed "" ""translations."" msgstr """" ""Eksik çeviriler. Eksik çeviriler kaynak projeden İngilizce karakter "" ""dizilerinin alınmamasından kaynaklanabilir, veya gerçekten eksik çeviriler "" ""olabilir. Eğer çeviriler iki farklı dilde de eksikse, muhtemelen kaynak "" ""projede hatalıdırlar. Aksi halde gerçekten eksik çevirilerdir."" msgid ""Monitoring translation jobs status"" msgstr ""Çeviri işlerinin durumunu izleme"" msgid """" ""More convenient way is to use **tox** like ``tox -e venv -- python <script-"" ""name>``."" msgstr """" ""Daha uygun bir yol ``tox -e venv -- python <betik-ismi>`` şeklinde **tox** "" ""kullanmaktır."" msgid """" ""Most teams have single approval for translation imports instead of two core "" ""reviewers."" msgstr """" ""Çoğu ekipte çeviri aktarımı için iki çekirdek gözden geçiricisi yerine tek "" ""bir onaylama bulunur."" msgid """" ""Nobody should change translation files (the `.po` files in the `locale` "" ""directory) besides the bot. The next automatic import will override any "" ""change again. Therefore, leave a ``-1`` vote on any such changes and point "" ""developer to this document."" msgstr """" ""Çeviri dosyalarını (`locale` dizinindeki `.po` dosyaları) bot dışında kimse "" ""değiştirmemelidir. Sonraki otomatik içe aktarma yapılan değişikliklerin "" ""üzerine yazar. Bu şekilde yapılan değişikliklere ``-1`` oyu verin ve "" ""geliştiriciyi bu belgeye yönlendirin."" msgid """" ""Note that contributors to openstack/i18n repository are acknowledged as ATC "" ""automatically in the same way as for most OpenStack projects."" msgstr """" ""Openstack/i18n deposuna yapılan katkıcıların çoğu OpenStack projesindeki "" ""gibi otomatik olarak ATC kabul edildiğini unutmayın."" msgid """" ""Note that not all translation changes are the target for translation jobs. "" ""The goal is to have consistent translated programs, UIs, and documentation. "" ""There's not much sense if only a few lines are translated. The team has "" ""decided that files that have at least 75 percent of messages translated will "" ""be in the git repositories."" msgstr """" ""Çeviri işleri için tüm çeviri değişikliklerinin hedeflenmediğini unutmayın. "" ""Hedef tutarlı çevrilmiş programlar, UI'ler, ve belgelendirmedir. Yalnızca "" ""bir kaç satır çevrildiyse bu pek anlam ifade etmez. Takım iletilerin en az "" ""yüzde 75'i çevrildiyse çevirilerin git depolarında olacağını kararlaştırdı."" msgid """" ""Note that the scripts use `zanata-cli <http://docs.zanata.org/projects/"" ""zanata-client/en/release>`__ to pull and push translation content."" msgstr """" ""Betiklerin çeviri içeriğini çekmek ve göndermek için `zanata-cli <http://"" ""docs.zanata.org/projects/zanata-client/en/release>`__ kullandığını unutmayın."" msgid """" ""Note that you need to log into Zanata to see your activity in the above "" ""pages."" msgstr """" ""Yukarıdaki sayfalarda etkinliğinizi görmek için Zanata'ya giriş yapmanız "" ""gerektiğini unutmayın."" msgid """" ""Now you can start your translation. You can actually become an OpenStack "" ""official translator by contributing translations. You can find :doc:`various "" ""ways of contributions <contributing>`."" msgstr """" ""Artık çevirmeye başlayabilirsiniz. Çeviri katkısı vererek OpenStack resmi "" ""çevirmeni olabilirsiniz. :doc:`Çeşitli katkı yolları <contributing>` "" ""bulabilirsiniz."" msgid ""Odd and even values are calculated based on ISO week numbers."" msgstr ""Tek ve çift değerleri ISO hafta sayılarına göre hesaplanır."" msgid """" ""Of course there is no need that team coordinators do all items. You can "" ""collaborate your team members and share ideas."" msgstr """" ""Tabi ki takım düzenleyicilerin tüm ögeleri yapmasına gerek yoktur. Ekip "" ""üyelerinizin iş birliği yapmasını ve fikirleri paylaşmasını "" ""sağlayabilirsiniz."" msgid ""Official OpenStack translator"" msgstr ""Resmi OpenStack çevirmeni"" msgid """" ""On the other hand, translating stable version as upstream contribution is "" ""not encouraged after the translated strings are packaged with releases. The "" ""stable version will be closed earlier than or around EOL."" msgstr """" ""Diğer yandan, çevrilen karakter dizileri yayınlarla paketlendikten sonra "" ""kararlı sürümde çeviri katkısı yapmaya sıcak bakılmaz. Kararlı sürüm EOL "" ""yakınlarından veya daha önce kapatılır."" msgid """" ""Once a stable version corresponding to a project stable branch is created on "" ""Zanata, the infra script will push strings automatically."" msgstr """" ""Bir projeyle ilişkili kararlı sürüm Zanata'da oluşturulduktan sonra, altyapı "" ""betiği otomatik olarak karakter dizilerini gönderir."" msgid """" ""Once you find location(s) of a string you would like to check, you can check "" ""more detail context where the string is used by looking at the code in the "" ""git repository. Zanata project and git repository are one-to-one "" ""relationship. If Zanata project name is ``<Zanata-project-name>``, the "" ""corresponding git repository location is ``http://git.openstack.org/cgit/"" ""openstack/<Zanata-project-name>/``. For example, if you are translating "" ""``horizon``, the git repository is found at http://git.openstack.org/cgit/"" ""openstack/horizon/."" msgstr """" ""Kontrol etmek istediğiniz bir karakter dizisinin konumunu bulduktan sonra, "" ""git deposundaki koda bakarak bu karakter dizisinin hangi içerikte "" ""kullanıldığını görebilirsiniz. Zanata projesi ve git deposu birebir "" ""ilişkilidir. Zanata proje ismi ``<Zanata-proje-ismi>`` ise, ilişkili git "" ""deposunun konumu ``http://git.openstack.org/cgit/openstack/<Zanata-proje-"" ""ismi>/`` adresindedir. Örneğin, ``horizon`` çevirisi yapıyorsanız, git "" ""deposu şu adreste bulunabilir http://git.openstack.org/cgit/openstack/"" ""horizon/."" msgid """" ""Once your change is merged, the updated glossary will be uploaded to Zanata. "" ""Note that the upload to Zanata is a **manual** process now. Only the Zanata "" ""administrator (usually the I18n PTL and some limited folks) can upload a "" ""glossary. If your glossary is not uploaded, contact the I18n team or the PTL "" ""via the i18n mailing list."" msgstr """" ""Değişikliğiniz birleştirildikten sonra, güncel sözlük Zanata'ya "" ""yüklenecektir. Zanata'ya yüklemenin şu an **elle** yapıldığını unutmayın. "" ""Yalnızca Zanata yöneticisi (genellikle i18n PTL ve sınırlı bir kaç kişi) "" ""sözlük yükleyebilir. Sözlüğünüz yüklenmediyse, i18n takımıyla veya PTL ile "" ""i18n posta listesi aracılığıyla iletişim kurun."" msgid """" ""One of main goals in I18n team is to incorporate translated strings into a "" ""new release so that more global users experience translated version of "" ""OpenStack. To accomplish this goal, some of team activities need to be "" ""aligned with a release schedule."" msgstr """" ""i18n takımında temel hedeflerden biri çevrilen karakter dizilerinin yeni "" ""yayına alınması böylece çevrilmiş OpenStack sürümüyle daha yaygın kullanıcı "" ""deneyimi yaşatmaktır. Bu hedefe ulaşmak için, bazı ekip etkinliklerinin "" ""yayın takvimiyle birlikte yürümesi gerekir."" msgid """" ""One way is to update the horizon code only. The following shell script "" ""fetches the latest horizon code, compiles translation message catalogs and "" ""reloads the apache httpd server. Replace ``$BRANCH`` with an appropriate "" ""branch such as ``master``, ``stable/newton`` or ``stable/mitaka``."" msgstr """" ""Bir yol yalnızca horizon kodunu güncellemektir. Aşağıdaki kabuk betiği en "" ""son horizon kodunu çeker, çeviri ileti kataloglarını derler ve apache httpd "" ""sunucusunu yeniden başlatır. ``$BRANCH`` anahtarını ``master``, ``stable/"" ""newton`` veya ``stable/mitaka`` gibi uygun bir dal ile değiştirin."" msgid """" ""Open a POT file you find and search a string you are interested in. Then you "" ""can find an entry like:"" msgstr """" ""Bulduğunuz bir POT dosyasını açın ve ilgilendiğiniz karakter dizisini "" ""arayın. Şu şekilde bir girdi bulabilirsiniz:"" msgid ""OpenStack Dashboard"" msgstr ""OpenStack Kontrol Panosu"" msgid ""OpenStack I18n Guide"" msgstr ""OpenStack i18n Kılavuzu"" msgid ""OpenStack I18n team"" msgstr ""OpenStack i18n ekibi"" msgid """" ""OpenStack I18n team is a team to coordinate all language translations and "" ""cooperation with the I18n team and the development teams. I18n team usually "" ""has a working plan."" msgstr """" ""OpenStack i18n ekibi tüm dillerde çevirileri düzenleyen i18n ekibi ve "" ""geliştirici ekibi arasındaki köprüyü oluşturan ekiptir. i18n ekibi "" ""genellikle bir iş planını takip eder."" msgid """" ""OpenStack I18n team uses `Launchpad <https://bugs.launchpad.net/openstack-"" ""i18n>`_ for the bug tracking."" msgstr """" ""OpenStack i18n takımı hata takibi için `Launchpad <https://bugs.launchpad."" ""net/openstack-i18n>`_ kullanır."" msgid ""OpenStack I18n team: See :ref:`label-i18n-team-contact`"" msgstr ""OpenStack i18n takımı: Bkz :ref:`label-i18n-team-contact`"" msgid ""OpenStack developer documentation"" msgstr ""OpenStack geliştirici belgelendirmesi"" msgid """" ""OpenStack documents are using RST format. The steps to translate RST "" ""documents include:"" msgstr """" ""OpenStack belgeleri RST biçimini kullanıyor. RST belgelerini dönüştürmek "" ""için adımlar şunlardır:"" msgid """" ""OpenStack uses Zanata as a translation platform. While most operations "" ""around the translation platform are automated, if you want to communicate "" ""with the translation platform manually, you can use `Zanata CLI <http://docs."" ""zanata.org/en/release/client/>`__."" msgstr """" ""OpenStack çeviri platformu olarak Zanata kullanır. Çeviri platformu "" ""etrafındaki çoğu işlem otomatik olsa da, çeviri platformuyla kendiniz "" ""iletişime geçmek isterseniz, `Zanata CLI <http://docs.zanata.org/en/release/"" ""client/>`__ kullanabilirsiniz."" msgid ""Or, more convenient way would be:"" msgstr ""Ya da daha kolay bir yol şu olabilir:"" msgid ""Original string or message is not correct."" msgstr ""Asıl karakter dizisi veya ileti doğru değil."" msgid """" ""POT files are no longer stored in git repositories. The change was made at "" ""the beginning of Newton development cycle [#]_."" msgstr """" ""POT dosyaları artık git depolarında saklanmaz. Bu değişiklik [#]_ Newton "" ""geliştirme döngüsünün başında yapıldı."" msgid ""Previous meetings"" msgstr ""Önceki toplantılar"" msgid ""Project configuration"" msgstr ""Proje yapılandırması"" msgid ""Project maintenance"" msgstr ""Proje bakımı"" msgid ""Pull translations from Zanata"" msgstr ""Zanata'dan çevirileri çekin"" msgid ""Python script to setup projects for Zanata"" msgstr ""Zanata için projeleri ayarlayan Python betiği"" msgid ""Register a user ID in Zanata"" msgstr ""Zanata'da bir kullanıcı kimliği kaydedin"" msgid """" ""Replace ``$BRANCH`` with an appropriate branch such as ``master``, ``stable/"" ""newton`` or ``stable/mitaka``."" msgstr """" ""``$BRANCH`` anahtarını ``master``, ``stable/newton`` veya ``stable/mitaka`` "" ""gibi uygun bir dal ile değiştirin."" msgid ""Reporting translation bugs"" msgstr ""Çeviri hatalarının bildirilmesi"" msgid ""Request to join a translation team"" msgstr ""Bir çeviri ekibine giriş isteği yapın"" msgid ""Retrieve translation statistics"" msgstr ""Çeviri istatistiklerini al"" msgid ""Reviewer"" msgstr ""Denetçi"" msgid ""Reviewing"" msgstr ""Gözden geçirme"" msgid ""Reviewing translation imports"" msgstr ""Çeviri içe aktarımlarının gözden geçirilmesi"" msgid ""Roles in a Language Team"" msgstr ""Bir Dil Ekibinde Roller"" msgid ""Running DevStack"" msgstr ""DevStack Çalıştırma"" msgid ""Search in this guide"" msgstr ""Bu kılavuzda ara"" msgid ""Server projects"" msgstr ""Sunucu projeleri"" msgid """" ""Setting up a communication channel among team members is recommended. It "" ""encourage team communications to discuss various translation related topics."" msgstr """" ""Ekip üyeleri arasında bir iletişim kanalı kurmanız önerilir. Çeviriyle "" ""ilgili çeşitli başlıklarda ekip iletişimini cesaretlendirmek önemlidir."" msgid ""Setting up translations for a repository"" msgstr ""Bir depo için çevirilerin ayarlanması"" msgid ""Slicing"" msgstr ""Dilimleme"" msgid ""Slicing: generate PO templates from RST documents"" msgstr ""Dilimleme: RST belgelerinden PO şablonları üretin"" msgid """" ""Sphinx is a tool to translate RST source files to various output formats, "" ""including POT and HTML. You need to install Sphinx before you go to below "" ""steps. Almost all projects have ``test-requirements.txt`` in their "" ""repositories and you can check the required version of Sphinx by checking "" ""this file."" msgstr """" ""Sphinx RST kaynak dosyalarını POT ve HTML dahil çeşitli çıktı biçimlerine "" ""dönüştürmek için bir araçtır. Aşağıdaki adımları takip etmeden önce Sphinx "" ""kurmalısınız. Nerdeyse tüm projelerde gerekli Sphinx sürümünü bulmak için "" ""bakabileceğiniz bir ``test-requirements.txt`` dosyası bulunur."" msgid ""Stackalytics"" msgstr ""Stackalytics"" msgid ""Steps to become a OpenStack translator"" msgstr ""OpenStack çevirmeni olmak için adımlar"" msgid ""Sync the translator list with Zanata"" msgstr ""Çevirmen listesini Zanata ile eşzamanla"" msgid ""TBD"" msgstr ""TBD"" msgid ""Team activities with release"" msgstr ""Yayınla takım etkinlikleri"" msgid """" ""The Creator's Guide of the Infrastructure Manual explains how to `Enable the "" ""Translation Infrastructure <http://docs.openstack.org/infra/manual/creators."" ""html#enabling-translation-infrastructure>`_."" msgstr """" ""Altyapı Kılavuzunun Oluşturucular için Kılavuzu `Çeviri Altyapısının "" ""Etkinleştirilmesini <http://docs.openstack.org/infra/manual/creators."" ""html#enabling-translation-infrastructure>`_ açıklar."" msgid """" ""The I18n project is an official OpenStack project, so official translators "" ""who have contributed in a specific period are regarded as \""ATC\"" (Active "" ""Technical Contributor) and \""APC\"" (Active Project Contributor) of the I18n "" ""project. APC can vote for the I18n PTL (Project Team Lead), and ATC can vote "" ""for OpenStack TC (Technical Committee). For more detail on ATC, APC and TC, "" ""see `OpenStack Technical Committee Charter <http://governance.openstack.org/"" ""reference/charter.html>`__."" msgstr """" ""I8n projesi resmi bir OpenStack projesidir, yani belirli bir aralıkta katkı "" ""sağlamış olan resmi çevirmenler i18n projesi için \""ATC\"" (Etkin Teknik "" ""Katkıcı) ve \""APC\"" (Etkin Proje Katkıcısı) olarak bilinirler. APC I18n PTL "" ""(Proje Ekip Başı) için ve ATC OpenStack TC (Teknik Komite) için oy "" ""verebilir. ATC, APC ve TC ile ilgili daha fazla ayrıntı için, `OpenStack "" ""Teknik Komikte Yönetmeliğine <http://governance.openstack.org/reference/"" ""charter.html>`__ göz atın."" msgid """" ""The I18n project maintains a list of language teams and their members. The "" ""list is used by Stackalytics to gather translation statistics (See :ref:"" ""`stats-stackalytics` for detail). It is also used by the scripts below."" msgstr """" ""I18n projesi dil ekipleri ve üyelerinin bir listesini yönetir. Liste "" ""Stackalytics tarafından çeviri istatistiklerini toplamak için kullanılır "" ""(Ayrıntılar için bkz :ref:`stats-stackalytics`). Aynı zamanda aşağıdaki "" ""betikler tarafından da kullanılır."" msgid """" ""The I18n team holds weekly meetings on Thursdays at alternating times in "" ""#openstack-meeting IRC channel. To download ICS file, please visit "" ""`eavesdrop <http://eavesdrop.openstack.org/#I18N_Team_Meeting>`_ page."" msgstr """" ""i18n takımı Perşembe günleri #openstack-meeting IRC kanalında haftalık "" ""toplantılar yapar. ICS dosyasını indirmek için, lütfen `eavesdrop <http://"" ""eavesdrop.openstack.org/#I18N_Team_Meeting>`_ sayfasını ziyaret edin."" msgid ""The I18n team welcomes any kinds of contribution."" msgstr ""i18n takımı her türlü yardımı kabul eder."" msgid """" ""The Infrastructure and I18n teams are preparing the translation check site "" ""to check dashboard translations. It is under preparation."" msgstr """" ""Altyapı ve i18n takımları kontrol panosu çevirilerini kontrol için çeviri "" ""kontrol sitesini hazırlıyorlar. Şu an hazırlık aşamasında."" msgid """" ""The OpenStack infra scripts currently download new files that are at least "" ""**75 percent** translated and if files grow over time but do not get new "" ""translations (or strings change too much), they will be removed again "" ""automatically from the project with a lower threshold of currently **40 "" ""percent**."" msgstr """" ""OpenStack altyapı betikleri şu an yalnızca **yüzde 75** oranında çevrilmiş "" ""yeni dosyaları indirir ve dosyalar zamanla büyür ama çeviri almazlarsa (veya "" ""karakter dizileri çok fazla değişirse) otomatik olarak projeden "" ""kaldırılırlar, alt eşik değeri şu an **yüzde 40**'dır."" msgid """" ""The POT file is found under ``http://tarballs.openstack.org/translation-"" ""source/<Zanata-project-name>/<Zanata-project-version>/<path>/<resource>."" ""pot``, where:"" msgstr """" ""POT dosyası ``http://tarballs.openstack.org/translation-source/<Zanata-proje-"" ""ismi>/<Zanata-proje-sürümü>/<yol>/<kaynak>.pot`` adresindedir:"" msgid ""The above run the following internally:"" msgstr ""Yukarıdaki şunu dahili olarak çalıştırır:"" msgid """" ""The bug triaging process are following the `general bug triaging process "" ""<https://wiki.openstack.org/wiki/BugTriage>`_. If you want to help bug "" ""triaging tasks, join the `OpenStack I18n bug team <https://launchpad.net/"" ""~openstack-i18n-bugs>`_ first."" msgstr """" ""Hataları önceliğe göre ayırma süreci `genel hata önceliğe göre ayırma "" ""sürecini <https://wiki.openstack.org/wiki/BugTriage>`_ takip eder. Bu sürece "" ""yardım etmek isterseniz, önce `OpenStack I18n hata takımına <https://"" ""launchpad.net/~openstack-i18n-bugs>`_ katılın."" msgid """" ""The change is done by a bot. If anything looks wrong with it, you need to "" ""actively reach out to the :ref:`OpenStack I18n team <openstack_i18n_team>` "" ""and point the problem out."" msgstr """" ""Değişiklik bir bot tarafından yapılır. Herhangi bir şey yanlış görünüyorsa, "" ""etkin bir şekilde :ref:`OpenStack I18n takımına <openstack_i18n_team>` "" ""ulaşmanız ve sorunu göstermeniz gerekir."" msgid ""The convention for heading levels is as follows::"" msgstr ""Başlık seviyesi kullanımı aşağıdaki gibidir::"" msgid """" ""The easiest way would be to open http://tarballs.openstack.org/translation-"" ""source and then follow ``<Zanata-project-name>``, ``<Zanata-version>`` and "" ""corresponding links."" msgstr """" ""En kolay yol http://tarballs.openstack.org/translation-source açmak ve "" ""``<Zanata-proje-ismi>``, ``<Zanata-sürümü>`` ve ilişkili bağlantıları takip "" ""etmektir."" msgid ""The filename of the list is ``tools/translation_team.yaml``."" msgstr ""Listenin dosya ismi ``tools/translation_team.yaml`` dır."" msgid """" ""The following is an example of ``local.conf`` for Newton release which runs "" ""core components (keystone, nova, glance, neutron, cinder), horizon, swift "" ""and heat. The components which the main horizon code supports are chosen."" msgstr """" ""Aşağıda çekirdek bileşenler olan (keystone, nova, glance, neutron, cinder), "" ""horizon, swift ve heat'i çalıştıran bir Newton dağıtımı için ``local.conf`` "" ""örneğini bulabilirsiniz. Temel horizon kodunun desteklediği bileşenler "" ""seçilmiştir."" msgid """" ""The following is an example of ``zanata.xml``. In most cases, what you need "" ""to edit are **project** and **project-version**."" msgstr """" ""Aşağıda bir ``zanata.xml`` örneği bulabilirsiniz. Çoğu durumda düzenlemeniz "" ""gereken **proje** ve **proje-sürümü** alanlarıdır."" msgid ""The followings are useful links when writing documents in RST."" msgstr """" ""Aşağıda RST ile belge yazarken kullanılabilecek faydalı bağlantıları "" ""bulabilirsiniz."" msgid """" ""The goal of the review is that the structure of the change is fine, it's not "" ""that the strings are translated properly. The review of translated strings "" ""is done by teams using the translation server."" msgstr """" ""Gözden geçirmenin amacı değişikliğin yapısının iyi olduğunu görmektir, "" ""çevirilerin düzgün çevrildiğini görmek değil. Çevrilen karakter dizilerinin "" ""gözden geçirmesi çeviri sunucusu üzerinde ekipler tarafından yapılır."" msgid """" ""The guide is written in reStructuredText (RST) markup syntax with Sphinx "" ""extensions. Most conventions follow `those of the openstack-manuals project "" ""<http://docs.openstack.org/contributor-guide/rst-conv.html>`__."" msgstr """" ""Bu kılavuz Sphinx uzantılarıyla reStructuredText (RST) işaret sözdizimiyle "" ""yazıldı. Çoğu kullanım `openstack-manuals projesindeki bu geleneği <http://"" ""docs.openstack.org/contributor-guide/rst-conv.html>`__ takip eder."" msgid """" ""The master glossary is an usual POT file. You can edit it in your favorite "" ""editor as usual."" msgstr """" ""Ana sözlük genellikle POT dosyasıdır. Her zamanki şekilde düzenleyicinizle "" ""düzenleyebilirsiniz."" msgid """" ""The meeting agenda is located at `I18nTeamMeeting Wiki <https://wiki."" ""openstack.org/wiki/Meetings/I18nTeamMeeting#Agenda_for_next_meeting>`_. You "" ""can add your topics on the Wiki page."" msgstr """" ""Toplantı ajandası `I18nTeamMeeting Wiki'sinde <https://wiki.openstack.org/"" ""wiki/Meetings/I18nTeamMeeting#Agenda_for_next_meeting>`_ bulunur. "" ""Başlıklarınızı Wiki sayfasına ekleyebilirsiniz."" msgid """" ""The other way is to rerun DevStack. Ensure to include ``RECLONE=True`` in "" ""your ``local.conf`` before running ``stack.sh`` again so that DevStack "" ""retrieve the latest codes of horizon and other projects."" msgstr """" ""Diğer yol DevStack'i tekrar çalıştırmaktır. ``stack.sh``'yi tekrar "" ""çalıştırmadan önce ``local.conf`` dosyanızda ``RECLONE=True`` yapmayı "" ""unutmayın böylece DevStack horizon ve diğer projeler için en son kodu "" ""getirir."" msgid """" ""The proposal bot also removes files, it removes files that have very few "" ""translations in them. Note that no translations will be lost, they are still "" ""in the translation server."" msgstr """" ""Öneri botu dosyaları da siler, içinde çok az çeviri olan dosyaları kaldırır. "" ""Hiçbir çevirinin kaybolmayacağını unutmayın, çeviri sunucusunda bulunmaya "" ""devam ederler."" msgid """" ""The script ``tools/zanata/zanata_stats.py`` helps retrieving translation "" ""statistics from Zanata."" msgstr """" ""``tools/zanata/zanata_stats.py`` betiği Zanata'dan çeviri istatistiklerinin "" ""alınmasında yardımcı olur."" msgid """" ""The script ``tools/zanata/zanata_userinfo.py`` helps this. It generates a "" ""CSV file by reading a YAML file which contains the list of translators (e."" ""g., ``translation_team.yaml``) with user name and e-mail addresses by "" ""interacting with Zanata API."" msgstr """" ""``tools/zanata/zanata_userinfo.py`` betiği bu işe yardım eder. Zanata API "" ""ile etkileşime geçerek çevirmenlerin kullanıcı adı ve e-posta adreslerini "" ""içeren bir YAML dosyasını (örn., ``translation_team.yaml``) okuyup bir CSV "" ""dosyası üretir."" msgid """" ""The scripts below depend on several python modules. To install these "" ""dependencies, run ``pip install -e requirements.txt``."" msgstr """" ""Aşağıdaki betikler çeşitli python modüllerini gerektirir. Bu bağımlılıkları "" ""kurmak için ``pip install -e requirements.txt`` çalıştırın."" msgid """" ""The stable version is created from the master version on Zanata once RC1 is "" ""cut and a stable branch is created in a git repository."" msgstr """" ""Kararlı sürüm Zanata'daki master sürümden RC1 kesildikten sonra ve git "" ""deposunda stable dalı oluşturulduktan sonra oluşturulur."" msgid """" ""The stable version is well reviewed, so it makes sense to merge translations "" ""into the master version on Zanata to avoid translating the same strings "" ""again."" msgstr """" ""Kararlı sürüm iyice gözden geçirilmiştir, yani Zanata'da master sürüm "" ""üzerine çevirileri almak aynı karakter dizilerini tekrar çevirmemek için "" ""mantıklıdır."" msgid ""The terms in this page follow release schedule pages."" msgstr ""Bu sayfadaki terimler yayın takvim sayfalarını takip eder."" msgid """" ""The translatable strings are extracted from a source project. So some i18n "" ""bugs might be caused by bugs in the original strings/source codes of a "" ""source project which contains these translatable strings. Those kind of bugs "" ""should be fixed in the source project."" msgstr """" ""Çevrilen karakter dizileri bir kaynak projeden çıkarılırlar. Yani bazı i18n "" ""hataları bu çevrilebilir karakter dizilerini içeren bir kaynak projenin asıl "" ""karakter dizisinden/kaynak kodundan kaynaklanıyor olabilir. Bu tür hatalar "" ""kaynak projede düzeltilmelidir."" msgid """" ""Then, for every PO file, we should execute the following command to build "" ""into MO file:"" msgstr """" ""Ardından, her bir PO dosyası için, MO dosyasına inşa etmek için şu komutu "" ""çalıştırmalıyız:"" msgid """" ""Then, your locale translation team is created successfully. You can enroll "" ""more people to join and start your translation work."" msgstr """" ""Ardından, yerel çeviri ekibiniz başarıyla oluşturulur. Çeviri işine daha "" ""fazla insan katıp çeviriye başlayabilirsiniz."" msgid """" ""There are cases where you cannot see your translation statistics in "" ""Stackalytics even after you translate strings in Zanata."" msgstr """" ""Zanata'da karakter dizilerini çevirdikten sonra bile Stackalytics'de çeviri "" ""istatistiklerinizi göremediğiniz durumlar olabilir."" msgid ""There are several ways to know your translation activity."" msgstr ""Çeviri etkinliğinizi bilmenin birçok yolu vardır."" msgid ""There are three different roles in a translation team:"" msgstr ""Çeviri ekibinde üç değişik rol bulunur:"" msgid """" ""This document explains to reviewers details about the automatic import of "" ""translations from Zanata."" msgstr """" ""Bu belge gözden geçirenlere çevirilerin Zanata'dan otomatik içe aktarımının "" ""ayrıntılarını anlatır."" msgid ""This document gives additional information."" msgstr ""Bu belge ek bilgi verir."" msgid """" ""This guide itself is I18n-ed and you can translate it into your language. To "" ""translate it, visit `i18n <https://translate.openstack.org/project/view/"" ""i18n>`__ project in `Zanata <https://translate.openstack.org/>`__. Document "" ""**doc** in **i18n** project corresponds to this guide. You can translate it "" ""in the same way as you do for other projects like dashboard or manuals. Once "" ""the translation progress becomes higher than the threshold (For more "" ""information on the threshold, see :ref:`translation-jobs`), the translated "" ""version of the guide will be published."" msgstr """" ""Bu kılavuz uluslararası hale getirilmiştir ve kendi dilinize "" ""çevirebilirsiniz. Çevirmek için, `Zanata <https://translate.openstack.org/"" "">`__ da `i18n <https://translate.openstack.org/project/view/i18n>`__ "" ""projesini ziyaret edin. **i18n** projesindeki **doc** belgesi bu kılavuzdur. "" ""Kontorl panosu ya da kılavuzları çevirdiğiniz gibi onu da çevirebilirsiniz. "" ""Çeviri süreci belirli bir eşiği aştığında (Eşikle ilgili daha fazla bilgi "" ""için bkz :ref:`translation-jobs`), kılavuzun çevrilen sürümü yayınlanır."" msgid """" ""This guide provides detailed instructions on the I18n contribution workflow "" ""and conventions to be considered by all contributors."" msgstr """" ""Bu kılavuz tüm katkıcılar tarafından göz önüne alınması için i18n katkı iş "" ""akışı ve gelenekleriyle ilgili ayrıntılı yönergeleri sağlar."" msgid ""This is a useful commands for the IRC meeting."" msgstr ""IRC toplantısı için faydalı komutlar."" msgid """" ""This is written about openstack-manuals project. As of the end of Pike "" ""development cycle, `the document migration community-wide effort <https://"" ""specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration."" ""html>`__ is being done. The process documented here might be changed in near "" ""future."" msgstr """" ""Bu openstack-manuals projesi hakkında yazılmıştır. Pike geliştirme "" ""döngüsünün sonu ile birlikte `belgelendirme göçü topluk hareketi <https://"" ""specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration."" ""html>` bitmiş olur. Burada belgelendirilen süreç ilerde değişebilir."" msgid """" ""This list is a cache of information on Zanata, and we need to keep it synced "" ""with Zanata."" msgstr """" ""Bu liste Zanata'daki bilginin bir ön belleğidir, Zanata ile eşzamanlı tutmak "" ""isteriz."" msgid """" ""This means \""Aggregates\"" menu in \""Admin\"" group in the left side menu. In "" ""Horizon code, the second level corresponds to a dashboard group like "" ""\""Project\"" or \""Admin\"" and the third level corresponds to a panel like "" ""\""Aggregates\"" (in this example), \""Instances\"" or \""Networks\""."" msgstr """" ""Bunun anlamı sol taraftaki menüde \""Yönetici\"" grubundaki \""Takımlar\"" "" ""menüsüdür. Horizon kodunda, ikinci seviye \""Proje\"" veya \""Yönetici\"" gibi "" ""kontrol panosu grubuna denk gelir ve üçüncü seviye \""Takımlar\"" (bu "" ""örnekteki gibi), \""Sunucular\"" veya \""Ağlar\"" gibi bir panele denk gelir."" msgid ""This page collects small tips and tricks around translations."" msgstr ""Bu sayfa çevirilerle ilgili küçük ipucu ve önerileri toplar."" msgid ""This page covers various operations around i18n activities."" msgstr ""Bu sayfa i18n etkinlikleriyle ilgili çeşitli işlemleri kapsar."" msgid ""This page describes how end users can report translation bugs."" msgstr """" ""Bu sayfa bir son kullanıcının çeviri hatalarını nasıl bildirebileceğini "" ""tanımlar."" msgid """" ""This page describes the conventions and tips on writing this guide itself."" msgstr """" ""Bu sayfa bu kılavuzu yazarken kullanılan kolaylıkları ve ipuçlarını tanımlar."" msgid """" ""This page documents what I18n team concerns and which things are needed to "" ""do with OpenStack releases. Each OpenStack release has around 6-month cycle "" ""and the corresponding schedule is available on https://releases.openstack."" ""org/ (e.g., https://releases.openstack.org/ocata/schedule.html describes "" ""Ocata release schedule)."" msgstr """" ""Bu sayfa i18n takımının kaygılarını ve OpenStack yayınlarında nelerin "" ""yapılması gerektiğini belgeler. Her OpenStack yayınının yaklaşık 6 ay "" ""döngüsü vardır ve ilişkili takvim şu adreste mevcuttur https://releases."" ""openstack.org/ (örn., https://releases.openstack.org/ocata/schedule.html "" ""Ocata yayın takvimini tanımlar)."" msgid ""This script requires Zanata admin privilege."" msgstr ""Bu betik Zanata yönetici yetkisi gerektirir."" msgid """" ""This section tries to share best practices on how team coordinators manages "" ""their language team. Feel free to add useful information!"" msgstr """" ""Bu kısım ekip düzenleyicilerin dil ekiplerini nasıl yönettikleriyle ilgili "" ""en iyi tecrübeleri paylaşmayı amaçlar. Faydalı bilgiler eklemekten "" ""çekinmeyin!"" msgid ""This should be done after a stable version on Zanata is created."" msgstr ""Bu işlem Zanata'da kararlı sürüm oluşturulduktan sonra yapılmalıdır."" msgid ""This usually happens within a week after the release."" msgstr ""Bu genellikle yayındna bir hafta sonra olur."" msgid ""Titles"" msgstr ""Başlıklar"" msgid """" ""To add a link to a generated document, you need to update the file ``www/"" ""<lang>/index.html`` in the ``master`` branch of the ``openstack-manuals`` "" ""repository. Note that the web pages are published from ``master`` branch, "" ""which contains the pages for all releases, such as Liberty. Therefore, you "" ""don't need to update the file ``www/<lang>/index.html`` in the stable branch."" msgstr """" ""Üretilen bir belgeye bağlantı eklemek için ``openstack-manuals`` deposundaki "" ""``master`` dalındaki ``www/<lang>/index.html`` dosyasını güncellemeniz "" ""gerekir. Web sayfalarının ``master`` dalından yayınlandığını, burada -"" ""Liberty gibi- tüm dağıtımlar için sayfalar olduğunu unutmayın. Yani "" ""``stable`` dalındaki ``www/<lang>/index.html`` dosyasını düzenlemeniz "" ""gerekmez."" msgid """" ""To build a translated document, you need to update the file ``doc-tools-"" ""check-languages.conf`` in each repository, and add an entry to ``BOOKS`` "" ""like ``[\""ja\""]=\""install-guide\""``. Also, to build as a draft, you need to "" ""add an entry to ``DRAFTS``."" msgstr """" ""Çevrilen bir belgeyi inşa etmek için her bir depoda bulunan ``doc-tools-"" ""check-languages.conf`` dosyasını güncellemelisiniz, ve ``BOOKS`` kısmına "" ""``[\""ja\""]=\""install-guide\""`` gibi bir girdi eklemelisiniz. Ayrıca taslak "" ""olarak inşa etmek için ``DRAFTS`` kısmına bir girdi eklemeniz gerekir."" msgid """" ""To communicate with the translation platform, you need to prepare a project "" ""configuration file named ``zanata.xml`` in the top directory of a project "" ""you are interested in. OpenStack projects does not contain ``zanata.xml`` in "" ""their git repositories, so you need to create it manually."" msgstr """" ""Çeviri platformuyla iletişime geçmek için, ilgilendiğiniz projenin en üst "" ""dizininde ``zanata.xml`` isimli bir proje yapılandırma dosyasu hazırlamanız "" ""gerekir. OpenStack projeleri git depolarında ``zanata.xml`` dosyası "" ""içermezler, yani elle oluşturmanız gerekir."" msgid """" ""To display translated messages in python server projects, you need to "" ""compile message catalogs and also need to configure your server services "" ""following instructions described at `oslo.i18n documentation <https://docs."" ""openstack.org/oslo.i18n/latest/user/usage.html#displaying-translated-"" ""messages>`__."" msgstr """" ""Python servis projelerinde çevrilen iletileri görüntülemek için, ileti "" ""kataloglarını derlemeniz ve ayrıca sunucu servislerinizi `oslo.i18n "" ""belgesindeki <https://docs.openstack.org/oslo.i18n/latest/user/usage."" ""html#displaying-translated-messages>`__ yönergeleri takip edecek şekilde "" ""yapılandırmanız gerekir"" msgid """" ""To download translations from Zanata, run the following command after going "" ""into a project directory. You are usually interested in only a few of "" ""languages, so ``--locales`` option would be useful. For more options, see "" ""the output of ``zanata pull --help``."" msgstr """" ""Zanata'dan çevirileri indirmek için, proje dizinine gittikten sonra şuı "" ""komutu çalıştırın. Yalnızca bir kaç dille ilgileneceğinize göre ``--"" ""locales`` seçeneği faydalı olacaktır. Daha fazla bilgi için, ``zanata pull --"" ""help`` çıktısına göz atın."" msgid """" ""To find updates for both Zanata and OpenStack project repositories, Jenkins "" ""starts to run scripts everyday at **6:00 UTC**."" msgstr """" ""Hem Zanata hem OpenStack proje depoları için güncellemeleri bulmak için, "" ""Jenkins her gün **6:00 UTC** de betikleri çalıştırır."" msgid """" ""To help with translation, :doc:`become an official translator "" ""<official_translator>` and join your language team. Then go to `translation "" ""website <https://translate.openstack.org/>`_ to start translation. You can "" ""find prioritized translation jobs as I18n team at the top of the page."" msgstr """" ""Çeviri için yardım etmek için, :doc:`resmi çevirmen olun "" ""<official_translator>` ve dil ekibinize katılın. Ardından çeviriye başlamak "" ""için `çeviri web sitesine <https://translate.openstack.org/>`_ gidin. i18n "" ""takımı olarak öncelikli çeviri işlerini sayfanın en üstünde bulabilirsiniz."" msgid """" ""To not have too much churn and last minute string fixes lead to files get "" ""removed, there is also a lower threshold for releases of **66 percent** of "" ""messages translated as policy - which is only manually enforced."" msgstr """" ""Fazla karıştırmamak için ve son dakika metin düzeltmeleri silinen dosyalara "" ""yol açtığından, yayınlarda ilke olarak çevrilecek iletilerde elle zorlanan "" ""**yüzde 66**'lık bir eşik bulunur."" msgid ""To report translation errors, see :doc:`bug_report`."" msgstr ""Çeviri hatalarını bildirmek için, bkz :doc:`bug_report`."" msgid ""To run the script:"" msgstr ""Betiği çalıştırmak için:"" msgid ""To sync the translator list, run the following command:"" msgstr ""Çeviri listesini eşlemek için, aşağıdaki komutu çalıştırın:"" msgid ""Tools"" msgstr ""Araçlar"" msgid ""Translate **master** version on Zanata."" msgstr ""Zanata'da **master** sürümünü çevir."" msgid """" ""Translated documents are available at the OpenStack Documentation site. It "" ""is updated daily. Most contents are linked from either of:"" msgstr """" ""Çevrilen belgeler OpenStack Belgelendirme sitesinde kullanılabilir. Günlük "" ""güncellenmektedir. Çoğu içerik şunlardan birinden bağlanır:"" msgid """" ""Translating: manage the translation in Zanata, including the translation "" ""memory and glossary management"" msgstr """" ""Çeviri: Çeviri hafızası ve sözlük yönetimi de dahil olmak üzere Zanata'da "" ""çevirileri yönetin"" msgid ""Translation"" msgstr ""Çeviri"" msgid ""Translation Statistics"" msgstr ""Çeviri İstatistikleri"" msgid ""Translation bugs"" msgstr ""Çeviri hataları"" msgid ""Translation bugs in all languages can be reported here."" msgstr ""Tüm dillerdeki çeviri hataları buraya bildirilebilir."" msgid ""Translation check site"" msgstr ""Çeviri kontrol sitesi"" msgid ""Translation infrastructure"" msgstr ""Çeviri altyapısı"" msgid ""Translation infrastructure scripts"" msgstr ""Çeviri altyapısı betikleri"" msgid """" ""Translation infrastructure scripts are stored and managed in `openstack-"" ""infra/project-config <http://git.openstack.org/cgit/openstack-infra/project-"" ""config>`__ repository."" msgstr """" ""Çeviri altyapı betikleri `openstack-infra/project-config <http://git."" ""openstack.org/cgit/openstack-infra/project-config>`__ deposunda tutulur ve "" ""yönetilir."" msgid """" ""Translation is another kind of important contribution to OpenStack "" ""community. If you want to become a official translator, you need to finish "" ""following steps:"" msgstr """" ""OpenStack topluluğuna yapılabilecek önemli katkılardan biri çevirilerdir. "" ""Resmi bir çevirmen olmak istiyorsanız, aşağıdaki adımları tamamlamanız "" ""gerekir:"" msgid ""Translation jobs"" msgstr ""Çeviri işleri"" msgid ""Translation tips"" msgstr ""Çeviri ipuçları"" msgid ""Translation tools"" msgstr ""Çeviri araçları"" msgid ""Translations"" msgstr ""Çeviriler"" msgid """" ""Translations are being imported into a project repository daily, so in most "" ""cases you do not need to pull translations from Zanata manually. What you "" ""need is to pull the latest horizon code."" msgstr """" ""Çeviriler proje deposuna günlük olarak aktarılır, yani çoğu durumda "" ""çevirileri Zanata'dan elle çekmeniz gerekmez. Çekmeniz gereken en son "" ""horizon kodudur."" msgid """" ""Translators translate repositories using the `translation server <http://"" ""translate.openstack.org>`_ which runs the Zanata software."" msgstr """" ""Çevirmenler depoları Zanata yazılımı çalıştıran `çeviri sunucularını <http://"" ""translate.openstack.org>`_ kullanarak çevirir."" msgid """" ""Translators who translate and review 300 and more words combinedly in the "" ""last six months until the deadline of extra ATCs nomination are nominated as "" ""ATCs, and the ATC status of translators is valid for one year. Translation "" ""count and review count can be added up. The detail period is determined by "" ""the PTL in each cycle. For Newton cycle, the six month period was from "" ""2016-02-01 to 2016-07-31, and this ATC status will expire on July 2017 if "" ""there will be no additional translation contributions."" msgstr """" ""Ek ATC adaylıklarının son tarihine kadarki son altı ayda 300 ve daha fazla "" ""kelime çeviren ve gözden geçiren çevirmenler ATC olarak aday olur, ve "" ""çevirmenin ATC durumu bir yıl geçerlidir. Çeviri sayısı ve gözden geçirme "" ""sayısı toplanabilir. Ayrıntı aralığı her döngüde PTL tarafından belirlenir. "" ""Newton döngüsünde, altı aylık aralık 2016-02-01 ve 2016-07-31 arasındaydı, "" ""ve bu ATC durumu Temmuz 2017'de ek çeviri katkıları olmazsa sona erecekti."" msgid ""Uploading"" msgstr ""Yükleme"" msgid ""Uploading: Upload the translation resources to Zanata"" msgstr ""Yükleme: Çeviri kaynaklarını Zanata'ya yükleyin"" msgid ""User configuration"" msgstr ""Kullanıcı yapılandırması"" msgid ""Using docs.openstack.org"" msgstr ""docs.openstack.org kullanarak"" msgid ""Using translations"" msgstr ""Çevirilerin kullanılması"" msgid """" ""Visit `Stackalytics <http://stackalytics.com/>`__ and choose "" ""``Translations`` as ``Metric`` dropdown menu at the upper-right."" msgstr """" ""`Stackalytics <http://stackalytics.com/>`__ adresini ziyaret edin ve sağ "" ""üstteki ``Ölçüt`` aşağı açılır menüsünden ``Çeviriler``i seçin."" msgid """" ""We can translate the application developer documentations, such as API "" ""Guide, as ``api-site`` resources in Zanata."" msgstr """" ""API Kılavuzu gibi uygulama geliştiricisi belgelendirmelerini Zanata'da ``api-"" ""site`` kaynakları olarak çevirebiliriz."" msgid """" ""We have two types of Jenkins jobs for translations: syncing Zanata with the "" ""latest repositories and pushing translations into the repositories. The "" ""first job is for Zanata-side updates. It enables Zanata to have up-to-date "" ""texts to be translated by comparing OpenStack project repositories and "" ""Zanata. On the other hand, the second job is aimed to reflect changes "" ""related to translations. For example, if you contribute translations in "" ""Zanata, the translation results need to be pushed to the corresponding "" ""repositories."" msgstr """" ""Çeviriler için iki çeşit Jenkins işimiz vardır: Zanata'yı en son depolarla "" ""eşzamanlama ve çevirileri depolara gönderme. İlk iş Zanata-taraflı "" ""güncellemeler içindir. Zanata'nın OpenStack depolarını Zanata ile "" ""karşılaştırıp çeviri metinlerini güncel tutmasını sağlar. Diğer taraftan, "" ""ikinci iş çevirilerle ilgili değişiklikleri yansıtmak içindir. Örneğin "" ""Zanata'ya çeviri katkısı yaptığınızda, çeviri sonucunun ilişkili depoya "" ""gönderilmesi gerekir."" msgid """" ""We use :ref:`Zanata CLI <zanata-cli>` to download the translated PO files "" ""from the translation platform."" msgstr """" ""Çeviri platformundan çevrilen PO dosyalarını indirmek için :ref:`Zanata CLI "" ""<zanata-cli>` kullanıyoruz."" msgid """" ""We use :ref:`Zanata CLI <zanata-cli>` to upload the POT file to the "" ""translate platform."" msgstr """" ""POT dosyasını çeviri platformuna yüklemek için :ref:`Zanata CLI <zanata-"" ""cli>` kullanıyoruz."" msgid """" ""We use sphinx-build to translate RST files to POT files. Because we want to "" ""have a single POT file per document, we use msgcat to merge those POTs after "" ""sphinx-build."" msgstr """" ""Sphinx-build kullanarak RST dosyalarını POT dosyalarına dönüştürüyoruz. "" ""Belge başına tek bir POT dosyası olmasını istediğimizden, bu POT'ları sphinx-"" ""build'in ardından msgcat ile birleştiriyoruz."" msgid ""What is wrong? What should be improved?"" msgstr ""Yanlış olan ne? Ne iyileştirilebilir?"" msgid """" ""When a filename is ``workflows.py`` or ``forms.py``, it means it is used in "" ""a form for creating or editing something."" msgstr """" ""Bir dosya ismi ``workflows.py`` veya ``forms.py`` ise, bir şeyleri "" ""oluşturmak ya da düzenlemek için kullanıldığı anlamına gelir."" msgid """" ""When a new member request is received, a coordinator approves (or rarely "" ""rejects) the request. At the moment, Zanata provides no way to communicate "" ""with language team members, so it is better to inform the new member of ways "" ""usually used in the language team."" msgstr """" ""Yeni bir üye isteği alındığında, düzenleyici isteği onaylar (ya da nadiren "" ""reddeder). Şu an Zanata dil ekibi üyeleriyle iletişim kurmak için bir yol "" ""sunmuyor, yani yeni üyeyi dil ekibinde genellikle kullanılan yollardan "" ""biriyle haberdar etmek en iyisidir."" msgid """" ""When a translation period towards a new OpenStack release approaches, it is "" ""recommended to coordinate and prioritize translation efforts."" msgstr """" ""Yeni bir OpenStack dağıtımına yaklaşılırken yaklaşılan çeviri aralığında "" ""çeviri çabalarını düzenlemek ve önceliklendirmek önerilir."" msgid """" ""When you add a new entry to the glossary, it is highly recommended to add "" ""the entry to the master glossary ``glossary/locale/glossary.pot``. By doing "" ""this, all language teams can share the glossary."" msgstr """" ""Sözlüğe yeni bir girdi eklediğinizde, girdiyi ``glossary/locale/glossary."" ""pot`` ana sözlüğüne eklemeniz önerilir. Bunu yaparak tüm dil ekiplerinin "" ""sözlüğü paylaşabilmesini sağlarsınız."" msgid """" ""When you are using OpenStack (including the dashboard, API or CLI) or are "" ""reading translated documentations, if you find something wrong, something "" ""you cannot understand, something you cannot agree, or something to be "" ""improved, please consider reporting it."" msgstr """" ""OpenStack kullanırken (kontrol panosu, API ve CLI dahil) veya çevrilmiş "" ""belgeleri okurken yanlış bir şey bulursanız, anlayamadığınız ya da "" ""katılmadığınızı bir şeyler varsa, ya da bir yerlerin iyileştirilebileceğini "" ""düşünüyorsanız lütfen bildirmeden geçmeyin."" msgid """" ""When you want to update a glossary of your language, edit a corresponding "" ""glossary file using your favorite editor and propose a change to the Gerrit "" ""review system."" msgstr """" ""Diliniz için sözlüğü güncellemek istediğinizde, istediğiniz düzenleyici ile "" ""sözlüğü düzenleyin ve Gerrit gözden geçirme sistemine bir değişiklik önerisi "" ""gönderin."" msgid """" ""When your request is approved, add an item in \""Local Translation Teams\"" in "" ""the wiki page, create a wiki page under page `I18nTeam <https://wiki."" ""openstack.org/wiki/I18nTeam/team>`_ (for example, I18nTeam/team/zh_cn) to "" ""introduce your team, with the following information at least: the contact "" ""information, the web page, and the work items."" msgstr """" ""İsteğiniz onaylandığında, wiki sayfasında \""Yerel Çeviri Ekipleri\"" "" ""sayfasına bir öge ekleyin, ekibinizi tanıtmak için `I18nTeam <https://wiki."" ""openstack.org/wiki/I18nTeam/team>`_ sayfası altında bir wiki sayfası "" ""oluşturun (örneğin, I18nTeam/team/zh_cn), en azından iletişim bilgisi, web "" ""sayfası ve iş ögelerini belirtin."" msgid ""When your request is approved, you will get an email notification."" msgstr ""İsteğiniz onaylandığında bir eposta bildirisi alırsınız."" msgid ""Where a string is used in Dashboard UI?"" msgstr ""Bir karakter dizisinin Kontrol Panosu arayüzünde nerde kullanıldığı?"" msgid ""Where a string is used in source code?"" msgstr ""Bir karakter dizisi kodda nerde kullanılıyor?"" msgid ""Where can I report a bug?"" msgstr ""Hatayı nereye bildirebilirim?"" msgid ""Where you find a bug you are reporting?"" msgstr ""Bildirdiğiniz hatayı nerede buldunuz?"" msgid ""Who can help you?"" msgstr ""Size kim yardımcı olabilir?"" msgid """" ""Write an email to \""openstack-i18n@lists.openstack.org\"" to introduce "" ""yourself and the language team you want to create, together with your ID on "" ""Zanata."" msgstr """" ""\""openstack-i18n@lists.openstack.org\"" adresine bir eposta yazarak kendiniz "" ""tanıtın ve oluşturmak istediğiniz dili Zanata kimliğinizle beraber belirtin."" msgid """" ""You are encouraged to register with your business email, which will help "" ""your company to get the credit. If you don't want to, use your personal "" ""email will be OK too."" msgstr """" ""İş epostanızla kaydolmanız iyi olur, bu şirketinizin itibarı almasına "" ""yardımcı olur. İstemiyorsanız, kişisel eposta adresinizi de "" ""kullanabilirsiniz."" msgid """" ""You can check a generated document for a specified branch on http://docs."" ""openstack.org/<branch>/<language>/<document>. For example, the link of "" ""Ubuntu Installation Guide for Liberty is http://docs.openstack.org/liberty/"" ""ja/install-guide-ubuntu/."" msgstr """" ""Belirli bir dal için üretilen belgeyi http://docs.openstack.org/<dal>/<dil>/"" ""<belge> üzerinden kontrol edebilirsiniz. Örneğin Liberty için Ubuntu Kurulum "" ""Kılavuzu http://docs.openstack.org/liberty/ja/install-guide-ubuntu/ "" ""adresindedir."" msgid """" ""You can estimate where a string is used from a location in a source code. "" ""(See the previous entry on how to find a location.)"" msgstr """" ""Kaynak koddaki konumdan karakter dizisinin nerde kullanılmış olacağını "" ""tahmin edebilirsiniz. (Bir konum bulmayla ilgili önceki girdiye göz atın.)"" msgid """" ""You can extract the messages in code to PO template (POT) with pybabel, "" ""where **PROJECT** is a project name like ``nova`` and **VERSION** is a "" ""version number. Note that you can omit ``--project`` and ``--version`` "" ""options if you just use them locally as they are just used in the POT file "" ""header."" msgstr """" ""Koddaki iletileri PO şablonuna (POT) pybabel ile çıkartabilirsiniz, burada "" ""**PROJE** ``nova`` gibi bir proje ismi, **VERSION** sürüm numarasıdır. "" ""Yalnızca POT dosya başlığında kullanıldığından, yalnızca yerelde "" ""kullanıyorsanız ``--project`` ve ``--version`` seçeneklerini kullanmasanız "" ""da olur."" msgid ""You can find the location in a source code by checking the POT file."" msgstr """" ""POT dosyasını kontrol ederek kaynak kodda nerede kullanıldığını "" ""bulabilirsiniz."" msgid """" ""You can refer to `previous meeting logs with their notes <http://eavesdrop."" ""openstack.org/meetings/openstack_i18n_meeting/>`_."" msgstr """" ""`Önceki toplantı kayıtlarına notlarıyla beraber <http://eavesdrop.openstack."" ""org/meetings/openstack_i18n_meeting/>`_ başvurabilirsiniz."" msgid ""You can report a bug in your language (or English)."" msgstr ""Kendi dilinizde (ya da İngilizce) hata bildirebilirsiniz."" msgid """" ""You must determine whether bugs are **translation bugs** or **bugs in a "" ""source project**. Typical i18n bugs in the source project include:"" msgstr """" ""Hataların **çeviri hataları** mı **kaynak projedeki hatalar**dan mı olduğuna "" ""karar vermelisiniz. Kaynak projedeki genel i18n hataları şunlardır:"" msgid """" ""You need to create a configuration file in ``$HOME/.config/zanata.ini`` that "" ""contains user-specific configuration. For information on how to create a "" ""configuration file, see `Zanata CLI configuration <http://docs.zanata.org/en/"" ""release/client/configuration/#user-configuration>`__."" msgstr """" ""Kullanıcıya özel yapılandırmayı içeren bir ``$HOME/.config/zanata.ini`` "" ""yapılandırma dosyası oluşturmalısınız. Yapılandırma dosyası oluşturmayla "" ""ilgili bilgi için, bkz `Zanata CLI yapılandırması <http://docs.zanata.org/en/"" ""release/client/configuration/#user-configuration>`__."" msgid ""Zanata"" msgstr ""Zanata"" msgid ""Zanata CLI"" msgstr ""Zanata CLI"" msgid """" ""Zanata provides suggestions for translation based on a glossary of your "" ""language. The glossary is maintained in the i18n repository."" msgstr """" ""Zanata dilinizle ilişkili bir sözlüğü temel alarak çeviriler için öneriler "" ""sağlar. Sözlük i18n deposunda yönetilir."" msgid ""Zanata provides ways to know your activity on Zanata."" msgstr ""Zanata çeviri etkinliğinizi bilmeniz için bir çok yol sunar."" msgid ""[I18n PTL] Call for translation"" msgstr ""[I18n PTL] Çeviri çağrısı yap"" msgid """" ""[I18n PTL] Coordinate release and translation import schedule of individual "" ""projects with PTL or I18n liaison."" msgstr """" ""[I18n PTL] PTL veya I18n bağlantısıyla bağımsız projelerin yayınlanmasını ve "" ""çeviri takvimini düzenle."" msgid """" ""[Infra] Setup translation jobs such as ``translation-jobs-newton`` to import "" ""translations for stable branches."" msgstr """" ""[Altyapı] Kararlı dallar için çevirileri içe aktarmak için ``newton-çeviri-"" ""işleri`` gibi çeviri işlerini ayarla."" msgid ""[Project] Official release!"" msgstr ""[Proje] Resmi yayın!"" msgid """" ""[Project] RC2 or RC3 release will be shipped with latest translations. Final "" ""RC release will happen one week before the official release week."" msgstr """" ""[Proje] RC2 veya RC3 yayını son çevirilerle yayınlanır. Son RC yayını resmi "" ""yayın haftasından bir hafta önce yapılır."" msgid """" ""[Project] Release RC1 and create a stable branch. ``Hard StringFreeze`` is "" ""in effect."" msgstr """" ""[Proje] RC1 Yayınla ve stable dalını oluştur. ``Sert MetinDondurma`` etkin."" msgid ""[Project] Release milestone-3. ``Soft StringFreeze`` is in effect."" msgstr ""[Proje] Yayın kilometre taşı-3. `ỲumuşakMetinDondurma`` etkin."" msgid """" ""[Translator] It is suggested to complete translation work by Monday or "" ""Tuesday of the Final RC week."" msgstr """" ""[Çevirmen] Çeviri işini son RC haftasının Pazartesi veya Salı gününe kadar "" ""tamamlamalıdır."" msgid ""[Translator] Start translations for the release."" msgstr ""[Çevirmen] Bu yayın için çevirilere başla."" msgid """" ""[Translator] Translate **stable-XXXX** version instead of master version on "" ""Zanata."" msgstr """" ""[Çevirmen] Zanata'da master sürümü yerine **stable-XXXX** sürümünü çevir."" msgid ""[Zanata admin] Create a stable version such as ``stable-newton``"" msgstr ""[Zanata yöneticisi] ``stable-newton`` gibi bir kararlı sürüm oluştur"" msgid ""[Zanata admin] Merge a stable version back into the master version."" msgstr ""[Zanata yöneticisi] Kararlı bir sürümü master sürüm üstüne birleştir."" msgid """" ""`Dashboard <https://translate.openstack.org/dashboard/>`__ page shows your "" ""recent activity statistics this month and detail activity."" msgstr """" ""`Kontrol panosu <https://translate.openstack.org/dashboard/>`__ sayfası "" ""yakın zamandaki etkinlik istatistiğinizi ve ayrıntılı etkinliklerinizi "" ""gösterir."" msgid ""`Horizon (OpenStack dashboard) <https://bugs.launchpad.net/horizon>`_"" msgstr """" ""`Horizon (OpenStack kontrol panosu) <https://bugs.launchpad.net/horizon>`_"" msgid """" ""`Horizon I18n bugs <https://bugs.launchpad.net/horizon/+bugs?field."" ""tag=i18n>`_"" msgstr """" ""`Horizon I18n hataları <https://bugs.launchpad.net/horizon/+bugs?field."" ""tag=i18n>`_"" msgid """" ""`Language translation team <https://wiki.openstack.org/wiki/I18nTeam/"" ""team>`_: you can ask in your language :-)"" msgstr """" ""`Dil çeviri ekibi <https://wiki.openstack.org/wiki/I18nTeam/team>`_: kendi "" ""dilinizde sorabilirsiniz :-)"" msgid """" ""`OpenStack Health <http://status.openstack.org/openstack-health/#/>`__ "" ""dashboard provides us a convenient way to check the translation job status."" msgstr """" ""`OpenStack Sağlık <http://status.openstack.org/openstack-health/#/>`__ "" ""kontrol panosu çeviri işi durumunu kontrol etmemiz için kolay bir yol sağlar."" msgid ""`OpenStack manuals <https://bugs.launchpad.net/openstack-manuals>`_"" msgstr """" ""`OpenStack kılavuzları <https://bugs.launchpad.net/openstack-manuals>`_"" msgid """" ""`Periodic jobs: Syncing into repos <http://status.openstack.org/openstack-"" ""health/#/g/build_queue/periodic?"" ""groupKey=build_queue&searchJob=translation>`__"" msgstr """" ""`Aralıklı işler: Depolara eşzamanlama <http://status.openstack.org/openstack-"" ""health/#/g/build_queue/periodic?"" ""groupKey=build_queue&searchJob=translation>`__"" msgid """" ""`Post jobs - Syncing to Zanata <http://status.openstack.org/openstack-health/"" ""#/g/build_queue/post?groupKey=build_queue&searchJob=translation>`__"" msgstr """" ""`Sonraki işler - Zanata'ya eşzamanlama <http://status.openstack.org/"" ""openstack-health/#/g/build_queue/post?"" ""groupKey=build_queue&searchJob=translation>`__"" msgid """" ""`Profile <https://translate.openstack.org/profile/>`__ page provides more "" ""nice statistics view. It shows your statistics in this month and last month."" msgstr """" ""`Profil <https://translate.openstack.org/profile/>`__ sayfası daha güzel "" ""istatistik görünümü sağlar. Bu ay ve geçen ayın istatistiklerini gösterir."" msgid """" ""`Quick reStructuredText <http://docutils.sourceforge.net/docs/user/rst/"" ""quickref.html>`__"" msgstr """" ""`Quick reStructuredText <http://docutils.sourceforge.net/docs/user/rst/"" ""quickref.html>`__"" msgid """" ""`Sphinx documentation <http://sphinx.readthedocs.io/en/latest/rest.html>`__"" msgstr """" ""`Sphinx belgelendirmesi <http://sphinx.readthedocs.io/en/latest/rest.html>`__"" msgid """" ""`Stackalytics <http://stackalytics.com/>`__ is a popular web site which "" ""allows us to know various statistics related to OpenStack. It supports "" ""translation statistics :)"" msgstr """" ""`Stackalytics <http://stackalytics.com/>`__ OpenStack ile ilgili çeşitli "" ""istatistikleri bilmemizi sağlayan popüler bir web sitesi. Çeviri "" ""istatistiklerini de destekliyor :)"" msgid ""``--help`` option shows the detail usage."" msgstr ""``--help`` seçeneği ayrıntılı kullanımı gösterir."" msgid ""``<Zanata-project-name>`` is Zanata project name,"" msgstr ""``<Zanata-proje-ismi>`` Zanata proje ismidir,"" msgid """" ""``<Zanata-project-version>`` is Zanata project version such as ``master`` or "" ""``stable-mitaka``,"" msgstr """" ""``<Zanata-proje-sürümü>`` Zanata proje sürümüdür, örneğin ``master`` veya "" ""``stable-mitaka``,"" msgid """" ""``<path>`` is a path of a document such as ``nova/locale``, "" ""``openstack_dashboard/locale`` or ``releasenotes/source/locale``,"" msgstr """" ""``<yol>`` belge yoludur, örneğin ``nova/locale``, ``openstack_dashboard/"" ""locale`` veya ``releasenotes/source/locale``,"" msgid ""``<resource>`` is a document name in Zanata."" msgstr ""``<kaynak>`` Zanata'da bir belge ismidir."" msgid ""``dashboards/admin/aggregates/views.py:104``"" msgstr ""``dashboards/admin/aggregates/views.py:104``"" msgid ""``dashboards/project/containers/templates/containers/_update.html:21``"" msgstr ""``dashboards/project/containers/templates/containers/_update.html:21``"" msgid ""``dashboards/project/loadbalancers/workflows.py:44``"" msgstr ""``dashboards/project/loadbalancers/workflows.py:44``"" msgid """" ""`common_translation_update.sh <http://git.openstack.org/cgit/openstack-infra/"" ""project-config/tree/jenkins/scripts/common_translation_update.sh>`__"" msgstr """" ""`common_translation_update.sh <http://git.openstack.org/cgit/openstack-infra/"" ""project-config/tree/jenkins/scripts/common_translation_update.sh>`__"" msgid """" ""`create-zanata-xml.py <http://git.openstack.org/cgit/openstack-infra/project-"" ""config/tree/jenkins/scripts/create-zanata-xml.py>`__"" msgstr """" ""`create-zanata-xml.py <http://git.openstack.org/cgit/openstack-infra/project-"" ""config/tree/jenkins/scripts/create-zanata-xml.py>`__"" msgid """" ""`include/build-releasenotes.sh <http://git.openstack.org/cgit/openstack-"" ""infra/project-config/tree/jenkins/jobs/include/build-releasenotes.sh>`__"" msgstr """" ""`include/build-releasenotes.sh <http://git.openstack.org/cgit/openstack-"" ""infra/project-config/tree/jenkins/jobs/include/build-releasenotes.sh>`__"" msgid """" ""`openstack-i18n in Launchpad <https://bugs.launchpad.net/openstack-i18n>`_"" msgstr """" ""`Launchpad'de openstack-i18n <https://bugs.launchpad.net/openstack-i18n>`_"" msgid """" ""`propose_translation_update.sh <http://git.openstack.org/cgit/openstack-"" ""infra/project-config/tree/jenkins/scripts/propose_translation_update.sh>`__"" msgstr """" ""`propose_translation_update.sh <http://git.openstack.org/cgit/openstack-"" ""infra/project-config/tree/jenkins/scripts/propose_translation_update.sh>`__"" msgid """" ""`upstream_translation_update.sh <http://git.openstack.org/cgit/openstack-"" ""infra/project-config/tree/jenkins/scripts/upstream_translation_update.sh>`__"" msgstr """" ""`upstream_translation_update.sh <http://git.openstack.org/cgit/openstack-"" ""infra/project-config/tree/jenkins/scripts/upstream_translation_update.sh>`__"" msgid ""add the source project to \""Also affects project\"" of this bug."" msgstr ""kaynak projeyi bu hatanın \""Projeyi de etkiliyor\"" kısmına ekleyin."" msgid """" ""assign the bug to you or a member of your language team, and then mark it as "" ""\""In Progress\"""" msgstr """" ""hatayı kendinize ya da dil takımınızın bir üyesine atayın, ve \""İşlemde\"" "" ""olarak işaretleyin"" msgid ""bugs in a source project"" msgstr ""bir kaynak projedeki hatalar"" msgid ""bugs in tool chains"" msgstr ""araç zincirlerindeki hatalar"" msgid ""confirm the bug"" msgstr ""hatayı onaylayın"" msgid ""confirm the bug or mark it as incomplete"" msgstr ""hatayı onaylayın veya tamamlanmamış olarak işaretleyin"" msgid """" ""fix it by visiting a corresponding resource in Zanata and correcting "" ""translations."" msgstr ""Zanata'da ilgili kaynağa giderek çeviriyi düzeltin."" msgid """" ""http://docs.openstack.org/<lang> contains released documents. Follow \""More "" ""Releases and Languages\"" in http://docs.openstack.org/."" msgstr """" ""http://docs.openstack.org/<lang> yayınlanan belgeleri içerir. http://docs."" ""openstack.org/. http://docs.openstack.org/ adresinde \""Daha fazla Dağıtım ve "" ""Dil\""i takip edin."" msgid """" ""http://docs.openstack.org/draft/draft-index.html contains draft (unreleased) "" ""documents."" msgstr """" ""http://docs.openstack.org/draft/draft-index.html taslak (yayınlanmamış) "" ""belgeleri içerir."" msgid ""http://lists.openstack.org/pipermail/openstack-dev/2016-May/094215.html"" msgstr """" ""http://lists.openstack.org/pipermail/openstack-dev/2016-May/094215.html"" msgid ""prioritize the bug"" msgstr ""hatayı önceliklendirin"" msgid ""tag it with the project name, for example \""horizon\"" or \""docs\""."" msgstr ""proje ismiyle etiketleyin, örneğin \""horizon\"" veya \""docs\""."" msgid ""tag the bug with a language name"" msgstr ""Hatayı bir dil ismiyle etiketleyin"" msgid ""translation bugs"" msgstr ""çeviri hataları"" ",,4421,5300
openstack%2Fproject-config~master~Icbdde6c0560c8312922db7e9a32ac438230f1ceb,openstack/project-config,master,Icbdde6c0560c8312922db7e9a32ac438230f1ceb,Stop collecting inventory at the end,MERGED,2017-08-19 00:29:59.000000000,2017-08-20 14:44:39.000000000,2017-08-20 14:44:39.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-08-19 00:29:59.000000000', 'files': ['playbooks/base-test/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/864534881667caaeae06cc60045304c7884252a6', 'message': 'Stop collecting inventory at the end\n\nIt makes more sense to collect it along with the other zuul-info we\ncollect.\n\nChange-Id: Icbdde6c0560c8312922db7e9a32ac438230f1ceb\n'}]",0,495465,864534881667caaeae06cc60045304c7884252a6,9,5,1,2,,,0,"Stop collecting inventory at the end

It makes more sense to collect it along with the other zuul-info we
collect.

Change-Id: Icbdde6c0560c8312922db7e9a32ac438230f1ceb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/495465/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/base-test/post-logs.yaml'],1,864534881667caaeae06cc60045304c7884252a6,495431,," post_tasks: - name: Copy inventory to logs dir copy: src: ""{{ inventory_file }}"" dest: ""{{ zuul.executor.log_root }}"" ",0,6
openstack%2Fproject-config~master~I205b99d0365d2f80c9f150990604a66ec16000e2,openstack/project-config,master,I205b99d0365d2f80c9f150990604a66ec16000e2,Use zuul_return data from upload-logs role,MERGED,2017-08-19 00:23:29.000000000,2017-08-20 14:41:06.000000000,2017-08-20 14:41:06.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}]","[{'number': 1, 'created': '2017-08-19 00:23:29.000000000', 'files': ['playbooks/base-test/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/37d5b9d932755d8b55b22f2a1ccee0cb2aa5f240', 'message': ""Use zuul_return data from upload-logs role\n\nWe don't really need this as a separate task. It's generally needed with\nthe upload-logs role.\n\nChange-Id: I205b99d0365d2f80c9f150990604a66ec16000e2\nDepends-On: I987b1060acd3e6d96519010673fd21eba781f162\n""}]",0,495462,37d5b9d932755d8b55b22f2a1ccee0cb2aa5f240,8,4,1,2,,,0,"Use zuul_return data from upload-logs role

We don't really need this as a separate task. It's generally needed with
the upload-logs role.

Change-Id: I205b99d0365d2f80c9f150990604a66ec16000e2
Depends-On: I987b1060acd3e6d96519010673fd21eba781f162
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/495462/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/base-test/post-logs.yaml'],1,37d5b9d932755d8b55b22f2a1ccee0cb2aa5f240,495431," - role: upload-logs zuul_log_url: ""http://logs.openstack.org"""," - upload-logs post_tasks: - name: Return log URL to Zuul delegate_to: localhost zuul_return: data: zuul: log_url: ""http://logs.openstack.org/{{ log_path }}/""",2,9
openstack%2Fproject-config~master~Icbf658af2785cdaa3c8923fe8aa15dd0aeb20f8a,openstack/project-config,master,Icbf658af2785cdaa3c8923fe8aa15dd0aeb20f8a,Enable ARA HTML report compression,ABANDONED,2017-08-20 14:17:07.000000000,2017-08-20 14:36:28.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-20 14:17:07.000000000', 'files': ['playbooks/base-test/post-logs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/522ad35bcebccb407f79de5a53bc321f0c8590c0', 'message': 'Enable ARA HTML report compression\n\nThis enables gzip compression after generating the ara static\nreport.\n\nChange-Id: Icbf658af2785cdaa3c8923fe8aa15dd0aeb20f8a\nDepends-On: Ic1914c840f5a75e7da07494fb87c2167ae7bed68\n'}]",0,495552,522ad35bcebccb407f79de5a53bc321f0c8590c0,4,1,1,9061,,,0,"Enable ARA HTML report compression

This enables gzip compression after generating the ara static
report.

Change-Id: Icbf658af2785cdaa3c8923fe8aa15dd0aeb20f8a
Depends-On: Ic1914c840f5a75e7da07494fb87c2167ae7bed68
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/495552/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/base-test/post-logs.yaml'],1,522ad35bcebccb407f79de5a53bc321f0c8590c0,ara-gzip, ara_compress_html: true,,1,0
openstack%2Fvitrage~stable%2Fpike~I2b78b791ef3d37039c26619cd54c77fdcee74a97,openstack/vitrage,stable/pike,I2b78b791ef3d37039c26619cd54c77fdcee74a97,enable listener service to get list of elements in enriched_events,MERGED,2017-08-20 08:59:12.000000000,2017-08-20 14:14:32.000000000,2017-08-20 14:14:32.000000000,"[{'_account_id': 3}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 19194}, {'_account_id': 23133}]","[{'number': 1, 'created': '2017-08-20 08:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f7e6750292d33fa8ed2bab585c79964f721171f0', 'message': 'enable listener service to get list of elements in enriched_events\n\nChange-Id: I2b78b791ef3d37039c26619cd54c77fdcee74a97\n'}, {'number': 2, 'created': '2017-08-20 09:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f9284d8fd383e26911ff3ab8fbeacfc5e384b5b2', 'message': 'enable listener service to get list of elements in enriched_events\n\nChange-Id: I2b78b791ef3d37039c26619cd54c77fdcee74a97\n'}, {'number': 3, 'created': '2017-08-20 12:04:37.000000000', 'files': ['vitrage/datasources/listener_service.py', 'vitrage/tests/functional/datasources/listener_service/test_listener_service.py', 'vitrage/tests/functional/datasources/listener_service/__init__.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6252e55a0b0d7f79601c7914ca8b44618c92b304', 'message': 'enable listener service to get list of elements in enriched_events\n\nChange-Id: I2b78b791ef3d37039c26619cd54c77fdcee74a97\n'}]",5,495539,6252e55a0b0d7f79601c7914ca8b44618c92b304,13,6,3,9030,,,0,"enable listener service to get list of elements in enriched_events

Change-Id: I2b78b791ef3d37039c26619cd54c77fdcee74a97
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/39/495539/2 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/listener_service.py', 'vitrage/tests/functional/datasources/listener_service/test_listener_service.py', 'vitrage/tests/functional/datasources/listener_service/__init__.py']",3,f7e6750292d33fa8ed2bab585c79964f721171f0,,"# Copyright 2017 - Nokia # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __author__ = 'stack' ",,94,2
openstack%2Fvitrage~stable%2Fpike~Iba99a4b6c87e5a12897010612551d83a9095d2f2,openstack/vitrage,stable/pike,Iba99a4b6c87e5a12897010612551d83a9095d2f2,"Remove rescheduler from snapshot service, use timers and threads.",MERGED,2017-08-20 11:38:44.000000000,2017-08-20 13:19:39.000000000,2017-08-20 13:19:39.000000000,"[{'_account_id': 3}, {'_account_id': 19194}, {'_account_id': 24635}]","[{'number': 1, 'created': '2017-08-20 11:38:44.000000000', 'files': ['vitrage/datasources/services.py', 'vitrage/datasources/rescheduler.py', 'vitrage/tests/unit/datasources/test_rescheduler_functions.py', 'vitrage/datasources/driver_base.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/222a803a46df6fa434354b81cd9b62319b8ad284', 'message': 'Remove rescheduler from snapshot service, use timers and threads.\n\nChange-Id: Iba99a4b6c87e5a12897010612551d83a9095d2f2\nCloses-Bug: #1707584\n'}]",0,495545,222a803a46df6fa434354b81cd9b62319b8ad284,7,3,1,19184,,,0,"Remove rescheduler from snapshot service, use timers and threads.

Change-Id: Iba99a4b6c87e5a12897010612551d83a9095d2f2
Closes-Bug: #1707584
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/45/495545/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/services.py', 'vitrage/datasources/rescheduler.py', 'vitrage/datasources/driver_base.py', 'vitrage/tests/unit/datasources/test_rescheduler_functions.py']",4,222a803a46df6fa434354b81cd9b62319b8ad284,bug/1707584,,"# Copyright 2016 - Nokia # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from datetime import datetime from vitrage.datasources.rescheduler import ReScheduler from vitrage.tests import base RESCHEDULING_TIMES = 2 STANDARD_INTERVAL = 0.8 FAULT_INTERVAL = 0.2 TTL = 3 FAULT_NUM = 2 TIME_DIFF_MARGIN_PRECENT = 1.05 class ReschedulerTester(base.BaseTest): class DummyException(Exception): def __init__(self, message=''): self.message = message def rescheduled_func(self, item, assert_timing=False): self.counter += 1 self.list.append(item) if assert_timing: if self.last_failure: current_failure = datetime.now() time_diff = (current_failure - self.last_failure).seconds self.last_failure = current_failure self.assertLess(time_diff, STANDARD_INTERVAL * TIME_DIFF_MARGIN_PRECENT) else: self.last_failure = datetime.now() def rescheduled_func_with_exception(self, item): self.counter += 1 self.list.append(item) if self.counter > RESCHEDULING_TIMES // 2 \ and self.fault_counter < FAULT_NUM: raise self.DummyException('ReScheduler Test Dummy Exception') def rescheduled_func_callback(self, exception, item, assert_timing=False): self.fault_counter += 1 self.fault_list.append(item) if assert_timing: if self.last_failure: current_failure = datetime.now() time_diff = (current_failure - self.last_failure).seconds self.last_failure = current_failure self.assertLess(time_diff, FAULT_INTERVAL * TIME_DIFF_MARGIN_PRECENT) else: self.last_failure = datetime.now() @classmethod def reset_test_params(cls): cls.counter = 0 cls.list = [] cls.last_success = None cls.fault_counter = 0 cls.fault_list = [] cls.last_failure = None @classmethod def setUpClass(cls): cls.rescheduler = ReScheduler() cls.counter = 0 cls.last_success = None cls.fault_counter = 0 cls.last_failure = None cls.list = [] cls.fault_list = [] def test_schedule(self): # Test setup self.reset_test_params() TASKS_NUM = 6 # Test action for i in range(TASKS_NUM): self.rescheduler.schedule(func=self.rescheduled_func, args=(i,), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, times=RESCHEDULING_TIMES) # Test assertions self.assertEqual(TASKS_NUM, len(self.rescheduler.scheduler.queue)) self.reset_test_params() def test_reset(self): # Test setup self.reset_test_params() TASKS_NUM = 6 for i in range(TASKS_NUM): self.rescheduler.schedule(func=self.rescheduled_func, args=(i,), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, times=RESCHEDULING_TIMES) # Test action self.rescheduler.reset() # Test assertions self.assertEqual(0, len(self.rescheduler.scheduler.queue)) self.reset_test_params() def test_rescheduling(self): # Test setup self.reset_test_params() TASKS_NUM = 2 VALIDATE_LIST = [0, 1] * RESCHEDULING_TIMES for i in range(TASKS_NUM): self.rescheduler.schedule(func=self.rescheduled_func, args=(i,), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, times=RESCHEDULING_TIMES) # Test action self.rescheduler.run() # Test assertions self.assertEqual(self.counter, TASKS_NUM * RESCHEDULING_TIMES) self.assert_list_equal(self.list, VALIDATE_LIST) self.reset_test_params() def test_rescheduling_timing(self): # Test setup self.reset_test_params() TASKS_NUM = 6 for i in range(TASKS_NUM): self.rescheduler.schedule( func=self.rescheduled_func, args=(i, True), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, times=RESCHEDULING_TIMES) # Test action # Test assertions self.rescheduler.run() self.reset_test_params() def test_rescheduling_with_fault_callbacks(self): # Test setup self.reset_test_params() VALIDATE_LIST = [0] * (RESCHEDULING_TIMES + FAULT_NUM) VALIDATE_FAULT_LIST = ['f'] * FAULT_NUM self.rescheduler.schedule( func=self.rescheduled_func_with_exception, args=(0,), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, fault_callback=self.rescheduled_func_callback, fault_callback_kwargs={'item': 'f'}, times=RESCHEDULING_TIMES) # Test action self.rescheduler.run() # Test assertions self.assertEqual(self.counter, RESCHEDULING_TIMES + FAULT_NUM) self.assert_list_equal(self.list, VALIDATE_LIST) self.assertEqual(self.fault_counter, FAULT_NUM) self.assertEqual(self.fault_list, VALIDATE_FAULT_LIST) self.reset_test_params() def test_rescheduling_with_fault_callbacks_timing(self): # Test setup self.reset_test_params() TASKS_NUM = 6 for i in range(TASKS_NUM): self.rescheduler.schedule( func=self.rescheduled_func_with_exception, args=(i,), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, fault_callback=self.rescheduled_func_callback, fault_callback_kwargs={'item': self.fault_counter, 'assert_timing': True}, times=RESCHEDULING_TIMES) # Test action # Test assertions self.rescheduler.run() self.reset_test_params() def test_rescheduling_with_ttl(self): # Test setup self.reset_test_params() start = datetime.now() self.rescheduler.schedule( func=self.rescheduled_func_with_exception, args=(0,), initial_delay=0, standard_interval=STANDARD_INTERVAL, fault_interval=FAULT_INTERVAL, fault_callback=self.rescheduled_func_callback, fault_callback_kwargs={'item': self.fault_counter}, ttl=TTL) # Test action self.rescheduler.run() # Test assertions self.assertLess((datetime.now() - start).seconds, TTL * TIME_DIFF_MARGIN_PRECENT) ",27,442
openstack%2Fhorizon~stable%2Fpike~I0bdfc7d6409e9782b024b86b170dfda51ba83f96,openstack/horizon,stable/pike,I0bdfc7d6409e9782b024b86b170dfda51ba83f96,Imported Translations from Zanata,MERGED,2017-08-19 06:15:27.000000000,2017-08-20 11:56:35.000000000,2017-08-20 11:56:35.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-08-19 06:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6fb8341fa590a4c4309fa172a777e3ddada186d7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0bdfc7d6409e9782b024b86b170dfda51ba83f96\n'}, {'number': 2, 'created': '2017-08-20 06:15:18.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/770da2825b97965c505b93c9ac11b6d6c8dd2f8d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0bdfc7d6409e9782b024b86b170dfda51ba83f96\n'}]",0,495490,770da2825b97965c505b93c9ac11b6d6c8dd2f8d,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0bdfc7d6409e9782b024b86b170dfda51ba83f96
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/495490/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po']",3,6fb8341fa590a4c4309fa172a777e3ddada186d7,zanata/translations,"""Project-Id-Version: horizon 12.0.0.0rc2.dev8\n""""POT-Creation-Date: 2017-08-18 12:58+0000\n""""PO-Revision-Date: 2017-08-18 04:49+0000\n""msgid ""%(total)s %(type)s"" msgstr ""%(total)s %(type)s"" #, python-format","""Project-Id-Version: horizon 12.0.0.0b3.dev66\n""""POT-Creation-Date: 2017-06-20 13:30+0000\n""""PO-Revision-Date: 2017-02-22 06:22+0000\n""",275,9
openstack%2Fdevstack-plugin-ceph~master~I2a6e1854718df272eb40d68cbe41d9ddfb962b71,openstack/devstack-plugin-ceph,master,I2a6e1854718df272eb40d68cbe41d9ddfb962b71,remove tempest pin,MERGED,2017-08-18 17:26:37.000000000,2017-08-20 11:36:50.000000000,2017-08-20 11:36:50.000000000,"[{'_account_id': 3}, {'_account_id': 8056}, {'_account_id': 9003}]","[{'number': 1, 'created': '2017-08-18 17:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/aecedd132e4d5e52cef681d2e4c6fd446dc9a813', 'message': 'remove tempest pin\n\nChange [1] removed the tempest pin from the\npre test hook in manila proper.\n\nRemove it here as well.\n\n[1] Ia402fb79e1de5c9925f575d635b9928475095f86\n\nChange-Id: I2a6e1854718df272eb40d68cbe41d9ddfb962b71\n'}, {'number': 2, 'created': '2017-08-19 09:55:58.000000000', 'files': ['manila/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c3799820294db9f880908491933e5ea19763d8c7', 'message': 'remove tempest pin\n\nChange [1] removed the tempest pin from the\npre test hook in manila proper.\n\nRemove it here as well.\n\nCloses-Bug: #1711815\n\n[1] Ia402fb79e1de5c9925f575d635b9928475095f86\n\nChange-Id: I2a6e1854718df272eb40d68cbe41d9ddfb962b71\n'}]",0,495386,c3799820294db9f880908491933e5ea19763d8c7,12,3,2,9003,,,0,"remove tempest pin

Change [1] removed the tempest pin from the
pre test hook in manila proper.

Remove it here as well.

Closes-Bug: #1711815

[1] Ia402fb79e1de5c9925f575d635b9928475095f86

Change-Id: I2a6e1854718df272eb40d68cbe41d9ddfb962b71
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/86/495386/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/pre_test_hook.sh'],1,aecedd132e4d5e52cef681d2e4c6fd446dc9a813,bug/1711815,,# Import to set $MANILA_TEMPEST_COMMIT.git checkout $MANILA_TEMPEST_COMMIT,0,2
openstack%2Fdjango_openstack_auth~master~I9bcb892cafa8caa9ff391205c287a2654d243541,openstack/django_openstack_auth,master,I9bcb892cafa8caa9ff391205c287a2654d243541,Updated from global requirements,MERGED,2017-08-18 04:39:40.000000000,2017-08-20 10:10:37.000000000,2017-08-20 10:10:37.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-08-18 04:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/48d6f7c116c078e1b3b3b2ed030fa7b11466913b', 'message': 'Updated from global requirements\n\nChange-Id: I9bcb892cafa8caa9ff391205c287a2654d243541\n'}, {'number': 2, 'created': '2017-08-18 11:29:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/2704f958595b27146441142c5887c62094a54d6b', 'message': 'Updated from global requirements\n\nChange-Id: I9bcb892cafa8caa9ff391205c287a2654d243541\n'}]",0,494801,2704f958595b27146441142c5887c62094a54d6b,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I9bcb892cafa8caa9ff391205c287a2654d243541
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/01/494801/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,48d6f7c116c078e1b3b3b2ed030fa7b11466913b,openstack/requirements,mock>=2.0.0 # BSD,mock>=2.0 # BSD,1,1
openstack%2Fkolla~master~If8f501edb89589f882e0a32dee4a8ed3e63e30de,openstack/kolla,master,If8f501edb89589f882e0a32dee4a8ed3e63e30de,Fix Underline as per the title length in .rst,MERGED,2017-08-02 06:48:14.000000000,2017-08-20 10:09:16.000000000,2017-08-20 10:09:16.000000000,"[{'_account_id': 3}, {'_account_id': 19316}, {'_account_id': 23717}, {'_account_id': 25945}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-08-02 06:48:14.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/ocata.rst', 'releasenotes/source/mitaka.rst', 'releasenotes/source/liberty.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dcc7593f5dfedc4b1ed8de6df5bfaa333f00b53d', 'message': 'Fix Underline as per the title length in .rst\n\nAs per the openstack contributer guide, the underlines in\nan rst file must match the title length\nhttp://docs.openstack.org/contributor-guide/rst-conv/titles.html\n\nChange-Id: If8f501edb89589f882e0a32dee4a8ed3e63e30de\n'}]",0,489882,dcc7593f5dfedc4b1ed8de6df5bfaa333f00b53d,10,5,1,14570,,,0,"Fix Underline as per the title length in .rst

As per the openstack contributer guide, the underlines in
an rst file must match the title length
http://docs.openstack.org/contributor-guide/rst-conv/titles.html

Change-Id: If8f501edb89589f882e0a32dee4a8ed3e63e30de
",git fetch https://review.opendev.org/openstack/kolla refs/changes/82/489882/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/ocata.rst', 'releasenotes/source/mitaka.rst', 'releasenotes/source/liberty.rst', 'releasenotes/source/index.rst']",5,dcc7593f5dfedc4b1ed8de6df5bfaa333f00b53d,,========================================================================================,=============================================,14,13
openstack%2Fkolla-ansible~master~I5fd5cbff52d5072a0775a654333606917b229ffc,openstack/kolla-ansible,master,I5fd5cbff52d5072a0775a654333606917b229ffc,Fix mariadb log not match,ABANDONED,2017-08-04 02:36:38.000000000,2017-08-20 09:02:42.000000000,,"[{'_account_id': 3}, {'_account_id': 8157}, {'_account_id': 11869}, {'_account_id': 24043}, {'_account_id': 25373}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-08-04 02:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f82e1b3006eb4662cce47a353e329069a53c0e0', 'message': 'Fix mariadb log not match\n\nChange-Id: I5fd5cbff52d5072a0775a654333606917b229ffc\nCloses-Bug: #1708571\n'}, {'number': 2, 'created': '2017-08-16 10:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f4b9ea3293ef69989b04afaaf43a6e16b9794b8', 'message': 'Fix mariadb log not match\n\nChange-Id: I5fd5cbff52d5072a0775a654333606917b229ffc\nCloses-Bug: #1708571\n'}, {'number': 3, 'created': '2017-08-17 08:42:12.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb28f08d0d601fb40d5697d0cd20080ad30baa6e', 'message': 'Fix mariadb log not match\n\nChange-Id: I5fd5cbff52d5072a0775a654333606917b229ffc\nCloses-Bug: #1708571\n'}]",21,490712,fb28f08d0d601fb40d5697d0cd20080ad30baa6e,26,6,3,11869,,,0,"Fix mariadb log not match

Change-Id: I5fd5cbff52d5072a0775a654333606917b229ffc
Closes-Bug: #1708571
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/490712/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2'],1,7f82e1b3006eb4662cce47a353e329069a53c0e0,bug/1708571," format1 /^(?<time>\d{6}\s+\d{1,2}:\d{1,2}:\d{1,2}) (?:\[(?<severity_label>\S+)\]|mysqld_safe) (?<message>.*)/"," format1 /^(?<time>\d{6} \d{1,2}:\d{1,2}:\d{1,2}) \[(?<severity_label>\S+)\] (?<Payload>.*)/",1,1
openstack%2Fpython-karborclient~master~I6a1540e5bd7966f887dbb0f968676f7d9bef2f10,openstack/python-karborclient,master,I6a1540e5bd7966f887dbb0f968676f7d9bef2f10,Updated from global requirements,MERGED,2017-08-18 04:51:27.000000000,2017-08-20 08:48:26.000000000,2017-08-20 08:48:26.000000000,"[{'_account_id': 3}, {'_account_id': 17151}]","[{'number': 1, 'created': '2017-08-18 04:51:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/996cc1625f30b63cd8b361d0829c1bc6992a30fb', 'message': 'Updated from global requirements\n\nChange-Id: I6a1540e5bd7966f887dbb0f968676f7d9bef2f10\n'}]",0,494897,996cc1625f30b63cd8b361d0829c1bc6992a30fb,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6a1540e5bd7966f887dbb0f968676f7d9bef2f10
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/97/494897/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,996cc1625f30b63cd8b361d0829c1bc6992a30fb,openstack/requirements,requests-mock>=1.1.0 # Apache-2.0,requests-mock>=1.1 # Apache-2.0,1,1
openstack%2Fhorizon~master~I597fc4733ce7312065dba6820495444acf8d8208,openstack/horizon,master,I597fc4733ce7312065dba6820495444acf8d8208,Fix js error for hiding required fields with ThemableSelectWidget,ABANDONED,2017-08-10 02:36:02.000000000,2017-08-20 08:46:38.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 11885}, {'_account_id': 12826}, {'_account_id': 15209}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-08-10 02:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0af3f57afcd94c326bdaad020c801b715abba6ce', 'message': ""Fix js error for hiding required fields with ThemableSelectWidget\n\nThere's a js error when hiding a required form field with ThemableSelectWidget.\n\nThis patch saves the required field of the input in its data. When the input\nis hidden, the required field is set to false and it will be restored when the\ninput becomes visible.\n\nChange-Id: I597fc4733ce7312065dba6820495444acf8d8208\nFixes-bug: #1709693\n""}, {'number': 2, 'created': '2017-08-10 02:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8a46b62137beba7cc120d1adb0b2822343fa0ef', 'message': ""Fix js error for hiding required fields with ThemableSelectWidget\n\nThere's a js error when hiding a required form field with ThemableSelectWidget.\n\nThis patch saves the required field of the input in its data. When the input\nis hidden, the required field is set to false and it will be restored when the\ninput becomes visible.\n\nChange-Id: I597fc4733ce7312065dba6820495444acf8d8208\nFixes-bug: #1709693\n""}, {'number': 3, 'created': '2017-08-10 03:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5c05f47f09e842509b59b9e245e0280a1b60537d', 'message': ""Fix js error for hiding required fields with ThemableSelectWidget\n\nThere's a js error when hiding a required form field with\nThemableSelectWidget.\n\nThis patch saves the required field of the input in its data.\nWhen the input is hidden, the required field is set to false and\nit will be restored when the input becomes visible.\n\nAdded the novalidate for the workflow template to disable the\nHTML5 validation so it doesn't show a tooltip for missing\nrequired field.\n\nChange-Id: I597fc4733ce7312065dba6820495444acf8d8208\nFixes-bug: #1709693\n""}, {'number': 4, 'created': '2017-08-18 03:06:55.000000000', 'files': ['horizon/static/horizon/js/horizon.forms.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7ef02b6853c388fe661da9d3aa69befed5c91263', 'message': ""Fix js error for hiding required fields with ThemableSelectWidget\n\nThere's a js error when hiding a required form field with\nThemableSelectWidget.\n\nThis patch saves the required field of the input in its data.\nWhen the input is hidden, the required field is set to false and\nit will be restored when the input becomes visible.\n\nChange-Id: I597fc4733ce7312065dba6820495444acf8d8208\nFixes-bug: #1709693\n""}]",8,492354,7ef02b6853c388fe661da9d3aa69befed5c91263,21,6,4,11885,,,0,"Fix js error for hiding required fields with ThemableSelectWidget

There's a js error when hiding a required form field with
ThemableSelectWidget.

This patch saves the required field of the input in its data.
When the input is hidden, the required field is set to false and
it will be restored when the input becomes visible.

Change-Id: I597fc4733ce7312065dba6820495444acf8d8208
Fixes-bug: #1709693
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/492354/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.forms.js'],1,0af3f57afcd94c326bdaad020c801b715abba6ce,bug/1709693," if(!angular.isDefined($input.data().required)){ $input.data(""required"", input.required); } input.required = false; input.required = $input.data().required;",,5,0
