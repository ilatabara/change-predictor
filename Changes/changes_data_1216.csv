id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fapi-site~master~Ic24222927a04de54b697a937bf9080869442e33a,openstack/api-site,master,Ic24222927a04de54b697a937bf9080869442e33a,Add conditions and troubleshoot in Members section,MERGED,2015-01-15 12:22:29.000000000,2015-01-27 00:41:49.000000000,2015-01-27 00:41:48.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 8878}, {'_account_id': 9162}]","[{'number': 1, 'created': '2015-01-15 12:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/825003f8b9ee30b029e9b8761b9ba5a196efba54', 'message': 'Add conditions and troubleshoot in Members section\n\nAdd preconditions, synchronous postconditions and troubleshooting\nto Members section of Image Service v2.\n\nChange-Id: Ic24222927a04de54b697a937bf9080869442e33a\nPartial-bug: #1390523\nPartial-bug: #1390528\n'}, {'number': 2, 'created': '2015-01-22 09:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/51e862925d473a9062e93aba29fd3024eac6e52a', 'message': 'Add conditions and troubleshoot in Members section\n\nAdd preconditions, synchronous postconditions and troubleshooting\nto Members section of Image Service v2.\n\nChange-Id: Ic24222927a04de54b697a937bf9080869442e33a\nPartial-bug: #1390523\nPartial-bug: #1390528\n'}, {'number': 3, 'created': '2015-01-23 03:59:05.000000000', 'files': ['api-ref/src/wadls/image-api/src/v2/os-image-v2.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/729c87307407ca9ba3fc54b3d7a90be36b1aa4ea', 'message': 'Add conditions and troubleshoot in Members section\n\nAdd preconditions, synchronous postconditions and troubleshooting\nto Members section of Image Service v2.\n\nChange-Id: Ic24222927a04de54b697a937bf9080869442e33a\nPartial-bug: #1390523\nPartial-bug: #1390528\n'}]",10,147486,729c87307407ca9ba3fc54b3d7a90be36b1aa4ea,16,5,3,8878,,,0,"Add conditions and troubleshoot in Members section

Add preconditions, synchronous postconditions and troubleshooting
to Members section of Image Service v2.

Change-Id: Ic24222927a04de54b697a937bf9080869442e33a
Partial-bug: #1390523
Partial-bug: #1390528
",git fetch https://review.opendev.org/openstack/api-site refs/changes/86/147486/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/image-api/src/v2/os-image-v2.wadl'],1,825003f8b9ee30b029e9b8761b9ba5a196efba54,bug/add-info-members-section," <para>Preconditions</para> <itemizedlist> <listitem><para>The specified image must exist. </para></listitem> <listitem><para>You need to be a owner or a member of the specified image.</para></listitem> </itemizedlist> <para>Preconditions</para> <itemizedlist> <listitem><para>The specified image must exist. </para></listitem> <listitem><para>You need to be a owner or a member of the specified image.</para></listitem> </itemizedlist> <para>Preconditions</para> <itemizedlist> <listitem><para>The specified images must exist. </para></listitem> <listitem><para>You can only add a new member to an image which 'visibility' attribute is <code>private</code>. </para></listitem> <listitem><para>You need to be a owner of the specified image.</para></listitem> </itemizedlist> <para>Synchronous Postconditions</para> <itemizedlist> <listitem><para>With correct permissions, you can see the member status of the image as <code>pending</code> through API calls.</para></listitem> </itemizedlist> <para>Troubleshooting</para> <itemizedlist> <listitem><para>The response returns the HTTP 403 status code when the 'visibility' attribute is set to <code>public</code> even if you have correct permissions. Ensure you meet the preconditions then investigate the attribute.</para></listitem> <listitem><para>The response returns the HTTP 409 status code if the member has already been a member of the image. </para></listitem> </itemizedlist> <para>Preconditions</para> <itemizedlist> <listitem><para>The specified images must exist. </para></listitem> <listitem><para>You need to be a member of the specified image.</para></listitem> </itemizedlist> <para>Synchronous Postconditions</para> <itemizedlist> <listitem><para>With correct permissions, you can see the image in responses of List images API if you update the member status to <code>accepted</code>.</para></listitem> <listitem><para>With correct permissions, you can see the updated member status of the image through API calls.</para></listitem> </itemizedlist> <para>Preconditions</para> <itemizedlist> <listitem><para>The specified image must exist. </para></listitem> <listitem><para>You need to be a owner of the specified image.</para></listitem> </itemizedlist> <para>Synchronous Postconditions</para> <itemizedlist> <listitem><para>The specified member is removed from the image members.</para></listitem> </itemizedlist> <para>Troubleshooting</para> <itemizedlist> <listitem><para>The response returns the HTTP 403 status code when you are not a owner of the specifid image even if you have correct permissions. Ensure you meet the preconditions then investigate the attribute. </para></listitem> </itemizedlist>",,77,0
openstack%2Fapi-site~master~I142a9651413e75df9884b31ce5f785847b1452f7,openstack/api-site,master,I142a9651413e75df9884b31ce5f785847b1452f7,Adds 2015 to copyright range for API docs,MERGED,2015-01-24 03:01:36.000000000,2015-01-27 00:39:46.000000000,2015-01-27 00:39:45.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-24 03:01:36.000000000', 'files': ['api-ref-guides/src/bk-api-ref-identity-v3.xml', 'api-ref-guides/src/bk-api-ref-telemetry-v2.xml', 'api-ref-guides/src/bk-api-ref-databases-v1.xml', 'api-ref-guides/src/bk-api-ref-blockstorage-v1.xml', 'api-ref-guides/src/bk-api-ref-image-v1.xml', 'api-ref/src/docbkx/api-ref.xml', 'api-ref-guides/src/bk-api-ref-orchestration-v1.xml', 'api-ref-guides/src/bk-api-ref-identity-v2.xml', 'api-guide/bk-api-guide.xml', 'api-ref-guides/src/bk-api-ref-compute-v2.xml', 'api-ref-guides/src/bk-api-ref.xml', 'api-ref-guides/src/bk-api-ref-image-v2.xml', 'api-ref-guides/src/bk-api-ref-objectstorage-v1.xml', 'api-ref-guides/src/bk-api-ref-blockstorage-v2.xml', 'api-ref-guides/src/bk-api-ref-compute-v2-ext.xml', 'api-ref-guides/src/bk-api-ref-networking-v2.xml'], 'web_link': 'https://opendev.org/openstack/api-site/commit/4af41bddc5887acfae31501566268347d252cab4', 'message': 'Adds 2015 to copyright range for API docs\n\nBasically, copyright assertions are not really needed, but\nputting the actual year in avoids using ""present"" and shows\nwe are continuing to deliver that doc. Refer to\nhttps://wiki.openstack.org/wiki/Documentation/Copyright\nwith any questions.\n\nChange-Id: I142a9651413e75df9884b31ce5f785847b1452f7\n'}]",0,149805,4af41bddc5887acfae31501566268347d252cab4,7,3,1,964,,,0,"Adds 2015 to copyright range for API docs

Basically, copyright assertions are not really needed, but
putting the actual year in avoids using ""present"" and shows
we are continuing to deliver that doc. Refer to
https://wiki.openstack.org/wiki/Documentation/Copyright
with any questions.

Change-Id: I142a9651413e75df9884b31ce5f785847b1452f7
",git fetch https://review.opendev.org/openstack/api-site refs/changes/05/149805/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref-guides/src/bk-api-ref-identity-v3.xml', 'api-ref-guides/src/bk-api-ref-telemetry-v2.xml', 'api-ref-guides/src/bk-api-ref-databases-v1.xml', 'api-ref-guides/src/bk-api-ref-blockstorage-v1.xml', 'api-ref-guides/src/bk-api-ref-image-v1.xml', 'api-ref/src/docbkx/api-ref.xml', 'api-ref-guides/src/bk-api-ref-orchestration-v1.xml', 'api-ref-guides/src/bk-api-ref-identity-v2.xml', 'api-guide/bk-api-guide.xml', 'api-ref-guides/src/bk-api-ref-compute-v2.xml', 'api-ref-guides/src/bk-api-ref.xml', 'api-ref-guides/src/bk-api-ref-image-v2.xml', 'api-ref-guides/src/bk-api-ref-objectstorage-v1.xml', 'api-ref-guides/src/bk-api-ref-blockstorage-v2.xml', 'api-ref-guides/src/bk-api-ref-compute-v2-ext.xml', 'api-ref-guides/src/bk-api-ref-networking-v2.xml']",16,4af41bddc5887acfae31501566268347d252cab4,copyright-2015, <year>2010-2015</year>, <year>2010-2014</year>,17,16
openstack%2Fopenstack-doc-tools~master~Id443e2c2aca3e010a2d54b739ad1fb75c6af868a,openstack/openstack-doc-tools,master,Id443e2c2aca3e010a2d54b739ad1fb75c6af868a,Include ironic in the autohelp default projects,MERGED,2015-01-21 17:06:15.000000000,2015-01-27 00:37:43.000000000,2015-01-27 00:37:42.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-21 17:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/438e274753ee005b77a47beb44c67901c3700169', 'message': 'Include ironic in the autohelp default projects\n\nChange-Id: Id443e2c2aca3e010a2d54b739ad1fb75c6af868a\n'}, {'number': 2, 'created': '2015-01-21 18:15:45.000000000', 'files': ['autogenerate_config_docs/autohelp-wrapper'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/12729c72755caeb78e1a9a8296dcf262777cd4e0', 'message': 'Include ironic in the autohelp default projects\n\nChange-Id: Id443e2c2aca3e010a2d54b739ad1fb75c6af868a\n'}]",0,148987,12729c72755caeb78e1a9a8296dcf262777cd4e0,10,3,2,7923,,,0,"Include ironic in the autohelp default projects

Change-Id: Id443e2c2aca3e010a2d54b739ad1fb75c6af868a
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/87/148987/1 && git format-patch -1 --stdout FETCH_HEAD,['autogenerate_config_docs/autohelp-wrapper'],1,438e274753ee005b77a47beb44c67901c3700169,add-ironic,"PROJECTS=""ceilometer cinder glance heat ironic keystone neutron nova sahara swift trove""","PROJECTS=""ceilometer cinder glance heat keystone neutron nova sahara swift trove""",1,1
openstack%2Fneutron~master~I2215a34a7b11684b633b3c7f452dfc9e1ea0683c,openstack/neutron,master,I2215a34a7b11684b633b3c7f452dfc9e1ea0683c,tests: moved unit tests for neutron.agent.linux.ra module,ABANDONED,2015-01-26 13:56:23.000000000,2015-01-27 00:32:35.000000000,,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-26 13:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0f0df11c89d50ee7b35b9bde79ca9ca01cc4e2a', 'message': ""tests: moved unit tests for neutron.agent.linux.ra module\n\nThose tests should be unbound from general L3 agent unit tests to make\nit clear what's covered by tests (not many) and what's not (a lot).\n\nThis required some code shuffling. Specifically,\n\n- a new l3_helpers module is created that now contains code common to\n  test_l3_agent and new test_ra that is needed to instantiate L3 agents\n  in unit testing environment. It's mostly around registering options,\n  setting mocks, but also helper functions: router_append_interface,\n  prepare_router_data, get_ha_interface.\n\nAs a bonus, we are now able to untangle functional test_l3_agent from\nunit test test_l3_agent module.\n\nblueprint reorganize-unit-test-tree\n\nChange-Id: I2215a34a7b11684b633b3c7f452dfc9e1ea0683c\n""}, {'number': 2, 'created': '2015-01-26 14:06:18.000000000', 'files': ['neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/agent/linux/test_ra.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/tests/common/l3_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b5f68abec0e8c5c7b3e710639e0da1b0f27fd3e', 'message': ""tests: moved unit tests for neutron.agent.linux.ra module\n\nThose tests should be unbound from general L3 agent unit tests to make\nit clear what's covered by tests (not many) and what's not (a lot).\n\nThis required some code shuffling. Specifically,\n\n- a new l3_helpers module is created that now contains code common to\n  test_l3_agent and new test_ra that is needed to instantiate L3 agents\n  in unit testing environment. It's mostly around registering options,\n  setting mocks, but also helper functions: router_append_interface,\n  prepare_router_data, get_ha_interface.\n- added a new agent_host argument to process_router_ipv6_interface_added\n  to specify host name for L3 agent to start with since now that the\n  method is used from multiple different test cases, we should not\n  hardcode it.\n\nAs a bonus, we are now able to untangle functional test_l3_agent from\nunit test test_l3_agent module.\n\nblueprint reorganize-unit-test-tree\n\nChange-Id: I2215a34a7b11684b633b3c7f452dfc9e1ea0683c\n""}]",0,150029,7b5f68abec0e8c5c7b3e710639e0da1b0f27fd3e,25,17,2,9656,,,0,"tests: moved unit tests for neutron.agent.linux.ra module

Those tests should be unbound from general L3 agent unit tests to make
it clear what's covered by tests (not many) and what's not (a lot).

This required some code shuffling. Specifically,

- a new l3_helpers module is created that now contains code common to
  test_l3_agent and new test_ra that is needed to instantiate L3 agents
  in unit testing environment. It's mostly around registering options,
  setting mocks, but also helper functions: router_append_interface,
  prepare_router_data, get_ha_interface.
- added a new agent_host argument to process_router_ipv6_interface_added
  to specify host name for L3 agent to start with since now that the
  method is used from multiple different test cases, we should not
  hardcode it.

As a bonus, we are now able to untangle functional test_l3_agent from
unit test test_l3_agent module.

blueprint reorganize-unit-test-tree

Change-Id: I2215a34a7b11684b633b3c7f452dfc9e1ea0683c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/150029/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/agent/linux/test_ra.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/tests/common/l3_helpers.py']",4,e0f0df11c89d50ee7b35b9bde79ca9ca01cc4e2a,bp/reorganize-unit-test-tree,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import netaddr from neutron.agent.common import config as agent_config from neutron.agent.l3 import agent as l3_agent from neutron.agent.l3 import config as l3_config from neutron.agent.l3 import ha from neutron.agent.l3 import router_info as l3router from neutron.agent.linux import interface from neutron.common import config as base_config from neutron.common import constants as l3_constants from neutron.openstack.common import log from neutron.openstack.common import uuidutils from neutron.tests import base _uuid = uuidutils.generate_uuid def router_append_interface(router, count=1, ip_version=4, ra_mode=None, addr_mode=None): if ip_version == 4: ip_pool = '35.4.%i.4' cidr_pool = '35.4.%i.0/24' gw_pool = '35.4.%i.1' elif ip_version == 6: ip_pool = 'fd01:%x::6' cidr_pool = 'fd01:%x::/64' gw_pool = 'fd01:%x::1' else: raise ValueError(""Invalid ip_version: %s"" % ip_version) interfaces = router[l3_constants.INTERFACE_KEY] current = sum( [netaddr.IPNetwork(p['subnet']['cidr']).version == ip_version for p in interfaces]) mac_address = netaddr.EUI('ca:fe:de:ad:be:ef') mac_address.dialect = netaddr.mac_unix for i in range(current, current + count): interfaces.append( {'id': _uuid(), 'network_id': _uuid(), 'admin_state_up': True, 'fixed_ips': [{'ip_address': ip_pool % i, 'subnet_id': _uuid()}], 'mac_address': str(mac_address), 'subnet': {'cidr': cidr_pool % i, 'gateway_ip': gw_pool % i, 'ipv6_ra_mode': ra_mode, 'ipv6_address_mode': addr_mode}}) mac_address.value += 1 def prepare_router_data(ip_version=4, enable_snat=None, num_internal_ports=1, enable_floating_ip=False, enable_ha=False): if ip_version == 4: ip_addr = '19.4.4.4' cidr = '19.4.4.0/24' gateway_ip = '19.4.4.1' elif ip_version == 6: ip_addr = 'fd00::4' cidr = 'fd00::/64' gateway_ip = 'fd00::1' else: raise ValueError(""Invalid ip_version: %s"" % ip_version) router_id = _uuid() ex_gw_port = {'id': _uuid(), 'mac_address': 'ca:fe:de:ad:be:ee', 'network_id': _uuid(), 'fixed_ips': [{'ip_address': ip_addr, 'subnet_id': _uuid()}], 'subnet': {'cidr': cidr, 'gateway_ip': gateway_ip}} router = { 'id': router_id, 'distributed': False, l3_constants.INTERFACE_KEY: [], 'routes': [], 'gw_port': ex_gw_port} if enable_floating_ip: router[l3_constants.FLOATINGIP_KEY] = [{ 'id': _uuid(), 'port_id': _uuid(), 'floating_ip_address': '19.4.4.2', 'fixed_ip_address': '10.0.0.1'}] router_append_interface(router, count=num_internal_ports, ip_version=ip_version) if enable_ha: router['ha'] = True router['ha_vr_id'] = 1 router[l3_constants.HA_INTERFACE_KEY] = get_ha_interface() if enable_snat is not None: router['enable_snat'] = enable_snat return router def get_ha_interface(ip='169.254.192.1', mac='12:34:56:78:2b:5d'): return {'admin_state_up': True, 'device_id': _uuid(), 'device_owner': 'network:router_ha_interface', 'fixed_ips': [{'ip_address': ip, 'subnet_id': _uuid()}], 'id': _uuid(), 'mac_address': mac, 'name': u'L3 HA Admin port 0', 'network_id': _uuid(), 'status': u'ACTIVE', 'subnet': {'cidr': '169.254.192.0/18', 'gateway_ip': '169.254.255.254', 'id': _uuid()}, 'tenant_id': '', 'agent_id': _uuid(), 'agent_host': 'aaa', 'priority': 1} class TestL3RouterBase(base.BaseTestCase): def setUp(self): super(TestL3RouterBase, self).setUp() self.conf = agent_config.setup_conf() self.conf.register_opts(base_config.core_opts) self.conf.register_cli_opts(log.common_cli_opts) self.conf.register_cli_opts(log.logging_cli_opts) self.conf.register_opts(l3_config.OPTS) self.conf.register_opts(ha.OPTS) agent_config.register_interface_driver_opts_helper(self.conf) agent_config.register_use_namespaces_opts_helper(self.conf) agent_config.register_root_helper(self.conf) self.conf.register_opts(interface.OPTS) self.conf.set_override('interface_driver', 'neutron.agent.linux.interface.NullDriver') self.conf.set_override('state_path', '') self.device_exists_p = mock.patch( 'neutron.agent.linux.ip_lib.device_exists') self.device_exists = self.device_exists_p.start() mock.patch('neutron.agent.l3.ha.AgentMixin' '._init_ha_conf_path').start() self.utils_exec_p = mock.patch( 'neutron.agent.linux.utils.execute') self.utils_exec = self.utils_exec_p.start() self.utils_replace_file_p = mock.patch( 'neutron.agent.linux.utils.replace_file') self.utils_replace_file = self.utils_replace_file_p.start() self.l3pluginApi_cls_p = mock.patch( 'neutron.agent.l3.agent.L3PluginApi') l3pluginApi_cls = self.l3pluginApi_cls_p.start() self.plugin_api = mock.MagicMock() l3pluginApi_cls.return_value = self.plugin_api def process_router_ipv6_interface_added( self, router, agent_host, ra_mode=None, addr_mode=None): agent = l3_agent.L3NATAgent(agent_host, self.conf) ri = l3router.RouterInfo(router['id'], self.conf.root_helper, router=router) agent.external_gateway_added = mock.Mock() # Process with NAT agent.process_router(ri) orig_nat_rules = ri.iptables_manager.ipv4['nat'].rules[:] # Add an IPv6 interface and reprocess router_append_interface(router, count=1, ip_version=6, ra_mode=ra_mode, addr_mode=addr_mode) # Reassign the router object to RouterInfo ri.router = router agent.process_router(ri) # IPv4 NAT rules should not be changed by adding an IPv6 interface nat_rules_delta = [r for r in ri.iptables_manager.ipv4['nat'].rules if r not in orig_nat_rules] self.assertFalse(nat_rules_delta) return ri ",,327,273
openstack%2Frequirements~master~Ie4e2b6a1c06e2148951a9029ce473e2c820b544e,openstack/requirements,master,Ie4e2b6a1c06e2148951a9029ce473e2c820b544e,Bump gabbi to 0.5.0,MERGED,2015-01-22 22:31:22.000000000,2015-01-27 00:31:19.000000000,2015-01-27 00:31:18.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2750}]","[{'number': 1, 'created': '2015-01-22 22:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2bc07dfc1812ec2f9fa910be8dfd4d9e9fd2c78a', 'message': 'Bump gabbi to 0.5.0\n\nMore in depth use with ceilometer and gnocchi revealed that\nestablishment of the wsgi-intercept must be delayed until\nafter fixtures have had a chance to run. The fixtures do things\nlike establishing oslo_config.cfg which some WSGI app factories\nneed immediately.\n\nChange-Id: Ie4e2b6a1c06e2148951a9029ce473e2c820b544e\n'}, {'number': 2, 'created': '2015-01-22 22:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/41091d14633e552f68601bf86824a51006ab411c', 'message': 'Bump gabbi to 0.5.0\n\nMore in depth use with ceilometer and gnocchi revealed that\nestablishment of the wsgi-intercept must be delayed until\nafter fixtures have had a chance to run. The fixtures do things\nlike establishing oslo_config.cfg which some WSGI app factories\nneed immediately.\n\nFixtures are also capable now of causing an entire TestSuite to be\nskipped if some prerequiste cannot be satisfied (for instance a\ndatabase in not available). This has made it possible to easily\nintegrate the gabbi-drive tests on the same tox targets as other\nunit tests.\n\nChange-Id: Ie4e2b6a1c06e2148951a9029ce473e2c820b544e\n'}, {'number': 3, 'created': '2015-01-26 10:34:38.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e98b47870d8a9deb50d3e9e26c2ac0de7036cb8', 'message': 'Bump gabbi to 0.5.0\n\nMore in depth use with ceilometer and gnocchi revealed that\nestablishment of the wsgi-intercept must be delayed until\nafter fixtures have had a chance to run. The fixtures do things\nlike establishing oslo_config.cfg which some WSGI app factories\nneed immediately.\n\nFixtures are also capable now of causing an entire TestSuite to be\nskipped if some prerequiste cannot be satisfied (for instance a\ndatabase in not available). This has made it possible to easily\nintegrate the gabbi-drive tests on the same tox targets as other\nunit tests.\n\nChange-Id: Ie4e2b6a1c06e2148951a9029ce473e2c820b544e\n'}]",0,149414,3e98b47870d8a9deb50d3e9e26c2ac0de7036cb8,12,3,3,11564,,,0,"Bump gabbi to 0.5.0

More in depth use with ceilometer and gnocchi revealed that
establishment of the wsgi-intercept must be delayed until
after fixtures have had a chance to run. The fixtures do things
like establishing oslo_config.cfg which some WSGI app factories
need immediately.

Fixtures are also capable now of causing an entire TestSuite to be
skipped if some prerequiste cannot be satisfied (for instance a
database in not available). This has made it possible to easily
integrate the gabbi-drive tests on the same tox targets as other
unit tests.

Change-Id: Ie4e2b6a1c06e2148951a9029ce473e2c820b544e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/149414/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,2bc07dfc1812ec2f9fa910be8dfd4d9e9fd2c78a,cd/gabbi-0.5.0,gabbi>=0.5.0,gabbi>=0.3.0,1,1
openstack%2Fopenstack-ansible~juno~I78be9373be20295dc0154af6e642eff2ce0ddc66,openstack/openstack-ansible,juno,I78be9373be20295dc0154af6e642eff2ce0ddc66,Add debootstrap package to LXC package list,MERGED,2015-01-26 21:39:17.000000000,2015-01-27 00:14:48.000000000,2015-01-26 22:36:22.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-26 21:39:17.000000000', 'files': ['rpc_deployment/roles/lxc_common/tasks/lxc_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/36ededc92ce7f1ebd781fd853b1eba9a5f7630b1', 'message': 'Add debootstrap package to LXC package list\n\nThis patch adds debootstrap to the LXC installation package list in\norder to prevent errors when trying to use debootstrap to setup lxc\ncontainers.\n\nChange-Id: I78be9373be20295dc0154af6e642eff2ce0ddc66\nCloses-Bug: #1412484\n(cherry picked from commit a49fc71e629c7e7decca0c743c7626ab13974ef5)\n'}]",0,150156,36ededc92ce7f1ebd781fd853b1eba9a5f7630b1,8,5,1,7307,,,0,"Add debootstrap package to LXC package list

This patch adds debootstrap to the LXC installation package list in
order to prevent errors when trying to use debootstrap to setup lxc
containers.

Change-Id: I78be9373be20295dc0154af6e642eff2ce0ddc66
Closes-Bug: #1412484
(cherry picked from commit a49fc71e629c7e7decca0c743c7626ab13974ef5)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/150156/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/roles/lxc_common/tasks/lxc_install.yml'],1,36ededc92ce7f1ebd781fd853b1eba9a5f7630b1,bug/1412484, - debootstrap,,1,0
openstack%2Fneutron~master~I80df11d845bea5f683b9910fb1020a3f9c04a648,openstack/neutron,master,I80df11d845bea5f683b9910fb1020a3f9c04a648,Update _cur names to _current in iptables_firewall.py,MERGED,2015-01-18 08:35:22.000000000,2015-01-27 00:14:22.000000000,2015-01-27 00:14:21.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11822}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-18 08:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f2f9db8389d7cd59238741309bdce82d93de608', 'message': 'Update _cur names to _current in iptables_firewall.py\n\n_cur names were obscure, their actual meaning was _current.\n\nChange-Id: I80df11d845bea5f683b9910fb1020a3f9c04a648\n'}, {'number': 2, 'created': '2015-01-19 11:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/658ec858c3b9745a6b4bf1f64e4612e8cce4fbb4', 'message': 'Update _cur names to _current in iptables_firewall.py\n\n_cur names were obscure, their actual meaning was _current.\n\nPartially implements blueprint refactor-iptables-firewall-driver\n\nChange-Id: I80df11d845bea5f683b9910fb1020a3f9c04a648\n'}, {'number': 3, 'created': '2015-01-20 15:07:48.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0dcdec606e7800c5173ffc71207e95c3eb04b00f', 'message': 'Update _cur names to _current in iptables_firewall.py\n\n_cur names were obscure, their actual meaning was _current.\n\nPartially implements blueprint refactor-iptables-firewall-driver\n\nChange-Id: I80df11d845bea5f683b9910fb1020a3f9c04a648\n'}]",4,148094,0dcdec606e7800c5173ffc71207e95c3eb04b00f,69,32,3,8788,,,0,"Update _cur names to _current in iptables_firewall.py

_cur names were obscure, their actual meaning was _current.

Partially implements blueprint refactor-iptables-firewall-driver

Change-Id: I80df11d845bea5f683b9910fb1020a3f9c04a648
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/148094/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_firewall.py'],1,9f2f9db8389d7cd59238741309bdce82d93de608,bp/refactor-iptables-firewall-driver," def _get_current_sg_member_ips(self, sg_id, ethertype): current_ips = self._get_current_sg_member_ips(sg_id, ethertype) if current_ips: self.ipset.set_members(sg_id, ethertype, current_ips)"," def _get_cur_sg_member_ips(self, sg_id, ethertype): cur_member_ips = self._get_cur_sg_member_ips(sg_id, ethertype) if cur_member_ips: self.ipset.set_members(sg_id, ethertype, cur_member_ips)",4,4
openstack%2Fneutron~master~I3735e7f51a27017c6e79953e5ae2c2d1a7565837,openstack/neutron,master,I3735e7f51a27017c6e79953e5ae2c2d1a7565837,NetScaler LBaaS Driver: Enable async creation of VIP,ABANDONED,2014-08-21 18:25:32.000000000,2015-01-27 00:04:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9897}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-21 18:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e4a5529ec99483fdb3da7cf027af491152f5029', 'message': 'NetScaler LBaaS Driver: Enable async creation of VIP in the NetScaler backend\n\nChange-Id: I3735e7f51a27017c6e79953e5ae2c2d1a7565837\nCloses-Bug: #1359893\n'}, {'number': 2, 'created': '2014-08-21 18:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41ee1e419e89b0e6721f0ececab83f05ee5ab542', 'message': 'NetScaler LBaaS Driver: Enable async creation of VIP\n\nChange-Id: I3735e7f51a27017c6e79953e5ae2c2d1a7565837\nCloses-Bug: #1359893\n'}, {'number': 3, 'created': '2014-08-22 16:35:12.000000000', 'files': ['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d46e150fd2fbaf71c64d83a6ee3058ebcbc82ee', 'message': 'NetScaler LBaaS Driver: Enable async creation of VIP\n\nChange-Id: I3735e7f51a27017c6e79953e5ae2c2d1a7565837\nCloses-Bug: #1359893\n'}]",1,116061,2d46e150fd2fbaf71c64d83a6ee3058ebcbc82ee,53,22,3,9461,,,0,"NetScaler LBaaS Driver: Enable async creation of VIP

Change-Id: I3735e7f51a27017c6e79953e5ae2c2d1a7565837
Closes-Bug: #1359893
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/116061/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'],1,2e4a5529ec99483fdb3da7cf027af491152f5029,bug/1359893,"VIP_IN_PENDING_CREATE = [] status = constants.PENDING_CREATE VIP_IN_PENDING_CREATE.append(vip[""id""]) self._refresh_vip_status() def _refresh_vip_status(self): """"""Retrieve vip status from Netscalr Control Center."""""" for vip_id in VIP_IN_PENDING_CREATE: resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, VIPS_RESOURCE, vip_id) try: status, result = ncc_client.retrieve_resource(""GLOBAL"", resource_path) except: # ignore the exception if vip # is not yet created on device pass msg = _(""result is: %s"") % (str(result)) LOG.debug(msg) result = json.loads(result['body']) status = result['vip']['status'] if status == constants.ACTIVE: context_handle = context.get_admin_context() plugin.update_status(context_handle, loadbalancer_db.Vip, vip_id, constants.ACTIVE) VIP_IN_PENDING_CREATE.remove(vip_id) ", status = constants.ACTIVE,30,1
openstack%2Fneutron~master~I50e519890e94f26692d7b1a73a1c6d7a93c20875,openstack/neutron,master,I50e519890e94f26692d7b1a73a1c6d7a93c20875,NetScaler LBaaS Driver: enable pool member status refresh,ABANDONED,2014-08-21 18:17:00.000000000,2015-01-27 00:03:28.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9897}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-08-21 18:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/099973583df6669b994f38a85f074a5f99cab471', 'message': 'Pool Members status will be ACTIVE/UP when the monitor in the\nNetScaler backend has detected it is UP and will be\nINACTIVE/Down when the NetScaler backend has detected it is DOWN.\nCloses-Bug: #1359890\n\nChange-Id: I50e519890e94f26692d7b1a73a1c6d7a93c20875\n'}, {'number': 2, 'created': '2014-08-21 18:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8316af40380c0f4a7f9804588ed8fc50118f667f', 'message': 'Pool Members status will be ACTIVE/UP\nwhen the monitor in the NetScaler backend\nhas detected it is UP and will be\nINACTIVE/Down when the NetScaler\nbackend has detected it is DOWN.\n\nCloses-Bug: #1359890\n\nChange-Id: I50e519890e94f26692d7b1a73a1c6d7a93c20875\n'}, {'number': 3, 'created': '2014-08-21 18:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad06370679b8068dd17923036dbeb45f559da3aa', 'message': 'NetScaler LBaaS Driver: enable pool member status refresh\n\nPool Members status will be ACTIVE/UP\nwhen the monitor in the NetScaler backend\nhas detected it is UP and will be\nINACTIVE/Down when the NetScaler\nbackend has detected it is DOWN.\n\nCloses-Bug: #1359890\n\nChange-Id: I50e519890e94f26692d7b1a73a1c6d7a93c20875\n'}, {'number': 4, 'created': '2014-08-22 16:22:48.000000000', 'files': ['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e35f0ebc48061e756eac12ec65b2f7a213d8b754', 'message': 'NetScaler LBaaS Driver: enable pool member status refresh\n\nPool Members status will be ACTIVE/UP\nwhen the monitor in the NetScaler backend\nhas detected it is UP and will be\nINACTIVE/Down when the NetScaler\nbackend has detected it is DOWN.\n\nCloses-Bug: #1359890\n\nChange-Id: I50e519890e94f26692d7b1a73a1c6d7a93c20875\n'}]",7,116058,e35f0ebc48061e756eac12ec65b2f7a213d8b754,67,24,4,9461,,,0,"NetScaler LBaaS Driver: enable pool member status refresh

Pool Members status will be ACTIVE/UP
when the monitor in the NetScaler backend
has detected it is UP and will be
INACTIVE/Down when the NetScaler
backend has detected it is DOWN.

Closes-Bug: #1359890

Change-Id: I50e519890e94f26692d7b1a73a1c6d7a93c20875
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/116058/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'],1,099973583df6669b994f38a85f074a5f99cab471,bug/1359890,"import jsonfrom neutron import contextfrom neutron.openstack.common import periodic_task from neutron.openstack.common import serviceDEFAULT_STATUS_COLLECTION = ""True"" DEFAULT_STATUS_COLLECTION_INTERVAL = ""2"" DEFAULT_PAGE_SIZE = ""300"" ), cfg.StrOpt( 'netscaler_status_collection', default=DEFAULT_STATUS_COLLECTION + "","" + DEFAULT_STATUS_COLLECTION_INTERVAL + "","" + DEFAULT_PAGE_SIZE, help=_('Setting for member status collection from\ NetScaler Control Center Server.'),RESOURCE_PREFIX = 'v2.0/lb' STATUS_PREFIX = 'oca/v1' MEMBER_STATUS = 'memberstatus' PAGE = 'page' SIZE = 'size' driver_conf = cfg.CONF.netscaler_driver status_conf = driver_conf.netscaler_status_collection self.enable_status_collection, self.status_collection_interval, self.status_collection_pagesize = status_conf.split("","") if self.enable_status_collection.lower() == ""true"": self.enable_stats_collection = True self.launch_status_collection(self.enable_status_collection, self.status_collection_interval, self.status_collection_pagesize, self.client, self.plugin) else: self.enable_stats_collection = False resource_path = ""%s/%s"" % (RESOURCE_PREFIX, VIPS_RESOURCE) self.client.create_resource(context.tenant_id, resource_path, resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, VIPS_RESOURCE, vip[""id""]) resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, VIPS_RESOURCE, vip[""id""]) resource_path = ""%s/%s"" % (RESOURCE_PREFIX, POOLS_RESOURCE) self.client.create_resource(context.tenant_id, resource_path, resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, POOLS_RESOURCE, old_pool[""id""]) resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, POOLS_RESOURCE, pool['id']) resource_path = ""%s/%s"" % (RESOURCE_PREFIX, POOLMEMBERS_RESOURCE) resource_path, resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, POOLMEMBERS_RESOURCE, old_member[""id""]) resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, POOLMEMBERS_RESOURCE, member['id']) resource_path = ""%s/%s/%s/%s"" % (RESOURCE_PREFIX, POOLS_RESOURCE, pool_id, MONITORS_RESOURCE) resource_path = ""%s/%s/%s"" % (RESOURCE_PREFIX, MONITORS_RESOURCE, resource_path = ""%s/%s/%s/%s/%s"" % (RESOURCE_PREFIX, POOLS_RESOURCE, pool_id, MONITORS_RESOURCE, health_monitor[""id""]) resource_path = ""%s/%s/%s/%s"" % (RESOURCE_PREFIX, POOLS_RESOURCE, pool_id, STATS_RESOURCE) def launch_status_collection(self, enable_status_collection, status_collection_interval, status_collection_pagesize, ncc_client, plugin): class Collectors(periodic_task.PeriodicTasks): @periodic_task.periodic_task(spacing= int(status_collection_interval), enabled=enable_status_collection) def collect_status(self, context): msg = _(""status collection interval: %s"") % ( status_collection_interval) LOG.debug(msg) self._refresh_all_members_status() def _refresh_all_members_status(self): """"""Retrieve poolmember status from the NetScaler device."""""" page_no = 1 while True: resource_path = ""%s/%s"" % (STATUS_PREFIX, MEMBER_STATUS) resource_path = ""%s?%s=%s&%s=%s"" % (resource_path, PAGE, page_no, SIZE, status_collection_pagesize) result = ncc_client.retrieve_resource(""GLOBAL"", resource_path)[1] msg = _(""result is: %s"") % (str(result)) LOG.debug(msg) result['body'] = json.loads(result['body']) statuses = result['body']['statuses'] context_handle = context.get_admin_context() for status in statuses: pool_id = status[""id""] members = status[""memberstatus""] for member in members: member_id = member[""id""] member_status = member[""status""] member_status_desc = member[""status_description""] msg = _(""pool_id: %s member_id: %s "" + ""member_status: %s"") % ( str(pool_id), str(member_id), str(member_status)) LOG.debug(msg) plugin.update_status(context_handle, loadbalancer_db.Member, member_id, member_status, member_status_desc) if (len(statuses) < int(status_collection_pagesize)): return else: page_no += 1 class AsyncStatusCollectorService(service.Service): def start(self): super(AsyncStatusCollectorService, self).start() driver_conf = cfg.CONF.netscaler_driver status_conf = driver_conf.netscaler_status_collection enable_status_collection, status_collection_interval, status_collection_pagesize = status_conf.split("","") self.tg.add_timer( int(status_collection_interval), collectors.run_periodic_tasks, None, None ) collectors = Collectors() svc = AsyncStatusCollectorService() service.launch(svc)"," self.client.create_resource(context.tenant_id, VIPS_RESOURCE, resource_path = ""%s/%s"" % (VIPS_RESOURCE, vip[""id""]) resource_path = ""%s/%s"" % (VIPS_RESOURCE, vip[""id""]) self.client.create_resource(context.tenant_id, POOLS_RESOURCE, resource_path = ""%s/%s"" % (POOLS_RESOURCE, old_pool[""id""]) resource_path = ""%s/%s"" % (POOLS_RESOURCE, pool['id']) POOLMEMBERS_RESOURCE, resource_path = ""%s/%s"" % (POOLMEMBERS_RESOURCE, old_member[""id""]) resource_path = ""%s/%s"" % (POOLMEMBERS_RESOURCE, member['id']) resource_path = ""%s/%s/%s"" % (POOLS_RESOURCE, pool_id, MONITORS_RESOURCE) resource_path = ""%s/%s"" % (MONITORS_RESOURCE, resource_path = ""%s/%s/%s/%s"" % (POOLS_RESOURCE, pool_id, MONITORS_RESOURCE, health_monitor[""id""]) resource_path = ""%s/%s"" % (pool_id, STATS_RESOURCE)",128,16
openstack%2Fneutron~master~I07ac1a618f158bf1cd2356d6274006077dd371e3,openstack/neutron,master,I07ac1a618f158bf1cd2356d6274006077dd371e3,"NetScaler LBaaS driver does not need to create SNAT port, it is now done by the middleware NetScaler Control Center. Closes-Bug: #1359889",ABANDONED,2014-08-21 18:05:50.000000000,2015-01-27 00:02:53.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7249}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9897}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-21 18:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef676333811c000b502788a1f993f8b33f2e6c13', 'message': 'NetScaler LBaaS driver does not need to create SNAT port, it\nis now done by the middleware NetScaler Control Center.\nCloses-Bug: #1359889\n\nChange-Id: I07ac1a618f158bf1cd2356d6274006077dd371e3\n'}, {'number': 2, 'created': '2014-08-21 18:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d99d6f1223586459f052bb55af7f6ef817ff019', 'message': 'NetScaler LBaaS driver does not need to create SNAT port, it\nis now done by the middleware NetScaler Control Center.\nCloses-Bug: #1359889\n\nChange-Id: I07ac1a618f158bf1cd2356d6274006077dd371e3\n'}, {'number': 3, 'created': '2014-08-22 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45e242cc4dd03414855de9c5117e1830d6156142', 'message': 'NetScaler LBaaS driver does not need to create SNAT port, it\nis now done by the middleware NetScaler Control Center.\nCloses-Bug: #1359889\n\nChange-Id: I07ac1a618f158bf1cd2356d6274006077dd371e3\n'}, {'number': 4, 'created': '2014-08-22 16:01:38.000000000', 'files': ['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/23442dfc0501ffe1d281fcbebf9e3f71da6db9f9', 'message': 'NetScaler LBaaS driver does not need to create SNAT port, it\nis now done by the middleware NetScaler Control Center.\nCloses-Bug: #1359889\n\nChange-Id: I07ac1a618f158bf1cd2356d6274006077dd371e3\n'}]",2,116052,23442dfc0501ffe1d281fcbebf9e3f71da6db9f9,72,25,4,9461,,,0,"NetScaler LBaaS driver does not need to create SNAT port, it
is now done by the middleware NetScaler Control Center.
Closes-Bug: #1359889

Change-Id: I07ac1a618f158bf1cd2356d6274006077dd371e3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/116052/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'],1,ef676333811c000b502788a1f993f8b33f2e6c13,bug/1359889,," #allocate a snat port/ipaddress on the subnet if one doesn't exist self._create_snatport_for_subnet_if_not_exists(context, pool['tenant_id'], pool['subnet_id'], network_info) self._remove_snatport_for_subnet_if_not_used(context, pool['tenant_id'], pool['subnet_id']) def _create_snatport_for_subnet(self, context, tenant_id, subnet_id, ip_address): subnet = self.plugin._core_plugin.get_subnet(context, subnet_id) fixed_ip = {'subnet_id': subnet['id']} if ip_address and ip_address != attributes.ATTR_NOT_SPECIFIED: fixed_ip['ip_address'] = ip_address port_data = { 'tenant_id': tenant_id, 'name': '_lb-snatport-' + subnet_id, 'network_id': subnet['network_id'], 'mac_address': attributes.ATTR_NOT_SPECIFIED, 'admin_state_up': False, 'device_id': '_lb-snatport-' + subnet_id, 'device_owner': DRIVER_NAME, 'fixed_ips': [fixed_ip], } port = self.plugin._core_plugin.create_port(context, {'port': port_data}) msg = _(""Created SNAT port: %s"") % repr(port) LOG.info(msg) return port def _remove_snatport_for_subnet(self, context, tenant_id, subnet_id): port = self._get_snatport_for_subnet(context, tenant_id, subnet_id) if port: self.plugin._core_plugin.delete_port(context, port['id']) msg = _(""Removed SNAT port: %s"") % repr(port) LOG.info(msg) def _create_snatport_for_subnet_if_not_exists(self, context, tenant_id, subnet_id, network_info): port = self._get_snatport_for_subnet(context, tenant_id, subnet_id) if not port: msg = _(""No SNAT port found for subnet %s."" "" Creating one..."") % subnet_id LOG.info(msg) port = self._create_snatport_for_subnet(context, tenant_id, subnet_id, ip_address=None) network_info['port_id'] = port['id'] network_info['snat_ip'] = port['fixed_ips'][0]['ip_address'] msg = _(""SNAT port: %s"") % repr(port) LOG.info(msg) def _remove_snatport_for_subnet_if_not_used(self, context, tenant_id, subnet_id): pools = self._get_pools_on_subnet(context, tenant_id, subnet_id) if not pools: #No pools left on the old subnet. #We can remove the SNAT port/ipaddress self._remove_snatport_for_subnet(context, tenant_id, subnet_id) msg = _(""Removing SNAT port for subnet %s "" ""as this is the last pool using it..."") % subnet_id LOG.info(msg)",0,62
openstack%2Fneutron~master~Ida40bb447900d97abe0df7d3d96c78f76de64c82,openstack/neutron,master,Ida40bb447900d97abe0df7d3d96c78f76de64c82,NetScaler LBaaS Driver: Fixing URL for stats collection Closes-Bug: #1359869,ABANDONED,2014-08-21 17:58:54.000000000,2015-01-27 00:01:45.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7249}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9897}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-21 17:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ed60345cd62e938f50acba652e008965d038234', 'message': 'Fixing URL for stats collection\nCloses-Bug: #1359869\n\nChange-Id: Ida40bb447900d97abe0df7d3d96c78f76de64c82\n'}, {'number': 2, 'created': '2014-08-22 15:56:06.000000000', 'files': ['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/828dc3042784c7eab23223a4073be57fff563966', 'message': 'NetScaler LBaaS Driver: Fixing URL for stats collection\nCloses-Bug: #1359869\n\nChange-Id: Ida40bb447900d97abe0df7d3d96c78f76de64c82\n'}]",4,116049,828dc3042784c7eab23223a4073be57fff563966,55,25,2,9461,,,0,"NetScaler LBaaS Driver: Fixing URL for stats collection
Closes-Bug: #1359869

Change-Id: Ida40bb447900d97abe0df7d3d96c78f76de64c82
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/116049/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/loadbalancer/drivers/netscaler/netscaler_driver.py'],1,7ed60345cd62e938f50acba652e008965d038234,bug/1359869,"STATS_RESOURCE = 'stats' resource_path = ""%s/%s"" % (pool_id, STATS_RESOURCE) result = self.client.retrieve_resource(context.tenant_id, result['body'] = json.loads(result['body']) stats = result['body']['stats'] ","POOLSTATS_RESOURCE = 'statistics' resource_path = ""%s/%s"" % (POOLSTATS_RESOURCE, pool_id) stats = self.client.retrieve_resource(context.tenant_id,",6,3
openstack%2Fopenstack-ansible~juno~Ic8eb47d7b8668fccd9ba2e44c3b31f96ef374ef8,openstack/openstack-ansible,juno,Ic8eb47d7b8668fccd9ba2e44c3b31f96ef374ef8,Updated all Openstack tags to latest stable upstream tag,ABANDONED,2015-01-26 21:25:11.000000000,2015-01-26 23:53:36.000000000,,"[{'_account_id': 6816}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-26 21:25:11.000000000', 'files': ['rpc_deployment/vars/repo_packages/glance.yml', 'rpc_deployment/vars/repo_packages/heat.yml', 'rpc_deployment/vars/repo_packages/horizon.yml', 'rpc_deployment/vars/repo_packages/nova.yml', 'rpc_deployment/vars/repo_packages/cinder.yml', 'rpc_deployment/vars/repo_packages/keystone.yml', 'rpc_deployment/vars/repo_packages/neutron.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9126c7846ee896d96867c7686309a780f259e80', 'message': 'Updated all Openstack tags to latest stable upstream tag\n\nThis update updates all of the Openstack tags to 2014.2.1 where applicable.\nThis change is targeted to 10.1.2 and will resolve the issue with upgrades\nfrom ""9.0.x"" to ""10.1.x"".\n\nChange-Id: Ic8eb47d7b8668fccd9ba2e44c3b31f96ef374ef8\nCloses-Bug: #1412597\n'}]",0,150151,f9126c7846ee896d96867c7686309a780f259e80,4,2,1,7353,,,0,"Updated all Openstack tags to latest stable upstream tag

This update updates all of the Openstack tags to 2014.2.1 where applicable.
This change is targeted to 10.1.2 and will resolve the issue with upgrades
from ""9.0.x"" to ""10.1.x"".

Change-Id: Ic8eb47d7b8668fccd9ba2e44c3b31f96ef374ef8
Closes-Bug: #1412597
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/150151/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/glance.yml', 'rpc_deployment/vars/repo_packages/heat.yml', 'rpc_deployment/vars/repo_packages/horizon.yml', 'rpc_deployment/vars/repo_packages/nova.yml', 'rpc_deployment/vars/repo_packages/cinder.yml', 'rpc_deployment/vars/repo_packages/keystone.yml', 'rpc_deployment/vars/repo_packages/neutron.yml']",7,f9126c7846ee896d96867c7686309a780f259e80,bug/1412597,git_install_branch: 2014.2.1,git_install_branch: 2014.2,7,7
openstack%2Freviewstats~master~I59ed9dd447f7a8d4abd03a0eb490704952b79a3d,openstack/reviewstats,master,I59ed9dd447f7a8d4abd03a0eb490704952b79a3d,Update Neutron cores,MERGED,2015-01-23 05:18:36.000000000,2015-01-26 23:46:01.000000000,2015-01-26 23:46:01.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 6609}]","[{'number': 1, 'created': '2015-01-23 05:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/bef62f377ea9cb3cc85f4096802d107dc31404aa', 'message': 'Update Neutron cores\n\nRemove Sumit Naiksatam and add Doug Wiegley.\n\nChange-Id: I59ed9dd447f7a8d4abd03a0eb490704952b79a3d\n'}, {'number': 2, 'created': '2015-01-23 15:34:29.000000000', 'files': ['projects/neutron.json'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/ad1217dd818867e48c401d7ec552beaf6bb8e332', 'message': 'Update Neutron cores\n\nRemove Sumit Naiksatam and add Doug Wiegley.\n\nChange-Id: I59ed9dd447f7a8d4abd03a0eb490704952b79a3d\n'}]",0,149499,ad1217dd818867e48c401d7ec552beaf6bb8e332,11,5,2,105,,,0,"Update Neutron cores

Remove Sumit Naiksatam and add Doug Wiegley.

Change-Id: I59ed9dd447f7a8d4abd03a0eb490704952b79a3d
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/99/149499/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/neutron.json'],1,bef62f377ea9cb3cc85f4096802d107dc31404aa,new-cores," ""dougwig"","," ""snaiksat""",1,1
openstack%2Fneutron~master~Iaee934646c9da7d32968406a583a5718fffc893b,openstack/neutron,master,Iaee934646c9da7d32968406a583a5718fffc893b,Scope secgroup rpc api using a messaging namespace,MERGED,2015-01-22 20:32:40.000000000,2015-01-26 23:40:05.000000000,2015-01-26 19:45:27.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6788}, {'_account_id': 7293}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 20:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d42a0a0989006727c398f2e4055fd91e48fb7557', 'message': ""Scope secgroup rpc api using a messaging namespace\n\nThis patch scopes the plugin to agent security group rpc interface\nusing a messaging namespace.  Right now some plugins expose several\ninterfaces via the default namespace.  This effectively means they are\na single API and should be managed with a single version stream.  It's\nmuch more managable to just treat these as separate interfaces and\nthis change makes that explicit and functionally true.  Now when a\nmethod is invoked, the only classes considered for handling that\nrequest will be ones marked with the right namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iaee934646c9da7d32968406a583a5718fffc893b\n""}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c1d7fbbe9e09a9433b25e34732901ecbe8b050f', 'message': ""Scope secgroup rpc api using a messaging namespace\n\nThis patch scopes the plugin to agent security group rpc interface\nusing a messaging namespace.  Right now some plugins expose several\ninterfaces via the default namespace.  This effectively means they are\na single API and should be managed with a single version stream.  It's\nmuch more managable to just treat these as separate interfaces and\nthis change makes that explicit and functionally true.  Now when a\nmethod is invoked, the only classes considered for handling that\nrequest will be ones marked with the right namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iaee934646c9da7d32968406a583a5718fffc893b\n""}, {'number': 3, 'created': '2015-01-23 13:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80e41c88f3e1fc2fe4e4f6604c7581f97c3b654b', 'message': ""Scope secgroup rpc api using a messaging namespace\n\nThis patch scopes the agent to plugin security group rpc interface\nusing a messaging namespace.  Right now some plugins expose several\ninterfaces via the default namespace.  This effectively means they are\na single API and should be managed with a single version stream.  It's\nmuch more managable to just treat these as separate interfaces and\nthis change makes that explicit and functionally true.  Now when a\nmethod is invoked, the only classes considered for handling that\nrequest will be ones marked with the right namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iaee934646c9da7d32968406a583a5718fffc893b\n""}, {'number': 4, 'created': '2015-01-23 18:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e24588df2cb18e058bba1ab7b54effb6bea1b45', 'message': ""Scope secgroup rpc api using a messaging namespace\n\nThis patch scopes the agent to plugin security group rpc interface\nusing a messaging namespace.  Right now some plugins expose several\ninterfaces via the default namespace.  This effectively means they are\na single API and should be managed with a single version stream.  It's\nmuch more managable to just treat these as separate interfaces and\nthis change makes that explicit and functionally true.  Now when a\nmethod is invoked, the only classes considered for handling that\nrequest will be ones marked with the right namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iaee934646c9da7d32968406a583a5718fffc893b\n""}, {'number': 5, 'created': '2015-01-26 13:07:57.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f6e93ea7d070715a14e80083a769c115fb1b62d', 'message': ""Scope secgroup rpc api using a messaging namespace\n\nThis patch scopes the agent to plugin security group rpc interface\nusing a messaging namespace.  Right now some plugins expose several\ninterfaces via the default namespace.  This effectively means they are\na single API and should be managed with a single version stream.  It's\nmuch more managable to just treat these as separate interfaces and\nthis change makes that explicit and functionally true.  Now when a\nmethod is invoked, the only classes considered for handling that\nrequest will be ones marked with the right namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iaee934646c9da7d32968406a583a5718fffc893b\n""}]",2,149390,8f6e93ea7d070715a14e80083a769c115fb1b62d,91,26,5,1561,,,0,"Scope secgroup rpc api using a messaging namespace

This patch scopes the agent to plugin security group rpc interface
using a messaging namespace.  Right now some plugins expose several
interfaces via the default namespace.  This effectively means they are
a single API and should be managed with a single version stream.  It's
much more managable to just treat these as separate interfaces and
this change makes that explicit and functionally true.  Now when a
method is invoked, the only classes considered for handling that
request will be ones marked with the right namespace.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Iaee934646c9da7d32968406a583a5718fffc893b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/149390/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",3,d42a0a0989006727c398f2e4055fd91e48fb7557,bp/rpc-docs-and-namespaces,"from neutron.common import constants target = messaging.Target(version='1.2', namespace=constants.RPC_NAMESPACE_SECGROUP)", target = messaging.Target(version='1.2'),8,2
openstack%2Fneutron~master~I33b8bff78fd9ca0223c5e48713f7e8f2db026752,openstack/neutron,master,I33b8bff78fd9ca0223c5e48713f7e8f2db026752,Use DVRServerRpcApi instead of a mixin,MERGED,2015-01-23 19:49:11.000000000,2015-01-26 23:38:25.000000000,2015-01-26 19:45:43.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7743}, {'_account_id': 9077}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-23 19:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bccec309bafadb861af31b789dabb62e1ac17d94', 'message': 'Use DVRServerRpcApi instead of a mixin\n\nReplace DVRServerRpcApiMixin with a standalone rpc client class,\nDVRServerRpcApi.  Also convert the one user of this code (the ovs\nagent) to use it.  This is a prerequisite to being able to put this\nrpc interface into a messaging namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I33b8bff78fd9ca0223c5e48713f7e8f2db026752\n'}, {'number': 2, 'created': '2015-01-26 13:07:57.000000000', 'files': ['neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dca257646aa55f656e4bfdc52af44c21aac4fe0', 'message': 'Use DVRServerRpcApi instead of a mixin\n\nReplace DVRServerRpcApiMixin with a standalone rpc client class,\nDVRServerRpcApi.  Also convert the one user of this code (the ovs\nagent) to use it.  This is a prerequisite to being able to put this\nrpc interface into a messaging namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I33b8bff78fd9ca0223c5e48713f7e8f2db026752\n'}]",0,149734,4dca257646aa55f656e4bfdc52af44c21aac4fe0,41,21,2,1561,,,0,"Use DVRServerRpcApi instead of a mixin

Replace DVRServerRpcApiMixin with a standalone rpc client class,
DVRServerRpcApi.  Also convert the one user of this code (the ovs
agent) to use it.  This is a prerequisite to being able to put this
rpc interface into a messaging namespace.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I33b8bff78fd9ca0223c5e48713f7e8f2db026752
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/149734/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",2,bccec309bafadb861af31b789dabb62e1ac17d94,bp/rpc-docs-and-namespaces,"class OVSPluginApi(agent_rpc.PluginApi): self.dvr_plugin_rpc, self.dvr_plugin_rpc = dvr_rpc.DVRServerRpcApi(topics.PLUGIN)","class OVSPluginApi(agent_rpc.PluginApi, dvr_rpc.DVRServerRpcApiMixin): self.plugin_rpc,",8,4
openstack%2Fmagnum~master~I696d89181b13bb97171cc6224a629b7b3dcb9fed,openstack/magnum,master,I696d89181b13bb97171cc6224a629b7b3dcb9fed,Make db-manage instructions same as usage,MERGED,2015-01-26 01:04:03.000000000,2015-01-26 23:33:01.000000000,2015-01-26 23:32:58.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-26 01:04:03.000000000', 'files': ['magnum/db/sqlalchemy/alembic/README'], 'web_link': 'https://opendev.org/openstack/magnum/commit/52131ecb76ce0b46ea032c11af56ff7d829b240a', 'message': 'Make db-manage instructions same as usage\n\ncorrect the doc usage, as some options parameter not right\nor miss\n\nChange-Id: I696d89181b13bb97171cc6224a629b7b3dcb9fed\n'}]",0,149901,52131ecb76ce0b46ea032c11af56ff7d829b240a,7,3,1,7049,,,0,"Make db-manage instructions same as usage

correct the doc usage, as some options parameter not right
or miss

Change-Id: I696d89181b13bb97171cc6224a629b7b3dcb9fed
",git fetch https://review.opendev.org/openstack/magnum refs/changes/01/149901/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/db/sqlalchemy/alembic/README'],1,52131ecb76ce0b46ea032c11af56ff7d829b240a,fixdoc,"$ magnum-db-manage revision --message ""description of revision"" --autogenerate$ magnum-db-manage stamp head$ magnum-db-manage upgrade head$ magnum-db-manage downgrade base",$ magnum-db-manage revision --message --autogenerate$ magnum-db-manage stamp --revision head# magnum-db-manage upgrade --revision head$ magnum-db-manage downgrade --revision base,4,4
openstack%2Fmagnum~master~I25125eaa1efa86c4c66ee1dbe68f0545ffeba593,openstack/magnum,master,I25125eaa1efa86c4c66ee1dbe68f0545ffeba593,Fix the stamp parameter in db-manage,MERGED,2015-01-26 01:29:24.000000000,2015-01-26 23:29:55.000000000,2015-01-26 23:29:55.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-26 01:29:24.000000000', 'files': ['magnum/cmd/db_manage.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/84e73e5a9a69f09cbfaeed7dfb899a623c36cb97', 'message': 'Fix the stamp parameter in db-manage\n\nCloses-Bug: #1414521\nChange-Id: I25125eaa1efa86c4c66ee1dbe68f0545ffeba593\n'}]",0,149903,84e73e5a9a69f09cbfaeed7dfb899a623c36cb97,7,3,1,7049,,,0,"Fix the stamp parameter in db-manage

Closes-Bug: #1414521
Change-Id: I25125eaa1efa86c4c66ee1dbe68f0545ffeba593
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/149903/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/cmd/db_manage.py'],1,84e73e5a9a69f09cbfaeed7dfb899a623c36cb97,fixstamp, parser.add_argument('revision')," parser.add_argument('revision', nargs='?')",1,1
openstack%2Fneutron~master~I1f2a1de4cb7c29724e2354577f915a48173a1966,openstack/neutron,master,I1f2a1de4cb7c29724e2354577f915a48173a1966,Extract l2pop/DVR controller logic to common method,MERGED,2014-12-11 17:42:51.000000000,2015-01-26 23:26:53.000000000,2015-01-26 23:26:52.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2888}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 7921}, {'_account_id': 8873}, {'_account_id': 9361}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-11 17:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c031396a5ac440f5149f087dd202850b51d99a5', 'message': 'Extract l2pop/DVR controller logic to common method\n\nRegular ports and DVR ports are treated almost the same, extract the\nl2pop logic to treat them to a unified method that gets an argument if\nthe FDB entries are needed or not, in order to reduce code duplication.\n\nChange-Id: I1f2a1de4cb7c29724e2354577f915a48173a1966\n'}, {'number': 2, 'created': '2015-01-06 12:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63fa89cac3c1802670b3f0bbf5cfe1e778a8a3ec', 'message': 'Extract l2pop/DVR controller logic to common method\n\nRegular ports and DVR ports are treated almost the same, extract the\nl2pop logic to treat them to a unified method that gets an argument if\nthe FDB entries are needed or not, in order to reduce code duplication.\n\nChange-Id: I1f2a1de4cb7c29724e2354577f915a48173a1966\n'}, {'number': 3, 'created': '2015-01-15 11:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af49e8c26b643f678db30e7c5cac1da658b4a0c7', 'message': 'Extract l2pop/DVR controller logic to common method\n\nRegular ports and DVR ports are treated almost the same, extract the\nl2pop logic to treat them to a unified method that gets an argument if\nthe FDB entries are needed or not, in order to reduce code duplication.\n\nChange-Id: I1f2a1de4cb7c29724e2354577f915a48173a1966\n'}, {'number': 4, 'created': '2015-01-26 12:01:12.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/ml2/drivers/test_l2population.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86a6639294dd3c8f5315085c860b9950f8639ede', 'message': 'Extract l2pop/DVR controller logic to common method\n\nRegular ports and DVR ports are treated almost the same, extract the\nl2pop logic to treat them to a unified method that gets an argument if\nthe FDB entries are needed or not, in order to reduce code duplication.\n\nChange-Id: I1f2a1de4cb7c29724e2354577f915a48173a1966\n'}]",8,141112,86a6639294dd3c8f5315085c860b9950f8639ede,84,28,4,7921,,,0,"Extract l2pop/DVR controller logic to common method

Regular ports and DVR ports are treated almost the same, extract the
l2pop logic to treat them to a unified method that gets an argument if
the FDB entries are needed or not, in order to reduce code duplication.

Change-Id: I1f2a1de4cb7c29724e2354577f915a48173a1966
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/141112/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/l2pop/mech_driver.py'],1,7c031396a5ac440f5149f087dd202850b51d99a5,bug/1365476," self._create_agent_port_list(nondvr_network_ports, agent_host, ports, True) self._create_agent_port_list(dvr_network_ports, agent_host, ports) def _create_agent_port_list(self, network_ports, agent_host, ports, add_fdb_entries=False): for network_port in network_ports: binding, agent = network_port if agent.host == agent_host: continue ip = self.get_agent_ip(agent) if not ip: LOG.debug(""Unable to retrieve the agent ip, check "" ""the agent %(agent_host)s configuration."", {'agent_host': agent.host}) continue agent_ports = ports.get(ip, [const.FLOODING_ENTRY]) if add_fdb_entries: agent_ports += self._get_port_fdb_entries(binding.port) ports[ip] = agent_ports "," for network_port in nondvr_network_ports: binding, agent = network_port if agent.host == agent_host: continue ip = self.get_agent_ip(agent) if not ip: LOG.debug(""Unable to retrieve the agent ip, check "" ""the agent %(agent_host)s configuration."", {'agent_host': agent.host}) continue agent_ports = ports.get(ip, [const.FLOODING_ENTRY]) agent_ports += self._get_port_fdb_entries(binding.port) ports[ip] = agent_ports for network_port in dvr_network_ports: binding, agent = network_port if agent.host == agent_host: continue ip = self.get_agent_ip(agent) if not ip: LOG.debug(""Unable to retrieve the agent ip, check "" ""the agent %(agent_host)s configuration."", {'agent_host': agent.host}) continue agent_ports = ports.get(ip, [const.FLOODING_ENTRY]) ports[ip] = agent_ports",24,29
openstack%2Fneutron~master~Icb1a016f4661e427cb6cfa3452802ba5e64b7124,openstack/neutron,master,Icb1a016f4661e427cb6cfa3452802ba5e64b7124,ML2: Driver API changes for hierarchical port binding,MERGED,2014-08-18 21:02:06.000000000,2015-01-26 23:19:58.000000000,2015-01-26 23:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 107}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1689}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6558}, {'_account_id': 6598}, {'_account_id': 6694}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9093}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12737}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-08-18 21:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9006df65ee9b8e7c46d64c222b18881f0477abf9', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in one or more dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 2, 'created': '2014-08-21 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56cb3aee897f18eb72dac3e6c3eb8a65f11df31a', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 3, 'created': '2014-08-24 19:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d976911eac92a8c373014b340e0efe4f712b9874', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 4, 'created': '2014-08-25 16:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61f5ff0bf88e472ed8b9cc12ca8b0bd71b404ccb', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 5, 'created': '2014-08-25 19:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38acadd14422157ad8060a88fd6edc3793c86319', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 6, 'created': '2014-08-26 03:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f89d34745c03da77ff3d6eddaf7af32d45c21502', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nA fix is temporarily included here for the dynamic segments patch on\nwhich this patch depends, so that unit tests will pass.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 7, 'created': '2014-08-27 02:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/628a2f5b636244d2fb1d636dab89928595d5db3a', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 8, 'created': '2014-08-27 21:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d63bcd657d4d92c52296c1b51ec1e9f00a0ae65c', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 9, 'created': '2014-08-28 13:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddb3c2da77155b979927c7c10c35295dced71154', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 10, 'created': '2014-08-31 21:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adc47b8a2a07de50a881f2ca19c9c64d579d0e2e', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 11, 'created': '2014-09-01 17:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12ee17c9e3c7e48c887d3d9eb2c8399d967e9cb5', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 12, 'created': '2014-09-02 16:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ad7bdef821159de1a08dfe9dcc1507e6a94bcc0', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Change several PortContext properties (bound_segment,\n  original_bound_segment, bound_driver, original_bound_driver) to\n  lists (bound_segments, original_bound_segments, bound_drivers,\n  original_bound_drivers), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 13, 'created': '2014-09-05 22:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b1b175d1fa6f717885e03cd4d70ab382f7a33c3', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment), in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 14, 'created': '2014-09-08 20:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2cd9bfb7752a5cd48509ddf758e685ad3ba9f53', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/106185/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 15, 'created': '2014-12-09 20:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bf71ce7e834bd9ab119bf76bb8e3da9f4c44206', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/139886/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 16, 'created': '2014-12-09 21:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41595a514ffd92ce514aec86685d43ecfbae478c', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/139886/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 17, 'created': '2014-12-10 22:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/496234795c930922cc9d7e3fa8d3814fb0b571f7', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/139886/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 18, 'created': '2015-01-14 20:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ed3def0f6dbe5cc708c6b5236dc2190a1b7e9c5', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/139886/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 19, 'created': '2015-01-15 20:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a5c510649e8593fb0cfecf2085a0be66608224b', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/139886/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}, {'number': 20, 'created': '2015-01-16 00:51:45.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_sriov/mech_driver.py', 'neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'neutron/tests/unit/ml2/drivers/mechanism_logger.py', 'neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py', 'neutron/tests/unit/ml2/drivers/mechanism_test.py', 'neutron/tests/unit/ml2/test_rpcapi.py', 'neutron/plugins/ml2/drivers/cisco/apic/mechanism_apic.py', 'neutron/plugins/ml2/drivers/mech_bigswitch/driver.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/freescale/mechanism_fslsdn.py', 'neutron/plugins/ml2/driver_api.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/tests/unit/ml2/_test_mech_agent.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_nexus.py', 'neutron/plugins/ml2/drivers/mech_nuage/driver.py', 'neutron/tests/unit/ml2/drivers/cisco/apic/test_cisco_apic_mechanism_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d143b710de22cd8c052c02fab7fdb5273ab4a93', 'message': ""ML2: Driver API changes for hierarchical port binding\n\nThe following ML2 driver API changes are required to support\nhierarchical port binding:\n\n* Add segments_to_bind PortContext property containing the list of\n  network segments with which a mechanism driver should try to bind\n  the port. All mechanism drivers that bind ports should now use this\n  property in place of network.network_segments, which contains only\n  the network's static segments.\n\n* Replace several PortContext properties (bound_segment, bound_driver,\n  original_bound_segment, original_bound_driver) with new properties\n  (binding_levels, top_bound_segment, bottom_bound_segment,\n  original_binding_levels, original_top_bound_segment,\n  original_bottom_bound_segment) in order to represent hierarchical\n  bindings.\n\n* Add stubbed-out continue_binding() method to PortContext, allowing\n  mechanism drivers to partially bind the port.\n\nAll existing drivers and unit tests are updated accordingly.\n\nThe DB schema changes and logic required for hierarchical port binding\nwill be implemented in dependent patches.\n\nGerrit Spec: https://review.openstack.org/#/c/139886/\n\nPartially-implements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124\n""}]",45,115110,4d143b710de22cd8c052c02fab7fdb5273ab4a93,531,41,20,1689,,,0,"ML2: Driver API changes for hierarchical port binding

The following ML2 driver API changes are required to support
hierarchical port binding:

* Add segments_to_bind PortContext property containing the list of
  network segments with which a mechanism driver should try to bind
  the port. All mechanism drivers that bind ports should now use this
  property in place of network.network_segments, which contains only
  the network's static segments.

* Replace several PortContext properties (bound_segment, bound_driver,
  original_bound_segment, original_bound_driver) with new properties
  (binding_levels, top_bound_segment, bottom_bound_segment,
  original_binding_levels, original_top_bound_segment,
  original_bottom_bound_segment) in order to represent hierarchical
  bindings.

* Add stubbed-out continue_binding() method to PortContext, allowing
  mechanism drivers to partially bind the port.

All existing drivers and unit tests are updated accordingly.

The DB schema changes and logic required for hierarchical port binding
will be implemented in dependent patches.

Gerrit Spec: https://review.openstack.org/#/c/139886/

Partially-implements: blueprint ml2-hierarchical-port-binding

Change-Id: Icb1a016f4661e427cb6cfa3452802ba5e64b7124
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/115110/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mech_sriov/mech_driver.py', 'neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'neutron/tests/unit/ml2/drivers/mechanism_logger.py', 'neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py', 'neutron/tests/unit/ml2/drivers/mechanism_test.py', 'neutron/plugins/ml2/drivers/cisco/apic/mechanism_apic.py', 'neutron/plugins/ml2/drivers/mech_bigswitch/driver.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/driver_api.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/tests/unit/ml2/_test_mech_agent.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_nexus.py', 'neutron/plugins/ml2/drivers/mechanism_fslsdn.py', 'neutron/tests/unit/ml2/drivers/cisco/apic/test_cisco_apic_mechanism_driver.py']",18,9006df65ee9b8e7c46d64c222b18881f0477abf9,bp/ml2-hierarchical-port-binding, def bound_segments(self): if self._bound_segment: return [self._bound_segment], def bound_segment(self): return self._bound_segment,181,100
openstack%2Foslo.messaging~master~I629ac57ae1e74bb07e5e98ee2fbc21f8421c3c24,openstack/oslo.messaging,master,I629ac57ae1e74bb07e5e98ee2fbc21f8421c3c24,Expose _impl_test for designate,MERGED,2015-01-26 21:49:24.000000000,2015-01-26 23:18:25.000000000,2015-01-26 23:18:25.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2015-01-26 21:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f556f14186b695778423d6ae7916f0cbf9b46c4e', 'message': ""Expose _impl_test for designate\n\nThe previous attempt to do this in\nIde40b293c9b9c76aae094950720cead4179ea883 created a new module\noslo/messaging/notify/_impl_test.py which imported the symbols from\noslo_messaging/notify/_impl_test.py. That doesn't actually work, because\nthe functions to reset the notifications modify the copy of the symbol\nin the oslo_messaging package, but the designate tests are still looking\nat the copy in oslo/messaging.\n\nThis change imports a copy of the module from oslo_messaging in the\noslo/messaging namespace to make certain that the same module object,\nand therefore the same global data structure, is used no matter which\npath the code is accessed.\n\nThe designate team still needs to fix their fixture, but this will let\nus release oslo.messaging without breaking their tests in the mean time.\n\nChange-Id: I629ac57ae1e74bb07e5e98ee2fbc21f8421c3c24\n""}, {'number': 2, 'created': '2015-01-26 21:56:01.000000000', 'files': ['oslo/messaging/notify/_impl_test.py', 'oslo/messaging/notify/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/eb9251173c30013616ae109b5b945e87e5347e18', 'message': ""Expose _impl_test for designate\n\nThe previous attempt to do this in\nIde40b293c9b9c76aae094950720cead4179ea883 created a new module\noslo/messaging/notify/_impl_test.py which imported the symbols from\noslo_messaging/notify/_impl_test.py. That doesn't actually work, because\nthe functions to reset the notifications modify the copy of the symbol\nin the oslo_messaging package, but the designate tests are still looking\nat the copy in oslo/messaging.\n\nThis change imports a copy of the module from oslo_messaging in the\noslo/messaging namespace to make certain that the same module object,\nand therefore the same global data structure, is used no matter which\npath the code is accessed.\n\nThe designate team still needs to fix their fixture, but this will let\nus release oslo.messaging without breaking their tests in the mean time.\n\nPartial-Bug: #1412812\n\nChange-Id: I629ac57ae1e74bb07e5e98ee2fbc21f8421c3c24\n""}]",0,150159,eb9251173c30013616ae109b5b945e87e5347e18,9,3,2,2472,,,0,"Expose _impl_test for designate

The previous attempt to do this in
Ide40b293c9b9c76aae094950720cead4179ea883 created a new module
oslo/messaging/notify/_impl_test.py which imported the symbols from
oslo_messaging/notify/_impl_test.py. That doesn't actually work, because
the functions to reset the notifications modify the copy of the symbol
in the oslo_messaging package, but the designate tests are still looking
at the copy in oslo/messaging.

This change imports a copy of the module from oslo_messaging in the
oslo/messaging namespace to make certain that the same module object,
and therefore the same global data structure, is used no matter which
path the code is accessed.

The designate team still needs to fix their fixture, but this will let
us release oslo.messaging without breaking their tests in the mean time.

Partial-Bug: #1412812

Change-Id: I629ac57ae1e74bb07e5e98ee2fbc21f8421c3c24
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/59/150159/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/notify/_impl_test.py', 'oslo/messaging/notify/__init__.py']",2,f556f14186b695778423d6ae7916f0cbf9b46c4e,bug/1412812,from oslo_messaging.notify import _impl_test,,1,13
openstack%2Fopenstack-manuals~master~I282701721df00d92eba2b4f8421c32262dc2e79c,openstack/openstack-manuals,master,I282701721df00d92eba2b4f8421c32262dc2e79c,Run 'openssl' as non-privileged user,MERGED,2015-01-25 18:32:00.000000000,2015-01-26 23:17:35.000000000,2015-01-26 23:17:32.000000000,"[{'_account_id': 3}, {'_account_id': 6772}, {'_account_id': 9162}, {'_account_id': 9515}, {'_account_id': 14396}]","[{'number': 1, 'created': '2015-01-25 18:32:00.000000000', 'files': ['doc/install-guide/section_ceilometer-controller.xml', 'doc/install-guide/section_keystone-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9e1ea23ba4250ad81c7c8cd9d049b3553173edbe', 'message': ""Run 'openssl' as non-privileged user\n\nChange-Id: I282701721df00d92eba2b4f8421c32262dc2e79c\n""}]",0,149890,9e1ea23ba4250ad81c7c8cd9d049b3553173edbe,9,5,1,167,,,0,"Run 'openssl' as non-privileged user

Change-Id: I282701721df00d92eba2b4f8421c32262dc2e79c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/90/149890/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/section_ceilometer-controller.xml', 'doc/install-guide/section_keystone-install.xml']",2,9e1ea23ba4250ad81c7c8cd9d049b3553173edbe,openssl_non_privileged," <screen os=""ubuntu;rhel;centos;fedora""><prompt>$</prompt> <userinput>openssl rand -hex 10</userinput></screen> <screen os=""sles;opensuse""><prompt>$</prompt> <userinput>openssl rand 10 | hexdump -e '1/1 ""%.2x""'</userinput></screen> <screen><prompt>$</prompt> <userinput>openssl rand -hex 10</userinput></screen>"," <screen os=""ubuntu;rhel;centos;fedora""><prompt>#</prompt> <userinput>openssl rand -hex 10</userinput></screen> <screen os=""sles;opensuse""><prompt>#</prompt> <userinput>openssl rand 10 | hexdump -e '1/1 ""%.2x""'</userinput></screen> <screen><prompt>#</prompt> <userinput>openssl rand -hex 10</userinput></screen>",6,6
openstack%2Fopenstacksdk~master~Ic232fcd93a47fe459c7dc23de548efc86f70c9a2,openstack/openstacksdk,master,Ic232fcd93a47fe459c7dc23de548efc86f70c9a2,Make better support of service versions,MERGED,2015-01-23 16:01:41.000000000,2015-01-26 23:04:50.000000000,2015-01-26 23:04:49.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-23 16:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0a0e0004e49d4fcc275857e1230d04e38bd56795', 'message': 'Make better support of service versions\n\n* Create _get_valid_version method in service filter to\n  iterate through the valid_versions so different modules can\n  be loaded.\n* Update the get_version method to get_version_path and have\n  it use the _get_valid_version method.\n* The service catalog now appends /%(version)s on all endpoints\n  when it is parsing so a version can be appended to unversioned\n  endpoints.\n* The service catalog now always calls filter.get_version_path()\n  to get a path for the service.\n\nPartial-Bug: bug/1391971\n\nChange-Id: Ic232fcd93a47fe459c7dc23de548efc86f70c9a2\n'}, {'number': 2, 'created': '2015-01-23 18:52:46.000000000', 'files': ['openstack/tests/auth/test_service_catalog.py', 'openstack/auth/service_filter.py', 'openstack/tests/auth/common.py', 'openstack/tests/auth/test_service_filter.py', 'openstack/auth/service_catalog.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d0bbb184326234912f0c2d2a474b73075b4829f3', 'message': 'Make better support of service versions\n\n* Create _get_valid_version method in service filter to\n  iterate through the valid_versions so different modules can\n  be loaded.\n* Update the get_version method to get_version_path and have\n  it use the _get_valid_version method.\n* The service catalog now appends /%(version)s on all endpoints\n  when it is parsing so a version can be appended to unversioned\n  endpoints.\n* The service catalog now always calls filter.get_version_path()\n  to get a path for the service.\n\nPartial-Bug: bug/1391971\n\nChange-Id: Ic232fcd93a47fe459c7dc23de548efc86f70c9a2\n'}]",2,149666,d0bbb184326234912f0c2d2a474b73075b4829f3,15,4,2,8736,,,0,"Make better support of service versions

* Create _get_valid_version method in service filter to
  iterate through the valid_versions so different modules can
  be loaded.
* Update the get_version method to get_version_path and have
  it use the _get_valid_version method.
* The service catalog now appends /%(version)s on all endpoints
  when it is parsing so a version can be appended to unversioned
  endpoints.
* The service catalog now always calls filter.get_version_path()
  to get a path for the service.

Partial-Bug: bug/1391971

Change-Id: Ic232fcd93a47fe459c7dc23de548efc86f70c9a2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/66/149666/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/auth/test_service_catalog.py', 'openstack/auth/service_filter.py', 'openstack/tests/auth/common.py', 'openstack/tests/auth/test_service_filter.py', 'openstack/auth/service_catalog.py']",5,0a0e0004e49d4fcc275857e1230d04e38bd56795,validversions, endpoint['url'] = (endpoint['url'].rstrip('/') + '/%(version)s') version = filtration.get_version_path(version) url = url % {'version': version}, endpoint['url'] = endpoint['url'].rstrip('/') if version: version = filtration.get_version(version) url = url % {'version': version},55,26
openstack%2Fneutron~master~I8402079c1992453aaab1f989d70f2c5c37ebc2bd,openstack/neutron,master,I8402079c1992453aaab1f989d70f2c5c37ebc2bd,hyperv: drop useless messaging.Target on HyperVSecurityAgent,MERGED,2015-01-22 19:51:07.000000000,2015-01-26 23:03:40.000000000,2015-01-26 16:28:02.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16e5e3b364de497811e765f6c86a0da7bb55f0fc', 'message': 'hyperv: drop useless messaging.Target on HyperVSecurityAgent\n\nHyperVSecurityAgent includes a messaging.Target() definition.\nHowever, this is unnecessary as this class is not an rpc API endpoint.\nJust remove it.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8402079c1992453aaab1f989d70f2c5c37ebc2bd\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/218da244cd32ee6ddd303b37da756c69590d2101', 'message': 'hyperv: drop useless messaging.Target on HyperVSecurityAgent\n\nHyperVSecurityAgent includes a messaging.Target() definition.\nHowever, this is unnecessary as this class is not an rpc API endpoint.\nJust remove it.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8402079c1992453aaab1f989d70f2c5c37ebc2bd\n'}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1b217b736b58601d8778b45771e11891fa6169f', 'message': 'hyperv: drop useless messaging.Target on HyperVSecurityAgent\n\nHyperVSecurityAgent includes a messaging.Target() definition.\nHowever, this is unnecessary as this class is not an rpc API endpoint.\nJust remove it.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8402079c1992453aaab1f989d70f2c5c37ebc2bd\n'}, {'number': 4, 'created': '2015-01-26 13:07:57.000000000', 'files': ['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05648979b65b0d1010ad750707128e8ff1ffbd8a', 'message': 'hyperv: drop useless messaging.Target on HyperVSecurityAgent\n\nHyperVSecurityAgent includes a messaging.Target() definition.\nHowever, this is unnecessary as this class is not an rpc API endpoint.\nJust remove it.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8402079c1992453aaab1f989d70f2c5c37ebc2bd\n'}]",0,149377,05648979b65b0d1010ad750707128e8ff1ffbd8a,69,21,4,1561,,,0,"hyperv: drop useless messaging.Target on HyperVSecurityAgent

HyperVSecurityAgent includes a messaging.Target() definition.
However, this is unnecessary as this class is not an rpc API endpoint.
Just remove it.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I8402079c1992453aaab1f989d70f2c5c37ebc2bd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/149377/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py'],1,16e5e3b364de497811e765f6c86a0da7bb55f0fc,bp/rpc-docs-and-namespaces,, target = messaging.Target(version='1.1') ,0,2
openstack%2Foslo.vmware~master~Ib3be81df6de7d42067ec69a7a811f6fe5def9241,openstack/oslo.vmware,master,Ib3be81df6de7d42067ec69a7a811f6fe5def9241,Correct usage to oslo_vmware,MERGED,2015-01-26 21:55:57.000000000,2015-01-26 22:52:34.000000000,2015-01-26 22:52:33.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 7400}, {'_account_id': 7575}, {'_account_id': 8302}, {'_account_id': 9008}, {'_account_id': 9172}]","[{'number': 1, 'created': '2015-01-26 21:55:57.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/9ed4d8a7d250bc863a6ddac421b89e337512cbe7', 'message': 'Correct usage to oslo_vmware\n\nThe recently updated usage doc should reference oslo_vmware not\noslo.vmware.\n\nbp/drop-namespace-packages\n\nChange-Id: Ib3be81df6de7d42067ec69a7a811f6fe5def9241\n'}]",0,150160,9ed4d8a7d250bc863a6ddac421b89e337512cbe7,9,9,1,8119,,,0,"Correct usage to oslo_vmware

The recently updated usage doc should reference oslo_vmware not
oslo.vmware.

bp/drop-namespace-packages

Change-Id: Ib3be81df6de7d42067ec69a7a811f6fe5def9241
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/60/150160/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,9ed4d8a7d250bc863a6ddac421b89e337512cbe7,oslo_vmware, from oslo_vmware import api from oslo_vmware import vim_util, from oslo.vmware import api from oslo.vmware import vim_util,2,2
openstack%2Fsahara-specs~master~I019e2b841997de0444ef7222172baa57b7bdb45f,openstack/sahara-specs,master,I019e2b841997de0444ef7222172baa57b7bdb45f,Enable Spark jobs to access Swift URLs,MERGED,2015-01-16 18:44:30.000000000,2015-01-26 22:49:47.000000000,2015-01-26 22:49:46.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7710}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2015-01-16 18:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/020edf014b8fe2ce181ab3787ea4fd7c4fa430b9', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\n Please enter the commit message for your changes. Lines starting\n\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}, {'number': 2, 'created': '2015-01-16 18:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/f4cffc7fdb8344d44ef19fb8fa3bcaf33356c9da', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}, {'number': 3, 'created': '2015-01-16 18:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/81b5f83395ceab534b0b90afedb799e8ada4181b', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\nPartially-Implements: blueprint edp-spark-swift-integration\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}, {'number': 4, 'created': '2015-01-16 18:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/8dc4de882170becb6191acd7a0e29938b391f794', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\nPartially-Implements: blueprint edp-spark-swift-integration\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}, {'number': 5, 'created': '2015-01-21 17:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/f107ea5d9e8e2600e87c648043f4a9f05f583ebd', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\nPartially-Implements: blueprint edp-spark-swift-integration\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}, {'number': 6, 'created': '2015-01-22 17:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/bb42c690709c11074d6010758d3f0a5cdf280ef9', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\nPartially-Implements: blueprint edp-spark-swift-integration\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}, {'number': 7, 'created': '2015-01-22 17:43:43.000000000', 'files': ['specs/kilo/edp-spark-swift-integration.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/55f36c6fdcc757673b12a7cda94eff27d1d2ffa9', 'message': 'Enable Spark jobs to access Swift URLs\n\nSpark uses Hadoop filesystem libraries to dereference input and output URLs.\nConsequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR\nis included in the image and a Spark jobs Hadoop configuration includes the\nnecessary Swift credentials. This specification describes a method of\ntransparently adding Swift credentials to the Hadoop configuration of a Spark\njob so that the job source code does not need to be altered and recompiled to\naccess Swift URLs.\n\nPartially-Implements: blueprint edp-spark-swift-integration\nChange-Id: I019e2b841997de0444ef7222172baa57b7bdb45f\n'}]",6,147949,55f36c6fdcc757673b12a7cda94eff27d1d2ffa9,23,6,7,8091,,,0,"Enable Spark jobs to access Swift URLs

Spark uses Hadoop filesystem libraries to dereference input and output URLs.
Consequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR
is included in the image and a Spark jobs Hadoop configuration includes the
necessary Swift credentials. This specification describes a method of
transparently adding Swift credentials to the Hadoop configuration of a Spark
job so that the job source code does not need to be altered and recompiled to
access Swift URLs.

Partially-Implements: blueprint edp-spark-swift-integration
Change-Id: I019e2b841997de0444ef7222172baa57b7bdb45f
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/49/147949/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/edp-spark-swift-integration.rst'],1,020edf014b8fe2ce181ab3787ea4fd7c4fa430b9,bp/edp-spark-swift-integration,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Enable Spark jobs to access Swift URL ===================================== https://blueprints.launchpad.net/sahara/+spec/edp-spark-swift-integration Spark uses Hadoop filesystem libraries to dereference input and output URLs. Consequently, Spark can access Swift filesystem URLs if the Hadoop Swift JAR is included in the image and a Spark jobs Hadoop configuration includes the necessary Swift credentials. This specification describes a method of transparently adding Swift credentials to the Hadoop configuration of a Spark job so that the job source code does not need to be altered and recompiled to access Swift URLs. Problem description =================== Spark jobs may access Swift URLs assuming the cluster image includes the Hadoop Swift JAR. To do this, the jobs Hadoop configuration must include the necessary Swift credentials (`fs.swift.service.sahara.username` and `fs.swift.service.sahara.password`, for example). As with Oozie Java actions, job source code may be modified and recompiled to add the necessary configuration values to the jobs Hadoop configuration. However, this means that a Spark job which runs successfully with HDFS input and output sources cannot be used as is with Swift input and output sources. Sahara should allow users to run Spark jobs with Swift input and output sources without altering job source code. Proposed change =============== This change follows the approach developed by Kazuki Oikawa in https://blueprints.launchpad.net/sahara/+spec/edp-improve-compatibility for Java compatibility. A new configuration value will be added to Sahara, `edp.spark.adapt_for_swift`. If this configuration value is set to True on a Spark job, Sahara will run a wrapper class instead of the original class indicated by the job. The default for this configuration value will be False. Sahara will generate a `spark.xml` file containing the necessary Swift credentials as Hadoop configuration values. This XML file will be uploaded to the master node with the JAR containing the wrapper class, along with the other files normally needed to execute a Spark job. Saharas Spark launcher script will run the wrapper class instead of the jobs designated main class. The launcher will pass the name of the XML configuration file to the wrapper class at runtime, followed by the name of the original class and any job arguments. The wrapper will add this XML file to the default Hadoop resource list in the jobs configuration before invoking the original class with any arguments. When the jobs main class is run, its default Hadoop configuration will contain the specified Swift credentials. The permissions of the job dir on the master node will be set to 0x700. This will prevent users other than the job dir owner from reading the Swift values from the configuration file. Alternatives ------------ There is no known way to supply Swift credentials to the Hadoop filesystem libraries currently other than through configuration values. Additionally, there is no way to add values to the Hadoop configuration transparently other than through configuration files. This does present some security risk, but it is no greater than the risk already presented by Oozie jobs that include Swift credentials. In fact, this is probaby safer since a user must have direct access to the job directory to read the credentials written by Sahara. Data model impact ----------------- None REST API impact --------------- None Other end user impact --------------------- None Deployer impact --------------- None Developer impact ---------------- None Sahara-image-elements impact ---------------------------- The DIB image for Spark will need to change to include the Hadoop Swift JAR. There is an existing element for this, this is trivial. Additionally, we still need a solution to a compatibility issue with the `jackson-mapper-asl.jar.` This can be patched by including an additional JAR on the cluster nodes, so we can conceivably bundle the extra jar with the Spark image as a patch. Alternatively, the issue might be resolved by upgrading the CDH version (or Spark assembly version) used in the image. Sahara-dashboard / Horizon impact --------------------------------- The Spark job submission form should have an input (checkbox?) which allows a user to set `edp.spark.adapt_for_swift` to True. Default should be False. We dont want to assume that just because Swift paths are passed as arguments to a Spark job that Sahara should run the wrapper. The job itself may handle the Swift paths in its own way. Implementation ============== Assignee(s) ----------- Primary assignee: tmckay Other contributors: croberts Work Items ---------- * Add a simple SparkWrapper class. This is different than the wrapper class developed for Oozie Java actions. * Update Spark image to include the Hadoop Openstack JAR * Find a solution to the jackson issue * Update the UI * Implement handling of the `edp.spark.adapt_for_swift` option in Sahara. This includes generation and upload of the extra XML file, upload of the additional utility jar, and alteration of the command generated to invoke spark-submit * Updated node configuration All nodes in the cluster should include the Hadoop `core-site.xml` with general Swift filesystem configuration. Additionally, spark-env.sh should point to the Hadoop `core-site.xml` so that Spark picks up the Swift configs and `spark-defaults.conf` needs to set up the executor classpath. These changes will allow a user to run Spark jobs with Swift paths manually using `spark-submit` from any node in the cluster should they so choose. Dependencies ============ https://blueprints.launchpad.net/sahara/+spec/edp-improve-compatibility Testing ======= Unit tests and integration tests for Spark jobs will identify any regressions introduced by this change. Once we have Spark images with all necessary elements included, we can add an integration test for Spark with Swift URLs. Documentation Impact ==================== Any user docs describing job submission should be updated to cover the new option for Spark jobs. References ========== ",,185,0
openstack%2Fkeystone-specs~master~I83c6316b05d22bce19aa59460271db295c0c559f,openstack/keystone-specs,master,I83c6316b05d22bce19aa59460271db295c0c559f,registry of token formats.,ABANDONED,2014-12-18 17:15:39.000000000,2015-01-26 22:24:18.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}]","[{'number': 1, 'created': '2014-12-18 17:15:39.000000000', 'files': ['api/v3/identity-api-v3-token-formats.md'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/7702693363b7d44fb52c4757a142717368ad5903', 'message': 'registry of token formats.\n\nChange-Id: I83c6316b05d22bce19aa59460271db295c0c559f\n'}]",4,142847,7702693363b7d44fb52c4757a142717368ad5903,4,2,1,2218,,,0,"registry of token formats.

Change-Id: I83c6316b05d22bce19aa59460271db295c0c559f
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/47/142847/1 && git format-patch -1 --stdout FETCH_HEAD,['api/v3/identity-api-v3-token-formats.md'],1,7702693363b7d44fb52c4757a142717368ad5903,token-formats,"OpenStack Identity API v3 token formats ======================================= The Identity API supports multiple token formats. Applications should treat the tokens as opaque references to remote objects. However, since implementations of token parsing must be language agnostic, the various token formats are documented here. # Historical Formats ## UUID Tokens A UUID token is the oldest format, and has no identifying data in it. A UUID token looks like this: e60191a29486420f96b7d660a5421aab ## ASN1 Tokens The first form of tokens to contain a format identifier are tokens that contain all of the data from the token validation response. The JSON document is converted into a Crypto Message Syntax (CMS) encoded document which is base64 encoded. The non URL safe `/` chracter in the encoded form is replaced with the URL safe `-` character. The '-----BEGIN CMS-----' and '-----END CMS-----' delimeters are removed, as are any line breaks. The CMS format uses ASN1 as an intermediate format. ASN1 encodes field lengths included the length of the overall message. For PKI tokens, the lengths, once Base64 encode, lead to the message starting with the string 'MII'. This artifact was used as a token format identifier. ## PKIZ The Data encoded in the token quickly expanded to sizes that were impractical to transmit in headers. The first attempt to minimize the token size was to compress the tokens. To distinguish these tokens from the earlier format, the format identifier `PKIZ` is prepended to these tokens. # Token Naming conventions In order to support multiple token formats without each one coming up with an ad-hoc naming scheme, tokens will contain the following naming scheme prefix. The following prefix identifies the token as an OpenStack Identity API Authorization token. `OSAUTHZ` The next 4 characters will be the Hexidecimal representation of the token format. Thus the formats will range from `OSAUTHZ0000` to `OSAUTHZFFFF` The table below contains the registered Token formats. OSAUTHZ0000 : UUID token. Replaces the UUID token format OSAUTHZ0001 : ASN1 token. Replaces the ASN1 format indicator OSAUTHZ0002 : PKIZ token. Replaces the PKIZ_ format indicator All historical formats are depricated and should be replaced with the values above. ",,62,0
openstack%2Fceilometer~master~Ie64a537434493a5965c8e9e165cf028d57689da2,openstack/ceilometer,master,Ie64a537434493a5965c8e9e165cf028d57689da2,Use alarm's evaluation periods in sufficient test,MERGED,2014-10-31 01:23:49.000000000,2015-01-26 22:18:58.000000000,2015-01-26 22:18:56.000000000,"[{'_account_id': 3}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 6873}, {'_account_id': 6924}, {'_account_id': 7729}, {'_account_id': 8435}, {'_account_id': 8871}, {'_account_id': 10721}, {'_account_id': 10987}, {'_account_id': 12927}, {'_account_id': 13273}, {'_account_id': 14049}]","[{'number': 1, 'created': '2014-10-31 01:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/09a1bff585096be66c6fd4ea4c0d4ba1ea515bf6', 'message': ""Use alarm's evaluation periods in sufficient test\n\nCurrently, we use constant value quorum=1 to check if datapoints\nis enough or not, however, this is not quite right to alarm rule.\n\nImage evaluation periods is set to, for i.e., 3 for an instance on\ncpu_util greater or equal than 80%, here are the cases which current\nmay not work as expected:\n\n1. when system start or instance is just created, we may only get one\nor two samples for the instance\n2. when system is somewhere broken, or instance is restart (which will\nbe shutoff), sample may fail to be collected in some time, so we only\nget one or two sample in that time range\n\nTo avoid data peak, for i.e, instance cpu_util may be 50%, 50%, 50%, 90%,\nin such case, alarm will not be triggered, but if instance cpu_util\nis None, None, None, 90%, current code will think alarm should be triggered,\nwhich is not consistent and may confuse end users.\n\nThis patch will put alarm to insufficient data when datapoints are less\nthan evaluation periods.\n\nChange-Id: Ie64a537434493a5965c8e9e165cf028d57689da2\nCloses-Bug: #1380216\n""}, {'number': 2, 'created': '2015-01-15 12:47:19.000000000', 'files': ['ceilometer/tests/alarm/evaluator/test_threshold.py', 'ceilometer/alarm/evaluator/threshold.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/553d8d96e60cf354406568ed7dd4c563e768e4d0', 'message': ""Use alarm's evaluation periods in sufficient test\n\nCurrently, we use constant value quorum=1 to check if there are enough\ndatapoints, however, this is not quite right for an alarm rule.\n\nImage evaluation periods is set to, for i.e., 3 for an instance on\ncpu_util greater or equal than 80%. Here are the cases which current\nmay not work as expected:\n\n1. when system start or instance is just created, we may only get one\nor two samples for the instance\n2. when system is somewhere broken, or an instance is restarted (after\nbeing shutoff), sample may fail to be collected in some time, so we only\nget one or two sample in that time range\n\nWe want to avoid a spurious data peak, for example, instance cpu_util can\nbe 50%, 50%, 50%, 90%, in such case, alarm will not be triggered, but if\ninstance cpu_util is None, None, None, 90%, current code will think alarm\nshould be triggered, which is not consistent and may confuse end users.\n\nThis patch will put alarm to insufficient data when datapoints are less\nthan evaluation periods.\n\nChange-Id: Ie64a537434493a5965c8e9e165cf028d57689da2\nCloses-Bug: #1380216\n""}]",13,132146,553d8d96e60cf354406568ed7dd4c563e768e4d0,24,14,2,6676,,,0,"Use alarm's evaluation periods in sufficient test

Currently, we use constant value quorum=1 to check if there are enough
datapoints, however, this is not quite right for an alarm rule.

Image evaluation periods is set to, for i.e., 3 for an instance on
cpu_util greater or equal than 80%. Here are the cases which current
may not work as expected:

1. when system start or instance is just created, we may only get one
or two samples for the instance
2. when system is somewhere broken, or an instance is restarted (after
being shutoff), sample may fail to be collected in some time, so we only
get one or two sample in that time range

We want to avoid a spurious data peak, for example, instance cpu_util can
be 50%, 50%, 50%, 90%, in such case, alarm will not be triggered, but if
instance cpu_util is None, None, None, 90%, current code will think alarm
should be triggered, which is not consistent and may confuse end users.

This patch will put alarm to insufficient data when datapoints are less
than evaluation periods.

Change-Id: Ie64a537434493a5965c8e9e165cf028d57689da2
Closes-Bug: #1380216
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/46/132146/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/alarm/evaluator/test_threshold.py', 'ceilometer/alarm/evaluator/threshold.py']",2,09a1bff585096be66c6fd4ea4c0d4ba1ea515bf6,bug/1380216," sufficient = len(statistics) >= alarm.rule['evaluation_periods'] if not sufficient and alarm.state != evaluator.UNKNOWN: LOG.warn(_('Expecting %(expected)d datapoints but only get ' '%(actual)d') % { 'expected': alarm.rule['evaluation_periods'], 'actual': len(statistics)}) # Reason is not same as log message because we want to keep # consistent since thirdparty software may depend on old format. last = None if not statistics else ( getattr(statistics[-1], alarm.rule['statistic'])) last)", # minimum number of datapoints within sliding window to # avoid unknown state quorum = 1 sufficient = len(statistics) >= self.quorum if not sufficient and alarm.state != evaluator.UNKNOWN: None),37,7
openstack%2Fhorizon~master~I4d7d5752ad9faefd8128bbc8ea9f817e777be42f,openstack/horizon,master,I4d7d5752ad9faefd8128bbc8ea9f817e777be42f,Breakdown CSS: Horizon Charts,ABANDONED,2014-07-21 21:23:47.000000000,2015-01-26 22:16:47.000000000,,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 9659}, {'_account_id': 10295}]","[{'number': 1, 'created': '2014-07-21 21:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/162dac7d9114131f25127289c67e31951423b213', 'message': ""Breakdown CSS: pull varaibles from horizon charts\n\nThe horizon_charts.scss file should have it's variables pulled out and\nput into the _variables.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 2, 'created': '2014-07-22 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/498b1db4e523024c2df50b7f6f12b3270b9ecc25', 'message': 'Breakdown CSS: Horizon Charts\n\nCleaned up the horizon_charts.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 3, 'created': '2014-07-31 14:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/09433d7c423d85c458ea0762f0854d8e863cbb41', 'message': 'Breakdown CSS: Horizon Charts\n\nCleaned up the horizon_charts.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 4, 'created': '2014-08-25 16:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cce59e1494c8add895b72440adf451f8c8b7436c', 'message': 'Breakdown CSS: Horizon Charts\n\nCleaned up the horizon_charts.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 5, 'created': '2014-08-28 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8702dd2bd3a5e66c7111db8e7958edb7a960e007', 'message': 'Breakdown CSS: Horizon Charts\n\nCleaned up the horizon_charts.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 6, 'created': '2014-08-29 15:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/79ec1dddc9367eb15f567c50dba8ab4e46a4e3e4', 'message': 'Breakdown CSS: Horizon Charts\n\nCleaned up the horizon_charts.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 7, 'created': '2014-09-08 14:53:17.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/horizon_charts.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e953c2590c6e88f2a402785ab8707e12ce18216d', 'message': 'Breakdown CSS: Horizon Charts\n\nCleaned up the horizon_charts.scss file.\n\nChange-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f\nPartially-Implements: blueprint css-breakdown\n'}]",5,108500,e953c2590c6e88f2a402785ab8707e12ce18216d,34,4,7,9659,,,0,"Breakdown CSS: Horizon Charts

Cleaned up the horizon_charts.scss file.

Change-Id: I4d7d5752ad9faefd8128bbc8ea9f817e777be42f
Partially-Implements: blueprint css-breakdown
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/108500/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/dashboard/scss/horizon_charts.scss', 'openstack_dashboard/static/dashboard/scss/_variables.scss']",2,162dac7d9114131f25127289c67e31951423b213,bp/css-breakdown,/* Charts */ $chart-overview-height: 81px; $chart-min-height-fullscreen: 300px; $chart-min-width-fullscreen: 400px; $chart-min-width-fullscreen-legend: 90px; ,,79,46
openstack%2Fhorizon~master~I068b73821b1fdd35be7116d11754af5be0d28e14,openstack/horizon,master,I068b73821b1fdd35be7116d11754af5be0d28e14,Breakdown CSS: pull variables from accordion nav,ABANDONED,2014-07-21 20:23:23.000000000,2015-01-26 22:16:39.000000000,,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9659}, {'_account_id': 10112}, {'_account_id': 10295}, {'_account_id': 11881}]","[{'number': 1, 'created': '2014-07-21 20:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3d6363a9bd762822d0fc697bdb23322b132c8c21', 'message': 'Breakdown CSS: pull variables from accordion nav\n\nThe _accordion_nav.scss file should have most colors and that kind of\nthing put into the _variables.scss file.  Also, a bit of redundancy\ncould be removed and a small amount of cleanup was trivially easy.\n\nChange-Id: I068b73821b1fdd35be7116d11754af5be0d28e14\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 2, 'created': '2014-07-30 22:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4aad51d10b142fe2353a455b8623ff52bc6c049b', 'message': 'Breakdown CSS: pull variables from accordion nav\n\nThe _accordion_nav.scss file should have most colors and that kind of\nthing put into the _variables.scss file.  Also, a bit of redundancy\ncould be removed and a small amount of cleanup was trivially easy.\n\nAlso ran a linter and cleaned up some items that way.\n\nChange-Id: I068b73821b1fdd35be7116d11754af5be0d28e14\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 3, 'created': '2014-08-25 16:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0e15268c361ec8ab66252473b581180f0e4c496', 'message': 'Breakdown CSS: pull variables from accordion nav\n\nThe _accordion_nav.scss file should have most colors and that kind of\nthing put into the _variables.scss file.  Also, a bit of redundancy\ncould be removed and a small amount of cleanup was trivially easy.\n\nAlso ran a linter and cleaned up some items that way.\n\nChange-Id: I068b73821b1fdd35be7116d11754af5be0d28e14\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 4, 'created': '2014-08-28 17:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2364023d914ad80c3280708fdbe998357995bc75', 'message': 'Breakdown CSS: pull variables from accordion nav\n\nThe _accordion_nav.scss file should have most colors and that kind of\nthing put into the _variables.scss file.  Also, a bit of redundancy\ncould be removed and a small amount of cleanup was trivially easy.\n\nAlso ran a linter and cleaned up some items that way.\n\nChange-Id: I068b73821b1fdd35be7116d11754af5be0d28e14\nPartially-Implements: blueprint css-breakdown\n'}, {'number': 5, 'created': '2014-09-08 15:03:00.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/_accordion_nav.scss', 'openstack_dashboard/static/dashboard/scss/_variables.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/30876a67090bd33a5eb93116a2b1d3a7a38cface', 'message': 'Breakdown CSS: pull variables from accordion nav\n\nThe _accordion_nav.scss file should have most colors and that kind of\nthing put into the _variables.scss file.  Also, a bit of redundancy\ncould be removed and a small amount of cleanup was trivially easy.\n\nAlso ran a linter and cleaned up some items that way.\n\nChange-Id: I068b73821b1fdd35be7116d11754af5be0d28e14\nPartially-Implements: blueprint css-breakdown\n'}]",2,108489,30876a67090bd33a5eb93116a2b1d3a7a38cface,33,9,5,9659,,,0,"Breakdown CSS: pull variables from accordion nav

The _accordion_nav.scss file should have most colors and that kind of
thing put into the _variables.scss file.  Also, a bit of redundancy
could be removed and a small amount of cleanup was trivially easy.

Also ran a linter and cleaned up some items that way.

Change-Id: I068b73821b1fdd35be7116d11754af5be0d28e14
Partially-Implements: blueprint css-breakdown
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/108489/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/dashboard/scss/_accordion_nav.scss', 'openstack_dashboard/static/dashboard/scss/_variables.scss']",2,3d6363a9bd762822d0fc697bdb23322b132c8c21,bp/css-breakdown,"/* Accordion Nav */ $accordion-dashboard-color: #e5e5e5; $accordion-panel-group-color: #f0f0f0; $accordion-panel-color: #f9f9f9; $accordion-active-panel-color: $body-bg; $accordion-highlight-color: #d93c27; $accordion-border-color: #e5e5e5; $accordion-inactive-border-color: #bbbbbb; $accordion-dashboard-text-color: #6e6e6e; $accordion-panel-group-text-color: $accordion-dashboard-text-color; $accordion-panel-text-color: $accordion-dashboard-text-color; $accordion-drop-arrow: url(""/static/dashboard/img/drop_arrow.png""); $accordion-right-drop-arrow: url(""/static/dashboard/img/right_droparrow.png""); ",,80,45
openstack%2Fhorizon~master~I7e66abd2dd2f292bdb7a54855f5dd590e1831e29,openstack/horizon,master,I7e66abd2dd2f292bdb7a54855f5dd590e1831e29,Breakdown CSS: split out the topologies styles,ABANDONED,2014-07-11 19:34:49.000000000,2015-01-26 22:16:25.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9576}, {'_account_id': 9659}]","[{'number': 1, 'created': '2014-07-11 19:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/10a4330da6df97af011c34a7974d0487e59b5981', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\n\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 2, 'created': '2014-07-11 19:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/31681f85551c8487c7af63fc371ea93c47d581a8', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\n\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 3, 'created': '2014-07-12 23:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c5a4bec335d6a8459941ca86a5a7dae225c63db', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\n\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 4, 'created': '2014-07-20 22:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ef4bfc8d9eebb9d93a96940f5daacd1fae765661', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\n\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 5, 'created': '2014-07-31 16:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2e222c35bb6ab79c84fe75ef26458d026109cc16', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\n\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nAlso cleaned up lint-like issues within code.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 6, 'created': '2014-07-31 16:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4cfe1fef3bffa23ab47b5f7e640e0940bd7ae9bb', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\n\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nEDIT: I did some lint-like cleanup on the topology.scss file.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 7, 'created': '2014-08-25 16:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/69e543a11613162c680eba34f47ee1b300db0d76', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nNote: I've only split out the topology stuff.  No cleanup has happened\nat all.\n\nNote: Patch Set 7 was a re-start.  I started from scratch.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 8, 'created': '2014-08-28 17:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e7c8a07d6ed09909f05ef22b24cc3d92f86747b7', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nNote: I've only split out the topology stuff.  No cleanup has happened\nat all.\n\nNote: Patch Set 7 was a re-start.  I started from scratch.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}, {'number': 9, 'created': '2014-09-08 14:53:30.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/specific/topology.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dba2a5544bd9772d9e09433c85b427f0bd1b43c3', 'message': ""Breakdown CSS: split out the topologies styles\n\nNow that everything has been converted to scss, splitting out the\nindividual components of our CSS can and should begin!\nIn an effort to do small changes (to keep them mergable and reviewable)\nI'm only splitting out the topologies stuff.  I'm trying to\nbalance the style that Maxime has used throughout the previous reviews\nrelating to this blueprint while also not changing everything that can\nbe changed.\n\nNote: I've only split out the topology stuff.  No cleanup has happened\nat all.\n\nNote: Patch Set 7 was a re-start.  I started from scratch.\n\nChange-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29\nPartially-Implements: blueprint css-breakdown\n""}]",0,106476,dba2a5544bd9772d9e09433c85b427f0bd1b43c3,47,5,9,9659,,,0,"Breakdown CSS: split out the topologies styles

Now that everything has been converted to scss, splitting out the
individual components of our CSS can and should begin!
In an effort to do small changes (to keep them mergable and reviewable)
I'm only splitting out the topologies stuff.  I'm trying to
balance the style that Maxime has used throughout the previous reviews
relating to this blueprint while also not changing everything that can
be changed.

Note: I've only split out the topology stuff.  No cleanup has happened
at all.

Note: Patch Set 7 was a re-start.  I started from scratch.

Change-Id: I7e66abd2dd2f292bdb7a54855f5dd590e1831e29
Partially-Implements: blueprint css-breakdown
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/106476/9 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/dashboard/scss/horizon.scss', 'openstack_dashboard/static/dashboard/scss/specific/_topology.scss']",2,10a4330da6df97af011c34a7974d0487e59b5981,bp/while,"/* Network Topology CSS */ #topologyCanvasContainer { @include box-sizing(border-box); width: 100%; height: auto; padding: 25px; padding-left: 50px; background: #efefef; min-height: 400px; div.nodata { font-size: 150%; text-align: center; padding-top: 150px; display: none; } &.noinfo { div.nodata { display: block; } #topology_canvas { display: none; } } } .topologyNavi { overflow: hidden; margin: 10px 0 20px; i { margin-right: 3px; } .toggleView { float: left; } .launchButtons { float: right; text-align: right; a.btn { margin-left: 10px; } } } .topologyBalloon { display: none; background: $body-bg; position: absolute; left: 100px; top: 20px; z-index: 600; border-radius: 5px; color: #333; min-width: 200px; line-height: 1.2; font-size: 11px; @include box-shadow(0px 1px 6px #777); &.on { display: block; } .vnc_window { margin-left: 10px; } .closeTopologyBalloon { font-size: 16px; line-height: 1; display: block; position: absolute; font-weight: bold; right: 6px; top: 0px; cursor: pointer; padding: 3px; color: #aaa; &:hover { color: #777; text-decoration: none; } } .contentBody { padding: 8px 8px 0; } span.active, span.down { &:before { content: """"; width: 9px; height: 9px; display: inline-block; background: $brand-success; margin-right: 3px; border-radius: 10px; vertical-align: middle; } } span.down { &:before { background: $brand-danger; } } .footer { background: #efefef; border-top: 1px solid $border-color; padding: 8px; border-radius: 0px 0px 7px 7px; .footerInner { display: table; width: 100%; } .cell { display: table-cell; padding-right: 10px; } .link { font-size: 12px; } .delete { padding-right: 0; text-align: right; .btn { &:before { content: ""Delete ""; } &.deleting:before { content: ""Deleting ""; } &.instance { &:before { content: ""Terminate ""; } &.deleting:before { content: ""Terminating ""; } } } } } table.detailInfoTable { margin-bottom: 5px; caption { text-align: left; font-size: 12px; font-weight: bold; margin-bottom: 0px; } th, td { text-align: left; vertical-align: middle; padding-bottom: 3px; background: transparent; } th { color: $gray-light; padding-right: 8px; width: 80px; span { vertical-align: middle; width: 80px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block; } &.device { text-align: right; } } td { padding-right: 5px; white-space: nowrap; &.delete { padding-right: 0; text-align: right; } } .btn { line-height: 1.4; } .btn:before { content: ""Delete ""; } .btn.deleting:before { content: ""Deleting ""; } } &:before { border-top: 7px solid transparent; border-bottom: 7px solid transparent; border-right: 9px solid $border-color; display: block; position: absolute; top: 30px; left: -9px; width: 0; height: 0; content: """"; } &:after { border-top: 6px solid transparent; border-bottom: 6px solid transparent; border-right: 8px solid $body-bg; display: block; position: absolute; top: 31px; left: -8px; width: 0; height: 0; content: """"; } &.leftPosition { &:before { border-right: none; border-left: 9px solid $border-color; right: -9px; top: 30px; left: auto; } &:after { border-right: none; border-left: 8px solid $body-bg; right: -8px; top: 31px; left: auto; } } } #topologyMessages { width: 1px; height: 1px; visibility: hidden; position: absolute; top: -100px; } /* Styling for dragged firewall rule object */ #ruleListSortContainer { display: none; } .rulelist { padding: 6px; background: #eee; border: 1px solid $border-color; min-height: 2em; width: auto !important; @include box-sizing(border-box); li { width: 226px; list-style-type: none; margin: 6px auto; padding: 3px; background: $body-bg; border: 1px solid $border-color; line-height: 18px; border-radius: 3px; cursor: move; padding-left: 23px; background: $body-bg url(/static/dashboard/img/drag.png) no-repeat 11px 50%; em { font-size: 0.5em; line-height: 1em; color: #999; font-style: normal; margin-left: 0.8em; } i { margin-right: 5px; vertical-align: middle; } a.btn { @include box-sizing(border-box); font-size: 11px; line-height: 12px; padding: 2px 5px 3px; margin-right: 1px; width: 18px; text-align: center; //position: absolute; right: 5px; vertical-align: middle; float: right; &:before { content: ""+""; } } &.ui-sortable-helper { background-color: #def; } &.ui-state-highlight { border: 1px dotted $border-color; background: #efefef; height: 0.5em; } &:after { visibility: hidden; display: block; font-size: 0; content: "" ""; clear: both; height: 0; } } } #selected_rule { margin-bottom: 1.5em; counter-reset: v1 0; background: #edf9ff; border: 1px solid $border-color; li { position: relative; a.btn { &:before { content: ""-""; } } } li:before { content: ""rule:"" counter(v1); counter-increment: v1; display: inline-block; margin-right: 5px; background: $gray; color: $body-bg; font-size: 90%; padding: 0px 4px; vertical-align: middle; border-radius: 2px; position: absolute; left: -2em; } &.dragging { li:before { content: ""rule:""; background-color: rgba(102, 102, 102, 0.5); padding-right: 10px; } li.ui-state-highlight:before { content: """"; background: transparent; } } } /* Resource Topology CSS */ .link { stroke: #999; stroke-width: 1.5px; } .node { cursor: pointer; text { font: 12px sans-serif; } } #resource_container { position: relative; } #stack_box { position: absolute; width: 300px; top: 10px; left: 10px; h3 { font-size: 11pt; line-height: 20px; } p, a { margin: 0; font-size: 9pt; line-height: 14px; } img { float: left; } #stack_info { float: left; white-space: normal; width: 200px; } } #info_box { position: absolute; width: 300px; top: 100px; left: 10px; h3 { font-size: 9pt; line-height: 20px; } p, a { margin: 0; font-size: 9pt; line-height: 14px; } .error { color: darken($brand-danger, 20%); } } ",,413,413
openstack%2Fmonasca-thresh~master~Idb71dae90db4f6e749cc55ffbb106794a89651e1,openstack/monasca-thresh,master,Idb71dae90db4f6e749cc55ffbb106794a89651e1,Put the thresh jar in a place where it will get uploaded,MERGED,2015-01-26 21:30:08.000000000,2015-01-26 21:57:08.000000000,2015-01-26 21:57:07.000000000,"[{'_account_id': 3}, {'_account_id': 11094}]","[{'number': 1, 'created': '2015-01-26 21:30:08.000000000', 'files': ['thresh/pom.xml', 'pom.xml'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/6e4fb0720ae4fe7aadd51d461a5b481a95487849', 'message': 'Put the thresh jar in a place where it will get uploaded\n\nCreate a symlink so the target directory is in the place\nthe upload expects\n\nShrink the jar to only what is needed\n\nChange-Id: Idb71dae90db4f6e749cc55ffbb106794a89651e1\n'}]",0,150153,6e4fb0720ae4fe7aadd51d461a5b481a95487849,6,2,1,11809,,,0,"Put the thresh jar in a place where it will get uploaded

Create a symlink so the target directory is in the place
the upload expects

Shrink the jar to only what is needed

Change-Id: Idb71dae90db4f6e749cc55ffbb106794a89651e1
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/53/150153/1 && git format-patch -1 --stdout FETCH_HEAD,"['thresh/pom.xml', 'pom.xml']",2,6e4fb0720ae4fe7aadd51d461a5b481a95487849,, <plugin> <groupId>org.codehaus.mojo</groupId> <artifactId>exec-maven-plugin</artifactId> <version>1.1.1</version> <executions> <execution> <id>some-execution</id> <phase>package</phase> <goals> <goal>exec</goal> </goals> </execution> </executions> <configuration> <executable>ln</executable> <arguments> <argument>-sf</argument> <argument>thresh/target</argument> <argument>target</argument> </arguments> </configuration> </plugin>,,25,1
openstack%2Fswift~master~Ie65477c15d631fcfc3a4a5772fbe6d7d171b22b0,openstack/swift,master,Ie65477c15d631fcfc3a4a5772fbe6d7d171b22b0,Make probe tests tolerate deprecated policies,MERGED,2014-09-08 15:56:49.000000000,2015-01-26 21:41:34.000000000,2015-01-26 21:41:32.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-09-08 15:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c89229365ec6e854b7e1f0ad0d6131725e79c76d', 'message': 'Make probe tests tolerate deprecated policies\n\nA deprecated policy in swift.conf causes errors in\nprobe tests that may attempt to use that policy.\n\nThis patch adds an enabled_policies attribute to\nStoragePolicyCollection, and changes probe tests\nto use POLICIES.enabled_policies where appropriate.\n\nChange-Id: Ie65477c15d631fcfc3a4a5772fbe6d7d171b22b0\n'}, {'number': 2, 'created': '2014-09-09 12:24:49.000000000', 'files': ['test/probe/common.py', 'test/probe/test_container_merge_policy_index.py', 'test/probe/test_account_reaper.py', 'test/probe/brain.py', 'test/probe/test_container_sync.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/22b65846aa6d161ba963c9439b42fa4a9b7e1596', 'message': 'Make probe tests tolerate deprecated policies\n\nA deprecated policy in swift.conf causes errors in\nprobe tests that may attempt to use that policy.\n\nThis patch introduces a list ENABLED_POLICIES in\ntest/probe/common.py and changes probe tests to only\nuse policies contained in that list.\n\nChange-Id: Ie65477c15d631fcfc3a4a5772fbe6d7d171b22b0\n'}]",0,119798,22b65846aa6d161ba963c9439b42fa4a9b7e1596,13,7,2,7847,,,0,"Make probe tests tolerate deprecated policies

A deprecated policy in swift.conf causes errors in
probe tests that may attempt to use that policy.

This patch introduces a list ENABLED_POLICIES in
test/probe/common.py and changes probe tests to only
use policies contained in that list.

Change-Id: Ie65477c15d631fcfc3a4a5772fbe6d7d171b22b0
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/119798/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_storage_policy.py', 'test/probe/test_container_merge_policy_index.py', 'test/probe/test_account_reaper.py', 'swift/common/storage_policy.py', 'test/probe/test_container_sync.py', 'test/probe/test_object_expirer.py']",6,c89229365ec6e854b7e1f0ad0d6131725e79c76d,p-probe-test-policies, if len(POLICIES.enabled_policies) < 2: old_policy = random.choice(list(POLICIES.enabled_policies)) wrong_policy = random.choice([p for p in POLICIES.enabled_policies if p != old_policy]) for policy in POLICIES.enabled_policies:, if len(POLICIES) < 2: old_policy = random.choice(list(POLICIES)) wrong_policy = random.choice([p for p in POLICIES if p != old_policy]) for policy in POLICIES:,47,17
openstack%2Fopenstacksdk~master~Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43,openstack/openstacksdk,master,Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43,Server convenience methods wait and get IPs,MERGED,2014-11-26 16:26:35.000000000,2015-01-26 21:34:52.000000000,2015-01-26 21:34:50.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-11-26 16:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c0b2e7cb6f7915449d0df22e90bdee80a9fd2181', 'message': 'Server convenience methods wait and get IPs\n\nAdd convenience methods to the server class to wait for a status\nand get the floating IPs.\n\nChange-Id: Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43\n'}, {'number': 2, 'created': '2015-01-25 15:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/18ea9cc2966bdde819835d848fb508e229a1ee05', 'message': 'Server convenience methods wait and get IPs\n\nAdd convenience methods to the server class to wait for a status\nand get the floating IPs.\n\nChange-Id: Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43\n'}, {'number': 3, 'created': '2015-01-26 12:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f6ad003bc8ccfcfb7dc111c67c205e09f7d76751', 'message': 'Server convenience methods wait and get IPs\n\nAdd convenience methods to the server class to wait for a status\nand get the floating IPs.\n\nChange-Id: Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43\n'}, {'number': 4, 'created': '2015-01-26 21:17:37.000000000', 'files': ['openstack/tests/compute/v2/test_server.py', 'openstack/exceptions.py', 'openstack/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c1c9662c48b06fbd6c148a89c0df4d49d2f077e2', 'message': 'Server convenience methods wait and get IPs\n\nAdd convenience methods to the server class to wait for a status\nand get the floating IPs.\n\nChange-Id: Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43\n'}]",8,137394,c1c9662c48b06fbd6c148a89c0df4d49d2f077e2,19,3,4,8736,,,0,"Server convenience methods wait and get IPs

Add convenience methods to the server class to wait for a status
and get the floating IPs.

Change-Id: Ifd2e4dba1eddc55eaa26b4ea1452cad414debf43
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/137394/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/compute/v2/test_server.py', 'openstack/compute/v2/server.py']",2,c0b2e7cb6f7915449d0df22e90bdee80a9fd2181,server-wait-ips,"import time def wait_for_status(self, session, status='ACTIVE', interval=5, wait=120): """"""Wait for the server to be in some status."""""" try: if self.status == status: return True except AttributeError: pass total_sleep = 0 while total_sleep < wait: self.get(session) if self.status == status: return True time.sleep(interval) total_sleep += interval return False def get_floating_ips(self): """"""Get the floating ips associated with this server."""""" addresses = self.addresses[self.name] result = [] for address in addresses: if address['OS-EXT-IPS:type'] == 'floating': result.append(address['addr']) return result",,104,0
openstack%2Fopenstack-manuals~master~Ife1af1cb1eabe6442702a09bd8b8c2536954462b,openstack/openstack-manuals,master,Ife1af1cb1eabe6442702a09bd8b8c2536954462b,change to openstack.xml file,MERGED,2015-01-26 02:42:07.000000000,2015-01-26 21:34:43.000000000,2015-01-26 21:34:42.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 14643}]","[{'number': 1, 'created': '2015-01-26 02:42:07.000000000', 'files': ['doc/hot-reference/generated/openstack.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d8c0d22f7d8198ac908a5cde330474762c71cd42', 'message': 'change to openstack.xml file\n\nremoved plural ""inputs""\n\nChange-Id: Ife1af1cb1eabe6442702a09bd8b8c2536954462b\n'}]",0,149908,d8c0d22f7d8198ac908a5cde330474762c71cd42,8,4,1,9382,,,0,"change to openstack.xml file

removed plural ""inputs""

Change-Id: Ife1af1cb1eabe6442702a09bd8b8c2536954462b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/08/149908/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/hot-reference/generated/openstack.xml'],1,d8c0d22f7d8198ac908a5cde330474762c71cd42,section_sw_deployment,ephemeral config that includes the input values plus a number of extra,ephemeral config that includes the inputs values plus a number of extra,1,1
openstack%2Fopenstack-manuals~master~Ibdf06992a8277ba2eaf3f30ede95fdb2f707584a,openstack/openstack-manuals,master,Ibdf06992a8277ba2eaf3f30ede95fdb2f707584a,addition to ch_openstack_images.xml,MERGED,2015-01-26 02:55:27.000000000,2015-01-26 21:34:35.000000000,2015-01-26 21:34:34.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2015-01-26 02:55:27.000000000', 'files': ['doc/image-guide/ch_openstack_images.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/981ba044ef8847d991073d2a92a071ffc8a9d5b7', 'message': 'addition to ch_openstack_images.xml\n\nadded ""for"" between to make sense\n\nChange-Id: Ibdf06992a8277ba2eaf3f30ede95fdb2f707584a\n'}]",0,149912,981ba044ef8847d991073d2a92a071ffc8a9d5b7,7,3,1,9382,,,0,"addition to ch_openstack_images.xml

added ""for"" between to make sense

Change-Id: Ibdf06992a8277ba2eaf3f30ede95fdb2f707584a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/12/149912/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/image-guide/ch_openstack_images.xml'],1,981ba044ef8847d991073d2a92a071ffc8a9d5b7,ch_openstack_images, of the Linux kernel did not have support for paravirtualized, of the Linux kernel did not have support paravirtualized,1,1
openstack%2Fopenstack-manuals~master~I7696857e763524edc43a53d2ba349f2ea0f3ec02,openstack/openstack-manuals,master,I7696857e763524edc43a53d2ba349f2ea0f3ec02,change to database.xml,MERGED,2015-01-26 03:04:33.000000000,2015-01-26 21:34:18.000000000,2015-01-26 21:34:15.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2015-01-26 03:04:33.000000000', 'files': ['doc/admin-guide-cloud/ch_database.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/075d55b627ea7ce2b7009644558cbed35cca4e0f', 'message': 'change to database.xml\n\non the each guest, removed ""the""\n\nChange-Id: I7696857e763524edc43a53d2ba349f2ea0f3ec02\n'}]",0,149914,075d55b627ea7ce2b7009644558cbed35cca4e0f,7,3,1,9382,,,0,"change to database.xml

on the each guest, removed ""the""

Change-Id: I7696857e763524edc43a53d2ba349f2ea0f3ec02
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/14/149914/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/ch_database.xml'],1,075d55b627ea7ce2b7009644558cbed35cca4e0f,database.xml," <para>If you want to put additional packages on each guest that you create with this datastore version, you can list the package names here.</para>"," <para>If you want to put additional packages on the each guest that you create with this datastore version, you can list the package names here.</para>",1,1
openstack%2Fswift~feature%2Fec~Ia2191055c2ca8235a53e8d69d4d89da3b4f4f829,openstack/swift,feature/ec,Ia2191055c2ca8235a53e8d69d4d89da3b4f4f829,Merge master to feature/ec,MERGED,2015-01-21 16:39:46.000000000,2015-01-26 21:33:32.000000000,2015-01-26 21:33:30.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7479}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-01-21 16:39:46.000000000', 'files': ['swift/proxy/controllers/obj.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef59cde83f176df9e36064f70142c9d8e81318fe', 'message': 'Merge master to feature/ec\n\nConflicts:\n\tswift/proxy/controllers/obj.py\n\nChange-Id: Ia2191055c2ca8235a53e8d69d4d89da3b4f4f829\n'}]",0,148983,ef59cde83f176df9e36064f70142c9d8e81318fe,13,5,1,7479,,,0,"Merge master to feature/ec

Conflicts:
	swift/proxy/controllers/obj.py

Change-Id: Ia2191055c2ca8235a53e8d69d4d89da3b4f4f829
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/148983/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/proxy/controllers/obj.py', 'swift/common/exceptions.py']",2,ef59cde83f176df9e36064f70142c9d8e81318fe,ec_merge,"class PutterConnectError(Exception): def __init__(self, status=None): self.status = status ",,18,43
openstack%2Fnova~master~I5941015a8676273589ec143815656d11e948c564,openstack/nova,master,I5941015a8676273589ec143815656d11e948c564,wip: don't install all libs for pep8 target,ABANDONED,2015-01-12 21:50:57.000000000,2015-01-26 21:22:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4146}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-12 21:50:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2563d8cbf9657c2cbe606ec09cf72c539fed15d', 'message': ""wip: don't install all libs for pep8 target\n\nChange-Id: I5941015a8676273589ec143815656d11e948c564\n""}]",2,146648,b2563d8cbf9657c2cbe606ec09cf72c539fed15d,9,7,1,2750,,,0,"wip: don't install all libs for pep8 target

Change-Id: I5941015a8676273589ec143815656d11e948c564
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/146648/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b2563d8cbf9657c2cbe606ec09cf72c539fed15d,hacking,"usedevelop = False deps = hacking>=0.10.0,<0.11",,2,0
openstack%2Ftelemetry-specs~master~I44439281cc925113a9bad5bb28cf724db1cf94de,openstack/telemetry-specs,master,I44439281cc925113a9bad5bb28cf724db1cf94de,oslo.middleware healthcheck polling,MERGED,2014-10-27 15:16:49.000000000,2015-01-26 21:20:09.000000000,2015-01-26 21:20:09.000000000,"[{'_account_id': 3}, {'_account_id': 595}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 4715}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7478}, {'_account_id': 8052}, {'_account_id': 9562}, {'_account_id': 11564}]","[{'number': 1, 'created': '2014-10-27 15:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/712f75074459b2ca872be0ea4892eb15768f136b', 'message': 'oslo.middleware healthcheck polling\n\nChange-Id: I44439281cc925113a9bad5bb28cf724db1cf94de\n'}, {'number': 2, 'created': '2014-10-28 16:36:52.000000000', 'files': ['specs/kilo/healthcheck-middleware.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/ee3fe68d0ff18b5c68cf841f5c76847cc9534411', 'message': 'oslo.middleware healthcheck polling\n\nChange-Id: I44439281cc925113a9bad5bb28cf724db1cf94de\n'}]",3,131174,ee3fe68d0ff18b5c68cf841f5c76847cc9534411,15,15,2,1669,,,0,"oslo.middleware healthcheck polling

Change-Id: I44439281cc925113a9bad5bb28cf724db1cf94de
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/74/131174/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/healthcheck-middleware.rst'],1,712f75074459b2ca872be0ea4892eb15768f136b,jd/healthcheck-middleware,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Healthcheck Middleware Metering =============================== https://blueprints.launchpad.net/ceilometer/+spec/ceilometer-healthcheck-middleware Oslo.middleware is going to provide a healthcheck middleware in order to monitor health of HTTP services. We want to monitor this middleware response code and time in Ceilometer in order to have analytics available. Problem description =================== The healthcheck functionnality provided by oslo.middleware will provide information about the health of a particular API service. It'll be useful to retrieve periodically the state of the service in Ceilometer to have the ability to analyse these data. Proposed change =============== Let's write a pollster that polls the healthcheck middleware to generate samples measuring the response time of the middleware, and incorporating the status code as metadata. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Pipeline impact --------------- None Other end user impact --------------------- None Performance/Scalability Impacts ------------------------------- None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: jdanjou Other contributors: silhet Ongoing maintainer: jdanjou sileht Work Items ---------- * Write a pollster Future lifecycle ================ As all pollsters. Dependencies ============ None Testing ======= We should be able to test using unit testing and testing inside Tempest. Devstack should have support of this healthcheck middlware by default. Documentation Impact ==================== The new pollster should be documented the same way we do for others. References ========== * oslo.middleware healthcheck blueprint <https://blueprints.launchpad.net/oslo.middleware/+spec/oslo-middleware-healthcheck>_ ",,124,0
openstack%2Ffuel-library~master~I2c40aba6a5c20e8189a9289ea2ac3280f091564f,openstack/fuel-library,master,I2c40aba6a5c20e8189a9289ea2ac3280f091564f,Ensure cinder-backup is enabled for Ceph,MERGED,2015-01-22 13:22:25.000000000,2015-01-26 21:19:12.000000000,2015-01-26 21:19:12.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2015-01-22 13:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/39a96bcd31fdf6f885378220eb97a73e14a6ca36', 'message': 'Ensure cinder-backup is enabled for Ceph\n\nChange-Id: I2c40aba6a5c20e8189a9289ea2ac3280f091564f\nCloses-Bug: 1411635\n'}, {'number': 2, 'created': '2015-01-23 09:18:34.000000000', 'files': ['deployment/puppet/openstack/manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e2bef7bfc7f04c4cf0c4b0ce5e984141c395a93d', 'message': 'Ensure cinder-backup is enabled for Ceph\n\nChange-Id: I2c40aba6a5c20e8189a9289ea2ac3280f091564f\nCloses-Bug: 1411635\n'}]",0,149251,e2bef7bfc7f04c4cf0c4b0ce5e984141c395a93d,26,9,2,13948,,,0,"Ensure cinder-backup is enabled for Ceph

Change-Id: I2c40aba6a5c20e8189a9289ea2ac3280f091564f
Closes-Bug: 1411635
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/51/149251/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/cinder.pp'],1,39a96bcd31fdf6f885378220eb97a73e14a6ca36,bug/1411635, class {'cinder::backup': enabled => true },,4,0
openstack%2Fkeystone~master~I85840639c35e81f1b5aafbfcfd9874913057f44d,openstack/keystone,master,I85840639c35e81f1b5aafbfcfd9874913057f44d,Allow users to change own default_project_id,ABANDONED,2014-11-26 01:44:41.000000000,2015-01-26 21:13:45.000000000,,"[{'_account_id': 3}, {'_account_id': 6534}, {'_account_id': 9142}, {'_account_id': 11022}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-11-26 01:44:41.000000000', 'files': ['keystone/tests/test_v3_identity.py', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9058a4e54ce6d93ed880302ec009e9fe6a89e9e8', 'message': 'Allow users to change own default_project_id\n\nChange the default policy.json, allowing a user to set\nhis/her own default_project_id.\nA test for this use case is added as well.\n\nChange-Id: I85840639c35e81f1b5aafbfcfd9874913057f44d\nCloses-Bug: 1240625\n'}]",4,137254,9058a4e54ce6d93ed880302ec009e9fe6a89e9e8,8,5,1,9142,,,0,"Allow users to change own default_project_id

Change the default policy.json, allowing a user to set
his/her own default_project_id.
A test for this use case is added as well.

Change-Id: I85840639c35e81f1b5aafbfcfd9874913057f44d
Closes-Bug: 1240625
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/137254/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_v3_identity.py', 'etc/policy.json']",2,9058a4e54ce6d93ed880302ec009e9fe6a89e9e8,bug/1240625," ""identity:update_user"": ""rule:admin_or_owner"","," ""identity:update_user"": ""rule:admin_required"",",20,1
openstack%2Fdesignate~master~I7b64418f19133607d5bf12bf6f33d27294d45601,openstack/designate,master,I7b64418f19133607d5bf12bf6f33d27294d45601,Cleanup use of oslo.messaging's ConfFixture,MERGED,2015-01-24 19:51:04.000000000,2015-01-26 21:12:53.000000000,2015-01-26 21:12:52.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8130}]","[{'number': 1, 'created': '2015-01-24 19:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c8b1d570091ab687f36f0d43646e3866aeb102d0', 'message': ""Cleanup use of oslo.messaging's ConfFixture\n\nThis makes it clearer as to when the messaging config options are\nset.\n\nChange-Id: I7b64418f19133607d5bf12bf6f33d27294d45601\n""}, {'number': 2, 'created': '2015-01-24 19:54:07.000000000', 'files': ['designate/tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/05b25aed9220fcb953c3d1a6b1ff16c900c94b36', 'message': ""Cleanup use of oslo.messaging's ConfFixture\n\nThis makes it clearer as to when the messaging config options are\nset, and also reduces the messaging timeout to 5 seconds from 60\nseconds.\n\nChange-Id: I7b64418f19133607d5bf12bf6f33d27294d45601\n""}]",0,149839,05b25aed9220fcb953c3d1a6b1ff16c900c94b36,8,3,2,741,,,0,"Cleanup use of oslo.messaging's ConfFixture

This makes it clearer as to when the messaging config options are
set, and also reduces the messaging timeout to 5 seconds from 60
seconds.

Change-Id: I7b64418f19133607d5bf12bf6f33d27294d45601
",git fetch https://review.opendev.org/openstack/designate refs/changes/39/149839/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/__init__.py'],1,c8b1d570091ab687f36f0d43646e3866aeb102d0,, self.messaging_conf = messaging_fixture.ConfFixture(cfg.CONF) self.useFixture(self.messaging_conf), self.messaging_conf = self.useFixture( messaging_fixture.ConfFixture(cfg.CONF)),2,2
openstack%2Fdesignate~master~I91d332f641a5d3efde75fa7fd228c8fb5efad182,openstack/designate,master,I91d332f641a5d3efde75fa7fd228c8fb5efad182,Extract fixtures into their own module,MERGED,2015-01-23 20:41:24.000000000,2015-01-26 21:07:29.000000000,2015-01-26 21:07:27.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}]","[{'number': 1, 'created': '2015-01-23 20:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/24ad32eece45e4c72952e735779b045e2acc026a', 'message': 'Extract fixtures into their own module\n\nMove our custom fixtures out of designate.tests, into\ndesignate.tests.fixtures.\n\nChange-Id: I91d332f641a5d3efde75fa7fd228c8fb5efad182\n'}, {'number': 2, 'created': '2015-01-23 20:43:17.000000000', 'files': ['designate/tests/__init__.py', 'designate/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/c24ad7c61bade666e9fd970c38b7a3dc1259d6ef', 'message': 'Extract fixtures into their own module\n\nMove our custom fixtures out of designate.tests, into\ndesignate.tests.fixtures.\n\nChange-Id: I91d332f641a5d3efde75fa7fd228c8fb5efad182\n'}]",0,149750,c24ad7c61bade666e9fd970c38b7a3dc1259d6ef,8,4,2,741,,,0,"Extract fixtures into their own module

Move our custom fixtures out of designate.tests, into
designate.tests.fixtures.

Change-Id: I91d332f641a5d3efde75fa7fd228c8fb5efad182
",git fetch https://review.opendev.org/openstack/designate refs/changes/50/149750/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/tests/fixtures.py']",2,24ad32eece45e4c72952e735779b045e2acc026a,fixtures-cleanup,"# Copyright 2012 Managed I.T. # # Author: Kiall Mac Innes <kiall@managedit.ie> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import import shutil import tempfile import fixtures from oslo_log import log as logging from oslo_utils import importutils from oslo.config import cfg from oslo.messaging.notify import _impl_test as test_notifier from designate import policy from designate import network_api from designate import rpc from designate.network_api import fake as fake_network_api from designate.sqlalchemy import utils as sqlalchemy_utils LOG = logging.getLogger(__name__) class NotifierFixture(fixtures.Fixture): def setUp(self): super(NotifierFixture, self).setUp() self.addCleanup(test_notifier.reset) def get(self): return test_notifier.NOTIFICATIONS def clear(self): return test_notifier.reset() class RPCFixture(fixtures.Fixture): def __init__(self, conf): self.conf = conf def setUp(self): super(RPCFixture, self).setUp() rpc.init(self.conf) self.addCleanup(self.deinit) def deinit(self): if rpc.initialized(): rpc.cleanup() class ServiceFixture(fixtures.Fixture): def __init__(self, svc_name, *args, **kw): cls = importutils.import_class( 'designate.%s.service.Service' % svc_name) self.svc = cls.create(binary='designate-' + svc_name, *args, **kw) def setUp(self): super(ServiceFixture, self).setUp() self.svc.start() self.addCleanup(self.kill) def kill(self): try: self.svc.kill() except Exception: pass class PolicyFixture(fixtures.Fixture): def setUp(self): super(PolicyFixture, self).setUp() self.addCleanup(policy.reset) class DatabaseFixture(fixtures.Fixture): fixtures = {} @staticmethod def get_fixture(repo_path, init_version=None): if repo_path not in DatabaseFixture.fixtures: DatabaseFixture.fixtures[repo_path] = DatabaseFixture( repo_path, init_version) return DatabaseFixture.fixtures[repo_path] def _mktemp(self): _, path = tempfile.mkstemp(prefix='designate-', suffix='.sqlite', dir='/tmp') return path def __init__(self, repo_path, init_version=None): super(DatabaseFixture, self).__init__() # Create the Golden DB self.golden_db = self._mktemp() self.golden_url = 'sqlite:///%s' % self.golden_db # Migrate the Golden DB manager = sqlalchemy_utils.get_migration_manager( repo_path, self.golden_url, init_version) manager.upgrade(None) # Prepare the Working Copy DB self.working_copy = self._mktemp() self.url = 'sqlite:///%s' % self.working_copy def setUp(self): super(DatabaseFixture, self).setUp() shutil.copyfile(self.golden_db, self.working_copy) class NetworkAPIFixture(fixtures.Fixture): def setUp(self): super(NetworkAPIFixture, self).setUp() self.api = network_api.get_network_api(cfg.CONF.network_api) self.fake = fake_network_api self.addCleanup(self.fake.reset_floatingips) ",,140,115
openstack%2Fproject-config~master~I34851dbbb92b1f838c295461ade704a6dc281b16,openstack/project-config,master,I34851dbbb92b1f838c295461ade704a6dc281b16,Adding requirements check for Bandit,MERGED,2015-01-26 18:02:24.000000000,2015-01-26 20:51:01.000000000,2015-01-26 20:51:00.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-26 18:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f6a8c0054c7819b8fb37357c9c24a7ba18e50d2', 'message': 'Adding requirements check for Bandit\n\nChange-Id: I34851dbbb92b1f838c295461ade704a6dc281b16\n'}, {'number': 2, 'created': '2015-01-26 18:03:59.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4840c29af3678c5a7fdcadd3832901718403890f', 'message': 'Adding requirements check for Bandit\n\nChange-Id: I34851dbbb92b1f838c295461ade704a6dc281b16\n'}]",0,150107,4840c29af3678c5a7fdcadd3832901718403890f,8,3,2,11861,,,0,"Adding requirements check for Bandit

Change-Id: I34851dbbb92b1f838c295461ade704a6dc281b16
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/150107/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,4f6a8c0054c7819b8fb37357c9c24a7ba18e50d2,bandit-reqs, - name: check-requirements,,1,0
openstack%2Fopenstacksdk~master~I1b15403f79b9038c77786fe0262a421f7d5dd737,openstack/openstacksdk,master,I1b15403f79b9038c77786fe0262a421f7d5dd737,Remove flake/pep8 ignores,MERGED,2015-01-26 17:22:14.000000000,2015-01-26 20:46:06.000000000,2015-01-26 20:46:05.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-26 17:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dff87c5f8551cb3c38ff05f5e78114d2a84f7500', 'message': 'Remove flake/pep8 ignores\n\nThese ignores are no longer needed.\n\nChange-Id: I1b15403f79b9038c77786fe0262a421f7d5dd737\nCloses-Bug: bug/1414709\n'}, {'number': 2, 'created': '2015-01-26 19:28:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/26605953bed195e34900310c27f115e03a023107', 'message': 'Remove flake/pep8 ignores\n\nThese ignores are no longer needed.\n\nChange-Id: I1b15403f79b9038c77786fe0262a421f7d5dd737\n'}]",1,150098,26605953bed195e34900310c27f115e03a023107,11,4,2,8736,,,0,"Remove flake/pep8 ignores

These ignores are no longer needed.

Change-Id: I1b15403f79b9038c77786fe0262a421f7d5dd737
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/150098/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dff87c5f8551cb3c38ff05f5e78114d2a84f7500,toxini,,"ignore = E123,E125,H404,H803",0,1
openstack%2Fnetworking-odl~master~Ib12371d32bb4e1fc25b3aa1a8f78a299d6ece5d2,openstack/networking-odl,master,Ib12371d32bb4e1fc25b3aa1a8f78a299d6ece5d2,Re-enable check for @author tag,MERGED,2015-01-26 17:48:38.000000000,2015-01-26 20:43:36.000000000,2015-01-26 20:43:35.000000000,"[{'_account_id': 3}, {'_account_id': 10386}, {'_account_id': 11692}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-01-26 17:48:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8abaab41625eab5ae530835b89f1e7c7a9add612', 'message': 'Re-enable check for @author tag\n\nChange-Id: Ib12371d32bb4e1fc25b3aa1a8f78a299d6ece5d2\n'}]",0,150102,8abaab41625eab5ae530835b89f1e7c7a9add612,9,4,1,105,,,0,"Re-enable check for @author tag

Change-Id: Ib12371d32bb4e1fc25b3aa1a8f78a299d6ece5d2
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/02/150102/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8abaab41625eab5ae530835b89f1e7c7a9add612,hacking,"ignore = E123,E125,H803","# H105 skipped as we're allowing @author tags hereignore = H105,E123,E125,H803",1,2
openstack%2Ftrove~stable%2Fjuno~I4bb290d8de6253d65b7877c743bb288ee2bce536,openstack/trove,stable/juno,I4bb290d8de6253d65b7877c743bb288ee2bce536,Increase test rate limit to avoid rate limit error,MERGED,2015-01-22 10:24:53.000000000,2015-01-26 20:38:14.000000000,2015-01-26 20:38:13.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 8415}, {'_account_id': 9656}, {'_account_id': 9664}, {'_account_id': 11783}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-22 10:24:53.000000000', 'files': ['trove/tests/api/limits.py', 'etc/trove/trove.conf.test'], 'web_link': 'https://opendev.org/openstack/trove/commit/874ec543a2174dc60f8da4429646a830445b6f02', 'message': ""Increase test rate limit to avoid rate limit error\n\nThe current rate limit is 200 requests per minute. I'm getting\nconsistent tox failures as the machine is exceeding this rate. The fix\nimpacts only test code and adjusts the limit and a test that has a\nhard-coded reference to the old limit. Why 500 you may ask? Because\n600 worked and 450 failed consistently with the rate limit error.\n\nIn addition, the change addresses the fact that some test\nconfiguration values are duplicated in the test; the change makes the\ntest reference the configuration value.\n\nChange-Id: I4bb290d8de6253d65b7877c743bb288ee2bce536\nCloses-Bug: #1376689\nCloses-Bug: #1378932\n(cherry picked from commit a67c0ca7030362c35ea8dd183229bc73173cf60b)\n""}]",0,149208,874ec543a2174dc60f8da4429646a830445b6f02,11,7,1,9656,,,0,"Increase test rate limit to avoid rate limit error

The current rate limit is 200 requests per minute. I'm getting
consistent tox failures as the machine is exceeding this rate. The fix
impacts only test code and adjusts the limit and a test that has a
hard-coded reference to the old limit. Why 500 you may ask? Because
600 worked and 450 failed consistently with the rate limit error.

In addition, the change addresses the fact that some test
configuration values are duplicated in the test; the change makes the
test reference the configuration value.

Change-Id: I4bb290d8de6253d65b7877c743bb288ee2bce536
Closes-Bug: #1376689
Closes-Bug: #1378932
(cherry picked from commit a67c0ca7030362c35ea8dd183229bc73173cf60b)
",git fetch https://review.opendev.org/openstack/trove refs/changes/08/149208/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/api/limits.py', 'etc/trove/trove.conf.test']",2,874ec543a2174dc60f8da4429646a830445b6f02,bug/1376689,http_get_rate = 500 http_post_rate = 500 http_put_rate = 500 http_delete_rate = 500,http_get_rate = 200 http_post_rate = 200 http_put_rate = 200 http_delete_rate = 200,12,8
openstack%2Fneutron~master~I9483c5f2006aac17efb2a0d4446f0d0f4e42330c,openstack/neutron,master,I9483c5f2006aac17efb2a0d4446f0d0f4e42330c,Imported Translations from Transifex,MERGED,2015-01-24 06:14:30.000000000,2015-01-26 20:33:09.000000000,2015-01-26 20:33:07.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-24 06:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4896cbe1d4ede9c9654b240b859288dfe60eed6', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I9483c5f2006aac17efb2a0d4446f0d0f4e42330c\n'}, {'number': 2, 'created': '2015-01-25 06:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fb9c004a347ff0f6797badc14dff623e172f315', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I9483c5f2006aac17efb2a0d4446f0d0f4e42330c\n'}, {'number': 3, 'created': '2015-01-26 06:14:42.000000000', 'files': ['neutron/locale/neutron-log-error.pot', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-warning.pot', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33ce2fb18bc209f0abaf8520d909374f09e009fb', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I9483c5f2006aac17efb2a0d4446f0d0f4e42330c\n'}]",0,149814,33ce2fb18bc209f0abaf8520d909374f09e009fb,52,17,3,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I9483c5f2006aac17efb2a0d4446f0d0f4e42330c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/149814/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/neutron-log-error.pot', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-warning.pot', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po']",13,b4896cbe1d4ede9c9654b240b859288dfe60eed6,transifex/translations,"""POT-Creation-Date: 2015-01-24 06:14+0000\n"" ""PO-Revision-Date: 2015-01-23 09:43+0000\n""#: neutron/agent/securitygroups_rpc.py:208#: neutron/agent/securitygroups_rpc.py:220#: neutron/agent/securitygroups_rpc.py:250#: neutron/agent/securitygroups_rpc.py:257#: neutron/agent/securitygroups_rpc.py:279#: neutron/agent/securitygroups_rpc.py:291#: neutron/agent/securitygroups_rpc.py:301#: neutron/agent/securitygroups_rpc.py:305#: neutron/agent/dhcp/agent.py:110 neutron/agent/dhcp/agent.py:607#: neutron/agent/dhcp/agent.py:162#: neutron/agent/dhcp/agent.py:183#: neutron/agent/dhcp/agent.py:604 neutron/agent/l3/agent.py:1285#: neutron/agent/l3/agent.py:1185#: neutron/db/db_base_plugin_v2.py:577#: neutron/db/db_base_plugin_v2.py:604#: neutron/db/db_base_plugin_v2.py:611#: neutron/db/db_base_plugin_v2.py:615#: neutron/db/db_base_plugin_v2.py:620#: neutron/db/db_base_plugin_v2.py:644#: neutron/plugins/bigswitch/servermanager.py:514 #, python-format msgid """" ""NeutronRestProxyV2: Received and ignored error code %(code)s on %(action)s "" ""action to resource %(resource)s"" msgstr """" #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:989 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:382 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:823 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1391 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:262#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1030 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:159 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1574 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:358#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:804 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:224 #: neutron/plugins/nec/agent/nec_neutron_agent.py:132 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:100 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:108#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:874 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:715 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1118 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:220#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:907#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:914 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:745 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1173 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1190#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:926 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:355 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1202 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:246#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:979#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1023 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:413#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:314#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:317#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:342 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:234#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:367#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:424#: neutron/plugins/nec/agent/nec_neutron_agent.py:52#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:444 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:483#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:494 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:577#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:562#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:701 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1112#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:734 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1142#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:828 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1419#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:164#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:672#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:745#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:888#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:998#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1161#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:202#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:227#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:255#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:344#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:345","""POT-Creation-Date: 2015-01-22 06:10+0000\n"" ""PO-Revision-Date: 2015-01-19 13:51+0000\n""#: neutron/agent/securitygroups_rpc.py:219#: neutron/agent/securitygroups_rpc.py:231#: neutron/agent/securitygroups_rpc.py:261#: neutron/agent/securitygroups_rpc.py:268#: neutron/agent/securitygroups_rpc.py:290#: neutron/agent/securitygroups_rpc.py:302#: neutron/agent/securitygroups_rpc.py:312#: neutron/agent/securitygroups_rpc.py:316#: neutron/agent/dhcp/agent.py:92 neutron/agent/dhcp/agent.py:596#: neutron/agent/dhcp/agent.py:144#: neutron/agent/dhcp/agent.py:165#: neutron/agent/dhcp/agent.py:593 neutron/agent/l3/agent.py:1272#: neutron/agent/l3/agent.py:1172#: neutron/db/db_base_plugin_v2.py:610#: neutron/db/db_base_plugin_v2.py:637#: neutron/db/db_base_plugin_v2.py:644#: neutron/db/db_base_plugin_v2.py:648#: neutron/db/db_base_plugin_v2.py:653#: neutron/db/db_base_plugin_v2.py:677#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:983 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:376 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:827 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1392 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:255#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1024 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:164 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1575 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:351#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:797 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:217 #: neutron/plugins/nec/agent/nec_neutron_agent.py:141 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:109 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:100#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:868 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:719 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1119 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:213#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:901#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:908 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:749 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1174 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1191#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:920 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:349 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1203 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:239#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:973#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1017 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:407#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:308#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:311#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:336 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:227#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:361#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:417#: neutron/plugins/nec/agent/nec_neutron_agent.py:53#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:448 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:484#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:498 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:578#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:566#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:705 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1113#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:738 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1143#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:832 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1420#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:173#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:673#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:746#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:889#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:999#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1162#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:195#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:220#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:248#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:337#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:338",1061,989
openstack%2Fneutron~master~Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9,openstack/neutron,master,Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9,attributes: Additional IP address validation,MERGED,2014-11-21 05:31:28.000000000,2015-01-26 20:27:20.000000000,2015-01-26 07:00:14.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7002}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9093}, {'_account_id': 9423}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10237}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14024}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-21 05:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df1d4b032f526a6baded498e1442f4ed5ace9d22', 'message': 'test_attributes: Fix UT failure on some platforms\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 2, 'created': '2014-11-25 04:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/269b9b79eb0ab0bd2018f4f58e76a746c0569e4c', 'message': 'test_attributes: Fix UT failure on some platforms\n\nIntroduce an additional ip address validation instead of\nassuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 3, 'created': '2014-11-26 05:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46795b5c4185968498cdc6e9432cc051c07dd1c8', 'message': 'test_attributes: Fix UT failure on some platforms\n\nIntroduce an additional ip address validation instead of\nassuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 4, 'created': '2014-11-26 07:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd230b4eb46a2c9c769618927507760dd5877fad', 'message': 'test_attributes: Fix UT failure on some platforms\n\nIntroduce an additional ip address validation instead of\nassuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 5, 'created': '2014-11-26 07:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ad745bf74db1044c9a17cc8dc202323fe61f60c', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 6, 'created': '2014-11-27 03:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4deb1a9275dd6a0cf711ded628d7a65e312fb89a', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 7, 'created': '2014-11-27 03:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b3e3c8167408c0984785c9889592152dd89f906', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 8, 'created': '2014-11-28 05:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1628634a3b84ce61ad413be5b1cec2389d344769', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 9, 'created': '2014-11-28 05:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6c2e5345ee1dbbb637474bf2fbad6d0227d68d6', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 10, 'created': '2014-12-01 02:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9c8c98aba2f60338dacbbbc1b58f4fa5669c39a', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 11, 'created': '2014-12-01 02:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6b293dac5ee3160aaec5a84c0f8fbf03b328799', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 12, 'created': '2014-12-05 04:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f34ea9bb508d62f4c75da9e9853dac11ad4255e6', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 13, 'created': '2014-12-05 04:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e62e26a300ab4c464dd07caac8eebf641f527b30', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 14, 'created': '2014-12-24 02:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e1062982468e5a23f8c93e6ed9bedf506ce8c7e', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 15, 'created': '2015-01-14 05:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a70b25d0b0d0279db595c2a848f10872ef17260', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 16, 'created': '2015-01-14 05:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbeb2838e71d28ee2f2689a78bfd8e228b30e6d3', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 17, 'created': '2015-01-15 02:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b48366b29bf37018f2454ce113dbc189d3a7dd38', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 18, 'created': '2015-01-16 00:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21a39b13d465730b6ef9cd56d94766830dc32054', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 19, 'created': '2015-01-26 01:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1f8e52ce2d280b7726cffcac34fa52fd28f616a', 'message': 'attributes: Additional IP address validation\n\nTo fix UT failure on some platforms, introduce an additional\nip address validation instead of assuming that netaddr provides it.\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 20, 'created': '2015-01-26 02:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9236e7614ee17d69441783a1c284448a8535c932', 'message': 'attributes: Additional IP address validation\n\nIntroduce an additional IP address validation instead of assuming\nthat netaddr provides it.  Namely, it ensures that an address\neither has \':\' (IPv6) or 3 periods like \'xx.xx.xx.xx\'. (IPv4)\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}, {'number': 21, 'created': '2015-01-26 02:55:43.000000000', 'files': ['neutron/tests/unit/test_attributes.py', 'neutron/api/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2794bb89d664355ae1194a0b1f8346c1538caef8', 'message': 'attributes: Additional IP address validation\n\nIntroduce an additional IP address validation instead of assuming\nthat netaddr provides it.  Namely, it ensures that an address\neither has \':\' (IPv6) or 3 periods like \'xx.xx.xx.xx\'. (IPv4)\n\nThe ""\'1\' * 59"" test case recently introduced by\ncommit 1681f62ec91b6c3705a14393815542dc1746de71 fails on\nsome platforms because it\'s considered a valid address by\ntheir inet_aton.  Examples of such platforms: NetBSD, OS X\n\nWhile one might argue it\'s a fault of the platforms, this is\na historical behavior which is probably too late to change there.\n\n(The breakage has been hidden by later UT changes in\ncommit 35662d07628452d14306f5197871ad64f6396ff3 .\nThis commit includes a UT change to uncover the problem again.)\n\nCloses-Bug: #1394867\nRelated-Bug: #1378450\nChange-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9\n'}]",33,136238,2794bb89d664355ae1194a0b1f8346c1538caef8,390,42,21,6854,,,0,"attributes: Additional IP address validation

Introduce an additional IP address validation instead of assuming
that netaddr provides it.  Namely, it ensures that an address
either has ':' (IPv6) or 3 periods like 'xx.xx.xx.xx'. (IPv4)

The ""'1' * 59"" test case recently introduced by
commit 1681f62ec91b6c3705a14393815542dc1746de71 fails on
some platforms because it's considered a valid address by
their inet_aton.  Examples of such platforms: NetBSD, OS X

While one might argue it's a fault of the platforms, this is
a historical behavior which is probably too late to change there.

(The breakage has been hidden by later UT changes in
commit 35662d07628452d14306f5197871ad64f6396ff3 .
This commit includes a UT change to uncover the problem again.)

Closes-Bug: #1394867
Related-Bug: #1378450
Change-Id: Ibe02f8b7c4d437bf7abbe7304ca138bdcf4bfdb9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/136238/19 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_attributes.py'],1,df1d4b032f526a6baded498e1442f4ed5ace9d22,bug/1394867," # The following might or might not be valid depending platforms. # We just want to ensure it won't freeze or crash. ns_pools = [['1' * 59]] for ns in ns_pools: attributes._validate_nameservers(ns, None) "," ['1' * 59],",7,1
openstack%2Fshade~master~I3f0c260b70228de002e57a950e466f0675d4b50f,openstack/shade,master,I3f0c260b70228de002e57a950e466f0675d4b50f,Do not always raise exception if no image found,ABANDONED,2015-01-16 02:31:36.000000000,2015-01-26 20:18:59.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1420}]","[{'number': 1, 'created': '2015-01-16 02:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ab82bfd2f04d928a8392fbf82e28dadc200a7cf7', 'message': 'Do not always raise exception if no image found\n\nAllow image get to optionall return None if an image is not found\ninstead of always raising an exception.\n\nChange-Id: I3f0c260b70228de002e57a950e466f0675d4b50f\n'}, {'number': 2, 'created': '2015-01-19 23:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1216523a84727478d7bebb1596334b4bc9e357d1', 'message': 'Do not always raise exception if no image found\n\nAllow image get to optionall return None if an image is not found\ninstead of always raising an exception.\n\nChange-Id: I3f0c260b70228de002e57a950e466f0675d4b50f\n'}, {'number': 3, 'created': '2015-01-20 22:52:48.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/6c6b110fec92ece09b117251c2a1e06afa33163d', 'message': 'Do not always raise exception if no image found\n\nAllow image get to optionall return None if an image is not found\ninstead of always raising an exception.\n\nChange-Id: I3f0c260b70228de002e57a950e466f0675d4b50f\n'}]",0,147732,6c6b110fec92ece09b117251c2a1e06afa33163d,11,4,3,1420,,,0,"Do not always raise exception if no image found

Allow image get to optionall return None if an image is not found
instead of always raising an exception.

Change-Id: I3f0c260b70228de002e57a950e466f0675d4b50f
",git fetch https://review.opendev.org/openstack/shade refs/changes/32/147732/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,ab82bfd2f04d928a8392fbf82e28dadc200a7cf7,147731," def get_image(self, name_or_id, exclude=None, error=True): if error: raise OpenStackCloudException( ""Error finding image from %s"" % name_or_id) return None"," def get_image(self, name_or_id, exclude=None): raise OpenStackCloudException( ""Error finding image from %s"" % name_or_id)",5,3
openstack%2Fpython-novaclient~master~Ic1f8bde779fe269c0671c0d637bdf9a2d8866557,openstack/python-novaclient,master,Ic1f8bde779fe269c0671c0d637bdf9a2d8866557,Updated from global requirements,MERGED,2015-01-26 10:34:22.000000000,2015-01-26 20:09:28.000000000,2015-01-26 20:09:27.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-01-26 10:34:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a3d09fe095e5727676bab1bd01e463db6b8b452b', 'message': 'Updated from global requirements\n\nChange-Id: Ic1f8bde779fe269c0671c0d637bdf9a2d8866557\n'}]",0,149980,a3d09fe095e5727676bab1bd01e463db6b8b452b,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ic1f8bde779fe269c0671c0d637bdf9a2d8866557
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/80/149980/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a3d09fe095e5727676bab1bd01e463db6b8b452b,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Fneutron~master~If7f7cffd454864fb9b531dd3b56460517a35f3ad,openstack/neutron,master,If7f7cffd454864fb9b531dd3b56460517a35f3ad,Mention networking_odl in README.odl,MERGED,2015-01-22 02:22:29.000000000,2015-01-26 20:08:26.000000000,2015-01-26 07:02:42.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 2874}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 02:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a123ce107977747fe02f04ab747185039e1225af', 'message': 'Mentions networking_odl in REDAME.odl\n\nChange-Id: If7f7cffd454864fb9b531dd3b56460517a35f3ad\nCloses-Bug: #1413439\n'}, {'number': 2, 'created': '2015-01-26 02:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be91d7b15be1b909ac34e141b95de4a8d4baec70', 'message': 'Mention networking_odl in README.odl\n\nChange-Id: If7f7cffd454864fb9b531dd3b56460517a35f3ad\nCloses-Bug: #1413439\n'}, {'number': 3, 'created': '2015-01-26 02:45:20.000000000', 'files': ['neutron/plugins/ml2/drivers/README.odl'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63a77d27b6e2b137ef8630bdc89bd49f4189dbb7', 'message': 'Mention networking_odl in README.odl\n\nChange-Id: If7f7cffd454864fb9b531dd3b56460517a35f3ad\nCloses-Bug: #1413439\n'}]",6,149122,63a77d27b6e2b137ef8630bdc89bd49f4189dbb7,50,23,3,2874,,,0,"Mention networking_odl in README.odl

Change-Id: If7f7cffd454864fb9b531dd3b56460517a35f3ad
Closes-Bug: #1413439
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/149122/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/README.odl'],1,a123ce107977747fe02f04ab747185039e1225af,bug/1413439,The networking-odl project provides a thin layer sitting between this driver and OpenDaylight. The codes can be downloaded from: https://github.com/stackforge/networking-odl MechanismDriver which acts as a REST proxy and passes all Neutron API,MechanismDriver which acts as a REST proxy and passess all Neutron API,5,1
openstack%2Fpuppet-ironic~master~I73cecc590038fa7d9518453c448bfc243ddedff1,openstack/puppet-ironic,master,I73cecc590038fa7d9518453c448bfc243ddedff1,Fix Ironic modules so services properly run in Juno,MERGED,2014-11-12 20:36:24.000000000,2015-01-26 20:06:59.000000000,2015-01-26 20:06:57.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 7155}, {'_account_id': 7462}, {'_account_id': 8482}, {'_account_id': 10419}, {'_account_id': 10540}, {'_account_id': 11491}, {'_account_id': 13294}]","[{'number': 1, 'created': '2014-11-12 20:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/fdddbf7456997516da395b1247e64e69349174e9', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 2, 'created': '2014-11-12 21:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7b153123449e88fd312d29667596ce9a6f12fb02', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 3, 'created': '2014-11-12 21:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a01ae977c2dc50877732da73d43b599d3248b6a6', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 4, 'created': '2014-11-12 21:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7f3315e5bc0a63485180bf17756bac912b71d759', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 5, 'created': '2014-12-02 15:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9ad746a5d3a8dac3227370ce2f7a3d25d8d1e6ae', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 6, 'created': '2014-12-04 19:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5acd6004f48065ba8747593981a5bc7cd5fdf233', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nConflicts:\n\tmanifests/keystone/auth.pp\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 7, 'created': '2014-12-15 20:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2251843ae56c0399831f21234df9540d43809284', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nConflicts:\n\tmanifests/keystone/auth.pp\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 8, 'created': '2014-12-15 21:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a7ed4f4b4bba5783a216f91899e5e3f04fd04b5d', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 9, 'created': '2014-12-17 22:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/556446b82f58a1ed8d7bd74457d3f81805fbc8df', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 10, 'created': '2014-12-18 14:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e6ce348f97af838db424a6b29b3cb6a4257e595d', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 11, 'created': '2014-12-18 15:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/89b224c9a839be835ecdf11ef0fcfb359cce3e33', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nConflicts:\n\tmanifests/keystone/auth.pp\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 12, 'created': '2014-12-18 22:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/32f5aba50c081d7180cbd3f666e874cd01b0237b', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 13, 'created': '2014-12-18 22:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/161998ef6341e6e77f640d97fd47fbefcec471b6', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 14, 'created': '2014-12-18 23:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1851ee775031d88668f0dbfb275179fcf9059a8e', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 15, 'created': '2014-12-19 01:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f0c76ee82adce7e06f121851ec430090a7e6a065', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required and was not being installed\nelsewhere so it is installed by the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 16, 'created': '2014-12-23 13:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/fb55f6a31cd7bc1bdca12f264527602b4fb4d5c8', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required by ironic-conductor and was not\nbeing installed.  Therefore, puppet will need to ensure its presense\nin the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 17, 'created': '2015-01-12 15:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4fe0e0d441197a569ef133591554929fa3890b26', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required by ironic-conductor and was not\nbeing installed.  Therefore, puppet will need to ensure its presense\nin the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 18, 'created': '2015-01-16 19:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/807b49139d70b01c2b06fd47a2b7886075d3432d', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe package 'python-pbr' is required by ironic-conductor and was not\nbeing installed.  Therefore, puppet will need to ensure its presense\nin the init module.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 19, 'created': '2015-01-19 12:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/800361364b4b5784500535044f4f048d5a07e2b2', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}, {'number': 20, 'created': '2015-01-22 22:10:40.000000000', 'files': ['spec/classes/ironic_init_spec.rb', 'spec/classes/ironic_api_spec.rb', 'examples/ironic.pp', 'manifests/api.pp', 'manifests/init.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7f5d4ed6940b5ee2371af02f1b8b09da7d3f0bfc', 'message': ""Fix Ironic modules so services properly run in Juno\n\nInitially, the module was not creating an ironic.conf file and now\nit does.  The configurations that are being put into the ironic.conf\nfile come straight out of the documentation.\n\nThe ironic-conductor service requires the execution of 'ironic-dbsync'\nbefore it can be active.\n\nIn the params module, the 'RedHat' packages and services were named\nincorrectly or were otherwise missing.\n\nChange-Id: I73cecc590038fa7d9518453c448bfc243ddedff1\n""}]",32,134048,7f5d4ed6940b5ee2371af02f1b8b09da7d3f0bfc,88,10,20,10419,,,0,"Fix Ironic modules so services properly run in Juno

Initially, the module was not creating an ironic.conf file and now
it does.  The configurations that are being put into the ironic.conf
file come straight out of the documentation.

The ironic-conductor service requires the execution of 'ironic-dbsync'
before it can be active.

In the params module, the 'RedHat' packages and services were named
incorrectly or were otherwise missing.

Change-Id: I73cecc590038fa7d9518453c448bfc243ddedff1
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/48/134048/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/init.pp', 'manifests/params.pp']",3,fdddbf7456997516da395b1247e64e69349174e9,ironic-plugin, $dbsync_command = 'ironic-dbsync --config-file /etc/ironic/ironic.conf' $common_package_name = 'openstack-ironic-common' $api_package = 'openstack-ironic-api' $api_service = 'openstack-ironic-api' $conductor_package = 'openstack-ironic-conductor' $conductor_service = 'openstack-ironic-conductor' $client_package = 'python-ironicclient' $pbr_package = 'python-pbr' $common_package_name = 'ironic-common' $api_service = 'ironic-api' $api_package = 'ironic-api' $conductor_service = 'ironic-conductor' $conductor_package = 'ironic-conductor' $client_package = 'python-ironicclient' $pbr_package = 'python-pbr', $package_name = 'openstack-ironic' $api_package = false $conductor_package = false $api_service = 'ironic-api' $conductor_service = 'ironic-conductor' $client_package = 'python-ironicclient' $package_name = 'ironic-common' $api_service = 'ironic-api' $conductor_service = 'ironic-conductor' $api_package = 'ironic-api' $conductor_package = 'ironic-conductor' $client_package = 'python-ironicclient',47,20
openstack%2Ftempest-lib~master~I39a2e94e1c27a83de2b976f263928c5199d44b22,openstack/tempest-lib,master,I39a2e94e1c27a83de2b976f263928c5199d44b22,Fix migrate_from_tempest script to work with multiple files,MERGED,2015-01-16 20:32:59.000000000,2015-01-26 20:03:52.000000000,2015-01-26 20:03:49.000000000,"[{'_account_id': 3}, {'_account_id': 5174}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 12378}]","[{'number': 1, 'created': '2015-01-16 20:32:59.000000000', 'files': ['tools/migrate_from_tempest.sh'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/c473cda72f2ea6e3af6b16f61fd73234ba42cd8b', 'message': ""Fix migrate_from_tempest script to work with multiple files\n\nThe '--follow' option from git log was used to follow the file even if\nit was renamed for instance, although the option can't deal with\nmultiple files which was blocking us to migrate multiple files at once.\n\nThis patches fixes the issue by looking one file at time and\nconcatenating their ids in the end.\n\nChange-Id: I39a2e94e1c27a83de2b976f263928c5199d44b22\nCloses-bug: #1411499\n""}]",0,147980,c473cda72f2ea6e3af6b16f61fd73234ba42cd8b,10,5,1,5174,,,0,"Fix migrate_from_tempest script to work with multiple files

The '--follow' option from git log was used to follow the file even if
it was renamed for instance, although the option can't deal with
multiple files which was blocking us to migrate multiple files at once.

This patches fixes the issue by looking one file at time and
concatenating their ids in the end.

Change-Id: I39a2e94e1c27a83de2b976f263928c5199d44b22
Closes-bug: #1411499
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/80/147980/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/migrate_from_tempest.sh'],1,c473cda72f2ea6e3af6b16f61fd73234ba42cd8b,bug/1411499,"for file in $files; do # get only commits that touch our files commits=""$commits $(git log --format=format:%h --no-merges --follow -- $file)"" # then their merge commits - which works fina since we merge commits # individually. merge_commits=""$merge_commits $(git log --format=format:%h --merges --first-parent -- $file)"" done ","# get only commits that touch our files commits=""$(git log --format=format:%h --no-merges --follow -- $files)"" # then their merge commits - which works fina since we merge commits # individually. merge_commits=""$(git log --format=format:%h --merges --first-parent -- $files)""",8,5
openstack%2Fcookbook-openstack-object-storage~master~I028776c481a1c96bba3496adfcca149f9ada42d3,openstack/cookbook-openstack-object-storage,master,I028776c481a1c96bba3496adfcca149f9ada42d3,Add swift.conf template,MERGED,2014-11-19 18:33:08.000000000,2015-01-26 19:53:30.000000000,2015-01-26 19:53:29.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12213}, {'_account_id': 12323}, {'_account_id': 12588}]","[{'number': 1, 'created': '2014-11-19 18:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/b57dfd44435655847794b3d4deee34ae4ef45872', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* update private databag to use Common ones\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 2, 'created': '2014-11-19 18:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/fbe78259024f3e26f31b20d72a5c8a6c1291edf6', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 3, 'created': '2014-12-03 17:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/e5841573c249df5dfdc2fc390da09ee6e7c9d4a8', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 4, 'created': '2014-12-03 18:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/cbca0f099680bd79f910b944b0385e8488e5bb49', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 5, 'created': '2014-12-03 19:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/f76e3ea542e29b87ec0ceed6a76d7379646f8fbc', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 6, 'created': '2014-12-03 19:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/41df22ca485159d13da350a5fa1cd4e648d7d5d3', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 7, 'created': '2014-12-17 19:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/8b4f3495c554f285873c0e618e558fd797b65706', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 8, 'created': '2015-01-13 18:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/dea062b1cf206fa26a130284253056ea356a67cd', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 9, 'created': '2015-01-13 20:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/d074655d90024ade3b1be9a48470429ab714d176', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\n'}, {'number': 10, 'created': '2015-01-15 18:00:35.000000000', 'files': ['templates/default/swift.conf.erb', 'spec/common_spec.rb', 'templates/default/simple-redhat-init-config.erb', 'templates/default/dispersion.conf.erb', 'templates/default/rsyncd.conf.erb', 'spec/storage-common_spec.rb', 'templates/default/object-server.conf.erb', 'recipes/management-server.rb', 'templates/default/pull-rings.sh.erb', 'spec/account_spec.rb', 'recipes/proxy-server.rb', 'attributes/default.rb', 'templates/default/proxy-server.conf.erb', 'templates/default/account-server.conf.erb', 'templates/default/swift-statsd-publish.py.erb', 'spec/management_spec.rb', 'spec/rsync_spec.rb', 'templates/default/drive-audit.conf.erb', 'CHANGELOG.md', 'README.md', 'spec/proxy_spec.rb', 'templates/default/container-server.conf.erb', 'spec/spec_helper.rb', 'spec/object_spec.rb', 'spec/container_spec.rb', 'recipes/common.rb', 'templates/default/simple-systemd-config.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/d0ce1d6c57f5d3f088bf986815ff014dda81fa80', 'message': 'Add swift.conf template\n\n* new template with attributes for values\n* Allow use of Common databags, deprecated swift databag\n* update banners in all templates\n* update specs\n\nThis is another patch on the road to bringing the swift cookbook\nup to speed with the latest Common functions and with Juno in general.\n\nChange-Id: I028776c481a1c96bba3496adfcca149f9ada42d3\nBlueprint: object-storage-cleanup\n'}]",1,135691,d0ce1d6c57f5d3f088bf986815ff014dda81fa80,34,6,10,7128,,,0,"Add swift.conf template

* new template with attributes for values
* Allow use of Common databags, deprecated swift databag
* update banners in all templates
* update specs

This is another patch on the road to bringing the swift cookbook
up to speed with the latest Common functions and with Juno in general.

Change-Id: I028776c481a1c96bba3496adfcca149f9ada42d3
Blueprint: object-storage-cleanup
",git fetch https://review.opendev.org/openstack/cookbook-openstack-object-storage refs/changes/91/135691/7 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default/swift.conf.erb', 'spec/common_spec.rb', 'templates/default/simple-redhat-init-config.erb', 'templates/default/dispersion.conf.erb', 'templates/default/rsyncd.conf.erb', 'spec/storage-common_spec.rb', 'templates/default/object-server.conf.erb', 'recipes/management-server.rb', 'templates/default/pull-rings.sh.erb', 'spec/account_spec.rb', 'recipes/proxy-server.rb', 'attributes/default.rb', 'templates/default/proxy-server.conf.erb', 'templates/default/account-server.conf.erb', 'templates/default/swift-statsd-publish.py.erb', 'spec/management_spec.rb', 'spec/rsync_spec.rb', 'templates/default/drive-audit.conf.erb', 'CHANGELOG.md', 'README.md', 'spec/proxy_spec.rb', 'templates/default/container-server.conf.erb', 'spec/spec_helper.rb', 'spec/object_spec.rb', 'spec/container_spec.rb', 'recipes/common.rb', 'templates/default/simple-systemd-config.erb']",27,b57dfd44435655847794b3d4deee34ae4ef45872,swift-template,<%= node['openstack']['object-storage']['custom_template_banner'] %> ,,313,31
openstack%2Fopenstack-chef-repo~master~I28c01ecb0fafa46fcf73ef8176eabe6806be207f,openstack/openstack-chef-repo,master,I28c01ecb0fafa46fcf73ef8176eabe6806be207f,Add usage with Chef Server manual steps doc,MERGED,2015-01-15 11:30:38.000000000,2015-01-26 19:53:06.000000000,2015-01-26 19:53:06.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-15 11:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/8cefd43964796a4249df4a364b3a3d4a85315018', 'message': ""Add getting started document\n\nThis will helpful for beginners to know the basic workflow of\nopenstack-chef-repo, and it's a good start for beginners to deploy\nOpenStack environment through Chef.\n\nChange-Id: I28c01ecb0fafa46fcf73ef8176eabe6806be207f\n""}, {'number': 2, 'created': '2015-01-15 11:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/56165968a03c0e7f3b059f44bf6c2b89e0b1b8b3', 'message': ""Add getting started document\n\nThis will helpful for beginners to know the basic workflow of\nopenstack-chef-repo, and it's a good start for beginners to deploy\nOpenStack environment through Chef.\n\nChange-Id: I28c01ecb0fafa46fcf73ef8176eabe6806be207f\n""}, {'number': 3, 'created': '2015-01-20 02:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/f607f6675d2d506bd4683028fa4f3bbc37d594bc', 'message': ""Add usage with Chef Server manual steps doc\n\nThis will helpful for beginners to know the basic workflow of\nopenstack-chef-repo, and it's a good start for beginners to deploy\nOpenStack environment through Chef.\n\nChange-Id: I28c01ecb0fafa46fcf73ef8176eabe6806be207f\n""}, {'number': 4, 'created': '2015-01-22 01:14:11.000000000', 'files': ['environments/example.json', 'CHANGELOG.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/9ce35810b74ec0916524f1c77ecd7a695d09645e', 'message': ""Add usage with Chef Server manual steps doc\n\nThis will helpful for beginners to know the basic workflow of\nopenstack-chef-repo, and it's a good start for beginners to deploy\nOpenStack environment through Chef.\n\nChange-Id: I28c01ecb0fafa46fcf73ef8176eabe6806be207f\n""}]",1,147472,9ce35810b74ec0916524f1c77ecd7a695d09645e,18,3,4,9488,,,0,"Add usage with Chef Server manual steps doc

This will helpful for beginners to know the basic workflow of
openstack-chef-repo, and it's a good start for beginners to deploy
OpenStack environment through Chef.

Change-Id: I28c01ecb0fafa46fcf73ef8176eabe6806be207f
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/72/147472/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/example.json', 'getting-started.md', 'CHANGELOG.md', 'README.md']",4,8cefd43964796a4249df4a364b3a3d4a85315018,install-doc,chef-client -z -E zero-demo -r 'role[allinone-compute]',chef-client -z knife node -z run_list add your_node_name 'role[allinone-compute]' chef-client -z -E zero-demo,89,3
openstack%2Fproject-config~master~I411513f71ca5cdfeaf049a4a93e739e306d44c26,openstack/project-config,master,I411513f71ca5cdfeaf049a4a93e739e306d44c26,Fix link to infra-specs,MERGED,2015-01-26 18:42:25.000000000,2015-01-26 19:51:23.000000000,2015-01-26 19:51:21.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6609}]","[{'number': 1, 'created': '2015-01-26 18:42:25.000000000', 'files': ['specs/specs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7422661551fbf399aaaf9f00186906760ac65ec7', 'message': 'Fix link to infra-specs\n\nThe git repository path was specified incorrectly.\n\nChange-Id: I411513f71ca5cdfeaf049a4a93e739e306d44c26\n'}]",0,150113,7422661551fbf399aaaf9f00186906760ac65ec7,8,4,1,2472,,,0,"Fix link to infra-specs

The git repository path was specified incorrectly.

Change-Id: I411513f71ca5cdfeaf049a4a93e739e306d44c26
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/150113/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/specs.yaml'],1,7422661551fbf399aaaf9f00186906760ac65ec7,fix-infra-specs-link, repo: openstack-infra/infra-specs, repo: openstack/infra-specs,1,1
openstack%2Fhorizon~master~Ib2eb71f66dcd000e823da72166d174baf36c2ff9,openstack/horizon,master,Ib2eb71f66dcd000e823da72166d174baf36c2ff9,Wrap the main block of detail.html with col-sm-12 class,MERGED,2014-12-08 13:34:49.000000000,2015-01-26 19:45:56.000000000,2015-01-26 19:45:55.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 8090}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 10442}, {'_account_id': 12826}]","[{'number': 1, 'created': '2014-12-08 13:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/863802e488cc56fbf782c5fc7b51e87cbbcef87d', 'message': 'Wrap the main block of detail.html with col-sm-12 class\n\nIn some detail page, the main block was not wrapped with\ncol-sm-12 bootstrap class and it leads to inconsistent\nleft margin among detail pages.\n\nChange-Id: Ib2eb71f66dcd000e823da72166d174baf36c2ff9\nCloses-Bug: #1400317\n'}, {'number': 2, 'created': '2015-01-22 04:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb1d7042f018b2be816e5bbf400c47c9ba30b244', 'message': 'Wrap the main block of detail.html with col-sm-12 class\n\nIn some detail page, the main block was not wrapped with\ncol-sm-12 bootstrap class and it leads to inconsistent\nleft margin among detail pages.\n\nChange-Id: Ib2eb71f66dcd000e823da72166d174baf36c2ff9\nCloses-Bug: #1400317\n\topenstack_dashboard/dashboards/project/routers/templates/routers/detail.html\n'}, {'number': 3, 'created': '2015-01-22 04:46:52.000000000', 'files': ['openstack_dashboard/dashboards/admin/hypervisors/templates/hypervisors/detail.html', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/security_groups/detail.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4ca7e80d23649d08b84d97ae0ae7e9b9ec3ca4b', 'message': 'Wrap the main block of detail.html with col-sm-12 class\n\nIn some detail page, the main block was not wrapped with\ncol-sm-12 bootstrap class and it leads to inconsistent\nleft margin among detail pages.\n\nChange-Id: Ib2eb71f66dcd000e823da72166d174baf36c2ff9\nCloses-Bug: #1400317\n'}]",0,140000,d4ca7e80d23649d08b84d97ae0ae7e9b9ec3ca4b,22,8,3,841,,,0,"Wrap the main block of detail.html with col-sm-12 class

In some detail page, the main block was not wrapped with
col-sm-12 bootstrap class and it leads to inconsistent
left margin among detail pages.

Change-Id: Ib2eb71f66dcd000e823da72166d174baf36c2ff9
Closes-Bug: #1400317
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/140000/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/templates/networks/detail.html', 'openstack_dashboard/dashboards/project/routers/templates/routers/detail.html', 'openstack_dashboard/dashboards/admin/hypervisors/templates/hypervisors/detail.html', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/security_groups/detail.html']",4,863802e488cc56fbf782c5fc7b51e87cbbcef87d,bug/1400317,"<div class=""row""> <div class=""col-sm-12""> </div> </div>",,14,2
openstack%2Fcookbook-openstack-ops-database~master~I8746e5001ea5cefc497049111f4d2e5e250f26de,openstack/cookbook-openstack-ops-database,master,I8746e5001ea5cefc497049111f4d2e5e250f26de,Cleanup CHEF-3694 cloning warnings,MERGED,2015-01-12 22:01:26.000000000,2015-01-26 19:40:27.000000000,2015-01-26 19:40:27.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 11915}, {'_account_id': 12323}, {'_account_id': 13252}]","[{'number': 1, 'created': '2015-01-12 22:01:26.000000000', 'files': ['recipes/mysql-server.rb', 'spec/mysql-server_spec.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/408ad33b3f7d467f9c21dceb83f6bc4b89cbf63e', 'message': ""Cleanup CHEF-3694 cloning warnings\n\n* lookup mysql service resource instead of re-declaring it\n* use unique name for flush resource as it's two separate uses\n\nChange-Id: I8746e5001ea5cefc497049111f4d2e5e250f26de\nPartial-Bug: #1409921\n""}]",0,146653,408ad33b3f7d467f9c21dceb83f6bc4b89cbf63e,13,7,1,7128,,,0,"Cleanup CHEF-3694 cloning warnings

* lookup mysql service resource instead of re-declaring it
* use unique name for flush resource as it's two separate uses

Change-Id: I8746e5001ea5cefc497049111f4d2e5e250f26de
Partial-Bug: #1409921
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/53/146653/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/mysql-server.rb', 'spec/mysql-server_spec.rb', 'CHANGELOG.md']",3,408ad33b3f7d467f9c21dceb83f6bc4b89cbf63e,bug/1409921,* Cleanup CHEF-3694 warnings,,6,5
openstack%2Frally~master~Iebafab6acc70a506b8423bd0f23a676b1f52c4be,openstack/rally,master,Iebafab6acc70a506b8423bd0f23a676b1f52c4be,Fix cinder scenario: create nested snapshots,MERGED,2015-01-26 15:09:34.000000000,2015-01-26 19:29:00.000000000,2015-01-26 19:28:24.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-26 15:09:34.000000000', 'files': ['tests/unit/benchmark/scenarios/cinder/test_volumes.py', 'rally/benchmark/scenarios/cinder/volumes.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/e55b9c42bb5bb9195b6698203aa00a3c47ea4268', 'message': 'Fix cinder scenario: create nested snapshots\n\nChange delete order, first delete snapshot without related volumes,\nthan related volume by chain, and so on.\n\nChange-Id: Iebafab6acc70a506b8423bd0f23a676b1f52c4be\n'}]",0,150053,e55b9c42bb5bb9195b6698203aa00a3c47ea4268,9,4,1,13636,,,0,"Fix cinder scenario: create nested snapshots

Change delete order, first delete snapshot without related volumes,
than related volume by chain, and so on.

Change-Id: Iebafab6acc70a506b8423bd0f23a676b1f52c4be
",git fetch https://review.opendev.org/openstack/rally refs/changes/53/150053/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/scenarios/cinder/volumes.py', 'tests/unit/benchmark/scenarios/cinder/test_volumes.py']",2,e55b9c42bb5bb9195b6698203aa00a3c47ea4268,nested-snapshots," def test_create_nested_snapshots_calls_order(self): fake_volume1 = mock.MagicMock() fake_volume2 = mock.MagicMock() fake_snapshot1 = mock.MagicMock() fake_snapshot2 = mock.MagicMock() fake_clients = fakes.FakeClients() fake_server = fake_clients.nova().servers.create(""test_server"", ""image_id_01"", ""flavor_id_01"") scenario = volumes.CinderVolumes( context={""user"": {""tenant_id"": ""fake""}, ""users"": [{""tenant_id"": ""fake"", ""users_per_tenant"": 1}], ""tenant"": {""id"": ""fake"", ""name"": ""fake"", ""servers"": [fake_server.uuid]}}) scenario._attach_volume = mock.MagicMock() scenario._detach_volume = mock.MagicMock() scenario._delete_server = mock.MagicMock() scenario._create_volume = mock.MagicMock( side_effect=[fake_volume1, fake_volume2]) scenario._delete_volume = mock.MagicMock() scenario._create_snapshot = mock.MagicMock( side_effect=[fake_snapshot1, fake_snapshot2]) scenario._delete_snapshot = mock.MagicMock() scenario._clients = fake_clients scenario.create_nested_snapshots_and_attach_volume( nested_level={""min"": 2, ""max"": 2}) vol_delete_calls = [mock.call(fake_volume2), mock.call(fake_volume1)] snap_delete_calls = [mock.call(fake_snapshot2), mock.call(fake_snapshot1)] scenario._delete_volume.assert_has_calls(vol_delete_calls) scenario._delete_snapshot.assert_has_calls(snap_delete_calls)",,46,11
openstack%2Fopenstacksdk~master~Id6ee4072fc79d5e02f2eda1dfd2cd710d3e8d430,openstack/openstacksdk,master,Id6ee4072fc79d5e02f2eda1dfd2cd710d3e8d430,Use the proper timeutils package name,MERGED,2015-01-26 16:32:49.000000000,2015-01-26 19:24:46.000000000,2015-01-26 19:24:46.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-01-26 16:32:49.000000000', 'files': ['openstack/auth/access.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2bd6fc8d6114410d83e32c6b6b5897c10bf0fab7', 'message': 'Use the proper timeutils package name\n\nThe following DeprecationWarning is raised while running the tests:\n""The oslo namespace package is deprecated. Please use oslo_utils\ninstead."" This swithces our usage from oslo.utils to oslo_utils.\n\nChange-Id: Id6ee4072fc79d5e02f2eda1dfd2cd710d3e8d430\n'}]",0,150087,2bd6fc8d6114410d83e32c6b6b5897c10bf0fab7,7,3,1,8257,,,0,"Use the proper timeutils package name

The following DeprecationWarning is raised while running the tests:
""The oslo namespace package is deprecated. Please use oslo_utils
instead."" This swithces our usage from oslo.utils to oslo_utils.

Change-Id: Id6ee4072fc79d5e02f2eda1dfd2cd710d3e8d430
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/87/150087/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/auth/access.py'],1,2bd6fc8d6114410d83e32c6b6b5897c10bf0fab7,oslo_deprecationwarning,from oslo_utils import timeutils,from oslo.utils import timeutils,1,1
openstack%2Fneutron~master~Ife1d8a538c1bdddac30ca1c30c48a71564860624,openstack/neutron,master,Ife1d8a538c1bdddac30ca1c30c48a71564860624,pep8: cleaned up excludes,MERGED,2015-01-21 15:58:39.000000000,2015-01-26 19:19:05.000000000,2015-01-26 19:19:03.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 7293}, {'_account_id': 7962}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12643}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 15:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/138978c1154c4be77602df6ca6c3297baf2852ba', 'message': ""pep8: cleaned up excludes\n\nDon't over-exclude files from pep8 automation. Specifically, tools/*\nshould maintain common Python style as any other Neutron code.\n\nFixed some minor pep8 violations in tools/*.\n\nDon't exclude every single dot-file/dot-dir separately but instead\napply .* wildcard.\n\nDrop rally-scenarios exclusion. First, the directory is now rally-jobs,\nso exclusion didn't work. Second, it's better to also apply pep8 checks\nfor those files (there are some Python files inside the directory).\n\nChange-Id: Ife1d8a538c1bdddac30ca1c30c48a71564860624\n""}, {'number': 2, 'created': '2015-01-23 14:06:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f37bf413abf43940cf03715d445f5b8b1bf2f5f', 'message': ""pep8: cleaned up excludes\n\nDon't over-exclude files from pep8 automation. Specifically, tools/*\nshould maintain common Python style as any other Neutron code.\n\nDon't exclude every single dot-file/dot-dir separately but instead\napply .* wildcard.\n\nDrop rally-scenarios exclusion. First, the directory is now rally-jobs,\nso exclusion didn't work. Second, it's better to also apply pep8 checks\nfor those files (there are some Python files inside the directory).\n\nChange-Id: Ife1d8a538c1bdddac30ca1c30c48a71564860624\n""}]",2,148968,7f37bf413abf43940cf03715d445f5b8b1bf2f5f,58,27,2,9656,,,0,"pep8: cleaned up excludes

Don't over-exclude files from pep8 automation. Specifically, tools/*
should maintain common Python style as any other Neutron code.

Don't exclude every single dot-file/dot-dir separately but instead
apply .* wildcard.

Drop rally-scenarios exclusion. First, the directory is now rally-jobs,
so exclusion didn't work. Second, it's better to also apply pep8 checks
for those files (there are some Python files inside the directory).

Change-Id: Ife1d8a538c1bdddac30ca1c30c48a71564860624
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/148968/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/i18n_cfg.py', 'tools/check_i18n.py', 'tox.ini']",3,138978c1154c4be77602df6ca6c3297baf2852ba,tox,"exclude = \.*,build,dist,neutron/openstack/common/*,neutron/tests/unit/vmware*","exclude = .venv,.git,.tox,dist,doc,*openstack/common*,*lib/python*,*egg,build,tools,.ropeproject,rally-scenarios,neutron/tests/unit/vmware*",15,3
openstack%2Fneutron~master~Idf6e6c9e6096c4b7b2034be94c88460b744b7532,openstack/neutron,master,Idf6e6c9e6096c4b7b2034be94c88460b744b7532,Remove check_i18n tox target,MERGED,2015-01-23 14:06:30.000000000,2015-01-26 19:18:49.000000000,2015-01-26 19:18:48.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6601}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-23 14:06:30.000000000', 'files': ['tools/i18n_cfg.py', 'tools/check_i18n.py', 'tox.ini', 'tools/check_i18n_test_case.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8714ab28090f7a43f5cb3e712d554da0dc58bed7', 'message': 'Remove check_i18n tox target\n\nNow that we have hacking rules to check proper localization, drop the\ntarget.\n\nChange-Id: Idf6e6c9e6096c4b7b2034be94c88460b744b7532\n'}]",0,149636,8714ab28090f7a43f5cb3e712d554da0dc58bed7,23,19,1,9656,,,0,"Remove check_i18n tox target

Now that we have hacking rules to check proper localization, drop the
target.

Change-Id: Idf6e6c9e6096c4b7b2034be94c88460b744b7532
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/149636/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/i18n_cfg.py', 'tools/check_i18n.py', 'tox.ini', 'tools/check_i18n_test_case.txt']",4,8714ab28090f7a43f5cb3e712d554da0dc58bed7,tox,,"# test-case for check_i18n.py # python check_i18n.py check_i18n.txt -d # message format checking # capital checking msg = _(""hello world, error"") msg = _(""hello world_var, error"") msg = _('file_list xyz, pass') msg = _(""Hello world, pass"") # format specifier checking msg = _(""Hello %s world %d, error"") msg = _(""Hello %s world, pass"") msg = _(""Hello %(var1)s world %(var2)s, pass"") # message has been localized # is_localized msg = _(""Hello world, pass"") msg = _(""Hello world, pass"") % var LOG.debug(_('Hello world, pass')) LOG.info(_('Hello world, pass')) raise x.y.Exception(_('Hello world, pass')) raise Exception(_('Hello world, pass')) # message need be localized # is_log_callfunc LOG.debug('hello world, error') LOG.debug('hello world, error' % xyz) sys.append('hello world, warn') # is_log_i18n_msg_with_mod LOG.debug(_('Hello world, error') % xyz) # default warn msg = 'hello world, warn' msg = 'hello world, warn' % var # message needn't be localized # skip only one word msg = '' msg = ""hello,pass"" # skip dict msg = {'hello world, pass': 1} # skip list msg = [""hello world, pass""] # skip subscript msg['hello world, pass'] # skip xml marker msg = ""<test><t></t></test>, pass"" # skip sql statement msg = ""SELECT * FROM xyz WHERE hello=1, pass"" msg = ""select * from xyz, pass"" # skip add statement msg = 'hello world' + e + 'world hello, pass' # skip doc string """""" Hello world, pass """""" class Msg: pass ",0,320
openstack%2Fnetworking-l2gw~master~I5d5ee4dfd8dd26495df1955f00ccbbc17ed4acc2,openstack/networking-l2gw,master,I5d5ee4dfd8dd26495df1955f00ccbbc17ed4acc2,L2gateway policy.json file,MERGED,2015-01-25 17:32:03.000000000,2015-01-26 19:03:41.000000000,2015-01-26 19:03:40.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 10780}, {'_account_id': 10781}]","[{'number': 1, 'created': '2015-01-25 17:32:03.000000000', 'files': ['etc/policy.json'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/30065ff090b2f49d9e8dcb18772fc83ef0cec6b2', 'message': 'L2gateway policy.json file\n\nThis file defines roles for l2gateway operations.\n\nChange-Id: I5d5ee4dfd8dd26495df1955f00ccbbc17ed4acc2\n'}]",0,149887,30065ff090b2f49d9e8dcb18772fc83ef0cec6b2,7,4,1,10781,,,0,"L2gateway policy.json file

This file defines roles for l2gateway operations.

Change-Id: I5d5ee4dfd8dd26495df1955f00ccbbc17ed4acc2
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/87/149887/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.json'],1,30065ff090b2f49d9e8dcb18772fc83ef0cec6b2,l2gateway/policy-file,"{ ""admin_only"": ""rule:context_is_admin"", ""admin_or_owner"": ""rule:context_is_admin or tenant_id:%(tenant_id)s"", ""create_l2_gateway"": ""rule:admin_only"", ""update_l2_gateway"": ""rule:admin_only"", ""get_l2_gateway"": ""rule:admin_or_owner"", ""delete_l2_gateway"": ""rule:admin_or_owner"", ""get_l2_gateways"": ""rule:admin_or_owner"", ""create_l2_gateway_connection"": ""rule:admin_only"", ""update_l2_gateway_connection"": ""rule:admin_only"", ""get_l2_gateway_connections"": ""rule:admin_or_owner"", ""get_l2_gateway_connection"": ""rule:admin_or_owner"", ""delete_l2_gateway_connection"": ""rule:admin_or_owner"" } ",,16,0
openstack%2Fcongress~master~Icb3d01aa547adb73ca9eadcd9cbfc2e526b03d0c,openstack/congress,master,Icb3d01aa547adb73ca9eadcd9cbfc2e526b03d0c,Updated from global requirements,MERGED,2015-01-23 04:39:38.000000000,2015-01-26 18:59:08.000000000,2015-01-26 18:59:08.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}]","[{'number': 1, 'created': '2015-01-23 04:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e7106568ce33094078f5387108699d72c342e6b7', 'message': 'Updated from global requirements\n\nChange-Id: Icb3d01aa547adb73ca9eadcd9cbfc2e526b03d0c\n'}, {'number': 2, 'created': '2015-01-26 10:35:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/congress/commit/b1126d840bf9d38e06f95abc53a4ba2c3c202bd4', 'message': 'Updated from global requirements\n\nChange-Id: Icb3d01aa547adb73ca9eadcd9cbfc2e526b03d0c\n'}]",0,149493,b1126d840bf9d38e06f95abc53a4ba2c3c202bd4,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: Icb3d01aa547adb73ca9eadcd9cbfc2e526b03d0c
",git fetch https://review.opendev.org/openstack/congress refs/changes/93/149493/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e7106568ce33094078f5387108699d72c342e6b7,openstack/requirements,oslo.db>=1.4.1 # Apache-2.0,oslo.db>=1.3.0 # Apache-2.0,1,1
openstack%2Foslo-incubator~master~I60e97f5c09954414fa40439e900639535279887d,openstack/oslo-incubator,master,I60e97f5c09954414fa40439e900639535279887d,Remove context,MERGED,2015-01-20 13:15:26.000000000,2015-01-26 18:54:35.000000000,2015-01-26 18:54:35.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 6676}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-01-20 13:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/14054ab0b120f04ee2486af5adfea9f3a4adb6e4', 'message': 'Remove context\n\nThe library has graduated and has been released.\n\nChange-Id: I60e97f5c09954414fa40439e900639535279887d\n'}, {'number': 2, 'created': '2015-01-20 13:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/2325d073e6bbb8f389b5b6717acb095977c8f6f2', 'message': 'Remove context\n\nThe library has graduated and has been released.\n\nChange-Id: I60e97f5c09954414fa40439e900639535279887d\n'}, {'number': 3, 'created': '2015-01-22 17:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b329a959bd229be3419e1c493c523d2d9b2d64ab', 'message': 'Remove context\n\nThe library has graduated and has been released.\n\nChange-Id: I60e97f5c09954414fa40439e900639535279887d\n'}, {'number': 4, 'created': '2015-01-23 10:03:53.000000000', 'files': ['MAINTAINERS', 'openstack/common/context.py', 'tests/unit/scheduler/test_host_filters.py', 'tests/unit/test_log.py', 'tox.ini', 'tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/08b68e271381f40ae0f3a7b9657b0d0936fa6c5b', 'message': 'Remove context\n\nThe library has graduated and has been released.\n\nChange-Id: I60e97f5c09954414fa40439e900639535279887d\n'}]",3,148545,08b68e271381f40ae0f3a7b9657b0d0936fa6c5b,19,6,4,1669,,,0,"Remove context

The library has graduated and has been released.

Change-Id: I60e97f5c09954414fa40439e900639535279887d
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/45/148545/4 && git format-patch -1 --stdout FETCH_HEAD,"['MAINTAINERS', 'openstack/common/context.py', 'tests/unit/scheduler/test_host_filters.py', 'tests/unit/test_log.py', 'tox.ini', 'tests/unit/test_context.py']",6,14054ab0b120f04ee2486af5adfea9f3a4adb6e4,jd/remove-context,,"# Copyright 2011 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslotest import base as test_base from openstack.common import context class ContextTest(test_base.BaseTestCase): def test_context(self): ctx = context.RequestContext() self.assertTrue(ctx) def test_admin_context_show_deleted_flag_default(self): ctx = context.get_admin_context() self.assertFalse(ctx.show_deleted) def test_from_dict(self): dct = { ""auth_token"": ""token1"", ""user"": ""user1"", ""tenant"": ""tenant1"", ""domain"": ""domain1"", ""user_domain"": ""user_domain1"", ""project_domain"": ""project_domain1"", ""is_admin"": True, ""read_only"": True, ""show_deleted"": True, ""request_id"": ""request1"", ""instance_uuid"": ""instance1"", ""extra_data"": ""foo"" } ctx = context.RequestContext.from_dict(dct) self.assertEqual(""token1"", ctx.auth_token) self.assertEqual(""user1"", ctx.user) self.assertEqual(""tenant1"", ctx.tenant) self.assertEqual(""domain1"", ctx.domain) self.assertEqual(""user_domain1"", ctx.user_domain) self.assertEqual(""project_domain1"", ctx.project_domain) self.assertTrue(ctx.is_admin) self.assertTrue(ctx.read_only) self.assertTrue(ctx.show_deleted) self.assertEqual(""request1"", ctx.request_id) self.assertEqual(""instance1"", ctx.instance_uuid) ",2,189
openstack%2Foslo-incubator~master~I3852a89d246bc368697982667af9d6894b29d5a3,openstack/oslo-incubator,master,I3852a89d246bc368697982667af9d6894b29d5a3,Refactor oslo.conf handling for tool scripts,MERGED,2015-01-15 22:18:07.000000000,2015-01-26 18:53:40.000000000,2015-01-26 18:53:39.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2015-01-15 22:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7ef34768a52b87127dd2be09c54f99468d3653f9', 'message': 'Refactor oslo.conf handling for tool scripts\n\nMove the oslo.conf handling for tool scripts to a module that can be\nreused.\n\nChange-Id: I3852a89d246bc368697982667af9d6894b29d5a3\n'}, {'number': 2, 'created': '2015-01-16 19:07:35.000000000', 'files': ['tools/list_oslo_projects.py', 'tools/oslo_tool_config.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/23443e585818208cec2cc7699b860bb7ea628c7e', 'message': 'Refactor oslo.conf handling for tool scripts\n\nMove the oslo.conf handling for tool scripts to a module that can be\nreused.\n\nChange-Id: I3852a89d246bc368697982667af9d6894b29d5a3\n'}]",0,147680,23443e585818208cec2cc7699b860bb7ea628c7e,9,3,2,2472,,,0,"Refactor oslo.conf handling for tool scripts

Move the oslo.conf handling for tool scripts to a module that can be
reused.

Change-Id: I3852a89d246bc368697982667af9d6894b29d5a3
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/80/147680/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/list_oslo_projects.py', 'tools/oslo_tool_config.py']",2,7ef34768a52b87127dd2be09c54f99468d3653f9,pre-release-test-script,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Utilities functions for working with oslo.config from the tool scripts. """""" import os from oslo.config import cfg DEFAULT_CONFIG_FILES = [ './oslo.conf', os.path.expanduser('~/.oslo.conf'), ] def get_config_parser(): conf = cfg.ConfigOpts() conf.register_cli_opt( cfg.StrOpt( 'repo_root', default='.', help='directory containing the git repositories', ) ) return conf def parse_arguments(conf): # Look for a few configuration files, and load the ones we find. default_config_files = [ f for f in DEFAULT_CONFIG_FILES if os.path.exists(f) ] return conf( project='oslo', default_config_files=default_config_files, ) ",,52,25
openstack%2Fceilometer~master~I69dd2fc8d552f5dbb2485c2a5eab55b3bee71e29,openstack/ceilometer,master,I69dd2fc8d552f5dbb2485c2a5eab55b3bee71e29,[DB2 nosql] Create TIMESTAMP type index for 'timestamp' field,MERGED,2015-01-16 07:05:22.000000000,2015-01-26 18:41:39.000000000,2015-01-26 18:41:38.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2860}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7052}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 12927}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-16 07:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2c0a81db39044c95b514a70f05a963ecc89c059f', 'message': ""[DB2 nosql] Create TIMESTAMP type index for 'timestamp' field\n\nCurrently, when doing ceilometer-dbsync, ceilometer will create an\nindex for 'timestamp' field of meter collection. But the datatype\nof the field is set to 'VARCHAR' which is not correct.\n\nThe patch insert a document with 'timestamp' before creating the\nindex of 'timestamp', then DB2 nosql will create the correct index\ntype for 'timestamp' field.\n\nChange-Id: I69dd2fc8d552f5dbb2485c2a5eab55b3bee71e29\nCloses-Bug: #1411492\n""}, {'number': 2, 'created': '2015-01-22 14:13:04.000000000', 'files': ['ceilometer/tests/storage/test_impl_db2.py', 'ceilometer/storage/impl_db2.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b2fd1dee45c19477223286f8be2118e584d9b3eb', 'message': ""[DB2 nosql] Create TIMESTAMP type index for 'timestamp' field\n\nCurrently, when doing ceilometer-dbsync, ceilometer will create an\nindex for 'timestamp' field of meter collection. But the datatype\nof the field is set to 'VARCHAR' which is not correct.\n\nThe patch insert a document with 'timestamp' before creating the\nindex of 'timestamp', then DB2 nosql will create the correct index\ntype for 'timestamp' field.\n\nChange-Id: I69dd2fc8d552f5dbb2485c2a5eab55b3bee71e29\nCloses-Bug: #1411492\n""}]",2,147766,b2fd1dee45c19477223286f8be2118e584d9b3eb,22,14,2,12927,,,0,"[DB2 nosql] Create TIMESTAMP type index for 'timestamp' field

Currently, when doing ceilometer-dbsync, ceilometer will create an
index for 'timestamp' field of meter collection. But the datatype
of the field is set to 'VARCHAR' which is not correct.

The patch insert a document with 'timestamp' before creating the
index of 'timestamp', then DB2 nosql will create the correct index
type for 'timestamp' field.

Change-Id: I69dd2fc8d552f5dbb2485c2a5eab55b3bee71e29
Closes-Bug: #1411492
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/66/147766/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/storage/test_impl_db2.py', 'ceilometer/storage/impl_db2.py']",2,2c0a81db39044c95b514a70f05a963ecc89c059f,bug/1411492," timestamp = timeutils.isotime() ts = timeutils.parse_isotime(timestamp) timestamp = timeutils.normalize_time(ts) 'no_key': meter_id, 'timestamp': timestamp})", 'no_key': meter_id}),16,2
openstack%2Fpython-openstackclient~master~Id38a1497019c7fe2d4ad8567f1c0c8d229951751,openstack/python-openstackclient,master,Id38a1497019c7fe2d4ad8567f1c0c8d229951751,Remove ignore portion of tox.ini,MERGED,2015-01-25 23:24:56.000000000,2015-01-26 18:26:48.000000000,2015-01-26 18:26:47.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-01-25 23:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f3d1ce71f08248e825e4b794c3f3226baa69865a', 'message': 'Remove ignore potion of tox.ini\n\nIn the latest hacking update a few rules were dropped, and we no\nlonger have to ignore these rules in our tox.ini.\n\nChange-Id: Id38a1497019c7fe2d4ad8567f1c0c8d229951751\n'}, {'number': 2, 'created': '2015-01-26 00:21:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/703a25d445d7b710212633af3a12d8c168208c62', 'message': 'Remove ignore portion of tox.ini\n\nIn the latest hacking update a few rules were dropped, and we no\nlonger have to ignore these rules in our tox.ini.\n\nChange-Id: Id38a1497019c7fe2d4ad8567f1c0c8d229951751\n'}]",0,149899,703a25d445d7b710212633af3a12d8c168208c62,9,3,2,6482,,,0,"Remove ignore portion of tox.ini

In the latest hacking update a few rules were dropped, and we no
longer have to ignore these rules in our tox.ini.

Change-Id: Id38a1497019c7fe2d4ad8567f1c0c8d229951751
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/99/149899/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f3d1ce71f08248e825e4b794c3f3226baa69865a,rm_ignores,,"ignore = H305,H307,H402,H904",0,1
openstack%2Ffuel-astute~master~I01b99b977f6e08efd8bb1680b3dfbdcb2e620478,openstack/fuel-astute,master,I01b99b977f6e08efd8bb1680b3dfbdcb2e620478,Fix stop_current_task newline typo,MERGED,2015-01-23 13:49:57.000000000,2015-01-26 18:17:47.000000000,2015-01-26 18:17:47.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-23 13:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/a387cd5c7d4af27d40dbf2c620130ed8ddebd0fb', 'message': 'Fix stop_current_task newline typo\n\nImplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I01b99b977f6e08efd8bb1680b3dfbdcb2e620478\n'}, {'number': 2, 'created': '2015-01-26 11:03:20.000000000', 'files': ['lib/astute/server/dispatcher.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/c7bb647249ebc5d03453a5478c0a87f2d3351285', 'message': 'Fix stop_current_task newline typo\n\nImplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I01b99b977f6e08efd8bb1680b3dfbdcb2e620478\n'}]",3,149630,c7bb647249ebc5d03453a5478c0a87f2d3351285,20,9,2,13445,,,0,"Fix stop_current_task newline typo

Implements blueprint granular-deployment-based-on-tasks

Change-Id: I01b99b977f6e08efd8bb1680b3dfbdcb2e620478
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/30/149630/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/astute/server/dispatcher.rb'],1,a387cd5c7d4af27d40dbf2c620130ed8ddebd0fb,bp/granular-deployment-based-on-tasks," result = if ['deploy', 'task_deployment', 'granular_deploy'].include? \"," result = if ['deploy', 'task_deployment', 'granular_deploy'].include?",1,1
openstack%2Fhorizon~master~I6ea8cb7f342fdd8fcfd124012aefc66d9d898410,openstack/horizon,master,I6ea8cb7f342fdd8fcfd124012aefc66d9d898410,"Add ""Suspend"" and ""Resume"" actions to Stacks table",MERGED,2015-01-23 12:22:04.000000000,2015-01-26 18:17:18.000000000,2015-01-26 18:17:17.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 5623}, {'_account_id': 6577}, {'_account_id': 6914}, {'_account_id': 9622}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-01-23 12:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a196030e27422bf3fb92ce80f596a7f84e1f7d8a', 'message': 'Add ""Suspend"" and ""Resume"" actions to Stacks table\n\nThis patch set adds ""Suspend Stack"" and ""Resume Stack"" buttons\nto Stacks table to provide user with a possibility to suspend\nand resume stack, like it is already implemented in CLI.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: I6ea8cb7f342fdd8fcfd124012aefc66d9d898410\n'}, {'number': 2, 'created': '2015-01-23 14:44:24.000000000', 'files': ['openstack_dashboard/api/heat.py', 'openstack_dashboard/dashboards/project/stacks/tests.py', 'openstack_dashboard/conf/heat_policy.json', 'openstack_dashboard/dashboards/project/stacks/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2c07ad64e5ddc801fe9b8732be38e42cc755c15', 'message': 'Add ""Suspend"" and ""Resume"" actions to Stacks table\n\nThis patch set adds ""Suspend Stack"" and ""Resume Stack"" buttons\nto Stacks table to provide user with a possibility to suspend\nand resume stack, like it is already implemented in CLI.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: I6ea8cb7f342fdd8fcfd124012aefc66d9d898410\n'}]",0,149598,b2c07ad64e5ddc801fe9b8732be38e42cc755c15,17,7,2,6914,,,0,"Add ""Suspend"" and ""Resume"" actions to Stacks table

This patch set adds ""Suspend Stack"" and ""Resume Stack"" buttons
to Stacks table to provide user with a possibility to suspend
and resume stack, like it is already implemented in CLI.

Partially implements blueprint: heat-ui-improvement

Change-Id: I6ea8cb7f342fdd8fcfd124012aefc66d9d898410
",git fetch https://review.opendev.org/openstack/horizon refs/changes/98/149598/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/heat.py', 'openstack_dashboard/dashboards/project/stacks/tests.py', 'openstack_dashboard/conf/heat_policy.json', 'openstack_dashboard/dashboards/project/stacks/tables.py']",4,a196030e27422bf3fb92ce80f596a7f84e1f7d8a,bp/heat-ui-improvement,"class SuspendStack(tables.BatchAction): name = ""suspend"" verbose_name = _(""Suspend Stack"") policy_rules = ((""orchestration"", ""cloudformation:SuspendStack""),) @staticmethod def action_present(count): return ungettext_lazy( u""Suspend Stack"", u""Suspend Stacks"", count ) @staticmethod def action_past(count): return ungettext_lazy( u""Suspended Stack"", u""Suspended Stacks"", count ) def action(self, request, stack_id): api.heat.action_suspend(request, stack_id) class ResumeStack(tables.BatchAction): name = ""resume"" verbose_name = _(""Resume Stack"") policy_rules = ((""orchestration"", ""cloudformation:ResumeStack""),) @staticmethod def action_present(count): return ungettext_lazy( u""Resume Stack"", u""Resume Stacks"", count ) @staticmethod def action_past(count): return ungettext_lazy( u""Resumed Stack"", u""Resumed Stacks"", count ) def action(self, request, stack_id): api.heat.action_resume(request, stack_id) table_actions = (LaunchStack, SuspendStack, ResumeStack, DeleteStack,) row_actions = (SuspendStack, ResumeStack, ChangeStackTemplate, DeleteStack,)"," table_actions = (LaunchStack, DeleteStack,) row_actions = (DeleteStack, ChangeStackTemplate)",84,3
openstack%2Fnova~master~Ib83062f413bf17e1fbfe2399348c3f5e1e703559,openstack/nova,master,Ib83062f413bf17e1fbfe2399348c3f5e1e703559,libvirt: not setting membacking when mempages are empty host topology,MERGED,2015-01-06 19:34:47.000000000,2015-01-26 18:15:48.000000000,2015-01-26 18:15:45.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7730}, {'_account_id': 8802}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}, {'_account_id': 14384}]","[{'number': 1, 'created': '2015-01-06 19:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6230ce43aee86a165b8b050a43aabfb8af8ad3cf', 'message': ""libvirt: not setting membacking when mempages are empty host topology\n\nThe current version of Libvirt in the gate doesn't return mempages in numa\ncells. When requesting guest topology the instance is crashing.\nNot setting the guest.membacking when page size is not available in host\ntopology\n\nCloses-Bug: #1408070\n\nChange-Id: Ib83062f413bf17e1fbfe2399348c3f5e1e703559\n""}, {'number': 2, 'created': '2015-01-08 05:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46d3ca834e0911adf3547639568be9a597fa1129', 'message': ""libvirt: not setting membacking when mempages are empty host topology\n\nThe current version of Libvirt in the gate doesn't return mempages in numa\ncells. When requesting guest topology the instance is crashing.\nNot setting the guest.membacking when libvirt version is less than the\nrequired minimum\n\nCloses-Bug: #1408070\n\nChange-Id: Ib83062f413bf17e1fbfe2399348c3f5e1e703559\n""}, {'number': 3, 'created': '2015-01-08 05:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d0ea1dc769f7455a93df16881ba8831cedd7ea2', 'message': ""libvirt: not setting membacking when mempages are empty host topology\n\nThe current version of Libvirt in the gate doesn't return mempages in numa\ncells. When requesting guest topology the instance is crashing.\nNot setting the guest.membacking when libvirt version is less than the\nrequired minimum\n\nCloses-Bug: #1408070\n\nChange-Id: Ib83062f413bf17e1fbfe2399348c3f5e1e703559\n""}, {'number': 4, 'created': '2015-01-08 11:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1105d24bc9580f51ad6ee4f458f3cec32c73378e', 'message': ""libvirt: not setting membacking when mempages are empty host topology\n\nThe current version of Libvirt in the gate doesn't return mempages in numa\ncells. When requesting guest topology the instance is crashing.\nNot setting the guest.membacking when libvirt version is less than the\nrequired minimum\n\nCloses-Bug: #1408070\n\nChange-Id: Ib83062f413bf17e1fbfe2399348c3f5e1e703559\n""}, {'number': 5, 'created': '2015-01-08 14:27:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3466e727546e0f7595378b8274254bed913f42ee', 'message': ""libvirt: not setting membacking when mempages are empty host topology\n\nThe current version of Libvirt in the gate doesn't return mempages in numa\ncells. When requesting guest topology the instance is crashing.\nNot setting the guest.membacking when libvirt version is less than the\nrequired minimum\n\nCloses-Bug: #1408070\n\nChange-Id: Ib83062f413bf17e1fbfe2399348c3f5e1e703559\n""}]",1,145312,3466e727546e0f7595378b8274254bed913f42ee,41,14,5,8802,,,0,"libvirt: not setting membacking when mempages are empty host topology

The current version of Libvirt in the gate doesn't return mempages in numa
cells. When requesting guest topology the instance is crashing.
Not setting the guest.membacking when libvirt version is less than the
required minimum

Closes-Bug: #1408070

Change-Id: Ib83062f413bf17e1fbfe2399348c3f5e1e703559
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/145312/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,6230ce43aee86a165b8b050a43aabfb8af8ad3cf,bug/1408070," def test_get_guest_memory_backing_config_mempages_none(self): host_topology = objects.NUMATopology( cells=[ objects.NUMACell( id=3, cpuset=set([1]), memory=1024, mempages=[] )]) inst_topology = objects.InstanceNUMATopology(cells=[ objects.InstanceNUMACell( id=3, cpuset=set([0, 1]), memory=1024)]) numa_tune = vconfig.LibvirtConfigGuestNUMATune() result = self._test_get_guest_memory_backing_config( host_topology, inst_topology, numa_tune) self.assertIsNone(result) ",,21,0
openstack%2Fcinder-specs~master~Iadb41425f2189ac4fc94e20b144a5524677ed5d7,openstack/cinder-specs,master,Iadb41425f2189ac4fc94e20b144a5524677ed5d7,Extend IBMNAS driver to support NAS based GPFS deployments,MERGED,2014-06-24 09:28:19.000000000,2015-01-26 18:02:04.000000000,2015-01-26 18:02:02.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9067}]","[{'number': 1, 'created': '2014-06-24 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/deeb243cc6b9b4b11fd77794ca9729fd7edc4bfe', 'message': 'Extend IBMNAS driver to support NAS based GPFS deployments\n\nThis spec proposes adding support for NAS based GPFS storage in\nibmnas driver.\n\nChange-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7\nImplements: blueprint add-gpfs-nas-to-ibmnas\n'}, {'number': 2, 'created': '2014-06-24 09:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/80fab608747066e1d24ee2a5a4110403f952ab9c', 'message': 'Extend IBMNAS driver to support NAS based GPFS deployments\n\nThis spec proposes adding support for NAS based GPFS storage in\nibmnas driver.\n\nChange-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7\nImplements: blueprint add-gpfs-nas-to-ibmnas\n'}, {'number': 3, 'created': '2014-06-25 12:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/1ecf99bbbb17b141ab1f1a4be8f83cd4e85e1665', 'message': 'Extend IBMNAS driver to support NAS based GPFS deployments\n\nThis spec proposes adding support for NAS based GPFS storage in\nibmnas driver.\n\nChange-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7\nImplements: blueprint add-gpfs-nas-to-ibmnas\n'}, {'number': 4, 'created': '2014-07-01 15:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/be44a3123e9e7222a2a55fd440a78daa2a7c1e8e', 'message': 'Extend IBMNAS driver to support NAS based GPFS deployments\n\nThis spec proposes adding support for NAS based GPFS storage in\nibmnas driver.\n\nChange-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7\nImplements: blueprint add-gpfs-nas-to-ibmnas\n'}, {'number': 5, 'created': '2014-07-02 13:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/071eae42ff35964ee3c38da2aacdc06030e5d6d1', 'message': 'Extend IBMNAS driver to support NAS based GPFS deployments\n\nThis spec proposes adding support for NAS based GPFS storage in\nibmnas driver.\n\nChange-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7\nImplements: blueprint add-gpfs-nas-to-ibmnas\n'}, {'number': 6, 'created': '2014-07-02 13:46:59.000000000', 'files': ['specs/juno/support-GPFS-nas-ibmnas-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e8e6fadf02e0ee5601d91f65564bbb42ef3c7361', 'message': 'Extend IBMNAS driver to support NAS based GPFS deployments\n\nThis spec proposes adding support for NAS based GPFS storage in\nibmnas driver.\n\nChange-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7\nImplements: blueprint add-gpfs-nas-to-ibmnas\n'}]",8,102154,e8e6fadf02e0ee5601d91f65564bbb42ef3c7361,34,7,6,9204,,,0,"Extend IBMNAS driver to support NAS based GPFS deployments

This spec proposes adding support for NAS based GPFS storage in
ibmnas driver.

Change-Id: Iadb41425f2189ac4fc94e20b144a5524677ed5d7
Implements: blueprint add-gpfs-nas-to-ibmnas
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/54/102154/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/support-GPFS-nas-ibmnas-driver.rst'],1,deeb243cc6b9b4b11fd77794ca9729fd7edc4bfe,bp/add-gpfs-nas-to-ibmnas,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Extending IBMNAS driver to support NAS based GPFS storage deployments ========================================== https://blueprints.launchpad.net/cinder/+spec/add-gpfs-nas-to-ibmnas Currently, the ibmnas driver works for a nfs export Storwize V7000 Unified and SONAS products. It does not have the capability to work with nfs exports provided from a gpfs server. Problem description =================== Currently, the ibmnas driver does not have the capability to work with nfs exports provided from a gpfs server. * Lacking this capability will limit the end users from using a remote gpfs NAS servers as a backend in OpenStack environment. Proposed change =============== * Add/Reuse functions in ibmnas.py to support all minimum features listed (github.com/openstack/cinder/blob/master/doc/source/devref/drivers.rst) for NAS based GPFS server backends. Alternatives ------------ The existing gpfs driver can be extended to support NAS based gpfs storage deployments. But this implementation requires many other new funtions to be introduced, which are already existing and can be reused in ibmnas driver. Apart from this in future, we have planned to support all NFS/GPFS related IBM products via ibmnas driver. Hence extending ibmnas driver is more advantageous than extending gpfs driver. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: sasikanth <sasikanth.eda@in.ibm.com> Other contributors: nilesh-bhosale Work Items ---------- * Add/Reuse functions in ibmnas.py to support NAS based GPFS storage deployments. Dependencies ============ None Testing ======= None Documentation Impact ==================== ibmnas driver documentation needs to updated with this new configuration option. ibmnas_platform_type = <sonas> | <v7ku> | <gpfs-nas> This option is used for selecting the appropriate backend storage. valid values are v7ku for using IBM Storwize V7000 Unified sonas for using IBM Scale Out NAS and gpfs-nas for using NAS based GPFS server deployment References ========== None ",,135,0
openstack%2Fqa-specs~master~I5a00936362ae852dda43b145dbc415a5795b5cba,openstack/qa-specs,master,I5a00936362ae852dda43b145dbc415a5795b5cba,Write the detail of tempest-lib REST Client dev,MERGED,2014-12-10 08:37:57.000000000,2015-01-26 18:01:53.000000000,2015-01-26 18:01:52.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 6167}]","[{'number': 1, 'created': '2014-12-10 08:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/f7cba81c216c6c03589ec10cdb2fbd7449345298', 'message': 'Write the detail of tempest-lib REST Client dev\n\nAt Paris summit, we had a consensus that we will implement the\nbase REST Client code in tempest-lib.\nThis patch writes the detail of the development.\n\nChange-Id: I5a00936362ae852dda43b145dbc415a5795b5cba\n'}, {'number': 2, 'created': '2014-12-10 08:39:51.000000000', 'files': ['specs/tempest-library.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/d27fb0779cc779970810f545f966773746efe03a', 'message': 'Write the detail of tempest-lib REST Client dev\n\nAt Paris summit, we had a consensus that we will implement the\nbase REST Client code in tempest-lib.\nThis patch writes the detail of the development.\n\nChange-Id: I5a00936362ae852dda43b145dbc415a5795b5cba\n'}]",1,140608,d27fb0779cc779970810f545f966773746efe03a,11,4,2,6167,,,0,"Write the detail of tempest-lib REST Client dev

At Paris summit, we had a consensus that we will implement the
base REST Client code in tempest-lib.
This patch writes the detail of the development.

Change-Id: I5a00936362ae852dda43b145dbc415a5795b5cba
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/08/140608/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/tempest-library.rst'],1,f7cba81c216c6c03589ec10cdb2fbd7449345298,rest-client,Other contributors: Ken'ichi Ohmichi <oomichi@mxs.nes.nec.co.jp> Kilo Release * Copy and convert the Tempest REST Client * Clean up the REST Client code * Separate the base REST Client code from Tempest specific code * Move the REST Client specific exception to base REST Client code * Copy the base REST Client code to tempest-lib repository * Switch Tempest to use the base REST Client code of tempest-lib * Copy and convert the Tempest service clients, Juno Release * Copy and convert the Tempest REST Client and service clients,13,2
openstack%2Fnetworking-odl~master~I96290f46803b74c972d19cf9fd3e13d77c107ee6,openstack/networking-odl,master,I96290f46803b74c972d19cf9fd3e13d77c107ee6,Add proper author attribution,ABANDONED,2015-01-16 15:18:49.000000000,2015-01-26 17:46:37.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 6993}, {'_account_id': 9656}, {'_account_id': 10386}, {'_account_id': 11240}, {'_account_id': 11692}]","[{'number': 1, 'created': '2015-01-16 15:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0eeeaef7c3ab57928a9d2c507149df7bfab3b38a', 'message': ""Add proper author attribution for Dave Tucker\n\nSince we imported code into this repository from neutron, we didn't get the\nhistory from the work Dave Tucker did. Add him properly as an author here\nto make up for that fact.\n\nChange-Id: I96290f46803b74c972d19cf9fd3e13d77c107ee6\n""}, {'number': 2, 'created': '2015-01-23 05:06:01.000000000', 'files': ['networking_odl/common/client.py', 'networking_odl/common/auth.py', 'networking_odl/common/config.py', 'networking_odl/common/utils.py', 'networking_odl/ml2/mech_driver.py', 'networking_odl/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/22e7c658f4ec475304c3d0258304ce6f48885348', 'message': ""Add proper author attribution\n\nSince we imported code into this repository from neutron, we didn't get the\nhistory from the work Dave Tucker and Flavio Fernandes did. Add them\nproperly as authors here to make up for that fact.\n\nChange-Id: I96290f46803b74c972d19cf9fd3e13d77c107ee6\n""}]",4,147880,22e7c658f4ec475304c3d0258304ce6f48885348,20,8,2,105,,,0,"Add proper author attribution

Since we imported code into this repository from neutron, we didn't get the
history from the work Dave Tucker and Flavio Fernandes did. Add them
properly as authors here to make up for that fact.

Change-Id: I96290f46803b74c972d19cf9fd3e13d77c107ee6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/80/147880/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/common/client.py', 'networking_odl/common/auth.py', 'networking_odl/common/config.py', 'networking_odl/common/utils.py', 'networking_odl/ml2/mech_driver.py', 'networking_odl/common/exceptions.py']",6,0eeeaef7c3ab57928a9d2c507149df7bfab3b38a,author-tag,# # @author: Dave Tucker <djt@redhat.com>,,12,0
openstack%2Fheat~master~I84faab4c85d005956216f608a40f67f62b1eeade,openstack/heat,master,I84faab4c85d005956216f608a40f67f62b1eeade,Improve address description by example,MERGED,2015-01-19 12:51:55.000000000,2015-01-26 17:41:31.000000000,2015-01-26 17:41:30.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7253}, {'_account_id': 8289}, {'_account_id': 13009}]","[{'number': 1, 'created': '2015-01-19 12:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e7e302cba8c030d686d1d9000585df2c7a337f7c', 'message': ""Improve address description by example\n\nExample how to get port id was added for 'address' attribute\ndescription.\n\nChange-Id: I84faab4c85d005956216f608a40f67f62b1eeade\nCloses-Bug: #1406391\n""}, {'number': 2, 'created': '2015-01-19 15:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cb098ed4769e0a2b97a9f5f4bd13e37253675571', 'message': ""Improve address description by example\n\nExample how to get port id was added for 'address' attribute\ndescription.\n\nChange-Id: I84faab4c85d005956216f608a40f67f62b1eeade\nCloses-Bug: #1406391\n""}, {'number': 3, 'created': '2015-01-20 07:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/97f410803fc7e6153438c7468326aabcf44e748e', 'message': ""Improve address description by example\n\nExample how to get port id was added for 'address' attribute\ndescription.\n\nChange-Id: I84faab4c85d005956216f608a40f67f62b1eeade\nCloses-Bug: #1406391\n""}, {'number': 4, 'created': '2015-01-26 08:14:29.000000000', 'files': ['heat/engine/resources/server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fc23757d92021b548842313716df806ac363c71f', 'message': ""Improve address description by example\n\nExample how to get port id was added for 'address' attribute\ndescription.\n\nChange-Id: I84faab4c85d005956216f608a40f67f62b1eeade\nCloses-Bug: #1406391\n""}]",8,148245,fc23757d92021b548842313716df806ac363c71f,28,8,4,6577,,,0,"Improve address description by example

Example how to get port id was added for 'address' attribute
description.

Change-Id: I84faab4c85d005956216f608a40f67f62b1eeade
Closes-Bug: #1406391
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/148245/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/server.py'],1,e7e302cba8c030d686d1d9000585df2c7a337f7c,bug/1406391," _('A dict of all network addresses with corresponding port_id. ' 'Port id may be gotten with follow command: ""{get_attr: ' '[server, addresses, {get_param: private_network}, 0, port]}"".')", _('A dict of all network addresses with corresponding port_id.'),3,1
openstack%2Fnova-specs~master~I11f83d5da1f86a9d55e3b83495567b5e3cae483a,openstack/nova-specs,master,I11f83d5da1f86a9d55e3b83495567b5e3cae483a,Quota Management in Nested Projects,MERGED,2014-10-18 05:54:30.000000000,2015-01-26 17:31:34.000000000,2015-01-21 23:05:26.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7}, {'_account_id': 67}, {'_account_id': 136}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 792}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 1941}, {'_account_id': 2033}, {'_account_id': 2218}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 2903}, {'_account_id': 4393}, {'_account_id': 4428}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7494}, {'_account_id': 7953}, {'_account_id': 8866}, {'_account_id': 9060}, {'_account_id': 9452}, {'_account_id': 10444}, {'_account_id': 11022}, {'_account_id': 11057}]","[{'number': 1, 'created': '2014-10-18 05:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a54069577a1c39ca39bc49393fafc4bbe3a81af2', 'message': 'The nested quota driver implements quota allocation in\nnested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 2, 'created': '2014-10-18 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f46e6332caf30f9e8396562bc18431b6a4f7b9b0', 'message': 'The nested quota driver implements quota allocation in\nnested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 3, 'created': '2014-10-18 11:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/94e439cf4d87b0cce8e41676c4262f86caabedcb', 'message': 'The nested quota driver implements quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 4, 'created': '2014-10-18 15:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6089f5be192ab449e98ec75b18df9ba2119dc19b', 'message': 'The nested quota driver implements quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 5, 'created': '2014-10-18 15:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8af9aee5d77182fec797cb94a7e0aeae9526e034', 'message': 'The nested quota driver implements quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 6, 'created': '2014-10-19 13:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f4229ae723d385ce53bed69776db6a6b9c7532ce', 'message': 'The nested quota driver implements quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 7, 'created': '2014-10-19 14:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/af6de15031a1b8a2ee449eb1448ec2f53b3535d3', 'message': 'This bp is for quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 8, 'created': '2014-10-19 15:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6fc375472747d8b7b5b9f63e8eaca3e5a08f41cc', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 9, 'created': '2014-10-20 17:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3cbe3ea2649216d626085f0fbdecca35e0e431ba', 'message': 'This bp is for quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 10, 'created': '2014-10-23 01:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/973d5ed8bfbe4839f686bb014f2c6126c168d35c', 'message': 'This bp is for quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 11, 'created': '2014-10-23 01:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7883d41da902e2d8ca85049570f0d2a7599481e', 'message': 'This bp is for quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 12, 'created': '2014-10-23 02:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f033dbc1d4597676f96804f4c969c6fe6de5dfc1', 'message': 'This bp is for quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 13, 'created': '2014-10-23 02:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0e692ecb8538634b39176b8b02c2638086ea5fcc', 'message': 'This bp is for quota management in nested projects\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 14, 'created': '2014-10-31 17:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b019cae95ecdf917acccf77ff71cd395903733c9', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 15, 'created': '2014-12-08 01:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/12e153da7fda08f8214e4314896d8562135600f0', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 16, 'created': '2014-12-08 01:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3397b7a505ee8649ad533ee166768220017371e6', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 17, 'created': '2014-12-08 02:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/541874bb23f41efe19331c1902ad3e8a625c6fdf', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 18, 'created': '2014-12-10 15:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/02eec30f35ee6c997048aba63cbb1cf410786712', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 19, 'created': '2014-12-12 01:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d9574a980225dcb79560fc6220f1f4aed3d205ed', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 20, 'created': '2014-12-12 01:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c5a063dd22c8c9c6120fb0d99620cfb8d1fed27e', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 21, 'created': '2014-12-13 00:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/451d114da86b7f4222ee26397abf18c31d75f02d', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 22, 'created': '2014-12-13 00:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9d667754cc2a5d7fec5de292b69b8ff0c5a5c664', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 23, 'created': '2014-12-13 00:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/973cbd35b89b956368f4dbdaad8dfb8c6e096e6e', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 24, 'created': '2014-12-13 01:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c572ca9f1bf40c779f7d919814812d1a9a8a0c51', 'message': 'This bp is for quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 25, 'created': '2014-12-13 02:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/701fb755848e69ae819764b586e67f70671e84d5', 'message': 'quota management in nested projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a'}, {'number': 26, 'created': '2014-12-13 03:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6481c7282e5e76cfb2c624b7b261dbfbea887c2a', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 27, 'created': '2014-12-13 03:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ba467c0d7a63a69c8946d21a2785c64b0399f7aa', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 28, 'created': '2014-12-13 16:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/67b4af87006ac6f9b82771899a6c637aa677d8e7', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 29, 'created': '2014-12-17 01:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/caeabe125953e0da09a38b857082c62fd1410c50', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 30, 'created': '2014-12-17 02:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/19ff7590239b5a9071d20d034ca5d8bd1920e166', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 31, 'created': '2014-12-17 02:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/751c0b7804c0320d61329292bd207b97a33c4887', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 32, 'created': '2014-12-17 02:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/657527fd19bf8e992f434295cf09ba9d160b0d23', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 33, 'created': '2014-12-17 18:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d1c4430967e84edd8375615cd55df3efbf76cb9d', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 34, 'created': '2014-12-18 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fe48c2d2e0e73ba671fde3dd7f7cd27fab9b1ccd', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 35, 'created': '2014-12-18 19:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/80acf3a8b8a65288ba4e91000e7e04dfb8ad6dce', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}, {'number': 36, 'created': '2015-01-21 22:57:15.000000000', 'files': ['specs/kilo/approved/nested-quota-driver-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dc1a31f8dc8f13f6fe2c2577b330bab8f1dd1be6', 'message': 'Quota Management in Nested Projects\n\nChange-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a\n'}]",100,129420,dc1a31f8dc8f13f6fe2c2577b330bab8f1dd1be6,189,33,36,11057,,,0,"Quota Management in Nested Projects

Change-Id: I11f83d5da1f86a9d55e3b83495567b5e3cae483a
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/20/129420/34 && git format-patch -1 --stdout FETCH_HEAD,['nested-quota-driver-api.rst'],1,a54069577a1c39ca39bc49393fafc4bbe3a81af2,bp/nested-quota-driver-api,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== nested-quota-diver-api ====================== https://blueprints.launchpad.net/nova/+spec/nested-quota-driver-api Nested quota driver will enable OpenStack projects to enforce quota in nested projects. Problem description =================== OpenStack is moving towards support for hierarchical ownership of objects. In this regard, the Keystone will change the organizational structure of Openstack, creating nested projects. The existing Quota Driver in Nova called ""DbQuotaDriver"" is useful to enforce quotas at both the project and the project-user level provided that all the projects are at the same level (i.e hierarchy level cannot be greater than 1). The proposal is to develop a new Quota Driver called ""NestedQuotaDriver"", which will allows enforcing quotas in nested projects in Openstack. The nested projects are having a hierarchical structure, where each project may contain users and projects (can be called sub-projects), except for the projects at the last level in the hierarchy ,called leaf nodes, which contain only users. Users can have different roles inside each project: A normal user can make use of resources of a project. A project admin is a user who in addition is allowed to create sub-projects, assign quota on resources to these sub-projects and assign the project admin role to individual users of the sub-projects.Resource quotas of the root project can only be set by the cloud admin.The user roles can be set as inherited, and if set, then an admin of a project is automatically an admin of all the projects in the tree below. Use Cases --------- **Actors** * Martha - Admin (i.e role:cloud-admin) of ProductionIT * Joe - Manager (i.e role: project-admin) of Project CMS * Sam - Manager (i.e role: project-admin) of Project ATLAS * Bill : is one important CMS user and needs access to the bulk of computing resources of CMS for a physics analysis Martha is an infrastructure provider and offers cloud services to Joe for Project CMS, and Sam for Project ATLAS. Martha needs to be able to set the quotas for both CMS and ATLAS, and manage quotas across the entire system. Joe has multiple sub-projects with many users under CMS. Joe needs the ability to create quotas, as well as the ability to list and delete resources across CMS. Sam and Joe cannot see or manipulate the resources owned by each other, only Martha has the ability to manage the whole cloud. Joe can approve the request of Bill for an increase of quota for his activity, and changes the quota of the Bill's projects without having to involve the cloud admin. Project Priority ----------------- This blueprint falls under priority ""Performance/Scalability"". There is an aleardy accepted blueprint for the implementation of nested projects in keystone and its development is also over.This blueprint deals with the quota allocation of those nested projects. Proposed change =============== 1. The default quota (hard limit) for any newly created project is set to 0. The neutral value of zero ensures consistency of data in the case of race conditions when several projects are created by admins at the same time. 2. A project is allowed to create a VM, only after setting the quota to a non-zero value (as default value is 0). After the creation of a new project, quota values must be set explicitly by a Nova API call to a value which ensures availability of free quota, before resources can be claimed in the project. 3. A user with role ""cloud-admin"" is permitted to do quota operations across the entire hierarchy, including the top level project. Cloud-Admins are the only users who are allowed to set the quota of the root project in a tree, and assign the project-admin role to users in the root project. 4. A person with role ""project-admin"" in a project is permitted to do quota operations on its sub-projects and users in the hierarchy. If the role ""project-admin"" in a project is set as inheritable in Keystone, then the user with this role is permitted to do quota operations starting from its immediate child projects to the last level project/user under the project hierarchy. 5. The total resources consumed by a project is divided into a.Used Quota - Resources used by the VMs in a project. (excluding child-projects) b.Reserved Quota - Resources reserved for future use by the project c.Allocated Quota - Sum of the quota ""hard_limit"" values of immediate child projects 6. The ""free"" quota available within a project is calculated as free quota = hard_limit - (used + reserved + allocated) Free quota is not stored in the database; it is calculated for each project on the fly. 7. An increase in the quota value of a project is allowed only if its parent has sufficient free quota available. If there is free quota available with the parent, then the quota update operation will result in the update of the ""hard_limit"" value of the project and ""allocated"" value update of its parent project. That's why, it should be noted that updating the quota of a project requires the token to be scoped at the parent level. * Hierarchy of Projects is as A->B->C (A is the root project) Project A (hard_limit = 100, used = 0, reserved = 0, allocated = 50) Project B (hard_limit = 50, used = 20, reserved = 0, allocated = 10) Project C (hard_limit = 10, used = 10, reserved = 0, allocated = 0) Free quota for projects would be: A:Free Quota = 100 {A:hard_limit} - ( 0 {A:used} + 0 {A:reserved} + 50 {A:Allocated to B}) A:Free Quota = 50 B:Free Quota = 50 {B:hard_limit} - ( 20 {B:used} + 0 {B:reserved} + 10 {B:Allocated to C}) B:Free Quota = 20 C:Free Quota = 10 {C:hard_limit} - ( 10 {C:used} + 0 {C:reserved} + 0 {C:Allocated}) C:Free Quota = 0 If Project C hard_limit is increased by 10, then this change results in: Project A (hard_limit = 100, used = 0, reserved = 0, allocated = 50) Project B (hard_limit = 50, used = 20, reserved = 0, allocated = 20) Project C (hard_limit = 20, used = 10, reserved = 0, allocated = 0) If Project C hard_limit needs to be increased further by 20, then this operation will be aborted, because the free quota available with its parent i.e Project B is only 10. So, first project-admin of A should increase the ""hard_limit"" of Project B (using scoped token to Project A, because of action at level A) and then increase the ""hard_limit"" of Project C (again scoped token to Project B) 8.A decrease in the quota value of a project is allowed only if it has free quota available free quota > 0 (zero) And, hence the maximum decraese in quota value is limited to free quota value. * Hierarchy of Projects is A->B->C,where A is the root project Project A (hard_limit = 100, used = 0, reserved = 0, allocated = 50) Project B (hard_limit = 50, used = 20, reserved = 0, allocated = 10) Project C (hard_limit = 10, used = 10, reserved = 0, allocated = 0) If Project B hard_limit is reduced by 10, then this change results in Project A (hard_limit = 100, used = 0, reserved = 0, allocated = 40) Project B (hard_limit = 40, used = 20, reserved = 0, allocated = 10) Project C (hard_limit = 10, used = 10, reserved = 0, allocated = 0) If Project B's hard_limit needs to be reduced further by 20, then this operation will be aborted, because the free quota of Project B should be greater than or equal to (20+0+10) Alternatives ------------ None Data model impact ----------------- Create a new column ""allocated"" in table ""quota_usages"" with default value 0. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * sajeesh Other contributors: * vishy * schwicke * raildo * vinod * nirbhay * nirupma * morganfainberg * tellesnobrega * rodrigodsousa * afaranha Work Items ---------- 1. Two new roles will be used ""cloud-admin"" and ""project-admin"". Users with role ""cloud-admin"" will be able to do quota operations on any project/user in the hierarchy. The user with ""project-admin"" role in a project will be able to do quota operations in projects starting from its immediate child projects to the last level project/user under the project hierarchy. 2. A new Quota Driver called ""NestedQuotaDriver"" will be implemented to enforce quotas in hierarchical multitenancy in OpenStack. Dependencies ============ Depends on bp Hierarchical Multitenancy * https://blueprints.launchpad.net/keystone/+spec/hierarchical-multitenancy Testing ======= * Unit tests will be added for all the REST APIs calls. * Add unit tests for integration with other services. Documentation Impact ==================== None References ========== * Wiki ""https://wiki.openstack.org/wiki/HierarchicalMultitenancy"" ",,281,0
openstack%2Ffuel-main~master~I88d4ac5d889989d50a034b2ac4491e5dfd814fd8,openstack/fuel-main,master,I88d4ac5d889989d50a034b2ac4491e5dfd814fd8,Fix fuelmain_sha in version.yaml,MERGED,2015-01-26 16:37:40.000000000,2015-01-26 17:17:35.000000000,2015-01-26 17:17:35.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8777}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 13194}]","[{'number': 1, 'created': '2015-01-26 16:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/59b4c9580aec9ec4d00a218ae392f5d58da165ab', 'message': 'Fix fuelmain_sha in version.yaml\n\nChange-Id: I88d4ac5d889989d50a034b2ac4491e5dfd814fd8\n'}, {'number': 2, 'created': '2015-01-26 17:14:40.000000000', 'files': ['repos.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/818770d644e1340f869e973e5a634ebde667118f', 'message': 'Fix fuelmain_sha in version.yaml\n\nCloses-Bug: #1413246\n\nChange-Id: I88d4ac5d889989d50a034b2ac4491e5dfd814fd8'}]",0,150088,818770d644e1340f869e973e5a634ebde667118f,18,6,2,9977,,,0,"Fix fuelmain_sha in version.yaml

Closes-Bug: #1413246

Change-Id: I88d4ac5d889989d50a034b2ac4491e5dfd814fd8",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/88/150088/1 && git format-patch -1 --stdout FETCH_HEAD,['repos.mk'],1,59b4c9580aec9ec4d00a218ae392f5d58da165ab,, fuelmain_commit_id=`git rev-parse --verify HEAD`; \, fuel_main_commit_id=`git rev-parse --verify HEAD`; \,1,1
openstack%2Foslo.db~master~I797f4532e39a700e70a2834ac299663118c608cc,openstack/oslo.db,master,I797f4532e39a700e70a2834ac299663118c608cc,Updated from global requirements,MERGED,2015-01-23 04:37:33.000000000,2015-01-26 17:14:09.000000000,2015-01-26 17:14:08.000000000,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-01-23 04:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/31bbc453ad263badf4681d36b5a878c4652aa796', 'message': 'Updated from global requirements\n\nChange-Id: I797f4532e39a700e70a2834ac299663118c608cc\n'}, {'number': 2, 'created': '2015-01-24 20:23:31.000000000', 'files': ['test-requirements-py2.txt', 'requirements.txt', 'test-requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f81653bb7fb64af6c35cda94b197cf7748bf7f07', 'message': 'Updated from global requirements\n\nChange-Id: I797f4532e39a700e70a2834ac299663118c608cc\n'}]",0,149476,f81653bb7fb64af6c35cda94b197cf7748bf7f07,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: I797f4532e39a700e70a2834ac299663118c608cc
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/76/149476/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,31bbc453ad263badf4681d36b5a878c4652aa796,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fshade~master~I91dc778d01bff3f416007f17b66ff2a474984cb3,openstack/shade,master,I91dc778d01bff3f416007f17b66ff2a474984cb3,Remove unneeded imports,ABANDONED,2015-01-26 16:57:24.000000000,2015-01-26 17:09:54.000000000,,"[{'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2015-01-26 16:57:24.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/eaae5ac4b01dff18790f713ce86071a7c37c08ca', 'message': 'Remove unneeded imports\n\nFor some reason these were not being caught by pep8 before but now they\nare. Yay for pep8 changes.\n\nChange-Id: I91dc778d01bff3f416007f17b66ff2a474984cb3\n'}]",0,150092,eaae5ac4b01dff18790f713ce86071a7c37c08ca,4,2,1,2,,,0,"Remove unneeded imports

For some reason these were not being caught by pep8 before but now they
are. Yay for pep8 changes.

Change-Id: I91dc778d01bff3f416007f17b66ff2a474984cb3
",git fetch https://review.opendev.org/openstack/shade refs/changes/92/150092/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,eaae5ac4b01dff18790f713ce86071a7c37c08ca,feature/glance-support,,from cinderclient import exceptions as cinder_exceptionsfrom novaclient import exceptions as nova_exceptionsfrom troveclient import exceptions as trove_exceptions,0,3
openstack%2Fheat~master~Iaee3efd4a95f51d68827b5f6b728a714549d5372,openstack/heat,master,Iaee3efd4a95f51d68827b5f6b728a714549d5372,Remove dead option 'instance_driver',MERGED,2015-01-25 12:20:20.000000000,2015-01-26 17:09:14.000000000,2015-01-26 17:09:13.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4571}, {'_account_id': 8289}]","[{'number': 1, 'created': '2015-01-25 12:20:20.000000000', 'files': ['heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1d8b12dadabff88fbd4d512b44286b39d3a1b03f', 'message': ""Remove dead option 'instance_driver'\n\nThe 'instance_driver' was added in 2012 but seems never used since being\nadded.\n\nChange-Id: Iaee3efd4a95f51d68827b5f6b728a714549d5372\n""}]",0,149877,1d8b12dadabff88fbd4d512b44286b39d3a1b03f,9,4,1,8246,,,0,"Remove dead option 'instance_driver'

The 'instance_driver' was added in 2012 but seems never used since being
added.

Change-Id: Iaee3efd4a95f51d68827b5f6b728a714549d5372
",git fetch https://review.opendev.org/openstack/heat refs/changes/77/149877/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/config.py'],1,1d8b12dadabff88fbd4d512b44286b39d3a1b03f,instance-driver,," cfg.StrOpt('instance_driver', default='heat.engine.nova', help=_('Driver to use for controlling instances.')),",0,3
openstack%2Foslo.db~master~Idd19676c2699eda2f07f6e49db29dbad7c4a22db,openstack/oslo.db,master,Idd19676c2699eda2f07f6e49db29dbad7c4a22db,Add pool argument to sqlalchemy create_engine,ABANDONED,2014-11-05 21:49:44.000000000,2015-01-26 17:07:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6849}, {'_account_id': 11816}, {'_account_id': 12637}]","[{'number': 1, 'created': '2014-11-05 21:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f661def600d3d0480c33bd0af1695a11ebb50a2b', 'message': 'Add pool argument to sqlalchemy create_engine\n\nOslo db ignores pool parameter when passed in kwargs which prevents\nspecifying a custom connection pool for sqlalchemy if needed. This\nfix will add pool parameter and gets passed to sqlalchemy for its use\n\nChange-Id: Idd19676c2699eda2f07f6e49db29dbad7c4a22db\n'}, {'number': 2, 'created': '2014-11-05 23:48:50.000000000', 'files': ['tests/sqlalchemy/test_sqlalchemy.py', 'oslo/db/sqlalchemy/session.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/08c7d91d6847b60b7722d12dd9e0d2cc769d1acb', 'message': 'Add pool argument to sqlalchemy create_engine\n\nOslo db ignores pool parameter when passed in kwargs which prevents\nspecifying a custom connection pool for sqlalchemy if needed. This\nfix will add pool parameter and gets passed to sqlalchemy for its use\n\nChange-Id: Idd19676c2699eda2f07f6e49db29dbad7c4a22db\n'}]",0,132915,08c7d91d6847b60b7722d12dd9e0d2cc769d1acb,19,5,2,12637,,,0,"Add pool argument to sqlalchemy create_engine

Oslo db ignores pool parameter when passed in kwargs which prevents
specifying a custom connection pool for sqlalchemy if needed. This
fix will add pool parameter and gets passed to sqlalchemy for its use

Change-Id: Idd19676c2699eda2f07f6e49db29dbad7c4a22db
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/15/132915/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo/db/sqlalchemy/session.py'],1,f661def600d3d0480c33bd0af1695a11ebb50a2b,add_pool_param," thread_checkin=True, pool=None): 'pool': pool, } # Sqlalchemy raises error in case both pool and # pool_recycle are provided if pool is None: engine_args['pool_recycle'] = idle_timeout 'thread_checkin': kwargs.get('thread_checkin', True), 'pool': kwargs.get('pool', None),"," thread_checkin=True): ""pool_recycle"": idle_timeout, } 'thread_checkin': kwargs.get('thread_checkin', True)",9,3
openstack%2Fshade~master~Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e,openstack/shade,master,Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e,Adds a method to get security group,MERGED,2015-01-16 02:31:36.000000000,2015-01-26 17:05:12.000000000,2015-01-26 17:05:11.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2015-01-16 02:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/90e3e1d062beec956d0d9370d014eb3b40be7e10', 'message': 'Adds a method to get security group\n\nAdds a method to get security group by name or id\n\nChange-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e\n'}, {'number': 2, 'created': '2015-01-19 23:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/74b45fa22c47a6923e0564dee12e29dacd9824fa', 'message': 'Adds a method to get security group\n\nAdds a method to get security group by name or id\n\nChange-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e\n'}, {'number': 3, 'created': '2015-01-20 22:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/27ba2aa3116009e80acb7758740baf7c58b1fd51', 'message': 'Adds a method to get security group\n\nAdds a method to get security group by name or id\n\nChange-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e\n'}, {'number': 4, 'created': '2015-01-26 16:40:25.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/c22531d54bff23ebfd995a9a7795b0f86d33d7d7', 'message': 'Adds a method to get security group\n\nAdds a method to get security group by name or id\n\nChange-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e\n'}]",0,147733,c22531d54bff23ebfd995a9a7795b0f86d33d7d7,14,3,4,1420,,,0,"Adds a method to get security group

Adds a method to get security group by name or id

Change-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e
",git fetch https://review.opendev.org/openstack/shade refs/changes/33/147733/4 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,90e3e1d062beec956d0d9370d014eb3b40be7e10,147731," def get_security_group(self, name_or_id): for secgroup in self.nova_client.security_groups.list(): if name_or_id in (secgroup.name, secgroup.id): return secgroup return None ",,6,0
openstack%2Fmistral~master~Ifba5762ed0da71f875682be1359bf8d30ff11fe4,openstack/mistral,master,Ifba5762ed0da71f875682be1359bf8d30ff11fe4,Adding for_each task spec,ABANDONED,2014-12-11 11:36:50.000000000,2015-01-26 17:02:04.000000000,,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-11 11:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3ced560f1b1ad286f9c82f79f48223b358a80bc1', 'message': ""Adding for_each task spec\n\n * Added TaskForEachSpec for correct validating and\n   filtering services keys such as 'parallel'\n\nPartially implements blueprint mistral-for-each-parallelism\n\nChange-Id: Ifba5762ed0da71f875682be1359bf8d30ff11fe4\n""}, {'number': 2, 'created': '2014-12-11 15:07:00.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/workbook/v2/task_for_each.py', 'mistral/workbook/v2/tasks.py', 'mistral/workflow/base.py', 'mistral/tests/unit/workbook/v2/test_dsl_specs_v2.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7f2f43fbe7fe3e72c55b17762083df01980d52cf', 'message': ""Adding for_each task spec\n\n * Added TaskForEachSpec for correct validating and\n   filtering services keys such as 'parallel'\n\nPartially implements blueprint mistral-for-each-parallelism\n\nChange-Id: Ifba5762ed0da71f875682be1359bf8d30ff11fe4\n""}]",2,141023,7f2f43fbe7fe3e72c55b17762083df01980d52cf,9,5,2,7700,,,0,"Adding for_each task spec

 * Added TaskForEachSpec for correct validating and
   filtering services keys such as 'parallel'

Partially implements blueprint mistral-for-each-parallelism

Change-Id: Ifba5762ed0da71f875682be1359bf8d30ff11fe4
",git fetch https://review.opendev.org/openstack/mistral refs/changes/23/141023/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/workbook/v2/task_for_each.py', 'mistral/workbook/v2/tasks.py', 'mistral/workflow/base.py', 'mistral/tests/unit/workbook/v2/test_dsl_specs_v2.py']",5,3ced560f1b1ad286f9c82f79f48223b358a80bc1,bp/mistral-for-each-parallelism," parallel: 1 task7_spec.get_for_each().to_dict() self.assertEqual(1, task7_spec.get_for_each().get_parallel()) ", task7_spec.get_for_each(),60,5
openstack%2Fironic~master~Ic18f49a89f18ddfa3006ba3f2ee4a22ad69c4d4d,openstack/ironic,master,Ic18f49a89f18ddfa3006ba3f2ee4a22ad69c4d4d,Allow associate an instance independent of the node power state,MERGED,2015-01-21 17:37:45.000000000,2015-01-26 16:41:41.000000000,2015-01-26 16:41:40.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-21 17:37:45.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7da9dd7f303660babc4f3a89a30321b94937c3cf', 'message': 'Allow associate an instance independent of the node power state\n\nWhen updating the instance_uuid field of a node Ironic would check the\npower state to see if the node was powered off, otherwise the update\nwould fail. This patch is removing that check and leaving it to the\ndrivers to ensure that the node is in whatever power state it needs to\nbe as part of the deployment.\n\nCloses-Bug: #1413296\nChange-Id: Ic18f49a89f18ddfa3006ba3f2ee4a22ad69c4d4d\n'}]",0,149009,7da9dd7f303660babc4f3a89a30321b94937c3cf,13,6,1,6773,,,0,"Allow associate an instance independent of the node power state

When updating the instance_uuid field of a node Ironic would check the
power state to see if the node was powered off, otherwise the update
would fail. This patch is removing that check and leaving it to the
drivers to ensure that the node is in whatever power state it needs to
be as part of the deployment.

Closes-Bug: #1413296
Change-Id: Ic18f49a89f18ddfa3006ba3f2ee4a22ad69c4d4d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/149009/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py']",2,7da9dd7f303660babc4f3a89a30321b94937c3cf,bug/1413296, exception.NodeLocked) driver_name=driver_name): return node_obj," exception.NodeLocked, exception.NodeInWrongPowerState) driver_name=driver_name) as task: # TODO(deva): Determine what value will be passed by API when # instance_uuid needs to be unset, and handle it. if 'instance_uuid' in delta: task.driver.power.validate(task) node_obj.power_state = task.driver.power.get_power_state(task) if node_obj.power_state != states.POWER_OFF: raise exception.NodeInWrongPowerState( node=node_id, pstate=node_obj.power_state) # update any remaining parameters, then save return node_obj",16,46
openstack%2Fdevstack~master~Ieceac0e2518bf5ca4cd808f6719b73aad0db903b,openstack/devstack,master,Ieceac0e2518bf5ca4cd808f6719b73aad0db903b,Create initial network when using Cisco N1k plugin,MERGED,2014-12-05 13:14:18.000000000,2015-01-26 16:41:32.000000000,2015-01-26 16:41:28.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6524}, {'_account_id': 6635}, {'_account_id': 6637}, {'_account_id': 6638}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 12826}]","[{'number': 1, 'created': '2014-12-05 13:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3b81bcadcdb189b72b7bb8410bdae75898bbd8be', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}, {'number': 2, 'created': '2014-12-08 12:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6580b1dec718d09876629e0d6739054426ea6bbb', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}, {'number': 3, 'created': '2014-12-08 12:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/736f328d4952d3e62c7a056115a6b9b8c2c0ddee', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}, {'number': 4, 'created': '2014-12-09 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b0a3ec5494f5d83c040321238cbe4136999e06e', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}, {'number': 5, 'created': '2014-12-18 12:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/534cc91ea3ca6624b03a83ae60c8d5dedaf11a79', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}, {'number': 6, 'created': '2015-01-09 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/290784cd710def05857871592d92393429e735bb', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}, {'number': 7, 'created': '2015-01-16 17:35:27.000000000', 'files': ['lib/neutron', 'lib/neutron_plugins/cisco'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d06a6d9d8bd3663d0cc0783b0868f6cfc9b8563e', 'message': 'Create initial network when using Cisco N1k plugin\n\nThis patch creates an initial network when using the Cisco n1k plugin,\nas it fails otherwise.\n\nChange-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b\nCloses-Bug: 1399389\n'}]",6,139620,d06a6d9d8bd3663d0cc0783b0868f6cfc9b8563e,49,10,7,12826,,,0,"Create initial network when using Cisco N1k plugin

This patch creates an initial network when using the Cisco n1k plugin,
as it fails otherwise.

Change-Id: Ieceac0e2518bf5ca4cd808f6719b73aad0db903b
Closes-Bug: 1399389
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/139620/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,3b81bcadcdb189b72b7bb8410bdae75898bbd8be,bug/1399389," if [[ ""$Q_PLUGIN"" == 'cisco' ]]; then neutron cisco-network-profile-create default_network_profile vlan --segment_range 1-3000 --physical_network ""$PHYSICAL_NETWORK"" fi ",,4,0
openstack%2Foslo.db~master~Ieabcf541bd5f2e6706159efe9d6ac54c7376004c,openstack/oslo.db,master,Ieabcf541bd5f2e6706159efe9d6ac54c7376004c,Fix 0 version handling in migration_cli manager,MERGED,2015-01-22 15:33:28.000000000,2015-01-26 16:39:04.000000000,2015-01-26 16:39:02.000000000,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 13478}]","[{'number': 1, 'created': '2015-01-22 15:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8120bec594ffbc1eadd70c1382c5de89fde34f66', 'message': 'Fix 0 version handling in migration_cli manager\n\nChange-Id: Ieabcf541bd5f2e6706159efe9d6ac54c7376004c\nCloses-Bug: 1413277\n'}, {'number': 2, 'created': '2015-01-26 14:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4abdf408d5276ee496e7b709a41a46b68e73b3c1', 'message': 'Fix 0 version handling in migration_cli manager\n\nChange-Id: Ieabcf541bd5f2e6706159efe9d6ac54c7376004c\nCloses-Bug: 1413277\n'}, {'number': 3, 'created': '2015-01-26 14:34:50.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_migrate_cli.py', 'oslo_db/sqlalchemy/migration_cli/manager.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/afcc3dfcd30ed8f7a03598c0ea1ed13015117635', 'message': 'Fix 0 version handling in migration_cli manager\n\nChange-Id: Ieabcf541bd5f2e6706159efe9d6ac54c7376004c\nCloses-Bug: 1413277\n'}]",2,149318,afcc3dfcd30ed8f7a03598c0ea1ed13015117635,20,4,3,13478,,,0,"Fix 0 version handling in migration_cli manager

Change-Id: Ieabcf541bd5f2e6706159efe9d6ac54c7376004c
Closes-Bug: 1413277
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/18/149318/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/migration_cli/manager.py'],1,8120bec594ffbc1eadd70c1382c5de89fde34f66,bug/1413277, if version is not None:, if version:,1,1
openstack%2Fironic~master~Iefec4396c323d9746bb0ee84b015765a4adbb476,openstack/ironic,master,Iefec4396c323d9746bb0ee84b015765a4adbb476,Drivers determine acceptable power states,ABANDONED,2014-04-10 23:40:13.000000000,2015-01-26 16:37:14.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7411}, {'_account_id': 7711}, {'_account_id': 7882}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10380}, {'_account_id': 10521}]","[{'number': 1, 'created': '2014-04-10 23:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be8976aed58cb65afd208a0bb85ed3fc15074a71', 'message': 'Drivers to determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 2, 'created': '2014-04-15 22:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe0948ff265fb0599c579dc464745fecb1baa6a9', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 3, 'created': '2014-04-22 17:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8983f37666b6c2d632b0e590cc2f81485a7c5e33', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 4, 'created': '2014-04-24 17:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/597d4315ca4a091588b4611ecca3f30ee14281c3', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 5, 'created': '2014-04-24 18:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d14e1357866eee66059859711050439b919898c', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 6, 'created': '2014-04-30 23:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e98c14098a895f84825b36dbea47dc9bbd18df70', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 7, 'created': '2014-05-06 20:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ae97a57d6211fe8f4429f374e22690d2be722a6', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 8, 'created': '2014-05-06 20:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d08685ceb96d1222ec9d02f3402adc6361bb3a45', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 9, 'created': '2014-05-07 17:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64d78b2dffe5db2e25591956dc01c1998df89bd0', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 10, 'created': '2014-05-07 20:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fae1c205b0e66fb28fdbe5c6d38c482cf6deb1b2', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 11, 'created': '2014-05-17 05:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a144b4499aab09c8b56cd8d757513f84d594d8d6', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 12, 'created': '2014-05-28 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/849036cd1df9cbcbd32bd7f8f96ec21e9035c99e', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 13, 'created': '2014-05-29 20:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f055e865aab4adf9c0e28b92133b59522525ef4', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 14, 'created': '2014-05-29 21:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/139c3f11988fe261eda92392a12853dceac63708', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 15, 'created': '2014-06-10 19:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/934f025bbb4bdc21d24ebf106d941b9c89b11dfa', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 16, 'created': '2014-06-16 18:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a706ade750f8ca04490afea3bff164be07edba59', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 17, 'created': '2014-06-17 23:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c050307b6a9d6689bd5c914ca2eae2a7c734490d', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 18, 'created': '2014-06-18 01:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/216222f080ef8bb65d8925e81684e41ebee303fa', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 19, 'created': '2014-06-21 00:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff1ef150c017dc0ce5f1875845761de45ef4301a', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 20, 'created': '2014-06-30 18:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de71270e1da2e2ab281c8cff5ec7e057468fa5a0', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nCloses-Bug: 1306202\n'}, {'number': 21, 'created': '2014-07-18 17:11:25.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/drivers/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/99903a76698d5c24acf2f01339e453f4cd9e4204', 'message': 'Drivers determine acceptable power states\n\nThe list of acceptable power states for a Node to be in when Nova is\ncalling deploy, update, and destroy were set globally.\nThis patch allows the deploy drivers to determine\nwhich states are acceptable for each. I added a new validate\nmethod to the DeployInterface class that can be overriden if\na driver determines it needs different settings (such as the agent\ndriver). The current function provides sane defaults and the\nsame behavior as before for any driver not overriding the function.\n\nChange-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476\nImplements: blueprint long-running-deploy-ramdisks\nCloses-Bug: 1306202\n'}]",93,86744,99903a76698d5c24acf2f01339e453f4cd9e4204,140,13,21,10380,,,0,"Drivers determine acceptable power states

The list of acceptable power states for a Node to be in when Nova is
calling deploy, update, and destroy were set globally.
This patch allows the deploy drivers to determine
which states are acceptable for each. I added a new validate
method to the DeployInterface class that can be overriden if
a driver determines it needs different settings (such as the agent
driver). The current function provides sane defaults and the
same behavior as before for any driver not overriding the function.

Change-Id: Iefec4396c323d9746bb0ee84b015765a4adbb476
Implements: blueprint long-running-deploy-ramdisks
Closes-Bug: 1306202
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/86744/20 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/drivers/base.py']",3,be8976aed58cb65afd208a0bb85ed3fc15074a71,bp/long-running-deploy-ramdisks,"from ironic.common import exception from ironic.common import states def validate_power_state(self, task, node, method): """"""Validate the driver-specific Node power state. This method validates whether the power state of the node is in a state that will allow Ironic to deploy to it. The default implementation is to only allow nodes in POWER_OFF to be deployed. Individual drivers can override this function. :param task: a task from TaskManager. :param node: a single Node to validate. :param method: the method that is validating the power state. Valid values are 'update', 'deploy', and 'destroy'. 'raises: NodeInWrongPowerState """""" if method == 'update': if node['power_state'] != states.POWER_OFF: msg = (_(""Node %(node)s UUID can't be updated because it's "" ""not powered off. Current power state: %(state)s"") % {'node': node.uuid, 'state': node['power_state']}) raise exception.NodeInWrongPowerState(msg) elif method == 'destroy': if node.power_state not in [states.POWER_OFF, states.NOSTATE]: msg = (_(""Node %(node)s can't be deleted because it's not "" ""powered off. Current power state: %(state)s"") % {'node': node.uuid, 'state': node['power_state']}) raise exception.NodeInWrongPowerState(msg) ",,92,16
openstack%2Fhorizon~master~I2646ae988d45af81a4dd75e918806465748eeea3,openstack/horizon,master,I2646ae988d45af81a4dd75e918806465748eeea3,Remove unused wait_for_title method,MERGED,2015-01-23 10:55:18.000000000,2015-01-26 16:32:18.000000000,2015-01-26 16:32:17.000000000,"[{'_account_id': 3}, {'_account_id': 4264}, {'_account_id': 6610}, {'_account_id': 6890}, {'_account_id': 6914}, {'_account_id': 8577}, {'_account_id': 9317}, {'_account_id': 9576}, {'_account_id': 9622}]","[{'number': 1, 'created': '2015-01-23 10:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7d5626e832ec5cf2160a483587632e6bf8a94358', 'message': ""Remove unused wait_for_title method\n\nVerified by grep, the method wasn't used anywhere, so there is no\npurpose to have it there.\n\nChange-Id: I2646ae988d45af81a4dd75e918806465748eeea3\n""}, {'number': 2, 'created': '2015-01-23 12:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/84c0eae7e6cdb76976334e093403a69d3f6da9e2', 'message': ""Remove unused wait_for_title method\n\nVerified by grep, the method wasn't used anywhere, so there is no\npurpose to have it there.\n\nChange-Id: I2646ae988d45af81a4dd75e918806465748eeea3\n""}, {'number': 3, 'created': '2015-01-24 13:30:31.000000000', 'files': ['openstack_dashboard/test/integration_tests/helpers.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f3b6bf09d46d03fa9ae393b8add9629f9e188ef', 'message': ""Remove unused wait_for_title method\n\nVerified by grep, the method wasn't used anywhere, so there is no\npurpose to have it there.\n\nPartially implements blueprint: selenium-integration-testing\nCloses-Bug: #1414296\nChange-Id: I2646ae988d45af81a4dd75e918806465748eeea3\n""}]",3,149565,4f3b6bf09d46d03fa9ae393b8add9629f9e188ef,27,9,3,6890,,,0,"Remove unused wait_for_title method

Verified by grep, the method wasn't used anywhere, so there is no
purpose to have it there.

Partially implements blueprint: selenium-integration-testing
Closes-Bug: #1414296
Change-Id: I2646ae988d45af81a4dd75e918806465748eeea3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/65/149565/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/helpers.py'],1,7d5626e832ec5cf2160a483587632e6bf8a94358,unused-wait_for_title, #self.driver.implicitly_wait(self.conf.selenium.implicit_wait) self.driver.implicitly_wait(3)," self.driver.implicitly_wait(self.conf.selenium.implicit_wait) def wait_for_title(self): timeout = self.conf.dashboard.page_timeout ui.WebDriverWait(self.driver, timeout).until(lambda d: d.title) ",2,6
openstack%2Fcinder~master~I33a56db72535c7ea9bf6ddf43fbdd6eff923c9f3,openstack/cinder,master,I33a56db72535c7ea9bf6ddf43fbdd6eff923c9f3,Remove unnecessary method: _ensure_iscsi_targets() in tgt.py,MERGED,2015-01-23 23:29:46.000000000,2015-01-26 16:32:08.000000000,2015-01-26 16:32:06.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2759}, {'_account_id': 7219}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}, {'_account_id': 14305}]","[{'number': 1, 'created': '2015-01-23 23:29:46.000000000', 'files': ['cinder/volume/targets/tgt.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/499f36869cd081e383cb0ca82a3f656b296f6343', 'message': 'Remove unnecessary method: _ensure_iscsi_targets() in tgt.py\n\nThis method is unnecessary in tgt.py after Target Object is\nintroduced at change-id I43190d1dac33748fe55fa00f260f32ab209be656.\n\nChange-Id: I33a56db72535c7ea9bf6ddf43fbdd6eff923c9f3\n'}]",0,149790,499f36869cd081e383cb0ca82a3f656b296f6343,23,18,1,10115,,,0,"Remove unnecessary method: _ensure_iscsi_targets() in tgt.py

This method is unnecessary in tgt.py after Target Object is
introduced at change-id I43190d1dac33748fe55fa00f260f32ab209be656.

Change-Id: I33a56db72535c7ea9bf6ddf43fbdd6eff923c9f3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/149790/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/targets/tgt.py'],1,499f36869cd081e383cb0ca82a3f656b296f6343,,," def _ensure_iscsi_targets(self, context, host): """"""Ensure that target ids have been created in datastore."""""" # NOTE(jdg): tgtadm doesn't use the iscsi_targets table # TODO(jdg): In the future move all of the dependent stuff into the # cooresponding target admin class host_iscsi_targets = self.db.iscsi_target_count_by_host(context, host) if host_iscsi_targets >= self.configuration.iscsi_num_targets: return # NOTE(vish): Target ids start at 1, not 0. target_end = self.configuration.iscsi_num_targets + 1 for target_num in xrange(1, target_end): target = {'host': host, 'target_num': target_num} self.db.iscsi_target_create_safe(context, target) ",0,16
openstack%2Fglance~master~I03554910c48dbce0703fd950392765a97400e37b,openstack/glance,master,I03554910c48dbce0703fd950392765a97400e37b,Remove optparse from glance-replicator,MERGED,2014-10-21 10:23:38.000000000,2015-01-26 16:28:18.000000000,2015-01-26 16:28:16.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5638}, {'_account_id': 7535}, {'_account_id': 8127}, {'_account_id': 8158}, {'_account_id': 8871}, {'_account_id': 9303}, {'_account_id': 9751}, {'_account_id': 10327}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12000}, {'_account_id': 12395}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-10-21 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e39dcf830316b406e84d1226a6bda0335a1ed4a', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 2, 'created': '2014-10-22 09:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/af2e27a29f3ecf999db102100799c5b14d3a47d3', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 3, 'created': '2014-10-22 11:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/962b77b0556576b0a6b51e66aa06d3189739e36a', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 4, 'created': '2014-10-22 16:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bcfb8457c2bdea4495077f869d9288903dc48468', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 5, 'created': '2014-10-22 18:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7f4d5baf738e55d29f8ab0e9c17384d9097356e4', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 6, 'created': '2014-10-22 19:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/feeacd01da405958f9e3e80401d1f9f036c99733', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 7, 'created': '2014-10-23 07:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/048cefb71533b479d23ca8a29e20901449781881', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 8, 'created': '2014-10-28 11:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1165a3efee98f397ecdb1ba1a2f618a726a5b85', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 9, 'created': '2014-10-28 11:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/abd3efbccd5ca41ed5521b626f4f9b5531c71656', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 10, 'created': '2014-10-28 14:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee16bd6b7357f44489c08a4b1a253f7547f08c4d', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 11, 'created': '2014-10-29 07:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bda7c8acd484d8efe7b4b3fc6ef4cf5a5b447539', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 12, 'created': '2014-10-29 08:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/41db6747443d1c8443398dc535d36c35a8583e24', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 13, 'created': '2014-11-13 16:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3632d94604acf54a2207cd61414caf7adbdac400', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 14, 'created': '2014-11-13 16:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/96d2a6afac35162f316c0de096d98d94bb5a6654', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 15, 'created': '2014-11-13 18:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ea85002414a82b2f98a7d43b06c92329094945a3', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 16, 'created': '2014-11-13 21:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00c6d0ec31617e4561195c93962e8f60805b86af', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 17, 'created': '2015-01-22 10:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc84143f1053d26eef1e039fb2a3c90bf9be3bd8', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}, {'number': 18, 'created': '2015-01-22 16:47:04.000000000', 'files': ['glance/cmd/replicator.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/68a79266aa4cc4d9fc138cb9029eaf0079f94972', 'message': 'Remove optparse from glance-replicator\n\nRemove optparse command line parser from glance-replicator. Replace\nit with oslo.config parser for command line. The reason for replace\nis that optparse is deprecated since python2.7 released.\n\nChange-Id: I03554910c48dbce0703fd950392765a97400e37b\n'}]",38,129864,68a79266aa4cc4d9fc138cb9029eaf0079f94972,102,15,18,7535,,,0,"Remove optparse from glance-replicator

Remove optparse command line parser from glance-replicator. Replace
it with oslo.config parser for command line. The reason for replace
is that optparse is deprecated since python2.7 released.

Change-Id: I03554910c48dbce0703fd950392765a97400e37b
",git fetch https://review.opendev.org/openstack/glance refs/changes/64/129864/17 && git format-patch -1 --stdout FETCH_HEAD,['glance/cmd/replicator.py'],1,4e39dcf830316b406e84d1226a6bda0335a1ed4a,my_branch,"from oslo.config import cfgfrom glance.common import configcli_opts = [ cfg.StrOpt('chunksize', short = 'c', default=65536, help=""Amount of data to transfer per HTTP write.""), cfg.StrOpt('dontreplicate', short = 'D', default=('created_at date deleted_at location updated_at'), help=""List of fields to not replicate.""), cfg.BoolOpt('metaonly', short = 'm', default=False, help=""Only replicate metadata, not images.""), cfg.StrOpt('token', short = 't', default='', help=(""Pass in your authentication token if you have "" ""one. If you use this option the same token is "" ""used for both the master and the slave."")), cfg.StrOpt('mastertoken', short = 'M', default='', help=(""Pass in your authentication token if you have "" ""one. This is the token used for the master."")), cfg.StrOpt('slavetoken', short = 'S', default='', help=(""Pass in your authentication token if you have "" ""one. This is the token used for the slave."")), cfg.ListOpt('slave_ip', short = 'i', default=[], help=""list of slaves for compliance command""), cfg.StrOpt('master', help=""master server""), cfg.StrOpt('slave', help=""slave server""), cfg.StrOpt('command', positional=True, help=""command to be given to replicator""), ] CONF = cfg.CONF CONF.register_group(cfg.OptGroup(""replicator_opts"")) CONF.register_cli_opts(cli_opts) CONF.register_opts(replicator_opts, group=""replicator_opts"") def lookup_command(command_name): try: config.parse_args() except RuntimeError as e: sys.exit(""ERROR: %s"" % e) if CONF.token: CONF.slavetoken = CONF.token CONF.mastertoken = CONF.token if CONF.master and CONF.slave: args = [CONF.master, CONF.slave] elif CONF.master and not CONF.slave: args = [CONF.master] else: args = [] command = lookup_command(CONF.command) try: command(CONF, args)","def parse_options(parser, cli_args): """"""Returns the parsed CLI options, command to run and its arguments, merged with any same-named options found in a configuration file parser: the option parser cli_args: the arguments passed on the command line Returns: a tuple of (the parsed options, the command, the command name) """""" if not cli_args: cli_args.append('-h') # Show options in usage output... (options, args) = parser.parse_args(cli_args) # HACK(sirp): Make the parser available to the print_help method # print_help is a command, so it only accepts (options, args); we could # one-off have it take (parser, options, args), however, for now, I think # this little hack will suffice options.__parser = parser if not args: parser.print_usage() sys.exit(0) command_name = args.pop(0) command = lookup_command(parser, command_name) return (options, command, args) def lookup_command(parser, command_name): parser.print_usage() oparser = optparse.OptionParser(usage=usage.strip()) # Options oparser.add_option('-c', '--chunksize', action=""store"", default=65536, help=""Amount of data to transfer per HTTP write."") oparser.add_option('-d', '--debug', action=""store_true"", default=False, help=""Print debugging information."") oparser.add_option('-D', '--dontreplicate', action=""store"", default=('created_at date deleted_at location ' 'updated_at'), help=""List of fields to not replicate."") oparser.add_option('-m', '--metaonly', action=""store_true"", default=False, help=""Only replicate metadata, not images."") oparser.add_option('-l', '--logfile', action=""store"", default='', help=""Path of file to log to."") oparser.add_option('-s', '--syslog', action=""store_true"", default=False, help=""Log to syslog instead of a file."") oparser.add_option('-t', '--token', action=""store"", default='', help=(""Pass in your authentication token if you have "" ""one. If you use this option the same token is "" ""used for both the master and the slave."")) oparser.add_option('-M', '--mastertoken', action=""store"", default='', help=(""Pass in your authentication token if you have "" ""one. This is the token used for the master."")) oparser.add_option('-S', '--slavetoken', action=""store"", default='', help=(""Pass in your authentication token if you have "" ""one. This is the token used for the slave."")) oparser.add_option('-v', '--verbose', action=""store_true"", default=False, help=""Print more verbose output."") (options, command, args) = parse_options(oparser, sys.argv[1:]) if options.token: options.slavetoken = options.token options.mastertoken = options.token try: command(options, args)",68,66
openstack%2Fbarbican~master~I085618b573566a4b2cdec5b9536213cd0f3a1ba8,openstack/barbican,master,I085618b573566a4b2cdec5b9536213cd0f3a1ba8,Inherit tests instead of explictly calling them,MERGED,2015-01-26 11:19:36.000000000,2015-01-26 16:24:54.000000000,2015-01-26 16:24:52.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-26 11:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/271aa3e0cfa6536cce11c428580439cfa676bf83', 'message': 'Inherit tests instead of explictly calling them\n\nBaseSecretResource contained common tests that are shared between\nother secret related test suits; Eventually, these common tests were\nmanually called.\n\nThis change re-named those tests, so they are called automatically by\nthe framework, and they were moved to a separate class.\n\nChange-Id: I085618b573566a4b2cdec5b9536213cd0f3a1ba8\n'}, {'number': 2, 'created': '2015-01-26 11:24:21.000000000', 'files': ['barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/dfbc8a853b559f8d40c0f64e3019603fdf3b074a', 'message': ""Inherit tests instead of explictly calling them\n\nBaseSecretResource contained common tests that are shared between\nother secret related test suits; Eventually, these common tests were\nmanually called.\n\nThis change re-named those tests, so they are called automatically by\nthe framework, and they were moved to a separate class. The separation\nbetween the initialization of the tests and the class containing the\ntests was done in the cases were a suite doesn't need to inherit the\ntests, but it does need to inherit the initialization; Such as is the\ncase for the WhenPerformingUnallowedOperationsOnSecrets suite.\n\nChange-Id: I085618b573566a4b2cdec5b9536213cd0f3a1ba8\n""}]",0,149998,dfbc8a853b559f8d40c0f64e3019603fdf3b074a,9,13,2,10873,,,0,"Inherit tests instead of explictly calling them

BaseSecretResource contained common tests that are shared between
other secret related test suits; Eventually, these common tests were
manually called.

This change re-named those tests, so they are called automatically by
the framework, and they were moved to a separate class. The separation
between the initialization of the tests and the class containing the
tests was done in the cases were a suite doesn't need to inherit the
tests, but it does need to inherit the initialization; Such as is the
case for the WhenPerformingUnallowedOperationsOnSecrets suite.

Change-Id: I085618b573566a4b2cdec5b9536213cd0f3a1ba8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/98/149998/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/tests/api/test_resources.py'],1,271aa3e0cfa6536cce11c428580439cfa676bf83,base_test_suit," class BaseSecretTestSuite(BaseSecretsResource): def test_should_add_new_secret_with_expiration(self, mock_store_secret): def test_should_add_new_secret_one_step(self, mock_store_secret, check_project_id=True): def test_should_add_new_secret_one_step_with_tkey_id( def test_should_add_new_secret_if_project_does_not_exist(self): self.test_should_add_new_secret_one_step(check_project_id=False) def test_should_add_new_secret_metadata_without_payload(self): def test_should_add_new_secret_metadata_with_tkey(self, mock_store_secret): def test_should_add_secret_payload_almost_too_large(self, mock_store_secret): def test_should_raise_due_to_payload_too_large(self): def test_should_raise_due_to_empty_payload(self):class WhenCreatingPlainTextSecretsUsingSecretsResource(BaseSecretTestSuite):class WhenCreatingBinarySecretsUsingSecretsResource(BaseSecretTestSuite):"," def _test_should_add_new_secret_with_expiration(self, mock_store_secret): def _test_should_add_new_secret_one_step(self, mock_store_secret, check_project_id=True): def _test_should_add_new_secret_one_step_with_tkey_id( def _test_should_add_new_secret_if_project_does_not_exist(self): self._test_should_add_new_secret_one_step(check_project_id=False) def _test_should_add_new_secret_metadata_without_payload(self): def _test_should_add_new_secret_metadata_with_tkey(self, mock_store_secret): def _test_should_add_secret_payload_almost_too_large(self, mock_store_secret): def _test_should_raise_due_to_payload_too_large(self): def _test_should_raise_due_to_empty_payload(self):class WhenCreatingPlainTextSecretsUsingSecretsResource(BaseSecretsResource): def test_should_add_new_secret_one_step(self): self._test_should_add_new_secret_one_step() def test_should_add_new_secret_one_step_with_tkey_id(self): self._test_should_add_new_secret_one_step_with_tkey_id() def test_should_add_new_secret_with_expiration(self): self._test_should_add_new_secret_with_expiration() def test_should_add_new_secret_if_project_does_not_exist(self): self._test_should_add_new_secret_if_project_does_not_exist() def test_should_add_new_secret_metadata_without_payload(self): self._test_should_add_new_secret_metadata_without_payload() def test_should_add_new_secret_metadata_with_tkey(self): self._test_should_add_new_secret_metadata_with_tkey() def test_should_add_new_secret_payload_almost_too_large(self): self._test_should_add_secret_payload_almost_too_large() def test_should_raise_due_to_payload_too_large(self): self._test_should_raise_due_to_payload_too_large() def test_should_raise_due_to_empty_payload(self): self._test_should_raise_due_to_empty_payload()class WhenCreatingBinarySecretsUsingSecretsResource(BaseSecretsResource): def test_should_add_new_secret_one_step(self): self._test_should_add_new_secret_one_step() def test_should_add_new_secret_one_step_with_tkey_id(self): self._test_should_add_new_secret_one_step_with_tkey_id() def test_should_add_new_secret_with_expiration(self): self._test_should_add_new_secret_with_expiration() def test_should_add_new_secret_if_project_does_not_exist(self): self._test_should_add_new_secret_if_project_does_not_exist() def test_should_add_new_secret_metadata_without_payload(self): self._test_should_add_new_secret_metadata_without_payload() def test_should_add_new_secret_metadata_with_tkey(self): self._test_should_add_new_secret_metadata_with_tkey() def test_should_add_new_secret_payload_almost_too_large(self): self._test_should_add_secret_payload_almost_too_large() def test_should_raise_due_to_payload_too_large(self): self._test_should_raise_due_to_payload_too_large() def test_should_raise_due_to_empty_payload(self): self._test_should_raise_due_to_empty_payload() ",17,69
openstack%2Fossa~master~Id5de7f19dd7ece9eba1c08ac8ca23d953de796e3,openstack/ossa,master,Id5de7f19dd7ece9eba1c08ac8ca23d953de796e3,Adds OSSA-2015-003,MERGED,2015-01-26 14:06:07.000000000,2015-01-26 16:13:05.000000000,2015-01-26 16:13:04.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-26 14:06:07.000000000', 'files': ['ossa/OSSA-2015-003.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/c5ece310d2ce9a4f647e7dfd0a38d6bfea95d323', 'message': 'Adds OSSA-2015-003\n\nChange-Id: Id5de7f19dd7ece9eba1c08ac8ca23d953de796e3\n'}]",0,150031,c5ece310d2ce9a4f647e7dfd0a38d6bfea95d323,7,3,1,9311,,,0,"Adds OSSA-2015-003

Change-Id: Id5de7f19dd7ece9eba1c08ac8ca23d953de796e3
",git fetch https://review.opendev.org/openstack/ossa refs/changes/31/150031/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2015-003.yaml'],1,c5ece310d2ce9a4f647e7dfd0a38d6bfea95d323,,"date: 2015-01-26 id: OSSA-2015-003 title: 'Glance user storage quota bypass' description: 'Tushar Patil from NTT reported a vulnerability in Glance. By deleting images that are being uploaded, a malicious user can overcome the storage quota and thus may overrun the backend. Images in deleted state are not taken into account by quota and won''t be effectively deleted until the upload is completed. Only Glance setups configured with user_storage_quota are affected.' affected-products: - product: glance version: up to 2014.1.3 and 2014.2 versions up to 2014.2.1 vulnerabilities: - cve-id: CVE-2014-9623 reporters: - name: 'Tushar Patil' affiliation: NTT reported: - CVE-2014-9623 issues: links: - https://launchpad.net/bugs/1398830 type: launchpad reviews: kilo: - https://review.openstack.org/144464 juno: - https://review.openstack.org/149387 icehouse: - https://review.openstack.org/149646 type: gerrit notes: - 'This fix will be included in the kilo-2 development milestone and in future 2014.2.2 (juno) and 2014.1.4 (icehouse) releases.' ",,52,0
openstack%2Fbarbican~master~I6d6d3f942276bc45729cbf7cfa0d17635e1dc93d,openstack/barbican,master,I6d6d3f942276bc45729cbf7cfa0d17635e1dc93d,Refactor order validation,MERGED,2015-01-21 11:59:46.000000000,2015-01-26 16:07:30.000000000,2015-01-26 16:07:28.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-21 11:59:46.000000000', 'files': ['barbican/api/controllers/orders.py', 'barbican/common/validators.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/cc524998c9ca808ef7547557ef060a85bc645e3b', 'message': ""Refactor order validation\n\nThe 'meta' parameter for order validation was being handled manually\ninstead of in the JSON schema; So this was fixed. On the other hand,\nthere was a rudimentary validation for both the type and the meta\nparameters in the Order's PUT controller; this was removed, as it\ncreated unnecessary complexity.\n\nChange-Id: I6d6d3f942276bc45729cbf7cfa0d17635e1dc93d\n""}]",0,148900,cc524998c9ca808ef7547557ef060a85bc645e3b,8,13,1,10873,,,0,"Refactor order validation

The 'meta' parameter for order validation was being handled manually
instead of in the JSON schema; So this was fixed. On the other hand,
there was a rudimentary validation for both the type and the meta
parameters in the Order's PUT controller; this was removed, as it
created unnecessary complexity.

Change-Id: I6d6d3f942276bc45729cbf7cfa0d17635e1dc93d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/00/148900/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/orders.py', 'barbican/common/validators.py', 'barbican/tests/api/test_resources.py']",3,cc524998c9ca808ef7547557ef060a85bc645e3b,bug/1376438," def test_should_raise_add_new_order_no_secret_info(self): def test_should_raise_add_new_order_no_type(self): resp = self.app.post_json( '/orders/', {'meta': self.meta}, expect_errors=True ) self.assertEqual(resp.status_int, 400) def test_should_raise_add_new_order_no_meta(self): resp = self.app.post_json( '/orders/', {'type': self.type}, expect_errors=True ) self.assertEqual(resp.status_int, 400) ", def test_should_raise_add_new_order_no_secret(self):,25,39
openstack%2Fneutron~master~I180af703bd22dda57d4d1fc29ce5109bdd6296eb,openstack/neutron,master,I180af703bd22dda57d4d1fc29ce5109bdd6296eb,"Lower log level on ""attempted to remove chain which does not exist""",ABANDONED,2015-01-15 17:13:59.000000000,2015-01-26 16:03:55.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-15 17:13:59.000000000', 'files': ['neutron/agent/linux/iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3d120d7fe98115c14428d2557404cd8b08ed415', 'message': 'Lower log level on ""attempted to remove chain which does not exist""\n\nThis has been a warning since grizzly, it currently gets logged nearly\n7.4 million times in a 7 day jenkins run (check and gate queues), so\nunless it\'s an indication of a more systemic problem, it seems pretty\nbusiness as usual so drop the log level to debug.\n\nCloses-Bug: #1411316\n\nChange-Id: I180af703bd22dda57d4d1fc29ce5109bdd6296eb\n'}]",0,147592,c3d120d7fe98115c14428d2557404cd8b08ed415,21,19,1,6873,,,0,"Lower log level on ""attempted to remove chain which does not exist""

This has been a warning since grizzly, it currently gets logged nearly
7.4 million times in a 7 day jenkins run (check and gate queues), so
unless it's an indication of a more systemic problem, it seems pretty
business as usual so drop the log level to debug.

Closes-Bug: #1411316

Change-Id: I180af703bd22dda57d4d1fc29ce5109bdd6296eb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/147592/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_manager.py'],1,c3d120d7fe98115c14428d2557404cd8b08ed415,bug/1411316," LOG.debug('Attempted to remove chain %s which does not exist', name)"," LOG.warn(_LW('Attempted to remove chain %s which does not exist'), name)",2,2
openstack%2Fpython-mistralclient~master~I6663d5713d90651ee3623deafbcec3bde3eea506,openstack/python-mistralclient,master,I6663d5713d90651ee3623deafbcec3bde3eea506,Add error code to APIException,MERGED,2015-01-22 09:57:29.000000000,2015-01-26 16:03:44.000000000,2015-01-26 16:03:41.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 13009}]","[{'number': 1, 'created': '2015-01-22 09:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/ee25e704b99c456bc04c0943ea8ef03f3c379162', 'message': 'Add error code to APIException\n\nChange-Id: I6663d5713d90651ee3623deafbcec3bde3eea506\nCloses-bug: #1412486\n'}, {'number': 2, 'created': '2015-01-22 10:20:00.000000000', 'files': ['mistralclient/api/base.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/7e80a0c41b687618586162fd81f3daeab57ccfb3', 'message': 'Add error code to APIException\n\nChange-Id: I6663d5713d90651ee3623deafbcec3bde3eea506\nCloses-bug: #1412486\n'}]",0,149199,7e80a0c41b687618586162fd81f3daeab57ccfb3,12,4,2,13323,,,0,"Add error code to APIException

Change-Id: I6663d5713d90651ee3623deafbcec3bde3eea506
Closes-bug: #1412486
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/99/149199/2 && git format-patch -1 --stdout FETCH_HEAD,['mistralclient/api/base.py'],1,ee25e704b99c456bc04c0943ea8ef03f3c379162,bug/1412486," raise APIException(error_code=resp.status_code, error_message=error_data) def __init__(self, error_code=None, error_message=None): super(APIException, self).__init__(error_message) self.error_code = error_code self.error_message = error_message", raise APIException(error_data) pass,5,2
openstack%2Fglance_store~master~I12cb47f7a78ab3358381ca0dc197f997c435a6de,openstack/glance_store,master,I12cb47f7a78ab3358381ca0dc197f997c435a6de,Remove unused exception StorageQuotaFull,MERGED,2015-01-14 21:12:58.000000000,2015-01-26 16:01:35.000000000,2015-01-26 16:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 7575}, {'_account_id': 8158}, {'_account_id': 11356}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-14 21:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8b1113f5412f55cf229d55750915f88d7ef764d3', 'message': 'Remove unused exception StorageQuotaFull\n\nThis exception is not used in the glance_store code. Corresponding\nnecessary exception exists in the glance code base.\n\nChange-Id: I12cb47f7a78ab3358381ca0dc197f997c435a6de\n'}, {'number': 2, 'created': '2015-01-14 21:13:18.000000000', 'files': ['glance_store/exceptions.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f5dc7265d323e8e9250b097eb495b9a32b1d26df', 'message': 'Remove unused exception StorageQuotaFull\n\nThis exception is not used in the glance_store code. Corresponding\nnecessary exception exists in the glance code base.\n\nChange-Id: I12cb47f7a78ab3358381ca0dc197f997c435a6de\n'}]",0,147301,f5dc7265d323e8e9250b097eb495b9a32b1d26df,12,8,2,2537,,,0,"Remove unused exception StorageQuotaFull

This exception is not used in the glance_store code. Corresponding
necessary exception exists in the glance code base.

Change-Id: I12cb47f7a78ab3358381ca0dc197f997c435a6de
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/01/147301/2 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/exceptions.py'],1,8b1113f5412f55cf229d55750915f88d7ef764d3,,,"class StorageQuotaFull(GlanceStoreException): message = _(""The size of the data %(image_size)s will exceed the limit. "" ""%(remaining)s bytes remaining."") ",0,5
openstack%2Fironic~master~Ib7bccc4e4cdfb550421f955cfc4e455e6bbbff0f,openstack/ironic,master,Ib7bccc4e4cdfb550421f955cfc4e455e6bbbff0f,Improve ironic-dbsync help strings,MERGED,2015-01-16 04:55:17.000000000,2015-01-26 15:59:05.000000000,2015-01-26 10:44:02.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7882}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-16 04:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9474116cd20c20ed2f6267b67dae68ea32f9d79', 'message': 'Improve ironic-dbsync help strings\n\nAdd strings to the --help output of the ironic-dbsync command for the\n""upgrade"" and ""downgrade"" commands. The optional --revision parameter\nwas not documented or exposed in the CLI in any way.\n\nAlso adds a help string for the ""revision"" command, which is separate\nfrom the aforementioned parameter.\n\nChange-Id: Ib7bccc4e4cdfb550421f955cfc4e455e6bbbff0f\n'}, {'number': 2, 'created': '2015-01-25 23:55:06.000000000', 'files': ['ironic/cmd/dbsync.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/10ad9a37598da7a6e75fe2d5bddc24cf73fc3da3', 'message': 'Improve ironic-dbsync help strings\n\nAdd strings to the --help output of the ironic-dbsync command for the\n""upgrade"" and ""downgrade"" commands. The optional --revision parameter\nwas not documented or exposed in the CLI in any way.\n\nAlso adds a help string for the ""revision"" command, which is separate\nfrom the aforementioned parameter.\n\nChange-Id: Ib7bccc4e4cdfb550421f955cfc4e455e6bbbff0f\n'}]",10,147746,10ad9a37598da7a6e75fe2d5bddc24cf73fc3da3,22,7,2,2889,,,0,"Improve ironic-dbsync help strings

Add strings to the --help output of the ironic-dbsync command for the
""upgrade"" and ""downgrade"" commands. The optional --revision parameter
was not documented or exposed in the CLI in any way.

Also adds a help string for the ""revision"" command, which is separate
from the aforementioned parameter.

Change-Id: Ib7bccc4e4cdfb550421f955cfc4e455e6bbbff0f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/147746/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/cmd/dbsync.py'],1,f9474116cd20c20ed2f6267b67dae68ea32f9d79,(detached," parser = subparsers.add_parser('upgrade', help=""Upgrade the database schema. "" ""Optionally, use --revision to specify an alembi revision "" ""string to upgrade to."") parser = subparsers.add_parser('downgrade', help=""Downgrade the database schema. "" ""Optionally, use --revision to specify an alembic revision "" ""string to downgrade to."") parser = subparsers.add_parser('revision', help=""Create a new Alembic revision. "" ""Use --message to set the message string."")", parser = subparsers.add_parser('upgrade') parser = subparsers.add_parser('downgrade') parser = subparsers.add_parser('revision'),11,3
openstack%2Fsahara~master~I96a74df05281abe7c0c9cf401457160a4cbccb33,openstack/sahara,master,I96a74df05281abe7c0c9cf401457160a4cbccb33,Updated from global requirements,MERGED,2015-01-23 18:50:17.000000000,2015-01-26 15:50:43.000000000,2015-01-26 15:50:42.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-23 18:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f9af6d3ed83b34d10c86ebca7cbb2a3e0d3f051c', 'message': 'Updated from global requirements\n\nChange-Id: I96a74df05281abe7c0c9cf401457160a4cbccb33\n'}, {'number': 2, 'created': '2015-01-24 20:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f939954d2355ef4ae108697810732c97f9c462a1', 'message': 'Updated from global requirements\n\nChange-Id: I96a74df05281abe7c0c9cf401457160a4cbccb33\n'}, {'number': 3, 'created': '2015-01-26 10:34:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f8ccbf7d101a3971699503654bfef44b8a615163', 'message': 'Updated from global requirements\n\nChange-Id: I96a74df05281abe7c0c9cf401457160a4cbccb33\n'}]",0,149716,f8ccbf7d101a3971699503654bfef44b8a615163,15,5,3,11131,,,0,"Updated from global requirements

Change-Id: I96a74df05281abe7c0c9cf401457160a4cbccb33
",git fetch https://review.opendev.org/openstack/sahara refs/changes/16/149716/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f9af6d3ed83b34d10c86ebca7cbb2a3e0d3f051c,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Fhorizon~stable%2Fjuno~I9850dca2f6f5ab8eebab035f9e7cf19d7262f7d2,openstack/horizon,stable/juno,I9850dca2f6f5ab8eebab035f9e7cf19d7262f7d2,Fix Horizon crash when parsing volume list,MERGED,2015-01-23 07:15:44.000000000,2015-01-26 15:50:33.000000000,2015-01-26 15:50:32.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 4978}, {'_account_id': 5733}, {'_account_id': 6914}, {'_account_id': 7634}, {'_account_id': 8533}, {'_account_id': 9576}, {'_account_id': 12826}, {'_account_id': 12861}, {'_account_id': 13325}]","[{'number': 1, 'created': '2015-01-23 07:15:44.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/volumes/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/560357873ee84d10ed88b62e005ab9a81b9a114a', 'message': 'Fix Horizon crash when parsing volume list\n\nIf using Nova or Cinder CLI to create a new volume\n(without name) that can be used to boot a new VM,\nthen Horizon will be crashed when the volume list\nis retrieved by clicking the tab ""Volumes"" on\nHorizon dashboard.\n\n(cherry picked from commit af23dd8faeefedcb9183c3fce8637310399bbffa)\n\nCloses-Bug: #1389108\nChange-Id: I9850dca2f6f5ab8eebab035f9e7cf19d7262f7d2\n'}]",0,149522,560357873ee84d10ed88b62e005ab9a81b9a114a,28,13,1,5733,,,0,"Fix Horizon crash when parsing volume list

If using Nova or Cinder CLI to create a new volume
(without name) that can be used to boot a new VM,
then Horizon will be crashed when the volume list
is retrieved by clicking the tab ""Volumes"" on
Horizon dashboard.

(cherry picked from commit af23dd8faeefedcb9183c3fce8637310399bbffa)

Closes-Bug: #1389108
Change-Id: I9850dca2f6f5ab8eebab035f9e7cf19d7262f7d2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/149522/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/volumes/volumes/tables.py'],1,560357873ee84d10ed88b62e005ab9a81b9a114a,bug/1389108," ""dev"": html.escape(attachment.get(""device"", """"))}"," ""dev"": html.escape(attachment[""device""])}",1,1
openstack%2Fironic~master~Iedf00a45b3e98fb01e19483ade7a6cff7d155ccc,openstack/ironic,master,Iedf00a45b3e98fb01e19483ade7a6cff7d155ccc,Add one more unit test for get_glance_image_properties,ABANDONED,2015-01-26 12:20:43.000000000,2015-01-26 15:47:25.000000000,,"[{'_account_id': 3}, {'_account_id': 9420}]","[{'number': 1, 'created': '2015-01-26 12:20:43.000000000', 'files': ['ironic/tests/test_images.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/139069d451610958cd1a5be0b82c43eded7ce1ac', 'message': 'Add one more unit test for get_glance_image_properties\n\nAdd one more unit test for get_glance_image_properties,\nto cover the case of ""get a subset of all properties"".\n\nAlso, fixes the pep8 error from duplicate test names.\n\nChange-Id: Iedf00a45b3e98fb01e19483ade7a6cff7d155ccc\n'}]",0,150013,139069d451610958cd1a5be0b82c43eded7ce1ac,5,2,1,2889,,,0,"Add one more unit test for get_glance_image_properties

Add one more unit test for get_glance_image_properties,
to cover the case of ""get a subset of all properties"".

Also, fixes the pep8 error from duplicate test names.

Change-Id: Iedf00a45b3e98fb01e19483ade7a6cff7d155ccc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/150013/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/test_images.py'],1,139069d451610958cd1a5be0b82c43eded7ce1ac,(detached," def test_get_glance_image_properties_no_such_prop( self, image_service_mock): def test_get_glance_image_properties_default_all( self, image_service_mock): def test_get_glance_image_properties_with_prop_subset( self, image_service_mock): prop_dict = {'properties': {'p1': 'v1', 'p2': 'v2', 'p3': 'v3'}} image_service_obj_mock = image_service_mock.return_value image_service_obj_mock.show.return_value = prop_dict ret_val = images.get_glance_image_properties('con', 'uuid', ['p1', 'p3']) image_service_mock.assert_called_once_with(version=1, context='con') image_service_obj_mock.show.assert_called_once_with('uuid') self.assertEqual({'p1': 'v1', 'p3': 'v3'}, ret_val) @mock.patch.object(image_service, 'Service')"," def test_get_glance_image_properties(self, image_service_mock): def test_get_glance_image_properties(self, image_service_mock):",22,2
openstack%2Fpython-barbicanclient~master~Ic3f73b2620bf6e64afe857835511e81b80d606a8,openstack/python-barbicanclient,master,Ic3f73b2620bf6e64afe857835511e81b80d606a8,Updated from global requirements,MERGED,2015-01-23 04:37:56.000000000,2015-01-26 15:46:19.000000000,2015-01-26 15:46:18.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7789}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-23 04:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/378491cc63c5ec52d27295bc1a9874b4268c418e', 'message': 'Updated from global requirements\n\nChange-Id: Ic3f73b2620bf6e64afe857835511e81b80d606a8\n'}, {'number': 2, 'created': '2015-01-26 10:33:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/98c91a27c750aa4d7caffa15355ea1a6e1f72b28', 'message': 'Updated from global requirements\n\nChange-Id: Ic3f73b2620bf6e64afe857835511e81b80d606a8\n'}]",0,149482,98c91a27c750aa4d7caffa15355ea1a6e1f72b28,12,5,2,11131,,,0,"Updated from global requirements

Change-Id: Ic3f73b2620bf6e64afe857835511e81b80d606a8
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/82/149482/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,378491cc63c5ec52d27295bc1a9874b4268c418e,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Ffreezer~master~I4833e3e5f32b03880e9846ee90a66112c6860e6c,openstack/freezer,master,I4833e3e5f32b03880e9846ee90a66112c6860e6c,Add port argument to MySQL connection,MERGED,2015-01-26 10:39:25.000000000,2015-01-26 15:45:18.000000000,2015-01-26 15:45:18.000000000,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 11151}, {'_account_id': 12211}, {'_account_id': 14028}, {'_account_id': 14159}, {'_account_id': 14340}]","[{'number': 1, 'created': '2015-01-26 10:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/fe749125e7d8e8f14c856b675f5a2a2b0f86054f', 'message': 'Add port argument to MySQL connection\n\nNow MySQL accept port as an argument but still using the\ndefault port if none is provided\n\nChange-Id: I4833e3e5f32b03880e9846ee90a66112c6860e6c\n'}, {'number': 2, 'created': '2015-01-26 11:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/67dccd51511d8315ad21e9b0c1cf5a0ceba377e4', 'message': 'Add port argument to MySQL connection\n\nNow MySQL accept port as an argument but still using the\ndefault port if none is provided\n\nChange-Id: I4833e3e5f32b03880e9846ee90a66112c6860e6c\n'}, {'number': 3, 'created': '2015-01-26 14:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/d104e94d457ceb355c3afdc8f81f552dc6ab2985', 'message': 'Add port argument to MySQL connection\n\nNow MySQL accept port as an argument but still using the\ndefault port if none is provided\n\nChange-Id: I4833e3e5f32b03880e9846ee90a66112c6860e6c\n'}, {'number': 4, 'created': '2015-01-26 14:56:07.000000000', 'files': ['tests/test_backup.py', 'freezer/arguments.py', 'tests/commons.py', 'freezer/backup.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c8a09c79497fb38bde8fc47c88874d5f93d6068d', 'message': 'Add port argument to MySQL connection\n\nNow MySQL accept port as an argument but still using the\ndefault port if none is provided\n\nChange-Id: I4833e3e5f32b03880e9846ee90a66112c6860e6c\n'}]",0,149989,c8a09c79497fb38bde8fc47c88874d5f93d6068d,15,7,4,14340,,,0,"Add port argument to MySQL connection

Now MySQL accept port as an argument but still using the
default port if none is provided

Change-Id: I4833e3e5f32b03880e9846ee90a66112c6860e6c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/89/149989/4 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/arguments.py', 'freezer/backup.py']",2,fe749125e7d8e8f14c856b675f5a2a2b0f86054f,," # Use the default mysql port if not provided db_port = 3306 elif 'port' in line: db_port = line.split('=')[1].strip() continue host=db_host, user=db_user, passwd=db_pass, port=db_port)"," host=db_host, user=db_user, passwd=db_pass)",8,2
openstack%2Fcinder~master~I4f04f5d0c558404836a2bd270f7f22f3f2d4f314,openstack/cinder,master,I4f04f5d0c558404836a2bd270f7f22f3f2d4f314,Raise correct exception when validate_connector failed,MERGED,2015-01-12 05:42:45.000000000,2015-01-26 15:45:10.000000000,2015-01-26 15:45:09.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4355}, {'_account_id': 7219}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12561}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 14242}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-12 05:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64394350a3e6bdd9fadd307012bcd88d824af833', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: # 1409580\n""}, {'number': 2, 'created': '2015-01-12 07:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2367d3900f5553409f3723ecd003ea144dbfb6c', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: # 1409580\n""}, {'number': 3, 'created': '2015-01-13 02:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd7752eb5f01633cb8367b2dd0c91a674cda5e88', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: # 1409580\n""}, {'number': 4, 'created': '2015-01-13 04:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5130886a1b69a65bcdac6cee0191acc8cbdac4d6', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: # 1409580\n""}, {'number': 5, 'created': '2015-01-14 08:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/589e08c4604a4d160937c84cc13bf9ef71c9e34e', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: # 1409580\n""}, {'number': 6, 'created': '2015-01-23 16:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/763c032c60741f4924ff752b5981a948e56a284d', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: # 1409580\n""}, {'number': 7, 'created': '2015-01-26 03:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d091aa6a086ba2b16648700f2df3d784f7269ce', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: #1409580\n""}, {'number': 8, 'created': '2015-01-26 05:31:23.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/targets/test_base_iscsi_driver.py', 'cinder/volume/drivers/ibm/flashsystem.py', 'cinder/tests/test_huawei_t_dorado.py', 'cinder/tests/test_volume.py', 'cinder/tests/test_ibm_flashsystem.py', 'cinder/tests/test_storwize_svc.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/__init__.py', 'cinder/exception.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/contrib/volume_actions.py', 'cinder/volume/drivers/huawei/huawei_t.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7d97c4ad70cc49dd529a10c593fbd9b20f89d90', 'message': ""Raise correct exception when validate_connector failed\n\nCinder volume manager uses validate_connector() method to verify if required\ninformation is in connector when handling initialize_connection() request.\nvalidate_connector() is actually a pure input validation method, basically\nchecking if 'initiator' or 'wwpns' is in connector if storage protocol is\niSCSI or FC.  However, when required information is missing, currently drivers\nraises either VolumeBackendAPIException or VolumeDriverException, which would\nthen bubble up to API and then to user (Nova) as InternalServerError.\n\nThis change adds a new exception - InvalidConnectorException, that drivers\nshould raise when connector is found not valid.  With that, Cinder API would\nraise BadRequest instead to user, suggesting things are missing in request.\n\nChange-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314\nCloses-bug: #1409580\n""}]",23,146374,c7d97c4ad70cc49dd529a10c593fbd9b20f89d90,88,22,8,2759,,,0,"Raise correct exception when validate_connector failed

Cinder volume manager uses validate_connector() method to verify if required
information is in connector when handling initialize_connection() request.
validate_connector() is actually a pure input validation method, basically
checking if 'initiator' or 'wwpns' is in connector if storage protocol is
iSCSI or FC.  However, when required information is missing, currently drivers
raises either VolumeBackendAPIException or VolumeDriverException, which would
then bubble up to API and then to user (Nova) as InternalServerError.

This change adds a new exception - InvalidConnectorException, that drivers
should raise when connector is found not valid.  With that, Cinder API would
raise BadRequest instead to user, suggesting things are missing in request.

Change-Id: I4f04f5d0c558404836a2bd270f7f22f3f2d4f314
Closes-bug: #1409580
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/146374/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/targets/test_base_iscsi_driver.py', 'cinder/volume/drivers/ibm/flashsystem.py', 'cinder/tests/test_huawei_t_dorado.py', 'cinder/tests/test_volume.py', 'cinder/tests/test_ibm_flashsystem.py', 'cinder/tests/test_storwize_svc.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/__init__.py', 'cinder/exception.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/contrib/volume_actions.py', 'cinder/volume/drivers/huawei/huawei_t.py']",14,64394350a3e6bdd9fadd307012bcd88d824af833,bug/1409580, raise exception.InvalidConnectorException(missing='wwpns'), raise exception.VolumeBackendAPIException(data=err_msg),37,27
openstack%2Fbarbican~master~Idfb05e0e9ac5b608fe0d92c3410b3597b4f29b2d,openstack/barbican,master,Idfb05e0e9ac5b608fe0d92c3410b3597b4f29b2d,Remove commented test cases,MERGED,2015-01-26 11:30:42.000000000,2015-01-26 15:44:49.000000000,2015-01-26 15:44:49.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-26 11:30:42.000000000', 'files': ['barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2abaac6d437f8d55f6ea70888237872a1a1e1be2', 'message': 'Remove commented test cases\n\nWhile I do agree that those test cases need to be implemented. They\nshould not be there as comments in the test-code, since it only adds\nnoise when trying to read the tests.\n\nChange-Id: Idfb05e0e9ac5b608fe0d92c3410b3597b4f29b2d\n'}]",0,150002,2abaac6d437f8d55f6ea70888237872a1a1e1be2,9,13,1,10873,,,0,"Remove commented test cases

While I do agree that those test cases need to be implemented. They
should not be there as comments in the test-code, since it only adds
noise when trying to read the tests.

Change-Id: Idfb05e0e9ac5b608fe0d92c3410b3597b4f29b2d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/02/150002/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/tests/api/test_resources.py'],1,2abaac6d437f8d55f6ea70888237872a1a1e1be2,remove_commented,,"# TODO(jwood) These tests are integration-style unit tests of the REST -> Pecan # resources, which are more painful to test now that we have a two-tier # plugin lookup framework. These tests should instead be re-located to # unit tests of the secret_store.py and store_crypto.py modules. A separate # CR will add the additional unit tests. # def test_create_secret_content_type_text_plain(self): # # payload_content_type has trailing space # self.secret_req = {'name': self.name, # 'payload_content_type': 'text/plain ', # 'algorithm': self.secret_algorithm, # 'bit_length': self.secret_bit_length, # 'mode': self.secret_mode, # 'payload': self.payload} # # resp = self.app.post_json( # '/secrets/', # self.secret_req # ) # self.assertEqual(resp.status_int, 201) # # self.secret_req = {'name': self.name, # 'payload_content_type': ' text/plain', # 'algorithm': self.secret_algorithm, # 'bit_length': self.secret_bit_length, # 'mode': self.secret_mode, # 'payload': self.payload} # # resp = self.app.post_json( # '/secrets/', # self.secret_req # ) # self.assertEqual(resp.status_int, 201) # # def test_create_secret_content_type_text_plain_space_charset_utf8(self): # # payload_content_type has trailing space # self.secret_req = {'name': self.name, # 'payload_content_type': # 'text/plain; charset=utf-8 ', # 'algorithm': self.secret_algorithm, # 'bit_length': self.secret_bit_length, # 'mode': self.secret_mode, # 'payload': self.payload} # # resp = self.app.post_json( # '/secrets/', # self.secret_req # ) # self.assertEqual(resp.status_int, 201) # # self.secret_req = {'name': self.name, # 'payload_content_type': # ' text/plain; charset=utf-8', # 'algorithm': self.secret_algorithm, # 'bit_length': self.secret_bit_length, # 'mode': self.secret_mode, # 'payload': self.payload} # # resp = self.app.post_json( # '/secrets/', # self.secret_req # ) # self.assertEqual(resp.status_int, 201) # # def test_create_secret_with_only_content_type(self): # # No payload just content_type # self.secret_req = {'payload_content_type': # 'text/plain'} # resp = self.app.post_json( # '/secrets/', # self.secret_req, # expect_errors=True # ) # self.assertEqual(resp.status_int, 400) # # self.secret_req = {'payload_content_type': # 'text/plain', # 'payload': 'somejunk'} # resp = self.app.post_json( # '/secrets/', # self.secret_req # ) # self.assertEqual(resp.status_int, 201) ",0,83
openstack%2Fshade~master~If3b1301fce8c2c7592258de2381dacfa082f8e49,openstack/shade,master,If3b1301fce8c2c7592258de2381dacfa082f8e49,Pull in improvements from nodepool,MERGED,2015-01-13 01:19:43.000000000,2015-01-26 15:38:37.000000000,2015-01-26 15:38:36.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6133}]","[{'number': 1, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e0a5e24b77f7cd35c6df5c9898ed63197cbcd104', 'message': 'Pull in improvements from nodepool\n\nAs part of starting to hack on using shade in nodepool, a few\ninconsistencies with the compute stack in shade became clear ... fix\nthem up.\n\nChange-Id: If3b1301fce8c2c7592258de2381dacfa082f8e49\n'}, {'number': 2, 'created': '2015-01-22 17:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/574fcf9e4e389419bcacce688904c18b79bab2d8', 'message': 'Pull in improvements from nodepool\n\nAs part of starting to hack on using shade in nodepool, a few\ninconsistencies with the compute stack in shade became clear ... fix\nthem up.\n\nChange-Id: If3b1301fce8c2c7592258de2381dacfa082f8e49\n'}, {'number': 3, 'created': '2015-01-22 18:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3ee75edc1ca215efd1dce507cb08c60862915444', 'message': 'Pull in improvements from nodepool\n\nAs part of starting to hack on using shade in nodepool, a few\ninconsistencies with the compute stack in shade became clear ... fix\nthem up.\n\nChange-Id: If3b1301fce8c2c7592258de2381dacfa082f8e49\n'}, {'number': 4, 'created': '2015-01-23 14:36:32.000000000', 'files': ['shade/meta.py', 'shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/ab117cfebac692343bf5929bc5d52ab3093b7e0d', 'message': 'Pull in improvements from nodepool\n\nAs part of starting to hack on using shade in nodepool, a few\ninconsistencies with the compute stack in shade became clear ... fix\nthem up.\n\nChange-Id: If3b1301fce8c2c7592258de2381dacfa082f8e49\n'}]",2,146727,ab117cfebac692343bf5929bc5d52ab3093b7e0d,17,5,4,2,,,0,"Pull in improvements from nodepool

As part of starting to hack on using shade in nodepool, a few
inconsistencies with the compute stack in shade became clear ... fix
them up.

Change-Id: If3b1301fce8c2c7592258de2381dacfa082f8e49
",git fetch https://review.opendev.org/openstack/shade refs/changes/27/146727/4 && git format-patch -1 --stdout FETCH_HEAD,"['shade/meta.py', 'shade/__init__.py']",2,e0a5e24b77f7cd35c6df5c9898ed63197cbcd104,feature/glance-support," def get_server_id(self, name_or_id): server = self.get_server(name_or_id) def _get_server_ip(self, server, **kwargs): addrs = meta.find_nova_addresses(server.addresses, *kwargs) if not addrs: return None return addrs[0] def get_server_private_ip(self, server): return self._get_server_ip( server, ext_tag='fixed', key_name='private') def get_server_public_ip(self, server): return self._get_server_ip( server, ext_tag='floating', key_name='public') server = self.get_server(name)"," def get_server_by_id(self, server_id): for server in self.nova_client.servers.list(): if server.id == server_id: return server return None def get_server_by_name(self, server_name): for server in self.nova_client.servers.list(): if server.name == server_name: return server return None def get_server_id(self, server_name): server = self.get_server_by_name(server_name)",22,17
openstack%2Fshade~master~I0c137c55d7f5b76f343d09f26abe926b2c44b147,openstack/shade,master,I0c137c55d7f5b76f343d09f26abe926b2c44b147,Remove positional args to create_server,MERGED,2015-01-13 01:19:43.000000000,2015-01-26 15:36:35.000000000,2015-01-26 15:36:34.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6133}]","[{'number': 1, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/bfe70eb0b2a5c0addf10534f145066c818b7719c', 'message': ""Remove positional args to create_server\n\nThere's no good compelling reason to have them, and it just makes other\nplaces ugly and harder to use.\n\nChange-Id: I0c137c55d7f5b76f343d09f26abe926b2c44b147\n""}, {'number': 2, 'created': '2015-01-22 17:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/32ec179a9c489feb626961865d3994863afb271f', 'message': ""Remove positional args to create_server\n\nThere's no good compelling reason to have them, and it just makes other\nplaces ugly and harder to use.\n\nChange-Id: I0c137c55d7f5b76f343d09f26abe926b2c44b147\n""}, {'number': 3, 'created': '2015-01-23 14:36:32.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/5342d25cace4b8c37c1c3b4328e77dbdd1e7342e', 'message': ""Remove positional args to create_server\n\nThere's no good compelling reason to have them, and it just makes other\nplaces ugly and harder to use.\n\nChange-Id: I0c137c55d7f5b76f343d09f26abe926b2c44b147\n""}]",0,146726,5342d25cace4b8c37c1c3b4328e77dbdd1e7342e,13,5,3,2,,,0,"Remove positional args to create_server

There's no good compelling reason to have them, and it just makes other
places ugly and harder to use.

Change-Id: I0c137c55d7f5b76f343d09f26abe926b2c44b147
",git fetch https://review.opendev.org/openstack/shade refs/changes/26/146726/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,bfe70eb0b2a5c0addf10534f145066c818b7719c,feature/glance-support," def create_server(self, auto_ip=True, ips=None, ip_pool=None, wait=False, timeout=180, **bootkwargs): server = self.nova_client.servers.create(**bootkwargs)"," def create_server(self, bootargs, bootkwargs, auto_ip=True, ips=None, ip_pool=None, wait=False, timeout=180): server = self.nova_client.servers.create(*bootargs, **bootkwargs)",3,4
openstack%2Fshade~master~I331b2d14199eab72f108b939ac4fbe0363565814,openstack/shade,master,I331b2d14199eab72f108b939ac4fbe0363565814,Don't include deleted images by default,MERGED,2015-01-13 01:19:43.000000000,2015-01-26 15:36:17.000000000,2015-01-26 15:36:17.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6133}]","[{'number': 1, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e0e8f328529216cca600dc8c91af658b50421a05', 'message': ""Don't include deleted images\n\nSince this is an end-user consumption library, don't put images\nthat are invalid in the list of images when the user asks for images.\n\nChange-Id: I331b2d14199eab72f108b939ac4fbe0363565814\n""}, {'number': 2, 'created': '2015-01-22 17:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0108eb2fc809e37a5279c3fca4db193d57fc455e', 'message': ""Don't include deleted images by default\n\nSince this is an end-user consumption library, don't put images\nthat are invalid in the list of images when the user asks for images.\nAn API call option is provided to disable this filtering.\n\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nChange-Id: I331b2d14199eab72f108b939ac4fbe0363565814\n""}, {'number': 3, 'created': '2015-01-23 14:36:32.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/37cf9b8597b132ec0437fff357f02edd9aef741a', 'message': ""Don't include deleted images by default\n\nSince this is an end-user consumption library, don't put images\nthat are invalid in the list of images when the user asks for images.\nAn API call option is provided to disable this filtering.\n\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nChange-Id: I331b2d14199eab72f108b939ac4fbe0363565814\n""}]",0,146725,37cf9b8597b132ec0437fff357f02edd9aef741a,14,5,3,2,,,0,"Don't include deleted images by default

Since this is an end-user consumption library, don't put images
that are invalid in the list of images when the user asks for images.
An API call option is provided to disable this filtering.

Co-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>
Change-Id: I331b2d14199eab72f108b939ac4fbe0363565814
",git fetch https://review.opendev.org/openstack/shade refs/changes/25/146725/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,e0e8f328529216cca600dc8c91af658b50421a05,feature/glance-support," image_list = self.glance_client.images.list() image_list = self.nova_client.images.list() for image in image_list: # The cloud might return DELETED for invalid images. # While that's cute and all, that's an implementation detail. if image.status != 'DELETED':", for image in self.glance_client.images.list(): images[image.id] = image for image in self.nova_client.images.list():,6,3
openstack%2Fgnocchi~master~I4ff206e4008cebdf90f9f926c639d7d53e14a175,openstack/gnocchi,master,I4ff206e4008cebdf90f9f926c639d7d53e14a175,rest: allow to use relative timestamps,MERGED,2015-01-20 14:15:54.000000000,2015-01-26 15:36:11.000000000,2015-01-26 15:36:09.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-01-20 14:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/09344a90cc45678fe824d839930fa48b25b1fafe', 'message': 'rest: allow to use relative timestamps\n\nChange-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175\n'}, {'number': 2, 'created': '2015-01-20 15:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/eecf9c51a5aba25285811c0a54e98ab90bd31dc9', 'message': 'rest: allow to use relative timestamps\n\nChange-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175\n'}, {'number': 3, 'created': '2015-01-20 15:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/7b9925e0d44906c78c787f252d6471c97636e2e8', 'message': 'rest: allow to use relative timestamps\n\nChange-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175\n'}, {'number': 4, 'created': '2015-01-20 16:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/e7994a4867d7a4d0e0b8891cc2fe934d7e91cb89', 'message': 'rest: allow to use relative timestamps\n\nChange-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175\n'}, {'number': 5, 'created': '2015-01-20 17:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b0aaa84a385b6816581aad26d216db406d4d16d5', 'message': 'rest: allow to use relative timestamps\n\nChange-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175\n'}, {'number': 6, 'created': '2015-01-26 14:05:40.000000000', 'files': ['gnocchi/rest/__init__.py', 'doc/source/rest.j2', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/748199d93c2bce7ed174f345247511fea5e6c815', 'message': 'rest: allow to use relative timestamps\n\nChange-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175\n'}]",4,148570,748199d93c2bce7ed174f345247511fea5e6c815,18,4,6,1669,,,0,"rest: allow to use relative timestamps

Change-Id: I4ff206e4008cebdf90f9f926c639d7d53e14a175
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/70/148570/3 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py']",2,09344a90cc45678fe824d839930fa48b25b1fafe,jd/relative-timestamps," def test_get_measure_start_relative(self): """"""Make sure the timestamps can be relative to now."""""" # TODO(jd) Use a fixture as soon as there's one timeutils.set_time_override() self.addCleanup(timeutils.clear_time_override) result = self.app.post_json(""/v1/metric"", params={""archive_policy_name"": ""high""}) metric = json.loads(result.text) self.app.post_json(""/v1/metric/%s/measures"" % metric['id'], params=[{""timestamp"": timeutils.isotime(), ""value"": 1234.2}]) ret = self.app.get( ""/v1/metric/%s/measures?start=-10 minutes"" % metric['id'], status=200) result = json.loads(ret.text) now = timeutils.utcnow() self.assertEqual([ [timeutils.isotime(now - datetime.timedelta( seconds=now.second, microseconds=now.microsecond)), 60.0, 1234.2], [timeutils.isotime(), 1.0, 1234.2]], result) ",,34,3
openstack%2Fshade~master~Ifccf8aaa6cd7793a1b827914e7da4b2b82248544,openstack/shade,master,Ifccf8aaa6cd7793a1b827914e7da4b2b82248544,Add image upload support,MERGED,2015-01-07 21:53:14.000000000,2015-01-26 15:35:15.000000000,2015-01-26 15:35:14.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2015-01-07 21:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/fe14bc166ebc87854e9b8da950be51946a2f00db', 'message': ""Add image upload support\n\nThere are at least 2 known mechanisms in the wild for uploading images\nto public glance endpoints that are completely different. Based on which\nversion of the API we're running switch between them seamlessly. Note\nthat the wait parameter isn't going to do anything for v1 because it's a\nsync call - maybe we should throw an error if someone tries to leave if\nset to false?\n\nChange-Id: Ifccf8aaa6cd7793a1b827914e7da4b2b82248544\n""}, {'number': 2, 'created': '2015-01-08 01:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8801f7bbe399c0fde92524322db3ed9ffb439263', 'message': ""Add image upload support\n\nThere are at least 2 known mechanisms in the wild for uploading images\nto public glance endpoints that are completely different. Based on which\nversion of the API we're running switch between them seamlessly. Note\nthat the wait parameter isn't going to do anything for v1 because it's a\nsync call - maybe we should throw an error if someone tries to leave if\nset to false?\n\nChange-Id: Ifccf8aaa6cd7793a1b827914e7da4b2b82248544\n""}, {'number': 3, 'created': '2015-01-12 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5c564735edc935eabcca229a6a8c1502ad5990a9', 'message': ""Add image upload support\n\nThere are at least 2 known mechanisms in the wild for uploading images\nto public glance endpoints that are completely different. Based on which\nversion of the API we're running switch between them seamlessly. Note\nthat the wait parameter isn't going to do anything for v1 because it's a\nsync call - maybe we should throw an error if someone tries to leave if\nset to false?\n\nChange-Id: Ifccf8aaa6cd7793a1b827914e7da4b2b82248544\n""}, {'number': 4, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/eb30339057f6775e67018c8b29d6a29040672b82', 'message': ""Add image upload support\n\nThere are at least 2 known mechanisms in the wild for uploading images\nto public glance endpoints that are completely different. Based on which\nversion of the API we're running switch between them seamlessly. Note\nthat the wait parameter isn't going to do anything for v1 because it's a\nsync call - maybe we should throw an error if someone tries to leave if\nset to false?\n\nChange-Id: Ifccf8aaa6cd7793a1b827914e7da4b2b82248544\n""}, {'number': 5, 'created': '2015-01-23 14:36:32.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/9c9de96e963824530e5c7a827465d51e2bf1ab1a', 'message': ""Add image upload support\n\nThere are at least 2 known mechanisms in the wild for uploading images\nto public glance endpoints that are completely different. Based on which\nversion of the API we're running switch between them seamlessly. Note\nthat the wait parameter isn't going to do anything for v1 because it's a\nsync call - maybe we should throw an error if someone tries to leave if\nset to false?\n\nChange-Id: Ifccf8aaa6cd7793a1b827914e7da4b2b82248544\n""}]",9,145605,9c9de96e963824530e5c7a827465d51e2bf1ab1a,17,4,5,2,,,0,"Add image upload support

There are at least 2 known mechanisms in the wild for uploading images
to public glance endpoints that are completely different. Based on which
version of the API we're running switch between them seamlessly. Note
that the wait parameter isn't going to do anything for v1 because it's a
sync call - maybe we should throw an error if someone tries to leave if
set to false?

Change-Id: Ifccf8aaa6cd7793a1b827914e7da4b2b82248544
",git fetch https://review.opendev.org/openstack/shade refs/changes/05/145605/5 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,fe14bc166ebc87854e9b8da950be51946a2f00db,feature/glance-support,"IMAGE_MD5_KEY = 'org.openstack.shade.md5' def get_image_name(self, image_id, exclude=None): def create_image( self, name, filename, container='images', md5=None disk_format=None, container_format=None, wait=False, timeout=3600, **kwargs): if not md5: md5 = self._get_file_md5(filename) current_image = self.get_image(name) if current_image.get(IMAGE_MD5_KEY, '') == md5: self.log.debug( ""image {name} exists and is up to date"".format(name=name)) return kwargs[IMAGE_MD5_KEY] = md5 # This makes me want to die inside if self._get_glance_api_version() == '2': self._upload_image_v2( name, filename, container, current_image=current_image, wait=wait, timeout=timeout, **kwargs) else: self._upload_image_v1(name, filename, md5=md5) def _upload_image_v1(self, name, filename, disk_format=None, container_format=None, **image_properties): image = self.glance_client.images.create( name=name, is_public=False, disk_format=disk_format, container_format=container_format, **image_properties) image.update(data=open(filename, 'rb')) return image.id def _upload_image_v2( self, name, filename, container, current_image=None, wait=False, timeout=3600, **image_properties): self.create_object( container, name, filename, md5=image_properties['md5']) if not current_image: current_image = self.get_image(name) # TODO(mordred): Can we do something similar to what nodepool does # using glance properties to not delete then upload but instead make a # new ""good"" image and then mark the old one as ""bad"" # self.glance_client.images.delete(current_image) image_properties['name'] = name task = self.glance_client.tasks.create( type='import', input=dict( import_from='{container}/{name}'.format( container=container, name=name), image_properties=image_properties)) if wait: expire = time.time() + timeout while time.time() < expire: status = self.glance_client.tasks.get(task.id) if status.status == 'success': return status.result['image_id'] if status.status == 'failure': raise OpenStackCloudException( ""Image creation failed: {message}"".format( message=status.message)) time.sleep(10) raise OpenStackCloudException( ""Timeout waiting for the image to import."") else: return task "," def get_image_name(self, image_id, exclude):",66,1
openstack%2Fshade~master~I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8,openstack/shade,master,I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8,Refactor glance version call into method,MERGED,2015-01-07 21:53:14.000000000,2015-01-26 15:34:45.000000000,2015-01-26 15:34:45.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2015-01-07 21:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/93448030108e2f80ca40e4aea5e82e455354a4c8', 'message': 'Refactor glance version call into method\n\nIn order to switch behavior between glance v1 and glance v2 image\nuploading, it needs to be possible to get the version in other places\nother than just client initialization.\n\nChange-Id: I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8\n'}, {'number': 2, 'created': '2015-01-08 01:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3f4f7d0ecc398151dedf9dd40a409782fffa3b11', 'message': 'Refactor glance version call into method\n\nIn order to switch behavior between glance v1 and glance v2 image\nuploading, it needs to be possible to get the version in other places\nother than just client initialization.\n\nChange-Id: I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8\n'}, {'number': 3, 'created': '2015-01-12 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f7f25e6478a6c42488f4d445325654c374628c66', 'message': 'Refactor glance version call into method\n\nIn order to switch behavior between glance v1 and glance v2 image\nuploading, it needs to be possible to get the version in other places\nother than just client initialization.\n\nChange-Id: I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8\n'}, {'number': 4, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e42b44f67e581701d8c1b8fcf3d1f1c2dc684ec3', 'message': 'Refactor glance version call into method\n\nIn order to switch behavior between glance v1 and glance v2 image\nuploading, it needs to be possible to get the version in other places\nother than just client initialization.\n\nChange-Id: I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8\n'}, {'number': 5, 'created': '2015-01-23 14:36:32.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/abc21aaf7656147fa58c49ebccff91a3b8aaf3aa', 'message': 'Refactor glance version call into method\n\nIn order to switch behavior between glance v1 and glance v2 image\nuploading, it needs to be possible to get the version in other places\nother than just client initialization.\n\nChange-Id: I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8\n'}]",0,145604,abc21aaf7656147fa58c49ebccff91a3b8aaf3aa,15,4,5,2,,,0,"Refactor glance version call into method

In order to switch behavior between glance v1 and glance v2 image
uploading, it needs to be possible to get the version in other places
other than just client initialization.

Change-Id: I1c7bcc9948c6ff7de5d4e14ce31b26e83328d5b8
",git fetch https://review.opendev.org/openstack/shade refs/changes/04/145604/5 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,93448030108e2f80ca40e4aea5e82e455354a4c8,feature/glance-support, self._glance_endpoint = None def _get_glance_api_version(self): endpoint = self._get_glance_endpoint() def _get_glance_endpoint(self): if self._glance_endpoint is None: self._glance_endpoint = self.get_endpoint( service_type=self.get_service_type('image')) return self._glance_endpoint endpoint = self._get_glance_endpoint() glance_api_version = self._get_glance_api_version()," def _get_glance_api_version(self, endpoint): endpoint = self.get_endpoint( service_type=self.get_service_type('image')) glance_api_version = self._get_glance_api_version(endpoint)",11,4
openstack%2Fshade~master~I844ea7a26005e72ab037fe733681058944e847fa,openstack/shade,master,I844ea7a26005e72ab037fe733681058944e847fa,Support uploading swift objects,MERGED,2015-01-07 21:53:14.000000000,2015-01-26 15:34:15.000000000,2015-01-26 15:34:14.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6133}]","[{'number': 1, 'created': '2015-01-07 21:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/883d0c5289b7b237fc8f3b175116836cf2ccdf3d', 'message': 'Support uploading swift objects\n\nIn addition to just needing to be able to upload swift objects into\ncontainers, we should be able to sanely interact with swift on general\nprinciple.\n\nChange-Id: I844ea7a26005e72ab037fe733681058944e847fa\n'}, {'number': 2, 'created': '2015-01-08 01:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ea922e2cc799527f56ad94bff99401eb5ea2e25d', 'message': 'Support uploading swift objects\n\nIn addition to just needing to be able to upload swift objects into\ncontainers, we should be able to sanely interact with swift on general\nprinciple.\n\nChange-Id: I844ea7a26005e72ab037fe733681058944e847fa\n'}, {'number': 3, 'created': '2015-01-12 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/60295c8816b579eee10c25c9982e209539dabc14', 'message': 'Support uploading swift objects\n\nIn addition to just needing to be able to upload swift objects into\ncontainers, we should be able to sanely interact with swift on general\nprinciple.\n\nChange-Id: I844ea7a26005e72ab037fe733681058944e847fa\n'}, {'number': 4, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/4e5a7d160abaf6ea7c8743122a494bcd5cdac622', 'message': 'Support uploading swift objects\n\nIn addition to just needing to be able to upload swift objects into\ncontainers, we should be able to sanely interact with swift on general\nprinciple.\n\nChange-Id: I844ea7a26005e72ab037fe733681058944e847fa\n'}, {'number': 5, 'created': '2015-01-23 14:36:32.000000000', 'files': ['requirements.txt', 'shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/a81d18dd0e21f4c19f7a9f2cb916a03a140daaa3', 'message': 'Support uploading swift objects\n\nIn addition to just needing to be able to upload swift objects into\ncontainers, we should be able to sanely interact with swift on general\nprinciple.\n\nChange-Id: I844ea7a26005e72ab037fe733681058944e847fa\n'}]",13,145603,a81d18dd0e21f4c19f7a9f2cb916a03a140daaa3,19,5,5,2,,,0,"Support uploading swift objects

In addition to just needing to be able to upload swift objects into
containers, we should be able to sanely interact with swift on general
principle.

Change-Id: I844ea7a26005e72ab037fe733681058944e847fa
",git fetch https://review.opendev.org/openstack/shade refs/changes/03/145603/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'shade/__init__.py']",2,883d0c5289b7b237fc8f3b175116836cf2ccdf3d,feature/glance-support,"import subprocessimport swiftclient.client as swift_client import swiftclient.exceptions as swift_exceptionsdef openstack_cloud(debug=False, **kwargs): cloud_config.name, cloud_config.region, debug=debug, **cloud_config.config) self._container_cache = dict() self._swift_client = None log_level = logging.INFO if self.debug: log_level = logging.DEBUG self.log.setLevel(log_level) def swift_client(self): if self._swift_client is None: token = self.keystone_client.auth_token endpoint = self.get_endpoint( service_type=self.get_service_type('object-store')) self._swift_client = swift_client.Connection( preauthurl=endpoint, preauthtoken=token, #auth_version='2.0', os_options=dict(region_name=self.region_name), ) return self._swift_client @property def get_container(self, name, skip_cache=False): if not skip_cache and name in self._container_cache: return self._container_cache[name] try: container = self.swift_client.head_container(name) self._container_cache[name] = container except swift_exceptions.ClientException as e: if e.http_status == 404: return None raise def create_container(self, name): if self.get_container(name): return try: self.swift_client.put_container(name) self.get_container(name, skip_cache=True) except swift_exceptions.ClientException as e: raise OpenStackCloudException( ""Container creation failed: %s (%s/%s)"" % ( e.http_reason, e.http_host, e.http_path)) def _get_file_md5(self, filename): return subprocess.check_output(['md5sum', filename]).split()[0] def _is_object_stale(self, container, name, filename, file_md5): try: metadata = self.get_object_metadata(container, name) except OpenStackCloudException: self.log.debug( ""swift stale check, no object: {container}/{name}"".format( container=container, name=name)) return True if file_md5 is None: file_md5 = self._get_file_md5(filename) if file_md5 != metadata['etag']: self.log.debug( ""swift md5 mismatch: {filename}!={container}/{name}"".format( filename=filename, container=container, name=name)) return True self.log.debug( ""swift object up to date: {container}/{name}"".format( container=container, name=name)) return False def create_object( self, container, name, filename=None, md5=None, headers=None): if not filename: filename = name if self._is_object_stale(container, name, filename, md5): self.create_container(container) with open(filename, 'r') as fileobj: self.log.debug( ""swift uploading {filename} to {container}/{name}"".format( filename=filename, container=container, name=name)) self.swift_client.put_object(container, name, contents=fileobj) if headers: self.swift_client.post_object(container, name, headers=headers) def get_object_metadata(self, container, name): try: return self.swift_client.head_object(container, name) except swift_exceptions.ClientException as e: raise OpenStackCloudException( ""Object metadata fetch failed: %s (%s/%s)"" % ( e.http_reason, e.http_host, e.http_path)) ","def openstack_cloud(**kwargs): cloud_config.name, cloud_config.region, **cloud_config.config) self.log.setLevel(logging.INFO)",98,3
openstack%2Fhorizon~stable%2Fjuno~Idc7dfab9cef5a32166e9ecdba77ccaf09170db15,openstack/horizon,stable/juno,Idc7dfab9cef5a32166e9ecdba77ccaf09170db15,Fix sorting by size for Project->Images table,MERGED,2015-01-23 06:15:50.000000000,2015-01-26 15:33:56.000000000,2015-01-26 15:33:54.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 4978}, {'_account_id': 6914}, {'_account_id': 8040}, {'_account_id': 9576}, {'_account_id': 12826}, {'_account_id': 13325}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-01-23 06:15:50.000000000', 'files': ['openstack_dashboard/dashboards/project/images/images/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8a717d90a638cac3fb582bed6c4206cabb307aa9', 'message': ""Fix sorting by size for Project->Images table\n\nTo fix it the proper sorting function should be used in tablesorter\njquery plugin, this is achieved by marking the column with correct\n'data-type' attribute value.\n\n(cherry picked from commit 8b02edc64306f35170a22056dbc726bce0fb2572)\n\nCloses-Bug: #1413266\nChange-Id: Idc7dfab9cef5a32166e9ecdba77ccaf09170db15\n""}]",0,149511,8a717d90a638cac3fb582bed6c4206cabb307aa9,18,11,1,5733,,,0,"Fix sorting by size for Project->Images table

To fix it the proper sorting function should be used in tablesorter
jquery plugin, this is achieved by marking the column with correct
'data-type' attribute value.

(cherry picked from commit 8b02edc64306f35170a22056dbc726bce0fb2572)

Closes-Bug: #1413266
Change-Id: Idc7dfab9cef5a32166e9ecdba77ccaf09170db15
",git fetch https://review.opendev.org/openstack/horizon refs/changes/11/149511/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/images/images/tables.py'],1,8a717d90a638cac3fb582bed6c4206cabb307aa9,bug/1413266," attrs=({""data-type"": ""size""}),",,1,0
openstack%2Fshade~master~I8a972e6608e33088234d67ea24886c782a80e3b4,openstack/shade,master,I8a972e6608e33088234d67ea24886c782a80e3b4,Debug log any time we re-raise an exception,MERGED,2015-01-12 20:44:02.000000000,2015-01-26 15:33:44.000000000,2015-01-26 15:33:43.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6133}]","[{'number': 1, 'created': '2015-01-12 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/75c385ac4eef885e831a70435d8d3f3ace3d80f5', 'message': ""Debug log any time we re-raise an exception\n\nWe're masking exceptions on purpose, which is evil of course - but the\nreason is that they wind up being part of the API - and the\npython-*client-ness of a particulate exception is largely an\nimplementation detail that might change. Eventually we want to have\nbetter exceptions across the board - but make sure that we don't lose\nthe ability to debug the exceptions when they happen.\n\nChange-Id: I8a972e6608e33088234d67ea24886c782a80e3b4\n""}, {'number': 2, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/785546a0ff76f6834f0dbf3d39efca2358a51a81', 'message': ""Debug log any time we re-raise an exception\n\nWe're masking exceptions on purpose, which is evil of course - but the\nreason is that they wind up being part of the API - and the\npython-*client-ness of a particulate exception is largely an\nimplementation detail that might change. Eventually we want to have\nbetter exceptions across the board - but make sure that we don't lose\nthe ability to debug the exceptions when they happen.\n\nChange-Id: I8a972e6608e33088234d67ea24886c782a80e3b4\n""}, {'number': 3, 'created': '2015-01-23 14:36:32.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/13a455f1181bef0dfea95aa1728f7f8ba5ba32f7', 'message': ""Debug log any time we re-raise an exception\n\nWe're masking exceptions on purpose, which is evil of course - but the\nreason is that they wind up being part of the API - and the\npython-*client-ness of a particulate exception is largely an\nimplementation detail that might change. Eventually we want to have\nbetter exceptions across the board - but make sure that we don't lose\nthe ability to debug the exceptions when they happen.\n\nChange-Id: I8a972e6608e33088234d67ea24886c782a80e3b4\n""}]",1,146633,13a455f1181bef0dfea95aa1728f7f8ba5ba32f7,14,5,3,2,,,0,"Debug log any time we re-raise an exception

We're masking exceptions on purpose, which is evil of course - but the
reason is that they wind up being part of the API - and the
python-*client-ness of a particulate exception is largely an
implementation detail that might change. Eventually we want to have
better exceptions across the board - but make sure that we don't lose
the ability to debug the exceptions when they happen.

Change-Id: I8a972e6608e33088234d67ea24886c782a80e3b4
",git fetch https://review.opendev.org/openstack/shade refs/changes/33/146633/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,75c385ac4eef885e831a70435d8d3f3ace3d80f5,feature/glance-support," self.log.debug( ""nova floating ip create failed"", exc_info=True) self.log.debug( ""nova floating ip add failed"", exc_info=True) self.log.debug( ""nova floating ip create failed"", exc_info=True) self.log.debug(""nova info failed"", exc_info=True) self.log.debug(""nova instance create failed"", exc_info=True) self.log.debug(""ironic auth failed"", exc_info=True) self.log.debug(""ironic machine registration failed"", exc_info=True) self.log.debug(""ironic NIC registration failed"", exc_info=True) self.log.debug( ""ironic NIC unregistration failed"", exc_info=True) self.log.debug( ""ironic machine unregistration failed"", exc_info=True)",,15,0
openstack%2Fpython-saharaclient~master~Iaf9e4bcb91d461f641ebbe07ff6842c2b8529603,openstack/python-saharaclient,master,Iaf9e4bcb91d461f641ebbe07ff6842c2b8529603,Updated from global requirements,MERGED,2015-01-23 04:38:26.000000000,2015-01-26 15:33:13.000000000,2015-01-26 15:33:12.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}]","[{'number': 1, 'created': '2015-01-23 04:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/79b31f71117e5f61f27be9dfc279fa7b070c9942', 'message': 'Updated from global requirements\n\nChange-Id: Iaf9e4bcb91d461f641ebbe07ff6842c2b8529603\n'}, {'number': 2, 'created': '2015-01-26 10:34:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/e2da47ec3cec3cd8eef9cae4471e3ff82a5c42b6', 'message': 'Updated from global requirements\n\nChange-Id: Iaf9e4bcb91d461f641ebbe07ff6842c2b8529603\n'}]",0,149489,e2da47ec3cec3cd8eef9cae4471e3ff82a5c42b6,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: Iaf9e4bcb91d461f641ebbe07ff6842c2b8529603
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/89/149489/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,79b31f71117e5f61f27be9dfc279fa7b070c9942,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fshade~master~Ia6839740d676ca99d919af732ede3a5982f5d864,openstack/shade,master,Ia6839740d676ca99d919af732ede3a5982f5d864,Explain obj_to_dict,MERGED,2015-01-13 01:19:43.000000000,2015-01-26 15:33:03.000000000,2015-01-26 15:33:01.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ef6dbb9fa714ece2720df13f9c92d33eef8d7669', 'message': ""Explain obj_to_dict\n\nIt's entirely possile that the reason for the existence of this function\nmay not be immediately apparent.\n\nChange-Id: Ia6839740d676ca99d919af732ede3a5982f5d864\n""}, {'number': 2, 'created': '2015-01-14 16:44:59.000000000', 'files': ['shade/meta.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/e24208741361fc167d21f1624dba761453771a51', 'message': ""Explain obj_to_dict\n\nIt's entirely possile that the reason for the existence of this function\nmay not be immediately apparent.\n\nChange-Id: Ia6839740d676ca99d919af732ede3a5982f5d864\n""}]",0,146724,e24208741361fc167d21f1624dba761453771a51,10,4,2,2,,,0,"Explain obj_to_dict

It's entirely possile that the reason for the existence of this function
may not be immediately apparent.

Change-Id: Ia6839740d676ca99d919af732ede3a5982f5d864
",git fetch https://review.opendev.org/openstack/shade refs/changes/24/146724/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/meta.py'],1,ef6dbb9fa714ece2720df13f9c92d33eef8d7669,feature/glance-support," """""" Turn an object with attributes into a dict suitable for serializing. Some of the things that are returned in OpenStack are objects with attributes. That's awesome - except when you want to expose them as JSON structures. We use this as the basis of get_hostvars_from_server above so that we can just have a plain dict of all of the values that exist in the nova metadata for a server. """"""",,8,0
openstack%2Foslo.messaging~master~If044f7e62662f510844525ab3ad324345afa5958,openstack/oslo.messaging,master,If044f7e62662f510844525ab3ad324345afa5958,proxy: implement proxy server,ABANDONED,2014-03-04 11:49:01.000000000,2015-01-26 15:30:12.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 1247}, {'_account_id': 6928}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-03-04 11:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ff79c33180cd51794fb2a38c9b2a7b9f3dd87dc6', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 2, 'created': '2014-03-05 02:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7031ca2af2e6725cd75f9e452ed0b40be2250842', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 3, 'created': '2014-03-05 04:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c0a2f81dbb3c12131fd6872e1b5911bf40f7c6be', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 4, 'created': '2014-03-05 05:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/42757f49fb81bd6d15d06c6cc155a02d66b85cd6', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 5, 'created': '2014-04-08 07:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/05ddbf858b2892aa934a8183fd5929ed29906c98', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 6, 'created': '2014-04-18 17:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/25b182f73697eee1e579d8c155c23adbb7389f06', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 7, 'created': '2014-04-28 08:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/024665c7b6a0ad062948e407c4c1c0557e4515ce', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}, {'number': 8, 'created': '2014-05-01 02:53:29.000000000', 'files': ['oslo/messaging/proxy/proxy.py', 'oslo/messaging/proxy/dispatcher.py', 'oslo/messaging/__init__.py', 'oslo/messaging/proxy/__init__.py', 'tests/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4feebf007d7b758d798cbd028c4c9ded20578f94', 'message': 'proxy: implement proxy server\n\nChange-Id: If044f7e62662f510844525ab3ad324345afa5958\nImplements: blueprint message-proxy-server\n'}]",0,77863,4feebf007d7b758d798cbd028c4c9ded20578f94,36,5,8,333,,,0,"proxy: implement proxy server

Change-Id: If044f7e62662f510844525ab3ad324345afa5958
Implements: blueprint message-proxy-server
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/63/77863/7 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/proxy/proxy.py', 'oslo/messaging/proxy/dispatcher.py', 'oslo/messaging/proxy/__init__.py', 'tests/test_proxy.py']",4,ff79c33180cd51794fb2a38c9b2a7b9f3dd87dc6,bp/message-proxy-server,"# Copyright 2014 Intel Corporation. # Copyright 2014 Isaku Yamahata <isaku.yamahata at intel com> # <isaku.yamahata at gmail com> # All Rights Reserved. # # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # @author: Isaku Yamahata, Intel Corporation. import contextlib import threading import mock from oslo import messaging from oslo.messaging.proxy import proxy from tests import utils class TestProxyDispatcher(utils.BaseTestCase): def _setup_server(self, src_transport, src_target, dst_transport, dst_target): proxy_server = proxy.get_proxy_server( src_transport, src_target, None, dst_transport, dst_target, None) thread = threading.Thread(target=proxy_server.start) thread.daemon = True thread.start() return proxy_server, thread def _stop_server(self, src_transport, src_target, proxy_server, thread): proxy_server.stop() src_transport._send(src_target, {}, {}) proxy_server.wait() thread.join() def _test_proxy(self, wait_for_reply, timeout): src_transport = messaging.get_transport(self.conf, url='fake:') src_target = messaging.Target(topic='foo_src', server='bar_src') dst_transport = messaging.get_transport(self.conf, url='fake:') dst_target = messaging.Target(topic='foo_dst', server='bar_dst') proxy_server, thread = self._setup_server(src_transport, src_target, dst_transport, dst_target) print('dst_transport', dst_transport) with contextlib.nested( mock.patch.object(dst_transport, '_send', return_value=None), mock.patch('oslo.messaging.proxy.dispatcher._wait_for_reply', return_value=wait_for_reply)) as (mock_send, mock_wait_for_reply): ctxt = {'ctxt_key': 'ctxt_value'} args = {'msg_key': 'msg_value'} message = {'args': args} src_transport._send(src_target, ctxt, message, wait_for_reply=wait_for_reply, timeout=timeout) if not wait_for_reply: self._stop_server(src_transport, src_target, proxy_server, thread) self.assertEqual(mock_send.call_count, 1) mock_send.assert_called_with(dst_target, ctxt, message, wait_for_reply, None) if wait_for_reply: self._stop_server(src_transport, src_target, proxy_server, thread) def test_proxy_nowait(self): self._test_proxy(False, None) def test_proxy_wait_notimeout(self): self._test_proxy(True, None) def test_proxy_wait_timeout(self): self._test_proxy(True, 1) class TestProxyServer(utils.BaseTestCase): def _setup_server(self, src_transport, src_target, dst_transport, dst_target, endpoint): self._server = messaging.get_rpc_server(dst_transport, dst_target, [endpoint, self]) self._server_thread = threading.Thread(target=self._server.start) self._server_thread.daemon = True self._server_thread.start() proxy_server = proxy.get_proxy_server( src_transport, src_target, None, dst_transport, dst_target, None) proxy_thread = threading.Thread(target=proxy_server.start) proxy_thread.daemon = True proxy_thread.start() return proxy_server, proxy_thread def _stop(self, ctxt): self._server.stop() self._server.wait() def _stop_server(self, client, src_transport, src_target, proxy_server, thread): client.cast({}, '_stop') self._server_thread.join() proxy_server.stop() client.cast({}, '_stop') proxy_server.wait() thread.join() def _setup_client(self, transport, topic): return messaging.RPCClient(transport, messaging.Target(topic=topic)) def _test_proxy_timeout(self, wait_for_reply, timeout): src_transport = messaging.get_transport(self.conf, url='fake:') src_target = messaging.Target(topic='foo_src', server='bar_src') dst_transport = messaging.get_transport(self.conf, url='fake:') dst_target = messaging.Target(topic='foo_dst', server='bar_dst') finished = False wait = threading.Condition() class TestEndpoint(object): def ping(self, ctxt, arg): with wait: if not finished: wait.wait() proxy_server, thread = self._setup_server(src_transport, src_target, dst_transport, dst_target, TestEndpoint()) client = self._setup_client(src_transport, src_target.topic) try: client.prepare(timeout=0).call({}, 'ping', arg='testarg') except Exception as ex: self.assertIsInstance(ex, messaging.MessagingTimeout, ex) else: self.assertTrue(False) with wait: finished = True wait.notify() self._stop_server(client, src_transport, src_target, proxy_server, thread) def test_cast(self): src_transport = messaging.get_transport(self.conf, url='fake:') src_target = messaging.Target(topic='foo_src', server='bar_src') dst_transport = messaging.get_transport(self.conf, url='fake:') dst_target = messaging.Target(topic='foo_dst', server='bar_dst') class TestEndpoint(object): def __init__(self): self.pings = [] def ping(self, ctxt, arg): self.pings.append(arg) endpoint = TestEndpoint() proxy_server, thread = self._setup_server(src_transport, src_target, dst_transport, dst_target, endpoint) client = self._setup_client(src_transport, src_target.topic) client.cast({}, 'ping', arg=[]) client.cast({}, 'ping', arg={}) client.cast({}, 'ping', arg='foo') client.cast({}, 'ping', arg='bar') self._stop_server(client, src_transport, src_target, proxy_server, thread) self.assertEqual(endpoint.pings, [[], {}, 'foo', 'bar']) def test_call(self): src_transport = messaging.get_transport(self.conf, url='fake:') src_target = messaging.Target(topic='foo_src', server='bar_src') dst_transport = messaging.get_transport(self.conf, url='fake:') dst_target = messaging.Target(topic='foo_dst', server='bar_dst') class TestEndpoint(object): def ping(self, ctxt, arg): return ('return', arg) proxy_server, thread = self._setup_server(src_transport, src_target, dst_transport, dst_target, TestEndpoint()) client = self._setup_client(src_transport, src_target.topic) self.assertEqual(client.call({}, 'ping', arg=None), ('return', None)) self.assertEqual(client.call({}, 'ping', arg=0), ('return', 0)) self.assertEqual(client.call({}, 'ping', arg=False), ('return', False)) self.assertEqual(client.call({}, 'ping', arg=[]), ('return', [])) self.assertEqual(client.call({}, 'ping', arg={}), ('return', {})) self.assertEqual(client.call({}, 'ping', arg='foo'), ('return', 'foo')) self._stop_server(client, src_transport, src_target, proxy_server, thread) ",,352,0
openstack%2Fshade~master~I3009a01b392ade130f0802b3a995565d46c46b0f,openstack/shade,master,I3009a01b392ade130f0802b3a995565d46c46b0f,Remove py26 support,MERGED,2015-01-13 00:35:42.000000000,2015-01-26 15:28:45.000000000,2015-01-26 15:28:44.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-01-13 00:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/03965d4a760ee515eaa704622da4d640f03732f4', 'message': 'Remove py26 support\n\nThe code will not pass on py26 testing, but who cares about py26\nanymore anyway.\n\nChange-Id: I3009a01b392ade130f0802b3a995565d46c46b0f\n'}, {'number': 2, 'created': '2015-01-13 01:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6b31de4c19b69ff60b50d2961ca8f3d2a986c774', 'message': 'Remove py26 support\n\nThe code will not pass on py26 testing, but who cares about py26\nanymore anyway.\n\nChange-Id: I3009a01b392ade130f0802b3a995565d46c46b0f\n'}, {'number': 3, 'created': '2015-01-13 01:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6ccd6fbee3511fd526dc26422ed2b5cf6146e7e6', 'message': 'Remove py26 support\n\nThe code will not pass on py26 testing, but who cares about py26\nanymore anyway.\n\nChange-Id: I3009a01b392ade130f0802b3a995565d46c46b0f\n'}, {'number': 4, 'created': '2015-01-14 16:46:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/shade/commit/f0a21c8f220450def5eee23beb17dda63712447f', 'message': 'Remove py26 support\n\nThe code will not pass on py26 testing, but who cares about py26\nanymore anyway.\n\nChange-Id: I3009a01b392ade130f0802b3a995565d46c46b0f\n'}]",0,146717,f0a21c8f220450def5eee23beb17dda63712447f,16,5,4,3099,,,0,"Remove py26 support

The code will not pass on py26 testing, but who cares about py26
anymore anyway.

Change-Id: I3009a01b392ade130f0802b3a995565d46c46b0f
",git fetch https://review.opendev.org/openstack/shade refs/changes/17/146717/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03965d4a760ee515eaa704622da4d640f03732f4,rm_py26,"envlist = py27,py34,pypy,pep8","envlist = py26,py27,py34,pypy,pep8",1,1
openstack%2Foslo-incubator~master~I71edb20d5b47dc94d1d4609a66092c4423be8013,openstack/oslo-incubator,master,I71edb20d5b47dc94d1d4609a66092c4423be8013,Memcached backend for Oslo's cache,ABANDONED,2013-08-20 12:56:25.000000000,2015-01-26 15:28:35.000000000,,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 6159}, {'_account_id': 6427}, {'_account_id': 6928}, {'_account_id': 6944}, {'_account_id': 7073}, {'_account_id': 7708}]","[{'number': 1, 'created': '2013-08-20 12:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/16ccfda3e6070365478c347424399318441389a8', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 2, 'created': '2013-08-26 09:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e73a172f5ee05586553db4613a6b1bf00c571186', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 3, 'created': '2013-09-02 11:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d5e71acec3364fcd8be096ec88623960d4828129', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 4, 'created': '2013-10-15 09:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/e72e522b624d298baac96d04aad0314c8f0716b3', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 5, 'created': '2013-10-29 11:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/bf4ab14a781c25c89292d1b2b1cd6eed829a8215', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 6, 'created': '2013-11-18 15:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/4b027c272c6de59b652360e12e4d890a3907ad82', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 7, 'created': '2013-11-18 15:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/9a583f6518be510f72603b7d45c435644e989cc8', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}, {'number': 8, 'created': '2013-11-18 15:45:24.000000000', 'files': ['tests/unit/cache/test_memcached.py', 'setup.cfg', 'openstack/common/cache/_backends/memcached.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/15959c141302960876670c3845462b6ed814298e', 'message': ""Memcached backend for Oslo's cache\n\nThis patch adds support for memcached to Oslo's cache library. The patch\nadds 2 test classes. The first requires a live memcached server to be\nrunning and listening on localhost:11211. The second test mocks memcache\nlibrary's methods and tests the data input / output.\n\nImplements blueprint: cache-backend-abstraction\n\nChange-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013\n""}]",12,42878,15959c141302960876670c3845462b6ed814298e,85,8,8,6159,,,0,"Memcached backend for Oslo's cache

This patch adds support for memcached to Oslo's cache library. The patch
adds 2 test classes. The first requires a live memcached server to be
running and listening on localhost:11211. The second test mocks memcache
library's methods and tests the data input / output.

Implements blueprint: cache-backend-abstraction

Change-Id: I71edb20d5b47dc94d1d4609a66092c4423be8013
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/78/42878/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/cache/test_memcached.py', 'setup.cfg', 'openstack/common/cache/_backends/memcached.py']",3,16ccfda3e6070365478c347424399318441389a8,cache-backend-abstraction,"# Copyright 2013 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time import memcache from oslo.config import cfg from openstack.common.cache import backends _memcache_opts = [ cfg.ListOpt('memcached_servers', default=['127.0.0.1:11211'], help='Memcached servers or None for in process cache.'), ] class MemcachedBackend(backends.BaseCache): def __init__(self, conf, group, cache_namespace): conf.register_opts(_memcache_opts, group=group) super(MemcachedBackend, self).__init__(conf, group, cache_namespace) self._client = None @property def _cache(self): if not self._client: self._client = memcache.Client(self.conf.memcached_servers) return self._client def _get_ttl(self, ttl): """"""Correct ttl for memcached."""""" if ttl > 2592000: # NOTE(flaper87): If ttl is bigger than 30 days, # it needs to be translated to timestamp. # # See http://code.google.com/p/memcached/wiki/FAQ # ""You can set expire times up to 30 days in the # future. After that memcached interprets it as a # date, and will expire the item after said date. # This is a simple (but obscure) mechanic."" return ttl + int(time.time()) return ttl def set(self, key, value, ttl=0): key = self._set_namespace(key) self._cache.set(key, value, self._get_ttl(ttl)) def unset(self, key): self._cache.delete(self._set_namespace(key)) def get(self, key, default=None): key = self._set_namespace(key) value = self._cache.get(key) return value is None and default or value def get_many(self, keys, default=None): new_keys = map(self._set_namespace, keys) ret = self._cache.get_multi(new_keys) m = dict(zip(new_keys, keys)) for cache_key, key in m.items(): yield (key, ret.get(cache_key, default)) def set_many(self, data, ttl=0): safe_data = {} for key, value in data.items(): key = self._set_namespace(key) safe_data[key] = value self._cache.set_multi(safe_data, self._get_ttl(ttl)) def unset_many(self, keys, version=None): self._cache.delete_multi(map(self._set_namespace, keys)) def incr(self, key, delta=1): key = self._set_namespace(key) try: if delta < 0: #NOTE(flaper87): memcached doesn't support a negative delta return self._cache.decr(key, -delta) return self._cache.incr(key, delta) except ValueError: return None def add(self, key, value, ttl=0): key = self._set_namespace(key) return self._cache.add(key, value, self._get_ttl(ttl)) def flush(self): self._cache.flush_all() ",,216,0
openstack%2Fshade~master~Ic447e1f3bdf3eac7335995edd4d20b15820f78f0,openstack/shade,master,Ic447e1f3bdf3eac7335995edd4d20b15820f78f0,Fix python3 unittests,MERGED,2015-01-08 01:11:46.000000000,2015-01-26 15:28:18.000000000,2015-01-26 15:28:17.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2015-01-08 01:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/463885072adb3ecd32dc9b7cc45369835e7c7f28', 'message': 'Fix python3 unittests\n\nTurns out basestring and types.NoneType go away in python3 - so just do\nthe logic a different way.\n\nChange-Id: Ic447e1f3bdf3eac7335995edd4d20b15820f78f0\n'}, {'number': 2, 'created': '2015-01-13 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/d1c26737d880cc170f5a154c77d177822d0eedcb', 'message': 'Fix python3 unittests\n\nTurns out basestring and types.NoneType go away in python3 - so just do\nthe logic a different way.\n\nChange-Id: Ic447e1f3bdf3eac7335995edd4d20b15820f78f0\n'}, {'number': 3, 'created': '2015-01-14 16:44:59.000000000', 'files': ['shade/meta.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/88f5f2661ee2ba31056251b4cdf91949fca0a031', 'message': 'Fix python3 unittests\n\nTurns out basestring and types.NoneType go away in python3 - so just do\nthe logic a different way.\n\nChange-Id: Ic447e1f3bdf3eac7335995edd4d20b15820f78f0\n'}]",2,145651,88f5f2661ee2ba31056251b4cdf91949fca0a031,15,4,3,2,,,0,"Fix python3 unittests

Turns out basestring and types.NoneType go away in python3 - so just do
the logic a different way.

Change-Id: Ic447e1f3bdf3eac7335995edd4d20b15820f78f0
",git fetch https://review.opendev.org/openstack/shade refs/changes/51/145651/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/meta.py'],1,463885072adb3ecd32dc9b7cc45369835e7c7f28,feature/glance-support," if not hasattr(value, '__call__') and not key.startswith('_'):","import types NON_CALLABLES = (basestring, bool, dict, int, list, types.NoneType) if (isinstance(value, NON_CALLABLES) and not key.startswith('_')):",1,5
openstack%2Fcinder~master~I7082310cbd2f5ab852ca6c86d1e852ba5d731461,openstack/cinder,master,I7082310cbd2f5ab852ca6c86d1e852ba5d731461,Windows Driver - Support for dedicated iSCSI network,ABANDONED,2014-11-16 14:20:28.000000000,2015-01-26 15:27:48.000000000,,"[{'_account_id': 3}, {'_account_id': 2067}, {'_account_id': 2243}, {'_account_id': 3185}, {'_account_id': 5538}, {'_account_id': 7198}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12780}, {'_account_id': 12924}]","[{'number': 1, 'created': '2014-11-16 14:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b97ff544e73d46f0d899feed4fcfb1e37a9115d0', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}, {'number': 2, 'created': '2014-11-16 15:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5166dac4e0fe9e1482433cfd19e3e3a53dabaa45', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}, {'number': 3, 'created': '2014-11-21 06:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2846d62f6a28826586d25a8bfcc693e5b3852d99', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}, {'number': 4, 'created': '2014-11-21 07:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27038e05b8815981f772d2f17bb2d518811704b0', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}, {'number': 5, 'created': '2014-12-25 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f624e15af482b26e2a28bba53d3d35e2b3c30a7', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}, {'number': 6, 'created': '2014-12-25 13:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7899d0daa70bc47b8a99604677b274e2fde7eeb', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}, {'number': 7, 'created': '2014-12-25 13:29:22.000000000', 'files': ['cinder/tests/windows/test_windows_utils.py', 'cinder/tests/windows/db_fakes.py', 'cinder/volume/drivers/windows/windows_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3b78ba93c4f560013896ee0848e3e6845b6c841', 'message': 'Windows Driver - Support for dedicated iSCSI network\n\nCurrent Windows Cinder driver uses the same network for management\nand iSCSI traffic.\n\nThis patch implements the support for a dedicated iSCSI network\nfor VM to Volume traffic.\n\nIf the entry iscsi_ip_address is provided in cinder.conf, then\nthe windows cinder driver will use that IP to connect to the target\nportal and then use this portal IP for providing\nthe connection_info to the nova hyperv driver.\nNova HyperV driver will use this connection for iSCSI network\n\nChange-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461\nCloses-Bug: #1369471\n'}]",13,134760,b3b78ba93c4f560013896ee0848e3e6845b6c841,49,19,7,2067,,,0,"Windows Driver - Support for dedicated iSCSI network

Current Windows Cinder driver uses the same network for management
and iSCSI traffic.

This patch implements the support for a dedicated iSCSI network
for VM to Volume traffic.

If the entry iscsi_ip_address is provided in cinder.conf, then
the windows cinder driver will use that IP to connect to the target
portal and then use this portal IP for providing
the connection_info to the nova hyperv driver.
Nova HyperV driver will use this connection for iSCSI network

Change-Id: I7082310cbd2f5ab852ca6c86d1e852ba5d731461
Closes-Bug: #1369471
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/134760/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/windows/test_windows_utils.py', 'cinder/tests/windows/db_fakes.py', 'cinder/volume/drivers/windows/windows_utils.py']",3,b97ff544e73d46f0d899feed4fcfb1e37a9115d0,bug/1369471, self._conn_wmi_x = wmi.x_wmi if CONF.iscsi_ip_address: wt_portal = self._conn_wmi.WT_Portal(Address= CONF.iscsi_ip_address)[0] else: wt_portal = self._conn_wmi.WT_Portal()[0] except self._conn_wmi_x as exc: except self._conn_wmi_x as exc:, wt_portal = self._conn_wmi.WT_Portal()[0] except wmi.x_wmi as exc: except wmi.x_wmi as exc:,127,3
openstack%2Fcinder~master~I9abddde0a8f3fd85ce68a3e934675bebd58dd4db,openstack/cinder,master,I9abddde0a8f3fd85ce68a3e934675bebd58dd4db,Sync scheduler and scheduler.filters modules,ABANDONED,2014-12-22 23:28:20.000000000,2015-01-26 15:27:35.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 14206}]","[{'number': 1, 'created': '2014-12-22 23:28:20.000000000', 'files': ['cinder/openstack/common/scheduler/base_filter.py', 'cinder/openstack/common/scheduler/base_weight.py', 'cinder/openstack/common/scheduler/filters/extra_specs_ops.py', 'cinder/openstack/common/scheduler/filters/ignore_attempted_hosts_filter.py', 'cinder/openstack/common/scheduler/filters/__init__.py', 'cinder/openstack/common/scheduler/filters/availability_zone_filter.py', 'cinder/openstack/common/scheduler/base_handler.py', 'cinder/openstack/common/scheduler/filters/capabilities_filter.py', 'cinder/scheduler/weights/volume_number.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/253820c5a73dcfd79d7bcb9debdfc46b07b2c250', 'message': 'Sync scheduler and scheduler.filters modules\n\nThe scheduler and scheduler.weights modules have not been\nupdated since early in the Icehouse release cycle.  This\npatch brings the version in Cinder up to date with what is in\noslo-incubator.\n\nCurrent HEAD in OSLO:\n---------------------\ncommit 36b0e8570b449129d6d474c03b02ceb62edb78df\nDate:   Thu Dec 11 11:27:08 2014 +0100\nWe shouldn\'t replace `oslo-incubator` in comments\n\nPatches included with sync by file:\n---------------------\nbase_filter.py\n - 5d40e143 - Remove code that moved to oslo.i18n\n - 2af88ece - Use _LI instead of _ for info message translation\n - 4a47188e - Allow filters to only run once per request if their data is static\n - fcf517d7 - Update oslo log messages with translation domains\n - cae33101 - Stop looping all filters if no objects return\n\nbase_weight.py\n - a2fa4878 - Fix common.scheduler.base_weight.BaseWeigher to be Python3 compat\n - e47bc70e - Normalize Scheduler Weights\n\nfilters/availability_zone_filter.py\n - 4a47188e - Allow filters to only run once per request if their data is static\n\nfilters/capabilities_filter.py\n - dacc065a - Merge ""Update oslo log messages with translation domains""\n - 86707cd5 - Remove None for dict.get()\n - fcf517d7 - Update oslo log messages with translation domains\n\nfilters/extra_specs_ops.py\n - 6ff6b4b4 - Switch oslo-incubator to use oslo.utils and remove old modules\n\nfilters/ignore_attempted_hosts_filter.py\n - 39625e18 - Set pbr \'warnerrors\' option for doc build\n\nfilters/json_filter.py\n - 6c706c5c - Delete graduated serialization files\n - 86707cd5 - Remove None for dict.get()\n\nNote that cinder/scheduler/weights/volume_number.py also needed to be changed\nto change _weight_multiplier to weight_multiplier so that we were overloading\nthe right function after its name change.\n\nChange-Id: I9abddde0a8f3fd85ce68a3e934675bebd58dd4db\n'}]",0,143563,253820c5a73dcfd79d7bcb9debdfc46b07b2c250,19,11,1,7198,,,0,"Sync scheduler and scheduler.filters modules

The scheduler and scheduler.weights modules have not been
updated since early in the Icehouse release cycle.  This
patch brings the version in Cinder up to date with what is in
oslo-incubator.

Current HEAD in OSLO:
---------------------
commit 36b0e8570b449129d6d474c03b02ceb62edb78df
Date:   Thu Dec 11 11:27:08 2014 +0100
We shouldn't replace `oslo-incubator` in comments

Patches included with sync by file:
---------------------
base_filter.py
 - 5d40e143 - Remove code that moved to oslo.i18n
 - 2af88ece - Use _LI instead of _ for info message translation
 - 4a47188e - Allow filters to only run once per request if their data is static
 - fcf517d7 - Update oslo log messages with translation domains
 - cae33101 - Stop looping all filters if no objects return

base_weight.py
 - a2fa4878 - Fix common.scheduler.base_weight.BaseWeigher to be Python3 compat
 - e47bc70e - Normalize Scheduler Weights

filters/availability_zone_filter.py
 - 4a47188e - Allow filters to only run once per request if their data is static

filters/capabilities_filter.py
 - dacc065a - Merge ""Update oslo log messages with translation domains""
 - 86707cd5 - Remove None for dict.get()
 - fcf517d7 - Update oslo log messages with translation domains

filters/extra_specs_ops.py
 - 6ff6b4b4 - Switch oslo-incubator to use oslo.utils and remove old modules

filters/ignore_attempted_hosts_filter.py
 - 39625e18 - Set pbr 'warnerrors' option for doc build

filters/json_filter.py
 - 6c706c5c - Delete graduated serialization files
 - 86707cd5 - Remove None for dict.get()

Note that cinder/scheduler/weights/volume_number.py also needed to be changed
to change _weight_multiplier to weight_multiplier so that we were overloading
the right function after its name change.

Change-Id: I9abddde0a8f3fd85ce68a3e934675bebd58dd4db
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/143563/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/openstack/common/scheduler/base_filter.py', 'cinder/openstack/common/scheduler/base_weight.py', 'cinder/openstack/common/scheduler/filters/extra_specs_ops.py', 'cinder/openstack/common/scheduler/filters/ignore_attempted_hosts_filter.py', 'cinder/openstack/common/scheduler/filters/__init__.py', 'cinder/openstack/common/scheduler/filters/availability_zone_filter.py', 'cinder/openstack/common/scheduler/base_handler.py', 'cinder/openstack/common/scheduler/filters/capabilities_filter.py', 'cinder/scheduler/weights/volume_number.py']",9,253820c5a73dcfd79d7bcb9debdfc46b07b2c250,sync_scheduler, def weight_multiplier(self):, def _weight_multiplier(self):,156,40
openstack%2Fcinder~master~Ife2e639bb936b57757f9212f7d3fc1f255626c01,openstack/cinder,master,Ife2e639bb936b57757f9212f7d3fc1f255626c01,filter_class_names doesn't work,ABANDONED,2014-12-21 15:01:51.000000000,2015-01-26 15:27:25.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 9008}, {'_account_id': 11530}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 13900}, {'_account_id': 14206}]","[{'number': 1, 'created': '2014-12-21 15:01:51.000000000', 'files': ['cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/47389722769ce0bf55a62d66b1df34baaf3ed300', 'message': ""filter_class_names doesn't work\n\nthe parameter filter_class_names from funciton get_filtered_hosts\nis not assigned values, so we always use the filters from\nCONF.scheduler_default_filters.\n\nChange-Id: Ife2e639bb936b57757f9212f7d3fc1f255626c01\nCloses-Bug:#1403022\n""}]",3,143302,47389722769ce0bf55a62d66b1df34baaf3ed300,11,9,1,11530,,,0,"filter_class_names doesn't work

the parameter filter_class_names from funciton get_filtered_hosts
is not assigned values, so we always use the filters from
CONF.scheduler_default_filters.

Change-Id: Ife2e639bb936b57757f9212f7d3fc1f255626c01
Closes-Bug:#1403022
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/143302/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/host_manager.py'],1,47389722769ce0bf55a62d66b1df34baaf3ed300,bug/1403022," def get_filtered_hosts(self, hosts, filter_properties): filter_class_names = filter_properties.get(""filter_properties"", None)"," def get_filtered_hosts(self, hosts, filter_properties, filter_class_names=None):",2,2
openstack%2Fcinder~master~Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86,openstack/cinder,master,Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86,Add Posix backup driver. Supports nas too.,ABANDONED,2014-03-26 06:25:44.000000000,2015-01-26 15:27:14.000000000,,"[{'_account_id': 3}, {'_account_id': 428}, {'_account_id': 1107}, {'_account_id': 1207}, {'_account_id': 1333}, {'_account_id': 1523}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 8074}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9237}, {'_account_id': 9533}, {'_account_id': 9624}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12018}, {'_account_id': 12033}, {'_account_id': 12780}]","[{'number': 1, 'created': '2014-03-26 06:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b45a083eec53e18b4c638b5a07c5ef727a27e5a', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\n- Mount volume to backup_path\n- Check File system Type\n- Save file list\n- Tar Archive\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 2, 'created': '2014-07-29 20:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f74d4adf9be577a34bc73b6910c6c77f2fd78438', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 3, 'created': '2014-07-29 20:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ad94efab1f71c6f37429120cb8df86d44ffafd2', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 4, 'created': '2014-07-29 22:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddb8fa1e663fdd586f626ae4992f9e2f374a5204', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 5, 'created': '2014-07-30 16:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5af6584b066dcf1ec724363e02fab3101d93349c', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 6, 'created': '2014-08-25 18:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c144d7d075f92c17d96fa9b93af0c6779e8ae92c', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 7, 'created': '2014-08-26 16:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a01f621673e4ce98bba8e5b9caf4a655ebb9f21a', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 8, 'created': '2014-08-27 16:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c25a046e7edd2f4e5d369109e0dc5514b2be926', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 9, 'created': '2014-08-27 20:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b170d312e6ea9b4f3416b4220f81d716db4f9b34', 'message': 'Add Nas backup driver in nas storage like gluster or local disk.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 10, 'created': '2014-08-29 16:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72ceb905b8c5c80da4903ed1d21887ec79d37893', 'message': 'Add Posix backup driver to allow any posix path or nas storage to be used.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 11, 'created': '2014-08-29 17:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8246ecff7d58d48f91c401bbfcd6992d251bcb38', 'message': 'Add Posix backup driver. Supports nas too.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}, {'number': 12, 'created': '2014-08-29 18:59:52.000000000', 'files': ['etc/cinder/cinder.conf.sample', 'cinder/tests/test_backup_posix.py', 'cinder/backup/drivers/posix.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1591639dc0b833d39239d5948d64ffb3144d28f', 'message': 'Add Posix backup driver. Supports nas too.\n\nAuthor:    Inhye Park <inhye.park@samsung.com>\nAuthor:    Kevin Fox <kevin@efox.cc>\n\nChange-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86\nImplements: blueprint add-backup-driver-nas-storage\n'}]",15,82996,f1591639dc0b833d39239d5948d64ffb3144d28f,113,22,12,7639,,,0,"Add Posix backup driver. Supports nas too.

Author:    Inhye Park <inhye.park@samsung.com>
Author:    Kevin Fox <kevin@efox.cc>

Change-Id: Ibffd32e0ce3ea5a1ad2ebcd9778e085525ff0e86
Implements: blueprint add-backup-driver-nas-storage
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/82996/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/nas.py', 'etc/cinder/rootwrap.d/volume.filters', 'etc/cinder/cinder.conf.sample', 'cinder/backup/drivers/swift.py', 'cinder/tests/test_backup_nas.py']",5,7b45a083eec53e18b4c638b5a07c5ef727a27e5a,bp/add-backup-driver-nas-storage,"# Copyright 2014 SDS Company. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Tests for Backup nas code. """""" import os import shutil import tarfile import tempfile from cinder.backup.drivers.nas import NasBackupDriver from cinder import context from cinder import db from cinder.openstack.common import log as logging from cinder import test from cinder import utils LOG = logging.getLogger(__name__) class BackupNasTestCase(test.TestCase): """"""Test Case for nas storage."""""" def _create_volume_db_entry(self, status='in-use'): vol = {'id': '1234-5678-1234-8888', 'size': 1, 'status': status} return db.volume_create(self.ctxt, vol)['id'] def _create_backup_db_entry(self, display_description= '1234-5678-1234-8888-ext3'): backup = {'id': 123, 'size': 1, 'display_description': display_description, 'volume_id': '1234-5678-1234-8888'} return db.backup_create(self.ctxt, backup)['id'] def setUp(self): super(BackupNasTestCase, self).setUp() self.ctxt = context.get_admin_context() self.service = NasBackupDriver(self.ctxt) self.backups_path = self.service.backups_path self._create_volume_db_entry() location = '10.0.2.15:3260' name = 'volume-00000001' iqn = 'iqn.2010-10.org.openstack:%s' % name self.volume_file = '/dev/disk/by-path' \ '/ip-%s-iscsi-%s-lun-1' % (location, iqn) device = tempfile.NamedTemporaryFile() for i in xrange(0, 128): device.write(os.urandom(1024)) utils.execute('mkfs.ext3', '-L', 'myVol', '-F', device.name, run_as_root=True) self.stubs.Set(self.service, '_get_volume_realpath', lambda x, y: device.name) tfile = tempfile.NamedTemporaryFile() for i in xrange(0, 128): tfile.write(os.urandom(1024)) self.backup_file = tarfile.TarFile(fileobj=tfile, mode='w') def tearDown(self): try: if os.path.isdir(self.backups_path): shutil.rmtree(self.backups_path) except OSError: pass super(BackupNasTestCase, self).tearDown() def test_backup(self): self._create_backup_db_entry() # Create backups of the volume backup = db.backup_get(self.ctxt, 123) self.service.backup(backup, self.volume_file) def test_delete(self): self._create_backup_db_entry() backup = db.backup_get(self.ctxt, 123) self.service.delete(backup) ",,558,205
openstack%2Fpuppet-glance~master~Ie9c6b22407819b32130e47da815929178b7db2a6,openstack/puppet-glance,master,Ie9c6b22407819b32130e47da815929178b7db2a6,Add identity_uri parameter,ABANDONED,2014-11-10 16:37:06.000000000,2015-01-26 15:26:09.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8797}, {'_account_id': 10540}, {'_account_id': 11583}]","[{'number': 1, 'created': '2014-11-10 16:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9e45562941067c2b806fd6c36eb5c6fbc70a6e37', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 2, 'created': '2014-11-10 17:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c8810154e40b9396450f8c81756c2dcc6fd2e358', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 3, 'created': '2014-11-11 15:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a1e65c7d3b67ea282a771a92e81ebe93eae70c0f', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 4, 'created': '2014-11-11 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/b228f38cf4a37b2a7606313656bf6af61db1d6ac', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 5, 'created': '2015-01-12 14:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1286cba67fbc163d5d3a6a13a9c8b340f641cf12', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 6, 'created': '2015-01-12 15:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e00801044d87ad99990cb199ebe2abb59dfad434', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 7, 'created': '2015-01-12 17:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e09c9664a64cfc0fa2d1ab95235a1896d34374e2', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 8, 'created': '2015-01-12 17:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/61519e5bf7ba7a8001c6d91f11fbf47c9fc448fb', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}, {'number': 9, 'created': '2015-01-22 10:30:30.000000000', 'files': ['manifests/registry.pp', 'manifests/api.pp', 'spec/classes/glance_registry_spec.rb', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1e5dd7f6b9aaca15ca1ec7ebb344c46d8c2d100e', 'message': 'Add identity_uri parameter\n\nNewer Glance uses identity_uri instead of\nauth_protocol, auth_port, auth_host, auth_admin_prefix\nAdding support for this option and leave\nold options for compatibility.\n\nCloses-Bug: 1391235\nChange-Id: Ie9c6b22407819b32130e47da815929178b7db2a6\n'}]",14,133521,1e5dd7f6b9aaca15ca1ec7ebb344c46d8c2d100e,26,6,9,9037,,,0,"Add identity_uri parameter

Newer Glance uses identity_uri instead of
auth_protocol, auth_port, auth_host, auth_admin_prefix
Adding support for this option and leave
old options for compatibility.

Closes-Bug: 1391235
Change-Id: Ie9c6b22407819b32130e47da815929178b7db2a6
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/21/133521/9 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/registry.pp', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb', 'spec/classes/glance_registry_spec.rb']",4,9e45562941067c2b806fd6c36eb5c6fbc70a6e37,bug/1391235," :identity_uri => 'http://127.0.0.1:35357/', :identity_uri => 'http://127.0.0.1:35357/',",,34,0
openstack%2Ffuel-main~master~I0415766960be7332d968d861a04447d5b76f1d14,openstack/fuel-main,master,I0415766960be7332d968d861a04447d5b76f1d14,Pack and unpack tasks and roles,ABANDONED,2014-10-16 10:13:08.000000000,2015-01-26 15:26:00.000000000,,"[{'_account_id': 3}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-10-16 10:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/039c19ad52c5796d1d072a436f77a76ec5dd6996', 'message': 'Pack and unpack tasks and roles\n\n* Pack tasks and roles during the iso build\n* Unpack them during the master node bootstrap\n\nRelated to blueprint granular-deployment-based-on-tasks\n\nChange-Id: I0415766960be7332d968d861a04447d5b76f1d14\n'}, {'number': 2, 'created': '2014-10-20 12:40:47.000000000', 'files': ['iso/module.mk', 'iso/ks.template'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d1aac15137d609ad612f7a56781bb21d59c2cd74', 'message': 'Pack and unpack tasks and roles\n\n* Pack tasks and roles during the iso build\n* Unpack them during the master node bootstrap\n\nRelated to blueprint granular-deployment-based-on-tasks\n\nChange-Id: I0415766960be7332d968d861a04447d5b76f1d14\n'}]",1,128870,d1aac15137d609ad612f7a56781bb21d59c2cd74,11,4,2,9037,,,0,"Pack and unpack tasks and roles

* Pack tasks and roles during the iso build
* Unpack them during the master node bootstrap

Related to blueprint granular-deployment-based-on-tasks

Change-Id: I0415766960be7332d968d861a04447d5b76f1d14
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/70/128870/1 && git format-patch -1 --stdout FETCH_HEAD,"['iso/module.mk', 'iso/ks.template']",2,039c19ad52c5796d1d072a436f77a76ec5dd6996,bp/granular-deployment-based-on-tasks,"# Extract tasks and roles if [ -f ""${SOURCE}/tasks.tgz"" ]; then mkdir -p /etc/puppet/tasks tar zxf ""${SOURCE}/tasks.tgz"" -C /etc/puppet/tasks # copy legacy site.pp to the task cp /etc/puppet/modules/osnailyfacter/examples/site.pp /etc/puppet/tasks/legacy/site.pp fi if [ -f ""${SOURCE}/roles.tgz"" ]; then mkdir -p ""/etc/fuel/roles"" tar zxf ""${SOURCE}/roles.tgz"" -C ""/etc/fuel/roles"" fi ",,23,1
openstack%2Ffuel-library~stable%2F5.0~Ie174dfce5a16dac7e754b464342105a7d3a8ea52,openstack/fuel-library,stable/5.0,Ie174dfce5a16dac7e754b464342105a7d3a8ea52,Fix neutron service dependency,ABANDONED,2014-09-22 14:17:11.000000000,2015-01-26 15:25:48.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-09-22 14:17:11.000000000', 'files': ['deployment/puppet/neutron/manifests/network/predefined_networks.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/275c3ff35f69486c5a408d5ad230d5a70c650df0', 'message': 'Fix neutron service dependency\n\nChange-Id: Ie174dfce5a16dac7e754b464342105a7d3a8ea52\nRelated-Bug: #1364081\n'}]",0,123140,275c3ff35f69486c5a408d5ad230d5a70c650df0,7,2,1,9037,,,0,"Fix neutron service dependency

Change-Id: Ie174dfce5a16dac7e754b464342105a7d3a8ea52
Related-Bug: #1364081
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/40/123140/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/neutron/manifests/network/predefined_networks.pp'],1,275c3ff35f69486c5a408d5ad230d5a70c650df0,neutron-floating-dep, Service <| title == 'neutron' |> -> Neutron_net<||> Service <| title == 'neutron' |> -> Neutron_subnet<||> Service <| title == 'neutron' |> -> Neutron_router<||> Service <| title == 'neutron' |> -> Neutron_floatingip_pool<||>,,5,0
openstack%2Ffuel-library~stable%2F5.0~I2fb8e61bc55b677bafad08aa85ac6df326b7dc3d,openstack/fuel-library,stable/5.0,I2fb8e61bc55b677bafad08aa85ac6df326b7dc3d,Rollback heat-engine service rename,ABANDONED,2014-09-12 18:02:04.000000000,2015-01-26 15:25:40.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9037}]","[{'number': 1, 'created': '2014-09-12 18:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fa2befaf8555afebecf587deb2282237d110f9e0', 'message': 'Rollback heat-engine service rename\n\nMove back to old service name and use exec to stop\nduplicate service.\n\nChange-Id: I2fb8e61bc55b677bafad08aa85ac6df326b7dc3d\nCloses-Bug: #1364026\n'}, {'number': 2, 'created': '2014-11-14 11:55:50.000000000', 'files': ['deployment/puppet/heat/manifests/engine.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4b71a3375e5b0b2c811c946f058cbf814b568cc3', 'message': 'Rollback heat-engine service rename\n\nMove back to old service name and use exec to stop\nduplicate service.\n\nChange-Id: I2fb8e61bc55b677bafad08aa85ac6df326b7dc3d\nCloses-Bug: #1368103'}]",0,121190,4b71a3375e5b0b2c811c946f058cbf814b568cc3,18,3,2,9037,,,0,"Rollback heat-engine service rename

Move back to old service name and use exec to stop
duplicate service.

Change-Id: I2fb8e61bc55b677bafad08aa85ac6df326b7dc3d
Closes-Bug: #1368103",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/90/121190/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/heat/manifests/engine.pp'],1,fa2befaf8555afebecf587deb2282237d110f9e0,head-engine-fix," $pacemaker_service_name = ""${service_name}"" exec { 'heat-engine-service-stopped' : path => '/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', command => ""service ${service_name} stop; chkconfig ${service_name} off; update-rc.d ${service_name} disable; echo 'manual' > /etc/init/${service_name}.override; true"", provider => 'shell', Exec['heat-engine-service-stopped'] ->"," $pacemaker_service_name = ""p_${service_name}"" service { 'heat-engine_stopped' : name => $service_name, ensure => 'stopped', enable => false, # remove old service from 5.0 release $wrong_service_name = $service_name cs_resource { $wrong_service_name : ensure => 'absent', cib => $pacemaker_service_name, } Cs_resource[$service_name] -> Service['heat-engine_stopped'] ->",6,15
openstack%2Ffuel-library~master~I5589ece0876d790b9fca336d3fc5b63ec6eff9b9,openstack/fuel-library,master,I5589ece0876d790b9fca336d3fc5b63ec6eff9b9,Added rescue option into PXE boot menu,ABANDONED,2014-06-20 17:38:53.000000000,2015-01-26 15:25:29.000000000,,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8003}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9037}]","[{'number': 1, 'created': '2014-06-20 17:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1a7a77a4d4fd38e1b1e453825274c40edd807625', 'message': 'Add RIP linux option to cobbler\n\nDistribution should be added separetely\nwhile ISO is being built.\n\nChange-Id: I5589ece0876d790b9fca336d3fc5b63ec6eff9b9\nImplements: blueprint rip-linux-pxe-options\n'}, {'number': 2, 'created': '2014-07-04 12:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2e38d573a6eedfd8e8c8ed20be9f368d0ac5f01d', 'message': 'Added rescue option into PXE boot menu\n\nRescue image make troubleshooting process\nmore convenient.\n\nChange-Id: I5589ece0876d790b9fca336d3fc5b63ec6eff9b9\nImplements: blueprint rip-linux-pxe-options\n'}, {'number': 3, 'created': '2014-07-04 12:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/546303aa3942cd5b8e21bc1660e16ae9d3f684a5', 'message': 'Added rescue option into PXE boot menu\n\nRescue image make troubleshooting process\nmore convenient.\n\nShould be merged after https://review.openstack.org/#/c/104880/\n\nChange-Id: I5589ece0876d790b9fca336d3fc5b63ec6eff9b9\nImplements: blueprint rip-linux-pxe-options\n'}, {'number': 4, 'created': '2014-07-14 14:24:02.000000000', 'files': ['deployment/puppet/nailgun/examples/site.pp', 'deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/nailgun/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/42ee7c17202d0c67e85bd9f38b3bd29f06d29be7', 'message': 'Added rescue option into PXE boot menu\n\nRescue image make troubleshooting process\nmore convenient.\n\nShould be merged after https://review.openstack.org/#/c/104880/\n\nChange-Id: I5589ece0876d790b9fca336d3fc5b63ec6eff9b9\nImplements: blueprint rip-linux-pxe-options\n'}]",0,101610,42ee7c17202d0c67e85bd9f38b3bd29f06d29be7,35,6,4,9037,,,0,"Added rescue option into PXE boot menu

Rescue image make troubleshooting process
more convenient.

Should be merged after https://review.openstack.org/#/c/104880/

Change-Id: I5589ece0876d790b9fca336d3fc5b63ec6eff9b9
Implements: blueprint rip-linux-pxe-options
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/10/101610/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/manifests/cobbler.pp'],1,1a7a77a4d4fd38e1b1e453825274c40edd807625,bp/rip-linux-pxe-options," cobbler_distro { ""RIP"": kernel => ""${repo_root}/rip/kernel64"", initrd => ""${repo_root}/rip/rootfs.cgz"", arch => ""x86_64"", breed => ""generic"", osversion => ""generic26"", ksmeta => """", require => Class[""::cobbler::server""], } cobbler_profile { ""RIP"": distro => ""RIP"", menu => true, kickstart => """", kopts => ""nokeymap"", ksmeta => """", server => $real_server, require => Cobbler_distro[""RIP""], } ",,20,0
openstack%2Fneutron~master~I0a4a509b65aadf825799c98dfa48a655b123b403,openstack/neutron,master,I0a4a509b65aadf825799c98dfa48a655b123b403,Implements ProcessMonitor in the dhcp_agent,MERGED,2014-08-21 10:54:48.000000000,2015-01-26 15:25:04.000000000,2015-01-23 17:48:25.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2031}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 4149}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 7805}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8976}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10624}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12737}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-08-21 10:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c6b109f1b9a3ff63fc3f8bc8285fdeb4ebd8d76', 'message': 'Implements ProcessesManager in the dhcp_agent and dnsmasq driver\n\nThe ProcessesManager class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes dying unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 2, 'created': '2014-08-21 17:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77d050450963c902dd7b24272a45ce359beef32f', 'message': 'Implements ProcessesManager in the dhcp_agent and dnsmasq driver\n\nThe ProcessesManager class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes dying unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 3, 'created': '2014-08-21 21:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b525a06222e887004f0d0b0b832dfdc324137b5d', 'message': 'Implements ProcessesManager in the dhcp_agent and dnsmasq driver\n\nThe ProcessesManager class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes dying unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 4, 'created': '2014-08-22 00:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e694da8c66f98145cc2d82ce36ffa1cb7449107', 'message': 'Implements ProcessesManager in the dhcp_agent and dnsmasq driver\n\nThe ProcessesManager class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes dying unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 5, 'created': '2014-08-26 14:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c93c0aa1dedce76ff9b9f4780fbd34f4cc2d1dd', 'message': 'Implements ProcessesManager in the dhcp_agent and dnsmasq driver\n\nThe ProcessesManager class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes dying unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 6, 'created': '2014-08-29 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5012bb1630c6c0eb42f8eb1c56583e07f08bf14', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 7, 'created': '2014-09-01 22:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c4fd5e49c3ad31acf382aa65d9c135d4a56ced6', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 8, 'created': '2014-09-02 13:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/631cad5898e113b3cc016310f7f04abf6de3ddb2', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 9, 'created': '2014-09-02 14:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/553330063f42248ac3acab92001539b37be9de9d', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 10, 'created': '2014-09-02 14:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed997f7fc14c58d15d36dcc2dc60f237d0a3a82b', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 11, 'created': '2014-09-03 08:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adcc311fcb9faecb5870b9526a08da39d938e155', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 12, 'created': '2014-09-05 16:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99e7c11c1b25275093e03e5198b480df17b20159', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 13, 'created': '2014-10-06 12:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1ea472acad6ed91e5b21c1f5378090239eccd77', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 14, 'created': '2014-10-06 15:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18b6e779d9c34badfaacc96c4a2821b749c4b080', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 15, 'created': '2014-10-07 08:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7eaf624793902cb453f1036b318addddd47a8b05', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 16, 'created': '2014-10-07 12:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1341a16250d443c88a4fb2d4ce4b0d6fe1a89032', 'message': 'Implements the ProcessMonitor in the dhcp_agent and dnsmasq driver\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 17, 'created': '2014-11-12 10:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60b06d306a7dea78227db7eb36c01f379ce95ede', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 18, 'created': '2014-11-12 14:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1ee45a64b1b2d86e798fdd370e4c70554caa861', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 19, 'created': '2014-11-13 12:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c423274767d2bec404e401724c00a9e3b693073d', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 20, 'created': '2014-11-13 14:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10bc4fb95f3668ddd0260cd82804ef6f3ff52296', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 21, 'created': '2014-12-09 15:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1730fe1f54512375c6b446903fb8fc74f87af607', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 22, 'created': '2014-12-10 11:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38392751217a1a146c51dee6b213b95fc3c9a697', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 23, 'created': '2014-12-11 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a32fdb402c04743a8f00181310adc76a5226d528', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 24, 'created': '2014-12-11 10:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04452bd61d714c0980b1b3ac3bfac74cbb19f21b', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 25, 'created': '2014-12-11 12:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f818d4af5dd95f225be8f462d825f8eb461635e', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 26, 'created': '2014-12-11 14:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61268a93aecd2e1bdc371c8b86b63430a1bcb9f7', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 27, 'created': '2014-12-11 20:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/893aeaed93af8db068840837af2026007bb51c79', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 28, 'created': '2014-12-15 11:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/698a65d70076b111fd8458446ec546505596f7a5', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 29, 'created': '2014-12-16 12:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21139fc1515d3a2f8e2e98992971f0c3bbc5c9c5', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 30, 'created': '2014-12-23 10:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2a221f64517e8eb02095d892165c6b4cdfc9ef0', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 31, 'created': '2014-12-26 10:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7968f0f5d3eccaa1f00ce0cf09f9305eac0370e4', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 32, 'created': '2015-01-02 20:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5782d1676026e3bf469b4ff3516350999272f455', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 33, 'created': '2015-01-06 22:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e39b8463f102c84c6caed538adadb605927c7dd', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 34, 'created': '2015-01-14 10:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70133e826ebe932894c86cda78e000357dd72661', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 35, 'created': '2015-01-14 10:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4600e4b1c06053a60c6c6a83eef7e1cafb8d7a57', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 36, 'created': '2015-01-15 13:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5c02ca05e29f4d7c0196806ee6c8a98846ce8be', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 37, 'created': '2015-01-16 18:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf5acd43c7c70f9e72d4c045313a4cc77e1c3f53', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 38, 'created': '2015-01-16 20:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e1746745a3fbded7e870e57cf141482c7152be9', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 39, 'created': '2015-01-17 15:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/697ee509a046914743f5c0eb43b193f2e14407d9', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 40, 'created': '2015-01-19 16:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26998c149dba4a4a04618459cb50dc43da23986c', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 41, 'created': '2015-01-19 16:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4949c62cdd72dbe3206453a20e0746f3eb989755', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 42, 'created': '2015-01-21 17:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eae033c1f0345f52ecf19375d6264c6e6346f88c', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 43, 'created': '2015-01-22 12:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab837d3c3c0af5fbad4af440fe2045f6d353dbf0', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 44, 'created': '2015-01-22 15:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb8bc13fae195e0875f5c2747d5697fe6e78da46', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 45, 'created': '2015-01-23 11:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/070d07c036e22b8492d26abddfc9e088095f14ec', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}, {'number': 46, 'created': '2015-01-23 11:55:55.000000000', 'files': ['neutron/tests/functional/agent/linux/test_process_monitor.py', 'neutron/tests/unit/agent/linux/test_process_monitor.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/test_linux_external_process.py', 'neutron/agent/linux/external_process.py', 'neutron/tests/unit/test_netns_cleanup.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/linux/utils.py', 'neutron/tests/unit/test_linux_dhcp.py', 'neutron/tests/unit/test_dhcp_agent.py', 'neutron/cmd/netns_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc4e60ed4b1c4ea3b1129ff75364b04f3cb78b91', 'message': 'Implements ProcessMonitor in the dhcp_agent\n\nThe ProcessMonitor class will watch over spawned external processes,\ntaking the administrator configured action in the case of any\nof the external processes die unexpectedly.\n\nIt covers both the neutron-ns-metadata-proxy for isolated metadata\nand dnsmasq in the dnsmasq driver.\n\nProcessMonitor has been extended to allow specific pid files\nfor backwards-compatible dnsmasq pid file location.\n\nImplements: blueprint agent-child-processes-status\nChange-Id: I0a4a509b65aadf825799c98dfa48a655b123b403\n'}]",247,115935,fc4e60ed4b1c4ea3b1129ff75364b04f3cb78b91,1003,47,46,8788,,,0,"Implements ProcessMonitor in the dhcp_agent

The ProcessMonitor class will watch over spawned external processes,
taking the administrator configured action in the case of any
of the external processes die unexpectedly.

It covers both the neutron-ns-metadata-proxy for isolated metadata
and dnsmasq in the dnsmasq driver.

ProcessMonitor has been extended to allow specific pid files
for backwards-compatible dnsmasq pid file location.

Implements: blueprint agent-child-processes-status
Change-Id: I0a4a509b65aadf825799c98dfa48a655b123b403
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/115935/20 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp_agent.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/unit/test_dhcp_agent.py']",3,9c6b109f1b9a3ff63fc3f8bc8285fdeb4ebd8d76,bp/agent-child-processes-status," conf=cfg.CONF, uuid='12345678-1234-5678-1234567890ab', root_helper='sudo', namespace='qdhcp-12345678-1234-5678-1234567890ab', service=None, default_cmd_callback=mock.ANY), mock.call().enable(reload_cfg=False) conf=cfg.CONF, uuid='12345678-1234-5678-1234567890ab', root_helper='sudo', namespace='qdhcp-12345678-1234-5678-1234567890ab', service=None, ), conf=cfg.CONF, uuid='12345678-1234-5678-1234567890ab', root_helper='sudo', namespace='qdhcp-12345678-1234-5678-1234567890ab', service=None), conf=cfg.CONF, uuid='12345678-1234-5678-1234567890ab', root_helper='sudo', namespace='qdhcp-12345678-1234-5678-1234567890ab', default_cmd_callback=mock.ANY, service=None), mock.call().enable(reload_cfg=False) conf=cfg.CONF, uuid='12345678-1234-5678-1234567890ab', root_helper='sudo', namespace='qdhcp-12345678-1234-5678-1234567890ab', service=None),"," cfg.CONF, '12345678-1234-5678-1234567890ab', 'sudo', 'qdhcp-12345678-1234-5678-1234567890ab'), mock.call().enable(mock.ANY) cfg.CONF, '12345678-1234-5678-1234567890ab', 'sudo', 'qdhcp-12345678-1234-5678-1234567890ab'), cfg.CONF, '12345678-1234-5678-1234567890ab', 'sudo', 'qdhcp-12345678-1234-5678-1234567890ab'), cfg.CONF, '12345678-1234-5678-1234567890ab', 'sudo', 'qdhcp-12345678-1234-5678-1234567890ab'), mock.call().enable(mock.ANY) cfg.CONF, '12345678-1234-5678-1234567890ab', 'sudo', 'qdhcp-12345678-1234-5678-1234567890ab'),",104,94
openstack%2Ffuel-library~master~I58abab2bed9ca31210c046612fa1b362bb108ac6,openstack/fuel-library,master,I58abab2bed9ca31210c046612fa1b362bb108ac6,Sahara HA wrapper,ABANDONED,2014-12-02 17:40:54.000000000,2015-01-26 15:25:03.000000000,,"[{'_account_id': 3}, {'_account_id': 7745}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-02 17:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/271d1657af8d057d40126c65fad03e390faa319e', 'message': 'Sahara HA wrapper\n\nChange-Id: I58abab2bed9ca31210c046612fa1b362bb108ac6\n'}, {'number': 2, 'created': '2014-12-02 17:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b695b7e96ed4581cf038aa80e42fc506f52c9900', 'message': 'Sahara HA wrapper\n\nRun sahara-api as a Pacemaker clone\n\nCloses-Bug: 1398486\nChange-Id: I58abab2bed9ca31210c046612fa1b362bb108ac6\n'}, {'number': 3, 'created': '2014-12-03 12:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f8aa77090378c288cbadcc3aa192a6060162bcc2', 'message': 'Sahara HA wrapper\n\nRun sahara-api as a Pacemaker clone\n\nCloses-Bug: 1398486\nChange-Id: I58abab2bed9ca31210c046612fa1b362bb108ac6\n'}, {'number': 4, 'created': '2015-01-13 17:26:02.000000000', 'files': ['deployment/puppet/sahara_ha/manifests/api.pp', 'deployment/puppet/sahara_ha/files/sahara-all.ocf.sh', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2ae1ed2d5ad84ebbf28e5d82617fc7381d58d8a2', 'message': 'Sahara HA wrapper\n\nRun sahara-api as a Pacemaker clone\n\nCloses-Bug: 1398486\nChange-Id: I58abab2bed9ca31210c046612fa1b362bb108ac6\n'}]",0,138457,2ae1ed2d5ad84ebbf28e5d82617fc7381d58d8a2,23,3,4,9037,,,0,"Sahara HA wrapper

Run sahara-api as a Pacemaker clone

Closes-Bug: 1398486
Change-Id: I58abab2bed9ca31210c046612fa1b362bb108ac6
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/57/138457/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/sahara_ha/files/sahara-api.ocf.sh', 'deployment/puppet/sahara_ha/manifests/api.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp']",3,271d1657af8d057d40126c65fad03e390faa319e,bp/fuel-library-modularization, include sahara_ha::api,,381,0
openstack%2Ffuel-ostf~master~I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7,openstack/fuel-ostf,master,I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7,Extended run_tests.sh to run Python tests,MERGED,2015-01-07 10:48:46.000000000,2015-01-26 15:12:51.000000000,2015-01-26 15:12:51.000000000,"[{'_account_id': 3}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10391}, {'_account_id': 11082}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 12817}, {'_account_id': 13445}, {'_account_id': 13505}, {'_account_id': 13948}]","[{'number': 1, 'created': '2015-01-07 10:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/fc8da5d5696873916b9150af56d174f0879c1405', 'message': 'Extended run_tests.sh to run Python tests\n\nrun_test.sh by default runs all available tests and checks:\n * flake8\n * unit\n * integration\n * selected tests\nUsage info is available by running command `run_tests.sh -h`\nIs it possible to run just selected tests by running\n  `run_tests.sh -t selected_tests.py`\nIntegration tests require correctly set up\nRemoved fabfile and fabric requirement\n\nDocImpact\nCloses-Bug: #1404892\n\nChange-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7\n'}, {'number': 2, 'created': '2015-01-08 08:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/3d41a68567980bf0863d2c1f8f64bc4e1b09dfe9', 'message': 'Extended run_tests.sh to run Python tests\n\nrun_test.sh by default runs all available tests and checks:\n * flake8\n * unit\n * integration\n * selected tests\nUsage info is available by running command `run_tests.sh -h`\nIs it possible to run just selected tests by running\n  `run_tests.sh -t selected_tests.py`\nIntegration tests require correctly set up\nRemoved fabfile and fabric requirement\n\nDocImpact\nCloses-Bug: #1404892\n\nChange-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7\n'}, {'number': 3, 'created': '2015-01-08 10:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/34bc9c22aa6bf31192dbd615b603b542f0188c68', 'message': 'Extended run_tests.sh to run Python tests\n\nrun_test.sh by default runs all available tests and checks:\n\n * flake8\n * unit\n * integration\n * selected tests\n\nUsage info is available by running command `run_tests.sh -h`.\nIt is possible to run just selected tests by running\n  `run_tests.sh -t selected_tests.py`.\nIntegration tests require correctly set up.\nRemoved fabfile and fabric requirement.\n\nDocImpact\nCloses-Bug: #1404892\nChange-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7\n'}, {'number': 4, 'created': '2015-01-14 10:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/615e88c3c127b55c23b4a0ba4aa0cac3ab311f85', 'message': 'Extended run_tests.sh to run Python tests\n\nrun_test.sh by default runs all available tests and checks:\n\n * flake8\n * unit\n * integration\n * selected tests\n\nUsage info is available by running command `run_tests.sh -h`.\nIt is possible to run just selected tests by running\n  `run_tests.sh -t selected_tests.py`.\nIntegration tests require correctly set up.\nRemoved fabfile and fabric requirement.\n\nDocImpact\nCloses-Bug: #1404892\nChange-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7\n'}, {'number': 5, 'created': '2015-01-23 06:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/9802c787292c3dd6d0fff3909f455594d0757f67', 'message': 'Extended run_tests.sh to run Python tests\n\nrun_test.sh by default runs all available tests and checks:\n\n * flake8\n * unit\n * integration\n * selected tests\n\nUsage info is available by running command `run_tests.sh -h`.\nIt is possible to run just selected tests by running\n  `run_tests.sh -t selected_tests.py`.\nIntegration tests require correctly set up.\nRemoved fabfile and fabric requirement.\n\nDocImpact\nCloses-Bug: #1404892\nChange-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7\n'}, {'number': 6, 'created': '2015-01-26 11:50:17.000000000', 'files': ['run_tests.sh', '.gitignore', 'test-requirements.txt', 'fabfile.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/c9100263140008abfcc2704732e98fbdfd644068', 'message': 'Extended run_tests.sh to run Python tests\n\nrun_test.sh by default runs all available tests and checks:\n\n * flake8\n * unit\n * integration\n * selected tests\n\nUsage info is available by running command `run_tests.sh -h`.\nIt is possible to run just selected tests by running\n  `run_tests.sh -t selected_tests.py`.\nIntegration tests require correctly set up.\nRemoved fabfile and fabric requirement.\n\nDocImpact\nCloses-Bug: #1404892\nChange-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7\n'}]",12,145465,c9100263140008abfcc2704732e98fbdfd644068,54,14,6,12200,,,0,"Extended run_tests.sh to run Python tests

run_test.sh by default runs all available tests and checks:

 * flake8
 * unit
 * integration
 * selected tests

Usage info is available by running command `run_tests.sh -h`.
It is possible to run just selected tests by running
  `run_tests.sh -t selected_tests.py`.
Integration tests require correctly set up.
Removed fabfile and fabric requirement.

DocImpact
Closes-Bug: #1404892
Change-Id: I8dbe2561aba655e698932bb7bb7c2f6f9887f9d7
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/65/145465/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', '.gitignore', 'test-requirements.txt', 'fabfile.py']",4,fc8da5d5696873916b9150af56d174f0879c1405,bug/1404892,,"from fabric.api import local def createrole(user='ostf', password='ostf'): local(('psql -U postgres -c ""CREATE ROLE {0} WITH PASSWORD' '\'{1}\' SUPERUSER CREATEDB LOGIN;""').format(user, password)) def createdb(user='ostf', database='ostf'): local( 'psql -U postgres -c ""CREATE DATABASE {0} WITH OWNER={1};""' .format(database, user) ) def dropdb(database='ostf'): local('psql -U postgres -c ""DROP DATABASE {0};""'.format(database)) def deps(): local('python setup.py egg_info && pip install -r *.egg-info/requires.txt') def devlink(): local('python setup.py develop') def testdeps(): local('pip install -r test-requires') def startserver(): local(('ostf-server ' '--dbpath postgresql+psycopg2://ostf:ostf@localhost/ostf ')) def startdebugserver(): local(('ostf-server ' '--debug ' '--debug_tests=fuel_plugin/testing/fixture/dummy_tests')) def startnailgunmimic(): path = 'fuel_plugin/testing/test_utils/nailgun_mimic.py' local('python {0}'.format(path)) def createmigration(comment): ''' Supply comment for new alembic revision as a value for comment argument ''' config_path = 'fuel_plugin/ostf_adapter/storage/alembic.ini' local( 'alembic --config {0} revision --autogenerate -m \""{1}\""' .format(config_path, comment) ) def migrate(database='ostf'): local( 'ostf-server --after-initialization-environment-hook' ) def auth(method='trust', os='ubuntu'): """"""By default postgres doesn't allow auth without password development without password is more fun """""" if os == 'centos': path = '/var/lib/pgsql/data/pg_hba.conf' elif os == 'ubuntu': path = '/etc/postgresql/9.1/main/pg_hba.conf' wrong = '^local.*all.*postgres.*' right = 'local all postgres {0}'.format(method) local(""sudo sed -i 's/{0}/{1}/' {2}"".format(wrong, right, path)) local(""sudo service postgresql restart"") def remakedb(database='ostf'): dropdb(database=database) createdb(database=database) migrate(database=database) def installapp(): deps() devlink() testdeps() def testall(): unit() integration() def integration(): local( ('nosetests fuel_plugin/testing/' 'tests/functional/tests.py:AdapterTests -vs') ) def unit(): local('nosetests fuel_plugin/testing/tests/unit -v') ",174,129
openstack%2Fneutron~master~I416ada89c14c8ba62de8f5dbd0a2042ebd5ac1ce,openstack/neutron,master,I416ada89c14c8ba62de8f5dbd0a2042ebd5ac1ce,Handle interfaces names in 'ip link' output with '@',ABANDONED,2014-09-27 01:37:15.000000000,2015-01-26 15:12:03.000000000,,"[{'_account_id': 3}, {'_account_id': 55}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 8745}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-09-27 01:37:15.000000000', 'files': ['neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8b509b721ed43bc642154428ab9ef6f34ec2cc2', 'message': ""Handle interfaces names in 'ip link' output with '@'\n\nThe get_devices() method in neutron/agent/linux/ip_lib.py chokes if 'iproute2' presents interface names containing '@', such as ipip tunnels:\n\n    513: tunl0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN mode DEFAULT group default\n        link/ipip 0.0.0.0 brd 0.0.0.0\n\nAnd macvlan devices:\n\n    4: clone@eth0: <BROADCAST,MULTICAST> mtu 1454 qdisc noop state DOWN mode DEFAULT group default\n        link/ether c6:dd:66:a5:f6:5c brd ff:ff:ff:ff:ff:ff\n\nThis code modifies get_devices() to treat '@' as a delimiter in interface\nnames, rather than only for VLAN devices.\n\nChange-Id: I416ada89c14c8ba62de8f5dbd0a2042ebd5ac1ce\nCloses-bug: #1374663\n""}]",5,124557,c8b509b721ed43bc642154428ab9ef6f34ec2cc2,29,22,1,8745,,,0,"Handle interfaces names in 'ip link' output with '@'

The get_devices() method in neutron/agent/linux/ip_lib.py chokes if 'iproute2' presents interface names containing '@', such as ipip tunnels:

    513: tunl0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN mode DEFAULT group default
        link/ipip 0.0.0.0 brd 0.0.0.0

And macvlan devices:

    4: clone@eth0: <BROADCAST,MULTICAST> mtu 1454 qdisc noop state DOWN mode DEFAULT group default
        link/ether c6:dd:66:a5:f6:5c brd ff:ff:ff:ff:ff:ff

This code modifies get_devices() to treat '@' as a delimiter in interface
names, rather than only for VLAN devices.

Change-Id: I416ada89c14c8ba62de8f5dbd0a2042ebd5ac1ce
Closes-bug: #1374663
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/124557/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,c8b509b721ed43bc642154428ab9ef6f34ec2cc2,bug/1374663, if '@' in tokens[1]:, if any(v in tokens[2] for v in VLAN_INTERFACE_DETAIL):,1,1
openstack%2Fneutron~master~I4fc3198d3b111b29820f0cdf8bd74f3413908f56,openstack/neutron,master,I4fc3198d3b111b29820f0cdf8bd74f3413908f56,"Trunk port support for VLAN ML2 type driver, Agent part",ABANDONED,2014-07-14 12:22:16.000000000,2015-01-26 15:12:00.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2733}, {'_account_id': 4187}, {'_account_id': 5170}, {'_account_id': 7278}, {'_account_id': 7776}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 11097}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-07-14 12:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5c52ff1d972bc25dda9c9e62bae2847bc884044', 'message': ""Trunk port support for VLAN ML2 type driver, Agent part\n\nWIP\n\nAdds support to use VLAN tagged frames from VM when using the VLAN ML2\ntype driver. Extends port with 'trunkport:type', 'trunkport:parent_id' and\n'trunkport:vid'. Type is either 'trunk' or 'subport'. If type is 'subport'\nthen parent_id shall be id of port with type 'trunk' and vid shall be\nvid that VM uses to reach this subport. parent_id and vid shall be unset\nfor ports of type 'trunk'. Ports of type 'trunk' shall be argument to\nnova when booting VM. This commit contains the agent part.\n\nNFVImpact\n\nChange-Id: I4fc3198d3b111b29820f0cdf8bd74f3413908f56\nImplements: blueprint vlan-aware-vms\n""}, {'number': 2, 'created': '2014-10-16 13:47:59.000000000', 'files': ['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9487cf20327e84f3651481c71965ab0e5bf2ddc3', 'message': ""Trunk port support for VLAN ML2 type driver, Agent part\n\nWIP\n\nAdds support to use VLAN tagged frames from VM when using the ML2 plugin\nwith the openvswitch mechanism driver.  Extends port with 'trunkport:type',\n'trunkport:parent_id' and 'trunkport:vid'. Type is either 'trunk' or\n'subport'. If type is 'subport' then parent_id shall be id of port with\ntype 'trunk' and vid shall be vid that VM uses to reach this\nsubport. parent_id and vid shall be unset for ports of type 'trunk'. Ports\nof type 'trunk' shall be argument to nova when booting VM. This commit\ncontains the agent part.\n\nNFVImpact\n\nChange-Id: I4fc3198d3b111b29820f0cdf8bd74f3413908f56\nImplements: blueprint vlan-aware-vms\n""}]",11,106744,9487cf20327e84f3651481c71965ab0e5bf2ddc3,39,24,2,11097,,,0,"Trunk port support for VLAN ML2 type driver, Agent part

WIP

Adds support to use VLAN tagged frames from VM when using the ML2 plugin
with the openvswitch mechanism driver.  Extends port with 'trunkport:type',
'trunkport:parent_id' and 'trunkport:vid'. Type is either 'trunk' or
'subport'. If type is 'subport' then parent_id shall be id of port with
type 'trunk' and vid shall be vid that VM uses to reach this
subport. parent_id and vid shall be unset for ports of type 'trunk'. Ports
of type 'trunk' shall be argument to nova when booting VM. This commit
contains the agent part.

NFVImpact

Change-Id: I4fc3198d3b111b29820f0cdf8bd74f3413908f56
Implements: blueprint vlan-aware-vms
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/106744/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'],1,d5c52ff1d972bc25dda9c9e62bae2847bc884044,bp/vlan-aware-vms,"import reclass Port_ta_bort(object): """"""Represents a neutron port. Class stores port data in a ORM-free way, so attributres are still available even if a row has been deleted. """""" def __init__(self, p): self.id = p.id self.network_id = p.network_id self.device_id = p.device_id self.admin_state_up = p.admin_state_up self.status = p.status def __eq__(self, other): '''Compare only fields that will cause us to re-wire.''' try: return (self and other and self.id == other.id and self.admin_state_up == other.admin_state_up) except Exception: return False def __ne__(self, other): return not self.__eq__(other) def __hash__(self): return hash(self.id) class VLANBridge(ovs_lib.OVSBridge): """"""Extends OVSBridge for Trunkport."""""" def configure(self, name, root_helper, int_br): self.name = name self.root_helper = root_helper self.int_br = int_br self.vlan_port_name = ""pvm"" + name[3:] self.int_br_port_name = ""pin"" + name[3:] self.create() ports = self.get_port_name_list() if self.vlan_port_name not in ports: self.add_patch_port( self.vlan_port_name, self.int_br_port_name) self.vlan_ofport = self.get_port_ofport(self.vlan_port_name) ports = self.int_br.get_port_name_list() if self.int_br_port_name not in ports: self.int_br.add_patch_port( self.int_br_port_name, self.vlan_port_name) self.int_br_ofport = self.get_port_ofport( self.int_br_port_name) self.add_flow(priority=2, in_port=self.vlan_ofport, actions=""drop"") self.int_br.add_flow(priority=2, in_port=self.int_br_ofport, actions=""drop"") def cleanup_bridge(self): self.int_br.delete_port(self.int_br_port_name) def _get_flows(self, br, of_port): flow_list = br.run_ofctl(""dump-flows"", []).split(""\n"")[1:] p1 = re.compile('in_port=(\d+),dl_vlan=(\d+).*mod_vlan_vid:(\d+)') p2 = re.compile('in_port=(\d+),dl_vlan=(\d+).*strip_vlan') f = set() for l in flow_list: m = p1.search(l) if m: in_port = m.group(1) f_vid = int(m.group(2)) t_vid = int(m.group(3)) if(in_port == of_port): f.add((f_vid, t_vid)) m = p2.search(l) if m: in_port = m.group(1) f_vid = int(m.group(2)) t_vid = ""Untagged"" if(in_port == of_port): f.add((f_vid, t_vid)) return f def init_flow_check(self): self.current_flows = self._get_flows(self, self.vlan_ofport) self.new_flows = set() def init_int_br_flow_check(self): self.current_int_br_flows = self._get_flows(self.int_br, self.int_br_ofport) self.new_int_br_flows = set() def _set_mapping(self, vm_flow_vid, fab_vid, record_vid, action): self.new_int_br_flows.add((record_vid, fab_vid)) if (record_vid, fab_vid) not in self.current_int_br_flows: self.int_br.add_flow( priority=3, in_port=self.int_br_ofport, dl_vlan=vm_flow_vid, actions=""mod_vlan_vid:%s,normal"" % fab_vid) else: LOG.debug(_(""Flow already in place: %s""), (record_vid, fab_vid)) self.new_flows.add((fab_vid, record_vid)) if (fab_vid, record_vid) not in self.current_flows: self.add_flow(priority=3, in_port=self.vlan_ofport, dl_vlan=fab_vid, actions=action) else: LOG.debug(_(""Flow already in place: %s""), (fab_vid, record_vid)) def set_mapping(self, vm_vid, fab_vid): if vm_vid is None: self._set_mapping(0xffff, fab_vid, ""Untagged"", ""strip_vlan,normal"") else: self._set_mapping(vm_vid, fab_vid, vm_vid, ""mod_vlan_vid:%s,normal"" % vm_vid) def remove_extra_flows(self): remove = self.current_flows - self.new_flows int_br_remove = self.current_int_br_flows - self.new_int_br_flows for f in remove: if f[0] == 'Untagged': pass else: self.delete_flows(in_port=self.vlan_ofport, dl_vlan=f[0]) for f in int_br_remove: if f[0] == 'Untagged': pass else: self.int_br.delete_flows(in_port=self.vlan_ofport, dl_vlan=f[0]) def set_trunk(self, fab_vid): self.int_br.add_flow( priority=3, in_port=self.int_br_ofport, actions=""push_vlan:0x8100,mod_vlan_vid:%s,normal"" % fab_vid) self.add_flow(priority=3, in_port=self.vlan_ofport, dl_vlan=fab_vid, actions=""strip_vlan,normal"") self.updated_ancillary_ports = set() self.local_vlan_bridges = {} [topics.SECURITY_GROUP, topics.UPDATE], [topics.TRUNKPORT, topics.UPDATE]] consumers.append(['port', 'prepare', cfg.CONF.host]) def trunkports_updated(self, context, **kwargs): for port in kwargs['trunkport_ids']: self.updated_ancillary_ports.add(port) def port_prepare(self, context, **kwargs): vlan_br_name = kwargs['br_name'] phys_br_name = kwargs['segment']['physical_network'] phys_br = self.phys_brs[phys_br_name] if vlan_br_name not in self.local_vlan_bridges: vlan_br = VLANBridge(vlan_br_name, self.root_helper) vlan_br.configure(vlan_br_name, self.root_helper, phys_br) self.local_vlan_bridges[vlan_br_name] = vlan_br self.ancillary_brs.append(vlan_br) else: vlan_br = self.local_vlan_bridges[vlan_br_name] vlan_br.configure(vlan_br_name, self.root_helper, phys_br) LOG.info(_('Setting up ancillary bridges.')) if id != bridge and bridge[0:3] != 'mbr': if bridge[0:3] != 'mbr': br = ovs_lib.OVSBridge(bridge, self.root_helper) else: phys_br = self.phys_brs['default'] # FIX the hardcoded 'default' above!!!!! br = VLANBridge(bridge, self.root_helper) br.configure(bridge, self.root_helper, phys_br) self.local_vlan_bridges[bridge] = br def update_ancillary_ports(self, registered_ports, updated_ports=None): if updated_ports is None: updated_ports = [] real_updated_ports = set() for bridge in self.ancillary_brs: tmp_ports = bridge.get_vif_port_set() for tmp_port in tmp_ports: ports.add((tmp_port, bridge)) if tmp_port in updated_ports: real_updated_ports.add((tmp_port, bridge)) port_info = {'current': ports, 'added': added, 'removed': removed, 'updated': real_updated_ports} return port_info def treat_trunk_port(self, port, details, vlan_bridge): vlan_bridge.init_flow_check() vlan_bridge.init_int_br_flow_check() vlan_bridge.set_mapping(None, details['segmentation_id']) # vlan_bridge.set_trunk(details['segmentation_id']) if 'trunk_networks' in details: for ext_net in details['trunk_networks']: vlan_bridge.set_mapping(ext_net['vid'], ext_net['segmentation_id']) vlan_bridge.remove_extra_flows() vlan_bridge.set_db_attribute(""Port"", port.port_name, ""vlan_mode"", 'trunk') def treat_ancillary_devices_added(self, devices): device_ids = list() brs = {} for d in devices: device_ids.append(d[0]) brs[d[0]] = d[1] device_ids, port = brs[device].get_vif_port_by_id(device) if not port: # The port has disappeared and should not be processed # There is no need to put the port DOWN in the plugin as # it never went up in the first place LOG.info(_(""Port %s was not found on the integration bridge "" ""and will therefore not be processed""), device) continue try: details = self.plugin_rpc.get_device_details(self.context, device, self.agent_id) except Exception as e: LOG.debug(_(""Unable to get port details for "" ""%(device)s: %(e)s""), {'device': device, 'e': e}) return True if 'port_id' in details: LOG.info(_(""Port %(device)s updated. Details: %(details)s""), {'device': device, 'details': details}) self.treat_trunk_port(port, details, brs[device]) # update plugin about port status if details.get('admin_state_up'): LOG.debug(_(""Setting status for %s to UP""), device) self.plugin_rpc.update_device_up( self.context, device, self.agent_id, cfg.CONF.host) else: LOG.debug(_(""Setting status for %s to DOWN""), device) self.plugin_rpc.update_device_down( self.context, device, self.agent_id, cfg.CONF.host) LOG.info(_(""Configuration for device %s completed.""), device) LOG.info(_(""Attachment %s removed""), device[0]) self.ancillary_brs.remove(device[1]) del self.local_vlan_bridges[device[1].name] device[1].cleanup_bridge() device[1].delete_bridge(device[1].name) device[0], {'device': device[0], 'e': e}) LOG.info(_(""Port %s updated.""), device[0]) LOG.debug(_(""Device %s not defined on plugin""), device[0]) if 'updated' in port_info: start = time.time() try: self.treat_ancillary_devices_added(port_info['updated']) LOG.debug(_(""process_ancillary_network_ports - iteration: "" ""%(iter_num)d - treat_ancillary_devices_updated "" ""completed in %(elapsed).3f""), {'iter_num': self.iter_num, 'elapsed': time.time() - start}) except DeviceListRetrievalError: # Need to resync as there was an error with server # communication. LOG.exception(_(""process_ancillary_network_ports - "" ""iteration:%d - failure while retrieving "" ""port details from server""), self.iter_num) resync_a = True self.updated_ancillary_ports or updated_ancillary_ports_copy = set() 'removed': 0, 'updated': 0}} updated_ancillary_ports_copy = ( self.updated_ancillary_ports) self.updated_ancillary_ports = set() ancillary_ports, updated_ancillary_ports_copy) port_stats['ancillary']['updated'] = ( len(port_info.get('updated', [])))"," [topics.SECURITY_GROUP, topics.UPDATE]] if id != bridge: br = ovs_lib.OVSBridge(bridge, self.root_helper) def update_ancillary_ports(self, registered_ports): for bridge in self.ancillary_brs: ports |= bridge.get_vif_port_set() if ports == registered_ports: return return {'current': ports, 'added': added, 'removed': removed} def treat_ancillary_devices_added(self, devices): devices, LOG.info(_(""Attachment %s removed""), device) device, {'device': device, 'e': e}) LOG.info(_(""Port %s updated.""), device) LOG.debug(_(""Device %s not defined on plugin""), device) 'removed': 0}} ancillary_ports)",307,18
openstack%2Fneutron~master~Ic02fdac339de6cdd01487f2365dc9a1b015e9636,openstack/neutron,master,Ic02fdac339de6cdd01487f2365dc9a1b015e9636,WIP: Replace Neutron DB plugin 'register_dict_extend_funcs' calls with decorator,ABANDONED,2014-10-20 12:24:03.000000000,2015-01-26 15:11:59.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9423}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-20 12:24:03.000000000', 'files': ['neutron/plugins/nuage/plugin.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_gwmode_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/vmware/dbexts/qos_db.py', 'neutron/db/external_net_db.py', 'neutron/db/l3_attrs_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/extradhcpopt_db.py', 'neutron/db/extraroute_db.py', 'neutron/plugins/vmware/dbexts/maclearning.py', 'neutron/plugins/nec/nec_router.py', 'neutron/db/portsecurity_db.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/db/portbindings_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7385434488dd4aff314d13257a6b275952b767f', 'message': ""WIP: Replace Neutron DB plugin 'register_dict_extend_funcs' calls with decorator\n\nChange-Id: Ic02fdac339de6cdd01487f2365dc9a1b015e9636\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}]",0,129594,f7385434488dd4aff314d13257a6b275952b767f,25,23,1,9423,,,0,"WIP: Replace Neutron DB plugin 'register_dict_extend_funcs' calls with decorator

Change-Id: Ic02fdac339de6cdd01487f2365dc9a1b015e9636
Signed-off-by: Roey Chen <roeyc@vmware.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/129594/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/nuage/plugin.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_gwmode_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/vmware/dbexts/qos_db.py', 'neutron/db/external_net_db.py', 'neutron/db/l3_attrs_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/extradhcpopt_db.py', 'neutron/db/extraroute_db.py', 'neutron/plugins/vmware/dbexts/maclearning.py', 'neutron/plugins/nec/nec_router.py', 'neutron/db/portsecurity_db.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/db/portbindings_db.py']",16,f7385434488dd4aff314d13257a6b275952b767f,dec,@db_base_plugin_v2.dict_extend_func(attributes.PORTS)," # Register dict extend functions for ports db_base_plugin_v2.NeutronDbPluginV2.register_dict_extend_funcs( attributes.PORTS, [_extend_port_dict_binding])",28,63
openstack%2Fneutron~master~I62288456f364c6a1006db5196adcca7180ced170,openstack/neutron,master,I62288456f364c6a1006db5196adcca7180ced170,Fix ovs-start fdb out of sync,ABANDONED,2014-07-16 14:42:08.000000000,2015-01-26 15:11:56.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2888}, {'_account_id': 5170}, {'_account_id': 7170}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10192}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}]","[{'number': 1, 'created': '2014-07-16 14:42:08.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/drivers/l2pop/config.py', 'neutron/tests/unit/ml2/drivers/test_l2population.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3a0db0e5add07af7ccbb18eac56266e3962dc0f', 'message': 'Fix ovs-start fdb out of sync\n\nWhen agent is setting up a new network, send an rpc to service to fetch\nthe fdb related to the network\n\nChange-Id: I62288456f364c6a1006db5196adcca7180ced170\n'}]",0,107409,f3a0db0e5add07af7ccbb18eac56266e3962dc0f,20,19,1,7170,,,0,"Fix ovs-start fdb out of sync

When agent is setting up a new network, send an rpc to service to fetch
the fdb related to the network

Change-Id: I62288456f364c6a1006db5196adcca7180ced170
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/107409/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/drivers/l2pop/config.py', 'neutron/tests/unit/ml2/drivers/test_l2population.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",4,f3a0db0e5add07af7ccbb18eac56266e3962dc0f,master,"class L2popApi(n_rpc.RpcProxy): '''Agent side of the rpc API. API version history: 1.0 - Initial version. ''' BASE_RPC_API_VERSION = '1.0' def __init__(self, topic): super(L2popApi, self).__init__( topic=topic, default_version=self.BASE_RPC_API_VERSION) def network_sync(self, context, agent_host, network_id): return self.call(context, self.make_msg('network_sync', agent_host=agent_host, network_id=network_id), topic=self.topic) if self.l2_pop: self.l2_pop_rpc = L2popApi(topics.L2POPULATION) self.l2_pop_fdb_cache[network_id] = {'ports': {}} if self.l2_pop: self.l2_pop_rpc.network_sync(self.context, cfg.CONF.host, net_uuid)"," self.l2_pop_fdb_cache[network_id] = { 'segment_id': values.get('segment_id'), 'network_type': values.get('network_type'), 'ports': {}}",95,264
openstack%2Fneutron~master~Ib5e5f52fb1eed52e9ef730351fae9a5f940c9985,openstack/neutron,master,Ib5e5f52fb1eed52e9ef730351fae9a5f940c9985,Add flag to avoid ovs-agent remove all flows when it start,ABANDONED,2014-10-29 14:47:14.000000000,2015-01-26 15:11:55.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 6072}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9911}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-10-29 14:47:14.000000000', 'files': ['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/common/config.py', 'etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c48b4ee0d227c2be075b39f935b49983c6c808ef', 'message': ""Add flag to avoid ovs-agent remove all flows when it start\n\nIn order to avoid cloud's network break, need to set a flag so that\novs-agent can get to know it doesn't need to remove flows for some reason.\n\nChange-Id: Ib5e5f52fb1eed52e9ef730351fae9a5f940c9985\nClose-Bug: #1386993\n""}]",5,131791,c48b4ee0d227c2be075b39f935b49983c6c808ef,20,18,1,9911,,,0,"Add flag to avoid ovs-agent remove all flows when it start

In order to avoid cloud's network break, need to set a flag so that
ovs-agent can get to know it doesn't need to remove flows for some reason.

Change-Id: Ib5e5f52fb1eed52e9ef730351fae9a5f940c9985
Close-Bug: #1386993
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/131791/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/common/config.py', 'etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",4,c48b4ee0d227c2be075b39f935b49983c6c808ef,bug/1386993, if cfg.CONF.AGENT.reset_ovs: self.int_br.delete_port(cfg.CONF.OVS.int_peer_patch_port) self.int_br.remove_all_flows() if cfg.CONF.AGENT.reset_ovs: self.tun_br.reset_bridge() self.tun_br.remove_all_flows() else: self.tun_br.create() #NOTE(weiw): ovs will skip it if already exists if cfg.CONF.AGENT.reset_ovs: br.remove_all_flows() if cfg.CONF.AGENT.reset_ovs: self.int_br.delete_port(int_if_name) br.delete_port(phys_if_name), self.int_br.delete_port(cfg.CONF.OVS.int_peer_patch_port) self.int_br.remove_all_flows() self.tun_br.reset_bridge() self.tun_br.remove_all_flows() br.remove_all_flows() self.int_br.delete_port(int_if_name) br.delete_port(phys_if_name),103,7
openstack%2Fneutron~master~I4d6cffd5021185ab17a64f9601a32184d7807bce,openstack/neutron,master,I4d6cffd5021185ab17a64f9601a32184d7807bce,Register options using import_group,ABANDONED,2014-11-11 20:29:25.000000000,2015-01-26 15:11:54.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8124}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-11 20:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98764a6c59d9cf5f9615a930caaaa44c66de901f', 'message': 'Remove unused imported file\n\nCleanup ovs and linux-bridge agent files.  They\ncontain unused imports.\n\nChange-Id: I4d6cffd5021185ab17a64f9601a32184d7807bce\n'}, {'number': 2, 'created': '2014-11-13 00:15:05.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8cf6f6cfdfe56c3b89657ac591c98ecff562256', 'message': 'Register options using import_group\n\nRemove imports with #noqa and replace with proper import_group\ndirective to import config (rather than import of non-modules).\nInstead of importing the file which will register options during\nimport, they are replaced with import_group with appropriate\nmodule name.\n\nChange-Id: I4d6cffd5021185ab17a64f9601a32184d7807bce\n'}]",2,133826,f8cf6f6cfdfe56c3b89657ac591c98ecff562256,49,21,2,8792,,,0,"Register options using import_group

Remove imports with #noqa and replace with proper import_group
directive to import config (rather than import of non-modules).
Instead of importing the file which will register options during
import, they are replaced with import_group with appropriate
module name.

Change-Id: I4d6cffd5021185ab17a64f9601a32184d7807bce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/133826/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",2,98764a6c59d9cf5f9615a930caaaa44c66de901f,agent-cleanup,,from neutron.plugins.openvswitch.common import config # noqa,0,2
openstack%2Fneutron~master~I35971770d87acb353333782150937ace5f4b9db5,openstack/neutron,master,I35971770d87acb353333782150937ace5f4b9db5,WIP: No review,ABANDONED,2014-11-12 23:14:42.000000000,2015-01-26 15:11:53.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1297}, {'_account_id': 5170}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10386}, {'_account_id': 10503}, {'_account_id': 11279}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-12 23:14:42.000000000', 'files': ['neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/driver_api.py', 'neutron/plugins/ml2/drivers/mech_mock_one.py', 'neutron/plugins/ml2/drivers/mech_mock_two.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a1338167ed3ffcbae670411567a53b02f3ae5c0', 'message': 'WIP: No review\n\nTesting.\nNeed to update devstack config to add mock_one, mock_two\nNeed to update entry points in neutron to allow mock_one, mock_two\n(stevedore extensions)\n\nChange-Id: I35971770d87acb353333782150937ace5f4b9db5\n'}]",17,134075,0a1338167ed3ffcbae670411567a53b02f3ae5c0,27,22,1,8792,,,0,"WIP: No review

Testing.
Need to update devstack config to add mock_one, mock_two
Need to update entry points in neutron to allow mock_one, mock_two
(stevedore extensions)

Change-Id: I35971770d87acb353333782150937ace5f4b9db5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/134075/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/driver_api.py', 'neutron/plugins/ml2/drivers/mech_mock_one.py', 'neutron/plugins/ml2/drivers/mech_mock_two.py', 'neutron/plugins/ml2/plugin.py']",5,0a1338167ed3ffcbae670411567a53b02f3ae5c0,tf-ml2,"import concurrent.futures #make max_workers config self.executor = concurrent.futures.ThreadPoolExecutor(max_workers=10) flow_engine = self.mechanism_manager.update_port_postcommit(cur_context) flow_engine.run() # modified the postcommit to just return the flow engine which can be # run using Future (for now, this is just for illustration) flow_engine = self.mechanism_manager.create_network_postcommit(mech_context) self.executor.submit(flow_engine.run) flow_engine = self.mechanism_manager.update_network_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.delete_network_postcommit(mech_context) self.executor.submit(flow_engine.run) flow_engine = self.mechanism_manager.create_subnet_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.update_subnet_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.delete_subnet_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.create_port_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.update_port_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.delete_port_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.update_port_postcommit(mech_context) flow_engine.run()", self.mechanism_manager.update_port_postcommit(cur_context) self.mechanism_manager.create_network_postcommit(mech_context) self.mechanism_manager.update_network_postcommit(mech_context) self.mechanism_manager.delete_network_postcommit(mech_context) self.mechanism_manager.create_subnet_postcommit(mech_context) self.mechanism_manager.update_subnet_postcommit(mech_context) self.mechanism_manager.delete_subnet_postcommit(mech_context) self.mechanism_manager.create_port_postcommit(mech_context) self.mechanism_manager.update_port_postcommit(mech_context) self.mechanism_manager.delete_port_postcommit(mech_context),521,25
openstack%2Fneutron~master~Iab48fe2698afb443c1eaf675ff901a1747894a16,openstack/neutron,master,Iab48fe2698afb443c1eaf675ff901a1747894a16,"Change ""v6"" to ""ipv6"" in ContrailPluginTestCase",ABANDONED,2014-10-08 23:05:46.000000000,2015-01-26 15:11:51.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6685}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 12251}, {'_account_id': 13051}, {'_account_id': 13201}]","[{'number': 1, 'created': '2014-10-08 23:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2756be6e7c07fd7b6546f72153c7f449ce3f7fe', 'message': 'Change ""v6"" to ""ipv6""\n\nCloses-Bug: #1378187\n\n""v6"" is too short and may be used in a different context. So we change it to a clear keyword ""ipv6"".\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 2, 'created': '2014-10-09 05:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ff1acf6c25407bcaf593bfe1024f2cf1e31a41c', 'message': 'Change ""v6"" to ""ipv6""\n\nCloses-Bug: #1378187\n\n""v6"" is too short and may be used in a different context. So we change it to a clear keyword ""ipv6"".\nChange all the unit test to use ""ipv6"" in stead of ""v6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 3, 'created': '2014-10-09 07:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0ae0bb7038a47e4703732162b3bdfd7642369dd', 'message': 'Change ""v6"" to ""ipv6""\n\nCloses-Bug: #1378187\n\n""v6"" is too short and may be used in a different context. So we change it to a clear keyword ""ipv6"".\nChange all the unit test to use ""ipv6"" in stead of ""v6""\nChange the tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 4, 'created': '2014-10-10 16:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d148d63eaf25f17d2cd71bad11780d6ccf82a751', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nCloses-Bug: #1378187\n\n""v6"" is too short and may be used in a different context. \nSo we change it to a clear keyword ""ipv6"".\n\nChange all the unit test to use ""ipv6"" in stead of ""v6""\n\nChange the tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 5, 'created': '2014-10-10 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdafdc1dfe8b96efbb3300e54fdc323e8bf208f5', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\n  ""v6"" is too short and may be used in a different context. \n  So we change it to a clear keyword ""ipv6"".\n\n  Change all the unit test to use ""ipv6"" in stead of ""v6""\n\n  Change the tests\' name from ""v6"" to ""_ipv6""\n\nCloses-Bug: #1378187\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 6, 'created': '2014-10-10 16:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55425773e487e4cbab58face2660292cc37ce1a6', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\n  ""v6"" is too short and may be used in a different context. \n  So we change it to a clear keyword ""ipv6"".\n\n  Change all the unit test to use ""ipv6"" in stead of ""v6""\n\n  Change the tests\' name from ""v6"" to ""_ipv6""\n\nCloses-Bug: #1378187\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 7, 'created': '2014-10-10 16:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0872ef033cc75bffbecc6528f74cb725789f1d39', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nChange ""v6"" to a clear keyword ""ipv6"" in unit tests.\nChange all the unit test to use ""ipv6"" in stead of ""v6""\nChange the tests\' name from ""v6"" to ""_ipv6""\n\nCloses-Bug: #1378187\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 8, 'created': '2014-10-10 16:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/395b5692b3ede971ed903d5d5df635e061760749', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nChange ""v6"" to a clear keyword ""ipv6"" in all the unit tests.\nChange the tests\' name from ""v6"" to ""_ipv6""\n\nCloses-Bug: #1378187\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 9, 'created': '2014-10-13 18:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74862686ea3ead0c77ad67f095447994d8d7ccb4', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nCloses-Bug: #1378187\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 10, 'created': '2014-10-14 16:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce8cc1aa368e3d05e91da42065b15ee5f0cc8f69', 'message': 'Change ""v6"" to ""ipv6""\n\nCloses-Bug: #1378187\n\n""v6"" is too short and may be used in a different context. So we change it to a clear keyword ""ipv6"".\nChange all the unit test to use ""ipv6"" in stead of ""v6""\nChange the tests\' name from ""v6"" to ""_ipv6""\nRevert the change for cisco/nuage plugin.\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 11, 'created': '2014-10-17 16:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/277dadddf868312a2f0e89f79f7ed0528b7d76bc', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nCloses-Bug: #1378187\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 12, 'created': '2014-10-20 21:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/085c7c90188d8509d4a64c851a4bce88feab0074', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nCloses-Bug: #1378187\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 13, 'created': '2014-10-20 21:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b87a174fa2d4b695d7057500b6c8b7bb0487eef0', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nCloses-Bug: #1378187\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 14, 'created': '2014-11-07 23:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49e3f9747448c70368fdee744903fd74e4081dba', 'message': 'Change ""v6"" to ""ipv6"" in unit tests\n\nCloses-Bug: #1378187\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 15, 'created': '2014-11-07 23:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c48d416db1e41610e9c30c8c87825a8f1bef1b7', 'message': 'Change ""v6"" to ""ipv6"" in ContrailPluginTestCase\n\nCloses-Bug: #1378187\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}, {'number': 16, 'created': '2014-11-17 23:03:15.000000000', 'files': ['neutron/tests/unit/test_db_plugin.py', 'neutron/tests/unit/opencontrail/test_contrail_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6e581f9c7bb90cb0d9625a745db6e771c27d006', 'message': 'Change ""v6"" to ""ipv6"" in ContrailPluginTestCase\n\nCloses-Bug: #1378187\n\nChange ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.\nChange the relevant tests\' name from ""v6"" to ""_ipv6""\n\nChange-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16\n'}]",14,127067,d6e581f9c7bb90cb0d9625a745db6e771c27d006,269,39,16,13201,,,0,"Change ""v6"" to ""ipv6"" in ContrailPluginTestCase

Closes-Bug: #1378187

Change ""v6"" to a clear keyword ""ipv6"" in ContrailPluginTestCase.
Change the relevant tests' name from ""v6"" to ""_ipv6""

Change-Id: Iab48fe2698afb443c1eaf675ff901a1747894a16
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/127067/16 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/opencontrail/test_contrail_plugin.py'],1,c2756be6e7c07fd7b6546f72153c7f449ce3f7fe,bug/1378187, if 'ipv6' in self._testMethodName.lower():, if 'v6' in self._testMethodName:,1,1
openstack%2Fneutron~master~Iea692df909e8614e7087ababad09740408616b64,openstack/neutron,master,Iea692df909e8614e7087ababad09740408616b64,Allocate fixed IPs by IP Version,ABANDONED,2014-10-28 14:11:16.000000000,2015-01-26 15:11:46.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6072}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11061}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-10-28 14:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ee09de48b31c314d51d83d3fe131bff5e2560cb', 'message': ""Allow to allocate 'any-ipv4' or 'any-ipv6' fixed_ip\n\nWhen fixed_ips contains 'ip_version' property, allocate IP address from\nappropriate subnet(s).\n\nChange-Id: Iea692df909e8614e7087ababad09740408616b64\nImplements: blueprint fixed-ip-version\n""}, {'number': 2, 'created': '2014-10-28 15:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3d1b1c735987482bf34c683ef46567785fe9ce6', 'message': ""Allow to allocate 'any-ipv4' or 'any-ipv6' fixed_ip\n\nWhen fixed_ips contains 'ip_version' property, allocate IP address from\nappropriate subnet(s).\n\nChange-Id: Iea692df909e8614e7087ababad09740408616b64\nImplements: blueprint fixed-ip-version\n""}, {'number': 3, 'created': '2014-10-29 09:03:29.000000000', 'files': ['neutron/tests/unit/test_attributes.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/tests/unit/oneconvergence/test_nvsd_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/api/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4f08af917cf520d52a0a994e8149f024f2f9cb5', 'message': ""Allocate fixed IPs by IP Version\n\nWhen fixed_ips contains 'ip_version' property, allocate IP address from\nappropriate subnet(s).\n\nChange-Id: Iea692df909e8614e7087ababad09740408616b64\nImplements: blueprint fixed-ip-version\n""}]",2,131444,d4f08af917cf520d52a0a994e8149f024f2f9cb5,61,22,3,11061,,,0,"Allocate fixed IPs by IP Version

When fixed_ips contains 'ip_version' property, allocate IP address from
appropriate subnet(s).

Change-Id: Iea692df909e8614e7087ababad09740408616b64
Implements: blueprint fixed-ip-version
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/131444/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_attributes.py', 'neutron/tests/unit/oneconvergence/test_nvsd_plugin.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/api/v2/attributes.py', 'neutron/db/db_base_plugin_v2.py']",5,2ee09de48b31c314d51d83d3fe131bff5e2560cb,bp/fixed-ip-version," if 'ip_version' not in fixed: msg = _('IP allocation requires subnet_id, ip_version ' 'or ip_address') raise n_exc.InvalidInput(error_message=msg) filter = {'network_id': [network_id], 'ip_version': [int(fixed['ip_version'])]} subnets = self.get_subnets(context, filters=filter) if not subnets: msg = (_(""Failed to create port on network "" ""%(network_id)s, because it does not have "" ""any version %(ip_version)s subnets"") % {'network_id': network_id, 'ip_version': fixed['ip_version']}) raise n_exc.InvalidInput(error_message=msg) else: filter = {'network_id': [network_id]} subnets = self.get_subnets(context, filters=filter) for subnet in subnets: if self._check_subnet_ip(subnet['cidr'], fixed['ip_address']): found = True subnet_id = subnet['id'] break if not found: msg = (_('IP address %s is not a valid IP for the ' 'defined networks subnets') % fixed['ip_address']) raise n_exc.InvalidInput(error_message=msg) elif 'ip_version' in fixed: fixed_ip_set.append({'ip_version': fixed['ip_version']}) def _allocate_fixed_ips(self, context, fixed_ips, network_id, mac_address): #(raorn) IP Version specified. First, generate IPv6 addresses for # all SLAAC subnets, as it done when no fixed_ips specified, then # generate one IPv6 address for DHCPv6 subnets (if any). elif 'ip_version' in fixed: filter = {'network_id': [network_id], 'ip_version': [int(fixed['ip_version'])]} subnets = self.get_subnets(context, filters=filter) for subnet in subnets: if self._check_if_subnet_uses_eui64(subnet): prefix = subnet['cidr'] ip_address = ipv6_utils.get_ipv6_addr_by_EUI64( prefix, mac_address) ips.append({'ip_address': ip_address.format(), 'subnet_id': subnet['id']}) subnets.remove(subnet) if subnets: result = NeutronDbPluginV2._generate_ip(context, subnets) ips.append({'ip_address': result['ip_address'], 'subnet_id': result['subnet_id']}) ips = self._allocate_fixed_ips(context, to_add, network_id, mac_address) addresses for the port. If port['fixed_ips'] contains an IP address, IP version or a subnet_id then allocate an IP address accordingly. p['network_id'],"," msg = _('IP allocation requires subnet_id or ip_address') raise n_exc.InvalidInput(error_message=msg) filter = {'network_id': [network_id]} subnets = self.get_subnets(context, filters=filter) for subnet in subnets: if self._check_subnet_ip(subnet['cidr'], fixed['ip_address']): found = True subnet_id = subnet['id'] break if not found: msg = _('IP address %s is not a valid IP for the defined ' 'networks subnets') % fixed['ip_address'] raise n_exc.InvalidInput(error_message=msg) def _allocate_fixed_ips(self, context, fixed_ips, mac_address): ips = self._allocate_fixed_ips(context, to_add, mac_address) addresses for the port. If port['fixed_ips'] contains an IP address or a subnet_id then allocate an IP address accordingly.",207,19
openstack%2Fneutron~master~Ifdedef16e9b2fbf45a3238aa43c8ba87831386d1,openstack/neutron,master,Ifdedef16e9b2fbf45a3238aa43c8ba87831386d1,Raise exception for invalid timestamp msg,ABANDONED,2014-11-06 09:05:39.000000000,2015-01-26 15:11:45.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6502}, {'_account_id': 8646}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11825}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-06 09:05:39.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/extensions/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/adbf8a5ed459ed3afe80053a249ff8133ae9f07d', 'message': 'Raise exception for invalid timestamp msg\n\nRaise exception when server receives ""report_state"" msg with invalid\ntimestamp, so agent can catch the exception and resend ""report_state""\nmsg to update its start time.\nCloses-Bug: #1389488\n\nChange-Id: Ifdedef16e9b2fbf45a3238aa43c8ba87831386d1\n'}]",3,132973,adbf8a5ed459ed3afe80053a249ff8133ae9f07d,37,29,1,8646,,,0,"Raise exception for invalid timestamp msg

Raise exception when server receives ""report_state"" msg with invalid
timestamp, so agent can catch the exception and resend ""report_state""
msg to update its start time.
Closes-Bug: #1389488

Change-Id: Ifdedef16e9b2fbf45a3238aa43c8ba87831386d1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/132973/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/extensions/agent.py']",2,adbf8a5ed459ed3afe80053a249ff8133ae9f07d,bug/1389488,"class AgentInvalidTimestamp(exceptions.Invalid): def __init__(self): message = _(""Agent send invalid timestamp"") super(AgentInvalidTimestamp, self).__init__(message) ",,7,1
openstack%2Fneutron~master~I56156ef339cfb14f54b5ca267f97aa50609d949b,openstack/neutron,master,I56156ef339cfb14f54b5ca267f97aa50609d949b,WIP: router vm l3 plugin/driver/agent,ABANDONED,2014-08-26 03:18:09.000000000,2015-01-26 15:11:41.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 5170}, {'_account_id': 7278}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-26 03:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9faf79f2235369a2e9492e47d1dd58e5416ecada', 'message': 'WIP: router vm l3 plugin/driver/agent\n\nTODO for this patch:\n- cfg agent\n- l3 guest agent which runs within vm communicating config agent\n- test: unit test, devstack, tempest\n\nTODO as future work(mainly from ideas of csr1kv work):\n- router type extension (or service type/flavor framework)\n- scheduler\n  - hosting device to cfg agent\n  - router type aware router scheduler\n    integration with physical network topology extension\n- vm pooling (tacker side?)\n- fwaas support\n- integrate with l2-gateway\n- integrate with portsecurity extension\n\nChange-Id: I56156ef339cfb14f54b5ca267f97aa50609d949b\nImplements: blueprint l3-plugin-for-routervm-with-servicevm\n'}, {'number': 2, 'created': '2014-10-07 04:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c22d167bd885f956fb5e8d1d51d4f1139e2e1651', 'message': 'WIP: router vm l3 plugin/driver/agent\n\nTODO for this patch:\n- cfg agent\n- l3 guest agent which runs within vm communicating config agent\n  factor out l3 agent to split router operations\n- test: unit test, devstack, tempest\n\nTODO as future work(mainly from ideas of csr1kv work):\n- router type extension (or service type/flavor framework)\n- scheduler\n  - hosting device to cfg agent\n  - router type aware router scheduler\n    integration with physical network topology extension\n- vm pooling (tacker side?)\n- fwaas support\n- integrate with l2-gateway\n- integrate with portsecurity extension\n\nChange-Id: I56156ef339cfb14f54b5ca267f97aa50609d949b\nImplements: blueprint l3-plugin-for-routervm-with-servicevm\n'}, {'number': 3, 'created': '2014-11-17 16:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7e4efe563f1dbdc4367c944ece41d9ab9ae3ab6', 'message': 'WIP: router vm l3 plugin/driver/agent\n\nTODO for this patch:\n- cfg agent\n- l3 guest agent which runs within vm communicating config agent\n  factor out l3 agent to split router operations\n- test: unit test, devstack, tempest\n\nTODO as future work(mainly from ideas of csr1kv work):\n- router type extension (or service type/flavor framework)\n- scheduler\n  - hosting device to cfg agent\n  - router type aware router scheduler\n    integration with physical network topology extension\n- vm pooling (tacker side?)\n- fwaas support\n- integrate with l2-gateway\n- integrate with portsecurity extension\n\nChange-Id: I56156ef339cfb14f54b5ca267f97aa50609d949b\nPartially-implements: blueprint l3-plugin-for-routervm\n'}, {'number': 4, 'created': '2014-11-18 13:15:52.000000000', 'files': ['neutron/services/l3_router/vrouter/common/tacker_lib.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/csr1kv_hd_driver.py', 'neutron/services/l3_router/vrouter/driver_api.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/agentschedulers_db.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/csr1kv/csr1kv_routing_driver.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/csr1kv/cisco_csr1kv_snippets.py', 'neutron/services/l3_router/vrouter/driver_context.py', 'neutron/services/l3_router/vrouter/plugging_drivers/n1kv_trunking_driver.py', 'neutron/services/l3_router/vrouter/router_drivers/l3_agent.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/cisco_driver.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/csr1kv/__init__.py', 'neutron/services/l3_router/vrouter/plugging_drivers/n1kv_plugging_constants.py', 'neutron/db/common_db_mixin.py', 'neutron/services/l3_router/vrouter/router_drivers/__init__.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/vyatta_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b9ff8e1b3c4abb543530a3b2605bb45b21fda7f', 'message': 'WIP: router vm l3 plugin/driver/agent\n\nTODO for this patch:\n- cfg agent\n- l3 guest agent which runs within vm communicating config agent\n  factor out l3 agent to split router operations\n- test: unit test, devstack, tempest\n\nTODO as future work(mainly from ideas of csr1kv work):\n- router type extension (or service type/flavor framework)\n- scheduler\n  - hosting device to cfg agent\n  - router type aware router scheduler\n    integration with physical network topology extension\n- vm pooling (tacker side?)\n- fwaas support\n- integrate with l2-gateway\n- integrate with portsecurity extension\n\nChange-Id: I56156ef339cfb14f54b5ca267f97aa50609d949b\nPartially-implements: blueprint l3-plugin-for-routervm\n'}]",0,116773,5b9ff8e1b3c4abb543530a3b2605bb45b21fda7f,87,25,4,333,,,0,"WIP: router vm l3 plugin/driver/agent

TODO for this patch:
- cfg agent
- l3 guest agent which runs within vm communicating config agent
  factor out l3 agent to split router operations
- test: unit test, devstack, tempest

TODO as future work(mainly from ideas of csr1kv work):
- router type extension (or service type/flavor framework)
- scheduler
  - hosting device to cfg agent
  - router type aware router scheduler
    integration with physical network topology extension
- vm pooling (tacker side?)
- fwaas support
- integrate with l2-gateway
- integrate with portsecurity extension

Change-Id: I56156ef339cfb14f54b5ca267f97aa50609d949b
Partially-implements: blueprint l3-plugin-for-routervm
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/116773/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/driver_mgr.py', 'neutron/services/l3_router/vrouter/agents/__init__.py', 'neutron/services/l3_router/vrouter/rpc/l3_rpc_config_agent_api.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_status.py', 'neutron/db/agentschedulers_db.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/csr1kv/cisco_csr1kv_snippets.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/__init__.py', 'neutron/tests/unit/services/l3_router/routervm/test_l3_router_appliance_plugin.py', 'etc/l3_vrouter_guest_agent_template', 'neutron/services/l3_router/vrouter/common/stevedoreutils.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/guest_agent_device_driver.py', 'neutron/services/l3_router/vrouter/mgmt_network.py', 'neutron/services/l3_router/vrouter/common/tacker_lib.py', 'neutron/services/l3_router/vrouter/l3_vrouter_driver.py', 'neutron/services/l3_router/vrouter/plugging_drivers/plugging_driver_base.py', 'neutron/db/l3_db.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/csr1kv/csr1kv_routing_driver.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/cfg_exceptions.py', 'neutron/services/l3_router/vrouter/l3_vrouter_plugin.py', 'neutron/services/l3_router/vrouter/driver_context.py', 'neutron/common/constants.py', 'etc/l3_vrouter_driver.ini', 'neutron/tests/unit/services/l3_router/routervm/__init__.py', 'neutron/common/topics.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/service_driver_base.py', 'neutron/services/l3_router/vrouter/router_drivers/l3_agent.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/cisco_driver.py', 'setup.cfg', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/csr1kv/__init__.py', 'neutron/services/l3_router/vrouter/router_drivers/__init__.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/vyatta_driver.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/__init__.py', 'neutron/services/l3_router/vrouter/driver_api.py', 'neutron/services/l3_router/vrouter/common/nova_lib.py', 'neutron/services/l3_router/vrouter/plugging_drivers/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/devicedriver_api.py', 'requirements.txt', 'etc/l3_routervm_plugin.ini', 'neutron/services/l3_router/vrouter/agents/cfg_agent/__init__.py', 'neutron/services/l3_router/vrouter/rpc/l3_router_cfgagent_rpc_cb.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/guest_agent_driver.py', 'neutron/services/l3_router/vrouter/common/exceptions.py', 'neutron/services/l3_router/vrouter/db/l3_vrouter_db.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/cfg_agent.py', 'neutron/services/l3_router/vrouter/__init__.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/csr1kv_hd_driver.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/routing_driver.py', 'neutron/services/l3_router/vrouter/db/device_handling_db.py', 'neutron/tests/unit/services/l3_router/routervm/device_handling_test_support.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/__init__.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/hosting_device_driver_base.py', 'neutron/services/l3_router/vrouter/plugging_drivers/guest_agent_plugging_driver.py', 'neutron/services/l3_router/vrouter/rpc/devices_cfgagent_rpc_cb.py', 'neutron/services/l3_router/vrouter/plugging_drivers/n1kv_trunking_driver.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/__init__.py', 'neutron/services/l3_router/vrouter/plugging_drivers/n1kv_plugging_constants.py', 'neutron/services/l3_router/vrouter/rpc/hosting_device_rpc_agent_api.py']",58,9faf79f2235369a2e9492e47d1dd58e5416ecada,bp/l3-plugin-for-routervm,"# Copyright 2014 Intel Corporation. # Copyright 2014 Isaku Yamahata <isaku.yamahata at intel com> # <isaku.yamahata at gmail com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # @author: Isaku Yamahata, Intel Cooperation from neutron.common import rpc from neutron.common import topics from neutron.openstack.common import log as logging LOG = logging.getLogger(__name__) class HostingDeviceAgentNotifyAPI(rpc.RpcProxy): BASE_RPC_API_VERSION = '1.0' def __init__(self, topic=topics.CFG_AGENT): super(HostingDeviceAgentNotifyAPI, self).__init__( topic=topic, default_version=self.BASE_RPC_API_VERSION) def _host_notification(self, context, method, payload, host): """"""Notify the cfg agent that is handling the hosting device."""""" LOG.debug('Notify Cisco cfg agent at %(host)s the message ' '%(method)s', {'host': host, 'method': method}) self.cast(context, self.make_msg(method, payload=payload), topic='%s.%s' % (self.topic, host)) def hosting_devices_removed(self, context, hosting_data, deconfigure, host): """"""Notify cfg agent that some hosting devices have been removed. This notification informs the cfg agent in <host> that the hosting devices in the <hosting_data> dictionary have been removed from the hosting device pool. The <hosting_data> dictionary also contains the ids of the affected logical resources for each hosting devices: {'hd_id1': {'routers': [id1, id2, ...], 'fw': [id1, ...], ...}, 'hd_id2': {'routers': [id3, id4, ...]}, 'fw': [id1, ...], ...}, ...} The <deconfigure> argument is True if any configurations for the logical resources should be removed from the hosting devices """""" if hosting_data: self._host_notification(context, 'hosting_devices_removed', {'hosting_data': hosting_data, 'deconfigure': deconfigure}, host) ",,7875,55
openstack%2Fneutron~master~Icb2cff6e089c509fdb7c6ec1c5e1d3e68d4becdb,openstack/neutron,master,Icb2cff6e089c509fdb7c6ec1c5e1d3e68d4becdb,l3 router: implements reference routervm(WIP),ABANDONED,2014-11-17 16:18:32.000000000,2015-01-26 15:11:40.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-17 16:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69309ad77702d2f021cff8b2c359ecaa05b2f6c1', 'message': 'l3 router: implements reference routervm(WIP)\n\nThis patch implements reference routervm with guest agent for l3 routervm\nplugin(modular l3 router plugin).\nThis patch only implements reference routervm with config agent and guest agent\nTODO: config agent, guest agent and unit tests are missing\n\nChange-Id: Icb2cff6e089c509fdb7c6ec1c5e1d3e68d4becdb\nPartially-implements: blueprint l3-plugin-for-routervm\n'}, {'number': 2, 'created': '2014-11-18 13:15:52.000000000', 'files': ['neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/driver_mgr.py', 'neutron/services/l3_router/vrouter/agents/__init__.py', 'neutron/services/l3_router/vrouter/rpc/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_status.py', 'neutron/services/l3_router/vrouter/agents/guest/l3_guest_agent.py', 'neutron/services/l3_router/vrouter/common/nova_lib.py', 'neutron/services/l3_router/vrouter/agents/guest/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/devicedriver_api.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/__init__.py', 'neutron/tests/unit/services/l3_router/routervm/test_l3_router_appliance_plugin.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/__init__.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/guest_agent_device_driver.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/guest_agent_driver.py', 'neutron/services/l3_router/vrouter/mgmt_network.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/cfg_agent.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/driver_guest_agent_rpc.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/routing_driver.py', 'neutron/tests/unit/services/l3_router/routervm/device_handling_test_support.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/cfg_exceptions.py', 'neutron/services/l3_router/vrouter/rpc/agentnotifiers/l3_vrouter_rpc_cfgagent_api.py', 'neutron/services/l3_router/vrouter/plugging_drivers/guest_agent_plugging_driver.py', 'neutron/tests/unit/services/l3_router/routervm/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/service_driver_base.py', 'setup.cfg', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/__init__.py', 'neutron/services/l3_router/vrouter/rpc/handlers/l3_vrouter_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/574d11bdb3514a280c520882a2efc6588b934cbe', 'message': 'l3 router: implements reference routervm(WIP)\n\nThis patch implements reference routervm with guest agent for l3 routervm\nplugin(modular l3 router plugin).\nThis patch only implements reference routervm with config agent and guest agent\nTODO: config agent, guest agent and unit tests are missing\n\nChange-Id: Icb2cff6e089c509fdb7c6ec1c5e1d3e68d4becdb\nPartially-implements: blueprint l3-plugin-for-routervm\n'}]",0,134998,574d11bdb3514a280c520882a2efc6588b934cbe,35,17,2,333,,,0,"l3 router: implements reference routervm(WIP)

This patch implements reference routervm with guest agent for l3 routervm
plugin(modular l3 router plugin).
This patch only implements reference routervm with config agent and guest agent
TODO: config agent, guest agent and unit tests are missing

Change-Id: Icb2cff6e089c509fdb7c6ec1c5e1d3e68d4becdb
Partially-implements: blueprint l3-plugin-for-routervm
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/134998/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/driver_mgr.py', 'neutron/services/l3_router/vrouter/agents/__init__.py', 'neutron/services/l3_router/vrouter/rpc/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_status.py', 'neutron/services/l3_router/vrouter/agents/guest/l3_guest_agent.py', 'neutron/services/l3_router/vrouter/common/nova_lib.py', 'neutron/services/l3_router/vrouter/agents/guest/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/devicedriver_api.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/__init__.py', 'neutron/tests/unit/services/l3_router/routervm/test_l3_router_appliance_plugin.py', 'neutron/services/l3_router/vrouter/common/stevedoreutils.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/__init__.py', 'neutron/services/l3_router/vrouter/hosting_device_drivers/guest_agent_device_driver.py', 'neutron/services/l3_router/vrouter/vrouter_drivers/guest_agent_driver.py', 'neutron/services/l3_router/vrouter/mgmt_network.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/cfg_agent.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/driver_guest_agent_rpc.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/routing_driver.py', 'neutron/tests/unit/services/l3_router/routervm/device_handling_test_support.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/device_drivers/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/cfg_exceptions.py', 'neutron/services/l3_router/vrouter/rpc/agentnotifiers/l3_vrouter_rpc_cfgagent_api.py', 'neutron/services/l3_router/vrouter/plugging_drivers/guest_agent_plugging_driver.py', 'neutron/tests/unit/services/l3_router/routervm/__init__.py', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/service_driver_base.py', 'setup.cfg', 'neutron/services/l3_router/vrouter/agents/cfg_agent/service_drivers/__init__.py', 'neutron/services/l3_router/vrouter/rpc/handlers/l3_vrouter_rpc.py']",28,69309ad77702d2f021cff8b2c359ecaa05b2f6c1,bp/l3-plugin-for-routervm,"# Copyright 2014 Cisco Systems, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from neutron.api.rpc.handlers import l3_rpc class L3VRouterRpcCallback(l3_rpc.L3RpcCallback): """"""Mixin for cfg agent rpc support in L3 routing service plugin."""""" def __init__(self, l3plugin=None): super(L3VRouterRpcCallback, self).__init__() if l3plugin is not None: self._l3plugin = l3plugin ",,3374,1
openstack%2Fneutron~master~I7b3afa2b9e9017367ac41e5a4a55fd282173526c,openstack/neutron,master,I7b3afa2b9e9017367ac41e5a4a55fd282173526c,l3_db.py: factor out port creation/deletion/update logic for router vm,ABANDONED,2014-09-29 09:35:41.000000000,2015-01-26 15:11:38.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 2888}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7148}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10182}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11114}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 13380}]","[{'number': 1, 'created': '2014-09-29 09:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1788f672501111ee8f4f63d55b1592880472f2de', 'message': 'neutron/db/l3_db.py: refactor port creation/deleteion/update for routervm\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 2, 'created': '2014-09-30 10:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/381df7c2c2d1a4c4d6ba74f77fe661e95028aa40', 'message': 'l3_db.py: refactor port creation/deleteion/update for routervm\n\nThis patch allows routervm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 3, 'created': '2014-10-01 03:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a1f05c5aa01460c306651d2240d46f8dbbd6fad', 'message': 'l3_db.py: refactor port creation/deleteion/update for routervm\n\nThis patch allows routervm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 4, 'created': '2014-10-07 07:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26769ea40dd15974dbd47426bd87bfebd523178b', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for routervm\n\nThis patch allows routervm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 5, 'created': '2014-10-10 03:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12fccfeac168c793bf4d0cbf8eb63debfa860a9b', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 6, 'created': '2014-10-17 05:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c0f58496b691e1c11f2e8d1a1e1657155c10541', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 7, 'created': '2014-10-23 06:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8abe7f483dc364927cdb3d575ddc19d4dfae97b5', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 8, 'created': '2014-10-27 05:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc0961ebfb903ad9c2988e843fc116635a052c33', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 9, 'created': '2014-10-27 06:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbeb349434fab6a3ba730a45cb293bacde968d11', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 10, 'created': '2014-10-27 07:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7230b0c9c62cc61411f04d22b951845dd3a83fdf', 'message': 'l3_db.py: factor out port creation/deleteion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\n'}, {'number': 11, 'created': '2014-10-28 07:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c175d00b69a35d21ff49d60d1aacc6e0361128ba', 'message': ""l3_db.py: factor out port creation/deletion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\nWhen router functionality is realized by vm, neutron router ports (gateway\nor interface port) are basically connected to vm as vNIC. (the details depend\non its realization)\nExample: when a router is deleted, the vm still alive and the port is still\nconnected. The actual port deletion needs to be deferred until VM deletion.\nAnother example: suppose the vm doesn't support hot-plug, and vm is booted\nwith ports attached. When router port is attached/detached, those pre-created\nport will be used/returned.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\nBlueprint: l3-plugin-for-routervm\n""}, {'number': 12, 'created': '2014-10-28 14:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2e2d1eb9e79aa020d41d60e101f8dca7b6faf90', 'message': ""l3_db.py: factor out port creation/deletion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\nWhen router functionality is realized by vm, neutron router ports (gateway\nor interface port) are basically connected to vm as vNIC. (the details depend\non its realization)\nExample: when a router is deleted, the vm still alive and the port is still\nconnected. The actual port deletion needs to be deferred until VM deletion.\nAnother example: suppose the vm doesn't support hot-plug, and vm is booted\nwith ports attached. When router port is attached/detached, those pre-created\nport will be used/returned.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\nBlueprint: l3-plugin-for-routervm\n""}, {'number': 13, 'created': '2014-10-29 07:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/045dfd55812f8140b4bdd056b037e6e03c2dd41c', 'message': ""l3_db.py: factor out port creation/deletion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\nWhen router functionality is realized by vm, neutron router ports (gateway\nor interface port) are basically connected to vm as vNIC. (the details depend\non its realization)\nExample: when a router is deleted, the vm still alive and the port is still\nconnected. The actual port deletion needs to be deferred until VM deletion.\nAnother example: suppose the vm doesn't support hot-plug, and vm is booted\nwith ports attached. When router port is attached/detached, those pre-created\nport will be used/returned.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\nBlueprint: l3-plugin-for-routervm\n""}, {'number': 14, 'created': '2014-11-17 05:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15bf8913c9f8ecc130f6aa85f029ffde351900df', 'message': ""l3_db.py: factor out port creation/deletion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\nWhen router functionality is realized by vm, neutron router ports (gateway\nor interface port) are basically connected to vm as vNIC. (the details depend\non its realization)\nExample: when a router is deleted, the vm still alive and the port is still\nconnected. The actual port deletion needs to be deferred until VM deletion.\nAnother example: suppose the vm doesn't support hot-plug, and vm is booted\nwith ports attached. When router port is attached/detached, those pre-created\nport will be used/returned.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\nBlueprint: l3-plugin-for-routervm\n""}, {'number': 15, 'created': '2014-11-17 16:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a4c14070e6c1c72c2119e0d731426fa7d3e27f0', 'message': ""l3_db: factor out port create/delete/update logic for routervm\n\nThis patch allows router-vm plugin to override router port\ncreation/deletion.  When router functionality is realized by vm,\nneutron router ports (gateway or interface port) are basically\nconnected to vm as vNIC. (the details depend on its realization)\nExample: when a router is deleted, the vm still alive and the port is\nstill connected. The actual port deletion needs to be deferred until\nVM deletion.  Another example: suppose the vm doesn't support\nhot-plug, and vm is booted with ports attached. When router port is\nattached/detached, those pre-created port will be used/returned.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\nBlueprint: l3-plugin-for-routervm\n""}, {'number': 16, 'created': '2014-11-18 10:14:28.000000000', 'files': ['neutron/tests/unit/test_l3_port_driver.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/opencontrail/test_contrail_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee76412f4858820338190a6748cae112a2a34683', 'message': ""l3_db.py: factor out port creation/deletion/update logic for router vm\n\nThis patch allows router-vm plugin to override router port creation/deletion.\nWhen router functionality is realized by vm, neutron router ports (gateway\nor interface port) are basically connected to vm as vNIC. (the details depend\non its realization)\nExample: when a router is deleted, the vm still alive and the port is still\nconnected. The actual port deletion needs to be deferred until VM deletion.\nAnother example: suppose the vm doesn't support hot-plug, and vm is booted\nwith ports attached. When router port is attached/detached, those pre-created\nport will be used/returned.\n\nChange-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c\nBlueprint: l3-plugin-for-routervm\n""}]",56,124699,ee76412f4858820338190a6748cae112a2a34683,410,36,16,333,,,0,"l3_db.py: factor out port creation/deletion/update logic for router vm

This patch allows router-vm plugin to override router port creation/deletion.
When router functionality is realized by vm, neutron router ports (gateway
or interface port) are basically connected to vm as vNIC. (the details depend
on its realization)
Example: when a router is deleted, the vm still alive and the port is still
connected. The actual port deletion needs to be deferred until VM deletion.
Another example: suppose the vm doesn't support hot-plug, and vm is booted
with ports attached. When router port is attached/detached, those pre-created
port will be used/returned.

Change-Id: I7b3afa2b9e9017367ac41e5a4a55fd282173526c
Blueprint: l3-plugin-for-routervm
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/124699/16 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,1788f672501111ee8f4f63d55b1592880472f2de,bp/l3-plugin-for-routervm,"import abc import six @six.add_metaclass(abc.ABCMeta) class L3PortDriverBase(object): @abc.abstractmethod def create_gw_port(self, context, router_id, network_id): pass @abc.abstractmethod def _delete_gw_port(self, context, router_id, port_id): pass @abc.abstractmethod def delete_gw_port(self, context, router_id, port_id): pass @abc.abstractmethod def create_port(self, context, router_id, subnet, owner): pass @abc.abstractmethod def update_port(self, context, port_db, router_id, owner): pass @abc.abstractmethod def delete_port(self, context, router_id, port_id): pass class L3PortDriverDefault(L3PortDriverBase): _instance = None @classmethod def get_instance(cls): if cls._instance is None: cls._instance = cls() return cls._instance @property def _core_plugin(self): return manager.NeutronManager.get_plugin() def create_gw_port(self, context, router_id, network_id): return self._core_plugin.create_port(context.elevated(), { 'port': {'tenant_id': '', # intentionally not set 'network_id': network_id, 'mac_address': attributes.ATTR_NOT_SPECIFIED, 'fixed_ips': attributes.ATTR_NOT_SPECIFIED, 'device_id': router_id, 'device_owner': DEVICE_OWNER_ROUTER_GW, 'admin_state_up': True, 'name': ''}}) def _delete_gw_port(self, context, router_id, port_id): self._core_plugin._delete_port(context.elevated(), port_id) def delete_gw_port(self, context, router_id, port_id): self._core_plugin.delete_port(context.elevated(), port_id, l3_port_check=False) def create_port(self, context, router_id, subnet, owner): fixed_ip = {'ip_address': subnet['gateway_ip'], 'subnet_id': subnet['id']} return self._core_plugin.create_port(context, { 'port': {'tenant_id': subnet['tenant_id'], 'network_id': subnet['network_id'], 'fixed_ips': [fixed_ip], 'mac_address': attributes.ATTR_NOT_SPECIFIED, 'admin_state_up': True, 'device_id': router_id, 'device_owner': owner, 'name': ''}}) def update_port(self, context, port_db, router_id, owner): port_db.update({'device_id': router_id, 'device_owner': owner}) def delete_port(self, context, router_id, port_id): self._core_plugin.delete_port(context, port_id, l3_port_check=False) def _port_driver(self, router_id): return L3PortDriverDefault.get_instance() router_id = router['id'] port_driver = self._port_driver(router_id) gw_port = port_driver.create_gw_port(context, router_id, network_id) gw_port_id = gw_port['id'] if not gw_port['fixed_ips']: port_driver.delete_gw_port(context, router_id, gw_port_id) gw_port_id) self._port_driver(router_id).delete_gw_port( context, router_id, gw_port_id) self._port_driver(id)._delete_gw_port( context, id, ports[0]['id']) self._port_driver(router_id).update_port( context, port, router_id, owner) return self._port_driver(router_id).create_port( context, router_id, subnet, owner) self._port_driver(router_id).delete_port( context, router_id, port_db['id']) self._port_driver(router_id).delete_port( context, router_id, p['id'])"," gw_port = self._core_plugin.create_port(context.elevated(), { 'port': {'tenant_id': '', # intentionally not set 'network_id': network_id, 'mac_address': attributes.ATTR_NOT_SPECIFIED, 'fixed_ips': attributes.ATTR_NOT_SPECIFIED, 'device_id': router['id'], 'device_owner': DEVICE_OWNER_ROUTER_GW, 'admin_state_up': True, 'name': ''}}) if not gw_port['fixed_ips']: self._core_plugin.delete_port(context.elevated(), gw_port['id'], l3_port_check=False) gw_port['id']) self._core_plugin.delete_port( admin_ctx, gw_port_id, l3_port_check=False) self._core_plugin._delete_port(context.elevated(), ports[0]['id']) port.update({'device_id': router_id, 'device_owner': owner}) fixed_ip = {'ip_address': subnet['gateway_ip'], 'subnet_id': subnet['id']} return self._core_plugin.create_port(context, { 'port': {'tenant_id': subnet['tenant_id'], 'network_id': subnet['network_id'], 'fixed_ips': [fixed_ip], 'mac_address': attributes.ATTR_NOT_SPECIFIED, 'admin_state_up': True, 'device_id': router_id, 'device_owner': owner, 'name': ''}}) self._core_plugin.delete_port(context, port_db['id'], l3_port_check=False) self._core_plugin.delete_port(context, p['id'], l3_port_check=False)",103,34
openstack%2Fneutron~master~Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d,openstack/neutron,master,Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d,Validate local_ip when ovs-agent starts,ABANDONED,2014-02-28 08:20:27.000000000,2015-01-26 15:11:37.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2323}, {'_account_id': 2592}, {'_account_id': 2711}, {'_account_id': 2733}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6598}, {'_account_id': 6670}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7141}, {'_account_id': 7183}, {'_account_id': 7805}, {'_account_id': 7909}, {'_account_id': 8655}, {'_account_id': 9044}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}]","[{'number': 1, 'created': '2014-02-28 08:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70347c149580c7bad9c2f9f38601a719c46524a7', 'message': 'Validate local_ip when ovs-agent starts\n\nlocal_ip gets validated when ovs-agent starts with netaddr.valid_ipv6()\nand netaddr.valid_ipv4(). If none of them match ovs-agent fails.\n\nThis prevents that invalid tunnel endpoints get synced via RPC\ninside the database. Which then needs to be removed manually from\nthe database. Since the sync is unidirectional.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 2, 'created': '2014-02-28 09:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc68a3773e7c4e25c6f432aa4b3d611d7e7b9e5a', 'message': 'Validate local_ip when ovs-agent starts\n\nlocal_ip gets validated when ovs-agent starts with netaddr.valid_ipv6()\nand netaddr.valid_ipv4(). If none of them match ovs-agent fails.\n\nThis prevents that invalid tunnel endpoints get synced via RPC\ninside the database. Which then needs to be removed manually from\nthe database. Since the sync is unidirectional.\n\nAlso the local_ip verify check got moved out of the tunnel_types loop\nto verify only once the local_ip.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 3, 'created': '2014-02-28 11:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8d44a1ac1a2363497ae78259c34b3adc7da56d9', 'message': 'Validate local_ip when ovs-agent starts\n\nlocal_ip gets validated when ovs-agent starts with netaddr.valid_ipv6()\nand netaddr.valid_ipv4(). If none of them match ovs-agent fails.\n\nThis prevents that invalid tunnel endpoints get synced via RPC\ninside the database. Which then needs to be removed manually from\nthe database. Since the sync is unidirectional.\n\nAlso the local_ip verify check got moved out of the tunnel_types loop\nto verify only once the local_ip.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 4, 'created': '2014-02-28 14:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7895bf9093d276482793219070f5a31680a941ab', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 5, 'created': '2014-02-28 15:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/741054b16b8ca87247ed026006ffd382672b0d88', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 6, 'created': '2014-03-02 20:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f1e82a597a964296417713bd5a6efd00d1f8d65', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 7, 'created': '2014-03-03 09:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c11aa6e9621e16bdd457f34b466bb9ea37b804af', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 8, 'created': '2014-03-24 09:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43deee58571030e06e5a348379b4e8653501bc59', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 9, 'created': '2014-03-24 11:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2618f5e7d55c69716a71507357ba0c8350af8917', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 10, 'created': '2014-03-25 23:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1b3c809ec7d74f7ed500049a56d98508e403774', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 11, 'created': '2014-04-09 09:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8585a2607a60ccc0d2163fd988e66d52399c50eb', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}, {'number': 12, 'created': '2014-04-09 13:27:03.000000000', 'files': ['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3beec2324d1f2031ec6c32c829e269c8cb5e82db', 'message': 'Validate local_ip when ovs-agent starts\n\nThis prevents invalid tunnel endpoints being written to the database where they\ncan then only be removed manually.\n\nChange-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d\nCloses-Bug: 1284684\n'}]",38,77100,3beec2324d1f2031ec6c32c829e269c8cb5e82db,225,33,12,7909,,,0,"Validate local_ip when ovs-agent starts

This prevents invalid tunnel endpoints being written to the database where they
can then only be removed manually.

Change-Id: Ifc376ba8a43ca4cc4881a4563b578c8eb8aade6d
Closes-Bug: 1284684
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/77100/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",2,70347c149580c7bad9c2f9f38601a719c46524a7,bug/1284684,"import netaddr if not netaddr.valid_ipv4(kwargs['local_ip']) \ and not netaddr.valid_ipv6(kwargs['local_ip']): msg = _('Tunneling requires a valid IPv4/IPv6 local_ip. Invalid ' 'IPv4/IPv6 address: %s'), kwargs['local_ip'] raise ValueError(msg)",,14,0
openstack%2Fneutron~master~I5ea6c5a06989779ba867f2f56e5abb66e3679d9d,openstack/neutron,master,I5ea6c5a06989779ba867f2f56e5abb66e3679d9d,"Add resync flag instead of clearing registerd ""ports""",ABANDONED,2014-09-22 08:13:51.000000000,2015-01-26 15:11:36.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6502}, {'_account_id': 6659}, {'_account_id': 7249}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-09-22 08:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7e09fe5394b40398baf4073cd5026676b416f21', 'message': 'Add resync flag instead of clearing registerd ""ports""\n\nIn OVS Agent rpc_loop() resync mechanism clears the registered\nports and rescans them again, and it might result in missing some\n""port removed"" event and treat_device_remove() will not be called.\nThis fix adds resync flag instead of clears the current\nregistered ports.\n\nChange-Id: I5ea6c5a06989779ba867f2f56e5abb66e3679d9d\nCloses-Bug: #1329223\n'}, {'number': 2, 'created': '2014-09-22 11:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ccb812c621acab6e858865442546362307a6c2a', 'message': 'Add resync flag instead of clearing registerd ""ports""\n\nIn OVS Agent rpc_loop() resync mechanism clears the registered\nports and rescans them again, and it might result in missing some\n""port removed"" event and treat_device_remove() will not be called.\nThis fix adds resync flag instead of clears the current\nregistered ports.\n\nChange-Id: I5ea6c5a06989779ba867f2f56e5abb66e3679d9d\nCloses-Bug: #1329223\n'}, {'number': 3, 'created': '2014-09-23 09:39:07.000000000', 'files': ['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/openvswitch/test_ovs_tunnel.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/10492f350c5dab68040871f074455531227bf64d', 'message': 'Add resync flag instead of clearing registerd ""ports""\n\nIn OVS Agent rpc_loop() resync mechanism clears the registered\nports and rescans them again, and it might result in missing some\n""port removed"" event and treat_device_remove() will not be called.\nThis fix adds resync flag instead of the clearing the current\nregistered ports.\n\nChange-Id: I5ea6c5a06989779ba867f2f56e5abb66e3679d9d\nCloses-Bug: #1329223\n'}]",7,123069,10492f350c5dab68040871f074455531227bf64d,61,24,3,6502,,,0,"Add resync flag instead of clearing registerd ""ports""

In OVS Agent rpc_loop() resync mechanism clears the registered
ports and rescans them again, and it might result in missing some
""port removed"" event and treat_device_remove() will not be called.
This fix adds resync flag instead of the clearing the current
registered ports.

Change-Id: I5ea6c5a06989779ba867f2f56e5abb66e3679d9d
Closes-Bug: #1329223
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/123069/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",2,c7e09fe5394b40398baf4073cd5026676b416f21,bug/1329223," def scan_ports(self, registered_ports, updated_ports=None, sync=False): if not sync and cur_ports == registered_ports: if sync: port_info['added'] = cur_ports else: port_info['added'] = cur_ports - registered_ports def scan_ancillary_ports(self, registered_ports, sync=False): cur_ports = set() for bridge in self.ancillary_brs: cur_ports |= bridge.get_vif_port_set() port_info = {'current': cur_ports} # FIXME(salv-orlando): It's not really necessary to return early # if nothing has changed. if not sync and cur_ports == registered_ports: # No added or removed ports to set, just return here return port_info if sync: port_info['added'] = cur_ports else: port_info['added'] = cur_ports - registered_ports # Remove all the known ports not found on the integration bridge port_info['removed'] = registered_ports - cur_ports return port_info resync = False port_info = self.scan_ports(reg_ports, updated_ports_copy, sync) resync |= self.process_network_ports(port_info, ovs_restarted) port_info = self.scan_ancillary_ports( ancillary_ports, sync) resync |= self.process_ancillary_network_ports( resync = True sync = resync resync = False"," def scan_ports(self, registered_ports, updated_ports=None): if cur_ports == registered_ports: port_info['added'] = cur_ports - registered_ports def update_ancillary_ports(self, registered_ports): ports = set() for bridge in self.ancillary_brs: ports |= bridge.get_vif_port_set() if ports == registered_ports: return added = ports - registered_ports removed = registered_ports - ports return {'current': ports, 'added': added, 'removed': removed} ports.clear() ancillary_ports.clear() sync = False port_info = self.scan_ports(reg_ports, updated_ports_copy) sync = self.process_network_ports(port_info, ovs_restarted) port_info = self.update_ancillary_ports( ancillary_ports) rc = self.process_ancillary_network_ports( sync = sync | rc sync = True ",47,28
openstack%2Fneutron~master~If1e6559d2e92572608e050bb0ff7f2063ba8573c,openstack/neutron,master,If1e6559d2e92572608e050bb0ff7f2063ba8573c,Brocade mech driver will now allow comma separated physnets,ABANDONED,2014-10-02 22:33:02.000000000,2015-01-26 15:11:35.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5217}, {'_account_id': 6502}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-02 22:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/959a3907970c9e472033407164cedbde5a711b74', 'message': 'Brocade mech driver will now allow comma separated physnets\n\nCloses bug: #1376930\n\nChange-Id: If1e6559d2e92572608e050bb0ff7f2063ba8573c\n'}, {'number': 2, 'created': '2014-10-14 22:41:30.000000000', 'files': ['neutron/tests/unit/ml2/drivers/brocade/test_brocade_mechanism_driver.py', 'neutron/plugins/ml2/drivers/brocade/mechanism_brocade.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07a003a05e5c1190ae17d14492c65d67fb7d256f', 'message': 'Brocade mech driver will now allow comma separated physnets\n\nCloses bug: #1376930\n\nChange-Id: If1e6559d2e92572608e050bb0ff7f2063ba8573c\n'}]",2,125810,07a003a05e5c1190ae17d14492c65d67fb7d256f,58,29,2,5217,,,0,"Brocade mech driver will now allow comma separated physnets

Closes bug: #1376930

Change-Id: If1e6559d2e92572608e050bb0ff7f2063ba8573c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/125810/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/brocade/mechanism_brocade.py'],1,959a3907970c9e472033407164cedbde5a711b74,bug/1376930," phys_nets = cfg.CONF.ml2_brocade.physical_networks self._physical_networks = phys_nets.split(',')", self._physical_networks = cfg.CONF.ml2_brocade.physical_networks,2,1
openstack%2Fneutron~master~I3e0b792bd5a109b89f77a3d4546d16ea9465f01b,openstack/neutron,master,I3e0b792bd5a109b89f77a3d4546d16ea9465f01b,Return a 404 on quota delete if entry not found,ABANDONED,2014-05-08 08:16:05.000000000,2015-01-26 15:11:34.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6659}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-05-08 08:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb7807094b6673565ae488707f8224a45f0d1546', 'message': 'Return a 404 on quota delete if entry not found\n\nIf a tenant quota is not found, the delete operation should fail\nwith a 404 error. It currently returns 204 even if the delete\noperation actually does not delete anything.\nThis is for consistency with other delete operations in the\nNeutron API.\n\nChange-Id: I3e0b792bd5a109b89f77a3d4546d16ea9465f01b\nCloses-Bug: 1307506\n'}, {'number': 2, 'created': '2014-05-08 14:10:23.000000000', 'files': ['neutron/tests/unit/test_quota_ext.py', 'neutron/db/quota_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/58a6b55ae8bde2b2816d2874aa9e2ca80400041d', 'message': 'Return a 404 on quota delete if entry not found\n\nIf a tenant quota is not found, the delete operation should fail\nwith a 404 error. It currently returns 204 even if the delete\noperation actually does not delete anything.\nThis is for consistency with other delete operations in the\nNeutron API.\n\nCloses-Bug: 1307506\n\nChange-Id: I3e0b792bd5a109b89f77a3d4546d16ea9465f01b\n'}]",0,92790,58a6b55ae8bde2b2816d2874aa9e2ca80400041d,65,21,2,261,,,0,"Return a 404 on quota delete if entry not found

If a tenant quota is not found, the delete operation should fail
with a 404 error. It currently returns 204 even if the delete
operation actually does not delete anything.
This is for consistency with other delete operations in the
Neutron API.

Closes-Bug: 1307506

Change-Id: I3e0b792bd5a109b89f77a3d4546d16ea9465f01b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/92790/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_quota_ext.py', 'neutron/db/quota_db.py']",2,cb7807094b6673565ae488707f8224a45f0d1546,bug/1307506,"class TenantQuotaNotFound(exceptions.NotFound): message = _(""Quota for tenant %(tenant_id)s could not be found"") Raise a not found error if the quota for the given tenant was never defined. if not tenant_quotas.delete(): # No record deleted means the quota was not found raise TenantQuotaNotFound(tenant_id=tenant_id)", tenant_quotas.delete(),21,1
openstack%2Fneutron~master~I9a46b8c980545ff8d045edda7bec0e12c18e9355,openstack/neutron,master,I9a46b8c980545ff8d045edda7bec0e12c18e9355,Add neutron guru meditation reports triggers,ABANDONED,2014-09-04 09:15:06.000000000,2015-01-26 15:11:33.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6854}, {'_account_id': 7170}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8788}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10624}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-09-04 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/977489ac306f4b15369e3663db3e2a0078131b46', 'message': 'Implement neutron guru meditation reports\n\nChange-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355\n'}, {'number': 2, 'created': '2014-10-29 09:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4eedde20116028ded64eec04dc90d39c86818a09', 'message': 'Add neutron guru meditation reports triggers\n\nWIP: unit-tests\n\nimplements bp guru-meditation-report\nChange-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355\n'}, {'number': 3, 'created': '2014-11-18 11:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aaad39a3cc236c27aa0c5fab8ddac1f78b9215b6', 'message': 'Add neutron guru meditation reports triggers\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: guru-meditation-report\nChange-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355\n'}, {'number': 4, 'created': '2014-11-26 09:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df273745ed8a4c85d8b894d7ce95a609622654fc', 'message': 'Add neutron guru meditation reports triggers\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: blueprint guru-meditation-report\nChange-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355\n'}, {'number': 5, 'created': '2014-11-26 13:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28b49cc5c7b3081ff5fc73a93a73839ad597e0df', 'message': 'Add neutron guru meditation reports triggers\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: blueprint guru-meditation-report\nChange-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355\n'}, {'number': 6, 'created': '2014-12-04 12:16:31.000000000', 'files': ['neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/agent/metadata/namespace_proxy.py', 'neutron/agent/l3_agent.py', 'neutron/plugins/cisco/cfg_agent/cfg_agent.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py', 'neutron/plugins/ofagent/agent/main.py', 'neutron/plugins/sriovnicagent/sriov_nic_agent.py', 'neutron/server/__init__.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/version.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py', 'neutron/services/loadbalancer/agent/agent.py', 'neutron/plugins/nec/agent/nec_neutron_agent.py', 'neutron/agent/dhcp_agent.py', 'neutron/agent/metadata/agent.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/test_guru_meditation_reports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e31b0ae56db50304b63691c16e531f1977daecd', 'message': 'Add neutron guru meditation reports triggers\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: blueprint guru-meditation-report\nChange-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355\n'}]",15,119008,0e31b0ae56db50304b63691c16e531f1977daecd,132,33,6,7170,,,0,"Add neutron guru meditation reports triggers

GMR can aid in debugging neutron by providing lots of detail about a
running process, including configuration, native thread stack trace and
greenlet stack traces.

Implements: blueprint guru-meditation-report
Change-Id: I9a46b8c980545ff8d045edda7bec0e12c18e9355
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/119008/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/openstack/common/report/generators/threading.py', 'neutron/openstack/common/report/views/text/header.py', 'neutron/agent/metadata/namespace_proxy.py', 'neutron/agent/l3_agent.py', 'neutron/server/__init__.py', 'neutron/openstack/common/report/views/xml/__init__.py', 'neutron/agent/linux/dhcp.py', 'neutron/version.py', 'neutron/openstack/common/report/models/version.py', 'neutron/openstack/common/report/views/json/__init__.py', 'neutron/agent/dhcp_agent.py', 'neutron/openstack/common/report/guru_meditation_report.py', 'neutron/openstack/common/report/models/__init__.py', 'neutron/openstack/common/report/generators/conf.py', 'neutron/openstack/common/report/views/jinja_view.py', 'neutron/openstack/common/report/generators/version.py', 'neutron/openstack/common/report/models/threading.py', 'neutron/openstack/common/report/views/__init__.py', 'neutron/openstack/common/report/models/conf.py', 'neutron/openstack/common/report/views/json/generic.py', 'neutron/openstack/common/report/views/xml/generic.py', 'neutron/openstack/common/report/views/text/generic.py', 'neutron/openstack/common/report/generators/__init__.py', 'neutron/openstack/common/report/utils.py', 'neutron/openstack/common/report/__init__.py', 'neutron/openstack/common/report/views/text/threading.py', 'neutron/openstack/common/report/models/base.py', 'neutron/agent/metadata/agent.py', 'neutron/openstack/common/report/report.py', 'neutron/openstack/common/report/models/with_default_views.py', 'neutron/openstack/common/report/views/text/__init__.py']",31,977489ac306f4b15369e3663db3e2a0078131b46,bp/guru-meditation-report,"# Copyright 2013 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Provides basic text views This module provides several basic views which serialize models into human-readable text. """""" ",,1808,1
openstack%2Fneutron~master~I543c6180be4630a57f0dd20c2bd9539fed29b354,openstack/neutron,master,I543c6180be4630a57f0dd20c2bd9539fed29b354,Fix performance of get_bridge_for_tap_interface,ABANDONED,2014-08-12 09:20:49.000000000,2015-01-26 15:11:31.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 2592}, {'_account_id': 3217}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 7805}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12697}, {'_account_id': 12737}, {'_account_id': 12860}, {'_account_id': 12909}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-08-12 09:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eefad7bf29ae8d9eae284a2ae6b3e8df35c5d17d', 'message': ""Fix performance of get_bridge_for_tap_interface and its use\n\nUses the 'bridge' symlink of the brport structure under the tap interface's /sys entry.\n\nDrops calling interface_exists_on_bridge and is_device_on_bridge in ensure_bridge\nto avoid triple-checking the bridge association.\n\nThe methods interface_exists_on_bridge and get_all_neutron_bridges\nare not called within the class anymore, hence are dropped from the class.\n\nTests for get_bridge_for_tap_interface and ensure_bridge are updated accordingly.\nTests for dropped methods are dropped as well.\n\nCloses-Bug: 1355153\n\nChange-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354\n""}, {'number': 2, 'created': '2014-08-12 09:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b22c6d7c63916c9aca42fd78f6b70ac7aa31303', 'message': ""Fix performance of get_bridge_for_tap_interface\n\nUses the 'bridge' symlink of the brport structure under the tap\ninterface's /sys entry.\n\nDrops calling interface_exists_on_bridge and is_device_on_bridge\nin ensure_bridge to avoid triple-checking the bridge association.\n\nThe methods interface_exists_on_bridge and get_all_neutron_bridges are\nnot called within the class anymore, hence are dropped from the class.\n\nTests for get_bridge_for_tap_interface and ensure_bridge are updated.\nTests for dropped methods are dropped as well.\n\nCloses-Bug: 1355153\n\nChange-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354\n""}, {'number': 3, 'created': '2014-08-12 09:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c7b693d10dff00cb72efbfb812666f8785778a4', 'message': ""Fix performance of get_bridge_for_tap_interface\n\nUses the 'bridge' symlink of the brport structure under the tap\ninterface's /sys entry.\n\nDrops calling interface_exists_on_bridge and is_device_on_bridge\nin ensure_bridge to avoid triple-checking the bridge association.\n\nThe methods interface_exists_on_bridge and get_all_neutron_bridges are\nnot called within the class anymore, hence are dropped from the class.\n\nTests for get_bridge_for_tap_interface and ensure_bridge are updated.\nTests for dropped methods are dropped as well.\n\nCloses-Bug: 1355153\n\nChange-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354\n""}, {'number': 4, 'created': '2014-11-18 10:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30028807de1b5fe43c87e0459e6a37e87e8d1245', 'message': ""Fix performance of get_bridge_for_tap_interface\n\nUses the 'bridge' symlink of the brport structure under the tap\ninterface's /sys entry.\n\nDrops calling interface_exists_on_bridge and is_device_on_bridge\nin ensure_bridge to avoid triple-checking the bridge association.\n\nThe methods interface_exists_on_bridge and get_all_neutron_bridges are\nnot called within the class anymore, hence are dropped from the class.\n\nTests for get_bridge_for_tap_interface and ensure_bridge are updated.\nTests for dropped methods are dropped as well.\n\nCloses-Bug: 1355153\n\nChange-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354\n""}, {'number': 5, 'created': '2014-11-24 15:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7833fce436b3caa4596b23070c9fb870ef4ca0e4', 'message': ""Fix performance of get_bridge_for_tap_interface\n\nUses the 'bridge' symlink of the brport structure under the tap\ninterface's /sys entry.\n\nDrops calling interface_exists_on_bridge and is_device_on_bridge\nin ensure_bridge to avoid triple-checking the bridge association.\n\nThe methods interface_exists_on_bridge and get_all_neutron_bridges are\nnot called within the class anymore, hence are dropped from the class.\n\nTests for get_bridge_for_tap_interface and ensure_bridge are updated.\nTests for dropped methods are dropped as well.\n\nCloses-Bug: 1355153\n\nChange-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354\n""}, {'number': 6, 'created': '2014-12-04 16:48:18.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2a7fa75b45be740586a4799d6b9dbf768bfa822', 'message': ""Fix performance of get_bridge_for_tap_interface\n\nUses the 'bridge' symlink of the brport structure under the tap\ninterface's /sys/devices/virtual/<tap>/brport/bridge entry.\n\nThe method get_all_neutron_bridges is not needed anymore and dropped.\n\nTest for get_bridge_for_tap_interface is updated.\nTest for get_all_neutron_bridges is dropped.\n\nCloses-Bug: 1355153\n\nChange-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354\n""}]",7,113467,d2a7fa75b45be740586a4799d6b9dbf768bfa822,120,36,6,12697,,,0,"Fix performance of get_bridge_for_tap_interface

Uses the 'bridge' symlink of the brport structure under the tap
interface's /sys/devices/virtual/<tap>/brport/bridge entry.

The method get_all_neutron_bridges is not needed anymore and dropped.

Test for get_bridge_for_tap_interface is updated.
Test for get_all_neutron_bridges is dropped.

Closes-Bug: 1355153

Change-Id: I543c6180be4630a57f0dd20c2bd9539fed29b354
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/113467/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py']",2,eefad7bf29ae8d9eae284a2ae6b3e8df35c5d17d,bug/1355153," with mock.patch.object(os, ""readlink"") as readlink_fn: readlink_fn.return_value = ""/sys/devices/virtual/net/br-int"" readlink_fn.assert_called_with( ""/sys/devices/virtual/net/tap1/brport/bridge"" ) readlink_fn.side_effect = OSError() readlink_fn.assert_called_with( ""/sys/devices/virtual/net/tap4/brport/bridge"" ) ) as (de_fn, exec_fn, upd_fn, get_if_br_fn): get_if_br_fn.return_Value = None get_if_br_fn.assert_called_with(""eth0"") get_if_br_fn.assert_called_with(""eth0"") get_if_br_fn.assert_called_with(""eth0"")"," def test_interface_exists_on_bridge(self): with mock.patch.object(os, 'listdir') as listdir_fn: listdir_fn.return_value = [""abc""] self.assertTrue( self.lbm.interface_exists_on_bridge(""br-int"", ""abc"") ) self.assertFalse( self.lbm.interface_exists_on_bridge(""br-int"", ""abd"") ) def test_get_all_neutron_bridges(self): br_list = [""br-int"", ""brq1"", ""brq2"", ""br-ex""] with mock.patch.object(os, 'listdir') as listdir_fn: listdir_fn.return_value = br_list self.assertEqual(self.lbm.get_all_neutron_bridges(), br_list[1:3]) self.assertTrue(listdir_fn.called) with contextlib.nested( mock.patch.object(self.lbm, ""get_all_neutron_bridges""), mock.patch.object(self.lbm, ""get_interfaces_on_bridge"") ) as (get_all_qbr_fn, get_if_fn): get_all_qbr_fn.return_value = [""br-int"", ""br-ex""] get_if_fn.return_value = [""tap1"", ""tap2"", ""tap3""] mock.patch.object(self.lbm, 'interface_exists_on_bridge'), mock.patch.object(self.lbm, 'is_device_on_bridge'), ) as (de_fn, exec_fn, upd_fn, ie_fn, if_br_fn, get_if_br_fn): ie_fn.return_Value = False ie_fn.assert_called_with(""br0"", ""eth0"") ie_fn.assert_called_with(""br0"", ""eth0"") ie_fn.assert_called_with(""br0"", ""eth0"") ie_fn.return_value = False",24,57
openstack%2Fneutron~master~I13f6386f66305575262233703f6c616e7214f704,openstack/neutron,master,I13f6386f66305575262233703f6c616e7214f704,Ensure ovs created device not in any namespace,ABANDONED,2014-07-22 08:56:43.000000000,2015-01-26 15:11:30.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 4187}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6072}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7170}, {'_account_id': 7787}, {'_account_id': 7805}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9093}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11280}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-07-22 08:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2e0d619ee1b0454155e1e022adf7f64064b79b6', 'message': 'Ensure device is deleted first in _ovs_add_port\n\nIf the port device to be added is in a wrong or deleted namespace,\n`ovs-vsctl del-port ... -- add-port ...` won\'t re-create the device\nbecause ovs-vsctl performs ""a single atomic transaction against the\ndatabase"". The device will be left in an unexcepted namespace and\nall `ip` commands trying to operate it will fail.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, make sure the device is deleted first so the new device\ncreated won\'t belong to any namespace.\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\n'}, {'number': 2, 'created': '2014-07-22 10:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9eafb03c2b4084593dd12a27c0cb24c871c305d2', 'message': 'Ensure device is deleted first in _ovs_add_port\n\nIf the port device to be added is in a wrong or deleted namespace,\n`ovs-vsctl del-port ... -- add-port ...` won\'t re-create the device\nbecause ovs-vsctl performs ""a single atomic transaction against the\ndatabase"". The device will be left in an unexcepted namespace and\nall `ip` commands trying to operate it will fail.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, make sure the device is deleted first so the new device\ncreated won\'t belong to any namespace.\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\n'}, {'number': 3, 'created': '2014-07-22 11:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/220ff2235e557d1c6d813e2ecfba68c69facae95', 'message': 'Ensure ovs created device not in any namespace\n\novs can create device if the port has type=internal. Currently,\nwe use `ovs-vsctl -- del-port foo -- add-port foo -- set Interface\nfoo type=internal` to (re-)create an ovs managed device. And then\n`ip` is used to set mac address, mtu, namespace for the device.\n\nCurrent usage of `ip` commands require the created device to not\nbelong to any namespace. This cannot be guarnteed if the device\nis already in a wrong or a deleted namespace before the `ovs-vsctl`\ncommand. `ovs-vsctl` can delete devices managed by ovs even if the\ndevice is in a deleted namespace but it will ignore the delete\noperation if `del-port`, `add-port`, `set ... type=internal` are\nput together, in one command transaction.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, making del-port a single command transaction. Therefore,\novs will not ignore the delete operation and the new device\ncreated won\'t belong to any namespace. And following `ip` commands\nwon\'t complain about ""device not found"".\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\nCloses-bug: #1346861\n'}, {'number': 4, 'created': '2014-07-22 16:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6754de72cc806f43ce0ea93b650c1616a458b810', 'message': 'Ensure ovs created device not in any namespace\n\novs can create device if the port has type=internal. Currently,\nwe use `ovs-vsctl -- del-port foo -- add-port foo -- set Interface\nfoo type=internal` to (re-)create an ovs managed device. And then\n`ip` is used to set mac address, mtu, namespace for the device.\n\nCurrent usage of `ip` commands requires the created device to not\nbelong to any namespace. This cannot be guarnteed if the device\nis already in a wrong or deleted namespace before the `ovs-vsctl`\ncommand. `ovs-vsctl` can delete devices managed by ovs even if the\ndevice is in a deleted namespace but it will ignore the delete\noperation if `del-port`, `add-port`, `set ... type=internal` are\nput together, in one command transaction.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, making del-port a single command transaction. Therefore,\novs will not ignore the delete operation and the new device\ncreated won\'t belong to any namespace and following `ip` commands\nwon\'t complain about ""device not found"".\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\nCloses-bug: #1346861\n'}, {'number': 5, 'created': '2014-07-24 00:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e60b0c6addf8544bb11663f3ba10def8640802dd', 'message': 'Ensure ovs created device not in any namespace\n\novs can create device if the port has type=internal. Currently,\nwe use `ovs-vsctl -- del-port foo -- add-port foo -- set Interface\nfoo type=internal` to (re-)create an ovs managed device. And then\n`ip` is used to set mac address, mtu, namespace for the device.\n\nCurrent usage of `ip` commands requires the created device to not\nbelong to any namespace. This cannot be guarnteed if the device\nis already in a wrong or deleted namespace before the `ovs-vsctl`\ncommand. `ovs-vsctl` can delete devices managed by ovs even if the\ndevice is in a deleted namespace but it will ignore the delete\noperation if `del-port`, `add-port`, `set ... type=internal` are\nput together, in one command transaction.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, making del-port a single command transaction. Therefore,\novs will not ignore the delete operation and the new device\ncreated won\'t belong to any namespace and following `ip` commands\nwon\'t complain about ""device not found"".\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\nCloses-bug: #1346861\n'}, {'number': 6, 'created': '2014-09-17 12:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31206aafe29fd1591d0be80efc24e1d914e99476', 'message': 'Ensure ovs created device not in any namespace\n\novs can create device if the port has type=internal. Currently,\nwe use `ovs-vsctl -- del-port foo -- add-port foo -- set Interface\nfoo type=internal` to (re-)create an ovs managed device. And then\n`ip` is used to set mac address, mtu, namespace for the device.\n\nCurrent usage of `ip` commands requires the created device to not\nbelong to any namespace. This cannot be guaranteed if the device\nis already in a wrong or deleted namespace before the `ovs-vsctl`\ncommand. `ovs-vsctl` can delete devices managed by ovs even if the\ndevice is in a deleted namespace but it will ignore the delete\noperation if `del-port`, `add-port`, `set ... type=internal` are\nput together, in one command transaction.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, making del-port a single command transaction. Therefore,\novs will not ignore the delete operation and the new device\ncreated won\'t belong to any namespace and following `ip` commands\nwon\'t complain about ""device not found"".\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\nCloses-bug: #1346861'}, {'number': 7, 'created': '2014-09-17 14:55:42.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/tests/unit/test_linux_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/435f4ef5c4c1ac554dba63ad6ba06aea3a0a78ac', 'message': 'Ensure ovs created device not in any namespace\n\novs can create device if the port has type=internal. Currently,\nwe use `ovs-vsctl -- del-port foo -- add-port foo -- set Interface\nfoo type=internal` to (re-)create an ovs managed device. And then\n`ip` is used to set mac address, mtu, namespace for the device.\n\nCurrent usage of `ip` commands requires the created device to not\nbelong to any namespace. This cannot be guaranteed if the device\nis already in a wrong or deleted namespace before the `ovs-vsctl`\ncommand. `ovs-vsctl` can delete devices managed by ovs even if the\ndevice is in a deleted namespace but it will ignore the delete\noperation if `del-port`, `add-port`, `set ... type=internal` are\nput together, in one command transaction.\n\nThis patch moves out the del-port part from the long `ovs-vsctl`\ncommand, making del-port a single command transaction. Therefore,\novs will not ignore the delete operation and the new device\ncreated won\'t belong to any namespace and following `ip` commands\nwon\'t complain about ""device not found"".\n\nChange-Id: I13f6386f66305575262233703f6c616e7214f704\nCloses-bug: #1346861\n'}]",8,108614,435f4ef5c4c1ac554dba63ad6ba06aea3a0a78ac,144,35,7,11280,,,0,"Ensure ovs created device not in any namespace

ovs can create device if the port has type=internal. Currently,
we use `ovs-vsctl -- del-port foo -- add-port foo -- set Interface
foo type=internal` to (re-)create an ovs managed device. And then
`ip` is used to set mac address, mtu, namespace for the device.

Current usage of `ip` commands requires the created device to not
belong to any namespace. This cannot be guaranteed if the device
is already in a wrong or deleted namespace before the `ovs-vsctl`
command. `ovs-vsctl` can delete devices managed by ovs even if the
device is in a deleted namespace but it will ignore the delete
operation if `del-port`, `add-port`, `set ... type=internal` are
put together, in one command transaction.

This patch moves out the del-port part from the long `ovs-vsctl`
command, making del-port a single command transaction. Therefore,
ovs will not ignore the delete operation and the new device
created won't belong to any namespace and following `ip` commands
won't complain about ""device not found"".

Change-Id: I13f6386f66305575262233703f6c616e7214f704
Closes-bug: #1346861
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/108614/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/interface.py'],1,e2e0d619ee1b0454155e1e022adf7f64064b79b6,bug/1346861," def _ovs_del_port(self, device_name): cmd = ['ovs-vsctl', '--if-exists', 'del-port', device_name] utils.execute(cmd, self.root_helper) self._ovs_del_port(device_name) cmd = ['ovs-vsctl', 'add-port', bridge, device_name]"," cmd = ['ovs-vsctl', '--', '--if-exists', 'del-port', device_name, '--', 'add-port', bridge, device_name]",6,2
openstack%2Fneutron~master~I2fafff7e636ca5f8f9637a9c468b725737f1effd,openstack/neutron,master,I2fafff7e636ca5f8f9637a9c468b725737f1effd,Update device down if the vif created by Nova not exists,ABANDONED,2014-11-09 01:15:45.000000000,2015-01-26 15:11:29.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 1689}, {'_account_id': 1850}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9911}, {'_account_id': 10068}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10370}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 13906}]","[{'number': 1, 'created': '2014-11-09 01:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e147fcd944cd4c1760186260967883c6086de904', 'message': 'Fix bug #1390681\n\nChange-Id: I2fafff7e636ca5f8f9637a9c468b725737f1effd\n'}, {'number': 2, 'created': '2014-11-09 01:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/654639bc71e86a77b9fd803a2fbb3f6f9e4f6c66', 'message': 'Fix bug #1390681\nDetach interface of vm leaves the port in BUILD status\n\nChange-Id: I2fafff7e636ca5f8f9637a9c468b725737f1effd\n'}, {'number': 3, 'created': '2014-11-10 02:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/826fbe90337ab5aad5703e9ba8577453b139d840', 'message': 'Update device down if the vif created by Nova not exists\n\nCreate one vm and then detach the port of this vm immediately\nmay cause the port in BUILD status forever.\n\nBe notice that the bug is hard to reproduce because it depends\non the indeed handling sequence.\n\nIn the sequences descripted bellow,the bug happens:\n\n1, create one vm,so nova-compute notifies neutron using the\n""port_create"" api, and nova-compute create one port in ovs.\n2, neutron-server creates the related detail information in\nthe db.\n3.1, neutron-openvswitch-agent awares the creation of the port\nby loop function and starts to handle the ""port_add"" event.\nIt gets the details of the port from neutron-server correctly\nin the ""treat_devices_added_or_updated"" function,\nbut the function ""get_vif_port_by_id"" has not been called.\n4, at this time,detach the interface of the vm and nova-compute\nwill delete the port from the ovs\n3.2 then ""get_vif_port_by_id"" continues, it finds the vif not\nexists and skips update_device_down/update_device_up rpc handling\n\n5, then the port will be left in BUILD and will can not be\noperated by end-users forever.\n\nIn 3.2 if the port not exists, call update_device_down to notify\nthe neutron-server set the port status to DOWN. This makes the\nport can be attached to vm again.\n\nCloses-Bug: #1390681\n\nChange-Id: I2fafff7e636ca5f8f9637a9c468b725737f1effd\n'}, {'number': 4, 'created': '2014-11-12 05:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/425e60fca704e58c4cae3de98565a42b4a17b086', 'message': 'Update device down if the vif created by Nova not exists\n\nCreate one vm and then detach the port of this vm immediately\nmay cause the port in BUILD status forever.\n\nBe notice that the bug is hard to reproduce because it depends\non the indeed handling sequence.\n\nWe must review the port create/attach/detach sequence to solve\nthe problem.\n\nIn the sequences descripted bellow,the bug happens:\n\n1, create one vm,so nova-compute notifies neutron using the\n""port_create"" api, and nova-compute create one port in ovs.\n2, neutron-server creates the related detail information in\nthe db.\n3.1, neutron-openvswitch-agent awares the creation of the port\nby loop function and starts to handle the ""port_add"" event.\nIt gets the details of the port from neutron-server correctly\nin the ""treat_devices_added_or_updated"" function,\nbut the function ""get_vif_port_by_id"" has not been called.\n4, at this time,detach the interface of the vm and nova-compute\nwill delete the port from the ovs\n3.2 then ""get_vif_port_by_id"" continues, it finds the vif not\nexists and skips update_device_down/update_device_up rpc handling\n\n5, then the port will be left in BUILD and will can not be\noperated by end-users forever.\n\nIn 3.2 if the port not exists, call update_device_down to notify\nthe neutron-server set the port status to DOWN. This makes the\nport can be attached to vm again.And even the port is attached\nto one vm again in no time after detached, the neutron-ovs-agent\ncan handle the port-add event in next loop cycle,so it is safe\nenough.\n\nCloses-Bug: #1390681\n\nChange-Id: I2fafff7e636ca5f8f9637a9c468b725737f1effd\n'}, {'number': 5, 'created': '2014-11-12 06:52:37.000000000', 'files': ['neutron/common/constants.py', 'neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01602ca7edb0a52b392de3f3c3f57332183e223f', 'message': 'Update device down if the vif created by Nova not exists\n\nCreate one vm and then detach the port of this vm immediately\nmay cause the port in BUILD status forever.\n\nBe notice that the bug is hard to reproduce because it depends\non the indeed handling sequence.\n\nWe must review the port create/attach/detach sequence to solve\nthe problem.\n\nIn the sequences descripted bellow,the bug happens:\n\n1, create one vm,so nova-compute notifies neutron using the\n""create_port"" api, and nova-compute create one port in ovs.\n2, neutron-server creates the related detail information in\nthe db.\n3.1, neutron-openvswitch-agent awares the creation of the port\nby loop function and starts to handle the ""port_add"" event.\nIt gets the details of the port from neutron-server correctly\nin the ""treat_devices_added_or_updated"" function,\nbut the function ""get_vif_port_by_id"" has not been called.\n4, at this time,detach the interface of the vm and nova-compute\nwill delete the port from the ovs\n3.2 then ""get_vif_port_by_id"" continues, it finds the vif not\nexists and skips update_device_down/update_device_up rpc handling\n\n5, then the port will be left in BUILD and will can not be\noperated by end-users forever.\n\nIn 3.2 if the port not exists, call update_device_down to notify\nthe neutron-server set the port status to DOWN. This makes the\nport can be attached to vm again.And even the port is attached\nto one vm again in no time after detached, the neutron-ovs-agent\ncan handle the port-add event in next loop cycle,so it is safe\nenough.\n\nCloses-Bug: #1390681\n\nChange-Id: I2fafff7e636ca5f8f9637a9c468b725737f1effd\n'}]",26,133362,01602ca7edb0a52b392de3f3c3f57332183e223f,102,35,5,13906,,,0,"Update device down if the vif created by Nova not exists

Create one vm and then detach the port of this vm immediately
may cause the port in BUILD status forever.

Be notice that the bug is hard to reproduce because it depends
on the indeed handling sequence.

We must review the port create/attach/detach sequence to solve
the problem.

In the sequences descripted bellow,the bug happens:

1, create one vm,so nova-compute notifies neutron using the
""create_port"" api, and nova-compute create one port in ovs.
2, neutron-server creates the related detail information in
the db.
3.1, neutron-openvswitch-agent awares the creation of the port
by loop function and starts to handle the ""port_add"" event.
It gets the details of the port from neutron-server correctly
in the ""treat_devices_added_or_updated"" function,
but the function ""get_vif_port_by_id"" has not been called.
4, at this time,detach the interface of the vm and nova-compute
will delete the port from the ovs
3.2 then ""get_vif_port_by_id"" continues, it finds the vif not
exists and skips update_device_down/update_device_up rpc handling

5, then the port will be left in BUILD and will can not be
operated by end-users forever.

In 3.2 if the port not exists, call update_device_down to notify
the neutron-server set the port status to DOWN. This makes the
port can be attached to vm again.And even the port is attached
to one vm again in no time after detached, the neutron-ovs-agent
can handle the port-add event in next loop cycle,so it is safe
enough.

Closes-Bug: #1390681

Change-Id: I2fafff7e636ca5f8f9637a9c468b725737f1effd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/133362/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py']",3,e147fcd944cd4c1760186260967883c6086de904,bug/1390681," # Notify the server to avoid port in BUILD status # for the port created by nova-compute. if ('port_id' in details and details['device_owner'].startswith( q_const.DEVICE_OWNER_COMPUTE_PRE)): try: LOG.info(_(""Port %s was not found on the integration "" ""bridge and update_device_down called""), device) self.plugin_rpc.update_device_down(self.context, device, self.agent_id, cfg.CONF.host) except Exception as e: # if error happens in this situation error log outputs. LOG.error(_("" port down failed for %(device)s: %(e)s""), {'device': device, 'e': e}) ",,49,0
openstack%2Fneutron~master~Iaa52c6c11b32963735b0b16008fdeb6bb5b60e17,openstack/neutron,master,Iaa52c6c11b32963735b0b16008fdeb6bb5b60e17,WIP: ml2 taskflow proof-of-concept,ABANDONED,2014-11-25 02:52:09.000000000,2015-01-26 15:11:28.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1297}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10354}, {'_account_id': 10386}, {'_account_id': 11279}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-25 02:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60829a03ca14a685de1780f78e31c488b3ca450a', 'message': ""WIP: ml2 taskflow proof-of-concept\n\nFirst steps towards restructuring ml2 on top of taskflow.\n\nBased on Manish's similar work in\nI35971770d87acb353333782150937ace5f4b9db5\n\nChange-Id: Iaa52c6c11b32963735b0b16008fdeb6bb5b60e17\n""}, {'number': 2, 'created': '2014-12-07 23:37:19.000000000', 'files': ['neutron/plugins/ml2/managers.py', 'requirements.txt', 'neutron/plugins/ml2/driver_api.py', 'neutron/plugins/ml2/drivers/mech_mock_one.py', 'neutron/plugins/ml2/drivers/mech_mock_two.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2434f5dc6113e43710e20fdc3220c244ca14a8a3', 'message': ""WIP: ml2 taskflow proof-of-concept\n\nFirst steps towards restructuring ml2 on top of taskflow.\n\nBased on Manish's similar work in\nI35971770d87acb353333782150937ace5f4b9db5\n\nTODO: add a followup change converting a driver to use postcommit_flow\ndirectly.\nTODO: add a followup change changing at least one call to async (ie:\nreturn HTTP response before flow has completed)\n\nChange-Id: Iaa52c6c11b32963735b0b16008fdeb6bb5b60e17\n""}]",5,136950,2434f5dc6113e43710e20fdc3220c244ca14a8a3,49,28,2,11279,,,0,"WIP: ml2 taskflow proof-of-concept

First steps towards restructuring ml2 on top of taskflow.

Based on Manish's similar work in
I35971770d87acb353333782150937ace5f4b9db5

TODO: add a followup change converting a driver to use postcommit_flow
directly.
TODO: add a followup change changing at least one call to async (ie:
return HTTP response before flow has completed)

Change-Id: Iaa52c6c11b32963735b0b16008fdeb6bb5b60e17
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/136950/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/driver_api.py', 'neutron/plugins/ml2/drivers/mech_mock_one.py', 'neutron/plugins/ml2/drivers/mech_mock_two.py', 'neutron/plugins/ml2/plugin.py']",5,60829a03ca14a685de1780f78e31c488b3ca450a,ml2-taskflow,"import concurrent.futuresimport copyimport taskflow.engines from taskflow.patterns import linear_flow from taskflow import taskclass AugmentDataWithId(task.Task): default_provides: ['request_with_id'] def execute(self, request, result): # Only modifying the top-level dict, so shallow copy is sufficient myreq = copy.copy(request) myreq['id'] = result['id'] return myreq #make max_workers config self.executor = concurrent.futures.ThreadPoolExecutor(max_workers=10) flow = self.mechanism_manager.update_port_postcommit_flow(cur_context) self._taskflow_load(flow, store={'context': cur_context}).run() def _taskflow_load(self, flow, **kwargs): # TODO(gus): Taskflow engine should be configurable eng = taskflow.engines.load( flow, engine='parallel', executor=self.executor, **kwargs) taskflow.listeners.logging.DynamicLoggingListener(eng) return eng flow = self.mechanism_manager.create_network_postcommit_flow(mech_context) eng = self._taskflow_load(flow, store={ 'context': mech_context, 'network': network, }) eng.run() def create_network_flow(self, context): flow = linear_flow.Flow('create_network') # TODO(gus): this flow could be parallised to some degree precommit_flow = linear_flow.Flow('create_network_precommit') precommit_flow.add(LegacyTask( self, '_ensure_default_security_group', requires=['context', 'tenant_id'])) precommit_flow.add(task.FunctorTask( lambda context, network: super(Ml2Plugin, self).create_network(context, network), provides=['result'])) precommit_flow.add(LegacyTask( self.extension_manager, 'process_create_network', requires=['session', 'net_data', 'result'])) precommit_flow.add(LegacyTask( self, '_process_l3_create', requires=['context', 'result', 'net_data'))) precommit_flow.add(AugmentDataWithId( rebind={'request': 'net_data'}, provides={'net_data_with_id'})) precommit_flow.add(LegacyTask( self.type_manager, 'create_network_segments', requires=['context', 'net_data', 'tenant_id'], rebind={'net_data', 'net_data_with_id'})) self.type_manager.create_network_segments(context, net_data, tenant_id) self.type_manager._extend_network_dict_provider(context, result) mech_context = driver_context.NetworkContext(self, context, result) self.mechanism_manager.create_network_precommit(mech_context) return flow flow_engine = self.mechanism_manager.update_network_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.delete_network_postcommit(mech_context) self.executor.submit(flow_engine.run) flow_engine = self.mechanism_manager.create_subnet_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.update_subnet_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.delete_subnet_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.create_port_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.update_port_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.delete_port_postcommit(mech_context) flow_engine.run() flow_engine = self.mechanism_manager.update_port_postcommit(mech_context) flow_engine.run()", self.mechanism_manager.update_port_postcommit(cur_context) self.mechanism_manager.create_network_postcommit(mech_context) self.mechanism_manager.update_network_postcommit(mech_context) self.mechanism_manager.delete_network_postcommit(mech_context) self.mechanism_manager.create_subnet_postcommit(mech_context) self.mechanism_manager.update_subnet_postcommit(mech_context) self.mechanism_manager.delete_subnet_postcommit(mech_context) self.mechanism_manager.create_port_postcommit(mech_context) self.mechanism_manager.update_port_postcommit(mech_context) self.mechanism_manager.delete_port_postcommit(mech_context),608,34
openstack%2Fneutron~master~I8ccd11e10de118877148e671cf645ffdfa56a534,openstack/neutron,master,I8ccd11e10de118877148e671cf645ffdfa56a534,Provider Segment Support for Cisco Nexus Switches,ABANDONED,2014-10-02 17:16:54.000000000,2015-01-26 15:11:24.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6620}, {'_account_id': 6698}, {'_account_id': 6854}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-10-02 17:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73ed2cf0e03de43b27d184982132a524e6676eef', 'message': 'Provider Segment Support for Cisco Nexus Switches\n\nThis commit implements ML2 provider segment support\nfor the Cisco 3K, 5K and 7K Nexus switches.\nNeed to keep ToR provider segment information made by a network administrator\nconfigured when the ML2 cisco_nexus mechanism driver is enabled.\n\nMarking as WIP for now as the BP has not yet been approved for Kilo\n\nChange-Id: I8ccd11e10de118877148e671cf645ffdfa56a534\nImplements: Blueprint ml2-cisco-nexus-mechdriver-providernet\n'}, {'number': 2, 'created': '2014-10-22 17:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80e64984ffd0da448334950e7fb40a2ca02d78c9', 'message': 'Provider Segment Support for Cisco Nexus Switches\n\nThis commit implements ML2 provider segment support\nfor the Cisco 3K, 5K and 7K Nexus switches.\nNeed to keep ToR provider segment information made by a network administrator\nconfigured when the ML2 cisco_nexus mechanism driver is enabled.\n\nMarking as WIP for now as the BP has not yet been approved for Kilo\n\nChange-Id: I8ccd11e10de118877148e671cf645ffdfa56a534\nImplements: Blueprint ml2-cisco-nexus-mechdriver-providernet\n'}, {'number': 3, 'created': '2014-10-24 18:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a780700c25f9b514f2ef2617103240a9f2ec295', 'message': 'Provider Segment Support for Cisco Nexus Switches\n\nThis commit implements ML2 provider segment support\nfor the Cisco 3K, 5K and 7K Nexus switches.\nNeed to keep ToR provider segment information made by a network administrator\nconfigured when the ML2 cisco_nexus mechanism driver is enabled.\n\nMarking as WIP for now as the BP has not yet been approved for Kilo\n\nChange-Id: I8ccd11e10de118877148e671cf645ffdfa56a534\nImplements: Blueprint ml2-cisco-nexus-mechdriver-providernet\n'}, {'number': 4, 'created': '2014-12-08 21:41:24.000000000', 'files': ['neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'etc/neutron/plugins/ml2/ml2_conf_cisco.ini', 'neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py', 'neutron/plugins/ml2/drivers/cisco/nexus/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3e2552aebfa9fc0e5e2b1f8b4373ff6595f42ba', 'message': 'Provider Segment Support for Cisco Nexus Switches\n\nThis commit implements ML2 provider segment support\nfor the Cisco 3K, 5K and 7K Nexus switches.\nNeed to keep ToR provider segment information made by a network administrator\nconfigured when the ML2 cisco_nexus mechanism driver is enabled.\n\nMarking as WIP for now, waiting for ML2 Type Driver refactor part 3\n\nChange-Id: I8ccd11e10de118877148e671cf645ffdfa56a534\nImplements: Blueprint ml2-cisco-nexus-mechdriver-providernet\n'}]",6,125713,d3e2552aebfa9fc0e5e2b1f8b4373ff6595f42ba,83,29,4,6698,,,0,"Provider Segment Support for Cisco Nexus Switches

This commit implements ML2 provider segment support
for the Cisco 3K, 5K and 7K Nexus switches.
Need to keep ToR provider segment information made by a network administrator
configured when the ML2 cisco_nexus mechanism driver is enabled.

Marking as WIP for now, waiting for ML2 Type Driver refactor part 3

Change-Id: I8ccd11e10de118877148e671cf645ffdfa56a534
Implements: Blueprint ml2-cisco-nexus-mechdriver-providernet
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/125713/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/db.py', 'etc/neutron/plugins/ml2/ml2_conf_cisco.ini', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py', 'neutron/plugins/ml2/drivers/cisco/nexus/config.py']",5,73ed2cf0e03de43b27d184982132a524e6676eef,bp/has," cfg.StrOpt('provider_vlan_name_prefix', default='p-', help=_(""VLAN Name prefix for provider vlans"")), cfg.BoolOpt('provider_vlan_auto_create', default=True, help=_('Provider VLANs are automatically created as needed ' 'on the Nexus switch')), cfg.BoolOpt('provider_vlan_auto_trunk', default=True, help=_('Provider VLANs are automatically trunked as needed ' 'on the ports of the Nexus switch')),",,138,25
openstack%2Fneutron~master~I0ac645f27bfad914fb43ef2fbca252e0b26b022c,openstack/neutron,master,I0ac645f27bfad914fb43ef2fbca252e0b26b022c,Fixes bad-indentation pylint error,ABANDONED,2014-11-07 18:09:23.000000000,2015-01-26 15:11:23.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9828}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12251}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-07 18:09:23.000000000', 'files': ['neutron/plugins/nec/common/ofc_client.py', '.pylintrc', 'neutron/agent/linux/ip_lib.py', 'neutron/plugins/ml2/drivers/mlnx/mech_mlnx.py', 'neutron/common/utils.py', 'neutron/plugins/cisco/common/cisco_exceptions.py', 'neutron/services/loadbalancer/drivers/radware/driver.py', 'neutron/plugins/vmware/dhcp_meta/combined.py', 'neutron/plugins/ml2/drivers/cisco/nexus/exceptions.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_nuage/driver.py', 'neutron/plugins/vmware/plugins/service.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/702cae6287a09f1e0041eec58a09c27af246ed44', 'message': 'Fixes bad-indentation pylint error\n\nThis change prefers using all() and any() over allowing indentation\nof complex multi-line if statements to match up against the block\nthat the if statement creates. This was previously solved by\ndouble-indenting in several places.\n\nChange-Id: I0ac645f27bfad914fb43ef2fbca252e0b26b022c\nCloses-Bug: 1390568\n'}]",1,133296,702cae6287a09f1e0041eec58a09c27af246ed44,31,27,1,7387,,,0,"Fixes bad-indentation pylint error

This change prefers using all() and any() over allowing indentation
of complex multi-line if statements to match up against the block
that the if statement creates. This was previously solved by
double-indenting in several places.

Change-Id: I0ac645f27bfad914fb43ef2fbca252e0b26b022c
Closes-Bug: 1390568
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/133296/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/nec/common/ofc_client.py', '.pylintrc', 'neutron/agent/linux/ip_lib.py', 'neutron/plugins/ml2/drivers/mlnx/mech_mlnx.py', 'neutron/common/utils.py', 'neutron/plugins/cisco/common/cisco_exceptions.py', 'neutron/services/loadbalancer/drivers/radware/driver.py', 'neutron/plugins/vmware/dhcp_meta/combined.py', 'neutron/plugins/ml2/drivers/cisco/nexus/exceptions.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_nuage/driver.py', 'neutron/plugins/vmware/plugins/service.py', 'neutron/db/l3_agentschedulers_db.py']",14,702cae6287a09f1e0041eec58a09c27af246ed44,bug/1390568," if all([n_utils.is_dvr_serviced(port['device_owner']), l3_agent['host'] == port['binding:host_id'], ]): return True", if (n_utils.is_dvr_serviced(port['device_owner']) and l3_agent['host'] == port['binding:host_id']): return True,89,86
openstack%2Fneutron~master~I860f82c554906c4b3a35d99d8a00491141c3f891,openstack/neutron,master,I860f82c554906c4b3a35d99d8a00491141c3f891,Agent implementation for SSL-VPN services,ABANDONED,2014-12-10 04:58:27.000000000,2015-01-26 15:11:15.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}]","[{'number': 1, 'created': '2014-12-10 04:58:27.000000000', 'files': ['neutron/tests/unit/db/vpn/test_db_sslvpn.py', 'neutron/plugins/ibm/common/constants.py', 'neutron/tests/unit/services/vpn/service_drivers/test_sslvpn.py', 'neutron/db/vpn/vpn_db.py', 'neutron/services/vpn/agent.py', 'neutron/services/vpn/service_drivers/vpn.py', 'neutron/services/vpn/device_drivers/sslvpn.py', 'neutron/services/vpn/device_drivers/template/openvpn/sslvpn.conf.template', 'neutron/services/vpn/device_drivers/ipsec.py', 'neutron/services/vpn/device_drivers/linux.py', 'neutron/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron/tests/unit/services/vpn/test_vpncredential_extension.py', 'neutron/services/vpn/common/constants.py', 'neutron/tests/unit/services/vpn/device_drivers/test_sslvpn.py', 'etc/vpn_agent.ini', 'neutron/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron/tests/unit/services/vpn/test_sslvpn_extension.py', 'neutron/tests/unit/services/vpn/device_drivers/__init__.py', 'neutron/i18n.py', 'neutron/db/vpn/sslvpn_db.py', 'neutron/tests/unit/services/vpn/test_vpnaas_driver_plugin.py', 'neutron/services/vpn/plugin.py', 'neutron/services/vpn/service_drivers/sslvpn.py', 'neutron/agent/linux/utils.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'etc/neutron/rootwrap.d/vpnaas.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3364c95107a9a19a2aaa39ea5f6a06bac62049d3', 'message': 'Agent implementation for SSL-VPN services\n\n    In this commit, we are going to implement\n    agent and service driver for SSL VPN\n\nChange-Id: I860f82c554906c4b3a35d99d8a00491141c3f891\n'}]",1,140571,3364c95107a9a19a2aaa39ea5f6a06bac62049d3,27,22,1,10612,,,0,"Agent implementation for SSL-VPN services

    In this commit, we are going to implement
    agent and service driver for SSL VPN

Change-Id: I860f82c554906c4b3a35d99d8a00491141c3f891
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/140571/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/vpn/test_db_sslvpn.py', 'neutron/plugins/ibm/common/constants.py', 'neutron/tests/unit/services/vpn/service_drivers/test_sslvpn.py', 'neutron/db/vpn/vpn_db.py', 'neutron/services/vpn/agent.py', 'neutron/services/vpn/service_drivers/vpn.py', 'neutron/services/vpn/device_drivers/sslvpn.py', 'neutron/services/vpn/device_drivers/template/openvpn/sslvpn.conf.template', 'neutron/services/vpn/device_drivers/ipsec.py', 'neutron/services/vpn/device_drivers/linux.py', 'neutron/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron/tests/unit/services/vpn/test_vpncredential_extension.py', 'neutron/services/vpn/common/constants.py', 'neutron/tests/unit/services/vpn/device_drivers/test_sslvpn.py', 'etc/vpn_agent.ini', 'neutron/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron/tests/unit/services/vpn/test_sslvpn_extension.py', 'neutron/tests/unit/services/vpn/device_drivers/__init__.py', 'neutron/i18n.py', 'neutron/db/vpn/sslvpn_db.py', 'neutron/tests/unit/services/vpn/test_vpnaas_driver_plugin.py', 'neutron/services/vpn/plugin.py', 'neutron/services/vpn/service_drivers/sslvpn.py', 'neutron/agent/linux/utils.py', 'neutron/services/vpn/service_drivers/ipsec.py', 'etc/neutron/rootwrap.d/vpnaas.filters']",26,3364c95107a9a19a2aaa39ea5f6a06bac62049d3,,"openvpn: CommandFilter, openvpn, root kill_openvpn: KillFilter, root, openvpn, -9, -HUP",,5100,8
openstack%2Fneutron~master~I2c57f12c4845af3f51eb33504fd03d80bf0838f6,openstack/neutron,master,I2c57f12c4845af3f51eb33504fd03d80bf0838f6,Bulk up L3 HA update_router_status RPC,ABANDONED,2014-10-01 12:20:57.000000000,2015-01-26 15:11:11.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-10-01 12:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25d2442f2e8250b8a1ab179726410a7b28e9fe34', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 2, 'created': '2014-10-05 16:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/923373be83ff0bf6a73a2a58e2d5340f3dbd6bd4', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 3, 'created': '2014-10-05 18:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63310aee9930cf5d0eba14e53329342eaa8d7ce2', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 4, 'created': '2014-10-13 16:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfc1774ffdcb639b00dda6a772edf566942b1a25', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 5, 'created': '2014-10-13 17:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aca11f1bb9b4e15df0f5e8c6e1081d0a4f7212e2', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 6, 'created': '2014-11-19 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/047d3cc6739e30673b79985bec603594565577a0', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nPartially-Implements: blueprint report-ha-router-master\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 7, 'created': '2014-12-07 15:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8be704d09039feacb0add578c27d69b1106b4306', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nPartially-Implements: blueprint report-ha-router-master\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 8, 'created': '2014-12-07 18:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1990710be390318d9dfdde5b21ae826c331e2e1b', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nRelated-Bug: #1365453\nPartially-Implements: blueprint report-ha-router-master\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}, {'number': 9, 'created': '2014-12-07 21:46:52.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_ha_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99ec0787cff871e4911f5a27b1f3add74ebd8bad', 'message': 'Bulk up L3 HA update_router_status RPC\n\nNote that update_router_status is actually currently unused.\nThis patch changes it from single to plural / bulk. It will be used\nfurther down the patch series.\n\nPartially-Implements: blueprint report-ha-router-master\nChange-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6\n'}]",6,125339,99ec0787cff871e4911f5a27b1f3add74ebd8bad,193,34,9,8873,,,0,"Bulk up L3 HA update_router_status RPC

Note that update_router_status is actually currently unused.
This patch changes it from single to plural / bulk. It will be used
further down the patch series.

Partially-Implements: blueprint report-ha-router-master
Change-Id: I2c57f12c4845af3f51eb33504fd03d80bf0838f6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/125339/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_ha_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",3,25d2442f2e8250b8a1ab179726410a7b28e9fe34,bp/report-ha-router-master," def update_routers_states(self, context, **kwargs): states = kwargs.get('states') self.l3plugin.update_routers_states(context, states, host)"," def update_router_state(self, context, **kwargs): router_id = kwargs.get('router_id') state = kwargs.get('state') return self.l3plugin.update_router_state(context, router_id, state, host=host)",31,28
openstack%2Fneutron~master~Ic398d8e51ab5dad0627db1235a7f049324e654e0,openstack/neutron,master,Ic398d8e51ab5dad0627db1235a7f049324e654e0,csr1kv: simplify L3RouterApplianceDBMixin,ABANDONED,2014-10-02 09:26:53.000000000,2015-01-26 15:11:10.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 333}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-02 09:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6cd3cdbae1d89ec949708d46820c6c2f44dd134', 'message': ""csr1kv: simplify L3RouterApplianceDBMixin\n\nThis patch eliminates the effectively nop operations of update_router and\ndelete_router of L3RouterApplianceDBMixin.\n\nWhen update_router, r_o aren't used later, so\n_add_type_and_hosting_device_info(o_r) is effectively nop.\nWhen delete_router, the result of _add_type_and_hosting_device_info()\nis used as router['hosting_info']. which equals to r_hd_binding.hosting_device.\nunschedule_router_from_hosting_device method itself checks if\nhosting_device is None, so the caller doesn't need to check it explicitly.\n\nChange-Id: Ic398d8e51ab5dad0627db1235a7f049324e654e0\n""}, {'number': 2, 'created': '2014-10-02 16:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df5cb1913ced287a8d8543bac2e6d310f02db10e', 'message': ""csr1kv: simplify L3RouterApplianceDBMixin\n\nThis patch eliminates the effectively nop operations of update_router and\ndelete_router of L3RouterApplianceDBMixin.\n\nWhen update_router, r_o aren't used later, so\n_add_type_and_hosting_device_info(o_r) is effectively nop.\nWhen delete_router, the result of _add_type_and_hosting_device_info()\nis used as router['hosting_info']. which equals to r_hd_binding.hosting_device.\nunschedule_router_from_hosting_device method itself checks if\nhosting_device is None, so the caller doesn't need to check it explicitly.\n\nChange-Id: Ic398d8e51ab5dad0627db1235a7f049324e654e0\n""}, {'number': 3, 'created': '2014-10-02 17:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/290c26dbce0dc905c967cb0c393f7179edb08d85', 'message': ""csr1kv: simplify L3RouterApplianceDBMixin\n\nThis patch eliminates the effectively nop operations of update_router and\ndelete_router of L3RouterApplianceDBMixin.\n\nWhen update_router, r_o aren't used later, so\n_add_type_and_hosting_device_info(o_r) is effectively nop.\nWhen delete_router, the result of _add_type_and_hosting_device_info()\nis used as router['hosting_info']. which equals to r_hd_binding.hosting_device.\nunschedule_router_from_hosting_device method itself checks if\nhosting_device is None, so the caller doesn't need to check it explicitly.\n\nChange-Id: Ic398d8e51ab5dad0627db1235a7f049324e654e0\n""}, {'number': 4, 'created': '2014-10-17 05:18:00.000000000', 'files': ['neutron/plugins/cisco/db/l3/device_handling_db.py', 'neutron/plugins/cisco/db/l3/l3_router_appliance_db.py', 'neutron/plugins/cisco/l3/rpc/l3_router_rpc_joint_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7983c2f49f1edb44e8af8c45d4a6c536db0d0cc', 'message': ""csr1kv: simplify L3RouterApplianceDBMixin\n\nThis patch eliminates the effectively nop operations of update_router and\ndelete_router of L3RouterApplianceDBMixin.\n\nWhen update_router, o_r aren't used later, so\n_add_type_and_hosting_device_info(o_r) is effectively nop.\nWhen delete_router, the result of _add_type_and_hosting_device_info()\nis used as router['hosting_info']. which equals to r_hd_binding.hosting_device.\nunschedule_router_from_hosting_device method itself checks if\nhosting_device is None, so the caller doesn't need to check it explicitly.\n\nChange-Id: Ic398d8e51ab5dad0627db1235a7f049324e654e0\n""}]",2,125580,d7983c2f49f1edb44e8af8c45d4a6c536db0d0cc,88,22,4,333,,,0,"csr1kv: simplify L3RouterApplianceDBMixin

This patch eliminates the effectively nop operations of update_router and
delete_router of L3RouterApplianceDBMixin.

When update_router, o_r aren't used later, so
_add_type_and_hosting_device_info(o_r) is effectively nop.
When delete_router, the result of _add_type_and_hosting_device_info()
is used as router['hosting_info']. which equals to r_hd_binding.hosting_device.
unschedule_router_from_hosting_device method itself checks if
hosting_device is None, so the caller doesn't need to check it explicitly.

Change-Id: Ic398d8e51ab5dad0627db1235a7f049324e654e0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/125580/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/cisco/db/l3/l3_router_appliance_db.py'],1,c6cd3cdbae1d89ec949708d46820c6c2f44dd134,csr1kv-routervm-simplify," self.unschedule_router_from_hosting_device(context, r_hd_binding) def _add_type_and_hosting_device_info(self, context, router): binding_info = self._get_router_binding_info(context, router['id']) if binding_info.hosting_device is None:"," o_r = self._make_router_dict(o_r_db, process_extensions=False) # no need to schedule now since we're only doing this to # tear-down connectivity and there won't be any if not # already scheduled. self._add_type_and_hosting_device_info(e_context, o_r, schedule=False) self._add_type_and_hosting_device_info( e_context, router, binding_info=r_hd_binding, schedule=False) # conditionally remove router from backlog just to be sure if router['hosting_device'] is not None: self.unschedule_router_from_hosting_device(context, r_hd_binding) def _add_type_and_hosting_device_info(self, context, router, binding_info=None, schedule=True): if binding_info is None: binding_info = self._get_router_binding_info(context, router['id']) if binding_info.hosting_device is None and schedule:",4,18
openstack%2Fneutron~master~Id64aeda9e28c6f4f45150f619b0e34b94a729f99,openstack/neutron,master,Id64aeda9e28c6f4f45150f619b0e34b94a729f99,OVS-Agent crashes when OVS dead,ABANDONED,2014-11-25 08:58:46.000000000,2015-01-26 15:11:07.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5950}, {'_account_id': 6072}, {'_account_id': 6502}, {'_account_id': 6788}, {'_account_id': 7743}, {'_account_id': 7787}, {'_account_id': 8976}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 12040}, {'_account_id': 12683}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-25 08:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeec0af780a419b6f2bd011b581e63ae5c5dd0c4', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart graceful, to prevent agent crash while it\nis running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 2, 'created': '2014-11-25 09:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a12a96a802db9c19f8a59074c14328137ce9215b', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart graceful, to prevent agent crash while it\nis running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 3, 'created': '2014-11-25 13:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/586286ee5029286bdf7aa3e5be237e46d494e884', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart graceful, to prevent agent crash while it\nis running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 4, 'created': '2014-11-27 17:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/389629a67114d091d7066cbd6d26dc1c76d88f11', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart graceful, to prevent agent crash while it\nis running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 5, 'created': '2014-11-27 21:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3750e026dfa1d1ffe140c8149ae89051101c3460', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 6, 'created': '2014-12-02 14:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47fc20a5e4c44b0dc14f17715bb5856a21d617c1', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 7, 'created': '2014-12-04 11:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e98b25e58d6f060dfc41e85897c599bd5d28ec07', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent operations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 8, 'created': '2014-12-11 15:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c98d78e0e88467a0fe9bfecbf35d9f48ec6ddf0', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 9, 'created': '2014-12-15 15:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e803a6294c03e894eb44ab63b6b1ee68c9c77f92', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 10, 'created': '2014-12-15 15:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5debb6c096540619a359d60f0171fecaf6c1713', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 11, 'created': '2014-12-15 15:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/995bc3de1a07cfb32c72edd9057780375196cd9d', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent opreations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}, {'number': 12, 'created': '2014-12-17 12:45:20.000000000', 'files': ['neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/common/config.py', 'etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/openvswitch/test_ovs_tunnel.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26adf7a1deb275cdf2e81dd770daa0f5a481b7b2', 'message': ""OVS-Agent crashes when OVS dead\n\nOVS crash/restart is unpredictable, so neutron-ovs-agent should be\nrobust enough under that situation. But currently ovs-agent doesn't\nfigure out this error status(only check ovs restarted status) and\nstill continue to apply subsequent operations(set br/add patch\nport/...) till causing exceptions/crash. Add proper fail-over code\nto treat ovs dead/restart gracefully to prevent agent crashes\nwhile it is running.\nCloses-bug: #1296202\n\nChange-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99\n""}]",24,136991,26adf7a1deb275cdf2e81dd770daa0f5a481b7b2,218,33,12,7743,,,0,"OVS-Agent crashes when OVS dead

OVS crash/restart is unpredictable, so neutron-ovs-agent should be
robust enough under that situation. But currently ovs-agent doesn't
figure out this error status(only check ovs restarted status) and
still continue to apply subsequent operations(set br/add patch
port/...) till causing exceptions/crash. Add proper fail-over code
to treat ovs dead/restart gracefully to prevent agent crashes
while it is running.
Closes-bug: #1296202

Change-Id: Id64aeda9e28c6f4f45150f619b0e34b94a729f99
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/136991/12 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'],1,eeec0af780a419b6f2bd011b581e63ae5c5dd0c4,bug/1296202," canary_flow = None while canary_flow is None: # Check for the canary flow canary_flow = self.int_br.dump_flows_for_table( constants.CANARY_TABLE) if canary_flow == '': LOG.debug(""OVS is restarted. Reset bridges and "" ""recover ports."") return True elif canary_flow is None: LOG.error(""OVS is dead. OVSNeutronAgent keeps running "" ""and detecting ovs status periodically. "") # Agent doesn't apply any operations till ovs is alive, # to prevent unexpected failure or crash. time.sleep(self.polling_interval) else: # OVS is in normal status return False", # Check for the canary flow canary_flow = self.int_br.dump_flows_for_table(constants.CANARY_TABLE) return not canary_flow,18,3
openstack%2Fneutron~master~Ib7d8c454e68637295c3741f7832793654a1aaa76,openstack/neutron,master,Ib7d8c454e68637295c3741f7832793654a1aaa76,"If devices not be found, delete related sg rules.",ABANDONED,2014-12-18 05:42:39.000000000,2015-01-26 15:11:01.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-18 05:42:39.000000000', 'files': ['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72388153dcafebeb7244c623e31f46fdfb586792', 'message': 'If devices not be found, delete related sg rules.\n\nIf devices cannot be found in br-int, the security\ngroup rules should also be deleted.Do this to avoid\nresource leak.\n\nChange-Id: Ib7d8c454e68637295c3741f7832793654a1aaa76\nCloses-Bug: #1403729\n'}]",0,142669,72388153dcafebeb7244c623e31f46fdfb586792,16,25,1,13906,,,0,"If devices not be found, delete related sg rules.

If devices cannot be found in br-int, the security
group rules should also be deleted.Do this to avoid
resource leak.

Change-Id: Ib7d8c454e68637295c3741f7832793654a1aaa76
Closes-Bug: #1403729
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/142669/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'],1,72388153dcafebeb7244c623e31f46fdfb586792,bug/1403729, # Delete the security group rules for skipped devices self.sg_agent.remove_devices_filter(skipped_devices) ,,4,0
openstack%2Fneutron~master~I2403d02427230edded56899a8ee85fa8f6fb863e,openstack/neutron,master,I2403d02427230edded56899a8ee85fa8f6fb863e,This patch address the following review comments:,ABANDONED,2014-12-01 14:59:05.000000000,2015-01-26 15:11:00.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 1561}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 7293}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10692}, {'_account_id': 11952}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 13070}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-01 14:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70a83ae0c62e79252546dd7e5c86fb79d4425b86', 'message': 'L3 Controller initial implementation\n\nChange-Id: I2403d02427230edded56899a8ee85fa8f6fb863e\n'}, {'number': 2, 'created': '2014-12-04 16:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cde65d0edc3fe93cae35ee90fc019cf78d6761c', 'message': 'This patch address the following review comments:\n\n1  HACKING rules of OpenStack, Neutron, and pep8\n2  Fix unit test\n\nComments that will be resolved in next patch:\n1 L3 rpc minor version upgrade\n2 Decouple changes in the Ovs l2 agent\n3 Fix inheritance .HA scheduler mixin.\n4 Add Full unit test for the L3 Controller\n\nIn this patch the Controller Agent is embedded into\nthe service plugin and implements East West DVR Routing only\n\nNext Patches will include:\n. Migration of the L3 controller into an Agent\n. Implement the North South Logic\n. Implement the Public Network Agent\n. Implement a modified FWaaS driver\n\nChange-Id: I2403d02427230edded56899a8ee85fa8f6fb863e\n'}, {'number': 3, 'created': '2014-12-07 15:04:32.000000000', 'files': ['neutron/agent/linux/ovs_lib.py', 'neutron/plugins/openvswitch/common/constants.py', 'neutron/plugins/openvswitch/common/config.py', 'neutron/services/l3_router/README.l3_cont_dvr_plugin', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/openvswitch/test_ovs_tunnel.py', 'neutron/agent/rpc.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/services/l3_router/l3_cont_dvr_plugin.py', 'neutron/services/l3_router/l3_reactive_app.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8e3c8b3792e6401006eab6a4449fc23cf4f78b3', 'message': 'This patch address the following review comments:\n\n3  Fix pylint score\n(Could not suppress no-member pylint error on the ryu lib usage.\nThey are actually Linkng the event classes dynamically)\n\nComments that will be resolved in next patch:\n1 L3 rpc minor version upgrade\n2 Decouple changes in the Ovs l2 agent\n3 Fix inheritance .HA scheduler mixin.\n4 Add Full unit test for the L3 Controller\n\nIn this patch the Controller Agent is embedded into\nthe service plugin and implements East West DVR Routing only\n\nNext Patches will include:\n. Migration of the L3 controller into an Agent\n. Implement the North South Logic\n. Implement the Public Network Agent\n. Implement a modified FWaaS driver\n\nChange-Id: I2403d02427230edded56899a8ee85fa8f6fb863e\n'}]",31,138082,b8e3c8b3792e6401006eab6a4449fc23cf4f78b3,72,28,3,13070,,,0,"This patch address the following review comments:

3  Fix pylint score
(Could not suppress no-member pylint error on the ryu lib usage.
They are actually Linkng the event classes dynamically)

Comments that will be resolved in next patch:
1 L3 rpc minor version upgrade
2 Decouple changes in the Ovs l2 agent
3 Fix inheritance .HA scheduler mixin.
4 Add Full unit test for the L3 Controller

In this patch the Controller Agent is embedded into
the service plugin and implements East West DVR Routing only

Next Patches will include:
. Migration of the L3 controller into an Agent
. Implement the North South Logic
. Implement the Public Network Agent
. Implement a modified FWaaS driver

Change-Id: I2403d02427230edded56899a8ee85fa8f6fb863e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/138082/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ovs_lib.py', 'neutron/plugins/openvswitch/common/constants.py', 'neutron/plugins/openvswitch/common/config.py', 'neutron/services/l3_router/README.l3_cont_dvr_plugin', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/rpc.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/services/l3_router/l3_cont_dvr_plugin.py', 'neutron/services/l3_router/l3_reactive_app.py']",9,70a83ae0c62e79252546dd7e5c86fb79d4425b86,bp/l3-controller,"# Copyright (c) 2013 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # vim: tabstop=8 expandtab shiftwidth=4 softtabstop=4 from ryu.base import app_manager from ryu.controller import ofp_event, dpset from ryu.controller.handler import CONFIG_DISPATCHER, MAIN_DISPATCHER from ryu.controller.handler import set_ev_cls from ryu.ofproto import ofproto_v1_3 from ryu.controller.ofp_handler import OFPHandler from ryu.ofproto import ether from ryu.lib.packet import packet from ryu.lib.packet import ethernet from ryu.lib.mac import haddr_to_bin from ryu.lib.packet import vlan from ryu.lib.packet import arp from ryu.lib.packet import icmp from ryu.lib.packet import ipv4 from ryu.lib.packet import tcp from ryu.lib.packet import udp from ryu.lib.packet import vlan from ryu.ofproto import ofproto_v1_3_parser from ryu.lib import addrconv import collections import struct from time import sleep from neutron.openstack.common import log from neutron.common import topics from ryu.ofproto.ether import ETH_TYPE_8021Q from neutron.plugins.ml2 import driver_api as api from neutron.common import rpc as n_rpc from oslo.serialization import jsonutils from neutron import manager from neutron import context from neutron.plugins.common import constants as service_constants from collections import defaultdict import threading import thread import string LOG = log.getLogger(__name__) ETHERNET = ethernet.ethernet.__name__ VLAN = vlan.vlan.__name__ IPV4 = ipv4.ipv4.__name__ ARP = arp.arp.__name__ ICMP = icmp.icmp.__name__ TCP = tcp.tcp.__name__ UDP = udp.udp.__name__ VLANID_NONE = 0 VLANID_MIN = 2 VLANID_MAX = 4094 COOKIE_SHIFT_VLANID = 32 UINT16_MAX = 0xffff UINT32_MAX = 0xffffffff UINT64_MAX = 0xffffffffffffffff OFPFW_NW_PROTO = 1 << 5 HIGH_PRIOREITY_FLOW=1000 MEDIUM_PRIOREITY_FLOW=100 NORMAL_PRIOREITY_FLOW=10 LOW_PRIOREITY_FLOW=1 LOWEST_PRIOREITY_FLOW=0 # A class to represent a forwarding Elemnt Switch local state class AgentDatapath: def __init__(self): self.local_vlan_mapping = {} self.local_ports = None self.datapath= 0 self.patch_port_num = 0 #A class to represent tenat toplogie class TenantTopo(object): def __init__(self): self.nodes = set() self.edges = defaultdict(list) self.routers = [] self.distances = {} self.mac_to_port_data = collections.defaultdict(set) self.tenant_id = None #self.segmentation_id = None def add_router(self,router,id ): self.routers.append (router) def add_node(self, value): self.nodes.add(value) def add_edge(self, from_node, to_node, distance): self.edges[from_node].append(to_node) self.edges[to_node].append(from_node) self.distances[(from_node, to_node)] = distance # we need dijsktra only for extra route def dijsktra(graph, initial): visited = {initial: 0} path = {} nodes = set(graph.nodes) while nodes: min_node = None for node in nodes: if node in visited: if min_node is None: min_node = node elif visited[node] < visited[min_node]: min_node = node if min_node is None: break nodes.remove(min_node) current_weight = visited[min_node] for edge in graph.edges[min_node]: weight = current_weight + graph.distance[(min_node, edge)] if edge not in visited or weight < visited[edge]: visited[edge] = weight path[edge] = min_node return visited, path class Router(object): def __init__(self, data): self.data= data #self.subnets = defaultdict(list) self.subnets =[] def add_subnet(self,subnet,id ): self.subnets.append ( subnet) class Subnet (object): def __init__(self, data,port_data,segmentation_id): self.data= data self.port_data= port_data self.segmentation_id = segmentation_id class l3ReactiveApp(app_manager.RyuApp): OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION] #OFP_VERSIONS = [ofproto_v1_2.OFP_VERSION] #OFP_VERSIONS = [ofproto_v1_0.OFP_VERSION] BASE_RPC_API_VERSION = '1.0' BASE_TABLE = 0 CLASSIFIER_TABLE = 40 METADATA_TABLE_ID = 50 ARP_AND_BR_TABLE = 51 L3_VROUTER_TABLE = 52 def __init__(self, *args, **kwargs): super(l3ReactiveApp, self).__init__(*args, **kwargs) self.mac_to_port = {} self.ctx = context.get_admin_context() self.lock = thread.allocate_lock() self.Tenants = defaultdict(lambda:None) self.need_sync = True self.dp_list = {} def start(self): super(l3ReactiveApp, self).start() return 1 def create_router(self, *args, **kwargs): self.logger.info(""l3ReactiveApp create_router"") #self.sync_data() def notify_sync(self): self.need_sync = True for dpid in self.dp_list: datapath = self.dp_list[dpid].datapath self.send_features_request(datapath) self.send_flow_stats_request(datapath, table =self.METADATA_TABLE_ID) def sync_data(self): self.logger.info("" l3_reactive_app sync router data "") self.lock.acquire() # Lock self.logger.debug ('l3_reactive_app in the critical section the lock') if self.need_sync == True: l3plugin = manager.NeutronManager.get_service_plugins().get( service_constants.L3_ROUTER_NAT) routers = l3plugin.get_sync_data (self.ctx, None) router_pp = jsonutils.dumps(routers, indent=4) self.core_plugin = manager.NeutronManager.get_plugin() self.get_router_subnets(routers,l3plugin) self.need_sync = False del l3plugin del self.core_plugin self.core_plugin = None self.logger.debug ('l3_reactive_app releasing the lock') #Release self.lock.release() def get_router_subnets(self, router_data,l3plugin): for router in router_data: tenant_id = router['tenant_id'] if not router['tenant_id'] in self.Tenants: self.Tenants[router['tenant_id']] = TenantTopo() tenant_topo = self.Tenants[router['tenant_id']] tenant_topo.tenant_id = tenant_id router_cls = Router(router) tenant_topo.add_router(router_cls,router['id']) if ""_interfaces"" in router: for interface in router['_interfaces']: ports_data = self.get_ports_by_subnet(interface['subnet']['id']) segmentation_id = None for device in ports_data: port =self.get_port_bond_data(self.ctx, device['id'],device['binding:host_id']) print port if ""mac_address"" in port: tenant_topo.mac_to_port_data[port['mac_address']] = port segmentation_id = port['segmentation_id'] else: if (device['device_owner'] =='network:router_interface'): #if this a router then bind it to our application LOG.error(""No binding for router %s"",device) #tenant_topo.add_router(router,router['id']) subnet_cls = Subnet ( interface['subnet'],ports_data,segmentation_id) router_cls.add_subnet(subnet_cls,interface['subnet']['id']) def get_port_bond_data(self,ctx, port_id,device_id): port_context = self.core_plugin.get_bound_port_context(ctx, port_id,device_id) if not port_context: LOG.warning(_(""Device %(device)s requested by agent "" ""%(agent_id)s not found in database""), {'device': device_id, 'agent_id': port_id}) return {'device': device_id} segment = port_context.bound_segment port = port_context.current if not segment: LOG.warning(_(""Device %(device)s requested by agent "" "" on network %(network_id)s not "" ""bound, vif_type: ""), {'device': device_id, 'network_id': port['network_id']}) return {'device': device_id} entry = {'device': device_id, 'network_id': port['network_id'], 'port_id': port_id, 'mac_address': port['mac_address'], 'admin_state_up': port['admin_state_up'], 'network_type': segment[api.NETWORK_TYPE], 'segmentation_id': segment[api.SEGMENTATION_ID], 'physical_network': segment[api.PHYSICAL_NETWORK], 'fixed_ips': port['fixed_ips'], 'device_owner': port['device_owner']} LOG.debug(_(""Returning: %s""), entry) return entry def get_ports_by_subnet(self, subnet_id): filters = {'fixed_ips': {'subnet_id': [subnet_id]}} return self.core_plugin.get_ports(self.ctx, filters=filters) @set_ev_cls(ofp_event.EventOFPPacketIn, MAIN_DISPATCHER) def OF3_packet_in_handler_of(self, ev): if self.need_sync == 1: self.sync_data() msg = ev.msg datapath = msg.datapath ofproto = datapath.ofproto if msg.reason == ofproto.OFPR_NO_MATCH: reason = 'NO MATCH' elif msg.reason == ofproto.OFPR_ACTION: reason = 'ACTION' elif msg.reason == ofproto.OFPR_INVALID_TTL: reason = 'INVALID TTL' else: reason = 'unknown' LOG.debug('OFPPacketIn received: ' 'buffer_id=%x total_len=%d reason=%s ' 'table_id=%d cookie=%d match=%s', msg.buffer_id, msg.total_len, reason, msg.table_id, msg.cookie, msg.match) #utils.hex_array(msg.data)) in_port = msg.match['in_port'] pkt = packet.Packet(msg.data) eth = pkt.get_protocols(ethernet.ethernet)[0] dst = eth.dst src = eth.src dpid = datapath.id header_list = dict((p.protocol_name, p) for p in pkt.protocols if type(p) != str) vlan_id = VLANID_NONE if header_list: try: if ""ipv4"" in header_list: self.handle_ipv4_packet_in(datapath,msg,in_port,header_list,pkt,eth,dst,src) return if ""ipv6"" in header_list: self.handle_ipv6_packet_in(datapath,in_port,header_list,pkt,eth,dst,src) return except Exception as e: LOG.debug(""Unable to handle packet %(msg): %(e)s"", {'msg': msg, 'e': e}) LOG.error(("">>>>>>>>>> Unhandled Packet>>>>> %s"",pkt)) def handle_ipv6_packet_in(self,datapath,in_port,header_list,pkt,eth,dst,src): #TODO add ipv6 support LOG.error((""No handle for ipv6 yet should be offload to the NORMAL path %s"",pkt)) return def handle_ipv4_packet_in(self,datapath,msg,in_port,header_list,pkt,eth,dst,src): pkt_ipv4= header_list['ipv4'] pkt_ethernet = header_list['ethernet'] # Check vlan-tag if VLAN in header_list: vlan_id = header_list[VLAN].vid self.logger.info(""handle_ipv4_packet_in:: VLANID %s "",vlan_id) switch = self.dp_list.get(datapath.id) if switch: if not vlan_id in switch.local_vlan_mapping: #send request for loacl switch data #self.send_port_desc_stats_request(datapath) self.send_flow_stats_request(datapath, table =self.METADATA_TABLE_ID) LOG.error(""No local switch vlan mapping for vlan %s"",vlan_id) return self.logger.info(""packet segmentation_id %s "" ,switch.local_vlan_mapping[vlan_id] ) segmentation_id = switch.local_vlan_mapping[vlan_id] for tenantid in self.Tenants: tenant = self.Tenants[tenantid] for router in tenant.routers: for subnet in router.subnets: if segmentation_id ==subnet.segmentation_id: self.logger.info(""packet from to tenant %s "" ,self.Tenants[tenantid].tenant_id ) in_port_data = self.Tenants[tenantid].mac_to_port_data[eth.src] out_port_data = self.Tenants[tenantid].mac_to_port_data[eth.dst] LOG.debug(( 'Source port data <--- %s ',in_port_data)) LOG.debug(( 'Router Mac dest port data --> %s ',out_port_data)) if self.handle_router_interface( datapath , in_port, out_port_data, pkt,pkt_ethernet, pkt_ipv4) == 1 : # trafic to the virtual routre handle only ping return (dst_port_data, dst_subnet_id) = self.get_port_data( tenant, pkt_ipv4.dst) for _subnet in router.subnets: if dst_subnet_id == _subnet.data['id']: out_subnet = _subnet subnet_gw=out_subnet.data['gateway_ip'] (dst_gw_port_data, dst_gw_subnet_id) = self.get_port_data( tenant, subnet_gw) if self.handle_router_interface( datapath , in_port, dst_gw_port_data, pkt,pkt_ethernet, pkt_ipv4) == 1 : #this trafic to the virtual routre return if not dst_port_data: LOG.error(""No local switch mapping for %s"",pkt_ipv4.dst) return #LOG.debug(( 'dest port data --> %s ',dst_port_data)) if self.handle_router_interface( datapath , in_port, dst_port_data, pkt,pkt_ethernet, pkt_ipv4) != -1 : #case for vrouter that is not the gw and we are trying to ping #this trafic to the virtual routre return LOG.debug((""Route from %s to %s exist installing flow "",pkt_ipv4.src,pkt_ipv4.dst)) dst_vlan = self.get_loacl_vlan_from_segmentation_id(switch,out_subnet.segmentation_id) self.install_l3_forwarding_flows(datapath, msg, in_port_data, in_port, vlan_id, eth, pkt_ipv4, dst_gw_port_data, dst_port_data, dst_vlan) return def install_l3_forwarding_flows(self,datapath,msg,in_port_data, in_port, vlan_id, eth, pkt_ipv4, dst_gw_port_data, dst_port_data, dst_vlan): if ( dst_port_data['local_dpid_switch'] == datapath.id): # The dst VM and the source VM are on the same copute Node # Send output flow directly to port iuse the same datapath actions = self.add_flow_subnet_traffic(datapath, self.L3_VROUTER_TABLE, MEDIUM_PRIOREITY_FLOW, in_port, vlan_id, eth.src, eth.dst, pkt_ipv4.dst, pkt_ipv4.src, dst_gw_port_data['mac_address'], dst_port_data['mac_address'], dst_port_data['local_port_num']) # Install the reverse flow return traffic self.add_flow_subnet_traffic(datapath, self.L3_VROUTER_TABLE, MEDIUM_PRIOREITY_FLOW, dst_port_data['local_port_num'], dst_vlan, dst_port_data['mac_address'], dst_gw_port_data['mac_address'], pkt_ipv4.src, pkt_ipv4.dst, eth.dst, in_port_data['mac_address'], in_port_data['local_port_num']) self.handle_packet_out_l3(datapath,msg,in_port,actions) else: # The dst VM and the source VM are NOT on the same copute Node # Send output to br-tun patch port and install reverse flow on the dst compute node remoteSwitch = self.dp_list.get(dst_port_data['local_dpid_switch'] ) localSwitch = self.dp_list.get(datapath.id) actions = self.add_flow_subnet_traffic(datapath, self.L3_VROUTER_TABLE, MEDIUM_PRIOREITY_FLOW, in_port, vlan_id, eth.src, eth.dst, pkt_ipv4.dst, pkt_ipv4.src, dst_gw_port_data['mac_address'], dst_port_data['mac_address'], localSwitch.patch_port, dst_vlan) #Remote reverse flow install self.add_flow_subnet_traffic(remoteSwitch.datapath, self.L3_VROUTER_TABLE, MEDIUM_PRIOREITY_FLOW, dst_port_data['local_port_num'], dst_vlan, dst_port_data['mac_address'], dst_gw_port_data['mac_address'], pkt_ipv4.src, pkt_ipv4.dst, eth.dst, in_port_data['mac_address'], in_port_data['local_port_num'], vlan_id) self.handle_packet_out_l3(datapath,msg,in_port,actions) def handle_packet_out_l3(self,datapath,msg,in_port,actions): data = None parser = datapath.ofproto_parser ofproto = datapath.ofproto if msg.buffer_id == ofproto.OFP_NO_BUFFER: data = msg.data out = parser.OFPPacketOut(datapath=datapath, buffer_id=msg.buffer_id, in_port=in_port, actions=actions, data=data) datapath.send_msg(out) def add_flow_subnet_traffic (self, datapath, table, priority ,in_port, match_vlan, match_src_mac,match_dst_mac ,match_dst_ip, match_src_ip,src_mac,dst_mac,out_port_num,dst_vlan=None): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch() # BUG in the Ryu lib constructor match do not work match.set_dl_type(0x0800) match.set_in_port(in_port) match.set_dl_src(haddr_to_bin(match_src_mac)) match.set_dl_dst(haddr_to_bin(match_dst_mac)) match.set_ipv4_src(ipv4_text_to_int(str(match_src_ip))) match.set_ipv4_dst(ipv4_text_to_int(str(match_dst_ip))) match.set_vlan_vid( 0x1000| match_vlan) actions = [parser.OFPActionPopVlan()] actions.append(parser.OFPActionDecNwTtl()) actions.append(parser.OFPActionSetField(eth_src=src_mac)) actions.append(parser.OFPActionSetField(eth_dst=dst_mac)) actions.append(parser.OFPActionOutput(out_port_num, ofproto.OFPCML_NO_BUFFER)) if dst_vlan: field = parser.OFPMatchField.make(ofproto.OXM_OF_VLAN_VID,dst_vlan) actions.append(parser.OFPActionPushVlan (ETH_TYPE_8021Q)) actions.append(parser.OFPActionSetField (field)) ofproto = datapath.ofproto inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) return actions def add_flow_pop_vlan_to_normal(self, datapath, table, priority ,vlan_id): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch(vlan_vid=0x1000| vlan_id) #match = parser.OFPMatch(vlan_pcp=0) actions = [parser.OFPActionPopVlan(),parser.OFPActionOutput(ofproto.OFPP_NORMAL, ofproto.OFPCML_NO_BUFFER)] ofproto = datapath.ofproto inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) def add_flow_normal_for_local_subnet(self, datapath, table, priority ,dst_net,dst_mask,vlan_id): parser = datapath.ofproto_parser ofproto = datapath.ofproto #match = parser.OFPMatch(vlan_vid=0x1000| vlan_id) match = parser.OFPMatch( vlan_vid=0x1000| vlan_id) match.set_dl_type(0x0800) match.set_vlan_vid( 0x1000| vlan_id) match.set_ipv4_dst_masked(ipv4_text_to_int(str(dst_net)), mask_ntob(int(dst_mask))) #match = parser.OFPMatch(vlan_pcp=0) actions = [parser.OFPActionPopVlan(),parser.OFPActionOutput(ofproto.OFPP_NORMAL)] #actions = [parser.OFPActionOutput(ofproto.OFPP_NORMAL, # ofproto.OFPCML_NO_BUFFER)] ofproto = datapath.ofproto inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) def add_flow_normal_by_port_num(self, datapath, table, priority ,in_port): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch(in_port=in_port) #match = parser.OFPMatch(vlan_pcp=0) actions = [parser.OFPActionOutput(ofproto.OFPP_NORMAL)] ofproto = datapath.ofproto inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) def add_flow_push_vlan_by_port_num(self, datapath, table, priority ,in_port,dst_vlan, goto_table): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch() match.set_in_port(in_port) field = parser.OFPMatchField.make(ofproto.OXM_OF_VLAN_VID,0x1000|dst_vlan) actions = [datapath. ofproto_parser. OFPActionPushVlan (ETH_TYPE_8021Q), datapath.ofproto_parser.OFPActionSetField(field)] goto_inst = parser.OFPInstructionGotoTable(goto_table) ofproto = datapath.ofproto inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions),goto_inst] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) def delete_all_flow_from_table(self, datapath,table_id): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch() instructions = [] flow_mod = datapath.ofproto_parser.OFPFlowMod(datapath, 0, 0, table_id, ofproto.OFPFC_DELETE, 0, 0, 1, ofproto.OFPCML_NO_BUFFER, ofproto.OFPP_ANY, ofproto.OFPG_ANY, 0,match, instructions) datapath.send_msg(flow_mod) def add_flow_normal(self, datapath, table, priority ): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch(vlan_vid=0x1000) #match = parser.OFPMatch(vlan_pcp=0) actions = [parser.OFPActionPopVlan(),parser.OFPActionOutput(ofproto.OFPP_NORMAL)] ofproto = datapath.ofproto inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) def mod_flow(self, dp, cookie=0, cookie_mask=0, table_id=0, command=None, idle_timeout=0, hard_timeout=0, priority=0xff, buffer_id=0xffffffff, match=None, actions=None, inst_type=None, out_port=None, out_group=None, flags=0, inst=None): if command is None: command = dp.ofproto.OFPFC_ADD if inst is None: if inst_type is None: inst_type = dp.ofproto.OFPIT_APPLY_ACTIONS inst = [] if actions is not None: inst = [dp.ofproto_parser.OFPInstructionActions( inst_type, actions)] if match is None: match = dp.ofproto_parser.OFPMatch() if out_port is None: out_port = dp.ofproto.OFPP_ANY if out_group is None: out_group = dp.ofproto.OFPG_ANY m = dp.ofproto_parser.OFPFlowMod(dp, cookie, cookie_mask, table_id, command, idle_timeout, hard_timeout, priority, buffer_id, out_port, out_group, flags, match, inst) dp.send_msg(m) def add_flow_go_to_table2(self, dp, table, priority ,goto_table_id,match=None ): inst = [dp.ofproto_parser.OFPInstructionGotoTable(goto_table_id) ] self.mod_flow(dp, inst=inst,table_id=table,priority=priority,match=match) def add_flow_go_to_table_on_broadcast (self, dp, table, priority ,goto_table_id ): match = dp.ofproto_parser.OFPMatch(eth_dst='ff:ff:ff:ff:ff:ff') #ofproto = dp.ofproto #match.set_dl_type(0x0800) #match.set_vlan_vid(0xFFFF|ofproto.OFPVID_PRESENT) #addint = haddr_to_bin('ff:ff:ff:ff:ff:ff') #match.set_dl_dst_masked(addint,addint) #parser = dp.ofproto_parser # match.set_arp_opcode(0) #match = parser.OFPMatch(vlan_vid=0x1000| vlan_id) #actions = [parser.OFPActionOutput(ofproto.OFPP_NORMAL, # ofproto.OFPCML_NO_BUFFER)] #actions = [parser.OFPActionPopVlan(),parser.OFPActionOutput(ofproto.OFPP_NORMAL, # ofproto.OFPCML_NO_BUFFER)] #inst = [dp.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] #self.mod_flow(dp, inst=inst,table_id=table,priority=priority,match=match) self.add_flow_go_to_table2(dp, table, priority ,goto_table_id,match) def add_flow_go_to_table_on_multicast(self, dp, table, priority ,goto_table_id ): ofproto = dp.ofproto match = dp.ofproto_parser.OFPMatch( eth_dst='01:00:00:00:00:00') addint = haddr_to_bin('01:00:00:00:00:00') match.set_dl_dst_masked(addint,addint) self.add_flow_go_to_table2(dp, table, priority ,goto_table_id,match) def add_flow_go_to_table_on_arp (self, dp, table, priority ,goto_table_id ): match = dp.ofproto_parser.OFPMatch(eth_type=0x0806) self.add_flow_go_to_table2(dp, table, priority ,goto_table_id,match) def add_flow_go_to_table(self, datapath, table, priority ,goto_table_id): parser = datapath.ofproto_parser ofproto = datapath.ofproto match = parser.OFPMatch() actions = [parser.OFPInstructionGotoTable(goto_table_id)] inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] mod = datapath.ofproto_parser.OFPFlowMod( datapath=datapath, cookie=0, cookie_mask=0, table_id=table, command=ofproto.OFPFC_ADD, idle_timeout=0, hard_timeout=0, priority=priority, buffer_id=ofproto.OFP_NO_BUFFER, out_port=ofproto.OFPP_ANY, out_group=ofproto.OFPG_ANY, flags=0, match=match, instructions=inst) datapath.send_msg(mod) def add_flow_match_to_controller(self, datapath, table,priority, match =None , _actions=None): parser = datapath.ofproto_parser ofproto = datapath.ofproto ofproto = datapath.ofproto actions = [parser.OFPActionOutput(ofproto.OFPP_CONTROLLER, ofproto.OFPCML_NO_BUFFER)] inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] self.mod_flow(datapath, inst=inst,table_id=table,priority=priority,match=match) def add_flow_match_gw_mac_to_controller(self, datapath, dst_mac,table,priority,vlan_vid =None, _actions=None): parser = datapath.ofproto_parser ofproto = datapath.ofproto vlan_id=0x1000| vlan_vid match = parser.OFPMatch(eth_dst=dst_mac , vlan_vid=vlan_id) self.add_flow_match_to_controller(datapath,table,priority, match =match , _actions= _actions) def add_flow_l3(self, datapath, in_port, dst_mac, src_mac, vlan, actions): ofproto = datapath.ofproto match = datapath.ofproto_parser.OFPMatch(in_port=in_port, eth_dst=dst_mac, eth_src=src_mac, vlan_vid=vlan ) inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] mod = datapath.ofproto_parser.OFPFlowMod( datapath=datapath, cookie=0, cookie_mask=0, table_id=0, command=ofproto.OFPFC_ADD, idle_timeout=0, hard_timeout=0, priority=0, buffer_id=ofproto.OFP_NO_BUFFER, out_port=ofproto.OFPP_ANY, out_group=ofproto.OFPG_ANY, flags=0, match=match, instructions=inst) datapath.send_msg(mod) def add_flow(self, datapath, port, dst, actions): ofproto = datapath.ofproto match = datapath.ofproto_parser.OFPMatch(in_port=port, eth_dst=dst) inst = [datapath.ofproto_parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)] mod = datapath.ofproto_parser.OFPFlowMod( datapath=datapath, cookie=0, cookie_mask=0, table_id=0, command=ofproto.OFPFC_ADD, idle_timeout=0, hard_timeout=0, priority=0, buffer_id=ofproto.OFP_NO_BUFFER, out_port=ofproto.OFPP_ANY, out_group=ofproto.OFPG_ANY, flags=0, match=match, instructions=inst) datapath.send_msg(mod) @set_ev_cls(ofp_event.EventOFPPortStatus, MAIN_DISPATCHER) def _port_status_handler(self, ev): msg = ev.msg reason = msg.reason port_no = msg.desc.port_no datapath = ev.msg.datapath ofproto = msg.datapath.ofproto if reason == ofproto.OFPPR_ADD: self.logger.info(""port added %s"", port_no) elif reason == ofproto.OFPPR_DELETE: self.logger.info(""port deleted %s"", port_no) elif reason == ofproto.OFPPR_MODIFY: self.logger.info(""port modified %s"", port_no) else: self.logger.info(""Illeagal port state %s %s"", port_no, reason) # TODO Currently we update all the agents on modification on One LOG.info("" Updating flow table on agents got port update "") switch = self.dp_list.get(datapath.id) if switch: self.send_flow_stats_request(datapath, table =self.METADATA_TABLE_ID) @set_ev_cls(ofp_event.EventOFPSwitchFeatures, CONFIG_DISPATCHER) def switch_features_handler(self, ev): datapath = ev.msg.datapath ofproto = datapath.ofproto parser = datapath.ofproto_parser if self.need_sync == True: self.sync_data() switch = self.dp_list.get(datapath.id) if not switch: self.dp_list[datapath.id] = AgentDatapath() self.dp_list[datapath.id].datapath =datapath # Get local flows :: local Vlan mapping LOG.info(""Wait:: Let agent insert the meta data table "") sleep(1) #sleep during 500ms LOG.info(""Done Wait .. will retry if meta table not set "") self.send_flow_stats_request(datapath, table =self.METADATA_TABLE_ID) # --> meta #self.add_flow_go_to_table2(datapath, 0, 1 ,self.L3_VROUTER_TABLE) # main table 0 to Arp On ARp or broadcat or multicast self.add_flow_go_to_table_on_arp(datapath,self.CLASSIFIER_TABLE, NORMAL_PRIOREITY_FLOW ,self.ARP_AND_BR_TABLE) self.add_flow_go_to_table_on_broadcast(datapath, self.CLASSIFIER_TABLE, MEDIUM_PRIOREITY_FLOW , self.ARP_AND_BR_TABLE) self.add_flow_go_to_table_on_multicast(datapath, self.CLASSIFIER_TABLE,NORMAL_PRIOREITY_FLOW , self.ARP_AND_BR_TABLE) # Meta Table to L3 router table on all other trafic self.add_flow_go_to_table2(datapath, self.METADATA_TABLE_ID, 1 ,self.L3_VROUTER_TABLE) #self.add_flow_go_to_table2(datapath, self.METADATA_TABLE_ID, 1 ,self.ARP_AND_BR_TABLE) # Normal flow on arp table in low priorety self.add_flow_normal(datapath,self.ARP_AND_BR_TABLE,1) #del l3plugin def send_port_desc_stats_request(self, datapath): ofp_parser = datapath.ofproto_parser req = ofp_parser.OFPPortDescStatsRequest(datapath, 0) datapath.send_msg(req) @set_ev_cls(ofp_event.EventOFPPortDescStatsReply, MAIN_DISPATCHER) def port_desc_stats_reply_handler(self, ev): ports = [] datapath = ev.msg.datapath switch = self.dp_list.get(datapath.id) self.delete_all_flow_from_table (datapath,self.BASE_TABLE) for p in ev.msg.body: ports.append('port_no=%d hw_addr=%s name=%s config=0x%08x ' 'state=0x%08x curr=0x%08x advertised=0x%08x ' 'supported=0x%08x peer=0x%08x curr_speed=%d ' 'max_speed=%d' % (p.port_no, p.hw_addr, p.name, p.config, p.state, p.curr, p.advertised, p.supported, p.peer, p.curr_speed, p.max_speed)) if ""tap"" in p.name: LOG.debug(_(""Found DHCPD port %s using MAC %s One machine install Special(One Machine set up ) test use case"") ,p.name,p.hw_addr) self.add_flow_normal_by_port_num(datapath,0,HIGH_PRIOREITY_FLOW,p.port_no) elif ""qvo"" in p.name: # this is a VM port start with qvo<NET-ID[:11]> update the port data with the port num and the switch dpid (port_id, mac , segmentation_id)= self.update_local_port_num(p.name,p.port_no,datapath.id) vlan_id = self.get_loacl_vlan_from_segmentation_id(switch,segmentation_id) LOG.debug(_(""Found VM port %s using MAC %s %d"") ,p.name,p.hw_addr,datapath.id) if vlan_id: self.add_flow_push_vlan_by_port_num( datapath, 0, HIGH_PRIOREITY_FLOW , p.port_no, vlan_id, self.CLASSIFIER_TABLE) else: LOG.error(""No local switch vlan mapping for port %s on %d Sending to Normal PATH "",p.name,datapath.id) self.add_flow_normal_by_port_num(datapath,0,HIGH_PRIOREITY_FLOW,p.port_no) elif ""patch-tun"" in p.name: LOG.debug(_(""Found br-tun patch port %s %s sending to NORMAL path"") ,p.name,p.hw_addr) switch.patch_port_num =p.port_no self.add_flow_normal_by_port_num(datapath,0,HIGH_PRIOREITY_FLOW,p.port_no) self.logger.debug('OFPPortDescStatsReply received: %s', ports) switch.local_ports = ports self.add_flow_go_to_table2(datapath, 0, 1 ,self.CLASSIFIER_TABLE) self.add_flow_match_to_controller(datapath,self.L3_VROUTER_TABLE,0) self.add_flow_go_to_table2(datapath, self.CLASSIFIER_TABLE, 1 ,self.L3_VROUTER_TABLE) def send_features_request(self, datapath): ofp_parser = datapath.ofproto_parser req = ofp_parser.OFPFeaturesRequest(datapath) datapath.send_msg(req) def send_flow_stats_request(self, datapath, table =None ): ofp = datapath.ofproto ofp_parser = datapath.ofproto_parser if table == None: table =ofp.OFPTT_ALL cookie = cookie_mask = 0 match = ofp_parser.OFPMatch() req = ofp_parser.OFPFlowStatsRequest(datapath, 0, table, ofp.OFPP_ANY, ofp.OFPG_ANY, cookie, cookie_mask, match) datapath.send_msg(req) def _send_packet(self, datapath, port, pkt): ofproto = datapath.ofproto parser = datapath.ofproto_parser pkt.serialize() self.logger.info(""packet-out %s"" % (pkt,)) data = pkt.data #actions = [parser.OFPActionOutput(ofproto.OFPP_NORMAL, # ofproto.OFPCML_NO_BUFFER)] #actions = [parser.OFPActionPopVlan(),parser.OFPActionOutput(port=port)] actions = [parser.OFPActionOutput(port=port)] out = parser.OFPPacketOut(datapath=datapath, buffer_id=ofproto.OFP_NO_BUFFER, in_port=ofproto.OFPP_CONTROLLER, actions=actions, data=data) datapath.send_msg(out) def _handle_icmp(self, datapath, port, pkt_ethernet, pkt_ipv4, pkt_icmp): if pkt_icmp.type != icmp.ICMP_ECHO_REQUEST: return pkt = packet.Packet() pkt.add_protocol(ethernet.ethernet(ethertype=ether.ETH_TYPE_IP, dst=pkt_ethernet.src, src=pkt_ethernet.dst)) pkt.add_protocol(ipv4.ipv4(dst=pkt_ipv4.src, src=pkt_ipv4.dst, proto=pkt_ipv4.proto)) pkt.add_protocol(icmp.icmp(type_=icmp.ICMP_ECHO_REPLY, code=icmp.ICMP_ECHO_REPLY_CODE, csum=0, data=pkt_icmp.data)) self._send_packet(datapath, port, pkt) def get_loacl_vlan_from_segmentation_id(self,switch,segmentation_id): for vlan in switch.local_vlan_mapping: if segmentation_id == switch.local_vlan_mapping[vlan]: return vlan return 0 def update_local_port_num(self, port_name,port_num,dpid): for tenantid in self.Tenants: tenant = self.Tenants[tenantid] for mac in tenant.mac_to_port_data: port_data =tenant.mac_to_port_data[mac] #print ""port_data >>>>>>>>>>>>>>%s"",port_data if 'port_id' in port_data: port_id = port_data['port_id'] sub_str_port_id = str(port_id[0:11]) port_id_from_name = port_name[3:] if sub_str_port_id == port_id_from_name: port_data['local_port_num'] = port_num port_data['local_dpid_switch'] = dpid return ( port_data['port_id'] , mac, port_data['segmentation_id']) else: LOG.error(""No data in port)data %s "",port_data) return (0,0,0) def get_port_data(self,tenant, ip_address): for mac in tenant.mac_to_port_data: port_data =tenant.mac_to_port_data[mac] if 'fixed_ips' in port_data: for fixed_ips in port_data['fixed_ips']: if ip_address == fixed_ips['ip_address']: return (port_data, fixed_ips['subnet_id']) return (0,0) @set_ev_cls(ofp_event.EventOFPFlowStatsReply, MAIN_DISPATCHER) def flow_stats_reply_handler(self, ev): datapath = ev.msg.datapath if self.need_sync == True: self.sync_data() self.delete_all_flow_from_table (datapath,self.ARP_AND_BR_TABLE) #TODO for the moment we delete all the flows in the table TO delete only the relevant flows all ready installed self.delete_all_flow_from_table (datapath,self.L3_VROUTER_TABLE) # TODO remove ARP responders flows = [] for stat in ev.msg.body: for instruction in stat.instructions: if hasattr(instruction, 'metadata'): vlan_int= int (stat.match['vlan_vid']) if ( vlan_int > 4096): vlan_int -= 4096 switch = self.dp_list.get(datapath.id) if switch: #switch.segmentation_id_mapping[instruction.metadata] = str(vlan_int) switch.local_vlan_mapping[vlan_int] = instruction.metadata print ""VLAN ==%s seg_id == %s "" % (str(vlan_int) , instruction.metadata) flows.append('table_id=%s ' 'duration_sec=%d diuration_nsec=%d ' 'priority=%d ' 'idle_timeout=%d hard_timeout=%d flags=0x%04x ' 'cookie=%d packet_count=%d byte_count=%d ' 'match=%s instructions=%s vlan_id=%s metadata=%s' % (stat.table_id, stat.duration_sec, stat.duration_nsec, stat.priority, stat.idle_timeout, stat.hard_timeout, stat.flags, stat.cookie, stat.packet_count, stat.byte_count, stat.match, stat.instructions,stat.match['vlan_vid'] ,instruction.metadata)) l3plugin = manager.NeutronManager.get_service_plugins().get(service_constants.L3_ROUTER_NAT) switch = self.dp_list.get(datapath.id) for tenantid in self.Tenants: for router in self.Tenants[tenantid].routers: for subnet in router.subnets: for interface in router.data['_interfaces']: if interface['subnet']['id'] == subnet.data['id']: segmentation_id = subnet.segmentation_id vlan_id = self.get_loacl_vlan_from_segmentation_id(switch,segmentation_id) network,net_mask = self.get_subnet_from_cidr(subnet.data['cidr']) if vlan_id: self.add_flow_normal_for_local_subnet(datapath, self.L3_VROUTER_TABLE, NORMAL_PRIOREITY_FLOW, network, net_mask, vlan_id) self.add_flow_match_gw_mac_to_controller(datapath,interface['mac_address'], self.L3_VROUTER_TABLE, 99, vlan_id) l3plugin.setup_vrouter_arp_responder(self.ctx, ""br-int"", ""add"", self.ARP_AND_BR_TABLE, segmentation_id, interface['network_id'], interface['mac_address'], self.get_ip_address_from_router_interface(interface)) #No match on table L3_VROUTER_TABLE go to normal flow #No match on table L3_VROUTER_TABLE go to controller #Patch to overcome OVS BUG not accepting match on tag vlans #set Pop per taged vlan for vlan in switch.local_vlan_mapping: self.add_flow_pop_vlan_to_normal(datapath,self.ARP_AND_BR_TABLE,1,vlan) if not switch.local_vlan_mapping: LOG.error(""CRITICAL ERROR ***** Switch did not send local port data dpid == <%s> sending flow req "",datapath.id) sleep(0.5) #sleep during 500ms self.send_flow_stats_request(datapath, table =self.METADATA_TABLE_ID) else: self.send_port_desc_stats_request(datapath) del l3plugin def get_ip_address_from_router_interface(self,interface): for fixed_ip in interface['fixed_ips']: if ""ip_address"" in fixed_ip: return fixed_ip['ip_address'] def is_router_interface (self,port): if port['device_owner'] =='network:router_interface': return True else: return False def handle_router_interface( self , datapath ,in_port, port_data,pkt,pkt_ethernet,pkt_ipv4): # retVal -1 -- dst is not a v Router # retVal 1 -- The request was handled # retVal 0 -- router interface and the request was not handled retVal = -1 if (self.is_router_interface(port_data)): #router mac address retVal = 0 for fixed_ips in port_data['fixed_ips']: if pkt_ipv4.dst == fixed_ips['ip_address']: #The dst ip address is the router Ip address should be ping req pkt_icmp = pkt.get_protocol(icmp.icmp) if pkt_icmp: # send ping responce self._handle_icmp(datapath, in_port, pkt_ethernet, pkt_ipv4, pkt_icmp) LOG.info((""Sending ping echo response to ip %s "",pkt_ipv4.src)) retVal = 1 else: LOG.error((""any comunication to a router that is not ping should be dropped from ip %s mac %s"", pkt_ipv4.src, eth.src)) retVal =1 return retVal def send_flow_stats_request(self, datapath, table =None ): ofp = datapath.ofproto ofp_parser = datapath.ofproto_parser if table == None: table =ofp.OFPTT_ALL cookie = cookie_mask = 0 match = ofp_parser.OFPMatch() req = ofp_parser.OFPFlowStatsRequest(datapath, 0, table, ofp.OFPP_ANY, ofp.OFPG_ANY, cookie, cookie_mask, match) datapath.send_msg(req) def _send_packet(self, datapath, port, pkt): ofproto = datapath.ofproto parser = datapath.ofproto_parser pkt.serialize() self.logger.info(""packet-out %s"" % (pkt,)) data = pkt.data actions = [parser.OFPActionOutput(port=port)] out = parser.OFPPacketOut(datapath=datapath, buffer_id=ofproto.OFP_NO_BUFFER, in_port=ofproto.OFPP_CONTROLLER, actions=actions, data=data) datapath.send_msg(out) def _handle_icmp(self, datapath, port, pkt_ethernet, pkt_ipv4, pkt_icmp): if pkt_icmp.type != icmp.ICMP_ECHO_REQUEST: return pkt = packet.Packet() pkt.add_protocol(ethernet.ethernet(ethertype=ether.ETH_TYPE_IP, dst=pkt_ethernet.src, src=pkt_ethernet.dst)) pkt.add_protocol(ipv4.ipv4(dst=pkt_ipv4.src, src=pkt_ipv4.dst, proto=pkt_ipv4.proto)) pkt.add_protocol(icmp.icmp(type_=icmp.ICMP_ECHO_REPLY, code=icmp.ICMP_ECHO_REPLY_CODE, csum=0, data=pkt_icmp.data)) self._send_packet(datapath, port, pkt) def get_loacl_vlan_from_segmentation_id(self,switch,segmentation_id): for vlan in switch.local_vlan_mapping: if segmentation_id == switch.local_vlan_mapping[vlan]: return vlan return 0 #def find_port_id(self, port_name) # def check_direct_routing (self, tenant ,from_subnet_id ,to_subnet_id): from_subnet_cidr = from_subnet_id['cidr'] to_subnet_cidr = to_subnet_id['cidr'] split = m_subnet_cidr.split (""/"") return def get_subnet_from_cidr(self,cidr): split = cidr.split (""/"") return (split[0],split[1]) def _arp_reply_packet(self, arp_req_sha, arp_req_spa, arp_req_tpa): if not (arp_req_tpa in self.config.ip_addresses or arp_req_tpa == self.config.primary_ip_address): return None e = ethernet.ethernet(arp_req_sha, src_mac, ether.ETH_TYPE_ARP) a = arp.arp_ip(arp.ARP_REPLY, src_mac, arp_req_tpa, arp_req_sha, arp_req_spa) p = packet.Packet() p.add_protocol(e) utils.may_add_vlan(p, self.interface.vlan_id) p.add_protocol(a) p.serialize() self._transmit(p.data) #Base static def ipv4_apply_mask(address, prefix_len, err_msg=None): # import itertools assert isinstance(address, str) address_int = ipv4_text_to_int(address) return ipv4_int_to_text(address_int & mask_ntob(prefix_len, err_msg)) def ipv4_text_to_int(ip_text): if ip_text == 0: return ip_text assert isinstance(ip_text, str) return struct.unpack('!I', addrconv.ipv4.text_to_bin(ip_text))[0] def ipv4_int_to_text(ip_int): assert isinstance(ip_int, (int, long)) return addrconv.ipv4.bin_to_text(struct.pack('!I', ip_int)) def mask_ntob(mask, err_msg=None): try: return (UINT32_MAX << (32 - mask)) & UINT32_MAX except ValueError: msg = 'illegal netmask' if err_msg is not None: msg = '%s %s' % (err_msg, msg) raise ValueError(msg) ",,1788,18
openstack%2Fneutron~master~I311c156ad0a297feecf4c69609d53b150c9fa6c3,openstack/neutron,master,I311c156ad0a297feecf4c69609d53b150c9fa6c3,"Create the same member twice should not return 500 error. It should be 409 error,the review will fix it.",ABANDONED,2014-12-22 07:35:39.000000000,2015-01-26 15:10:54.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 5170}, {'_account_id': 7249}, {'_account_id': 9681}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12683}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-22 07:35:39.000000000', 'files': ['neutron/extensions/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2487eeef511f5fb4ea6e36a5314bc7524ddc9760', 'message': 'Create the same member twice should not return 500 error.\nIt should be 409 error,the review will fix it.\n\nChange-Id: I311c156ad0a297feecf4c69609d53b150c9fa6c3\n'}]",2,143386,2487eeef511f5fb4ea6e36a5314bc7524ddc9760,22,17,1,12683,,,0,"Create the same member twice should not return 500 error.
It should be 409 error,the review will fix it.

Change-Id: I311c156ad0a297feecf4c69609d53b150c9fa6c3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/143386/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/loadbalancer.py'],1,2487eeef511f5fb4ea6e36a5314bc7524ddc9760,create-member-twice-should-not-be-500error,class MemberExists(qexception.Conflict):,class MemberExists(qexception.NeutronException):,1,1
openstack%2Fneutron~master~I64ba630997841b2dddc4535fdd464bc15dd38b77,openstack/neutron,master,I64ba630997841b2dddc4535fdd464bc15dd38b77,Refactor unit test helpers to return objects,ABANDONED,2014-09-18 23:01:56.000000000,2015-01-26 15:10:53.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 14208}]","[{'number': 1, 'created': '2014-09-18 23:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/842405a533dae0713db37b5febc8d7bb5eebf790', 'message': 'WIP: Refactor unit test helpers to return objects\n\nMake the return value from the port, network, and subnet creation\nmethods in the unit tests return something with helper methods\nto manage the lifecycle of each item more concisely.\n\nRefactors the tests in test_db_plugin to leverage these new objects.\n\nChange-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77\n'}, {'number': 2, 'created': '2014-09-20 00:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3de62043e76b7c36f3c6b63af0f7cb57a985a15b', 'message': 'WIP: Refactor unit test helpers to return objects\n\nMake the return value from the port, network, and subnet creation\nmethods in the unit tests return something with helper methods\nto manage the lifecycle of each item more concisely.\nRefactors the tests in test_db_plugin to leverage these new objects.\n\nChange-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77\n'}, {'number': 3, 'created': '2014-09-20 07:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f4bbde78ee60c7a1086a901ebd0d1aa9cee2d6e', 'message': 'WIP: Refactor unit test helpers to return objects\n\nMake the return value from the port, network, and subnet creation\nmethods in the unit tests return something with helper methods\nto manage the lifecycle of each item more concisely.\nRefactors the tests in test_db_plugin to leverage these new objects.\n\nChange-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77\n'}, {'number': 4, 'created': '2014-09-22 03:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9e77a153198a1c5f60e6bce6192d0a530c61f66', 'message': 'WIP: Refactor unit test helpers to return objects\n\nMake the return value from the port, network, and subnet creation\nmethods in the unit tests return something with helper methods\nto manage the lifecycle of each item more concisely.\nRefactors the tests in test_db_plugin to leverage these new objects.\n\nChange-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77\n'}, {'number': 5, 'created': '2014-12-09 21:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9d3a6388db76847e618bd0d334c9404a8dad0c2', 'message': 'Refactor unit test helpers to return objects\n\nMake the return value from the port, network, and subnet creation\nmethods in the unit tests return an object with helper methods\nto manage the lifecycle of each item more concisely.\n\nRefactors the tests in test_db_plugin to leverage these new objects.\n\nChange-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77\n'}, {'number': 6, 'created': '2014-12-10 00:36:24.000000000', 'files': ['neutron/tests/unit/test_db_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0136f902025fb46883732e034b1d36266ce33de0', 'message': 'Refactor unit test helpers to return objects\n\nMake the return value from the port, network, and subnet creation\nmethods in the unit tests return an object with helper methods\nto manage the lifecycle of each item more concisely.\n\nChange-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77\n'}]",14,122560,0136f902025fb46883732e034b1d36266ce33de0,119,25,6,7787,,,0,"Refactor unit test helpers to return objects

Make the return value from the port, network, and subnet creation
methods in the unit tests return an object with helper methods
to manage the lifecycle of each item more concisely.

Change-Id: I64ba630997841b2dddc4535fdd464bc15dd38b77
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/122560/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_db_plugin.py'],1,842405a533dae0713db37b5febc8d7bb5eebf790,UTREFACTOR,"class DictWithBenefits(dict): # use 'update' for object db update dict_update = dict.update def __init__(self, testcase, fmt, *args, **kwargs): self.tc = testcase self.res = getattr(self.tc, '_create_%s' % self.obj_type)( fmt, *args, **kwargs) if self.res.status_int >= webob.exc.HTTPClientError.code: raise webob.exc.HTTPClientError(code=self.res.status_int) self.dict_update(self.tc.deserialize(fmt, self.res)) def delete(self, expected_code=None): req = self.tc.new_delete_request('%ss' % self.obj_type, self.id) self.res = req.get_response(self.tc.api) if expected_code: self.tc.assertEqual(self.res.status_int, expected_code) return self.res def update(self, data, expected_code=None): req = self.tc.new_update_request('%ss' % self.obj_type, data, self.id) self.res = req.get_response(self.tc.api) if expected_code: self.tc.assertEqual(self.res.status_int, expected_code) return self.tc.deserialize(self.tc.fmt, self.res) def show(self, expected_code=webob.exc.HTTPOk.code): return self.tc._show('%ss' % self.obj_type, self.id, expected_code=expected_code) def __getattr__(self, name): """"""Allow attribute access for all keys in the network dict."""""" if name in self.get(self.obj_type, ''): return self[self.obj_type][name] return super(DictWithBenefits, self).__getattribute__(name) class Network(DictWithBenefits): obj_type = 'network' class Subnet(DictWithBenefits): obj_type = 'subnet' class Port(DictWithBenefits): obj_type = 'port' return Network(self, fmt, name, admin_state_up, **kwargs) def _make_subnet(self, fmt, network, gateway_ip, cidr, ipv6_ra_mode=None, ipv6_address_mode=None, tenant_id=None): if isinstance(network, dict): net_id = network['network']['id'] if not tenant_id: tenant_id = network['network']['tenant_id'] else: net_id = network return Subnet(self, fmt, net_id=net_id, cidr=cidr, gateway_ip=gateway_ip, tenant_id=tenant_id, allocation_pools=allocation_pools, ip_version=ip_version, enable_dhcp=enable_dhcp, dns_nameservers=dns_nameservers, host_routes=host_routes, shared=shared, ipv6_ra_mode=ipv6_ra_mode, ipv6_address_mode=ipv6_address_mode) return Port(self, fmt, net_id, expected_res_status, **kwargs) yield Network(self, fmt or self.fmt, name, admin_state_up, **kwargs) yield Subnet(self, fmt or self.fmt, net_id=network_to_use.id, gateway_ip=gateway_ip, cidr=cidr, allocation_pools=allocation_pools, ip_version=ip_version, enable_dhcp=enable_dhcp, dns_nameservers=dns_nameservers, host_routes=host_routes, shared=shared, ipv6_ra_mode=ipv6_ra_mode, ipv6_address_mode=ipv6_address_mode) if kwargs.get('net_id'): yield Port(self, fmt or self.fmt, kwargs.pop('net_id'), **kwargs) else: with optional_ctx(subnet, self.subnet) as subnet_to_use: net_id = subnet_to_use['subnet']['network_id'] yield Port(self, fmt or self.fmt, net_id, **kwargs) port = self._make_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='another_tenant', set_context=True) port.delete() port = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id='another_tenant', set_context=True) port.delete() port.delete() port.show(expected_code=webob.exc.HTTPNotFound.code) port = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id='another_tenant', set_context=True) port.delete() port.show(expected_code=webob.exc.HTTPNotFound.code) res = port.update(data) ips = port.fixed_ips self.assertEqual(ips[0]['subnet_id'], subnet.id) res = subnet.delete() self.assertEqual(res.status_int, webob.exc.HTTPConflict.code) # Request a IP from specific subnet kwargs = {""fixed_ips"": [{'subnet_id': subnet.id}]} with contextlib.nested( self.port(subnet=subnet), self.port(net_id=subnet.network_id, **kwargs) ) as (port, port2): self.assertEqual(len(port.fixed_ips), 1) self.assertEqual(port.fixed_ips[0]['ip_address'], '10.0.0.2') self.assertEqual(port.fixed_ips[0]['subnet_id'], subnet.id) self.assertEqual(len(port2.fixed_ips), 1) self.assertEqual(port2.fixed_ips[0]['ip_address'], '10.0.0.3') self.assertEqual(port2.fixed_ips[0]['subnet_id'], subnet.id) network2 = self._make_network(fmt=self.fmt, name='net2', admin_state_up=True) kwargs = {""fixed_ips"": [{'subnet_id': subnet2.id}]} res = self._create_port(self.fmt, net_id=port.network_id, **kwargs) tenant_id=subnet.tenant_id, net_id=subnet.network_id, subnet2 = self._make_subnet( network=subnet.network_id, gateway_ip=attributes.ATTR_NOT_SPECIFIED, tenant_id=subnet.tenant_id) kwargs = {""fixed_ips"": [{'subnet_id': subnet.id}, {'subnet_id': subnet2.id}]} net_id = subnet.network_id port3 = self._make_port(self.fmt, net_id=net_id, **kwargs) ips = port3.fixed_ips self.assertEqual(ips[0]['subnet_id'], subnet.id) self.assertEqual(ips[1]['subnet_id'], subnet2.id) port4 = self._make_port(self.fmt, net_id=net_id) ips = port4.fixed_ips self.assertEqual(ips[0]['subnet_id'], subnet.id) self.assertEqual(ips[1]['subnet_id'], subnet2.id) port3.delete() port4.delete() network = self._make_network(fmt=self.fmt, name='net', admin_state_up=True) gateway_ip='fe80::1', port = self._make_port(self.fmt, network.id) self.assertEqual(len(port.fixed_ips), 1) eui_addr = str(ipv6_utils.get_ipv6_addr_by_EUI64(v6_subnet.cidr, port.mac_address)) self.assertEqual(port.fixed_ips[0]['ip_address'], eui_addr) kwargs = {""fixed_ips"": [{'subnet_id': subnet.id}] * 5} port = self._make_port(self.fmt, net_id=subnet.network_id, **kwargs) self.assertEqual(len(port.fixed_ips), 5) for ip in port.fixed_ips: port.delete() kwargs = {""fixed_ips"": [{'subnet_id': subnet.id}] * 5} port = self._make_port(self.fmt, net_id=subnet.network_id, **kwargs) self.assertEqual(len(port.fixed_ips), 5) for ip in port.fixed_ips: self.assertEqual(ip['subnet_id'], subnet.id) port.delete() ips = port.fixed_ips self.assertEqual(ips[0]['subnet_id'], subnet.id) [{'subnet_id': subnet.id}, res = self._create_port(self.fmt, net_id=port.network_id, **kwargs) [{'subnet_id': subnet.id, 'ip_address': '1.1.1.1'}]} res = self._create_port(self.fmt, net_id=port.network_id, **kwargs) for ip in ['1.1.1.1', '10.0.0.0', '10.0.0.255']: res = self._create_port(self.fmt, net_id=port.network_id, **kwargs) [{'subnet_id': subnet.id, 'ip_address': '10.0.0.1'}]} port2 = self._make_port(self.fmt, net_id=port.network_id, **kwargs) ips = port2.fixed_ips self.assertEqual(ips[0]['subnet_id'], subnet.id) port2.delete() kwargs = {""fixed_ips"": [{'subnet_id': subnet.id, 'ip_address': '1011.0.0.5'}]} res = self._create_port(self.fmt, net_id=subnet.network_id, **kwargs) self.assertEqual(ips[0]['subnet_id'], subnet.id) kwargs = {""fixed_ips"": [{'subnet_id': subnet.id, 'ip_address': '10.0.0.5'}]} port2 = self._make_port(self.fmt, net_id=port.network_id, **kwargs) ips = port2.fixed_ips # Allocate specific IP's for a in ['10.0.0.3', '10.0.0.4', '10.0.0.6']: port2 = self._make_port(self.fmt, net_id=subnet.network_id) ips = port2.fixed_ips p.delete() kwargs = {""fixed_ips"": [{'subnet_id': subnet.id, 'ip_address': '10.0.0.5'}, {'subnet_id': subnet.id, 'ip_address': '10.0.0.5'}]} res = self._create_port(self.fmt, net_id=subnet.network_id, **kwargs) res = self._create_port(self.fmt, net_id=subnet.network_id, **kwargs) kwargs = {""fixed_ips"": [{'subnet_id': subnet.id, res = self._create_port(self.fmt, net_id=subnet.network_id, **kwargs) ips = port.fixed_ips self.assertEqual(ips[0]['subnet_id'], subnet.id) for i in ['10.0.0.18', '10.0.0.20', '10.0.0.22', '10.0.0.21', '10.0.0.3', '10.0.0.17', '10.0.0.19']: port = self._make_port(self.fmt, net_id=port.network_id, **kwargs) ips = port.fixed_ips subnet.id) for p in ports_to_delete: p.delete() data = {'port': {'network_id': network.id, 'tenant_id': network.tenant_id, data = {'port': {'network_id': network.id, 'tenant_id': network.tenant_id, cidr='10.0.0.0/24') as sub: kwargs = {""fixed_ips"": [{'subnet_id': sub.id}] * 6} res = self._create_port(self.fmt, net_id=sub.network_id, **kwargs) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'port': {'fixed_ips': [{'subnet_id': subnet.id}] * 6}} port.update(data) self.assertEqual(port.res.status_int, subnet.network_id) p1.show(expected_code=webob.exc.HTTPNotFound.code) p2.show(expected_code=webob.exc.HTTPNotFound.code) p3.show(expected_code=webob.exc.HTTPOk.code) ctx, 'owner1', subnet.network_id) p1.show(expected_code=webob.exc.HTTPNotFound.code) p2.show(expected_code=webob.exc.HTTPOk.code) p3.show(expected_code=webob.exc.HTTPOk.code) del_port.side_effect = n_exc.PortNotFound(port_id=p.id) subnet.network_id) res = network.update(data) req = self.new_update_request('networks', data, network.id) res = network.update(data) ctx, subnet.id) port = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id=network.tenant_id, set_context=True) res = network.update(data) port.delete() port = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id='somebody_else', set_context=True) network.update(data) self.assertEqual(network.res.status_int, port.delete() port1 = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id='somebody_else', set_context=True) port2 = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id=network.tenant_id, set_context=True) network.update(data) self.assertEqual(network.res.status_int, port1.delete() port2.delete() port1 = self._make_port(self.fmt, network.id, webob.exc.HTTPCreated.code, tenant_id='somebody_else', set_context=True) self._create_subnet(self.fmt, network.id, tenant_id=network.tenant_id, network.update(data) self.assertEqual(network.res.status_int, port1.delete() net_res = network.show() net.delete() portob = self._make_port(self.fmt, network['network']['id'], device_owner=constants.DEVICE_OWNER_DHCP, fixed_ips=[ {'subnet_id': subnet1.id}, {'subnet_id': subnet2.id} ]) expected_subnets = [subnet1.id, subnet2.id] [s['subnet_id'] for s in portob.fixed_ips]) subnet1.delete() self.assertEqual(subnet1.res.status_int, 204) port = portob.show() expected_subnets = [subnet2.id] subnet2.delete() self.assertEqual(subnet2.res.status_int, 204) port = portob.show() subnet.delete(expected_code=webob.exc.HTTPConflict.code) data = self.deserialize( self.fmt, subnet.delete( expected_code=webob.exc.HTTPConflict.code)) msg = str(n_exc.SubnetInUse(subnet_id=subnet.id)) with self.port(subnet=subnet1, fixed_ips=[{'subnet_id': subnet1.id}]): res = subnet2.delete() network = self._make_network(fmt=self.fmt, name='net', admin_state_up=True) res = network.delete() data = {'subnet': {'network_id': network.id, 'tenant_id': network.tenant_id, subnet.update({'subnet': {'shared': True}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'gateway_ip': '100.0.0.1'}}, expected_code=webob.exc.HTTPClientError.code) with self.port(subnet=subnet, fixed_ips=[{'subnet_id': subnet.id, 'ip_address': subnet.gateway_ip}]): subnet.update({'subnet': {'gateway_ip': '10.0.0.99'}}, expected_code=webob.exc.HTTPConflict.code) subnet.update({'subnet': {'gateway_ip': 'fe80::1'}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'gateway_ip': '10.1.1.1'}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'dns_nameservers': dns_nameservers}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'host_routes': host_routes}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'host_routes': host_routes}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'gateway_ip': '10.0.0.50'}}, expected_code=webob.exc.HTTPConflict.code) res = subnet.update(data) subnet.update(data, expected_code=webob.exc.HTTPClientError.code) subnet.update(data, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'enable_dhcp': False}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'ipv6_ra_mode': constants.DHCPV6_STATEFUL}}, expected_code=webob.exc.HTTPClientError.code) subnet.update({'subnet': {'ipv6_address_mode': constants.DHCPV6_STATEFUL}}, expected_code=webob.exc.HTTPClientError.code) subnet.update(data, expected_code=webob.exc.HTTPClientError.code) res = subnet.show() res = subnet.update({'subnet': {'dns_nameservers': None}}) res = subnet.update({'subnet': {'dns_nameservers': ['11.0.0.3']}}) self.assertEqual(['11.0.0.3'], res['subnet']['dns_nameservers']) subnet.update({'subnet': {'dns_nameservers': dns_list}}, expected_code=webob.exc.HTTPClientError.code) res = subnet.update(data) res = subnet.update(data) res = subnet.update(data) subnet.update(data, expected_code=webob.exc.HTTPClientError.code)"," res = self._create_network(fmt, name, admin_state_up, **kwargs) # TODO(salvatore-orlando): do exception handling in this test module # in a uniform way (we do it differently for ports, subnets, and nets # Things can go wrong - raise HTTP exc with res code only # so it can be caught by unit tests if res.status_int >= webob.exc.HTTPClientError.code: raise webob.exc.HTTPClientError(code=res.status_int) return self.deserialize(fmt, res) def _make_subnet(self, fmt, network, gateway, cidr, ipv6_ra_mode=None, ipv6_address_mode=None): res = self._create_subnet(fmt, net_id=network['network']['id'], cidr=cidr, gateway_ip=gateway, tenant_id=network['network']['tenant_id'], allocation_pools=allocation_pools, ip_version=ip_version, enable_dhcp=enable_dhcp, dns_nameservers=dns_nameservers, host_routes=host_routes, shared=shared, ipv6_ra_mode=ipv6_ra_mode, ipv6_address_mode=ipv6_address_mode) # Things can go wrong - raise HTTP exc with res code only # so it can be caught by unit tests if res.status_int >= webob.exc.HTTPClientError.code: raise webob.exc.HTTPClientError(code=res.status_int) return self.deserialize(fmt, res) res = self._create_port(fmt, net_id, expected_res_status, **kwargs) # Things can go wrong - raise HTTP exc with res code only # so it can be caught by unit tests if res.status_int >= webob.exc.HTTPClientError.code: raise webob.exc.HTTPClientError(code=res.status_int) return self.deserialize(fmt, res) network = self._make_network(fmt or self.fmt, name, admin_state_up, **kwargs) yield network subnet = self._make_subnet(fmt or self.fmt, network_to_use, gateway_ip, cidr, allocation_pools, ip_version, enable_dhcp, dns_nameservers, host_routes, shared=shared, ipv6_ra_mode=ipv6_ra_mode, ipv6_address_mode=ipv6_address_mode) yield subnet with optional_ctx(subnet, self.subnet) as subnet_to_use: net_id = subnet_to_use['subnet']['network_id'] port = self._make_port(fmt or self.fmt, net_id, **kwargs) yield port port_res = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='another_tenant', set_context=True) port = self.deserialize(self.fmt, port_res) self._delete('ports', port['port']['id']) port_res = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='another_tenant', set_context=True) port = self.deserialize(self.fmt, port_res) self._delete('ports', port['port']['id']) self._delete('ports', port['port']['id']) self._show('ports', port['port']['id'], expected_code=webob.exc.HTTPNotFound.code) port_res = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='another_tenant', set_context=True) port = self.deserialize(self.fmt, port_res) self._delete('ports', port['port']['id']) self._show('ports', port['port']['id'], expected_code=webob.exc.HTTPNotFound.code) req = self.new_update_request('ports', data, port['port']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) ips = port['port']['fixed_ips'] self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) req = self.new_delete_request('subnet', subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPNotFound.code) with self.port(subnet=subnet) as port: ips = port['port']['fixed_ips'] self.assertEqual(len(ips), 1) self.assertEqual(ips[0]['ip_address'], '10.0.0.2') self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) # Request a IP from specific subnet kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id']}]} net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port2 = self.deserialize(self.fmt, res) ips = port2['port']['fixed_ips'] self.assertEqual(len(ips), 1) self.assertEqual(ips[0]['ip_address'], '10.0.0.3') self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) self._delete('ports', port2['port']['id']) res = self._create_network(fmt=self.fmt, name='net2', admin_state_up=True) network2 = self.deserialize(self.fmt, res) net_id = port['port']['network_id'] kwargs = {""fixed_ips"": [{'subnet_id': subnet2['subnet']['id']}]} net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) tenant_id = subnet['subnet']['tenant_id'] net_id = subnet['subnet']['network_id'] tenant_id=tenant_id, net_id=net_id, tenant_id = subnet['subnet']['tenant_id'] net_id = subnet['subnet']['network_id'] res = self._create_subnet( tenant_id=tenant_id, net_id=net_id, gateway_ip=attributes.ATTR_NOT_SPECIFIED) subnet2 = self.deserialize(self.fmt, res) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet2['subnet']['id']}]} res = self._create_port(self.fmt, net_id=net_id, **kwargs) port3 = self.deserialize(self.fmt, res) ips = port3['port']['fixed_ips'] self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) self.assertEqual(ips[1]['subnet_id'], subnet2['subnet']['id']) res = self._create_port(self.fmt, net_id=net_id) port4 = self.deserialize(self.fmt, res) ips = port4['port']['fixed_ips'] self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) self.assertEqual(ips[1]['subnet_id'], subnet2['subnet']['id']) self._delete('ports', port3['port']['id']) self._delete('ports', port4['port']['id']) res = self._create_network(fmt=self.fmt, name='net', admin_state_up=True) network = self.deserialize(self.fmt, res) gateway='fe80::1', port = self._make_port(self.fmt, network['network']['id']) self.assertEqual(len(port['port']['fixed_ips']), 1) port_mac = port['port']['mac_address'] subnet_cidr = v6_subnet['subnet']['cidr'] eui_addr = str(ipv6_utils.get_ipv6_addr_by_EUI64(subnet_cidr, port_mac)) self.assertEqual(port['port']['fixed_ips'][0]['ip_address'], eui_addr) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}]} net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port = self.deserialize(self.fmt, res) ips = port['port']['fixed_ips'] self.assertEqual(len(ips), 5) for ip in ips: self._delete('ports', port['port']['id']) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}]} net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port = self.deserialize(self.fmt, res) ips = port['port']['fixed_ips'] self.assertEqual(len(ips), 5) for ip in ips: self.assertEqual(ip['subnet_id'], subnet['subnet']['id']) self._delete('ports', port['port']['id']) ips = port['port']['fixed_ips'] self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) [{'subnet_id': subnet['subnet']['id']}, net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port2 = self.deserialize(self.fmt, res) [{'subnet_id': subnet['subnet']['id'], 'ip_address': '1.1.1.1'}]} net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port2 = self.deserialize(self.fmt, res) bad_ips = ['1.1.1.1', '10.0.0.0', '10.0.0.255'] net_id = port['port']['network_id'] for ip in bad_ips: res = self._create_port(self.fmt, net_id=net_id, **kwargs) port2 = self.deserialize(self.fmt, res) [{'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.1'}]} net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port2 = self.deserialize(self.fmt, res) ips = port2['port']['fixed_ips'] self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) self._delete('ports', port2['port']['id']) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id'], 'ip_address': '1011.0.0.5'}]} net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.5'}]} net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port2 = self.deserialize(self.fmt, res) ips = port2['port']['fixed_ips'] # Allocate specific IP's allocated = ['10.0.0.3', '10.0.0.4', '10.0.0.6'] for a in allocated: res = self._create_port(self.fmt, net_id=net_id) port2 = self.deserialize(self.fmt, res) ips = port2['port']['fixed_ips'] self._delete('ports', p['port']['id']) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.5'}, {'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.5'}]} net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id'], net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) ips = port['port']['fixed_ips'] self.assertEqual(ips[0]['subnet_id'], subnet['subnet']['id']) ips_only = ['10.0.0.18', '10.0.0.20', '10.0.0.22', '10.0.0.21', '10.0.0.3', '10.0.0.17', '10.0.0.19'] for i in ips_only: net_id = port['port']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) port = self.deserialize(self.fmt, res) ips = port['port']['fixed_ips'] subnet['subnet']['id']) for p in ports_to_delete: self._delete('ports', p['port']['id']) data = {'port': {'network_id': network['network']['id'], 'tenant_id': network['network']['tenant_id'], data = {'port': {'network_id': network['network']['id'], 'tenant_id': network['network']['tenant_id'], cidr='10.0.0.0/24') as subnet: kwargs = {""fixed_ips"": [{'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}]} net_id = subnet['subnet']['network_id'] res = self._create_port(self.fmt, net_id=net_id, **kwargs) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'port': {'fixed_ips': [{'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.2'}, {'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.4'}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}, {'subnet_id': subnet['subnet']['id']}]}} req = self.new_update_request('ports', data, port['port']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, network_id = subnet['subnet']['network_id'] network_id) self._show('ports', p1['port']['id'], expected_code=webob.exc.HTTPNotFound.code) self._show('ports', p2['port']['id'], expected_code=webob.exc.HTTPNotFound.code) self._show('ports', p3['port']['id'], expected_code=webob.exc.HTTPOk.code) network_id = subnet['subnet']['network_id'] ctx, 'owner1', network_id) self._show('ports', p1['port']['id'], expected_code=webob.exc.HTTPNotFound.code) self._show('ports', p2['port']['id'], expected_code=webob.exc.HTTPOk.code) self._show('ports', p3['port']['id'], expected_code=webob.exc.HTTPOk.code) del_port.side_effect = n_exc.PortNotFound( port_id=p['port']['id'] ) network_id = subnet['subnet']['network_id'] network_id) req = self.new_update_request('networks', data, network['network']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) req = self.new_update_request('networks', data, network['network']['id']) req = self.new_update_request('networks', data, network['network']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) ctx, subnet['subnet']['id']) res1 = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id=network['network']['tenant_id'], set_context=True) req = self.new_update_request('networks', data, network['network']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) port1 = self.deserialize(self.fmt, res1) self._delete('ports', port1['port']['id']) res1 = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='somebody_else', set_context=True) req = self.new_update_request('networks', data, network['network']['id']) self.assertEqual(req.get_response(self.api).status_int, port1 = self.deserialize(self.fmt, res1) self._delete('ports', port1['port']['id']) res1 = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='somebody_else', set_context=True) res2 = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id=network['network']['tenant_id'], set_context=True) req = self.new_update_request('networks', data, network['network']['id']) self.assertEqual(req.get_response(self.api).status_int, port1 = self.deserialize(self.fmt, res1) port2 = self.deserialize(self.fmt, res2) self._delete('ports', port1['port']['id']) self._delete('ports', port2['port']['id']) res1 = self._create_port(self.fmt, network['network']['id'], webob.exc.HTTPCreated.code, tenant_id='somebody_else', set_context=True) self._create_subnet(self.fmt, network['network']['id'], tenant_id=network['network']['tenant_id'], req = self.new_update_request('networks', data, network['network']['id']) self.assertEqual(req.get_response(self.api).status_int, port1 = self.deserialize(self.fmt, res1) self._delete('ports', port1['port']['id']) net_req = self.new_show_request('networks', network['network']['id']) raw_res = net_req.get_response(self.api) net_res = self.deserialize(self.fmt, raw_res) self._delete('networks', net['network']['id']) res = self._create_port(self.fmt, network['network']['id'], device_owner=constants.DEVICE_OWNER_DHCP, fixed_ips=[ {'subnet_id': subnet1['subnet']['id']}, {'subnet_id': subnet2['subnet']['id']} ]) port = self.deserialize(self.fmt, res) expected_subnets = [subnet1['subnet']['id'], subnet2['subnet']['id']] [s['subnet_id'] for s in port['port']['fixed_ips']]) req = self.new_delete_request('subnets', subnet1['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, 204) port = self._show('ports', port['port']['id']) expected_subnets = [subnet2['subnet']['id']] req = self.new_delete_request('subnets', subnet2['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, 204) port = self._show('ports', port['port']['id']) id = subnet['subnet']['id'] req = self.new_delete_request('subnets', id) res = req.get_response(self.api) data = self.deserialize(self.fmt, res) self.assertEqual(res.status_int, webob.exc.HTTPConflict.code) msg = str(n_exc.SubnetInUse(subnet_id=id)) subnet1_id = subnet1['subnet']['id'] subnet2_id = subnet2['subnet']['id'] with self.port( subnet=subnet1, fixed_ips=[{'subnet_id': subnet1_id}]): req = self.new_delete_request('subnets', subnet2_id) res = req.get_response(self.api) res = self._create_network(fmt=self.fmt, name='net', admin_state_up=True) network = self.deserialize(self.fmt, res) req = self.new_delete_request('networks', network['network']['id']) res = req.get_response(self.api) data = {'subnet': {'network_id': network['network']['id'], 'tenant_id': network['network']['tenant_id'], data = {'subnet': {'shared': True}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'gateway_ip': '100.0.0.1'}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) subnet_data = subnet['subnet'] with self.port( subnet=subnet, fixed_ips=[{'subnet_id': subnet_data['id'], 'ip_address': subnet_data['gateway_ip']}]): data = {'subnet': {'gateway_ip': '10.0.0.99'}} req = self.new_update_request('subnets', data, subnet_data['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, 409) data = {'subnet': {'gateway_ip': 'fe80::1'}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'gateway_ip': '10.1.1.1'}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'dns_nameservers': dns_nameservers}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'host_routes': host_routes}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'host_routes': host_routes}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'gateway_ip': '10.0.0.50'}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPConflict.code) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'enable_dhcp': False}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'ipv6_ra_mode': constants.DHCPV6_STATEFUL}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) data = {'subnet': {'ipv6_address_mode': constants.DHCPV6_STATEFUL}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) req = self.new_show_request('subnets', subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) data = {'subnet': {'dns_nameservers': None}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) data = {'subnet': {'dns_nameservers': ['11.0.0.3']}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) self.assertEqual(data['subnet']['dns_nameservers'], res['subnet']['dns_nameservers']) data = {'subnet': {'dns_nameservers': dns_list}} req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = self.deserialize(self.fmt, req.get_response(self.api)) req = self.new_update_request('subnets', data, subnet['subnet']['id']) res = req.get_response(self.api) self.assertEqual(res.status_int, webob.exc.HTTPClientError.code)",350,528
openstack%2Fneutron~master~I6b3e8411949f99e5421877964882115242758e6e,openstack/neutron,master,I6b3e8411949f99e5421877964882115242758e6e,Don't schedule snat for router-interface-actions,ABANDONED,2014-10-08 05:18:06.000000000,2015-01-26 15:10:52.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 6876}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12683}]","[{'number': 1, 'created': '2014-10-08 05:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7fc038044fe97a87058c10804dcbb98544f67a3', 'message': 'DB DuplicateError with router-interface-delete\n\nEven though the scheduler is designed to handle\nthe router-interface-delete and the gateway-clear,\nsometimes due to timing issues, the gateway-clear\nsuperscedes the router-interface-delete, and\ncauses a DB DuplicateError when trying to bind\ntwice for the snat binding.\n\nWhen gateway clear command is issued, it\ntakes a while to remove the external_gw_info but\nit removes the snat binding, because the snat\nbinding is removed and the gw port exists, the\ncall to router-interface-delete tries to do binding\nagain for the snat router.\n\nThis patch introduces the hints again to manage this\nsituation where the router-interface-delete or\nrouter-interface-add calls the schedule_router.\n\nCloses-Bug: #1378468\n\nChange-Id: I6b3e8411949f99e5421877964882115242758e6e\n'}, {'number': 2, 'created': '2014-10-08 16:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d841d4cd5e9a91ed47674fba860c363e872f2e00', 'message': 'DB DuplicateError with router-interface-delete\n\nEven though the scheduler is designed to handle\nthe router-interface-delete and the gateway-clear,\nsometimes due to timing issues, the gateway-clear\nsuperscedes the router-interface-delete, and\ncauses a DB DuplicateError when trying to bind\ntwice for the snat binding.\n\nWhen gateway clear command is issued, it\ntakes a while to remove the external_gw_info but\nit removes the snat binding, because the snat\nbinding is removed and the gw port exists, the\ncall to router-interface-delete tries to do binding\nagain for the snat router.\n\nThis patch introduces the hints again to manage this\nsituation where the router-interface-delete or\nrouter-interface-add calls the schedule_router.\n\nCloses-Bug: #1378468\n\nChange-Id: I6b3e8411949f99e5421877964882115242758e6e\n'}, {'number': 3, 'created': '2014-10-09 04:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd19d2b1163587e27e4f1643aad2d6eb20e20af8', 'message': 'DB DuplicateError with router-interface-delete\n\nEven though the scheduler is designed to handle\nthe router-interface-delete and the gateway-clear,\nsometimes due to timing issues, the gateway-clear\nsuperscedes the router-interface-delete, and\ncauses a DB DuplicateError when trying to bind\ntwice for the snat binding.\n\nWhen gateway clear command is issued, it\ntakes a while to remove the external_gw_info but\nit removes the snat binding, because the snat\nbinding is removed and the gw port exists, the\ncall to router-interface-delete tries to do binding\nagain for the snat router.\n\nThis patch introduces the hints again to manage this\nsituation where the router-interface-delete or\nrouter-interface-add calls the schedule_router.\n\nCloses-Bug: #1378468\n\nChange-Id: I6b3e8411949f99e5421877964882115242758e6e\n'}, {'number': 4, 'created': '2014-10-22 00:03:25.000000000', 'files': ['neutron/plugins/nec/nec_router.py', 'neutron/tests/unit/test_l3_schedulers.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/788a7ab372ab4ca8c21b786ef6f2fed25be48b09', 'message': 'Don\'t schedule snat for router-interface-actions\n\nEven though the scheduler is designed to handle\nthe router-interface-delete and the update-router,\nwith router-gateway-clear, sometimes due to\ntiming issues, the gateway-clear superscedes the\nrouter-interface-delete, and calls\n""schedule_snat_router"" even though it is not\nrequired for ""router-interface-delete"".\n\nThis patch addresses the issue by checking for\nthe subnet_id along with the router_type, and if\nsubnet_id exists it does not call the\nschedule_snat_router.\n\nPartial-Bug: #1378468\n\nChange-Id: I6b3e8411949f99e5421877964882115242758e6e\n'}]",13,126793,788a7ab372ab4ca8c21b786ef6f2fed25be48b09,94,29,4,7016,,,0,"Don't schedule snat for router-interface-actions

Even though the scheduler is designed to handle
the router-interface-delete and the update-router,
with router-gateway-clear, sometimes due to
timing issues, the gateway-clear superscedes the
router-interface-delete, and calls
""schedule_snat_router"" even though it is not
required for ""router-interface-delete"".

This patch addresses the issue by checking for
the subnet_id along with the router_type, and if
subnet_id exists it does not call the
schedule_snat_router.

Partial-Bug: #1378468

Change-Id: I6b3e8411949f99e5421877964882115242758e6e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/126793/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/plugins/nec/nec_router.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py', 'neutron/db/l3_agentschedulers_db.py']",5,a7fc038044fe97a87058c10804dcbb98544f67a3,bug/1378468," def schedule_router(self, context, router, candidates=None, hints=None): self, context, router, candidates=candidates, hints=hints) def schedule_routers(self, context, routers, hints=None): self.schedule_router(context, router, candidates=None, hints=hints)"," def schedule_router(self, context, router, candidates=None): self, context, router, candidates=candidates) def schedule_routers(self, context, routers): self.schedule_router(context, router, candidates=None)",38,19
openstack%2Fneutron~stable%2Ficehouse~Ib6cc45f2c6d0c7ae394274d6196262529b9fd855,openstack/neutron,stable/icehouse,Ib6cc45f2c6d0c7ae394274d6196262529b9fd855,Fix policy rules for adding and removing router interfaces,ABANDONED,2014-11-11 06:28:21.000000000,2015-01-26 15:10:51.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 979}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 7293}, {'_account_id': 8645}, {'_account_id': 8792}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9846}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-11 06:28:21.000000000', 'files': ['etc/policy.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fd4f84d9a822bfc52795b092d3d389a086bb1ce', 'message': 'Fix policy rules for adding and removing router interfaces\n\nCurrently ""add_router_interface"" and ""remove_router_interface""\npolicy rules have the ""update_router"" prefix and thus are never\nenforced. Removing the prefix activates the rules.\n\nAlso moved some rules, so that all router-related rules are\nnow grouped together.\n\nCloses-Bug: 1356678\n(cherry picked from commit 971747f4f23b4d8a3bf315011d0a441d03972860)\n\nConflicts:\n\tetc/policy.json\n\nChange-Id: Ib6cc45f2c6d0c7ae394274d6196262529b9fd855\n'}]",1,133621,7fd4f84d9a822bfc52795b092d3d389a086bb1ce,25,23,1,1313,,,0,"Fix policy rules for adding and removing router interfaces

Currently ""add_router_interface"" and ""remove_router_interface""
policy rules have the ""update_router"" prefix and thus are never
enforced. Removing the prefix activates the rules.

Also moved some rules, so that all router-related rules are
now grouped together.

Closes-Bug: 1356678
(cherry picked from commit 971747f4f23b4d8a3bf315011d0a441d03972860)

Conflicts:
	etc/policy.json

Change-Id: Ib6cc45f2c6d0c7ae394274d6196262529b9fd855
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/133621/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.json'],1,7fd4f84d9a822bfc52795b092d3d389a086bb1ce,bug/1356678," ""create_router"": ""rule:regular_user"", ""get_router"": ""rule:admin_or_owner"", ""delete_router"": ""rule:admin_or_owner"", ""add_router_interface"": ""rule:admin_or_owner"", ""remove_router_interface"": ""rule:admin_or_owner"","," ""create_router"": ""rule:regular_user"", ""get_router"": ""rule:admin_or_owner"", ""update_router:add_router_interface"": ""rule:admin_or_owner"", ""update_router:remove_router_interface"": ""rule:admin_or_owner"", ""delete_router"": ""rule:admin_or_owner"", ",6,6
openstack%2Fneutron~stable%2Ficehouse~Ic5aee3d6a6a09f9ef632e334a9b6fcf13d851ba1,openstack/neutron,stable/icehouse,Ic5aee3d6a6a09f9ef632e334a9b6fcf13d851ba1,Do not use PROTOCOL_SSLv3,ABANDONED,2014-11-21 10:37:00.000000000,2015-01-26 15:10:50.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 979}, {'_account_id': 5170}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9911}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-11-21 10:37:00.000000000', 'files': ['neutron/openstack/common/sslutils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ab0e7da9be2f887c13ce99dc2c571878c092d53', 'message': ""Do not use PROTOCOL_SSLv3\n\nThe ssl.PROTOCOL_SSLv3 support has dropped from Debian Sid, and\nanyway, should never been used, because of possible protocol\ndowngrade attacks. Therefore, this patch removes it from Neutron\nin the stable/icehouse branch as well. Note that this patch is\nalready in use in Debian. I'm not even sure that Neutron is using\nthis file, since all unit tests are passing, but to be on the safe\nside, it's best to just apply this patch.\n\nChange-Id: Ic5aee3d6a6a09f9ef632e334a9b6fcf13d851ba1\n""}]",0,136290,6ab0e7da9be2f887c13ce99dc2c571878c092d53,18,13,1,6476,,,0,"Do not use PROTOCOL_SSLv3

The ssl.PROTOCOL_SSLv3 support has dropped from Debian Sid, and
anyway, should never been used, because of possible protocol
downgrade attacks. Therefore, this patch removes it from Neutron
in the stable/icehouse branch as well. Note that this patch is
already in use in Debian. I'm not even sure that Neutron is using
this file, since all unit tests are passing, but to be on the safe
side, it's best to just apply this patch.

Change-Id: Ic5aee3d6a6a09f9ef632e334a9b6fcf13d851ba1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/136290/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/openstack/common/sslutils.py'],1,6ab0e7da9be2f887c13ce99dc2c571878c092d53,," ""sslv23"": ssl.PROTOCOL_SSLv23"," ""sslv23"": ssl.PROTOCOL_SSLv23, ""sslv3"": ssl.PROTOCOL_SSLv3",1,2
openstack%2Fneutron~master~I071c26e76b01c719bb4eed9159465565513ce9cf,openstack/neutron,master,I071c26e76b01c719bb4eed9159465565513ce9cf,Check for valid dhcp_agent binding in get_dhcp_agents_hosting_networks,ABANDONED,2014-12-03 02:31:16.000000000,2015-01-26 15:10:49.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7118}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-12-03 02:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b41de4f9e40d40f21633208f6acb4f20524e3ac', 'message': ""Check for valid dhcp_agent binding in get_dhcp_agents_hosting_networks\n\nA mis-match between the networkdhcpbindings table and the agents table\nas described in [1] can lead to get_dhcp_agents_hosting_networks\ntrying to find the heartbeat of a non-existing dhcp-agent.  This is\nfatal and stops all dhcp-agents working.\n\nThis change proposes checking the validity of the dhcp-agent found for\na network before looking for it's heartbeat.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1170017\n\nChange-Id: I071c26e76b01c719bb4eed9159465565513ce9cf\n""}, {'number': 2, 'created': '2014-12-03 21:32:02.000000000', 'files': ['neutron/db/agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc58f11f1c13b72c99069c8d765f5791b4380b54', 'message': ""Check for valid dhcp_agent binding in get_dhcp_agents_hosting_networks\n\nA mis-match between the networkdhcpbindings table and the agents table\nas described in [1] can lead to get_dhcp_agents_hosting_networks\ntrying to find the heartbeat of a non-existing dhcp-agent.  This is\nfatal and stops all dhcp-agents working.\n\nThis change proposes checking the validity of the dhcp-agent found for\na network before looking for it's heartbeat.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1170017\n\nCloses-Bug: #1398988\nChange-Id: I071c26e76b01c719bb4eed9159465565513ce9cf\n""}]",8,138610,bc58f11f1c13b72c99069c8d765f5791b4380b54,53,25,2,7118,,,0,"Check for valid dhcp_agent binding in get_dhcp_agents_hosting_networks

A mis-match between the networkdhcpbindings table and the agents table
as described in [1] can lead to get_dhcp_agents_hosting_networks
trying to find the heartbeat of a non-existing dhcp-agent.  This is
fatal and stops all dhcp-agents working.

This change proposes checking the validity of the dhcp-agent found for
a network before looking for it's heartbeat.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1170017

Closes-Bug: #1398988
Change-Id: I071c26e76b01c719bb4eed9159465565513ce9cf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/138610/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/agentschedulers_db.py'],1,6b41de4f9e40d40f21633208f6acb4f20524e3ac,ignore-bad-binding," # bindings have been seen to get out of sync, hence the check # for binding.dhcp_agent existence. if binding.dhcp_agent and AgentSchedulerDbMixin.is_eligible_agent(active, binding.dhcp_agent)]"," if AgentSchedulerDbMixin.is_eligible_agent(active, binding.dhcp_agent)]",5,2
openstack%2Fneutron~master~If3eb427c6a861c053ea03bb6bad9e437c217aa18,openstack/neutron,master,If3eb427c6a861c053ea03bb6bad9e437c217aa18,Boilerplate and POC of objects,ABANDONED,2014-12-08 21:56:02.000000000,2015-01-26 15:10:48.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-08 21:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a07c8da831d8a6dfced2be29affda6661eebe279', 'message': 'Objects\n\nChange-Id: If3eb427c6a861c053ea03bb6bad9e437c217aa18\n'}, {'number': 2, 'created': '2014-12-08 22:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed2981370e71644d62b4f66b1ed7ae2bad235371', 'message': 'Boilerplate and POC of objects\n\nImplement nova-style objects in Neutron. This first iteration\ndoes not implement any of the versioning or serialization logic\nbecause the place where those things will be implemented is still\nbeing decided.\n\nChange-Id: If3eb427c6a861c053ea03bb6bad9e437c217aa18\n'}, {'number': 3, 'created': '2014-12-09 00:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35ba378142924fc8299acc39a3758e5e5eb73639', 'message': 'Boilerplate and POC of objects\n\nImplement nova-style objects in Neutron. This first iteration\ndoes not implement any of the versioning or serialization logic\nbecause the place where those things will be implemented is still\nbeing decided.\n\nChange-Id: If3eb427c6a861c053ea03bb6bad9e437c217aa18\n'}, {'number': 4, 'created': '2014-12-09 20:56:42.000000000', 'files': ['neutron/objects/fields.py', 'neutron/objects/base.py', 'neutron/objects/models_v2.py', 'neutron/tests/unit/test_objects.py', 'neutron/objects/__init__.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74e5532a710b0f6fd2de2d94b7b00140414d47c0', 'message': 'Boilerplate and POC of objects\n\nImplement nova-style objects in Neutron. This first iteration\ndoes not implement any of the versioning or serialization logic\nbecause the place where those things will be implemented is still\nbeing decided.\n\nChange-Id: If3eb427c6a861c053ea03bb6bad9e437c217aa18\n'}]",3,140160,74e5532a710b0f6fd2de2d94b7b00140414d47c0,71,28,4,7787,,,0,"Boilerplate and POC of objects

Implement nova-style objects in Neutron. This first iteration
does not implement any of the versioning or serialization logic
because the place where those things will be implemented is still
being decided.

Change-Id: If3eb427c6a861c053ea03bb6bad9e437c217aa18
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/140160/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/fields.py', 'neutron/objects/port.py', 'neutron/tests/unit/test_models.py', 'neutron/objects/base.py', 'neutron/objects/__init__.py', 'neutron/common/exceptions.py', 'neutron/objects/ipallocation.py']",7,a07c8da831d8a6dfced2be29affda6661eebe279,,"# Copyright 2014 Big Switch Networks # # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.objects import base from neutron.objects import fields class IPAllocation(base.NeutronObject): fields = { 'port_id': fields.UUIDField(), 'subnet_id': fields.UUIDField(), 'network_id': fields.UUIDField(), 'ip_address': fields.IPV4AndV6AddressField(), } ",,1027,0
openstack%2Fneutron~master~I44d9b6aece44321302f1913186f6bf9aa67ec360,openstack/neutron,master,I44d9b6aece44321302f1913186f6bf9aa67ec360,Add autospec to patches in test_db_plugin,ABANDONED,2014-12-10 23:30:39.000000000,2015-01-26 15:10:47.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 2592}, {'_account_id': 2874}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7634}, {'_account_id': 7787}, {'_account_id': 7962}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-10 23:30:39.000000000', 'files': ['neutron/tests/unit/test_db_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be6f9037561d6820d4c270c705cd31652ebef2a6', 'message': 'Add autospec to patches in test_db_plugin\n\nAdd the autospec parameter to the mock patches in the\ntest_db_plugin test library.\n\nSee bug for details about this parameter.\n\nPartial-Bug: #1321946\nChange-Id: I44d9b6aece44321302f1913186f6bf9aa67ec360\n'}]",5,140866,be6f9037561d6820d4c270c705cd31652ebef2a6,35,27,1,7787,,,0,"Add autospec to patches in test_db_plugin

Add the autospec parameter to the mock patches in the
test_db_plugin test library.

See bug for details about this parameter.

Partial-Bug: #1321946
Change-Id: I44d9b6aece44321302f1913186f6bf9aa67ec360
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/140866/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_db_plugin.py'],1,be6f9037561d6820d4c270c705cd31652ebef2a6,bug/1321946," with mock.patch.object( manager.NeutronManager.get_plugin(), 'create_port', autospec=True ) as patched_plugin: with mock.patch.object( plugin, 'create_port', autospec=True) as patched_plugin: with mock.patch.object(plugin, 'delete_port', autospec=True) as del_port: mock.patch.object(plugin, 'delete_port', autospec=True) with mock.patch.object( manager.NeutronManager.get_plugin(), 'create_network', autospec=True ) as patched_plugin: with mock.patch.object( manager.NeutronManager.get_plugin(), 'create_network', autospec=True ) as patched_plugin: with mock.patch.object( manager.NeutronManager.get_plugin(), 'create_subnet', autospec=True ) as patched_plugin: with mock.patch.object( plugin, 'create_subnet', autospec=True) as patched_plugin: "," with mock.patch.object(manager.NeutronManager.get_plugin(), 'create_port') as patched_plugin: with mock.patch.object(plugin, 'create_port') as patched_plugin: with mock.patch.object(plugin, 'delete_port') as del_port: mock.patch.object(plugin, 'delete_port') with mock.patch.object(manager.NeutronManager.get_plugin(), 'create_network') as patched_plugin: with mock.patch.object(manager.NeutronManager.get_plugin(), 'create_network') as patched_plugin: with mock.patch.object(manager.NeutronManager.get_plugin(), 'create_subnet') as patched_plugin: with mock.patch.object(plugin, 'create_subnet') as patched_plugin:",24,12
openstack%2Fneutron~master~I4fa28cde7d5c490d68c1922f3b9d35e728cac78e,openstack/neutron,master,I4fa28cde7d5c490d68c1922f3b9d35e728cac78e,Avoid IpAddressInUse error during bulk port create,ABANDONED,2014-12-11 13:22:12.000000000,2015-01-26 15:10:46.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10237}, {'_account_id': 10267}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-11 13:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/650c081796b314948e672d6f17c773a0337a65ea', 'message': ""Avoid IpAddressInUse error during bulk port create\n\nIn the bulk version of the port create request, multiple port creations\nmay be requested. If there is a port without specifying an fixed_ip\naddress, one is assigned to it. If a later port requests the same\naddress, a conflict is detected and raised.\n\nNow 'create_port_bulk' will order the ports in the request, so that,\nfixed_ip configured ports will be created first and\nother ports will get remaining un allocated ip addresses.\nIn this way we can avoid the conflict address for two ports.\n\nCloses-bug: #1397087\nChange-Id: I4fa28cde7d5c490d68c1922f3b9d35e728cac78e\n""}, {'number': 2, 'created': '2014-12-18 06:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02e6a54e98d19bf435f274df91710f871b84b572', 'message': ""Avoid IpAddressInUse error during bulk port create\n\nIn the bulk version of the port create request, multiple port creations\nmay be requested. If there is a port without specifying an fixed_ip\naddress, one is assigned to it. If a later port requests the same\naddress, a conflict is detected and raised.\n\nNow 'create_port_bulk' will order the ports in the request, so that,\nfixed_ip configured ports will be created first and\nother ports will get remaining un allocated ip addresses.\nIn this way we can avoid the conflict address for two ports.\n\nCloses-bug: #1397087\nChange-Id: I4fa28cde7d5c490d68c1922f3b9d35e728cac78e\n""}, {'number': 3, 'created': '2014-12-18 09:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/997e395415f617cd2346b9274c6125e8aec90b94', 'message': ""Avoid IpAddressInUse error during bulk port create\n\nIn the bulk version of the port create request, multiple port creations\nmay be requested. If there is a port without specifying an fixed_ip\naddress, one is assigned to it. If a later port requests the same\naddress, a conflict is detected and raised.\n\nNow 'create_port_bulk' will order the ports in the request, so that,\nfixed_ip configured ports will be created first and\nother ports will get remaining un allocated ip addresses.\nIn this way we can avoid the conflict address for two ports.\n\nCloses-bug: #1397087\nChange-Id: I4fa28cde7d5c490d68c1922f3b9d35e728cac78e\n""}, {'number': 4, 'created': '2014-12-18 09:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62a19016dc1373ae01f069d9c4dc10a3d12bbd4d', 'message': ""Avoid IpAddressInUse error during bulk port create\n\nIn the bulk version of the port create request, multiple port creations\nmay be requested. If there is a port without specifying an fixed_ip\naddress, one is assigned to it. If a later port requests the same\naddress, a conflict is detected and raised.\n\nNow 'create_port_bulk' will order the ports in the request, so that,\nfixed_ip configured ports will be created first and\nother ports will get remaining un allocated ip addresses.\nIn this way we can avoid the conflict address for two ports.\n\nCloses-bug: #1397087\nChange-Id: I4fa28cde7d5c490d68c1922f3b9d35e728cac78e\n""}, {'number': 5, 'created': '2014-12-19 06:49:15.000000000', 'files': ['neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01f1c3c6fe0c7828058f41f8edadaf176c2e288c', 'message': ""Avoid IpAddressInUse error during bulk port create\n\nIn the bulk version of the port create request, multiple port creations\nmay be requested. If there is a port without specifying an fixed_ip\naddress, one is assigned to it. If a later port requests the same\naddress, a conflict is detected and raised.\n\nNow 'create_port_bulk' will order the ports in the request, so that,\nfixed_ip configured ports will be created first and\nother ports will get remaining un allocated ip addresses.\nIn this way we can avoid the conflict address for two ports.\n\nCloses-bug: #1397087\nChange-Id: I4fa28cde7d5c490d68c1922f3b9d35e728cac78e\n""}]",8,141047,01f1c3c6fe0c7828058f41f8edadaf176c2e288c,84,24,5,10267,,,0,"Avoid IpAddressInUse error during bulk port create

In the bulk version of the port create request, multiple port creations
may be requested. If there is a port without specifying an fixed_ip
address, one is assigned to it. If a later port requests the same
address, a conflict is detected and raised.

Now 'create_port_bulk' will order the ports in the request, so that,
fixed_ip configured ports will be created first and
other ports will get remaining un allocated ip addresses.
In this way we can avoid the conflict address for two ports.

Closes-bug: #1397087
Change-Id: I4fa28cde7d5c490d68c1922f3b9d35e728cac78e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/141047/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py']",2,650c081796b314948e672d6f17c773a0337a65ea,bug/1397087, # Order the ports so that fixed_ip configured ports # will be created first and other ports will get remaining # un allocated ip address fixed_ip_configured = [] fixed_ip_not_configured = [] for port in ports['ports']: if port['port']['fixed_ips'] is not attributes.ATTR_NOT_SPECIFIED: fixed_ip_configured.append(port) else: fixed_ip_not_configured.append(port) fixed_ip_configured.extend(fixed_ip_not_configured) ports = {'ports': fixed_ip_configured} ,,37,0
openstack%2Fneutron~master~I0a5f431946b91313c179bf89fc12b3e5ee5ac956,openstack/neutron,master,I0a5f431946b91313c179bf89fc12b3e5ee5ac956,KeyError in OVS DVR agent with gateway-mac read,ABANDONED,2014-12-18 07:45:12.000000000,2015-01-26 15:10:45.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 7016}, {'_account_id': 7787}, {'_account_id': 9361}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-18 07:45:12.000000000', 'files': ['neutron/plugins/openvswitch/agent/ovs_dvr_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e46dc9914da3a2e75175cb11432a58cfa962b9b2', 'message': 'KeyError in OVS DVR agent with gateway-mac read\n\nKeyError is seen when the ovs dvr agent is\ntrying to read the gateway-mac of the subnet\nto configure the rules.\n\nThis patch fixes the problem.\n\nChange-Id: I0a5f431946b91313c179bf89fc12b3e5ee5ac956\nCloses-Bug: #1403333\n'}]",3,142697,e46dc9914da3a2e75175cb11432a58cfa962b9b2,20,17,1,7016,,,0,"KeyError in OVS DVR agent with gateway-mac read

KeyError is seen when the ovs dvr agent is
trying to read the gateway-mac of the subnet
to configure the rules.

This patch fixes the problem.

Change-Id: I0a5f431946b91313c179bf89fc12b3e5ee5ac956
Closes-Bug: #1403333
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/142697/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/agent/ovs_dvr_neutron_agent.py'],1,e46dc9914da3a2e75175cb11432a58cfa962b9b2,bug/1403333," (subnet_info.get('gateway_mac'), (subnet_info.get('gateway_mac'), ofports)) (subnet_info.get('gateway_mac'), (subnet_info.get('gateway_mac'), ofports)) (subnet_info.get('gateway_mac'), (subnet_info.get('gateway_mac'), ofports)) (subnet_info.get('gateway_mac'), ofports)) (subnet_info.get('gateway_mac'), ofports)) (subnet_info.get('gateway_mac'), (subnet_info.get('gateway_mac'), ofports))"," (subnet_info['gateway_mac'], (subnet_info['gateway_mac'], ofports)) (subnet_info['gateway_mac'], (subnet_info['gateway_mac'], ofports)) (subnet_info['gateway_mac'], (subnet_info['gateway_mac'], ofports)) (subnet_info['gateway_mac'], ofports)) (subnet_info['gateway_mac'], ofports)) (subnet_info['gateway_mac'], (subnet_info['gateway_mac'], ofports))",10,10
openstack%2Fneutron~master~I7b11992f7f739b2ab2d8375399faa7ad59b93e03,openstack/neutron,master,I7b11992f7f739b2ab2d8375399faa7ad59b93e03,Enhance floating IP router lookup,ABANDONED,2013-11-12 08:51:44.000000000,2015-01-26 15:10:43.000000000,,"[{'_account_id': 3}, {'_account_id': 55}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 841}, {'_account_id': 2031}, {'_account_id': 2166}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 7141}, {'_account_id': 7448}, {'_account_id': 8449}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9329}, {'_account_id': 9333}, {'_account_id': 9423}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9885}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2013-11-12 08:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/791748548816f8ae3fe64cb3ae906be93d5fac5a', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension.\n\nThe fix is to first look for a router that has an explicit (extra)\nroute to the internal network, and only then look for routers that are\ndirectly connected to the internal network.\n\nCloses-bug: #1250105\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 2, 'created': '2013-11-14 14:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57e0056854f25fecf02b1983f19680b10c249d81', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension.\n\nThe fix is to first look for a router that has an explicit (extra)\nroute to the internal network, and only then look for routers that are\ndirectly connected to the internal network.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 3, 'created': '2013-11-14 14:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fdf3fd315620a55f9e73cf256a976b3e53bb3e5', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension.\n\nThe fix is to first look for a router that has an explicit (extra)\nroute to the internal network, and only then look for routers that are\ndirectly connected to the internal network.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 4, 'created': '2013-11-15 12:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a87406f297311872d446986a6f7e8df157b07daa', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension.\n\nThe fix is to also look for a router that has an explicit (extra)\nroute to the internal network.\n\nThe fix also ensures that the derived\nneutron.plugins.nec.nec_router.RouterMixin inherits the modified behavior.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 5, 'created': '2013-11-28 17:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4cd303950d755f9ddd9b7c5850073a32f405f43', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also allows a router with extra routes where:\n- The router is attached to the floating IP external network.\n- The internal address matches some route destination cidr.\n\nFor handling the possibility of the internal address being part of an\noverlapping IP range, the code also verifies that:\n- There is a single smallest such destination cidr.\n- There exists a path of devices (routers, compute instances, ...) that\n  connects the next-hop of the matching route to the actual network of\n  the internal address.\n\nOptionally, there is a possibility to add an extra validation on the\nrouter.\n\nThe fix also ensures that the derived:\nneutron.plugins.nec.nec_router.RouterMixin\ninherits the modified behavior.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 6, 'created': '2014-01-30 13:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0973c378e414ee11db74188ee945e20a2efb58e', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router is attached to the floating IP external network.\n- The internal address matches one of the router routes.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 7, 'created': '2014-02-05 09:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78a057ec8f847098b4348daa049bab727e301fac', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router is attached to the floating IP external network.\n- The internal address matches one of the router routes.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 8, 'created': '2014-02-05 10:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dba090212f5ef328a36f8fec4cf44b81e9031cf7', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router is attached to the floating IP external network.\n- The internal address matches one of the router routes.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 9, 'created': '2014-02-06 01:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3aa64a4c161d52086dc0fb454d0665ed0045b06d', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router has an interface belonging to the same tenant as the port\n  of the internal address.\n- The router is attached to the floating IP external network.\n- The internal address matches one of the router routes.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 10, 'created': '2014-02-09 15:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/575cafd91db0a01143e8a6a911d759235236cb00', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 11, 'created': '2014-02-10 07:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/394a97410838c80c1a81b7d7f7505fb1daa14c04', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 12, 'created': '2014-02-11 07:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ba55cbc7e775d07c31acd3b34d8055e8f11d0f1', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 13, 'created': '2014-02-23 21:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b78504aed5c126b62d9fd47769d79cbac33dab3f', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 14, 'created': '2014-03-01 21:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8469519618a1df3558f93e7b02be7f159fd48807', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 15, 'created': '2014-07-09 14:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ef6bfcfb057cf74a939126291c5a0029860f589', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 16, 'created': '2014-07-17 11:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acade40f2496260da6f1239e38595834d7fd8766', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n- The internal address network is (possibly indirectly) connected to\n  the router.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 17, 'created': '2014-08-15 08:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d427ce92cdc3f9aac65f4a0a120ba035a55a45a8', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n- The internal address network is (possibly indirectly) connected to\n  the router.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}, {'number': 18, 'created': '2014-08-22 10:39:15.000000000', 'files': ['neutron/plugins/nec/nec_router.py', 'neutron/tests/unit/test_extension_extraroute.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7221d195ba0af1b5d211c56b9a765da1eef86fe7', 'message': 'Enhance floating IP router lookup\n\nWhen associating a floating IP with an internal address we look for a\nrouter that is connected to the external network (from which the\nfloating IP is allocated) and to the internal network on which the\ninternal address is found.\n\nThe current code considers only internal networks that are directly\nconnected to the router. It does not take into account routes that are\nconfigured on the router via the extraroute extension, that is, it does\nnot allow associating a floating IP with networks that are reachable by\nhopping over devices that connect networks.\n\nGiven an internal address with which we would like to associate a\nfloating IP, the fix also considers routers with extra routes where\nall of the following conditions are met:\n- The router belongs to the same tenant as the port of the internal\n  address.\n- The internal address matches one of the router routes.\n- The router is attached to the floating IP external network.\n- The internal address network is (possibly indirectly) connected to\n  the router.\n\nThe router with the most specific route will be used.\n\nUnit tested by test_floatingip_reachable_by_route() in:\nneutron/tests/unit/test_extension_extraroute.py\n\nCloses-bug: #1250105\n\nImplements: blueprint floating-ip-extra-route\n\nChange-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03\n'}]",95,55987,7221d195ba0af1b5d211c56b9a765da1eef86fe7,378,39,18,9333,,,0,"Enhance floating IP router lookup

When associating a floating IP with an internal address we look for a
router that is connected to the external network (from which the
floating IP is allocated) and to the internal network on which the
internal address is found.

The current code considers only internal networks that are directly
connected to the router. It does not take into account routes that are
configured on the router via the extraroute extension, that is, it does
not allow associating a floating IP with networks that are reachable by
hopping over devices that connect networks.

Given an internal address with which we would like to associate a
floating IP, the fix also considers routers with extra routes where
all of the following conditions are met:
- The router belongs to the same tenant as the port of the internal
  address.
- The internal address matches one of the router routes.
- The router is attached to the floating IP external network.
- The internal address network is (possibly indirectly) connected to
  the router.

The router with the most specific route will be used.

Unit tested by test_floatingip_reachable_by_route() in:
neutron/tests/unit/test_extension_extraroute.py

Closes-bug: #1250105

Implements: blueprint floating-ip-extra-route

Change-Id: I7b11992f7f739b2ab2d8375399faa7ad59b93e03
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/55987/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,791748548816f8ae3fe64cb3ae906be93d5fac5a,bp/floating-ip-extra-route," # find a router on the external network with a route to the internal # subnet router_intf_qry = context.session.query(models_v2.Port) router_intf_ports = router_intf_qry.filter_by( network_id=external_network_id, device_owner=DEVICE_OWNER_ROUTER_GW) for intf_p in router_intf_ports: router_id = intf_p['device_id'] router = self.get_router(context, router_id) if not 'routes' in router: continue for r in router['routes']: if not r['destination'] == subnet_db['cidr']: continue return router_id ",,17,0
openstack%2Fneutron~master~I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0,openstack/neutron,master,I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0,Fixes Hyper-V agent stateful security group rules,ABANDONED,2014-08-28 15:52:36.000000000,2015-01-26 15:10:42.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10635}, {'_account_id': 12040}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-08-28 15:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9da0edec59a793b5d3104c754c0601eef0caf365', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}, {'number': 2, 'created': '2014-08-28 15:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6e4fc3ad555ec77a1706f68685bc0da2dcf31a5', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}, {'number': 3, 'created': '2014-08-28 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85207dfdcc940b64f24cdb7e949b869975162b1f', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}, {'number': 4, 'created': '2014-09-04 16:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75b5f7564284de39300fa1db92709c84e1ae4375', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nCloses-Bug: #1362676\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}, {'number': 5, 'created': '2014-09-05 10:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a05706a5c2845905ede4e5e4e953e137e7b30883', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nCloses-Bug: #1362676\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}, {'number': 6, 'created': '2014-09-05 12:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39e17c5f2a8fa4f2abfd3b3ce4801305a14316c6', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nCloses-Bug: #1362676\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}, {'number': 7, 'created': '2014-09-05 14:57:26.000000000', 'files': ['neutron/plugins/hyperv/agent/utilsv2.py', 'neutron/tests/unit/hyperv/test_hyperv_utilsv2.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/hyperv/agent/security_groups_driver.py', 'neutron/plugins/hyperv/agent/utilsfactory.py', 'neutron/tests/unit/hyperv/test_hyperv_security_groups_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a541b14d36fa0558af2f8e0250d5ae3f77f8d1f', 'message': 'Fixes Hyper-V agent stateful security group rules\n\nHyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that\nsecurity group rules which allows ""ANY"" protocol must be split up\ninto separate rules for each protocol.\nAlso, Hyper-V does not allow stateful ICMP rules, which means ICMP rules\nmust be added both inbound and outbound.\n\nCloses-Bug: #1362676\n\nChange-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0\n'}]",12,117543,9a541b14d36fa0558af2f8e0250d5ae3f77f8d1f,133,23,7,8213,,,0,"Fixes Hyper-V agent stateful security group rules

Hyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that
security group rules which allows ""ANY"" protocol must be split up
into separate rules for each protocol.
Also, Hyper-V does not allow stateful ICMP rules, which means ICMP rules
must be added both inbound and outbound.

Closes-Bug: #1362676

Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/117543/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/hyperv/agent/utilsv2.py', 'neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/plugins/hyperv/agent/security_groups_driver.py', 'neutron/plugins/hyperv/agent/utilsfactory.py', 'neutron/tests/unit/hyperv/test_hyperv_security_groups_driver.py']",5,9da0edec59a793b5d3104c754c0601eef0caf365,bug/1362676,"from neutron.plugins.hyperv.agent import security_groups_driver as sg_driver0 from neutron.plugins.hyperv.agent import security_groups_driver2 as sg_driver self._driver = sg_driver0.HyperVSecurityGroupsDriver() 'direction': self._driver._ACL_MAP[ 'acl_type': self._driver._ACL_MAP[ 'protocol': self._driver._ACL_MAP['default'], self.assertEqual(self._driver._ACL_MAP['address_default']['IPv4'], self.assertEqual(self._driver._ACL_MAP['address_default']['IPv6'], 'icmp', self._driver._ACL_MAP['protocol']['icmp']) class SecurityGroupRulesTestCase(base.BaseTestCase): _FAKE_DEVICE = 'fake_device' _FAKE_ID = 'fake_id' _FAKE_DIRECTION = 'ingress' _FAKE_ETHERTYPE = 'IPv4' _FAKE_ETHERTYPE_IPV6 = 'IPv6' _FAKE_PROTOCOL = 'tcp' _FAKE_ACTION = sg_driver._ACL_MAP['action']['allow'] _FAKE_DEST_IP_PREFIX = 'fake_dest_ip_prefix' _FAKE_SOURCE_IP_PREFIX = 'fake_source_ip_prefix' _FAKE_PARAM_NAME = 'fake_param_name' _FAKE_PARAM_VALUE = 'fake_param_value' _FAKE_PORT_MIN = 9001 _FAKE_PORT_MAX = 9011 def setUp(self): super(SecurityGroupRulesTestCase, self).setUp() self.sg_gen = sg_driver.SecurityGroupRuleGenerator() def test_create_security_group_rule(self): expected = [self._create_sg_rule()] rule = self._create_security_rule() actual = self.sg_gen.create_security_group_rule(rule) self.assertEqual(expected, actual) def test_create_security_group_rules(self): expected = [self._create_sg_rule()] * 2 rules = [self._create_security_rule()] * 2 actual = self.sg_gen.create_security_group_rules(rules) self.assertEqual(expected, actual) def test_create_security_group_rule_any(self): sg_rule1 = self._create_sg_rule(self._acl('protocol', 'tcp')) sg_rule2 = self._create_sg_rule(self._acl('protocol', 'udp')) sg_rule3 = self._create_sg_rule(self._acl('protocol', 'icmp')) rule = self._create_security_rule() rule['protocol'] = sg_driver._ACL_MAP[""default""] actual = self.sg_gen.create_security_group_rule(rule) self.assertEqual(sorted([sg_rule1, sg_rule2, sg_rule3]), sorted(actual)) def test_sg_rule_to_dict(self): expected = {'Direction': self._acl('direction', self._FAKE_DIRECTION), 'Action': self._FAKE_ACTION, 'Protocol': self._FAKE_PROTOCOL, 'LocalPort': '%s-%s' % (self._FAKE_PORT_MIN, self._FAKE_PORT_MAX), 'RemoteIPAddress': self._FAKE_DEST_IP_PREFIX, 'Stateful': True, 'IdleSessionTimeout': 0 } sg_rule = self._create_sg_rule() self.assertEqual(expected, sg_rule.to_dict()) def test_stateful_icmp(self): sg_rule = self._create_sg_rule(self._acl('protocol', 'icmp')) self.assertFalse(sg_rule.Stateful) def test_stateful_deny(self): sg_rule = self._create_sg_rule(action=self._acl('action', 'deny')) self.assertFalse(sg_rule.Stateful) def test_stateful_true(self): sg_rule = self._create_sg_rule() self.assertTrue(sg_rule.Stateful) def test_rule_uniqueness(self): sg_rule = self._create_sg_rule() sg_rule2 = self._create_sg_rule(self._acl('protocol', 'icmp')) self.assertEqual([sg_rule], list(set([sg_rule] * 2))) self.assertEqual(sorted([sg_rule, sg_rule2]), sorted(list(set([sg_rule, sg_rule2])))) def _create_security_rule(self): return { 'direction': self._FAKE_DIRECTION, 'ethertype': self._FAKE_ETHERTYPE, 'protocol': self._FAKE_PROTOCOL, 'dest_ip_prefix': self._FAKE_DEST_IP_PREFIX, 'source_ip_prefix': self._FAKE_DEST_IP_PREFIX, 'port_range_min': self._FAKE_PORT_MIN, 'port_range_max': self._FAKE_PORT_MAX } def _create_sg_rule(self, protocol=None, action=None): protocol = protocol or self._FAKE_PROTOCOL action = action or self._FAKE_ACTION return sg_driver.SecurityGroupRule( self._acl('direction', self._FAKE_DIRECTION), '%s-%s' % (self._FAKE_PORT_MIN, self._FAKE_PORT_MAX), protocol, self._FAKE_DEST_IP_PREFIX, action) @classmethod def _acl(self, key1, key2): return sg_driver._ACL_MAP[key1][key2] ","from neutron.plugins.hyperv.agent import security_groups_driver as sg_driver self._driver = sg_driver.HyperVSecurityGroupsDriver() 'direction': self._driver._ACL_PROP_MAP[ 'acl_type': self._driver._ACL_PROP_MAP[ 'protocol': self._driver._ACL_PROP_MAP['default'], self.assertEqual(self._driver._ACL_PROP_MAP['address_default']['IPv4'], self.assertEqual(self._driver._ACL_PROP_MAP['address_default']['IPv6'], 'icmp', self._driver._ACL_PROP_MAP['protocol']['icmp'])",378,135
openstack%2Fneutron~master~Ia86c4dd2b4b327175aeb411dca5c2013c8ad8fdb,openstack/neutron,master,Ia86c4dd2b4b327175aeb411dca5c2013c8ad8fdb,lb-agent: Defer firewall refresh,ABANDONED,2014-09-15 09:48:42.000000000,2015-01-26 15:10:41.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 12040}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-09-15 09:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37df35f64c454455a6ef000c1dde22764198fda6', 'message': ""lb-agent: Defer firewall refrech\n\nBy defering the firewall refrech we can make lb-agent scale to handle\nhundreds of ports creation/deletion which wasn't possible when the agent\nhad to call refresh_firewall (which is quiet expensive) for each membership\nupdate that get triggered for each port creation/deletion and in all\nlb-agents.\n\nWith this patch all firewall refrech are done in the main agent loop,\nthat's include handling newly created and updated port and memberships\ntoo.\n\nChange-Id: Ia86c4dd2b4b327175aeb411dca5c2013c8ad8fdb\nCloses-Bug: 1364876\n""}, {'number': 2, 'created': '2014-09-15 09:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43b8d495207662afe619b59070363aebd6854c58', 'message': ""lb-agent: Defer firewall refrech\n\nBy defering the firewall refrech we can make lb-agent scale to handle\nhundreds of ports creation/deletion which wasn't possible when the agent\nhad to call refresh_firewall (which is quiet expensive) for each membership\nupdate that get triggered for each port creation/deletion and in all\nlb-agents.\n\nWith this patch all firewall refrech are done in the main agent loop,\nthat's include handling newly created and updated port and memberships\ntoo.\n\nChange-Id: Ia86c4dd2b4b327175aeb411dca5c2013c8ad8fdb\nCloses-Bug: 1368281\n""}, {'number': 3, 'created': '2014-09-15 13:39:53.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff1031a566929333d19964f530381591fe865bd9', 'message': ""lb-agent: Defer firewall refresh\n\nBy defering the firewall refresh we can make lb-agent scale to handle\nhundreds of ports creation/deletion which wasn't possible when the agent\nhad to call refresh_firewall (which is quite expensive) for each membership\nupdate that get triggered for each port creation/deletion and in all\nlb-agents.\n\nWith this patch all the firewall refreshes are done in the main agent loop,\nthat includes handling newly created and updated port and memberships\ntoo.\n\nChange-Id: Ia86c4dd2b4b327175aeb411dca5c2013c8ad8fdb\nCloses-Bug: 1368281\n""}]",9,121489,ff1031a566929333d19964f530381591fe865bd9,52,19,3,7073,,,0,"lb-agent: Defer firewall refresh

By defering the firewall refresh we can make lb-agent scale to handle
hundreds of ports creation/deletion which wasn't possible when the agent
had to call refresh_firewall (which is quite expensive) for each membership
update that get triggered for each port creation/deletion and in all
lb-agents.

With this patch all the firewall refreshes are done in the main agent loop,
that includes handling newly created and updated port and memberships
too.

Change-Id: Ia86c4dd2b4b327175aeb411dca5c2013c8ad8fdb
Closes-Bug: 1368281
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/121489/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py']",2,37df35f64c454455a6ef000c1dde22764198fda6,bug/1368281,," agent.prepare_devices_filter.assert_called_with(set(['tap3', 'tap4'])) self.assertTrue(agent.refresh_firewall.called)",10,8
openstack%2Fneutron~master~I5695ac0bf80b604a6f755e7ea3b533501e3d52ab,openstack/neutron,master,I5695ac0bf80b604a6f755e7ea3b533501e3d52ab,Creating a policy sample,ABANDONED,2014-09-23 13:53:58.000000000,2015-01-26 15:10:40.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7293}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10765}, {'_account_id': 10917}, {'_account_id': 11022}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-09-23 13:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e77d76ded77d4a4beda1947882cc5ee6506102e', 'message': 'Creating a policy sample\n\nCreating a policy sample containing cloud_admin,\nproject_admin and project_member roles.\n\nblueprint policy-sample\n\nChange-Id: I5695ac0bf80b604a6f755e7ea3b533501e3d52ab\n'}, {'number': 2, 'created': '2014-09-24 17:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fecc6dfedb8c400caaae2121c8b7468e56d069a8', 'message': 'Creating a policy sample\n\nCreating a policy sample containing cloud_admin,\nproject_admin and project_member roles.\n\nblueprint policy-sample\n\nCo-Authored-By: Gabriel Assis Bezerra <gabrielb@lsd.ufcg.edu.br>\n\nChange-Id: I5695ac0bf80b604a6f755e7ea3b533501e3d52ab\n'}, {'number': 3, 'created': '2014-10-31 17:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f221e75fad613aa5316df774f468b606b53670b', 'message': 'Creating a policy sample\n\nCreating a policy sample containing cloud_admin,\nproject_admin and project_member roles.\n\nblueprint policy-sample\n\nCo-Authored-By: Gabriel Assis Bezerra <gabrielb@lsd.ufcg.edu.br>\n\nChange-Id: I5695ac0bf80b604a6f755e7ea3b533501e3d52ab\n'}, {'number': 4, 'created': '2014-11-11 13:48:36.000000000', 'files': ['etc/policy.cloudsample.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/14d4dae6cf6a6798ce35cd9b17ece15ddd339d4e', 'message': 'Creating a policy sample\n\nCreating a policy sample containing cloud_admin,\nproject_admin and project_member roles.\n\nblueprint policy-sample\n\nCo-Authored-By: Gabriel Assis Bezerra <gabrielb@lsd.ufcg.edu.br>\n\ncloses-bug: #1391504\nChange-Id: I5695ac0bf80b604a6f755e7ea3b533501e3d52ab\n'}]",3,123440,14d4dae6cf6a6798ce35cd9b17ece15ddd339d4e,86,27,4,10765,,,0,"Creating a policy sample

Creating a policy sample containing cloud_admin,
project_admin and project_member roles.

blueprint policy-sample

Co-Authored-By: Gabriel Assis Bezerra <gabrielb@lsd.ufcg.edu.br>

closes-bug: #1391504
Change-Id: I5695ac0bf80b604a6f755e7ea3b533501e3d52ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/123440/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.cloudsample.json'],1,8e77d76ded77d4a4beda1947882cc5ee6506102e,bp/policy-sample,"{ ""is_cloud_admin"": ""role:cloud_admin"", ""is_project_admin"": ""role:project_admin and tenant_id:%(tenant_id)s"", ""is_project_member"": ""role:project_member and tenant_id:%(tenant_id)s"", ""context_is_admin"": ""rule:is_cloud_admin or role:admin"", ""admin_or_owner"": ""rule:context_is_admin or tenant_id:%(tenant_id)s"", ""admin_or_network_owner"": ""rule:context_is_admin or tenant_id:%(network:tenant_id)s"", ""admin_only"": ""rule:context_is_admin"", ""regular_user"": """", ""shared"": ""field:networks:shared=True"", ""shared_firewalls"": ""field:firewalls:shared=True"", ""external"": ""field:networks:router:external=True"", ""default"": ""rule:admin_or_owner"", ""create_subnet"": ""rule:admin_or_network_owner"", ""get_subnet"": ""rule:admin_or_owner or rule:shared"", ""update_subnet"": ""rule:admin_or_network_owner"", ""delete_subnet"": ""rule:admin_or_network_owner"", ""create_network"": """", ""get_network"": ""rule:admin_or_owner or rule:shared or rule:external"", ""get_network:router:external"": ""rule:regular_user"", ""get_network:segments"": ""rule:admin_only"", ""get_network:provider:network_type"": ""rule:admin_only"", ""get_network:provider:physical_network"": ""rule:admin_only"", ""get_network:provider:segmentation_id"": ""rule:admin_only"", ""get_network:queue_id"": ""rule:admin_only"", ""create_network:shared"": ""rule:admin_only"", ""create_network:router:external"": ""rule:admin_only"", ""create_network:segments"": ""rule:admin_only"", ""create_network:provider:network_type"": ""rule:admin_only"", ""create_network:provider:physical_network"": ""rule:admin_only"", ""create_network:provider:segmentation_id"": ""rule:admin_only"", ""update_network"": ""rule:admin_or_owner"", ""update_network:segments"": ""rule:admin_only"", ""update_network:shared"": ""rule:admin_only"", ""update_network:provider:network_type"": ""rule:admin_only"", ""update_network:provider:physical_network"": ""rule:admin_only"", ""update_network:provider:segmentation_id"": ""rule:admin_only"", ""update_network:router:external"": ""rule:admin_only"", ""delete_network"": ""rule:admin_or_owner"", ""create_port"": """", ""create_port:mac_address"": ""rule:admin_or_network_owner"", ""create_port:fixed_ips"": ""rule:admin_or_network_owner"", ""create_port:port_security_enabled"": ""rule:admin_or_network_owner"", ""create_port:binding:host_id"": ""rule:admin_only"", ""create_port:binding:profile"": ""rule:admin_only"", ""create_port:mac_learning_enabled"": ""rule:admin_or_network_owner"", ""get_port"": ""rule:admin_or_owner"", ""get_port:queue_id"": ""rule:admin_only"", ""get_port:binding:vif_type"": ""rule:admin_only"", ""get_port:binding:vif_details"": ""rule:admin_only"", ""get_port:binding:host_id"": ""rule:admin_only"", ""get_port:binding:profile"": ""rule:admin_only"", ""update_port"": ""rule:admin_or_owner"", ""update_port:fixed_ips"": ""rule:admin_or_network_owner"", ""update_port:port_security_enabled"": ""rule:admin_or_network_owner"", ""update_port:binding:host_id"": ""rule:admin_only"", ""update_port:binding:profile"": ""rule:admin_only"", ""update_port:mac_learning_enabled"": ""rule:admin_or_network_owner"", ""delete_port"": ""rule:admin_or_owner"", ""create_router"": ""rule:regular_user"", ""create_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""create_router:distributed"": ""rule:admin_only"", ""get_router"": ""rule:admin_or_owner"", ""get_router:distributed"": ""rule:admin_only"", ""update_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""update_router:distributed"": ""rule:admin_only"", ""delete_router"": ""rule:admin_or_owner"", ""add_router_interface"": ""rule:admin_or_owner"", ""remove_router_interface"": ""rule:admin_or_owner"", ""create_firewall"": """", ""get_firewall"": ""rule:admin_or_owner"", ""create_firewall:shared"": ""rule:admin_only"", ""get_firewall:shared"": ""rule:admin_only"", ""update_firewall"": ""rule:admin_or_owner"", ""update_firewall:shared"": ""rule:admin_only"", ""delete_firewall"": ""rule:admin_or_owner"", ""create_firewall_policy"": """", ""get_firewall_policy"": ""rule:admin_or_owner or rule:shared_firewalls"", ""create_firewall_policy:shared"": ""rule:admin_or_owner"", ""update_firewall_policy"": ""rule:admin_or_owner"", ""delete_firewall_policy"": ""rule:admin_or_owner"", ""create_firewall_rule"": """", ""get_firewall_rule"": ""rule:admin_or_owner or rule:shared_firewalls"", ""update_firewall_rule"": ""rule:admin_or_owner"", ""delete_firewall_rule"": ""rule:admin_or_owner"", ""create_qos_queue"": ""rule:admin_only"", ""get_qos_queue"": ""rule:admin_only"", ""update_agent"": ""rule:admin_only"", ""delete_agent"": ""rule:admin_only"", ""get_agent"": ""rule:admin_only"", ""create_dhcp-network"": ""rule:admin_only"", ""delete_dhcp-network"": ""rule:admin_only"", ""get_dhcp-networks"": ""rule:admin_only"", ""create_l3-router"": ""rule:admin_only"", ""delete_l3-router"": ""rule:admin_only"", ""get_l3-routers"": ""rule:admin_only"", ""get_dhcp-agents"": ""rule:admin_only"", ""get_l3-agents"": ""rule:admin_only"", ""get_loadbalancer-agent"": ""rule:admin_only"", ""get_loadbalancer-pools"": ""rule:admin_only"", ""create_floatingip"": ""rule:regular_user"", ""update_floatingip"": ""rule:admin_or_owner"", ""delete_floatingip"": ""rule:admin_or_owner"", ""get_floatingip"": ""rule:admin_or_owner"", ""create_network_profile"": ""rule:admin_only"", ""update_network_profile"": ""rule:admin_only"", ""delete_network_profile"": ""rule:admin_only"", ""get_network_profiles"": """", ""get_network_profile"": """", ""update_policy_profiles"": ""rule:admin_only"", ""get_policy_profiles"": """", ""get_policy_profile"": """", ""create_metering_label"": ""rule:admin_only"", ""delete_metering_label"": ""rule:admin_only"", ""get_metering_label"": ""rule:admin_only"", ""create_metering_label_rule"": ""rule:admin_only"", ""delete_metering_label_rule"": ""rule:admin_only"", ""get_metering_label_rule"": ""rule:admin_only"", ""get_service_provider"": ""rule:regular_user"", ""get_lsn"": ""rule:admin_only"", ""create_lsn"": ""rule:admin_only"" } ",,139,0
openstack%2Fneutron~master~I7342cf77544416316bf3d95953fc150622d683bf,openstack/neutron,master,I7342cf77544416316bf3d95953fc150622d683bf,os.exit(1) masks errors,ABANDONED,2014-10-10 20:16:23.000000000,2015-01-26 15:10:39.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6659}, {'_account_id': 6670}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10237}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 11114}, {'_account_id': 12040}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-10-10 20:16:23.000000000', 'files': ['neutron/wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a9c1528562541c31f43beaced6d572663f8027a', 'message': 'os.exit(1) masks errors\n\nUsing os.exit(1) in wsgi.py hides errors and makes debugging\ndifficult. Changing this to ""raise"" will allow developers to\nsee relevant tracebacks.\n\nChange-Id: I7342cf77544416316bf3d95953fc150622d683bf\nCloses-Bug: 1379889\n'}]",1,127645,8a9c1528562541c31f43beaced6d572663f8027a,30,25,1,7037,,,0,"os.exit(1) masks errors

Using os.exit(1) in wsgi.py hides errors and makes debugging
difficult. Changing this to ""raise"" will allow developers to
see relevant tracebacks.

Change-Id: I7342cf77544416316bf3d95953fc150622d683bf
Closes-Bug: 1379889
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/127645/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/wsgi.py'],1,8a9c1528562541c31f43beaced6d572663f8027a,bug/1379889, raise, sys.exit(1),1,1
openstack%2Fneutron~master~Ic837d1817ee99704358b25491686e0e772a109b9,openstack/neutron,master,Ic837d1817ee99704358b25491686e0e772a109b9,Manage arp entries for LBaas VIP and DHCP ports,ABANDONED,2014-10-13 23:40:27.000000000,2015-01-26 15:10:37.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6659}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9077}, {'_account_id': 9093}, {'_account_id': 9361}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-13 23:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9596d42c0097e002459be22ff098424115ab9d6e', 'message': 'Manage arp entries for LBaas VIP and DHCP ports\n\nWe need to manage ARP entries for LBaaS VIP ports and DHCP ports as well\nie., is_dvr_serviced() ports.\n\nPartially-Closes-Bug: #1379148\n\nChange-Id: Ic837d1817ee99704358b25491686e0e772a109b9\n'}, {'number': 2, 'created': '2014-10-17 20:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b436f4115542d192281fa4787c5b307b6a94c992', 'message': ""Manage arp entries for LBaas VIP and DHCP ports\n\nChange code so ARP entries for LBaaS VIP ports and DHCP ports are\nupdated as well as compute nodes.  So use utils.is_dvr_serviced() to\ndetermine the ports of interest instead of looking for 'compute:'.\n\nPartial-Bug: #1377241\n\nChange-Id: Ic837d1817ee99704358b25491686e0e772a109b9\n""}, {'number': 3, 'created': '2014-10-23 06:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0324fc372892c64e3219fa9041e9dba6eb354109', 'message': ""Manage arp entries for LBaas VIP and DHCP ports\n\nChange code so ARP entries for LBaaS VIP ports and DHCP ports are\nupdated as well as compute nodes.  So use utils.is_dvr_serviced() to\ndetermine the ports of interest instead of looking for 'compute:'.\n\nPartial-Bug: #1377241\n\nChange-Id: Ic837d1817ee99704358b25491686e0e772a109b9\n""}, {'number': 4, 'created': '2014-10-25 21:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f25219c4bbc3d3ac20a07e9ee1f7e5f40193cfab', 'message': ""Manage arp entries for LBaas VIP and DHCP ports\n\nChange code so ARP entries for LBaaS VIP ports and DHCP ports are\nupdated as well as compute nodes.  So use utils.is_dvr_serviced() to\ndetermine the ports of interest instead of looking for 'compute:'.\n\nPartial-Bug: #1377241\n\nChange-Id: Ic837d1817ee99704358b25491686e0e772a109b9\n""}, {'number': 5, 'created': '2014-10-27 16:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef4e0220d669203dbd833d8130464693474db9f8', 'message': ""Manage arp entries for LBaas VIP and DHCP ports\n\nChange code so ARP entries for LBaaS VIP ports and DHCP ports are\nupdated as well as compute nodes.  So use utils.is_dvr_serviced() to\ndetermine the ports of interest instead of looking for 'compute:'.\n\nPartial-Bug: #1377241\n\nChange-Id: Ic837d1817ee99704358b25491686e0e772a109b9\n""}, {'number': 6, 'created': '2014-10-28 14:43:11.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f54f57ec5723731deb762143381de7c312172559', 'message': ""Manage arp entries for LBaas VIP and DHCP ports\n\nChange code so ARP entries for LBaaS VIP ports and DHCP ports are\nupdated as well as compute nodes.  So use utils.is_dvr_serviced() to\ndetermine the ports of interest instead of looking for 'compute:'.\n\nPartial-Bug: #1377241\n\nChange-Id: Ic837d1817ee99704358b25491686e0e772a109b9\n""}]",18,128134,f54f57ec5723731deb762143381de7c312172559,137,32,6,9093,,,0,"Manage arp entries for LBaas VIP and DHCP ports

Change code so ARP entries for LBaaS VIP ports and DHCP ports are
updated as well as compute nodes.  So use utils.is_dvr_serviced() to
determine the ports of interest instead of looking for 'compute:'.

Partial-Bug: #1377241

Change-Id: Ic837d1817ee99704358b25491686e0e772a109b9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/128134/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,9596d42c0097e002459be22ff098424115ab9d6e,bug/1377241, if (not utils.is_dvr_serviced(device_owner) or," if (""compute:"" not in port_dict['device_owner'] or",1,1
openstack%2Fneutron~master~I3680d43b74b3378531418777ce9b10a4032309d3,openstack/neutron,master,I3680d43b74b3378531418777ce9b10a4032309d3,Add an RPC rally scenario,ABANDONED,2014-10-17 10:47:34.000000000,2015-01-26 15:10:36.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-17 10:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59860e4ac07b7c8015b5d443e3426f1db992d001', 'message': 'Add an RPC rally scenario\n\nAdd a scenario that retrieves a large set of\nports over the RPC channel. This test can\nbe used to benchmark the improvement patches\nin the RPC API (e.g. the related bugs).\n\nRelated-Bug: #1373851\nRelated-Bug: #1374556\nChange-Id: I3680d43b74b3378531418777ce9b10a4032309d3\n'}, {'number': 2, 'created': '2014-10-17 10:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05236d18733ed98bf762a79bfd4029f849b45409', 'message': 'Add an RPC rally scenario\n\nAdd a scenario that retrieves a large set of\nports over the RPC channel. This test can\nbe used to benchmark the improvement patches\nin the RPC API (e.g. the related bugs).\n\nRelated-Bug: #1373851\nRelated-Bug: #1374556\nChange-Id: I3680d43b74b3378531418777ce9b10a4032309d3\n'}, {'number': 3, 'created': '2014-10-21 07:09:55.000000000', 'files': ['rally-scenarios/plugins/rpc.py', 'rally-scenarios/neutron-rpc.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73fd9934bb8d2c1bf922af7f1fedecb403abc32d', 'message': 'Add an RPC rally scenario\n\nAdd a scenario that retrieves a large set of\nports over the RPC channel. This test can\nbe used to benchmark the improvement patches\nin the RPC API (e.g. the related bugs).\n\nRelated-Bug: #1373851\nRelated-Bug: #1374556\nChange-Id: I3680d43b74b3378531418777ce9b10a4032309d3\n'}]",1,129200,73fd9934bb8d2c1bf922af7f1fedecb403abc32d,61,22,3,7787,,,0,"Add an RPC rally scenario

Add a scenario that retrieves a large set of
ports over the RPC channel. This test can
be used to benchmark the improvement patches
in the RPC API (e.g. the related bugs).

Related-Bug: #1373851
Related-Bug: #1374556
Change-Id: I3680d43b74b3378531418777ce9b10a4032309d3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/129200/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-scenarios/plugins/rpc.py', 'rally-scenarios/neutron-rpc.yaml']",2,59860e4ac07b7c8015b5d443e3426f1db992d001,bug/1373851,"# This test exercises the RPC retrieval of ports with security groups. # # This test depends on a custom class in the neutron rally-scenarios # plugins directory. To use it locally, the rpc.py plugin will # need to be copied to /etc/rally/plugins/scenarios or # ~/.rally/plugins/scenarios as specified in # http://rally.readthedocs.org/en/latest/concepts.html#scenarios-plugins # # This scenario test is kind of funky right now because it requires partial # neutron configuration to work and oslo.cfg doesn't support the rally process # having it's own config and parsing the neutron.conf config. So for now, # the rabbit details for RPC need to be explicitly set here. --- NeutronRPC.create_and_fetch_ports_rpc: - args: number_of_ports: 500 rabbit_hosts: 127.0.0.1 rabbit_password: guest runner: type: ""constant"" times: 2 concurrency: 1 context: users: tenants: 1 users_per_tenant: 1 quotas: neutron: subnet: -1 network: -1 port: -1 ",,136,0
openstack%2Fneutron~master~I450bd7c506becedf20b86f08df0aa53a9418b74d,openstack/neutron,master,I450bd7c506becedf20b86f08df0aa53a9418b74d,manager: introduce helper mixin for get plugin,ABANDONED,2014-10-27 05:27:01.000000000,2015-01-26 15:10:34.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6072}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-27 05:27:01.000000000', 'files': ['neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0fa819a7717eda3e0d02e12252d1b11eb2295e0', 'message': 'manager: introduce helper mixin for get plugin\n\nThis patch implements helper mixin class to get plugin.\n\nThere are patterns like\n>    @property\n>    def core_plugin(self):\n>        try:\n>            return self._core_plugin\n>        except AttributeError:\n>            self._core_plugin = manager.NeutronManager.get_plugin()\n>            return self._core_plugin\n\nThere are issues\n  NeutronManager.get_plugin already cached it. No need to cache again.\n  each class implements its own way(with or without cache), various name.\nThe caching should be removed and their implementation should be unified.\n\nChange-Id: I450bd7c506becedf20b86f08df0aa53a9418b74d\nPartial-bug: #1386047\n'}]",1,131027,c0fa819a7717eda3e0d02e12252d1b11eb2295e0,27,23,1,333,,,0,"manager: introduce helper mixin for get plugin

This patch implements helper mixin class to get plugin.

There are patterns like
>    @property
>    def core_plugin(self):
>        try:
>            return self._core_plugin
>        except AttributeError:
>            self._core_plugin = manager.NeutronManager.get_plugin()
>            return self._core_plugin

There are issues
  NeutronManager.get_plugin already cached it. No need to cache again.
  each class implements its own way(with or without cache), various name.
The caching should be removed and their implementation should be unified.

Change-Id: I450bd7c506becedf20b86f08df0aa53a9418b74d
Partial-bug: #1386047
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/131027/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,c0fa819a7717eda3e0d02e12252d1b11eb2295e0,bug/1386047, class GetPluginMixin(object): @property def _core_plugin(self): return NeutronManager.get_plugin() @property def _l3_plugin(self): return NeutronManager.get_service_plugins().get( constants.L3_ROUTER_NAT),,11,0
openstack%2Fneutron~master~Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f,openstack/neutron,master,Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f,Add Guru Meditation Report from oslo-incubator,ABANDONED,2014-10-29 09:40:46.000000000,2015-01-26 15:10:33.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10237}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-10-29 09:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a62fd827731b3f68732f3b823a52eeb11991972', 'message': 'Add report from olso-incubator\n\nimplements bp guru-meditation-report\n\nChange-Id: Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f\n'}, {'number': 2, 'created': '2014-11-18 11:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5619a71688b2a14479f3f10a90c0c440f709c923', 'message': 'Add Guru Meditation Report from oslo-incubator\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: guru-meditation-report\nChange-Id: Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f\n'}, {'number': 3, 'created': '2014-11-26 09:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53aff989a4fcb3e77028eca9a2d2f15c33bcdb69', 'message': 'Add Guru Meditation Report from oslo-incubator\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: blueprint guru-meditation-report\nChange-Id: Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f\n'}, {'number': 4, 'created': '2014-12-04 12:16:31.000000000', 'files': ['neutron/openstack/common/report/generators/threading.py', 'neutron/openstack/common/report/views/text/header.py', 'neutron/openstack/common/report/views/xml/__init__.py', 'neutron/openstack/common/report/models/version.py', 'neutron/openstack/common/report/views/json/__init__.py', 'neutron/openstack/common/report/guru_meditation_report.py', 'neutron/openstack/common/report/models/__init__.py', 'neutron/openstack/common/report/generators/conf.py', 'neutron/openstack/common/report/views/jinja_view.py', 'neutron/openstack/common/report/generators/version.py', 'neutron/openstack/common/report/models/threading.py', 'neutron/openstack/common/report/views/__init__.py', 'neutron/openstack/common/report/models/conf.py', 'neutron/openstack/common/report/views/json/generic.py', 'neutron/openstack/common/report/views/xml/generic.py', 'neutron/openstack/common/report/views/text/generic.py', 'neutron/openstack/common/report/generators/__init__.py', 'neutron/openstack/common/report/utils.py', 'neutron/openstack/common/report/__init__.py', 'neutron/openstack/common/report/views/text/threading.py', 'neutron/openstack/common/report/models/base.py', 'neutron/openstack/common/report/report.py', 'neutron/openstack/common/report/models/with_default_views.py', 'neutron/openstack/common/report/views/text/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c548369768af909c41c0ac42c99a718de4d42d8', 'message': 'Add Guru Meditation Report from oslo-incubator\n\nGMR can aid in debugging neutron by providing lots of detail about a\nrunning process, including configuration, native thread stack trace and\ngreenlet stack traces.\n\nImplements: blueprint guru-meditation-report\nChange-Id: Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f\n'}]",5,131680,7c548369768af909c41c0ac42c99a718de4d42d8,83,26,4,7170,,,0,"Add Guru Meditation Report from oslo-incubator

GMR can aid in debugging neutron by providing lots of detail about a
running process, including configuration, native thread stack trace and
greenlet stack traces.

Implements: blueprint guru-meditation-report
Change-Id: Ifb732cf85fa3f93ef4cdf2255ff415539b1f978f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/131680/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/openstack/common/report/generators/threading.py', 'neutron/openstack/common/report/views/text/header.py', 'neutron/openstack/common/report/views/xml/__init__.py', 'neutron/openstack/common/report/models/version.py', 'neutron/openstack/common/report/views/json/__init__.py', 'neutron/openstack/common/report/guru_meditation_report.py', 'neutron/openstack/common/report/models/__init__.py', 'neutron/openstack/common/report/generators/conf.py', 'neutron/openstack/common/report/views/jinja_view.py', 'neutron/openstack/common/report/generators/version.py', 'neutron/openstack/common/report/models/threading.py', 'neutron/openstack/common/report/views/__init__.py', 'neutron/openstack/common/report/models/conf.py', 'neutron/openstack/common/report/views/json/generic.py', 'neutron/openstack/common/report/views/xml/generic.py', 'neutron/openstack/common/report/views/text/generic.py', 'neutron/openstack/common/report/generators/__init__.py', 'neutron/openstack/common/report/utils.py', 'neutron/openstack/common/report/__init__.py', 'neutron/openstack/common/report/views/text/threading.py', 'neutron/openstack/common/report/models/base.py', 'neutron/openstack/common/report/report.py', 'neutron/openstack/common/report/models/with_default_views.py', 'neutron/openstack/common/report/views/text/__init__.py']",24,1a62fd827731b3f68732f3b823a52eeb11991972,bp/guru-meditation-report,"# Copyright 2013 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Provides basic text views This module provides several basic views which serialize models into human-readable text. """""" ",,1790,0
openstack%2Fneutron~master~I0ded3de3fd7c8717b2b0352b49c6f608f1465411,openstack/neutron,master,I0ded3de3fd7c8717b2b0352b49c6f608f1465411,Fixes duplicate-key pylint error,ABANDONED,2014-11-07 17:31:27.000000000,2015-01-26 15:10:32.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7387}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10503}, {'_account_id': 12040}, {'_account_id': 12251}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-11-07 17:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06115a8f8e7f30a2ece9570ab626e2c83e27a6fe', 'message': 'Fixes duplicate-key pylint error\n\nI erred on the side of keeping with the current behavior. Cpython will use the last visiblely defined value for a given key when defined like this; basically ""last write wins"". In this case, the intention appears to be 503 mapping to fiveZeroThree, but, again, I erred on the current behavior, which is to use zero() as the value for 503.\n\nChange-Id: I0ded3de3fd7c8717b2b0352b49c6f608f1465411\n'}, {'number': 2, 'created': '2014-11-07 17:33:54.000000000', 'files': ['.pylintrc', 'neutron/plugins/vmware/api_client/exception.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26db449d67e131e626c7b2f5a72182a04725362c', 'message': 'Fixes duplicate-key pylint error\n\nI erred on the side of keeping with the current behavior.\nCpython will use the last visiblely defined value for a given\nkey when defined like this; basically ""last write wins"". In\nthis case, the intention appears to be 503 mapping to\nfiveZeroThree, but, again, I erred on the current behavior,\nwhich is to use zero() as the value for 503.\n\nCloses-Bug: 1390558\nChange-Id: I0ded3de3fd7c8717b2b0352b49c6f608f1465411\n'}]",6,133292,26db449d67e131e626c7b2f5a72182a04725362c,39,24,2,7387,,,0,"Fixes duplicate-key pylint error

I erred on the side of keeping with the current behavior.
Cpython will use the last visiblely defined value for a given
key when defined like this; basically ""last write wins"". In
this case, the intention appears to be 503 mapping to
fiveZeroThree, but, again, I erred on the current behavior,
which is to use zero() as the value for 503.

Closes-Bug: 1390558
Change-Id: I0ded3de3fd7c8717b2b0352b49c6f608f1465411
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/133292/1 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'neutron/plugins/vmware/api_client/exception.py']",2,06115a8f8e7f30a2ece9570ab626e2c83e27a6fe,bug/1390558,," 503: fiveZeroThree,",0,2
openstack%2Fneutron~master~I37b6c91e05c3a47f303607834617c3dfb9b2f54e,openstack/neutron,master,I37b6c91e05c3a47f303607834617c3dfb9b2f54e,Don't schedule a router with no interfaces attached to it,ABANDONED,2014-06-25 12:44:51.000000000,2015-01-26 15:10:31.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 7016}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8253}, {'_account_id': 8646}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10354}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11825}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-06-25 12:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f975c8bba29a92c28f5c9cd0b0e3c69182be40cb', 'message': ""Don't schedule a router with no interfaces attached to it.\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 2, 'created': '2014-10-17 06:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1971c2ec05ed47abefe2f56068824867ec96e596', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 3, 'created': '2014-10-21 09:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af1122a60d1175df3a142fc16945726c889debed', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 4, 'created': '2014-10-23 08:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b0688cdceffd184316d78876cc375dc962b6ca3', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 5, 'created': '2014-10-28 14:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32119b8b99a54c4c62298e875f5123482134343c', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 6, 'created': '2014-10-31 09:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e91cd40e0189a4359aebc16b28261e30d2939301', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 7, 'created': '2014-11-05 11:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6398b4261c174a096505a9bb730127d7870858e9', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 8, 'created': '2014-11-21 10:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8227679279066bfd1733214e26e46eee7fb3db9', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}, {'number': 9, 'created': '2014-12-02 09:57:31.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/tests/unit/test_l3_schedulers.py', 'neutron/tests/unit/openvswitch/test_agent_scheduler.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/tests/unit/nec/test_agent_scheduler.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f28b446aaa9f22530fb9f88958eaf0af9b37e28', 'message': ""Don't schedule a router with no interfaces attached to it\n\nAvoid scheduling the unscheduled routers when sync_router() rpc\ncalled from l3-agent if that router has no interfaces attached.\n\nChange-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e\nCloses-Bug: #1307838\n""}]",43,102512,1f28b446aaa9f22530fb9f88958eaf0af9b37e28,212,40,9,8253,,,0,"Don't schedule a router with no interfaces attached to it

Avoid scheduling the unscheduled routers when sync_router() rpc
called from l3-agent if that router has no interfaces attached.

Change-Id: I37b6c91e05c3a47f303607834617c3dfb9b2f54e
Closes-Bug: #1307838
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/102512/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/scheduler/l3_agent_scheduler.py'],1,f975c8bba29a92c28f5c9cd0b0e3c69182be40cb,bug/1307838,from neutron.db import models_v2 interfaces = (context.session.query(models_v2.Port). filter_by(device_id=sync_router['id']).all()) if not candidates or not interfaces:, if not candidates:,4,1
openstack%2Fneutron~master~I34bc4ef46f63b9dd56b5b3b27a9bc4ebbb6a1a46,openstack/neutron,master,I34bc4ef46f63b9dd56b5b3b27a9bc4ebbb6a1a46,Sanitize the wql params in the hyperv/utilsv2 module,ABANDONED,2014-10-28 13:34:29.000000000,2015-01-26 15:10:30.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 3185}, {'_account_id': 8213}, {'_account_id': 8911}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-28 13:34:29.000000000', 'files': ['neutron/plugins/hyperv/agent/utilsv2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/47f589578246f14861e2cc37360c6e83caefdfa9', 'message': 'Sanitize the wql params in the hyperv/utilsv2 module\n\nSanitize all wql parameters for dynamic queries in the hyperv/agent/utilsv2 module\n\nChange-Id: I34bc4ef46f63b9dd56b5b3b27a9bc4ebbb6a1a46\nCloses-Bug: #1370292\n'}]",5,131428,47f589578246f14861e2cc37360c6e83caefdfa9,21,18,1,8911,,,0,"Sanitize the wql params in the hyperv/utilsv2 module

Sanitize all wql parameters for dynamic queries in the hyperv/agent/utilsv2 module

Change-Id: I34bc4ef46f63b9dd56b5b3b27a9bc4ebbb6a1a46
Closes-Bug: #1370292
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/131428/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/hyperv/agent/utilsv2.py'],1,47f589578246f14861e2cc37360c6e83caefdfa9,bug/1370292," @staticmethod def sanitize_wql_param(param): return param.replace('\'', '\'\'') q = self._conn.query( ""SELECT * FROM %(class_name)s WHERE "" ""ElementName = '%(element_name)s'"" % {""class_name"": self.sanitize_wql_param(class_name), ""element_name"": self.sanitize_wql_param(element_name)}) ""LIKE '%%\\Default'"" % self.sanitize_wql_param(class_name))[0]"," q = self._conn.query(""SELECT * FROM %(class_name)s WHERE "" ""ElementName = '%(element_name)s'"" % {""class_name"": class_name, ""element_name"": element_name}) ""LIKE '%%\\Default'"" % class_name)[0]",11,5
openstack%2Fneutron~master~If37a986da8e64f9b0d11a99004349455cdf466b8,openstack/neutron,master,If37a986da8e64f9b0d11a99004349455cdf466b8,Introduce a parameter to config GARP transmission delay,ABANDONED,2014-12-15 22:13:08.000000000,2015-01-26 15:10:28.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 7770}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10692}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-15 22:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2beb534e43d62becfd8f64f973fc0fa482cba20', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 2, 'created': '2014-12-15 22:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1741895d4cd06997a7dd8278a44ea22ba84396e9', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 3, 'created': '2014-12-15 22:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09e153df9a1dbea7e9b6f2984c37745aa1e1c359', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 4, 'created': '2014-12-16 05:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/255ed5825fd15004ba45cb5fbc03e2c3dad057ae', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nDocImpact\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 5, 'created': '2014-12-16 05:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a9ecc97465b08a12e1303a5a4d78f5c7ef79621', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nDocImpact\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 6, 'created': '2014-12-16 06:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9f979b54ce449c3d704fcc7e18e4c917aa184c3', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nDocImpact\nCloses-Bug: #1402933\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 7, 'created': '2014-12-16 09:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/feb7e66ddab693de40dbb48fe156011ee5a3e754', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nDocImpact\nCloses-Bug: #1402933\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 8, 'created': '2014-12-16 09:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b0f34f485a9308c9aa8185e5b9eb1aea8fa3d6b', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nDocImpact\nCloses-Bug: #1402933\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 9, 'created': '2014-12-16 10:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad560542a8040d8c6ad31e8fda43eb90501c4141', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master. This needs to be user configurable if\nthe advert interval is configurable so that they can be\nin sync.\n\nDocImpact\nCloses-Bug: #1402933\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 10, 'created': '2014-12-17 19:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/013a3357b5584a16e25ca3ef2404e2e74b213e5e', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master.\n\nDocImpact\nCloses-Bug: #1402933\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}, {'number': 11, 'created': '2014-12-17 19:37:30.000000000', 'files': ['neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cedfdef736aaa20791787abe9073737d50f49bde', 'message': 'Introduce a parameter to config GARP transmission delay\n\nkeepalived uses this parameter to control the delay for\nsending gratutious ARPs after a node transitions to\nbeing a master.\n\nDocImpact\nCloses-Bug: #1402933\n\nChange-Id: If37a986da8e64f9b0d11a99004349455cdf466b8\n'}]",4,141918,cedfdef736aaa20791787abe9073737d50f49bde,153,23,11,7770,,,0,"Introduce a parameter to config GARP transmission delay

keepalived uses this parameter to control the delay for
sending gratutious ARPs after a node transitions to
being a master.

DocImpact
Closes-Bug: #1402933

Change-Id: If37a986da8e64f9b0d11a99004349455cdf466b8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/141918/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/keepalived.py', 'neutron/agent/l3/ha.py']",2,e2beb534e43d62becfd8f64f973fc0fa482cba20,bug/1402933," cfg.IntOpt('ha_vrrp_garp_master_delay', default=2, help=_('Delay for gratuitous ARP after transition to MASTER')), advert_int=self.conf.ha_vrrp_advert_int, garp_delay=self.conf.ha_vrrp_garp_master_delay, priority=ri.ha_priority)"," advert_int=self.conf.ha_vrrp_advert_int, priority=ri.ha_priority)",11,2
openstack%2Fneutron~master~Ieb63bbd21290239ec935af2d90bd838fe382761d,openstack/neutron,master,Ieb63bbd21290239ec935af2d90bd838fe382761d,router-interface-add port succeeds but not work,ABANDONED,2014-12-22 09:47:37.000000000,2015-01-26 15:10:27.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 7016}, {'_account_id': 8646}, {'_account_id': 9077}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-22 09:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7fd777c8b5b4e8d2bbff1b27e77c6d3c96bf417', 'message': 'Neutron router-interface-add port fail\n\nUsing CLI(neutron router-interface-add)to add port which has been created\nas gw interface with success but does not add corresponding flows because\nit can not retrieve gateway port which filtered by the gateway ip.\n\nChange-Id: Ieb63bbd21290239ec935af2d90bd838fe382761d\nCloses-Bug: #1404823\n'}, {'number': 2, 'created': '2014-12-26 08:56:04.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ace86aa154385f0cdd05f091d49ff8b6308074d', 'message': 'router-interface-add port succeeds but not work\n\nUsing CLI(neutron router-interface-add)to add port which has been created\nas gw interface with success but does not add corresponding flows because\nit can not retrieve gateway port which filtered by the gateway ip.\n\nChange-Id: Ieb63bbd21290239ec935af2d90bd838fe382761d\nCloses-Bug: #1404823\n'}]",2,143409,9ace86aa154385f0cdd05f091d49ff8b6308074d,43,23,2,8646,,,0,"router-interface-add port succeeds but not work

Using CLI(neutron router-interface-add)to add port which has been created
as gw interface with success but does not add corresponding flows because
it can not retrieve gateway port which filtered by the gateway ip.

Change-Id: Ieb63bbd21290239ec935af2d90bd838fe382761d
Closes-Bug: #1404823
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/143409/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/dvr_mac_db.py', 'neutron/plugins/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py']",3,d7fd777c8b5b4e8d2bbff1b27e77c6d3c96bf417,bug/1404823," 'cidr': '1.1.1.0/24'}),"," 'cidr': '1.1.1.0/24', 'gateway_mac': 'aa:bb:cc:11:22:33'}),",3,15
openstack%2Fneutron~master~I025e176981413d320222bd36e8990e57236a82ef,openstack/neutron,master,I025e176981413d320222bd36e8990e57236a82ef,Change mock patch method to autospec by default,ABANDONED,2014-12-29 06:18:07.000000000,2015-01-26 15:10:26.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-29 06:18:07.000000000', 'files': ['neutron/tests/sub_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/84d563d0807ae8e0ea9ca3001d35f0f5ebbc84e0', 'message': 'Change mock patch method to autospec by default\n\nThis patch modifies the function defaults to the mock.patch\nmethod to set autospec=True so the resulting mocks will raise\nexceptions if attributes are accessed that did not exist on the\noriginal object or if functions are called with incorrect\nsignatures.\n\nChange-Id: I025e176981413d320222bd36e8990e57236a82ef\nCloses-Bug: #1321946\n'}]",0,144259,84d563d0807ae8e0ea9ca3001d35f0f5ebbc84e0,17,16,1,7787,,,0,"Change mock patch method to autospec by default

This patch modifies the function defaults to the mock.patch
method to set autospec=True so the resulting mocks will raise
exceptions if attributes are accessed that did not exist on the
original object or if functions are called with incorrect
signatures.

Change-Id: I025e176981413d320222bd36e8990e57236a82ef
Closes-Bug: #1321946
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/144259/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/sub_base.py'],1,84d563d0807ae8e0ea9ca3001d35f0f5ebbc84e0,bug/1321946,"# default mock patching to use autospeccing mock.patch.func_defaults = ( mock.patch.func_defaults[0:4] + (True,) + mock.patch.func_defaults[5:]) ",,4,0
openstack%2Fneutron~master~Iade842cfa5313c66dbd909191f982e5384cdeb00,openstack/neutron,master,Iade842cfa5313c66dbd909191f982e5384cdeb00,Fixes race conditions during rebuild avail ranges,ABANDONED,2014-10-10 03:06:14.000000000,2015-01-26 15:10:24.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 7448}, {'_account_id': 8686}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11361}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-10 03:06:14.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/409e1fbfe6209ecfa8046fe7f9f1d223a171f3ee', 'message': 'Fixes race conditions during rebuild avail ranges\n\nWhen _try_generate_ip is executed, a lock is obtained on an inner join select\nstatement over ipavailabilityranges and ipallocationpools tables. If there\nare no available ranges any more a _rebuild_availability_ranges is executed\nin order to rebuild the available ranges from the currently allocated ips.\n_rebuild_availability_ranges will read the current ipallocations and insert\nnew records in the ipavailabilityranges table. If there are multiple threads\nexecuting this code (_try_generate_ip and _rebuild_availability_ranges) at the\nsame time, the lock obtained during _try_generate_ip should prevent\nthem of calling _rebuild_availability_ranges simultaneously. After the first\nthread finishes updating the available ranges it will release the lock and the\nsecond thread will be able to get a new available IP.\n\nIn DB2 and PostgreSQL there is an issue with the initial select and the lock is\nnot obtained in the case when there are no ipavailabilityranges for the current\nsubnet. This is happening because the returned join statement will not generate\nany return rows and the DB will not create a lock at all. This leads to\nconcurrent _rebuild_availability_ranges executed. _rebuild_availability_ranges\nwill obtain a lock over ipallocations and this will prevent the two threads of\ntrying to generate same result but when the first thread finishes it will\nrelease this lock and the second thread will continue to rebuild the ranges\nwhich will lead to a duplicate entry or in some cases to multiple overlapping\nentries in the ip available ranges table. The second situation could be a\nbigger issue because it will not show any signs of a problem at the time (no\nexceptions from the database) but later after continuing allocating IPs the\ntwo records will reach same value for the first_ip which will lead to\n_try_generate_ip not able to generate any IPs any more and port_create will\nstop working for this subnet.\n\nThe fix proposed here is to split the initial join into two separate join\nstatements. First lock on ipallocationpools and after that try to lock on\nipavailabilityranges. This situation should work as there should be always\nrecords for ipallocationpools and the lock will always work in this part\nof the code.\n\nChange-Id: Iade842cfa5313c66dbd909191f982e5384cdeb00\n'}]",0,127403,409e1fbfe6209ecfa8046fe7f9f1d223a171f3ee,28,23,1,11361,,,0,"Fixes race conditions during rebuild avail ranges

When _try_generate_ip is executed, a lock is obtained on an inner join select
statement over ipavailabilityranges and ipallocationpools tables. If there
are no available ranges any more a _rebuild_availability_ranges is executed
in order to rebuild the available ranges from the currently allocated ips.
_rebuild_availability_ranges will read the current ipallocations and insert
new records in the ipavailabilityranges table. If there are multiple threads
executing this code (_try_generate_ip and _rebuild_availability_ranges) at the
same time, the lock obtained during _try_generate_ip should prevent
them of calling _rebuild_availability_ranges simultaneously. After the first
thread finishes updating the available ranges it will release the lock and the
second thread will be able to get a new available IP.

In DB2 and PostgreSQL there is an issue with the initial select and the lock is
not obtained in the case when there are no ipavailabilityranges for the current
subnet. This is happening because the returned join statement will not generate
any return rows and the DB will not create a lock at all. This leads to
concurrent _rebuild_availability_ranges executed. _rebuild_availability_ranges
will obtain a lock over ipallocations and this will prevent the two threads of
trying to generate same result but when the first thread finishes it will
release this lock and the second thread will continue to rebuild the ranges
which will lead to a duplicate entry or in some cases to multiple overlapping
entries in the ip available ranges table. The second situation could be a
bigger issue because it will not show any signs of a problem at the time (no
exceptions from the database) but later after continuing allocating IPs the
two records will reach same value for the first_ip which will lead to
_try_generate_ip not able to generate any IPs any more and port_create will
stop working for this subnet.

The fix proposed here is to split the initial join into two separate join
statements. First lock on ipallocationpools and after that try to lock on
ipavailabilityranges. This situation should work as there should be always
records for ipallocationpools and the lock will always work in this part
of the code.

Change-Id: Iade842cfa5313c66dbd909191f982e5384cdeb00
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/127403/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,409e1fbfe6209ecfa8046fe7f9f1d223a171f3ee,ipavailranges-locking-fix," pools_qry = context.session.query( models_v2.IPAllocationPool).options( orm.noload('available_ranges')).with_lockmode('update') models_v2.IPAvailabilityRange).with_lockmode('update') for subnet in subnets: subnet_pools = pools_qry.filter_by(subnet_id=subnet['id']).all() if not subnet_pools: LOG.debug(_(""Cannot find any allocation pools for "" ""%(subnet_id)s""),{'subnet_id': subnet['id']}) continue # find an available allocation range ip_range = range_qry.filter( models_v2.IPAvailabilityRange.allocation_pool_id.in_( [pool['id'] for pool in subnet_pools])).first()", models_v2.IPAvailabilityRange).join( models_v2.IPAllocationPool).with_lockmode('update') for subnet in subnets: ip_range = range_qry.filter_by(subnet_id=subnet['id']).first(),14,3
openstack%2Fneutron~master~Id762be57b915e217ae9812cfb71ab179c93db788,openstack/neutron,master,Id762be57b915e217ae9812cfb71ab179c93db788,Add database model for default-rules-for-default-security-group,ABANDONED,2014-06-11 10:02:40.000000000,2015-01-26 15:10:23.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6732}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}]","[{'number': 1, 'created': '2014-06-11 10:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d58a67dd8d7b0cc49c99c41e6c6fb12a8102265', 'message': ""Add database model for default-rules-for-default-security-group\n\nThis patch adds 'security_group_default_rules' data model, this is a part\nof 'security_group_default_rules' APIs, for more information see the\nblueprint.\n\nPartially implements: blueprint default-rules-for-default-security-group\n\nChange-Id: Id762be57b915e217ae9812cfb71ab179c93db788\n""}, {'number': 2, 'created': '2014-06-11 14:23:03.000000000', 'files': ['neutron/db/security_group_default_rules_db.py', 'neutron/db/migration/alembic_migrations/versions/8120fc3f7ad_default_secgroup_rul.py', 'neutron/db/migration/alembic_migrations/versions/HEAD'], 'web_link': 'https://opendev.org/openstack/neutron/commit/554f321e96daa543c0014cf80ea93217523ac690', 'message': ""Add database model for default-rules-for-default-security-group\n\nThis patch adds 'security_group_default_rules' data model, this is a part\nof 'security_group_default_rules' APIs, for more information see the\nblueprint.\n\nPartially implements: blueprint default-rules-for-default-security-group\n\nChange-Id: Id762be57b915e217ae9812cfb71ab179c93db788\n""}]",1,99320,554f321e96daa543c0014cf80ea93217523ac690,50,21,2,6732,,,0,"Add database model for default-rules-for-default-security-group

This patch adds 'security_group_default_rules' data model, this is a part
of 'security_group_default_rules' APIs, for more information see the
blueprint.

Partially implements: blueprint default-rules-for-default-security-group

Change-Id: Id762be57b915e217ae9812cfb71ab179c93db788
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/99320/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/security_group_default_rules_db.py', 'neutron/db/migration/alembic_migrations/versions/8120fc3f7ad_default_secgroup_rul.py', 'neutron/db/migration/alembic_migrations/versions/HEAD']",3,5d58a67dd8d7b0cc49c99c41e6c6fb12a8102265,bp/default-rules-for-default-security-group,8120fc3f7ad,10cd28e692e9,97,1
openstack%2Fneutron~master~I28abb5beb1a0c1fb0d495fb7407ae642bb7217a3,openstack/neutron,master,I28abb5beb1a0c1fb0d495fb7407ae642bb7217a3,Add an option to disable dns on subnet,ABANDONED,2014-04-28 20:01:23.000000000,2015-01-26 15:10:21.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2031}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 7170}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 11234}]","[{'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': ['neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/api/v2/attributes.py', 'neutron/db/models_v2.py', 'neutron/db/migration/alembic_migrations/versions/544958a04da5_subnet_option_enable_dns.py', 'neutron/agent/linux/dhcp.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/tests/unit/test_linux_dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fd51afd24d69080e44b5749d5f586f433457dea', 'message': 'Add an option to disable dns on subnet\n\nMultiple NIC/subnet may attach to a VM instance, if both subnets provide\ndns servers, only the last one will be used (overrides the previous\none).\n\nThis patch introduce an option, where no dns server will be pushed via\ndhcp if set.\n\nDocImpact\n\nChange-Id: I28abb5beb1a0c1fb0d495fb7407ae642bb7217a3\nCloses-Bug: #1311040\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/418d102d9ff42275fbf4964dac90b1c255c91dac', 'message': 'Add an option to disable dns on subnet\n\nMultiple NIC/subnet may attach to a VM instance, if both subnets provide\ndns servers, only the last one will be used (overrides the previous\none).\n\nThis patch introduce an option, where no dns server will be pushed via\ndhcp if set.\n\nDocImpact\n\nChange-Id: I28abb5beb1a0c1fb0d495fb7407ae642bb7217a3\nCloses-Bug: #1288606\n'}]",0,89745,5fd51afd24d69080e44b5749d5f586f433457dea,35,17,2,7170,,,0,"Add an option to disable dns on subnet

Multiple NIC/subnet may attach to a VM instance, if both subnets provide
dns servers, only the last one will be used (overrides the previous
one).

This patch introduce an option, where no dns server will be pushed via
dhcp if set.

DocImpact

Change-Id: I28abb5beb1a0c1fb0d495fb7407ae642bb7217a3
Closes-Bug: #1311040
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/89745/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_db_plugin.py', 'neutron/api/v2/attributes.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/models_v2.py', 'neutron/db/migration/alembic_migrations/versions/544958a04da5_subnet_option_enable_dns.py', 'neutron/agent/linux/dhcp.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/tests/unit/test_linux_dhcp.py']",8,5fd51afd24d69080e44b5749d5f586f433457dea,bug/1311040," enable_dns = True enable_dns = True enable_dns = True enable_dns = True enable_dns = True enable_dns = True enable_dns = True enable_dns = True dns_nameservers = [] class FakeV4SubnetNoDns: id = 'ffffffff-ffff-ffff-ffff-ffffffffffff' ip_version = 4 cidr = '192.168.0.0/24' gateway_ip = None enable_dhcp = True host_routes = [] enable_dns = Falseclass FakeV4NetworkNoDns: id = 'ffffffff-ffff-ffff-ffff-ffffffffffff' subnets = [FakeV4SubnetNoDns()] ports = [FakePort1()] namespace = 'qdhcp-ns' def test_output_opts_file_disable_dns(self): expected = """""" tag:tag0,option:dns-server tag:tag0,option:router"""""".lstrip() with mock.patch.object(dhcp.Dnsmasq, 'get_conf_file_name') as conf_fn: conf_fn.return_value = '/foo/opts' dm = dhcp.Dnsmasq(self.conf, FakeV4NetworkNoDns(), version=float(2.59)) with mock.patch.object(dm, '_enable_metadata') as ipm: ipm.return_value = False dm._output_opts_file() self.assertTrue(ipm.called) self.safe.assert_called_once_with('/foo/opts', expected) ",,126,2
openstack%2Fneutron~master~I20fe756619ad5427f4b4369df652b947e8dfaead,openstack/neutron,master,I20fe756619ad5427f4b4369df652b947e8dfaead,ML2 mechanism driver for Cisco Nexus1000V,ABANDONED,2014-08-18 02:25:08.000000000,2015-01-26 15:10:19.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 107}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 1689}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6785}, {'_account_id': 7018}, {'_account_id': 7249}, {'_account_id': 8645}, {'_account_id': 8940}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10624}, {'_account_id': 10692}, {'_account_id': 11757}, {'_account_id': 11823}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-18 02:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/911af4d0e14e4ffc6a988eed1b24873e9f9dd707', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\n'}, {'number': 2, 'created': '2014-08-18 02:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d1e1fae6030bc692bcc450fd4f31a915520c335', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\n'}, {'number': 3, 'created': '2014-08-18 19:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1406efcb98241c13afe33ce4f212d2db8defd52', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\n'}, {'number': 4, 'created': '2014-08-18 23:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fcc3eefd9d9299b8b8c319a035ef4748b638580', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 5, 'created': '2014-08-19 02:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7e7fc63e8f8fcb35136275b5391177e59b76a74', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 6, 'created': '2014-08-19 18:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b66bbdb78c82a7bff158d567b2120392c636cd4', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 7, 'created': '2014-08-19 22:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3849472c10b28b2c13f7d7da0005f5e9d5931d3b', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 8, 'created': '2014-08-20 01:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9c983fb1490b694736487beb3035d874e0dbf07', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 9, 'created': '2014-08-20 19:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e42cd8d4b78b8eb476c2e0f5ff35a4afdd63d648', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 10, 'created': '2014-08-20 19:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7231351a36f0a15a310e6dc8371a9b835d5a8c29', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 11, 'created': '2014-08-21 23:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f348133d6d18390fd9c05b83f7acb95c2374d56d', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 12, 'created': '2014-08-22 04:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24e62a0beff2aa224718d762f065624bcb00c693', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 13, 'created': '2014-08-22 23:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c15333d10d7b16a2868dc00926ab54aad1238ab2', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 14, 'created': '2014-08-25 19:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6e325b61008771fd5d9179337f8a6e2f474c5d4', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}, {'number': 15, 'created': '2014-09-02 22:07:08.000000000', 'files': ['neutron/db/migration/models/head.py', 'neutron/tests/unit/ml2/drivers/cisco/n1kv/test_n1kv_db.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/constants.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/n1kv_client.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/n1kv_db.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/mech_cisco_n1kv.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/plugins/ml2/drivers/cisco/n1kv/exceptions.py', 'neutron/tests/unit/ml2/drivers/cisco/n1kv/test_cisco_n1kv_mech.py', 'neutron/tests/unit/ml2/drivers/cisco/n1kv/__init__.py', 'etc/neutron/plugins/ml2/ml2_conf_cisco.ini', 'neutron/plugins/ml2/drivers/cisco/n1kv/__init__.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/config.py', 'setup.cfg', 'neutron/db/migration/alembic_migrations/versions/589f9237ca0e_cisco_n1kv_ml2_driver_tables.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/n1kv_models.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b304423ec3bc768dafc0d29c920da78a8163c62', 'message': 'ML2 mechanism driver for Cisco Nexus1000V\n\nAdd the ML2 mechanism driver for Cisco Nexus1000V switch.\n\nImplements blueprint ml2-n1kv-mechanism-driver\n\nChange-Id: I20fe756619ad5427f4b4369df652b947e8dfaead\nCo-Authored-By: Steven Hillman <sthillma@cisco.com>\n'}]",60,114872,3b304423ec3bc768dafc0d29c920da78a8163c62,371,43,15,7018,,,0,"ML2 mechanism driver for Cisco Nexus1000V

Add the ML2 mechanism driver for Cisco Nexus1000V switch.

Implements blueprint ml2-n1kv-mechanism-driver

Change-Id: I20fe756619ad5427f4b4369df652b947e8dfaead
Co-Authored-By: Steven Hillman <sthillma@cisco.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/114872/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/cisco/n1kv/constants.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/n1kv_client.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/n1kv_db.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/mech_cisco_n1kv.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/plugins/ml2/drivers/cisco/n1kv/exceptions.py', 'neutron/tests/unit/ml2/drivers/cisco/n1kv/test_cisco_n1kv_mech.py', 'neutron/tests/unit/ml2/drivers/cisco/n1kv/__init__.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/README', 'etc/neutron/plugins/ml2/ml2_conf_cisco.ini', 'neutron/plugins/ml2/drivers/cisco/n1kv/__init__.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/config.py', 'setup.cfg', 'neutron/db/migration/alembic_migrations/versions/589f9237ca0e_cisco_n1kv_ml2_driver_tables.py', 'neutron/plugins/ml2/drivers/cisco/n1kv/n1kv_models.py']",15,911af4d0e14e4ffc6a988eed1b24873e9f9dd707,bp/ml2-n1kv-mechanism-driver,"# Copyright 2014 OpenStack Foundation # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sqlalchemy as sa from neutron.db import model_base from neutron.db import models_v2 from neutron.plugins.common import constants class PolicyProfile(model_base.BASEV2): """""" Nexus1000V Policy Profiles Both 'profile_id' and 'name' are populated from Nexus1000V switch. """""" __tablename__ = 'cisco_ml2_n1kv_policy_profiles' id = sa.Column(sa.String(36), nullable=False, primary_key=True) name = sa.Column(sa.String(255), nullable=False) class NetworkProfile(model_base.BASEV2, models_v2.HasId): """"""Nexus1000V Network Profiles created on the VSM."""""" __tablename__ = 'cisco_ml2_n1kv_network_profiles' name = sa.Column(sa.String(255), nullable=False) segment_type = sa.Column(sa.Enum(constants.TYPE_VLAN, constants.TYPE_VXLAN, name='segment_type'), nullable=False) class N1kvPortBinding(model_base.BASEV2): """"""Represents binding of ports to policy profile."""""" __tablename__ = 'cisco_ml2_n1kv_port_bindings' port_id = sa.Column(sa.String(36), sa.ForeignKey('ports.id', ondelete=""CASCADE""), primary_key=True) profile_id = sa.Column(sa.String(36), sa.ForeignKey('cisco_ml2_n1kv_policy_profiles.id')) class N1kvNetworkBinding(model_base.BASEV2): """"""Represents binding of virtual network to network profiles."""""" __tablename__ = 'cisco_ml2_n1kv_network_bindings' network_id = sa.Column(sa.String(36), sa.ForeignKey('networks.id', ondelete=""CASCADE""), primary_key=True) network_type = sa.Column(sa.String(32), nullable=False) segmentation_id = sa.Column(sa.Integer) profile_id = sa.Column(sa.String(36), sa.ForeignKey('cisco_ml2_n1kv_network_profiles.id')) ",,1252,1
openstack%2Fneutron~stable%2Ficehouse~I7df0f2b09a0d312902fc4745e0a245b5756074d9,openstack/neutron,stable/icehouse,I7df0f2b09a0d312902fc4745e0a245b5756074d9,Use set_gateway from ip_lib,ABANDONED,2014-08-26 13:04:11.000000000,2015-01-26 15:10:15.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8213}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9846}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-08-26 13:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1d6f2392352cf650bdd2828b306b0eba9e4a0d2', 'message': 'Icehouse backport from 9e1c61b93ab3523bc1b5510775c1ee3331097f21\n\nUse set_gateway from ip_lib\n\nChange-Id: I7df0f2b09a0d312902fc4745e0a245b5756074d9\nCloses-Bug: #1361271\n'}, {'number': 2, 'created': '2014-11-10 22:49:37.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3_agent.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4321b5c6ec2bece91f6e2e12974980b6f6bf1539', 'message': 'Use set_gateway from ip_lib\n\nChange-Id: I7df0f2b09a0d312902fc4745e0a245b5756074d9\nCloses-Bug: #1312402\n(cherry picked from commit 9e1c61b93ab3523bc1b5510775c1ee3331097f21)\n'}]",1,116888,4321b5c6ec2bece91f6e2e12974980b6f6bf1539,48,22,2,8725,,,0,"Use set_gateway from ip_lib

Change-Id: I7df0f2b09a0d312902fc4745e0a245b5756074d9
Closes-Bug: #1312402
(cherry picked from commit 9e1c61b93ab3523bc1b5510775c1ee3331097f21)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/116888/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'neutron/agent/l3_agent.py', 'neutron/tests/unit/test_l3_agent.py']",3,e1d6f2392352cf650bdd2828b306b0eba9e4a0d2,," 'namespace': 'qrouter-' + router_id, 'gateway': '20.0.0.1'}", 'namespace': 'qrouter-' + router_id},7,9
openstack%2Fneutron~master~I6e862551a2db68d20ee90f9acc94fafa1aa02b1d,openstack/neutron,master,I6e862551a2db68d20ee90f9acc94fafa1aa02b1d,enable H402 hacking check,ABANDONED,2014-06-12 06:58:19.000000000,2015-01-26 15:10:14.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1689}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-06-12 06:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7230759a4371426bae79d6b6b541883268b202e5', 'message': 'enable H402 hacking check\n\nThe change adds missing punctuation and then enables H402 (one line docstring\nneeds punctuation) hacking check.\n\nChange-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d\nPartial-Bug: 1329017\n'}, {'number': 2, 'created': '2014-06-12 07:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/000cc44c9224f159e46744f0b130a4b4147b091a', 'message': 'enable H402 hacking check\n\nThe change adds missing punctuation and then enables H402 (one line docstring\nneeds punctuation) hacking check.\n\nChange-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d\nPartial-Bug: 1329017\n'}, {'number': 3, 'created': '2014-06-12 16:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96725082af65be425977bde588d6a9179a893133', 'message': 'enable H402 hacking check\n\nThe change adds missing punctuation and then enables H402 (one line docstring\nneeds punctuation) hacking check.\n\nChange-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d\nPartial-Bug: 1329017\n'}, {'number': 4, 'created': '2014-06-13 03:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3c163b4f485a67347d889ea137581d22ea6c4f7', 'message': 'enable H402 hacking check\n\nThe change adds missing punctuation and then enables H402 (one line docstring\nneeds punctuation) hacking check.\n\nChange-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d\nPartial-Bug: 1329017\n'}, {'number': 5, 'created': '2014-06-14 20:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a18f40f96fd6c3d48c2ece5febde0596193632f', 'message': 'enable H402 hacking check\n\nThe change adds missing punctuation and then enables H402 (one line docstring\nneeds punctuation) hacking check.\n\nChange-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d\nPartial-Bug: 1329017\n'}, {'number': 6, 'created': '2014-06-14 20:55:12.000000000', 'files': ['neutron/wsgi.py', 'neutron/service.py', 'neutron/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron/plugins/bigswitch/routerrule_db.py', 'tox.ini', 'neutron/tests/unit/nec/test_ofc_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fe43dd93c6bc0c7672119196903bcb4e1c9d8c6', 'message': 'enable H402 hacking check\n\nThe change adds missing punctuation and then enables H402 (one line docstring\nneeds punctuation) hacking check.\n\nChange-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d\nPartial-Bug: 1329017\n'}]",8,99581,8fe43dd93c6bc0c7672119196903bcb4e1c9d8c6,113,27,6,2592,,,0,"enable H402 hacking check

The change adds missing punctuation and then enables H402 (one line docstring
needs punctuation) hacking check.

Change-Id: I6e862551a2db68d20ee90f9acc94fafa1aa02b1d
Partial-Bug: 1329017
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/99581/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/wsgi.py', 'neutron/service.py', 'neutron/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron/plugins/bigswitch/routerrule_db.py', 'tox.ini', 'neutron/tests/unit/nec/test_ofc_manager.py']",6,7230759a4371426bae79d6b6b541883268b202e5,bug/1329017," """"""A test of ofc_router creation."""""" """"""A test for exists_ofc_routeri."""""" """"""A test for delete ofc_router."""""""," """"""test create ofc_router"""""" """"""test exists_ofc_router"""""" """"""test delete ofc_router""""""",9,11
openstack%2Fneutron~master~I780d0b37dbc5d746f2ab87583b712ec101693b51,openstack/neutron,master,I780d0b37dbc5d746f2ab87583b712ec101693b51,Gateway API extension (adds L2 Bridging as a service),ABANDONED,2014-04-28 20:01:23.000000000,2015-01-26 15:10:13.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 5170}, {'_account_id': 6558}, {'_account_id': 8499}, {'_account_id': 9008}, {'_account_id': 9365}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 4, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/487ca5044db44a83a14f05e4e0b09abea1c06ebc', 'message': 'Gateway API extension (adds L2 Bridging as a service)\n\nThis is a WIP: most of diffs/changes are in OVS agent;\nGW-API 1st-drop: UseCase#1 and UseCase#2 with L2 agent and its driver support in OVS agent\n\nImplements: (partially, WIP) Blueprint gateway-api-extension\nChange-Id: I780d0b37dbc5d746f2ab87583b712ec101693b51\n'}, {'number': 3, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54b43fef5ad1f19ac2e28ad3a7275cbd3e918d0d', 'message': 'Gateway API extension (adds L2 Bridging as a service)\n\nThis is a WIP: most of diffs/changes are in OVS agent;\nGW-API 1st-drop: UseCase#1 and UseCase#2 with L2 agent and its driver support in OVS agent\n\nImplements: (partially, WIP) Blueprint gateway-api-extension\nChange-Id: I780d0b37dbc5d746f2ab87583b712ec101693b51\n'}, {'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d3762af157a782cba1a02952874693a29783412', 'message': 'Gateway API extension (adds L2 Bridging as a service)\n\nThis is a WIP: most of diffs/changes are in OVS agent;\nGW-API 1st-drop: UseCase#1 and UseCase#2 with L2 agent and its driver support in OVS agent\n\nImplements: (partially, WIP) Blueprint gateway-api-extension\nChange-Id: I780d0b37dbc5d746f2ab87583b712ec101693b51\n'}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f06cc5895c98f270b9f2ddffb47dd289146a322f', 'message': 'Gateway API extension (adds L2 Bridging as a service)\n\nThis is a WIP: most of diffs/changes are in OVS agent;\nGW-API 1st-drop: UseCase#1 and UseCase#2 with L2 agent and its driver support in OVS agent\n\nChange-Id: I780d0b37dbc5d746f2ab87583b712ec101693b51\nImplements: (partially, WIP) Blueprint gateway-api-extension\n'}, {'number': 5, 'created': '2014-05-15 02:33:30.000000000', 'files': ['neutron/api/rpc/agentnotifiers/l2_rpc_agent_api.py', 'neutron/db/l2_gwmode_db.py', 'neutron/agent/metadata/namespace_proxy.py', 'neutron/plugins/openvswitch/common/config.py', 'neutron/db/agentschedulers_db.py', 'neutron/server/__init__.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/l2_db.py', 'neutron/extensions/l2.py', 'neutron/plugins/common/constants.py', 'neutron/extensions/l2_ext_gw_mode.py', 'neutron/plugins/ml2/drivers/mech_openvswitch.py', 'neutron/agent/l2_agent.py', 'neutron/scheduler/l2_agent_scheduler.py', 'neutron/extensions/l2agentscheduler.py', 'neutron/agent/linux/ovs_lib.py', 'neutron/db/migration/alembic_migrations/versions/4692d074d587_agent_scheduler.py', 'neutron/agent/linux/interface.py', 'neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/services/l2_bridge/l2_bridge_plugin.py', 'neutron/db/l2_agentschedulers_db.py', 'neutron/db/agents_db.py', 'neutron/common/constants.py', 'neutron/common/legacy.py', 'neutron/services/l2_bridge/__init__.py', 'neutron/db/l2_rpc_base.py', 'neutron/plugins/openvswitch/common/constants.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/test_l2_agent.py', 'neutron/common/topics.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c9db388bfb1451d50b7c378acce99f0dcaa5967', 'message': 'Gateway API extension (adds L2 Bridging as a service)\n\nReference implementation of the API is integrated to OVS agent\nas one L2 ""service"" driver; This is still a WIP...\n\n1st piece of GW-API: 2 basic use cases in BP with L2 agent OVS driver\n- L2 bridge tenant network to a provider network\n- L2 bridge tenant networks for same tenant to a provider network\n\nImplements: (partially, WIP) Blueprint gateway-api-extension\nChange-Id: I780d0b37dbc5d746f2ab87583b712ec101693b51\n'}]",0,79223,4c9db388bfb1451d50b7c378acce99f0dcaa5967,83,26,5,8499,,,0,"Gateway API extension (adds L2 Bridging as a service)

Reference implementation of the API is integrated to OVS agent
as one L2 ""service"" driver; This is still a WIP...

1st piece of GW-API: 2 basic use cases in BP with L2 agent OVS driver
- L2 bridge tenant network to a provider network
- L2 bridge tenant networks for same tenant to a provider network

Implements: (partially, WIP) Blueprint gateway-api-extension
Change-Id: I780d0b37dbc5d746f2ab87583b712ec101693b51
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/79223/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/l2_rpc_agent_api.py', 'neutron/db/l2_gwmode_db.py', 'neutron/agent/metadata/namespace_proxy.py', 'neutron/plugins/openvswitch/common/config.py', 'neutron/db/agentschedulers_db.py', 'neutron/server/__init__.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/l2_db.py', 'neutron/extensions/l2.py', 'neutron/plugins/common/constants.py', 'neutron/extensions/l2_ext_gw_mode.py', 'neutron/plugins/ml2/drivers/mech_openvswitch.py', 'neutron/agent/l2_agent.py', 'neutron/scheduler/l2_agent_scheduler.py', 'neutron/extensions/l2agentscheduler.py', 'neutron/agent/linux/ovs_lib.py', 'neutron/db/migration/alembic_migrations/versions/4692d074d587_agent_scheduler.py', 'neutron/agent/linux/interface.py', 'neutron/tests/unit/openvswitch/test_ovs_neutron_agent.py', 'neutron/services/l2_bridge/l2_bridge_plugin.py', 'neutron/db/l2_agentschedulers_db.py', 'neutron/db/agents_db.py', 'neutron/common/constants.py', 'neutron/common/legacy.py', 'neutron/services/l2_bridge/__init__.py', 'neutron/db/l2_rpc_base.py', 'neutron/plugins/openvswitch/common/constants.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/test_l2_agent.py', 'neutron/common/topics.py']",31,487ca5044db44a83a14f05e4e0b09abea1c06ebc,bp/l2-bridging,L2PLUGIN = 'q-l2-plugin'L2_AGENT = 'l2_agent',,3212,73
openstack%2Fneutron~master~I8543c02293eaebee1430bf5a4b4f612037f2f7f3,openstack/neutron,master,I8543c02293eaebee1430bf5a4b4f612037f2f7f3,Added check to avoid creating multiple vpn-service,ABANDONED,2014-08-28 02:45:26.000000000,2015-01-26 15:10:12.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1923}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7249}, {'_account_id': 7474}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10354}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 11447}, {'_account_id': 11825}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 12737}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-08-28 02:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1161d69e9ca090cd2ccc4c4a5b2ea36652750131', 'message': 'check for creating multiple vpn-service\n\nobject per router.\nAs per design there is only one vpn-service object per router.\nwhile creating second vpn-service object for the router,this check\nraises appropriate message.\n\nCloses-Bug: 1318550\nChange-Id: I8543c02293eaebee1430bf5a4b4f612037f2f7f3\n'}, {'number': 2, 'created': '2014-09-12 16:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9edab60d50807c50a9db03a64bd7d94e3cf42817', 'message': 'Added check to avoid creating multiple vpn-service\n\nobject per router.\nAs per design there is only one vpn-service object per router.\nWhile creating second vpn-service object for the router,this check\nraises appropriate message.\n\nCloses-Bug: 1318550\nChange-Id: I8543c02293eaebee1430bf5a4b4f612037f2f7f3\n'}, {'number': 3, 'created': '2014-11-19 05:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c9986906b0d80d741e753f12679358b4668ed94', 'message': 'Added check to avoid creating multiple vpn-service\n\nAs per design there is only one vpn-service object per router.\nWhile creating second vpn-service object for the router, this check\nraises appropriate message.\n\nCloses-Bug: 1318550\nChange-Id: I8543c02293eaebee1430bf5a4b4f612037f2f7f3\n'}, {'number': 4, 'created': '2014-11-26 06:08:12.000000000', 'files': ['neutron/db/vpn/vpn_validator.py', 'neutron/db/vpn/vpn_db.py', 'neutron/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8ab26ff65ef5b5d3157fcf362ffdd3a147d5151', 'message': 'Added check to avoid creating multiple vpn-service\n\nAs per design there is only one vpn-service object per router.\nWhile creating second vpn-service object for the router, this check\nraises appropriate message.\n\nDocImpact\n\nCloses-Bug: 1318550\nChange-Id: I8543c02293eaebee1430bf5a4b4f612037f2f7f3\n'}]",13,117403,a8ab26ff65ef5b5d3157fcf362ffdd3a147d5151,97,38,4,11447,,,0,"Added check to avoid creating multiple vpn-service

As per design there is only one vpn-service object per router.
While creating second vpn-service object for the router, this check
raises appropriate message.

DocImpact

Closes-Bug: 1318550
Change-Id: I8543c02293eaebee1430bf5a4b4f612037f2f7f3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/117403/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/vpn/vpn_db.py', 'neutron/tests/unit/db/vpn/test_db_vpnaas.py']",2,1161d69e9ca090cd2ccc4c4a5b2ea36652750131,bug/1318550," #with self.subnet() as subnet: with contextlib.nested( self.subnet(cidr='10.0.0.0/24'), self.subnet(cidr='10.1.0.0/24'), self.subnet(cidr='10.2.0.0/24')) as (subnet1, subnet2, subnet3): #with self.router() as router: with contextlib.nested( self.router(name='router1'), self.router(name='router2'), self.router(name='router3')) as (router1, router2, router3): subnet=subnet1, router=router1, subnet=subnet2, router=router2, #plug_subnet=False, #external_router=False, subnet=subnet3, router=router3, #plug_subnet=False, #external_router=False, def test_creation_of_multiple_vpnservice_for_same_router(self): """"""Test case to validate multiple vpnservice for a router"""""" router_id = router['router']['id'] subnet_id = subnet['subnet']['id'] with self.vpnservice(subnet=subnet, router=router): self._create_vpnservice( self.fmt, 'fake', True, router_id, subnet_id, expected_res_status=webob.exc.HTTPConflict.code) def test_list_vpnservice_with_pagination_emulated(self): """"""Test case to list all vpnservices with pagination."""""" #with self.subnet() as subnet: with contextlib.nested(self.subnet(cidr='10.0.0.0/24'), self.subnet(cidr='10.1.0.0/24'), self.subnet(cidr='10.2.0.0/24') ) as (subnet1, subnet2, subnet3): #with self.router() as router: with contextlib.nested(self.router(name='router1'), self.router(name='router2'), self.router(name='router3') ) as (router1, router2, router3): subnet=subnet1, router=router1, subnet=subnet2, router=router2, external_subnet_cidr='192.168.20.0/24'), subnet=subnet3, router=router3, external_subnet_cidr='192.168.30.0/24') #with self.subnet() as subnet: with contextlib.nested(self.subnet(cidr='10.0.0.0/24'), self.subnet(cidr='10.1.0.0/24'), self.subnet(cidr='10.2.0.0/24') ) as (subnet1, subnet2, subnet3): #with self.router() as router: with contextlib.nested(self.router(name='router1'), self.router(name='router2'), self.router(name='router3') ) as (router1, router2, router3): subnet=subnet1, router=router1, subnet=subnet2, router=router2, external_subnet_cidr='192.168.11.0/24'), subnet=subnet3, router=router3, external_subnet_cidr='192.168.12.0/24')"," with self.subnet() as subnet: with self.router() as router: subnet=subnet, router=router, subnet=subnet, router=router, plug_subnet=False, external_router=False, subnet=subnet, router=router, plug_subnet=False, external_router=False, def test_list_vpnservice_with_pagination_emulated(self): """"""Test case to list all vpnservices with pagination."""""" subnet=subnet, router=router, subnet=subnet, router=router, plug_subnet=False, external_subnet_cidr='192.168.20.0/24', external_router=False), subnet=subnet, router=router, plug_subnet=False, external_subnet_cidr='192.168.30.0/24', external_router=False) with self.subnet() as subnet: with self.router() as router: subnet=subnet, router=router, subnet=subnet, router=router, plug_subnet=False, external_subnet_cidr='192.168.11.0/24', external_router=False), subnet=subnet, router=router, plug_subnet=False, external_subnet_cidr='192.168.12.0/24', external_router=False)",71,40
openstack%2Fneutron~master~Ib0e91aafad4559bfc87bd7842e2c8d5ce2cd5bd0,openstack/neutron,master,Ib0e91aafad4559bfc87bd7842e2c8d5ce2cd5bd0,Only raise exception if no IP wass allocated in dual-stack network,ABANDONED,2014-09-30 13:55:38.000000000,2015-01-26 15:10:10.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 2031}, {'_account_id': 2711}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6685}, {'_account_id': 6737}, {'_account_id': 7787}, {'_account_id': 7823}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10257}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11061}, {'_account_id': 12040}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-09-30 13:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91947773514da156f3279f8c1bd63e7e0d26f2b6', 'message': 'Only raise exception if no IP wass allocated in dual-stack network\n\nIf at least one fixed IP (v4 or v6) was successfully allocated for a\nport, do not raise an Exception.  This will allow to create Ports in\ndual-stack Networks when IPv4 (or IPv6) pool exhausted completely\nwhithout enumerating possible IP addresses in order to find frre one.\n\nChange-Id: Ib0e91aafad4559bfc87bd7842e2c8d5ce2cd5bd0\nCloses-Bug: #1372441\n'}, {'number': 2, 'created': '2014-10-01 10:36:52.000000000', 'files': ['neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25e28864ab55c61611e18739461eab0f779fd9ec', 'message': 'Only raise exception if no IP wass allocated in dual-stack network\n\nIf at least one fixed IP (v4 or v6) was successfully allocated for a\nport, do not raise an Exception.  This will allow to create Ports in\ndual-stack Networks when IPv4 (or IPv6) pool exhausted completely\nwhithout enumerating possible IP addresses in order to find frre one.\n\nChange-Id: Ib0e91aafad4559bfc87bd7842e2c8d5ce2cd5bd0\nCloses-Bug: #1372441\n'}]",4,125061,25e28864ab55c61611e18739461eab0f779fd9ec,61,32,2,11061,,,0,"Only raise exception if no IP wass allocated in dual-stack network

If at least one fixed IP (v4 or v6) was successfully allocated for a
port, do not raise an Exception.  This will allow to create Ports in
dual-stack Networks when IPv4 (or IPv6) pool exhausted completely
whithout enumerating possible IP addresses in order to find frre one.

Change-Id: Ib0e91aafad4559bfc87bd7842e2c8d5ce2cd5bd0
Closes-Bug: #1372441
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/125061/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py']",2,91947773514da156f3279f8c1bd63e7e0d26f2b6,bug/1372441,"import sysimport six ipaddr_exc = False ipae_type = None ipae_value = None ipae_tb = None try: result = NeutronDbPluginV2._generate_ip(context, subnets) ips.append({'ip_address': result['ip_address'], 'subnet_id': result['subnet_id']}) except n_exc.IpAddressGenerationFailure: ipaddr_exc = True ipae_type, ipae_value, ipae_tb, = sys.exc_info() if ipaddr_exc and not ips: six.reraise(ipae_type, ipae_value, ipae_tb) "," result = NeutronDbPluginV2._generate_ip(context, subnets) ips.append({'ip_address': result['ip_address'], 'subnet_id': result['subnet_id']})",73,3
openstack%2Fneutron~master~Ia0bf9db97bc8d2915d56f7c5ce468457366a2a43,openstack/neutron,master,Ia0bf9db97bc8d2915d56f7c5ce468457366a2a43,"In the router method of the l3_agent.py, if the gateway port is removed,we want to remove the rules.But the existing code implementation is if gateway port, removal of these rules, the patch is fix the problem or I understand wrong?",ABANDONED,2014-12-10 06:41:55.000000000,2015-01-26 15:10:08.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}]","[{'number': 1, 'created': '2014-12-10 06:41:55.000000000', 'files': ['neutron/agent/l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78a2922cc18243e7eb6b7ad753011d758d8d7e33', 'message': 'In the router method of the l3_agent.py, if the gateway port is removed,we want to remove the rules.But the existing code implementation is if gateway port, removal of these rules, the patch is fix the problem or I understand wrong?\n\nChange-Id: Ia0bf9db97bc8d2915d56f7c5ce468457366a2a43\n'}]",2,140585,78a2922cc18243e7eb6b7ad753011d758d8d7e33,25,21,1,12683,,,0,"In the router method of the l3_agent.py, if the gateway port is removed,we want to remove the rules.But the existing code implementation is if gateway port, removal of these rules, the patch is fix the problem or I understand wrong?

Change-Id: Ia0bf9db97bc8d2915d56f7c5ce468457366a2a43
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/140585/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3_agent.py'],1,78a2922cc18243e7eb6b7ad753011d758d8d7e33,router_gw_ports_remove_rules, elif not self.ex_gw_port:, elif self.ex_gw_port:,1,1
openstack%2Fneutron~master~I2fe1d4138045cf34e2551d3b82e99071b00daa33,openstack/neutron,master,I2fe1d4138045cf34e2551d3b82e99071b00daa33,Allow filtering routers by network-ids,ABANDONED,2014-08-03 15:08:47.000000000,2015-01-26 15:10:03.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 1923}, {'_account_id': 2035}, {'_account_id': 2711}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6635}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8213}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8792}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9423}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10870}, {'_account_id': 10980}, {'_account_id': 11825}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 12737}, {'_account_id': 13051}, {'_account_id': 14024}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-08-03 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc40bd1bcc0362af60d45af895e0e7700b3f74e5', 'message': ""Allow filtering routers by network-ids\n\nThere is corrently no way to list all the routers who are connected to\na single network, and on large deployment setups this can become even\nmore of an issue. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers who belong to a single router.\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 2, 'created': '2014-08-04 08:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5eb0042a08913eae83d5b601097e9bcc4711e5d5', 'message': ""Allow filtering routers by network-ids\n\nThere is corrently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers who belong to a specific network.\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 3, 'created': '2014-08-04 15:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5a0a84770a8f5df93b1c68e0e4caa0feb93589c', 'message': ""Allow filtering routers by network-ids\n\nThere is corrently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers who belong to a specific network.\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 4, 'created': '2014-08-05 13:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36034b6a4ece626fa378fba3a103d461413267bd', 'message': ""Allow filtering routers by network-ids\n\nThere is corrently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers who belong to a specific network.\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 5, 'created': '2014-08-07 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dd96d1f856ea307569425aabdddcbf2ba86fed2', 'message': ""Allow filtering routers by network-ids\n\nThere is corrently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers who belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 6, 'created': '2014-08-07 13:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ae93cb3773e843b495c1598a1904739908dda53', 'message': ""Allow filtering routers by network-ids\n\nThere is corrently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers who belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 7, 'created': '2014-08-10 10:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b73f0fbeff613bd0fb33634696636fe00543c67d', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers who belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 8, 'created': '2014-08-10 11:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58fd45129bc0e067103a046bd0591508e589d860', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers who belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 9, 'created': '2014-08-12 08:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3b5db509ff1eb0a43cfef8e4e22a7d567882458', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers which belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 10, 'created': '2014-08-14 08:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e87c9d71e8d4752a008d9329cfae9deb77fde51b', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers which belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 11, 'created': '2014-08-19 07:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4b8263675831a3cbce9a0efb86fe3d257e2f204', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers which are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers which belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 12, 'created': '2014-09-01 11:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3b4c01eac8af45e6d4a4d4edecd42f7ee2b5ff6', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers which are connected to\na given network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers attached to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 13, 'created': '2014-09-02 08:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea199c84f4f560ae7bc85ae263d6e0232e98423d', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers which are connected to\na given network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers attached to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 14, 'created': '2014-09-07 08:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e35224350a7bd0cbef9d475bdcea87941db25e9', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers which are connected to\na given network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers attached to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 15, 'created': '2014-09-17 14:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e56b397b76568e36c693ec8332644e31e2412da1', 'message': ""Allow filtering routers by network-ids\n\n(marun) - deferring until kilo\n\nThere is currently no way to list all the routers which are connected to\na given network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers attached to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 16, 'created': '2014-10-05 12:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45f2b948cdb998e7a2bde1f6abf4b21f699d41ff', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers which are connected to\na given network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers attached to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 17, 'created': '2014-11-10 12:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0a9bb058d9c13d3ab7b1d07111a8a36d80d632a', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers which belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\n""}, {'number': 18, 'created': '2014-12-16 06:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7e74a90fabe81c43e2063f9575df58fbdff5515', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers which belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\nImplements: blueprint filter-routers-by-network-id\n""}, {'number': 19, 'created': '2014-12-16 09:13:52.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py', 'neutron/plugins/metaplugin/meta_neutron_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/975192c1c15d06f17043d1c44af3be54069019e0', 'message': ""Allow filtering routers by network-ids\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get\nlist of all the routers which belong to a specific network.\n\nDocImpact\n\nChange-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33\nCloses-bug: #1350852\nImplements: blueprint filter-routers-by-network-id\n""}]",99,111580,975192c1c15d06f17043d1c44af3be54069019e0,496,60,19,12444,,,0,"Allow filtering routers by network-ids

There is currently no way to list all the routers who are connected to
a single network. This patch adds an optional 'network_id' filter to
the router-list REST API, which (when used) will allow one to get
list of all the routers which belong to a specific network.

DocImpact

Change-Id: I2fe1d4138045cf34e2551d3b82e99071b00daa33
Closes-bug: #1350852
Implements: blueprint filter-routers-by-network-id
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/111580/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py']",2,dc40bd1bcc0362af60d45af895e0e7700b3f74e5,bp/filter-routers-by-network-id,"from neutron.db import sqlalchemyutils def _get_routers_query(self, context, filters=None, sorts=None, limit=None, marker_obj=None, page_reverse=False): Port = models_v2.Port if not filters: filters = {} network_ids = filters.pop('network_id', None) query = self._model_query(context, Router) if network_ids is not None: # Look for all the ports connected to a network, # and can extract those who are connected # to a specific router, by looking for all the # ports whose device_id matches some router. ports_subquery = (self._model_query(context, Port).\ filter(Port.network_id.in_(network_ids)).\ subquery()) query = query.join( ports_subquery, Router.id==ports_subquery.columns.device_id) query = self._apply_filters_to_query(query, Router, filters) if limit and page_reverse and sorts: sorts = [(s[0], not s[1]) for s in sorts] query = sqlalchemyutils.paginate_query(query, Router, limit, sorts, marker_obj) return query query = self._get_routers_query(context, filters=filters, sorts=sorts,limit=limit, marker_obj=marker_obj, page_reverse=page_reverse) items = [self._make_router_dict(c, fields) for c in query] if limit and page_reverse: items.reverse() return items"," return self._get_collection(context, Router, self._make_router_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse)",118,7
openstack%2Fneutron~master~Ia00ef0351d6db13756d35076de64f8d476d91065,openstack/neutron,master,Ia00ef0351d6db13756d35076de64f8d476d91065,NSX: Add a foreign key for gateway devices,ABANDONED,2014-05-15 23:23:03.000000000,2015-01-26 15:10:02.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8213}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-05-15 23:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf59e737c141f6bbf69bfa87951fd9c27864d2ae', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use. Also, the code for\ncreating a network gateway has been adjusted to properly handle\nthe integrity error which might be caused by this foreign key.\n\nAppropriate unit tests are also added.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 2, 'created': '2014-06-14 01:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/431cfd159be3e3b28f017c48f15476426991f18c', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use. Also, the code for\ncreating a network gateway has been adjusted to properly handle\nthe integrity error which might be caused by this foreign key.\n\nAppropriate unit tests are also added.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 3, 'created': '2014-08-18 22:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/479ce7de5665c552b3b18bcc1bd736673f2e6eb0', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use. Also, the code for\ncreating a network gateway has been adjusted to properly handle\nthe integrity error which might be caused by this foreign key.\n\nAppropriate unit tests are also added.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 4, 'created': '2014-08-19 21:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4baa8b26a569a63f69fe0b7149607c9c1c37944b', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use. Also, the code for\ncreating a network gateway has been adjusted to properly handle\nthe integrity error which might be caused by this foreign key.\n\nAppropriate unit tests are also added.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 5, 'created': '2014-09-01 10:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/553ab3f16d073a45409b24edfaf46c734c2c91a7', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use. Also, the code for\ncreating a network gateway has been adjusted to properly handle\nthe integrity error which might be caused by this foreign key.\n\nAppropriate unit tests are also added.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 6, 'created': '2014-09-01 13:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc1948d0926d740bb7d5c67bb3d117467ec14042', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use when deleting a\nnetwork gateway.\n\nThis patch also leverages the newly added constraint for\nsimplifying device checks on network gateway creation.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 7, 'created': '2014-09-01 21:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89b1afdb5aec6e08f03c6a78c6ef2dfc50e389cf', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use when deleting a\nnetwork gateway.\n\nThis patch also leverages the newly added constraint for\nsimplifying device checks on network gateway creation.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 8, 'created': '2014-09-23 23:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa8aa58097709525ecdccfd24af2e428b7df6bb', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use when deleting a\nnetwork gateway.\n\nThis patch also leverages the newly added constraint for\nsimplifying device checks on network gateway creation.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 9, 'created': '2014-09-24 09:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bffa3e0fb343df5e24dd2a218070cc0c8e3863a', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use when deleting a\nnetwork gateway.\n\nThis patch also leverages the newly added constraint for\nsimplifying device checks on network gateway creation.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 10, 'created': '2014-09-26 10:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d423feee64da3e5185c42e21b4520d81db8eaca', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use when deleting a\nnetwork gateway.\n\nThis patch also leverages the newly added constraint for\nsimplifying device checks on network gateway creation.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}, {'number': 11, 'created': '2014-11-18 22:52:27.000000000', 'files': ['neutron/plugins/vmware/dbexts/networkgw_db.py', 'neutron/plugins/vmware/plugins/base.py', 'neutron/db/migration/alembic_migrations/versions/af2e180d10a_nsx_net_gateway_fk.py', 'neutron/tests/unit/vmware/extensions/test_networkgw.py', 'neutron/db/migration/alembic_migrations/versions/HEAD'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac49a49f0dd0d33739f45cec44aee7b06754c126', 'message': ""NSX: Add a foreign key for gateway devices\n\nThis patch adds a migration for setting a foreign key constraint\nbetween the 'networkgatewaydevicereferences' and\n'networkgatewaydevices' tables.\n\nAs a result, there is no more need to run an explicit query for\nchecking whether a gateway device is in use when deleting a\nnetwork gateway.\n\nThis patch also leverages the newly added constraint for\nsimplifying device checks on network gateway creation.\n\nCloses-Bug: 1319581\n\nChange-Id: Ia00ef0351d6db13756d35076de64f8d476d91065\n""}]",10,93826,ac49a49f0dd0d33739f45cec44aee7b06754c126,294,38,11,261,,,0,"NSX: Add a foreign key for gateway devices

This patch adds a migration for setting a foreign key constraint
between the 'networkgatewaydevicereferences' and
'networkgatewaydevices' tables.

As a result, there is no more need to run an explicit query for
checking whether a gateway device is in use when deleting a
network gateway.

This patch also leverages the newly added constraint for
simplifying device checks on network gateway creation.

Closes-Bug: 1319581

Change-Id: Ia00ef0351d6db13756d35076de64f8d476d91065
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/93826/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/vmware/dbexts/networkgw_db.py', 'neutron/db/migration/alembic_migrations/versions/af2e180d10a_nsx_net_gateway_fk.py', 'neutron/tests/unit/vmware/extensions/test_networkgw.py', 'neutron/db/migration/alembic_migrations/versions/HEAD']",4,bf59e737c141f6bbf69bfa87951fd9c27864d2ae,bug/1319581,af2e180d10a,1b837a7125a9 ,109,26
openstack%2Fneutron~master~I5db300d5aa71d3e5c01b43fe6a9834e0d691107a,openstack/neutron,master,I5db300d5aa71d3e5c01b43fe6a9834e0d691107a,NSX: Remove unneed method _convert_to_nsx_transport_zones,ABANDONED,2014-09-25 22:54:50.000000000,2015-01-26 15:09:59.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-09-25 22:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c7e13c68d5f0decd2debbe9f48194a96d41a589', 'message': 'NSX: Remove unneed method _convert_to_nsx_transport_zones\n\nThis patch removes the method _convert_to_nsx_transport_zones\nand instead calls it from nsx_utils directly.\n\nChange-Id: I5db300d5aa71d3e5c01b43fe6a9834e0d691107a\nCloses-bug: 1374199\n'}, {'number': 2, 'created': '2014-11-19 17:24:33.000000000', 'files': ['neutron/plugins/vmware/plugins/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc8121a12791955c979c3678bcb8ba8c82489f21', 'message': 'NSX: Remove unneed method _convert_to_nsx_transport_zones\n\nThis patch removes the method _convert_to_nsx_transport_zones\nand instead calls it from nsx_utils directly.\n\nChange-Id: I5db300d5aa71d3e5c01b43fe6a9834e0d691107a\nCloses-bug: 1374199\n'}]",2,124215,dc8121a12791955c979c3678bcb8ba8c82489f21,46,26,2,4395,,,0,"NSX: Remove unneed method _convert_to_nsx_transport_zones

This patch removes the method _convert_to_nsx_transport_zones
and instead calls it from nsx_utils directly.

Change-Id: I5db300d5aa71d3e5c01b43fe6a9834e0d691107a
Closes-bug: 1374199
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/124215/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/vmware/plugins/base.py'],1,1c7e13c68d5f0decd2debbe9f48194a96d41a589,bug/1374199, transport_zone_config = nsx_utils.convert_to_nsx_transport_zones( transport_zone_config = nsx_utils.convert_to_nsx_transport_zones(," transport_zone_config = self._convert_to_nsx_transport_zones( def _convert_to_nsx_transport_zones(self, cluster, network=None, bindings=None): # TODO(salv-orlando): Remove this method and call nsx-utils direct return nsx_utils.convert_to_nsx_transport_zones( cluster.default_tz_uuid, network, bindings, default_transport_type=cfg.CONF.NSX.default_transport_type) transport_zone_config = self._convert_to_nsx_transport_zones(",2,9
openstack%2Fneutron~master~I92b84677afa15d13085d59be9de8060bf876d85f,openstack/neutron,master,I92b84677afa15d13085d59be9de8060bf876d85f,NSX: Remove logic for creating chained logical switches,ABANDONED,2014-10-01 13:19:18.000000000,2015-01-26 15:09:57.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6695}, {'_account_id': 6854}, {'_account_id': 8124}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-01 13:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/533099bc7b4f2818dd64e2fc4e4a4774ac514ff3', 'message': 'NSX: Remove logic for creating chained logical switches\n\nThis patch removes the logic for creating chained local switches in\nthe NSX backend for Neutron networks with flat or vlan bindings.\nSwitch chaining as a feature is no more useful since the underlying\nbackend limitation has been long removed.\n\nThe logic for reading chained logical switches is however\npreserved by this patch, since some older neutron networks could\nstill be mapped to chained logical switches.\n\nCloses-Bug: #1376037\n\nChange-Id: I92b84677afa15d13085d59be9de8060bf876d85f\n'}, {'number': 2, 'created': '2014-10-16 23:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e30508d26c9dcd32e0d4a02d00776c0afd9603b6', 'message': 'NSX: Remove logic for creating chained logical switches\n\nThis patch removes the logic for creating chained local switches in\nthe NSX backend for Neutron networks with flat or vlan bindings.\nSwitch chaining as a feature is no more useful since the underlying\nbackend limitation has been long removed.\n\nThe logic for reading chained logical switches is however\npreserved by this patch, since some older neutron networks could\nstill be mapped to chained logical switches.\n\nCloses-Bug: #1376037\n\nChange-Id: I92b84677afa15d13085d59be9de8060bf876d85f\n'}, {'number': 3, 'created': '2014-11-18 22:10:23.000000000', 'files': ['neutron/plugins/vmware/plugins/base.py', 'neutron/tests/unit/vmware/test_nsx_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5e755bca43c28c4c9e1ef6315fd5714331b61f5', 'message': 'NSX: Remove logic for creating chained logical switches\n\nThis patch removes the logic for creating chained local switches in\nthe NSX backend for Neutron networks with flat or vlan bindings.\nSwitch chaining as a feature is no more useful since the underlying\nbackend limitation has been long removed.\n\nThe logic for reading chained logical switches is however\npreserved by this patch, since some older neutron networks could\nstill be mapped to chained logical switches.\n\nCloses-Bug: #1376037\n\nChange-Id: I92b84677afa15d13085d59be9de8060bf876d85f\n'}]",6,125348,c5e755bca43c28c4c9e1ef6315fd5714331b61f5,106,26,3,261,,,0,"NSX: Remove logic for creating chained logical switches

This patch removes the logic for creating chained local switches in
the NSX backend for Neutron networks with flat or vlan bindings.
Switch chaining as a feature is no more useful since the underlying
backend limitation has been long removed.

The logic for reading chained logical switches is however
preserved by this patch, since some older neutron networks could
still be mapped to chained logical switches.

Closes-Bug: #1376037

Change-Id: I92b84677afa15d13085d59be9de8060bf876d85f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/125348/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/vmware/plugins/base.py', 'neutron/tests/unit/vmware/test_nsx_plugin.py']",2,533099bc7b4f2818dd64e2fc4e4a4774ac514ff3,remove_switch_chaining," def _test_exhaust_ports(self, providernet_args=None): providernet_args=providernet_args, def test_exhaust_ports_overlay_network(self): cfg.CONF.set_override('max_lp_per_overlay_ls', 1, group='NSX') self._test_exhaust_ports() self._test_exhaust_ports(providernet_args=providernet_args)"," def test_exhaust_ports_overlay_network(self): cfg.CONF.set_override('max_lp_per_overlay_ls', 1, group='NSX') with self.network(name='testnet', providernet_args=providernet_args, arg_list=(pnet.NETWORK_TYPE, pnet.PHYSICAL_NETWORK, pnet.SEGMENTATION_ID)) as net: with self.subnet(network=net) as sub: with self.port(subnet=sub): with self.port(subnet=sub): plugin = manager.NeutronManager.get_plugin() ls = nsxlib.switch.get_lswitches(plugin.cluster, net['network']['id']) self.assertEqual(len(ls), 2)",27,72
openstack%2Fneutron~master~I39c823a273aebdb6b50fbe3a7173e015c66ca827,openstack/neutron,master,I39c823a273aebdb6b50fbe3a7173e015c66ca827,RESTful API to retrieve dvr host mac,ABANDONED,2014-09-01 10:32:45.000000000,2015-01-26 15:09:56.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6993}, {'_account_id': 7016}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9008}, {'_account_id': 9077}, {'_account_id': 9361}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10451}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10760}, {'_account_id': 11335}, {'_account_id': 11952}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-09-01 10:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96a32edf4606893fbcd94fbc6b9976479bf7dd99', 'message': 'RESTful API to retrieve dvrhostmac for ODL\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}, {'number': 2, 'created': '2014-09-01 11:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f7f933ac3649cf2509fda30581494093e8ca73e', 'message': 'RESTful API to retrieve dvrhostmac for ODL\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nCloses-bug: #1363967\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}, {'number': 3, 'created': '2014-09-02 10:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac95db118601f00e6cd6b33a7cf11ec0e60fe433', 'message': 'RESTful API to retrieve dvrhostmac for ODL\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nCloses-bug: #1363967\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}, {'number': 4, 'created': '2014-09-08 08:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/827e47851a61c482b29eaafa80bf649a6c4d69b7', 'message': 'RESTful API to retrieve dvr host mac\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nCloses-bug: #1363967\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}, {'number': 5, 'created': '2014-09-08 08:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad0d4ed553a7c1088c07319bcf280ca1e96642e2', 'message': 'RESTful API to retrieve dvr host mac\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nCloses-bug: #1363967\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}, {'number': 6, 'created': '2014-09-09 04:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4c2a57c55b1d6d6212aa7a63399a626bdc3e812', 'message': 'RESTful API to retrieve dvr host mac\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nPartially-implements: blueprint dvr-interface-binding\n\nCloses-bug: #1363967\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}, {'number': 7, 'created': '2014-10-14 07:49:10.000000000', 'files': ['neutron/db/dvr_mac_db.py', 'neutron/extensions/dvr.py', 'neutron/tests/unit/db/test_dvr_mac_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/79712c3c66ce79876b9bac413586e3b04011401c', 'message': 'RESTful API to retrieve dvr host mac\n\nFix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,\nthis will be used by Vendor-specific controllers including OpenDayLight\n\nPartially-implements: blueprint dvr-interface-binding\n\nCloses-bug: #1363967\n\nChange-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827\n'}]",6,118126,79712c3c66ce79876b9bac413586e3b04011401c,154,34,7,10760,,,0,"RESTful API to retrieve dvr host mac

Fix DVR to provide RESTful API to retrieve DVR-HOST-MAC mapping,
this will be used by Vendor-specific controllers including OpenDayLight

Partially-implements: blueprint dvr-interface-binding

Closes-bug: #1363967

Change-Id: I39c823a273aebdb6b50fbe3a7173e015c66ca827
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/118126/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/dvr_mac_db.py', 'neutron/extensions/dvr.py', 'neutron/tests/unit/db/test_dvr_mac_db.py']",3,96a32edf4606893fbcd94fbc6b9976479bf7dd99,bp/dvr-interface-binding," def test_get_dvrhostmac(self): self._create_dvr_mac_entry('host_1', 'mac_1') expected = {'host': 'host_1', 'mac_address': 'mac_1'} mac_list = self.mixin.get_dvrhostmac(self.ctx, 'host_1', fields=mock.ANY) self.assertEqual(expected, mac_list) def test_get_dvrhostmacs(self): self._create_dvr_mac_entry('host_1', 'mac_1') self._create_dvr_mac_entry('host_2', 'mac_2') expected = [{'host': 'host_1', 'mac_address': 'mac_1'}, {'host': 'host_2', 'mac_address': 'mac_2'}] dvr_macs_list = self.mixin.get_dvrhostmacs(self.ctx, fields=mock.ANY, filters=mock.ANY, sorts=mock.ANY, limit=mock.ANY, marker=mock.ANY, page_reverse=mock.ANY) self.assertEqual(expected, dvr_macs_list)",,83,26
openstack%2Fneutron-specs~master~I583d01f7deedd2e0209fe78516fa7c77475292d0,openstack/neutron-specs,master,I583d01f7deedd2e0209fe78516fa7c77475292d0,Neutron Count API,ABANDONED,2014-06-24 11:57:00.000000000,2015-01-26 15:09:08.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1935}, {'_account_id': 2592}, {'_account_id': 6072}, {'_account_id': 6854}, {'_account_id': 8646}, {'_account_id': 8655}, {'_account_id': 10559}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-06-24 11:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/60356d19dd5a0a07e0d3c8e91d8488f16d54cab6', 'message': 'Neutron Count API\n\nrename network-count-api.rst to neutron-count-api.rst\nsince the API will support not only network count but\nalso other Neutron resource count.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\n'}, {'number': 2, 'created': '2014-06-25 07:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/69b5da45f13dfbf5ff741616588df76a82a81117', 'message': 'Neutron Count API\n\nrename network-count-api.rst to neutron-count-api.rst\nsince the API will support not only network count but\nalso other Neutron resource count.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\n'}, {'number': 3, 'created': '2014-06-26 02:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cbca3d45d529ec5bee83324ed6b21ab08f31dfae', 'message': 'Neutron Count API\n\nrename network-count-api.rst to neutron-count-api.rst\nsince the API will support not only network count but\nalso other Neutron resource count.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\n'}, {'number': 4, 'created': '2014-06-26 06:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fe5f8ee3287cf4f9e6be1c72e1c0ee7eebf0e355', 'message': 'Neutron Count API\n\nThis blueprint proposes a new REST API that returns\nthe number of resources in Neutron (ie, networks,\nports, firewalls, etc.) which match a variety of\nsearch filters.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\n'}, {'number': 5, 'created': '2014-07-21 07:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0714f3f47fd6041e6db83349895e300de1c5a115', 'message': 'Neutron Count API\n\nThis blueprint proposes a new REST API that returns\nthe number of resources in Neutron (ie, networks,\nports, firewalls, etc.) which match a variety of\nsearch filters.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\nImplements: blueprint neutron-count-api\n'}, {'number': 6, 'created': '2014-11-10 11:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0d6174a6b909e7a1c55a4913c338c6dc87712cb3', 'message': 'Neutron Count API\n\nrename network-count-api.rst to neutron-count-api.rst\nsince the API will support not only network count but\nalso other Neutron resource count.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\n'}, {'number': 7, 'created': '2014-11-10 11:07:56.000000000', 'files': ['specs/kilo/neutron-count-api.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c7b5ae6b603fcd8dacc24d59547b055e71abe0c4', 'message': 'Neutron Count API\n\nThis blueprint proposes a new REST API that returns\nthe number of resources in Neutron (ie, networks,\nports, firewalls, etc.) which match a variety of\nsearch filters.\n\nChange-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0\nImplements: blueprint neutron-count-api\n'}]",24,102199,c7b5ae6b603fcd8dacc24d59547b055e71abe0c4,38,12,7,8646,,,0,"Neutron Count API

This blueprint proposes a new REST API that returns
the number of resources in Neutron (ie, networks,
ports, firewalls, etc.) which match a variety of
search filters.

Change-Id: I583d01f7deedd2e0209fe78516fa7c77475292d0
Implements: blueprint neutron-count-api
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/99/102199/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/neutron-count-api.rst'],1,60356d19dd5a0a07e0d3c8e91d8488f16d54cab6,bp/network-count-api,"Neutron Count API ExtensionThis blueprint proposes a new REST API that returns the number of resources in Neutron (ie, networks, ports, firewalls, etc.) which match a variety of search filters.Currently there is no API that can retrieve summary count data for resourcesRetrieving all resources and then manually determining the count data does notThe use cases driving this API are derived from a user's experience when using a GUI. Though the following discussion mainly focuses on network, it applies on other kinds of resources in Neutron.administrator. A new API is needed to retrieve the network count data associated with various filters (ie, ports in active state, networks in building state, etc.) for the entire cloud.summary of network states with the help of this API, so some emergent issues like many netwoks running in error state can raise the administrator's attention. Without this new API, the administrator have to drill down into each network to check the state, and it's hard for the administrator to find that unacceptable number of network components are in unexpected state.Use Case 3: Inherent timing window when adding a new item with limit/marker processing. Assume that pagination is used to iterate over the data to summarize a count. When getting the n_th page, it is possible that the n-1_th page has a new item just added. Due to the sorting of the data, limit/marker will not detect that change. While this timing window is small, getting a count using this method is not guaranteed to be accurate.The new count API should accept the same filter values as the existing /RESOURCEs and /PREFIX/RESOURCEs APIs and re-use the existing filter processing. To ensure consistency and avoid affecting the current implementaion of Neutron core plugins and service plugins, we decide to utilize the 'get_RESOURCEs' function to obtain the list of required resources, and then return the size of the list. A new path pattern needs to be added to the routes mapper in the modules below to support this new count API query: * neutron.api.v2.router.APIRouter * neutron.api.extensions.ExtensionMiddleware Also a new count function will be added to neutron.api.v2.base.Controller to enable this API.One alternative approach is to return the count of resources in the existing /RESOURCEs API by adding a new key ""count"" in the response dictionary, like: response:: { ""networks"" : [...], ""count"" : 100 } This approach doesn't require a new API while just changes the response of the existing API a bit. The downside is that objects and count will always be returned at the same time even though only count is needed. To avoid this, we can add a new parameter like ""count"" to the /RESOURCEs API. Users can send a request with ""count"" setting to ""true"" to indicate that they just want to get a number. However, differing the type of return value based on the input parameter will make the API confusing so we do not suggest such approach. * New URL: * /RESOURCEs/count, like /networks/count * /RPEFIX/RESOURCEs/count, like /fw/firewalls/count * Description: Get number of resources * JSON schema definition for the response data: {""RESOURCEs"": <int>}","Network Count API ExtensionThis blueprint proposes a new REST API extension that returns the number of networks which match a variety of search filters.Currently there is no API that can retrieve summary count data for networksRetrieving all networks and then manually determining the count data does notThe use cases driving this API extension are derived from a user's experience when using a GUI.administrator. A new API extension is needed to retrieve the network count data associated with various filters (ie, ports in active state, networks in building state, etc.) for the entire cloud.summary of network states with the help of this API extension, so some emergent issues like many netwoks running in error state can raise the administrator's attention. Without this new API extension, the administrator have to drill down into each network to check the state, and it's hard for the administrator to find that unacceptable number of network components are in unexpected state.Use Case 3: Inherent timing window when adding a new item with limit/marker processing. Assume that pagination is used to iterate over the data to summarize a count. When getting the n_th page, it is possible that the n-1_th page has a new item just added. Due to the sorting of the data, limit/marker will not detect that change. While this timing window is small, getting a count using this method is not guaranteed to be accurate.The new count API extension should accept the same filter values as the existing /networks APIs and re-use the existing filter processing. To ensure consistency and avoid affecting the current implementaion of Neutron core plugins, we decide to utilize the 'get_networks' function to obtain the list of required networks, and then return the size of the list. A new path pattern needs to be added to the routes mapper in neutron.api.v2.router.APIRouter to support this new count API query, also a new count function will be added to neutron.api.v2.base.Controller to enable this API.* New v2 API extension: * Name: NetworkCounts * Alias: network-counts * New URL: v2/{tenant_id}/networks/count * Description: Get number of networks * JSON schema definition for the response data: {""count"": <int>}",59,36
openstack%2Fneutron-specs~master~I2d8c45a319fb6c3d99887207222f80bc91b12c65,openstack/neutron-specs,master,I2d8c45a319fb6c3d99887207222f80bc91b12c65,Add spec for ML2 host IP support in port bindings,ABANDONED,2014-10-31 21:15:53.000000000,2015-01-26 15:09:07.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 6854}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-10-31 21:15:53.000000000', 'files': ['specs/kilo/ml2-host-ip-port-binding.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/03c8630b4997c666104186a6e78fd747b26e3cfe', 'message': 'Add spec for ML2 host IP support in port bindings\n\nAdd support for host IP address in the port bindings extension. When the\n*host_id* field is set, the newly added *host_ip* field should contain\nthe corresponding IP address.\n\nChange-Id: I2d8c45a319fb6c3d99887207222f80bc91b12c65\n'}]",9,132363,03c8630b4997c666104186a6e78fd747b26e3cfe,9,6,1,13757,,,0,"Add spec for ML2 host IP support in port bindings

Add support for host IP address in the port bindings extension. When the
*host_id* field is set, the newly added *host_ip* field should contain
the corresponding IP address.

Change-Id: I2d8c45a319fb6c3d99887207222f80bc91b12c65
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/63/132363/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-host-ip-port-binding.rst'],1,03c8630b4997c666104186a6e78fd747b26e3cfe,bp/ml2-host-ip-port-binding,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== ML2 Host IP Support in Port Bindings ==================================== https://blueprints.launchpad.net/neutron/+spec/ml2-host-ip-port-binding Add support for host IP address in the port bindings extension. When the *host_id* field is set, the newly added *host_ip* field should contain the corresponding IP address. Problem Description =================== When the OpenDaylight (ODL) mechanism driver asks ODLs Neutron API for a port to be created, the REST API call it sends typically includes the host name of the node where the port should be created in the *host_id* field. The host name may not always be a fully qualified domain name, and as such it may not always be possible to determine the IP address of the host (i.e., the mapping is only in the ``/etc/hosts`` file of the control node). This information may be necessary in some cases, one such example being the LISP Flow Mapping service within the OpenDaylight controller. Proposed Change =============== In the Kilo release, the port bindings extension includes a *host_ip* field. The ML2 plugins ODL mechanism driver should send this host IP address along with the host name, when creating ports. Data Model Impact ----------------- None. REST API Impact --------------- None on the API exposed by Neutron. The OpenDaylight Neutron API should be able to parse and interpret the new field. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ Minimal delay when building the port bindings dictionary, due to DNS resolution. Other Deployer Impact --------------------- Potentially a new user configuration to enable/disable this feature. Developer Impact ---------------- None. Community Impact ---------------- None. Alternatives ------------ None. Implementation ============== The host name of the node is part of the ``neutron/extensions/portbindings.py`` extension (*binding:host_id*). A new field, *binding:host_ip* will be added to this extension. ``neutron/plugins/ml2/plugin.py`` will be updated to do DNS resolution when processing port bindings, and store the result in the newly added field. A configuration variable could be added to activate/deactivate this behavior. Assignee(s) ----------- Lori Jakab <lojakab@cisco.com> Work Items ---------- - Add new field to ``neutron/extensions/portbindings.py`` - Add DNS resolution to ``neutron/plugins/ml2/plugin.py`` - Update code working with port binding to take into account the new field Dependencies ============ None. Testing ======= Tempest Tests ------------- None. Functional Tests ---------------- None. API Tests --------- None. Documentation Impact ==================== User Documentation ------------------ None. Developer Documentation ----------------------- None. References ========== None. ",,121,0
openstack%2Fneutron-specs~master~Ic57fafb1b520c292a3b8889d6e52bb4b84ebb173,openstack/neutron-specs,master,Ic57fafb1b520c292a3b8889d6e52bb4b84ebb173,FWaaS: Firewall Rules Blob,ABANDONED,2014-10-30 07:43:15.000000000,2015-01-26 15:09:04.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}]","[{'number': 1, 'created': '2014-10-30 07:43:15.000000000', 'files': ['specs/kilo/firewall-rules-blob.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e4fdadffcf1dc371573ec4bf43ec119eab918c70', 'message': 'FWaaS: Firewall Rules Blob\n\nFWaaS API extension to pass vendor specific blob which is passed to\ndriver without any evaluation.\n\nChange-Id: Ic57fafb1b520c292a3b8889d6e52bb4b84ebb173\nBlueprint: firewall-rules-blob\n'}]",5,131956,e4fdadffcf1dc371573ec4bf43ec119eab918c70,7,4,1,333,,,0,"FWaaS: Firewall Rules Blob

FWaaS API extension to pass vendor specific blob which is passed to
driver without any evaluation.

Change-Id: Ic57fafb1b520c292a3b8889d6e52bb4b84ebb173
Blueprint: firewall-rules-blob
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/56/131956/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/firewall-rules-blob.rst'],1,e4fdadffcf1dc371573ec4bf43ec119eab918c70,bp/firewall-rules-blob,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================== Firewall Rules Blob =================== https://blueprints.launchpad.net/neutron/+spec/firewall-rules-blob Add blob attribute to firewall rules to pass vendor specific rules Problem Description =================== Each firewall appliances have special features so that it's quite difficult to standardize them as neutron firewall API. So it's required to add a way to pass vendor specific rules as firewall rule to and then to each vendor driver of FWaaS plugin. Proposed Change =============== The FwaaS API spec[fwaas-api] mentions a firewall_rules_blob attribute, that can be used to pass in vendor-specific rules, that Neutron will pass through without evaluating. There are a number of special features and filtering directives that firewalls support, that do not map easily to the Neutron FwaaS models. Having the firewall_rules_blob attribute would allow more flexibility, for special cases. Data Model Impact ----------------- Column of blob of string type will be added to firewall_rules table (class FireWallRule). :: class FirewallRule(...) ... blob = sa.Column(sa.String(4096)) If it's wasteful to add a new row, a new table will be added and associated to firewall_rules. :: class FirewallRuleBlob(...) blob = sa.Column(sa.String(4096)) firewall_rule_id = sa.Column(sa.String(36), sa.ForeignKey(firewall_rules.id)) REST API Impact --------------- A new attribute, 'blob', will be added to firewall_rule. +----------+-------+---------+---------+------------+---------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +==========+=======+=========+=========+============+===============+ |blob |string |RW, all |'' |string |vendor specific| | | | | | |rules | +----------+-------+---------+---------+------------+---------------+ The blob string is passed to vendor driver without any evaluation Security Impact --------------- None Notifications Impact -------------------- RPC to get firewall rule will be enhanced to accommodate blob. Other End User Impact --------------------- python-neutronclient will be enhanced so that user can pass blob. Performance Impact ------------------ As long as blob isn't used, there should be no impact. If blob is used, the overhead to pass those blob will be added. Other Deployer Impact --------------------- New option to enable this feature for compatibility. :: enable_fwaas_blob = True If deployer wants to use this feature, the option needs to be enabled, and choose fwaas driver that supports blob. Developer Impact ---------------- None. The existing fwaas driver works as is(or with only method argument modification) which simple ignores blob. Community Impact ---------------- The concept of firewall rules blob has been discussed in the community [fwaas-api]. Alternatives ------------ None. This proposal is to add a way to pass vendor specific argument for firewall rule. Any approach would essentially result in adding a sort of new argument. Implementation ============== Assignee(s) ----------- Primary assignee: yamahata Other contributors: Rui Yalei Work Items ---------- * update FWaaS plugin * rpc update to include blob * update FWaaS driver api to accept blob * update neutron-client to allow blob Dependencies ============ None Testing ======= Necessary unit/API tests will be added. But for tempest/functional tests won't be newly added because there isn't fwaas driver. When a new fwaas driver that supports blob is added, tempest/functional tests will be added. (Probably through third-party CI.) Tempest Tests ------------- None Functional Tests ---------------- None API Tests --------- API to create/update/delete blob will be tested. Documentation Impact ==================== User Documentation ------------------ Documentation of FWaaS API and python-neutronclient will be updated. Developer Documentation ----------------------- A document on FWaaS driver will be updated if any. References ========== * [fwaas-api] Quantum Firewall as a Service (FWaaS) Model & API https://docs.google.com/document/d/1PJaKvsX2MzMRlLGfR0fBkrMraHYF0flvl0sqyZ704tA/edit?pli=1 * [fwaas-service-group] Neutron/FWaaS/FWaaS-ServiceGroup https://wiki.openstack.org/wiki/Neutron/FWaaS/FWaaS-ServiceGroup ",,216,0
openstack%2Fneutron-specs~master~I878bafef06eed583161b481c22e19ac278f1dab4,openstack/neutron-specs,master,I878bafef06eed583161b481c22e19ac278f1dab4,Edge router mapping,ABANDONED,2014-10-14 13:20:21.000000000,2015-01-26 15:09:03.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 156}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 7448}, {'_account_id': 7505}]","[{'number': 1, 'created': '2014-10-14 13:20:21.000000000', 'files': ['specs/kilo/edge-router-modeling.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6dd450636abd6d015e9277ceb06bc6c032355cb4', 'message': ""Edge router mapping\n\nNew spec to allow define the 'edge' router on the top of the external\nnetwork.\n\nChange-Id: I878bafef06eed583161b481c22e19ac278f1dab4\n""}]",5,128272,6dd450636abd6d015e9277ceb06bc6c032355cb4,10,7,1,7505,,,0,"Edge router mapping

New spec to allow define the 'edge' router on the top of the external
network.

Change-Id: I878bafef06eed583161b481c22e19ac278f1dab4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/72/128272/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/edge-router-modeling.rst'],1,6dd450636abd6d015e9277ceb06bc6c032355cb4,edge-router,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Edge router modeling ==================== `Blueprint Link <https://blueprints.launchpad.net/neutron/+spec/neutron-edge-router>`_ The goal of this blueprint is to be able to define a router in Neutron which is the 'edge' router of the OpenStack installation. This document discusses the features and boundaries from the API and L3 implementation point of view of this new kind of router. Problem Description =================== Neutron gives you control to map your public IP range through the external network entity. However, there is no way to map the gateway router of this network, the 'edge' of the OpenStack installation, which must to be configured 'manually' depending on the vendor solution. With the raise of SDN solutions (some of them incorporated inside hardware vendor routers) it becomes more and more useful to have a way to configure the edge of your OpenStack installation in a standard way from the Neutron API. Proposed Change =============== This spec aims to be the cornerstone of defining and configuring Neutron edge functionality. It is proposed to be able to define the 'edge' router of the OpenStack installation from Neutron and its deployment using the default service (l3 agent). Create this router must be similar to create a 'common' router in Neutron, but with some slight differences. The edge router must be defined at creation time: $ neutron router-create router_name --edge_router=True When associating this router to an external network $ neutron router-interface-add router_name ext_network A new port will be created with the IP address of the 'gateway_ip' of the external subnet and attached to the edge router. We should be able to define a 'free' port as the gateway of this edge router: $ neutron router-gateway-port-create router_name --ip 81.123.47.23 No change in L3 agent is needed. Considerations: * For this first implementation, only one gateway port will be defined in edge routers, because we try to offer a solution that fits into current L3 agent. Future implementations should fill this gap. * Edge routers MUST NOT be autoscheduled. Cloud admin choose where this router is scheduled. * Edge router can not be defined as 'ha' nor 'dvr'. * A combination of this feature with current under-review `BGP Dynamic Routing`_ will give you the chance to deploy your software edge router and in the same time advertise your external range to uplinks from Neutron API. * Please note that using extra routes extension, you will be able to control how to route outgoing traffic from Neutron API too. Data Model Impact ----------------- New boolean column ``edge`` will be added at ``router_extra_attributes`` REST API Impact --------------- No new endpoint needed. However, new extension will be added to avoid crashes in L3 vendor plugins that cannot handle this use case. Security Impact --------------- Notifications Impact -------------------- Other End User Impact --------------------- Performance Impact ------------------ Other Deployer Impact --------------------- Developer Impact ---------------- Third party vendors will have the ability to extend the functionality of their L3 solutions. Some changes might be needed. Community Impact ---------------- Alternatives ------------ Current approach with manual edge router configuration is not incompatible with this development. Implementation ============== Assignee(s) ----------- * devvesa Work Items ---------- * Modify Neutron's ""router-create"" service logic to allow the aforementioned use cases. Dependencies ============ Testing ======= Tempest Tests ------------- Full end-to-end tempest scenario is required. Functional Tests ---------------- API Tests --------- Tests with the new attribute creating the router and checking limitations will be needed. Documentation Impact ==================== User Documentation ------------------ User documentation will be needed to explain this new use case. Developer Documentation ----------------------- References ========== * `BGP Dynamic Routing <https://review.openstack.org/#/c/125401>`_ ",,176,0
openstack%2Fneutron-specs~master~Ib6398b1b74b10599e599cab626a9962a3113987b,openstack/neutron-specs,master,Ib6398b1b74b10599e599cab626a9962a3113987b,Layer 3 Service Plugin for Cisco Nexus Switches,ABANDONED,2014-11-03 22:10:41.000000000,2015-01-26 15:09:01.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 2592}]","[{'number': 1, 'created': '2014-11-03 22:10:41.000000000', 'files': ['specs/kilo/cisco-nexus-l3-service-plugin.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d4d8eec7b6ee0e8d351c1470484490fc8dede07b', 'message': 'Layer 3 Service Plugin for Cisco Nexus Switches\n\nThis specification describes the work being done by the blueprint,\nhttps://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-svi,\nwhich implements Layer 3 features for the Cisco 3K, 5K, 7K and 9K Nexus\nswitches.\n\nChange-Id: Ib6398b1b74b10599e599cab626a9962a3113987b\n'}]",1,132597,d4d8eec7b6ee0e8d351c1470484490fc8dede07b,9,4,1,6694,,,0,"Layer 3 Service Plugin for Cisco Nexus Switches

This specification describes the work being done by the blueprint,
https://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-svi,
which implements Layer 3 features for the Cisco 3K, 5K, 7K and 9K Nexus
switches.

Change-Id: Ib6398b1b74b10599e599cab626a9962a3113987b
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/97/132597/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/cisco-nexus-l3-service-plugin.rst'],1,d4d8eec7b6ee0e8d351c1470484490fc8dede07b,bp/s,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Layer 3 Service Plugin for Cisco Nexus Switches =============================================== https://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-svi This blueprint is to implement Layer 3 features for the Cisco 3K, 5K, 7K and 9K Nexus switches. Problem Description =================== The core Cisco plugin supports both L2 and L3 features. This core plugin is being deprecated in favor of the ML2 core plugin however ML2 only supports L2 features. To support L3 features this service plugin is being created. Switched Virtual Interface (SVI) support under the Cisco core plugin will be ported over to this L3 service plugin. Additional L3 features (router, floating IP L3 APIs) will also be supported by this service plugin. Proposed Change =============== This proposal is to introduce a new Layer 3 service plugin that communicates with Cisco Nexus switches. This plugin will support full L3 routing functionality. See [3] for details. This plugin will use the existing ML2 cisco_nexus mechanism driver module, ml2/drivers/cisco/nexus/nexus_network_driver.py, for programming the Nexus switch using netconf and new L3 based XML snippets. The SVI methods (and corresponding XML snippets) will be ported over from the core cisco plugin codebase and added to this module. New methods and XML snippets will be created to support router and floating IP functionality. Although not necessary for this L3 service plugin in run successfully, it is assumed that the ML2 cisco_nexus MD is running (or at least configured) along with this Cisco Nexus service plugin and therefore the correct nexus switch information will be available to this plugin. Data Model Impact ----------------- The existing data model used by the ML2 cisco_nexus MD will also be used to save L3 information. Additional columns will be added to support these features. REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ The service plugin is triggered instead of polled, there are no changes to any existing code patterns. The potential bottleneck for this plugin would be the link between neutron and the cisco nexus switches (netconf). Other Deployer Impact --------------------- There are no config options specific to the Layer 3 plugin, it relies on the configuration options of the ML2 cisco_nexus mechanism driver. Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ In the long term it is hoped there will be agreement to adopt the new flavor framework [4] also for routing and also that the L3 DB code for router ports can be reworked to adopt a new service port construct. With that, the different vendor router plugins can be drivers in a single router service plugin. Implementation ============== Assignee(s) ----------- Arvind Somya <asomya@cisco.com> Rich Curran <rcurran@cisco.com> Work Items ---------- Single work item for the L3 Cisco Nexus service plugin. Dependencies ============ None Testing ======= Complete unit test coverage of the code is included. Tempest Tests ------------- For tempest test coverage, third party testing is provided. The Cisco CI reports on all changes affecting this driver. The testing is run in a setup with an OpenStack deployment (devstack) connected to a Cisco Nexus 3K physical switch. Functional Tests ---------------- None API Tests --------- N/A Documentation Impact ==================== User Documentation ------------------ Deployment documentation on how to configure and deploy this service plugin will be documented in the Openstack wiki. Developer Documentation ----------------------- N/A References ========== [1] ML2 Cisco Nexus WIKI: https://wiki.openstack.org/wiki/Neutron/ML2/MechCiscoNexus [2] Bug review used to commit SVI support for the core Cisco plugin: https://review.openstack.org/30153 [3] http://docs.openstack.org/api/openstack-network/2.0/content/router_ext.html [4] Flavors Framework: https://review.openstack.org/90070 ",,155,0
openstack%2Fneutron-specs~master~Iaf5294364c45cb62a702543358598f07fd2bf53a,openstack/neutron-specs,master,Iaf5294364c45cb62a702543358598f07fd2bf53a,RESTful API and CLI for dvr host mac,ABANDONED,2014-09-08 15:54:53.000000000,2015-01-26 15:08:56.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 6993}, {'_account_id': 7016}, {'_account_id': 8788}, {'_account_id': 9077}, {'_account_id': 9361}, {'_account_id': 10760}]","[{'number': 1, 'created': '2014-09-08 15:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cca8997f7146aa35b1627af3dc3bb2c3a9f70ee2', 'message': 'RESTful API to retrieve dvr host mac\n\nThis blueprint spec provides information\nabout implementation of RESTful API to\nretrieve DVR-HOST-MAC mapping, this will be\nused by Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 2, 'created': '2014-09-08 15:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c68a4b344942b25fb7b161ed541aa73344f3ae80', 'message': 'RESTful API to retrieve dvr host mac\n\nThis blueprint spec provides information\nabout implementation of RESTful API to\nretrieve DVR-HOST-MAC mapping, this will be\nused by Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 3, 'created': '2014-09-09 15:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/eb5458a1f055079e700e6e61b96fb4a68b152755', 'message': 'RESTful API to retrieve dvr host mac\n\nThis blueprint spec provides information\nabout implementation of RESTful API to\nretrieve DVR-HOST-MAC mapping, this will be\nused by Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 4, 'created': '2014-09-09 16:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/888a179f1d28f662952cdbbbd3b42887b7e27dc9', 'message': 'RESTful API to retrieve dvr host mac\n\nThis blueprint spec provides information\nabout implementation of RESTful API to\nretrieve DVR-HOST-MAC mapping, this will be\nused by Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 5, 'created': '2014-10-09 06:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0bd7adb42fecf9c9a4ea42ca6a237d005c924be4', 'message': 'RESTful API to retrieve dvr host mac\n\nThis blueprint spec provides information\nabout implementation of RESTful API to\nretrieve DVR-HOST-MAC mapping, this will be\nused by Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 6, 'created': '2014-10-14 09:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3a6550f8369190bba120768e30e59b7774d91baf', 'message': 'RESTful API to retrieve dvr host mac\n\nThis blueprint spec provides information\nabout implementation of RESTful API to\nretrieve DVR-HOST-MAC mapping, this will be\nused by Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 7, 'created': '2014-11-12 08:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9f20ba87777f6735468b1ca36b606104acb0e5dd', 'message': 'RESTful API and CLI for dvr host mac\n\nThis blueprint spec provides information about\nimplementation of RESTful API and CLI commands to\nretrieve DVR-HOST-MAC mapping, this will be used\nby administrator and Vendor-specific controllers.\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}, {'number': 8, 'created': '2014-11-24 06:15:29.000000000', 'files': ['specs/kilo/rest-dvr-host-mac.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/837120f472d3d8962bb4a5640c1e244524da54f7', 'message': 'RESTful API and CLI for dvr host mac\n\nThis blueprint spec provides information about\nimplementation of RESTful API and CLI commands to\nretrieve DVR-HOST-MAC mapping, this will be used\nby administrator and Vendor-specific controllers.\n\nBlueprint: dvr-interface-binding\n\nChange-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a\n'}]",37,119796,837120f472d3d8962bb4a5640c1e244524da54f7,47,11,8,10760,,,0,"RESTful API and CLI for dvr host mac

This blueprint spec provides information about
implementation of RESTful API and CLI commands to
retrieve DVR-HOST-MAC mapping, this will be used
by administrator and Vendor-specific controllers.

Blueprint: dvr-interface-binding

Change-Id: Iaf5294364c45cb62a702543358598f07fd2bf53a
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/96/119796/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/rest-dvr-host-mac.rst'],1,cca8997f7146aa35b1627af3dc3bb2c3a9f70ee2,bp/spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ REST implementation for DVR host MAC ============================================ https://blueprints.launchpad.net/neutron/+spec/dvr-interface-binding Problem description =================== Neutron Distributed Virtual Router implements the L3 Routers across the Compute Nodes, so that tenants intra VM communication will occur without hitting the Network Node. More detail on DVR is available at https://blueprints.launchpad.net/neutron/+spec/neutro-ovs-dvr Each Compute Nodes in DVR mode is configured with a unique MAC address. The detail of each MAC address association with compute node (i.e. host) is stored on Controller database. There is no RESTful call available as of today to retrieve the such unique MAC addresses associated with each host. This Blueprint proposes Restful API to retrieve host to unique mac mapping of each compute node functioning in DVR mode. Proposed change =============== The proposal is to create a RESTful interface to enable the retrieval of unique DVR MAC address associated with Compute node or nodes. By making RESTful GET call to the controller node, MAC address associated with each host or all host at once can be retrieved. From implementation prospective, the REST call will result in accessing and fetching the data from dvr_host_mac table in neutron database. The CLI and Neutron Client implementation is out of the scope of this blueprint and will be addressed by another blueprint in future. Propose to introduce new resource named ""dvrhostmacs+ACI"". A single instance of this resource represents (host, unique-dvr-mac-address) Alternatives ------------ NA Data model impact ----------------- NA REST API impact --------------- Request :: GET /v2.0/dvrhostmacs Accept: application/json Response :: { ""dvrhostmacs"": [{ ""host"": ""host_1"", ""mac_address"": ""xx:xx:xx:xx:xx:xx""}, ""host"": ""host_2"", ""mac_address"": ""xx:xx:xx:xx:xx:yy""}] } Request :: GET /v2.0/dvrhostmacs/host_1 Accept: application/json Response :: { ""dvrhostmacs"": [{ ""host"": ""host_1"", ""mac_address"": ""xx:xx:xx:xx:xx:xx""}] } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- No impact on the end user, due to the fact that this blueprint will address the server side REST implementation only and cli command will be implemented later and will be addressed by separate blueprint. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * <vinod-kumar5> Other contributors: * <vivekanandan-narasimhan> Work Items ---------- 1. Creating New RESTful resource ""dvrhostmac"" Dependencies ============ DVR resources should be available. Testing ======= RESTful GET request for dvrhostmac resource will result in response that will contain dvr host names with correspond macs. Documentation Impact ==================== None References ========== * https://etherpad.openstack.org/p/Distributed-Virtual-Router * https://wiki.openstack.org/wiki/Meetings/Distributed-Virtual-Router * https://blueprints.launchpad.net/neutron/+spec/ovs-distributed-router ",,169,0
openstack%2Fneutron-specs~master~I9d685bfaf0ba4dbb8506e9b84bcd2e0a2c54a1d4,openstack/neutron-specs,master,I9d685bfaf0ba4dbb8506e9b84bcd2e0a2c54a1d4,Remote HOST address summarization,ABANDONED,2014-11-05 07:02:02.000000000,2015-01-26 15:08:55.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1038}, {'_account_id': 2592}, {'_account_id': 10368}, {'_account_id': 11367}, {'_account_id': 11415}]","[{'number': 1, 'created': '2014-11-05 07:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa6f89cc06f9768ceb6f4f7425374a27254485ee', 'message': 'Remote HOST address summarization\n\nSummarize the Host Addresses[/32] into Connectionless Inter Domain\nRouting[CIDR] notation which results in optimization of rules being\nprovisioned on the IpTables/OVS Firewall.\n\nChange-Id: I9d685bfaf0ba4dbb8506e9b84bcd2e0a2c54a1d4\n'}, {'number': 2, 'created': '2014-11-10 10:58:24.000000000', 'files': ['specs/kilo/default-remote-group-rules-summarization.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fb5466562da0e4bd314dcbd060331f92e8639177', 'message': 'Remote HOST address summarization\n\nSummarize the Host Addresses[/32] into Connectionless Inter Domain\nRouting[CIDR] notation which results in optimization of rules being\nprovisioned on the IpTables/OVS Firewall.\n\nChange-Id: I9d685bfaf0ba4dbb8506e9b84bcd2e0a2c54a1d4\n'}]",17,132755,fb5466562da0e4bd314dcbd060331f92e8639177,12,9,2,11412,,,0,"Remote HOST address summarization

Summarize the Host Addresses[/32] into Connectionless Inter Domain
Routing[CIDR] notation which results in optimization of rules being
provisioned on the IpTables/OVS Firewall.

Change-Id: I9d685bfaf0ba4dbb8506e9b84bcd2e0a2c54a1d4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/55/132755/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/default-remote-group-rules-summarization.rst'],1,aa6f89cc06f9768ceb6f4f7425374a27254485ee,master,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that **operators, deployers, and developers** can understand. Problem Description =================== A detailed description of the problem: * For a new feature this should be use cases. Ensure you are clear about the actors in each use case: End User vs Deployer * For a major reworking of something existing it would describe the problems in that feature that are being addressed. Proposed Change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Data Model Impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API Impact --------------- For each API resource to be implemented using Neutron's attribute map facility (see the neutron.api.v2.attributes), describe the resource collection and specify the name, type, and other essential details of each new or modified attribute. A table similar to the following may be used: +----------+-------+---------+---------+------------+--------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +==========+=======+=========+=========+============+==============+ |id |string |RO, all |generated|N/A |identity | | |(UUID) | | | | | +----------+-------+---------+---------+------------+--------------+ |name |string |RW, all |'' |string |human-readable| | | | | | |name | +----------+-------+---------+---------+------------+--------------+ |color |string |RW, admin|'red' |'red', |color | | | | | |'yellow', or|indicating | | | | | |'green' |state | +----------+-------+---------+---------+------------+--------------+ Here is the other example of the table using csv-table .. csv-table:: CSVTable :header: Attribute Name,Type,Access,Default Value,Validation Conversion,Description id,string (UUID),""RO, all"",generated,N/A,identity name,string,""RW, all"",""''"",string,human-readable name color,string,""RW, admin"",red,""'red', 'yellow' or 'green'"",color indicating state Each API method which is either added or changed that does not use Neutron's attribute map facility should have the following: * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema defintion do not need to be included. * URL for the resource * Parameters which can be passed via the url * JSON schema definition for the body data if allowed * JSON schema definition for the response data if any * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any API policy changes, and discuss what things a deployer needs to think about when defining their API policy. This is in reference to the policy.json file. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security Impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications Impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other End User Impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-neutronclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other Deployer Impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? * Does this require downtime or manual intervention to apply when upgrading? Developer Impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the API, discussion of how other plugins would implement the feature is required. Community Impact ---------------- Describe how this change fits in with the direction the Neutron community is going. * Has the change been discussed on mailing lists, at the weekly Neutron meeting, or at a Design Summit? * Does the change fit with the direction of the Neutron community? Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in neutron, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Neutron (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Tempest Tests ------------- List new, changed, or deleted Tempest tests in this section. If a blueprint has been filed in the Tempest specs repository, please cross reference that blueprint here. Functional Tests ---------------- Please document any functional tests which this change will require. New features will require functional tests before being allowed to be merged. Code refactors may require functional tests. API Tests --------- Add changes to API tests in this section. This is required if the change is adding, removing, or changing any API related code in Neutron. Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. User Documentation ------------------ Specify any User Documentation which needs to be changed. Reference the guides which need updating due to this change. Developer Documentation ----------------------- If API changes are being made, specify the developer API documentation which will be updated to reflect the new changes here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. link any vendor documentation) * Anything else you feel it is worthwhile to refer to NOTE: Please remove everything from here and down. This section is meant to show examples of how to format the spec. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 80 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/neutron/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org * If you would like to provide a diagram with your spec, text representations are preferred. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. blockdiag is another tool. These are described below. If you require an image (screenshot) for your BP, attaching that to the BP and checking it in is also accepted. However, text representations are prefered. * Diagram examples asciiflow:: +----------+ +-----------+ +----------+ | A | | B | | C | | +-----+ +--------+ | +----------+ +-----------+ +----------+ blockdiag .. blockdiag:: blockdiag sample { a -> b -> c; } actdiag .. actdiag:: actdiag { write -> convert -> image lane user { label = ""User"" write [label = ""Writing reST""]; image [label = ""Get diagram IMAGE""]; } lane actdiag { convert [label = ""Convert reST to Image""]; } } nwdiag .. nwdiag:: nwdiag { network dmz { address = ""210.x.x.x/24"" web01 [address = ""210.x.x.1""]; web02 [address = ""210.x.x.2""]; } network internal { address = ""172.x.x.x/24""; web01 [address = ""172.x.x.1""]; web02 [address = ""172.x.x.2""]; db01; db02; } } seqdiag .. seqdiag:: seqdiag { browser -> webserver [label = ""GET /index.html""]; browser <-- webserver; browser -> webserver [label = ""POST /blog/comment""]; webserver -> database [label = ""INSERT comment""]; webserver <-- database; browser <-- webserver; } ",,462,0
openstack%2Fneutron-specs~master~Ic4b0bb73c6371bfdc31f2d83811b51d701eec70b,openstack/neutron-specs,master,Ic4b0bb73c6371bfdc31f2d83811b51d701eec70b,port: Allow network id of port to be updated.,ABANDONED,2014-11-19 06:50:58.000000000,2015-01-26 15:08:52.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 2035}, {'_account_id': 11114}, {'_account_id': 11347}]","[{'number': 1, 'created': '2014-11-19 06:50:58.000000000', 'files': ['specs/kilo/port_network_id_update.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6820dea92bf9ab986b695f01b48e56d0e016e47e', 'message': ""port: Allow network id of port to be updated.\n\nAllow network id of port to be updated.\nWhen instance vm is used as neutron l3 router,\nadd/remove-router-interface API is intuitively mapped to nova\ninterface-attach/detach. which triggers vnic hot-plug/unplug.\nHowever guest OS doesn't always support hot-plug/unplug. In order to\nsupport such OS as routervm, allow such VM to boot with vnics\nattached, but those ports aren't connected to any tenant networks.\nLater when add/remove-router-interface is issued, plug/unplug those\nports to tenant network.\n\nAPIImpact\nDOCImpact\nBlueprint: allow-port-network-id-to-be-updated\n\nChange-Id: Ic4b0bb73c6371bfdc31f2d83811b51d701eec70b\n""}]",10,135520,6820dea92bf9ab986b695f01b48e56d0e016e47e,11,8,1,333,,,0,"port: Allow network id of port to be updated.

Allow network id of port to be updated.
When instance vm is used as neutron l3 router,
add/remove-router-interface API is intuitively mapped to nova
interface-attach/detach. which triggers vnic hot-plug/unplug.
However guest OS doesn't always support hot-plug/unplug. In order to
support such OS as routervm, allow such VM to boot with vnics
attached, but those ports aren't connected to any tenant networks.
Later when add/remove-router-interface is issued, plug/unplug those
ports to tenant network.

APIImpact
DOCImpact
Blueprint: allow-port-network-id-to-be-updated

Change-Id: Ic4b0bb73c6371bfdc31f2d83811b51d701eec70b
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/20/135520/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/port_network_id_update.rst'],1,6820dea92bf9ab986b695f01b48e56d0e016e47e,bp/allow-port-network-id-to-be-updated,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Allow port network_id to be updated =================================== https://blueprints.launchpad.net/neutron/+spec/allow-port-network-id-to-be-updated Allow network id of port to be updated. When instance vm is used as neutron l3 router, add/remove-router-interface API is intuitively mapped to nova interface-attach/detach. which triggers vnic hot-plug/unplug. However guest OS doesn't always support hot-plug/unplug. In order to support such OS as routervm, allow such VM to boot with vnics attached, but those ports aren't connected to any tenant networks. Later when add/remove-router-interface is issued, plug/unplug those ports to tenant network. Problem Description =================== The motivation behind is routervm. i.e. instance VM is used as neutron l3 router. When instance vm is used as router, add/remove-router-interface API is intuitively mapped to nova interface-attach/detach. which triggers vnic hot-plug/unplug. However guest OS doesn't always support hot-plug/unplug. In order to support such OS as routervm, a sort of work around is needed. Proposed Change =============== The basic procedure is as follows #. boot instance VM with vNICs attached, but corresponding ports in hyperviser aren't connected to any networks. i.e. unplugged #. when add/remove-router-interface is issued with port id, connect the port to a specified tenant network. The following assumes portbinding extension. * allow port to be created with unplugged state Here unplugged means VIF_TYPE_UNBOUND * allows port to be created without network_id This can't be skipped with a dummy network. * allow port vif_type to be updated to/from VIF_TYPE_UNBOUND This means port can be plugged/unplugged to a tenant network in hypervisor. * allows port network_id to be updated when its vif type is VIF_TYPE_UBOUND With those procedure, neutron port can be unplugged from one tenant network and then plugged into another tenant network. Data Model Impact ----------------- No modification to data model is required. REST API Impact --------------- * port network_id attribute * allow_post: True(no change) Allow null to indicate that this port is not associated to any network * allow_put: True Allow only when port is VIF_TYPE_UNBOUND Only network id of same tenant to port is allowed or admin. * portbinding VIF_TYPE attribute * allow_post: True Only VIF_TYPE_UNBOUND is allowed * allow_put: True Only set to/from VIF_TYPE_UNBOUND is allowed Security Impact --------------- None Notifications Impact -------------------- Argument notification to l2 agent will be modified so that l2 agent can handle unplugged port/network_id change. Other End User Impact --------------------- python-neutronclient will be modified so that network_id/vif_type is allowed for port creation/update. Performance Impact ------------------ None unless this feature is used. Other Deployer Impact --------------------- None Developer Impact ---------------- Only supported plugins/agent will be affected. Plugin that doesn't support this feature will not be affected. Community Impact ---------------- There is blueprint proposed for allowing port mac address to be updated. [mac-addr-updated]_ This proposal can be considered as natural further step. Alternatives ------------ * deleting neutron port and creating new neutron port, but keeping vnic attached VM. This requires to add new notion of how to associate neutron port to vnic. * update guest OS to support vnic hot-plug/unplug This is out of consideration because it's not out of neutron control, sometimes it's quite difficult for some reasons. On the other hand, adding support for such OSes to neutron will appeal to those OS/appliance vendor, thus will be benefit for Neutron. Implementation ============== Assignee(s) ----------- Primary assignee: Isaku Yamahata(yamahata) Other contributors: Yalei Wang Zang Rui Work Items ---------- * allow port creation without network * allow port to be un/plugged * allow port network_id to be updated * update l2 agent to support those feature First target is ml2 ovs agent * api test and functional test Dependencies ============ There is some overlap with proposal, [mac-addr-updated]_. (not dependencies) But will cooperate with it. Testing ======= Tempest Tests ------------- new scenario tests will be added Functional Tests ---------------- new tests will be added to exercise new code path. API Tests --------- new tests will be added as API will be changed. Documentation Impact ==================== API documentation will be updated and admin guide will also be updated. User Documentation ------------------ None as this feature is mainly for cloud admin/service provider. Developer Documentation ----------------------- The API document will be updated. References ========== .. [mac-addr-updated] * https://blueprints.launchpad.net/neutron/+spec/allow-mac-to-be-updated * https://review.openstack.org/#/c/129085/ ",,223,0
openstack%2Fneutron-specs~master~Ib53335be40af418ba38218dfb763254c354e35bf,openstack/neutron-specs,master,Ib53335be40af418ba38218dfb763254c354e35bf,ML2 Cisco Nexus Mechanism Driver VxLAN Gateway Support,ABANDONED,2014-12-05 18:38:22.000000000,2015-01-26 15:08:51.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 748}, {'_account_id': 6524}]","[{'number': 1, 'created': '2014-12-05 18:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7bf6b567cbb0986367630ab7bfba649f345e8a15', 'message': 'ML2 Cisco Nexus Mechanism Driver VxLAN Gateway Support\n\nThis spec describes the work being done by the blueprint\nhttps://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-vxlan\nwhich implements VXLAN support for the Cisco Nexus switches.\n\nChange-Id: Ib53335be40af418ba38218dfb763254c354e35bf\n'}, {'number': 2, 'created': '2014-12-05 18:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cca443639a51b1ced482c233e3fd6a104e2045f7', 'message': 'ML2 Cisco Nexus Mechanism Driver VxLAN Gateway Support\n\nThis spec describes the work being done by the blueprint\nhttps://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-vxlan\nwhich implements VXLAN support for the Cisco Nexus switches.\n\nChange-Id: Ib53335be40af418ba38218dfb763254c354e35bf\n'}, {'number': 3, 'created': '2014-12-05 19:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a07b013ef04da375c1bfe8a3fc35ad899a318a47', 'message': 'ML2 Cisco Nexus Mechanism Driver VxLAN Gateway Support\n\nThis spec describes the work being done by the blueprint\nhttps://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-vxlan\nwhich implements VXLAN support for the Cisco Nexus switches.\n\nChange-Id: Ib53335be40af418ba38218dfb763254c354e35bf\n'}, {'number': 4, 'created': '2014-12-05 19:28:31.000000000', 'files': ['specs/kilo/ml2-cisco-nexus-md-vxlan.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7ec18b764a691bbfddaa30ea71bbacebb12eb780', 'message': 'ML2 Cisco Nexus Mechanism Driver VxLAN Gateway Support\n\nThis spec describes the work being done by the blueprint\nhttps://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-vxlan\nwhich implements VXLAN support for the Cisco Nexus switches.\n\nChange-Id: Ib53335be40af418ba38218dfb763254c354e35bf\n'}]",0,139708,7ec18b764a691bbfddaa30ea71bbacebb12eb780,11,5,4,6694,,,0,"ML2 Cisco Nexus Mechanism Driver VxLAN Gateway Support

This spec describes the work being done by the blueprint
https://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-vxlan
which implements VXLAN support for the Cisco Nexus switches.

Change-Id: Ib53335be40af418ba38218dfb763254c354e35bf
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/08/139708/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-cisco-nexus-md-vxlan.rst'],1,7bf6b567cbb0986367630ab7bfba649f345e8a15,bp/https,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================================== ML2 Cisco Nexus Mechanism Driver VXLAN Gateway Support ====================================================== https://blueprints.launchpad.net/neutron/+spec/ml2-cisco-nexus-mechdriver-vxlan This blueprint is to implement VXLAN VTEP support for the Cisco Nexus family of switches. Problem Description =================== In general, a VXLAN topology lets you create a Layer 2 network on top of a Layer 3 network using VXLAN encapsulation. This allows a network admin to increase the number of entities you can connect up to about 16 million. The blueprint is being used for adding ML2 cisco_nexus mechanism driver control plane code to program the Nexus switches for VXLAN functionality. Topology supported with this code is: .. blockdiag:: cisco_nexus_vxlan_topology { Host <-> ToR_Nexus_Switch1 [label = ""VLAN traffic""]; ToR_Nexus_Switch1 <-> ToR_Nexus_Switch2 [label = ""VXLAN traffic""]; ToR_Nexus_Switch2 <-> IPv4_Network; } The traffic from the host system to the nexus switch will be VLAN and then encapsulated/decapsulated by the nexus switch to VXLAN formatting. The device responsible for VXLAN encap/decap is called a VTEP (VXLAN Tunnel End Point). Proposed Change =============== A Cisco nexus switch has three sets of commands for configuring VXLAN: (1) Enabling VXLAN (*) (2) Mapping VLAN to VNI (VXLAN Network Identifier) (3) Creating and configuring an NVE (Network Virtualization Endpoint) overlay interface which is used to terminate VXLAN tunnels. (*) For configuration item (1) the set of commands configured are executed only once. These actions will be performed at the same time as configuration item (2), with conditional code added to verify that these commands are only executed once per cisco switch. Enabling VXLAN on a nexus switch consists of enabled two commands. One which enables VXLAN support and the second which indicates that the VXLAN segment is VLAN based. (*) - a configuration variable is created to enable this feature. By default, a network admin is expected to configure these features. Configuration item (2) consists of mapping the VLAN to the VNI. The current cisco_nexus MD supports the creation of the vlan interface. This configure action is triggered by create/update/delete port events. The event will also trigger the configuration of the ""vn-segment"" keyword on the vlan interface. For (3) an NVE interface is created on the Nexus switch along with a loopback address. These commands are executed only once on the switch. The first VXLAN segment created on a nexus switch will trigger the action to configure the nexus switch with this VXLAN information. (*) - a configuration variable (same variable used for (1)) is created to enable this feature. By default, a network admin is expected to configure these features. Note that in addition to the VXLAN specific configuration, additional configuration (PIM, IP multicast, OSPF, loopback address, etc.) is required on the nexus switch for VXLAN support. This configuration is outside the scope of this blueprint. Sequence Flow The sequence below depicts the order of events which triggers the cisco_nexus mechanism driver (MD) to program the switch with VXLAN information. Note that this sequence flow does not show the new code flow being introduced by the blueprints listed below in the Dependencies section. With these blueprints implemented the network will be allocated a VNI by the custom type driver on the create_network call. .. seqdiag:: seqdiag { Neutron -> ML2_Plugin [label = ""create/update_port""]; ML2_Plugin -> Cisco_Nexus_MD [label = ""bind_port""]; Cisco_Nexus_MD -> ML2_Type_Manager [label = ""Allocate VLAN segment""]; ML2_Type_Manager -> Cisco_Nexus_MD [label = ""Allocated VLAN segment""]; ML2_Plugin <- Cisco_Nexus_MD; ML2_Plugin -> Cisco_Nexus_MD [label = ""create/update_port""]; Cisco_Nexus_MD -> Netconf [label = ""VXLAN/VLAN configuration""]; Cisco_Nexus_MD <- Netconf; ML2_Plugin <- Cisco_Nexus_MD; Neutron <- ML2_Plugin; } Data Model Impact ----------------- The column ""vni"" will be added to the existing ML2 cisco_nexus database table ""cisco_ml2_nexusport_bindings"" as follows: :: table: cisco_ml2_nexusport_bindings { binding_id = sa.Column(sa.Integer, primary_key=True, autoincrement=True) port_id = sa.Column(sa.String(255)) vlan_id = sa.Column(sa.Integer, nullable=False) vni = sa.Column(sa.Integer, nullable=False) switch_ip = sa.Column(sa.String(255)) instance_id = sa.Column(sa.String(255)) } For non-VXLAN configurations the ""vni"" value will be set to the invalid value of zero. A new ML2 cisco_nexus database table will be created for storing VXLAN NVE information. :: table: cisco_ml2_nexus_nve { vni = sa.Column(sa.Integer, primary_key=True, nullable=False) switch_ip = sa.Column(sa.String(255)) mcast_group = sa.Column(sa.String(255)) instance_id = sa.Column(sa.String(255)) } Database migration file will be updated accordingly. REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ Minimal. Additional database access and control plane processing under the ML2 cisco_nexus MD. Other Deployer Impact --------------------- The following configuration variables will be added to the ml2_conf_cisco.ini file. :: [ml2_cisco] vxlan_global_config=True [ml2_mech_cisco_nexus:<ip addr>] nve_src_intf=1 physnet=physnet1 Where, vxlan_global_config = If set to True, create and delete Nexus switch VXLAN global settings; 'feature nv overlay', 'feature vn-segment-vlan-based, 'interface nve 1 + source-interface loopback <nve_src_intf>'. Default is False. nve_src_intf = The NVE source interface is a loopback interface that is configured on the switch with valid /32 IP address. This /32 IP address must be known by the transient devices in the transport network and the remote VTEPs. This is accomplished by advertising it through a dynamic routing protocol in the transport network. (NB: If no nve_src_intf is defined then a default setting of 0 (creates ""loopback0"") will be used.) physnet = The physical network name defined in the network_vlan_ranges variable (defined under the ml2_type_vlan section) that this switch is controlling. Used when creating the VLAN dynamic segment. Note that additional configuration values will also be required based on the changes made for the custom cisco_nexus VXLAN type driver blueprint. These changes will be detailed in [1]. (See Dependencies section below.) Developer Impact ---------------- None Community Impact ---------------- Vendor specific impact. Allows customers using Openstack/Neutron with Cisco Nexus switches to configure VXLAN overlay topologies. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Rich Curran <rcurran> Work Items ---------- - VxLAN control plane code added to ML2 cisco_nexus MD. - VxLAN ML2 cisco_nexus unit tests. Dependencies ============ [1] ML2 Cisco Nexus VxLAN type driver https://review.openstack.org/#/c/139204/ [2] ML2 Hierarchical Port Binding [Juno release pointer. Needs to be reposted for Kilo.] - https://review.openstack.org/#/c/106185 Testing ======= Tempest Tests ------------- For tempest test coverage, third party testing is provided. The Cisco CI reports on all changes affecting this driver. The testing is run in a setup with an OpenStack deployment (devstack) connected to a Cisco Nexus 5K physical switch. Functional Tests ---------------- The cisco_nexus unit tests cover many functional level type testing by making calls that generate create network, subnet and port events. As functional testing matures under Openstack/Neutron these types of tests will most likely be moved under the neutron/tests/functional directory. API Tests --------- N/A Documentation Impact ==================== User Documentation ------------------ Deployment documentation on how to configure and deploy this feature will be documented in the Openstack wiki. Developer Documentation ----------------------- N/A References ========== ML2 Cisco Nexus MD WIKI: https://wiki.openstack.org/wiki/Neutron/ML2/MechCiscoNexus ",,267,0
openstack%2Fneutron-specs~master~If05cf91381ba1782d18d2fdad126cb69f85377d1,openstack/neutron-specs,master,If05cf91381ba1782d18d2fdad126cb69f85377d1,ML2 Cisco Nexus VxLAN type driver,ABANDONED,2014-12-04 21:27:25.000000000,2015-01-26 15:08:50.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 6524}]","[{'number': 1, 'created': '2014-12-04 21:27:25.000000000', 'files': ['specs/kilo/ml2-nexus-vxlan-type-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7a9862b550b77cf62ae369801811ac47d255dfd2', 'message': 'ML2 Cisco Nexus VxLAN type driver\n\nThis spec proposes a new ML2 type driver specific to the Cisco Nexus\nMechanism driver to enable VxLAN networking in the switch fabric.\n\nChange-Id: If05cf91381ba1782d18d2fdad126cb69f85377d1\n'}]",0,139204,7a9862b550b77cf62ae369801811ac47d255dfd2,8,4,1,107,,,0,"ML2 Cisco Nexus VxLAN type driver

This spec proposes a new ML2 type driver specific to the Cisco Nexus
Mechanism driver to enable VxLAN networking in the switch fabric.

Change-Id: If05cf91381ba1782d18d2fdad126cb69f85377d1
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/04/139204/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-nexus-vxlan-type-driver.rst'],1,7a9862b550b77cf62ae369801811ac47d255dfd2,ml2-nexus-type-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== ML2 Type driver for Nexus VxLAN Networking ========================================== https://blueprints.launchpad.net/neutron/+spec/ml2-nexus-vxlan-type-driver This patch proposes to introduce a new type driver to the ML2 architecuture for allocating and managing VxLAN network segments for the Cisco Nexus driver. Problem Description =================== * The current type driver for VxLAN networking in ML2 is a host based overlay solution that doesn't allow vendors to implement a fabric based overlay. Proposed Change =============== * This patch creates a new type driver specific to the Cisco Nexus VxLAN fabric based overlay that will manage VNIDs and multicast pools for the network fabric. Alternatives ------------ None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None Data Model Impact ----------------- The patch will introduce a new database table that will be accessed by the type driver to store and retrieve allocated VNIDs and multicast groups. The patch will be accompanied by an Alembic database migration script. Other Deployer Impact --------------------- * A few configuration options will be added to support this type driver: [ml2_type_nexus_vxlan] # (ListOpt) Comma-separated list of <vni_min>:<vni_max> tuples enumerating # ranges of VXLAN Network IDs that are available for tenant network allocation. # # vni_ranges = # Example: 100:1000,2000:6000 # # (ListOpt) Multicast groups for the VXLAN interface. When configured, will # enable sending all broadcast traffic to this multicast group. Comma separated # list of min:max ranges of multicast IP's. # NOTE: must be a valid multicast IP, invalid IP's will be discarded # # mcast_ranges = # Example: mcast_ranges = 224.0.0.1:224.0.0.3,224.0.1.1:224.0.1.5 IPv6 Impact ----------- None. Developer Impact ---------------- None Community Impact ---------------- None. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: asomya <asomya@cisco.com> Work Items ---------- * Create new overlay type driver in ML2. * Write unit tests. * Test functionality. Dependencies ============ None. Testing ======= Patch will be accompanied by full unit test coverage testing for all scenarios. Tempest Tests ------------- None. Functional Tests ---------------- None. API Tests --------- No API changes. Documentation Impact ==================== User Documentation ------------------ Sample config updated to reflect new options. Developer Documentation ----------------------- None. References ========== None ",,168,0
openstack%2Fneutron-specs~master~Ib063088cc036dc2247a12e64ec72d091d8c2afcd,openstack/neutron-specs,master,Ib063088cc036dc2247a12e64ec72d091d8c2afcd,"L3 Controller Blueprint     This proposal introduces  L3 Controller, which distributes East-West L3     traffic, while offloading all L2 traffic to the normal path, thus     completely avoiding the Network Node for inter subnet traffic.     The L3 Controller handles Floating IP (DNAT) by forwarding directly from     compute nodes to the External Network without hitting the Network Node.     The L3 Controller improves SNAT behavior by distributing it on the outbound.     The aim of this service is to simplify the existing L3 implementation,     reduce resource overhead (e.g. bridges, ports, namespaces, etc) and remove     existing bottlenecks (compared with L3Agent and DVR).     Added more detailed description and state diagram of  the flow table     installed",ABANDONED,2014-12-01 12:26:23.000000000,2015-01-26 15:08:49.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 2035}, {'_account_id': 8873}, {'_account_id': 9200}, {'_account_id': 10068}, {'_account_id': 13070}]","[{'number': 1, 'created': '2014-12-01 12:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1ba3ce5e4fceff1ed1b8f2048f3251766509cd67', 'message': 'L3 Controller Blueprint\n    This proposal introduces  L3 Controller, which distributes East-West L3\n    traffic, while offloading all L2 traffic to the normal path, thus\n    completely avoiding the Network Node for inter subnet traffic.\n    The L3 Controller handles Floating IP (DNAT) by forwarding directly from\n    compute nodes to the External Network without hitting the Network Node.\n    The L3 Controller improves SNAT behavior by distributing it on the outbound.\n    The aim of this service is to simplify the existing L3 implementation,\n    reduce resource overhead (e.g. bridges, ports, namespaces, etc) and remove\n    existing bottlenecks (compared with L3Agent and DVR).\n\nChange-Id: Ib063088cc036dc2247a12e64ec72d091d8c2afcd\n'}, {'number': 2, 'created': '2014-12-01 14:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e51394ae531086b3a19b36fcf21e0669472e9071', 'message': 'L3 Controller Blueprint\n    This proposal introduces  L3 Controller, which distributes East-West L3\n    traffic, while offloading all L2 traffic to the normal path, thus\n    completely avoiding the Network Node for inter subnet traffic.\n    The L3 Controller handles Floating IP (DNAT) by forwarding directly from\n    compute nodes to the External Network without hitting the Network Node.\n    The L3 Controller improves SNAT behavior by distributing it on the outbound.\n    The aim of this service is to simplify the existing L3 implementation,\n    reduce resource overhead (e.g. bridges, ports, namespaces, etc) and remove\n    existing bottlenecks (compared with L3Agent and DVR).\n\nChange-Id: Ib063088cc036dc2247a12e64ec72d091d8c2afcd\n'}, {'number': 3, 'created': '2014-12-01 14:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/922b5a1ce83fa3c5b6b119949831261a80efadbb', 'message': 'L3 Controller Blueprint\n    This proposal introduces  L3 Controller, which distributes East-West L3\n    traffic, while offloading all L2 traffic to the normal path, thus\n    completely avoiding the Network Node for inter subnet traffic.\n    The L3 Controller handles Floating IP (DNAT) by forwarding directly from\n    compute nodes to the External Network without hitting the Network Node.\n    The L3 Controller improves SNAT behavior by distributing it on the outbound.\n    The aim of this service is to simplify the existing L3 implementation,\n    reduce resource overhead (e.g. bridges, ports, namespaces, etc) and remove\n    existing bottlenecks (compared with L3Agent and DVR).\n\nChange-Id: Ib063088cc036dc2247a12e64ec72d091d8c2afcd\n'}, {'number': 4, 'created': '2014-12-07 12:54:59.000000000', 'files': ['specs/kilo/l3-controller.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/60768ca7dea2868f724ac8283ef2c0033e73cfe0', 'message': 'L3 Controller Blueprint\n    This proposal introduces  L3 Controller, which distributes East-West L3\n    traffic, while offloading all L2 traffic to the normal path, thus\n    completely avoiding the Network Node for inter subnet traffic.\n    The L3 Controller handles Floating IP (DNAT) by forwarding directly from\n    compute nodes to the External Network without hitting the Network Node.\n    The L3 Controller improves SNAT behavior by distributing it on the outbound.\n    The aim of this service is to simplify the existing L3 implementation,\n    reduce resource overhead (e.g. bridges, ports, namespaces, etc) and remove\n    existing bottlenecks (compared with L3Agent and DVR).\n    Added more detailed description and state diagram of  the flow table\n    installed\n\nChange-Id: Ib063088cc036dc2247a12e64ec72d091d8c2afcd\n'}]",6,138054,60768ca7dea2868f724ac8283ef2c0033e73cfe0,14,8,4,13070,,,0,"L3 Controller Blueprint
    This proposal introduces  L3 Controller, which distributes East-West L3
    traffic, while offloading all L2 traffic to the normal path, thus
    completely avoiding the Network Node for inter subnet traffic.
    The L3 Controller handles Floating IP (DNAT) by forwarding directly from
    compute nodes to the External Network without hitting the Network Node.
    The L3 Controller improves SNAT behavior by distributing it on the outbound.
    The aim of this service is to simplify the existing L3 implementation,
    reduce resource overhead (e.g. bridges, ports, namespaces, etc) and remove
    existing bottlenecks (compared with L3Agent and DVR).
    Added more detailed description and state diagram of  the flow table
    installed

Change-Id: Ib063088cc036dc2247a12e64ec72d091d8c2afcd
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/54/138054/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/l3-controller.rst'],1,1ba3ce5e4fceff1ed1b8f2048f3251766509cd67,refs/changes/54/138054/1,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================== L3 Controller =================================================== https://blueprints.launchpad.net/neutron/+spec/l3-controller | The L3 Controller distributes East-West L3 traffic, while offloading all L2 traffic to the normal path, thus completely avoiding the Network Node for inter subset traffic. | The L3 Controller handles Floating IP (DNAT) by forwarding directly from Compute Nodes to the External Network without hitting the Network Node. This is accomplished by assigning the Floating IP addresses to the hosting Compute Nodes' external bridge and handling the NAT directly from there. | The L3 Controller improves SNAT behavior by distributing per-Tenant port ranges on all Compute Nodes, completely avoiding the Network Node on the outbound traffic and only hitting the Network Node forwarding element for inbound L2 forwarding. Problem Description =================== | The work described in this document follows the one described in `DVR <http://git.openstack.org/cgit/openstack/neutron-specs/tree/specs/juno/neutron-ovs-dvr.rst>`_ and in addition addresses the following problems: * Excessive resource utilization on the Compute nodes (e.g. namespaces, routing and mac tables, ports, etc) * Agent complexity * Lack of support for North-South SNAT traffic distribution * Lack of support for L2 overlays other than VxLAN * Support only for proactive forwarding decisions (which means a huge amount of forwarding rules that need to be synchronized, even though most of them are never used) * Tight coupling to Linux (namespaces, ovs, etc) vs. usage of an open standard Proposed Change =============== .. image:: https://farm8.staticflickr.com/7552/15880342871_3ab586c908_z_d.jpg * L2 traffic is fully offloaded to the normal path (handled by ML2), which works with **all current L2 overlays** (VLAN, GRE, VxLAN) * Floating IP traffic is forwarded directly from compute nodes to the External Network without going through the Network Node (North/South routing) .. image:: https://farm8.staticflickr.com/7558/15260057034_0af11db0a1_z_d.jpg * SNAT outbound traffic is forwarded directly from the compute nodes to the External Network * SNAT inbound traffic goes through the network node, thus maintaining FWaaS statefulness (per-tenant return traffic distribution will be done in a future version) .. image:: https://farm9.staticflickr.com/8644/15880343481_eab90a4563_z_d.jpg * Controller agent design is stateless to allow for simple scale-out and HA support. For OVS-based implementations, multi-controller feature is utilized for scalability and high availability) * The service architecture supports multiple southbound APIs (e.g. OVSDB, OpenFlow, Opflex), in both proactive and reactive modes * Several new components are introduced: - **Controller-based L3 Service plugin** (deployed on Control node) replaces the L3 service plugin - **L3 Controller Agent** (deployed on Network node, or any other node in the management network) handles the L3 control plane and distribute the L3 data plane - **Public Network Agent** (deployed on Compute nodes) handles local configuration of North-South traffic and security features * A proactive flow pipeline is installed by the **Public Network Agent** on the local forwarding element (e.g. OVS) to separate East-West traffic that needs to be handled reactively by the Controller from traffic that can be handled directly by the forwarding element. .. image:: https://farm8.staticflickr.com/7579/15880343011_e2ce0e2e11_z_d.jpg * Only the first frame of inter-subnet (VM to VM) traffic will be forwarded to Controller, which will install flows on the forwarding element (e.g. OVS) to handle directly the East-West communication .. image:: https://farm8.staticflickr.com/7501/15882616642_369469eece_z_d.jpg Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- * FWaaS support for East-West traffic is not being addressed at this time (same as DVR). * **North-South FWaaS and Security Groups are NOT IMPACTED at all** Scalability & High Availability ------------------------------- * The service is designed to be *stateless*. Live data is read from Neutron DB (router data) and the forwarding element local data (via the southbound protocol). * The service is designed to utilize the OVS reference implementation that supports multiple controllers in a Master-Slave(s) or Multiple-Equal configuration. Notifications Impact -------------------- * Added a new notification from Neutron L2 Agent to Neutron L3 Service Plugin, to indicate local port mapping synchronization complete. Other End User Impact --------------------- None Performance Impact ------------------ **Improves Performance** #. Inter-VM traffic on the tenant subnet will not hit the the Network node and instead be handled locally on the host Compute node. This will create a substantial performance improvement and eliminate the Network node bottleneck for East-West traffic. #. North-South traffic from Floating IP assigned VM will be handled locally on the Compute node without hitting the Network node. #. Outbound North-South traffic from SNAT VMs will be handled locally on the Compute node without hitting the Network node. #. Inbound North-South traffic to SNAT VMs will hit the Network node forwarding element (kernel module) and be redirected on L2 to the Compute node. This will reduce significantly the load on the Network node external bridge and completely avoid hitting the internal bridge. #. Resource allocation on the Compute node is substantially reduced. This will enable deployment of more tenants per environment with larger tenant networks. #. East-West L3 traffic only handles actually-used flows, avoiding pre- configuration and continuous synchronization of all possible flows. This reduces the load on the Compute node forwarding element. Other Deployer Impact --------------------- 1. In order to enable the L3 Controller, you need to make the following change in ``neutron.conf``: 1. Comment-out loading of the ``L3RouterPlugin`` 2. Add the ``neutron.services.l3_router.l3_cont_dvr_plugin.ControllerL3ServicePlugin`` to the service plugin list: **neutron.conf** :literal:`[default]` :literal:`#service_plugins = neutron.services.l3_router.l3_router_plugin.L3RouterPlugin` :literal:`service_plugins=neutron.services.l3_router.l3_cont_dvr_plugin.ControllerL3ServicePlugin` 2. In addition, make the following change in ``ml2_conf.ini``: * Set the ``enable_l3_controller`` to ``True``: **ml2_conf.ini** :literal:`[agent]` :literal:`# enable_l3_controller = True` 3. Deploy the **L3 Controller-based DVR Agent** on the Network Node 4. Deploy the **Public Network Agent** on *each* Compute node 5. Remove deployment of L3 Agent or DVR Agent 6. Install Ryu on Network Node Developer Impact ---------------- None Community Impact ---------------- This proposal was informally introduced to several key people on the Neutron core team during the *Kilo Paris 2014* design summit. The change proposed here agrees with the Neutron direction, by providing a non-intrusive reference implementation. Alternatives ------------ As mentioned before, this proposal is an alternative to the DVR solution. Implementation ============== Assignee(s) ----------- Primary assignee: Eran.Gampel@huawei.com Other contributors: Work Items ---------- 1. Controller Base L3 Service Plugin service plugin a. OpenFlow Reactive implementation b. L3 Controller based Agent c. Public Network Agent 2. L2 ovs agent modification a. add set-controllers rpc b. add instart arp responder rpc c. add notify message when ovs agent finished bootstrap d. Add creation of the public network interfaces on the integration bridge Dependencies ============ #. OVS (2.3 and above) #. Ryu Must be installed as a library Testing ======= Same testing as DVR proposed Tempest Tests ------------- Same testing as DVR proposed Functional Tests ---------------- Same testing as DVR proposed API Tests --------- Router API and External Gateway API shall be tested with the new L3 Controller Based Service Plugin Documentation Impact ==================== Modification to the deployment scenario documentation (already started). User Documentation ------------------ None Developer Documentation ----------------------- None References ========== *Design document* https://docs.google.com/document/d/1Q2Vgs0fCdb0cAv8gANt5KxtGi0IJu4hI13TGxMSlBrs/edit?usp=sharing *DVR Blueprint* http://git.openstack.org/cgit/openstack/neutron-specs/tree/specs/juno/neutron-ovs-dvr.rst ",,309,0
openstack%2Fneutron-specs~master~Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be,openstack/neutron-specs,master,Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be,blueprint gateway-api-extension,ABANDONED,2014-05-14 18:26:09.000000000,2015-01-26 15:08:48.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 1689}, {'_account_id': 8124}, {'_account_id': 8499}, {'_account_id': 8788}, {'_account_id': 8792}, {'_account_id': 9365}, {'_account_id': 11515}]","[{'number': 1, 'created': '2014-05-14 18:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/426530c36e280d8ed9a3b44b6b3f3ab5b79bd11b', 'message': 'GW API: L1 bridging API - Piece 1: Basic use cases\n\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}, {'number': 2, 'created': '2014-05-15 02:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/87da5ea383ecd29d0964e8caf6319c09db8df089', 'message': 'GW API: L2 bridging API - Piece 1: Basic use cases\n\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}, {'number': 3, 'created': '2014-05-23 04:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/74ba12c311ea612f298e4569603cfd75ddbc4d41', 'message': 'GW API - Piece 1.1 : service API for L2 bridging tenants/provider networks\n\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}, {'number': 4, 'created': '2014-06-16 15:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b5f2d751067c057919541dd1770f36e8dc2687e5', 'message': 'GW API - Piece 0.1 : service API for L2 bridging tenants/provider networks\n\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}, {'number': 5, 'created': '2014-11-16 00:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/48a145f61b6feaaf32ac0fb170ff8160d1782ac4', 'message': 'blueprint gateway-api-extension\n\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}, {'number': 6, 'created': '2014-11-21 09:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0b62110c1d8ae3faf49c4b6232332e1c38c17649', 'message': 'blueprint gateway-api-extension\n\nAn L2 Gateway ReST API for bringing an external provider network\nto a tenant network.\n\nCo-Authored-By: Stephan Baucke <stephan.baucke@ericsson.com>\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}, {'number': 7, 'created': '2014-12-06 02:59:40.000000000', 'files': ['specs/kilo/l2-gateway-api-extension.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bda1976e18ab6b9a8566961837dc892bb07d172e', 'message': 'blueprint gateway-api-extension\n\nAn L2 Gateway ReST API for bringing an external provider network\nto a tenant network.\n\nCo-Authored-By: Stephan Baucke <stephan.baucke@ericsson.com>\nChange-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be\n'}]",34,93613,bda1976e18ab6b9a8566961837dc892bb07d172e,40,13,7,8499,,,0,"blueprint gateway-api-extension

An L2 Gateway ReST API for bringing an external provider network
to a tenant network.

Co-Authored-By: Stephan Baucke <stephan.baucke@ericsson.com>
Change-Id: Ida4b0915b5c1165ac9b4b9f4e86c2dc197fa01be
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/13/93613/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/gateway-api-extension.rst'],1,426530c36e280d8ed9a3b44b6b3f3ab5b79bd11b,bp/gateway-api-extension,"======================================= Gateway API extension for Neutron ======================================= Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/gateway-api-extension The purpose of this blueprint is to introduce an L2 bridging service : extension API that could be added to Neutron. The implementation of the API is a service plugin and an optional L2 ""service API"" agent, which is much more similar to the L3 agent and less to the L2 ""core API"" agents (OVS, LB, HypV) although the agent driver could be implemented within the L2 ""core API"" agents or as a REST Proxy to an external box, or.. Also this is different from the Neutron Provider network extension on which VMs interfaces are plugged directly to Provider networks ports. An L2 Gateway/Bridge object could be one of the multiple locations to insert advanced network services requiring visibility at L2 such as a transparent bridged firewall [1] service at the edge between Tenant networks and external Provider networks. Problem description =================== Neutron already provides a service extension API to route between Neutron subnets and route to external Neutron provider networks. With this existent API it is not possible to easily forward L2 services provided in one Neutron network to another Neutron network. L2VPN is the most typical use case for that. In fact, an external Neutron provider network on which an L2VPN service is deployed cannot be brought to Neutron tenant networks (belonging to the same tenant) with the existent Neutron Router gateway extension. Thus it may be useful to provide a Neutron Bridge API as an L2 Gateway API. Proposed change =============== The code base of this L2 Bridging service extension API should be derived from the advanced L3 Routing service extension API (and then follow the future evolution of the service agents structure). Related objects and attributes should be rewritten according to L2 semantics. For instance, interfaces as advanced subnet ports with IP configuration are simplified to network ports (L2 without IP config but with MAC addresses regenerated with a different structure within the same Neutron installation). As with the L3 Routing service extension API, the reference implementation for the L2 Bridging service extension API should be based on distributed agents running in network/compute nodes. The L2 agent in this case does not refer to the OVS, Linux Bridge, HyperV agents under Neutron Core API correspondent plugins/ML2 Mechanism drivers. However, the L2 agent similarly to the L3 agent, uses a specific l2 agent manager to implement and schedule the Bridge object to be hosted by one of the L2 agents running in compute/network nodes. The default L2 agent manager is an augmented OVS agent that supports the bridging extension. Flows:: ++ | | | Neutron Server | | | +--------+----------------+ | Core | Services Ext. | +--------+-----+----+-----+ +-<RPC>-+ OVS MD |L2VPN| L3 | L2 +-<RPC>-+ | +--------+-----+----+-----+ | | | | | | +++ | ++ OVS agent | L2 agent ++ | +++ | | | | | | | host 1 | | | | | | | ++ | : . : : . : | +-++ | ++ OVS agent | L2 agent ++ +-++ | | | host n | | | ++ The L2 service plugin implements the L2 Bridging service extension API by scheduling the hosting of a Bridge by one of the L2 agents upon its creation. Subsequent Bridge port addition API calls on that bridge on specific tenant networks being bridged, will push a Bridge flow rule set through the correspondent OVS agent that bridges these Neutron networks having each a logical port with attributes either device_owner == 'network:bridge_port' for a port in a tenant network or device_owner == 'network:bridge_gateway' for a port in an external provider network that is set using an external provider L2 Gateway extension (similar to the L3 Gateway extension). CRUD operations similar to the one implemented for the L3 service are also implemented for the L2 service. Furthermore, depending on the specified isolation mode (either community or isolation) between tenant networks bridged together to an external provider network, correspondent flows rules should be pushed. A MAC to tenant network learning table should be populated to limit propagating uncessary broadcast between tenants networks. Alternatives ------------ An alternative implementation of the L2 Bridging API plugin is a REST proxy from the L2 service plugin to an external hardware switching box/appliance on which the Neutron networks to be bridged are visible. Data model impact ----------------- Data model for a Bridge object similar to the Router object as well as L2 agents in agents data model should be added. A database migration should be included to create/migrate the tables for these models. REST API impact --------------- A new service extension REST API for L2 bridging. The following new resources are being introduced: .. code-block:: python BRIDGES = 'bridges' EXTERNAL_GW_INFO = 'external_gateway_info' RESOURCE_ATTRIBUTE_MAP = { BRIDGES: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'mode': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': 'learn'}, 'admin_state_up': {'allow_post': True, 'allow_put': True, 'default': True, 'convert_to': attr.convert_to_boolean, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'required_by_policy': True, 'validate': {'type:string': None}, 'is_visible': True}, EXTERNAL_GW_INFO: {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'enforce_policy': True} } } Security impact --------------- * Does this change touch sensitive data such as tokens, keys, or user data? No * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? No * Does this change involve cryptography or hashing? No * Does this change require the use of sudo or any elevated privileges? No * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. No * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. The exposed risk here is no different from the existing APIs and should be very similar to the L3 service implementation. Notifications impact -------------------- None. Other end user impact --------------------- Integration with following projects will be required: * python-neutronclient * horizon * heat * devstack Performance Impact ------------------ The performance of L2 agents in processsing and/or scaling RPC calls should be quite similar to the L3 agents ones. Other deployer impact --------------------- The deployer must configure the installation to use the L2 agents for the new L2 service API and to use ML2 OVS Mechanism driver configured for the core API with the following configuration variables: * The physical bridge mappings in ovs section in ml2_conf.ini should be configured with a seperate bridge (a service bridge, that for now as a first hack, we distinguish it from other physical bridges by prepending its name with 'br-svc'). This physical service bridge should be mapped to any physical network name referenced when creating the Neutron provider network: :: [ovs] bridge_mappings = vpnnet1:br-svc-vpn * An l2_agent.ini should be added to etc/neutron/ with the following default configuration: :: [DEFAULT] L2_agent_manager = neutron.agent.l2_agent.L2OvsAgent interface_driver = neutron.agent.linux.interface.OVSInterfaceDriver Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Racha Ben Ali <racha-ben-ali> Work Items ---------- * Complete unit tests * More modular agent Dependencies ============ None. Testing ======= Complete unit test coverage of the code should be included. Documentation Impact ==================== Configuration details. References ========== [1] http://static.usenix.org/legacy/publications/library/proceedings/neta99/full_papers/limoncelli/limoncelli.pdf ",,292,0
openstack%2Fneutron-specs~master~Ic9437346214399b1c5eb1c699141a884be2b0d21,openstack/neutron-specs,master,Ic9437346214399b1c5eb1c699141a884be2b0d21,Provide Domain Name on Neutron Network,ABANDONED,2014-11-18 23:10:35.000000000,2015-01-26 15:08:45.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 6785}, {'_account_id': 6873}, {'_account_id': 7448}, {'_account_id': 9623}, {'_account_id': 9775}, {'_account_id': 9970}]","[{'number': 1, 'created': '2014-11-18 23:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4d51fcde2a4d6a7c3a57453840e8ba9dda979ae7', 'message': 'Provide Domain Name on Neutron Subnet\n\nThe Neutron Subnet object supports a set of DNSes, Gateway, CIDR, IP Version\nand some other key elements. One key element that is missing in this object\nis the domain name.\n\nCurrently, the domain name gets set by the DHCP server and is set across the\nentire cloud (typically set the by dhcp_agent.ini attribute dhcp_domain).\nClouds will typically support many domains, perhaps separated physical\nnetworks, subdividing existing domains, or many other reasons.\n\nBy providing this attribute as part of the Subnet object in Neutron, clients\ngain the flexibility to further subdivide their network and gain greater\ncontrol of their infrastructure.\n\nDocImpact\nAPIImpact\n\nChange-Id: Ic9437346214399b1c5eb1c699141a884be2b0d21\n'}, {'number': 2, 'created': '2014-11-18 23:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3514c8bc61cde734d311a120fbb4f0033dcd6437', 'message': 'Provide Domain Name on Neutron Subnet\n\nThe Neutron Subnet object supports a set of DNSes, Gateway, CIDR, IP Version\nand some other key elements. One key element that is missing in this object\nis the domain name.\n\nCurrently, the domain name gets set by the DHCP server and is set across the\nentire cloud (typically set the by dhcp_agent.ini attribute dhcp_domain).\nClouds will typically support many domains, perhaps separated physical\nnetworks, subdividing existing domains, or many other reasons.\n\nBy providing this attribute as part of the Subnet object in Neutron, clients\ngain the flexibility to further subdivide their network and gain greater\ncontrol of their infrastructure.\n\nDocImpact\nAPIImpact\n\nChange-Id: Ic9437346214399b1c5eb1c699141a884be2b0d21\n'}, {'number': 3, 'created': '2014-11-18 23:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6b1c925253bb927811e7d46af451da2eaf2bfe4e', 'message': 'Provide Domain Name on Neutron Subnet\n\nThe Neutron Subnet object supports a set of DNSes, Gateway, CIDR, IP Version\nand some other key elements. One key element that is missing in this object\nis the domain name.\n\nCurrently, the domain name gets set by the DHCP server and is set across the\nentire cloud (typically set the by dhcp_agent.ini attribute dhcp_domain).\nClouds will typically support many domains, perhaps separated physical\nnetworks, subdividing existing domains, or many other reasons.\n\nBy providing this attribute as part of the Subnet object in Neutron, clients\ngain the flexibility to further subdivide their network and gain greater\ncontrol of their infrastructure.\n\nBP domain-name-on-neutron-subnet\n\nDocImpact\nAPIImpact\n\nChange-Id: Ic9437346214399b1c5eb1c699141a884be2b0d21\n'}, {'number': 4, 'created': '2014-12-05 19:13:20.000000000', 'files': ['specs/kilo/domain-name-on-neutron-subnet.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6d148576d12b7faea5b9bfdb245b765edc26d9a8', 'message': 'Provide Domain Name on Neutron Network\n\nNeutron supports a set of DNSes, Gateway, CIDR, IP Version, and some other key\nelements. One key element that is missing is the domain name.\n\nCurrently, the domain name gets set by the DHCP server and is set across the\nentire cloud (typically set the by dhcp_agent.ini attribute dhcp_domain).\nClouds will typically support many domains, perhaps separated physical\nnetworks, subdividing existing domains, or many other reasons.\n\nBy providing this attribute as part of the Network object in Neutron, clients\ngain the flexibility to further subdivide their network and gain greater\ncontrol of their infrastructure.\n\nBP domain-name-on-neutron-subnet\n\nDocImpact\nAPIImpact\n\nChange-Id: Ic9437346214399b1c5eb1c699141a884be2b0d21\n'}]",20,135453,6d148576d12b7faea5b9bfdb245b765edc26d9a8,23,9,4,9623,,,0,"Provide Domain Name on Neutron Network

Neutron supports a set of DNSes, Gateway, CIDR, IP Version, and some other key
elements. One key element that is missing is the domain name.

Currently, the domain name gets set by the DHCP server and is set across the
entire cloud (typically set the by dhcp_agent.ini attribute dhcp_domain).
Clouds will typically support many domains, perhaps separated physical
networks, subdividing existing domains, or many other reasons.

By providing this attribute as part of the Network object in Neutron, clients
gain the flexibility to further subdivide their network and gain greater
control of their infrastructure.

BP domain-name-on-neutron-subnet

DocImpact
APIImpact

Change-Id: Ic9437346214399b1c5eb1c699141a884be2b0d21
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/53/135453/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/domain-name-on-neutron-subnet.rst'],1,4d51fcde2a4d6a7c3a57453840e8ba9dda979ae7,bp/domain-name-on-neutron-subnet,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Provide Domain Name on Neutron Subnet ========================================== This proposes the ability to specify the domain name as part of the Neutron Subnet element. https://blueprints.launchpad.net/neutron/+spec/domain-name-on-neutron-subnet Many businesses have multiple domains. Current limitations in the stack do not allow for these to be set on a per-subnet basis rather than one value per agent. Problem Description =================== The Neutron Subnet object supports a set of DNSes, Gateway, CIDR, IP Version and some other key elements. One key element that is missing in this object is the domain name. Currently, the domain name gets set by the DHCP server and is set across the entire cloud (typically set the by dhcp_agent.ini attribute dhcp_domain). Clouds will typically support many domains, perhaps separated physical networks, subdividing existing domains, or many other reasons. By providing this attribute as part of the Subnet object in Neutron, clients gain the flexibility to further subdivide their network and gain greater control of their infrastructure. Proposed Change =============== This blueprint proposes the following changes: * Optionally specify the Domain Name on the Subnet object * If not specified on the Subnet, default it to the dhcp_agent.ini attribute dhcp_domain. * As part of upgrade, update existing Subnet objects to contain the defaulted value of dhcp_domain in dhcp_agent.ini. * Update references in the dhcp agent to utilize the new attribute on the subnet. * Update the nova code to modify the hostname based on the new attribute on the subnet. One concern with this approach is dhcp agent currently maps the domain name to the network instead of the subnet. This behavior needs to be investigated, and if it must be maintained, the agent may need to throw a warning if it detects that subnets have differing domain names. Data Model Impact ----------------- An optional attribute called domain_name would be added to the Subnet object. It would have CRUD attributes. Upgrading would default the attribute to dhcp_domain in dhcp_agent.ini. If users do not specify it upon creation of a subnet, it would default to dhcp_domain in dhcp_agent.ini. REST API Impact --------------- A new attribute named domain_name will be available on the subnet object. If not specified, it will be defaulted to dhcp_domain in dhcp_agent.ini. +--------------+-------+---------+----------------+------------+--------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +==============+=======+=========+================+============+==============+ |domain_name |string |RO, all | dhcp_domain |N/A |domain name | | | | | in | |for VMs on | | | | | dhcp_agent.ini | |this network | +--------------+-------+---------+----------------+------------+--------------+ Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- Virtual Machines will now have the opportunity to have different, unique domain names. Performance Impact ------------------ None Other Deployer Impact --------------------- The deployer of a cloud may maintain their existing model if they choose. However, they will be given a new level of granular support. Developer Impact ---------------- None Community Impact ---------------- Broadens the scope of cloud deploys. Adds another layer to multi-tenancy. Alternatives ------------ Common workarounds for this problem are: * Multiple small OpenStack deployments each of which manage a separate domain. * Multiple Neutron servers/agents * Specifying different domain name values in each agent within various server segments. Implementation ============== Assignee(s) ----------- Primary assignee: wpward Other contributors: sbiswas thorst Work Items ---------- * Update the neutron subnet to support the new attribute * Update the migration scripts to default the attribute on existing subnets * Update the REST API client to support the new attribute * Update the dhcp agent to support the new attribute * Update nova to read the new attribute for activation Dependencies ============ None Testing ======= Tempest Tests ------------- Will build Tempest tests that utilize new attribute Functional Tests ---------------- N/A API Tests --------- Will build tests that validate the new attribute via Tempest. Documentation Impact ==================== The new attribute should be documented. User Documentation ------------------ Update the existing REST API documentation to reflect this change * https://wiki.openstack.org/wiki/Neutron/APIv2-specification Developer Documentation ----------------------- Update the existing REST API documentation to reflect this change * https://wiki.openstack.org/wiki/Neutron/APIv2-specification References ========== None ",,190,0
openstack%2Fneutron-specs~master~I8c365231179841cfabb2969d9be87ee6f06aa1bf,openstack/neutron-specs,master,I8c365231179841cfabb2969d9be87ee6f06aa1bf,OVS: perf optimization by removing the lx bridge,ABANDONED,2014-12-15 06:02:09.000000000,2015-01-26 15:08:44.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 8124}, {'_account_id': 11097}, {'_account_id': 11114}]","[{'number': 1, 'created': '2014-12-15 06:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e31984c3e44e073d82cf0d109abb389dab16dcee', 'message': 'OVS: perf optimization by removing the lx bridge\n\nWhen we want to make all packages pass and no filter applied in port\nconfigured by OVS mechanism driver, we can info NOVA to disconnect the qbr\nbridge and connect VIF with br-int directly.\n\nChange-Id: I8c365231179841cfabb2969d9be87ee6f06aa1bf\nBlueprint: ovs-optimization-redundant-bridge\n'}, {'number': 2, 'created': '2014-12-15 08:55:04.000000000', 'files': ['specs/kilo/ovs-optimization-redundant-bridge.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8456b6ffee544b275df8af78cf99c0763659bd9c', 'message': 'OVS: perf optimization by removing the lx bridge\n\nWhen we want to make all packages pass and no filter applied in port\nconfigured by OVS mechanism driver, we can info NOVA to disconnect the qbr\nbridge and connect VIF with br-int directly.\n\nChange-Id: I8c365231179841cfabb2969d9be87ee6f06aa1bf\nBlueprint: ovs-optimization-redundant-bridge\n'}]",4,141720,8456b6ffee544b275df8af78cf99c0763659bd9c,10,6,2,11114,,,0,"OVS: perf optimization by removing the lx bridge

When we want to make all packages pass and no filter applied in port
configured by OVS mechanism driver, we can info NOVA to disconnect the qbr
bridge and connect VIF with br-int directly.

Change-Id: I8c365231179841cfabb2969d9be87ee6f06aa1bf
Blueprint: ovs-optimization-redundant-bridge
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/20/141720/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ovs-optimization-redundant-bridge.rst'],1,e31984c3e44e073d82cf0d109abb389dab16dcee,bp/ovs-optimization-redundant-bridge,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================================== ovs optimization by removing redundant linux bridge when setting port-security ============================================================================== https://blueprints.launchpad.net/neutron/+spec/ovs-optimization-redundant-bridge This spec proposes to optimize the perfermance by removing the redundant bridge, espically when the port-security set to false to make all packages pass through. This modification would significant decrease the footprint of packages in/out, and bring the substantial improvement in the performance. Problem Description =================== When we want to disable all the security group or firewall for a port using ovs mech driver, to make packages passed through, there will be a huge bottleneck in Neutron network stack. Even though we can set port's port-security-enabled to be true, to disable all the security groups, anti-spoofing rules and firewall on the port, the packages would still need go through the linux bridge qbrxxx, which is created for adding filter. as shown like figure 1:: +-----+ | VIF | +-----+ | +--------+ Linux bridge(redundant when there is unnessesary to filter | qbrxxx | pkgs) +--------+ | +--------+ ovs bridge | br-int | +--------+ | +------------------+ ovs bridge | br-tun/br-eth<N> | +------------------+ If we don't need to filter the packags from br-int at all, then we don't need qbrxxx here. That will make the packages passed from br-int directly passed to VM, and will bring great perfermance improvement. bypass the qbr bridge, like figure 2:: +-----+ | VIF |-----+ +-----+ | | +--------+ | Linux bridge(redundant when there is unnessesary to filter | qbrxxx | | pkgs) +--------+ | | | +--------+ | ovs bridge | br-int |--+ +--------+ | +------------------+ ovs bridge | br-tun/br-eth<N> | +------------------+ This blueprint will propose create a new flag to inform the NOVA not connect VIF with the qbrxxx when disable all filter function on the port, especially when the port-security-enabled is false. On the other hand, when we start using any kind of filter again, ovs mechanism driver will inform NOVA to connect to original qbrxxx again. Proposed Change =============== Add a new property - portbindings.OVS_DIRECT_CONNECT in vif_details of port info. This attibute will be used as a flag to info NOVA to connect the VIF with the right way. When it is false(default), NOVA will connect VIF like figure 1. When it is true, NOVA will connect VIF like figure 2. This attribute would only be set following port-security setting. As port_security_enables is true by default, ports will still be connected with qbrxxx by default. (need more discussion) Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- When the NOVA add/remove connection about the redundant Linux bridge, some packages may lose. Notifications Impact -------------------- Warning will be added when connect/disconnect the VIF with/from the br-int. Other End User Impact --------------------- None, because the port security attribute defaults to True, and therefore existing ports will be unaffected. Performance Impact ------------------ There would significant decrease the footprint of packages in/out, and bring substantial improvement in the performance when port-security set to false. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- this perfermance optimization would used by deployer using servicevm or developer with debugging. Alternatives ------------ We can use the current portbindings.CAP_PORT_FILTER and portbindings.OVS_HYBRID_PLUG to do this notification. But this will be ambiguous as it will break their original meaning. Implementation ============== When port_security_enabled set to false, set the new property in port's vif_details portbindings.OVS_DIRECT_CONNECT to be true to inform NOVA to connect VIF to br-int directly. when port_security_enabled set to true, set portbindings.OVS_DIRECT_CONNECT to false, to inform NOVA to connect to qbr(if none, create it). Assignee(s) ----------- Primary assignee: * yalei-wang Other contributors: * yamahata (Isaku Yamahata) * ijw-ubuntu (Ian Wells) * Praveen Yalagandula * Ihar Hrachyshka (ihrachys) Work Items ---------- (name) means task assignment. * OVS mech driver modification (Yalei) * tests (Yalei) Dependencies ============ * Add portsecurity extension support to ML2: [port_security_ml2]_ if port-security-enabled attribute is implemented, this optimization would be added into ovs mechanism driver. Testing ======= tempest will be enhanced to check if the bridge is applied in these flags matrix. including connection between the qbr and VIF, between the br-int and VIF: * when security group enabled and disabled. * when the port-security-enabled set to true and false. Tempest Tests ------------- Related scenario test will be added. Functional Tests ---------------- Necessary test will be added. API Tests --------- None Documentation Impact ==================== User Documentation ------------------ None Developer Documentation ----------------------- None References ========== .. [ml2_extensions] Support for extensions in ML2 Mechanism Drivers https://blueprints.launchpad.net/neutron/+spec/neutron-ml2-mechanismdriver-extensions .. [port_security_ml2] Add portsecurity extension support to ML2 * blueprint https://blueprints.launchpad.net/neutron/+spec/ml2-ovs-portsecurity * spec review https://review.openstack.org/99873 ",,251,0
openstack%2Fneutron-specs~master~Idc8f1f375b1623a3d7e6dc2681ebaa2ff2314f45,openstack/neutron-specs,master,Idc8f1f375b1623a3d7e6dc2681ebaa2ff2314f45,Add spec for firewall-rule-per-router,ABANDONED,2014-10-30 15:34:53.000000000,2015-01-26 15:08:44.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 841}, {'_account_id': 2592}, {'_account_id': 10068}, {'_account_id': 13702}]","[{'number': 1, 'created': '2014-10-30 15:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/48b147e5fe65641bb1df37141410011dfd16748c', 'message': 'Add spec for firewall-rule-per-router\n\nblueprint firewall-rule-per-router\n\nChange-Id: Idc8f1f375b1623a3d7e6dc2681ebaa2ff2314f45\n'}, {'number': 2, 'created': '2014-12-04 04:44:54.000000000', 'files': ['specs/kilo/firewall-rule-per-router.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/706df6308c49d9108475abc5112f248fd046b221', 'message': 'Add spec for firewall-rule-per-router\n\nblueprint firewall-rule-per-router\n\nChange-Id: Idc8f1f375b1623a3d7e6dc2681ebaa2ff2314f45\n'}]",4,132047,706df6308c49d9108475abc5112f248fd046b221,15,8,2,13702,,,0,"Add spec for firewall-rule-per-router

blueprint firewall-rule-per-router

Change-Id: Idc8f1f375b1623a3d7e6dc2681ebaa2ff2314f45
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/47/132047/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/firewall-rule-per-router.rst'],1,48b147e5fe65641bb1df37141410011dfd16748c,bp/firewall-rule-per-router,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== FWaaS: Firewall Rule per Router ========================================== https://blueprints.launchpad.net/neutron/+spec/firewall-rule-per-router We can have a Firewall rule per tenant and all routers in a tenant have to share one Firewall rule. There's obviously a requirement to set a Firewall rule per router. Problem Description =================== We can have a Firewall rule per tenant and all routers in a tenant have to share one Firewall rule. There's obviously a requirement to set a Firewall rule per router. For example, when a tenant have multiple routers and servers that run a different kind of services, they need to set a different Firewall rule for each router. Proposed Change =============== We'd like to add an option for users to set a Firewall rule per router. Users can select from the two options: 1) Setting a Firewall rule per tenant (as before) 2) Setting a Firewall rule per router For option #2, we add a parameter 'routers' for Firewall creation. Data Model Impact ----------------- None. REST API Impact --------------- The following attribute is added at request parameter with POST /v2.0/fw/firewalls. +-------------+-------+---------+---------+------------+----------------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +=============+=======+=========+=========+============+======================+ |routers |string |RO, all |"""" |Check if a |Router ID that you | | | | | |specified |want to set a rule to,| | | | | |router UUID |or ""all"" for all | | | | | |exists, or |routers | | | | | |""all"" | | +-------------+-------+---------+---------+------------+----------------------+ :: Example1. Create firewall: JSON request { ""firewall"": { ""admin_state_up"": true, ""firewall_policy_id"": ""c69933c1-b472-44f9-8226-30dc4ffd454c"", ""routers"" : [""d29b3db4-1861-4189-bad5-381861fd8dda""], } } :: Example2. Create firewall: JSON response { ""firewall"": { ""admin_state_up"": true, ""description"": """", ""firewall_policy_id"": ""ad9b52a2-c96e-4d44-bd1e-3965e28870f8"", ""id"": ""e1990188-a00f-404e-b4ca-d330ba008f04"", ""name"": ""test_fw1"", ""routers"": [ ""d29b3db4-1861-4189-bad5-381861fd8dda"" ] ""status"": ""CREATE"", ""tenant_id"": ""87b3438b1bc74dcbac954b9437c34242"" } } Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ None. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Community Impact ---------------- It's the first time to propose to the public. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: y-furukawa-2 Other contributors: shiina-hironori Work Items ---------- * Implement option #2 (a Firewall rule per router) * Develop and run unit test Dependencies ============ None Testing ======= Unit tests Tempest Tests ------------- FWaaS tests Functional Tests ---------------- Regression test with logging API Tests --------- FWaaS API Tests Documentation Impact ==================== User Documentation ------------------ Please refer the section ""REST API Impact"" Developer Documentation ----------------------- None. References ========== None. ",,190,0
openstack%2Fneutron-specs~master~I0f993c50ca755b1647c89bd4c458714bd698352e,openstack/neutron-specs,master,I0f993c50ca755b1647c89bd4c458714bd698352e,Kilo ML2 type driver refactoring,ABANDONED,2014-12-03 17:01:12.000000000,2015-01-26 15:08:43.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 107}, {'_account_id': 261}]","[{'number': 1, 'created': '2014-12-03 17:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a979b4a6fa5f71da715a671a56a7d81ded4bf07f', 'message': 'Kilo ML2 type driver refactoring\n\nThis patch proposes a change to the type driver architecture in ML2 to make\nthe type drivers more self sufficient and flexible. This effort was started\nin Juno but could not be completed given timeline and review cycle issues.\n\nChange-Id: I0f993c50ca755b1647c89bd4c458714bd698352e\nImplements: bp ml2-type-driver-refactor\n'}, {'number': 2, 'created': '2014-12-04 20:29:25.000000000', 'files': ['specs/kilo/ml2-type-driver-refactor.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f693ef6d6c34974fa9d2d7daaac95553851f1794', 'message': 'Kilo ML2 type driver refactoring\n\nThis patch proposes a change to the type driver architecture in ML2 to make\nthe type drivers more self sufficient and flexible. This effort was started\nin Juno but could not be completed given timeline and review cycle issues.\n\nChange-Id: I0f993c50ca755b1647c89bd4c458714bd698352e\nImplements: bp ml2-type-driver-refactor\n'}]",0,138786,f693ef6d6c34974fa9d2d7daaac95553851f1794,9,4,2,107,,,0,"Kilo ML2 type driver refactoring

This patch proposes a change to the type driver architecture in ML2 to make
the type drivers more self sufficient and flexible. This effort was started
in Juno but could not be completed given timeline and review cycle issues.

Change-Id: I0f993c50ca755b1647c89bd4c458714bd698352e
Implements: bp ml2-type-driver-refactor
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/86/138786/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-type-driver-refactor.rst'],1,a979b4a6fa5f71da715a671a56a7d81ded4bf07f,bp/ml2-type-driver-refactor,"================================================ ML2 Type drivers refactor to allow extensiblity ================================================ Blueprint URL: https://blueprints.launchpad.net/neutron/+spec/ml2-type-driver-refactor This blueprint aims to refactor the ML2 type driver architecture such that type drivers are more self sufficient and allows developers to author custom type drivers. Flows Flows represented are only a partial flow of events relevant to this patch Current Flow: .. seqdiag:: seqdiag { API -> Neutron [label = ""POST create_network""]; Neutron -> ML2_Plugin [label = ""create_network""]; ML2_Plugin -> Type_Manager [label = ""create_network""]; Type_Manager -> VLAN_Driver [label = ""allocate_tenant_segment""]; Type_Manager -> VxLAN_Driver [label = ""allocate_tenant_segment""]; Type_Manager <-- VLAN_Driver [label = ""segment""]; Type_Manager <-- VxLAN_Driver [label = ""segment""]; ML2_Plugin <-- Type_Manager [label = ""segments""]; Neutron <-- ML2_Plugin [label = ""Network dictionary""]; API <-- Neutron [label = ""Network dictionary""]; } Problem description =================== Currently the ML2 segmentation is managed in multiple places within the architecture: * The plugin invokes the type manager with tenant/provider segment calls. * The manager in turn invokes the type driver to reserve an available/specified segment for the network. * The segment_id if reserved is returned all the way to the plugin which then stores it inside a DB. * The type driver itself also has tables of its own where it stores segment details. This model works well for generic segmentation types like vlan, gre etc. But this also makes any network types deviating from the norm like dynamic network segments near impossible to implement. Use Case * A sample use case for this feature is an overlay network with VTEPs in the hardware layer instead of the soft switch edge. To overcome the 4k VLAN limit a single network can have different segmentation IDs depending on location in the network. The assumption that a network has fixed segmentation ids across the deployment doesnt work with this use case with external controllers that are capable of managing this kind of segmentation. * Another use case is the scenario where segmentation is externally managed outside neutron but the segments themselves need to be exposed to Neutron in order for the agents etc. to function correctly. In these cases the type driver should be able to cache external segment information or dynamically communicate outside to gather segments for a network. * Another use case for this change is cases where some vendor drivers need to associate extra information with a segment. e.g. overlay networks may require a multicast group associated with the segment, some drivers require certain profiles to be associated with segments for external controllers. Proposed change =============== * Move segmentation logic to the type managers and type drivers, send network dictionary to the type drivers to store network information. This involves moving the segmentation management bits from the ML2 plugin to the type manager and the type drivers will now require the network dictionary to be passed when allocating or reserving a segment. * Modify the ML2 network segments database to store only the network Id and any type drivers that have a segment for that network. Any segment queries will be relayed directly to the associated type drivers. * Implement a get_segments method in the type manager which will be invoked by external entities to gather segments for a network. The method in turn reads DB columns to get the type drivers associated with a network, queries each type driver to gather individual segments and collates the reply into a dictionary or object to return. * Check for a minimum required set of segment information like network_type and segmentation id for segment dictionaries returned by type drivers. The drivers can opt to include extra information like profile id's for consumption by mechanism drivers if requires, otherwise these keys will be ignored if not required. Data model impact ----------------- The data model for all the type drivers will change to accomodate network id's. This translates to one extra column in the database for each type driver to store the network uuid. Existing models for ml2_network_segments will be modified to only store the type driver type and not the complete segment. The patch will be accompanied by an Alembic migration to upgrade/downgrade all type driver and ML2 DB models. NetworkSegment: Removed Fields: network_type = sa.Column(sa.String(32), nullable=False) physical_network = sa.Column(sa.String(64)) segmentation_id = sa.Column(sa.Integer) Added Fields: segment_type = sa.Column(sa.String(32), nullable=False) As part of the Alembic migration script, data will also be migrated out of the NetworkSegment tables to the respective type driver tables and vice versa for upgrades/downgrades. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Minor performance impact as extra information will be sent to the type drivers to store in their database. Other deployer impact --------------------- None. Developer impact ---------------- No API impact. Developers developing new type drivers will have to manage all segmentation within the type driver itself. Implementation ============== Assignee(s) ----------- Arvind Somya <asomya> Work Items ---------- * Modify ML2 plugin.py to remove all segmentation management. * Modify ML2 network_segments model to only store type drivers for each network. * Move segment processing to type manager. * Modify type manager to handle getting segments. * Modify type manager to send network dictionary to the type drivers. * Refit type driver models to store network id's. * Modify existing unit tests for the new architecture. Dependencies ============ None. Testing ======= Complete unit test coverage for the ML2 plugin and all refitted type drivers. Documentation Impact ==================== None. References ========== None. ",,184,0
openstack%2Fneutron-specs~master~I4f2ff4c96b9d163103c1aec677c716aac1debd46,openstack/neutron-specs,master,I4f2ff4c96b9d163103c1aec677c716aac1debd46,Improve the Nova/Neutron plugging negotiation,ABANDONED,2014-12-15 13:32:38.000000000,2015-01-26 15:08:42.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}]","[{'number': 1, 'created': '2014-12-15 13:32:38.000000000', 'files': ['specs/kilo/VIF-plugging-metadata.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3ac2063e63784cfc4931859f3bfa053c8e45c969', 'message': 'Improve the Nova/Neutron plugging negotiation\n\nChanges to Nova/Neutron interactions to remove Nova complexity and\nde-integrate Nova and Neutron.\n\nAPIImpact Changes Nova port binding API\nCo-Authored-By: r-mibu@cq.jp.nec.com\n\nChange-Id: I4f2ff4c96b9d163103c1aec677c716aac1debd46\n'}]",0,141791,3ac2063e63784cfc4931859f3bfa053c8e45c969,5,3,1,3217,,,0,"Improve the Nova/Neutron plugging negotiation

Changes to Nova/Neutron interactions to remove Nova complexity and
de-integrate Nova and Neutron.

APIImpact Changes Nova port binding API
Co-Authored-By: r-mibu@cq.jp.nec.com

Change-Id: I4f2ff4c96b9d163103c1aec677c716aac1debd46
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/91/141791/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/VIF-plugging-metadata.rst'],1,3ac2063e63784cfc4931859f3bfa053c8e45c969,plugging,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Improve the Nova/Neutron plugging negotiation ============================================= https://blueprints.launchpad.net/neutron/+spec/vif-plugging-metadata When Nova asks to attach to a network, pass more data back to Nova describing Neutron's choices about how to make that attachment, allowing us in turn to remove complexity from the Nova plugging code. Problem Description =================== Nova currently does an update_port to indicate to Neutron that it requires a port to be attached. This works in the following way: * Nova does a port-update on the port, adding binding properties that indicate such things as how it would like the attachment to be made * Neutron returns some information such as binding-type (indicating the method in which the attachment was made). A number of shared assumptions are made in this interface. Firstly, Neutron will typically return a binding type that has been configured into its driver or plugin. This may or may not be appropriate for the hypervisor in question. Secondly, for many binding types (including attachments to bridges, for instance), the binding type's semantics include things like the way in which the bridge name is derived, meaning that code in Neutron that derives this name is replicated in clients such as Nova. Proposed Change =============== We propose making the interface more explicit: * via a new header, the client (Nova) would express a preference list of binding types that the Neutron driver can use to determine which binding type to best offer. The preference list would be different for each hypervisor, and may be different per port (for instance, preferring an SRIOV connection over a virtual one). This passes control for binding type selection from Neutron alone to a full negotiation. * via additional properties, certain binding types would move from implicitly exchanging information via a common method of processing (e.g. transformation of UUID into bridge name) into a single sided determination of the values and a subsequent exchange of information. For example, Neutron alone would determine the bridge name in use, and Nova would read that bridge name. In the interests of backward compatibility, existing VIF types that have specific name calculation semantics would retain those calculation semantics while also exchanging the value via a binding property. Thus, Neutron with the new functionality would remain compatible with Nova instances that did not understand that functionality. The old semantics would be mandated for the current version and that mandate removed in a future release when we are certain that Nova versions that are expected to be compatible do not rely on it. Data Model Impact ----------------- The DB-stored data model does not change. The port type has a number of attributes that are now derived once the binding type is set. They are not stored in the database by default, but calculated when the port is returned to an API call when certain binding types are set. REST API Impact --------------- On update_port, when the port is being bound (i.e. when the binding parameters, and specifically binding:host_id, are being set - at present, from the call from nova/network/neutronv2/api.py), the the port update call can optionally take a header 'X-Binding-Preference', which is a comma-separated ordered list of preferred binding types, first preference first. When the port is fetched over the API after binding, the following additional binding properties will be returned. These are not stored in the database but calculated on the fly by the Neutron driver. * If the binding type is 'bridge' or 'ovs_hybrid', 'binding:bridge_name' will be the name of the bridge For each API resource to be implemented using Neutron's attribute map facility (see the neutron.api.v2.attributes), describe the resource collection and specify the name, type, and other essential details of each new or modified attribute. A table similar to the following may be used: .. csv-table:: CSVTable :header: Attribute Name,Type,Access,Default Value,Validation Conversion,Description binding:bridge_name,optional string,""RO, admin"",generated,N/A,Bridge name for bridge attachments Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ None. IPv6 Impact ----------- None. Other Deployer Impact --------------------- The changes as described are backward compatible: the driver must work without a list of recommended binding types, the driver may ignore the recommended binding types, and clients will at present ignore the bridge_name. Nova must start using bridge_name at least a version before the default calculation of the bridge name can be removed and other naming conventions used. Developer Impact ---------------- Future binding types should return values explicitly rather than using conventions. Current binding types should be incrementally adapted to use the same system. Community Impact ---------------- This is intended to better formulate the standard interface between Neutron and Nova, and serve the greater goal of simplifying the Nova end of the interaction. Ultimately we are hoping for a minimal set of Nova plugging types, and for there to be no dependence between the Neutron and Nova configuration. The change and other related changes have been discussed on the mailing list. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: ijw-ubuntu Other contributors: Daniel Berrange Ryota Mibu Work Items ---------- * Change the binding plugin to add the additional attribute 'binding:bridge_name' * Change the core code to take the X-Binding-Preference header * Change the plugin interface, ML2 code and mech driver interface to hand off the X-Binding-Preference header to mechanism drivers * Change the OVS and LB drivers to set the binding:bridge_name attribute when a port is returned, and the intervening code to ensure that the name is requested from the driver when the port is about to be returned to a caller Dependencies ============ None. Testing ======= The only functional difference at present is the binding name being returned, and as this is not yet going to be used by Nova until a matching change is performed there, this has no system level effect. Tests are limited to the API layer. Tempest Tests ------------- None. Functional Tests ---------------- * Confirm that a driver receives the preference order. * Confirm that the binding type and bridge_name parameter returned to the user is the driver's choice of value. API Tests --------- The functionality is of limited use initially and the API tests focus on ensuring (a) that the new values appear as expected and (b) all typical use cases that will be used by drivers at present have not been broken. * Confirm that on update_port to set binding:host_id, the binding:bridge_name is returned in a system configured with the OVS driver. * Confirm that a non-supporting driver still works and binding:bridge_name is not set in the return value. * Confirm that drivers work with X-Binding-Preference present and absent. Documentation Impact ==================== The binding extension needs its new attribute and header documenting. This is not user-facing documentation. User Documentation ------------------ None. Developer Documentation ----------------------- The binding extension changes must be documented, as must the plugin and driver interface changes. References ========== * http://lists.openstack.org/pipermail/openstack-dev/2014-December/052509.html (on out-of-tree plugin support, tangentially related) * http://lists.openstack.org/pipermail/openstack-dev/2014-December/052940.html (on bridge name attribute) ",,255,0
openstack%2Fneutron-specs~master~Id24226bbf3efe543944275a3b7a9a6963a0d2025,openstack/neutron-specs,master,Id24226bbf3efe543944275a3b7a9a6963a0d2025,"Specify Fixed IP address by ""IP Version""",ABANDONED,2014-10-21 13:47:29.000000000,2015-01-26 15:08:41.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 6524}, {'_account_id': 6685}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 7823}, {'_account_id': 8818}, {'_account_id': 9656}, {'_account_id': 10257}, {'_account_id': 11061}, {'_account_id': 12444}]","[{'number': 1, 'created': '2014-10-21 13:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/757084b2f50ae28a7ef20d14b97602e5b98b8626', 'message': 'Specify Fixed IP address by ""IP Version""\n\nChange-Id: Id24226bbf3efe543944275a3b7a9a6963a0d2025\nBlueprint: fixed-ip-version\n'}, {'number': 2, 'created': '2014-10-22 13:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6b1aee311d0469a4405dd78f5f64db0789dddad8', 'message': 'Specify Fixed IP address by ""IP Version""\n\nChange-Id: Id24226bbf3efe543944275a3b7a9a6963a0d2025\nBlueprint: fixed-ip-version\n'}, {'number': 3, 'created': '2014-11-11 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/96f100424e2b5d67875b868816c81ad1278f3146', 'message': 'Specify Fixed IP address by ""IP Version""\n\nChange-Id: Id24226bbf3efe543944275a3b7a9a6963a0d2025\nBlueprint: fixed-ip-version\n'}, {'number': 4, 'created': '2014-11-24 11:16:23.000000000', 'files': ['specs/kilo/fixed-ip-version.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4f7532ac541d0c873c9bd628bb69cd8b69e0d4ac', 'message': 'Specify Fixed IP address by ""IP Version""\n\nChange-Id: Id24226bbf3efe543944275a3b7a9a6963a0d2025\nBlueprint: fixed-ip-version\n'}]",37,129910,4f7532ac541d0c873c9bd628bb69cd8b69e0d4ac,38,17,4,11061,,,0,"Specify Fixed IP address by ""IP Version""

Change-Id: Id24226bbf3efe543944275a3b7a9a6963a0d2025
Blueprint: fixed-ip-version
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/10/129910/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/fixed-ip-version.rst'],1,757084b2f50ae28a7ef20d14b97602e5b98b8626,bp/fixed-ip-version,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Specify Fixed IP address by ""IP Version"" ======================================== https://blueprints.launchpad.net/neutron/+spec/fixed-ip-version Allow ""IP Version"" to be specified in addition to ""IP Address"" and ""Subnet ID"" when creating Port. Problem Description =================== Currently, when creating Fixed IP for a Port in dual-stack network, Neutron allocates first available address from IPv4 subnets and first available address from IPv6 subnets. If user wants to create Port with single IPv4 or IPv6 IP Address, he must specify IP Address or Subnet ID, from which address be allocated. When Network contains several small Subnets, it makes everything harder, because users can't get list of free addresses, esp. in Shared Networks. Proposed Change =============== New attribute 'ip_version' will be added to 'fixed_ip' scructure in API calls. Possible values are '4' and '6'. Data Model Impact ----------------- The data model does not require any changes. REST API Impact --------------- Neutron have custom validator for fixed_ips attribute. New attrubute is added to fixed_ip structure: +----------+-------+---------+---------+------------+--------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +==========+=======+=========+=========+============+==============+ |ip_version|string |RW, all |'' |'4' or '6' |IP Version | +----------+-------+---------+---------+------------+--------------+ The 'ip_version' attribute can not be specified alog with 'ip_address' or 'subnet_id'. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- python-neutronclient passes fixed_ips attribute as it specified on command line and leaves all validations to server. It does not require any modifications, but CLI documentation needs to be updated. Performance Impact ------------------ None. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Community Impact ---------------- None. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: <raorn> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ None. Testing ======= Tempest Tests ------------- None. Functional Tests ---------------- IP Address allocation will be tested with unit tests. API Tests --------- The attribute validation methods will be tested with unit tests. Documentation Impact ==================== The changes to the API and CLI require documentation. User Documentation ------------------ The CLI client documentation must be updated. Developer Documentation ----------------------- The Neutron API change must be documented. References ========== None. ",,162,0
openstack%2Fneutron-specs~master~I6239ea06cb9b3c51f8e044efbe4044b67d635f49,openstack/neutron-specs,master,I6239ea06cb9b3c51f8e044efbe4044b67d635f49,DHCP agent support for routed VM interfaces,ABANDONED,2014-10-24 10:46:41.000000000,2015-01-26 15:08:40.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 333}, {'_account_id': 2592}, {'_account_id': 7448}, {'_account_id': 13507}, {'_account_id': 13635}, {'_account_id': 13734}]","[{'number': 1, 'created': '2014-10-24 10:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fcdc47c2e639873d63d578e8bdaa1b072b7964f0', 'message': 'DHCP agent support for routed VM interfaces\n\nChange-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49\n'}, {'number': 2, 'created': '2014-10-24 11:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5089872c0483fb9b20479449fdecff53295d14fe', 'message': 'DHCP agent support for routed VM interfaces\n\nChange-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49\n'}, {'number': 3, 'created': '2014-10-31 15:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/057404861c664f9fcfa6bb5e7e86b3b6d543cff7', 'message': 'DHCP agent support for routed VM interfaces\n\nChange-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49\n'}, {'number': 4, 'created': '2014-11-26 14:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f49b2086319eb009225f18eaa7aa417d22325fa', 'message': ""DHCP agent support for routed VM interfaces\n\nWe propose to extend Neutron's DHCP agent code so that it works when\ndata to/from VMs is being routed by the immediate compute host instead\nof being bridged. The routed approach enables various alternative\napproaches to providing connectivity between VMs - particularly in\ndeployments where those VMs only require services at layer 3 (IP) and\nabove - and it is still possible to implement, through iptables and\nroute distribution filters, all of the detailed connectivity and\nsecurity policies that are implied by any given set of OpenStack's\nnetworking, security group and router configurations.\n\nChange-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49\n""}, {'number': 5, 'created': '2014-12-08 14:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/00c6fc6fa8b95cfbf3a51086f60c0aaf5c65b739', 'message': ""DHCP agent support for routed VM interfaces\n\nWe propose to extend Neutron's DHCP agent code so that it works when\ndata to/from VMs is being routed by the immediate compute host instead\nof being bridged. The routed approach enables various alternative\napproaches to providing connectivity between VMs - particularly in\ndeployments where those VMs only require services at layer 3 (IP) and\nabove - and it is still possible to implement, through iptables and\nroute distribution filters, all of the detailed connectivity and\nsecurity policies that are implied by any given set of OpenStack's\nnetworking, security group and router configurations.\n\nChange-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49\n""}, {'number': 6, 'created': '2014-12-08 15:16:19.000000000', 'files': ['specs/kilo/dhcp-for-routed-ifs.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/75cc2db8f39fea46391fe88dcff6a991697c08a4', 'message': ""DHCP agent support for routed VM interfaces\n\nWe propose to extend Neutron's DHCP agent code so that it works when\ndata to/from VMs is being routed by the immediate compute host instead\nof being bridged. The routed approach enables various alternative\napproaches to providing connectivity between VMs - particularly in\ndeployments where those VMs only require services at layer 3 (IP) and\nabove - and it is still possible to implement, through iptables and\nroute distribution filters, all of the detailed connectivity and\nsecurity policies that are implied by any given set of OpenStack's\nnetworking, security group and router configurations.\n\nChange-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49\n""}]",26,130736,75cc2db8f39fea46391fe88dcff6a991697c08a4,30,9,6,13734,,,0,"DHCP agent support for routed VM interfaces

We propose to extend Neutron's DHCP agent code so that it works when
data to/from VMs is being routed by the immediate compute host instead
of being bridged. The routed approach enables various alternative
approaches to providing connectivity between VMs - particularly in
deployments where those VMs only require services at layer 3 (IP) and
above - and it is still possible to implement, through iptables and
route distribution filters, all of the detailed connectivity and
security policies that are implied by any given set of OpenStack's
networking, security group and router configurations.

Change-Id: I6239ea06cb9b3c51f8e044efbe4044b67d635f49
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/36/130736/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/dhcp-for-routed-ifs.rst'],1,fcdc47c2e639873d63d578e8bdaa1b072b7964f0,bp/dhcp-for-routed-ifs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== DHCP agent support for routed VM interfaces =========================================== https://blueprints.launchpad.net/neutron/+spec/dhcp-for-routed-ifs We propose to extend Neutron's DHCP agent code so that it works when data to/from VMs is being routed by the immediate compute host instead of being bridged. The routed approach enables various alternative approaches to providing connectivity between VMs - particularly in deployments where those VMs only require services at layer 3 (IP) and above - and it is still possible to implement, through iptables and route distribution filters, all of the detailed connectivity and security policies that are implied by any given set of OpenStack's networking, security group and router configurations. Problem Description =================== Context ------- We wish to support an alternative networking model in which each compute node routes the data to/from its VMs, instead of bridging it: :: VM | tapXXXX | Linux IP routing, iptables etc. | external network interface The detailed connectivity is then controlled by how routing and iptables are set up (by an agent) on each compute node. For example, in the open source Project Calico (http://www.projectcalico.org/), the agent then arranges that: * The compute node's routing table includes a route for each local VM IP address, which directs traffic via the relevant TAP interface. * Each VM is configured (by DHCP) to have the compute node as its default gateway. * Proxy ARP is enabled on all VM TAP interfaces on the compute host, so that VMs on multiple compute hosts can belong to the same IP subnet. * Manipulation of the L-bit for IPv6 address assignment provides the same function as Proxy ARP does for IPv4 * BGP operates between all the compute nodes, so as to propagate VM routes from one compute node to all the other nodes. * Configured connectivity and security restrictions are implemented through a combination of iptables and route filters on the compute nodes. Specific Problem ---------------- In this context, the specific problem is that the current Neutron DHCP agent function only works when the DHCP port (ns-XXX) and TAP interfaces (tapXXX) are all bridged together. Specifically this is because the DHCP agent runs Dnsmasq such that, for a given DHCP request, it will only distribute IP addresses from the subnets that are configured on the Linux interface where that DHCP request was received. In a bridged network, the DHCP request is flooded throughout the network at L2 and received by every attached IP stack, including that on the ns-XXX DHCP port. In a network where the tapXXX interfaces are not bridged - :: +-------------------------------------+ | Compute Host | | tap123------------------VM1 | | | ns-XXX tap456------------------VM2 | 10.65.0/24 | | DHCP server tap789------------------VM3 | | | tapABC------------------VM4 | | +-------------------------------------+ there is (as the agent code currently stands) no mechanism to allow a DHCP request to be received on tapXXX and to be given an IP address allocation from the subnet and configuration associated with the ns-XXX DHCP server port. Proposed Change =============== IPv4 ---- Dnsmasq 2.72 provides the following options that contribute to a solution for the above scenario. * --interface=tap*, to instruct it to listen on all tapXXX interfaces, as well as on the ns-XXX interface. * --bind-dynamic, to tell it to continue monitoring for new tapXXX interfaces, and to listen on those as they appear. * --bridge-interface=ns-XXX,tap*, to tell it to treat all the tapXXX as aliases of the ns-XXX interface; which means that a DHCP requests on a tapXXX interface can be satisfied from the configuration associated with the ns-XXX interface. We propose the following changes to the DHCP agent code to support address allocation on unbridged TAP interfaces. * Add a 'bridged' method to the LinuxInterfaceDriver base class in neutron/agent/linux/interface.py, returning True. * Define a new RoutedInterfaceDriver class, in neutron/agent/linux/interface.py, that: - overrides the 'bridged' method to return False - implements the 'plug' and 'unplug' methods to create and destroy a dummy Linux interface. * Add an 'add_dummy' method to IPWrapper in neutron/agent/linux/ip_lib.py, for use by the previous change. * Add a 'bridged' method to the DeviceManager class in neutron/agent/linux/dhcp.py, whose value is initialized from calling 'bridged' on the configured interface_driver. * In neutron/agent/linux/dhcp.py, when 'bridged' is False: - don't use separate namespaces at all - run dnsmasq with the options listed above instead of the normal '--bind-interfaces' - assign the subnet's gateway IP address(es) to the DHCP interface, instead of making a new allocation for it from the subnet's pool. Note that the last point is an interesting consequence of the unbridged approach. Even though VMs on many compute hosts can be attached to the same network, and so receive IP addresses from the same subnets, the DHCP servers - one per compute host - for that network can all have the same IP address, and it makes sense for this to be the gateway IP address. IPv6 ---- For IPv6, there are Dnsmasq changes currently being discussed and evolved that extend the --bridge-interface idea to DHCPv6 and to Router Advertisement processing; please see the thread beginning at http://lists.thekelleys.org.uk/pipermail/dnsmasq-discuss/2014q4/008886.html. Assuming that those are integrated upstream, the following further Neutron DHCP agent change suffices to make DHCPv6 and IPv6 Router Advertisements work for routed TAP interfaces. * Run dnsmasq with the --enable-ra option, and with 'static,off-link' as the DHCPv6 range mode options, when 'bridged' is False. Data Model Impact ----------------- None. REST API Impact --------------- None. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ Unless the routed mode of operation is explicitly configured - as described in the next subsection - there is no possible performance impact on a standard OpenStack system. Other Deployer Impact --------------------- The Neutron extension proposed here has no effect on existing or newly deployed OpenStack systems, unless the interface_driver setting is explicitly set to neutron.agent.linux.interface.RoutedInterfaceDriver. It does not require downtime or manual intervention to apply when upgrading. Developer Impact ---------------- None. Community Impact ---------------- This extension has not yet been discussed with the Neutron community, but will be so shortly - as appropriate - on the mailing list, at weekly Neutron meetings, and at the next design summit. The developers of this extension will also be at the next OpenStack summit and will be happy to discuss this there. We believe this extension is compatible with the direction of the Neutron community. Alternatives ------------ None. The current Neutron DHCP agent code relies on VM data being bridged. Implementation ============== Assignee(s) ----------- Primary assignee: neil-jerram Other contributors: lukasaoz cliljenstolpe Work Items ---------- Current implementation of the changes required for this spec may be seen at https://github.com/Metaswitch/calico-neutron/tree/upstream-master+dhcp-for-routed-ifs They have been tested, on an Icehouse base, as part of Project Calico (http://www.projectcalico.org/), but further OpenStack environment testing is planned, as described below. Remaining work items are as follows: * Implement Tempest and 3rd party CI tests as described below. * Verify that proposed changes pass all existing tests (including code style), as well as new tests. * Submit changes formally for review. * Participate in resulting discussions, mark up and re-review processes. * Repeat until done! Dependencies ============ There is a related Nova spec at https://blueprints.launchpad.net/nova/+spec/vif-type-routed, which allows Nova to create an unbridged virtual interface to a VM. However, neither of these specs is technically dependent on the other. For IPv4 addressing, the DHCP agent changes require a Dnsmasq enhancement that is already upstream and has been released in Dnsmasq 2.72: http://thekelleys.org.uk/gitweb/?p=dnsmasq.git;a=commit;h=70772c909199ad6701dc25593bc185938fa4cd23. IPv6 addressing requires further changes to Dnsmasq that we are currently preparing for upstream submission. For details see the mailing list thread beginning at http://lists.thekelleys.org.uk/pipermail/dnsmasq-discuss/2014q4/008886.html Testing ======= This change will be tested by Tempest tests in a third-party CI system, to be set up and operated as described at https://wiki.openstack.org/wiki/NeutronThirdPartyTesting, to test the combination of (i) this spec, (ii) the related Nova spec [A] to allows Nova to create an unbridged virtual interface to a VM, and (iii) a Neutron/ML2 mechanism driver [B] that implements networking based on VIF_TYPE_ROUTED interfaces. [A] https://blueprints.launchpad.net/nova/+spec/vif-type-routed [B] https://blueprints.launchpad.net/neutron/+spec/calico-mechanism-driver In addition, these changes are being tested by the related development at Project Calico (http://www.projectcalico.org/), and will continue to be so. Tempest Tests ------------- Create VMs on one or more compute hosts, using unbridged networking (i.e. with VIF_TYPE_ROUTED, RoutedInterfaceDriver and the Calico mechanism driver), and verify that they have the expected IP addressing, and the expected connectivity to each other (over both IPv4 and IPv6). Functional Tests ---------------- None beyond the above. API Tests --------- None. Documentation Impact ==================== No documentation changes are anticipated within OpenStack docs, as it appears that the existing DHCP agent function (which this spec extends) is undocumented, and hence that there is no appropriate place to add to. User Documentation ------------------ None. Developer Documentation ----------------------- None. References ========== http://www.projectcalico.org/ https://github.com/Metaswitch/calico-nova https://github.com/Metaswitch/calico-neutron https://github.com/Metaswitch/calico-dnsmasq ",,362,0
openstack%2Fneutron-specs~master~I06883748dad2441760a2ad23474910315655a750,openstack/neutron-specs,master,I06883748dad2441760a2ad23474910315655a750,Retrieve list of ports using input security-groups,ABANDONED,2014-12-03 12:21:40.000000000,2015-01-26 15:08:38.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 9361}, {'_account_id': 10980}, {'_account_id': 11774}, {'_account_id': 11825}]","[{'number': 1, 'created': '2014-12-03 12:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/42b9d3e910a6bfece8509f7883a903d7db0e694c', 'message': 'RESTful resource to view ports associated with a given Security Group\n\nCurrently there is no way to see the neutron ports which are belonging\nto a security group. We would like to add support for the cli to\nretrieve and show the security-group to port binding information.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nImplements: blueprint ports-having-security-group\n'}, {'number': 2, 'created': '2014-12-03 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dc12c2c2b59e8ce04487e57b0121eab51fe16922', 'message': 'RESTful resource to view ports associated with a given Security Group\n\nCurrently there is no way to see the neutron ports which are belonging\nto a security group. We would like to add support for the cli to\nretrieve and show the security-group to port binding information.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nImplements: blueprint ports-having-security-group\n'}, {'number': 3, 'created': '2014-12-10 06:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fd7f118451c6b7b1eef37b1ec3922901aaa612c5', 'message': 'RESTful resource to view ports associated with a given Security Group\n\nCurrently there is no way to see the neutron ports which are belonging\nto a security group. We would like to add support for the cli to\nretrieve and show the security-group to port binding information.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nImplements: blueprint ports-having-security-group\n'}, {'number': 4, 'created': '2014-12-12 15:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de9d62473401071a522fdf7f59482e434754b6d6', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nImplements: blueprint ports-having-security-group\n'}, {'number': 5, 'created': '2014-12-13 12:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f405286eda46c72e5ee6c58eaeaa8e24928e60f4', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nImplements: blueprint ports-having-security-group\n'}, {'number': 6, 'created': '2014-12-13 12:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3d992049f8eeb597bc778503c9a8a3971fa0d86d', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nImplements: blueprint ports-having-security-group\n'}, {'number': 7, 'created': '2014-12-14 13:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f3ad85eac874bd1b375cc50dea6ec4be984f3ace', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nBlueprint: ports-having-security-group\n'}, {'number': 8, 'created': '2014-12-14 14:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/896a2480cb8339030196feffaf616707481f2256', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nBlueprint: ports-having-security-group\n'}, {'number': 9, 'created': '2014-12-15 06:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/53d6389354b22dd449dd674e65ab69725660039c', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nChange-Id: I06883748dad2441760a2ad23474910315655a750\nBlueprint: ports-having-security-group\n'}, {'number': 10, 'created': '2014-12-15 07:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8e4cf04a17e8bdad6bfbf2d2f2e914083acf54d3', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nBlueprint: ports-having-security-group\nChange-Id: I06883748dad2441760a2ad23474910315655a750\n'}, {'number': 11, 'created': '2014-12-16 17:44:09.000000000', 'files': ['specs/kilo/ports-having-security-group.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f0730644525497ce73cf8c6e00a506a04ed8f0c8', 'message': 'Retrieve list of ports using input security-groups\n\nCurrently, there is no straightforward way to view neutron\nports which are belonging to input security group(s).\nThis blueprint attempts to enhance the port retrieval\nlogic in neutron server to retrieve ports using one or\nmore input security-groups.  Also this blueprint will\nextend neutron port-list CLI with --security-groups\noption that will enable tenants to quickly retrieve\nports that use one or more input security-groups.\n\nBlueprint: ports-having-security-group\nChange-Id: I06883748dad2441760a2ad23474910315655a750\n'}]",43,138695,f0730644525497ce73cf8c6e00a506a04ed8f0c8,66,9,11,11774,,,0,"Retrieve list of ports using input security-groups

Currently, there is no straightforward way to view neutron
ports which are belonging to input security group(s).
This blueprint attempts to enhance the port retrieval
logic in neutron server to retrieve ports using one or
more input security-groups.  Also this blueprint will
extend neutron port-list CLI with --security-groups
option that will enable tenants to quickly retrieve
ports that use one or more input security-groups.

Blueprint: ports-having-security-group
Change-Id: I06883748dad2441760a2ad23474910315655a750
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/95/138695/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ports-having-security-group.rst'],1,42b9d3e910a6bfece8509f7883a903d7db0e694c,bp/attempts,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================== REST implementation for Security Group Port Bindings ==================================================== https://blueprints.launchpad.net/neutron/+spec/ports-having-security-group Problem Description =================== The detail of each port association with security-group is stored on Controller database. Currently there is no easy way to retrieve all the ports associated to a particular security group belonging to a tenant. This Blueprint proposes Restful API to retrieve list of ports associated to the provided security group and also provides the corresponding CLI. Proposed Change =============== The proposal is to create a new RESTful resource ""security-group-port-binding"" under security_group to enable the retrieval of ports associated to a security group. This new RESTful resource will make use of the existing security-group-port-binding, port data models. By making RESTful GET call to the controller node, port ids associated to a security group, at once can be retrieved. From implementation perspective, the REST call will result in accessing and fetching the data from ""securitygroupportbindings"" table in neutron database. This blueprint will also implement the CLI which returns all the ports bound to a security group. Data Model Impact ----------------- NA REST API Impact --------------- Request :: GET /v2.0/security-group-port-bindings Accept: application/json Response :: { ""security-group-port-bindings"": [{ ""port-id"": ""xx:xx:xx:xx:xx:xa"", ""security-group-id"": ""yy:yy:yy:yy:yy:ya"", ""device_owner"": ""compute:nova"", ""device-id"": ""zz:zz:zz:zz:zz:za""}, ""port-id"": ""xx:xx:xx:xx:xx:xb"", ""security-group-id"": ""yy:yy:yy:yy:yy:yb"", ""device-id"": ""zz:zz:zz:zz:zz:zb""}] } Security Impact --------------- None CLI Impact ---------- CLI will be provided to fetch all the ports bound to a specific security-group. The CLI looks like below: neutron ports-having-security-group <SECURITY-GROUP-ID> Note that there will be no 'show' version of the command since we are pretty much listing all the details related to the resources. Notifications Impact -------------------- None Other End User Impact --------------------- This change impacts neutron server and the python-neutron-client. Post implementation of this Blueprint, the user will see a new CLI under neutron. Performance Impact ------------------ None IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: * <shiva-m> Other contributors: * <sudhakar-gariganti> * <vivekanandan-narasimhan> Work Items ---------- 1. Creating New RESTful resource ""security-group-port-binding"" under security-group. 2. Add and implement the CLI in python-neutronclient. Dependencies ============ securitygroupportbinding data model should be available. Testing ======= RESTful GET request for security-group-port-binding resource will result in response that will contain port-ids with associated security-group-ids. Executing following CLI by admin should display the list of port-ids having the given security-group-id. neutron ports-having-security-group <SECURITY-GROUP-ID> Tempest Tests ------------- NA Functional Tests ---------------- NA API Tests --------- NA Documentation Impact ==================== Documentation will be updated to capture information about the new CLI. User Documentation ------------------ None Developer Documentation ----------------------- None References ========== 1. https://blueprints.launchpad.net/neutron/+spec/ports-having-security-group ",,215,0
openstack%2Fneutron-specs~master~I5110e0a03018b94b0fec4e3d14a9dbe317493940,openstack/neutron-specs,master,I5110e0a03018b94b0fec4e3d14a9dbe317493940,neutron port traffic rate support for SR-IOV NIC,ABANDONED,2014-12-07 12:16:49.000000000,2015-01-26 15:08:37.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 6598}, {'_account_id': 6697}, {'_account_id': 6932}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 12065}, {'_account_id': 12171}, {'_account_id': 12970}]","[{'number': 1, 'created': '2014-12-07 12:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1ab42931a1451d5a9703aa67273f2b75c86f60a0', 'message': 'neutron port traffic rate support for SR-IOV NIC\n\nSpecification for adding ML2 extention driver to support traffic rate\nability in SR-IOV NICs\n\nCo-authored-by: Irena Berezovsky <irenab@mellanox.com>\nBlueprint: ml2-sriov-rate-limit-extension\n\nChange-Id: I5110e0a03018b94b0fec4e3d14a9dbe317493940\n'}, {'number': 2, 'created': '2014-12-09 06:14:51.000000000', 'files': ['specs/kilo/ml2-sriov-traffic-rate.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/877b3739f92c234f7be4c5f8bac2e03a2664be6c', 'message': 'neutron port traffic rate support for SR-IOV NIC\n\nSpecification for adding ML2 extention driver to support traffic rate\nability in SR-IOV NICs\n\nCo-authored-by: Irena Berezovsky <irenab@mellanox.com>\nBlueprint: ml2-sriov-rate-limit-extension\n\nChange-Id: I5110e0a03018b94b0fec4e3d14a9dbe317493940\n'}]",10,139859,877b3739f92c234f7be4c5f8bac2e03a2664be6c,18,11,2,12970,,,0,"neutron port traffic rate support for SR-IOV NIC

Specification for adding ML2 extention driver to support traffic rate
ability in SR-IOV NICs

Co-authored-by: Irena Berezovsky <irenab@mellanox.com>
Blueprint: ml2-sriov-rate-limit-extension

Change-Id: I5110e0a03018b94b0fec4e3d14a9dbe317493940
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/59/139859/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-sriov-traffic-rate.rst'],1,1ab42931a1451d5a9703aa67273f2b75c86f60a0,bp/ml2-sriov-rate-limit-extension,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ neutron port traffic rate support for SR-IOV NIC ================================================ https://blueprints.launchpad.net/neutron/+spec/ml2-sriov-rate-limit-extension A proposal is to allow the users of Neutron network service the ability to request a particular maximum and minimum transmit bandwidth on port resources. In scope of this specification, the proposed API will be supported as ML2 driver extension. Problem Description =================== Currently, when SR-IOV adapters are used for virtual networking, all Virtual Functions provide the same level of traffic service. Sometimes provision of certain level of service to specific VM network interface is desired. This can become important considering NFV use cases. This may include both assurance for certain bandwidth reservation and limiting the maximum transmission bandwidth. Based on SR-IOV network adapter capabilities, it is possible to set min_tx_rate (bandwidth share) and max_tx_rate (rate limit) per Virtual Function using `ip link` command. Proposed Change =============== Server Side: ------------ Rate Extension API will be added and will support the following APIs: a. set_min_tx_rate(port_id, min_tx_rate) #. set_max_tx_rate(port_id, max_tx_rate) #. get_min_tx_rate(port_id) #. get_max_tx_rate(port_id) Traffic rate extension will be added as ML2 extension driver. This extension should supply the following functionalities: min/max rate mapping to port-ids and extending port dictionary to include these attributes. Database support also will be added, relevant table, migration and APIs. Also relevant RPC support will be added: getting the rate attributes from server will be done by using existing get_device_details RPC call, and new rate attributes will be added to the response. The change of get_device_details will be general, to be used by other extensions: and it will be done by iterating all ML2 extension drivers, and each extension driver can extend with the relevant extension data, and in our case: the traffic rate extension driver will extends the port info with min_tx_rate and max_tx_rate Agent Side: ----------- For applying rate attributes on NIC, need to add relevant functionality in in the SRIOV agent. The pci_lib module will be extended to support the above actions. Data Model Impact ----------------- The new ml2 extension driver introduces a new table. * PortRate: Stores port id with min_tx_rate and max_tx_rate +------------+-------+---------+---------+------------+-------------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +============+=======+=========+=========+============+===================+ |port_id |string |RW, |N/A |N/A |port ID | | |(UUID) |tenant | | | | +------------+-------+---------+---------+------------+-------------------+ |min_tx_rate |int |RW, |None |N/A |minimum allowed | | | |tenant | | |transmit bandwidth,| | | | | | |in Mbps | +------------+-------+---------+---------+------------+-------------------+ |max_tx_rate |int |RW, |None |N/A |minimum allowed | | | |tenant | | |transmit bandwidth,| | | | | | |in Mbps | +------------+-------+---------+---------+------------+-------------------+ A database migration is included to create the new table. REST API Impact --------------- New attributes will be added to port actions: 1. min_tx_rate 2. max_tx_rate Port Create: port-create Creates a Port. Request POST /v2.0/ports Accept: application/json .. code-block:: javascript { ""port"":{ ""admin_state_up"":true, ""device_id"":""24df1d04-d5cb-41e1-8de5-61ed77c558df"", ""name"":""port1"", ""network_id"":""abaf2e70-4305-4e8d-ac70-3e4cc5f66a07"", ""min_tx_rate"": 100, ""max_tx_rate"": 200 } } Response .. code-block:: javascript { ""port"":{ ""admin_state_up"":true, ""device_id"":""24df1d04-d5cb-41e1-8de5-61ed77c558df"", ""device_owner"":"""", ""fixed_ips"":[ { ""ip_address"":""10.0.0.4"", ""subnet_id"":""3b498f11-0a20-43ed-b992-0e4202d5f930"" } ], ""id"":""358c03ee-20f8-40d2-b74b-9b21a9df10a7"", ""mac_address"":""fa:16:3e:ac:95:a9"", ""name"":""port1"", ""network_id"":""abaf2e70-4305-4e8d-ac70-3e4cc5f66a07"", ""min_tx_rate"": 100, ""max_tx_rate"": 200, ""status"":""DOWN"", ""tenant_id"":""e4f50856753b4dc6afee5fa6b9b6c550"" } } Port Update: port-update Updates a Port. Request PUT /v2.0/ports/358c03ee-20f8-40d2-b74b-9b21a9df10a7 Accept: application/json .. code-block:: javascript { ""port"":{ ""min_tx_rate"": 150, ""max_tx_rate"": 250 } } Response .. code-block:: javascript { ""port"":{ ""admin_state_up"":true, ""device_id"":""24df1d04-d5cb-41e1-8de5-61ed77c558df"", ""device_owner"":"""", ""fixed_ips"":[ { ""ip_address"":""10.0.0.4"", ""subnet_id"":""3b498f11-0a20-43ed-b992-0e4202d5f930"" } ], ""id"":""358c03ee-20f8-40d2-b74b-9b21a9df10a7"", ""mac_address"":""fa:16:3e:ac:95:a9"", ""name"":""port1"", ""network_id"":""abaf2e70-4305-4e8d-ac70-3e4cc5f66a07"", ""min_tx_rate"": 150, ""max_tx_rate"": 250, ""status"":""DOWN"", ""tenant_id"":""e4f50856753b4dc6afee5fa6b9b6c550"" } } Port Show: port-show Shows a Port. Request GET /v2.0/ports/358c03ee-20f8-40d2-b74b-9b21a9df10a7 Accept: application/json Response .. code-block:: javascript { ""port"":{ ""admin_state_up"":true, ""device_id"":""24df1d04-d5cb-41e1-8de5-61ed77c558df"", ""device_owner"":"""", ""fixed_ips"":[ { ""ip_address"":""10.0.0.4"", ""subnet_id"":""3b498f11-0a20-43ed-b992-0e4202d5f930"" } ], ""id"":""358c03ee-20f8-40d2-b74b-9b21a9df10a7"", ""mac_address"":""fa:16:3e:ac:95:a9"", ""name"":""port1"", ""network_id"":""abaf2e70-4305-4e8d-ac70-3e4cc5f66a07"", ""min_tx_rate"": 150, ""max_tx_rate"": 250, ""status"":""DOWN"", ""tenant_id"":""e4f50856753b4dc6afee5fa6b9b6c550"" } } Security Impact --------------- None Notifications Impact -------------------- None. Other End User Impact --------------------- The following neutron-client port APIs will be changed: port-create, port-update and port-show APIs will support the new rate attributes: for example: 1. neutron port-update <port_id> --min_tx_rate=100 2. neutron port-create {port-attributes} --max_tx_rate=200 Performance Impact ------------------ None IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- This feature can be used by other ML2 Mechanism drivers. Community Impact ---------------- None Alternatives ------------ As an alternative traffic rate support We can use QoS policies Spec, which can support rate-limit, priority and other QoS policies. Going forward, using QoS policies is the better solution, meanwhile we define only traffic rate support. [#qos_spec]_ As an alternative of changing get_device_details, we can add a new RPC, that gets the rate attributes from server. However, this alternative has overhead cost comparing to extending get_device_details. Implementation ============== Assignee(s) ----------- Primary assignee: Samer Deeb (samerd) Other contributors: Irena Berezovsky (irenab) Work Items ---------- * Add traffic rate extension API. * Add ML2 traffic rate extension driver. * Add Database support. * Change get_device_details RPC call. * Add support for applying rate in SRIOV NIC Agent. * Add relevant changes in neutron-client. * Add check for traffic rate support in functional tests. Dependencies ============ * iproute2 that supports min_tx_rate and max_tx_rate, must be installed on agent. [#iproute2_man]_ Testing ======= Unit-tests will be added to cover all new functionality. CI tests will be added (3rd party tests). Tempest Tests ------------- None Functional Tests ---------------- iproute2 functionality test already exists. [#iproute2_check]_ * checks state functionality * should add: check min/max tx_rate API Tests --------- Add API tests. Documentation Impact ==================== Both, API and, Admin guide will be updated. User Documentation ------------------ None Developer Documentation ----------------------- None References ========== .. [#qos_spec] QoS API bluprint: https://blueprints.launchpad.net/neutron/+spec/quantum-qos-api-db .. [#iproute2_man] Manual Page for iproute2: http://manpages.ubuntu.com/manpages/utopic/man8/ip-link.8.html .. [#iproute2_check] Add verification of iproute2 capabilities used by SR-IOV agent: https://bugs.launchpad.net/neutron/+bug/1349302 ",,374,0
openstack%2Fneutron-specs~master~I9a8fc3d02561dce6c45c5e83f071d6d5a05295fc,openstack/neutron-specs,master,I9a8fc3d02561dce6c45c5e83f071d6d5a05295fc,FWaaS needs to see both sides of the traffic and is stateful in that connections are tracked. This blue print address the issue of applying the firewall rules in a generic way to cover all the cases. Implements: blueprint kilo-dvr-fwaas Change-Id: I9a8fc3d02561dce6c45c5e83f071d6d5a05295fc Authored-by: badveli vishnuvardhan <badveli_vishnuus@yahoo.com>,ABANDONED,2014-12-09 04:04:40.000000000,2015-01-26 15:08:36.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 333}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 2592}, {'_account_id': 6995}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 9077}, {'_account_id': 9361}, {'_account_id': 10041}, {'_account_id': 10182}, {'_account_id': 10511}, {'_account_id': 11753}, {'_account_id': 12483}]","[{'number': 1, 'created': '2014-12-09 04:04:40.000000000', 'files': ['specs/kilo/kilo-dvr-fwaas.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5ed8aa3b7e45d9d61cef9338eeedc60a26715bea', 'message': 'FWaaS needs to see both sides of the traffic and is stateful in that connections are tracked.\nThis blue print address the issue of applying the firewall rules in a generic way to cover\nall the cases.\nImplements: blueprint kilo-dvr-fwaas\nChange-Id: I9a8fc3d02561dce6c45c5e83f071d6d5a05295fc\nAuthored-by: badveli vishnuvardhan <badveli_vishnuus@yahoo.com>\n'}]",8,140222,5ed8aa3b7e45d9d61cef9338eeedc60a26715bea,10,18,1,11753,,,0,"FWaaS needs to see both sides of the traffic and is stateful in that connections are tracked.
This blue print address the issue of applying the firewall rules in a generic way to cover
all the cases.
Implements: blueprint kilo-dvr-fwaas
Change-Id: I9a8fc3d02561dce6c45c5e83f071d6d5a05295fc
Authored-by: badveli vishnuvardhan <badveli_vishnuus@yahoo.com>
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/22/140222/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/kilo-dvr-fwaas.rst'],1,5ed8aa3b7e45d9d61cef9338eeedc60a26715bea,bp/kilo-dvr-fwaas,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== FWaaS changes to support Distributed Virtual Router(DVR) ======================================================== https://blueprints.launchpad.net/kilo/+spec/kilo-dvr-fwaas Problem Description ======================= FWaaS needs to see both sides of the traffic and is stateful in that connections are tracked. DVR by intent distributes the routing functionality across instances on compute nodes and all traffic is no longer routed through a centralized router. This brings up issue of applying firewall rules and as part of solving this in juno we applied the firewall rules on network node in SNAT Namespace and in IR Namespace on compute nodes. we intentionally skipped applying firewall rules in East-West case as traffic can be between VMs that are hosted on the same/across node. Proposed Change ================== To maintain the requirement of seeing both sides of the traffic we propose to add a bridge before the internal bridge and tunnel bridge and add the fwaas rules in the bridge, that way both directions of traffic can be inspected in a stateful manner. Also to inspect traffic between VMs that are hosted in the same node, firewall rules will be applied on router namespace. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact ---------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ Adding an additional bridge and packet hitting the firewall tules for traffic between VMs in the same node tnd on bridge may cause some problem to the performance. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ Another choice is to move the bridge above the internal bridge, in this case the firewall rules can be applied in a single place. But this would become like a linux bridge solution of security groups. Implementation ============== Assignee(s) ----------- Primary assignee: fwaas team Work Items ------------ * Creation of new bridge using veth pair and applying the firewall rules on the bridge. * firewall rules needs to applied on Router namespace to statefully inspect traffice between hosts on same node. Dependencies ============ None Testing ======= Unit tests, Tempest API tests. Tempest Tests ------------- Complete unit test coverage of the code will be included. Functional Tests ---------------- Complete test coverage of the code will be included. API Tests --------- Not applicable. Documentation Impact ==================== User Documentation ------------------ None. Developer Documentation ----------------------- None. References ========== https://blueprints.launchpad.net/neutron/+spec/neutron-dvr-fwaas ",,127,0
openstack%2Fneutron-specs~master~I1196367ad096d8d92c48bd7017309e5cb064b498,openstack/neutron-specs,master,I1196367ad096d8d92c48bd7017309e5cb064b498,Brocade MLX edge VPN driver,ABANDONED,2014-12-09 03:20:20.000000000,2015-01-26 15:08:35.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 2592}]","[{'number': 1, 'created': '2014-12-09 03:20:20.000000000', 'files': ['specs/kilo/brocade-mlx-edge-vpn-plugin.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/30b2945ce94dc58339512a7695207c0e6680c148', 'message': 'Brocade MLX edge VPN driver\n\nChange-Id: I1196367ad096d8d92c48bd7017309e5cb064b498\n'}]",2,140217,30b2945ce94dc58339512a7695207c0e6680c148,6,5,1,11833,,,0,"Brocade MLX edge VPN driver

Change-Id: I1196367ad096d8d92c48bd7017309e5cb064b498
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/17/140217/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/brocade-mlx-edge-vpn-plugin.rst'],1,30b2945ce94dc58339512a7695207c0e6680c148,bp/brocade-mlx-edge-vpn-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Brocade MLX Edge VPN Plugin ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/brocade-mlx-edge-vpn-plugin This spec introduces the Brocade MLX driver to provide the provisioning of an Edge VPN service on its MLX routers. This driver utilizes the framework currently being proposed to orchestrate an edge VPN service. Problem Description =================== Currently, OpenStack doesn't provide any means to orchestrate edge VPN services for inter-datacenter connectivity. A new framework to provision an edge VPN service has been proposed [1]. In order to provision an edge VPN on Brocade MLX routers, a Brocade MLX driver plugin will need to be implemented using the proposed framework for an edge VPN service. Proposed Change =============== This spec proposes a new vendor driver to provision an edge VPN service on Brocade MLX routers. This driver will comform to the APIs being proposed in [1]. Specifically, it provides the support for all the CRUD operations on provider-edge, tunnel, attachment-circuit, and mpls vpn service objects. Data Model Impact ----------------- None. REST API Impact --------------- None. Security Impact --------------- None Notifications Impact -------------------- None. Other End User Impact --------------------- When an edge VPN service has already been provisioned, the Neutron network created by the end user may become part of the VPN thereby extending the tenant connectivity across multiple datacenters. Performance Impact ------------------ None IPv6 Impact ----------- None. Other Deployer Impact --------------------- A service plugin implementing the edge VPN service must be installed in order for this driver to work. Developer Impact ---------------- None. Community Impact ---------------- It has been brought up in the last two OpenStack summits (Atlanta and Paris) that there is a gap in OpenStack when it comes to addressing the WAN orchestration. This attempt of defining the Edge-VPN use case addresses this gap. We have had several discussion on this in the Paris Kilo design summit. Below are some of the links mentioning this discussion: https://etherpad.openstack.org/p/neutron-kilo-lightning-talks https://etherpad.openstack.org/p/mplsvpn It was also discussed in the Kilo meetup in Paris as well. https://etherpad.openstack.org/p/neutron-kilo-meetup-slots Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: mhanif Other contributors: None Work Items ---------- A Brocade MLX driver will be implemented to provision the edge VPN service on Brocade MLX routers. This driver plugin will be driven using the RESTful APIs defined by the edge VPN service plugin [1]. Dependencies ============ Edge VPN service plugin being described in: https://review.openstack.org/#/c/136929 Testing ======= Tempest Tests ------------- * 3rd party testing will be provided (Brocade MLX CI). * Brocade MLX CI will report on all changes affecting this plugin. * Testing is done using devstack and Brocade MLX router. Functional Tests ---------------- None. API Tests --------- No new API tests are planned as no APIs are changed or introduced as part of this blueprint. Documentation Impact ==================== None. User Documentation ------------------ Brocade specific documentation will be updated on the availability of this functionality in Neutron. Developer Documentation ----------------------- None. References ========== * [1] https://review.openstack.org/#/c/136929 ",,175,0
openstack%2Fneutron-specs~master~Ibea74473bc10c7ef4e35a5f346f1a14676c18f2d,openstack/neutron-specs,master,Ibea74473bc10c7ef4e35a5f346f1a14676c18f2d,Add spec for infra-management-address-reservation,ABANDONED,2014-12-08 10:08:34.000000000,2015-01-26 15:08:34.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 5948}, {'_account_id': 13702}]","[{'number': 1, 'created': '2014-12-08 10:08:34.000000000', 'files': ['specs/kilo/infra-management-address-reservation.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa8948742c571c9b368861b1a29b1804e4470056', 'message': 'Add spec for infra-management-address-reservation\n\nBluePrint: infra-management-address-reservation\n\nChange-Id: Ibea74473bc10c7ef4e35a5f346f1a14676c18f2d\n'}]",0,139961,aa8948742c571c9b368861b1a29b1804e4470056,9,6,1,13702,,,0,"Add spec for infra-management-address-reservation

BluePrint: infra-management-address-reservation

Change-Id: Ibea74473bc10c7ef4e35a5f346f1a14676c18f2d
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/61/139961/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/infra-management-address-reservation.rst'],1,aa8948742c571c9b368861b1a29b1804e4470056,bp/infra-management-address-reservation,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Infra Management address Reservation ========================================== https://blueprints.launchpad.net/neutron/+spec/infra-management-address-reservation In case of the multi-tenant environment, cloud administrator wants to allocate the dedicated CIDR blocks into the external network. If the tenant user creates a subnet which is a duplication of the external network, the tenant user can not use the subnet normally. Today's neutron has a function that checks for duplicate between the subnets which are related to the same router. Cloud providers don't always assign all their CIDR blocks to the external network, but reserve some of them for the future use. However, there's no way for cloud providers to prevent tenants from using certain CIDR blocks. Problem Description =================== The blueprint is to improve the following issue. * There's no way to reserve CIDR blocks for the cloud provider. The cloud provider needs to reserve some CIDR blocks for the external netowrk when the clould provider build their multi tenants cloud. They usually reverve a large range of CIDR blocks and use them for some purposes. Usecase#1 Creates multiple external networks and subnets using some of the reserved CIDR blocks. Usecase#2 Creates tenant networks and subnets using some of the reserved CIDR blocks so that a tenant user VM can connect to the 3rd party service such as Big-data analyzer. * Usecase1: Separated External Network .. NOTE:: This is the most typical usecase because external networks would be added as the cloud grows. This figure shows that a tenant can specify the CIDR block as tenant-net:foo which is associated to ext-net2 subnet. ""ooooo"" : A network for infrastructure management ""====="" : A tenant network Usecase1:: ========== Internet | +--------+ |Hardware| |Gateway +-------------------------------------------------+ |Router | | +----+---+ | | | oooooooooooooooooooooooooooooooooooo ext-net1 : oooooooooo ext-net2 ... | : | : | +---+----+ : +---+----+ : +---+----+ |Neutron | : |Neutron | : |Neutron | | Router1| : | Router2| : | Router3| +---+----+ : +---+----+ : +---+----+ | : | : | |tenant-net:foo : |tenant-net:bar : |tenant-net:foobar ================ : ================== : ================== | | : | | : | | | | : | | : | | +-+--+ +-+--+ : +-+--+ +-+--+ : +-+--+ +-+--+ | VM1| | VM2| : | VM3| | VM4| : | VM5| | VM6| +----+ +----+ : +----+ +----+ : +----+ +----+ [Tenant: foo] : [Tenant: bar] : [Tenant: foobar] : : tenant boundary tenant boundary * Usecase2: 3rd Party Service Management network .. NOTE:: This is a usecase where the cloud provider provides a public cloud and some other 3rd party services. The cloud provider needs to reserve the network space that is used to connect to the VM instances in this case. The VM instances run the 3rd party service. ""ooooo"" : A network for infrastructure management ""====="" : A tenant network Usecase2:: ========== Internet | +--------+ |Hardware| |Gateway +-------------------------------------------------+ |Router | | +----+---+ | | | oooooooooooooooooo ext-network1 ooooooooooooooooooo ext-network2 | : | +---+----+ : +-----------+ +------+----+ |Neutron | : | Neutron | | Neutron | | Router1| : | Router2| | Router3| +---+----+ : +-+----+----+ +------+----+ | : | | | | +---------+ | | | | : | | ======================= : ooooooooo ========= | | : | | | | : | | +-+--+ +-+--+ : +-+-------------+------+ | VM1| | VM2| : | 3rd party service VM | +----+ +----+ : +----------------------+ [Tenant: customer] : [Tenant: 3rd_service] : tenant boundary Today, Neutron checks if a subnet of tenant network overlaps the subnet of the another network when a tenant connects a router to the network. If it does, the connection fails. Proposed Change =============== We propose the following functions: 1. Enable the cloud provider to reserve the CIDR blocks for managing the cloud environment. 2. Duplication check for CIDR block when the tenant user creates a subnet related to the tenant network. We add following configuration to /etc/neutron/neutron.conf. In /etc/neutron/neutron.conf:: # The CIDR network address for all infrastructure management entire_infra_management_range=100.64.0.0/10 If entire_infra_management_range is specified, duplication check for the CIDR blocks will run in creating a subnet. If entire_infra_management_range is not specified, it works as before. Data Model Impact ----------------- None. REST API Impact --------------- None. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ None. IPv6 Impact ----------- None. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Community Impact ---------------- It's the first time to propose to the public. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: y-furukawa-2 Other contributors: zou-yun Work Items ---------- * Add the configuration to /etc/neutron/neutron.conf * Add the duplication check logic into ""subnet-create"" * Run unit test Dependencies ============ None Testing ======= Unit tests Tempest Tests ------------- Subnet tests Functional Tests ---------------- Verify current subnet tests will pass. API Tests --------- Subnet API tests. Documentation Impact ==================== User Documentation ------------------ Please refer the section 'Proposed Change' Developer Documentation ----------------------- Please refer the section 'Proposed Change' References ========== None. ",,263,0
openstack%2Fneutron-specs~master~I750c122453c16e315b3bac92dfacb2026f5c7231,openstack/neutron-specs,master,I750c122453c16e315b3bac92dfacb2026f5c7231,l3-router: add mcafee ngfw l3 router plugin,ABANDONED,2014-11-13 13:23:31.000000000,2015-01-26 15:08:33.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 6995}, {'_account_id': 8645}, {'_account_id': 11114}, {'_account_id': 11347}, {'_account_id': 12525}]","[{'number': 1, 'created': '2014-11-13 13:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9b386bec6cf927989b2ea49219e7584f766d1fca', 'message': 'l3-router: add mcafee ngfw l3 router plugin\n\nChange-Id: I750c122453c16e315b3bac92dfacb2026f5c7231\nblueprint: mcafee-ngfw-l3-router\n'}, {'number': 2, 'created': '2014-11-19 03:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0165c8ef9aa786e9b5274768176f6c300c5935e2', 'message': 'l3-router: add mcafee ngfw l3 router plugin\n\nChange-Id: I750c122453c16e315b3bac92dfacb2026f5c7231\nblueprint: mcafee-ngfw-l3-router\n'}, {'number': 3, 'created': '2014-11-26 07:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/721c40f8e737d769f975aa2b831907951f5a3977', 'message': 'l3-router: add mcafee ngfw l3 router plugin\n\nChange-Id: I750c122453c16e315b3bac92dfacb2026f5c7231\nblueprint: mcafee-ngfw-l3-router\n'}, {'number': 4, 'created': '2014-12-08 05:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2d651b7bfd9001bc269f9dfd9dbea96da64eca4d', 'message': 'l3-router: add mcafee ngfw l3 router plugin\n\nChange-Id: I750c122453c16e315b3bac92dfacb2026f5c7231\nblueprint: mcafee-ngfw-l3-router\n'}, {'number': 5, 'created': '2014-12-11 08:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c18b4a660e27be5aa639a3f7423f38a476d0e15f', 'message': 'l3-router: add mcafee ngfw l3 router plugin\n\nChange-Id: I750c122453c16e315b3bac92dfacb2026f5c7231\nblueprint: mcafee-ngfw-l3-router\n'}, {'number': 6, 'created': '2014-12-12 07:56:32.000000000', 'files': ['specs/kilo/mcafee-ngfw-l3-router.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/66cff8d7721d34bb0075fda909b4f81d6c8fa84a', 'message': 'l3-router: add mcafee ngfw l3 router plugin\n\nChange-Id: I750c122453c16e315b3bac92dfacb2026f5c7231\nblueprint: mcafee-ngfw-l3-router\n'}]",20,134198,66cff8d7721d34bb0075fda909b4f81d6c8fa84a,36,12,6,333,,,0,"l3-router: add mcafee ngfw l3 router plugin

Change-Id: I750c122453c16e315b3bac92dfacb2026f5c7231
blueprint: mcafee-ngfw-l3-router
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/98/134198/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/mcafee-ngfw-l3-router.rst'],1,9b386bec6cf927989b2ea49219e7584f766d1fca,bp/mcafee-ngfw-fwaas-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================== Add L3 router plugin/driver for McAfee NGFW firewall ==================================================== https://blueprints.launchpad.net/neutron/+spec/mcafee-ngfw-l3-router Implements L3 router plugin/driver for McAfee ngfw firewall Problem Description =================== McAfee NGFW(next generation firewall) [ngfw]_ support/integration is missing. It provides cloud admin/users more choice. Proposed Change =============== Add a new l3 router plugin for NGFW. As a first step, L3 router features that the current Neutron supports will be added. The firewall features of NGFW will be addressed by next step. [ngfw-fwaas]_ A new l3 router plugin for NGFW will be introduced, which propagates user requests to NGFW management API server which is called SMC server. The new l3 router plugin directly communicates with SMC server without the current existing l3-agent. l3-agent isn't used. When necessary the plugin talks to nova to spin up/down necessary VMs, add/remove network/gateway interfaces. Firewall plugin part is written to help understanding. But it is out of the scope of this proposal. It will be addressed by the next step.[ngfw-fwaas]_ diagram for l3 router plugin and firewall driver:: +---------------------------------+ |Neutron server | | +---------+ +---------------+ | +------+ | |l3 plugin| |firewall plugin+-+----+ Nova | | +---+-----+ +-----+---------+ | +--+---+ +------|--------------|-----------+ | | | | | |openstack rpc | | | | | +-----|---------+ | | | | firewall| | | | +---+--+ agent| | | | |driver| | | | | +-+----+ | | | +---|-----------+ | | | | | | provider network | | | cloud admin manages | +-----+------------++ | |SMC VM(product) | | |(management server)|<-------------------+ spin up/down +----+--------------+ | | | | tenant network: | | cloud admin manages | +----+----------------+ | |SG-engine VM(product)| | |(actual service) |<-----------------+ spin up/down +--+--+---------------+ add/remove interfaces | | | |... | | tenant networks for cloud user When l3 routervm plugin(or modular l3 router plugin) [modular-router-plugin]_ is merged, This NGFW l3 plugin/agent part will be ported to drivers for l3 routervm plugin. Drivers for l3 routervm plungin, router and firewall driver for config agent will be implemented with the third phase. FWaaS part is written to help understanding. But it is out of scope of this proposal. It will be addressed by another blueprint.[ngfw-fwaas]_ diagram for implementation with l3-routervm plugin and config agent:: +---------------------------------+ |Neutron server | | +---------+ +---------------+ | +------+ | |l3 plugin| |firewall plugin+-+------+ Nova | | +---+-----+ +-----+---------+ | +--+---+ +------|--------------|-----------+ | | | | | |openstack rpc | | | | +---------------------|--------+ | | | | | | | +------+ +---+--+ | | | |router| |fwaas | | | | |driver| |driver| | | | +---+--+ +-+----+ | | | | | | | | | config | | | | | agent | | | +------|------------|----------+ | | | | | | provider network: | | | cloud admin manageses | +-----+------------++ | |SMC VM | | |(management server)|<---------------------+ spin up/down +----+--------------+ | | | | tenant network: | | cloud admin manages | +----+-----------+ | |SG-engine VM | | |(actual service)|<------------------------+ spin up/down +--+--+----------+ add/remove interfaces | | | |... | | tenant networks for cloud user Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Although this NGFW driver provides cloud users another choice for security, this section is for the potential impact of the system. Not for user impact. Notifications Impact -------------------- None Other End User Impact --------------------- User will have another choice of firewall provider. Performance Impact ------------------ None Other Deployer Impact --------------------- New l3 router plugin is introduced. The deployer who wants use NGFW needs to configure to use the new l3 router plugin. Developer Impact ---------------- None Community Impact ---------------- The NGFW FWaaS driver provides cloud user more choice of Neutron FWaaS. Thus it promotes Neutron FWaaS. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: rui-zang yalei-wang yamahata Other contributors: None Work Items ---------- * l3plugin * tests * third party CI Once l3 routervm plugin and config agent are merged * convert l3plugin into a driver for l3 routervm plugin * router driver for config agent Dependencies ============ * McAfee NGFW [ngfw]_ Testing ======= Third party testing would be added. Tempest Tests ------------- None Functional Tests ---------------- None API Tests --------- None Documentation Impact ==================== Admin guide will be updated. User Documentation ------------------ The another choice of l3 router backend will be added. Developer Documentation ----------------------- None References ========== .. [ngfw] http://www.mcafee.com/us/products/next-generation-firewall.aspx .. [ngfw-fwaas] firewall: add mcafee ngfw driver support * https://blueprints.launchpad.net/neutron/+spec/mcafee-ngfw-fwaas-driver * https://review.openstack.org/#/c/91286/ .. [modular-router-plugin] l3 plugin/agent for routervm * https://blueprints.launchpad.net/neutron/+spec/l3-plugin-for-routervm * https://review.openstack.org/#/c/105078/ ",,276,0
openstack%2Fneutron-specs~master~I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734,openstack/neutron-specs,master,I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734,Add spec for vif-plugging-bridge,ABANDONED,2014-10-28 05:24:15.000000000,2015-01-26 15:08:32.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 748}, {'_account_id': 1894}, {'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 8976}, {'_account_id': 11097}]","[{'number': 1, 'created': '2014-10-28 05:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4ae671bb95ae99be283b48e317976ce027da3aab', 'message': 'Add spec for vif-plugging-bridge\n\nThis blueprint proposes that Neutron generates all plugin specific metadata\nand instruct how to plug VIF to Nova, to drop Neutron plugin specific code\nfrom Nova (not VIF specific). Port-Binding metadata will be extended.\n\nThis blueprint focus on ML2 plugin with OVS and LB mechanism drivers.\n\nChange-Id: I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734\n'}, {'number': 2, 'created': '2014-10-28 05:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/546de092bd92058f9e3466729f8a607deeed7d86', 'message': 'Add spec for vif-plugging-bridge\n\nThis blueprint proposes that Neutron generates all plugin specific metadata\nand instruct how to plug VIF to Nova, to drop Neutron plugin specific code\nfrom Nova (not VIF specific). Port-Binding metadata will be extended.\n\nThis bp focus on ML2 plugin with OVS and LB mechanism drivers.\n\nChange-Id: I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734\n'}, {'number': 3, 'created': '2014-11-19 03:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c55f0f6bb7cb54e24ba04d86f356af0656a3a2f5', 'message': 'Add spec for vif-plugging-bridge\n\nChange-Id: I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734\n'}, {'number': 4, 'created': '2014-12-01 02:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa9c896376faaaf25d273221e7c98030ee447d2b', 'message': 'Add spec for vif-plugging-bridge\n\nChange-Id: I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734\n'}, {'number': 5, 'created': '2014-12-01 02:54:00.000000000', 'files': ['specs/kilo/vif-plugging-bridge.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3d4cf6fe3b5ed6855fd41f96391f2c010b399b5b', 'message': 'Add spec for vif-plugging-bridge\n\nChange-Id: I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734\n'}]",53,131342,3d4cf6fe3b5ed6855fd41f96391f2c010b399b5b,36,9,5,1894,,,0,"Add spec for vif-plugging-bridge

Change-Id: I5e230e49e63f15c2e7d202a85c06b3d9cd1e8734
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/42/131342/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/vif-plugging-bridge.rst'],1,4ae671bb95ae99be283b48e317976ce027da3aab,vif-plugging-bridge,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Send plugin specific metadata for VIF plugging ============================================== https://blueprints.launchpad.net/neutron/+spec/vif-plugging-metadata This blueprint proposes that Neutron generates all plugin specific metadata and instruct how to plug VIF to Nova, to drop Neutron plugin specific code from Nova (not VIF specific). Port-Binding metadata will be extended. This blueprint focus on ML2 plugin with OVS and LB mechanism drivers. Problem Description =================== Nova generates Neutron plugin-specific metadata. Currently, Neutron could pass some VIF information ('vif_type' and 'vif_details') regarding VIF plugging in Nova through port binding API. However, not all plugin or driver specific parameters are passed to Nova (e.g. bridge name to plug). Those missing parameters are generated in Nova by its own code [1]. Those parameters seems to specific to VIF type in the code, but those are potentially plugin/driver specific (e.g. 'vif_type'=='OVS' does not indicate 'plug into the integration bridge'). This makes harder to developers create new Neutron plugin/driver which requires Nova to merge a plugin specific change in Generic VIF Driver, when its VIF plugging is different from that of other plugins in Neutron. Proposed Change =============== There are two proposed changes in Neutron: * Make Neutron plugin/driver generate specific parameters for VIF plugging * Extend binding metadata in port-binding API The scope of these changes are ML2 plugin with OVS and LB mechanism drivers. For each mechanism driver, the following parameters will be generated and passed to Nova. ML2+LB: 'bridge', 'should_create_bridge' ML2+OVS: 'bridge', 'ovs_interfaceid' For ML2+LB, bridge name will be generated with network_id which can be found in context, and 'should_create_bridge' is always True. For ML2+OVS, Neutron server has to use the name of integration bridge. OVS agent has availability to configure integration bridge in each host, which means the name of integration bridge could be different form each host. To generate relevant bridge name, Neutron server will find 'integration_bridge from Agent.configurations in DB which would be reported by agents. Data Model Impact ----------------- None. REST API Impact --------------- Those driver specific metadata will be passed to Nova through port-binding API. This proposal adds the following fields in response of GET/POST/PUT ports: EXTENDED_BRIDGE_ATTRIBUTES_2_0 = { 'ports': { 'binding:bridge': { 'allow_post': False, 'allow_put': False, 'default': attributes.ATTR_NOT_SPECIFIED, 'enforce_policy': True, 'is_visible': True, }, 'binding:should_create_bridge': { 'allow_post': False, 'allow_put': False, 'default': attributes.ATTR_NOT_SPECIFIED, 'enforce_policy': True, 'is_visible': True }, } } These fields are optional and will be filled by plugin or driver in process of port-binding, and enforced by the following policy: ""get_port:binding:bridge"": ""rule:admin_only"", ""get_port:binding:should_create_bridge"": ""rule:admin_only"", Since 'ovs_interfaceid' is detail of VIF, so it should be passed within 'binding:vif_details' which is already existing field in port-binding extension. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ None. Other Deployer Impact --------------------- None. Developer Impact ---------------- To drop all plugin specific code from Nova, other plugin should be follow this change, but discussion of how other plugins would implement the feature is required. To drop all plugin specific code from Nova, other plugin should follow this change, but discussion of how other plugins would implement the feature is required. By this change and Nova acceptance of those metadata, developers can make new plugin easier. E.g. New OVS mechanism driver, which make virtualized network with individual bridge like LB driver does, can be integrated without modification of Generic VIF Driver in Nova. Community Impact ---------------- None. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Ryota Mibu (r-mibu) Work Items ---------- * LB mechanism driver: helper method to create bridge name, and make sure driver add it in port-binding * OVS mechanism driver: helper method to find integration bridge name from Agent.configurations, and make sure driver add it in port-binding * OVS agent: add integration bridge name to agent configurations in RPC message * Add new field in port API Dependencies ============ After land this feature, Nova would be changed to accept those parameters. Testing ======= Nothing will be changed in tempest tests. This is one of refactoring across Nova and Neutron. New API unit tests will be added to check response of port operation. Documentation Impact ==================== User Documentation ------------------ None. Developer Documentation ----------------------- Port API will be updated to add the optional field proposed in this blueprint. References ========== [1] releated Nova code in Juno, https://github.com/openstack/nova/blob/2014.2/nova/network/neutronv2/api.py#L1293-1310 [2] Ports binding extended attributes (ports) in Neutron v2.0 API, http://developer.openstack.org/api-ref-networking-v2.html#port_binding-ext ",,210,0
openstack%2Fneutron-specs~master~I72619965afdf38a05aef2ea83cb3e6c26635e2fb,openstack/neutron-specs,master,I72619965afdf38a05aef2ea83cb3e6c26635e2fb,Support IPv6 DVRs,ABANDONED,2014-11-24 20:00:59.000000000,2015-01-26 15:08:31.000000000,,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 447}, {'_account_id': 518}, {'_account_id': 669}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 3217}, {'_account_id': 4656}, {'_account_id': 6524}, {'_account_id': 6620}, {'_account_id': 6685}, {'_account_id': 7183}, {'_account_id': 8172}, {'_account_id': 10257}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-11-24 20:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fbabd631f16a73ddbcd3ec00a99dce657cb6f74a', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 2, 'created': '2014-11-24 21:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ab86924b53ae0d1eba5806fcc2677ac4ac21eb94', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 3, 'created': '2014-11-24 23:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/612c47b7cf036c33e8d95247f7888630e7fef130', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 4, 'created': '2014-12-04 18:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bbdd0fe081de27907475ce6f9c5547d6cf1c8aa7', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 5, 'created': '2014-12-04 18:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7e4222b4e2f6b669787d186e4095bcf992d3ede9', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 6, 'created': '2014-12-08 19:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f2fd9272a67e62c765235dc818f1921459af639d', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 7, 'created': '2014-12-08 19:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dc03a8798cac522c0bb9c63931385e53414d356a', 'message': 'Support IPv6 routers and DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}, {'number': 8, 'created': '2014-12-18 04:16:42.000000000', 'files': ['specs/kilo/ipv6-router-and-dvr.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/78f01d6c3466f5d2d2ad1729fe79e4704cea39db', 'message': 'Support IPv6 DVRs\n\nChange-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb\nImplements: blueprint ipv6-router-and-dvr\n'}]",59,136878,78f01d6c3466f5d2d2ad1729fe79e4704cea39db,39,19,8,6685,,,0,"Support IPv6 DVRs

Change-Id: I72619965afdf38a05aef2ea83cb3e6c26635e2fb
Implements: blueprint ipv6-router-and-dvr
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/78/136878/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ipv6-router-and-dvr.rst'],1,fbabd631f16a73ddbcd3ec00a99dce657cb6f74a,bp/ipv6-router-and-dvr,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================== IPv6 Router and DVR =================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/ipv6-router-and-dvr IPv6 and IPv4 have significant differences, not only on the IP address format, but also on the protocol operations. This blueprint will discuss how to support neutron IPv6 router and DVR that provides compatible functionalities as IPv4 does currently. It also discusses if the floating IP can be supported in IPv6. Problem Description =================== There are some significant differences between IPv6 and IPv4. Most importantly, * There are no shortage of IPv6 addresses; On the contrary, IPv4 addresses are being exhausted. * IPv6 RA plays an essential part in auto configuring default route and addreses * Each IPv6 port usually has a link local address (LLA, FE80::/10) that is generated automatically as an EUI64 address. This address is essential in protocol operations. For example, the next hop address distributed by RA is a LLA address. * NAT is considered a bad practice in an IPv6 network. Corresponding to IPv4's private IP addresses (for example, 10.x.x.x), IPv6 defines its own Unique Link Local (ULA, fd00::/8, and fc00::/8) addresses. These addresses are designed not to be globally routable. IPv6 defines Global Unique Addresses (GUA) that can be routed in the global IPv6 internet. With the above in mind, operations in IPv6 routers will be different from those in IPv4. Proposed Change =============== First of all, let's go over the existing IPv4 routers and DVRs Neutron IPv4 Router ------------------- :: +----+ +----+ +----+ | | | | | | | VM | | VM | +----------+ | VM | | | | | | | +--+-+ +--+-+ +--+-+ | SG | SG | SG +-------+------------ +---+-------------------+------+ | Tenant Private Network +---------+--------+ 10.0.0.0/24 | Neutron qr-xxx | | Router 10.0.0.1 | | | | NAT | +---------+--------+ | qg-xxx | 172.24.1.1 +------------------------+--------------------------+ Public Network 172.24.1.0/24 * A L3 node is a node where neutron l3 agent is running. A scheduler is responsible to place a router to a L3 node. * Each VM gets a private IP address * Each VM has a default route with the next hop to be 10.0.0.1 Without floating IP +++++++++++++++++++ * Packets to/from the public network will perform NAT. The source IP of outgoing packets will be changed to 172.24.1.1 before they go out of qg-xxx. The Packets coming into qg-xxx with destination IP 172.24.1.1 will get translated to the corresponding 10.0.0.x before it's sent to the qr-xxx router port. * With source NAT, it's not possible to initiate communications from the public network to the VM With floating IP ++++++++++++++++ * Packets to/from the public network will perform NAT. The source IP of outgoing packets will be changed to the floating IP associated with the VM before they go out of qg-xxx. The packets coming into qg-xxx with the destination IP being the floating IP will get translated to the VM's 10.0.0.x before it's sent to the qr-xxx router port. * Since the VM is associated with a floating IP, communications initiated from the public network to the VM is now possible with proper security rules added. In any case, Default security group rules makes sure that no IP and Mac spoofing is possible, and communications initiated from outside the VM will only be allowed with source IPs in a well-defined ip set that basically includes the VMs on the same network. Neutron IPv4 DVR ---------------- :: +----+ +----+ | +----+ +----+ | | VM | | VM | | | VM | | VM | | | | +-+ | | | | | +-+ | | | Tenant Private +--+-+ +--+-+ | +--+-+ +--+-+ | Network |SG |SG | |SG |SG | 10.0.0.0/24 +------+-----+----+----------+-----+----+-------------+-----------+---+ | | | | | | |qr-xxx | qr-xxx | | qr-xxx | qr-xxx | |10.0.0.1 | 10.0.0.1| | 10.0.0.1| 10.0.0.2| +-----+---+ | +-----+---+ | +-------+-+ +------+--+ | qrouter | | | qrouter | | | qrouter | | SNAT NS | | NS | | | NS | | | NS | | | | | +---+ | | | | | | | | NAT | | | NAT | | | NAT | | NAT | +-----+---+ | +-----+---+ | +---------+ +-+--+----+ | | | | |qg-xxx | | | | |172.24.1.1 +-----+---+ | +-----+---+ | | | FIP NS | | | FIP NS | | | | | | | | | | | | +---+ | | | | | | | | | | | +--+--+---+ | +--+--+---+ | | |fg-xxx + |fg-xxx + | |172.24.1.3 |172.24.1.2 | +---------+---------------------+----------------------------+---------+ Public Network 172.24.1.0/24 In a fully distributed cloud, a router will be placed to every compute node where there are VMs that the router serves. As illustrated in above: * All the neutron qrouter NSes except for the default SNAT NS has the same IP address 10.0.0.1 on their qr-xxx interfaces that are facing to the tenant private network * Given that all the qr-xxx interfaces has the same IP address 10.0.0.1, which is also the next hop for the default route installed in the VMs, OVS flows are installed on the integration and tunnel bridges (which is not shown in above) to make sure that ARP packets are properly handled. In addition, L2 pop is required so that ARP requests to non-local VMs are answered/proxyed by the local qrouter NS. * Although it's not depicted in the above diagram, multiple qrouter NSes that share the same public gateway are connected to the same FIP NS. * The FIP NS installes host routes for every floating IPs that are allocated to the VMs that are running on the compute node. These host routes make sure that packets are sent to the right qrouter NS. Meanwhile, it enables proxy_arp on the fg-xxx interface so that these floating IPs are accesible from the public network. * A VM without a floating IP associated is serviced by the SNAT NS. IP rule based routing tables are set up properly in the qrouter NS so that packets are sent either to the FIP NS or to the SNAT NS. * Note that IPv4 DVR currently works only with tunnel data network. IPv6 Router with Tenant Network Using GUA ----------------------------------------- :: +----+ +----+ | | | | | VM | +----+ | VM | | | | | +--+-+ +--+-+ | | | | 2001.cafe.cafe.cafe::/64 +------+------+------+----------------------------+ | Tenant Private Network | +------------+-------------------------+ | IPv6 qr-xxx | | Router fe80::21b:21ff:febf:4c8 | | | | RADVD | | | | qg-xxx | | fe80::f816:3eff:fe94:f6f1 | +-------------+------------------------+ | | +--------------+----------------------------------+ Public Network * VM may obtain its address with prefix 2001.cafe.cafe.cafe::/64 from either DHCPv6 or RADVD. Regardless, RADVD advertises a default route into qr-xxx, as a result, VM will install a default route and a route for the prefix 2001.cafe.cafe.cafe::/64 as in below: :: Destination Next Hop If ::/0 fe80::21b:21ff:febf:4c8 eth0 2001.cafe.cafe.cafe::/64 :: eth0 * Does the qr-xxx interface needs to be assigned with an address from the prefix 2001.cafe.cafe.cafe::/64 other than the LLA address it already has? The answer is that it's not necessary. If it's assigned with an address, the route to the prefix will be automatically installed; Otherwise, the route can be created by ip route utility. * The IPv6 router installs a default route with its next hop being the upstream router, and a route to the prefix 2001.cafe.cafe.cafe::/64 :: Destination Next Hop If ::/0 fe80::21c:3abb:eecf:5c9 qg-xxx 2001.cafe.cafe.cafe::/64 :: qr-xxx * Note that the qg-xxx doesn't need to be assigned with an address other than the automatically generated LLA. Therefore, the semantics of the existing neutron router-gateway-set API will be different for IPv6. There is no need to create a public network with external router enabled any more. What's really needed here is to inform neutron of the next hop to reach the upstream router and of creating a gateway port in the neutron router. * the upstream router can simply install a route for the prefix 2001.cafe.cafe.cafe::/64 with its next hop to be the qg-xxx interface's LLA address. * Default SG rules still apply. Therefore, communication initiated from the internet is not possible unless SG rules are added to enable it. IPv6 Router with ULA and Floating IP ------------------------------------ :: +-----------------+ +-----------------+ | VM | | VM | | | | | | fd00:1234::1/64 | | fd00:1234::2/64 | | 2001:abcd::1/128| | 2001:abcd::2/128| +-------+---------+ +------+----------+ | | | | fd00:1234::/64 +------+------+----------------+------+-----------+ | Tenant Private Network | +---+--------++------------------------+ | IPv6 qr-xxx | | Router fe80::21b:21ff:febf:4c8 | | | | RADVD And Host Routes | | | | qg-xxx | | fe80::f816:3eff:fe94:f6f1 | +-------------+------------------------+ | | +--------------+----------------------------------+ Public Network What is a floating IP? In IPv4, a floating IP is an IPv4 address that can be associated with a VM. The VM can then use the IP address to communicate with the internet. The IP address is not assigned to the VM's network interface, however. IPv4 router uses NAT to perform address translation between the VM's private IP address and the floating IP. Can IPv6 use the floating IP APIs even though NAT66 is not recommended? The answer is yes with a catch. In the above diagram, the tenant network uses the ULA address fd00::1234::/64. The same floatingip API that supports IPv4 can be enhanced to assign an IPv6 floating IP to a VM. As a result, the VM's network interface will have two IPv6 addresses: one from the tenant private network, one being the floatingip associated with the VM using the floatingip API. There are two ways to assign the floating IP to the VM: DHCPv6 or RADVD with targeted router advertisement. The prefix length with RA will be 128 bit. Host routes will be installed in the neutron router so that incoming packets can be properly routed to the VM. Given the above diagram: IPv6 router routes ++++++++++++++++++ :: Destination Next Hop If 2001.abcd::1/64 :: gr-xxx 2001.abcd::2/64 :: gr-xxx ::/0 fe80::21c:3abb:eecf:5c9 qg-xxx VM routes +++++++++ :: Destination Next Hop If 2001.abcd::1/128 :: eth0 fd00.1234::/64 :: eth0 ::/0 fe80::21b:21ff:febf:4c8 eth0 With the above VM routes, communication with the internet will be using 2001.abcd::1 and within the tenant network using fd00.1234::1. What if a VM doesn't have an associated floatingip? Well, since it has only a ULA, then it can only communicate within its tenant network. There are a few ways to solve this problem if IPv4 equivalent behavior is desired: * use NAT for VMs that don't have associated floating IPs. * well, you can always associate a floating IP with the VM. * use a proxy server. For the purpose of communicating with the internet, it may not be a bad idea to use NAT at all. And it's simple! The difference from IPv4 is that no NAT is performed if a VM has an associated floatingips. Use of a proxy server requires more work. If NAT is enabled for VMs without a floating IP, then it's necessary to assign the qg-xxx interface with an IP address from the prefix 2001.abcd::/64. Ok, so GUA or floating IP for internet access? It's a matter of choice. As can be seen, implementation of the floating IP API is different between IPv4 and IPv6. But both of them provide the same behavior to the tenant. Floating ip implementation for IPv6 requires host routes installed in the neutron router. With GUA, it is a bit simpler because the VM uses the same address to communicate internally and with the internet. IPv6 DVR -------- With fully distributed virtual routers in a cloud, the router resides on every compute host. A logical topology is depicted in below: :: +-----+ +-----+ +-----+ | | | | | | | VM | | VM | +-------+ | VM | | | | | | | +--+--+ +--+--+ +--+--+ | | | | | | +------+----+----------+-+-------------+--++-----------+ | | Tenant Private|Network | | | +-----++-------+ +-----++-------+ +--+---+-------+ | qr-xxx | | qr-xxx | | qr-xxx | | MAC1 | | MAC2 | | MACn | | fe80::MAC1| | fe80::MAC2| | fe80::MACn| | | | | | | | Neutron | | Neutron | +-+ | Neutron | | DVR RADVD | | DVR RADVD | | DVR RADVD | | | | | | | | qg-xxx | | qg-xxx | | qg-xxx | | MACa | | MACb | | MACm | | fe80::MACa| | fe80::MACb| | fe80::MACm| +------+-------+ +------+-------+ +---+----------+ | | | | | | +-------+-----------------+-----------------+-----------+ Public Network In the following, when we say all the VMs on a host, we mean to say all the VMs that are connected to the same tenant network and running on that host. All the VMs and DVRs are connected to the same tenant network, and each DVR has a link to the public network. The tenant network is a LAN network. Also keep in mind that the DVRs are not redundant to each other, and except for the DVRs located on the network node, each of them resides on a compute node and serves the VMs hosted by that compute node only. So how a VM knows which router is its next hop to the internet? In above, we've described the current IPv4 DVR solution. In that solution, all the qr-xxx interfaces have the same MAC address and IP address. All VMs have the same next hop in their default routes. OVS flows are used to prevent ARP ambiguity and makes sure that outgoing packets always go to the DVR located on the same host. In addition, FIP NS is used to support floating IPs. proxy_arp is enabled on the qg-xxx interface to make sure the upstream router sends packets to the right DVR. Considering that IPv6 addresses are plenty, the solution can be simplified a lot. In a matter of fact, in the IPv4 case, the tenant network uses IPv4 private addresses. So theoretically, it should have enough addresses to support a tenant. So why not use different IP addresses for the qr-xxx interfaces? As known from above, we don't have to assign an address to the qg-xxx interface other than the automatically generated LLA address. So for IPv6, each qg-xxx interface already has a different IPv6 address. The same is true for the qr-xxx interface as well. Let's say each qr-xxx has a different MAC address and LLA address. And an RADVD is running in each of the DVRs to send RAs to the qr-xxx interfaces. Each VM has a security rule that permits RAs from a particular source IP. As a result, all the VMs residing on a host will permit RAs that's sent by the DVR running on that host with the qr-xxx interface's LLA address as the RA's source IP. Since each of the qr-xxx interfaces has a different LLA address and MAC address, neighbour discovery ambiguity doesn't exist. ALL the VMs on a host will have the same default route with its DVR's qr-xxx interface's LLA address as its next hop. And VMs on different hosts will have different default route. In the above description, we talk about all the VMs on a host and their local DVR to facilitate the discussion. This can be generalized as a VM and the router that provides routing service for it. When provisioning a VM with its L3 service, the VM's servicing router (VSR) should be located from the database and the RA security rule should be installed. As a result, centralized router can be supported as is. For east-west traffic, assuming a DVR has two tenant facing interfaces named as qr-xxx and qr-yyy from tenant network A and B, respectively. If a VM on tenant network A sends a packet to another VM on tenant network B, the packet will follow the default route and enter the local DVR from the interface qr-xxx. The DVR finds a route to the network B with outgoing interface as qr-yyy. The DVR sends an Neighbour Discovery (ND) to the tenant network B. The VM on the network B will answer the ND with a Neighbor Advertisment (NA). The DVR forwards the packet to the VM on the network B. For north-south traffic, all the qg-xxx interfaces are on the same LAN with the upstream router (not shown in the above diagram). Since a default route is installed in every DVRs with the outgoing interface to be the qg-xxx interface, outgoing traffic is sent out of the qg-xxx interface, and the upstream router forwards it to the internet. But how the upstream router forwards incoming traffic to VMs? If the upstream router is under neutron's control, it will be possible to install host routes and prepopulate the IP neighbors. In this discussion, we assume that the upstream router is not under neutron's control. In the following, we'll discuss south-north traffic forwarding in two different scenarios: GUA and floating IP IPv6 DVR with GUA ----------------- In the case that the GUA 2001.abcd::/64 is used for the tenant network, a route can be pre-installed in the upstream router as in below: :: Destination Next Hop If 2001.abcd::/64 :: <If to the cloud> Since there are many DVRs downstream that route the prefix 2001.abcd::/64, the next hop can not be specified. Therefore, for a packet destined to a VM, the upstream router needs to send ND message to discover the VM's MAC address. Since VMs are behind the DVRs, the DVRs have to enable Neighbor Discovery Proxy (NDP) on the qg-xxx interfaces. Setup of each DVR includes: * Enable proxy_ndp on the qg-xxx interface * For each VM this DVR serves that has a GUA address, add a neighour proxy on the qg-xxx interface As a result, each DVR will answer the ND requests for the VMs under its service. IPv6 DVR with floating IP ------------------------- The fundamental difference between GUA and floating IP is that the GUA prefix belongs to a particular tenant network, while the floating IP network is a separate network itself. Or more precisely, the floating IP network is the public network depicted in the above diagram. The setup in the upstream router is the same. Assuming the floating IP network uses the prefix 2001.dcba::/64, a route can be pre-installed in the upstream router as in below: :: Destination Next Hop If 2001.dcba::/64 :: <If to the cloud> Since there are many DVRs downstream that route the prefix 2001.dcba::/64, the next hop can not be specified. Therefore, for a packet destined to a VM, the upstream router needs to send ND message to discover the VM's MAC address. Since VMs are behind the DVRs, the DVRs have to enable Neighbor Discovery Proxy (NDP) on the qg-xxx interfaces. Setup of each DVR includes: * Enable proxy_ndp on the qg-xxx interface * install a route for the prefix 2001.dcba::/64 as in below :: Destination Next Hop If 2001.dcba::/64 :: qg-xxx * For each VM this DVR serves that has a floating IP address, add a neighour proxy on the qg-xxx interface * For each VM this DVR serves that has a floating IP address, add a host route as in below: :: Destination Next Hop If 2001.dcba::1/64 :: qr-xxx With the above setup, each DVR will answer the ND requests for the VMs with a floating IP under its service. Inter-VM communication with floating IPs can take place in the following scenarios: * if the VMs are under the same DVR, the host routes installed in the DVR will forward the packets in between them * if the VMs are under different DVRs, the 2001.dcba::/64 route will be used first to forward the packet to its destination DVR, which then forwards it to the destination VM A Cloud With Mixed GUA and Floating IP -------------------------------------- Not sure why it would be used, but it's possible to mix GUA and floating IPs in a DVR with further study. Multiple DVRs Sharing The Same Public Network --------------------------------------------- In the current IPv4 DVR, it uses a FIP NS to provide this support. The FIP NS is set up so that the incoming packet is sent to the correct qrouter NS. With IPv6, the FIP NS is not used. A logical topology for IPv6 is depicted in below: :: +------+-------+ +------+-------+ +------+-------+ | qr+xxx | | qr+xxx | | qr+xxx | | MAC1 | | MAC2 | | MACn | | fe80::MAC1| | fe80::MAC2| | fe80::MACn| | | | | | | | Neutron | | Neutron | +-+ | Neutron | | DVR RADVD | | DVR RADVD | | DVR RADVD | | | | | | | | qg+xxx | | qg+xxx | | qg+xxx | | MACa | | MACb | | MACm | | fe80::MACa| | fe80::MACb| | fe80::MACm| +-------+------+ +-------+------+ +-------+------+ | | | | | | +-------+-----------------+--------------------+------+ | | | | | br-ex bridge | | | | | +-------------------------+---------------------------+ | | Public Network +-------------------------+---------------------------+ All the DVRs sharing the same public network is connected by a br-ex bridge. The south bound interface on the br-ex bridge is connected to the public network and therefore the upstream router. As can be seen from the diagram, essentially all the DVRs and the upstream router are on the same LAN for the public network. The upsteam router will make sure that the incoming packet is forwarded to the right DVR which then delivers it to the destination VM. This is achieved by enabling proxy_ndp and setting up NDP entries in each of the DVRs. Data Model Impact ----------------- TBD REST API Impact --------------- TBD Security Impact --------------- TBD Notifications Impact -------------------- None Other End User Impact --------------------- TBD Performance Impact ------------------ RA and ND are essential for an IPv6 network to operate properly. With IPv6 DVR, it requires ND proxy to be setup in all the DVRs. To reduce the RA and ND traffic, some optimizations can be made such as: * a local DVR's RAs can be blocked from leaving the outgoing interface on the compute node. This will reduce the RA traffic on the tenant network. * if the upstream router is under neutron's control, host routes can be installed and ND entries can be pre-populated in the case that ND traffic on the public network needs to be reduced for performance/thoroughput reasons. This is left for further study. ND entries for the VMs don't need to be pre-populated in the DVRs. This is because not all the VMs are talking to each other, and pre-populating them is a waste of resources. Rather the ND mechanism should be in play and ND entries established as needed basis. Other Deployer Impact --------------------- TBD Developer Impact ---------------- TBD Community Impact ---------------- TBD Alternatives ------------ TBD Implementation ============== To implement the above proposal, neutron (or rather l3 agent) needs to create a port for each of the qr-xxx and qg-xxx interfaces on each of the DVRs. The number of qr-xxx and qg-xxx ports are linear to the number of the tenant networks and the number of DVRs. Assignee(s) ----------- Primary assignee: baoli Other contributors: xuhanp Abisheb Subramanian Work Items ---------- TBD Dependencies ============ TBD Testing ======= TBD Tempest Tests ------------- TBD Functional Tests ---------------- TBD API Tests --------- TBD Documentation Impact ==================== TBD User Documentation ------------------ TBD Developer Documentation ----------------------- TBD References ========== * IPv4 DVR blueprint * IPv6 RFCs related to this work ",,683,0
openstack%2Fneutron-specs~master~Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a,openstack/neutron-specs,master,Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a,Enable setting default rules for default security group,ABANDONED,2014-06-10 07:27:33.000000000,2015-01-26 15:08:29.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 1131}, {'_account_id': 1580}, {'_account_id': 2035}, {'_account_id': 4395}, {'_account_id': 6732}, {'_account_id': 8290}, {'_account_id': 8788}, {'_account_id': 8976}, {'_account_id': 9820}]","[{'number': 1, 'created': '2014-06-10 07:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a467288a6dacd75685838c7f8fb8d24f250108a', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}, {'number': 2, 'created': '2014-06-10 07:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cf2f4ddf1796050b86a871a9974c8aad34b5acd4', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}, {'number': 3, 'created': '2014-06-19 05:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/91c5fcef4e4069b53b45e58b90dce33ed435b24d', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}, {'number': 4, 'created': '2014-06-19 05:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bbac46fdf3b43430492918867bfe68a53c090754', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}, {'number': 5, 'created': '2014-06-23 07:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a69365c4ec65d8fc9171773d00fa6613f670b14', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}, {'number': 6, 'created': '2014-06-25 06:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5af6dbdd287c52bd1154083ade3994512c227d74', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}, {'number': 7, 'created': '2014-12-18 00:50:46.000000000', 'files': ['specs/juno/default-rules-for-default-security-group.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c10d6e3168b7082d2e586e2683ce98f4e2c3db35', 'message': 'Enable setting default rules for default security group\n\nBlueprint: default-rules-for-default-security-group\nChange-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a\n'}]",38,98966,c10d6e3168b7082d2e586e2683ce98f4e2c3db35,48,12,7,6732,,,0,"Enable setting default rules for default security group

Blueprint: default-rules-for-default-security-group
Change-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/66/98966/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/default-rules-for-default-security-group.rst'],1,8a467288a6dacd75685838c7f8fb8d24f250108a,bp/default-rules-for-default-security-group,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Enable setting default rules for default security group ========================================== https://blueprints.launchpad.net/neutron/+spec/default-rules-for-default-security-group Problem description =================== Security Group is a widely used extension in the OpenStack. We can use this feature in nova, no matter you choose nova-network for networking between VMs or use the OpenStack Networking service (neutron) for networking. When using nova-network, there is a hook mechanism to add customized rules when creating default security groups, so that we don't have to remind users to modify default security group at the first time they create instances. But this feature is lost when using neutron with nova. It's worthwhile to get this useful feature back to neutron. Proposed change =============== Alternatives ------------ Without this extension, the issue can be addressed by configuring the default security group rules for every tenant. However, it's a repetitive task and not convenient for the administrator and cloud operator. Data model impact ----------------- This extension will add one mapping database table. :: class SecurityGroupDefaultRule(model_base.BASEV2, models_v2.HasId): """"""Represents a v2 neutron security group default rule."""""" direction = sa.Column(sa.Enum('ingress', 'egress', name='securitygrouprules_direction')) ethertype = sa.Column(sa.String(40)) protocol = sa.Column(sa.String(40)) port_range_min = sa.Column(sa.Integer) port_range_max = sa.Column(sa.Integer) remote_ip_prefix = sa.Column(sa.String(255)) REST API impact --------------- In this bp, we will add following new resource collection and will provide create/index/delete/show mothods like what nova does. :: 'security_group_default_rules': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'direction': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:values': ['ingress', 'egress']}}, 'protocol': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': convert_protocol}, 'port_range_min': {'allow_post': True, 'allow_put': False, 'convert_to': convert_validate_port_value, 'default': None, 'is_visible': True}, 'port_range_max': {'allow_post': True, 'allow_put': False, 'convert_to': convert_validate_port_value, 'default': None, 'is_visible': True}, 'ethertype': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': 'IPv4', 'convert_to': convert_ethertype_to_case_insensitive, 'validate': {'type:values': ['IPv4', 'IPv6']}}, 'remote_ip_prefix': {'allow_post': True, 'allow_put': False, 'default': None, 'is_visible': True, 'convert_to': convert_ip_prefix_to_cidr}, } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- We can altertively provide this feature through python-neutronclient, but it depends on whether this need is urgent or not. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- We will get default security group rules in neutron\db\securitygroups_db.py from the database, so there are no impacts on security group implementation of various plugins. Implementation ============== Assignee(s) ----------- Primary assignee: Lingxian Kong Other contributors: None Work Items ---------- * Add database schema for 'SecurityGroupDefaultRule' * Add an extension for 'SecurityGroupDefaultRule' operation * Add default rules when creating default security group per tenant Dependencies ============ None Testing ======= * Unit tests will be added. * Tempest tests need to be added. Documentation Impact ==================== Usage of 'security group default rules' will be added to API reference document. References ========== * os-security-group-default-rules feature in nova https://blueprints.launchpad.net/nova/+spec/default-rules-for-default-security-group ",,164,0
openstack%2Fneutron-specs~master~Ib7ba7a45344853baf1d18fa7657c6cac47250dcc,openstack/neutron-specs,master,Ib7ba7a45344853baf1d18fa7657c6cac47250dcc,"Update TLS, L7 and reference driver change specs",ABANDONED,2014-12-13 06:56:56.000000000,2015-01-26 15:08:28.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 10273}, {'_account_id': 11685}]","[{'number': 1, 'created': '2014-12-13 06:56:56.000000000', 'files': ['specs/kilo/lbaas-l7-rules.rst', 'specs/kilo/lbaas-ref-driver-impl-tls.rst', 'specs/kilo/lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface.rst', 'specs/kilo/lbaas-tls.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/450a41009900f4cd5edd6a10e71cb995344b9805', 'message': 'Update TLS, L7 and reference driver change specs\n\nSince these specs were written, there have been some subtle changes\nto how we intend Neutron LBaaS to interact with Barbican, as well\nas how the reference implementation of LBaaS will work with v2. This\ncommit should update these specs to reflect these changes.\n\nChange-Id: Ib7ba7a45344853baf1d18fa7657c6cac47250dcc\n'}]",27,141544,450a41009900f4cd5edd6a10e71cb995344b9805,9,5,1,11685,,,0,"Update TLS, L7 and reference driver change specs

Since these specs were written, there have been some subtle changes
to how we intend Neutron LBaaS to interact with Barbican, as well
as how the reference implementation of LBaaS will work with v2. This
commit should update these specs to reflect these changes.

Change-Id: Ib7ba7a45344853baf1d18fa7657c6cac47250dcc
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/44/141544/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/lbaas-l7-rules.rst', 'specs/kilo/lbaas-ref-driver-impl-tls.rst', 'specs/kilo/lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface.rst', 'specs/kilo/lbaas-tls.rst']",4,450a41009900f4cd5edd6a10e71cb995344b9805,update-lbaasv2-specs,"L7 Policies application, etc.*Note: This document references the new LBaaS v2 object model proposed at https://review.openstack.org/#/c/89903* *Note: This document does not consider the flavors framework proposed atBefore the flavors framework is in place, specific back-end drivers which do not support TLS termination should throw an exception stating a lack of TLS support if they get a request for a listener with TLS termination configured. This document specifies a ""core"" feature set with which every back-end implementing TLS termination must comply. TLS termination capabilities of various back-end implementations may differ in future releases, thus flavor aspects may be a part of the TLS termintion capabilities specification* *Note: Horizon project changes are not a part of this specification.* * Tenant will manage his TLS certificates using Barbican. Certificates will be stored in Barbican secure containers. * Barbican is in charge of container lifecycle management, container classification and validation. LBaaS TLS capabilities require a specific container type (TLS). Only containers of this type will be considered valid for configuring TLS termination on a listener. Any invalid container usage will raise an error. * Barbican will also manage a list of interested consumers (registrants) for each container. See the spec at: https://review.openstack.org/#/c/99516 Neutron LBaaS (a consumer in this Barbican context) will not use a regular GET request for a container resource in order to get the container data. Instead, it will use a POST request to register a listener as one of the container's consumers (see http://admin-api/v1/containers/{container-uuid}/consumers ). This POST request will have the following info: ""URL"": ""https://lbaas.myurl.net/lbaas/listeners/<listener_id>"" } As a response, LBaaS will get the container's data as if the container's resource GET request were used. Barbican will store the consumer's data (LBaaS listener instance URL) in its database so this info can be used for getting all consumers of a specific TLS container. This should be helpful to ensure users are less likely to delete containers still in use by LBaaS. As a result, the Neutron LBaaS TLS implementation is required to: * Use a POST request to the Barbican container's consumers resource in order to get the container's data and register the listener with Barbican. * Perform a DELETE request to the container's consumers resource when the listener stops using the container. * The Barbican TLS container will contain PEM encoded data. Specific back-end implementations may convert the certificate data to other formats (eg. DER) as necessary. * In addition to existing HTTP, HTTPS and TCP, a new TERMINATED_HTTPS protocol will be added for listener creation. * For tenants, creating a listener with TERMINATED_HTTPS as its protocol indicates a desire to offload the decryption of incoming encrypted traffic to the LBaaS software. New configuration options must be specified for the listener's configuration including: * Default TLS container id for TLS termination (required) * TLS containers list for SNI (optional) * If a specific back-end is not able to support TLS termination capabilities, its driver should throw an exception. The exception message should state that this specific back-end (provider) does not support listeners with TLS offloading configured. (The clear indicator of the listener's requirement for TLS offloading capabilities is its TERMINATED_HTTPS protocol.) * The reference implementation must support TLS termination with SNI. * A new module will be developed in Neutron LBaaS for Barbican TLS container data extraction for the default TLS container and any SNI containers. This module is considered the only legitimate API for Barbican interactions (meaning drivers should generally not interact with Barbican directly). See the section below titled 'SNI certificate list management' for detailed module specifications. * When creating a listener with the TERMINATED_HTTPS protocol: * Front-end TLS offloading is always enabled. This is hard-coded as the only behavior for a listener with TERMINATED_HTTPS protocol. * The tenant must supply a default TLS container ID for front-end offloading. Not supplying a TLS container ID is an invalid configuration. set to sane values by each back-end's specific code. * The SNI certificates list is optional and described in the ""SNI certificates list management"" section of this document. * The certificate intermediate chain(s) will be stored as a part of the Barbican TLS container. * Back-end re-encryption will not be supported in this first phase. be supported in this first phase. * When updating a listener with the TERMINATED_HTTPS protocol: * The default TLS container ID, as well as any container IDs in the SNI list are mutable; though it should be noted that the Barbican containers to which these IDs refer are immutable. * The default TLS container ID cannot be deleted or cleared without deleting the listener. It can only be changed. * If any of these container IDs are updated, added, or deleted, the back-end implementation should ensure minimal downtime for the listener. * The HA-Proxy LBaaS reference implementaion and other LBaaS implementations should be modified to support this specification. **With the above specification, the following is an example of a suggested basic tenant workflow: Creating a listener with TLS termination:** * Tenant creates a Barbican TLS container with a certificate. * Tenant creates a listener with the TERMINATED_HTTPS protocol and specifies the Barbican TLS container ID as the default container ID for TLS termination. * As a result, the listener is created, offloading the decryption of TLS- encrypted traffic on the front-end using the TLS certificate specified by the tenant and forwards the unencrypted traffic to back-end servers.* The tenant should be able to create and delete TLS containers using Barbican. * Barbican should verify that the TLS certificate and key match. * When creating a Barbican TLS container, it should contain: * Certificate : PEM text field * Private_key: PEM text_field * Private_key_pass_phrase : text field (optional: only requied if key is encrypted) * Intermediates: PEM text field (optional) This field is a concatination of PEM encoded certificate blocks in a specific order. * When deleting a Barbican TLS container, Barbican should check whether the container is in use by any consumer and warn before deleting. Barbican's BP discussing this feature is at: https://review.openstack.org/#/c/99516/ * Get TLS certificate data, including private key in PEM encoded PKCS1, PKCS7 or x509 formats, by container ID.* TLS settings are only used by listeners with the TERMINATED_HTTPS a protocol. In other cases TLS settings will be disabled and have None or empty values. * There should be meaningful error messages returned explaining the exact reason for the failure in case of an invalid configuration. * Listener protocol is immutable. Changing the protocol would require radical re-configuration of provider's back-end system. This seems to be not justified for this use case. Tenants should just create a new listener instead. * Barbican TLS containers are immutable after creation. Tenants wishing to update or change a certificate must create a new barbican TLS container and update their listener configuration to refer to the new container ID. SNI certificate list management ------------------------------- For SNI functionality, tenants will supply a list of TLS container IDs in a specific order. If a specific back-end does not support SNI, its driver should throw an exception. The exception message should state that this specific back-end (provider) does not support listeners with SNI configured. (The clear indicator of the listener's requirement for SNI is a non-empty SNI container IDs list.) In any case, the reference implementation must support SNI. **Note: Specific back-end drivers do not have to use SubjectAltName information. Furthermore, specific drivers may throw an exception saying SubjectAltName is not supported.** Any specific driver implementation must extract hostname info from certificates using the common Barbican interaction module API only, as described below. **SNI conflicts** Using the order of certificates in the SNI list as supplied by the user is not a common requirement for all back-end implementations. That is to say, the order of certificates in the SNI list may be used by specific back-end code, like Radware's, for specifying priorities among certificates, while other implementations (such as the reference implementation) will rely on certificate CN and subjectAltName attributes. Order is meant to be a hint to resolve conflicts when 2 or more certificates match the DNS name requested in the SNI client hello. (An example of this would be a wildard certificate for \*.example.com and a specific certificate for secure.example.com.) Specific backends (again, such as the reference implemntation) may choose to ignore the user-specified certificate order and may instead employ their own mechanisms to select among the most appropriate certificate to use when there are conflicting matches. It's also valid, in this case, for a specific driver to throw an exception stating there is a collision and this specific SNI setup will not be supported by the back-end. Neutron LBaaS Barbican interaction module ----------------------------------------- A new separate module will be developed in Neutron LBaaS for Barbican interactions. This new common module's characteristics are: * The module will use a service account for authentication with Barbican. * The module will use pyOpenSSL and PyASN1 packages. * Only this new common module should be used by the Neutron LBaaS code for Barbican container interactions. (Drivers should NOT interact with Barbican except through this new common module.) * Front-end LBaaS API (plugin) code will also use this new developed module for validating Barbican TLS containers. * Drivers can extract SubjectCommonName and SubjectAltName information from certificates x509 via the common module API and use this for their specific SNI implementation. The module will have API for: * Validating a Barbican TLS container (used by LBaaS front-end API) This verifies the certificate and key in the Barbican TLS container match. from certificates x509 (used by LBaaS front-end API) (Right now, only dNSName and directoryName type attributes will be extracted from the SubjectAltName sequence. Also, directoryName type usage is an issue for further discussion.) * Extracting certificate data from a Barbican TLS container* *lbaas_listeners* table will be modified to add the field: * default_tls_container_id (nullable string 36) - Barbican's TLS container ID * A new *lbaas_sni* table will be created for storing ordered lists of TLS container IDs associated with listeners with SNI configurations. The objects in this table are composed of: * position - (integer) index for order hints|default-tls- |UUID |RW,tenant|NULL |UUID |default TLS cert ID ||_ids |list | | | |TLS containers for | | | | | | |use with SNI .|* create_listener (with TLS termination) ""protocol"": ""TERMINATED_HTTPS"", ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"", ""protocol"": ""TERMINATED_HTTPS"", ""sni_container_ids"": None,* create_listener (with TLS termination and SNI list) ""protocol"": ""TERMINATED_HTTPS"", ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"", ""protocol"": ""TERMINATED_HTTPS"", 1206a0de-7f6b-409a-a47c-a1ccgbc7bgf3],* update_listener (altering TLS termination) * Updates listener ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"", ""protocol"": ""TERMINATED_HTTPS"", ""sni_container_ids"": None,* Retrieving TLS container from Barbican to LBaaS plugin/driver must be secured * Sending TLS container contents from driver to back-end system must be secured * Storing secrets on neutron server is prohibited (except for the case of the reference implementation, where it is currently unavoidable). to meet certain security compliance requirements (which means the reference implementation may not pass said security compliance requirements) This will prevent unnecessary resource consumption when, for example, members are added to the pool used by the listener. This also means that each Barbican TLS container will be validated only once for a listener while it's still in use by the listener. are required by the new module for Barbican TLS container interactions.* Develop new module for BArbican TLS container interactions using pyOpenSSL* Create integration with Barbican certificate storage API Detailed specification of how Barbican's API for containers should be used* Modify reference LBaaS HA-Proxy driver to support TLS capability* Implement horizon part of this spec. (Probably not as part of Kilo release.)* haproxy 1.5 for reference implementation * No default TLS container for termination supplied: Check error generation. * Default TLS container for termination supplied: * Default TLS container supplied and SNI TLS containers list was supplied: Test expected configuration took place. * Update existing listener with TERMINATED_HTTPS as a protocol * Add/Modify/Delete SNI containers list. Test expected configuration* No default offloading TLS container ID specified when creating listener with TERMINATED_HTTPS protocol* Neutron CLI should be modified with updated listener commands with TLS options","L7 Policies appliance, etc.*Note: This document is referencing to the new LBaaS objects model proposed at https://review.openstack.org/#/c/89903* *Note: This document does not consider flavors framework proposed atBefore the flavors framework is in place, specific back-end driver which does not support TLS capabilities should throw an exception stating a lack of TLS support once it gets request for listener with TLS configuration. This document specifies a ""core"" feature set that every back-end implementing TLS capabilities must comply. TLS capabilities of various back-end implementations may differ in future releases, thus flavors aspect should definitely be part of TLS capabilities specification* *Note: Horizon project aspect is not a part of this specification.* * Tenant will manage his TLS certificates using Barbican. Certificates will be stored in Barbican secure containers. * Barbican is in charge of containers life cycle management, containers classification and validation. LBaaS TLS requires a specific container type (TLS). Only container of this type will be listed to the tenant for selection while configuring listener's TLS containers to use. Any invalid container usage will raise an error. * Barbican will also manage list of interested consumers for each container. See spec at https://review.openstack.org/#/c/99516 Neutron LBaaS (a consumer, according to Barbican's terminology) will not use a regular GET request for container resource in order to get the container. Instead, it will use a POST request to container's consumers resource (http://admin-api/v1/containers/{container-uuid}/consumers) with following info: ""URL"": ""https://lbaas.myurl.net/loadbalancers/<lb_id>/"" } **Note:** We might want to use specific Listener URL instead of Loadbalancer's one, like ""https://lbaas.myurl.net/lbaas/listeners/<listener_id>"" As a response, it will get containers data like container's resource GET request was used. Barbican, in its turn will store consumer's (LBaaS instance URL) data in its database so this info can be used for getting all consumers of a specific TLS container. As a result, Neutron LBaaS TLS implementation is required to: * Use only POST request to container's consumers resource in order to get the container's data. * Perform DELETE request to container's consumers resource when stop using a container. * Barbican TLS container will contain PEM encoded data. Specific back-end implementation might convert the certificates data to other format such as DER, if needed. * In addition to existing HTTP, HTTPS and TCP, new protocol, TERMINATED_HTTPS will be added for listener creation * For tenant, creating listener with TERMINATED_HTTPS as a protocol means desire to offload incoming encrypted traffic. New configuration options will be available for listener's configuration including: * Default TLS container id for TLS termination * TLS containers list for SNI * In case when specific back-end is not able to support TLS capabilities, its driver should throw an exception. The exception message should state that this specific back-end (provider) does not support listeners with TLS offloading. The clear sign of listener's requirement for TLS offloading capabilities is its TERMINATED_HTTPS protocol. * New module will be developed in Neutron LBaaS for Barbican TLS containers data extraction from default TLS container and SNI containers. This module represents the only legitimate API for Barbican TLS containers interactions. See 'SNI certificates list management' section for detailed module specification. * When creating listener with TERMINATED_HTTPS protocol: * Front-end TLS offloading is always enabled - hard coded as a default behaviour for listener with TERMINATED_HTTPS protocol * Tenant must supply default TLS container for front-end offloading. Not supplying a container is an invalid configuration. set to sane values by each back-end's specific code * SNI certificates list is optional and not mandatory to specify * SNI certificates list specifying is described in ""SNI certificates list management"" section * Certificate intermediate chain will be stored as a part of Barbican's TLS container * Back-end re-encryption will not be supported in first phase be supported in first phase * When updating listener with TERMINATED_HTTPS protocol: * In TLS configuration domain, default TLS container ID for front-end offloading and SNI container IDs list are values that may be changed * In case when defaut TLS container ID is replaced for the listener, back-end implementation should ensure a lack of a downtime on LB appliance. * Same for changing SNI container IDs list, back-end should avoid LB downtime. * HA-Proxy LBaaS implementaion and other LBaaS implementations should be modified to support this specification. **With stated above, following is a description of a basic tenant use case - creating listener with TLS offloading:** * Tenant cteates Barbican TLS container with a certificate. * Tenant creates listener with TERMINATED_HTTPS as a listener protocol and specifies the Barbican TLS container ID as a default TLS container for front-end offloading * As a result, listener created, offloading encrypted traffic on front-end with default tenant's TLS certificate, not re-encrypting traffic to the back-end.* Tenant should be able to create and delete TLS containers using Barbican * Ability to store TLS certificates in Barbican containers that contain the TLS certificate itself, its private key and optionaly, intermediate chain * Creating TLS container with: * Certificate : PEM text field * Private_key: PEM text_field * (extracted) Private_key_pass_phrase : text field * Intermediates: PEM text field (optional) This field is a concatination of PEM encoded certificate blocks in specific order * Delete TLS certificate **optional:** Check if certificate is in use by any consumer and warn before deleting. Barbican's BP discussing this feature: https://review.openstack.org/#/c/99516/ * Get TLS container, including private key in PEM encoded PKCS1 or PKCS7 formats, by container id * Get TLS certificate in pem encoded x509 format, by container id* TLS settings are only available for listeners having TERMINATED_HTTPS as a protocol. In other cases TLS settings will be disabled and have None or empty values. There should be a meaningfull error message to a user explaining the exact reason of a failure in case of an invalid configuration. * Listener protocol is immutable. Changing the protocol will require radical re-configuration of provider's back-end system, which seems to be not justified for this use case. Tenant should create new listener. * While updating existing TLS certificate, name and description are only values allowed to be modified. Creating new TLS container and using it instead of the old one will be easier option than re-configuring LBaaS back-end with modified container, at least in first phase. SNI certificates list management -------------------------------- For SNI functionality, tenant will supply list of TLS containers in specific order. In case when specific back-end is not able to support SNI capabilities, its driver should throw an exception. The exception message should state that this specific back-end (provider) does not support SNI capability. The clear sign of listener's requirement for SNI capability is a none empty SNI container ids list. However, reference implementation must support SNI capability. New separate module will be developed in Neutron LBaaS for Barbican TLS containers interactions. The module will use service account for Barbican API interation. The module will have API for:* Validating Barbican TLS container (used by LBaaS front-end API) from certificates X509 (used by LBaaS front-end API) As for now, only dNSName and directoryName types will be extracted from SubjectAltName sequence, while directoryName type usage is an issue for further discussion. * Extracting certificates data from Barbican TLS containerThe module will use pyOpenSSL and PyASN1 packages. Only this new common module should be used by Neutron LBaaS code for Barbican containers interactions. Front-end LBaaS API (plugin) code will use a new developed module for validating Barbican TLS containers. Driver, in its turn, can extract SubjectCommonName and SubjectAltName information from certificates X509 via the common module API and use it for its specific SNI implementation. **Note:** **Specific back-end driver does not have to use SubjectAltName information. Furthermore, specific driver may throw an exception saying SubjectAltName is not supported by its provider** Any specific driver implementation may extract host names info from certificates using the mentioned above common module API only, if needed. **SNI conflicts** Employing the order of certificates list is not a common requirement for all back-end implementations. The order of SNI containers list may be used by specific back-end code, like Radware's, for specifying priorities among certificates. Order is meant to be a hint to resolve conflicts when 2 or more certificates match the DNS name requested in the SNI client hello. Specific backends might choose to ignore this order and might employ their own mechanisms to choose one among the clashing certificates. For ex. NetScaler employs the best match algorithm and does not require order for conflict resolution. It's also possible that specific driver throws an exception saying there is a collision and this specific SNI setup will not be supported by the back-end. * *lbaas_listeners* table will be modified with new * default_tls_container_id (nullable string 36) - Barbican's TLS container id * New *lbaas_sni* table will be created for storing ordered list of TLS containers associated to a listener for SNI capabilities. Association objects is composed of: * position - (integer) index for preserving the order|default-tls- |UUID |RW,tenant|NULL |UUID |default TLS cert id ||_ids |list | | | |TLS containers to use | | | | | | |for SNI .|* create_listener ""protocol"": ""TERMINATED_HTTPS"" ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"" ""sni_container_ids"": None* create_listener (with SNI list) ""protocol"": ""TERMINATED_HTTPS"" ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"" 1206a0de-7f6b-409a-a47c-a1ccgbc7bgf3]* update_listener * Updates VIP listener ""protocol"": ""TERMINATED_HTTPS"" ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"" ""sni_container_ids"": None* Retrieving TLS container from Barbican to LBaaS plugin/driver must be secured * Sending TLS container contents from driver to back-end system must be secured * Storing secrets on neutron server is prohibited to meet certain security compliance requirements This will prevent unnecessary resources consumption when, for example, members are added to the pool used by listener. It means that each Barbican TLS container will be validated only once for a listener while it's still in use by this listener. are required by new module for Barbican TLS containers interactions.* Develop new module for BArbican TLS containers interactions using pyOpenSSL* Make integration with Barbican certificates storage API Detailed specificatio of how Barbican's API for containers should be used* Modifying LBaaS HA-Proxy driver to support TLS capability* Implement horizon part of this spec, not as part of Juno release. * No default TLS container for termination supplied. Check error generation * Default TLS container for termination supplied. * Default TLS container supplied. SNI TLS containers list was supplied Test expected configuration took place * Update existing listener with TERMINATED_HTTPS as a protocole * Add/Modify SNI containers list. Test expected configuration* No default offloading TLS container specified when creating listener with TERMINATES_HTTPS protocole* Neutron CLI should be modified with updated listener commands with TLS options",274,267
openstack%2Fneutron-specs~master~I50efbf95f9dc88a76d4d5ea529c5b66d2b760680,openstack/neutron-specs,master,I50efbf95f9dc88a76d4d5ea529c5b66d2b760680,DHCP integration of CPNR,ABANDONED,2014-11-28 23:23:07.000000000,2015-01-26 15:08:28.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 748}, {'_account_id': 6524}, {'_account_id': 7448}]","[{'number': 1, 'created': '2014-11-28 23:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c3ec96d8cbea8a7406c5e519b85334b789915810', 'message': ' DHCP integration of CPNR\n\nThis spec offers and  alternative to the current OpenStack implementation\nof DHCP utilizing dnsmasq(http://www.thekelleys.org.uk/dnsmasq/doc.html),\nthis spec is proposing an alternative. Others have proposed alternatives\ngenerally drivin from their desire to support their customers in Openstack\nimplementation. Rather than these customers having to support muliple\nversions of DHCP within their environments, the support of alternative\nDHCP choices seem the most plausible. The current apporach is using a\ndnsmasq server managing each subnet, whereas alternative approachs\nutilize a centralized server with the use of relays to forward DHCP\nrequests to/from that server. We propose that an additional DHCP\ndriver be provided such that operators can options as to operational\nDHCP, such as Ciscos DHCP product: Cisco Prime Network Registrar (CPNR).\n\nChange-Id: I50efbf95f9dc88a76d4d5ea529c5b66d2b760680\n'}, {'number': 2, 'created': '2014-11-28 23:27:14.000000000', 'files': ['specs/kilo/dhcp-cpnr-integration.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b9d59e3bf65f6657529df830c07c5c1c0ee0a1b8', 'message': ' DHCP integration of CPNR\n\nThis spec offers and  alternative to the current OpenStack implementation\nof DHCP utilizing dnsmasq(http://www.thekelleys.org.uk/dnsmasq/doc.html),\nthis spec is proposing an alternative. Others have proposed alternatives\ngenerally drivin from their desire to support their customers in Openstack\nimplementation. Rather than these customers having to support muliple\nversions of DHCP within their environments, the support of alternative\nDHCP choices seem the most plausible. The current apporach is using a\ndnsmasq server managing each subnet, whereas alternative approachs\nutilize a centralized server with the use of relays to forward DHCP\nrequests to/from that server. We propose that an additional DHCP\ndriver be provided such that operators can options as to operational\nDHCP, such as Ciscos DHCP product: Cisco Prime Network Registrar (CPNR).\n\nChange-Id: I50efbf95f9dc88a76d4d5ea529c5b66d2b760680\n'}]",0,137865,b9d59e3bf65f6657529df830c07c5c1c0ee0a1b8,7,6,2,5572,,,0," DHCP integration of CPNR

This spec offers and  alternative to the current OpenStack implementation
of DHCP utilizing dnsmasq(http://www.thekelleys.org.uk/dnsmasq/doc.html),
this spec is proposing an alternative. Others have proposed alternatives
generally drivin from their desire to support their customers in Openstack
implementation. Rather than these customers having to support muliple
versions of DHCP within their environments, the support of alternative
DHCP choices seem the most plausible. The current apporach is using a
dnsmasq server managing each subnet, whereas alternative approachs
utilize a centralized server with the use of relays to forward DHCP
requests to/from that server. We propose that an additional DHCP
driver be provided such that operators can options as to operational
DHCP, such as Ciscos DHCP product: Cisco Prime Network Registrar (CPNR).

Change-Id: I50efbf95f9dc88a76d4d5ea529c5b66d2b760680
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/65/137865/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/dhcp-cpnr-integration.rst'],1,c3ec96d8cbea8a7406c5e519b85334b789915810,cpnr1,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== dhcp-cpnr-integration ========================================== Include the URL of your launchpad blueprint: Link to Document To offer an alternative DHCP approach to the current OpenStack implementation of DHCP utilizing dnsmasq(http://www.thekelleys.org.uk/dnsmasq/doc.html), this spec is proposing an alternative. Others have proposed alternative generally drivin from their desire to support their customers in Openstack implementation. Rather than these customers having to support muliple versions of DHCP within their environments, the support of alternative DHCP choices seem the most plausible. The current apporach is using a dnsmasq server managing each subnet, whereas alternative approachs utilize a centralized server with the use of relays to forward DHCP requests to/from that server. We propose that an additional DHCP driver be provided such that operators can options as to operational DHCP, such as Ciscos DHCP product: Cisco Prime Network Registrar (CPNR). Problem Description =================== A detailed description of the problem: * For a new feature this should be use cases. Ensure you are clear about the actors in each use case: End User vs Deployer * For a major reworking of something existing it would describe the problems in that feature that are being addressed. OpenStack deployments, such as Cisco's own Nimbus project, have encountered significant weaknesses with the default implementation of DHCP provided by neutron - OpenStack's networking component. One such weakness has been availability of the DHCP service. When the DHCP service is not available, new VMs cannot be started successfully. The current implementation uses an open source tool called dnsmasq to act as the DHCP server. As new VMs are added to a network, the neutron DHCP agent must rewrite dnsmasq configuration and reload the dnsmasq process which can compromise the DHCP service's availability. Proposed Change =============== In an effort to make the DHCP service more robust (and therefore more available), we propose that an additional DHCP driver be added such that dnsmasq can be replaced with Ciscos own DHCP product: Cisco Prime Network Registrar (CPNR). However, rather than spinning up a VM running CPNR for each tenant (which would be very expensive) a la dnsmasq, we propose to setup a single CPNR server which neutrons DHCP agent will then configure. Additionally, the DHCP agent will setup a DHCP relay to forward all DHCP traffic to the CPNR server. An image of the high-level software architecture is shown below. This approach mirrors the existing model used by the neutron metadata proxy. Each network node runs a single DHCP relay process (neutron-dhcp-relay). The DHCP agent starts a mini DHCP relay in each network namespace (neutron-ns-dhcp-relay) instead of starting a dnsmasq in each network namespace. The mini relays forward DHCP traffic to/from the big DHCP relay process running in the global namespace using named unix domain sockets. The big DHCP relay forwards DHCP traffic to/from the external DHCP server (CPNR). The DHCP Agent configures the CPNR with lease information (using either SSH to CLI or REST API, if available). +------------------------------------+ | | | Cisco CPNR | | | +------------------------------------+ ^ ^ / \ / \ / \ +---------------/-------------------------------\-----------------------------+ | Network Node / v | |+------------------+ +--------------------------------------------------+ | || | | | | || DHCP Agent | | DHCP Relay | | || | | | | || | +--------------------------------------------------+ | || | X X | || | +--------+ +------+ | || | +.....| |......+ +......| |...........+ | || | . +--------+ ns-1 . . +------+ ns-2 . | || | . ^ . . ^ . | || | . | . . | . | || | . | . . | . | || | . v . . v . | || | .+------------------+ . .+----------------------+ . | || | .| DHCP NS Relay | . .| DHCP NS | . | || | .+------------------+ . .+----------------------+ . | || | . ^ ^ . . ^ . | || | . | | . . | . | || | . v v . . v . | || | . +---+ +---+ . . +---+ . | |+------------------+ +..| |......| |...+ +........| |............+ | | .+-+---+------+---+--------------+---+-----------+. | |+------------------+ .| |. | || OVS Agent | .| br-int(OVS) |. | || | .| |. | |+------------------+ .+-----------------------------------------------+. | | +.................................................+ | | | +-----------------------------------------------------------------------------+ Configuration Variables ----------------- We will be adding the following configuration variables: 1. DHCP Driver code: 1. CPNR Server - the address of the CPNR server that the driver will need to communicate to, something like:https://cpnradmin:cpnrpasswd@1.2.3.4:8080, from the following: 1. dhcp_server=http://1.2.3.4:8080 2. dhcp_server_user=cpnradmin 3. dhcp_server_password=cpnrpasswd 1. DHCP relay 1. dhcp_server: identifies the external DHCP server where request should be forwarded. 2. dhcp_relay_threads: number of threads that the relay will support. Data Model Impact ----------------- None. REST API Impact --------------- No Neutron REST API changes are necessary. Security Impact --------------- We do not see any security impact in the new design and with the relay design non-pertinent DHCP packets will simply be ignored. None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ One of the reasons for this enhancement would to improve the overall per- formance of the DHCP handling. Other Deployer Impact --------------------- The driver assume that the deployer would have a Cisco Prime Network Registrar (CPNR) server configured and running within their cloud and/or network. The relay portion of this project is generic in nature, i.e. no dependency upon any vendor specific features. Developer Impact ---------------- None. Community Impact ---------------- This project will be implemented in two parts: 1. The cpnr driver, which will interact with a Cisco CPNR server, and 2. The dhcp_relay, which will conform to various IETF RFCs relating to DHCP relays (e.g. RFC 3527, RFC 6607, etc.), which will be generic and can be used by others or as a reference implementation for someone building therir own. 1. The relay portion will not be dependent upon the Cisco Prime Network Registrar (CPNR) server such that anyones DHCP server could be used. Alternatives ------------ Other alternatives were not considered within the scope of this project. Implementation ============== Assignee(s) ----------- Primary assignee: Don Kehn, (IRC: dkehn) Other contributors: Matt Caulfield, (IRC: mcaulfie) Vikram Hosakote, (IRC: vhosakot) Work Items ---------- There are two basic work items in the implementation of the CPNR integration: 1. Development of the driver code to interact with the CPNR server. The DHCP agent defines a DHCP driver interface in neutron.agent.linux.dhcp.DhcpBase. A new DHCP driver will be created for the CPNR integration which makes use of the CPNR REST API and the DHCP Relay described above. The CPNR driver will implement the following methods: 1. enable  uses the CPNR REST API to establish VPN, Scope, ClientEntry and other objects according to the network configuration. Calls the CPNR's reload method for activating the new config. 2. disable  uses the CPNR REST API to DELETE all configuration related to the network. Calls reload method to activate new config. 3. restart  uses the built-in implementation from DhcpBase which calls disable followed by enable. 4. active  use CPNR REST API to check if configuration exists for particular network UUID. 5. reload_allocations  checks for differences between existing config in CPNR and the network configuration and applies any differences. 6. existing_dhcp_networks  lists existing networks by uuid (using the REST API to get a list of UUIDs). 7. check_version  returns the CPNR version. 1. The DHCP Relay component will be written in python and will use the python eventlet library for implementing an event-based DHCP relay agent. The relay process will consist of the following greenthreads: 1. namespace monitor - a single thread which periodically (every 1 second) lists all of the network namespaces on the system created by the neutron DHCP agent. If any namespaces have been created, the namespace monitor thread adds that namespace's information to an internal data structure and then uses eventlet to spawn a ""namespace listener"" greenthread which will be responsible for that namespace. If any namespaces have been destroyed, the namespace monitor thread cleans up any state (and threads) associated with that namespace. 2. namespace listener - one per network namespace which opens a UDP sockets on ports 67 within the respective namespace and listens on port 67 for DHCP requests. Whenever a DHCP request is received, it is validated and rewritten based on the rules described below. The request is then sent to the DHCP server via a port 68 UDP socket from the global namespace. 3. dhcp net listener - a single thread which listens on a port 68 UDP socket from the global namespace for DHCP responses from the DHCP server. Whenever a packet is received it is placed on a work queue for delegation to one of the dhcp net worker threads. 4. dhcp net worker - a pool of threads for processing packets from the work queue. Each packet is parsed, validated, and rewritten according to the rules described below. The packet is then sent via a port 67 UDP socket which corresponds to the correct network namespace. 5. The following diagram illustrates the general flow of DHCP requests and responses: (----------------------------------) ( ) ( dhcp net ) ( ) {----------------------------------) | | +-----------------------------------+----------------------------------+ | neutron-dhcp-relay v<----------------------------+ | | +-------------------------------------------+ | | | | | | | | | dhcp net listener | | | | | | | | | +-------------------------------------------+ | | | | | | | v | | | +---------------------------------------+ | | | | |-+ | | | | dhcp net workers | |-+ | | | | | | | | | | +---------------------------------------+ | | | | | +----------------------------------------+ | | | | +----------------------------------------+ | | | | +------+ | | | | | |+------------------+ | +----------+ | || | | | |-+ | || namespace | | | namespace| |-+ | || monitor | | +---->| listeners| | | | || | | | | | | | | || | | | +----------+ | | | || | | | +-----------+ | | |+------------------+ | | +------------+ | | |----------+ | +-----------------------------------+----------------------------------+ v (----------------------------------) ( ) ( Tenant net ) ( ) {----------------------------------) The neutron-dhcp-relay will be run a non-root user and therefore must use the rootwrap utility for gaining access to network namespaces. The details for opening a socket in a network namespace need to be worked through. The relay process is essentially listening to sockets from multiple namespaces (include the global namespace). Note that the tenant network UDP sockets must listen both for unicast as well as broadcast messages. DHCP Request Translation In order for the DHCP server to distinguish requests from separate tenant networks, the relay will set four DHCP relay sub-options within the DHCP packet: Code Sub-option Description Reference 5 Link Selection RFC3527 11 Server Identifier Override RFC5107 151 Virtual Subnet Selection RFC6607 152 Virtual Subnet Selection Control RFC6607 These sub-options will be set with the following values: * Link Selection  set to the subnet on which the DHCP request was received (the same as the subnet of the requesting VM) * Server Identifier Override  set to the IP address of the interface on which the DHCP request was received. * Virtual Subnet Selection  set to the RFC2685 compliant VPN-ID which (as discussed in the CPNR configuration section) is set to the last seven bytes of the corresponding network uuid * Virtual Subnet Selection Control  simply present, does not have a value In addition to setting the above options, the giaddr of the DHCP request must be set to the IP address of the DHCP network interface on which the relay has opened a UDP socket. This IP address will be used by the DHCP server as the destination of the DHCP response. DHCP Response Translation When a DHCP response is received, the relay should parse the Virtual Subnet Selection sub-option to determine the network uuid of the corresponding network. The response should be stripped of the sub-options listed above and then sent out of the UDP socket which corresponds to the network uuid parsed from the response. The destination may be broadcast in some cases and unicast in others depending on the type of DHCP message. High Availability The relay will accommodate an active/active CPNR setup by allowing more than one DHCP server to be configured on the northbound side. Thus any DHCP packet received will be translated and then replicated before being sent out to one or more DHCP servers. Likewise, the relay should expect to receive DHCP responses from multiple servers as well and should forward this accordingly. Dependencies ============ We are dependent upon the dhcp-flexi-model , which has already been merged. Testing ======= We will be adding unit test as development progress and the effected tests cases will be : * neutron/tests/unit/test_dhcp_agent.py * neutron/tests/unit/test_linux_dhcp.py Tempest Tests ------------- No new tempest test are necessary. Functional Tests ---------------- No new functional tests are necessary. API Tests --------- None. Documentation Impact ==================== None required the configuration variable are somewhat self documenting (see, documentation) . User Documentation ------------------ None required the configuration variable are somewhat self documenting (see, documentation). Developer Documentation ----------------------- None required. ",,403,0
openstack%2Fneutron-specs~master~Ie0f38cfa1f60870460fc099e8dfed69a01d4f331,openstack/neutron-specs,master,Ie0f38cfa1f60870460fc099e8dfed69a01d4f331,Add spec for port default vnic_type on network level,ABANDONED,2014-12-03 15:09:24.000000000,2015-01-26 15:08:24.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 6524}, {'_account_id': 6598}, {'_account_id': 6685}, {'_account_id': 6697}, {'_account_id': 6932}, {'_account_id': 7543}, {'_account_id': 8645}, {'_account_id': 11547}, {'_account_id': 11604}, {'_account_id': 11647}, {'_account_id': 12065}, {'_account_id': 12171}]","[{'number': 1, 'created': '2014-12-03 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cfd2457454a7353c8a390f0952c5cb10b55d265c', 'message': 'Add spec for port default vnic_type on network level\n\nThis specification proposes the ability to specify\ndefault port vnic_type on network level.\nNetwork default vnic_type will be assumed if\nvnic_type is not defined on port level.\n\nDocImpact\nApiImpact\n\nBlueprint: network-settings-support-vnic-type\nChange-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331\n'}, {'number': 2, 'created': '2014-12-03 16:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3db96e084a5b7e5fb13ff02811f4e4d1157ed3bd', 'message': 'Add spec for port default vnic_type on network level\n\nThis specification proposes the ability to specify\ndefault port vnic_type on network level.\nNetwork default vnic_type will be assumed if\nvnic_type is not defined on port level.\n\nDocImpact\nApiImpact\n\nBlueprint: network-settings-support-vnic-type\nChange-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331\n'}, {'number': 3, 'created': '2014-12-07 07:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/03613c20c43be09c60f6ef6fa9a9f3b187c98dda', 'message': 'Add spec for port default vnic_type on network level\n\nThis specification proposes the ability to specify\ndefault port vnic_type on network level.\nNetwork default vnic_type will be assumed if\nvnic_type is not defined on port level.\n\nDocImpact\nApiImpact\n\nBlueprint: network-settings-support-vnic-type\nChange-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331\n'}, {'number': 4, 'created': '2014-12-11 07:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7f55285b1dae52446bca674e9b37a748b04d7a41', 'message': 'Add spec for port default vnic_type on network level\n\nThis specification proposes the ability to specify\ndefault port vnic_type on network level.\nNetwork default vnic_type will be assumed if\nvnic_type is not defined on port level.\n\nDocImpact\nApiImpact\n\nBlueprint: network-settings-support-vnic-type\nChange-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331\n'}, {'number': 5, 'created': '2014-12-11 14:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bf8649147547d5d9941192ff95bee273366e62f7', 'message': 'Add spec for port default vnic_type on network level\n\nThis specification proposes the ability to specify\ndefault port vnic_type on network level.\nNetwork default vnic_type will be assumed if\nvnic_type is not defined on port level.\n\nDocImpact\nApiImpact\n\nBlueprint: network-settings-support-vnic-type\nChange-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331\n'}, {'number': 6, 'created': '2014-12-14 07:48:24.000000000', 'files': ['specs/kilo/network-default-vnic-type.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e1af2036f9c271ad99d9d70343a914d76509aff9', 'message': 'Add spec for port default vnic_type on network level\n\nThis specification proposes the ability to specify\ndefault port vnic_type on network level.\nNetwork default vnic_type will be assumed if\nvnic_type is not defined on port level.\n\nDocImpact\nApiImpact\n\nBlueprint: network-settings-support-vnic-type\nChange-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331\n'}]",45,138753,e1af2036f9c271ad99d9d70343a914d76509aff9,45,16,6,6598,,,0,"Add spec for port default vnic_type on network level

This specification proposes the ability to specify
default port vnic_type on network level.
Network default vnic_type will be assumed if
vnic_type is not defined on port level.

DocImpact
ApiImpact

Blueprint: network-settings-support-vnic-type
Change-Id: Ie0f38cfa1f60870460fc099e8dfed69a01d4f331
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/53/138753/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/network-default-vnic-type.rst'],1,cfd2457454a7353c8a390f0952c5cb10b55d265c,bp/network-settings-support-vnic-type,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Port vnic_type Default Settings on Network Level ================================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/network-settings-support-vnic-type Neutron port vnic_type attribute should be defined during port creation in order to determine what type of vnic is requested. Currently three options are available: normal, macvtap and direct. Sometimes certain port vnic_type is common to majority of the ports on the ports' network. The idea proposed by this specification is to allow default port vnic_type setting to be specified on the network level and used during port creation. The port default vnic_type setting (if defined) will be assumed if no value is specified during the port creation. Problem Description =================== Currenlty when port binding extension sets vnic_type port attribute during port creation, this requires the operator to pre-create neutron port with desired setting and then create VM. This limits the operator to spawn VM using --nic port-id syntax. While there is default setting at API level, it is not necessarily the operator's choice. There are cases when operator would consider to provide vnic_type setting that is common for many ports on the network. One possible case where this can be applicable is when operator would like to provide SR-IOV PCI passthrough ports on certain network. This would require setting port binding:vnic_type attribute to 'direct'. This is aimed to address the operator use case to be able to to define reusable vnic_type port related setting on network level. Thus to be able to spawn VM via 'nova boot' command with --nic net-id syntax. Proposed Change =============== The scope of this proposal is to extend the scope of port binding extension for ML2 plugin. Add network binding:vnic_type to port binding API extension. And then add necessary support in ML2 plugin for network_create and port_create flows. Add support to use default binding:vnic_type setting during port creation. Data Model Impact ----------------- One new data model will be created to keep track of network port vnic_type default setting and will be used by ml2 plugin. The appropriate database migration will accompany this change. REST API Impact --------------- On network the proposed enhancement to portbinding extension: +-------------------+-------+----------------------+---------+--------------+--------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +===================+=======+======================+=========+==============+==============+ |binding:vnic_type |string |RW, owner |absent |'type:values':|string | | | | | |VNIC_TYPES or | | | | | | |absent | | +-------------------+-------+----------------------+---------+--------------+--------------+ .. code-block:: python VNIC_TYPE = 'binding:vnic_type' EXTENDED_ATTRIBUTES_2_0 = { 'networks': { VNIC_TYPE: {'allow_post': True, 'allow_put': False, 'default': attributes.ATTR_NOT_SPECIFIED, 'is_visible': True}, } } Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- The python-neutronclient should be adjusted to into take account the new vnic_type setting for net-create and the new property in net-show. Performance Impact ------------------ * During port-create if vnic_type is not specified, additional check should be done to check if there is network default vnic_type Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ Provide generic support to specify port default settings and support vnic_type default setting among other applicable attributes. Implementation ============== Assignee(s) ----------- Primary assignee: <irenab> Work Items ---------- * Add new network parameter to portbinding API extension * Add support for new network property, including database migration script * Add support for using network vnic_type setting during port-create Dependencies ============ None Testing ======= Tempest Tests ------------- None Functional Tests ---------------- API Tests --------- API tests should confirm that the property behaves as described on net-create, net-update and net-show. Documentation Impact ==================== User Documentation ------------------ Requires documentation of the new network extension attribute. Developer Documentation ----------------------- None References ========== None ",,187,0
openstack%2Fnova~master~Ic1e75e52c62cec06bfac0ecdb7826f167a617f45,openstack/nova,master,Ic1e75e52c62cec06bfac0ecdb7826f167a617f45,Remove unused methods in nova utils,MERGED,2014-12-25 16:50:38.000000000,2015-01-26 15:07:02.000000000,2015-01-26 14:38:56.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7491}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-12-25 16:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a3bcbf3bd6b30093f70f501c2a30a4965da351f', 'message': 'Remove unused methods in nova utils\n\nget_my_ipv4_address and _get_ipv4_address_for_interface\nis unused now. Nova use the same methods from oslo.utils library,\nso remove this from nova code\n\nChange-Id: Ic1e75e52c62cec06bfac0ecdb7826f167a617f45\n'}, {'number': 2, 'created': '2015-01-06 11:34:03.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6a1ee8ab25a57e0e665676b0a9b5236196a6b2e', 'message': 'Remove unused methods in nova utils\n\nget_my_ipv4_address and _get_ipv4_address_for_interface\nis unused now. Nova use the same methods from oslo.utils library,\nso remove this from nova code\n\nChange-Id: Ic1e75e52c62cec06bfac0ecdb7826f167a617f45\n'}]",0,144001,e6a1ee8ab25a57e0e665676b0a9b5236196a6b2e,44,18,2,9550,,,0,"Remove unused methods in nova utils

get_my_ipv4_address and _get_ipv4_address_for_interface
is unused now. Nova use the same methods from oslo.utils library,
so remove this from nova code

Change-Id: Ic1e75e52c62cec06bfac0ecdb7826f167a617f45
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/144001/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,5a3bcbf3bd6b30093f70f501c2a30a4965da351f,reuse_netutils,,"def get_my_ipv4_address(): """"""Run ip route/addr commands to figure out the best ipv4 """""" LOCALHOST = '127.0.0.1' try: out = execute('ip', '-f', 'inet', '-o', 'route', 'show') # Find the default route regex_default = ('default\s*via\s*' '(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})' '\s*dev\s*(\w*)\s*') default_routes = re.findall(regex_default, out[0]) if not default_routes: return LOCALHOST gateway, iface = default_routes[0] # Find the right subnet for the gateway/interface for # the default route route = ('(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})\/(\d{1,2})' '\s*dev\s*(\w*)\s*') for match in re.finditer(route, out[0]): subnet = netaddr.IPNetwork(match.group(1) + ""/"" + match.group(2)) if (match.group(3) == iface and netaddr.IPAddress(gateway) in subnet): try: return _get_ipv4_address_for_interface(iface) except exception.NovaException: pass except Exception as ex: LOG.error(_LE(""Couldn't get IPv4 : %(ex)s""), {'ex': ex}) return LOCALHOST def _get_ipv4_address_for_interface(iface): """"""Run ip addr show for an interface and grab its ipv4 addresses """""" try: out = execute('ip', '-f', 'inet', '-o', 'addr', 'show', iface) regexp_address = re.compile('inet\s*' '(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})') address = [m.group(1) for m in regexp_address.finditer(out[0]) if m.group(1) != '127.0.0.1'] if address: return address[0] else: msg = _('IPv4 address is not found.: %s') % out[0] raise exception.NovaException(msg) except Exception as ex: msg = _(""Couldn't get IPv4 of %(interface)s"" "" : %(ex)s"") % {'interface': iface, 'ex': ex} LOG.error(msg) raise exception.NovaException(msg) ",0,54
openstack%2Fnova~stable%2Ficehouse~I66a2e08827bc909416335c37f6e1f7e214b3c022,openstack/nova,stable/icehouse,I66a2e08827bc909416335c37f6e1f7e214b3c022,Add legacy to the possible server group policies,ABANDONED,2014-12-05 12:17:48.000000000,2015-01-26 15:04:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8213}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-12-05 12:17:48.000000000', 'files': ['nova/tests/scheduler/test_filter_scheduler.py', 'nova/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4dc39eb230bd234458466a5faa616bac9e1e303', 'message': ""Add legacy to the possible server group policies\n\nTo make the legacy GroupAffinityFilter and GroupAntiAffinityFilter works\nthe scheduler code needs to understand the 'legacy' policy in the server\ngroup.\nThis is a stable only fix as in master the related code path has been removed\nafter deprecation.\n\nThis patch is backported from stable/juno\nIb46e035fa2687074ca05a902aa6321c507d01abc\n\nChange-Id: I66a2e08827bc909416335c37f6e1f7e214b3c022\nCloses-Bug: #1394551\n""}]",3,139609,d4dc39eb230bd234458466a5faa616bac9e1e303,9,9,1,9708,,,0,"Add legacy to the possible server group policies

To make the legacy GroupAffinityFilter and GroupAntiAffinityFilter works
the scheduler code needs to understand the 'legacy' policy in the server
group.
This is a stable only fix as in master the related code path has been removed
after deprecation.

This patch is backported from stable/juno
Ib46e035fa2687074ca05a902aa6321c507d01abc

Change-Id: I66a2e08827bc909416335c37f6e1f7e214b3c022
Closes-Bug: #1394551
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/139609/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/test_filter_scheduler.py', 'nova/scheduler/filter_scheduler.py']",2,d4dc39eb230bd234458466a5faa616bac9e1e303,bug/1394551," policies = set(('anti-affinity', 'affinity', 'legacy'))"," policies = set(('anti-affinity', 'affinity'))",10,8
openstack%2Fironic~master~Ie0d814aa860b2b119ada037e43dcacec5206a7f0,openstack/ironic,master,Ie0d814aa860b2b119ada037e43dcacec5206a7f0,Add a TODO file,MERGED,2015-01-23 22:39:26.000000000,2015-01-26 15:01:43.000000000,2015-01-26 15:01:42.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 7882}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-23 22:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e3e068863ac5bf698f2a33c39edd86d28120722', 'message': 'Add a TODO file\n\nAdd a TODO file with some high-level, long-term goals.\n\nChange-Id: Ie0d814aa860b2b119ada037e43dcacec5206a7f0\n'}, {'number': 2, 'created': '2015-01-26 11:37:12.000000000', 'files': ['TODO.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e807c1896b468717edc38b47dc7014ad4275f78', 'message': 'Add a TODO file\n\nAdd a TODO file with some high-level, long-term goals.\n\nChange-Id: Ie0d814aa860b2b119ada037e43dcacec5206a7f0\n'}]",4,149777,6e807c1896b468717edc38b47dc7014ad4275f78,19,7,2,2889,,,0,"Add a TODO file

Add a TODO file with some high-level, long-term goals.

Change-Id: Ie0d814aa860b2b119ada037e43dcacec5206a7f0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/149777/1 && git format-patch -1 --stdout FETCH_HEAD,['TODO.rst'],1,0e3e068863ac5bf698f2a33c39edd86d28120722,(detached,"What is this file? ================== This file is a loosely-organized list of some of the high-level and long-term goals of the project's core development team. It is *not* a list of specific tasks or ongoing work - for that, please see the list of blueprints targeted to the current release cycle, here: https://launchpad.net/ironic/ Some of the Big Things we're working on ======================================= * Implementing a formal model for Node states. * Node introspection (discover properties of a known Node) See http://git.openstack.org/cgit/stackforge/ironic-discoverd/ * Support RAID and firmware management * Improving the Agent deploy driver ",,22,0
openstack%2Fsahara~master~I5d2e03dcfbca466da8dc83e22fb5fd57e7d8ee13,openstack/sahara,master,I5d2e03dcfbca466da8dc83e22fb5fd57e7d8ee13,Add cleanup in the integration test gating file,MERGED,2015-01-23 19:43:12.000000000,2015-01-26 15:01:35.000000000,2015-01-26 15:01:35.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 9740}]","[{'number': 1, 'created': '2015-01-23 19:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c6fee7e54f5fc5b20964c06baede27fba4ca7c87', 'message': 'Add cleanup in the integration test gating file\n\nIf setup() fails, meaning that tearDown() is not called, then any\ncleanup functions added will still be called\n\nCloses-bug: #1413303\nChange-Id: I5d2e03dcfbca466da8dc83e22fb5fd57e7d8ee13\n'}, {'number': 2, 'created': '2015-01-24 02:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c3e3c35fdfbbe0ca10f99a236311322407f7d67f', 'message': 'Add cleanup in the integration test gating file\n\nIf setup() fails, meaning that tearDown() is not called, then any\ncleanup functions added will still be called\n\nCloses-bug: #1413303\nChange-Id: I5d2e03dcfbca466da8dc83e22fb5fd57e7d8ee13\n'}, {'number': 3, 'created': '2015-01-24 17:50:32.000000000', 'files': ['sahara/tests/integration/tests/gating/test_spark_gating.py', 'sahara/tests/integration/tests/gating/test_vanilla_two_gating.py', 'sahara/tests/integration/tests/gating/test_hdp2_gating.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/55a33c42150670285c23f5d9981750182ba20124', 'message': 'Add cleanup in the integration test gating file\n\nIf setup() fails, meaning that tearDown() is not called, then any\ncleanup functions added will still be called\n\nCloses-bug: #1413303\nChange-Id: I5d2e03dcfbca466da8dc83e22fb5fd57e7d8ee13\n'}]",0,149732,55a33c42150670285c23f5d9981750182ba20124,29,5,3,9740,,,0,"Add cleanup in the integration test gating file

If setup() fails, meaning that tearDown() is not called, then any
cleanup functions added will still be called

Closes-bug: #1413303
Change-Id: I5d2e03dcfbca466da8dc83e22fb5fd57e7d8ee13
",git fetch https://review.opendev.org/openstack/sahara refs/changes/32/149732/3 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/integration/tests/gating/test_spark_gating.py', 'sahara/tests/integration/tests/gating/test_vanilla_two_gating.py', 'sahara/tests/integration/tests/gating/test_hdp2_gating.py']",3,c6fee7e54f5fc5b20964c06baede27fba4ca7c87,bug/1413303," self.addCleanup(self.delete_objects, node_group_template_id_list=[self.ng_tmpl_rm_nn_id]) self.addCleanup(self.delete_objects, node_group_template_id_list=[self.ng_tmpl_nm_dn_id]) self.addCleanup(self.delete_objects, cluster_template_id=self.cluster_template_id) self.addCleanup(self.delete_objects, cluster_id=cluster_id)"," self.delete_objects(self.cluster_id, self.cluster_template_id, self.ng_template_ids)",23,6
openstack%2Fsahara-dashboard~master~I8986669247813da56a21d188b13f443c63434114,openstack/sahara-dashboard,master,I8986669247813da56a21d188b13f443c63434114,Updated from global requirements,MERGED,2015-01-26 10:34:41.000000000,2015-01-26 14:59:26.000000000,2015-01-26 14:59:25.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}]","[{'number': 1, 'created': '2015-01-26 10:34:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/f45ef04b2ff29742fa59a636fccfb3b2a0119171', 'message': 'Updated from global requirements\n\nChange-Id: I8986669247813da56a21d188b13f443c63434114\n'}]",0,149983,f45ef04b2ff29742fa59a636fccfb3b2a0119171,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8986669247813da56a21d188b13f443c63434114
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/83/149983/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f45ef04b2ff29742fa59a636fccfb3b2a0119171,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Fossa~master~I6e3d54617664d92e46bf132f227900ca0a0024ce,openstack/ossa,master,I6e3d54617664d92e46bf132f227900ca0a0024ce,Reverse TOC order,MERGED,2015-01-20 20:22:29.000000000,2015-01-26 14:57:49.000000000,2015-01-26 14:57:49.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-20 20:22:29.000000000', 'files': ['doc/source/_exts/vmt.py'], 'web_link': 'https://opendev.org/openstack/ossa/commit/b4f562ed019b02a46df6464a60ed3dc766908a4c', 'message': 'Reverse TOC order\n\nThis change will put most recent OSSAs on the top.\n\nChange-Id: I6e3d54617664d92e46bf132f227900ca0a0024ce\n'}]",0,148710,b4f562ed019b02a46df6464a60ed3dc766908a4c,7,3,1,9311,,,0,"Reverse TOC order

This change will put most recent OSSAs on the top.

Change-Id: I6e3d54617664d92e46bf132f227900ca0a0024ce
",git fetch https://review.opendev.org/openstack/ossa refs/changes/10/148710/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/vmt.py'],1,b4f562ed019b02a46df6464a60ed3dc766908a4c,,"def reverse_toctree(app, doctree, docname): """"""Reverse the order of entries in the root toctree if 'glob' is used."""""" if docname == ""index"": for node in doctree.traverse(): if node.tagname == ""toctree"" and node.get(""glob""): node[""entries""].reverse() break app.connect(""doctree-resolved"", reverse_toctree)",,10,0
openstack%2Fsahara-image-elements~master~I720c90aa0f0174148c3ed1eab7880e924ac6835a,openstack/sahara-image-elements,master,I720c90aa0f0174148c3ed1eab7880e924ac6835a,Add different version builders support for Cloudera plugin,MERGED,2015-01-18 15:47:27.000000000,2015-01-26 14:57:38.000000000,2015-01-26 14:57:38.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 7745}, {'_account_id': 10670}, {'_account_id': 13662}]","[{'number': 1, 'created': '2015-01-18 15:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/3efc3d8ffd420834f8cf83f61f36d4a722f76769', 'message': 'Add different version builders support for Cloudera plugin\n\nWe add 5.0, 5.3, and latest versions support Cloudera plugin. Latest\nversion will always install latest packages from Cloudera cdh and cm\nrepositories, while 5.0 and 5.3 will only pull packages from 5.0.0 and\n5.3.0 repositories.\n\nimplements bp: cdh-version-management\nChange-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a\n'}, {'number': 2, 'created': '2015-01-18 17:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/ccfc773e3716bba7b7fda378202988ecada31aeb', 'message': 'Add different version builders support for Cloudera plugin\n\nWe add 5.0, 5.3, and latest versions support Cloudera plugin. Latest\nversion will always install latest packages from Cloudera cdh and cm\nrepositories, while 5.0 and 5.3 will only pull packages from 5.0.0 and\n5.3.0 repositories.\n\nimplements bp: cdh-version-management\nChange-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a\n'}, {'number': 3, 'created': '2015-01-18 17:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/1ea4f16461505b9f74fd3b1051144bf1fca14c08', 'message': 'Add different version builders support for Cloudera plugin\n\nWe add 5.0, 5.3, and latest versions support Cloudera plugin. Latest\nversion will always install latest packages from Cloudera cdh and cm\nrepositories, while 5.0 and 5.3 will only pull packages from 5.0.0 and\n5.3.0 repositories.\n\nimplements bp: cdh-version-management\nChange-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a\n'}, {'number': 4, 'created': '2015-01-19 03:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/4fb94eeb048c893d3e409e06b60361906b14065b', 'message': 'Add different version builders support for Cloudera plugin\n\nWe add 5.0, 5.3, and latest versions support Cloudera plugin. Latest\nversion will always install latest packages from Cloudera cdh and cm\nrepositories, while 5.0 and 5.3 will only pull packages from 5.0.0 and\n5.3.0 repositories.\n\nimplements bp: cdh-version-management\nChange-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a\n'}, {'number': 5, 'created': '2015-01-22 00:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/7e8ea05b8225fb36a06ba4aa1cb5fea85d2837d2', 'message': 'Add different version builders support for Cloudera plugin\n\nWe add 5.0 and 5.3 versions support Cloudera plugin. They will only pull packages\nfrom 5.0.0 and 5.3.0 repositories depending on the version. 5.0.0 will pull less\npackages than 5.3.0, for in CDH5.0 plugin we does not support as many services as\nin CDH5.3 plugin.\n\nimplements bp: cdh-version-management\nChange-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a\n'}, {'number': 6, 'created': '2015-01-22 03:20:09.000000000', 'files': ['elements/hadoop-cloudera/pre-install.d/10-add-mirror', 'diskimage-create/diskimage-create.sh', 'elements/hadoop-cloudera/install.d/50-install-cloudera', 'elements/hadoop-cloudera/post-install.d/70-turn-services-off'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/6900b9dcbe30748ce6e550bc7701b0dcdf6af877', 'message': 'Add different version builders support for Cloudera plugin\n\nWe add 5.0 and 5.3 versions support Cloudera plugin. They will only pull packages\nfrom 5.0.0 and 5.3.0 repositories depending on the version. 5.0.0 will pull less\npackages than 5.3.0, for in CDH5.0 plugin we does not support as many services as\nin CDH5.3 plugin.\n\nimplements bp: cdh-version-management\nChange-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a\n'}]",3,148110,6900b9dcbe30748ce6e550bc7701b0dcdf6af877,42,7,6,13662,,,0,"Add different version builders support for Cloudera plugin

We add 5.0 and 5.3 versions support Cloudera plugin. They will only pull packages
from 5.0.0 and 5.3.0 repositories depending on the version. 5.0.0 will pull less
packages than 5.3.0, for in CDH5.0 plugin we does not support as many services as
in CDH5.3 plugin.

implements bp: cdh-version-management
Change-Id: I720c90aa0f0174148c3ed1eab7880e924ac6835a
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/10/148110/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/hadoop-cloudera/pre-install.d/10-add-mirror', 'diskimage-create/diskimage-create.sh', 'elements/hadoop-cloudera/install.d/50-install-cloudera']",3,3efc3d8ffd420834f8cf83f61f36d4a722f76769,bp/cdh-version-management,"if [ $DIB_CDH_VERSION != ""5.0"" ]; then # CDH5.0 does not have below packages. install-packages \ sentry \ spark-history-server fi ", sentry \ spark-history-server \,221,42
openstack%2Foslo.messaging~master~Ibbfd6c946e25435ff37e459bf5e82565a1e21778,openstack/oslo.messaging,master,Ibbfd6c946e25435ff37e459bf5e82565a1e21778,Fix functionnal tests,MERGED,2015-01-21 11:25:46.000000000,2015-01-26 14:56:02.000000000,2015-01-26 14:56:01.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 8415}]","[{'number': 1, 'created': '2015-01-21 11:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/84771d37a1fcd15ff9cb072f5c3d8a91ae320887', 'message': 'Fix functionnal tests\n\nThis removes the functionnal tests from the legacy\ndirectory and run the ones in the new directory with tox.\n\nChange-Id: Ibbfd6c946e25435ff37e459bf5e82565a1e21778\n'}, {'number': 2, 'created': '2015-01-21 17:00:41.000000000', 'files': ['tests/functional/utils.py', 'tox.ini', 'tests/functional/__init__.py', 'tests/functional/test_functional.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f286ef1114aad1e13f2e9c14c4ee275e1aa1e97c', 'message': 'Fix functionnal tests\n\nThis removes the functionnal tests from the legacy\ndirectory and run the ones in the new directory with tox.\n\nChange-Id: Ibbfd6c946e25435ff37e459bf5e82565a1e21778\n'}]",0,148889,f286ef1114aad1e13f2e9c14c4ee275e1aa1e97c,11,4,2,2813,,,0,"Fix functionnal tests

This removes the functionnal tests from the legacy
directory and run the ones in the new directory with tox.

Change-Id: Ibbfd6c946e25435ff37e459bf5e82565a1e21778
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/89/148889/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/utils.py', 'tox.ini', 'tests/functional/__init__.py', 'tests/functional/test_functional.py']",4,84771d37a1fcd15ff9cb072f5c3d8a91ae320887,bug/1371723,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo import messaging from testtools import matchers from tests.functional.utils import ClientStub from tests.functional.utils import IsValidDistributionOf from tests.functional.utils import NotificationFixture from tests.functional.utils import RpcServerGroupFixture from tests.functional.utils import SkipIfNoTransportURL from tests.functional.utils import TransportFixture class CallTestCase(SkipIfNoTransportURL): def test_specific_server(self): group = self.useFixture(RpcServerGroupFixture(self.url)) client = group.client(1) client.append(text='open') self.assertEqual('openstack', client.append(text='stack')) client.add(increment=2) self.assertEqual(12, client.add(increment=10)) self.assertEqual(9, client.subtract(increment=3)) self.assertEqual('openstack', group.servers[1].endpoint.sval) self.assertEqual(9, group.servers[1].endpoint.ival) for i in [0, 2]: self.assertEqual('', group.servers[i].endpoint.sval) self.assertEqual(0, group.servers[i].endpoint.ival) def test_server_in_group(self): group = self.useFixture(RpcServerGroupFixture(self.url)) client = group.client() data = [c for c in 'abcdefghijklmn'] for i in data: client.append(text=i) for s in group.servers: self.assertThat(len(s.endpoint.sval), matchers.GreaterThan(0)) actual = [[c for c in s.endpoint.sval] for s in group.servers] self.assertThat(actual, IsValidDistributionOf(data)) def test_different_exchanges(self): t = self.useFixture(TransportFixture(self.url)) # If the different exchanges are not honoured, then the # teardown may hang unless we broadcast all control messages # to each server group1 = self.useFixture(RpcServerGroupFixture(self.url, transport=t, use_fanout_ctrl=True)) group2 = self.useFixture(RpcServerGroupFixture(self.url, exchange=""a"", transport=t, use_fanout_ctrl=True)) group3 = self.useFixture(RpcServerGroupFixture(self.url, exchange=""b"", transport=t, use_fanout_ctrl=True)) client1 = group1.client(1) data1 = [c for c in 'abcdefghijklmn'] for i in data1: client1.append(text=i) client2 = group2.client() data2 = [c for c in 'opqrstuvwxyz'] for i in data2: client2.append(text=i) actual1 = [[c for c in s.endpoint.sval] for s in group1.servers] self.assertThat(actual1, IsValidDistributionOf(data1)) actual1 = [c for c in group1.servers[1].endpoint.sval] self.assertThat([actual1], IsValidDistributionOf(data1)) for s in group1.servers: expected = len(data1) if group1.servers.index(s) == 1 else 0 self.assertEqual(expected, len(s.endpoint.sval)) self.assertEqual(0, s.endpoint.ival) actual2 = [[c for c in s.endpoint.sval] for s in group2.servers] for s in group2.servers: self.assertThat(len(s.endpoint.sval), matchers.GreaterThan(0)) self.assertEqual(0, s.endpoint.ival) self.assertThat(actual2, IsValidDistributionOf(data2)) for s in group3.servers: self.assertEqual(0, len(s.endpoint.sval)) self.assertEqual(0, s.endpoint.ival) def test_timeout(self): transport = self.useFixture(TransportFixture(self.url)) target = messaging.Target(topic=""no_such_topic"") c = ClientStub(transport.transport, target, timeout=1) self.assertThat(c.ping, matchers.raises(messaging.MessagingTimeout)) def test_exception(self): group = self.useFixture(RpcServerGroupFixture(self.url)) client = group.client(1) client.add(increment=2) f = lambda: client.subtract(increment=3) self.assertThat(f, matchers.raises(ValueError)) class CastTestCase(SkipIfNoTransportURL): # Note: casts return immediately, so these tests utilise a special # internal sync() cast to ensure prior casts are complete before # making the necessary assertions. def test_specific_server(self): group = self.useFixture(RpcServerGroupFixture(self.url)) client = group.client(1, cast=True) client.append(text='open') client.append(text='stack') client.add(increment=2) client.add(increment=10) group.sync() self.assertEqual('openstack', group.servers[1].endpoint.sval) self.assertEqual(12, group.servers[1].endpoint.ival) for i in [0, 2]: self.assertEqual('', group.servers[i].endpoint.sval) self.assertEqual(0, group.servers[i].endpoint.ival) def test_server_in_group(self): group = self.useFixture(RpcServerGroupFixture(self.url)) client = group.client(cast=True) for i in range(20): client.add(increment=1) group.sync() total = 0 for s in group.servers: ival = s.endpoint.ival self.assertThat(ival, matchers.GreaterThan(0)) self.assertThat(ival, matchers.LessThan(20)) total += ival self.assertEqual(20, total) def test_fanout(self): group = self.useFixture(RpcServerGroupFixture(self.url)) client = group.client('all', cast=True) client.append(text='open') client.append(text='stack') client.add(increment=2) client.add(increment=10) group.sync(server='all') for s in group.servers: self.assertEqual('openstack', s.endpoint.sval) self.assertEqual(12, s.endpoint.ival) class NotifyTestCase(SkipIfNoTransportURL): # NOTE(sileht): Each test must not use the same topics # to be run in parallel def test_simple(self): transport = self.useFixture(TransportFixture(self.url)) listener = self.useFixture(NotificationFixture(transport.transport, ['test_simple'])) transport.wait() notifier = listener.notifier('abc') notifier.info({}, 'test', 'Hello World!') event = listener.events.get(timeout=1) self.assertEqual('info', event[0]) self.assertEqual('test', event[1]) self.assertEqual('Hello World!', event[2]) self.assertEqual('abc', event[3]) def test_multiple_topics(self): transport = self.useFixture(TransportFixture(self.url)) listener = self.useFixture(NotificationFixture(transport.transport, ['a', 'b'])) transport.wait() a = listener.notifier('pub-a', topic='a') b = listener.notifier('pub-b', topic='b') sent = { 'pub-a': [a, 'test-a', 'payload-a'], 'pub-b': [b, 'test-b', 'payload-b'] } for e in sent.values(): e[0].info({}, e[1], e[2]) received = {} while len(received) < len(sent): e = listener.events.get(timeout=1) received[e[3]] = e for key in received: actual = received[key] expected = sent[key] self.assertEqual('info', actual[0]) self.assertEqual(expected[1], actual[1]) self.assertEqual(expected[2], actual[2]) def test_multiple_servers(self): transport = self.useFixture(TransportFixture(self.url)) listener_a = self.useFixture(NotificationFixture(transport.transport, ['test-topic'])) listener_b = self.useFixture(NotificationFixture(transport.transport, ['test-topic'])) transport.wait() n = listener_a.notifier('pub') events_out = [('test-%s' % c, 'payload-%s' % c) for c in 'abcdefgh'] for event_type, payload in events_out: n.info({}, event_type, payload) events_in = [[(e[1], e[2]) for e in listener_a.get_events()], [(e[1], e[2]) for e in listener_b.get_events()]] self.assertThat(events_in, IsValidDistributionOf(events_out)) for stream in events_in: self.assertThat(len(stream), matchers.GreaterThan(0)) def test_independent_topics(self): transport = self.useFixture(TransportFixture(self.url)) listener_a = self.useFixture(NotificationFixture(transport.transport, ['1'])) listener_b = self.useFixture(NotificationFixture(transport.transport, ['2'])) transport.wait() a = listener_a.notifier('pub-1', topic='1') b = listener_b.notifier('pub-2', topic='2') a_out = [('test-1-%s' % c, 'payload-1-%s' % c) for c in 'abcdefgh'] for event_type, payload in a_out: a.info({}, event_type, payload) b_out = [('test-2-%s' % c, 'payload-2-%s' % c) for c in 'ijklmnop'] for event_type, payload in b_out: b.info({}, event_type, payload) for expected in a_out: actual = listener_a.events.get(timeout=0.5) self.assertEqual('info', actual[0]) self.assertEqual(expected[0], actual[1]) self.assertEqual(expected[1], actual[2]) self.assertEqual('pub-1', actual[3]) for expected in b_out: actual = listener_b.events.get(timeout=0.5) self.assertEqual('info', actual[0]) self.assertEqual(expected[0], actual[1]) self.assertEqual(expected[1], actual[2]) self.assertEqual('pub-2', actual[3]) def test_all_categories(self): transport = self.useFixture(TransportFixture(self.url)) listener = self.useFixture(NotificationFixture( transport.transport, ['test_all_categories'])) transport.wait() n = listener.notifier('abc') cats = ['debug', 'audit', 'info', 'warn', 'error', 'critical'] events = [(getattr(n, c), c, 'type-' + c, c + '-data') for c in cats] for e in events: e[0]({}, e[2], e[3]) # order between events with different categories is not guaranteed received = {} for expected in events: e = listener.events.get(timeout=0.5) received[e[0]] = e for expected in events: actual = received[expected[1]] self.assertEqual(expected[1], actual[0]) self.assertEqual(expected[2], actual[1]) self.assertEqual(expected[3], actual[2]) ",3,625
openstack%2Fnova~master~I8d2d0b44890fa5277dc9d902d12d6f9ac883f155,openstack/nova,master,I8d2d0b44890fa5277dc9d902d12d6f9ac883f155,disk/vfs: introduce new option to setup,MERGED,2014-09-04 16:04:45.000000000,2015-01-26 14:54:04.000000000,2015-01-26 14:54:01.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 8802}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-09-04 16:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/760ea5a67fec9c0a6348b2692dbf30bc0d16fd2f', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 2, 'created': '2014-09-06 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08a9ef35f855ec809df09fed37c69c29794a208f', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 3, 'created': '2014-09-06 08:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfd6c337cbac3cea0c0e5f8c5ffd84055bb31c03', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 4, 'created': '2014-09-10 16:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a11b8f23f62166a65ad99b8d223592333cece77', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 5, 'created': '2014-09-11 15:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c10be06c9eb5bb2a7a1fbbeda8e7c408ff918aa', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 6, 'created': '2014-09-12 14:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76a60bb568ef6973251d41b7b419fcf75026a106', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 7, 'created': '2014-09-14 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67777c25f3d617b6414ee4e3945433afd049efe7', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 8, 'created': '2014-09-15 11:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d37a5239be7aa2da42d81e3e6579edaa7e2a5782', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 9, 'created': '2014-09-15 13:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d2676d2f21627f14a9dfdcb67be4d4cb851cbb2', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155\n'}, {'number': 10, 'created': '2014-09-17 13:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/211d12adfbcb8c24b8f2ef54b0ba10f51d5a4d26', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}, {'number': 11, 'created': '2014-09-17 13:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6674fa5d608ce24df15b1bfa149f918848c5a85f', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}, {'number': 12, 'created': '2014-10-15 07:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c1caf78c033e71ddc43754bcd6f9309474bc4e', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}, {'number': 13, 'created': '2014-10-21 10:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48b2353ccd4f3ee69637170cf05aa81d271687e8', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}, {'number': 14, 'created': '2014-10-31 13:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7f112a2fadbb45faf5d8fda01f00f016ab2bc00', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}, {'number': 15, 'created': '2015-01-15 10:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c9a639863ace8461927a8213336f62f227bcfbb', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}, {'number': 16, 'created': '2015-01-21 09:18:56.000000000', 'files': ['nova/virt/disk/vfs/localfs.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/api.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/virt/disk/vfs/guestfs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c0e7cafff16c934adf80aecbfea8c8f04c10da1a', 'message': 'disk/vfs: introduce new option to setup\n\nIntroduces new option mount=True|False which prevents\nmounting devices when setuping an instance of vfs.\n\nRelated-bug: #1358316\nChange-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155'}]",1,119103,c0e7cafff16c934adf80aecbfea8c8f04c10da1a,108,12,16,7730,,,0,"disk/vfs: introduce new option to setup

Introduces new option mount=True|False which prevents
mounting devices when setuping an instance of vfs.

Related-bug: #1358316
Change-Id: I8d2d0b44890fa5277dc9d902d12d6f9ac883f155",git fetch https://review.opendev.org/openstack/nova refs/changes/03/119103/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/disk/vfs/test_localfs.py', 'nova/virt/disk/vfs/localfs.py', 'nova/virt/disk/vfs/api.py', 'nova/tests/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/guestfs.py']",5,760ea5a67fec9c0a6348b2692dbf30bc0d16fd2f,bug/1358316," self.opt_mount = False def setup(self, mount=True): if mount: self.opt_mount = True self.setup_os() # We initialize Augeas only if device mounted self.handle.aug_init(""/"", 0) if self.opt_mount: self.handle.aug_close()"," def setup(self): self.setup_os() self.handle.aug_init(""/"", 0) self.handle.aug_close()",67,12
openstack%2Fnova~master~I00e608ebcefc2db35eed23ead6e7556fe3dccb2d,openstack/nova,master,I00e608ebcefc2db35eed23ead6e7556fe3dccb2d,disk/vfs: introduce new method get_image_fs,MERGED,2014-09-04 16:04:45.000000000,2015-01-26 14:45:25.000000000,2015-01-26 14:45:22.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-09-04 16:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22ad00960e33607e4b4e16b0838aa8035151e683', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 2, 'created': '2014-09-06 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3095d9465ef71883da3d03510e37e63fb4f955cc', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 3, 'created': '2014-09-06 08:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af45671178f0cb13c39ea885cea1492d5200af0b', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 4, 'created': '2014-09-10 16:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7a866b1557eeac93a1023e9eef51b0e0cae0e6', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 5, 'created': '2014-09-12 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62645b7d60fe8b657ef7355f28dd3f56197ffcb6', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 6, 'created': '2014-09-12 10:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/188af98e6af0af8ac7fa4df185374b4ffe60dc6a', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 7, 'created': '2014-09-12 13:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/669ebb12516b6b3c2a7a39e61b0a52f44fdb4e95', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 8, 'created': '2014-09-12 14:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a635ff16ddddb812d2a55196e63e7ad4da414bc', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 9, 'created': '2014-09-14 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1e6134382d1d340d8685dd6340223e6e9550f97', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 10, 'created': '2014-09-15 11:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30b163e3b4911e0afaac6ab3adf3b86f17d8c527', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 11, 'created': '2014-09-15 13:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac36c5dbbe7ce3d7f228b39e76e0b7e396ac1c9d', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d\n'}, {'number': 12, 'created': '2014-09-17 13:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/821ed36b327542693fd0a9d5ece65e977cb91dac', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nRelated-bug: #1358316\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d'}, {'number': 13, 'created': '2014-10-15 07:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04f65a41b0a48f985784ce16badc75e3db2b5173', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nRelated-bug: #1358316\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d'}, {'number': 14, 'created': '2014-10-21 10:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ea24fdb6e0cbc6d670608bae96a054ffa0c32d5', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nRelated-bug: #1358316\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d'}, {'number': 15, 'created': '2014-10-31 13:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a4f2268f390d05f21342213ed41b271e93f9e2b', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nRelated-bug: #1358316\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d'}, {'number': 16, 'created': '2015-01-15 10:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/230f9dd99cc2dd0d46bb79d688aa0670be5ad214', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nRelated-bug: #1358316\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d'}, {'number': 17, 'created': '2015-01-21 09:18:56.000000000', 'files': ['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/api.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/virt/disk/vfs/guestfs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa04e1e7dfec35043f74d4d30f058d5573b5d20d', 'message': 'disk/vfs: introduce new method get_image_fs\n\nIntroduces a new method get_image_fs which returns\nthe filesystem type of an image given.\n\nRelated-bug: #1358316\nChange-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d'}]",8,119102,fa04e1e7dfec35043f74d4d30f058d5573b5d20d,130,17,17,7730,,,0,"disk/vfs: introduce new method get_image_fs

Introduces a new method get_image_fs which returns
the filesystem type of an image given.

Related-bug: #1358316
Change-Id: I00e608ebcefc2db35eed23ead6e7556fe3dccb2d",git fetch https://review.opendev.org/openstack/nova refs/changes/02/119102/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/disk/vfs/test_localfs.py', 'nova/tests/virt/disk/vfs/fakeguestfs.py', 'nova/virt/disk/vfs/localfs.py', 'nova/virt/disk/vfs/api.py', 'nova/tests/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/guestfs.py']",6,22ad00960e33607e4b4e16b0838aa8035151e683,bug/1358316, def get_image_fs(self): return self.handle.vfs_type('/dev/sda'),,62,0
openstack%2Fpuppet-keystone~master~I9a4f72f9a1de200b324aa52eb3ea90d15423c062,openstack/puppet-keystone,master,I9a4f72f9a1de200b324aa52eb3ea90d15423c062,handle missing project/tenant when using ldap backend,MERGED,2014-11-11 03:07:17.000000000,2015-01-26 14:44:31.000000000,2015-01-25 04:19:24.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6525}, {'_account_id': 7462}, {'_account_id': 8482}, {'_account_id': 9983}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 13294}]","[{'number': 1, 'created': '2014-11-11 03:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/91380f3fbc6b021054dbaf83bc3f356fe1e578a3', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user create\ncommand, which has the --tenant flag which will create the user and add\nthe user to the given tenant.  However, if using a read-only LDAP identity\nbackend, the user must already exist, and user create cannot be used.  The\nonly other way to add the user to a tenant is with user role add, however,\nthe given role must already exist.  So, make sure the user is a member of\nthe default role ""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order to\nlist the tenants for a given user, you have to use the Keystone V3 API\ncall GET /users/{user_id}/projects.  Normally keystone_user.tenant isn\'t\ncalled when creating a user since user-create will assign the tenant.\nBut with read-only LDAP with existing users, we need to look up the tenant\nfor the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant - Puppet\nboolean values are not being passed to the ruby type handling code as ruby\nboolean values, but using :parent => Puppet::Parameter::Boolean makes it\nwork correctly.\n\nI also fixed some minor formatting and indentation problems, and added some\ndebug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 2, 'created': '2014-11-11 03:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e7c966b554e134dc28a537c4e3a3ff688bf63725', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 3, 'created': '2014-11-13 01:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3d56aa976f98c1b56813dc4b851ac3c8f44b3052', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 4, 'created': '2014-11-14 15:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cce036aa8f8e6f0f190c470382de5a4aa6a9ca0d', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 5, 'created': '2014-11-18 03:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9cd8770555f6dfff4cc4ca333908e27cb1b6914e', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 6, 'created': '2014-11-18 03:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/344b746b2d133dc74e872f587ed6588b1093073a', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 7, 'created': '2014-11-20 13:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0ae423f3e819b8d926856eca6e17ebf73ff34c08', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 8, 'created': '2014-12-09 19:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/eb0a8da88a5115224de8f89986b255c4b86ea5b8', 'message': 'support Keystone with read-only LDAP identity backend\n\nThere were a couple of problems with keystone_user tenant and tenant=\n\ntenant= - a user has to belong to a tenant before a role (like\nadmin) can be added to the user.  Usually this is handled by the user\ncreate command, which has the --tenant flag which will create the\nuser and add the user to the given tenant.  However, if using a\nread-only LDAP identity backend, the user must already exist, and\nuser create cannot be used.  The only other way to add the user to a\ntenant is with user role add, however, the given role must already\nexist.  So, make sure the user is a member of the default role\n""_member_"" first, then assign the user to the tenant.\n\ntenant - ""tenantId"" is not a property of the ""user"" object -\nthat is, if you do user-get, it does not show the tenantId.  In order\nto list the tenants for a given user, you have to use the Keystone V3\nAPI call GET /users/{user_id}/projects.  Normally\nkeystone_user.tenant isn\'t called when creating a user since\nuser-create will assign the tenant.  But with read-only LDAP with\nexisting users, we need to look up the tenant for the user.\n\nFinally, there seems to be a problem with :ignore_default_tenant\n- Puppet boolean values are not being passed to the ruby type\nhandling code as ruby boolean values, but using\n:parent => Puppet::Parameter::Boolean makes it work correctly.\n\nI also fixed some minor formatting and indentation problems,\nand added some debug tracing.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 9, 'created': '2015-01-14 01:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7d0531b08781f83a5b679d648b6f91f62f1515cc', 'message': 'handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using the sql (default)\nbackend.  This means calls like user list and user show will not show the\ndefault project.  For getting the project/tenant, we have to use the v3\napi call to list projects for a given user.  If there is more than one project\nlisted, the first one is used.  For setting the project/tenant, this is\nusually done with user create, but when ldap is read-only, we have to use\nrole add to add the user to a default _member_ role and at the same time\nassign the user to a given project/tenant.\nThis also adds support for using the openstack $obj show commands which\nreturn --format shell output, and return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n'}, {'number': 10, 'created': '2015-01-21 03:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/63564cf46bc6bbcea17852149c4708693dcb3a53', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using the sql (default)\nbackend.  This means calls like user list and user show will not show the\ndefault project.  For getting the project/tenant, we don't actually get the\nproject/tenant, we just check to see if the user is assigned to the given\ntenant/project.  For setting the project/tenant, this is\nusually done with user create, but when ldap is read-only, we have to use\nrole add to add the user to a default _member_ role and at the same time\nassign the user to a given project/tenant.\nThis also adds support for using the openstack $obj show commands which\nreturn --format shell output, and return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 11, 'created': '2015-01-21 03:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3ab386e0b5667912c6e6bb169b941f221641f443', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, we don't actually get the project/tenant,\nwe just check to see if the user is assigned to the given\ntenant/project.  For setting the project/tenant, this is usually\ndone with user create, but when ldap is read-only, we have to\nuse role add to add the user to a default _member_ role and at\nthe same time assign the user to a given project/tenant.\nThis also adds support for using the openstack $obj show commands\nwhich return --format shell output, and return a hash of\nkey/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 12, 'created': '2015-01-21 14:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f0e83cc3605bd1236de2f05c914c0fd4f09d6c9f', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, we don't actually get the project/tenant,\nwe just check to see if the user is assigned to the given\ntenant/project.  For setting the project/tenant, this is usually\ndone with user create, but when ldap is read-only, we have to\nuse role add to add the user to a default _member_ role and at\nthe same time assign the user to a given project/tenant.\nThis also adds support for using the openstack $obj show commands\nwhich return --format shell output, and return a hash of\nkey/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 13, 'created': '2015-01-22 22:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3968b404db2b599b8f630da47fe946a48050a229', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, we don't actually get the project/tenant,\nwe just check to see if the user is assigned to the given\ntenant/project.  For setting the project/tenant, this is usually\ndone with user create, but when ldap is read-only, we have to\nuse role add to add the user to a default _member_ role and at\nthe same time assign the user to a given project/tenant.\nThis also adds support for using the openstack $obj show commands\nwhich return --format shell output, and return a hash of\nkey/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 14, 'created': '2015-01-23 02:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5ec8f35c624d7bd151b9d316a9c4237a092b115a', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, if it is not present in the instances\ninformation provided by user list --long, we don't actually\nget the project/tenant, we just check to see if the user is\nassigned to the given tenant/project.  For setting the\nproject/tenant, this is usually done with user create, but when\nldap is read-only, we have to use role add to add the user to a\ndefault _member_ role and at the same time assign the user to a\ngiven project/tenant.  This also adds support for using the\nopenstack $obj show commands which return --format shell output,\nand return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 15, 'created': '2015-01-23 18:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f470429ad813ba71d97bb3f856ae6a03e5e2b02a', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, if it is not present in the instances\ninformation provided by user list --long, we don't actually\nget the project/tenant, we just check to see if the user is\nassigned to the given tenant/project.  For setting the\nproject/tenant, this is usually done with user create, but when\nldap is read-only, we have to use role add to add the user to a\ndefault _member_ role and at the same time assign the user to a\ngiven project/tenant.  This also adds support for using the\nopenstack $obj show commands which return --format shell output,\nand return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 16, 'created': '2015-01-24 02:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/de74abffa0003c98ece7c409b1968c1c64de885e', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, if it is not present in the instances\ninformation provided by user list --long, we don't actually\nget the project/tenant, we just check to see if the user is\nassigned to the given tenant/project.  For setting the\nproject/tenant, this is usually done with user create, but when\nldap is read-only, we have to use role add to add the user to a\ndefault _member_ role and at the same time assign the user to a\ngiven project/tenant.  This also adds support for using the\nopenstack $obj show commands which return --format shell output,\nand return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 17, 'created': '2015-01-25 02:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/729a9824f3d51d8d13bee3578f30af541e08e770', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, if it is not present in the instances\ninformation provided by user list --long, we don't actually\nget the project/tenant, we just check to see if the user is\nassigned to the given tenant/project.  For setting the\nproject/tenant, this is usually done with user create, but when\nldap is read-only, we have to use role add to add the user to a\ndefault _member_ role and at the same time assign the user to a\ngiven project/tenant.  This also adds support for using the\nopenstack $obj show commands which return --format shell output,\nand return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}, {'number': 18, 'created': '2015-01-25 02:39:10.000000000', 'files': ['spec/unit/provider/keystone_user/openstack_spec.rb', 'lib/puppet/provider/keystone.rb', 'lib/puppet/provider/keystone_user/openstack.rb', 'spec/unit/provider/openstack_spec.rb', 'lib/puppet/type/keystone_user.rb', 'lib/puppet/provider/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1b8010e44fb3a6ec8554dc813314e7e254378da9', 'message': ""handle missing project/tenant when using ldap backend\n\nThe project/tenant is only stored with the user when using\nthe sql (default) backend.  This means calls like user list\nand user show will not show the default project.  For getting\nthe project/tenant, if it is not present in the instances\ninformation provided by user list --long, we don't actually\nget the project/tenant, we just check to see if the user is\nassigned to the given tenant/project.  For setting the\nproject/tenant, this is usually done with user create, but when\nldap is read-only, we have to use role add to add the user to a\ndefault _member_ role and at the same time assign the user to a\ngiven project/tenant.  This also adds support for using the\nopenstack $obj show commands which return --format shell output,\nand return a hash of key/value pairs.\n\nCloses-Bug: #1391373\nChange-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062\n""}]",32,133601,1b8010e44fb3a6ec8554dc813314e7e254378da9,74,10,18,9983,,,0,"handle missing project/tenant when using ldap backend

The project/tenant is only stored with the user when using
the sql (default) backend.  This means calls like user list
and user show will not show the default project.  For getting
the project/tenant, if it is not present in the instances
information provided by user list --long, we don't actually
get the project/tenant, we just check to see if the user is
assigned to the given tenant/project.  For setting the
project/tenant, this is usually done with user create, but when
ldap is read-only, we have to use role add to add the user to a
default _member_ role and at the same time assign the user to a
given project/tenant.  This also adds support for using the
openstack $obj show commands which return --format shell output,
and return a hash of key/value pairs.

Closes-Bug: #1391373
Change-Id: I9a4f72f9a1de200b324aa52eb3ea90d15423c062
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/01/133601/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone.rb', 'lib/puppet/provider/keystone_user/keystone.rb', 'lib/puppet/type/keystone_user.rb']",3,91380f3fbc6b021054dbaf83bc3f356fe1e578a3,bug/1391373,"require 'puppet/parameter/boolean' newparam(:ignore_default_tenant, :boolean => true, :parent => Puppet::Parameter::Boolean) do"," newparam(:ignore_default_tenant, :boolean => true) do",154,16
openstack%2Fkeystoneauth-saml2~master~I61f13961c2686f1927914dc7be8105bf7a7161cd,openstack/keystoneauth-saml2,master,I61f13961c2686f1927914dc7be8105bf7a7161cd,Updated from global requirements,ABANDONED,2014-11-10 23:04:15.000000000,2015-01-26 14:43:40.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-11-10 23:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/599d15f1228ccb59e28fdf98ad198958f89db76a', 'message': 'Updated from global requirements\n\nChange-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd\n'}, {'number': 2, 'created': '2014-11-16 15:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/7a490b3d032b5b62e290f8113c8955250879db86', 'message': 'Updated from global requirements\n\nChange-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd\n'}, {'number': 3, 'created': '2014-11-18 11:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/15505e6552d81443547556eaefd344bc1e710fba', 'message': 'Updated from global requirements\n\nChange-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd\n'}, {'number': 4, 'created': '2014-11-20 14:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/2f6aea43f4d7b38cdd433e657af9a26383a8c0cc', 'message': 'Updated from global requirements\n\nChange-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd\n'}, {'number': 5, 'created': '2014-12-30 20:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/3eb58d5a3b0a192ccd51a24b6654b5ba66a14f66', 'message': 'Updated from global requirements\n\nChange-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd\n'}, {'number': 6, 'created': '2014-12-30 20:47:22.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth-saml2/commit/de270eb60bed6f3f98fb3e9be7c5f9d7dfa6741e', 'message': 'Updated from global requirements\n\nChange-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd\n'}]",0,133570,de270eb60bed6f3f98fb3e9be7c5f9d7dfa6741e,18,2,6,11131,,,0,"Updated from global requirements

Change-Id: I61f13961c2686f1927914dc7be8105bf7a7161cd
",git fetch https://review.opendev.org/openstack/keystoneauth-saml2 refs/changes/70/133570/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,599d15f1228ccb59e28fdf98ad198958f89db76a,pep8,"sphinx>=1.1.2,!=1.2.0,!=1.3b1,<1.3 oslosphinx>=2.2.0 # Apache-2.0 oslotest>=1.2.0 # Apache-2.0testtools>=0.9.36","sphinx>=1.1.2,!=1.2.0,<1.3 oslosphinx>=2.2.0.0a2 oslotest>=1.1.0.0a2testtools>=0.9.34",4,4
openstack%2Fneutron~master~Ic790cab648b213b55679038967fef12eb5cec606,openstack/neutron,master,Ic790cab648b213b55679038967fef12eb5cec606,Do not duplicate message consumers,MERGED,2015-01-21 13:00:23.000000000,2015-01-26 14:30:56.000000000,2015-01-26 09:38:14.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 5950}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7634}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 13:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/613b656b015dcb5904f759c055d4d1940aa06769', 'message': ""Do not duplicate message consumers\n\nOslo.messaging creates node topic (with node name as suffix)\nand fanout topic automatically. There's no need to do this\nin Neutron code.\n\nCloses bug 1413156\n\nChange-Id: Ic790cab648b213b55679038967fef12eb5cec606\n""}, {'number': 2, 'created': '2015-01-23 16:35:28.000000000', 'files': ['neutron/common/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da3d014bfa95c979db1d6ce18ba10d629b80481', 'message': ""Do not duplicate message consumers\n\nOslo.messaging creates node topic (with node name as suffix)\nand fanout topic automatically. There's no need to do this\nin Neutron code.\n\nCloses bug 1413156\n\nChange-Id: Ic790cab648b213b55679038967fef12eb5cec606\n""}]",3,148915,6da3d014bfa95c979db1d6ce18ba10d629b80481,51,28,2,5950,,,0,"Do not duplicate message consumers

Oslo.messaging creates node topic (with node name as suffix)
and fanout topic automatically. There's no need to do this
in Neutron code.

Closes bug 1413156

Change-Id: Ic790cab648b213b55679038967fef12eb5cec606
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/148915/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/rpc.py'],1,613b656b015dcb5904f759c055d4d1940aa06769,bug/1413156,," # Share this same connection for these Consumers node_topic = '%s.%s' % (self.topic, self.host) self.conn.create_consumer(node_topic, endpoints, fanout=False) self.conn.create_consumer(self.topic, endpoints, fanout=True) ",0,6
openstack%2Fkeystone~master~I069041a79ba32a024b925a3d5065a5b3431e3515,openstack/keystone,master,I069041a79ba32a024b925a3d5065a5b3431e3515,Updated from global requirements,MERGED,2015-01-26 10:27:41.000000000,2015-01-26 14:25:05.000000000,2015-01-26 14:25:04.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-26 10:27:41.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f17ace0548a210055f6bf69584177ff76d4a5326', 'message': 'Updated from global requirements\n\nChange-Id: I069041a79ba32a024b925a3d5065a5b3431e3515\n'}]",0,149967,f17ace0548a210055f6bf69584177ff76d4a5326,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I069041a79ba32a024b925a3d5065a5b3431e3515
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/149967/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,f17ace0548a210055f6bf69584177ff76d4a5326,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,2,2
openstack%2Fgnocchi~master~I91f7462a1dd7f399cecaedd41466b6145d548109,openstack/gnocchi,master,I91f7462a1dd7f399cecaedd41466b6145d548109,"rest, indexer: make the JSON encoder UUID aware",MERGED,2015-01-15 10:49:02.000000000,2015-01-26 14:18:24.000000000,2015-01-26 14:18:22.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-01-15 10:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/d2f2f967582f297d71bfc4d0a4b8f21e830659b7', 'message': 'rest, indexer: make the JSON encoder UUID aware\n\nThis avoids us to have the indexer convert the UUID to string manually,\nas the JSON encoder now does that itself.\n\nChange-Id: I91f7462a1dd7f399cecaedd41466b6145d548109\n'}, {'number': 2, 'created': '2015-01-15 11:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4e2828d1428560b9b68e9a7c7086d7e23015f5ed', 'message': 'rest, indexer: make the JSON encoder UUID aware\n\nThis avoids us to have the indexer convert the UUID to string manually,\nas the JSON encoder now does that itself.\n\nChange-Id: I91f7462a1dd7f399cecaedd41466b6145d548109\n'}, {'number': 3, 'created': '2015-01-15 12:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2d9254ba9a54d38c90b9c4f2b305c49ae3be508e', 'message': 'rest, indexer: make the JSON encoder UUID aware\n\nThis avoids us to have the indexer convert the UUID to string manually,\nas the JSON encoder now does that itself.\n\nChange-Id: I91f7462a1dd7f399cecaedd41466b6145d548109\n'}, {'number': 4, 'created': '2015-01-15 12:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/9d9e8ee4450b14ed5a225785b73d83c70aa22877', 'message': 'rest, indexer: make the JSON encoder UUID aware\n\nThis avoids us to have the indexer convert the UUID to string manually,\nas the JSON encoder now does that itself.\n\nChange-Id: I91f7462a1dd7f399cecaedd41466b6145d548109\n'}, {'number': 5, 'created': '2015-01-16 10:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/251cf1c7ebd5282036cf371f97d8fbe99a03a397', 'message': 'rest, indexer: make the JSON encoder UUID aware\n\nThis avoids us to have the indexer convert the UUID to string manually,\nas the JSON encoder now does that itself.\n\nChange-Id: I91f7462a1dd7f399cecaedd41466b6145d548109\n'}, {'number': 6, 'created': '2015-01-19 14:30:30.000000000', 'files': ['gnocchi/rest/app.py', 'gnocchi/tests/test_indexer.py', 'gnocchi/rest/__init__.py', 'gnocchi/indexer/__init__.py', 'gnocchi/indexer/sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/0feada536d28087c1cc3db804235a4da6693a7d4', 'message': 'rest, indexer: make the JSON encoder UUID aware\n\nThis avoids us to have the indexer convert the UUID to string manually,\nas the JSON encoder now does that itself.\n\nChange-Id: I91f7462a1dd7f399cecaedd41466b6145d548109\n'}]",0,147456,0feada536d28087c1cc3db804235a4da6693a7d4,20,4,6,1669,,,0,"rest, indexer: make the JSON encoder UUID aware

This avoids us to have the indexer convert the UUID to string manually,
as the JSON encoder now does that itself.

Change-Id: I91f7462a1dd7f399cecaedd41466b6145d548109
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/56/147456/6 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/app.py', 'gnocchi/tests/test_indexer.py', 'gnocchi/rest/__init__.py', 'gnocchi/indexer/sqlalchemy.py']",4,d2f2f967582f297d71bfc4d0a4b8f21e830659b7,jd/serialize-set-uuid,," # FIXME(jd) Convert UUID to string; would be better if Pecan JSON # serializer could be patched to handle that. for k, v in six.iteritems(r): if isinstance(v, uuid.UUID): r[k] = six.text_type(v)",50,47
openstack%2Ffuel-web~master~I089d678e39501ff10f0c1ca0b90a1f5adbe9746a,openstack/fuel-web,master,I089d678e39501ff10f0c1ca0b90a1f5adbe9746a,Send nodes names for deployment scripts,MERGED,2015-01-15 17:01:09.000000000,2015-01-26 14:17:15.000000000,2015-01-20 10:03:38.000000000,"[{'_account_id': 3}, {'_account_id': 6794}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-01-15 17:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dafdd358eee29d0256d9e2e942a480c4abcd0538', 'message': 'Send nodes names for deployment scripts\n\nUser can specify node name via UI, it\nrequired to send this information to\ndeployment scripts, i.e. astute.yaml file.\nFor example it can be required as a workaround\nfor plugins which need to have a new role\nwith the current plugin architecture.\n\nChange-Id: I089d678e39501ff10f0c1ca0b90a1f5adbe9746a\nImplements: blueprint send-nodes-names-for-deployment\n'}, {'number': 2, 'created': '2015-01-16 09:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/205cdfc038a0682fb941499f644b7f3692bf32b7', 'message': 'Send nodes names for deployment scripts\n\nUser can specify node name via UI, it\nrequired to send this information to\ndeployment scripts, i.e. astute.yaml file.\nFor example it can be required as a workaround\nfor plugins which need to have a new role\nwith the current plugin architecture.\n\nChange-Id: I089d678e39501ff10f0c1ca0b90a1f5adbe9746a\nImplements: blueprint send-nodes-names-for-deployment\n'}, {'number': 3, 'created': '2015-01-19 11:29:19.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/29329e74cbb1ac2eecd6d19975f63dd149721cbf', 'message': 'Send nodes names for deployment scripts\n\nUser can specify node name via UI, it\nrequired to send this information to\ndeployment scripts, i.e. astute.yaml file.\nFor example it can be required as a workaround\nfor plugins which need to have a new role\nwith the current plugin architecture.\n\nChange-Id: I089d678e39501ff10f0c1ca0b90a1f5adbe9746a\nImplements: blueprint send-nodes-names-for-deployment\n'}]",15,147586,29329e74cbb1ac2eecd6d19975f63dd149721cbf,30,8,3,8749,,,0,"Send nodes names for deployment scripts

User can specify node name via UI, it
required to send this information to
deployment scripts, i.e. astute.yaml file.
For example it can be required as a workaround
for plugins which need to have a new role
with the current plugin architecture.

Change-Id: I089d678e39501ff10f0c1ca0b90a1f5adbe9746a
Implements: blueprint send-nodes-names-for-deployment
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/86/147586/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_deployment_serializer.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",3,dafdd358eee29d0256d9e2e942a480c4abcd0538,bp/send-nodes-names-for-deployment," DeploymentHASerializer61 from nailgun.orchestrator.deployment_serializers import\from nailgun.orchestrator.deployment_serializers import\ DeploymentMultinodeSerializer61 class BaseDeploymentSerializer61(BaseIntegrationTest): node_name = 'node name' def create_env(self, mode): return self.env.create( cluster_kwargs={ 'mode': mode, 'net_provider': 'neutron', 'net_segment_type': 'gre'}, nodes_kwargs=[ {'roles': ['controller'], 'pending_addition': True, 'name': self.node_name}]) def check_serialize_node(self): self.assertEqual( self.serializer.serialize_node( self.env.nodes[0], 'role')['user_node_name'], self.node_name) def check_serialize_node_for_node_list(self): self.assertEqual( self.serializer.serialize_node_for_node_list( self.env.nodes[0], 'role')['user_node_name'], self.node_name) class TestDeploymentMultinodeSerializer61(BaseDeploymentSerializer61): def setUp(self): super(TestDeploymentMultinodeSerializer61, self).setUp() self.cluster = self.create_env('multinode') objects.NodeCollection.prepare_for_deployment(self.env.nodes) self.serializer = DeploymentMultinodeSerializer61(self.cluster) def test_serialize_node(self): self.check_serialize_node() def test_serialize_node_for_node_list(self): self.check_serialize_node_for_node_list() class TestDeploymentHASerializer61(BaseDeploymentSerializer61): def setUp(self): super(TestDeploymentHASerializer61, self).setUp() self.cluster = self.create_env('ha_compact') objects.NodeCollection.prepare_for_deployment(self.env.nodes) self.serializer = DeploymentHASerializer61(self.cluster) def test_serialize_node(self): self.check_serialize_node() def test_serialize_node_for_node_list(self): self.check_serialize_node_for_node_list()",,120,5
openstack%2Fgnocchi~master~I56fc3794db4bd7a5a6ad038c4dc344804b2903c0,openstack/gnocchi,master,I56fc3794db4bd7a5a6ad038c4dc344804b2903c0,Devstack plugin for Gnocchi,MERGED,2015-01-20 15:50:33.000000000,2015-01-26 14:10:39.000000000,2015-01-26 14:10:37.000000000,"[{'_account_id': 3}, {'_account_id': 866}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6763}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-20 15:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4b97107b74f0c112c22245006891b37a7f35fce6', 'message': 'devstack plugin\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 2, 'created': '2015-01-20 15:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/eb0f4f9f230473e0d27105606608d85bc82df903', 'message': 'devstack plugin\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 3, 'created': '2015-01-21 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/60f0c441adb80ff8c011a4b043e694089ef621a1', 'message': 'devstack plugin\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 4, 'created': '2015-01-21 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b3a0f476d8032cb7f8ebd51e2346067eaf2c9384', 'message': 'devstack plugin\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 5, 'created': '2015-01-21 16:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/3e69355d43a3505eefe050b9d503904422f6a3d3', 'message': 'Devstack plugin for Gnocchi\n\nThis change adds a devstack plugin for gnocchi\nand documents how to enable it.\n\nAdd this to the localrc of devstasck:\n\n  enable_plugin gnocchi https://github.com/stackforge/gnocchi master\n  enable_service gnocchi-api\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 6, 'created': '2015-01-21 16:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/62110c0ce9c42b3b234cfd7308c4b65125b4bc4a', 'message': 'Devstack plugin for Gnocchi\n\nThis change adds a devstack plugin for gnocchi\nand documents how to enable it.\n\nAdd this to the localrc of devstasck:\n\n  enable_plugin gnocchi https://github.com/stackforge/gnocchi master\n  enable_service gnocchi-api\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 7, 'created': '2015-01-22 13:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/74c4b5fd5cf3056bdd89f2620ab6ada4d5d26d0c', 'message': 'Devstack plugin for Gnocchi\n\nThis change adds a devstack plugin for gnocchi\nand documents how to enable it.\n\nAdd this to the localrc of devstasck:\n\n  enable_plugin gnocchi https://github.com/stackforge/gnocchi master\n  enable_service gnocchi-api\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}, {'number': 8, 'created': '2015-01-22 13:34:52.000000000', 'files': ['doc/source/index.rst', 'devstack/apache-gnocchi.template', 'devstack/plugin.sh', 'tox.ini', 'doc/source/devstack.rst'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/25f4e96dfcdbed95e297d7c08af7513f593eb461', 'message': 'Devstack plugin for Gnocchi\n\nThis change adds a devstack plugin for gnocchi\nand documents how to enable it.\n\nAdd this to the localrc of devstasck:\n\n  enable_plugin gnocchi https://github.com/stackforge/gnocchi master\n  enable_service gnocchi-api\n\nChange-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0\n'}]",6,148605,25f4e96dfcdbed95e297d7c08af7513f593eb461,40,9,8,2813,,,0,"Devstack plugin for Gnocchi

This change adds a devstack plugin for gnocchi
and documents how to enable it.

Add this to the localrc of devstasck:

  enable_plugin gnocchi https://github.com/stackforge/gnocchi master
  enable_service gnocchi-api

Change-Id: I56fc3794db4bd7a5a6ad038c4dc344804b2903c0
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/05/148605/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/apache-gnocchi.template', 'devstack/plugin.sh', 'gnocchi/service.py']",3,4b97107b74f0c112c22245006891b37a7f35fce6,sileht/devstack," log.setup(cfg.CONF, 'gnocchi')", log.setup('gnocchi'),332,1
openstack%2Fpython-mistralclient~master~I3d89921408a209e5b3517ae52c87556652a35ea2,openstack/python-mistralclient,master,I3d89921408a209e5b3517ae52c87556652a35ea2,Extend cli integration tests for update,MERGED,2015-01-26 11:27:31.000000000,2015-01-26 14:09:28.000000000,2015-01-26 14:09:28.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-26 11:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/2c7af6518548868fb3b6fdc3a07bf83cad249c01', 'message': 'Extend cli integration tests for update\n\nChange-Id: I3d89921408a209e5b3517ae52c87556652a35ea2\n'}, {'number': 2, 'created': '2015-01-26 12:06:53.000000000', 'files': ['mistralclient/tests/functional/cli/v2/base_v2.py', 'functionaltests/resources/v2/action_v2_tags.yaml', 'functionaltests/resources/v2/wf_delay_v2.yaml', 'mistralclient/commands/v2/workbooks.py', 'mistralclient/tests/functional/cli/v2/cli_tests_v2.py', 'functionaltests/resources/v2/action_v2.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/2b46b75ce91e9417c663ce8b16797999dfa9ac22', 'message': 'Extend cli integration tests for update\n\nChange-Id: I3d89921408a209e5b3517ae52c87556652a35ea2\n'}]",0,150001,2b46b75ce91e9417c663ce8b16797999dfa9ac22,9,4,2,8592,,,0,"Extend cli integration tests for update

Change-Id: I3d89921408a209e5b3517ae52c87556652a35ea2
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/01/150001/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/tests/functional/cli/v2/base_v2.py', 'functionaltests/resources/v2/action_v2_tags.yaml', 'functionaltests/resources/v2/wf_delay_v2.yaml', 'mistralclient/commands/v2/workbooks.py', 'mistralclient/tests/functional/cli/v2/cli_tests_v2.py', 'functionaltests/resources/v2/action_v2.yaml']",6,2c7af6518548868fb3b6fdc3a07bf83cad249c01,,, tags: [hello],63,8
openstack%2Fkeystonemiddleware~master~I72b361f7e9f0d8bc5234a08898e24c09e06c22d4,openstack/keystonemiddleware,master,I72b361f7e9f0d8bc5234a08898e24c09e06c22d4,Updated from global requirements,MERGED,2015-01-26 10:27:44.000000000,2015-01-26 14:07:47.000000000,2015-01-26 14:07:46.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-26 10:27:44.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c74ef308e291a439de78536c870ba1f1aa80a616', 'message': 'Updated from global requirements\n\nChange-Id: I72b361f7e9f0d8bc5234a08898e24c09e06c22d4\n'}]",0,149968,c74ef308e291a439de78536c870ba1f1aa80a616,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I72b361f7e9f0d8bc5234a08898e24c09e06c22d4
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/68/149968/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c74ef308e291a439de78536c870ba1f1aa80a616,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Fkeystone~stable%2Ficehouse~Ie64bd740f55b89e992724aa195841b07d7b66dbc,openstack/keystone,stable/icehouse,Ie64bd740f55b89e992724aa195841b07d7b66dbc,Updated from global requirements,MERGED,2015-01-21 08:08:47.000000000,2015-01-26 14:04:58.000000000,2015-01-26 14:04:57.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 9656}, {'_account_id': 9751}]","[{'number': 1, 'created': '2015-01-21 08:08:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ccb232ddcabe0b191698d02b27012378ef2a79c', 'message': 'Updated from global requirements\n\nChange-Id: Ie64bd740f55b89e992724aa195841b07d7b66dbc\n'}]",0,148830,5ccb232ddcabe0b191698d02b27012378ef2a79c,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ie64bd740f55b89e992724aa195841b07d7b66dbc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/148830/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5ccb232ddcabe0b191698d02b27012378ef2a79c,openstack/requirements,"pycadf>=0.4.1,<0.7.0",pycadf>=0.4.1,1,1
openstack%2Fswift~master~Ia711bfc5a86ed4a080d27e08fe923cb4cb92da43,openstack/swift,master,Ia711bfc5a86ed4a080d27e08fe923cb4cb92da43,Optimize replication of targeted devices/partitions.,MERGED,2015-01-22 20:07:33.000000000,2015-01-26 14:04:18.000000000,2015-01-26 14:04:17.000000000,"[{'_account_id': 3}, {'_account_id': 995}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 7848}]","[{'number': 1, 'created': '2015-01-22 20:07:33.000000000', 'files': ['swift/obj/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e5ca7e26a3beecaf149e7925658ae5f086b568c9', 'message': ""Optimize replication of targeted devices/partitions.\n\nswift-object-replicator lets you specify --devices and --partitions to\nperform a single replication pass over just those devices and\npartitions. However, it still scans every device and every partition\nto build up a list of jobs to do, then throws away the jobs for the\nwrong devices and partitions. This isn't too bad with partitions since\nit only wastes some CPU, but with devices, it results in unnecessary\ndisk IO.\n\nThis commit pushes the device and partition filtering a little further\ndown into collect_jobs to avoid wasted work.\n\nChange-Id: Ia711bfc5a86ed4a080d27e08fe923cb4cb92da43\n""}]",0,149384,e5ca7e26a3beecaf149e7925658ae5f086b568c9,10,6,1,2622,,,0,"Optimize replication of targeted devices/partitions.

swift-object-replicator lets you specify --devices and --partitions to
perform a single replication pass over just those devices and
partitions. However, it still scans every device and every partition
to build up a list of jobs to do, then throws away the jobs for the
wrong devices and partitions. This isn't too bad with partitions since
it only wastes some CPU, but with devices, it results in unnecessary
disk IO.

This commit pushes the device and partition filtering a little further
down into collect_jobs to avoid wasted work.

Change-Id: Ia711bfc5a86ed4a080d27e08fe923cb4cb92da43
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/149384/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/replicator.py'],1,e5ca7e26a3beecaf149e7925658ae5f086b568c9,obj-replicator-fast-start," def process_repl(self, policy, ips, override_devices=None, override_partitions=None): jobs = [] if (dev and dev['replication_ip'] in ips and dev['replication_port'] == self.port and (override_devices is None or dev['device'] in override_devices))]: if (override_partitions is not None and partition not in override_partitions): continue return jobs def collect_jobs(self, override_devices=None, override_partitions=None): :param override_devices: if set, only jobs on these devices will be returned :param override_partitions: if set, only jobs on these partitions will be returned jobs += self.process_repl(policy, ips, override_devices=override_devices, override_partitions=override_partitions) jobs = self.collect_jobs(override_devices=override_devices, override_partitions=override_partitions) for job in jobs: if not override_devices: override_devices = None if not override_partitions: override_partitions = None "," def process_repl(self, policy, jobs, ips): if dev and dev['replication_ip'] in ips and dev['replication_port'] == self.port]: def collect_jobs(self): self.process_repl(policy, jobs, ips) if override_devices is None: override_devices = [] if override_partitions is None: override_partitions = [] jobs = self.collect_jobs() for job in jobs: if override_devices and job['device'] not in override_devices: continue if override_partitions and \ job['partition'] not in override_partitions: continue",31,16
openstack%2Fnova~master~I711c34d340e4f87fa29ec604eb534ce6cd357196,openstack/nova,master,I711c34d340e4f87fa29ec604eb534ce6cd357196,libvirt: Create correct BDM object type for conn info update,MERGED,2015-01-21 20:21:43.000000000,2015-01-26 14:03:58.000000000,2015-01-26 14:03:55.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-21 20:21:43.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b0fee091f500d82ab63b3dad4c597f27c4a36ad', 'message': 'libvirt: Create correct BDM object type for conn info update\n\nThis path needs to use different types for devices with\nan image vs. volume source_type.\n\nValidation will fail for image sources if only the volume\ntype is used.\n\nCloses-Bug: #1411847\n\nChange-Id: I711c34d340e4f87fa29ec604eb534ce6cd357196\n'}]",1,149035,4b0fee091f500d82ab63b3dad4c597f27c4a36ad,11,7,1,4523,,,0,"libvirt: Create correct BDM object type for conn info update

This path needs to use different types for devices with
an image vs. volume source_type.

Validation will fail for image sources if only the volume
type is used.

Closes-Bug: #1411847

Change-Id: I711c34d340e4f87fa29ec604eb534ce6cd357196
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/149035/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,4b0fee091f500d82ab63b3dad4c597f27c4a36ad,bug/1411847, if bdm['source_type'] == 'image': driver_bdm = driver_block_device.DriverImageBlockDevice(bdm) else: # source_type = 'volume' driver_bdm = driver_block_device.DriverVolumeBlockDevice(bdm) , driver_bdm = driver_block_device.DriverVolumeBlockDevice(bdm),7,1
openstack%2Fceilometer~master~I1b936bf4dc2ad28afb7a45f61bfcd111adb20e1c,openstack/ceilometer,master,I1b936bf4dc2ad28afb7a45f61bfcd111adb20e1c,Avoid unnecessary API dependency on tooz & ceilometerclient,MERGED,2015-01-21 17:21:35.000000000,2015-01-26 14:03:45.000000000,2015-01-26 14:03:44.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7052}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-21 17:21:35.000000000', 'files': ['ceilometer/alarm/service.py', 'ceilometer/alarm/__init__.py', 'ceilometer/api/controllers/v2.py', 'ceilometer/tests/alarm/test_notifier.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8926a202028e43ce9c600fdff5efd34fcdd235f0', 'message': 'Avoid unnecessary API dependency on tooz & ceilometerclient\n\nPreviously, importing the alarm.service in the v2 API layer\ncreated an unnecessary transitive dependency on python-tooz\nand python-ceilometerclient.\n\nWe avoid these dependencies simply by moving the relevant code.\n\nChange-Id: I1b936bf4dc2ad28afb7a45f61bfcd111adb20e1c\nCloses-Bug: #1413237\n'}]",1,148991,8926a202028e43ce9c600fdff5efd34fcdd235f0,11,10,1,2284,,,0,"Avoid unnecessary API dependency on tooz & ceilometerclient

Previously, importing the alarm.service in the v2 API layer
created an unnecessary transitive dependency on python-tooz
and python-ceilometerclient.

We avoid these dependencies simply by moving the relevant code.

Change-Id: I1b936bf4dc2ad28afb7a45f61bfcd111adb20e1c
Closes-Bug: #1413237
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/148991/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/alarm/service.py', 'ceilometer/alarm/__init__.py', 'ceilometer/api/controllers/v2.py', 'ceilometer/tests/alarm/test_notifier.py']",4,8926a202028e43ce9c600fdff5efd34fcdd235f0,,from ceilometer import alarm as ceilometer_alarm notifications = ceilometer_alarm.NOTIFIERS['test'].obj.notifications, notifications = self.service.notifiers['test'].obj.notifications,33,13
openstack%2Frally~master~I7c8398d76c305e9f70be9a1a3737d1fe32b2268e,openstack/rally,master,I7c8398d76c305e9f70be9a1a3737d1fe32b2268e,Correcting minor typos,MERGED,2015-01-26 12:27:00.000000000,2015-01-26 14:00:31.000000000,2015-01-26 14:00:28.000000000,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-26 12:27:00.000000000', 'files': ['rally/benchmark/scenarios/nova/utils.py', 'doc/source/concepts.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/a92d4bf2527a5669fcd27c75b85b58e3e1b9a13a', 'message': 'Correcting minor typos\n\nChange-Id: I7c8398d76c305e9f70be9a1a3737d1fe32b2268e\n'}]",0,150017,a92d4bf2527a5669fcd27c75b85b58e3e1b9a13a,9,4,1,14475,,,0,"Correcting minor typos

Change-Id: I7c8398d76c305e9f70be9a1a3737d1fe32b2268e
",git fetch https://review.opendev.org/openstack/rally refs/changes/17/150017/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/scenarios/nova/utils.py', 'doc/source/concepts.rst']",2,a92d4bf2527a5669fcd27c75b85b58e3e1b9a13a,minorchanges,"Note that inside each scenario configuration, the benchmark scenario is actually launched **3 times** (that is specified in the **""runner""** field). It can be specified in **""runner""** in more detail how exactly the benchmark scenario should be launched; we elaborate on that in the *""Scenario Runners""* section below.","Note that inside each scenario configuration, the benchmark scenario is actually launched **3 times** (that is specified in the **""runner""** field). It can be specified in **""runner""** in more detail how exactly the benchmark scenario should be launched; we elaborate on that in the *""Sceario Runners""* section below.",2,2
openstack%2Fpython-glanceclient~master~Ic3d48a13d5366b050b07ef26ab34fad411a0db05,openstack/python-glanceclient,master,Ic3d48a13d5366b050b07ef26ab34fad411a0db05,Sync latest apiclient from oslo-inc,MERGED,2015-01-08 08:28:04.000000000,2015-01-26 13:46:43.000000000,2015-01-26 13:45:26.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 11356}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-08 08:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/501efafdecb400b13afdf629c07dc79761af86d8', 'message': ""Sync latest apiclient from oslo-inc\n\n5985b35 Prefer delayed %r formatting over explicit repr use\n002999b Curl statements to include globoff for IPv6 URLs\n03e6272 Add ConnectionError exception\n3bc8231 deprecate apiclient package\nfd8dc0c Handle different format of api exception\na7af1e2 Mask keystone token in debug output\n55ca7c3 Split cliutils\n5d40e14 Remove code that moved to oslo.i18n\n6ff6b4b Switch oslo-incubator to use oslo.utils and remove old modules\nf76f44c Delete the token and endpoint on expiry of token of client\ned0ffb8 Do not incur the cost of a second method call\ncf449e2 Fix response_key parameter usage in BaseManager\n94245b1 Make it possible to get the request_id from python clients\nd73f3b1 Remove unused/mutable default args\n5e00685 Centralize bash-completion in Novaclient\n4ef0193 Handle non-openstack errors gracefully\nac995be Fix E126 pep8 errors\nde4adbc pep8: fixed multiple violations\ne42e77f Restore UUID and human-ID bash completion\n9e88af1 fixed typos found by RETF rules\n822e09b Don't slugify names that don't exist\n4a777e5 Fix warnings in doc build for apiclient\n3fb053c apiclient.exceptions.from_response() may miss request_id\n\nChange-Id: Ic3d48a13d5366b050b07ef26ab34fad411a0db05\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>""}, {'number': 2, 'created': '2015-01-08 08:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5877f46ab99fec70b76634913b131e9b9ecb689e', 'message': ""Sync latest apiclient from oslo-inc\n\n5985b35 Prefer delayed %r formatting over explicit repr use\n002999b Curl statements to include globoff for IPv6 URLs\n03e6272 Add ConnectionError exception\n3bc8231 deprecate apiclient package\nfd8dc0c Handle different format of api exception\na7af1e2 Mask keystone token in debug output\n55ca7c3 Split cliutils\n5d40e14 Remove code that moved to oslo.i18n\n6ff6b4b Switch oslo-incubator to use oslo.utils and remove old modules\nf76f44c Delete the token and endpoint on expiry of token of client\ned0ffb8 Do not incur the cost of a second method call\ncf449e2 Fix response_key parameter usage in BaseManager\n94245b1 Make it possible to get the request_id from python clients\nd73f3b1 Remove unused/mutable default args\n5e00685 Centralize bash-completion in Novaclient\n4ef0193 Handle non-openstack errors gracefully\nac995be Fix E126 pep8 errors\nde4adbc pep8: fixed multiple violations\ne42e77f Restore UUID and human-ID bash completion\n9e88af1 fixed typos found by RETF rules\n822e09b Don't slugify names that don't exist\n4a777e5 Fix warnings in doc build for apiclient\n3fb053c apiclient.exceptions.from_response() may miss request_id\n\nBtw, the patch removed the uesless 'network_utils' line from\nopenstack-common.conf, currently we use oslo_utils.netutils directly.\n\nChange-Id: Ic3d48a13d5366b050b07ef26ab34fad411a0db05\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>""}, {'number': 3, 'created': '2015-01-09 18:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/15a6d076c172def6798f44301ba44624d97ab5a6', 'message': ""Sync latest apiclient from oslo-inc\n\n5985b35 Prefer delayed %r formatting over explicit repr use\n002999b Curl statements to include globoff for IPv6 URLs\n03e6272 Add ConnectionError exception\n3bc8231 deprecate apiclient package\nfd8dc0c Handle different format of api exception\na7af1e2 Mask keystone token in debug output\n55ca7c3 Split cliutils\n5d40e14 Remove code that moved to oslo.i18n\n6ff6b4b Switch oslo-incubator to use oslo.utils and remove old modules\nf76f44c Delete the token and endpoint on expiry of token of client\ned0ffb8 Do not incur the cost of a second method call\ncf449e2 Fix response_key parameter usage in BaseManager\n94245b1 Make it possible to get the request_id from python clients\nd73f3b1 Remove unused/mutable default args\n5e00685 Centralize bash-completion in Novaclient\n4ef0193 Handle non-openstack errors gracefully\nac995be Fix E126 pep8 errors\nde4adbc pep8: fixed multiple violations\ne42e77f Restore UUID and human-ID bash completion\n9e88af1 fixed typos found by RETF rules\n822e09b Don't slugify names that don't exist\n4a777e5 Fix warnings in doc build for apiclient\n3fb053c apiclient.exceptions.from_response() may miss request_id\n\nBtw, the patch removed the uesless 'network_utils' line from\nopenstack-common.conf, currently we use oslo_utils.netutils directly.\n\nChange-Id: Ic3d48a13d5366b050b07ef26ab34fad411a0db05\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n""}, {'number': 4, 'created': '2015-01-12 03:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0dd766bfa22d3bfcdef1348964a08cd061c5fca9', 'message': ""Sync latest apiclient from oslo-inc\n\n5985b35 Prefer delayed %r formatting over explicit repr use\n002999b Curl statements to include globoff for IPv6 URLs\n03e6272 Add ConnectionError exception\n3bc8231 deprecate apiclient package\nfd8dc0c Handle different format of api exception\na7af1e2 Mask keystone token in debug output\n55ca7c3 Split cliutils\n5d40e14 Remove code that moved to oslo.i18n\n6ff6b4b Switch oslo-incubator to use oslo.utils and remove old modules\nf76f44c Delete the token and endpoint on expiry of token of client\ned0ffb8 Do not incur the cost of a second method call\ncf449e2 Fix response_key parameter usage in BaseManager\n94245b1 Make it possible to get the request_id from python clients\nd73f3b1 Remove unused/mutable default args\n5e00685 Centralize bash-completion in Novaclient\n4ef0193 Handle non-openstack errors gracefully\nac995be Fix E126 pep8 errors\nde4adbc pep8: fixed multiple violations\ne42e77f Restore UUID and human-ID bash completion\n9e88af1 fixed typos found by RETF rules\n822e09b Don't slugify names that don't exist\n4a777e5 Fix warnings in doc build for apiclient\n3fb053c apiclient.exceptions.from_response() may miss request_id\n\nBtw, the patch removed the uesless 'network_utils' line from\nopenstack-common.conf, currently we use oslo_utils.netutils directly.\n\nChange-Id: Ic3d48a13d5366b050b07ef26ab34fad411a0db05\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n""}, {'number': 5, 'created': '2015-01-23 15:14:00.000000000', 'files': ['glanceclient/openstack/common/apiclient/exceptions.py', 'glanceclient/openstack/common/__init__.py', 'glanceclient/openstack/common/apiclient/utils.py', 'openstack-common.conf', 'glanceclient/openstack/common/apiclient/base.py', 'glanceclient/openstack/common/apiclient/client.py', 'glanceclient/openstack/common/apiclient/auth.py', 'glanceclient/openstack/common/_i18n.py', 'glanceclient/openstack/common/apiclient/fake_client.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/363b17085195e6f38c8b7cf3ac3398f5f3806305', 'message': ""Sync latest apiclient from oslo-inc\n\na908d66 Remove uuidutils\n5985b35 Prefer delayed %r formatting over explicit repr use\n002999b Curl statements to include globoff for IPv6 URLs\n03e6272 Add ConnectionError exception\n3bc8231 deprecate apiclient package\nfd8dc0c Handle different format of api exception\na7af1e2 Mask keystone token in debug output\n55ca7c3 Split cliutils\n5d40e14 Remove code that moved to oslo.i18n\n6ff6b4b Switch oslo-incubator to use oslo.utils and remove old modules\nf76f44c Delete the token and endpoint on expiry of token of client\ned0ffb8 Do not incur the cost of a second method call\ncf449e2 Fix response_key parameter usage in BaseManager\n94245b1 Make it possible to get the request_id from python clients\nd73f3b1 Remove unused/mutable default args\n5e00685 Centralize bash-completion in Novaclient\n4ef0193 Handle non-openstack errors gracefully\nac995be Fix E126 pep8 errors\nde4adbc pep8: fixed multiple violations\ne42e77f Restore UUID and human-ID bash completion\n9e88af1 fixed typos found by RETF rules\n822e09b Don't slugify names that don't exist\n4a777e5 Fix warnings in doc build for apiclient\n3fb053c apiclient.exceptions.from_response() may miss request_id\n\nBtw, the patch removed the uesless 'network_utils' line from\nopenstack-common.conf, currently we use oslo_utils.netutils directly.\n\nChange-Id: Ic3d48a13d5366b050b07ef26ab34fad411a0db05\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n""}]",4,145715,363b17085195e6f38c8b7cf3ac3398f5f3806305,21,7,5,6549,,,0,"Sync latest apiclient from oslo-inc

a908d66 Remove uuidutils
5985b35 Prefer delayed %r formatting over explicit repr use
002999b Curl statements to include globoff for IPv6 URLs
03e6272 Add ConnectionError exception
3bc8231 deprecate apiclient package
fd8dc0c Handle different format of api exception
a7af1e2 Mask keystone token in debug output
55ca7c3 Split cliutils
5d40e14 Remove code that moved to oslo.i18n
6ff6b4b Switch oslo-incubator to use oslo.utils and remove old modules
f76f44c Delete the token and endpoint on expiry of token of client
ed0ffb8 Do not incur the cost of a second method call
cf449e2 Fix response_key parameter usage in BaseManager
94245b1 Make it possible to get the request_id from python clients
d73f3b1 Remove unused/mutable default args
5e00685 Centralize bash-completion in Novaclient
4ef0193 Handle non-openstack errors gracefully
ac995be Fix E126 pep8 errors
de4adbc pep8: fixed multiple violations
e42e77f Restore UUID and human-ID bash completion
9e88af1 fixed typos found by RETF rules
822e09b Don't slugify names that don't exist
4a777e5 Fix warnings in doc build for apiclient
3fb053c apiclient.exceptions.from_response() may miss request_id

Btw, the patch removed the uesless 'network_utils' line from
openstack-common.conf, currently we use oslo_utils.netutils directly.

Change-Id: Ic3d48a13d5366b050b07ef26ab34fad411a0db05
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/15/145715/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/openstack/common/apiclient/exceptions.py', 'glanceclient/openstack/common/__init__.py', 'glanceclient/openstack/common/apiclient/utils.py', 'openstack-common.conf', 'glanceclient/openstack/common/uuidutils.py', 'glanceclient/openstack/common/apiclient/base.py', 'glanceclient/openstack/common/apiclient/client.py', 'glanceclient/openstack/common/_i18n.py', 'glanceclient/openstack/common/apiclient/auth.py', 'glanceclient/openstack/common/apiclient/fake_client.py']",10,501efafdecb400b13afdf629c07dc79761af86d8,bp/drop-namespace-packages,"######################################################################## # # THIS MODULE IS DEPRECATED # # Please refer to # https://etherpad.openstack.org/p/kilo-glanceclient-library-proposals for # the discussion leading to this deprecation. # # We recommend checking out the python-openstacksdk project # (https://launchpad.net/python-openstacksdk) instead. # ######################################################################## def assert_has_keys(dct, required=None, optional=None): required = required or [] optional = optional or [] if not args and ""auth_plugin"" not in kwargs: self.last_request_id = headers.get('x-openstack-request-id', 'req-test')","def assert_has_keys(dct, required=[], optional=[]): if not args and not ""auth_plugin"" in kwargs:",377,98
openstack%2Fos-net-config~master~Iced683ff3365e0766d345a2ce840b69b501fbb54,openstack/os-net-config,master,Iced683ff3365e0766d345a2ce840b69b501fbb54,test_cli add stderr/stdout sanity assertions,MERGED,2015-01-14 16:24:34.000000000,2015-01-26 13:46:12.000000000,2015-01-26 13:46:11.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-14 16:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4aa6e803b1d58cc44de49a725f3ae995f97bf849', 'message': 'test_cli add stderr/stdout sanity assertions\n\nCurrently no check for error output on stderr is made, and no\nsanity checked performed on the stdout string - both yaml and json\nversions could be empty and the test would still pass.\n\nSo add sanity assertions for each case so the test is a bit more\nrobust.\n\nChange-Id: Iced683ff3365e0766d345a2ce840b69b501fbb54\n'}, {'number': 2, 'created': '2015-01-15 15:41:29.000000000', 'files': ['os_net_config/tests/test_cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e9791d7db9bae2a19367ec69c8b0083c6aa089a4', 'message': 'test_cli add stderr/stdout sanity assertions\n\nCurrently no check for error output on stderr is made, and no\nsanity checked performed on the stdout string - both yaml and json\nversions could be empty and the test would still pass.\n\nSo add sanity assertions for each case so the test is a bit more\nrobust.\n\nChange-Id: Iced683ff3365e0766d345a2ce840b69b501fbb54\n'}]",0,147228,e9791d7db9bae2a19367ec69c8b0083c6aa089a4,11,3,2,4328,,,0,"test_cli add stderr/stdout sanity assertions

Currently no check for error output on stderr is made, and no
sanity checked performed on the stdout string - both yaml and json
versions could be empty and the test would still pass.

So add sanity assertions for each case so the test is a bit more
robust.

Change-Id: Iced683ff3365e0766d345a2ce840b69b501fbb54
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/28/147228/2 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_cli.py'],1,4aa6e803b1d58cc44de49a725f3ae995f97bf849,mapping_file," self.assertEqual('', stderr) self.assertEqual('', stderr) sanity_devices = ['DEVICE=br-ctlplane', 'DEVICE=em2', 'DEVICE=em1', 'DEVICE=bond1', 'DEVICETYPE=ovs'] for dev in sanity_devices: self.assertIn(dev, stdout_yaml) self.assertEqual('', stderr) self.assertEqual('', stderr) sanity_devices = ['DEVICE=br-ctlplane', 'DEVICE=em1', 'OVSBOOTPROTO=dhcp', 'DEVICETYPE=ovs'] for dev in sanity_devices: self.assertIn(dev, stdout_yaml) self.assertEqual('', stderr) self.assertEqual('', stderr) sanity_devices = ['DEVICE=br-ctlplane', 'DEVICE=em1', 'DEVICE=vlan16', 'DEVICETYPE=ovs'] for dev in sanity_devices: self.assertIn(dev, stdout_yaml) self.assertEqual('', stderr) self.assertEqual('', stderr) sanity_devices = ['DEVICE=em1', 'BOOTPROTO=static', 'IPADDR=192.0.2.1'] for dev in sanity_devices: self.assertIn(dev, stdout_yaml)",,32,0
openstack%2Fos-net-config~master~I120065ca17104be7c2f4bf00d3e4e281a3179703,openstack/os-net-config,master,I120065ca17104be7c2f4bf00d3e4e281a3179703,"Derive sample location from test file, not pwd",MERGED,2015-01-14 16:24:34.000000000,2015-01-26 13:44:49.000000000,2015-01-26 13:44:48.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-14 16:24:34.000000000', 'files': ['os_net_config/tests/test_cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1a550ce62bc22ba7436bd8d156b492bffce9edb5', 'message': ""Derive sample location from test file, not pwd\n\nCurrently test_cli fails if you don't run it from the repository\ntop directory, so instead derive a relative path from the test,\nwhich e.g allows you to do nosetests -svx test_cli.py which can\nbe more convenient when debugging.\n\nChange-Id: I120065ca17104be7c2f4bf00d3e4e281a3179703\n""}]",0,147227,1a550ce62bc22ba7436bd8d156b492bffce9edb5,8,3,1,4328,,,0,"Derive sample location from test file, not pwd

Currently test_cli fails if you don't run it from the repository
top directory, so instead derive a relative path from the test,
which e.g allows you to do nosetests -svx test_cli.py which can
be more convenient when debugging.

Change-Id: I120065ca17104be7c2f4bf00d3e4e281a3179703
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/27/147227/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_cli.py'],1,1a550ce62bc22ba7436bd8d156b492bffce9edb5,mapping_file,"REALPATH = os.path.dirname(os.path.realpath(__file__)) SAMPLE_BASE = os.path.join(REALPATH, '../../', 'etc', 'os-net-config', 'samples')","SAMPLE_BASE = os.path.join('.', 'etc', 'os-net-config', 'samples')",3,1
openstack%2Fos-net-config~master~Ic92ca243230f732201f30cc63be5101f70c206bb,openstack/os-net-config,master,Ic92ca243230f732201f30cc63be5101f70c206bb,Fix test_cli exit code assertion,MERGED,2015-01-14 16:24:34.000000000,2015-01-26 13:43:53.000000000,2015-01-26 13:43:52.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-14 16:24:34.000000000', 'files': ['os_net_config/tests/test_cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3528e90b0cf8c68e72202c32fada445d39ca13e0', 'message': ""Fix test_cli exit code assertion\n\nCurrently we ignore the actual return code from the main() function,\ndue to the try/catch, which isn't appropriate where we're directly\ncalling the function.  Instead assert the return value directly,\nwhich will catch failures where main returns a non-zero status.\n\nChange-Id: Ic92ca243230f732201f30cc63be5101f70c206bb\n""}]",0,147226,3528e90b0cf8c68e72202c32fada445d39ca13e0,8,3,1,4328,,,0,"Fix test_cli exit code assertion

Currently we ignore the actual return code from the main() function,
due to the try/catch, which isn't appropriate where we're directly
calling the function.  Instead assert the return value directly,
which will catch failures where main returns a non-zero status.

Change-Id: Ic92ca243230f732201f30cc63be5101f70c206bb
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/26/147226/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_cli.py'],1,3528e90b0cf8c68e72202c32fada445d39ca13e0,mapping_file," sys.stdout = six.StringIO() sys.stderr = six.StringIO() ret = cli.main(argstr.split()) self.assertIn(ret, exitcodes) stdout = sys.stdout.getvalue() sys.stdout.close() sys.stdout = orig stderr = sys.stderr.getvalue() sys.stderr.close() sys.stderr = orig_stderr"," try: sys.stdout = six.StringIO() sys.stderr = six.StringIO() cli.main(argstr.split()) except SystemExit: exc_type, exc_value, exc_traceback = sys.exc_info() self.assertIn(exc_value.code, exitcodes) finally: stdout = sys.stdout.getvalue() sys.stdout.close() sys.stdout = orig stderr = sys.stderr.getvalue() sys.stderr.close() sys.stderr = orig_stderr",12,14
openstack%2Ftempest-lib~master~I8a213960e41fb1403a6f0e19068ffef178cbaccf,openstack/tempest-lib,master,I8a213960e41fb1403a6f0e19068ffef178cbaccf,Update base.py to include python-openstackclient.,MERGED,2015-01-06 10:16:45.000000000,2015-01-26 13:42:58.000000000,2015-01-26 13:42:56.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1921}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-01-06 10:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/cf321c945a787b9146b672303da0cc23a5bcb5d9', 'message': 'Update base.py to incloud python-openstackclient.\n\nadd interface for python-openstackclient.\n\nChange-Id: I8a213960e41fb1403a6f0e19068ffef178cbaccf\n'}, {'number': 2, 'created': '2015-01-06 11:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/e9db72bc61a45b4941cee33972a17022a4d28418', 'message': 'Update base.py to include python-openstackclient.\n\nChange-Id: I8a213960e41fb1403a6f0e19068ffef178cbaccf\n'}, {'number': 3, 'created': '2015-01-07 02:51:28.000000000', 'files': ['tempest_lib/cli/base.py'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/b0132891637a3a8f6b0bdf425e36551eae34ed1f', 'message': 'Update base.py to include python-openstackclient.\n\nChange-Id: I8a213960e41fb1403a6f0e19068ffef178cbaccf\n'}]",0,145187,b0132891637a3a8f6b0bdf425e36551eae34ed1f,12,4,3,47,,,0,"Update base.py to include python-openstackclient.

Change-Id: I8a213960e41fb1403a6f0e19068ffef178cbaccf
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/87/145187/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest_lib/cli/base.py'],1,cf321c945a787b9146b672303da0cc23a5bcb5d9,cli," def openstack(self, action, flags='', params='', fail_ok=False, merge_stderr=False): """"""Executes openstack command for the given action. :param action: the cli command to run using openstack :type action: string :param flags: any optional cli flags to use :type flags: string :param params: any optional positional args to use :type params: string :param fail_ok: if True an exception is not raised when the cli return code is non-zero :type fail_ok: boolean :param merge_stderr: if True the stderr buffer is merged into stdout :type merge_stderr: boolean """""" return self.cmd_with_auth( 'openstack', action, flags, params, fail_ok, merge_stderr) ",,19,0
openstack%2Fnova~master~If3823fe7cecfc6714830aea1142ff7279cefbb4d,openstack/nova,master,If3823fe7cecfc6714830aea1142ff7279cefbb4d,Add version as request param for fake HTTPRequest,MERGED,2015-01-05 14:38:54.000000000,2015-01-26 13:42:23.000000000,2015-01-26 13:42:19.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12175}, {'_account_id': 13663}]","[{'number': 1, 'created': '2015-01-05 14:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a283878e5ceb211e5e27873847ac5d8af17a57b', 'message': 'Add version as request param for fake HTTPRequest\n\nWe are going to support microversion, so from test perspective\nwe can easily create the request version by input a version.\n\nPartially implements blueprint api-microversions\n\nChange-Id: If3823fe7cecfc6714830aea1142ff7279cefbb4d\n'}, {'number': 2, 'created': '2015-01-06 06:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/834c28b59ed64240a80a05185a48006ff0f18951', 'message': 'Add version as request param for fake HTTPRequest\n\nWe are going to support microversion, so from test perspective\nwe can easily create the request version by input a version.\n\nPartially implements blueprint api-microversions\n\nChange-Id: If3823fe7cecfc6714830aea1142ff7279cefbb4d\n'}, {'number': 3, 'created': '2015-01-14 12:11:23.000000000', 'files': ['nova/tests/unit/api/openstack/fakes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/29a023e1865e5bbb03be451d32919dfd6a080ea4', 'message': 'Add version as request param for fake HTTPRequest\n\nWe are going to support microversion, so from test perspective\nwe can easily create the request version by input a version.\n\nPartially implements blueprint api-microversions\n\nChange-Id: If3823fe7cecfc6714830aea1142ff7279cefbb4d\n'}]",2,144994,29a023e1865e5bbb03be451d32919dfd6a080ea4,33,15,3,6062,,,0,"Add version as request param for fake HTTPRequest

We are going to support microversion, so from test perspective
we can easily create the request version by input a version.

Partially implements blueprint api-microversions

Change-Id: If3823fe7cecfc6714830aea1142ff7279cefbb4d
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/144994/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/fakes.py'],1,2a283878e5ceb211e5e27873847ac5d8af17a57b,bp/api-microversions," version = kwargs.pop('version', None) version = version or os_wsgi.DEFAULT_API_VERSION out.api_version_request = api_version.APIVersionRequest(version) version = kwargs.pop('version', None) version = version or os_wsgi.DEFAULT_API_VERSION out.api_version_request = api_version.APIVersionRequest(version)"," out.api_version_request = api_version.APIVersionRequest(""2.1"") out.api_version_request = api_version.APIVersionRequest(""2.1"")",6,2
openstack%2Fnova~master~I0951697aef9054b39dd321305e87d377bbe78798,openstack/nova,master,I0951697aef9054b39dd321305e87d377bbe78798,VMware: add in utility method for copying files,MERGED,2015-01-02 09:10:29.000000000,2015-01-26 13:41:53.000000000,2015-01-26 13:41:50.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-02 09:10:29.000000000', 'files': ['nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e31fc061b06f75695ba851d8389bc671a1d79756', 'message': 'VMware: add in utility method for copying files\n\nAdd in a method file_copy for copying a file from one datastore\nto another.\n\nChange-Id: I0951697aef9054b39dd321305e87d377bbe78798\nPartial-bug: #1407050\n'}]",0,144725,e31fc061b06f75695ba851d8389bc671a1d79756,16,10,1,1653,,,0,"VMware: add in utility method for copying files

Add in a method file_copy for copying a file from one datastore
to another.

Change-Id: I0951697aef9054b39dd321305e87d377bbe78798
Partial-bug: #1407050
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/144725/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py']",2,e31fc061b06f75695ba851d8389bc671a1d79756,resize-file-copy-1," def test_file_copy(self): def fake_call_method(module, method, *args, **kwargs): self.assertEqual('CopyDatastoreFile_Task', method) src_name = kwargs.get('sourceName') self.assertEqual('[ds] fake/path/src_file', src_name) src_dc_ref = kwargs.get('sourceDatacenter') self.assertEqual('fake-src-dc-ref', src_dc_ref) dst_name = kwargs.get('destinationName') self.assertEqual('[ds] fake/path/dst_file', dst_name) dst_dc_ref = kwargs.get('destinationDatacenter') self.assertEqual('fake-dst-dc-ref', dst_dc_ref) return 'fake_copy_task' with contextlib.nested( mock.patch.object(self.session, '_wait_for_task'), mock.patch.object(self.session, '_call_method', fake_call_method) ) as (_wait_for_task, _call_method): src_ds_path = ds_util.DatastorePath('ds', 'fake/path', 'src_file') dst_ds_path = ds_util.DatastorePath('ds', 'fake/path', 'dst_file') ds_util.file_copy(self.session, str(src_ds_path), 'fake-src-dc-ref', str(dst_ds_path), 'fake-dst-dc-ref') _wait_for_task.assert_has_calls([ mock.call('fake_copy_task')]) ",,42,0
openstack%2Fos-net-config~master~I05dcb4fabe718686e306bdc719b32f0fb40c1b5e,openstack/os-net-config,master,I05dcb4fabe718686e306bdc719b32f0fb40c1b5e,Add sample and cli test for simple interface config,MERGED,2015-01-14 16:24:34.000000000,2015-01-26 13:38:51.000000000,2015-01-26 13:38:50.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-14 16:24:34.000000000', 'files': ['os_net_config/tests/test_cli.py', 'etc/os-net-config/samples/interface.yaml', 'etc/os-net-config/samples/interface.json'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cd7408e41e16fe06038b6529e7206483f67061a3', 'message': 'Add sample and cli test for simple interface config\n\nAdds a simple example showing how an individual interface can be\nconfigured, e.g outside of a bond etc.\n\nChange-Id: I05dcb4fabe718686e306bdc719b32f0fb40c1b5e\n'}]",0,147225,cd7408e41e16fe06038b6529e7206483f67061a3,8,3,1,4328,,,0,"Add sample and cli test for simple interface config

Adds a simple example showing how an individual interface can be
configured, e.g outside of a bond etc.

Change-Id: I05dcb4fabe718686e306bdc719b32f0fb40c1b5e
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/25/147225/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_cli.py', 'etc/os-net-config/samples/interface.yaml', 'etc/os-net-config/samples/interface.json']",3,cd7408e41e16fe06038b6529e7206483f67061a3,mapping_file,"{""network_config"": [ { ""type"": ""interface"", ""name"": ""em1"", ""use_dhcp"": false, ""addresses"": [ { ""ip_netmask"": ""192.0.2.1/24"" } ] } ] } ",,30,0
openstack%2Foslo.db~master~I1a7803ac2fc31ab4c1cf48b3e32413a1109cda32,openstack/oslo.db,master,I1a7803ac2fc31ab4c1cf48b3e32413a1109cda32,Fix namespace layout to be PEP-420 ready,ABANDONED,2014-09-23 22:59:52.000000000,2015-01-26 13:38:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 7491}, {'_account_id': 11816}]","[{'number': 1, 'created': '2014-09-23 22:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4bcb88c12a520571778b4b8aa31f66f6cd96eaf8', 'message': ""Fix namespace layout to be PEP-420 ready\n\nThis is driven by a few things. Firstly we currently cannot run\nour tests except by installing oslo.db after each edit, which impedes\ndevelopers by making things slow, and confusing (forget to install,\nand you test the last installed code).\n\nSecondly, we cannot use unittest discovery as we do throughout the\nrest of OpenStack because it detects that the wrong module is\nloaded (that is, the installed one, not the local one) and throws\nan error.\n\nThirdly, we can't rearrange the source tree to be in compliance with\nthe standard layout for OpenStack (project/tests/...) which means\nour test ids are not namespaced today, and so we can't tell what\nproject a given test result is from without trying to map actual\ntest functions - which is much harder.\n\nFourth, due to pip issue #3, we cannot pip install -e packages that\nare namespaced using the pkg_resources namespace implementation.\n\nThe PEP-420 implementation uses a blank namespace directory with no\n__init__.py. However that requires a minimum python version greater\nthan our supported minimum of 2.6/2.7. importlib2 could help but isn't\nready yet (and we'd still need some magic on installed systems to\nactivate it). An alternative, which this implementation has chosen, is\nto install using the PEP-420 layout (no __init__ in the namespace\npackage), but simultaneously depend on a package to provide a\n__init__.py (the olso package). When we can hard depend on PEP-420 we\ncan delete that common package. To let developers work locally we need\nthe local namespace directory to be on the path, so it needs an\n__init__.py, and we also need the site-packages namespace directory to\nbe on the path, so we put a thunk to do that into the local\n__init__.py and filter that __init__.py out from installation using\nMANIFEST.in.\n\nCloses-Bug: #1366869\nChange-Id: I1a7803ac2fc31ab4c1cf48b3e32413a1109cda32\n""}, {'number': 2, 'created': '2014-09-24 03:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5c87b207710c5e82c2616988f325791b6c37c5dd', 'message': ""Fix namespace layout to be PEP-420 ready\n\nThis is driven by a few things. Firstly we currently cannot run\nour tests except by installing oslo.db after each edit, which impedes\ndevelopers by making things slow, and confusing (forget to install,\nand you test the last installed code).\n\nSecondly, we cannot use unittest discovery as we do throughout the\nrest of OpenStack because it detects that the wrong module is\nloaded (that is, the installed one, not the local one) and throws\nan error.\n\nThirdly, we can't rearrange the source tree to be in compliance with\nthe standard layout for OpenStack (project/tests/...) which means\nour test ids are not namespaced today, and so we can't tell what\nproject a given test result is from without trying to map actual\ntest functions - which is much harder.\n\nFourth, due to pip issue #3, we cannot pip install -e packages that\nare namespaced using the pkg_resources namespace implementation.\n\nThe PEP-420 implementation uses a blank namespace directory with no\n__init__.py. However that requires a minimum python version greater\nthan our supported minimum of 2.6/2.7. importlib2 could help but isn't\nready yet (and we'd still need some magic on installed systems to\nactivate it). An alternative, which this implementation has chosen, is\nto install using the PEP-420 layout (no __init__ in the namespace\npackage), but simultaneously depend on a package to provide a\n__init__.py (the olso package). When we can hard depend on PEP-420 we\ncan delete that common package. To let developers work locally we need\nthe local namespace directory to be on the path, so it needs an\n__init__.py, and we also need the site-packages namespace directory to\nbe on the path, so we put a thunk to do that into the local\n__init__.py and filter that __init__.py out from installation using\nMANIFEST.in.\n\nCloses-Bug: #1372250\nChange-Id: I1a7803ac2fc31ab4c1cf48b3e32413a1109cda32\n""}, {'number': 3, 'created': '2014-09-30 06:20:58.000000000', 'files': ['requirements.txt', 'oslo/__init__.py', 'setup.cfg', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/208d32266ff047715be991c64b5fae2c0edb9aea', 'message': ""Fix namespace layout to be PEP-420 ready\n\nThis is driven by a few things. Firstly we currently cannot run\nour tests except by installing oslo.db after each edit, which impedes\ndevelopers by making things slow, and confusing (forget to install,\nand you test the last installed code).\n\nSecondly, we cannot use unittest discovery as we do throughout the\nrest of OpenStack because it detects that the wrong module is\nloaded (that is, the installed one, not the local one) and throws\nan error.\n\nThirdly, we can't rearrange the source tree to be in compliance with\nthe standard layout for OpenStack (project/tests/...) which means\nour test ids are not namespaced today, and so we can't tell what\nproject a given test result is from without trying to map actual\ntest functions - which is much harder.\n\nFourth, due to pip issue #3, we cannot pip install -e packages that\nare namespaced using the pkg_resources namespace implementation.\n\nThe PEP-420 implementation uses a blank namespace directory with no\n__init__.py. However that requires a minimum python version greater\nthan our supported minimum of 2.6/2.7. importlib2 could help but isn't\nready yet (and we'd still need some magic on installed systems to\nactivate it). An alternative, which this implementation has chosen, is\nto install using the PEP-420 layout (no __init__ in the namespace\npackage), but simultaneously depend on a package to provide a\n__init__.py (the olso package). When we can hard depend on PEP-420 we\ncan delete that common package. To let developers work locally we need\nthe local namespace directory to be on the path, so it needs an\n__init__.py, and we also need the site-packages namespace directory to\nbe on the path, so we put a thunk to do that into the local\n__init__.py and filter that __init__.py out from installation using\nMANIFEST.in.\n\nCloses-Bug: #1372250\nChange-Id: I1a7803ac2fc31ab4c1cf48b3e32413a1109cda32\n""}]",3,123604,208d32266ff047715be991c64b5fae2c0edb9aea,11,5,3,4190,,,0,"Fix namespace layout to be PEP-420 ready

This is driven by a few things. Firstly we currently cannot run
our tests except by installing oslo.db after each edit, which impedes
developers by making things slow, and confusing (forget to install,
and you test the last installed code).

Secondly, we cannot use unittest discovery as we do throughout the
rest of OpenStack because it detects that the wrong module is
loaded (that is, the installed one, not the local one) and throws
an error.

Thirdly, we can't rearrange the source tree to be in compliance with
the standard layout for OpenStack (project/tests/...) which means
our test ids are not namespaced today, and so we can't tell what
project a given test result is from without trying to map actual
test functions - which is much harder.

Fourth, due to pip issue #3, we cannot pip install -e packages that
are namespaced using the pkg_resources namespace implementation.

The PEP-420 implementation uses a blank namespace directory with no
__init__.py. However that requires a minimum python version greater
than our supported minimum of 2.6/2.7. importlib2 could help but isn't
ready yet (and we'd still need some magic on installed systems to
activate it). An alternative, which this implementation has chosen, is
to install using the PEP-420 layout (no __init__ in the namespace
package), but simultaneously depend on a package to provide a
__init__.py (the olso package). When we can hard depend on PEP-420 we
can delete that common package. To let developers work locally we need
the local namespace directory to be on the path, so it needs an
__init__.py, and we also need the site-packages namespace directory to
be on the path, so we put a thunk to do that into the local
__init__.py and filter that __init__.py out from installation using
MANIFEST.in.

Closes-Bug: #1372250
Change-Id: I1a7803ac2fc31ab4c1cf48b3e32413a1109cda32
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/04/123604/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo/__init__.py', 'setup.cfg', 'MANIFEST.in']",4,4bcb88c12a520571778b4b8aa31f66f6cd96eaf8,,exclude oslo/__init__.py global-exclude *.pyc , global-exclude *.pyc,6,4
openstack%2Fpuppet-manila~master~I95689b19d6bd8b5e7499a89ff0890f688a3c08b3,openstack/puppet-manila,master,I95689b19d6bd8b5e7499a89ff0890f688a3c08b3,Makes kombu_ssl_* parameters optional when rabbit_use_ssl => true,MERGED,2015-01-02 21:41:28.000000000,2015-01-26 13:36:47.000000000,2015-01-26 13:36:47.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}]","[{'number': 1, 'created': '2015-01-02 21:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ff6cdfe735843bd62dba4cac6e7cc19f05c35075', 'message': 'Makes kombu_ssl_* parameters optional when rabbit_use_ssl => true\n\nThe kombu_ssl_* parameters should not be required when rabbit_use_ssl => true\nRather, rabbit_use_ssl must be set to true if the kombu_ssl_* parameters are\nused.\n\nCloses-Bug: 1356083\nChange-Id: I95689b19d6bd8b5e7499a89ff0890f688a3c08b3\n'}, {'number': 2, 'created': '2015-01-12 17:08:07.000000000', 'files': ['spec/classes/manila_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2ff97375ba9eb3c8cadce63774c7576ba119c1c3', 'message': 'Makes kombu_ssl_* parameters optional when rabbit_use_ssl => true\n\nThe kombu_ssl_* parameters should not be required when rabbit_use_ssl => true\nRather, rabbit_use_ssl must be set to true if the kombu_ssl_* parameters are\nused.\n\nCloses-Bug: 1356083\nChange-Id: I95689b19d6bd8b5e7499a89ff0890f688a3c08b3\n'}]",0,144806,2ff97375ba9eb3c8cadce63774c7576ba119c1c3,9,3,2,11166,,,0,"Makes kombu_ssl_* parameters optional when rabbit_use_ssl => true

The kombu_ssl_* parameters should not be required when rabbit_use_ssl => true
Rather, rabbit_use_ssl must be set to true if the kombu_ssl_* parameters are
used.

Closes-Bug: 1356083
Change-Id: I95689b19d6bd8b5e7499a89ff0890f688a3c08b3
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/06/144806/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_spec.rb', 'manifests/init.pp']",2,ff6cdfe735843bd62dba4cac6e7cc19f05c35075,bug/1356083, if $kombu_ssl_ca_certs and !$rabbit_use_ssl { fail('The kombu_ssl_ca_certs parameter requires rabbit_use_ssl to be set to true') } if $kombu_ssl_certfile and !$rabbit_use_ssl { fail('The kombu_ssl_certfile parameter requires rabbit_use_ssl to be set to true') } if $kombu_ssl_keyfile and !$rabbit_use_ssl { fail('The kombu_ssl_keyfile parameter requires rabbit_use_ssl to be set to true') } if ($kombu_ssl_certfile and !$kombu_ssl_keyfile) or ($kombu_ssl_keyfile and !$kombu_ssl_certfile) { fail('The kombu_ssl_certfile and kombu_ssl_keyfile parameters must be used together') if $kombu_ssl_ca_certs { manila_config { 'DEFAULT/kombu_ssl_ca_certs': value => $kombu_ssl_ca_certs; } } else { manila_config { 'DEFAULT/kombu_ssl_ca_certs': ensure => absent; } } if $kombu_ssl_certfile or $kombu_ssl_keyfile { manila_config { 'DEFAULT/kombu_ssl_certfile': value => $kombu_ssl_certfile; 'DEFAULT/kombu_ssl_keyfile': value => $kombu_ssl_keyfile; } } else { manila_config { 'DEFAULT/kombu_ssl_certfile': ensure => absent; 'DEFAULT/kombu_ssl_keyfile': ensure => absent; } } if $kombu_ssl_version { manila_config { 'DEFAULT/kombu_ssl_version': value => $kombu_ssl_version; } } else { manila_config { 'DEFAULT/kombu_ssl_version': ensure => absent; } } , if $rabbit_use_ssl { if !$kombu_ssl_ca_certs { fail('The kombu_ssl_ca_certs parameter is required when rabbit_use_ssl is set to true') } if !$kombu_ssl_certfile { fail('The kombu_ssl_certfile parameter is required when rabbit_use_ssl is set to true') } if !$kombu_ssl_keyfile { fail('The kombu_ssl_keyfile parameter is required when rabbit_use_ssl is set to true') } manila_config { 'DEFAULT/kombu_ssl_ca_certs': value => $kombu_ssl_ca_certs; 'DEFAULT/kombu_ssl_certfile': value => $kombu_ssl_certfile; 'DEFAULT/kombu_ssl_keyfile': value => $kombu_ssl_keyfile; 'DEFAULT/kombu_ssl_version': value => $kombu_ssl_version; },51,15
openstack%2Ftripleo-heat-templates~master~I29f12f35effe7f5067707a043f5de8bb1f9968e6,openstack/tripleo-heat-templates,master,I29f12f35effe7f5067707a043f5de8bb1f9968e6,Make node names configurable,ABANDONED,2014-10-31 16:37:02.000000000,2015-01-26 13:32:41.000000000,,"[{'_account_id': 3}, {'_account_id': 4220}, {'_account_id': 4328}, {'_account_id': 4330}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 7471}, {'_account_id': 7579}, {'_account_id': 8399}, {'_account_id': 8688}, {'_account_id': 10373}, {'_account_id': 11655}]","[{'number': 1, 'created': '2014-10-31 16:37:02.000000000', 'files': ['cinder-storage.yaml', 'nova-compute-instance.yaml', 'swift-storage-source.yaml', 'block-storage-nfs.yaml', 'undercloud-source.yaml', 'block-storage.yaml', 'overcloud-source.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/daa8b0fbf13e0426a6c8de4358de1216f2d08813', 'message': 'Make node names configurable\n\nProvide Heat params to customise the names of each node. The defaults\nare chosen to make this patch a no-op.\n\nChange-Id: I29f12f35effe7f5067707a043f5de8bb1f9968e6\n'}]",0,132301,daa8b0fbf13e0426a6c8de4358de1216f2d08813,16,12,1,10373,,,0,"Make node names configurable

Provide Heat params to customise the names of each node. The defaults
are chosen to make this patch a no-op.

Change-Id: I29f12f35effe7f5067707a043f5de8bb1f9968e6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/132301/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder-storage.yaml', 'nova-compute-instance.yaml', 'swift-storage-source.yaml', 'block-storage-nfs.yaml', 'undercloud-source.yaml', 'block-storage.yaml', 'overcloud-source.yaml']",7,daa8b0fbf13e0426a6c8de4358de1216f2d08813,feature/Node_Names," controller0Name: default: '' description: If set, allows the heat default controller system name to be overridden. type: string NovaCompute0Name: default: '' description: If set, allows the heat default compute system name to be overridden. type: string parameters: NovaCompute0Name: {get_param: NovaCompute0Name} name: get_param: controller0Name",,43,0
openstack%2Fhorizon~master~I4a279e40f89b4daef5c208c4411532844a974f1a,openstack/horizon,master,I4a279e40f89b4daef5c208c4411532844a974f1a,Imported Translations from Transifex,MERGED,2015-01-25 06:06:55.000000000,2015-01-26 13:30:32.000000000,2015-01-26 13:30:32.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}, {'_account_id': 6610}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-01-25 06:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5166662a6ff42fb4714ae6c37315345053c46c5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I4a279e40f89b4daef5c208c4411532844a974f1a\n'}, {'number': 2, 'created': '2015-01-26 06:07:05.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2af8034ffc9766a0f4fb8beef833ca7f8c045ef5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I4a279e40f89b4daef5c208c4411532844a974f1a\n'}]",0,149863,2af8034ffc9766a0f4fb8beef833ca7f8c045ef5,16,5,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I4a279e40f89b4daef5c208c4411532844a974f1a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/149863/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po']",18,d5166662a6ff42fb4714ae6c37315345053c46c5,transifex/translations,"""POT-Creation-Date: 2015-01-24 03:24-0600\n"" ""PO-Revision-Date: 2015-01-24 08:25+0000\n""#: dashboards/project/stacks/resource_types/tables.py:31#: dashboards/project/stacks/resource_types/tables.py:45msgid ""SLAAC: Address discovered from OpenStack Router"" msgstr """"msgid ""DHCPv6 stateful: Address discovered from OpenStack DHCP"" msgstr """"""DHCPv6 stateless: Address discovered from OpenStack Router and additional "" ""information from OpenStack DHCP"" msgstr """"#: dashboards/project/stacks/resource_types/tables.py:38#: dashboards/project/stacks/resource_types/tables.py:26 msgid ""AWS compatible"" msgstr """" #: dashboards/project/stacks/resource_types/tables.py:34#: dashboards/project/stacks/resource_types/tables.py:36","""POT-Creation-Date: 2015-01-23 08:15-0600\n"" ""PO-Revision-Date: 2015-01-23 14:32+0000\n""#: dashboards/project/stacks/resource_types/tables.py:30#: dashboards/project/stacks/resource_types/tables.py:44msgid ""SLAAC: Address discovered from Openstack Router"" msgstr ""SLAAC: Address discovered from Openstack Router""msgid ""DHCPv6 stateful: Address discovered from Openstack DHCP"" msgstr ""DHCPv6 stateful: Address discovered from Openstack DHCP""""DHCPv6 stateless: Address discovered from Openstack Router and info from "" ""Openstack DHCP"" msgstr ""DHCPv6 stateless: Address discovered from Openstack Router and info from Openstack DHCP""#: dashboards/project/stacks/resource_types/tables.py:37#: dashboards/project/stacks/resource_types/tables.py:33#: dashboards/project/stacks/resource_types/tables.py:35",347,277
openstack%2Fpython-keystoneclient-kerberos~master~I50fd03a0d8996fc8b8c161f9aa86206ff2682194,openstack/python-keystoneclient-kerberos,master,I50fd03a0d8996fc8b8c161f9aa86206ff2682194,Updated from global requirements,MERGED,2015-01-26 10:34:12.000000000,2015-01-26 13:29:18.000000000,2015-01-26 13:29:18.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-26 10:34:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient-kerberos/commit/ab3e8fb5ee3cfd5c9da19ef5a242c64a414f5273', 'message': 'Updated from global requirements\n\nChange-Id: I50fd03a0d8996fc8b8c161f9aa86206ff2682194\n'}]",0,149979,ab3e8fb5ee3cfd5c9da19ef5a242c64a414f5273,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I50fd03a0d8996fc8b8c161f9aa86206ff2682194
",git fetch https://review.opendev.org/openstack/python-keystoneclient-kerberos refs/changes/79/149979/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ab3e8fb5ee3cfd5c9da19ef5a242c64a414f5273,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Fec2-api~master~I99abe5d011927a7563b43e88301069ecd93cd1f6,openstack/ec2-api,master,I99abe5d011927a7563b43e88301069ecd93cd1f6,Test filtering of route tables by subnet id,MERGED,2015-01-25 09:12:57.000000000,2015-01-26 13:25:35.000000000,2015-01-26 13:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-25 09:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4088a11867f606e9a2fa1e876097b4b179366284', 'message': 'Test filtering of route tables by subnet id\n\nChange-Id: I99abe5d011927a7563b43e88301069ecd93cd1f6\n'}, {'number': 2, 'created': '2015-01-26 12:54:03.000000000', 'files': ['ec2api/tests/fakes.py', 'ec2api/tests/test_route_table.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/32722254c4f9cd26049603000a522bfce91d9d27', 'message': 'Test filtering of route tables by subnet id\n\nChange-Id: I99abe5d011927a7563b43e88301069ecd93cd1f6\n'}]",0,149870,32722254c4f9cd26049603000a522bfce91d9d27,9,3,2,10224,,,0,"Test filtering of route tables by subnet id

Change-Id: I99abe5d011927a7563b43e88301069ecd93cd1f6
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/70/149870/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/fakes.py', 'ec2api/tests/test_route_table.py']",2,4088a11867f606e9a2fa1e876097b4b179366284,master," fakes.ID_EC2_ROUTE_TABLE_3: fakes.DB_ROUTE_TABLE_3, fakes.ID_EC2_SUBNET_2: fakes.DB_SUBNET_2})) resp = self.execute( 'ReplaceRouteTableAssociation', {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_3, 'RouteTableId': fakes.ID_EC2_ROUTE_TABLE_2}) fakes.DB_SUBNET_2, rollback_route_table_object=fakes.DB_ROUTE_TABLE_3) {fakes.ID_EC2_ROUTE_TABLE_3: fakes.DB_ROUTE_TABLE_3, do_check({'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_3, 'RouteTableId': fakes.ID_EC2_ROUTE_TABLE_3}, {fakes.ID_EC2_ROUTE_TABLE_3: fakes.DB_ROUTE_TABLE_3, fakes.ID_EC2_SUBNET_2: tools.purge_dict(fakes.DB_SUBNET_2, ['route_table_id'])})) do_check({'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_3, 'RouteTableId': fakes.ID_EC2_ROUTE_TABLE_3}, fakes.ID_EC2_ROUTE_TABLE_3: fakes.DB_ROUTE_TABLE_3, fakes.ID_EC2_SUBNET_2: fakes.DB_SUBNET_2, {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_3, mock.ANY, fakes.DB_SUBNET_2) fakes.ID_EC2_ROUTE_TABLE_3: fakes.DB_ROUTE_TABLE_3, fakes.ID_EC2_SUBNET_2: fakes.DB_SUBNET_2, {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_3}) subnet = tools.purge_dict(fakes.DB_SUBNET_2, ('route_table_id',)) mock.ANY, subnet) mock.ANY, subnet, fakes.DB_ROUTE_TABLE_1, rollback_route_table_object=fakes.DB_ROUTE_TABLE_3) self.db_api.get_item_by_id.return_value = tools.purge_dict( fakes.DB_SUBNET_1, ['route_table_id']) self.db_api.get_item_by_id.side_effect = ( fakes.get_db_api_get_item_by_id( {fakes.ID_EC2_VPC_1: fakes.DB_VPC_1})) do_check({'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_1}, 'InvalidParameterValue') fakes.ID_EC2_ROUTE_TABLE_3: fakes.DB_ROUTE_TABLE_3, fakes.ID_EC2_SUBNET_2: fakes.DB_SUBNET_2, self.execute( 'DisassociateRouteTable', {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_3}) mock.ANY, fakes.DB_SUBNET_2) fakes.get_db_api_get_items({ 'rtb': [fakes.DB_ROUTE_TABLE_1, fakes.DB_ROUTE_TABLE_2, fakes.DB_ROUTE_TABLE_3], 'vpc': [fakes.DB_VPC_1, fakes.DB_VPC_2], 'igw': [fakes.DB_IGW_1, fakes.DB_IGW_2], 'subnet': [fakes.DB_SUBNET_1, fakes.DB_SUBNET_2], 'eni': [fakes.DB_NETWORK_INTERFACE_1, fakes.DB_NETWORK_INTERFACE_2]})) fakes.EC2_ROUTE_TABLE_2, fakes.EC2_ROUTE_TABLE_3])) ('association.subnet-id', fakes.ID_EC2_SUBNET_2), fakes.get_db_api_get_items({ 'rtb': [route_table_1, route_table_2], 'vpc': [fakes.DB_VPC_1, fakes.DB_VPC_2], 'igw': [igw_1, igw_2], 'subnet': [subnet_1, subnet_2], 'eni': [fakes.DB_NETWORK_INTERFACE_1, fakes.DB_NETWORK_INTERFACE_2]}))"," subnet = tools.update_dict( fakes.DB_SUBNET_2, {'route_table_id': fakes.ID_EC2_ROUTE_TABLE_1}) fakes.ID_EC2_ROUTE_TABLE_1: fakes.DB_ROUTE_TABLE_1, fakes.ID_EC2_SUBNET_2: subnet})) resp = self.execute('ReplaceRouteTableAssociation', {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_2, 'RouteTableId': fakes.ID_EC2_ROUTE_TABLE_2}) subnet, rollback_route_table_object=fakes.DB_ROUTE_TABLE_1) {fakes.ID_EC2_ROUTE_TABLE_2: fakes.DB_ROUTE_TABLE_2, do_check({'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_2, 'RouteTableId': fakes.ID_EC2_ROUTE_TABLE_2}, {fakes.ID_EC2_ROUTE_TABLE_2: fakes.DB_ROUTE_TABLE_2, fakes.ID_EC2_SUBNET_2: fakes.DB_SUBNET_2})) do_check({'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_2, 'RouteTableId': fakes.ID_EC2_ROUTE_TABLE_2}, subnet = tools.update_dict( fakes.DB_SUBNET_2, {'route_table_id': fakes.ID_EC2_ROUTE_TABLE_1}) fakes.ID_EC2_SUBNET_2: subnet, {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_2, mock.ANY, subnet) subnet = tools.update_dict( fakes.DB_SUBNET_2, {'route_table_id': fakes.ID_EC2_ROUTE_TABLE_2}) fakes.ID_EC2_ROUTE_TABLE_2: fakes.DB_ROUTE_TABLE_2, fakes.ID_EC2_SUBNET_2: subnet, {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_2}) mock.ANY, fakes.DB_SUBNET_2) mock.ANY, fakes.DB_SUBNET_2, fakes.DB_ROUTE_TABLE_1, rollback_route_table_object=fakes.DB_ROUTE_TABLE_2) self.db_api.get_item_by_id.side_effect = ( lambda _, kind, item_id: None if kind == 'subnet' else fakes.DB_VPC_1 if kind == 'vpc' and item_id == fakes.ID_EC2_VPC_1 else None) do_check({'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_1}, 'InvalidParameterValue') self.db_api.get_item_by_id.return_value = fakes.DB_SUBNET_2 subnet = tools.update_dict( fakes.DB_SUBNET_2, {'route_table_id': fakes.ID_EC2_ROUTE_TABLE_2}) fakes.ID_EC2_ROUTE_TABLE_2: fakes.DB_ROUTE_TABLE_2, fakes.ID_EC2_SUBNET_2: subnet, self.execute('DisassociateRouteTable', {'AssociationId': fakes.ID_EC2_ROUTE_TABLE_ASSOCIATION_2}) mock.ANY, subnet) lambda _, kind: [fakes.DB_ROUTE_TABLE_1, fakes.DB_ROUTE_TABLE_2] if kind == 'rtb' else [fakes.DB_VPC_1, fakes.DB_VPC_2] if kind == 'vpc' else [fakes.DB_IGW_1, fakes.DB_IGW_2] if kind == 'igw' else [fakes.DB_SUBNET_1, fakes.DB_SUBNET_2] if kind == 'subnet' else [fakes.DB_NETWORK_INTERFACE_1, fakes.DB_NETWORK_INTERFACE_2] if kind == 'eni' else []) fakes.EC2_ROUTE_TABLE_2])) # TODO(ft): add fake data for this case # ('association.subnet-id', ), lambda _, kind: [route_table_1, route_table_2] if kind == 'rtb' else [fakes.DB_VPC_1, fakes.DB_VPC_2] if kind == 'vpc' else [igw_1, igw_2] if kind == 'igw' else [subnet_1, subnet_2] if kind == 'subnet' else [fakes.DB_NETWORK_INTERFACE_1, fakes.DB_NETWORK_INTERFACE_2] if kind == 'eni' else [])",85,80
openstack%2Fec2-api~master~Ia2bda7d9e2101fface35f679498fbf37ce564e2a,openstack/ec2-api,master,Ia2bda7d9e2101fface35f679498fbf37ce564e2a,Fix delete local route bug,MERGED,2015-01-24 08:30:31.000000000,2015-01-26 13:25:29.000000000,2015-01-26 13:25:29.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-24 08:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/481237b40501cdf43bf4e08ae82e6bbea9399fea', 'message': 'Fix delete local route bug\n\nChange-Id: Ia2bda7d9e2101fface35f679498fbf37ce564e2a\n'}, {'number': 2, 'created': '2015-01-26 12:54:03.000000000', 'files': ['ec2api/tests/test_route_table.py', 'ec2api/api/route_table.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c7489afacc5713ad97d33aa2854c1cbcff16adc9', 'message': 'Fix delete local route bug\n\nChange-Id: Ia2bda7d9e2101fface35f679498fbf37ce564e2a\n'}]",2,149816,c7489afacc5713ad97d33aa2854c1cbcff16adc9,10,4,2,10224,,,0,"Fix delete local route bug

Change-Id: Ia2bda7d9e2101fface35f679498fbf37ce564e2a
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/16/149816/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/test_route_table.py', 'ec2api/api/route_table.py']",2,481237b40501cdf43bf4e08ae82e6bbea9399fea,master," for ind, route in enumerate(route_table['routes']): if route['destination_cidr_block'] != destination_cidr_block: continue if route.get('gateway_id', 0) is None: msg = _('cannot remove local route %(destination_cidr_block)s ' 'in route table %(route_table_id)s') msg = msg % {'route_table_id': route_table_id, 'destination_cidr_block': destination_cidr_block} raise exception.InvalidParameterValue(msg) break else: rollback_route_table_state = copy.deepcopy(route_table) del route_table['routes'][ind]", # TODO(ft): check cidr block is valid rollback_route_table_state = copy.deepcopy(route_table) route_count = len(route_table['routes']) route_table['routes'] = [ r for r in route_table['routes'] if r['destination_cidr_block'] != destination_cidr_block] if route_count == len(route_table['routes']):,19,7
openstack%2Fec2-api~master~Ia78b439fb045ec8862ce8718d1b24244c2ff7b07,openstack/ec2-api,master,Ia78b439fb045ec8862ce8718d1b24244c2ff7b07,Test filtering is used correctly in all APIs,MERGED,2015-01-24 07:30:37.000000000,2015-01-26 13:23:21.000000000,2015-01-26 13:23:20.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-24 07:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/78515932a617320f5b9b9c30b02219908d033268', 'message': 'Test filtering is used correctly in all APIs\n\nChange-Id: Ia78b439fb045ec8862ce8718d1b24244c2ff7b07\n'}, {'number': 2, 'created': '2015-01-26 12:54:03.000000000', 'files': ['ec2api/tests/test_key_pair.py', 'ec2api/tests/test_address.py', 'ec2api/api/internet_gateway.py', 'ec2api/tests/test_network_interface.py', 'ec2api/tests/test_instance.py', 'ec2api/api/route_table.py', 'ec2api/tests/test_vpc.py', 'ec2api/api/image.py', 'ec2api/tests/test_availability_zone.py', 'ec2api/tests/test_internet_gateway.py', 'ec2api/tests/test_subnet.py', 'ec2api/tests/base.py', 'ec2api/tests/fakes.py', 'ec2api/tests/test_volume.py', 'ec2api/api/subnet.py', 'ec2api/tests/test_dhcp_options.py', 'ec2api/tests/test_route_table.py', 'ec2api/tests/test_tag.py', 'ec2api/tests/test_image.py', 'ec2api/tests/test_security_group.py', 'ec2api/tests/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4da99aac2475c03bb2f652ecb8b8b11d14db5f63', 'message': 'Test filtering is used correctly in all APIs\n\nChange-Id: Ia78b439fb045ec8862ce8718d1b24244c2ff7b07\n'}]",2,149815,4da99aac2475c03bb2f652ecb8b8b11d14db5f63,10,4,2,10224,,,0,"Test filtering is used correctly in all APIs

Change-Id: Ia78b439fb045ec8862ce8718d1b24244c2ff7b07
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/15/149815/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/test_key_pair.py', 'ec2api/tests/test_address.py', 'ec2api/api/internet_gateway.py', 'ec2api/tests/test_network_interface.py', 'ec2api/tests/test_instance.py', 'ec2api/api/route_table.py', 'ec2api/tests/test_vpc.py', 'ec2api/api/image.py', 'ec2api/tests/test_availability_zone.py', 'ec2api/tests/test_internet_gateway.py', 'ec2api/tests/test_subnet.py', 'ec2api/tests/base.py', 'ec2api/tests/fakes.py', 'ec2api/tests/test_volume.py', 'ec2api/api/subnet.py', 'ec2api/tests/test_dhcp_options.py', 'ec2api/tests/test_route_table.py', 'ec2api/tests/test_tag.py', 'ec2api/tests/test_image.py', 'ec2api/tests/test_security_group.py', 'ec2api/tests/test_snapshot.py']",21,78515932a617320f5b9b9c30b02219908d033268,master," self._test_filtering( 'DescribeSnapshots', 'snapshotSet', [ # NOTE(ft): declare a constant for the description in fakes ('description', 'fake description'), ('owner-id', fakes.ID_OS_PROJECT), ('progress', '100%'), ('snapshot-id', fakes.ID_EC2_SNAPSHOT_1), ('start-time', fakes.TIME_CREATE_SNAPSHOT_2), ('status', 'completed'), ('volume-id', fakes.ID_EC2_VOLUME_2), # TODO(ft): support filtering by a number value # NOTE(ft): declare a constant for the volume size in fakes # ('volume-size', 1) ]) ",,221,29
openstack%2Fhorizon~master~I7bb296cfcd0cb17fb8bf33cc1125cae0acea8f6a,openstack/horizon,master,I7bb296cfcd0cb17fb8bf33cc1125cae0acea8f6a,test,ABANDONED,2015-01-26 08:52:55.000000000,2015-01-26 13:18:41.000000000,,"[{'_account_id': 3}, {'_account_id': 4264}, {'_account_id': 6763}, {'_account_id': 10068}, {'_account_id': 13325}]","[{'number': 1, 'created': '2015-01-26 08:52:55.000000000', 'files': ['test01'], 'web_link': 'https://opendev.org/openstack/horizon/commit/990bbfaaaedd5e0709ee819d95acf0f6e3899871', 'message': 'test\n\nChange-Id: I7bb296cfcd0cb17fb8bf33cc1125cae0acea8f6a\n'}]",0,149946,990bbfaaaedd5e0709ee819d95acf0f6e3899871,7,5,1,14151,,,0,"test

Change-Id: I7bb296cfcd0cb17fb8bf33cc1125cae0acea8f6a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/149946/1 && git format-patch -1 --stdout FETCH_HEAD,['test01'],1,990bbfaaaedd5e0709ee819d95acf0f6e3899871,test01,test01 ,,1,0
openstack%2Fneutron~master~Ic60a42a8522b1606fe293eae6c4ab883ab9bb182,openstack/neutron,master,Ic60a42a8522b1606fe293eae6c4ab883ab9bb182,Remove SecurityGroupAgentRpcMixin,ABANDONED,2015-01-22 19:51:07.000000000,2015-01-26 13:18:14.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b3faaaf3cfb600c7381a3c1880060b3f06534ec', 'message': 'Remove SecurityGroupAgentRpcMixin\n\nSecurityGroupAgentRpc was added to replace SecurityGroupAgentRpcMixin\nand reduce some code duplication.  That conversion is now complete so\nthis class can be removed.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ic60a42a8522b1606fe293eae6c4ab883ab9bb182\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bc01b50bd60602106ac9ff968e9f86ae98fbf2a', 'message': 'Remove SecurityGroupAgentRpcMixin\n\nSecurityGroupAgentRpc was added to replace SecurityGroupAgentRpcMixin\nand reduce some code duplication.  That conversion is now complete so\nthis class can be removed.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ic60a42a8522b1606fe293eae6c4ab883ab9bb182\n'}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': ['neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd6f9868e4c1dbcbf52f902223bbc5d59c05a5d4', 'message': 'Remove SecurityGroupAgentRpcMixin\n\nSecurityGroupAgentRpc was added to replace SecurityGroupAgentRpcMixin\nand reduce some code duplication.  That conversion is now complete so\nthis class can be removed.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ic60a42a8522b1606fe293eae6c4ab883ab9bb182\n'}]",0,149379,fd6f9868e4c1dbcbf52f902223bbc5d59c05a5d4,55,23,3,1561,,,0,"Remove SecurityGroupAgentRpcMixin

SecurityGroupAgentRpc was added to replace SecurityGroupAgentRpcMixin
and reduce some code duplication.  That conversion is now complete so
this class can be removed.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ic60a42a8522b1606fe293eae6c4ab883ab9bb182
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/149379/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/securitygroups_rpc.py'],1,8b3faaaf3cfb600c7381a3c1880060b3f06534ec,bp/rpc-docs-and-namespaces,"class SecurityGroupAgentRpc(object): """"""Enables SecurityGroup agent support in agent implementations."""""" def __init__(self, context, plugin_rpc, root_helper, defer_refresh_firewall=False): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall(defer_refresh_firewall)","class SecurityGroupAgentRpcMixin(object): """"""A mix-in that enable SecurityGroup agent support in agent implementations. """"""class SecurityGroupAgentRpc(SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper, defer_refresh_firewall=False): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall(defer_refresh_firewall) ",9,14
openstack%2Fneutron~master~I0a97f0875917f5719717a992b4d838b02a26308a,openstack/neutron,master,I0a97f0875917f5719717a992b4d838b02a26308a,hyperv: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 19:51:07.000000000,2015-01-26 13:17:35.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a817d5f304e2a64d158405f02778298fb67fd90', 'message': ""hyperv: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nThere is one minor functional difference in this patch.  Previously,\ninit_firewall() was called conditionaly.  Now it is always called.  However,\nit's harmless to always call it, as it's just some initialization code.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I0a97f0875917f5719717a992b4d838b02a26308a\n""}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c59042839a1517a69e86df770b7f76d6c282ac8e', 'message': ""hyperv: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nThere is one minor functional difference in this patch.  Previously,\ninit_firewall() was called conditionaly.  Now it is always called.  However,\nit's harmless to always call it, as it's just some initialization code.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I0a97f0875917f5719717a992b4d838b02a26308a\n""}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': ['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/tests/unit/hyperv/test_hyperv_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d06aadd631d43a398a1abd05e93562c6f68a9f53', 'message': ""hyperv: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nThere is one minor functional difference in this patch.  Previously,\ninit_firewall() was called conditionaly.  Now it is always called.  However,\nit's harmless to always call it, as it's just some initialization code.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I0a97f0875917f5719717a992b4d838b02a26308a\n""}]",0,149378,d06aadd631d43a398a1abd05e93562c6f68a9f53,50,21,3,1561,,,0,"hyperv: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

There is one minor functional difference in this patch.  Previously,
init_firewall() was called conditionaly.  Now it is always called.  However,
it's harmless to always call it, as it's just some initialization code.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I0a97f0875917f5719717a992b4d838b02a26308a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/149378/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py', 'neutron/tests/unit/hyperv/test_hyperv_neutron_agent.py']",2,8a817d5f304e2a64d158405f02778298fb67fd90,bp/rpc-docs-and-namespaces, self.agent = hyperv_neutron_agent.HyperVNeutronAgent(None), self.agent = hyperv_neutron_agent.HyperVNeutronAgent(),11,13
openstack%2Fneutron~master~Ia2c5437986a906f97047846304a42ed6a77b24b6,openstack/neutron,master,Ia2c5437986a906f97047846304a42ed6a77b24b6,bigswitch: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:17:23.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7962}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61a8b2be4867e399fbdcf68cc9403f63437e5fd9', 'message': 'bigswitch: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ia2c5437986a906f97047846304a42ed6a77b24b6\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f318cfc36d8a0c789661bd233d5687e06eea68ca', 'message': 'bigswitch: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ia2c5437986a906f97047846304a42ed6a77b24b6\n'}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': ['neutron/tests/unit/bigswitch/test_restproxy_agent.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9828e99476046d9935129fcf2e54de05cc7fd5e', 'message': 'bigswitch: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ia2c5437986a906f97047846304a42ed6a77b24b6\n'}]",0,149356,d9828e99476046d9935129fcf2e54de05cc7fd5e,57,24,3,1561,,,0,"bigswitch: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ia2c5437986a906f97047846304a42ed6a77b24b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/149356/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/bigswitch/test_restproxy_agent.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py']",2,61a8b2be4867e399fbdcf68cc9403f63437e5fd9,bp/rpc-docs-and-namespaces," self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context, self.sg_plugin_rpc, root_helper)","class SecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall() self.sg_agent = SecurityGroupAgent(self.context, self.sg_plugin_rpc, root_helper)",5,13
openstack%2Fneutron~master~I55227e6c5870bd96f59d0dd7b275e908aeb29623,openstack/neutron,master,I55227e6c5870bd96f59d0dd7b275e908aeb29623,sriovnicagent: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:17:06.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7985cfa1b0d4e9340b4f96dc36c4655aa9d8507d', 'message': 'sriovnicagent: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I55227e6c5870bd96f59d0dd7b275e908aeb29623\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71c0f75cef281d4d513e4ff0bdbe062c67155738', 'message': 'sriovnicagent: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I55227e6c5870bd96f59d0dd7b275e908aeb29623\n'}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': ['neutron/plugins/sriovnicagent/sriov_nic_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/532e85d99c8cfd2826f96f68885e5b6ae786d24e', 'message': 'sriovnicagent: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I55227e6c5870bd96f59d0dd7b275e908aeb29623\n'}]",0,149355,532e85d99c8cfd2826f96f68885e5b6ae786d24e,60,22,3,1561,,,0,"sriovnicagent: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I55227e6c5870bd96f59d0dd7b275e908aeb29623
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/149355/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/sriovnicagent/sriov_nic_agent.py'],1,7985cfa1b0d4e9340b4f96dc36c4655aa9d8507d,bp/rpc-docs-and-namespaces," self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context,","class SriovNicSwitchSecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall() self.sg_agent = SriovNicSwitchSecurityGroupAgent(self.context,",1,9
openstack%2Fneutron~master~Ie350309925bb1d46127d898101fc238c2f899c75,openstack/neutron,master,Ie350309925bb1d46127d898101fc238c2f899c75,oneconvergence: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:16:57.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f924b3060b61e0ba87a77f314666389988685f67', 'message': 'oneconvergence: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie350309925bb1d46127d898101fc238c2f899c75\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36fc3b844d72ae703b354694253240a57081049e', 'message': 'oneconvergence: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie350309925bb1d46127d898101fc238c2f899c75\n'}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': ['neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py', 'neutron/tests/unit/oneconvergence/test_nvsd_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fc961fbd284cb1b430691629b4df8cfdc2ddb30', 'message': 'oneconvergence: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie350309925bb1d46127d898101fc238c2f899c75\n'}]",0,149354,9fc961fbd284cb1b430691629b4df8cfdc2ddb30,56,23,3,1561,,,0,"oneconvergence: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ie350309925bb1d46127d898101fc238c2f899c75
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/149354/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py', 'neutron/tests/unit/oneconvergence/test_nvsd_agent.py']",2,f924b3060b61e0ba87a77f314666389988685f67,bp/rpc-docs-and-namespaces,"from neutron.agent import securitygroups_rpc as sg_rpc from neutron.common import topics sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN) self.sg_agent = sg_rpc.SecurityGroupAgentRpc(context, sg_plugin_rpc, 'dummy_wrapper')"," self.sg_agent = nvsd_neutron_agent.SecurityGroupAgentRpc( context, 'dummy_wrapper')",9,14
openstack%2Fkolla~master~Id2d697f2e9ddaa66e25f71f410200528c1e0cf6b,openstack/kolla,master,Id2d697f2e9ddaa66e25f71f410200528c1e0cf6b,Various fixes to pre-commit hook,MERGED,2015-01-19 07:41:20.000000000,2015-01-26 13:10:03.000000000,2015-01-26 13:10:02.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10419}]","[{'number': 1, 'created': '2015-01-19 07:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f40047e2d2dbbfeac71a981320b2e16d25ac55f8', 'message': 'Various fixes to pre-commit hook\n\nFix incorrect test in sh. Bash implements the new test with [[ that\naccepts the double equal, however, this is not a bash script. On Debian\nand derivates, this will be run by dash.\n\nMake the script portable by not using GNU extensions of xargs.\n\nCall `validate-all-*.sh` scripts whenever possible.\n\nHave bashate look for /usr/bin/env style shebang as well.\n\nRemove useless validate-json.sh file.\n\nChange-Id: Id2d697f2e9ddaa66e25f71f410200528c1e0cf6b\n'}, {'number': 2, 'created': '2015-01-19 07:45:25.000000000', 'files': ['tools/pre-commit-hook', 'tools/validate-json.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc3687b18b186273f1a15526a0f9c86406644fc4', 'message': 'Various fixes to pre-commit hook\n\nFix incorrect test in sh. Bash implements the new test with [[ that\naccepts the double equal, however, this is not a bash script. On Debian\nand derivates, this will be run by dash.\n\nMake the script portable by not using GNU extensions of xargs.\n\nCall `validate-all-*.sh` scripts whenever possible.\n\nHave bashate look for /usr/bin/env style shebang as well.\n\nRemove useless validate-json.sh file.\n\nChange-Id: Id2d697f2e9ddaa66e25f71f410200528c1e0cf6b\n'}]",0,148194,dc3687b18b186273f1a15526a0f9c86406644fc4,9,3,2,13039,,,0,"Various fixes to pre-commit hook

Fix incorrect test in sh. Bash implements the new test with [[ that
accepts the double equal, however, this is not a bash script. On Debian
and derivates, this will be run by dash.

Make the script portable by not using GNU extensions of xargs.

Call `validate-all-*.sh` scripts whenever possible.

Have bashate look for /usr/bin/env style shebang as well.

Remove useless validate-json.sh file.

Change-Id: Id2d697f2e9ddaa66e25f71f410200528c1e0cf6b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/148194/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/pre-commit-hook', 'tools/validate-json.sh']",2,f40047e2d2dbbfeac71a981320b2e16d25ac55f8,pre-commit_hook_fixes,,#!/bin/sh true ,6,16
openstack%2Fneutron~master~Ifa0f1aadfff4a11ceb88cbb8a9f4202beecff4cc,openstack/neutron,master,Ifa0f1aadfff4a11ceb88cbb8a9f4202beecff4cc,ofagent: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:09:12.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6ba2873b8b022bdcd2ad9e8595b4e7d00ecaf08', 'message': 'ofagent: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ifa0f1aadfff4a11ceb88cbb8a9f4202beecff4cc\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdb484eaec84e4be35521325f8f942f54611748a', 'message': 'ofagent: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ifa0f1aadfff4a11ceb88cbb8a9f4202beecff4cc\n'}, {'number': 3, 'created': '2015-01-23 18:09:16.000000000', 'files': ['neutron/plugins/ofagent/agent/ofa_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee776e2b0b2659d29de1d7006b15e53f3da12e2b', 'message': 'ofagent: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ifa0f1aadfff4a11ceb88cbb8a9f4202beecff4cc\n'}]",0,149353,ee776e2b0b2659d29de1d7006b15e53f3da12e2b,56,23,3,1561,,,0,"ofagent: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ifa0f1aadfff4a11ceb88cbb8a9f4202beecff4cc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/149353/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ofagent/agent/ofa_neutron_agent.py'],1,b6ba2873b8b022bdcd2ad9e8595b4e7d00ecaf08,bp/rpc-docs-and-namespaces," self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context, self.sg_plugin_rpc, self.root_helper, defer_refresh_firewall=True)","class OFASecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall(defer_refresh_firewall=True) self.sg_agent = OFASecurityGroupAgent(self.context, self.sg_plugin_rpc, self.root_helper)",3,11
openstack%2Fneutron~master~Iac8e1d7b0726e45c0962d45c8df924e7f2234289,openstack/neutron,master,Iac8e1d7b0726e45c0962d45c8df924e7f2234289,nec: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:09:02.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a9e7802758d798d736837db23e1cb93214a5a01', 'message': 'nec: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iac8e1d7b0726e45c0962d45c8df924e7f2234289\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/256e4f3f286484bae4fbe95af487584a98637c5d', 'message': 'nec: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iac8e1d7b0726e45c0962d45c8df924e7f2234289\n'}, {'number': 3, 'created': '2015-01-23 18:09:15.000000000', 'files': ['neutron/plugins/nec/agent/nec_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/796ddcb4d2d77498645b5919f8e7e8441a806345', 'message': 'nec: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iac8e1d7b0726e45c0962d45c8df924e7f2234289\n'}]",0,149352,796ddcb4d2d77498645b5919f8e7e8441a806345,52,21,3,1561,,,0,"nec: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Iac8e1d7b0726e45c0962d45c8df924e7f2234289
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/149352/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/nec/agent/nec_neutron_agent.py'],1,5a9e7802758d798d736837db23e1cb93214a5a01,bp/rpc-docs-and-namespaces," self.setup_rpc(root_helper) def setup_rpc(self, root_helper): self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN) self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context, self.sg_plugin_rpc, root_helper)","class SecurityGroupAgentRpc(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context): self.context = context self.plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN) self.init_firewall() self.setup_rpc() def setup_rpc(self): self.sg_agent = SecurityGroupAgentRpc(self.context)",5,11
openstack%2Fneutron~master~I8e9b833f5ad89a5939fa1f22d23600cd6e5a26f9,openstack/neutron,master,I8e9b833f5ad89a5939fa1f22d23600cd6e5a26f9,mlnx: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:08:49.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e948690a9f7bf26c803d034813da987bd137395', 'message': 'mlnx: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8e9b833f5ad89a5939fa1f22d23600cd6e5a26f9\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2dc81ddf80b0a9a027fe4343dabb94aaf9ea8730', 'message': 'mlnx: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8e9b833f5ad89a5939fa1f22d23600cd6e5a26f9\n'}, {'number': 3, 'created': '2015-01-23 18:09:16.000000000', 'files': ['neutron/plugins/mlnx/agent/eswitch_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bf5dd50dbdeb144b168d89859b577046568ddae', 'message': 'mlnx: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I8e9b833f5ad89a5939fa1f22d23600cd6e5a26f9\n'}]",0,149351,3bf5dd50dbdeb144b168d89859b577046568ddae,55,21,3,1561,,,0,"mlnx: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I8e9b833f5ad89a5939fa1f22d23600cd6e5a26f9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/149351/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/mlnx/agent/eswitch_neutron_agent.py'],1,0e948690a9f7bf26c803d034813da987bd137395,bp/rpc-docs-and-namespaces," self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context,","class MlnxEswitchSecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall() self.sg_agent = MlnxEswitchSecurityGroupAgent(self.context,",1,9
openstack%2Ftrove~stable%2Ficehouse~I2dece05c74ad18a96fa05791e368ff7283a5e4e5,openstack/trove,stable/icehouse,I2dece05c74ad18a96fa05791e368ff7283a5e4e5,Fix trove-tox-doc-publish-checkbuild failures,MERGED,2015-01-21 11:26:35.000000000,2015-01-26 13:08:48.000000000,2015-01-26 12:21:32.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9656}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 12208}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-21 11:26:35.000000000', 'files': ['apidocs/pom.xml'], 'web_link': 'https://opendev.org/openstack/trove/commit/04f0ce4a93ea06e1af29cfe10390f16a30de9fa3', 'message': ""Fix trove-tox-doc-publish-checkbuild failures\n\nThe owners of maven.research.rackspacecloud.com/ seem to have introduced\na 301 redirect permanent from http -> https URLs on around Jan 10th.\nThis has broken the master/trove check builds since that time.\n\nMaven, when running in the infrastructure CI environment, fails to\nfollow these redirects.\n\nThis code change simply refers to the maven software repositories using\nhttps URLs.\n\nLocal testing of this change against Tesora's downstream CI found that\nit may be necessary to purge the broken/cached file from the bare-trusty\nCI build machines ala:\nrm /home/jenkins/.m2/repository/com/rackspace/cloud/api/wadl-tools/1.0.9\n(continued..) /wadl-tools-1.0.9.jar\n\nCloses-Bug: #1412949\n\nConflicts:\n\tapidocs/pom.xml\n\nChange-Id: I2dece05c74ad18a96fa05791e368ff7283a5e4e5\n(cherry picked from commit 386ddc22680e8e9be3a34241067b0e34a192ebea)\n""}]",0,148893,04f0ce4a93ea06e1af29cfe10390f16a30de9fa3,20,9,1,9656,,,0,"Fix trove-tox-doc-publish-checkbuild failures

The owners of maven.research.rackspacecloud.com/ seem to have introduced
a 301 redirect permanent from http -> https URLs on around Jan 10th.
This has broken the master/trove check builds since that time.

Maven, when running in the infrastructure CI environment, fails to
follow these redirects.

This code change simply refers to the maven software repositories using
https URLs.

Local testing of this change against Tesora's downstream CI found that
it may be necessary to purge the broken/cached file from the bare-trusty
CI build machines ala:
rm /home/jenkins/.m2/repository/com/rackspace/cloud/api/wadl-tools/1.0.9
(continued..) /wadl-tools-1.0.9.jar

Closes-Bug: #1412949

Conflicts:
	apidocs/pom.xml

Change-Id: I2dece05c74ad18a96fa05791e368ff7283a5e4e5
(cherry picked from commit 386ddc22680e8e9be3a34241067b0e34a192ebea)
",git fetch https://review.opendev.org/openstack/trove refs/changes/93/148893/1 && git format-patch -1 --stdout FETCH_HEAD,['apidocs/pom.xml'],1,04f0ce4a93ea06e1af29cfe10390f16a30de9fa3,bug/1412949, <url>https://maven.research.rackspacecloud.com/content/groups/public/</url> <url>https://maven.research.rackspacecloud.com/content/groups/public/</url>, <url>http://maven.research.rackspacecloud.com/content/groups/public/</url> <url>http://maven.research.rackspacecloud.com/content/groups/public/</url> ,2,2
openstack%2Fneutron~master~Ie579c38c6a3839b83b6dabc8009367e51cd61f27,openstack/neutron,master,Ie579c38c6a3839b83b6dabc8009367e51cd61f27,openvswitch: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:08:39.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad3d877a0f889fd8baf71d718325f9733dddf8ec', 'message': 'openvswitch: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie579c38c6a3839b83b6dabc8009367e51cd61f27\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26d8f93ce139f5289a6b3af9d32eb487281e610d', 'message': 'openvswitch: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie579c38c6a3839b83b6dabc8009367e51cd61f27\n'}, {'number': 3, 'created': '2015-01-23 18:09:16.000000000', 'files': ['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/176691230253a5d857cf7b55722997c666794ff7', 'message': 'openvswitch: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie579c38c6a3839b83b6dabc8009367e51cd61f27\n'}]",0,149350,176691230253a5d857cf7b55722997c666794ff7,55,23,3,1561,,,0,"openvswitch: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ie579c38c6a3839b83b6dabc8009367e51cd61f27
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/149350/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'],1,ad3d877a0f889fd8baf71d718325f9733dddf8ec,bp/rpc-docs-and-namespaces," self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context, self.sg_plugin_rpc, root_helper, defer_refresh_firewall=True) ","class OVSSecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall(defer_refresh_firewall=True) self.sg_agent = OVSSecurityGroupAgent(self.context, self.sg_plugin_rpc, root_helper)",3,11
openstack%2Fneutron~master~I213543706dccd8ee09ce2d36f048376cd720207f,openstack/neutron,master,I213543706dccd8ee09ce2d36f048376cd720207f,linuxbridge: use SecurityGroupAgentRpc,ABANDONED,2015-01-22 18:07:42.000000000,2015-01-26 13:08:25.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/855003a758d385b0ec3494c059b14aab700a5d3a', 'message': 'linuxbridge: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I213543706dccd8ee09ce2d36f048376cd720207f\n'}, {'number': 2, 'created': '2015-01-22 20:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10dc2e033543e66cc850afa5d417e72f05588c90', 'message': 'linuxbridge: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I213543706dccd8ee09ce2d36f048376cd720207f\n'}, {'number': 3, 'created': '2015-01-23 18:09:16.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/879058637816ee3234a6f1b5322aeb3f9d8510aa', 'message': 'linuxbridge: use SecurityGroupAgentRpc\n\nUse SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to\nhelp reduce code duplication.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I213543706dccd8ee09ce2d36f048376cd720207f\n'}]",0,149349,879058637816ee3234a6f1b5322aeb3f9d8510aa,55,24,3,1561,,,0,"linuxbridge: use SecurityGroupAgentRpc

Use SecurityGroupAgentRpc instead of SecurityGroupAgentRpcMixin to
help reduce code duplication.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I213543706dccd8ee09ce2d36f048376cd720207f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/149349/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py'],1,855003a758d385b0ec3494c059b14aab700a5d3a,bp/rpc-docs-and-namespaces," self.sg_agent = sg_rpc.SecurityGroupAgentRpc(self.context,","class LinuxBridgeSecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall() self.sg_agent = LinuxBridgeSecurityGroupAgent(self.context,",1,9
openstack%2Fhorizon~master~If65f7b8b3bbfe1ba11a7034c1b2437f6322857c9,openstack/horizon,master,If65f7b8b3bbfe1ba11a7034c1b2437f6322857c9,"Test, please ignore the patch",ABANDONED,2015-01-26 13:04:57.000000000,2015-01-26 13:06:46.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2015-01-26 13:04:57.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a9fad32f96b6f228fee243a3d30d8bd943ed845', 'message': 'Test, please ignore the patch\n\nChange-Id: If65f7b8b3bbfe1ba11a7034c1b2437f6322857c9\n'}]",0,150024,6a9fad32f96b6f228fee243a3d30d8bd943ed845,3,1,1,14107,,,0,"Test, please ignore the patch

Change-Id: If65f7b8b3bbfe1ba11a7034c1b2437f6322857c9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/24/150024/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,6a9fad32f96b6f228fee243a3d30d8bd943ed845,test_ingore,Test,,1,0
openstack%2Fmurano~stable%2Fjuno~I57e7e433099309906d4c85d9dff8227a2a89acf4,openstack/murano,stable/juno,I57e7e433099309906d4c85d9dff8227a2a89acf4,Changes replacement policy for Neutron ports to AUTO,MERGED,2015-01-23 13:56:50.000000000,2015-01-26 13:06:45.000000000,2015-01-26 13:06:42.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 13149}]","[{'number': 1, 'created': '2015-01-23 13:56:50.000000000', 'files': ['meta/io.murano/Classes/resources/Instance.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/339dd2143f95ac49a71f983187912ee350b233b5', 'message': 'Changes replacement policy for Neutron ports to AUTO\n\nThis fix is supposed to be a workaround for an issue when\ninstances loose their network upon subsequent stack updates.\n\nChange-Id: I57e7e433099309906d4c85d9dff8227a2a89acf4\nWorkaround-for: #1393376\nCloses-bug: #1414008\n'}]",0,149633,339dd2143f95ac49a71f983187912ee350b233b5,19,7,1,7225,,,0,"Changes replacement policy for Neutron ports to AUTO

This fix is supposed to be a workaround for an issue when
instances loose their network upon subsequent stack updates.

Change-Id: I57e7e433099309906d4c85d9dff8227a2a89acf4
Workaround-for: #1393376
Closes-bug: #1414008
",git fetch https://review.opendev.org/openstack/murano refs/changes/33/149633/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano/Classes/resources/Instance.yaml'],1,339dd2143f95ac49a71f983187912ee350b233b5,bug/1414008, replacement_policy: AUTO,,1,0
openstack%2Fsahara~master~I7c8aa98d3e82117c64966b681a725f563ae54125,openstack/sahara,master,I7c8aa98d3e82117c64966b681a725f563ae54125,Fix getting heat stack in Sahara,MERGED,2015-01-25 18:08:06.000000000,2015-01-26 12:43:44.000000000,2015-01-26 12:43:43.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7604}, {'_account_id': 11059}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-25 18:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b0a2bb12f004268aecc0f138a5c9f6fbb5c37412', 'message': 'Fix getting heat stack in Sahara\n\nChange-Id: I7c8aa98d3e82117c64966b681a725f563ae54125\n'}, {'number': 2, 'created': '2015-01-25 18:14:52.000000000', 'files': ['sahara/utils/openstack/heat.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/74f108706c0f6b35e8b9e914a83a553a404b59a3', 'message': 'Fix getting heat stack in Sahara\n\nCloses-bug: #1414472\n\nChange-Id: I7c8aa98d3e82117c64966b681a725f563ae54125'}]",0,149889,74f108706c0f6b35e8b9e914a83a553a404b59a3,11,6,2,7710,,,0,"Fix getting heat stack in Sahara

Closes-bug: #1414472

Change-Id: I7c8aa98d3e82117c64966b681a725f563ae54125",git fetch https://review.opendev.org/openstack/sahara refs/changes/89/149889/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/utils/openstack/heat.py'],1,b0a2bb12f004268aecc0f138a5c9f6fbb5c37412,fix-heat-getting-stacks, for stack in heat.stacks.list(): if stack.stack_name == stack_name: return stack, for stack in heat.stacks.list(filters={'stack_name': stack_name}): return stack,3,2
openstack%2Fbashate~master~I9f92c9c6d2141fd601f45b99facd24f53931b27e,openstack/bashate,master,I9f92c9c6d2141fd601f45b99facd24f53931b27e,Clean-up return statements,MERGED,2014-10-08 10:01:16.000000000,2015-01-26 12:40:58.000000000,2015-01-26 12:40:57.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 167}, {'_account_id': 866}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5371}, {'_account_id': 6039}, {'_account_id': 6635}, {'_account_id': 6637}, {'_account_id': 7118}, {'_account_id': 8411}, {'_account_id': 8895}]","[{'number': 1, 'created': '2014-10-08 10:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/fe58164f077303231f9ba52141fa0a28a25faefc', 'message': 'Small return statements clean-up\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 2, 'created': '2014-10-09 07:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/899e550c5a687b25a95e9c18bd9373a21640c4f8', 'message': 'Small clean-up\n\n* Clean-up return statemenets.\n* Make log_error static method.\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 3, 'created': '2014-10-10 07:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/ffd62014c4edb814bf6c20c10eb4d696dd0a883d', 'message': 'Small clean-up\n\n* Clean-up return statemenets.\n* Move log_error function to global scope.\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 4, 'created': '2014-10-14 10:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/807019cc80eda610db9090f22cb3ef803f4c3d68', 'message': 'Clean-up return statements\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 5, 'created': '2014-10-15 07:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/0636e898ffac31b401e455b312a7610eb5a99d06', 'message': 'Clean-up return statements\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 6, 'created': '2014-10-16 06:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/abf235edbc192d1662936986f8f8031980ea1492', 'message': 'Clean-up return statements\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 7, 'created': '2014-11-25 09:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/4e8429a5458dca0a5d32c6a3c92ed2a765370f25', 'message': 'Clean-up return statements\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}, {'number': 8, 'created': '2014-12-31 17:22:44.000000000', 'files': ['bashate/bashate.py', 'bashate/tests/test_bashate.py'], 'web_link': 'https://opendev.org/openstack/bashate/commit/e441afd8aa1d500a69dffd0781761b490b04c7d0', 'message': 'Clean-up return statements\n\nAlso increase coverage of main function\n\nChange-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e\n'}]",18,126853,e441afd8aa1d500a69dffd0781761b490b04c7d0,51,15,8,8895,,,0,"Clean-up return statements

Also increase coverage of main function

Change-Id: I9f92c9c6d2141fd601f45b99facd24f53931b27e
",git fetch https://review.opendev.org/openstack/bashate refs/changes/53/126853/3 && git format-patch -1 --stdout FETCH_HEAD,['bashate/bashate.py'],1,fe58164f077303231f9ba52141fa0a28a25faefc,return-cleanup," return m.group('token') if m else False @staticmethod def log_error(error, line, filename, filelineno): if run.ERRORS: return 0"," if m: return m.group('token') else: return False def log_error(self, error, line, filename, filelineno): if run.ERRORS > 0: else: return 0",5,8
openstack%2Frally~master~I786b0b824be31c08e6795201bb95553434d8d634,openstack/rally,master,I786b0b824be31c08e6795201bb95553434d8d634,Refactor oslo.foo as oslo_foo,MERGED,2015-01-17 17:38:22.000000000,2015-01-26 12:33:35.000000000,2015-01-26 12:33:32.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 6578}, {'_account_id': 7369}, {'_account_id': 8367}, {'_account_id': 9545}, {'_account_id': 14135}, {'_account_id': 14687}]","[{'number': 1, 'created': '2015-01-17 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bbb23b79d14892763e8c5f9b3e2e6c84a4ed417a', 'message': 'Refactor oslo.utils as oslo_utils\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.utils is renamed to oslo_utils.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint drop-namespace-packages\nPartial-Bug: #1409213\n'}, {'number': 2, 'created': '2015-01-19 11:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ed473eeed52e60f9ab06976aacc83c979c4edc41', 'message': 'Refactor oslo.utils as oslo_utils\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.utils is renamed to oslo_utils.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint oslo-incubator/drop-namespace-packages\nPartial-Bug: #1409213\n'}, {'number': 3, 'created': '2015-01-19 17:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4bc28c4775d6e6ada32182a6fe55e5bd93bd29b1', 'message': 'Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint ""oslo-incubator/drop-namespace-packages""\nCloses-Bug: #1409213\n'}, {'number': 4, 'created': '2015-01-25 22:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e77be4b84da403d4b07f6e72ab332a019489caf1', 'message': 'Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint oslo-incubator/drop-namespace-packages\nCloses-Bug: #1409213\n'}, {'number': 5, 'created': '2015-01-25 22:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2dcf5c686ece76c21ae7e04645293ee99b9ec6c9', 'message': 'Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint oslo-incubator/drop-namespace-packages\nCloses-Bug: #1409213\n'}, {'number': 6, 'created': '2015-01-25 22:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/07833de03948f502d62069fdc3a9f4ba85562fad', 'message': 'Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint oslo-incubator/drop-namespace-packages\nCloses-Bug: #1409213\n'}, {'number': 7, 'created': '2015-01-26 09:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d51dcd3a5f6d94006c512cef982d67f1115602ff', 'message': 'Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint oslo-incubator/drop-namespace-packages\nCloses-Bug: #1409213\n'}, {'number': 8, 'created': '2015-01-26 10:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/36129f3bb72bd9cbf12b20e81eb3519976612352', 'message': ""Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint 'oslo-incubator/drop-namespace-packages'\nCloses-Bug: #1409213\n""}, {'number': 9, 'created': '2015-01-26 10:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5844023abfb8b0f4d547dc0ad80fde68012319a2', 'message': ""Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint 'oslo-incubator/drop-namespace-packages'\nCloses-Bug: #1409213\n""}, {'number': 10, 'created': '2015-01-26 10:51:05.000000000', 'files': ['tests/hacking/checks.py', 'rally/aas/rest/__init__.py', 'rally/verification/tempest/tempest.py', 'tests/unit/benchmark/scenarios/cinder/test_utils.py', 'rally/benchmark/scenarios/sahara/utils.py', 'tests/unit/benchmark/scenarios/sahara/test_utils.py', 'rally/osclients.py', 'rally/benchmark/scenarios/heat/utils.py', 'rally/benchmark/scenarios/cinder/utils.py', 'rally/common/log.py', 'rally/benchmark/scenarios/glance/utils.py', 'tests/unit/verification/test_config.py', 'tests/unit/benchmark/scenarios/nova/test_utils.py', 'rally/cmd/cliutils.py', 'rally/common/utils.py', 'rally/cmd/api.py', 'tests/hacking/README.rst', 'rally/db/sqlalchemy/api.py', 'tests/unit/benchmark/scenarios/sahara/test_jobs.py', 'rally/benchmark/scenarios/nova/utils.py', 'tests/unit/test_hacking.py', 'rally/common/i18n.py', 'tests/unit/verification/test_tempest.py', 'rally/benchmark/scenarios/neutron/utils.py', 'rally/benchmark/context/sahara/sahara_cluster.py', 'tests/unit/test.py', 'rally/exceptions.py', 'rally/verification/tempest/config.py', 'rally/verification/tempest/subunit2json.py', 'tests/unit/benchmark/context/sahara/test_sahara_cluster.py', 'rally/db/api.py', 'tests/unit/cmd/test_cliutils.py', 'tests/unit/test_osclients.py', 'rally/cmd/commands/task.py', 'rally/benchmark/context/users.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/82a0a9ac09d630d2919d87cef01ee20260061fb5', 'message': ""Refactor oslo.foo as oslo_foo\n\nAccording to related blueprint, installing oslo\nlibraries into a same namespace seems to cause\nseveral type of errors. Every occurrence\nof oslo.foo supported is renamed to oslo_foo.\n\nChange-Id: I786b0b824be31c08e6795201bb95553434d8d634\nImplements: blueprint 'oslo-incubator/drop-namespace-packages'\nCloses-Bug: #1409213\n""}]",1,148065,82a0a9ac09d630d2919d87cef01ee20260061fb5,45,8,10,14345,,,0,"Refactor oslo.foo as oslo_foo

According to related blueprint, installing oslo
libraries into a same namespace seems to cause
several type of errors. Every occurrence
of oslo.foo supported is renamed to oslo_foo.

Change-Id: I786b0b824be31c08e6795201bb95553434d8d634
Implements: blueprint 'oslo-incubator/drop-namespace-packages'
Closes-Bug: #1409213
",git fetch https://review.opendev.org/openstack/rally refs/changes/65/148065/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/db/sqlalchemy/api.py', 'rally/openstack/common/cliutils.py', 'rally/verification/tempest/subunit2json.py', 'rally/openstack/common/log.py', 'rally/benchmark/scenarios/neutron/utils.py', 'rally/benchmark/scenarios/sahara/utils.py', 'rally/cmd/commands/task.py', 'rally/openstack/common/fileutils.py', 'rally/common/utils.py']",9,bbb23b79d14892763e8c5f9b3e2e6c84a4ed417a,bug/1409213,from oslo_utils import importutils,from oslo.utils import importutils,10,10
openstack%2Fsahara-specs~master~I14acacd02a90bc390eef4cf5365e125d8ae1880d,openstack/sahara-specs,master,I14acacd02a90bc390eef4cf5365e125d8ae1880d,Refactor MapR plugin code,MERGED,2015-01-20 14:54:44.000000000,2015-01-26 12:29:56.000000000,2015-01-26 12:29:54.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7710}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12693}]","[{'number': 1, 'created': '2015-01-20 14:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/92e0c7bccf7ad93e56a77a2a183b3fb02bc9bb6e', 'message': 'Refactor MapR plugin code\n\nChange-Id: I14acacd02a90bc390eef4cf5365e125d8ae1880d\nImplements: blueprint mapr-refactor\n'}, {'number': 2, 'created': '2015-01-20 16:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/ec8bc49eb455dfe6aaa11cb083b8c5430f9fd4ef', 'message': 'Refactor MapR plugin code\n\nChange-Id: I14acacd02a90bc390eef4cf5365e125d8ae1880d\nImplements: blueprint mapr-refactor\n'}, {'number': 3, 'created': '2015-01-20 17:03:07.000000000', 'files': ['specs/kilo/mapr-refactor.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/25b7548dbf9db7b2a1f6c73499d9800ebcc37360', 'message': 'Refactor MapR plugin code\n\nChange-Id: I14acacd02a90bc390eef4cf5365e125d8ae1880d\nImplements: blueprint mapr-refactor\n'}]",8,148585,25b7548dbf9db7b2a1f6c73499d9800ebcc37360,18,6,3,12693,,,0,"Refactor MapR plugin code

Change-Id: I14acacd02a90bc390eef4cf5365e125d8ae1880d
Implements: blueprint mapr-refactor
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/85/148585/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/mapr-refactor.rst'],1,92e0c7bccf7ad93e56a77a2a183b3fb02bc9bb6e,bp/mapr-refactor,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Refactor MapR plugin code ========================= https://blueprints.launchpad.net/sahara/+spec/mapr-refactor MapR plugin's code should be refactored to support easy addition of new services and releases Problem description =================== Current plugin implementation has several weaknesses: * Declarative nature of Service * Code complexity caused by usage of plugin-spec.json * Almost all actions are implemented as sequence of utility functions calls * Not clear separation of behaviour to modules and classes * Some code is redutant Proposed change =============== * Extract Service entity to separate class with customizable behaviour * Move provisioning logic from utility modules to specialized classes * Remove redutant code MapR plugin implementation delegates all operations to it's counterparts in VersionHandler interface. VersionHandler interface mimics plugin SPI with additional methods get_context(cluster) and get_services(). ClusterContext object returned by get_context wraps cluster object passed as argument and provides additional information about cluster as well as utility methods related to wrapped cluster. Service definitions resides in 'sahara.plugins.mapr.services' package instead of plugin-spec.json which is completely removed now. Each service definition represents particular version of service. Alternatives ------------ Leave code ""as-is"" Data model impact ----------------- None REST API impact --------------- None Other end user impact --------------------- None Deployer impact --------------- None Developer impact ---------------- Developers of subsequent versions of the MapR plugin should take into account this changes. Sahara-image-elements impact ---------------------------- None Sahara-dashboard / Horizon impact --------------------------------- None Implementation ============== Assignee(s) ----------- Primary assignee: aosadchiy Other contributors: ssvinarchuk Work Items ---------- 1) Extract Service entity to separate class with customizable behaviour 2) Move provisioning logic from utility modules to specialized classes 3) Remove redutant code Dependencies ============ None Testing ======= Existing integration tests are sufficient Documentation Impact ==================== None References ========== None ",,124,0
openstack%2Frally~master~I77675fe590bfc901ccda4b909ae037ca17a25e82,openstack/rally,master,I77675fe590bfc901ccda4b909ae037ca17a25e82,Updated from global requirements,MERGED,2015-01-26 10:35:51.000000000,2015-01-26 12:13:54.000000000,2015-01-26 12:13:50.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-26 10:35:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/5f540b1ee9ac6b0d537c3b3ae453d3f9860554fb', 'message': 'Updated from global requirements\n\nChange-Id: I77675fe590bfc901ccda4b909ae037ca17a25e82\n'}]",0,149988,5f540b1ee9ac6b0d537c3b3ae453d3f9860554fb,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: I77675fe590bfc901ccda4b909ae037ca17a25e82
",git fetch https://review.opendev.org/openstack/rally refs/changes/88/149988/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5f540b1ee9ac6b0d537c3b3ae453d3f9860554fb,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Ffuel-library~master~I7dcdeafdc7c65042eab7edf327c329daac59ef47,openstack/fuel-library,master,I7dcdeafdc7c65042eab7edf327c329daac59ef47,Fixes for corosync 2 support,MERGED,2015-01-22 13:10:48.000000000,2015-01-26 12:07:28.000000000,2015-01-26 12:07:28.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-01-22 13:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c7f2c57efba1d4d2af763ce442eb6032c66bc58b', 'message': 'Increase scope for crm_diff\n\nChange-Id: I7dcdeafdc7c65042eab7edf327c329daac59ef47\n'}, {'number': 2, 'created': '2015-01-23 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/112c6d7e48ba09467de5ffa566856b0298488db1', 'message': 'Fixes for corosync 2 support\n\n* Increase scope for crm_diff\n* Fix typo in cs_rsc_order name\n* Make corosync_version 1 as default for compatibility reasons\n* Use ver 1 for /etc/corosync/service.d/pacemaker then Corosync v2\n  selected, otherwise use ver 0\n\nChange-Id: I7dcdeafdc7c65042eab7edf327c329daac59ef47\n'}, {'number': 3, 'created': '2015-01-23 11:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a64d8640f913ba672bb9e5e6837ca0b3864287a7', 'message': 'Fixes for corosync 2 support\n\n* Increase scope for crm_diff\n* Fix typo in cs_rsc_order name\n* Fix rsc_location xml\n* Make corosync_version 1 as default for compatibility reasons\n* Install crmsh and pcs packages as dependency\n* Use ver 1 for /etc/corosync/service.d/pacemaker then Corosync v2\n  selected, otherwise use ver 0\n\nChange-Id: I7dcdeafdc7c65042eab7edf327c329daac59ef47\n'}, {'number': 4, 'created': '2015-01-26 09:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/46a25b1189ad55c3c5457ab69477f9718165c0b5', 'message': 'Fixes for corosync 2 support\n\n* Increase scope for crm_diff\n* Fix typo in cs_rsc_order name\n* Fix rsc_location xml\n* Make corosync_version 1 as default for compatibility reasons\n* Install crmsh and pcs packages as dependency\n* Use ver 1 for /etc/corosync/service.d/pacemaker then Corosync v2\n  selected, otherwise use ver 0\n\nrelated blueprint corosync-2\n\nChange-Id: I7dcdeafdc7c65042eab7edf327c329daac59ef47\n'}, {'number': 5, 'created': '2015-01-26 11:10:10.000000000', 'files': ['deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_base.rb', 'deployment/puppet/openstack/manifests/corosync.pp', 'deployment/puppet/cluster/manifests/init.pp', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_order.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_common.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a1d6e9eace3cb27e42dba79714b1fc908d8f4cd6', 'message': 'Fixes for corosync 2 support\n\n* Increase scope for crm_diff\n* Fix typo in cs_rsc_order name\n* Fix rsc_location xml\n* Make corosync_version 1 as default for compatibility reasons\n* Install crmsh and pcs packages as dependency\n* Use ver 1 for /etc/corosync/service.d/pacemaker then Corosync v2\n  selected, otherwise use ver 0\n\nrelated blueprint corosync-2\n\nChange-Id: I7dcdeafdc7c65042eab7edf327c329daac59ef47\n'}]",0,149245,a1d6e9eace3cb27e42dba79714b1fc908d8f4cd6,62,7,5,11090,,,0,"Fixes for corosync 2 support

* Increase scope for crm_diff
* Fix typo in cs_rsc_order name
* Fix rsc_location xml
* Make corosync_version 1 as default for compatibility reasons
* Install crmsh and pcs packages as dependency
* Use ver 1 for /etc/corosync/service.d/pacemaker then Corosync v2
  selected, otherwise use ver 0

related blueprint corosync-2

Change-Id: I7dcdeafdc7c65042eab7edf327c329daac59ef47
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/45/149245/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_base.rb'],1,c7f2c57efba1d4d2af763ce442eb6032c66bc58b,fix_corosync_resource_provider,"include REXML cur_scope=Element.new('cib') cur_scope.add_element('configuration') cur_scope.add_element(get_scope(res_type)) emptydoc=Document.new(cur_scope) xml_patch = Document.new(patch) xml_patch.root.attributes.delete 'digest' wrap_cib=Element.new('cib') wrap_configuration=Element.new('configuration') diff_a=XPath.first(xml_patch,'//diff-added') diff_r=XPath.first(xml_patch,'//diff-removed') wrap_configuration_a=XPath.first(wrap_cib_a,'//configuration') wrap_configuration_r=XPath.first(wrap_cib_r,'//configuration')"," cur_scope=REXML::Element.new(get_scope(res_type)).to_s emptydoc=REXML::Document.new(cur_scope) xml_patch = REXML::Document.new(patch) wrap_cib=REXML::Element.new('cib') wrap_configuration=REXML::Element.new('configuration') diff_a=REXML::XPath.first(xml_patch,'//diff-added') diff_r=REXML::XPath.first(xml_patch,'//diff-removed') wrap_configuration_a=REXML::XPath.first(wrap_cib_a,'//configuration') wrap_configuration_r=REXML::XPath.first(wrap_cib_r,'//configuration')",13,9
openstack%2Ffuel-library~master~I9359813f8e346292f7fe2920d8acb3a06778c69a,openstack/fuel-library,master,I9359813f8e346292f7fe2920d8acb3a06778c69a,Fix typo in globals,MERGED,2015-01-26 11:59:48.000000000,2015-01-26 12:02:46.000000000,2015-01-26 12:02:46.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-01-26 11:59:48.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/globals.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1a39ce70b88d17663a9fb22b23c990018f33f188', 'message': 'Fix typo in globals\n\nChange-Id: I9359813f8e346292f7fe2920d8acb3a06778c69a\nPartial-blueprint: fuel-library-modularization\nFuel-CI: disable\n'}]",0,150010,1a39ce70b88d17663a9fb22b23c990018f33f188,12,3,1,9037,,,0,"Fix typo in globals

Change-Id: I9359813f8e346292f7fe2920d8acb3a06778c69a
Partial-blueprint: fuel-library-modularization
Fuel-CI: disable
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/10/150010/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/globals.pp'],1,1a39ce70b88d17663a9fb22b23c990018f33f188,bp/fuel-library-modularization, $controller_node_address = hiera('management_vip'), $controller_node_address = hiera['management_vip'],1,1
openstack%2Ffuel-main~master~I4e2a616d55a0197de23b24b45bf52fdccd67bc15,openstack/fuel-main,master,I4e2a616d55a0197de23b24b45bf52fdccd67bc15,python-fuelclient: it is moved to a separate repo,MERGED,2015-01-23 16:06:24.000000000,2015-01-26 12:02:27.000000000,2015-01-26 12:02:22.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10474}, {'_account_id': 13194}, {'_account_id': 13948}]","[{'number': 1, 'created': '2015-01-23 16:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e2a815514ca36ac61cd9cfb1928e378736708aaa', 'message': 'python-fuelclient: it is moved to a separate repo\n\nWe moved python-fuelclient from fuel-web repo to a\nseparate repo and this patch switches ISO build process\nto the new one.\n\nChange-Id: I4e2a616d55a0197de23b24b45bf52fdccd67bc15\n'}, {'number': 2, 'created': '2015-01-23 16:07:09.000000000', 'files': ['repos.mk', 'packages/module.mk', 'packages/rpm/specs/python-fuelclient.spec', 'config.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/13cde5b31609a10defc49fcc27b32f12f6b53087', 'message': 'python-fuelclient: it is moved to a separate repo\n\nWe moved python-fuelclient from fuel-web repo to a\nseparate repo and this patch switches ISO build process\nto the new one.\n\nCloses-Bug: 1411710\nChange-Id: I4e2a616d55a0197de23b24b45bf52fdccd67bc15\n'}]",0,149672,13cde5b31609a10defc49fcc27b32f12f6b53087,18,8,2,3009,,,0,"python-fuelclient: it is moved to a separate repo

We moved python-fuelclient from fuel-web repo to a
separate repo and this patch switches ISO build process
to the new one.

Closes-Bug: 1411710
Change-Id: I4e2a616d55a0197de23b24b45bf52fdccd67bc15
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/72/149672/1 && git format-patch -1 --stdout FETCH_HEAD,"['repos.mk', 'packages/module.mk', 'packages/rpm/specs/python-fuelclient.spec', 'config.mk']",4,e2a815514ca36ac61cd9cfb1928e378736708aaa,bug/1411710,PYTHON_FUELCLIENT_COMMIT?=masterPYTHON_FUELCLIENT_REPO?=https://github.com/stackforge/python-fuelclient.gitPYTHON_FUELCLIENT_GERRIT_URL?=https://review.openstack.org/stackforge/python-fuelclientPYTHON_FUELCLIENT_GERRIT_COMMIT?=none,,7,2
openstack%2Fironic~master~If1e5c2db7696bb9bf57657d1d65a89fe8beea341,openstack/ironic,master,If1e5c2db7696bb9bf57657d1d65a89fe8beea341,Updated from global requirements,MERGED,2015-01-23 18:42:15.000000000,2015-01-26 11:51:16.000000000,2015-01-26 11:51:15.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-23 18:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e8ed9531330f1b6c5208ec876cff184c057ff4e', 'message': 'Updated from global requirements\n\nChange-Id: If1e5c2db7696bb9bf57657d1d65a89fe8beea341\n'}, {'number': 2, 'created': '2015-01-24 01:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a076fb2427865abb8efbdbdd96e498a3a558d882', 'message': 'Updated from global requirements\n\nChange-Id: If1e5c2db7696bb9bf57657d1d65a89fe8beea341\n'}, {'number': 3, 'created': '2015-01-24 20:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c2e8eabba78fe58102c9914c42517670af68f7d', 'message': 'Updated from global requirements\n\nChange-Id: If1e5c2db7696bb9bf57657d1d65a89fe8beea341\n'}, {'number': 4, 'created': '2015-01-26 10:27:27.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7eced1a87a219b9acd3de6758fd75f0f7ee5e4b8', 'message': 'Updated from global requirements\n\nChange-Id: If1e5c2db7696bb9bf57657d1d65a89fe8beea341\n'}]",0,149707,7eced1a87a219b9acd3de6758fd75f0f7ee5e4b8,26,4,4,11131,,,0,"Updated from global requirements

Change-Id: If1e5c2db7696bb9bf57657d1d65a89fe8beea341
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/149707/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1e8ed9531330f1b6c5208ec876cff184c057ff4e,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Ffuel-web~master~I32aaa6c294e9c1769076fdf4c849eb8be5aff152,openstack/fuel-web,master,I32aaa6c294e9c1769076fdf4c849eb8be5aff152,Fix isInvalid logic in deployment dialog,MERGED,2015-01-22 15:55:53.000000000,2015-01-26 11:42:57.000000000,2015-01-26 11:42:56.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-22 15:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f02e7c83246b4616744d4d4338a5b22cef440125', 'message': 'Fix isInvalid logic in deployment dialog\n\nChange-Id: I32aaa6c294e9c1769076fdf4c849eb8be5aff152\nCloses-Bug: #1413634\n'}, {'number': 2, 'created': '2015-01-23 14:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/836e5fba142f9eb24e4035a9ed3b03b9ff6ceca6', 'message': 'Fix isInvalid logic in deployment dialog\n\nAlso, styles fix for redeployment message.\n\nChange-Id: I32aaa6c294e9c1769076fdf4c849eb8be5aff152\nCloses-Bug: #1413634\n'}, {'number': 3, 'created': '2015-01-26 10:22:10.000000000', 'files': ['nailgun/static/js/views/dialogs.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/03b6f774df4cb02a1bac68b7dc4ed96e2fefc38d', 'message': 'Fix isInvalid logic in deployment dialog\n\nAlso, styles fix for redeployment message.\n\nChange-Id: I32aaa6c294e9c1769076fdf4c849eb8be5aff152\nCloses-Bug: #1413634\n'}]",4,149323,03b6f774df4cb02a1bac68b7dc4ed96e2fefc38d,31,6,3,13445,,,0,"Fix isInvalid logic in deployment dialog

Also, styles fix for redeployment message.

Change-Id: I32aaa6c294e9c1769076fdf4c849eb8be5aff152
Closes-Bug: #1413634
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/23/149323/3 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/views/dialogs.jsx'],1,f02e7c83246b4616744d4d4338a5b22cef440125,bug/1413634, {(isNewOrNeedsRedeployment || isInvalid) &&, {(isNewOrNeedsRedeployment || !isInvalid) &&,1,1
openstack%2Fgnocchi~master~Ia7ddd32448347163e1cce5ee9ed2e829ae7bab87,openstack/gnocchi,master,Ia7ddd32448347163e1cce5ee9ed2e829ae7bab87,fix creating metrics by api,ABANDONED,2015-01-26 10:28:13.000000000,2015-01-26 11:41:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 7729}]","[{'number': 1, 'created': '2015-01-26 10:28:13.000000000', 'files': ['gnocchi/rest/__init__.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/662e1311e2632767f3dc03138e0734090333ccf0', 'message': 'fix creating metrics by api\n\nNow in master gnocchi MetricsController send to\nstorage.create_metric less args than needed for\nstorage.create_metric. In this patch\narchive_policy.back_window added to function args.\n\nChange-Id: Ia7ddd32448347163e1cce5ee9ed2e829ae7bab87\n'}]",0,149969,662e1311e2632767f3dc03138e0734090333ccf0,6,4,1,7729,,,0,"fix creating metrics by api

Now in master gnocchi MetricsController send to
storage.create_metric less args than needed for
storage.create_metric. In this patch
archive_policy.back_window added to function args.

Change-Id: Ia7ddd32448347163e1cce5ee9ed2e829ae7bab87
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/69/149969/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/rest/__init__.py'],1,662e1311e2632767f3dc03138e0734090333ccf0,fix-metric-creating," pecan.request.storage.create_metric(str(id), ap.back_window, ap)"," pecan.request.storage.create_metric(str(id), ap)",1,1
openstack%2Fsahara-image-elements~master~I924e40ee8d941ff4da0708fc8e273ffca2908640,openstack/sahara-image-elements,master,I924e40ee8d941ff4da0708fc8e273ffca2908640,Drop support for Vanilla Hadoop 2.3,ABANDONED,2014-10-06 20:42:51.000000000,2015-01-26 11:40:26.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12039}]","[{'number': 1, 'created': '2014-10-06 20:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/1f8f74cfe27506792dcc7b178d6995cffd918c09', 'message': 'Drop support for Vanilla Hadoop 2.3\n\nSahara part is already on review: Id94f0ddf618146fdff4eeb9b04f66e81ca492744\n\nChange-Id: I924e40ee8d941ff4da0708fc8e273ffca2908640\n'}, {'number': 2, 'created': '2014-10-06 20:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/31869896c36fc5859262e42a8f3db2bb082f8b32', 'message': 'Drop support for Vanilla Hadoop 2.3\n\nSahara part is already on review: Id94f0ddf618146fdff4eeb9b04f66e81ca492744\n\nChange-Id: I924e40ee8d941ff4da0708fc8e273ffca2908640\n'}, {'number': 3, 'created': '2014-10-06 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/65c8e081b5df4781675bda0cdab55d99281428a1', 'message': 'Drop support for Vanilla Hadoop 2.3\n\nSahara part is already on review: Id94f0ddf618146fdff4eeb9b04f66e81ca492744\n\nChange-Id: I924e40ee8d941ff4da0708fc8e273ffca2908640\n'}, {'number': 4, 'created': '2014-10-10 23:02:03.000000000', 'files': ['elements/oozie/install.d/50-setup-oozie', 'diskimage-create/diskimage-create.sh', 'elements/hadoop/post-install.d/40-setup-hadoop', 'elements/oozie/root.d/0-check', 'elements/hadoop/README.md'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/7465b561d978a12953530fd5a4fc632206f18fe5', 'message': 'Drop support for Vanilla Hadoop 2.3\n\nSahara part is already on review: Id94f0ddf618146fdff4eeb9b04f66e81ca492744\n\npartially implements bp: drop-hadoop-2-3-support\n\nChange-Id: I924e40ee8d941ff4da0708fc8e273ffca2908640'}]",2,126412,7465b561d978a12953530fd5a4fc632206f18fe5,38,9,4,6786,,,0,"Drop support for Vanilla Hadoop 2.3

Sahara part is already on review: Id94f0ddf618146fdff4eeb9b04f66e81ca492744

partially implements bp: drop-hadoop-2-3-support

Change-Id: I924e40ee8d941ff4da0708fc8e273ffca2908640",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/12/126412/4 && git format-patch -1 --stdout FETCH_HEAD,"['elements/oozie/install.d/50-setup-oozie', 'diskimage-create/diskimage-create.sh', 'elements/hadoop/post-install.d/40-setup-hadoop', 'elements/oozie/root.d/0-check', 'elements/hadoop/README.md']",5,1f8f74cfe27506792dcc7b178d6995cffd918c09,,$ wget http://archive.apache.org/dist/hadoop/core/hadoop-2.4.0/hadoop-2.4.0-src.tar.gz$ tar xvf hadoop-2.4.0-src.tar.gz$ cd hadoop-2.4.0-src$ cd hadoop-dist/target/hadoop-2.4.0/lib $ tar -czvf hadoop-native-libs-2.4.0.tar.gz native,$ wget http://archive.apache.org/dist/hadoop/core/hadoop-2.3.0/hadoop-2.3.0-src.tar.gz$ tar xvf hadoop-2.3.0-src.tar.gz$ cd hadoop-2.3.0-src$ cd hadoop-dist/target/hadoop-2.3.0/lib $ tar -czvf hadoop-native-libs-2.3.0.tar.gz native,7,38
openstack%2Ffuel-web~master~I218605dfe8061008e7289e76f0f3707341ed0c11,openstack/fuel-web,master,I218605dfe8061008e7289e76f0f3707341ed0c11,Display node changes in deploy dialog,MERGED,2015-01-22 15:03:11.000000000,2015-01-26 11:36:24.000000000,2015-01-26 11:36:23.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-22 15:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/33ed83eccd4c3e351a6a07e8218fdc343244bde3', 'message': 'Display node changes in deploy dialog\n\nChange-Id: I218605dfe8061008e7289e76f0f3707341ed0c11\nCloses-Bug: #1413607\n'}, {'number': 2, 'created': '2015-01-23 14:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c7eac49636b62a14b80e515a445899ff20c4179d', 'message': 'Display node changes in deploy dialog\n\nChange-Id: I218605dfe8061008e7289e76f0f3707341ed0c11\nCloses-Bug: #1413607\n'}, {'number': 3, 'created': '2015-01-26 08:06:01.000000000', 'files': ['nailgun/static/js/views/dialogs.jsx', 'nailgun/static/translations/core.json'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7c0beb0da92d0576244bf98e1114ea50c3106914', 'message': 'Display node changes in deploy dialog\n\nChange-Id: I218605dfe8061008e7289e76f0f3707341ed0c11\nCloses-Bug: #1413607\n'}]",3,149302,7c0beb0da92d0576244bf98e1114ea50c3106914,27,7,3,13445,,,0,"Display node changes in deploy dialog

Change-Id: I218605dfe8061008e7289e76f0f3707341ed0c11
Closes-Bug: #1413607
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/02/149302/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/views/dialogs.jsx'],1,33ed83eccd4c3e351a6a07e8218fdc343244bde3,bug/1413607," renderChangedNodesAmount: function(nodes, dictKey) { return !!nodes.length && <div key={dictKey} className='deploy-task-name'> {i18n('dialog.display_changes.' + dictKey, {count: nodes.length})} </div>; }, nodes = cluster.get('nodes'), {this.renderChangedNodesAmount(nodes.where({pending_addition: true}), 'added_node')} {this.renderChangedNodesAmount(nodes.where({pending_deletion: true}), 'deleted_node')} {this.renderChangedNodesAmount(nodes.filter(function(node) { return !node.hasChanges() && !!node.get('pending_roles').length; }), 'reconfigured_node')}",,11,0
openstack%2Fceilometer~master~I06c8b0513188e1f81edde880429f0698e459d166,openstack/ceilometer,master,I06c8b0513188e1f81edde880429f0698e459d166,remove unexistent module from doc/source/conf.py,MERGED,2015-01-26 09:07:03.000000000,2015-01-26 11:20:54.000000000,2015-01-26 11:20:53.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-01-26 09:07:03.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/048f89128344044e191d638243f8efe7d5c5a0ab', 'message': 'remove unexistent module from doc/source/conf.py\n\noslo-incubator.log_handler has been removed but still remains in\ndoc/source/conf.py, this patch removes it from excluded list.\n\nChange-Id: I06c8b0513188e1f81edde880429f0698e459d166\n'}]",0,149949,048f89128344044e191d638243f8efe7d5c5a0ab,7,3,1,6676,,,0,"remove unexistent module from doc/source/conf.py

oslo-incubator.log_handler has been removed but still remains in
doc/source/conf.py, this patch removes it from excluded list.

Change-Id: I06c8b0513188e1f81edde880429f0698e459d166
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/49/149949/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,048f89128344044e191d638243f8efe7d5c5a0ab,clean-doc-conf," EXCLUDED_MODULES = ('ceilometer.tests',)"," EXCLUDED_MODULES = ('ceilometer.openstack.common.log_handler', 'ceilometer.tests')",1,2
openstack%2Fironic~master~I0a862dcf6d9c50c5b33e30841e52366ab6df2402,openstack/ironic,master,I0a862dcf6d9c50c5b33e30841e52366ab6df2402,Fix function docstring of _get_boot_iso_object_name(),MERGED,2015-01-26 02:54:52.000000000,2015-01-26 10:58:32.000000000,2015-01-26 10:58:31.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-01-26 02:54:52.000000000', 'files': ['ironic/drivers/modules/ilo/deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b719b582e7d6826d03cfcc5d1f82b9daf94187ab', 'message': 'Fix function docstring of _get_boot_iso_object_name()\n\nFixed function docstring of ilo.deploy.__get_boot_iso_object_name().\n\nChange-Id: I0a862dcf6d9c50c5b33e30841e52366ab6df2402\nCloses-Bug: #1414526\n'}]",0,149911,b719b582e7d6826d03cfcc5d1f82b9daf94187ab,8,3,1,13719,,,0,"Fix function docstring of _get_boot_iso_object_name()

Fixed function docstring of ilo.deploy.__get_boot_iso_object_name().

Change-Id: I0a862dcf6d9c50c5b33e30841e52366ab6df2402
Closes-Bug: #1414526
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/149911/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ilo/deploy.py'],1,b719b582e7d6826d03cfcc5d1f82b9daf94187ab,bug/1414526," """"""Returns the boot iso object name for a given node. :param node: the node for which object name is to be provided."," """"""Returns the floppy image name for a given node. :param node: the node for which image name is to be provided.",2,2
openstack%2Ffuel-library~master~Ib04360291f99f790f442c4f7382a863206078e27,openstack/fuel-library,master,Ib04360291f99f790f442c4f7382a863206078e27,Adapt corosync for Fuel,MERGED,2015-01-21 14:11:08.000000000,2015-01-26 10:55:31.000000000,2015-01-26 10:55:30.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-01-21 14:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3755884cf17f33ab8cc60267ccdb670a8c5a6b38', 'message': ""Adapt corosync for Fuel\n\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 2, 'created': '2015-01-21 14:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6e5ea122266555c5d31f706baf0ab3fa20761f3d', 'message': ""Adapt corosync for Fuel\n\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 3, 'created': '2015-01-21 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3c25c8839065a9ed738edd72be049a7406b7a1f9', 'message': ""Adapt corosync for Fuel\n\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 4, 'created': '2015-01-21 16:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a97b634635be06d4c2270e56d60bc7a19b95c93b', 'message': ""Adapt corosync for Fuel\n\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 5, 'created': '2015-01-21 16:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/71a99faed305c8c8d310b6ec19b866bd8e0ae494', 'message': ""Adapt corosync for Fuel\n\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 6, 'created': '2015-01-21 17:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9fea43bfb0839eb67d0bc0dc759b0f8c7b6b0158', 'message': ""Adapt corosync for Fuel\n\n* Fix *_real evaluation for erb templates\n (TODO contribute to puppetlabs-corosync upstream)\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 7, 'created': '2015-01-21 17:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d3162cd5eab55c2e91b091c453edd5ee222a9245', 'message': ""Adapt corosync for Fuel\n\n* Fix *_real evaluation for erb templates\n (TODO contribute to puppetlabs-corosync upstream)\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 8, 'created': '2015-01-22 13:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/139df164741a89ee39aeffbf050d0f91a1022ade', 'message': ""Adapt corosync for Fuel\n\n* Fix *_real evaluation for erb templates\n (TODO contribute to puppetlabs-corosync upstream)\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}, {'number': 9, 'created': '2015-01-23 10:05:30.000000000', 'files': ['deployment/puppet/cluster/manifests/neutron/l3.pp', 'deployment/puppet/corosync/templates/corosync1.conf.erb', 'deployment/puppet/cluster/manifests/haproxy_ocf.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_rsc_location/crm_spec.rb', 'utils/jenkins/modules.disable_rspec', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_colocation/crm.rb', 'deployment/puppet/corosync/manifests/init.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_rsc_colocation/crm_spec.rb', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_order/crm.rb', 'deployment/puppet/corosync/manifests/params.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_resource/crm_spec.rb', 'deployment/puppet/openstack/manifests/corosync.pp', 'deployment/puppet/corosync/templates/corosync.conf.udpu.erb', 'deployment/puppet/corosync/templates/corosync2.conf.udpu.erb', 'deployment/puppet/corosync/lib/puppet/provider/cs_property/crm.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_rsc_order/crm_spec.rb', 'deployment/puppet/corosync/templates/corosync2.conf.erb', 'deployment/puppet/mysql/manifests/server.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_resource_spec.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_colocation.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_rsc_order_spec.rb', 'deployment/puppet/corosync/templates/corosync.conf.erb', 'deployment/puppet/corosync/templates/corosync1.conf.udpu.erb', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_location/crm.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_location.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_oder.rb', 'deployment/puppet/cluster/manifests/corosync/cs_with_service.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_rsc_colocation_spec.rb', 'deployment/puppet/cluster/manifests/virtual_ip.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_rsc_location_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7a75e103af120b8bd7c509dba1d63ce3d4c95b67', 'message': ""Adapt corosync for Fuel\n\n* Fix *_real evaluation for erb templates\n (TODO contribute to puppetlabs-corosync upstream)\n* Add corosync v2 support\n (TODO contribute to puppetlabs-corosync upstream)\n* Adjust logging options for corosync.conf\n (TODO contribute to puppetlabs-corosync upstream)\n* Remove 'retries' references for cs_property\n* Fix missing block until ready call for cs_property flush\n (TODO contribute to puppetlabs-corosync upstream)\n* Rename custom cs_* providers tuned for a parallel execution\n  and move them to the pacemaker module:\n  - cs_resource\n  - cs_rsc_colocation\n  - cs_rsc_location\n  - cs_rsc_order\n* TODO Fix Pacemaker module rspecs (disabled in utils for now)\n* Enable rspecs for corosync module\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: Ib04360291f99f790f442c4f7382a863206078e27\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n""}]",0,148931,7a75e103af120b8bd7c509dba1d63ce3d4c95b67,65,7,9,6926,,,0,"Adapt corosync for Fuel

* Fix *_real evaluation for erb templates
 (TODO contribute to puppetlabs-corosync upstream)
* Add corosync v2 support
 (TODO contribute to puppetlabs-corosync upstream)
* Adjust logging options for corosync.conf
 (TODO contribute to puppetlabs-corosync upstream)
* Remove 'retries' references for cs_property
* Fix missing block until ready call for cs_property flush
 (TODO contribute to puppetlabs-corosync upstream)
* Rename custom cs_* providers tuned for a parallel execution
  and move them to the pacemaker module:
  - cs_resource
  - cs_rsc_colocation
  - cs_rsc_location
  - cs_rsc_order
* TODO Fix Pacemaker module rspecs (disabled in utils for now)
* Enable rspecs for corosync module

Fuel-ci: disable
related blueprint corosync-2

Change-Id: Ib04360291f99f790f442c4f7382a863206078e27
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/31/148931/8 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/cluster/manifests/neutron/l3.pp', 'deployment/puppet/corosync/templates/corosync1.conf.erb', 'deployment/puppet/cluster/manifests/haproxy_ocf.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_rsc_location/crm_spec.rb', 'utils/jenkins/modules.disable_rspec', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_colocation/crm.rb', 'deployment/puppet/corosync/manifests/init.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_rsc_colocation/crm_spec.rb', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/corosync/manifests/params.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_resource/crm_spec.rb', 'deployment/puppet/openstack/manifests/corosync.pp', 'deployment/puppet/corosync/templates/corosync.conf.udpu.erb', 'deployment/puppet/corosync/templates/corosync2.conf.udpu.erb', 'deployment/puppet/corosync/lib/puppet/provider/cs_property/crm.rb', 'deployment/puppet/corosync/templates/corosync2.conf.erb', 'deployment/puppet/mysql/manifests/server.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_resource_spec.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_colocation.rb', 'deployment/puppet/corosync/templates/corosync.conf.erb', 'deployment/puppet/corosync/templates/corosync1.conf.udpu.erb', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_location/crm.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_location.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_rsc_colocation_spec.rb', 'deployment/puppet/cluster/manifests/virtual_ip.pp', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_rsc_location_spec.rb']",26,3755884cf17f33ab8cc60267ccdb670a8c5a6b38,fix_corosync_resource_provider,"require 'spec_helper' describe Puppet::Type.type(:cs_rsc_location) do subject do Puppet::Type.type(:cs_rsc_location) end it ""should have a 'name' parameter"" do subject.new(:name => ""mock_resource"")[:name].should == ""mock_resource"" end describe ""basic structure"" do it ""should be able to create an instance"" do provider_class = Puppet::Type::Cs_rsc_location.provider(Puppet::Type::Cs_rsc_location.providers[0]) Puppet::Type::Cs_rsc_location.expects(:defaultprovider).returns(provider_class) subject.new(:name => ""mock_resource"").should_not be_nil end [:cib, :name ].each do |param| it ""should have a #{param} parameter"" do subject.validparameter?(param).should be_true end it ""should have documentation for its #{param} parameter"" do subject.paramclass(param).doc.should be_instance_of(String) end end [:primitive,:node_score,:rules,:node_name].each do |property| it ""should have a #{property} property"" do subject.validproperty?(property).should be_true end it ""should have documentation for its #{property} property"" do subject.propertybyname(property).doc.should be_instance_of(String) end end end describe ""when autorequiring resources"" do before :each do pending(""fix shadow invocation"") @csresource_foo = Puppet::Type.type(:cs_resource).new(:name => 'foo', :ensure => :present) @shadow = Puppet::Type.type(:cs_shadow).new(:name => 'baz',:cib=>""baz"") @catalog = Puppet::Resource::Catalog.new @catalog.add_resource @shadow, @csresource_foo end it ""should autorequire the corresponding resources"" do @resource = described_class.new(:name => 'dummy', :primitive => 'foo', :cib=>""baz"") @catalog.add_resource @resource req = @resource.autorequire req.size.should == 2 req.each do |e| #rewrite this f*cking should method of property type by the ancestor method class << e.target def should(*args) Object.instance_method(:should).bind(self).call(*args) end end e.target.should eql(@resource) [@csresource_foo,@shadow].should include(e.source) end end end end ",,945,288
openstack%2Ffuel-library~master~I1f2238e758b93ef28f440fabea2ddea44c6acea7,openstack/fuel-library,master,I1f2238e758b93ef28f440fabea2ddea44c6acea7,Sync corosync upstream,MERGED,2015-01-21 14:11:08.000000000,2015-01-26 10:55:23.000000000,2015-01-26 10:55:22.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-01-21 14:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/90b8390b6c1df673038eeceabd79c94387cb6c22', 'message': 'Sync corosync upstream\n\n* Move Fuel fork for corosync as pacemaker module\n* cs_resource, cs_rsc_location now belong to Pacemaker class and provider\n* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291\n* Add corosync1,2 tempates as is for corosync module\n  (TODO merge them to generic upstream corosync templates and contribute)\n\nChange-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 2, 'created': '2015-01-21 14:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/31b8d6afdfcac9b4a5abae190df94863765a038c', 'message': 'Sync corosync upstream\n\n* Move Fuel fork for corosync as pacemaker module\n* cs_resource, cs_rsc_location now belong to Pacemaker class and provider\n* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291\n* Add corosync1,2 tempates as is for corosync module\n  (TODO merge them to generic upstream corosync templates and contribute)\n\nChange-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 3, 'created': '2015-01-21 16:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b903f1072e8b65b3ce0971f17a14a20f0aa2e577', 'message': 'Sync corosync upstream\n\n* Move Fuel fork for corosync as pacemaker module\n* cs_resource, cs_rsc_location now belong to Pacemaker class and provider\n* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291\n* Add corosync1,2 tempates as is for corosync module\n  (TODO merge them to generic upstream corosync templates and contribute)\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 4, 'created': '2015-01-21 16:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b7f19ea3c27911c7f3d026aaac24c6681dccd60f', 'message': 'Sync corosync upstream\n\n* Move Fuel fork for corosync as pacemaker module\n* cs_resource, cs_rsc_location now belong to Pacemaker class and provider\n* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291\n* Add corosync1,2 tempates as is for corosync module\n  (TODO merge them to generic upstream corosync templates and contribute)\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 5, 'created': '2015-01-22 13:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/da7de4e20877a9c688eb25b95e0bd5b65ae2ae0d', 'message': 'Sync corosync upstream\n\n* Move Fuel fork for corosync as pacemaker module\n* cs_resource, cs_rsc_location now belong to Pacemaker class and provider\n* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291\n* Add corosync1,2 tempates as is for corosync module\n  (TODO merge them to generic upstream corosync templates and contribute)\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 6, 'created': '2015-01-23 10:05:30.000000000', 'files': ['deployment/puppet/corosync/lib/puppet/provider/cs_primitive/crm.rb', 'deployment/puppet/corosync/lib/puppet/provider/pacemaker.rb', 'deployment/puppet/corosync/tests/resources.pp', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_commit/crm_spec.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_resource.rb', 'deployment/puppet/corosync/manifests/init.pp', 'deployment/puppet/corosync/spec/fixtures/manifests/site.pp', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_group/crm_spec.rb', 'deployment/puppet/pacemaker/spec/spec.opts', 'deployment/puppet/pacemaker/spec/spec_helper.rb', 'deployment/puppet/corosync/spec/classes/corosync_spec.rb', 'deployment/puppet/pacemaker/Gemfile', 'deployment/puppet/corosync/lib/puppet/provider/cs_shadow/crm.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_resource/crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_location.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_property_crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_commit.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_group.rb', 'deployment/puppet/corosync/.project', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_resource_spec.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_primitive_crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_primitive.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_location/crm_spec.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_property_spec.rb', 'deployment/puppet/corosync/CHANGELOG.md', 'deployment/puppet/corosync/manifests/reprobe.pp', 'deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_common.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_defaults.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_commit_spec.rb', 'deployment/puppet/pacemaker/README.md', 'deployment/puppet/corosync/templates/corosync.conf.erb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/service/pacemaker_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_location/crm.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_location_spec.rb', 'deployment/puppet/pacemaker/.travis.yml', 'deployment/puppet/corosync/lib/puppet/type/cs_property.rb', 'deployment/puppet/corosync/README.md', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_order_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_commit/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_group/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_primitive/pcs.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_property/crm_spec.rb', 'deployment/puppet/corosync/lib/facter/pacemaker_hostname.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_commit/crm.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_colocation/crm_spec.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_group_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_order/crm.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_primitive_pcs_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/crmsh.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_shadow/crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_shadow.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_order/crm_spec.rb', 'deployment/puppet/corosync/manifests/clonecleanup.pp', 'deployment/puppet/corosync/manifests/examples/site.pp', 'deployment/puppet/corosync/spec/spec.opts', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_primitive_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_group/crm.rb', 'deployment/puppet/corosync/manifests/params.pp', 'deployment/puppet/pacemaker/.rspec', 'deployment/puppet/corosync/lib/puppet/provider/cs_colocation/crm.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/service/pacemaker.rb', 'deployment/puppet/pacemaker/Rakefile', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_shadow_spec.rb', 'deployment/puppet/corosync/templates/corosync.conf.udpu.erb', 'deployment/puppet/corosync/lib/puppet/provider/cs_property/crm.rb', 'deployment/puppet/corosync/manifests/cleanup.pp', 'deployment/puppet/corosync/lib/puppet/type/cs_colocation.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_resource/crm.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_base.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_colocation_spec.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cib.xml', 'deployment/puppet/pacemaker/.fixtures.yml', 'deployment/puppet/corosync/lib/puppet/provider/cs_order/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_shadow/pcs.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_defaults/crm.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/pacemaker_common_spec.rb', 'deployment/puppet/pacemaker/.gitignore', 'deployment/puppet/corosync/lib/puppet/type/cs_order.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/corosync_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_colocation/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_property/pcs.rb', 'deployment/puppet/corosync/metadata.json', 'deployment/puppet/pacemaker/LICENSE', 'deployment/puppet/corosync/spec/fixtures/cib/cib.xml', 'deployment/puppet/corosync/.gitignore'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f06977a02784e067e0728a4cea5da302ee9085e8', 'message': 'Sync corosync upstream\n\n* Move Fuel fork for corosync as pacemaker module\n* cs_resource, cs_rsc_location now belong to Pacemaker class and provider\n* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291\n* Add corosync1,2 tempates as is for corosync module\n  (TODO merge them to generic upstream corosync templates and contribute)\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",0,148930,f06977a02784e067e0728a4cea5da302ee9085e8,49,7,6,6926,,,0,"Sync corosync upstream

* Move Fuel fork for corosync as pacemaker module
* cs_resource, cs_rsc_location now belong to Pacemaker class and provider
* Sync puppetlabs-corosync v0.7.0 08c1fd87e57baaa60e57693a15f0329c76603291
* Add corosync1,2 tempates as is for corosync module
  (TODO merge them to generic upstream corosync templates and contribute)

Fuel-ci: disable
related blueprint corosync-2

Change-Id: I1f2238e758b93ef28f440fabea2ddea44c6acea7
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/30/148930/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/corosync/lib/puppet/provider/cs_primitive/crm.rb', 'deployment/puppet/corosync/lib/puppet/provider/pacemaker.rb', 'deployment/puppet/corosync/tests/resources.pp', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_commit/crm_spec.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_resource.rb', 'deployment/puppet/corosync/manifests/init.pp', 'deployment/puppet/corosync/spec/fixtures/manifests/site.pp', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_group/crm_spec.rb', 'deployment/puppet/pacemaker/spec/spec.opts', 'deployment/puppet/pacemaker/spec/spec_helper.rb', 'deployment/puppet/corosync/spec/classes/corosync_spec.rb', 'deployment/puppet/pacemaker/Gemfile', 'deployment/puppet/corosync/lib/puppet/provider/cs_shadow/crm.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cs_resource/crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_location.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_property_crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_commit.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_group.rb', 'deployment/puppet/corosync/.project', 'deployment/puppet/pacemaker/spec/unit/puppet/type/cs_resource_spec.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_primitive_crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_primitive.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_location/crm_spec.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_property_spec.rb', 'deployment/puppet/corosync/CHANGELOG.md', 'deployment/puppet/corosync/manifests/reprobe.pp', 'deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_common.rb', 'deployment/puppet/pacemaker/lib/puppet/type/cs_rsc_defaults.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_commit_spec.rb', 'deployment/puppet/pacemaker/README.md', 'deployment/puppet/corosync/templates/corosync.conf.erb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/service/pacemaker_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_location/crm.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_location_spec.rb', 'deployment/puppet/pacemaker/.travis.yml', 'deployment/puppet/corosync/lib/puppet/type/cs_property.rb', 'deployment/puppet/corosync/README.md', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_order_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_commit/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_group/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_primitive/pcs.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_property/crm_spec.rb', 'deployment/puppet/corosync/lib/facter/pacemaker_hostname.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_commit/crm.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_colocation/crm_spec.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_group_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_order/crm.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_primitive_pcs_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/crmsh.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_shadow/crm_spec.rb', 'deployment/puppet/corosync/lib/puppet/type/cs_shadow.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/cs_order/crm_spec.rb', 'deployment/puppet/corosync/manifests/clonecleanup.pp', 'deployment/puppet/corosync/manifests/examples/site.pp', 'deployment/puppet/corosync/spec/spec.opts', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_primitive_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_group/crm.rb', 'deployment/puppet/corosync/manifests/params.pp', 'deployment/puppet/pacemaker/.rspec', 'deployment/puppet/corosync/lib/puppet/provider/cs_colocation/crm.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/service/pacemaker.rb', 'deployment/puppet/pacemaker/Rakefile', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_shadow_spec.rb', 'deployment/puppet/corosync/templates/corosync.conf.udpu.erb', 'deployment/puppet/corosync/lib/puppet/provider/cs_property/crm.rb', 'deployment/puppet/corosync/manifests/cleanup.pp', 'deployment/puppet/corosync/lib/puppet/type/cs_colocation.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_resource/crm.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/pacemaker_base.rb', 'deployment/puppet/corosync/spec/unit/puppet/type/cs_colocation_spec.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/cib.xml', 'deployment/puppet/pacemaker/.fixtures.yml', 'deployment/puppet/corosync/lib/puppet/provider/cs_order/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_shadow/pcs.rb', 'deployment/puppet/pacemaker/lib/puppet/provider/cs_rsc_defaults/crm.rb', 'deployment/puppet/pacemaker/spec/unit/puppet/provider/pacemaker_common_spec.rb', 'deployment/puppet/pacemaker/.gitignore', 'deployment/puppet/corosync/lib/puppet/type/cs_order.rb', 'deployment/puppet/corosync/spec/unit/puppet/provider/corosync_spec.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_colocation/pcs.rb', 'deployment/puppet/corosync/lib/puppet/provider/cs_property/pcs.rb', 'deployment/puppet/corosync/metadata.json', 'deployment/puppet/pacemaker/LICENSE', 'deployment/puppet/corosync/spec/fixtures/cib/cib.xml', 'deployment/puppet/corosync/.gitignore']",85,90b8390b6c1df673038eeceabd79c94387cb6c22,fix_corosync_resource_provider,pkg,,2759,1814
openstack%2Ffuel-library~master~I3700edaff004d287396286f3d86ed211acc8fab1,openstack/fuel-library,master,I3700edaff004d287396286f3d86ed211acc8fab1,Support for corosync 2,MERGED,2014-10-15 21:41:03.000000000,2015-01-26 10:55:12.000000000,2015-01-26 10:55:12.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-10-15 21:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/45e370f9978b0a4fe27500aa3882037a7022749a', 'message': 'Refactor corosync module\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 2, 'created': '2014-10-21 11:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/69a36d4362f7db441517656f8e6d2a4eb8c27c61', 'message': 'Refactor corosync module\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 3, 'created': '2014-10-22 21:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/57b68aa6c0307a66944268d72ecc0e2fbf114a66', 'message': 'Refactor corosync module\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 4, 'created': '2015-01-20 12:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f43dca6b4ff1f57a7f9ff60234f0d076e93abd15', 'message': 'Refactor corosync module\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 5, 'created': '2015-01-20 16:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0b215f46670484e27ae869f94145bee36006d002', 'message': 'Support for corosync 2\n\nPartial sync from upstream\npuppetlabs-corosync v 0.6.0\nfor corosync 2 support\n\nrelated blueprint corosync-2\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 6, 'created': '2015-01-21 16:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9e9f8ca63e83a72ae62adf491cc68aa19d1d9e1f', 'message': 'Support for corosync 2\n\nPartial sync from upstream\npuppetlabs-corosync v 0.6.0\nfor corosync 2 support\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 7, 'created': '2015-01-22 13:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/05421f15e3eb4aa9abf0602d6888f42cbbd1d599', 'message': 'Support for corosync 2\n\nPartial sync from upstream\npuppetlabs-corosync v 0.6.0\nfor corosync 2 support\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}, {'number': 8, 'created': '2015-01-23 10:05:30.000000000', 'files': ['deployment/puppet/corosync/templates/corosync1.conf.erb', 'deployment/puppet/corosync/Gemfile', 'deployment/puppet/cluster/manifests/init.pp', 'deployment/puppet/corosync/.travis.yml', 'deployment/puppet/corosync/manifests/init.pp', 'deployment/puppet/corosync/LICENSE', 'deployment/puppet/corosync/manifests/reprobe.pp', 'deployment/puppet/corosync/.fixtures.yml', 'deployment/puppet/corosync/manifests/service.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/corosync/templates/corosync.conf.erb', 'deployment/puppet/corosync/templates/corosync1.conf.udpu.erb', 'deployment/puppet/corosync/Modulefile', 'deployment/puppet/openstack/manifests/corosync.pp', 'deployment/puppet/corosync/templates/corosync2.conf.udpu.erb', 'deployment/puppet/corosync/CHANGELOG', 'deployment/puppet/corosync/.gitignore', 'deployment/puppet/corosync/templates/corosync2.conf.erb', 'deployment/puppet/openstack/files/limits.conf'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b18985d8a92ed3086c1a8bbf56754d6f05eaa699', 'message': 'Support for corosync 2\n\nPartial sync from upstream\npuppetlabs-corosync v 0.6.0\nfor corosync 2 support\n\nFuel-ci: disable\nrelated blueprint corosync-2\n\nChange-Id: I3700edaff004d287396286f3d86ed211acc8fab1\n'}]",0,128773,b18985d8a92ed3086c1a8bbf56754d6f05eaa699,73,6,8,11090,,,0,"Support for corosync 2

Partial sync from upstream
puppetlabs-corosync v 0.6.0
for corosync 2 support

Fuel-ci: disable
related blueprint corosync-2

Change-Id: I3700edaff004d287396286f3d86ed211acc8fab1
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/73/128773/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/corosync/templates/corosync1.conf.erb', 'deployment/puppet/corosync/Gemfile', 'deployment/puppet/cluster/manifests/init.pp', 'deployment/puppet/corosync/manifests/init.pp', 'deployment/puppet/corosync/LICENSE', 'deployment/puppet/corosync/manifests/reprobe.pp', 'deployment/puppet/corosync/.fixtures.yml', 'deployment/puppet/corosync/manifests/service.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/corosync/templates/corosync.conf.erb', 'deployment/puppet/corosync/templates/corosync1.conf.udpu.erb', 'deployment/puppet/corosync/Modulefile', 'deployment/puppet/openstack/manifests/corosync.pp', 'deployment/puppet/corosync/templates/corosync2.conf.udpu.erb', 'deployment/puppet/corosync/CHANGELOG', 'deployment/puppet/corosync/.gitignore', 'deployment/puppet/corosync/templates/corosync2.conf.erb', 'deployment/puppet/openstack/files/limits.conf']",18,45e370f9978b0a4fe27500aa3882037a7022749a,fix_corosync_resource_provider,,,740,250
openstack%2Foslo.db~master~I6c72fac6902b2c6124804549e4ac7402b9a47aec,openstack/oslo.db,master,I6c72fac6902b2c6124804549e4ac7402b9a47aec,DISCUSSION: Alternate implementation of _TransactionContextManager,ABANDONED,2015-01-22 14:39:33.000000000,2015-01-26 10:47:15.000000000,,"[{'_account_id': 3}, {'_account_id': 9555}, {'_account_id': 11816}]","[{'number': 1, 'created': '2015-01-22 14:39:33.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1bb8841ab79adab5fb309258190cb0ec60483a69', 'message': 'DISCUSSION: Alternate implementation of _TransactionContextManager\n\nStore TransactionContexts in a separate WeakKeyDictionary, and track\ncopies with a copy_reg hook.\n\nThis is not intended to live on its own, but be merged into the parent\ncommit. It requires cleanup, but is mostly there.\n\nChange-Id: I6c72fac6902b2c6124804549e4ac7402b9a47aec\n'}]",0,149289,1bb8841ab79adab5fb309258190cb0ec60483a69,6,3,1,9555,,,0,"DISCUSSION: Alternate implementation of _TransactionContextManager

Store TransactionContexts in a separate WeakKeyDictionary, and track
copies with a copy_reg hook.

This is not intended to live on its own, but be merged into the parent
commit. It requires cleanup, but is mostly there.

Change-Id: I6c72fac6902b2c6124804549e4ac7402b9a47aec
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/89/149289/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py']",2,1bb8841ab79adab5fb309258190cb0ec60483a69,bp/provide,"import copy_regimport weakref self.transaction_contexts = weakref.WeakKeyDictionary() def _context_property(self, attr): def _property_for_context(context): transaction_context = self._transaction_context(context) if transaction_context is None: return None return getattr(transaction_context, attr) return property(_property_for_context) def transaction_context_provider(self, klass): # Graft transaction context attributes as context properties for attr in ('session', 'connection', 'transaction'): setattr(klass, attr, self._context_property(attr)) def _pickle(o): pickle = o.__reduce_ex__(2) creator = pickle[0] def _creator_hook(*args, **kwargs): new = creator(*args, **kwargs) self.transaction_contexts[new] = \ self._transaction_contexts_by_thread(o) return new return (_creator_hook,) + pickle[1:] copy_reg.pickle(klass, _pickle) return klass def _transaction_contexts_by_thread(self, context): transaction_contexts_by_thread = self.transaction_contexts.get(context) if transaction_contexts_by_thread is None: transaction_contexts_by_thread = \ self.transaction_contexts[context] = {} return transaction_contexts_by_thread def _transaction_context(self, context): return self._transaction_contexts_by_thread(context).\ get(_thread_ident()) @contextlib.contextmanager def _transaction_scope(self, context, new_transaction=False): thread_ident = _thread_ident() transaction_contexts_by_thread = \ self._transaction_contexts_by_thread(context) current = restore = transaction_contexts_by_thread.get(thread_ident) if new_transaction and current is not None: current = None if current is None: current = transaction_contexts_by_thread[thread_ident] = \ _TransactionContext(self.factory, **self.factory._facade_cfg) try: yield current finally: if restore is None: del transaction_contexts_by_thread[thread_ident] elif current != restore: transaction_contexts_by_thread[thread_ident] = restore def transaction_scope_with_context(self, new_transaction=False): return self._transaction_scope(context, new_transaction=new_transaction) return _NestedTransaction(transaction_scope_with_context) with self._transaction_scope(context) as trans_ctx: with ctx_callable(trans_ctx): return fn(*args, **kwargs) with self._transaction_scope(context) as trans_ctx: class _NestedTransaction(object): """"""Produce the interface for :meth:`._TransactionFactory.transaction`."""""" def __init__(self, scope_factory): self.scope_factory def _transaction_scope(self, ctx_callable): with self.scope_factory(new_transaction=True) as trans_ctx: with ctx_callable(trans_ctx) as target: yield target def using_writer_connection(self): return self._transaction_scope(_using_writer_connection) def using_reader_connection(self): return self._transaction_scope(_using_writer_connection) def using_writer(self): return self._transaction_scope(_using_writer) def using_reader(self): return self._transaction_scope(_using_reader)def transaction_context_provider(klass): return _context_manager.transaction_context_provider(klass) ","import collectionsimport copy facade_tracker = self._get_facade_scope_tracker(context) return facade_tracker.new_transaction(context) new_context, facade_tracker = \ self._get_facade_scope_tracker_w_copy(context) with facade_tracker.transaction_scope() as trans_ctx: with ctx_callable(trans_ctx): existing_connection, existing_session = \ self._setup_context_state( new_context, trans_ctx.connection, trans_ctx.session) try: return fn(new_context, *args[1:], **kwargs) finally: self._setup_context_state( new_context, existing_connection, existing_session) facade_tracker = self._get_facade_scope_tracker(context) with facade_tracker.transaction_scope() as trans_ctx: def _get_facade_scope_tracker_w_copy(self, context): thread_ident = _thread_ident() if not hasattr(context, '_facade_scope_tracker'): context._facade_scope_tracker = _FacadeScopeTracker(self) context._facade_thread_ident = thread_ident elif thread_ident != context._facade_thread_ident: # ""copy"" means we are passing a context object into a decorated # function; if new thread, we copy the context so that # context.session / context.connection aren't shared from # the parent. if not getattr(context, '__OSLO_COPY_OK__', False): raise exception.DBThreadingNotAllowed( ""Can't share context object %s in thread %s; it is "" ""already used for database access in thread %s. "" ""Please specify __OSLO_COPY_OK__=True on the object, "" ""granting permission to oslo.db to produce a copy using "" ""copy.deepcopy(context)."" % ( context, thread_ident, context._facade_thread_ident) ) else: context = copy.deepcopy(context) context._facade_thread_ident = thread_ident # ensure session or connection from enclosing isn't # shared on the new context self._setup_context_state(context, None, None) return context, context._facade_scope_tracker def _setup_context_state(self, context, connection, session): existing_connection = getattr(context, 'connection', None) existing_session = getattr(context, 'session', None) if connection is None: if existing_connection is not None: del context.connection else: context.connection = connection if session is None: if existing_session is not None: del context.session else: context.session = session return existing_connection, existing_session def _get_facade_scope_tracker(self, context): if not hasattr(context, '_facade_scope_tracker'): context._facade_scope_tracker = _FacadeScopeTracker(self) context._facade_thread_ident = _thread_ident() return context._facade_scope_tracker class _FacadeScopeTracker(object): """"""Associates _TransactionContext states with user-defined contexts."""""" def __init__(self, manager): self.manager = manager self.transactions = collections.defaultdict(lambda: None) def __deepcopy__(self, memo): return self @property def transaction(self): return self.transactions[_thread_ident()] def transaction_scope(self, new_transaction=False): thread_ident = _thread_ident() current_transaction = self.transactions[thread_ident] if new_transaction: old_transaction = current_transaction current_transaction = \ self.transactions[thread_ident] = _TransactionContext( self.manager.factory, **self.manager.factory._facade_cfg) outermost = False elif current_transaction is None: outermost = True current_transaction = \ self.transactions[thread_ident] = _TransactionContext( self.manager.factory, **self.manager.factory._facade_cfg) else: outermost = False try: yield current_transaction finally: if outermost: del self.transactions[thread_ident] elif new_transaction: self.transactions[thread_ident] = old_transaction def new_transaction(self, context): return _NestedTransaction(self, context) class _NestedTransaction(object): """"""Produce the interface for :meth:`._TransactionFactory.transaction`."""""" def __init__(self, tracker, context): self.tracker = tracker self.context = context @contextlib.contextmanager def _transaction_scope(self, ctx_callable): with self.tracker.transaction_scope(new_transaction=True) as trans_ctx: with ctx_callable(trans_ctx) as target: yield target def using_writer_connection(self): return self._transaction_scope(_using_writer_connection) def using_reader_connection(self): return self._transaction_scope(_using_writer_connection) def using_writer(self): return self._transaction_scope(_using_writer) def using_reader(self): return self._transaction_scope(_using_reader) ",127,267
openstack%2Fironic~master~I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092,openstack/ironic,master,I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092,Clear locks on conductor startup,MERGED,2015-01-21 20:23:31.000000000,2015-01-26 10:44:11.000000000,2015-01-26 10:44:10.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 6969}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10380}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-21 20:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53985d2e8e97daf7dfa1cdb6b9c5bab00fcb2ff9', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #TBD\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}, {'number': 2, 'created': '2015-01-21 20:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b6f0e81df1b973161e34e7fc355e7b79f892a6c', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #1382698\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}, {'number': 3, 'created': '2015-01-22 01:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e84783dd77df51ef9118dfddcb842fbf2c9737e', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #1382698\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}, {'number': 4, 'created': '2015-01-22 23:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2eabb3bff3924a71ecb24bc7178aa09694cbca92', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #1382698\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}, {'number': 5, 'created': '2015-01-23 15:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/322a9f8847d537b22563fbc6916f067609ae35ce', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #1382698\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}, {'number': 6, 'created': '2015-01-23 19:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d05c9af7cc9673bb85a54caa381b11fd98180f12', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #1382698\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}, {'number': 7, 'created': '2015-01-23 20:53:02.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/db/test_conductor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a4a9d7fdac3642724c2f1a358bb9eb01b63a888', 'message': 'Clear locks on conductor startup\n\nThis causes all node reservations being held by a given conductor\nhostname to be cleared when that conductor initializes, just\nbefore registration. This ensures that any locks that are stuck when a\nconductor shuts down are cleared when the conductor starts again.\n\nPartial-Bug: #1382698\n\nChange-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092\n'}]",15,149038,2a4a9d7fdac3642724c2f1a358bb9eb01b63a888,54,10,7,10343,,,0,"Clear locks on conductor startup

This causes all node reservations being held by a given conductor
hostname to be cleared when that conductor initializes, just
before registration. This ensures that any locks that are stuck when a
conductor shuts down are cleared when the conductor starts again.

Partial-Bug: #1382698

Change-Id: I0c3c2a9c94b6a85a1cbbcc570f57c3c34c256092
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/149038/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/db/test_conductor.py']",4,53985d2e8e97daf7dfa1cdb6b9c5bab00fcb2ff9,bug/1382698," def test_clear_node_reservations_for_conductor(self): node1 = self.dbapi.create_node({'reservation': 'hostname1'}) node2 = self.dbapi.create_node({'reservation': 'hostname2'}) node3 = self.dbapi.create_node({'reservation': None}) self.dbapi.clear_node_reservations_for_conductor('hostname1') node1 = self.dbapi.get_node_by_id(node1.id) node2 = self.dbapi.get_node_by_id(node2.id) node3 = self.dbapi.get_node_by_id(node3.id) self.assertIsNone(node1.reservation) self.assertEquals('hostname2', node2.reservation) self.assertIsNone(node3.reservation) ",,29,0
openstack%2Fproject-config~master~Ibb286ecb6c304f7f0059ed0d85240f836f97d114,openstack/project-config,master,Ibb286ecb6c304f7f0059ed0d85240f836f97d114,Add readthedocs job to openstack/tuskar-ui,ABANDONED,2015-01-19 12:41:38.000000000,2015-01-26 10:28:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8041}]","[{'number': 1, 'created': '2015-01-19 12:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c085597abec6985d44b442f4a659d377189dd8cd', 'message': 'Add readthedocs job to openstack/tuskar-ui\n\nWe have our documentation on readthedocs.org and would like it\nto be rebuild automatically on every change.\n\nChange-Id: Ibb286ecb6c304f7f0059ed0d85240f836f97d114\n'}, {'number': 2, 'created': '2015-01-23 08:36:42.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd792bbf27410568efc8ae6718d279cf73a260be', 'message': 'Add readthedocs job to openstack/tuskar-ui\n\nWe have our documentation on readthedocs.org and would like it\nto be rebuild automatically on every change.\n\nChange-Id: Ibb286ecb6c304f7f0059ed0d85240f836f97d114\n'}]",0,148240,cd792bbf27410568efc8ae6718d279cf73a260be,13,5,2,8648,,,0,"Add readthedocs job to openstack/tuskar-ui

We have our documentation on readthedocs.org and would like it
to be rebuild automatically on every change.

Change-Id: Ibb286ecb6c304f7f0059ed0d85240f836f97d114
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/148240/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,c085597abec6985d44b442f4a659d377189dd8cd,tuskar-ui-rtfd, - name: docs-on-rtfd,,2,0
openstack%2Fheat~master~Id64d88104ac11601beac95cf5792f814cad388c8,openstack/heat,master,Id64d88104ac11601beac95cf5792f814cad388c8,Convert parser tests that need nested stacks to unit tests,MERGED,2015-01-05 05:54:15.000000000,2015-01-26 10:25:01.000000000,2015-01-26 10:25:00.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}]","[{'number': 1, 'created': '2015-01-05 05:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c9ad4fb0a63fe39512bfba37f60345379f6fe6e7', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}, {'number': 2, 'created': '2015-01-06 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a87fe45364189b85522fad8d0eb30b0708bb71af', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}, {'number': 3, 'created': '2015-01-07 06:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e8709097c2ea6a33ed37fd2bcb1bc2617363e45', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}, {'number': 4, 'created': '2015-01-12 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d32adae57ca8afd1dd29cef66eba73230c721f88', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}, {'number': 5, 'created': '2015-01-19 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/043b50a1ed568e4d5f2e2de4dbccd54a8446bda5', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}, {'number': 6, 'created': '2015-01-21 00:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ada606955c649321a6131aa370b4dfbddfa914f4', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}, {'number': 7, 'created': '2015-01-23 05:32:16.000000000', 'files': ['heat_integrationtests/functional/test_template_resource.py', 'heat/tests/test_parser.py', 'heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/98d888dc8c2c591a1adf9533ac66bd01e078d1e0', 'message': 'Convert parser tests that need nested stacks to unit tests\n\nPart of blueprint decouple-nested\nChange-Id: Id64d88104ac11601beac95cf5792f814cad388c8\n'}]",0,144929,98d888dc8c2c591a1adf9533ac66bd01e078d1e0,27,3,7,4715,,,0,"Convert parser tests that need nested stacks to unit tests

Part of blueprint decouple-nested
Change-Id: Id64d88104ac11601beac95cf5792f814cad388c8
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/144929/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_template_resource.py', 'heat/tests/test_parser.py', 'heat/tests/test_stack_resource.py']",3,c9ad4fb0a63fe39512bfba37f60345379f6fe6e7,good-to-here-but-more-on-the-way," def test_nested_stack_abandon(self): nest = mock.MagicMock() self.parent_resource.nested = nest nest.return_value.prepare_abandon.return_value = {'X': 'Y'} ret = self.parent_resource.prepare_abandon() nest.return_value.prepare_abandon.assert_called_once_with() self.assertEqual({'X': 'Y'}, ret) ",,122,73
openstack%2Frequirements~master~I3253caf47832ae84c3d7fcda6c8eb9efdc5fc416,openstack/requirements,master,I3253caf47832ae84c3d7fcda6c8eb9efdc5fc416,Update keystoneclient to 1.0.0,MERGED,2014-12-18 23:16:59.000000000,2015-01-26 10:24:41.000000000,2015-01-26 10:24:40.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 1420}, {'_account_id': 1561}, {'_account_id': 1669}, {'_account_id': 1726}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6486}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7191}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-12-18 23:16:59.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b32d1a3c6567a3b6a8cf0c55e25a584297748216', 'message': 'Update keystoneclient to 1.0.0\n\nWith the release of keystoneclient 1.0.0 update projects to depend upon\nit.\n\nThe 1.0.0 release marks a new major version, however it is purely to\nindicate that the library has been considered stable for some time.\nThere is no compatibility issues between the 0.x and 1.x series.\n\nChange-Id: I3253caf47832ae84c3d7fcda6c8eb9efdc5fc416\n'}]",0,142929,b32d1a3c6567a3b6a8cf0c55e25a584297748216,11,20,1,7191,,,0,"Update keystoneclient to 1.0.0

With the release of keystoneclient 1.0.0 update projects to depend upon
it.

The 1.0.0 release marks a new major version, however it is purely to
indicate that the library has been considered stable for some time.
There is no compatibility issues between the 0.x and 1.x series.

Change-Id: I3253caf47832ae84c3d7fcda6c8eb9efdc5fc416
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/142929/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,b32d1a3c6567a3b6a8cf0c55e25a584297748216,keystoneclient,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Ftrove~stable%2Fjuno~I2dece05c74ad18a96fa05791e368ff7283a5e4e5,openstack/trove,stable/juno,I2dece05c74ad18a96fa05791e368ff7283a5e4e5,Fix trove-tox-doc-publish-checkbuild failures,MERGED,2015-01-21 11:22:14.000000000,2015-01-26 10:24:11.000000000,2015-01-26 10:24:10.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9656}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 12208}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-21 11:22:14.000000000', 'files': ['apidocs/pom.xml'], 'web_link': 'https://opendev.org/openstack/trove/commit/37a2ca668cc6a3954dda5c9f98badbcb067d275b', 'message': ""Fix trove-tox-doc-publish-checkbuild failures\n\nThe owners of maven.research.rackspacecloud.com/ seem to have introduced\na 301 redirect permanent from http -> https URLs on around Jan 10th.\nThis has broken the master/trove check builds since that time.\n\nMaven, when running in the infrastructure CI environment, fails to\nfollow these redirects.\n\nThis code change simply refers to the maven software repositories using\nhttps URLs.\n\nLocal testing of this change against Tesora's downstream CI found that\nit may be necessary to purge the broken/cached file from the bare-trusty\nCI build machines ala:\nrm /home/jenkins/.m2/repository/com/rackspace/cloud/api/wadl-tools/1.0.9\n(continued..) /wadl-tools-1.0.9.jar\n\nCloses-Bug: #1412949\n\nChange-Id: I2dece05c74ad18a96fa05791e368ff7283a5e4e5\n(cherry picked from commit 386ddc22680e8e9be3a34241067b0e34a192ebea)\n""}]",0,148885,37a2ca668cc6a3954dda5c9f98badbcb067d275b,12,9,1,9656,,,0,"Fix trove-tox-doc-publish-checkbuild failures

The owners of maven.research.rackspacecloud.com/ seem to have introduced
a 301 redirect permanent from http -> https URLs on around Jan 10th.
This has broken the master/trove check builds since that time.

Maven, when running in the infrastructure CI environment, fails to
follow these redirects.

This code change simply refers to the maven software repositories using
https URLs.

Local testing of this change against Tesora's downstream CI found that
it may be necessary to purge the broken/cached file from the bare-trusty
CI build machines ala:
rm /home/jenkins/.m2/repository/com/rackspace/cloud/api/wadl-tools/1.0.9
(continued..) /wadl-tools-1.0.9.jar

Closes-Bug: #1412949

Change-Id: I2dece05c74ad18a96fa05791e368ff7283a5e4e5
(cherry picked from commit 386ddc22680e8e9be3a34241067b0e34a192ebea)
",git fetch https://review.opendev.org/openstack/trove refs/changes/85/148885/1 && git format-patch -1 --stdout FETCH_HEAD,['apidocs/pom.xml'],1,37a2ca668cc6a3954dda5c9f98badbcb067d275b,, <url>https://maven.research.rackspacecloud.com/content/groups/public/</url> <url>https://maven.research.rackspacecloud.com/content/groups/public/</url>, <url>http://maven.research.rackspacecloud.com/content/groups/public/</url> <url>http://maven.research.rackspacecloud.com/content/groups/public/</url>,2,2
openstack%2Fdjango_openstack_auth~master~If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f,openstack/django_openstack_auth,master,If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f,Add defaulting of services_region in User class,MERGED,2015-01-24 02:00:20.000000000,2015-01-26 10:19:31.000000000,2015-01-26 10:19:29.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 4978}, {'_account_id': 13325}]","[{'number': 1, 'created': '2015-01-24 02:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/475ecd4ab1b07d37ef5a1bad0ccca80a1e62f5a9', 'message': 'Adding defaulting of services_region in User class\n\nDefaulting of the services_region in the User class was removed in\ncommit 7c5f759473960ddccf81cc426587e3ff43810f5b\n\nThe change resulted to horizon tests failing, this patch restores the old\nbehavior of the User class to default the service_region.\n\nChange-Id: If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f\nCloses-Bug: 1413876\n'}, {'number': 2, 'created': '2015-01-24 02:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/36b1345b84e8c32b3cc0a73a8828fff2dae6b494', 'message': 'Add defaulting of services_region in User class\n\nDefaulting of the services_region in the User class was removed in\ncommit 7c5f759473960ddccf81cc426587e3ff43810f5b\n\nThe change resulted to horizon tests failing, this patch restores the old\nbehavior of the User class to default the service_region.\n\nChange-Id: If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f\nCloses-Bug: 1413876\n'}, {'number': 3, 'created': '2015-01-24 02:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/d401868f25620d34892d79ad10f56bed86a11524', 'message': 'Add defaulting of services_region in User class\n\nDefaulting of the services_region in the User class was removed in\ncommit 7c5f759473960ddccf81cc426587e3ff43810f5b\n\nThe change resulted to horizon tests failing, this patch restores the old\nbehavior of the User class to default the services_region.\n\nChange-Id: If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f\nCloses-Bug: 1413876\n'}, {'number': 4, 'created': '2015-01-24 02:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/a6cebfed5cf5d2b41ef212e71a78a66ea406b96b', 'message': 'Add defaulting of services_region in User class\n\nDefaulting of the services_region in the User class was removed in\ncommit 7c5f759473960ddccf81cc426587e3ff43810f5b\n\nThe change resulted to horizon tests failing, this patch restores the\nold behavior of the User class to default the services_region.\n\nChange-Id: If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f\nCloses-Bug: 1413876\n'}, {'number': 5, 'created': '2015-01-24 02:05:50.000000000', 'files': ['openstack_auth/user.py'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/2cfe275a61125329badd6dc150a23148292afca0', 'message': 'Add defaulting of services_region in User class\n\nDefaulting of the services_region in the User class was removed in\ncommit 4ceb57d02b8bbed30578a8052a31b982a1339f41\n\nThe change resulted to horizon tests failing, this patch restores the\nold behavior of the User class to default the services_region.\n\nChange-Id: If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f\nCloses-Bug: 1413876\n'}]",0,149800,2cfe275a61125329badd6dc150a23148292afca0,12,4,5,1941,,,0,"Add defaulting of services_region in User class

Defaulting of the services_region in the User class was removed in
commit 4ceb57d02b8bbed30578a8052a31b982a1339f41

The change resulted to horizon tests failing, this patch restores the
old behavior of the User class to default the services_region.

Change-Id: If6ead2d8da9d8963ae23fc5c8e2335ae8f12773f
Closes-Bug: 1413876
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/00/149800/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/user.py'],1,475ecd4ab1b07d37ef5a1bad0ccca80a1e62f5a9,bug/1413876, self._services_region = ( services_region or utils.default_services_region(service_catalog) ), self._services_region = services_region,4,1
openstack%2Ffuel-main~master~Ieda81ea9f7fea14d345920a33bf0cce1aa386eab,openstack/fuel-main,master,Ieda81ea9f7fea14d345920a33bf0cce1aa386eab,[report-exporter] Hot fixes,MERGED,2015-01-24 22:47:51.000000000,2015-01-26 10:04:40.000000000,2015-01-26 10:04:40.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-01-24 22:47:51.000000000', 'files': ['utils/jenkins/report-exporter/spreadsheet.py', 'utils/jenkins/report-exporter/builds.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ecba69dab2e8bce28ee50effe73421bd61e9a102', 'message': ""[report-exporter] Hot fixes\n\n- GetTables() searches by substring, thus can\n  produce multiple results. Add one more check\n  to choose the right table.\n\n- If build failed without any test results,\n  create test data with one test case 'jenkins'\n  with status 'failed'.\n\nChange-Id: Ieda81ea9f7fea14d345920a33bf0cce1aa386eab\n""}]",1,149847,ecba69dab2e8bce28ee50effe73421bd61e9a102,10,5,1,9977,,,0,"[report-exporter] Hot fixes

- GetTables() searches by substring, thus can
  produce multiple results. Add one more check
  to choose the right table.

- If build failed without any test results,
  create test data with one test case 'jenkins'
  with status 'failed'.

Change-Id: Ieda81ea9f7fea14d345920a33bf0cce1aa386eab
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/47/149847/1 && git format-patch -1 --stdout FETCH_HEAD,"['utils/jenkins/report-exporter/spreadsheet.py', 'utils/jenkins/report-exporter/builds.py']",2,ecba69dab2e8bce28ee50effe73421bd61e9a102,," self.number = int(number) try: data = get_test_data(self.url) except Exception as e: logger.warning(""No test data for {0}: {1}"".format( self.url, e, )) # If we failed to get any tests for the build, return # meta test case 'jenkins' with status 'failed'. data = { ""suites"": [ { ""cases"": [ { ""className"": ""jenkins"", ""status"": ""failed"" } ] } ] } return data", self.number = number return get_test_data(self.url),50,8
openstack%2Ffuel-library~master~I061a4a221c9c0408c36d621bf9ddf9f3b95fb62c,openstack/fuel-library,master,I061a4a221c9c0408c36d621bf9ddf9f3b95fb62c,Remove unnecessary quotation marks from nova disk cachemodes,MERGED,2014-12-31 07:56:35.000000000,2015-01-26 09:56:51.000000000,2015-01-26 09:56:50.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 10583}, {'_account_id': 11090}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-12-31 07:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/62598256ed8223362e2c20c5f7bbb955b62483bb', 'message': 'Remove unnecessary quotation marks from nova disk cachemodes\n\nChange-Id: I061a4a221c9c0408c36d621bf9ddf9f3b95fb62c\nCloses-Bug: 1405040\n'}, {'number': 2, 'created': '2015-01-02 10:13:00.000000000', 'files': ['deployment/puppet/openstack/manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3eb5e8ae7ad8cc38b20fcba5cb52b4025e190c1d', 'message': 'Remove unnecessary quotation marks from nova disk cachemodes\n\nChange-Id: I061a4a221c9c0408c36d621bf9ddf9f3b95fb62c\nCloses-Bug: 1405040\n'}]",1,144596,3eb5e8ae7ad8cc38b20fcba5cb52b4025e190c1d,25,7,2,13948,,,0,"Remove unnecessary quotation marks from nova disk cachemodes

Change-Id: I061a4a221c9c0408c36d621bf9ddf9f3b95fb62c
Closes-Bug: 1405040
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/96/144596/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/compute.pp'],1,62598256ed8223362e2c20c5f7bbb955b62483bb,bug/1405040," libvirt_disk_cachemodes => ['file=directsync','block=none'], libvirt_disk_cachemodes => ['network=writeback','block=none'],"," libvirt_disk_cachemodes => ['""file=directsync""','""block=none""'], libvirt_disk_cachemodes => ['""network=writeback""','""block=none""'],",2,2
openstack%2Fopenstack-manuals~master~I462d35b1848946c10938b561f90f0eb9d6a039d8,openstack/openstack-manuals,master,I462d35b1848946c10938b561f90f0eb9d6a039d8,Imported Translations from Transifex,MERGED,2015-01-26 06:12:26.000000000,2015-01-26 09:21:17.000000000,2015-01-26 09:21:17.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-26 06:12:26.000000000', 'files': ['doc/arch-design/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d372bb8744fce523d635ac767e16819c568dd4a6', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I462d35b1848946c10938b561f90f0eb9d6a039d8\n'}]",0,149929,d372bb8744fce523d635ac767e16819c568dd4a6,7,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I462d35b1848946c10938b561f90f0eb9d6a039d8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/29/149929/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/arch-design/locale/zh_CN.po'],1,d372bb8744fce523d635ac767e16819c568dd4a6,transifex/translations,"""POT-Creation-Date: 2015-01-25 10:36+0000\n"" ""PO-Revision-Date: 2015-01-25 14:31+0000\n""msgstr ""OpenStack""msgstr ""Icehouse <link href=\""https://bugs.launchpad.net/openstack-manuals/+bug/1340509\"">https://bugs.launchpad.net/openstack-manuals/+bug/1340509</link>""msgstr "" OpenStack  (glance)""msgstr "" OpenStack  (nova), ""msgstr "" OpenStack  (cinder)""msgstr "" OpenStack GUI (horizon)""msgstr """"msgstr "" OpenStack  (keystone) ""msgstr "" OpenStack (glance) ""msgstr ""OpenStack(nova),""msgstr ""OpenStack (cinder)""msgstr ""OpenStack GUI(horizon),""msgstr "" <citetitle>OpenStack </citetitle><link href=\""http://docs.openstack.org/openstack-ops/content/projects_users.html\""></link> <citetitle>OpenStack Operators Guide</citetitle>""msgstr ""rsyncOpenStack""msgstr ""<link href=\""http://docs.openstack.org/high-availability-guide/content/\""><citetitle>OpenStack </citetitle></link> OpenStack""msgstr ""OpenStack""msgstr """"msgstr ""CPU,12CPU24CPUCPUCPU""msgstr ""CPU""msgstr "" Libvirt/KVM hypervisorCPUCPU VT-xAMDCPUAMD-v""msgstr ""OpenStackCPUOpenStack""msgstr ""CPU16:1,1612192flavor448""msgstr ""1.5:11.5""msgstr ""48GB72GB(8GB9)""msgstr """"msgstr ""(GPU)""msgstr """"msgstr ""OpenStack""msgstr ""OpenStack""","""POT-Creation-Date: 2015-01-24 21:38+0000\n"" ""PO-Revision-Date: 2015-01-24 16:21+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",31,31
openstack%2Fnova~master~Ied39ab1fb87064d6845ffbf6b25d3c23e311d12c,openstack/nova,master,Ied39ab1fb87064d6845ffbf6b25d3c23e311d12c,Fix pep8 in doc/ext/nova_todo.py and tools/xenserver/vm_vdi_cleaner.py,ABANDONED,2014-12-17 03:27:01.000000000,2015-01-26 09:21:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-12-17 03:27:01.000000000', 'files': ['tools/xenserver/vm_vdi_cleaner.py', 'doc/ext/nova_todo.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ce7ee7ce0b93e49f8308eeae268b49c35d369d1', 'message': ""Fix pep8 in doc/ext/nova_todo.py and tools/xenserver/vm_vdi_cleaner.py\n\nPep8 complain that:\n./doc/ext/nova_todo.py:5: 'from sphinx.ext.todo import *' used; unable to detect\nundefined names\n./tools/xenserver/vm_vdi_cleaner.py:289: local variable 'args' is assigned\nto but never used\n\nChange-Id: Ied39ab1fb87064d6845ffbf6b25d3c23e311d12c\nSigned-off-by: yuntong <yuntongjin@gmail.com>\n""}]",0,142319,4ce7ee7ce0b93e49f8308eeae268b49c35d369d1,10,7,1,11189,,,0,"Fix pep8 in doc/ext/nova_todo.py and tools/xenserver/vm_vdi_cleaner.py

Pep8 complain that:
./doc/ext/nova_todo.py:5: 'from sphinx.ext.todo import *' used; unable to detect
undefined names
./tools/xenserver/vm_vdi_cleaner.py:289: local variable 'args' is assigned
to but never used

Change-Id: Ied39ab1fb87064d6845ffbf6b25d3c23e311d12c
Signed-off-by: yuntong <yuntongjin@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/142319/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/xenserver/vm_vdi_cleaner.py', 'doc/ext/nova_todo.py']",2,4ce7ee7ce0b93e49f8308eeae268b49c35d369d1,pep8,from sphinx.ext.todo import * # noqa,from sphinx.ext.todo import *,2,2
openstack%2Ffuel-web~master~I3311136b5b1e63600a0b0a99af58c4a542e100ff,openstack/fuel-web,master,I3311136b5b1e63600a0b0a99af58c4a542e100ff,Fixes a typo,MERGED,2015-01-15 10:15:18.000000000,2015-01-26 09:17:39.000000000,2015-01-26 09:17:38.000000000,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 8392}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 12199}, {'_account_id': 14643}]","[{'number': 1, 'created': '2015-01-15 10:15:18.000000000', 'files': ['docs/develop/nailgun/customization/reliability.rst'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e9ee1947e6fe2460dd02caa4e0f662ef8cc52492', 'message': ""Fixes a typo\n\nThis commit contains a micro-fix for 'divide' word.\n\nChange-Id: I3311136b5b1e63600a0b0a99af58c4a542e100ff\nCloses-Bug: 1411183\n""}]",0,147443,e9ee1947e6fe2460dd02caa4e0f662ef8cc52492,12,7,1,13082,,,0,"Fixes a typo

This commit contains a micro-fix for 'divide' word.

Change-Id: I3311136b5b1e63600a0b0a99af58c4a542e100ff
Closes-Bug: 1411183
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/43/147443/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/develop/nailgun/customization/reliability.rst'],1,e9ee1947e6fe2460dd02caa4e0f662ef8cc52492,bug/1411183,"First, we must divide the meta attributes discovered by agent on two categories:","First, we must devide the meta attributes discovered by agent on two categories:",1,1
openstack%2Fmurano~stable%2Fjuno~Iae1a89bcc1b6819be8c205ff871248fe879516f1,openstack/murano,stable/juno,Iae1a89bcc1b6819be8c205ff871248fe879516f1,Fix uuidutils import,MERGED,2015-01-23 16:55:46.000000000,2015-01-26 09:13:02.000000000,2015-01-26 09:13:01.000000000,"[{'_account_id': 3}, {'_account_id': 7226}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 13149}]","[{'number': 1, 'created': '2015-01-23 16:55:46.000000000', 'files': ['requirements.txt', 'murano/engine/system/net_explorer.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/187630e49855eda64781978705a129685f4ece01', 'message': 'Fix uuidutils import\n\nIncorrect import for uuidutils was used in NetworkExplorer class,\nuuidutils module was imported from python-muranoclient, and once\npython-muranoclient moved to oslo.utils import became broken.\n\nChange-Id: Iae1a89bcc1b6819be8c205ff871248fe879516f1\nCloses-bug: #1414072\n'}]",0,149680,187630e49855eda64781978705a129685f4ece01,10,5,1,7225,,,0,"Fix uuidutils import

Incorrect import for uuidutils was used in NetworkExplorer class,
uuidutils module was imported from python-muranoclient, and once
python-muranoclient moved to oslo.utils import became broken.

Change-Id: Iae1a89bcc1b6819be8c205ff871248fe879516f1
Closes-bug: #1414072
",git fetch https://review.opendev.org/openstack/murano refs/changes/80/149680/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'murano/engine/system/net_explorer.py']",2,187630e49855eda64781978705a129685f4ece01,bug/1414072,from oslo.utils import uuidutils,import muranoclient.openstack.common.uuidutils as uuidutils,2,1
openstack%2Fproject-config~master~I65671baa2cd5393ea9b75f7ccbce4093a0834d96,openstack/project-config,master,I65671baa2cd5393ea9b75f7ccbce4093a0834d96,Add networking-ofagent project to StackForge,MERGED,2014-12-11 05:41:22.000000000,2015-01-26 09:05:24.000000000,2015-01-24 19:53:41.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6854}]","[{'number': 1, 'created': '2014-12-11 05:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8bffcf16f95be4d60a49f736998724aa49fab166', 'message': ""Add networking-ofagent project to StackForge\n\nThis repo will be used for the development of ofagent[2].\n\nThe need for this repo is inline with the spec approval[1] which proposes\nto decouple vendor's back-end code from the Neutron code repository.\n\n[1] https://review.openstack.org/#/c/134680/\n[2] https://wiki.openstack.org/wiki/Neutron/OFAgent\n\nChange-Id: I65671baa2cd5393ea9b75f7ccbce4093a0834d96\n""}, {'number': 2, 'created': '2014-12-11 05:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a9edbeee2728d7211dfbccfde5e52892921f554', 'message': ""Add networking-ofagent project to StackForge\n\nThis repo will be used for the development of ofagent[2].\n\nThe need for this repo is inline with the spec approval[1] which proposes\nto decouple vendor's back-end code from the Neutron code repository.\n\n[1] https://review.openstack.org/#/c/134680/\n[2] https://wiki.openstack.org/wiki/Neutron/OFAgent\n\nChange-Id: I65671baa2cd5393ea9b75f7ccbce4093a0834d96\n""}, {'number': 3, 'created': '2015-01-16 01:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/13903f14e3f0f01ddd61a6bb6ee361057ca1b704', 'message': ""Add networking-ofagent project to StackForge\n\nThis repo will be used for the development of ofagent[2].\n\nThe need for this repo is inline with the spec approval[1] which proposes\nto decouple vendor's back-end code from the Neutron code repository.\n\n[1] https://review.openstack.org/#/c/134680/\n[2] https://wiki.openstack.org/wiki/Neutron/OFAgent\n\nChange-Id: I65671baa2cd5393ea9b75f7ccbce4093a0834d96\n""}, {'number': 4, 'created': '2015-01-20 05:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c022d079f3541560259bb70a299fd6240bf01a57', 'message': ""Add networking-ofagent project to StackForge\n\nThis repo will be used for the development of ofagent[2].\n\nThe need for this repo is inline with the spec approval[1] which proposes\nto decouple vendor's back-end code from the Neutron code repository.\n\n[1] https://review.openstack.org/#/c/134680/\n[2] https://wiki.openstack.org/wiki/Neutron/OFAgent\n\nPartial-Bug: #1412653\nChange-Id: I65671baa2cd5393ea9b75f7ccbce4093a0834d96\n""}, {'number': 5, 'created': '2015-01-23 02:55:28.000000000', 'files': ['gerrit/acls/stackforge/networking-ofagent.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aa1a76fe42e39414270299247244b3a5dfffab38', 'message': ""Add networking-ofagent project to StackForge\n\nThis repo will be used for the development of ofagent[2].\n\nThe need for this repo is inline with the spec approval[1] which proposes\nto decouple vendor's back-end code from the Neutron code repository.\n\n[1] https://review.openstack.org/#/c/134680/\n[2] https://wiki.openstack.org/wiki/Neutron/OFAgent\n\nPartial-Bug: #1412653\nChange-Id: I65671baa2cd5393ea9b75f7ccbce4093a0834d96\n""}]",0,140926,aa1a76fe42e39414270299247244b3a5dfffab38,30,6,5,6854,,,0,"Add networking-ofagent project to StackForge

This repo will be used for the development of ofagent[2].

The need for this repo is inline with the spec approval[1] which proposes
to decouple vendor's back-end code from the Neutron code repository.

[1] https://review.openstack.org/#/c/134680/
[2] https://wiki.openstack.org/wiki/Neutron/OFAgent

Partial-Bug: #1412653
Change-Id: I65671baa2cd5393ea9b75f7ccbce4093a0834d96
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/140926/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/stackforge/networking-ofagent.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,8bffcf16f95be4d60a49f736998724aa49fab166,new-project, - name: stackforge/networking-ofagent template: - name: merge-check - name: python-jobs ,,29,0
openstack%2Fnova~stable%2Fjuno~I488ad0c09bf26a609e27d67b9ef60b65bb45e0ad,openstack/nova,stable/juno,I488ad0c09bf26a609e27d67b9ef60b65bb45e0ad,Fix connecting unnecessary iSCSI sessions issue,MERGED,2014-12-26 00:37:44.000000000,2015-01-26 09:02:15.000000000,2015-01-26 09:02:12.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1653}, {'_account_id': 1812}, {'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6159}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 10118}, {'_account_id': 13847}]","[{'number': 1, 'created': '2014-12-26 00:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b0653be8f8f31cdaecc8c5e976879442baa39a8', 'message': 'Fix connecting unnecessary iSCSI sessions issue\n\nIn Icehouse with ""iscsi_use_multipath=true"", attaching a multipath\niSCSI volume may create unnecessary iSCSI sessions.\n\nThe iscsiadm discovery command in connect_volume() returns all of the\ntargets in the Cinder node, not just the ones related to the multipath\nvolume which is specified by iqn. If the storage has many targets,\nconnecting to all these volumes will also result in many unnecessary\nconnections.\n\nThere are two types of iSCSI multipath devices. One which shares\nthe same iqn between multiple portals, and the other which use\ndifferent iqns on different portals. connect_volume() needs to\nidentify the type by checking iscsiadm the output if the iqn is\nused by multiple portals.\n\nThis patch changes the behavior of attaching volume:\n\n   1. Identify the type by checking the iscsiadm output.\n   2. Connect to the correct targets by connect_to_iscsi_portal().\n\nCloses-Bug: #1382440\n\n(cherry picked from commit fb0de106f2f15604750bafc318ba06c41070cc35)\n\nConflicts:\n        nova/tests/unit/virt/libvirt/test_volume.py\n\nChange-Id: I488ad0c09bf26a609e27d67b9ef60b65bb45e0ad\n'}, {'number': 2, 'created': '2015-01-14 12:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feefa8a836e559767f1087367fa07b048d8c20c6', 'message': 'Fix connecting unnecessary iSCSI sessions issue\n\nIn Icehouse with ""iscsi_use_multipath=true"", attaching a multipath\niSCSI volume may create unnecessary iSCSI sessions.\n\nThe iscsiadm discovery command in connect_volume() returns all of the\ntargets in the Cinder node, not just the ones related to the multipath\nvolume which is specified by iqn. If the storage has many targets,\nconnecting to all these volumes will also result in many unnecessary\nconnections.\n\nThere are two types of iSCSI multipath devices. One which shares\nthe same iqn between multiple portals, and the other which use\ndifferent iqns on different portals. connect_volume() needs to\nidentify the type by checking iscsiadm the output if the iqn is\nused by multiple portals.\n\nThis patch changes the behavior of attaching volume:\n\n   1. Identify the type by checking the iscsiadm output.\n   2. Connect to the correct targets by connect_to_iscsi_portal().\n\nCloses-Bug: #1382440\n\n(cherry picked from commit fb0de106f2f15604750bafc318ba06c41070cc35)\n\n(Removed from gate, can\'t currently pass due to eventlet issues in tests).\n\nConflicts:\n        nova/tests/unit/virt/libvirt/test_volume.py\n\nChange-Id: I488ad0c09bf26a609e27d67b9ef60b65bb45e0ad'}, {'number': 3, 'created': '2015-01-20 13:46:09.000000000', 'files': ['nova/virt/libvirt/volume.py', 'nova/tests/virt/libvirt/test_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c1f28a0f467d749ebf406f970b3cea4888ff1b0', 'message': 'Fix connecting unnecessary iSCSI sessions issue\n\nIn Icehouse with ""iscsi_use_multipath=true"", attaching a multipath\niSCSI volume may create unnecessary iSCSI sessions.\n\nThe iscsiadm discovery command in connect_volume() returns all of the\ntargets in the Cinder node, not just the ones related to the multipath\nvolume which is specified by iqn. If the storage has many targets,\nconnecting to all these volumes will also result in many unnecessary\nconnections.\n\nThere are two types of iSCSI multipath devices. One which shares\nthe same iqn between multiple portals, and the other which use\ndifferent iqns on different portals. connect_volume() needs to\nidentify the type by checking iscsiadm the output if the iqn is\nused by multiple portals.\n\nThis patch changes the behavior of attaching volume:\n\n   1. Identify the type by checking the iscsiadm output.\n   2. Connect to the correct targets by connect_to_iscsi_portal().\n\nCloses-Bug: #1382440\n\n(cherry picked from commit fb0de106f2f15604750bafc318ba06c41070cc35)\n\nConflicts:\n        nova/tests/unit/virt/libvirt/test_volume.py\n\nChange-Id: I488ad0c09bf26a609e27d67b9ef60b65bb45e0ad\n'}]",0,144064,4c1f28a0f467d749ebf406f970b3cea4888ff1b0,36,12,3,7121,,,0,"Fix connecting unnecessary iSCSI sessions issue

In Icehouse with ""iscsi_use_multipath=true"", attaching a multipath
iSCSI volume may create unnecessary iSCSI sessions.

The iscsiadm discovery command in connect_volume() returns all of the
targets in the Cinder node, not just the ones related to the multipath
volume which is specified by iqn. If the storage has many targets,
connecting to all these volumes will also result in many unnecessary
connections.

There are two types of iSCSI multipath devices. One which shares
the same iqn between multiple portals, and the other which use
different iqns on different portals. connect_volume() needs to
identify the type by checking iscsiadm the output if the iqn is
used by multiple portals.

This patch changes the behavior of attaching volume:

   1. Identify the type by checking the iscsiadm output.
   2. Connect to the correct targets by connect_to_iscsi_portal().

Closes-Bug: #1382440

(cherry picked from commit fb0de106f2f15604750bafc318ba06c41070cc35)

Conflicts:
        nova/tests/unit/virt/libvirt/test_volume.py

Change-Id: I488ad0c09bf26a609e27d67b9ef60b65bb45e0ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/144064/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/volume.py', 'nova/tests/virt/libvirt/test_volume.py']",2,1b0653be8f8f31cdaecc8c5e976879442baa39a8,bug/1382440," def test_libvirt_kvm_volume_with_multipath_connecting(self): libvirt_driver = volume.LibvirtISCSIVolumeDriver(self.fake_conn) ip_iqns = [[self.location, self.iqn], ['10.0.2.16:3260', self.iqn], [self.location, 'iqn.2010-10.org.openstack:volume-00000002']] with contextlib.nested( mock.patch.object(os.path, 'exists', return_value=True), mock.patch.object(libvirt_driver, '_run_iscsiadm_bare'), mock.patch.object(libvirt_driver, '_get_target_portals_from_iscsiadm_output', return_value=ip_iqns), mock.patch.object(libvirt_driver, '_connect_to_iscsi_portal'), mock.patch.object(libvirt_driver, '_rescan_iscsi'), mock.patch.object(libvirt_driver, '_get_host_device', return_value='fake-device'), mock.patch.object(libvirt_driver, '_rescan_multipath'), mock.patch.object(libvirt_driver, '_get_multipath_device_name', return_value='/dev/mapper/fake-mpath-devname') ) as (mock_exists, mock_run_iscsiadm_bare, mock_get_portals, mock_connect_iscsi, mock_rescan_iscsi, mock_host_device, mock_rescan_multipath, mock_device_name): vol = {'id': 1, 'name': self.name} connection_info = self.iscsi_connection(vol, self.location, self.iqn) libvirt_driver.use_multipath = True libvirt_driver.connect_volume(connection_info, self.disk_info) # Verify that the supplied iqn is used when it shares the same # iqn between multiple portals. connection_info = self.iscsi_connection(vol, self.location, self.iqn) props1 = connection_info['data'].copy() props2 = connection_info['data'].copy() props2['target_portal'] = '10.0.2.16:3260' expected_calls = [mock.call(props1), mock.call(props2), mock.call(props1)] self.assertEqual(expected_calls, mock_connect_iscsi.call_args_list) ",,62,3
openstack%2Fcinder~master~I1701a3f6584c5fc827387b185d7182d3011062ca,openstack/cinder,master,I1701a3f6584c5fc827387b185d7182d3011062ca,Remove argparse from requirements,MERGED,2015-01-23 11:24:22.000000000,2015-01-26 08:46:51.000000000,2015-01-23 21:01:43.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2759}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-23 11:24:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bf22b0fe838cc4e84b255e4b299c8ee00d9638a', 'message': 'Remove argparse from requirements\n\nSince Cinder does not support Python 2.6 anymore and that argparse is\nnative in Python >=2.7, no need to pip install it.\n\nChange-Id: I1701a3f6584c5fc827387b185d7182d3011062ca\n'}]",0,149578,3bf22b0fe838cc4e84b255e4b299c8ee00d9638a,24,17,1,1669,,,0,"Remove argparse from requirements

Since Cinder does not support Python 2.6 anymore and that argparse is
native in Python >=2.7, no need to pip install it.

Change-Id: I1701a3f6584c5fc827387b185d7182d3011062ca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/149578/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3bf22b0fe838cc4e84b255e4b299c8ee00d9638a,jd/remove-argparse,,argparse,0,1
openstack%2Fdjango_openstack_auth~master~I610c2c69df550d4fe1bc8ae8c9eb05524a6a5129,openstack/django_openstack_auth,master,I610c2c69df550d4fe1bc8ae8c9eb05524a6a5129,Imported Translations from Transifex,MERGED,2015-01-25 06:03:58.000000000,2015-01-26 08:15:05.000000000,2015-01-26 08:15:05.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-01-25 06:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/2ff71794434cb20604eb7386d290556640d378f9', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I610c2c69df550d4fe1bc8ae8c9eb05524a6a5129\n'}, {'number': 2, 'created': '2015-01-26 06:01:57.000000000', 'files': ['openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/uk/LC_MESSAGES/django.po', 'openstack_auth/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_auth/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/fi_FI/LC_MESSAGES/django.po', 'openstack_auth/locale/sl_SI/LC_MESSAGES/django.po', 'openstack_auth/locale/it/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_auth/locale/cs/LC_MESSAGES/django.po', 'openstack_auth/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/es_MX/LC_MESSAGES/django.po', 'openstack_auth/locale/en_AU/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_auth/locale/openstack_auth.pot', 'openstack_auth/locale/ca/LC_MESSAGES/django.po', 'openstack_auth/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_auth/locale/hi/LC_MESSAGES/django.po', 'openstack_auth/locale/ar/LC_MESSAGES/django.po', 'openstack_auth/locale/sr/LC_MESSAGES/django.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po', 'openstack_auth/locale/pt/LC_MESSAGES/django.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/f22e0bba7e2787b929bbf715f576bb4011f287fc', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I610c2c69df550d4fe1bc8ae8c9eb05524a6a5129\n'}]",0,149862,f22e0bba7e2787b929bbf715f576bb4011f287fc,10,3,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I610c2c69df550d4fe1bc8ae8c9eb05524a6a5129
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/62/149862/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/uk/LC_MESSAGES/django.po', 'openstack_auth/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_auth/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/fi_FI/LC_MESSAGES/django.po', 'openstack_auth/locale/sl_SI/LC_MESSAGES/django.po', 'openstack_auth/locale/it/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_auth/locale/cs/LC_MESSAGES/django.po', 'openstack_auth/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/es_MX/LC_MESSAGES/django.po', 'openstack_auth/locale/en_AU/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_auth/locale/openstack_auth.pot', 'openstack_auth/locale/ca/LC_MESSAGES/django.po', 'openstack_auth/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_auth/locale/hi/LC_MESSAGES/django.po', 'openstack_auth/locale/ar/LC_MESSAGES/django.po', 'openstack_auth/locale/sr/LC_MESSAGES/django.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po', 'openstack_auth/locale/pt/LC_MESSAGES/django.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po']",28,2ff71794434cb20604eb7386d290556640d378f9,transifex/translations,"# Copyright (C) 2015 ORGANIZATION""POT-Creation-Date: 2015-01-25 06:03+0000\n"" ""PO-Revision-Date: 2015-01-24 07:54+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""#: openstack_auth/backend.py:40#: openstack_auth/backend.py:104#: openstack_auth/backend.py:109#: openstack_auth/backend.py:135#: openstack_auth/backend.py:140#: openstack_auth/backend.py:173#: openstack_auth/forms.py:62#: openstack_auth/openstack/common/log.py:287 #, python-format msgid ""Deprecated: %s"" msgstr ""Veraltet: %s"" #: openstack_auth/openstack/common/log.py:395 #, python-format msgid ""Error loading logging config %(log_config)s: %(err_msg)s"" msgstr ""Fehler beim Laden der Logging-Konfiguration %(log_config)s: %(err_msg)s"" #: openstack_auth/openstack/common/log.py:456 #, python-format msgid ""syslog facility must be one of: %s"" msgstr ""syslog-Funktion muss einer der folgenden Werte sein: %s"" #: openstack_auth/openstack/common/log.py:702 #, python-format msgid ""Fatal call to deprecated config: %(msg)s"" msgstr ""Schwerwiegender Aufruf einer veralteten Konfiguration: %(msg)s"" #: openstack_auth/openstack/common/policy.py:97 msgid ""The JSON file that defines policies."" msgstr """" #: openstack_auth/openstack/common/policy.py:100 msgid ""Default rule. Enforced when a requested rule is not found."" msgstr """" #: openstack_auth/openstack/common/policy.py:104 msgid ""Directories where policy configuration files are stored."" msgstr """" #: openstack_auth/openstack/common/policy.py:119 #, python-format msgid ""Policy doesn't allow %s to be performed."" msgstr ""Die Regel erlaubt nicht die Ausfhrung von %s."" #: openstack_auth/openstack/common/policy.py:213 #, python-format msgid ""Rules must be an instance of dict or Rules, got %s instead"" msgstr """" ""Die Regeln mssen eine Instanz eines Verzeichnisses oder von Regeln sein,"" "" anstatt dessen wurde %s zurckgemeldet."" ","# Copyright (C) 2014 ORGANIZATION""POT-Creation-Date: 2014-07-16 06:06+0000\n"" ""PO-Revision-Date: 2014-03-26 09:40+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n""#: openstack_auth/backend.py:41#: openstack_auth/backend.py:98#: openstack_auth/backend.py:103#: openstack_auth/backend.py:125#: openstack_auth/backend.py:130#: openstack_auth/backend.py:150#: openstack_auth/forms.py:61",1473,288
openstack%2Fnetworking-ofagent~master~I9d7366a485f1e81fc02be480c64f04e50f5ede38,openstack/networking-ofagent,master,I9d7366a485f1e81fc02be480c64f04e50f5ede38,setup.cfg: Remove ML2 driver entry as it will be in Neutron repo,MERGED,2015-01-26 06:55:29.000000000,2015-01-26 07:19:26.000000000,2015-01-26 07:19:26.000000000,"[{'_account_id': 3}, {'_account_id': 6854}]","[{'number': 1, 'created': '2015-01-26 06:55:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/bb95e71e818a453935447a13fde2f3248bee653d', 'message': 'setup.cfg: Remove ML2 driver entry as it will be in Neutron repo\n\nChange-Id: I9d7366a485f1e81fc02be480c64f04e50f5ede38\n'}]",0,149932,bb95e71e818a453935447a13fde2f3248bee653d,6,2,1,6854,,,0,"setup.cfg: Remove ML2 driver entry as it will be in Neutron repo

Change-Id: I9d7366a485f1e81fc02be480c64f04e50f5ede38
",git fetch https://review.opendev.org/openstack/networking-ofagent refs/changes/32/149932/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bb95e71e818a453935447a13fde2f3248bee653d,entry,,neutron.ml2.type_drivers = ofagent = networking_ofagent.plugins.ml2.drivers.mech_ofagent:OfagentMechanismDriver ,0,3
openstack%2Fcinder~master~I449346fa86940113f5b9e7a7108338b45e981053,openstack/cinder,master,I449346fa86940113f5b9e7a7108338b45e981053,Move 3 Fujitsu ETERNUS DX related file,MERGED,2014-12-26 12:22:53.000000000,2015-01-26 07:02:27.000000000,2015-01-26 07:02:26.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9043}, {'_account_id': 10621}, {'_account_id': 10674}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}]","[{'number': 1, 'created': '2014-12-26 12:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22472f0e14469d0ac2386a5292e8faff01168fef', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to Fujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers and I move these files to the directory.\n\nCloses-Bug #1402349\nhttps://bugs.launchpad.net/cinder/+bug/1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 2, 'created': '2015-01-06 13:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f34d22db03733320aab675415e4cd0ba66ffe8d', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 3, 'created': '2015-01-06 14:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f744a06e9f1687c91f1be050cb5baca5919ce8b', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 4, 'created': '2015-01-06 14:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/072ede97ad83b35e14a1482d9fe7747e48ce5ae6', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 5, 'created': '2015-01-11 01:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe1e37f2e414f657599610b6ed302a166fc33786', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 6, 'created': '2015-01-11 02:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cde8e736e4fc29c77f1dc1632b7ab1339593010c', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 7, 'created': '2015-01-11 02:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/416d4f29fda655b3f52b5d185d03f9a950b3090f', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 8, 'created': '2015-01-11 02:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e8cb97dc2dbcea15b8771118c03d22ee33967c1', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 9, 'created': '2015-01-17 14:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff8ea6e7064be141fee0c62edcd7f130c6bb65a6', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 10, 'created': '2015-01-17 15:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e9dbd31932049d11b3f2dafff5a2ef965cca53c', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 11, 'created': '2015-01-17 15:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/121510297b52054e4776c57e182a41b9672b65f3', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 12, 'created': '2015-01-24 01:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edd251b5298a09fcb124689f002379ac3f774842', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}, {'number': 13, 'created': '2015-01-24 23:33:38.000000000', 'files': ['cinder/volume/drivers/fujitsu/__init__.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/fujitsu/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx_iscsi.py', 'cinder/tests/test_fujitsu.py', 'cinder/volume/drivers/fujitsu/eternus_dx_fc.py', 'cinder/tests/test_fujitsu_compatibility.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0254d0f0f690a8950085f61a81bac410eb4cc333', 'message': ""Move 3 Fujitsu ETERNUS DX related file\n\nSince there are three volume driver files relating to\nFujitsu ETERNUS DX in cinder.volume.drivers,\nI make 'fujitsu' directory at cinder.volume.drivers\nand I move these files to the directory.\n\nCloses-Bug: #1402349\n\nChange-Id: I449346fa86940113f5b9e7a7108338b45e981053\n""}]",15,144131,0254d0f0f690a8950085f61a81bac410eb4cc333,99,19,13,10674,,,0,"Move 3 Fujitsu ETERNUS DX related file

Since there are three volume driver files relating to
Fujitsu ETERNUS DX in cinder.volume.drivers,
I make 'fujitsu' directory at cinder.volume.drivers
and I move these files to the directory.

Closes-Bug: #1402349

Change-Id: I449346fa86940113f5b9e7a7108338b45e981053
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/144131/12 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/__init__.py', 'cinder/volume/drivers/fujitsu/fujitsu_eternus_dx_fc.py', 'cinder/tests/test_fujitsu.py', 'cinder/volume/drivers/fujitsu/fujitsu_eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/fujitsu_eternus_dx_common.py']",5,22472f0e14469d0ac2386a5292e8faff01168fef,bug/1402349,,,5,5
openstack%2Fcinder~master~I94df82d155c5863d13eda7441f4a51d8a5e3d40a,openstack/cinder,master,I94df82d155c5863d13eda7441f4a51d8a5e3d40a,Sync the latest uuidutils module from olso-incubator,ABANDONED,2014-12-22 20:20:04.000000000,2015-01-26 07:02:17.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 14206}]","[{'number': 1, 'created': '2014-12-22 20:20:04.000000000', 'files': ['cinder/openstack/common/uuidutils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8897b6a2c2ef73c2f61f365234931dc0184aee1', 'message': 'Sync the latest uuidutils module from olso-incubator\n\nThe uuidutils module hasn\'t had a sync done since shortly after\nthe module was created.  This patch will bring Cinder in line\nwith the latest code for the module.\n\nCurrent HEAD in OSLO:\n---------------------\ncommit 36b0e8570b449129d6d474c03b02ceb62edb78df\nDate:   Thu Dec 11 11:27:08 2014 +0100\nWe shouldn\'t replace `oslo-incubator` in comments\n\nChanges merged with this patch:\n---------------------\n12bcdb71 - Remove vim header\n44e82223 - Revert ""Removes generate_uuid from uuidutils""\n571a78a4 - Removes generate_uuid from uuidutils\n\nChange-Id: I94df82d155c5863d13eda7441f4a51d8a5e3d40a\n'}]",0,143527,a8897b6a2c2ef73c2f61f365234931dc0184aee1,20,11,1,7198,,,0,"Sync the latest uuidutils module from olso-incubator

The uuidutils module hasn't had a sync done since shortly after
the module was created.  This patch will bring Cinder in line
with the latest code for the module.

Current HEAD in OSLO:
---------------------
commit 36b0e8570b449129d6d474c03b02ceb62edb78df
Date:   Thu Dec 11 11:27:08 2014 +0100
We shouldn't replace `oslo-incubator` in comments

Changes merged with this patch:
---------------------
12bcdb71 - Remove vim header
44e82223 - Revert ""Removes generate_uuid from uuidutils""
571a78a4 - Removes generate_uuid from uuidutils

Change-Id: I94df82d155c5863d13eda7441f4a51d8a5e3d40a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/143527/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/uuidutils.py'],1,a8897b6a2c2ef73c2f61f365234931dc0184aee1,sync_uuidutils,,# vim: tabstop=4 shiftwidth=4 softtabstop=4 ,0,2
openstack%2Fcinder~master~I6313ad1d3da1a8e9efeab5d4f336e6f43f7a9857,openstack/cinder,master,I6313ad1d3da1a8e9efeab5d4f336e6f43f7a9857,Use uuidutils from oslo.utils,MERGED,2015-01-23 21:36:30.000000000,2015-01-26 06:47:47.000000000,2015-01-26 06:47:46.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-23 21:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77ca423b5abd05ee68cda7da6c94a406aefc80bc', 'message': 'Use uuidutils from oslo.utils\n\nChange-Id: I6313ad1d3da1a8e9efeab5d4f336e6f43f7a9857\n'}, {'number': 2, 'created': '2015-01-24 10:47:44.000000000', 'files': ['cinder/volume/manager.py', 'cinder/api/v1/volumes.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/cmd/manage.py', 'cinder/tests/scheduler/fakes.py', 'cinder/db/sqlalchemy/api.py', 'cinder/openstack/common/uuidutils.py', 'cinder/tests/test_db_api.py', 'cinder/tests/test_cmd.py', 'cinder/api/v2/volumes.py', 'cinder/api/contrib/volume_manage.py', 'cinder/scheduler/filters/affinity_filter.py', 'openstack-common.conf', 'cinder/api/contrib/volume_type_access.py', 'cinder/scheduler/filters/instance_locality_filter.py', 'cinder/tests/test_vmware_vmdk.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5690bdea80a750c5e325e7498af451e6720e4b06', 'message': 'Use uuidutils from oslo.utils\n\nChange-Id: I6313ad1d3da1a8e9efeab5d4f336e6f43f7a9857\n'}]",0,149762,5690bdea80a750c5e325e7498af451e6720e4b06,32,16,2,1669,,,0,"Use uuidutils from oslo.utils

Change-Id: I6313ad1d3da1a8e9efeab5d4f336e6f43f7a9857
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/149762/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/api/v1/volumes.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/cmd/manage.py', 'cinder/tests/scheduler/fakes.py', 'cinder/db/sqlalchemy/api.py', 'cinder/openstack/common/uuidutils.py', 'cinder/tests/test_db_api.py', 'cinder/api/v2/volumes.py', 'cinder/api/contrib/volume_manage.py', 'cinder/scheduler/filters/affinity_filter.py', 'openstack-common.conf', 'cinder/api/contrib/volume_type_access.py', 'cinder/scheduler/filters/instance_locality_filter.py', 'cinder/volume/api.py']",15,77ca423b5abd05ee68cda7da6c94a406aefc80bc,jd/uuidutils,from oslo_utils import uuidutils,from cinder.openstack.common import uuidutils,13,55
openstack%2Fneutron~master~Iae4efab2f0ec0b469051d5b52cf1f4f23c432d6f,openstack/neutron,master,Iae4efab2f0ec0b469051d5b52cf1f4f23c432d6f,Add compose function to utils to wipe out lambdas,ABANDONED,2015-01-23 01:34:49.000000000,2015-01-26 06:42:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5957}, {'_account_id': 7787}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 11279}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-23 01:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68dd0e4452ce8ddbcdf20f121699bbd0d06e03b6', 'message': 'Add compose function to utils to wipe out lambdas\n\nIn our crusade against lambdas, we need the appropriate\nfunctional weaponry to eliminate some uses that the standard\noperators cannot cover. This patch adds a compose function\nso lambdas that use the passed in variable in an inner function\ncan be replaced using a combination of partials and operators.\n\nChange-Id: Iae4efab2f0ec0b469051d5b52cf1f4f23c432d6f\n'}, {'number': 2, 'created': '2015-01-23 01:56:15.000000000', 'files': ['neutron/agent/linux/ovs_lib.py', 'neutron/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0503ed2a74d684b7cb27c18398337784f0feee74', 'message': 'Add compose function to utils to wipe out lambdas\n\nIn our crusade against lambdas, we need the appropriate\nfunctional weaponry to eliminate some uses that the standard\noperators cannot cover. This patch adds a compose function\nso lambdas that use the passed in variable in an inner function\ncan be replaced using a combination of partials and operators.\n\nChange-Id: Iae4efab2f0ec0b469051d5b52cf1f4f23c432d6f\n'}]",5,149453,0503ed2a74d684b7cb27c18398337784f0feee74,38,23,2,7787,,,0,"Add compose function to utils to wipe out lambdas

In our crusade against lambdas, we need the appropriate
functional weaponry to eliminate some uses that the standard
operators cannot cover. This patch adds a compose function
so lambdas that use the passed in variable in an inner function
can be replaced using a combination of partials and operators.

Change-Id: Iae4efab2f0ec0b469051d5b52cf1f4f23c432d6f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/149453/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ovs_lib.py', 'neutron/common/utils.py']",2,68dd0e4452ce8ddbcdf20f121699bbd0d06e03b6,compose_util," def compose(*functions): """"""Returns a function composing all of the passed in functions. When the returned function is called, the last function will be called first with the arguments and kwargs. The result will be passed as input to the next to last and so on until there are no more functions at which point the result is returned. compose(h, i, j, k)('foo') -> h(i(j(k('foo')))) """""" def compose_function_pair(f1, f2): return lambda *args, **kwargs: f1(f2(*args, **kwargs)) return reduce(compose_function_pair, functions)",,17,1
openstack%2Fmistral~master~Iadf5c35939813f39e8728db80827a941c9f97649,openstack/mistral,master,Iadf5c35939813f39e8728db80827a941c9f97649,Pass action error to results,MERGED,2015-01-22 09:12:55.000000000,2015-01-26 05:59:36.000000000,2015-01-26 05:59:35.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-22 09:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d05aae73c63e93f96018420bfe3f3ecea4cffa34', 'message': 'Pass action error to results\n\nMore work to make sure the error can be conveniently accessed.\n\nPartial-Bug: 1412637\n\nChange-Id: Iadf5c35939813f39e8728db80827a941c9f97649\n'}, {'number': 2, 'created': '2015-01-23 13:38:24.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/tests/unit/engine1/test_dataflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4d088ee0330dfdb440fcf5cc13e8c1cf5311a629', 'message': 'Pass action error to results\n\nMore work to make sure the error can be conveniently accessed.\n\nPartial-Bug: 1412637\n\nChange-Id: Iadf5c35939813f39e8728db80827a941c9f97649\n'}]",2,149191,4d088ee0330dfdb440fcf5cc13e8c1cf5311a629,9,5,2,9432,,,0,"Pass action error to results

More work to make sure the error can be conveniently accessed.

Partial-Bug: 1412637

Change-Id: Iadf5c35939813f39e8728db80827a941c9f97649
",git fetch https://review.opendev.org/openstack/mistral refs/changes/91/149191/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/tests/unit/engine1/test_dataflow.py']",2,d05aae73c63e93f96018420bfe3f3ecea4cffa34,bug/1412635,"import mockfrom mistral.db.v2.sqlalchemy import modelsfrom mistral.tests import base as testbase from mistral.tests.unit.engine1 import base as testengine1 from mistral.workflow import data_flow from mistral.workflow import states from mistral.workflow import utilsclass DataFlowEngineTest(testengine1.EngineTestCase): class DataFlowTest(testbase.BaseTest): def test_evaluate_task_output_simple(self): """"""Test simplest green-path scenario: action status is SUCCESS, action output is string published variables are static (no expression), environment __env is absent. Expected to get publish variables AS IS. """""" publish_dict = {'foo': 'bar'} action_output = ""string data"" task_db = models.Task(name=""task1"") task_spec = mock.MagicMock() task_spec.get_publish = mock.MagicMock(return_value=publish_dict) raw_result = utils.TaskResult(data=action_output, error=None) res = data_flow.evaluate_task_output(task_db, task_spec, raw_result) self.assertEqual(res['foo'], ""bar"") self.assertEqual(res['task']['task1'], publish_dict) def test_evaluate_task_output(self): """"""Test green-path scenario with evaluations action status is SUCCESS, action output is dict published variables with expression, environment __env is present. Expected to get resolved publish variables. """""" publish_dict = {'a': '{$.akey}', 'e': ""$.__env.ekey""} action_output = {'akey': ""adata""} env = {'ekey': ""edata""} task_db = models.Task(name=""task1"") task_db.in_context = {'__env': env} task_spec = mock.MagicMock() task_spec.get_publish = mock.MagicMock(return_value=publish_dict) raw_result = utils.TaskResult(data=action_output, error=None) res = data_flow.evaluate_task_output(task_db, task_spec, raw_result) self.assertEqual(res['a'], ""adata"") self.assertEqual(res['e'], ""edata"") self.assertEqual(res['task']['task1'], {'a': ""adata"", 'e': 'edata'}) def test_evaluate_task_output_with_error(self): """"""Test handling ERROR in action action status is ERROR, action output is error string published variables should not evaluate, Expected to get action error. """""" publish_dict = {'foo': '$.akey'} action_output = ""error data"" task_db = models.Task(name=""task1"") task_spec = mock.MagicMock() task_spec.get_publish = mock.MagicMock(return_value=publish_dict) raw_result = utils.TaskResult(data=None, error=action_output) res = data_flow.evaluate_task_output(task_db, task_spec, raw_result) self.assertDictEqual( res, {'error': action_output, 'task': {'task1': action_output}})",from mistral.engine import statesfrom mistral.tests.unit.engine1 import baseclass DataFlowEngineTest(base.EngineTestCase):,87,10
openstack%2Fnetworking-ofagent~master~I7709a2d3a06125e749bfcb00789244ef1b86cf9f,openstack/networking-ofagent,master,I7709a2d3a06125e749bfcb00789244ef1b86cf9f,requirements.txt: Add Ryu,MERGED,2015-01-26 04:59:12.000000000,2015-01-26 05:23:02.000000000,2015-01-26 05:23:01.000000000,"[{'_account_id': 3}, {'_account_id': 6854}]","[{'number': 1, 'created': '2015-01-26 04:59:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/b3572e5ebffafb92f4f64faf0d55bd789a9733c3', 'message': 'requirements.txt: Add Ryu\n\nRequire the latest release of Ryu.\nOlder versions might work but not tested.\n\nChange-Id: I7709a2d3a06125e749bfcb00789244ef1b86cf9f\n'}]",0,149920,b3572e5ebffafb92f4f64faf0d55bd789a9733c3,6,2,1,6854,,,0,"requirements.txt: Add Ryu

Require the latest release of Ryu.
Older versions might work but not tested.

Change-Id: I7709a2d3a06125e749bfcb00789244ef1b86cf9f
",git fetch https://review.opendev.org/openstack/networking-ofagent refs/changes/20/149920/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b3572e5ebffafb92f4f64faf0d55bd789a9733c3,req-ryu,ryu>=3.17,,1,0
openstack%2Ftaskflow~master~I7d233cccb230b716af41243ad27220b988eec14c,openstack/taskflow,master,I7d233cccb230b716af41243ad27220b988eec14c,Add a thread bundle helper utility + tests,MERGED,2015-01-24 17:29:06.000000000,2015-01-26 05:06:45.000000000,2015-01-26 05:06:43.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-24 17:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/55c439d231cd0ebf6f03118fffd100196df80b1c', 'message': 'Add a thread bundle helper utility (WIP)\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 2, 'created': '2015-01-24 18:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/23ad3a1bba846f1951cfd430d099102b0ca777fa', 'message': 'Add a thread bundle helper utility\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 3, 'created': '2015-01-24 18:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/237ce1059372a545000ff1b740acc20158893914', 'message': 'Add a thread bundle helper utility\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 4, 'created': '2015-01-24 20:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f7559532a4935cf0838b463a629328d7827e35e6', 'message': 'Add a thread bundle helper utility\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 5, 'created': '2015-01-24 20:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d3a05841bc8bdaef5a2121fee7963eab8fa88027', 'message': 'Add a thread bundle helper utility\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 6, 'created': '2015-01-25 02:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/01810cfc3a2c9c387f1cddd8385cf7f4170a6fa8', 'message': 'Add a thread bundle helper utility + tests\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 7, 'created': '2015-01-25 02:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d320a954d5cf63c6b37bf2f25d834233056dc274', 'message': 'Add a thread bundle helper utility + tests\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}, {'number': 8, 'created': '2015-01-25 02:34:04.000000000', 'files': ['taskflow/engines/worker_based/executor.py', 'taskflow/utils/threading_utils.py', 'taskflow/tests/unit/worker_based/test_executor.py', 'taskflow/tests/unit/test_utils_threading_utils.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ca82e20efe8f5c5d50b3db89be0342710ef7f73b', 'message': 'Add a thread bundle helper utility + tests\n\nTo make it easier to create a bunch of threads in a single\ncall (and stop them in a single call) create a concept of\na thread bundle (similar to a thread group) that will call\ninto a provided set of factories to get a thread, activate\ncallbacks to notify others that a thread is about to start\nor stop and then perform the start or stop of the bound\nthreads in a orderly manner.\n\nChange-Id: I7d233cccb230b716af41243ad27220b988eec14c\n'}]",0,149830,ca82e20efe8f5c5d50b3db89be0342710ef7f73b,16,2,8,1297,,,0,"Add a thread bundle helper utility + tests

To make it easier to create a bunch of threads in a single
call (and stop them in a single call) create a concept of
a thread bundle (similar to a thread group) that will call
into a provided set of factories to get a thread, activate
callbacks to notify others that a thread is about to start
or stop and then perform the start or stop of the bound
threads in a orderly manner.

Change-Id: I7d233cccb230b716af41243ad27220b988eec14c
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/30/149830/5 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/executor.py', 'taskflow/utils/threading_utils.py']",2,55c439d231cd0ebf6f03118fffd100196df80b1c,thread-bundle,"import collectionsimport six # Container for thread creator + associated callbacks. _ThreadBuilder = collections.namedtuple('_ThreadBuilder', ['thread_creator', 'before_start', 'after_start', 'before_join', 'after_join']) _ThreadBuilder.event_callables = tuple([ 'before_start', 'after_start', 'before_join', 'after_join', ]) class ThreadBundle(object): """"""A group/bundle of threads that start/stop together."""""" def __init__(self): self._threads = [] def bind(self, thread_creator, before_start=None, after_start=None, before_join=None, after_join=None): """"""Binds a thread into this group/bundle (with the given callbacks)."""""" if not six.callable(thread_creator): raise ValueError(""Provided callback for argument 'thread_creator'"" "" must be callable"") builder = _ThreadBuilder(thread_creator, before_start, after_start, before_join, after_join) for attr_name in builder.event_callables: cb = getattr(builder, attr_name) if cb is None: continue if not six.callable(cb): raise ValueError(""Provided callback for keyword argument"" "" '%s' must be callable"" % attr_name) self._threads.append([ builder, # The built thread. None, ]) def start(self): """"""Creates & starts all associated threads (that are not running)."""""" for i, (builder, thread) in enumerate(self._threads): if is_alive(thread): continue self._threads[i][1] = thread = builder.thread_creator() if builder.before_start is not None: builder.before_start(thread) thread.start() if builder.after_start is not None: builder.after_start(thread) def stop(self): """"""Stops all associated threads (that are running)."""""" for i, (builder, thread) in enumerate(self._threads): if not is_alive(thread): continue if builder.before_join is not None: builder.before_join(thread) thread.join() if builder.after_join is not None: builder.after_join(thread) self._threads[i][1] = thread = None def __len__(self): """"""Returns how many threads are in this bundle."""""" return len(self._threads)",,80,18
openstack%2Ftaskflow~master~I803ec7d83096da4f4b45c2c1858b82f2df9d38f9,openstack/taskflow,master,I803ec7d83096da4f4b45c2c1858b82f2df9d38f9,Shrink the WBE request transition SVG image size,MERGED,2015-01-25 18:49:30.000000000,2015-01-26 05:06:30.000000000,2015-01-26 05:06:29.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 7366}]","[{'number': 1, 'created': '2015-01-25 18:49:30.000000000', 'files': ['doc/source/workers.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/84d44fad112a25658a9ab8ff2918c048bcbf44e3', 'message': ""Shrink the WBE request transition SVG image size\n\nSince this image/svg is not as dense we don't need\nto use the same size (660px) as the other state\ndiagrams. Using a smaller size (520px) looks nicer\nand fits better on the documentation page for this\nless dense diagram.\n\nChange-Id: I803ec7d83096da4f4b45c2c1858b82f2df9d38f9\n""}]",0,149891,84d44fad112a25658a9ab8ff2918c048bcbf44e3,7,3,1,1297,,,0,"Shrink the WBE request transition SVG image size

Since this image/svg is not as dense we don't need
to use the same size (660px) as the other state
diagrams. Using a smaller size (520px) looks nicer
and fits better on the documentation page for this
less dense diagram.

Change-Id: I803ec7d83096da4f4b45c2c1858b82f2df9d38f9
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/91/149891/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/workers.rst'],1,84d44fad112a25658a9ab8ff2918c048bcbf44e3,, :width: 520px :align: center, :width: 660px :align: left,2,2
openstack%2Fheat~master~I36403eecebd71971b3d3fef258fb1ab3e267aa9e,openstack/heat,master,I36403eecebd71971b3d3fef258fb1ab3e267aa9e,Implement 'InstanceId' for LaunchConfiguration,MERGED,2014-11-10 08:11:02.000000000,2015-01-26 05:00:05.000000000,2015-01-26 05:00:04.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7256}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 10090}, {'_account_id': 13323}]","[{'number': 1, 'created': '2014-11-10 08:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/347eec8c52153111513259fb8579c179a8558379', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be comcompatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 2, 'created': '2014-11-11 09:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7e89561a75113cfef937b2b7c2a825003d112461', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be comcompatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 3, 'created': '2014-11-12 03:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/665a09214bee1f0719d46f48e2bde07e3f61d513', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 4, 'created': '2014-11-12 03:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d7e01859861ea7d1dfe25d43771a92ab4eaf989e', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 5, 'created': '2014-11-12 09:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8f2912dee4608187c749a7b29f8951041edb3cb', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 6, 'created': '2014-11-13 04:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4f626afda75c98eab94f3449df70908264019cec', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 7, 'created': '2014-11-28 09:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eb5b956a5c5562ab23c0d89718f5e3bae294ed53', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 8, 'created': '2014-12-01 07:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2d9e7d7ffd22af67b6e38db08da12502a0e7627d', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 9, 'created': '2014-12-03 01:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8432be3ba9479a0e8897d50dd1e71460b6d8a52d', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 10, 'created': '2014-12-03 09:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bedffc3006bec517a75ec15e7d418162485100b6', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 11, 'created': '2014-12-04 03:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fe99fe5ea056afb7904e035762e7d48ab3994418', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 12, 'created': '2014-12-04 07:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/51e9261faf4bb308a5e247e7379da6183a5ab3e8', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 13, 'created': '2014-12-11 02:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15ab8e9b14a449166157cfc7b122f46cb1b17fdd', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 14, 'created': '2014-12-11 03:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e28c3be826efac0261bd9c562be1654621dacb58', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 15, 'created': '2014-12-12 05:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/acaebed7dc5c6cee51d8895fdd4872a344f90a5d', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 16, 'created': '2014-12-24 02:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6510171d6a664cd565351a6af5ab2c93e69abffe', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 17, 'created': '2014-12-24 03:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3c8ad2253f698be45728ed747afbdd966d874461', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 18, 'created': '2014-12-24 04:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9a2863164627a8323ce23a750bce91ffc7d50af', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 19, 'created': '2014-12-26 06:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cefb757d638820758300132a04e6c6407513bbfd', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 20, 'created': '2015-01-07 08:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d804736d715c9aaa3fa235c0b878b978627bb7a1', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 21, 'created': '2015-01-08 03:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/90f6fb03de830e8f1d9c16dcd8d37f9729eed1f9', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 22, 'created': '2015-01-13 14:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b32e64bb6d364c98df7cc1006a73d74802443197', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 23, 'created': '2015-01-15 03:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dbc204370014fb8ccf2c730466ff969bfa1a9b30', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 24, 'created': '2015-01-16 01:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6c5c623bbc94d3462307a4e3c46fd9b53a3c19f0', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}, {'number': 25, 'created': '2015-01-24 07:53:52.000000000', 'files': ['heat/tests/autoscaling/test_launch_config.py', 'heat/engine/resources/aws/launch_config.py', 'heat/engine/resources/instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e5714a3a4c50cdf0c789a06ff5f555524b3c2041', 'message': ""Implement 'InstanceId' for LaunchConfiguration\n\nImplement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration\nresource to be compatible with AWSCloudFormation.\n\nChange-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e\nImplements: blueprint implement-instanceid-for-launchconfiguration\n""}]",20,133401,e5714a3a4c50cdf0c789a06ff5f555524b3c2041,114,15,25,8289,,,0,"Implement 'InstanceId' for LaunchConfiguration

Implement 'InstanceId' for AWS::AutoScaling::LaunchConfiguration
resource to be compatible with AWSCloudFormation.

Change-Id: I36403eecebd71971b3d3fef258fb1ab3e267aa9e
Implements: blueprint implement-instanceid-for-launchconfiguration
",git fetch https://review.opendev.org/openstack/heat refs/changes/01/133401/24 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/autoscaling.py', 'heat/tests/test_autoscaling.py', 'heat/engine/resources/aws/launch_config.py']",3,347eec8c52153111513259fb8579c179a8558379,bp/implement-instanceid-for-autoscalinggroup," INSTANCE_ID, 'InstanceId', INSTANCE_ID: properties.Schema( properties.Schema.STRING, _('The ID of an existing instance you want to use to create ' 'the launch configuration. All properties are derived from ' 'the instance with the exception of BlockDeviceMapping.') ), def handle_create(self): if self.properties.get(self.INSTANCE_ID): server = self.nova().servers.get( self.properties.get(self.INSTANCE_ID)) new_props = {} new_props[self.IMAGE_ID] = server.image['id'] new_props[self.INSTANCE_TYPE] = server.flavor['id'] new_props[self.KEY_NAME] = server.key_name server_security_groups = server.security_groups conf_sg = [] for sg in server_security_groups: conf_sg += sg.values() new_props[self.SECURITY_GROUPS] = conf_sg # to update the properties self.t['Properties'].update(new_props) self.properties = self.t.properties( self.properties_schema, self.context) self._update_stored_properties() ",,69,0
openstack%2Fheat~master~Id3964db53cab597032e0e46fe4dfdd1efabb037f,openstack/heat,master,Id3964db53cab597032e0e46fe4dfdd1efabb037f,Remove TaskRunner from WaitCondition,MERGED,2015-01-16 12:25:46.000000000,2015-01-26 04:32:43.000000000,2015-01-26 04:32:42.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 7385}, {'_account_id': 8246}, {'_account_id': 8289}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-16 12:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e0a82169b05878744b6a0a8e2af99b072319879e', 'message': 'Don not use TaskRunner in WaitCondition\n\nAlso, cleanup one Py2.6 compat leftover.\n\nChange-Id: Id3964db53cab597032e0e46fe4dfdd1efabb037f\nPartial-Bug: #1393268\n'}, {'number': 2, 'created': '2015-01-16 15:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a37c923bf90308babc6148567c4087f9b3f262c4', 'message': 'Remove TaskRunner from WaitCondition\n\nAlso, cleanup one Py2.6 compat leftover.\n\nChange-Id: Id3964db53cab597032e0e46fe4dfdd1efabb037f\nPartial-Bug: #1393268\n'}, {'number': 3, 'created': '2015-01-16 19:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/21b18ac30e57ecb81e67d0bd374358c518febe9a', 'message': 'Remove TaskRunner from WaitCondition\n\nAlso, cleanup one Py2.6 compat leftover.\n\nChange-Id: Id3964db53cab597032e0e46fe4dfdd1efabb037f\nPartial-Bug: #1393268\n'}, {'number': 4, 'created': '2015-01-20 11:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d682ddd8e9c58501cf2715efe257b322364596a', 'message': 'Remove TaskRunner from WaitCondition\n\nAlso, cleanup one Py2.6 compat leftover.\n\nChange-Id: Id3964db53cab597032e0e46fe4dfdd1efabb037f\nPartial-Bug: #1393268\n'}, {'number': 5, 'created': '2015-01-21 08:02:41.000000000', 'files': ['heat/tests/test_notifications.py', 'heat/engine/resources/openstack/wait_condition.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/307a3be1024d56e221ae2474abc04d05a74ee5d9', 'message': 'Remove TaskRunner from WaitCondition\n\nAlso, cleanup one Py2.6 compat leftover.\n\nChange-Id: Id3964db53cab597032e0e46fe4dfdd1efabb037f\nPartial-Bug: #1393268\n'}]",7,147825,307a3be1024d56e221ae2474abc04d05a74ee5d9,27,7,5,9542,,,0,"Remove TaskRunner from WaitCondition

Also, cleanup one Py2.6 compat leftover.

Change-Id: Id3964db53cab597032e0e46fe4dfdd1efabb037f
Partial-Bug: #1393268
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/147825/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_notifications.py', 'heat/engine/resources/openstack/wait_condition.py']",2,e0a82169b05878744b6a0a8e2af99b072319879e,bug/1393268," def _wait(self, handle, timeout): if timeout.expired(): exc = wc_base.WaitConditionTimeout(self, handle) LOG.info(_LI('%(name)s Timed out (%(timeout)s)'), {'name': str(self), 'timeout': str(exc)}) raise exc handle_status = handle.get_status() if any(s != handle.STATUS_SUCCESS for s in handle_status): failure = wc_base.WaitConditionFailure(self, handle) LOG.info(_LI('%(name)s Failed (%(failure)s)'), {'name': str(self), 'failure': str(failure)}) raise failure if len(handle_status) >= self.properties[self.COUNT]: LOG.info(_LI(""%s Succeeded""), str(self)) return True return False timeout = scheduler.Timeout(str(self), float(self.properties[self.TIMEOUT])) return handle, timeout def check_create_complete(self, data): return self._wait(*data) return self.handle_create() def check_update_complete(self, data): return self.check_create_complete(data) res = {k: meta[k][handle.DATA] for k in meta}"," def _wait(self, handle): while True: try: yield except scheduler.Timeout: timeout = wc_base.WaitConditionTimeout(self, handle) LOG.info(_LI('%(name)s Timed out (%(timeout)s)'), {'name': str(self), 'timeout': str(timeout)}) raise timeout handle_status = handle.get_status() if any(s != handle.STATUS_SUCCESS for s in handle_status): failure = wc_base.WaitConditionFailure(self, handle) LOG.info(_LI('%(name)s Failed (%(failure)s)'), {'name': str(self), 'failure': str(failure)}) raise failure if len(handle_status) >= self.properties[self.COUNT]: LOG.info(_LI(""%s Succeeded""), str(self)) return runner = scheduler.TaskRunner(self._wait, handle) runner.start(timeout=float(self.properties[self.TIMEOUT])) return runner def check_create_complete(self, runner): return runner.step() handle = self._get_handle_resource() runner = scheduler.TaskRunner(self._wait, handle) runner.start(timeout=float(self.properties[self.TIMEOUT])) return runner def check_update_complete(self, runner): return runner.step() # Note, can't use a dict generator on python 2.6, hence: res = dict([(k, meta[k][handle.DATA]) for k in meta])",27,31
openstack%2Fheat~stable%2Fjuno~I411ff41a9e0730e9864f5ed4ac54f1d5d0ec02d7,openstack/heat,stable/juno,I411ff41a9e0730e9864f5ed4ac54f1d5d0ec02d7,Disable nested validation for ResourceGroup with zero count,MERGED,2015-01-08 20:00:52.000000000,2015-01-26 04:31:51.000000000,2015-01-26 04:31:50.000000000,"[{'_account_id': 3}, {'_account_id': 1633}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 7256}, {'_account_id': 8289}, {'_account_id': 9542}, {'_account_id': 13323}]","[{'number': 1, 'created': '2015-01-08 20:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/945bd42182ccdcf1386c9b51702ec953eb2e091f', 'message': ""Disable nested validation for ResourceGroup with zero count\n\nSome users (TripleO specifically) want to disable features via a\ncount of zero, which is a problem as we always recurse and validate\nthe nested stack since c31c34f8dfd0919bf46a975701c139073115debc\n\nInstead, we only do validation when the count is non-zero, to\nenable, e.g default image names, to be ignored at validation\ntime (as we'll never use them) instead of rejected by the nested\nschema (e.g the server.py properties schema which contains a\ncustom contraint to always validate the image).\n\nThis should still allow us to fail fast (at validation time before\ncreating anything) when we're actually about to create something,\ne.g when the count is non-zero.\n\nChange-Id: I411ff41a9e0730e9864f5ed4ac54f1d5d0ec02d7\nCloses-Bug: #1401929\n(cherry picked from commit 907c0aac79a367d84bdbc26acbf5c4475f9abab7)\n""}, {'number': 2, 'created': '2015-01-12 19:27:51.000000000', 'files': ['heat/engine/resources/resource_group.py', 'heat_integrationtests/functional/test_resource_group.py', 'heat/tests/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/94dec9e286a5d881bfaa18083d2406d8b18df784', 'message': ""Disable nested validation for ResourceGroup with zero count\n\nSome users (TripleO specifically) want to disable features via a\ncount of zero, which is a problem as we always recurse and validate\nthe nested stack since c31c34f8dfd0919bf46a975701c139073115debc\n\nInstead, we only do validation when the count is non-zero, to\nenable, e.g default image names, to be ignored at validation\ntime (as we'll never use them) instead of rejected by the nested\nschema (e.g the server.py properties schema which contains a\ncustom contraint to always validate the image).\n\nThis should still allow us to fail fast (at validation time before\ncreating anything) when we're actually about to create something,\ne.g when the count is non-zero.\n\nThis patch also rolls in the fix for the regression this originally\ncaused on master, Iea454f4201990f65633b644bbefe708e5a216885.\n\nChange-Id: I411ff41a9e0730e9864f5ed4ac54f1d5d0ec02d7\nCloses-Bug: #1401929\nCloses-Bug: #1404399\n(cherry picked from commit 907c0aac79a367d84bdbc26acbf5c4475f9abab7 and 4834443353fab57315040c9de2c7dac19e8a8b51)\n""}]",0,145917,94dec9e286a5d881bfaa18083d2406d8b18df784,24,10,2,4257,,,0,"Disable nested validation for ResourceGroup with zero count

Some users (TripleO specifically) want to disable features via a
count of zero, which is a problem as we always recurse and validate
the nested stack since c31c34f8dfd0919bf46a975701c139073115debc

Instead, we only do validation when the count is non-zero, to
enable, e.g default image names, to be ignored at validation
time (as we'll never use them) instead of rejected by the nested
schema (e.g the server.py properties schema which contains a
custom contraint to always validate the image).

This should still allow us to fail fast (at validation time before
creating anything) when we're actually about to create something,
e.g when the count is non-zero.

This patch also rolls in the fix for the regression this originally
caused on master, Iea454f4201990f65633b644bbefe708e5a216885.

Change-Id: I411ff41a9e0730e9864f5ed4ac54f1d5d0ec02d7
Closes-Bug: #1401929
Closes-Bug: #1404399
(cherry picked from commit 907c0aac79a367d84bdbc26acbf5c4475f9abab7 and 4834443353fab57315040c9de2c7dac19e8a8b51)
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/145917/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/resource_group.py', 'heat_integrationtests/functional/test_resource_group.py']",2,945bd42182ccdcf1386c9b51702ec953eb2e091f,bug/1401929,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from heatclient import exc from heat_integrationtests.common import test class ResourceGroupTest(test.HeatIntegrationTest): def setUp(self): super(ResourceGroupTest, self).setUp() self.client = self.orchestration_client def _group_nested_identifier(self, stack_identifier, group_name='random_group'): # Get the nested stack identifier from the group rsrc = self.client.resources.get(stack_identifier, group_name) physical_resource_id = rsrc.physical_resource_id nested_stack = self.client.stacks.get(physical_resource_id) nested_identifier = '%s/%s' % (nested_stack.stack_name, nested_stack.id) parent_id = stack_identifier.split(""/"")[-1] self.assertEqual(parent_id, nested_stack.parent) return nested_identifier def test_resource_group_zero_novalidate(self): # Nested resources should be validated only when size > 0 # This allows features to be disabled via size=0 without # triggering validation of nested resource custom contraints # e.g images etc in the nested schema. nested_template_fail = ''' heat_template_version: 2013-05-23 resources: random: type: OS::Heat::RandomString properties: length: BAD ''' template_zero_nested = ''' heat_template_version: 2013-05-23 resources: random_group: type: OS::Heat::ResourceGroup properties: count: 0 resource_def: type: My::RandomString ''' files = {'provider.yaml': nested_template_fail} env = {'resource_registry': {'My::RandomString': 'provider.yaml'}} stack_identifier = self.stack_create( template=template_zero_nested, files=files, environment=env ) self.assertEqual({u'random_group': u'OS::Heat::ResourceGroup'}, self.list_resources(stack_identifier)) # Check we created an empty nested stack nested_identifier = self._group_nested_identifier(stack_identifier) self.assertEqual({}, self.list_resources(nested_identifier)) # Prove validation works for non-zero create/update template_two_nested = template_zero_nested.replace(""count: 0"", ""count: 2"") expected_err = ""length Value 'BAD' is not an integer"" ex = self.assertRaises(exc.HTTPBadRequest, self.update_stack, stack_identifier, template_two_nested, environment=env, files=files) self.assertIn(expected_err, six.text_type(ex)) ex = self.assertRaises(exc.HTTPBadRequest, self.stack_create, template=template_two_nested, environment=env, files=files) self.assertIn(expected_err, six.text_type(ex)) ",,97,1
openstack%2Fheat~master~If2e78012b85a4430c6f03f65784cac2d032cf116,openstack/heat,master,If2e78012b85a4430c6f03f65784cac2d032cf116,Enable H904 style checking rule,MERGED,2015-01-02 14:33:29.000000000,2015-01-26 04:31:41.000000000,2015-01-26 04:31:38.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-02 14:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7505ad35ef56a657ecfafe5c6bd4a46c9916246d', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 2, 'created': '2015-01-02 15:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1fe00367abbf196f979dbfb3aa02e3f7d2801a0b', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 3, 'created': '2015-01-05 10:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af01dbc388cec0ceb49e6b5e30abb4771296b368', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 4, 'created': '2015-01-10 17:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6ce803767eae272dab976a499f0b696cfd8beb30', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 5, 'created': '2015-01-12 12:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/96e7083abdf2937764d193355130fa86d5a98fb2', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 6, 'created': '2015-01-12 16:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6a013d4ef22def4910177c3f93b0cd77890a54aa', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 7, 'created': '2015-01-12 20:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e16c7ce710cdfea2fbcaf720343cf2610dab0d01', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 8, 'created': '2015-01-13 09:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/986675f46f9832546b558e8ba31ed78e5eaafa4a', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}, {'number': 9, 'created': '2015-01-20 09:16:09.000000000', 'files': ['heat/engine/environment.py', 'heat/tests/test_glance_client.py', 'heat/tests/test_parser.py', 'heat/tests/test_cinder_client.py', 'heat/tests/test_neutron_autoscaling.py', 'contrib/extraroute/extraroute/tests/test_extraroute.py', 'heat/common/auth_password.py', 'heat/engine/resources/aws/autoscaling_group.py', 'heat/tests/test_validate.py', 'heat/engine/resources/ceilometer/alarm.py', 'heat/engine/resources/server.py', 'heat/engine/resources/neutron/port.py', 'heat/tests/test_identifier.py', 'heat/tests/test_wsgi.py', 'contrib/rackspace/rackspace/resources/cloud_server.py', 'heat/engine/resources/loadbalancer.py', 'contrib/rackspace/rackspace/tests/test_cloud_loadbalancer.py', 'heat/engine/resources/swiftsignal.py', 'heat/tests/test_instance.py', 'heat/engine/resources/openstack/volume.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/test_provider_template.py', 'heat/tests/test_loadbalancer.py', 'heat/tests/common.py', 'heat/tests/aws/test_waitcondition.py', 'heat/engine/parameters.py', 'heat/tests/test_software_component.py', 'heat/common/heat_keystoneclient.py', 'heat/engine/event.py', 'heat/tests/openstack/test_waitcondition.py', 'heat/tests/test_server.py', 'heat/tests/test_watch.py', 'tox.ini', 'heat/common/config.py', 'heat/engine/resources/software_config/software_deployment.py', 'heat/tests/test_lifecycle_plugin_utils.py', 'heat/tests/test_nested_stack.py', 'heat/db/sqlalchemy/migrate_repo/versions/045_stack_backup.py', 'heat/tests/test_eip.py', 'heat/common/wsgi.py', 'heat/engine/resources/instance.py', 'heat/tests/test_remote_stack.py', 'heat/tests/test_engine_service.py', 'heat/engine/resources/resource_group.py', 'heat/engine/cfn/template.py', 'heat/tests/test_notifications.py', 'heat/engine/stack.py', 'heat/engine/resources/eip.py', 'heat/tests/test_resource_group.py', 'heat/tests/test_heatclient.py', 'heat/engine/resources/software_config/software_component.py', 'heat/tests/test_instance_group_update_policy.py', 'heat/tests/test_nokey.py', 'heat/tests/test_autoscaling_update_policy.py', 'heat/tests/test_parameters.py', 'heat/tests/fakes.py', 'heat/tests/test_properties.py', 'heat/common/environment_format.py', 'heat/engine/hot/template.py', 'heat/db/sqlalchemy/migrate_repo/versions/035_event_uuid_to_id.py', 'heat/tests/test_api_openstack_v1.py', 'heat/db/sqlalchemy/migrate_repo/versions/022_stack_event_soft_delete.py', 'heat/tests/test_stack_resource.py', 'heat/tests/test_hot.py', 'heat/tests/test_fault_middleware.py', 'heat/engine/resources/nova_floatingip.py', 'heat/common/exception.py', 'contrib/rackspace/rackspace/resources/cloud_loadbalancer.py', 'heat/engine/rsrc_defn.py', 'heat/tests/test_swiftsignal.py', 'heat/engine/stack_resource.py', 'heat/tests/generic_resource.py', 'heat/engine/stack_lock.py', 'heat/tests/test_version_negotiation_middleware.py', 'heat/tests/test_sqlalchemy_api.py', 'contrib/rackspace/rackspace/tests/test_rackspace_cloud_server.py', 'heat/engine/resources/openstack/wait_condition_handle.py', 'heat/tests/test_ceilometer_alarm.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cb8712281d711d7e5b6ab5322796e4c2a714a243', 'message': 'Enable H904 style checking rule\n\nUse parentheses instead of backslash for line continuation.\n\nPlus, usage of escaped quotes in long strings is avoided where it makes\nsense.\n\nChange-Id: If2e78012b85a4430c6f03f65784cac2d032cf116\n'}]",10,144758,cb8712281d711d7e5b6ab5322796e4c2a714a243,43,6,9,9542,,,0,"Enable H904 style checking rule

Use parentheses instead of backslash for line continuation.

Plus, usage of escaped quotes in long strings is avoided where it makes
sense.

Change-Id: If2e78012b85a4430c6f03f65784cac2d032cf116
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/144758/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/environment.py', 'heat/tests/test_glance_client.py', 'heat/tests/test_parser.py', 'heat/tests/test_cinder_client.py', 'heat/tests/test_neutron_autoscaling.py', 'contrib/extraroute/extraroute/tests/test_extraroute.py', 'heat/engine/resources/aws/autoscaling_group.py', 'heat/tests/test_validate.py', 'heat/engine/resources/server.py', 'heat/engine/resources/volume.py', 'heat/engine/resources/neutron/port.py', 'heat/tests/test_identifier.py', 'heat/tests/test_wsgi.py', 'contrib/rackspace/rackspace/resources/cloud_server.py', 'heat/engine/resources/loadbalancer.py', 'contrib/rackspace/rackspace/tests/test_cloud_loadbalancer.py', 'heat/tests/test_instance.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/test_provider_template.py', 'heat/tests/test_loadbalancer.py', 'heat/tests/common.py', 'heat/engine/parameters.py', 'heat/tests/test_software_component.py', 'heat/engine/event.py', 'heat/tests/test_server.py', 'heat/tests/test_watch.py', 'tox.ini', 'heat/engine/resources/software_config/software_deployment.py', 'heat/tests/test_lifecycle_plugin_utils.py', 'heat/tests/test_nested_stack.py', 'heat/db/sqlalchemy/migrate_repo/versions/045_stack_backup.py', 'heat/tests/test_eip.py', 'heat/common/wsgi.py', 'heat/engine/resources/instance.py', 'heat/tests/test_remote_stack.py', 'heat/tests/test_engine_service.py', 'heat/engine/cfn/template.py', 'heat/tests/test_notifications.py', 'heat/engine/resources/eip.py', 'heat/tests/test_heatclient.py', 'heat/engine/resources/software_config/software_component.py', 'heat/tests/test_instance_group_update_policy.py', 'heat/tests/test_nokey.py', 'heat/tests/test_autoscaling_update_policy.py', 'heat/tests/test_parameters.py', 'heat/tests/fakes.py', 'heat/tests/test_properties.py', 'heat/common/environment_format.py', 'heat/engine/hot/template.py', 'heat/db/sqlalchemy/migrate_repo/versions/035_event_uuid_to_id.py', 'heat/tests/test_api_openstack_v1.py', 'heat/db/sqlalchemy/migrate_repo/versions/022_stack_event_soft_delete.py', 'heat/tests/test_stack_resource.py', 'heat/tests/test_hot.py', 'heat/tests/test_fault_middleware.py', 'heat/engine/resources/nova_floatingip.py', 'contrib/rackspace/rackspace/resources/cloud_loadbalancer.py', 'heat/engine/rsrc_defn.py', 'heat/engine/stack_resource.py', 'heat/tests/generic_resource.py', 'heat/engine/stack_lock.py', 'heat/tests/test_version_negotiation_middleware.py', 'heat/tests/test_sqlalchemy_api.py', 'contrib/rackspace/rackspace/tests/test_rackspace_cloud_server.py', 'heat/tests/test_ceilometer_alarm.py']",65,7505ad35ef56a657ecfafe5c6bd4a46c9916246d,new-hacking, properties['matching_metadata'] = {'metadata.user_metadata.groupname': 'foo'}, properties['matching_metadata'] =\ {'metadata.user_metadata.groupname': 'foo'},720,733
openstack%2Fnetworking-ofagent~master~I0cee1c7c9e9a346404f026b06ed550de8974b77f,openstack/networking-ofagent,master,I0cee1c7c9e9a346404f026b06ed550de8974b77f,Fix jenkins jobs,MERGED,2015-01-26 02:38:32.000000000,2015-01-26 04:22:04.000000000,2015-01-26 04:22:04.000000000,"[{'_account_id': 3}, {'_account_id': 6854}]","[{'number': 1, 'created': '2015-01-26 02:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/69a17987117f1a91d076854b8262b909ea853a46', 'message': 'Add README.rst\n\nChange-Id: I0cee1c7c9e9a346404f026b06ed550de8974b77f\n'}, {'number': 2, 'created': '2015-01-26 03:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/cb1c834fd504cf56a6c357ec113df09a8d4125b3', 'message': 'Fix jenkins jobs\n\n- Add README.rst\n- Tweak misc-sanity-checks to pass with no .pot files\n\nChange-Id: I0cee1c7c9e9a346404f026b06ed550de8974b77f\n'}, {'number': 3, 'created': '2015-01-26 04:07:15.000000000', 'files': ['doc/Makefile', 'doc/make.bat', 'doc/source/index.rst', 'README.rst', 'doc/source/conf.py', 'doc/source/readme.rst', 'tools/misc-sanity-checks.sh'], 'web_link': 'https://opendev.org/openstack/networking-ofagent/commit/06740709eb4f747308c0b00b3388c804417b4dde', 'message': 'Fix jenkins jobs\n\n- Add README.rst\n- Tweak misc-sanity-checks to pass with no .pot files\n- Add minimum docs\n\nChange-Id: I0cee1c7c9e9a346404f026b06ed550de8974b77f\n'}]",0,149906,06740709eb4f747308c0b00b3388c804417b4dde,10,2,3,6854,,,0,"Fix jenkins jobs

- Add README.rst
- Tweak misc-sanity-checks to pass with no .pot files
- Add minimum docs

Change-Id: I0cee1c7c9e9a346404f026b06ed550de8974b77f
",git fetch https://review.opendev.org/openstack/networking-ofagent refs/changes/06/149906/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,69a17987117f1a91d076854b8262b909ea853a46,readme,https://wiki.openstack.org/wiki/Neutron/OFAgent ,,1,0
openstack%2Fironic~stable%2Fjuno~I8d7831789d21d3a2dcafd614989cf1e53dbedd70,openstack/ironic,stable/juno,I8d7831789d21d3a2dcafd614989cf1e53dbedd70,Force glance recheck for kernel/ramdisk on rebuild,MERGED,2015-01-19 11:20:24.000000000,2015-01-26 03:46:14.000000000,2015-01-26 03:46:13.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1420}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 7711}, {'_account_id': 7882}, {'_account_id': 8688}, {'_account_id': 9315}, {'_account_id': 9420}, {'_account_id': 12081}, {'_account_id': 12356}]","[{'number': 1, 'created': '2015-01-19 11:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35854347c68e30258c5a53c76d173d84af8622dd', 'message': ""Force glance recheck for kernel/ramdisk on rebuild\n\nWhen doing a rebuild, clear the instance_info's kernel\nand ramdisk values, to force the deploy driver to check\nglance. This is necessary as those values may have changed\nwithout us knowing.\n\ncloses-bug: #1401501\n(cherry picked from commit 2e06859425ca79fac054b577b54906e4f0f39b12)\n\nConflicts:\n\tironic/conductor/manager.py\n\nChange-Id: I8d7831789d21d3a2dcafd614989cf1e53dbedd70\n""}, {'number': 2, 'created': '2015-01-20 11:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3e9a6c2bf083f9ea4badde553a6a83415673fad', 'message': ""Force glance recheck for kernel/ramdisk on rebuild\n\nWhen doing a rebuild, clear the instance_info's kernel\nand ramdisk values, to force the deploy driver to check\nglance. This is necessary as those values may have changed\nwithout us knowing.\n\ncloses-bug: #1401501\n(cherry picked from commit 2e06859425ca79fac054b577b54906e4f0f39b12)\n\nConflicts:\n\tironic/conductor/manager.py\n\nChange-Id: I8d7831789d21d3a2dcafd614989cf1e53dbedd70\n""}, {'number': 3, 'created': '2015-01-21 15:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/714df9176f0e45282f98da27e9c6290861499655', 'message': ""Force glance recheck for kernel/ramdisk on rebuild\n\nWhen doing a rebuild, clear the instance_info's kernel\nand ramdisk values, to force the deploy driver to check\nglance. This is necessary as those values may have changed\nwithout us knowing.\n\ncloses-bug: #1401501\n(cherry picked from commit 2e06859425ca79fac054b577b54906e4f0f39b12)\n\nConflicts:\n\tironic/conductor/manager.py\n\nChange-Id: I8d7831789d21d3a2dcafd614989cf1e53dbedd70\n""}, {'number': 4, 'created': '2015-01-21 16:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b91e301684025574df95b29e046f9f886ed8d22f', 'message': ""Force glance recheck for kernel/ramdisk on rebuild\n\nWhen doing a rebuild, clear the instance_info's kernel\nand ramdisk values, to force the deploy driver to check\nglance. This is necessary as those values may have changed\nwithout us knowing.\n\ncloses-bug: #1401501\n(cherry picked from commit 2e06859425ca79fac054b577b54906e4f0f39b12)\n\nConflicts:\n\tironic/conductor/manager.py\n\nChange-Id: I8d7831789d21d3a2dcafd614989cf1e53dbedd70\n""}, {'number': 5, 'created': '2015-01-22 15:33:32.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6681513fe247cd8c458f234b8514e2af25d8b0ff', 'message': ""Force glance recheck for kernel/ramdisk on rebuild\n\nWhen doing a rebuild, clear the instance_info's kernel\nand ramdisk values, to force the deploy driver to check\nglance. This is necessary as those values may have changed\nwithout us knowing.\n\ncloses-bug: #1401501\n(cherry picked from commit 2e06859425ca79fac054b577b54906e4f0f39b12)\n(includes bugfix and test for that commit, added in\n  0556b5852c0a685e47862d945e35a4772c8ed267)\n\nConflicts:\n\tironic/conductor/manager.py\n\nChange-Id: I8d7831789d21d3a2dcafd614989cf1e53dbedd70\n""}]",6,148219,6681513fe247cd8c458f234b8514e2af25d8b0ff,43,12,5,9420,,,0,"Force glance recheck for kernel/ramdisk on rebuild

When doing a rebuild, clear the instance_info's kernel
and ramdisk values, to force the deploy driver to check
glance. This is necessary as those values may have changed
without us knowing.

closes-bug: #1401501
(cherry picked from commit 2e06859425ca79fac054b577b54906e4f0f39b12)
(includes bugfix and test for that commit, added in
  0556b5852c0a685e47862d945e35a4772c8ed267)

Conflicts:
	ironic/conductor/manager.py

Change-Id: I8d7831789d21d3a2dcafd614989cf1e53dbedd70
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/148219/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,35854347c68e30258c5a53c76d173d84af8622dd,148219," if rebuild: event = 'rebuild' # Note(gilliard) Clear these to force the driver to # check whether they have been changed in glance node.instance_info.pop('kernel', None) node.instance_info.pop('ramdisk', None) node.save() else: event = 'deploy' ",,13,0
openstack%2Fheat-templates~master~Ic7ad9ff7645c97133f4f69df839c9a2d33098476,openstack/heat-templates,master,Ic7ad9ff7645c97133f4f69df839c9a2d33098476,Install generic latest puppet release repository,MERGED,2015-01-13 14:06:19.000000000,2015-01-26 03:33:29.000000000,2015-01-26 03:33:28.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 10787}]","[{'number': 1, 'created': '2015-01-13 14:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/ef91b83ed1de219c476325583c5af049e75699b4', 'message': 'Use puppet-release -11 or puppet would not install\n\nWe need -11 release for puppet-release or it would not be able to pull\nup the right ruby version and fail installing openshift.\n\nChange-Id: Ic7ad9ff7645c97133f4f69df839c9a2d33098476\n'}, {'number': 2, 'created': '2015-01-13 14:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/06b277d1a2830ce10bdaf8b87c0ad77e206960f1', 'message': 'Install generic latest puppet release repository\n\nWe nee the latest version of puppet-release or it would not be able to\npull\nup the right ruby version and fail installing openshift.\n\nChange-Id: Ic7ad9ff7645c97133f4f69df839c9a2d33098476\n'}, {'number': 3, 'created': '2015-01-19 12:55:31.000000000', 'files': ['openshift-origin/centos65/OpenShift.yaml', 'openshift-origin/centos65/OpenShift-1B1N.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/2b5f08c3eade92b9054f6e9206be30667974a665', 'message': 'Install generic latest puppet release repository\n\nWe need the latest version of puppet-release or we would not be \nable to pull up the right ruby version to install OpenShift.\n\nChange-Id: Ic7ad9ff7645c97133f4f69df839c9a2d33098476\n'}]",0,146873,2b5f08c3eade92b9054f6e9206be30667974a665,11,4,3,866,,,0,"Install generic latest puppet release repository

We need the latest version of puppet-release or we would not be 
able to pull up the right ruby version to install OpenShift.

Change-Id: Ic7ad9ff7645c97133f4f69df839c9a2d33098476
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/73/146873/1 && git format-patch -1 --stdout FETCH_HEAD,"['openshift-origin/centos65/OpenShift.yaml', 'openshift-origin/centos65/OpenShift-1B1N.yaml']",2,ef91b83ed1de219c476325583c5af049e75699b4,puppet-release-6-11, yum -y install https://yum.puppetlabs.com/el/6/products/x86_64/puppetlabs-release-6-11.noarch.rpm yum -y install https://yum.puppetlabs.com/el/6/products/x86_64/puppetlabs-release-6-11.noarch.rpm, yum -y install https://yum.puppetlabs.com/el/6/products/x86_64/puppetlabs-release-6-10.noarch.rpm yum -y install https://yum.puppetlabs.com/el/6/products/x86_64/puppetlabs-release-6-10.noarch.rpm,3,3
openstack%2Fnova~master~Ia2203516cd7ef8fb5443dc8a78c310e255f660d7,openstack/nova,master,Ia2203516cd7ef8fb5443dc8a78c310e255f660d7,Use controller methods in test_floating_ips,MERGED,2014-12-25 02:36:13.000000000,2015-01-26 03:28:33.000000000,2015-01-26 03:28:30.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-25 02:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dc6d7df01b5780f6d84aeb8d738cb1240bc87c1', 'message': ""Use controller methods in test_floating_ips\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_floating_ips.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Ia2203516cd7ef8fb5443dc8a78c310e255f660d7\n""}, {'number': 2, 'created': '2015-01-06 01:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3ec8f46fac2067885612fbbfd31c5790f3af60e', 'message': ""Use controller methods in test_floating_ips\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_floating_ips.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Ia2203516cd7ef8fb5443dc8a78c310e255f660d7\n""}, {'number': 3, 'created': '2015-01-21 03:46:18.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27831421c6f6c781cef9600d0c0499886b905444', 'message': ""Use controller methods in test_floating_ips\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_floating_ips.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Ia2203516cd7ef8fb5443dc8a78c310e255f660d7\n""}]",2,143920,27831421c6f6c781cef9600d0c0499886b905444,38,10,3,8556,,,0,"Use controller methods in test_floating_ips

In API unit testing, making call through WSGI is little bit overhead,
wherever applicable, unit tests can make direct call to controller
methods.
Also URL given in controller method's request is not used
(for direct call to controller methods), so pass blank URL
to avoid confusion as tests are shared between V2 & V2.1

This patch makes above cleanup in test_floating_ips.

Partially implements blueprint v2-on-v3-api

Change-Id: Ia2203516cd7ef8fb5443dc8a78c310e255f660d7
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/143920/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py'],1,1dc6d7df01b5780f6d84aeb8d738cb1240bc87c1,bp/v2-on-v3-api," req = fakes.HTTPRequest.blank('') req = fakes.HTTPRequest.blank('') self.fake_req = fakes.HTTPRequest.blank('') self.controller.delete(self.fake_req, 1) self.controller.delete, self.fake_req, 1) res_dict = self.controller.index(self.fake_req) ex = self.assertRaises(webob.exc.HTTPNotFound, self.controller.delete, self.fake_req, '9876') self.assertIn(""Floating ip not found for id 9876"", ex.explanation) res = self.controller.delete(self.fake_req, '9876') # NOTE: on v2.1, http status code is set as wsgi_code of API # method instead of status_int in a response object. if isinstance(self.controller, fips_v21.FloatingIPController): status_int = self.controller.delete.wsgi_code else: status_int = res.status_int self.assertEqual(status_int, 202) res_dict = self.controller.show(self.fake_req, 1) ex = self.assertRaises(webob.exc.HTTPNotFound, self.controller.show, self.fake_req, '9876') self.assertIn(""Floating ip not found for id 9876"", ex.explanation) res_dict = self.controller.show(self.fake_req, 1) self.controller.create, self.fake_req) self.controller.create, self.fake_req, {'pool': 'non_existent_pool'}) self.controller.create, self.fake_req) self.controller.create, self.fake_req, {'pool': 'non_existent_pool'}) self.controller.create, self.fake_req, {'pool': 'non_existent_pool'}) res_dict = self.controller.create(self.fake_req) self.controller.delete(self.fake_req, 1) rsp = self.manager._add_floating_ip(self.fake_req, 'test_inst', body) self.manager._add_floating_ip, self.fake_req, 'test_inst', body) ex = self.assertRaises(webob.exc.HTTPNotFound, self.manager._add_floating_ip, self.fake_req, 'test_inst', body) self.assertIn(""floating ip not found"", ex.explanation) self.manager._add_floating_ip, self.fake_req, 'test_inst', body) rsp = self.manager._remove_floating_ip(self.fake_req, 'test_inst', body) self.fake_req, 'test_inst', body) self.fake_req, 'test_inst', body) self.fake_req, 'test_inst', body) self.fake_req, wrong_uuid, body) self.fake_req, 'test_inst', body) self.fake_req, 'test_inst', body) self.fake_req, 'test_inst', body) self.manager._remove_floating_ip, self.fake_req, 'test_inst', body) self.manager._remove_floating_ip, self.fake_req, 'test_inst', body) self.manager._add_floating_ip, self.fake_req, 'test_inst', body) rsp = self.manager._add_floating_ip(self.fake_req, 'test_inst', body) self.fake_req = fakes.HTTPRequest.blank('') rsp = self.manager._add_floating_ip(self.fake_req, 'test_inst', body) ex = self.assertRaises(webob.exc.HTTPBadRequest, self.manager._add_floating_ip, self.fake_req, 'test_inst', body) self.assertIn(""Specified fixed address not assigned to instance"", ex.explanation)","from oslo.serialization import jsonutils req = fakes.HTTPRequest.blank('/v2/fake/os-floating-ips/1') req = fakes.HTTPRequest.blank('/v2/fake/os-floating-ips/1') url = '/v2/fake/servers/test_inst/action' def _get_fake_fip_request(self, act=''): return fakes.HTTPRequest.blank('/v2/fake/os-floating-ips/%s' % act) def _get_fake_server_request(self): return fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') def _get_fake_app(self): return fakes.wsgi_app_v21(init_only=('servers', 'os-floating-ips')) self.app = self._get_fake_app() req = self._get_fake_fip_request('1') self.controller.delete(req, 1) req = self._get_fake_fip_request('1') self.controller.delete, req, 1) req = self._get_fake_fip_request() res_dict = self.controller.index(req) req = self._get_fake_fip_request('9876') req.method = 'DELETE' res = req.get_response(self.app) self.assertEqual(res.status_int, 404) expected_msg = ('{""itemNotFound"": {""message"": ""Floating ip not found ' 'for id 9876"", ""code"": 404}}') self.assertEqual(res.body, expected_msg) req = self._get_fake_fip_request('1') req.method = 'DELETE' res = req.get_response(self.app) self.assertEqual(res.status_int, 202) req = self._get_fake_fip_request('1') res_dict = self.controller.show(req, 1) req = self._get_fake_fip_request('9876') res = req.get_response(self.app) self.assertEqual(res.status_int, 404) expected_msg = ('{""itemNotFound"": {""message"": ""Floating ip not found ' 'for id 9876"", ""code"": 404}}') self.assertEqual(res.body, expected_msg) req = self._get_fake_fip_request('1') res_dict = self.controller.show(req, 1) req = self._get_fake_fip_request() self.controller.create, req) req = self._get_fake_fip_request() self.controller.create, req, {'pool': 'non_existent_pool'}) req = self._get_fake_fip_request() self.controller.create, req) req = self._get_fake_fip_request() self.controller.create, req, {'pool': 'non_existent_pool'}) req = self._get_fake_fip_request() self.controller.create, req, {'pool': 'non_existent_pool'}) req = self._get_fake_fip_request() res_dict = self.controller.create(req) req = self._get_fake_fip_request('1') self.controller.delete(req, 1) req = self._get_fake_server_request() rsp = self.manager._add_floating_ip(req, 'test_inst', body) req = self._get_fake_server_request() self.manager._add_floating_ip, req, 'test_inst', body) req = webob.Request.blank(self.url) req.method = ""POST"" req.body = jsonutils.dumps(body) req.headers[""content-type""] = ""application/json"" resp = req.get_response(self.app) res_dict = jsonutils.loads(resp.body) self.assertEqual(resp.status_int, 404) self.assertEqual(res_dict['itemNotFound']['message'], ""floating ip not found"") req = self._get_fake_server_request() self.manager._add_floating_ip, req, 'test_inst', body) req = self._get_fake_server_request() rsp = self.manager._remove_floating_ip(req, 'test_inst', body) req = self._get_fake_server_request() req, 'test_inst', body) req = self._get_fake_server_request() req, 'test_inst', body) req = self._get_fake_server_request() req, 'test_inst', body) req = self._get_fake_server_request() req, wrong_uuid, body) req = self._get_fake_server_request() req, 'test_inst', body) req = self._get_fake_server_request() req, 'test_inst', body) req = self._get_fake_server_request() req, 'test_inst', body) req = self._get_fake_server_request() self.manager._remove_floating_ip, req, 'test_inst', body) req = self._get_fake_server_request() self.manager._remove_floating_ip, req, 'test_inst', body) req = self._get_fake_server_request() self.manager._add_floating_ip, req, 'test_inst', body) def _get_fake_app(self): return fakes.wsgi_app(init_only=('servers', 'os-floating-ips')) def setUp(self): super(FloatingIpTestV2, self).setUp() self.flags( osapi_compute_extension=[ 'nova.api.openstack.compute.contrib.select_extensions'], osapi_compute_ext_list=['Floating_ips']) req = self._get_fake_server_request() rsp = self.manager._add_floating_ip(req, 'test_inst', body) def _get_fake_request(self): return fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') def _get_fake_app(self): return fakes.wsgi_app_v21(init_only=('servers', 'os-floating-ips')) self.app = self._get_fake_app() req = self._get_fake_request() rsp = self.manager._add_floating_ip(req, 'test_inst', body) req = self._get_fake_request() req.method = ""POST"" req.body = jsonutils.dumps(body) req.headers[""content-type""] = ""application/json"" resp = req.get_response(self.app) res_dict = jsonutils.loads(resp.body) self.assertEqual(resp.status_int, 400) self.assertEqual(res_dict['badRequest']['message'], ""Specified fixed address not assigned to instance"") def _get_fake_app(self): return fakes.wsgi_app(init_only=('servers', 'os-floating-ips')) def setUp(self): super(ExtendedFloatingIpTestV2, self).setUp() self.flags( osapi_compute_extension=[ 'nova.api.openstack.compute.contrib.select_extensions'], osapi_compute_ext_list=['Floating_ips', 'Extended_floating_ips']) ",67,137
openstack%2Fnova~master~Icf9b2661dc81e48b069e7a74c77ff3d26f3b5b0b,openstack/nova,master,Icf9b2661dc81e48b069e7a74c77ff3d26f3b5b0b,Remove redundant catch for InstanceNotFound,MERGED,2015-01-22 03:39:55.000000000,2015-01-26 03:28:12.000000000,2015-01-26 03:28:10.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9820}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-22 03:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5466f02402d3cd650eba3868c74d7ee6114369ce', 'message': ""Remove redundant catch for InstanceNotFound\n\nException class 'InstanceNotFound' has already been caught\n\nChange-Id: Icf9b2661dc81e48b069e7a74c77ff3d26f3b5b0b\n""}, {'number': 2, 'created': '2015-01-22 11:25:09.000000000', 'files': ['nova/api/openstack/compute/contrib/consoles.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4fd9ab4f221f3978bfa713ec904e261b5978ef29', 'message': ""Remove redundant catch for InstanceNotFound\n\nException class 'InstanceNotFound' has already been caught\n\nChange-Id: Icf9b2661dc81e48b069e7a74c77ff3d26f3b5b0b\n""}]",0,149130,4fd9ab4f221f3978bfa713ec904e261b5978ef29,22,13,2,5638,,,0,"Remove redundant catch for InstanceNotFound

Exception class 'InstanceNotFound' has already been caught

Change-Id: Icf9b2661dc81e48b069e7a74c77ff3d26f3b5b0b
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/149130/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/consoles.py'],1,5466f02402d3cd650eba3868c74d7ee6114369ce,,, except exception.InstanceNotFound as e: raise webob.exc.HTTPNotFound(explanation=e.format_message()),0,2
openstack%2Fcinder~master~Ia7c05dd06f937353b48d04b2f7182ecab2290f21,openstack/cinder,master,Ia7c05dd06f937353b48d04b2f7182ecab2290f21,Fix deprecation warnings from TaskFlow 0.6,ABANDONED,2015-01-22 11:30:15.000000000,2015-01-26 02:44:15.000000000,,"[{'_account_id': 3}, {'_account_id': 1773}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11600}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 13636}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-22 11:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6710f096737ef7c5dac83cc8c22bc9b1f4504d6', 'message': 'Fix deprecation warnings from TaskFlow 0.6\n\nStarting from taskflow 0.6 taskflow.listeners.base.ListenerBase and\ntaskflow.utils.misc.Failure are considered deprecated and had moved\nto taskflow.listeners.base.Listener and taskflow.types.failure.Failure.\nThis commit replaces the usages to fix deprecation warnings.\n\nCloses-Bug: 1413558\nChange-Id: Ia7c05dd06f937353b48d04b2f7182ecab2290f21\n'}, {'number': 2, 'created': '2015-01-23 09:53:09.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/flows/api/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c57e1bd957bb5dff0d2a797225af9c3f294f1f65', 'message': 'Fix deprecation warnings from TaskFlow 0.6\n\nStarting from taskflow 0.6 taskflow.listeners.base.ListenerBase and\ntaskflow.utils.misc.Failure are considered deprecated and had moved\nto taskflow.listeners.base.Listener and taskflow.types.failure.Failure.\nThis commit replaces the usages to fix deprecation warnings.\n\nCloses-Bug: 1413558\nChange-Id: Ia7c05dd06f937353b48d04b2f7182ecab2290f21\n'}]",0,149217,c57e1bd957bb5dff0d2a797225af9c3f294f1f65,32,18,2,11600,,,0,"Fix deprecation warnings from TaskFlow 0.6

Starting from taskflow 0.6 taskflow.listeners.base.ListenerBase and
taskflow.utils.misc.Failure are considered deprecated and had moved
to taskflow.listeners.base.Listener and taskflow.types.failure.Failure.
This commit replaces the usages to fix deprecation warnings.

Closes-Bug: 1413558
Change-Id: Ia7c05dd06f937353b48d04b2f7182ecab2290f21
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/149217/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/flow_utils.py']",3,c6710f096737ef7c5dac83cc8c22bc9b1f4504d6,bug/1413558,"from taskflow.listeners import base as listenerfrom taskflow.types import failureclass DynamicLogListener(listener.Listener): if 'result' in details and state in listener.FINISH_STATES: if isinstance(result, failure.Failure):","from taskflow.listeners import base as base_listenerclass DynamicLogListener(base_listener.ListenerBase): if 'result' in details and state in base_listener.FINISH_STATES: if isinstance(result, misc.Failure):",15,14
openstack%2Fheat~master~Ic292ac938edd81f58eaefc07958b5b56e33d1506,openstack/heat,master,Ic292ac938edd81f58eaefc07958b5b56e33d1506,Register sahara client specific config opts,MERGED,2015-01-08 16:19:36.000000000,2015-01-26 02:27:22.000000000,2015-01-26 02:27:21.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-08 16:19:36.000000000', 'files': ['heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/64c17c863d23ed56900c17dc65814984774138c5', 'message': 'Register sahara client specific config opts\n\nChange-Id: Ic292ac938edd81f58eaefc07958b5b56e33d1506\n'}]",0,145823,64c17c863d23ed56900c17dc65814984774138c5,14,3,1,6786,,,0,"Register sahara client specific config opts

Change-Id: Ic292ac938edd81f58eaefc07958b5b56e33d1506
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/145823/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/config.py'],1,64c17c863d23ed56900c17dc65814984774138c5,," 'ceilometer', 'keystone', 'heat', 'glance', 'trove', 'sahara'):"," 'ceilometer', 'keystone', 'heat', 'glance', 'trove'):",2,1
openstack%2Fswift~master~Iea2cacc180d995bca61e18a4fa5413500a59f075,openstack/swift,master,Iea2cacc180d995bca61e18a4fa5413500a59f075,Fix container deletion synchronizing with non_zero SP,ABANDONED,2015-01-23 03:53:49.000000000,2015-01-26 02:26:35.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 5189}, {'_account_id': 7479}]","[{'number': 1, 'created': '2015-01-23 03:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b6eb9c639042d67ae757ff220dd7a11d7074346', 'message': 'Fix container deletion synchronizing with non_zero SP\n\nCurrently object deletion synchronizing was done via a DELETE request\nin SimpleClient. If the container was using a non_zero storage policy,\nobject-server would not find the objects to be deleted since the storage\npolicy index value in the request header was set to 0 defaultly. This\nresults the remote objects still exits after synchronizing done.\n\nThis patch sets the correct header of the DELETE request with right\nstorage policy index, so the remote object-server would delete the\nobjects.\n\nObject putting synchronizing was already fixed in:\n6da9799917b632675ee69fe315bacfdb4c7c926a\n\nChange-Id: Iea2cacc180d995bca61e18a4fa5413500a59f075\nSigned-off-by: Yuan Zhou <yuan.zhou@intel.com>\n'}, {'number': 2, 'created': '2015-01-23 04:01:06.000000000', 'files': ['swift/container/sync.py', 'test/unit/container/test_sync.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aa6a05f012d6adb7a8989366b5e9e44dd6d0259e', 'message': 'Fix container deletion synchronizing with non_zero SP\n\nCurrently object deletion synchronizing was done via a DELETE request\nin SimpleClient. If the container was using a non_zero storage policy,\nobject-server would not find the objects to be deleted since the storage\npolicy index value in the request header was set to 0 defaultly. This\nresults the remote objects still exits after synchronizing done.\n\nThis patch sets the correct header of the DELETE request with right\nstorage policy index, so the remote object-server would delete the\nobjects.\n\nObject putting synchronizing was already fixed in:\n6da9799917b632675ee69fe315bacfdb4c7c926a\n\nChange-Id: Iea2cacc180d995bca61e18a4fa5413500a59f075\nSigned-off-by: Yuan Zhou <yuan.zhou@intel.com>\n'}]",0,149469,aa6a05f012d6adb7a8989366b5e9e44dd6d0259e,5,4,2,5189,,,0,"Fix container deletion synchronizing with non_zero SP

Currently object deletion synchronizing was done via a DELETE request
in SimpleClient. If the container was using a non_zero storage policy,
object-server would not find the objects to be deleted since the storage
policy index value in the request header was set to 0 defaultly. This
results the remote objects still exits after synchronizing done.

This patch sets the correct header of the DELETE request with right
storage policy index, so the remote object-server would delete the
objects.

Object putting synchronizing was already fixed in:
6da9799917b632675ee69fe315bacfdb4c7c926a

Change-Id: Iea2cacc180d995bca61e18a4fa5413500a59f075
Signed-off-by: Yuan Zhou <yuan.zhou@intel.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/69/149469/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/sync.py', 'test/unit/container/test_sync.py']",2,7b6eb9c639042d67ae757ff220dd7a11d7074346,consync_sp," 'x-timestamp': '1.2', 'x-backend-storage-policy-index': 0}) {'x-container-sync-key': 'key', 'x-timestamp': '1.2', 'x-backend-storage-policy-index': 0}) def fake_delete_object(path, name=None, headers=None, proxy=None, logger=None): self.assertEquals(path, 'http://sync/to/path') self.assertEquals(name, 'object') if realm: self.assertEquals(headers, { 'x-container-sync-auth': 'US abcdef 90e95aabb45a6cdc0892a3db5535e7f918428c90', 'x-timestamp': '1.2', 'x-backend-storage-policy-index': 1}) else: self.assertEquals( headers, {'x-container-sync-key': 'key', 'x-timestamp': '1.2', 'x-backend-storage-policy-index': 1}) self.assertEquals(proxy, 'http://proxy') self.assertEqual(logger, fake_logger) sync.delete_object = fake_delete_object cs = sync.ContainerSync({}, container_ring=FakeRing()) cs.logger = fake_logger cs.http_proxies = ['http://proxy'] # Success self.assertTrue(cs.container_sync_row( {'deleted': True, 'name': 'object', 'created_at': '1.2'}, 'http://sync/to/path', 'key', FakeContainerBroker('broker'), # On a container with non_zero storage policy {'account': 'a', 'container': 'c', 'storage_policy_index': 1}, realm, realm_key)) self.assertEquals(cs.container_deletes, 1) "," 'x-timestamp': '1.2'}) {'x-container-sync-key': 'key', 'x-timestamp': '1.2'})",40,3
openstack%2Fnova~stable%2Ficehouse~I6a29c6b239af0d1675bc028e1d0a07c5335e1d87,openstack/nova,stable/icehouse,I6a29c6b239af0d1675bc028e1d0a07c5335e1d87,"Update ""num_instance"" during delete instance",MERGED,2014-11-21 21:51:25.000000000,2015-01-26 01:31:55.000000000,2015-01-26 01:31:52.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 10118}, {'_account_id': 10300}]","[{'number': 1, 'created': '2014-11-21 21:51:25.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33be7d724b2d6125cd9a8144fa213fba0d5d1edb', 'message': 'Update ""num_instance"" during delete instance\n\nThe value of ""num_instance"" is not updated after deleting the\ninstance because update_usage() method of resource tracker where\n""num_instance"" gets updated is not called after deleting instance.\n\nCalled update_usage() method of resource tracker after instance\nis deleted from that host.\n\nIn this patch, I have copied required changes from commit\n174b784159183450335cb5572be5b8b892a80a4b and\n3085aa183d9602c3725ca699b7f1a92a4a4a5226.\n\nChange-Id: I6a29c6b239af0d1675bc028e1d0a07c5335e1d87\nCloses-Bug:1381303\n'}]",2,136495,33be7d724b2d6125cd9a8144fa213fba0d5d1edb,16,8,1,10300,,,0,"Update ""num_instance"" during delete instance

The value of ""num_instance"" is not updated after deleting the
instance because update_usage() method of resource tracker where
""num_instance"" gets updated is not called after deleting instance.

Called update_usage() method of resource tracker after instance
is deleted from that host.

In this patch, I have copied required changes from commit
174b784159183450335cb5572be5b8b892a80a4b and
3085aa183d9602c3725ca699b7f1a92a4a4a5226.

Change-Id: I6a29c6b239af0d1675bc028e1d0a07c5335e1d87
Closes-Bug:1381303
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/136495/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,33be7d724b2d6125cd9a8144fa213fba0d5d1edb,bug/1381303," def _update_resource_tracker(self, context, instance): """"""Let resource tracker know that instance has changed state."""""" if (instance['host'] == self.host and self.driver.node_is_available(instance['node'])): rt = self._get_resource_tracker(instance.get('node')) rt.update_usage(context, instance) self._update_resource_tracker(context, instance_ref) self._update_resource_tracker(context, instance)"," if (instance_ref['host'] == self.host and self.driver.node_is_available(instance_ref['node'])): rt = self._get_resource_tracker(instance_ref.get('node')) rt.update_usage(context, instance_ref)",10,4
openstack%2Fnova~stable%2Ficehouse~I5cf5df1ecea3a0db1a7503c0689acbb3bc8ffd58,openstack/nova,stable/icehouse,I5cf5df1ecea3a0db1a7503c0689acbb3bc8ffd58,Updated from global requirements,MERGED,2015-01-21 08:12:08.000000000,2015-01-26 01:30:55.000000000,2015-01-26 01:30:52.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2015-01-21 08:12:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c15a9e61f09fe0d5bc681b69e68b3378a2daa4', 'message': 'Updated from global requirements\n\nChange-Id: I5cf5df1ecea3a0db1a7503c0689acbb3bc8ffd58\n'}]",0,148832,b5c15a9e61f09fe0d5bc681b69e68b3378a2daa4,9,5,1,11131,,,0,"Updated from global requirements

Change-Id: I5cf5df1ecea3a0db1a7503c0689acbb3bc8ffd58
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/148832/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b5c15a9e61f09fe0d5bc681b69e68b3378a2daa4,openstack/requirements,"pycadf>=0.4.1,<0.7.0",pycadf>=0.4.1,1,1
openstack%2Fnova~stable%2Fjuno~Id56d6564cfb15cc479e664020ae6f1c82acacb09,openstack/nova,stable/juno,Id56d6564cfb15cc479e664020ae6f1c82acacb09,libvirt: safe_decode domain.XMLDesc(0) for i18n logging,MERGED,2014-12-15 18:55:19.000000000,2015-01-26 01:30:33.000000000,2015-01-26 01:30:30.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9550}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-12-15 18:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf92e797b8f494b0e4c437c67629732725b054f8', 'message': 'libvirt: safe_decode domain.XMLDesc(0) for i18n logging\n\ndomain.XMLDesc(0) can return a utf-8 encoded string which will cause a\nUnicodeDecodeError when substituting the variable in the _LE unicode\ntranslated Message object in oslo.i18n.\n\nThis change simply decodes domain.XMLDesc(0) before passing it onto the\nlogging method when used with a translated message.\n\nChanges in original commit code is required because in stable/juno branch\nlibrary oslo.utils is not used, so original commit is changed to use\nutils from nova/openstack.common instead of oslo.utils library\n\nCloses-Bug: #1388386\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\tnova/virt/libvirt/driver.py\n\nChange-Id: Id56d6564cfb15cc479e664020ae6f1c82acacb09\n'}, {'number': 2, 'created': '2014-12-18 11:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0af659c214b99fb03b5e19c60ac83c12e12befd', 'message': 'libvirt: safe_decode domain.XMLDesc(0) for i18n logging\n\ndomain.XMLDesc(0) can return a utf-8 encoded string which will cause a\nUnicodeDecodeError when substituting the variable in the _LE unicode\ntranslated Message object in oslo.i18n.\n\nThis change simply decodes domain.XMLDesc(0) before passing it onto the\nlogging method when used with a translated message.\n\nChanges in original commit code is required because in stable/juno branch\nlibrary oslo.utils is not used, so original commit is changed to use\nutils from nova/openstack.common instead of oslo.utils library\n\nCloses-Bug: #1388386\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\tnova/virt/libvirt/driver.py\n\nChange-Id: Id56d6564cfb15cc479e664020ae6f1c82acacb09\n'}, {'number': 3, 'created': '2014-12-24 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9010bb9267f3db08d12f9dde5de2b58b549d34e', 'message': 'libvirt: safe_decode domain.XMLDesc(0) for i18n logging\n\ndomain.XMLDesc(0) can return a utf-8 encoded string which will cause a\nUnicodeDecodeError when substituting the variable in the _LE unicode\ntranslated Message object in oslo.i18n.\n\nThis change simply decodes domain.XMLDesc(0) before passing it onto the\nlogging method when used with a translated message.\n\nChanges in original commit code is required because in stable/juno branch\nlibrary oslo.utils is not used, so original commit is changed to use\nutils from nova/openstack.common instead of oslo.utils library\n\nCloses-Bug: #1388386\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\tnova/virt/libvirt/driver.py\n\nChange-Id: Id56d6564cfb15cc479e664020ae6f1c82acacb09\n(cherry picked from commit e7c5896fa5db657750a361c44105624de0859d43)'}, {'number': 4, 'created': '2014-12-24 12:18:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb58ed4f9a1c3a3e228cb7183d2dd8c1d74fd0c2', 'message': 'libvirt: safe_decode domain.XMLDesc(0) for i18n logging\n\ndomain.XMLDesc(0) can return a utf-8 encoded string which will cause a\nUnicodeDecodeError when substituting the variable in the _LE unicode\ntranslated Message object in oslo.i18n.\n\nThis change simply decodes domain.XMLDesc(0) before passing it onto the\nlogging method when used with a translated message.\n\nChanges in original commit code is required because in stable/juno branch\nlibrary oslo.utils is not used, so original commit is changed to use\nutils from nova/openstack/common instead of oslo.utils library\n\nCloses-Bug: #1388386\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\tnova/virt/libvirt/driver.py\n\nChange-Id: Id56d6564cfb15cc479e664020ae6f1c82acacb09\n(cherry picked from commit e7c5896fa5db657750a361c44105624de0859d43)'}]",4,141877,eb58ed4f9a1c3a3e228cb7183d2dd8c1d74fd0c2,27,7,4,9550,,,0,"libvirt: safe_decode domain.XMLDesc(0) for i18n logging

domain.XMLDesc(0) can return a utf-8 encoded string which will cause a
UnicodeDecodeError when substituting the variable in the _LE unicode
translated Message object in oslo.i18n.

This change simply decodes domain.XMLDesc(0) before passing it onto the
logging method when used with a translated message.

Changes in original commit code is required because in stable/juno branch
library oslo.utils is not used, so original commit is changed to use
utils from nova/openstack/common instead of oslo.utils library

Closes-Bug: #1388386

Conflicts:
	nova/tests/virt/libvirt/test_driver.py
	nova/virt/libvirt/driver.py

Change-Id: Id56d6564cfb15cc479e664020ae6f1c82acacb09
(cherry picked from commit e7c5896fa5db657750a361c44105624de0859d43)",git fetch https://review.opendev.org/openstack/nova refs/changes/77/141877/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,cf92e797b8f494b0e4c437c67629732725b054f8,juno,"from nova.openstack.common import strutils @mock.patch.object(strutils, 'safe_decode') def test_create_domain(self, mock_safe_decode, mock_get_inst_path): self.assertEqual(2, mock_safe_decode.call_count)"," def test_create_domain(self, mock_get_inst_path):",9,3
openstack%2Fnova~stable%2Fjuno~Ib8c9b85e84800c9e2ddcdf204851f1b51101926c,openstack/nova,stable/juno,Ib8c9b85e84800c9e2ddcdf204851f1b51101926c,Don't make a no-op DB call,MERGED,2014-11-15 23:52:46.000000000,2015-01-26 01:29:09.000000000,2015-01-26 01:29:06.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 979}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8574}, {'_account_id': 10118}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-11-15 23:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0f1813dd282e898b245497cde06c806a3f480b6', 'message': 'Don\'t make a no-op DB call\n\ndrivers_uuid can be empty, but we are still doing a DB call. This is causing\na sqlalchemy SAWarning.\n\nSAWarning: The IN-predicate on ""instances.uuid"" was invoked with an\nempty sequence. This results in a contradiction, which nonetheless can\nbe expensive to evaluate.  Consider alternative strategies for improved\nperformance.\n\nConflicts:\n        nova/tests/unit/compute/test_compute_mgr.py\n\nChange-Id: Ib8c9b85e84800c9e2ddcdf204851f1b51101926c\nCloses-Bug: #1383617\n(cherry picked from commit 150428f76e6149abb21d5264142673bc4961ec75)\n'}, {'number': 2, 'created': '2014-11-16 00:13:36.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/699b46799fe408bab1f23c108c2e9887638ec5b0', 'message': 'Don\'t make a no-op DB call\n\ndrivers_uuid can be empty, but we are still doing a DB call. This is causing\na sqlalchemy SAWarning.\n\nSAWarning: The IN-predicate on ""instances.uuid"" was invoked with an\nempty sequence. This results in a contradiction, which nonetheless can\nbe expensive to evaluate.  Consider alternative strategies for improved\nperformance.\n\nConflicts:\n        nova/tests/unit/compute/test_compute_mgr.py\n\nChange-Id: Ib8c9b85e84800c9e2ddcdf204851f1b51101926c\nCloses-Bug: #1383617\n(cherry picked from commit 150428f76e6149abb21d5264142673bc4961ec75)\n'}]",0,134740,699b46799fe408bab1f23c108c2e9887638ec5b0,17,11,2,979,,,0,"Don't make a no-op DB call

drivers_uuid can be empty, but we are still doing a DB call. This is causing
a sqlalchemy SAWarning.

SAWarning: The IN-predicate on ""instances.uuid"" was invoked with an
empty sequence. This results in a contradiction, which nonetheless can
be expensive to evaluate.  Consider alternative strategies for improved
performance.

Conflicts:
        nova/tests/unit/compute/test_compute_mgr.py

Change-Id: Ib8c9b85e84800c9e2ddcdf204851f1b51101926c
Closes-Bug: #1383617
(cherry picked from commit 150428f76e6149abb21d5264142673bc4961ec75)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/134740/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,a0f1813dd282e898b245497cde06c806a3f480b6,," if len(driver_uuids) == 0: # Short circuit, don't waste a DB call return objects.InstanceList()",,3080,0
openstack%2Fnova~stable%2Fjuno~I5885806d1965022816633d0105606e7aaf763b3a,openstack/nova,stable/juno,I5885806d1965022816633d0105606e7aaf763b3a,Add virtual interface before add fixed IP on nova-network,MERGED,2014-12-17 13:40:54.000000000,2015-01-26 01:26:02.000000000,2015-01-26 01:25:59.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8213}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-12-17 13:40:54.000000000', 'files': ['nova/network/manager.py', 'nova/tests/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39097d36e447cdcf6fab2a28f356d381937f4a8b', 'message': ""Add virtual interface before add fixed IP on nova-network\n\nnova allow user to add fixed IP to an instance when the instance\nis running. This action will fail due to no virtual interface\nwill be created before create fixed ip.\nTypeError: 'NoneType' object is unsubscriptable will be reported.\n\n(cherry picked from commit e08ce4de920b68c84ac45be8a657a95113688780)\n\nConflicts:\n\tnova/tests/unit/network/test_manager.py (file was moved)\n\nChange-Id: I5885806d1965022816633d0105606e7aaf763b3a\nCloses-Bug: #1294939\n""}]",0,142444,39097d36e447cdcf6fab2a28f356d381937f4a8b,9,6,1,5803,,,0,"Add virtual interface before add fixed IP on nova-network

nova allow user to add fixed IP to an instance when the instance
is running. This action will fail due to no virtual interface
will be created before create fixed ip.
TypeError: 'NoneType' object is unsubscriptable will be reported.

(cherry picked from commit e08ce4de920b68c84ac45be8a657a95113688780)

Conflicts:
	nova/tests/unit/network/test_manager.py (file was moved)

Change-Id: I5885806d1965022816633d0105606e7aaf763b3a
Closes-Bug: #1294939
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/142444/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/manager.py', 'nova/tests/network/test_manager.py']",2,39097d36e447cdcf6fab2a28f356d381937f4a8b,bug/1294939," @mock.patch('nova.objects.instance.Instance.get_by_uuid') @mock.patch('nova.objects.virtual_interface.VirtualInterface' '.get_by_instance_and_network') @mock.patch('nova.objects.fixed_ip.FixedIP.disassociate') @mock.patch('nova.objects.fixed_ip.FixedIP.associate_pool') @mock.patch('nova.objects.fixed_ip.FixedIP.save') @mock.patch('nova.network.manager.NetworkManager._add_virtual_interface') def test_allocate_fixed_ip_create_new_vifs(self, mock_add, mock_fixedip_save, mock_fixedip_associate, mock_fixedip_disassociate, mock_vif_get, mock_instance_get): address = netaddr.IPAddress('1.2.3.4') fip = objects.FixedIP(instance_uuid='fake-uuid', address=address, virtual_interface_id=1) net = {'cidr': '24', 'id': 1, 'uuid': 'nosuch'} instance = objects.Instance(context=self.context) instance.create() vif = objects.VirtualInterface(context, id=1000, address='00:00:00:00:00:00', instance_uuid=instance.uuid, network_id=net['id'], uuid='nosuch') mock_fixedip_associate.return_value = fip mock_add.return_value = vif mock_instance_get.return_value = instance mock_vif_get.return_value = None with contextlib.nested( mock.patch.object(self.network, '_setup_network_on_host'), mock.patch.object(self.network, 'instance_dns_manager'), mock.patch.object(self.network, '_do_trigger_security_group_members_refresh_for_instance') ) as (mock_setup_network, mock_dns_manager, mock_ignored): self.network.allocate_fixed_ip(self.context, instance['uuid'], net) mock_add.assert_called_once_with(self.context, instance['uuid'], net['id']) self.assertEqual(fip.virtual_interface_id, vif.id) @mock.patch('nova.network.manager.VlanManager._setup_network_on_host') @mock.patch('nova.network.manager.VlanManager.' '_validate_instance_zone_for_dns_domain') @mock.patch('nova.network.manager.VlanManager.' '_do_trigger_security_group_members_refresh_for_instance') @mock.patch('nova.network.manager.VlanManager._add_virtual_interface') @mock.patch('nova.objects.instance.Instance.get_by_uuid') @mock.patch('nova.objects.fixed_ip.FixedIP.associate') @mock.patch('nova.objects.fixed_ip.FixedIP.save') @mock.patch('nova.objects.VirtualInterface.get_by_instance_and_network') def test_allocate_fixed_ip_return_none(self, mock_get, mock_save, mock_associate, mock_get_uuid, mock_add, mock_trigger, mock_validate, mock_setup): net = {'cidr': '24', 'id': 1, 'uuid': 'nosuch'} fip = objects.FixedIP(instance_uuid='fake-uuid', address=netaddr.IPAddress('1.2.3.4'), virtual_interface_id=1) instance = objects.Instance(context=self.context) instance.create() vif = objects.VirtualInterface(self.context, id=1000, address='00:00:00:00:00:00', instance_uuid=instance.uuid, network_id=net['id'], uuid='nosuch') mock_associate.return_value = fip mock_add.return_value = vif mock_get.return_value = None mock_get_uuid.return_value = instance mock_validate.return_value = False self.network.allocate_fixed_ip(self.context_admin, instance.uuid, net) mock_add.assert_called_once_with(self.context_admin, instance.uuid, net['id']) mock_save.assert_called_once_with() ",,101,0
openstack%2Fnova~stable%2Fjuno~Idbb9d2b53829dae0e807cd1260dee3dce155d5f3,openstack/nova,stable/juno,Idbb9d2b53829dae0e807cd1260dee3dce155d5f3,Update eventlet API in libvirt driver,MERGED,2015-01-08 22:46:37.000000000,2015-01-26 01:25:41.000000000,2015-01-26 01:25:38.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8213}, {'_account_id': 9107}, {'_account_id': 9656}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 14384}]","[{'number': 1, 'created': '2015-01-08 22:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40972bf48507e17b8068d0ffa90920c87cf57835', 'message': ""Update eventlet API in libvirt driver\n\nStop using the deprecated eventlet.util API: use\neventlet.patcher.original('socket') to access the original socket.socket\ntype.\n\nConflicts:\n        nova/virt/libvirt/host.py\n\nNOTE(mriedem): The conflict is due to the host module being\nnewly refactored out of the driver module in Kilo.\n\nChange-Id: Idbb9d2b53829dae0e807cd1260dee3dce155d5f3\nCloses-Bug: 1407685\n(cherry picked from commit 5793aff19033dd53cefa97fced64a4bf95ea0c72)\n""}, {'number': 2, 'created': '2015-01-09 14:35:34.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f81d9bb3458bca60bcc878e292bfecc3929fd8e', 'message': ""Update eventlet API in libvirt driver\n\nStop using the deprecated eventlet.util API: use\neventlet.patcher.original('socket') to access the original socket.socket\ntype.\n\nConflicts:\n        nova/virt/libvirt/host.py\n\nNOTE(mriedem): The conflict is due to the host module being\nnewly refactored out of the driver module in Kilo.\n\nChange-Id: Idbb9d2b53829dae0e807cd1260dee3dce155d5f3\nCloses-Bug: 1407685\n(cherry picked from commit 5793aff19033dd53cefa97fced64a4bf95ea0c72)\n""}]",4,145955,9f81d9bb3458bca60bcc878e292bfecc3929fd8e,31,12,2,6873,,,0,"Update eventlet API in libvirt driver

Stop using the deprecated eventlet.util API: use
eventlet.patcher.original('socket') to access the original socket.socket
type.

Conflicts:
        nova/virt/libvirt/host.py

NOTE(mriedem): The conflict is due to the host module being
newly refactored out of the driver module in Kilo.

Change-Id: Idbb9d2b53829dae0e807cd1260dee3dce155d5f3
Closes-Bug: 1407685
(cherry picked from commit 5793aff19033dd53cefa97fced64a4bf95ea0c72)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/145955/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,40972bf48507e17b8068d0ffa90920c87cf57835,bug/1407685,"native_socket = patcher.original('socket') sock = native_socket.socket(socket.AF_INET, socket.SOCK_STREAM) csock = native_socket.socket(socket.AF_INET, socket.SOCK_STREAM)"," sock = eventlet_util.__original_socket__(socket.AF_INET, socket.SOCK_STREAM) csock = eventlet_util.__original_socket__(socket.AF_INET, socket.SOCK_STREAM)",3,4
openstack%2Fcinder~master~I12d10b555269cf1da97c80b233412ebbc363bd42,openstack/cinder,master,I12d10b555269cf1da97c80b233412ebbc363bd42,Update tests for Quobyte Cinder drv from mox->mock.,MERGED,2015-01-22 08:23:20.000000000,2015-01-26 01:19:17.000000000,2015-01-25 17:10:56.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 13915}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-22 08:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c203668ee4303cb95d1b2944ae82e33ea874454', 'message': 'Update tests for Quobyte Cinder drv from mox->mock.\n\nRemoves mox framework from Quobyte Cinder Driver tests, replacing\nit by mock framework code.\n\nblueprint: qb-driver-mox2mock\n\nChange-Id: I12d10b555269cf1da97c80b233412ebbc363bd42\n'}, {'number': 2, 'created': '2015-01-22 08:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fef6a2d96fcccb221b45bc36eeaef3883ab1bc30', 'message': 'Update tests for Quobyte Cinder drv from mox->mock.\n\nRemoves mox framework from Quobyte Cinder Driver tests, replacing\nit by mock framework code.\n\nblueprint: qb-driver-mox2mock\n\nChange-Id: I12d10b555269cf1da97c80b233412ebbc363bd42\n'}, {'number': 3, 'created': '2015-01-22 09:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a14d4c29eccb372da0adcbc38a6f09071396e9f', 'message': 'Update tests for Quobyte Cinder drv from mox->mock.\n\nRemoves mox framework from Quobyte Cinder Driver tests, replacing\nit by mock framework code.\n\nblueprint: qb-driver-mox2mock\n\nChange-Id: I12d10b555269cf1da97c80b233412ebbc363bd42\n'}, {'number': 4, 'created': '2015-01-22 10:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb15a35c2942771f74c23d2872a4aad379dd73da', 'message': 'Update tests for Quobyte Cinder drv from mox->mock.\n\nRemoves mox framework from Quobyte Cinder Driver tests, replacing\nit by mock framework code.\n\nblueprint: qb-driver-mox2mock\n\nChange-Id: I12d10b555269cf1da97c80b233412ebbc363bd42\n'}, {'number': 5, 'created': '2015-01-23 08:13:51.000000000', 'files': ['cinder/tests/test_quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88e24a4be52a697c44572513b5926c9c735d5410', 'message': 'Update tests for Quobyte Cinder drv from mox->mock.\n\nRemoves mox framework from Quobyte Cinder Driver tests, replacing\nit by mock framework code.\n\nblueprint: qb-driver-mox2mock\n\nChange-Id: I12d10b555269cf1da97c80b233412ebbc363bd42\n'}]",2,149181,88e24a4be52a697c44572513b5926c9c735d5410,44,18,5,13915,,,0,"Update tests for Quobyte Cinder drv from mox->mock.

Removes mox framework from Quobyte Cinder Driver tests, replacing
it by mock framework code.

blueprint: qb-driver-mox2mock

Change-Id: I12d10b555269cf1da97c80b233412ebbc363bd42
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/149181/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/test_quobyte.py'],1,1c203668ee4303cb95d1b2944ae82e33ea874454,bp/qb-driver-mox2mock," self._configuration = mock.Mock(conf.Configuration) self._configuration.append_config_values(mock.ANY) drv._get_mount_point_for_share = mock.Mock(return_value=self. TEST_MNT_POINT) drv._execute = mock.Mock(return_value=(df_output, None)) # drv._execute('df', '--portability', '--block-size', '1', # self.TEST_MNT_POINT, # run_as_root= # self._driver._execute_as_root) (drv._get_mount_point_for_share. assert_called_once_with(self.TEST_QUOBYTE_VOLUME)) drv._execute.assert_called_once_with('df', '--portability', '--block-size', '1', self.TEST_MNT_POINT, run_as_root=self._driver._execute_as_root) drv.do_setup(mock.create_autospec(context.RequestContext)) drv._execute = mock.Mock(side_effect=OSError (errno.ENOENT, 'No such file or directory')) drv._execute.assert_called_once_with('mount.quobyte', check_exit_code=False, run_as_root=False) drv._execute = mock.Mock(side_effect=OSError (errno.EPERM, 'Operation not permitted')) drv._execute.assert_called_once_with('mount.quobyte', check_exit_code=False, run_as_root=False) drv._create_sparsed_file = mock.Mock() drv._set_rw_permissions_for_all = mock.Mock() drv._create_sparsed_file.assert_called_once_with(mock.ANY, mock.ANY) drv._set_rw_permissions_for_all.assert_called_once_with(mock.ANY) drv._create_regular_file = mock.Mock() drv._set_rw_permissions_for_all = mock.Mock() drv._create_regular_file.assert_called_once_with(mock.ANY, mock.ANY) drv._set_rw_permissions_for_all.assert_called_once_with(mock.ANY) drv = self._driver drv._execute = mock.Mock() assert_calls = [mock.call('qemu-img', 'create', '-f', 'qcow2', '-o', 'preallocation=metadata', path, str(volume['size'] * units.Gi), run_as_root=self._driver._execute_as_root), mock.call('chmod', 'ugo+rw', path, run_as_root=self._driver._execute_as_root)] drv._execute.assert_has_calls(assert_calls) drv.LOG = mock.Mock() drv._find_share = mock.Mock() drv._do_create_volume = mock.Mock() drv._ensure_shares_mounted = mock.Mock() drv._find_share.assert_called_once_with(mock.ANY) drv._do_create_volume.assert_called_once_with(volume) drv._ensure_shares_mounted.assert_called_once_with() drv.LOG = mock.Mock() drv._ensure_shares_mounted = mock.Mock() drv._do_create_volume = mock.Mock() drv._find_share = mock.Mock(return_value=self.TEST_QUOBYTE_VOLUME) drv._do_create_volume.assert_called_once_with(volume) drv._ensure_shares_mounted.assert_called_once_with() drv._find_share.assert_called_once_with(self.TEST_SIZE_IN_GB) drv = self._driver drv._create_snapshot = mock.Mock() drv._copy_volume_from_snapshot = mock.Mock() drv._delete_snapshot = mock.Mock() drv._create_snapshot.assert_called_once_with(snap_ref) drv._copy_volume_from_snapshot.assert_called_once_with(snap_ref, volume_ref, volume['size']) drv._delete_snapshot.assert_called_once_with(mock.ANY) mock_execute.assert_called_once_with('rm', '-f', volume_path, run_as_root= self._driver._execute_as_root) drv._execute = mock.Mock() drv._ensure_share_mounted = mock.Mock() (drv._ensure_share_mounted. assert_called_once_with(self.TEST_QUOBYTE_VOLUME)) drv._execute.assert_called_once_with('rm', '-f', mock.ANY, run_as_root=False) drv._ensure_share_mounted = mock.Mock() drv._execute = mock.Mock() assert not drv._ensure_share_mounted.called assert not drv._execute.called drv = self._driver drv.get_active_image_from_info = mock.Mock(return_value=volume['name']) image_utils.qemu_img_info = mock.Mock(return_value=img_info) image_utils.resize_image = mock.Mock() drv.get_active_image_from_info.assert_called_once_with(volume) image_utils.qemu_img_info.assert_called_once_with(volume_path) image_utils.resize_image.assert_called_once_with(volume_path, 3) drv = self._driver # lots of test vars to be prepared at first # mocking and testing starts here image_utils.convert_image = mock.Mock() drv._read_info_file = mock.Mock(return_value= {'active': snap_file, snapshot['id']: snap_file}) image_utils.qemu_img_info = mock.Mock(return_value=img_info) drv._set_rw_permissions_for_all = mock.Mock() drv._read_info_file.assert_called_once_with(info_path) image_utils.qemu_img_info.assert_called_once_with(snap_path) (image_utils.convert_image. assert_called_once_with(src_vol_path, dest_vol_path, 'raw', run_as_root=self._driver._execute_as_root)) drv._set_rw_permissions_for_all.assert_called_once_with(dest_vol_path) drv = self._driver drv._ensure_shares_mounted = mock.Mock() drv._find_share = mock.Mock(return_value=self.TEST_QUOBYTE_VOLUME) drv._do_create_volume = mock.Mock() drv._copy_volume_from_snapshot = mock.Mock() drv._ensure_shares_mounted.assert_called_once_with() drv._find_share.assert_called_once_with(new_volume['size']) drv._do_create_volume.assert_called_once_with(new_volume) (drv._copy_volume_from_snapshot. assert_called_once_with(snap_ref, new_volume, new_volume['size'])) drv = self._driver drv.get_active_image_from_info = mock.Mock(return_value=volume['name']) image_utils.qemu_img_info = mock.Mock(return_value=img_info) drv.get_active_image_from_info.assert_called_once_with(volume) image_utils.qemu_img_info.assert_called_once_with(vol_path)","import mox as mox_lib from mox import IgnoreArg from mox import IsA from mox import stubout self._mox = mox_lib.Mox() self._configuration = mox_lib.MockObject(conf.Configuration) self._configuration.append_config_values(mox_lib.IgnoreArg()) self.stubs = stubout.StubOutForTesting() self.execute_as_root = False self.addCleanup(self._mox.UnsetStubs) def stub_out_not_replaying(self, obj, attr_name): attr_to_replace = getattr(obj, attr_name) stub = mox_lib.MockObject(attr_to_replace) self.stubs.Set(obj, attr_name, stub) mox = self._mox mox.StubOutWithMock(drv, '_get_mount_point_for_share') drv._get_mount_point_for_share(self.TEST_QUOBYTE_VOLUME).\ AndReturn(self.TEST_MNT_POINT) mox.StubOutWithMock(drv, '_execute') drv._execute('df', '--portability', '--block-size', '1', self.TEST_MNT_POINT, run_as_root=self.execute_as_root).AndReturn((df_output, None)) mox.ReplayAll() mox.VerifyAll() drv.do_setup(IsA(context.RequestContext)) mox = self._mox mox.StubOutWithMock(drv, '_execute') drv._execute('mount.quobyte', check_exit_code=False, run_as_root=False).\ AndRaise(OSError(errno.ENOENT, 'No such file or directory')) mox.ReplayAll() mox.VerifyAll() mox = self._mox mox.StubOutWithMock(drv, '_execute') drv._execute('mount.quobyte', check_exit_code=False, run_as_root=False).\ AndRaise(OSError(errno.EPERM, 'Operation not permitted')) mox.ReplayAll() mox.VerifyAll() mox = self._mox mox.StubOutWithMock(drv, '_create_sparsed_file') mox.StubOutWithMock(drv, '_set_rw_permissions_for_all') drv._create_sparsed_file(IgnoreArg(), IgnoreArg()) drv._set_rw_permissions_for_all(IgnoreArg()) mox.ReplayAll() mox.VerifyAll() mox = self._mox mox.StubOutWithMock(drv, '_create_regular_file') mox.StubOutWithMock(drv, '_set_rw_permissions_for_all') drv._create_regular_file(IgnoreArg(), IgnoreArg()) drv._set_rw_permissions_for_all(IgnoreArg()) mox.ReplayAll() mox.VerifyAll() (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, '_execute') drv._execute('qemu-img', 'create', '-f', 'qcow2', '-o', 'preallocation=metadata', path, str(volume['size'] * units.Gi), run_as_root=self.execute_as_root) drv._execute('chmod', 'ugo+rw', path, run_as_root=self.execute_as_root) mox.ReplayAll() mox.VerifyAll() mox = self._mox self.stub_out_not_replaying(quobyte, 'LOG') self.stub_out_not_replaying(drv, '_find_share') self.stub_out_not_replaying(drv, '_do_create_volume') mox.StubOutWithMock(drv, '_ensure_shares_mounted') drv._ensure_shares_mounted() mox.ReplayAll() mox.VerifyAll() mox = self._mox self.stub_out_not_replaying(quobyte, 'LOG') self.stub_out_not_replaying(drv, '_ensure_shares_mounted') self.stub_out_not_replaying(drv, '_do_create_volume') mox.StubOutWithMock(drv, '_find_share') drv._find_share(self.TEST_SIZE_IN_GB).\ AndReturn(self.TEST_QUOBYTE_VOLUME) mox.ReplayAll() mox.VerifyAll() (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, '_create_snapshot') mox.StubOutWithMock(drv, '_delete_snapshot') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(image_utils, 'convert_image') mox.StubOutWithMock(drv, '_copy_volume_from_snapshot') drv._create_snapshot(snap_ref) drv._copy_volume_from_snapshot(snap_ref, volume_ref, volume['size']) drv._delete_snapshot(mox_lib.IgnoreArg()) mox.ReplayAll() mox.VerifyAll() mock_execute.assert_called_once_with( 'rm', '-f', volume_path, run_as_root=self.execute_as_root) mox = self._mox self.stub_out_not_replaying(drv, '_execute') mox.StubOutWithMock(drv, '_ensure_share_mounted') drv._ensure_share_mounted(self.TEST_QUOBYTE_VOLUME) mox.ReplayAll() mox.VerifyAll() mox = self._mox self.stub_out_not_replaying(drv, '_ensure_share_mounted') mox.StubOutWithMock(drv, '_execute') mox.ReplayAll() mox.VerifyAll() (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, 'get_active_image_from_info') mox.StubOutWithMock(image_utils, 'qemu_img_info') mox.StubOutWithMock(image_utils, 'resize_image') drv.get_active_image_from_info(volume).AndReturn(volume['name']) image_utils.qemu_img_info(volume_path).AndReturn(img_info) image_utils.resize_image(volume_path, 3) mox.ReplayAll() mox.VerifyAll() (mox, drv) = self._mox, self._driver mox.StubOutWithMock(image_utils, 'convert_image') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(image_utils, 'qemu_img_info') mox.StubOutWithMock(drv, '_set_rw_permissions_for_all') drv._read_info_file(info_path).AndReturn( {'active': snap_file, snapshot['id']: snap_file} ) image_utils.qemu_img_info(snap_path).AndReturn(img_info) image_utils.convert_image(src_vol_path, dest_vol_path, 'raw', run_as_root=self.execute_as_root) drv._set_rw_permissions_for_all(dest_vol_path) mox.ReplayAll() mox.VerifyAll() (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, '_ensure_shares_mounted') mox.StubOutWithMock(drv, '_find_share') mox.StubOutWithMock(drv, '_do_create_volume') mox.StubOutWithMock(drv, '_copy_volume_from_snapshot') drv._ensure_shares_mounted() drv._find_share(new_volume['size']).AndReturn(self.TEST_QUOBYTE_VOLUME) drv._do_create_volume(new_volume) drv._copy_volume_from_snapshot(snap_ref, new_volume, new_volume['size']) mox.ReplayAll() mox.VerifyAll() (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, 'get_active_image_from_info') mox.StubOutWithMock(image_utils, 'qemu_img_info') drv.get_active_image_from_info(volume).AndReturn(volume['name']) image_utils.qemu_img_info(vol_path).AndReturn(img_info) mox.ReplayAll() mox.VerifyAll()",122,194
openstack%2Fnova~stable%2Fjuno~If92c8dc9acf2db4a5cba6f880bc40b848ee4d43d,openstack/nova,stable/juno,If92c8dc9acf2db4a5cba6f880bc40b848ee4d43d,Add handling of BadRequest from Neutron,MERGED,2015-01-19 18:06:11.000000000,2015-01-26 01:18:13.000000000,2015-01-26 01:18:10.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2015-01-19 18:06:11.000000000', 'files': ['nova/tests/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d911756c6fe065e4f7de29dfb785e7790be8834', 'message': 'Add handling of BadRequest from Neutron\n\nWhile adding security group rule Nova can obtain BadRequest exception from\nneutronclient. Add handling this exception and raise nova exception\ninstead of reraising neutron exception.\n\nThis helps to process correctly error code, so now Nova raises BadRequest\nfrom Neutron with code 400 instead of 500 as it was before.\n\nSome changes in original commit is required because tests is moved in kilo,\nand some changes in fake API is done. So revert all this changes only in new\ntestcase\n\nCloses-Bug: #1408024\n\nConflicts:\n\tnova/network/security_group/neutron_driver.py\n\tnova/tests/unit/network/security_group/test_neutron_driver.py\n\nChange-Id: If92c8dc9acf2db4a5cba6f880bc40b848ee4d43d\n(cherry picked from commit d797c728bf06ba9d70af43c57acacc91a9cd6fab)\n'}]",0,148325,4d911756c6fe065e4f7de29dfb785e7790be8834,9,5,1,9550,,,0,"Add handling of BadRequest from Neutron

While adding security group rule Nova can obtain BadRequest exception from
neutronclient. Add handling this exception and raise nova exception
instead of reraising neutron exception.

This helps to process correctly error code, so now Nova raises BadRequest
from Neutron with code 400 instead of 500 as it was before.

Some changes in original commit is required because tests is moved in kilo,
and some changes in fake API is done. So revert all this changes only in new
testcase

Closes-Bug: #1408024

Conflicts:
	nova/network/security_group/neutron_driver.py
	nova/tests/unit/network/security_group/test_neutron_driver.py

Change-Id: If92c8dc9acf2db4a5cba6f880bc40b848ee4d43d
(cherry picked from commit d797c728bf06ba9d70af43c57acacc91a9cd6fab)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/148325/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py']",2,4d911756c6fe065e4f7de29dfb785e7790be8834,bug1408024," elif e.status_code == 400: LOG.exception(_(""Neutron Error: %s""), six.text_type(e)) self.raise_invalid_property(six.text_type(e))",,23,0
openstack%2Fcinder~master~I924e55642350d3bb813ebab7cb978915fdd8b964,openstack/cinder,master,I924e55642350d3bb813ebab7cb978915fdd8b964,Fixes a small issue in find_autodoc_modules.sh,MERGED,2015-01-23 06:38:55.000000000,2015-01-26 01:16:15.000000000,2015-01-24 21:57:12.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2861}, {'_account_id': 5538}, {'_account_id': 6491}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-23 06:38:55.000000000', 'files': ['doc/find_autodoc_modules.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05a6ad4b4fc07c38fd07ea806c020bb185fc5d55', 'message': 'Fixes a small issue in find_autodoc_modules.sh\n\nWhen generating docs, the modules listed under api all seem to be\nmissing the first letter after ""cinder."" at the beginning.\n\nChange-Id: I924e55642350d3bb813ebab7cb978915fdd8b964\nCloses-bug: #1408828\n'}]",0,149512,05a6ad4b4fc07c38fd07ea806c020bb185fc5d55,21,17,1,4428,,,0,"Fixes a small issue in find_autodoc_modules.sh

When generating docs, the modules listed under api all seem to be
missing the first letter after ""cinder."" at the beginning.

Change-Id: I924e55642350d3bb813ebab7cb978915fdd8b964
Closes-bug: #1408828
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/149512/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/find_autodoc_modules.sh'],1,05a6ad4b4fc07c38fd07ea806c020bb185fc5d55,fix-find_autodoc_modules, relative=cinder.`echo ${x} | sed -e 's$^'${CINDER_DIR}'$$' -e 's/.py$//' -e 's$/$.$g'`, relative=cinder.`echo ${x} | sed -e 's$^'${CINDER_DIR}'$$' -e 's/.py$//' -e 's$/$.$g' -e 's$^.$$'`,1,1
openstack%2Fcinder~master~Ieea042e5cd65b7c7bfa803996f60856fcae054bf,openstack/cinder,master,Ieea042e5cd65b7c7bfa803996f60856fcae054bf,Add retrying lib from global requirements,MERGED,2015-01-23 00:23:48.000000000,2015-01-26 00:43:20.000000000,2015-01-23 16:30:11.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-23 00:23:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eff6a51a7077925b56cad7411a4193ac13565c04', 'message': ""Add retrying lib from global requirements\n\nSubmitted a retry decorator and it was pointed out that\nthe retrying library was already in global-requirements,\nit would probably be good to leverage this and use it rather\nthan roll our own, so let's add it to our version of requirements\nand then we can look at whether using a decorator or just\nleveraging the lib is the right way to go.\n\nChange-Id: Ieea042e5cd65b7c7bfa803996f60856fcae054bf\n""}]",0,149444,eff6a51a7077925b56cad7411a4193ac13565c04,16,12,1,2243,,,0,"Add retrying lib from global requirements

Submitted a retry decorator and it was pointed out that
the retrying library was already in global-requirements,
it would probably be good to leverage this and use it rather
than roll our own, so let's add it to our version of requirements
and then we can look at whether using a decorator or just
leveraging the lib is the right way to go.

Change-Id: Ieea042e5cd65b7c7bfa803996f60856fcae054bf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/149444/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,eff6a51a7077925b56cad7411a4193ac13565c04,add_retrying_lib_to_requirements,"retrying>=1.2.3,!=1.3.0 # Apache-2.0",,1,0
openstack%2Fopenstacksdk~master~I987c85fce8d8f6a97ca92e0482c8ff997d848752,openstack/openstacksdk,master,I987c85fce8d8f6a97ca92e0482c8ff997d848752,Fix RuntimeError on Python 3 while listing objects,MERGED,2015-01-23 17:35:37.000000000,2015-01-25 23:18:18.000000000,2015-01-25 23:18:17.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-23 17:35:37.000000000', 'files': ['openstack/object_store/v1/obj.py', 'openstack/tests/object_store/v1/test_obj.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b7719486d6bb339ea066b5b4a980c87d7198016a', 'message': 'Fix RuntimeError on Python 3 while listing objects\n\nThe Object class has two properties which confuse attribute setting when\nreceiving body values which directly correspond to the *name* of the\nattribute on the class, but not to the expected *prop*. Receiving\n""last_modified"" in the body causes both ""last_modified"" and it\'s\nexpected prop name, ""last-modified"", to be set, thus changing the size\nof the attrs dictionary inside of Resource.__init__.\n\nThis change also slightly modifies test_head, which was operating in a\nslightly odd way in the first place, but turned into a failing test\nbecause it wasn\'t passing through the proper channels to set its\nattributes because we were side-stepping it..\n\nChange-Id: I987c85fce8d8f6a97ca92e0482c8ff997d848752\nCloses-bug: 1414089\n'}]",0,149687,b7719486d6bb339ea066b5b4a980c87d7198016a,8,4,1,8257,,,0,"Fix RuntimeError on Python 3 while listing objects

The Object class has two properties which confuse attribute setting when
receiving body values which directly correspond to the *name* of the
attribute on the class, but not to the expected *prop*. Receiving
""last_modified"" in the body causes both ""last_modified"" and it's
expected prop name, ""last-modified"", to be set, thus changing the size
of the attrs dictionary inside of Resource.__init__.

This change also slightly modifies test_head, which was operating in a
slightly odd way in the first place, but turned into a failing test
because it wasn't passing through the proper channels to set its
attributes because we were side-stepping it..

Change-Id: I987c85fce8d8f6a97ca92e0482c8ff997d848752
Closes-bug: 1414089
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/87/149687/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/object_store/v1/obj.py', 'openstack/tests/object_store/v1/test_obj.py']",2,b7719486d6bb339ea066b5b4a980c87d7198016a,bug/1414089,"# Object can receive both last-modified in headers and last_modified in # the body. However, originally, only last-modified was handled as an # expected prop but it was named last_modified. Under Python 3, creating # an Object with the body value last_modified causes the _attrs dictionary # size to change while iterating over its values as we have an attribute # called `last_modified` and we attempt to grow an additional attribute # called `last-modified`, which is the ""name"" of `last_modified`. # The same is true of content_type and content-type, or any prop # attribute which would follow the same pattern. # This example should represent the body values returned by a GET, so the keys # must be underscores. ""last_modified"": ""2014-07-13T18:41:03.319240"", ""content_type"": ""application/octet-stream"" sot = obj.Object.existing(**HEAD_EXAMPLE)"," ""last-modified"": ""2014-07-13T18:41:03.319240"", ""content-type"": ""application/octet-stream"" sot = obj.Object.existing(**OBJ_EXAMPLE) # Update object with HEAD data sot._attrs.update(HEAD_EXAMPLE) # Attributes from creation self.assertEqual(OBJ_EXAMPLE['name'], sot.name) self.assertEqual(OBJ_EXAMPLE['hash'], sot.hash) self.assertEqual(OBJ_EXAMPLE['bytes'], sot.bytes)",16,13
openstack%2Fironic~master~I13b6aa85b514c79ea01e70f23e896957cf2f0569,openstack/ironic,master,I13b6aa85b514c79ea01e70f23e896957cf2f0569,Sync oslo-incubator modules,ABANDONED,2014-10-13 19:03:38.000000000,2015-01-25 22:58:21.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2014-10-13 19:03:38.000000000', 'files': ['ironic/openstack/common/loopingcall.py', 'ironic/tests/test_policy.py', 'ironic/openstack/common/lockutils.py', 'ironic/openstack/common/apiclient/base.py', 'ironic/openstack/common/config/__init__.py', 'ironic/openstack/common/strutils.py', 'ironic/openstack/common/excutils.py', 'ironic/openstack/common/log.py', 'ironic/openstack/common/apiclient/exceptions.py', 'ironic/openstack/common/importutils.py', 'ironic/openstack/common/apiclient/__init__.py', 'openstack-common.conf', 'ironic/openstack/common/apiclient/client.py', 'ironic/openstack/common/cliutils.py', 'ironic/openstack/common/config/generator.py', 'ironic/openstack/common/network_utils.py', 'ironic/openstack/common/uuidutils.py', 'ironic/openstack/common/periodic_task.py', 'ironic/openstack/common/policy.py', 'ironic/openstack/common/service.py', 'ironic/openstack/common/__init__.py', 'ironic/openstack/common/apiclient/fake_client.py', 'ironic/openstack/common/jsonutils.py', 'ironic/openstack/common/versionutils.py', 'ironic/openstack/common/fileutils.py', 'ironic/openstack/common/gettextutils.py', 'ironic/openstack/common/_i18n.py', 'ironic/api/hooks.py', 'ironic/openstack/common/eventlet_backdoor.py', 'ironic/openstack/common/imageutils.py', 'ironic/openstack/common/processutils.py', 'ironic/openstack/common/apiclient/auth.py', 'ironic/common/policy.py', 'ironic/tests/drivers/ilo/test_deploy.py', 'ironic/openstack/common/timeutils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/32f89426c27003b8be2d7f7d70076d3b8ecdf539', 'message': 'Sync oslo-incubator modules\n\n* New policy API\n\nChange-Id: I13b6aa85b514c79ea01e70f23e896957cf2f0569\n'}]",0,128051,32f89426c27003b8be2d7f7d70076d3b8ecdf539,10,5,1,1726,,,0,"Sync oslo-incubator modules

* New policy API

Change-Id: I13b6aa85b514c79ea01e70f23e896957cf2f0569
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/128051/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/openstack/common/loopingcall.py', 'ironic/tests/test_policy.py', 'ironic/openstack/common/lockutils.py', 'ironic/openstack/common/apiclient/base.py', 'ironic/openstack/common/config/__init__.py', 'ironic/openstack/common/strutils.py', 'ironic/openstack/common/excutils.py', 'ironic/openstack/common/log.py', 'ironic/openstack/common/apiclient/exceptions.py', 'ironic/openstack/common/importutils.py', 'ironic/openstack/common/apiclient/__init__.py', 'openstack-common.conf', 'ironic/openstack/common/apiclient/client.py', 'ironic/openstack/common/cliutils.py', 'ironic/openstack/common/config/generator.py', 'ironic/openstack/common/network_utils.py', 'ironic/openstack/common/uuidutils.py', 'ironic/openstack/common/periodic_task.py', 'ironic/openstack/common/policy.py', 'ironic/openstack/common/service.py', 'ironic/openstack/common/__init__.py', 'ironic/openstack/common/apiclient/fake_client.py', 'ironic/openstack/common/jsonutils.py', 'ironic/openstack/common/versionutils.py', 'ironic/openstack/common/fileutils.py', 'ironic/openstack/common/gettextutils.py', 'ironic/openstack/common/_i18n.py', 'ironic/api/hooks.py', 'ironic/openstack/common/eventlet_backdoor.py', 'ironic/openstack/common/imageutils.py', 'ironic/openstack/common/processutils.py', 'ironic/openstack/common/apiclient/auth.py', 'ironic/common/policy.py', 'ironic/tests/drivers/ilo/test_deploy.py', 'ironic/openstack/common/timeutils.py']",35,32f89426c27003b8be2d7f7d70076d3b8ecdf539,serialization,,"# Copyright 2011 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Time related utilities and helper functions. """""" import calendar import datetime import time import iso8601 import six # ISO 8601 extended time format with microseconds _ISO8601_TIME_FORMAT_SUBSECOND = '%Y-%m-%dT%H:%M:%S.%f' _ISO8601_TIME_FORMAT = '%Y-%m-%dT%H:%M:%S' PERFECT_TIME_FORMAT = _ISO8601_TIME_FORMAT_SUBSECOND def isotime(at=None, subsecond=False): """"""Stringify time in ISO 8601 format."""""" if not at: at = utcnow() st = at.strftime(_ISO8601_TIME_FORMAT if not subsecond else _ISO8601_TIME_FORMAT_SUBSECOND) tz = at.tzinfo.tzname(None) if at.tzinfo else 'UTC' st += ('Z' if tz == 'UTC' else tz) return st def parse_isotime(timestr): """"""Parse time from ISO 8601 format."""""" try: return iso8601.parse_date(timestr) except iso8601.ParseError as e: raise ValueError(six.text_type(e)) except TypeError as e: raise ValueError(six.text_type(e)) def strtime(at=None, fmt=PERFECT_TIME_FORMAT): """"""Returns formatted utcnow."""""" if not at: at = utcnow() return at.strftime(fmt) def parse_strtime(timestr, fmt=PERFECT_TIME_FORMAT): """"""Turn a formatted time back into a datetime."""""" return datetime.datetime.strptime(timestr, fmt) def normalize_time(timestamp): """"""Normalize time in arbitrary timezone to UTC naive object."""""" offset = timestamp.utcoffset() if offset is None: return timestamp return timestamp.replace(tzinfo=None) - offset def is_older_than(before, seconds): """"""Return True if before is older than seconds."""""" if isinstance(before, six.string_types): before = parse_strtime(before).replace(tzinfo=None) else: before = before.replace(tzinfo=None) return utcnow() - before > datetime.timedelta(seconds=seconds) def is_newer_than(after, seconds): """"""Return True if after is newer than seconds."""""" if isinstance(after, six.string_types): after = parse_strtime(after).replace(tzinfo=None) else: after = after.replace(tzinfo=None) return after - utcnow() > datetime.timedelta(seconds=seconds) def utcnow_ts(): """"""Timestamp version of our utcnow function."""""" if utcnow.override_time is None: # NOTE(kgriffs): This is several times faster # than going through calendar.timegm(...) return int(time.time()) return calendar.timegm(utcnow().timetuple()) def utcnow(): """"""Overridable version of utils.utcnow."""""" if utcnow.override_time: try: return utcnow.override_time.pop(0) except AttributeError: return utcnow.override_time return datetime.datetime.utcnow() def iso8601_from_timestamp(timestamp): """"""Returns an iso8601 formatted date from timestamp."""""" return isotime(datetime.datetime.utcfromtimestamp(timestamp)) utcnow.override_time = None def set_time_override(override_time=None): """"""Overrides utils.utcnow. Make it return a constant time or a list thereof, one at a time. :param override_time: datetime instance or list thereof. If not given, defaults to the current UTC time. """""" utcnow.override_time = override_time or datetime.datetime.utcnow() def advance_time_delta(timedelta): """"""Advance overridden time using a datetime.timedelta."""""" assert utcnow.override_time is not None try: for dt in utcnow.override_time: dt += timedelta except TypeError: utcnow.override_time += timedelta def advance_time_seconds(seconds): """"""Advance overridden time by seconds."""""" advance_time_delta(datetime.timedelta(0, seconds)) def clear_time_override(): """"""Remove the overridden time."""""" utcnow.override_time = None def marshall_now(now=None): """"""Make an rpc-safe datetime with microseconds. Note: tzinfo is stripped, but not required for relative times. """""" if not now: now = utcnow() return dict(day=now.day, month=now.month, year=now.year, hour=now.hour, minute=now.minute, second=now.second, microsecond=now.microsecond) def unmarshall_time(tyme): """"""Unmarshall a datetime dict."""""" return datetime.datetime(day=tyme['day'], month=tyme['month'], year=tyme['year'], hour=tyme['hour'], minute=tyme['minute'], second=tyme['second'], microsecond=tyme['microsecond']) def delta_seconds(before, after): """"""Return the difference between two timing objects. Compute the difference in seconds between two date, time, or datetime objects (as a float, to microsecond resolution). """""" delta = after - before return total_seconds(delta) def total_seconds(delta): """"""Return the total seconds of datetime.timedelta object. Compute total seconds of datetime.timedelta, datetime.timedelta doesn't have method total_seconds in Python2.6, calculate it manually. """""" try: return delta.total_seconds() except AttributeError: return ((delta.days * 24 * 3600) + delta.seconds + float(delta.microseconds) / (10 ** 6)) def is_soon(dt, window): """"""Determines if time is going to happen in the next window seconds. :param dt: the time :param window: minimum seconds to remain to consider the time not soon :return: True if expiration is within the given duration """""" soon = (utcnow() + datetime.timedelta(seconds=window)) return normalize_time(dt) <= soon ",579,4334
openstack%2Fcinder~master~I8b8c6e98c934fbf1341b8f1c907ecd385405a3c1,openstack/cinder,master,I8b8c6e98c934fbf1341b8f1c907ecd385405a3c1,Remove usage of taskflow 'utils.misc' module,MERGED,2015-01-22 19:24:21.000000000,2015-01-25 22:51:15.000000000,2015-01-23 23:34:21.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1773}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-22 19:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9afba79d800000e90c48f4941b8e8f9170bb4809', 'message': ""Remove usage of taskflow 'utils.misc' module\n\nThe failure type at its old location in an internal\nutils directory of taskflow is deprecated (in general\nusage of taskflow utils code should be restricted/not\ndone) and it has been moved to a public location of\ntaskflow.types (which is ok to use and is not\ndeprecated).\n\nThis change updates to use the better and more supported\nmodule/code location instead.\n\nChange-Id: I8b8c6e98c934fbf1341b8f1c907ecd385405a3c1\n""}, {'number': 2, 'created': '2015-01-22 23:13:38.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/flows/api/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb6b19c9dc55c6d4af196e556fda136ffc0e5507', 'message': ""Remove usage of taskflow 'utils.misc' module\n\nThe failure type at its old location in an internal\nutils directory of taskflow is deprecated (in general\nusage of taskflow utils code should be restricted/not\ndone) and it has been moved to a public location of\ntaskflow.types (which is ok to use and is not\ndeprecated).\n\nThis change updates to use the better and more supported\nmodule/code location instead.\n\nChange-Id: I8b8c6e98c934fbf1341b8f1c907ecd385405a3c1\n""}]",0,149374,bb6b19c9dc55c6d4af196e556fda136ffc0e5507,43,18,2,1297,,,0,"Remove usage of taskflow 'utils.misc' module

The failure type at its old location in an internal
utils directory of taskflow is deprecated (in general
usage of taskflow utils code should be restricted/not
done) and it has been moved to a public location of
taskflow.types (which is ok to use and is not
deprecated).

This change updates to use the better and more supported
module/code location instead.

Change-Id: I8b8c6e98c934fbf1341b8f1c907ecd385405a3c1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/149374/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/flows/api/create_volume.py']",2,9afba79d800000e90c48f4941b8e8f9170bb4809,,"from taskflow.types import failure if isinstance(result, failure.Failure): if isinstance(result, failure.Failure): if isinstance(result, failure.Failure): if isinstance(result, failure.Failure):","from taskflow.utils import misc if isinstance(result, misc.Failure): if isinstance(result, misc.Failure): if isinstance(result, misc.Failure): if isinstance(result, misc.Failure):",8,8
openstack%2Fcinder~master~Ida0f9512a816d45ec5cae4dc4da4dbc923a67cf4,openstack/cinder,master,Ida0f9512a816d45ec5cae4dc4da4dbc923a67cf4,Move oslo.serialization to oslo_serialization namespace,MERGED,2015-01-22 23:05:47.000000000,2015-01-25 22:48:26.000000000,2015-01-23 20:49:13.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-22 23:05:47.000000000', 'files': ['cinder/tests/api/contrib/test_snapshot_actions.py', 'cinder/scheduler/rpcapi.py', 'cinder/volume/manager.py', 'cinder/api/middleware/auth.py', 'cinder/tests/api/v2/test_volume_metadata.py', 'cinder/tests/scheduler/test_scheduler_options.py', 'cinder/tests/test_volume.py', 'cinder/tests/api/contrib/test_volume_unmanage.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py', 'cinder/rpc.py', 'cinder/tests/test_volume_rpcapi.py', 'cinder/tests/api/v1/test_limits.py', 'cinder/tests/api/v1/test_volume_metadata.py', 'cinder/tests/test_hacking.py', 'cinder/tests/integrated/api/client.py', 'cinder/tests/api/test_extensions.py', 'cinder/tests/api/contrib/test_volume_manage.py', 'cinder/api/v2/limits.py', 'cinder/tests/api/v1/test_snapshot_metadata.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/volume/drivers/coraid.py', 'cinder/tests/api/v2/test_limits.py', 'cinder/tests/scheduler/test_host_filters.py', 'cinder/tests/api/contrib/test_scheduler_hints.py', 'cinder/hacking/checks.py', 'cinder/volume/drivers/nexenta/jsonrpc.py', 'cinder/tests/api/middleware/test_faults.py', 'cinder/tests/test_backup_driver_base.py', 'cinder/backup/driver.py', 'cinder/api/v1/limits.py', 'cinder/image/glance.py', 'cinder/tests/api/contrib/test_volume_actions.py', 'cinder/tests/test_coraid.py', 'cinder/tests/test_backup_ceph.py', 'cinder/tests/api/v2/test_snapshot_metadata.py', 'cinder/volume/rpcapi.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30bb83d64ffebeb7d0cdca170e658f25f3e02c63', 'message': 'Move oslo.serialization to oslo_serialization namespace\n\nThis is the fifth in a series of changes to move to using\nthe new oslo_<library> namespace that is being used for\noslo libraries.\n\nThere is currently a shim in place that is allowing the old\noslo.<library> imports to work, but we need to be prepared for\nwhen the shims go away.  Thus, we need patches like this one to\nmove to the new namespace.\n\nThis patch also updates our hacking check to ensure that no instances\nof oslo.utils sneak back in.\n\nChange-Id: Ida0f9512a816d45ec5cae4dc4da4dbc923a67cf4\nPartial-bug: 1409733\n'}]",0,149426,30bb83d64ffebeb7d0cdca170e658f25f3e02c63,27,17,1,7198,,,0,"Move oslo.serialization to oslo_serialization namespace

This is the fifth in a series of changes to move to using
the new oslo_<library> namespace that is being used for
oslo libraries.

There is currently a shim in place that is allowing the old
oslo.<library> imports to work, but we need to be prepared for
when the shims go away.  Thus, we need patches like this one to
move to the new namespace.

This patch also updates our hacking check to ensure that no instances
of oslo.utils sneak back in.

Change-Id: Ida0f9512a816d45ec5cae4dc4da4dbc923a67cf4
Partial-bug: 1409733
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/149426/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/contrib/test_snapshot_actions.py', 'cinder/scheduler/rpcapi.py', 'cinder/volume/manager.py', 'cinder/api/middleware/auth.py', 'cinder/tests/api/v2/test_volume_metadata.py', 'cinder/tests/scheduler/test_scheduler_options.py', 'cinder/tests/test_volume.py', 'cinder/tests/api/contrib/test_volume_unmanage.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py', 'cinder/rpc.py', 'cinder/tests/test_volume_rpcapi.py', 'cinder/tests/api/v1/test_limits.py', 'cinder/tests/api/v1/test_volume_metadata.py', 'cinder/tests/test_hacking.py', 'cinder/tests/integrated/api/client.py', 'cinder/tests/api/test_extensions.py', 'cinder/tests/api/contrib/test_volume_manage.py', 'cinder/api/v2/limits.py', 'cinder/tests/api/v1/test_snapshot_metadata.py', 'cinder/tests/api/contrib/test_extended_snapshot_attributes.py', 'cinder/volume/drivers/coraid.py', 'cinder/tests/api/v2/test_limits.py', 'cinder/tests/scheduler/test_host_filters.py', 'cinder/tests/api/contrib/test_scheduler_hints.py', 'cinder/hacking/checks.py', 'cinder/volume/drivers/nexenta/jsonrpc.py', 'cinder/tests/api/middleware/test_faults.py', 'cinder/tests/test_backup_driver_base.py', 'cinder/backup/driver.py', 'cinder/api/v1/limits.py', 'cinder/image/glance.py', 'cinder/tests/api/contrib/test_volume_actions.py', 'cinder/tests/test_coraid.py', 'cinder/tests/test_backup_ceph.py', 'cinder/tests/api/v2/test_snapshot_metadata.py', 'cinder/volume/rpcapi.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/api/openstack/wsgi.py']",38,30bb83d64ffebeb7d0cdca170e658f25f3e02c63,bug/1409733,from oslo_serialization import jsonutils,from oslo.serialization import jsonutils,41,37
openstack%2Fcinder~master~I23d53d66fda47981ed8f20b618b2ced8ef6e0682,openstack/cinder,master,I23d53d66fda47981ed8f20b618b2ced8ef6e0682,HP 3PAR modules do not follow coding guidelines,MERGED,2015-01-22 19:23:04.000000000,2015-01-25 22:42:28.000000000,2015-01-23 06:32:57.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 6043}, {'_account_id': 7198}, {'_account_id': 7634}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11941}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-22 19:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b4ed62b9f68445087559da1f249ed4bc1e5a2a2', 'message': 'HP 3PAR modules do not fillow coding guidelines\n\nShould use "","" instead of ""%"" in logging messages, and\nthe use of ""\\"" to coninue lines should be avoided.\n\nChange-Id: I23d53d66fda47981ed8f20b618b2ced8ef6e0682\nCloses-Bug: #1411370\n'}, {'number': 2, 'created': '2015-01-22 22:37:07.000000000', 'files': ['cinder/tests/test_hp3par.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/13eb0cfba3c2971ef39baa010d43707aa5226fd0', 'message': 'HP 3PAR modules do not follow coding guidelines\n\nShould use "","" instead of ""%"" in logging messages, and\nthe use of ""\\"" to continue lines should be avoided.\n\nChange-Id: I23d53d66fda47981ed8f20b618b2ced8ef6e0682\nCloses-Bug: #1411370\n'}]",4,149373,13eb0cfba3c2971ef39baa010d43707aa5226fd0,33,18,2,11941,,,0,"HP 3PAR modules do not follow coding guidelines

Should use "","" instead of ""%"" in logging messages, and
the use of ""\"" to continue lines should be avoided.

Change-Id: I23d53d66fda47981ed8f20b618b2ced8ef6e0682
Closes-Bug: #1411370
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/149373/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_hp3par.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py']",2,0b4ed62b9f68445087559da1f249ed4bc1e5a2a2,coding-guidelines," 2.0.34 - Fix log messages to match guidelines. bug #1411370 VERSION = ""2.0.34"" "" by %(diff)s GB."", LOG.debug(""CREATE VOLUME (%s : %s %s)"", LOG.debug('Creating clone of a volume %(src)s to %(dest)s.', LOG.debug(""Found an online copy for %(volume)s"", {'volume': volume_name}) LOG.debug(""Returned vvset_name = %s"", vvset_name) LOG.debug(""Create Volume from Snapshot\n%s\n%s"", LOG.debug('Converting to base volume type: %s.', LOG.debug('Growing volume: %(id)s by %(size)s GiB.', LOG.debug(""Create Snapshot\n%s"", pprint.pformat(snapshot)) LOG.debug(""VOLUME (%s : %s %s) Updating KEY-VALUE pair: (%s : %s)"", LOG.debug(""VOLUME (%s : %s %s) Clearing Key : %s)"", LOG.debug(""Attach Volume\n%s"", pprint.pformat(volume)) LOG.debug(""Detach Volume\n%s"", pprint.pformat(volume)) LOG.debug('enter: migrate_volume: id=%(id)s, host=%(host)s.', dbg) LOG.debug('leave: migrate_volume: id=%(id)s, host=%(host)s.', dbg) LOG.debug('migrate_volume result: %s, %s', ret) 'id=%s.', volume['id']) LOG.debug(""3PAR Task id %(id)s status = %(status)s"", 'id=%s.', volume['id']) 'id=%s.', volume['id']) 'id=%s.', volume['id']) LOG.debug(""Delete Snapshot id %s %s"", (snapshot['id'], pprint.pformat(snapshot))) LOG.debug(""retype old_volume_info=%s"", old_volume_info) LOG.debug(""retype old_volume_settings=%s"", old_volume_settings) LOG.debug(""retype new_volume_settings=%s"", new_volume_settings) ""diff=%(diff)s, host=%(host)s""), {'id': volume['id'], 'new_type': new_type, 'diff': diff, 'host': host}) LOG.debug(""3PAR Task id %(id)s status = %(status)s"","," VERSION = ""2.0.33"" "" by %(diff)s GB."" % LOG.debug(""CREATE VOLUME (%s : %s %s)"" % LOG.debug('Creating clone of a volume %(src)s to %(dest)s.' % LOG.debug(""Found an online copy for %(volume)s"" % {'volume': volume_name}) LOG.debug(""Returned vvset_name = %s"" % vvset_name) LOG.debug(""Create Volume from Snapshot\n%s\n%s"" % LOG.debug('Converting to base volume type: %s.' % LOG.debug('Growing volume: %(id)s by %(size)s GiB.' % LOG.debug(""Create Snapshot\n%s"" % pprint.pformat(snapshot)) LOG.debug(""VOLUME (%s : %s %s) Updating KEY-VALUE pair: (%s : %s)"" % LOG.debug(""VOLUME (%s : %s %s) Clearing Key : %s)"" % LOG.debug(""Attach Volume\n%s"" % pprint.pformat(volume)) LOG.debug(""Detach Volume\n%s"" % pprint.pformat(volume)) LOG.debug('enter: migrate_volume: id=%(id)s, host=%(host)s.' % dbg) LOG.debug('leave: migrate_volume: id=%(id)s, host=%(host)s.' % dbg) LOG.debug('migrate_volume result: %s, %s' % ret) 'id=%s.' % volume['id']) LOG.debug(""3PAR Task id %(id)s status = %(status)s"" % 'id=%s.' % volume['id']) 'id=%s.' % volume['id']) 'id=%s.' % volume['id']) LOG.debug(""Delete Snapshot id %s %s"" % (snapshot['id'], pprint.pformat(snapshot))) LOG.debug(""retype old_volume_info=%s"" % old_volume_info) LOG.debug(""retype old_volume_settings=%s"" % old_volume_settings) LOG.debug(""retype new_volume_settings=%s"" % new_volume_settings) ""diff=%(diff)s, host=%(host)s"") % {'id': volume['id'], 'new_type': new_type, 'diff': diff, 'host': host}) LOG.debug(""3PAR Task id %(id)s status = %(status)s"" %",220,219
openstack%2Fcinder~master~I629373d3c75be591ccde5608c8c85f2debd47447,openstack/cinder,master,I629373d3c75be591ccde5608c8c85f2debd47447,Add a generic retry decorator to cinder/utils,MERGED,2015-01-22 17:37:33.000000000,2015-01-25 22:41:45.000000000,2015-01-24 22:57:43.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 6172}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 7219}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-22 17:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60343a88821eead15cef9810f2210b46668c4a14', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 2, 'created': '2015-01-22 18:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b2c2f008010a46b4b001b1f43ef855a3e99904b', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 3, 'created': '2015-01-22 18:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc31d16afbf145267d84c7fc4adf15c62b8f36e2', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 4, 'created': '2015-01-22 19:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6170649ec889ef4a833998ba8882fb9d4f59a1ff', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 5, 'created': '2015-01-22 23:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba7e982e25d74771350b323af36e436d656ba0b3', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 6, 'created': '2015-01-23 18:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc76245a66dfbe359914850da9b2722ef4794bda', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nThis patch leverages the retrying library that's already\nin OpenStack Requirements and used in other places.  We\njust add a wrapper around it for some logging and add\na bit of error handling incase somebody sets retries to 0\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 7, 'created': '2015-01-23 21:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e99263ae20c0f240b2525149d15e56693402006', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nThis patch leverages the retrying library that's already\nin OpenStack Requirements and used in other places.  We\njust add a wrapper around it for some logging and add\na bit of error handling incase somebody sets retries to 0\n\nCo-Authored-By: Josh Harlow <harlowja@yahoo-inc.com>\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 8, 'created': '2015-01-23 23:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b78b816958b0f22278cb046de14ac24dfb340284', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nThis patch leverages the retrying library that's already\nin OpenStack Requirements and used in other places.  We\njust add a wrapper around it for some logging and add\na bit of error handling incase somebody sets retries to 0\n\nCo-Authored-By: Josh Harlow <harlowja@yahoo-inc.com>\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 9, 'created': '2015-01-23 23:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d18bb592ad006053252de1b25cdae763b69a53a', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nThis patch leverages the retrying library that's already\nin OpenStack Requirements and used in other places.  We\njust add a wrapper around it for some logging and add\na bit of error handling incase somebody sets retries to 0\n\nCo-Authored-By: Josh Harlow <harlowja@yahoo-inc.com>\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}, {'number': 10, 'created': '2015-01-24 19:25:46.000000000', 'files': ['cinder/tests/test_utils.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca73ed8f79fa58ef1eb5ba0567a56c957bde6f95', 'message': ""Add a generic retry decorator to cinder/utils\n\nRetries are something that we use in a number of\nplaces, and could probably use in a few more.  Rather\nthan continue writing custom retry code or silly loops\nlet's add a generic retry decorator class that can be\ninitialized and used as needed.\n\nThis patch leverages the retrying library that's already\nin OpenStack Requirements and used in other places.  We\njust add a wrapper around it for some logging and add\na bit of error handling incase somebody sets retries to 0\n\nCo-Authored-By: Josh Harlow <harlowja@yahoo-inc.com>\n\nChange-Id: I629373d3c75be591ccde5608c8c85f2debd47447\n""}]",19,149341,ca73ed8f79fa58ef1eb5ba0567a56c957bde6f95,98,25,10,2243,,,0,"Add a generic retry decorator to cinder/utils

Retries are something that we use in a number of
places, and could probably use in a few more.  Rather
than continue writing custom retry code or silly loops
let's add a generic retry decorator class that can be
initialized and used as needed.

This patch leverages the retrying library that's already
in OpenStack Requirements and used in other places.  We
just add a wrapper around it for some logging and add
a bit of error handling incase somebody sets retries to 0

Co-Authored-By: Josh Harlow <harlowja@yahoo-inc.com>

Change-Id: I629373d3c75be591ccde5608c8c85f2debd47447
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/149341/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,60343a88821eead15cef9810f2210b46668c4a14,add_retry_decorator_to_utils,"import time class RetryDecorator(object): """"""Retry decorator reruns a method 'retries' times if an exception occurs. Decorator for retrying a method if exceptionToCheck exception occurs If method raises exception, retries 'retries' times with increasing back off period between calls with 'interval' multiplier :param exceptionToCheck: the exception to check :param interval: initial delay between retries in seconds :param retries: number of times to try before giving up :raises: exceptionToCheck """""" def __init__(self, exceptionToCheck, interval=cfg.CONF.ESWITCH.request_timeout / 1000, retries=cfg.CONF.ESWITCH.retries, backoff_rate=cfg.CONF.ESWITCH.backoff_rate): self.exc = exceptionToCheck self.interval = interval self.retries = retries self.backoff_rate = backoff_rate def __call__(self, original_func): def decorated(*args, **kwargs): sleep_interval = self.interval num_of_iter = self.retries while num_of_iter > 0: try: return original_func(*args, **kwargs) except self.exc: LOG.debug(""Request timeout - call again after "" ""%s seconds"", sleep_interval) time.sleep(sleep_interval) num_of_iter -= 1 sleep_interval *= self.backoff_rate return original_func(*args, **kwargs) return decorated",,41,0
openstack%2Frally~master~I36c477026174685eb54331c20a91e74ebdcc1baa,openstack/rally,master,I36c477026174685eb54331c20a91e74ebdcc1baa,Move tempest install to rally.api,MERGED,2015-01-21 12:39:45.000000000,2015-01-25 22:07:42.000000000,2015-01-25 22:07:39.000000000,"[{'_account_id': 3}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-21 12:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/25cdb8c7672bc4747a95f4dc83e134506650d857', 'message': 'Adds tempest install to rally.api\n\nChange-Id: I36c477026174685eb54331c20a91e74ebdcc1baa\nCloses-bug: #1413189\n'}, {'number': 2, 'created': '2015-01-25 09:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/aab092e59ef329224640fca08a7e5a65b790c5df', 'message': 'Move tempest install to rally.api\n\nMove code, responsible for tempest installation,\nfrom rally.cmd.manage to rally.api\nsince this is unified place for such actions.\n\nChange-Id: I36c477026174685eb54331c20a91e74ebdcc1baa\nCloses-bug: #1413189\n'}, {'number': 3, 'created': '2015-01-25 20:53:20.000000000', 'files': ['rally/cmd/manage.py', 'rally/api.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/4ddab59904af4d72add001cf7cf0fddc248da5f4', 'message': 'Move tempest install to rally.api\n\nMove code, responsible for tempest installation,\nfrom rally.cmd.manage to rally.api,\nsince this is unified place for such actions.\n\nChange-Id: I36c477026174685eb54331c20a91e74ebdcc1baa\nCloses-bug: #1413189\n'}]",3,148912,4ddab59904af4d72add001cf7cf0fddc248da5f4,19,5,3,8576,,,0,"Move tempest install to rally.api

Move code, responsible for tempest installation,
from rally.cmd.manage to rally.api,
since this is unified place for such actions.

Change-Id: I36c477026174685eb54331c20a91e74ebdcc1baa
Closes-bug: #1413189
",git fetch https://review.opendev.org/openstack/rally refs/changes/12/148912/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cmd/manage.py', 'rally/api.py']",2,25cdb8c7672bc4747a95f4dc83e134506650d857,bug/1413189," def install_tempest(deployment, source): """"""Install tempest."""""" deployment_uuid = objects.Deployment.get(deployment)['uuid'] verifier = tempest.Tempest(deployment_uuid, source=source) verifier.install()",,9,5
openstack%2Fmagnum~master~Id13a5835c4655fbb50665bf33439e99b0be708a3,openstack/magnum,master,Id13a5835c4655fbb50665bf33439e99b0be708a3,Rename test_baymodels.py to test_baymodel.py for db test,MERGED,2015-01-25 06:26:02.000000000,2015-01-25 21:55:08.000000000,2015-01-25 21:55:07.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2834}, {'_account_id': 11536}]","[{'number': 1, 'created': '2015-01-25 06:26:02.000000000', 'files': ['magnum/tests/db/test_baymodel.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/84c3c14898100641cbef6c310b8eb41f8f1e5cdc', 'message': 'Rename test_baymodels.py to test_baymodel.py for db test\n\nChange-Id: Id13a5835c4655fbb50665bf33439e99b0be708a3\n'}]",0,149866,84c3c14898100641cbef6c310b8eb41f8f1e5cdc,8,4,1,7494,,,0,"Rename test_baymodels.py to test_baymodel.py for db test

Change-Id: Id13a5835c4655fbb50665bf33439e99b0be708a3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/66/149866/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/tests/db/test_baymodel.py'],1,84c3c14898100641cbef6c310b8eb41f8f1e5cdc,master,,,0,0
openstack%2Fpbr~master~I589f5c7db04b8e715c7a53cfa2fa18d37e20c66d,openstack/pbr,master,I589f5c7db04b8e715c7a53cfa2fa18d37e20c66d,Use unsafe OpenPGP keys for testing,MERGED,2014-12-18 19:22:11.000000000,2015-01-25 21:44:24.000000000,2015-01-25 21:44:23.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5263}]","[{'number': 1, 'created': '2014-12-18 19:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/177b185297b598d3f635d11e3f959932bc533651', 'message': ""Use unsafe OpenPGP keys for testing\n\n* pbr/tests/test_packaging.py(GPGKeyFixture.setUp): Testing signed\ntags requires an OpenPGP key, but doesn't actually require one\nentropic enough for safe production use. When generating a test key\nwith gpg add the little-known --quick-random option used by GnuPG's\nown testsuite. You can find it by searching the source code, or in\nthe NEWS file entry for the rather ancient GnuPG 0.2.3 release.\n\nChange-Id: I589f5c7db04b8e715c7a53cfa2fa18d37e20c66d\nCloses-Bug:#1369768\n""}, {'number': 2, 'created': '2014-12-18 20:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/0c5bba16c178f0a337e4747980ecc0eaad6367b7', 'message': ""Use unsafe OpenPGP keys for testing\n\n* pbr/tests/test_packaging.py(GPGKeyFixture.setUp): Testing signed\ntags requires an OpenPGP key, but doesn't actually require one\nentropic enough for safe production use. When generating a test key\nwith gpg add the little-known --quick-random option used by GnuPG's\nown testsuite. You can find it by searching the source code, or in\nthe NEWS file entry for the rather ancient GnuPG 0.2.3 release.\n\nChange-Id: I589f5c7db04b8e715c7a53cfa2fa18d37e20c66d\nCloses-Bug:#1369768\n""}, {'number': 3, 'created': '2014-12-23 16:28:07.000000000', 'files': ['pbr/tests/test_packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/4151d5c89ad808fc87c3c45eadfbb33c964182a7', 'message': ""Use unsafe OpenPGP keys for testing\n\n* pbr/tests/test_packaging.py(GPGKeyFixture.setUp): Testing signed\ntags requires an OpenPGP key, but doesn't actually require one\nentropic enough for safe production use. When generating a test key\nwith gpg add the little-known --quick-random/--debug-quick-random\noption used by GnuPG's own testsuite. You can find it by searching\nthe source code, or in the NEWS file entry for the rather ancient\nGnuPG 0.2.3 release, or in the debug option summary for 2.x.\n\nChange-Id: I589f5c7db04b8e715c7a53cfa2fa18d37e20c66d\nCloses-Bug:#1369768\n""}]",7,142884,4151d5c89ad808fc87c3c45eadfbb33c964182a7,39,5,3,5263,,,0,"Use unsafe OpenPGP keys for testing

* pbr/tests/test_packaging.py(GPGKeyFixture.setUp): Testing signed
tags requires an OpenPGP key, but doesn't actually require one
entropic enough for safe production use. When generating a test key
with gpg add the little-known --quick-random/--debug-quick-random
option used by GnuPG's own testsuite. You can find it by searching
the source code, or in the NEWS file entry for the rather ancient
GnuPG 0.2.3 release, or in the debug option summary for 2.x.

Change-Id: I589f5c7db04b8e715c7a53cfa2fa18d37e20c66d
Closes-Bug:#1369768
",git fetch https://review.opendev.org/openstack/pbr refs/changes/84/142884/3 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_packaging.py'],1,177b185297b598d3f635d11e3f959932bc533651,bug/1369768," ['gpg', '--gen-key', '--batch', '--quick-random', config_file], tempdir.path)"," ['gpg', '--gen-key', '--batch', config_file], tempdir.path)",2,1
openstack%2Fmagnum~master~I0dd1cb84690c094c1775ac835136fb4a34e0fc6c,openstack/magnum,master,I0dd1cb84690c094c1775ac835136fb4a34e0fc6c,Fix and clean up BayModel and Bay api,MERGED,2015-01-22 22:49:08.000000000,2015-01-25 20:54:12.000000000,2015-01-25 20:54:11.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 11536}]","[{'number': 1, 'created': '2015-01-22 22:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8391e5655d58223eec206815717c1972f16c660b', 'message': 'Fix and clean up BayModel and Bay api\n\nChange-Id: I0dd1cb84690c094c1775ac835136fb4a34e0fc6c\n'}, {'number': 2, 'created': '2015-01-23 03:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4ed94ed9c9cf8b70cf5c00fa6408867e294f0d31', 'message': 'Fix and clean up BayModel and Bay api\n\nThere are several codes that were ported from Ironic are unused or\nincorrect. This commit is for cleaning up these codes.\n\nChange-Id: I0dd1cb84690c094c1775ac835136fb4a34e0fc6c\n'}, {'number': 3, 'created': '2015-01-23 19:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0dd72c632e617bd23abb0ae94d0a5207d7d78d9c', 'message': 'Fix and clean up BayModel and Bay api\n\nThere are several codes that were ported from Ironic are unused or\nincorrect. This commit is for cleaning up these codes.\n\nChange-Id: I0dd1cb84690c094c1775ac835136fb4a34e0fc6c\n'}, {'number': 4, 'created': '2015-01-23 20:15:38.000000000', 'files': ['magnum/api/controllers/v1/baymodel.py', 'magnum/tests/api/controllers/v1/test_bay.py', 'magnum/api/controllers/v1/bay.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/97e7fcdb7eaa2cfab705d954a5e4e9fcede078f5', 'message': 'Fix and clean up BayModel and Bay api\n\nThere are several codes that were ported from Ironic are unused or\nincorrect. This commit is for cleaning up these codes.\n\nChange-Id: I0dd1cb84690c094c1775ac835136fb4a34e0fc6c\n'}]",12,149421,97e7fcdb7eaa2cfab705d954a5e4e9fcede078f5,22,5,4,11536,,,0,"Fix and clean up BayModel and Bay api

There are several codes that were ported from Ironic are unused or
incorrect. This commit is for cleaning up these codes.

Change-Id: I0dd1cb84690c094c1775ac835136fb4a34e0fc6c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/21/149421/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/baymodel.py', 'magnum/tests/api/controllers/v1/test_bay.py', 'magnum/api/controllers/v1/bay.py']",3,8391e5655d58223eec206815717c1972f16c660b,restapi," return ['/baymodel_id'] _baymodel_id = None def _get_baymodel_id(self): return self._baymodel_id def _set_baymodel_id(self, value): if value and self._baymodel_id != value: try: baymodel = objects.BayModel.get(pecan.request.context, value) self._baymodel_id = baymodel.uuid self._baymodel_id = wtypes.Unset baymodel_id = wsme.wsproperty(wtypes.text, _get_baymodel_id, _set_baymodel_id, mandatory=True) for field in objects.Bay.fields:"," return ['/bay_uuid'] _bay_uuid = None def _get_bay_uuid(self): return self._bay_uuid def _set_bay_uuid(self, value): if value and self._bay_uuid != value: try: # FIXME(comstud): One should only allow UUID here, but # there seems to be a bug in that tests are passing an # ID. See bug #1301046 for more details. bay = objects.Bay.get(pecan.request.context, value) self._bay_uuid = bay.uuid # NOTE(lucasagomes): Create the bay_id attribute on-the-fly # to satisfy the api -> rpc object # conversion. self.bay_id = bay.id self._bay_uuid = wtypes.Unset baymodel_id = wtypes.text fields = list(objects.Bay.fields) # NOTE(lucasagomes): bay_uuid is not part of objects.Bay.fields # because it's an API-only attribute fields.append('bay_uuid') for field in fields: # NOTE(lucasagomes): bay_id is an attribute created on-the-fly # by _set_bay_uuid(), it needs to be present in the fields so # that as_dict() will contain bay_id field when converting it # before saving it in the database. self.fields.append('bay_id') setattr(self, 'bay_uuid', kwargs.get('bay_id', wtypes.Unset)) # never expose the bay_id attribute bay.bay_id = wtypes.Unset # NOTE(lucasagomes): bay_uuid getter() method look at the # _bay_uuid variable sample._bay_uuid = '7ae81bb3-dec3-4289-8d6c-da80bd8001ae' # NOTE(lucasagomes): # 1) Remove bay_id because it's an internal value and # not present in the API object # 2) Add bay_uuid bay_dict['bay_uuid'] = bay_dict.pop('bay_id', None)",20,89
openstack%2Fcinder~master~I4cb86c0efd7520904fdf2288048d07cc40ed3a13,openstack/cinder,master,I4cb86c0efd7520904fdf2288048d07cc40ed3a13,Fix _usage_from_snapshot in volume.utils,MERGED,2014-11-06 13:36:53.000000000,2015-01-25 17:10:12.000000000,2015-01-25 17:10:10.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2861}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 6491}, {'_account_id': 7219}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9533}, {'_account_id': 9751}, {'_account_id': 10503}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11903}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13273}, {'_account_id': 13628}, {'_account_id': 13636}, {'_account_id': 13861}, {'_account_id': 13900}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14305}]","[{'number': 1, 'created': '2014-11-06 13:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb20530bcdfdd180acc29ed021323b312e8de7b8', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1379794\n""}, {'number': 2, 'created': '2014-11-06 13:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8917643d3f6db0ec62d97b3b2669050b39b145cc', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1390064""}, {'number': 3, 'created': '2014-12-22 12:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4675afd41d0388d84a906b977d19b259610b7772', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1379794\n""}, {'number': 4, 'created': '2014-12-30 11:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86bf3bf18570934212b86352277dcdd5e5e714fc', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1379794\n""}, {'number': 5, 'created': '2014-12-30 11:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5e8a1b4a0a955c527f028e44a4b212adca74143', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1379794\n""}, {'number': 6, 'created': '2015-01-19 16:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/068cc62fc191d8ba247bacf9cd3684a389f25507', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1379794\n""}, {'number': 7, 'created': '2015-01-22 13:59:49.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad5d20a26628cbd5266645a73b98970934a5e6d2', 'message': ""Fix _usage_from_snapshot in volume.utils\n\nNow in this function we trying to get snapshot_ref.volume for\ncollecting 'availability_zone'. It's invalid because snapshot_ref\nin this function is __dict__. In this patchset there is fix for\nit.\n\nChange-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13\nCloses-bug: #1390064""}]",6,133031,ad5d20a26628cbd5266645a73b98970934a5e6d2,87,36,7,7729,,,0,"Fix _usage_from_snapshot in volume.utils

Now in this function we trying to get snapshot_ref.volume for
collecting 'availability_zone'. It's invalid because snapshot_ref
in this function is __dict__. In this patchset there is fix for
it.

Change-Id: I4cb86c0efd7520904fdf2288048d07cc40ed3a13
Closes-bug: #1390064",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/133031/7 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/utils.py'],1,eb20530bcdfdd180acc29ed021323b312e8de7b8,snapshot_notifications," 'availability_zone': snapshot_ref['volume']['availability_zone'],"," 'availability_zone': snapshot_ref.volume['availability_zone'],",1,1
openstack%2Fcookbook-openstack-network~master~Iac23a592ad67998df2b5a220cfccc84e10ad35d1,openstack/cookbook-openstack-network,master,Iac23a592ad67998df2b5a220cfccc84e10ad35d1,Add radvd to neutron_l3_packages to support ipv6,MERGED,2015-01-20 09:24:56.000000000,2015-01-25 16:40:48.000000000,2015-01-25 16:40:47.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 7515}, {'_account_id': 9488}, {'_account_id': 9970}, {'_account_id': 12588}]","[{'number': 1, 'created': '2015-01-20 09:24:56.000000000', 'files': ['spec/l3_agent_spec.rb', 'attributes/default.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/c1dd7bea8579f7924a4c63c36e81cab4612d69b1', 'message': ""Add radvd to neutron_l3_packages to support ipv6\n\nRadvd is needed by neutron-l3-agent when enable ipv6 on openstack,\nit's used to broadcast RA message on a ipv6 subnet. To support ipv6,\nwe should install radvd as long as neutron-l3-agent.\n\nChange-Id: Iac23a592ad67998df2b5a220cfccc84e10ad35d1\nCloses-Bug:1412681\n""}]",0,148472,c1dd7bea8579f7924a4c63c36e81cab4612d69b1,10,6,1,7515,,,0,"Add radvd to neutron_l3_packages to support ipv6

Radvd is needed by neutron-l3-agent when enable ipv6 on openstack,
it's used to broadcast RA message on a ipv6 subnet. To support ipv6,
we should install radvd as long as neutron-l3-agent.

Change-Id: Iac23a592ad67998df2b5a220cfccc84e10ad35d1
Closes-Bug:1412681
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/72/148472/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/l3_agent_spec.rb', 'attributes/default.rb', 'CHANGELOG.md']",3,c1dd7bea8579f7924a4c63c36e81cab4612d69b1,bug/1412681,* Add radvd to neutron_l3_packages to support ipv6,,8,3
openstack%2Fcookbook-openstack-common~master~I5b3b90324ee0f9bf6b2c5278ad60724856d43321,openstack/cookbook-openstack-common,master,I5b3b90324ee0f9bf6b2c5278ad60724856d43321,Allow different URLs for internal/public endpoints,MERGED,2015-01-21 17:53:20.000000000,2015-01-25 16:22:36.000000000,2015-01-25 16:22:34.000000000,"[{'_account_id': 3}, {'_account_id': 1298}, {'_account_id': 7128}, {'_account_id': 12588}, {'_account_id': 12612}]","[{'number': 1, 'created': '2015-01-21 17:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/bcb3f48ec265283b4427ab3fd71b9b992ce69a2b', 'message': ""Allow different URLs for internal/public endpoints\n\nProvide new endpoint routines for admin_endpoint, internal_endpoint,\nand public_endpoint. These will allow folks to specify different URLs\nfor those endpoints if they wish.\n\nThis is the first part of the fix. After the routines have been merged,\nI'll start working on using the routines in the various component\nrecipies.\n\nChange-Id: I5b3b90324ee0f9bf6b2c5278ad60724856d43321\nPartial-Bug: 1412919\n""}, {'number': 2, 'created': '2015-01-21 21:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/71d70da7f768a288bc585ad9af3e462be3568370', 'message': ""Allow different URLs for internal/public endpoints\n\nProvide new endpoint routines for admin_endpoint, internal_endpoint,\nand public_endpoint. These will allow folks to specify different URLs\nfor those endpoints if they wish.\n\nThis is the first part of the fix. After the routines have been merged,\nI'll start working on using the routines in the various component\nrecipies.\n\nChange-Id: I5b3b90324ee0f9bf6b2c5278ad60724856d43321\nPartial-Bug: 1412919\n""}, {'number': 3, 'created': '2015-01-21 22:29:26.000000000', 'files': ['libraries/endpoints.rb', 'attributes/default.rb', 'spec/endpoints_spec.rb', 'CHANGELOG.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/0bd89832123afa196fe1c5fbd5a6e560616fe128', 'message': ""Allow different URLs for internal/public endpoints\n\nProvide new endpoint routines for admin_endpoint, internal_endpoint,\nand public_endpoint. These will allow folks to specify different URLs\nfor those endpoints if they wish.\n\nThis is the first part of the fix. After the routines have been merged,\nI'll start working on using the routines in the various component\nrecipies.\n\nChange-Id: I5b3b90324ee0f9bf6b2c5278ad60724856d43321\nPartial-Bug: 1412919\n""}]",7,149012,0bd89832123afa196fe1c5fbd5a6e560616fe128,21,5,3,1298,,,0,"Allow different URLs for internal/public endpoints

Provide new endpoint routines for admin_endpoint, internal_endpoint,
and public_endpoint. These will allow folks to specify different URLs
for those endpoints if they wish.

This is the first part of the fix. After the routines have been merged,
I'll start working on using the routines in the various component
recipies.

Change-Id: I5b3b90324ee0f9bf6b2c5278ad60724856d43321
Partial-Bug: 1412919
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/12/149012/1 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/endpoints.rb', 'spec/endpoints_spec.rb']",2,bcb3f48ec265283b4427ab3fd71b9b992ce69a2b,bug/1412919," describe '#admin_endpoint' do it 'returns nil admin_endpoint when not exists' do allow(subject).to receive(:node).and_return({}) expect( subject.admin_endpoint('nonexisting') ).to be_nil end it 'returns general endpoint no admin endpoint exists' do uri_hash = { 'openstack' => { 'endpoints' => { 'compute-api' => { 'uri' => 'http://localhost:8080/path' } } } } allow(subject).to receive(:node).and_return(uri_hash) expect(subject.admin_endpoint('compute-api').to_s).to eq('http://localhost:8080/path') end it 'returns admin endpoint when it exists' do uri_hash = { 'openstack' => { 'endpoints' => { 'compute-api' => { 'uri' => 'http://localhost:8080/path' }, 'admin' => { 'compute-api' => { 'uri' => 'https://localhost:1234/path' } } } } } allow(subject).to receive(:node).and_return(uri_hash) expect(subject.admin_endpoint('compute-api').to_s).to eq('https://localhost:1234/path') # Make sure that the general endpoint didn't break expect(subject.endpoint('compute-api').to_s).to eq('http://localhost:8080/path') end end describe '#public_endpoint' do it 'returns nil public_endpoint when not exists' do allow(subject).to receive(:node).and_return({}) expect( subject.public_endpoint('nonexisting') ).to be_nil end it 'returns general endpoint no public endpoint exists' do uri_hash = { 'openstack' => { 'endpoints' => { 'compute-api' => { 'uri' => 'http://localhost:8080/path' } } } } allow(subject).to receive(:node).and_return(uri_hash) expect(subject.public_endpoint('compute-api').to_s).to eq('http://localhost:8080/path') end it 'returns public endpoint when it exists' do uri_hash = { 'openstack' => { 'endpoints' => { 'compute-api' => { 'uri' => 'http://localhost:8080/path' }, 'public' => { 'compute-api' => { 'uri' => 'https://localhost:1234/path' } } } } } allow(subject).to receive(:node).and_return(uri_hash) expect(subject.public_endpoint('compute-api').to_s).to eq('https://localhost:1234/path') # Make sure that the general endpoint didn't break expect(subject.endpoint('compute-api').to_s).to eq('http://localhost:8080/path') end end describe '#internal_endpoint' do it 'returns nil internal_endpoint when not exists' do allow(subject).to receive(:node).and_return({}) expect( subject.internal_endpoint('nonexisting') ).to be_nil end it 'returns general endpoint no internal endpoint exists' do uri_hash = { 'openstack' => { 'endpoints' => { 'compute-api' => { 'uri' => 'http://localhost:8080/path' } } } } allow(subject).to receive(:node).and_return(uri_hash) expect(subject.internal_endpoint('compute-api').to_s).to eq('http://localhost:8080/path') end it 'returns internal endpoint when it exists' do uri_hash = { 'openstack' => { 'endpoints' => { 'compute-api' => { 'uri' => 'http://localhost:8080/path' }, 'internal' => { 'compute-api' => { 'uri' => 'https://localhost:1234/path' } } } } } allow(subject).to receive(:node).and_return(uri_hash) expect(subject.internal_endpoint('compute-api').to_s).to eq('https://localhost:1234/path') # Make sure that the general endpoint didn't break expect(subject.endpoint('compute-api').to_s).to eq('http://localhost:8080/path') end end ",,159,0
openstack%2Fopenstack-manuals~master~I38a0bc52852186da561a337672368a1bd41c3d16,openstack/openstack-manuals,master,I38a0bc52852186da561a337672368a1bd41c3d16,If possible run curl as unprivileged user and not as root,MERGED,2015-01-25 09:27:32.000000000,2015-01-25 10:36:32.000000000,2015-01-25 10:36:31.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2015-01-25 09:27:32.000000000', 'files': ['doc/user-guide/section_object-api-versioning.xml', 'doc/user-guide/section_object-api-response-formats.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6c8ce32ea14e413feb33679c54beb1c659802685', 'message': 'If possible run curl as unprivileged user and not as root\n\nChange-Id: I38a0bc52852186da561a337672368a1bd41c3d16\n'}]",0,149871,6c8ce32ea14e413feb33679c54beb1c659802685,7,3,1,167,,,0,"If possible run curl as unprivileged user and not as root

Change-Id: I38a0bc52852186da561a337672368a1bd41c3d16
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/71/149871/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/section_object-api-versioning.xml', 'doc/user-guide/section_object-api-response-formats.xml']",2,6c8ce32ea14e413feb33679c54beb1c659802685,use_normal_user_for_curl," <screen><prompt>$</prompt> <userinput>curl -i $publicURL?format=json -X GET -H ""X-Auth-Token: $token""</userinput></screen> <screen><prompt>$</prompt> <userinput>curl -i $publicURL -X GET -H ""X-Auth-Token: $token"" -H ""Accept: application/xml; charset=utf-8""</userinput></screen>"," <screen><prompt>#</prompt> <userinput>curl -i $publicURL?format=json -X GET -H ""X-Auth-Token: $token""</userinput></screen> <screen><prompt>#</prompt> <userinput>curl -i $publicURL -X GET -H ""X-Auth-Token: $token"" -H ""Accept: application/xml; charset=utf-8""</userinput></screen>",10,10
openstack%2Fbarbican~master~I17cbc69a28020ad31e7feb6b73cc30b75b4983f1,openstack/barbican,master,I17cbc69a28020ad31e7feb6b73cc30b75b4983f1,Include logging for barbican functional tests,MERGED,2015-01-23 18:15:58.000000000,2015-01-25 10:20:24.000000000,2015-01-25 10:20:23.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-23 18:15:58.000000000', 'files': ['functionaltests/.testr.conf'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6cc64a1223603ab04c5f645fd7d5100f5270b245', 'message': 'Include logging for barbican functional tests\n\nWith this CR the barbican functional test logs will\nappear in the console.html, allowing easier and faster\ndebugging for issues in the devstack gate.\n\nChange-Id: I17cbc69a28020ad31e7feb6b73cc30b75b4983f1\n'}]",0,149697,6cc64a1223603ab04c5f645fd7d5100f5270b245,11,4,1,9234,,,0,"Include logging for barbican functional tests

With this CR the barbican functional test logs will
appear in the console.html, allowing easier and faster
debugging for issues in the devstack gate.

Change-Id: I17cbc69a28020ad31e7feb6b73cc30b75b4983f1
",git fetch https://review.opendev.org/openstack/barbican refs/changes/97/149697/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/.testr.conf'],1,6cc64a1223603ab04c5f645fd7d5100f5270b245,logging,test_command= OS_STDOUT_CAPTURE=${OS_STDOUT_CAPTURE:-1} \ OS_STDERR_CAPTURE=${OS_STDERR_CAPTURE:-1} \ OS_LOG_CAPTURE=${OS_LOG_CAPTURE:-1} \ ${PYTHON:-python} -m subunit.run discover -s ./api -t . $LISTOPT $IDOPTION,test_command=${PYTHON:-python} -m subunit.run discover -s ./api -t . $LISTOPT $IDOPTION,5,1
openstack%2Fapi-site~master~I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2,openstack/api-site,master,I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2,Updated the URL at lines 534 and 628,MERGED,2015-01-23 21:47:48.000000000,2015-01-25 07:28:37.000000000,2015-01-25 07:28:35.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-01-23 21:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/250414c4b42a955dbdb0a63dddaf911e50cbb593', 'message': 'Updated the URL at lines 534 and 628.\n\nChange-Id: I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2\n'}, {'number': 2, 'created': '2015-01-23 22:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/e801ed9830668339968d65ce29ee2f4badf4b2a7', 'message': 'Updated the URL at lines 534 and 628.\n\ncloses-bug:1411754\n\nChange-Id: I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2\n'}, {'number': 3, 'created': '2015-01-23 22:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/19327b9fc61ae7b72b24ad07e8506a7b00618553', 'message': 'Updated the URL at lines 534 and 628\n\ncloses-bug:1411754\n\nChange-Id: I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2\n'}, {'number': 4, 'created': '2015-01-25 07:06:54.000000000', 'files': ['api-ref/src/wadls/object-api/src/common.ent'], 'web_link': 'https://opendev.org/openstack/api-site/commit/1d8825e085884fadf993093e36e88b1ccc42ab18', 'message': 'Updated the URL at lines 534 and 628\n\nCloses-bug: #1411754\n\nChange-Id: I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2\n'}]",2,149764,1d8825e085884fadf993093e36e88b1ccc42ab18,15,4,4,14796,,,0,"Updated the URL at lines 534 and 628

Closes-bug: #1411754

Change-Id: I2fbeba4360b3b2f43aad96a36b2eaae94c880ee2
",git fetch https://review.opendev.org/openstack/api-site refs/changes/64/149764/4 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/object-api/src/common.ent'],1,250414c4b42a955dbdb0a63dddaf911e50cbb593,fix-bug-1411754," xlink:href=""http://docs.openstack.org/developer/swift/api/temporary_url_middleware.html"" xlink:href=""http://docs.openstack.org/developer/swift/api/temporary_url_middleware.html"""," xlink:href=""http://docs.openstack.org/api/openstack-object-storage/1.0/content/"" xlink:href=""http://docs.openstack.org/api/openstack-object-storage/1.0/content/""",2,2
openstack%2Fopenstack-manuals~master~I36f437861212415307453cda7fa850a8e7ff6663,openstack/openstack-manuals,master,I36f437861212415307453cda7fa850a8e7ff6663,Imported Translations from Transifex,MERGED,2015-01-25 06:12:32.000000000,2015-01-25 07:10:21.000000000,2015-01-25 07:10:21.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-25 06:12:32.000000000', 'files': ['doc/common/locale/common.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/common/locale/fr.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/02ab3f696a950d62df428576124310aea2d30fc8', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I36f437861212415307453cda7fa850a8e7ff6663\n'}]",0,149865,02ab3f696a950d62df428576124310aea2d30fc8,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I36f437861212415307453cda7fa850a8e7ff6663
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/65/149865/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/locale/common.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/common/locale/fr.po']",4,02ab3f696a950d62df428576124310aea2d30fc8,transifex/translations,"""POT-Creation-Date: 2015-01-24 21:39+0000\n"" ""PO-Revision-Date: 2015-01-24 22:01+0000\n""#: ./doc/common/section_cli_nova_boot_from_volume.xml188(para) #: ./doc/common/section_cli_cinder_manage_volumes.xml335(para) #: ./doc/common/section_cli_cinder_manage_volumes.xml349(para) #: ./doc/common/section_cli_cinder_manage_volumes.xml393(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml181(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml185(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml327(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml203(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml215(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml222(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml231(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml248(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml189(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml327(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml190(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml193(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml198(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml203(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml205(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml215(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml217(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml222(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml224(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml231(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml233(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml238(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml240(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml248(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml250(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml258(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml264(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml305(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml318(title)#: ./doc/common/section_cli_nova_boot_from_volume.xml319(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml325(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml327(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml329(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml292(replaceable) msgid ""VOLUME_ID"" msgstr ""ID_VOLUME"" #: ./doc/common/section_cli_cinder_manage_volumes.xml294(replaceable) msgid ""TRANSFER_ID"" msgstr """" #: ./doc/common/section_cli_cinder_manage_volumes.xml290(para) msgid """" ""While the <parameter>auth_key</parameter> property is visible in the output "" ""of <placeholder-1/>, it will not be available in subsequent <placeholder-2/>"" "" commands."" msgstr """" #: ./doc/common/section_cli_cinder_manage_volumes.xml299(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml304(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml313(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml325(title)#: ./doc/common/section_cli_cinder_manage_volumes.xml328(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml333(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml334(replaceable) #: ./doc/common/section_cli_cinder_manage_volumes.xml348(replaceable) #: ./doc/common/section_cli_cinder_manage_volumes.xml392(replaceable)#: ./doc/common/section_cli_cinder_manage_volumes.xml347(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml348(replaceable)#: ./doc/common/section_cli_cinder_manage_volumes.xml359(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml367(title)#: ./doc/common/section_cli_cinder_manage_volumes.xml371(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml382(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml391(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml397(para)","""POT-Creation-Date: 2015-01-23 18:22+0000\n"" ""PO-Revision-Date: 2015-01-23 10:24+0000\n""#: ./doc/common/section_cli_nova_boot_from_volume.xml191(para) #: ./doc/common/section_cli_cinder_manage_volumes.xml327(para) #: ./doc/common/section_cli_cinder_manage_volumes.xml341(para) #: ./doc/common/section_cli_cinder_manage_volumes.xml385(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml184(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml188(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml330(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml206(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml218(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml225(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml234(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml251(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml192(replaceable) #: ./doc/common/section_cli_nova_boot_from_volume.xml330(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml193(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml196(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml201(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml206(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml208(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml218(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml220(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml225(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml227(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml234(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml236(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml241(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml243(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml251(emphasis)#: ./doc/common/section_cli_nova_boot_from_volume.xml253(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml261(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml267(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml308(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml321(title)#: ./doc/common/section_cli_nova_boot_from_volume.xml322(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml328(para)#: ./doc/common/section_cli_nova_boot_from_volume.xml330(replaceable)#: ./doc/common/section_cli_nova_boot_from_volume.xml332(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml291(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml296(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml305(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml317(title)#: ./doc/common/section_cli_cinder_manage_volumes.xml320(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml325(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml326(replaceable) #: ./doc/common/section_cli_cinder_manage_volumes.xml340(replaceable) #: ./doc/common/section_cli_cinder_manage_volumes.xml384(replaceable)#: ./doc/common/section_cli_cinder_manage_volumes.xml339(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml340(replaceable)#: ./doc/common/section_cli_cinder_manage_volumes.xml351(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml359(title)#: ./doc/common/section_cli_cinder_manage_volumes.xml363(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml374(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml383(para)#: ./doc/common/section_cli_cinder_manage_volumes.xml389(para)",250,208
openstack%2Fha-guide~master~I6ccb904b73b9b16e679df4064c90cbef5a170dee,openstack/ha-guide,master,I6ccb904b73b9b16e679df4064c90cbef5a170dee,Imported Translations from Transifex,MERGED,2015-01-24 06:00:42.000000000,2015-01-25 07:09:54.000000000,2015-01-25 07:09:53.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2015-01-24 06:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/ce9fc1bc33d88f14eb378644579f2418d1752d60', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I6ccb904b73b9b16e679df4064c90cbef5a170dee\n'}, {'number': 2, 'created': '2015-01-25 06:00:23.000000000', 'files': ['doc/high-availability-guide/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/67421a789e8127c4d82f283256fe4eb5f329d581', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I6ccb904b73b9b16e679df4064c90cbef5a170dee\n'}]",0,149809,67421a789e8127c4d82f283256fe4eb5f329d581,9,3,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I6ccb904b73b9b16e679df4064c90cbef5a170dee
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/09/149809/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/high-availability-guide/locale/zh_CN.po'],1,ce9fc1bc33d88f14eb378644579f2418d1752d60,transifex/translations,"""POT-Creation-Date: 2015-01-23 07:02+0000\n"" ""PO-Revision-Date: 2015-01-24 04:37+0000\n""msgstr "" OpenStack  API  API / HA  API  IP  <application>HAProxy</application>  <application>Keepalived</application> ""","""POT-Creation-Date: 2015-01-07 12:21+0000\n"" ""PO-Revision-Date: 2015-01-19 16:31+0000\n""msgstr """"",3,3
openstack%2Fproject-config~master~I653085276919f70bd76121be4e3ab58b112d4048,openstack/project-config,master,I653085276919f70bd76121be4e3ab58b112d4048,Move check-tempest-dsvm-full-ceph to the check queue (non-voting),MERGED,2015-01-15 15:41:30.000000000,2015-01-25 02:47:30.000000000,2015-01-25 02:47:29.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1106}, {'_account_id': 1849}, {'_account_id': 2537}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 4523}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-01-15 15:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/af3039b5973d6f80f621538f6db051e5dcb3e294', 'message': ""Move check-tempest-dsvm-full-ceph to the check queue (non-voting)\n\nWith nova change I310f6b62a790e4549a2cf9ff3842655da552177a the ceph job\non the experimental queue is passing so let's move it to the check queue\n(still as non-voting) to let it burn in before making it voting.\n\nChange-Id: I653085276919f70bd76121be4e3ab58b112d4048\n""}, {'number': 2, 'created': '2015-01-15 20:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/db7ba376bcb88cd1e07315a7d5511f7795cff0fc', 'message': ""Move check-tempest-dsvm-full-ceph to the check queue (non-voting)\n\nWith nova change I310f6b62a790e4549a2cf9ff3842655da552177a the ceph job\non the experimental queue is passing so let's move it to the check queue\n(still as non-voting) to let it burn in before making it voting.\n\nMove to cinder and nova check queues\n\nChange-Id: I653085276919f70bd76121be4e3ab58b112d4048\n""}, {'number': 3, 'created': '2015-01-25 02:35:45.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aefc393cc359d18b3f8dec7c2b3c8e3f330dc563', 'message': ""Move check-tempest-dsvm-full-ceph to the check queue (non-voting)\n\nWith nova change I310f6b62a790e4549a2cf9ff3842655da552177a the ceph job\non the experimental queue is passing so let's move it to the check queue\n(still as non-voting) to let it burn in before making it voting.\n\nMove to cinder and nova check queues\n\nChange-Id: I653085276919f70bd76121be4e3ab58b112d4048\n""}]",2,147559,aefc393cc359d18b3f8dec7c2b3c8e3f330dc563,20,9,3,6873,,,0,"Move check-tempest-dsvm-full-ceph to the check queue (non-voting)

With nova change I310f6b62a790e4549a2cf9ff3842655da552177a the ceph job
on the experimental queue is passing so let's move it to the check queue
(still as non-voting) to let it burn in before making it voting.

Move to cinder and nova check queues

Change-Id: I653085276919f70bd76121be4e3ab58b112d4048
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/147559/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,af3039b5973d6f80f621538f6db051e5dcb3e294,ceph-check-queue, - 'check-tempest-dsvm-full-ceph', - 'check-tempest-dsvm-full-ceph',1,1
openstack%2Fcinder~master~Iad5ceb9305aa5b03f429a8f624eb7f51d0ca6814,openstack/cinder,master,Iad5ceb9305aa5b03f429a8f624eb7f51d0ca6814,Improve debug logging of Dell Storage Center driver,MERGED,2015-01-20 23:08:58.000000000,2015-01-25 02:37:57.000000000,2015-01-22 21:21:03.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 6491}, {'_account_id': 7160}, {'_account_id': 7219}, {'_account_id': 9751}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}, {'_account_id': 14305}]","[{'number': 1, 'created': '2015-01-20 23:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f846f6052aaa6c9c419185201dfe77a56373581e', 'message': 'Improve debug logging of Storage Center driver\n\nAdding debug message and expanding some existing log statements\nto make debugging and auditing easier. Some interesting calls\nwere not being logged while others had logging that was missing\nsome relevant arguments.\n\nChange-Id: Iad5ceb9305aa5b03f429a8f624eb7f51d0ca6814\n'}, {'number': 2, 'created': '2015-01-21 14:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c66c592fc9992d7f462db36a13bb1686971b586', 'message': 'Improve debug logging of Dell Storage Center driver\n\nAdding debug message and expanding some existing log statements\nto make debugging and auditing easier. Some interesting calls\nwere not being logged while others had logging that was missing\nsome relevant arguments.\n\nChange-Id: Iad5ceb9305aa5b03f429a8f624eb7f51d0ca6814\n'}, {'number': 3, 'created': '2015-01-22 17:08:57.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb1e70c8d9b1ee8323a0a856a70d0528f37cbd0e', 'message': 'Improve debug logging of Dell Storage Center driver\n\nAdding debug message and expanding some existing log statements\nto make debugging and auditing easier. Some interesting calls\nwere not being logged while others had logging that was missing\nsome relevant arguments.\n\nChange-Id: Iad5ceb9305aa5b03f429a8f624eb7f51d0ca6814\n'}]",6,148744,fb1e70c8d9b1ee8323a0a856a70d0528f37cbd0e,45,23,3,11904,,,0,"Improve debug logging of Dell Storage Center driver

Adding debug message and expanding some existing log statements
to make debugging and auditing easier. Some interesting calls
were not being logged while others had logging that was missing
some relevant arguments.

Change-Id: Iad5ceb9305aa5b03f429a8f624eb7f51d0ca6814
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/148744/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py']",2,f846f6052aaa6c9c419185201dfe77a56373581e,," LOG.debug('Expiring replay %s', replayid)",,27,8
openstack%2Fcinder~master~I98060d5a0bcd720df15434305ab8d3e31bdb1a43,openstack/cinder,master,I98060d5a0bcd720df15434305ab8d3e31bdb1a43,Raise correct exception if deleting of LIO iSCSI target is failed,MERGED,2015-01-23 23:16:29.000000000,2015-01-25 02:24:54.000000000,2015-01-25 02:24:52.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-23 23:16:29.000000000', 'files': ['cinder/exception.py', 'cinder/tests/targets/test_lio_driver.py', 'cinder/volume/targets/lio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/40e7f19a67070af762743b883eeb49e3aca0c379', 'message': 'Raise correct exception if deleting of LIO iSCSI target is failed\n\nWhen using LVM driver and LIO target, terminate_connection in LIO\ntarget raises ISCSITargetAttachFailed if deleting of iSCSI target\nis failed.\n\nThis should raise ISCSITargetDetachFailed.\n\nCloses-Bug: #1414207\nChange-Id: I98060d5a0bcd720df15434305ab8d3e31bdb1a43\n'}]",0,149787,40e7f19a67070af762743b883eeb49e3aca0c379,20,15,1,10115,,,0,"Raise correct exception if deleting of LIO iSCSI target is failed

When using LVM driver and LIO target, terminate_connection in LIO
target raises ISCSITargetAttachFailed if deleting of iSCSI target
is failed.

This should raise ISCSITargetDetachFailed.

Closes-Bug: #1414207
Change-Id: I98060d5a0bcd720df15434305ab8d3e31bdb1a43
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/149787/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/tests/targets/test_lio_driver.py', 'cinder/volume/targets/lio.py']",3,40e7f19a67070af762743b883eeb49e3aca0c379,bug/1414207, raise exception.ISCSITargetDetachFailed(volume_id=volume['id']), raise exception.ISCSITargetAttachFailed(volume_id=volume['id']),29,1
openstack%2Fdevstack~master~I1db542d9570c88c327ca9334124ca13e877adfed,openstack/devstack,master,I1db542d9570c88c327ca9334124ca13e877adfed,DO NOT MERGE: testing if lvm ephemeral encryption works in nova,ABANDONED,2014-10-03 14:44:11.000000000,2015-01-25 01:58:56.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 6802}, {'_account_id': 8623}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-03 14:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/75304ed2cef2d4d342dab6e21658dca53c7153da', 'message': 'DO NOT MERGE: testing if lvm ephemeral encryption works in nova\n\nChange-Id: I1db542d9570c88c327ca9334124ca13e877adfed\n'}, {'number': 2, 'created': '2014-10-03 14:45:21.000000000', 'files': ['lib/nova', 'unstack.sh', 'lib/nova_backends/lvm', 'stackrc', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d178f03512f8839f2dc9c6e19167651990b9e94e', 'message': 'DO NOT MERGE: testing if lvm ephemeral encryption works in nova\n\nChange-Id: I1db542d9570c88c327ca9334124ca13e877adfed\n'}]",0,125987,d178f03512f8839f2dc9c6e19167651990b9e94e,8,8,2,7746,,,0,"DO NOT MERGE: testing if lvm ephemeral encryption works in nova

Change-Id: I1db542d9570c88c327ca9334124ca13e877adfed
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/125987/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'unstack.sh', 'stackrc', 'stack.sh']",4,75304ed2cef2d4d342dab6e21658dca53c7153da,bp/lvm-ephemeral-storage-encryption,if [[ ! ${DISTRO} =~ (precise|raring|trusty|7.0|wheezy|sid|testing|jessie|f19|f20|rhel6|rhel7) ]]; then #cleanup_nova,if [[ ! ${DISTRO} =~ (precise|trusty|7.0|wheezy|sid|testing|jessie|f19|f20|rhel6|rhel7) ]]; then cleanup_nova,29,2
openstack%2Fhacking~master~If71be700af8d3dbbf65d682b0726eededfcc5b75,openstack/hacking,master,If71be700af8d3dbbf65d682b0726eededfcc5b75,WIP: Add skip-slow flag,ABANDONED,2014-04-22 04:00:56.000000000,2015-01-25 01:56:03.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-04-22 04:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/60231719b879b4e3dc78c79821b3644ef014416e', 'message': ""WIP: Add ignore-slow flag\n\nTest: Inside a hacking pep8 venv, 'flake8 --benchmark -qq nova/compute'\n\nHacking 0.8.1\n    4.0 seconds\nflake8 without hacking:\n    1.5 seconds\n    4800 logical lines per second\n    9200 physical lines per second\nFlake8 0.9\n    3.6 seconds\n    2300 logical lines per seconds\n    3900 physical lines per second\nFlake8 0.9 with --skip-slow\n    2.8 seconds\n    3000 logical lines per second\n    5000 physical lines per second\n\nChange-Id: If71be700af8d3dbbf65d682b0726eededfcc5b75\n""}, {'number': 2, 'created': '2014-04-25 22:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/1c723ed6971958d8c114afb3c438dc2b966414c2', 'message': ""WIP: Add skip-slow flag\n\nTest: Inside a hacking pep8 venv, 'flake8 --benchmark -qq nova/compute'\n\nHacking 0.8.1\n    4.0 seconds\nflake8 without hacking:\n    1.5 seconds\n    4800 logical lines per second\n    9200 physical lines per second\nFlake8 0.9\n    3.6 seconds\n    2300 logical lines per seconds\n    3900 physical lines per second\nFlake8 0.9 with --skip-slow\n    2.8 seconds\n    3000 logical lines per second\n    5000 physical lines per second\n\nChange-Id: If71be700af8d3dbbf65d682b0726eededfcc5b75\n""}, {'number': 3, 'created': '2014-04-28 19:58:22.000000000', 'files': ['hacking/checks/localization.py', 'hacking/core.py', 'hacking/checks/imports.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/hacking/commit/5c1df189aae2ce6661603a56830e32176076fc58', 'message': ""WIP: Add skip-slow flag\n\nTest: Inside a hacking pep8 venv, 'flake8 --benchmark -qq nova/compute'\n\nHacking 0.8.1\n    4.0 seconds\nflake8 without hacking:\n    1.5 seconds\n    4800 logical lines per second\n    9200 physical lines per second\nFlake8 0.9\n    3.6 seconds\n    2300 logical lines per seconds\n    3900 physical lines per second\nFlake8 0.9 with --skip-slow\n    2.8 seconds\n    3000 logical lines per second\n    5000 physical lines per second\n\nChange-Id: If71be700af8d3dbbf65d682b0726eededfcc5b75\n""}]",0,89470,5c1df189aae2ce6661603a56830e32176076fc58,14,4,3,1849,,,0,"WIP: Add skip-slow flag

Test: Inside a hacking pep8 venv, 'flake8 --benchmark -qq nova/compute'

Hacking 0.8.1
    4.0 seconds
flake8 without hacking:
    1.5 seconds
    4800 logical lines per second
    9200 physical lines per second
Flake8 0.9
    3.6 seconds
    2300 logical lines per seconds
    3900 physical lines per second
Flake8 0.9 with --skip-slow
    2.8 seconds
    3000 logical lines per second
    5000 physical lines per second

Change-Id: If71be700af8d3dbbf65d682b0726eededfcc5b75
",git fetch https://review.opendev.org/openstack/hacking refs/changes/70/89470/1 && git format-patch -1 --stdout FETCH_HEAD,"['hacking/checks/imports.py', 'setup.cfg']",2,60231719b879b4e3dc78c79821b3644ef014416e,skip-slow, H308 = hacking.checks.imports:RegisterSkipSlow,,32,3
openstack%2Fneutron~master~Ic12622394dd31d9df60aad72c68473ecad7ac844,openstack/neutron,master,Ic12622394dd31d9df60aad72c68473ecad7ac844,Updated from global requirements,MERGED,2015-01-23 18:43:26.000000000,2015-01-24 23:38:45.000000000,2015-01-24 23:38:43.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-23 18:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbf436a5551e073def2e7eb8c557dfb5ac2a5245', 'message': 'Updated from global requirements\n\nChange-Id: Ic12622394dd31d9df60aad72c68473ecad7ac844\n'}, {'number': 2, 'created': '2015-01-23 21:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c883d772743cc97b0c2c6c09f9188c83187c8915', 'message': 'Updated from global requirements\n\nChange-Id: Ic12622394dd31d9df60aad72c68473ecad7ac844\n'}, {'number': 3, 'created': '2015-01-24 01:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/978b743b7990fd848d17d48b7bb7d1a689e75cd6', 'message': 'Updated from global requirements\n\nChange-Id: Ic12622394dd31d9df60aad72c68473ecad7ac844\n'}, {'number': 4, 'created': '2015-01-24 20:17:50.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2f06faf893f2cbac282e324591312695cc23908', 'message': 'Updated from global requirements\n\nChange-Id: Ic12622394dd31d9df60aad72c68473ecad7ac844\n'}]",0,149710,f2f06faf893f2cbac282e324591312695cc23908,76,20,4,11131,,,0,"Updated from global requirements

Change-Id: Ic12622394dd31d9df60aad72c68473ecad7ac844
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/149710/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,fbf436a5551e073def2e7eb8c557dfb5ac2a5245,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0",1,1
openstack%2Fneutron-vpnaas~master~Icc80b9102acb87170f2d1cda06c848fa71bb1634,openstack/neutron-vpnaas,master,Icc80b9102acb87170f2d1cda06c848fa71bb1634,vpn namespace wrapper,MERGED,2015-01-12 15:52:41.000000000,2015-01-24 23:26:24.000000000,2015-01-24 23:26:23.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 2035}, {'_account_id': 2711}, {'_account_id': 2888}, {'_account_id': 6659}, {'_account_id': 7183}, {'_account_id': 7448}, {'_account_id': 10980}, {'_account_id': 11822}]","[{'number': 1, 'created': '2015-01-12 15:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ea3d5d8ba6b5050ba0125f4e61d450edaa8ec412', 'message': 'netns wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/tmp/ipsec/<process-id>/etc, \\\n/var/run:/tmp/ipsec/<process-id>/var/run --cmd=ipsec,status\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 2, 'created': '2015-01-13 01:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/33acf7b46c0b51f6ec0f488bcf43cc638da13b18', 'message': 'netns wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/tmp/ipsec/<process-id>/etc, \\\n/var/run:/tmp/ipsec/<process-id>/var/run --cmd=ipsec,status\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 3, 'created': '2015-01-15 06:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/83eab777d534eed2139aa101c3a859898eb5a8db', 'message': 'netns wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/tmp/ipsec/<process-id>/etc, \\\n/var/run:/tmp/ipsec/<process-id>/var/run --cmd=ipsec,status\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 4, 'created': '2015-01-16 15:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/11dda2648fc452a9552267c7629026a829ec33b8', 'message': 'netns wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/tmp/ipsec/<process-id>/etc, \\\n/var/run:/tmp/ipsec/<process-id>/var/run --cmd=ipsec,status\n\nBoth sudoers and rootwrap.conf will not exist in the\ndirectory /etc after bind-mount, thus we can\'t use\nutils.execute(cmd, conf.root_helper) in\nneutron/agent/linux/utils.py. so implement a function\nexecte(cmd) in this wrapper as an alternative. then we can\nuse root_helper to invoke this wrapper to make sure all\ncommands are still running as root as below code shows.\nFinally also need to check in wrapper if cmd matches\nCommandFilter based on the same reason.\nip_wrapper = ip_lib.IPWrapper(root_helper, namespace)\n    ip_wrapper.netns.execute(\n    [NS_WRAPPER,\n    \'--mount_paths=/etc:%s/etc,/var/run:%s/var/run\' % (\n    self.config_dir, self.config_dir),\n    \'--cmd=%s\' % \',\'.join(cmd)],\n    check_exit_code=check_exit_code)\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 5, 'created': '2015-01-19 11:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/e8895b5fce711e1f92285a78ca88fe767891f6f9', 'message': 'vpn namespace wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/var/lib/neutron/vpnaas/<xxxx-id>/etc, \\\n/var/run:/var/lib/neutron/vpnaas/<xxxx-id>/var/run \\\n--cmd=ipsec,status\n\nBoth sudoers and rootwrap.conf will not exist in the\ndirectory /etc after bind-mount, thus we can\'t use\nutils.execute(cmd, conf.root_helper) in\nneutron/agent/linux/utils.py. so implement a function\nexecte(cmd) in this wrapper as an alternative. then we can\nuse root_helper to invoke this wrapper to make sure all\ncommands are still running as root as below code shows.\nFinally also need to check in wrapper if cmd matches\nCommandFilter based on the same reason.\nip_wrapper = ip_lib.IPWrapper(root_helper, namespace)\n    ip_wrapper.netns.execute(\n    [NS_WRAPPER,\n    \'--mount_paths=/etc:%s/etc,/var/run:%s/var/run\' % (\n    self.config_dir, self.config_dir),\n    \'--cmd=%s\' % \',\'.join(cmd)],\n    check_exit_code=check_exit_code)\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nThis patch is based on patchset67 of nachi\'s initial\nvpnaas implementation, many thanks to nachi.\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 6, 'created': '2015-01-21 08:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9052b7bb01cb26bd7213201cc59c024eb41bd004', 'message': 'vpn namespace wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/var/lib/neutron/vpnaas/<xxxx-id>/etc, \\\n/var/run:/var/lib/neutron/vpnaas/<xxxx-id>/var/run \\\n--cmd=ipsec,status\n\nBoth sudoers and rootwrap.conf will not exist in the\ndirectory /etc after bind-mount, thus we can\'t use\nutils.execute(cmd, conf.root_helper) in\nneutron/agent/linux/utils.py. so implement a function\nexecte(cmd) in this wrapper as an alternative. then we can\nuse root_helper to invoke this wrapper to make sure all\ncommands are still running as root as below code shows.\nFinally also need to check in wrapper if cmd matches\nCommandFilter based on the same reason.\nip_wrapper = ip_lib.IPWrapper(root_helper, namespace)\n    ip_wrapper.netns.execute(\n    [NS_WRAPPER,\n    \'--mount_paths=/etc:%s/etc,/var/run:%s/var/run\' % (\n    self.config_dir, self.config_dir),\n    \'--cmd=%s\' % \',\'.join(cmd)],\n    check_exit_code=check_exit_code)\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nThis patch is based on patchset67 of nachi\'s initial\nvpnaas implementation, many thanks to nachi.\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 7, 'created': '2015-01-21 10:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/809b3d9122dd327a53f7b547ace23d0b51a330a0', 'message': 'vpn namespace wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/var/lib/neutron/vpnaas/<xxxx-id>/etc, \\\n/var/run:/var/lib/neutron/vpnaas/<xxxx-id>/var/run \\\n--cmd=ipsec,status\n\nBoth sudoers and rootwrap.conf will not exist in the\ndirectory /etc after bind-mount, thus we can\'t use\nutils.execute(cmd, conf.root_helper) in\nneutron/agent/linux/utils.py. so implement a function\nexecte(cmd) in this wrapper as an alternative. then we can\nuse root_helper to invoke this wrapper to make sure all\ncommands are still running as root as below code shows.\nFinally also need to check in wrapper if cmd matches\nCommandFilter based on the same reason.\nip_wrapper = ip_lib.IPWrapper(root_helper, namespace)\n    ip_wrapper.netns.execute(\n    [NS_WRAPPER,\n    \'--mount_paths=/etc:%s/etc,/var/run:%s/var/run\' % (\n    self.config_dir, self.config_dir),\n    \'--cmd=%s\' % \',\'.join(cmd)],\n    check_exit_code=check_exit_code)\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nThis patch is based on patchset67 of nachi\'s initial\nvpnaas implementation, many thanks to nachi.\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 8, 'created': '2015-01-22 08:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8c2234d7fa2e3e99757171d0ce65698ca56333b3', 'message': 'vpn namespace wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/var/lib/neutron/vpnaas/<xxxx-id>/etc, \\\n/var/run:/var/lib/neutron/vpnaas/<xxxx-id>/var/run \\\n--cmd=ipsec,status\n\nBoth sudoers and rootwrap.conf will not exist in the\ndirectory /etc after bind-mount, thus we can\'t use\nutils.execute(cmd, conf.root_helper) in\nneutron/agent/linux/utils.py. so implement a function\nexecte(cmd) in this wrapper as an alternative. then we can\nuse root_helper to invoke this wrapper to make sure all\ncommands are still running as root as below code shows.\nFinally also need to check in wrapper if cmd matches\nCommandFilter based on the same reason.\nip_wrapper = ip_lib.IPWrapper(root_helper, namespace)\n    ip_wrapper.netns.execute(\n    [NS_WRAPPER,\n    \'--mount_paths=/etc:%s/etc,/var/run:%s/var/run\' % (\n    self.config_dir, self.config_dir),\n    \'--cmd=%s\' % \',\'.join(cmd)],\n    check_exit_code=check_exit_code)\n\nsubmit this wrapper as a separate reveiew from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nThis patch is based on patchset67 of nachi\'s initial\nvpnaas implementation, many thanks to nachi.\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}, {'number': 9, 'created': '2015-01-23 02:32:24.000000000', 'files': ['neutron_vpnaas/tests/unit/services/vpn/common/test_agent_netns_wrapper.py', 'neutron_vpnaas/tests/unit/services/vpn/common/__init__.py', 'neutron_vpnaas/services/vpn/common/netns_wrapper.py', 'setup.cfg', 'etc/neutron/rootwrap.d/vpnaas.filters'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0cf7671b0a990d0e0583a14bea22c53c4152d2ad', 'message': 'vpn namespace wrapper\n\nstrongSwan doesn\'t support namespace natively, this wrapper\nwill use ""mount --bind"" to simulate the ns like this:\n\nsudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \\\nexec <namespace-id> neutron-netns-wrapper --mount_paths \\\n=/etc:/var/lib/neutron/vpnaas/<xxxx-id>/etc, \\\n/var/run:/var/lib/neutron/vpnaas/<xxxx-id>/var/run \\\n--cmd=ipsec,status\n\nBoth sudoers and rootwrap.conf will not exist in the\ndirectory /etc after bind-mount, thus we can\'t use\nutils.execute(cmd, conf.root_helper) in\nneutron/agent/linux/utils.py. so implement a function\nexecte(cmd) in this wrapper as an alternative. then we can\nuse root_helper to invoke this wrapper to make sure all\ncommands are still running as root as below code shows.\nFinally, also need to check in wrapper if cmd matches\nCommandFilter based on the same reason.\nip_wrapper = ip_lib.IPWrapper(root_helper, namespace)\n    ip_wrapper.netns.execute(\n    [NS_WRAPPER,\n    \'--mount_paths=/etc:%s/etc,/var/run:%s/var/run\' % (\n    self.config_dir, self.config_dir),\n    \'--cmd=%s\' % \',\'.join(cmd)],\n    check_exit_code=check_exit_code)\n\nWe are using check of net namespace (since linux 3.0),\ninstead of mount namespace (since Linux 3.8), as older\nkernels do not support mount namespace. In addition,\nmount --bind has been available since Linux 2.4. so we\ndon\'t need to worry kilo\'s minumum kernel requirement.\n\nThis patch is based on patchset67 of nachi\'s initial\nvpnaas implementation, many thanks to nachi.\n\nsubmit this wrapper as a separate review from [1].\n\n[1] https://review.openstack.org/#/c/144391/\n\nPartially-implements: blueprint ipsec-strongswan-driver\n\nChange-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634\n'}]",68,146508,0cf7671b0a990d0e0583a14bea22c53c4152d2ad,41,10,9,2711,,,0,"vpn namespace wrapper

strongSwan doesn't support namespace natively, this wrapper
will use ""mount --bind"" to simulate the ns like this:

sudo neutron-rootwrap /etc/neutron/rootwrap.conf ip netns \
exec <namespace-id> neutron-netns-wrapper --mount_paths \
=/etc:/var/lib/neutron/vpnaas/<xxxx-id>/etc, \
/var/run:/var/lib/neutron/vpnaas/<xxxx-id>/var/run \
--cmd=ipsec,status

Both sudoers and rootwrap.conf will not exist in the
directory /etc after bind-mount, thus we can't use
utils.execute(cmd, conf.root_helper) in
neutron/agent/linux/utils.py. so implement a function
execte(cmd) in this wrapper as an alternative. then we can
use root_helper to invoke this wrapper to make sure all
commands are still running as root as below code shows.
Finally, also need to check in wrapper if cmd matches
CommandFilter based on the same reason.
ip_wrapper = ip_lib.IPWrapper(root_helper, namespace)
    ip_wrapper.netns.execute(
    [NS_WRAPPER,
    '--mount_paths=/etc:%s/etc,/var/run:%s/var/run' % (
    self.config_dir, self.config_dir),
    '--cmd=%s' % ','.join(cmd)],
    check_exit_code=check_exit_code)

We are using check of net namespace (since linux 3.0),
instead of mount namespace (since Linux 3.8), as older
kernels do not support mount namespace. In addition,
mount --bind has been available since Linux 2.4. so we
don't need to worry kilo's minumum kernel requirement.

This patch is based on patchset67 of nachi's initial
vpnaas implementation, many thanks to nachi.

submit this wrapper as a separate review from [1].

[1] https://review.openstack.org/#/c/144391/

Partially-implements: blueprint ipsec-strongswan-driver

Change-Id: Icc80b9102acb87170f2d1cda06c848fa71bb1634
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/08/146508/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/unit/services/vpn/common/test_agent_netns_wrapper.py', 'neutron_vpnaas/tests/unit/services/vpn/common/__init__.py', 'neutron_vpnaas/services/vpn/common/netns_wrapper.py', 'setup.cfg', 'etc/neutron/rootwrap.d/vpnaas.filters']",5,ea3d5d8ba6b5050ba0125f4e61d450edaa8ec412,bp/ipsec-strongswan-driver,"neutron_netns_wrapper: CommandFilter, neutron-netns-wrapper, root neutron_netns_wrapper_local: CommandFilter, /usr/local/bin/neutron-netns-wrapper, root",,226,0
openstack%2Fpython-openstackclient~master~I30a62c9b9eb1eeac29f32286ac18c0caed4f380d,openstack/python-openstackclient,master,I30a62c9b9eb1eeac29f32286ac18c0caed4f380d,fix object list command naming,MERGED,2015-01-24 19:52:58.000000000,2015-01-24 22:21:05.000000000,2015-01-24 22:21:05.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-01-24 19:52:58.000000000', 'files': ['doc/source/command-objects/object.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/71e0e5332ab0cbe4a582cfb4fba3e5bbec04fdc5', 'message': 'fix object list command naming\n\nChange-Id: I30a62c9b9eb1eeac29f32286ac18c0caed4f380d\n'}]",0,149840,71e0e5332ab0cbe4a582cfb4fba3e5bbec04fdc5,7,3,1,14805,,,0,"fix object list command naming

Change-Id: I30a62c9b9eb1eeac29f32286ac18c0caed4f380d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/40/149840/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/command-objects/object.rst'],1,71e0e5332ab0cbe4a582cfb4fba3e5bbec04fdc5,doc-object-list-command-name,object list,list object,1,1
openstack%2Fnova~master~If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9,openstack/nova,master,If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9,"Adds ""file"" disk driver support to Xen libvirt driver.",MERGED,2014-05-29 08:54:11.000000000,2015-01-24 21:56:45.000000000,2015-01-24 21:56:41.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5367}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9545}, {'_account_id': 9578}, {'_account_id': 9701}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11709}]","[{'number': 1, 'created': '2014-05-29 08:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0202a867a0333eb15be3dc60157c7e172925caf4', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support http://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but are still operational with simple file driver. So, if Xen node do not support Blktap then method pick_disk_driver_name return ""file"" instead of ""tap"" or ""tap2"".\nBut ""file"" driver does not support ""qcow2"" disk format. So also force \'use_cow_images\' config to False if Xen node do not support Blktap\n\npick_disk_driver_name tests update.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nCloses-Bug: #1323722\n'}, {'number': 2, 'created': '2014-05-30 12:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fde49faf78c46e7103b2c36fa6053b8f8a2eddae', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\nBut ""file"" driver does not support ""qcow2"" disk format. So also force\n\'use_cow_images\' config to False if Xen node do not support Blktap\n\nfake_libvirt_utils and pick_disk_driver_name tests update.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nCloses-Bug: #1323722\n'}, {'number': 3, 'created': '2014-06-02 09:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e6a1b2f2a6d38363e0abbf74c087e5b04bad803', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\nBut ""file"" driver does not support ""qcow2"" disk format. So also force\n\'use_cow_images\' config to False if Xen node do not support Blktap\n\nfake_libvirt_utils and pick_disk_driver_name tests update.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nCloses-Bug: #1323722\n'}, {'number': 4, 'created': '2014-06-03 14:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20dfcea71f73279e4c2700d07a273c653fba4948', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\nBut ""file"" driver does not support ""qcow2"" disk format. So also force\n\'use_cow_images\' config to False if Xen node do not support Blktap\n\nAdd tests.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nCloses-Bug: #1323722\n'}, {'number': 5, 'created': '2014-06-04 13:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a91dc17fb7e06e7586cf41d56fc7533970fecd6d', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\nBut ""file"" driver does not support ""qcow2"" disk format. So also force\n\'use_cow_images\' config to False if Xen node do not support Blktap\n\nAdd tests.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nCloses-Bug: #1323722\n'}, {'number': 6, 'created': '2014-06-09 13:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9d531f24a3d048f4775af7e5b8f2bb868d3de1e', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nAdd tests.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 7, 'created': '2014-06-26 10:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21286468b0bba3e7640ebae6c13ced6e304d08a0', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 8, 'created': '2014-06-26 11:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/514d17a8965989cb249ccc72b2ee8542d9a51862', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 9, 'created': '2014-08-29 10:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f224c8109ef9b393bba28557d7aac3aad938b07b', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 10, 'created': '2014-09-09 13:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/798c6a9baee6060e8069caaa602bf2c5700898d2', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 11, 'created': '2014-09-09 14:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ed435b58bb7d77cf9a176628ff6c337109b164a', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 12, 'created': '2014-09-16 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ebfb89f526fa600a4bdd1988c463e7f27b0c638', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 13, 'created': '2014-09-23 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e91646ffa866536667072ebce96f0d0341f7d388', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 14, 'created': '2014-10-02 07:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd2968df5dc4c7203cb0a09e15b8966de8a79d6d', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 15, 'created': '2014-12-17 13:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b44a14b355a886b702febbc3a5081aef630976c4', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"".\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 16, 'created': '2015-01-12 17:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4733f6d5e42032a4d628b3e6b700bb80d56bd5f', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"" in case of ""qemu"" is not available.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}, {'number': 17, 'created': '2015-01-21 13:21:23.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/09f8089a9a55902ee3e39371cefc19ed6d292842', 'message': 'Adds ""file"" disk driver support to Xen libvirt driver.\n\nThere are Xen servers which do not support\nhttp://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but\nare still operational with simple file driver. So, if Xen node do not\nsupport Blktap then method pick_disk_driver_name return ""file"" instead\nof ""tap"" or ""tap2"" in case of ""qemu"" is not available.\n\nChange-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9\nPartial-Bug: #1323722\n'}]",28,96400,09f8089a9a55902ee3e39371cefc19ed6d292842,210,17,17,9701,,,0,"Adds ""file"" disk driver support to Xen libvirt driver.

There are Xen servers which do not support
http://wiki.xen.org/wiki/Blktap (e.g. Oracle VM Server for x86) but
are still operational with simple file driver. So, if Xen node do not
support Blktap then method pick_disk_driver_name return ""file"" instead
of ""tap"" or ""tap2"" in case of ""qemu"" is not available.

Change-Id: If8fbb058ed7e78e4a80d54f0561e2d8b9055ecb9
Partial-Bug: #1323722
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/96400/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/utils.py']",3,0202a867a0333eb15be3dc60157c7e172925caf4,bug/1323722,"is_tap_not_supported = True try: out, err = execute('tap-ctl', 'check', check_exit_code = False) if out == 'ok\n': is_tap_not_supported = False else: LOG.info(_(""tap-ctl check: %(out)""), {'out': out}) except OSError as exc: if exc.errno == errno.ENOENT: pass if is_tap_not_supported: return ""file""",,32,0
openstack%2Fnova~master~I9d29a1e464102b03ce3369a6a29ea1144aeface5,openstack/nova,master,I9d29a1e464102b03ce3369a6a29ea1144aeface5,Improve api-microversion hacking check,MERGED,2014-12-17 03:15:55.000000000,2015-01-24 21:56:15.000000000,2015-01-24 21:56:12.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12175}, {'_account_id': 13663}]","[{'number': 1, 'created': '2014-12-17 03:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dba3aad7520ee4c49605129effef35c54f56d824', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 2, 'created': '2014-12-18 01:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6754f4dac36ae93c2b917b82ba810d4e6c477f7', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 3, 'created': '2015-01-04 01:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69c8005d81348d14cf5166e3ae7bcc11e3be68ec', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 4, 'created': '2015-01-04 04:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47009b3d44c807afa50f4a70179fab56874d1f04', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 5, 'created': '2015-01-16 09:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c91aa142d68bee3c6e1dda84f449baa2f60de00', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 6, 'created': '2015-01-19 05:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4a13a9061ed69cd2f309c1a48c2114e3e193cba', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 7, 'created': '2015-01-19 09:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ae47c51ae228269ed85223dacf7e663be84caac', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}, {'number': 8, 'created': '2015-01-20 03:03:17.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f721e31c676a44227819fd74b5a0a32a8ee45256', 'message': 'Improve api-microversion hacking check\n\nIn https://review.openstack.org/#/c/138319/, We added a hacking check\nfor api-version decorator, but it will give error even we make it\noutermost, such as:\n\nclass MicroversionsController3Extend(wsgi.Controller):\n    @wsgi.Controller.api_version(""2.1"", ""2.2"")\n\nThis patch improve this check rule.\n\nPartially implements blueprint api-microversions\nChange-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5\n'}]",5,142317,f721e31c676a44227819fd74b5a0a32a8ee45256,82,16,8,12175,,,0,"Improve api-microversion hacking check

In https://review.openstack.org/#/c/138319/, We added a hacking check
for api-version decorator, but it will give error even we make it
outermost, such as:

class MicroversionsController3Extend(wsgi.Controller):
    @wsgi.Controller.api_version(""2.1"", ""2.2"")

This patch improve this check rule.

Partially implements blueprint api-microversions
Change-Id: I9d29a1e464102b03ce3369a6a29ea1144aeface5
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/142317/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/hacking/checks.py'],1,dba3aad7520ee4c49605129effef35c54f56d824,bp/api-microversions,"decorator_re = re.compile(r""@.*"")def check_api_version_decorator(logical_line, previous_logical, blank_before, filename): if blank_before == 0 and re.match(api_version_re, logical_line) \ and re.match(decorator_re, previous_logical):","def check_api_version_decorator(logical_line, blank_before, filename): if blank_before == 0 and re.match(api_version_re, logical_line):",5,2
openstack%2Fnova~master~Iba995e7abb8531a4c219509bac1f01513d2d8d54,openstack/nova,master,Iba995e7abb8531a4c219509bac1f01513d2d8d54,Cleanup in test_admin_actions,MERGED,2014-12-11 04:16:00.000000000,2015-01-24 21:50:28.000000000,2015-01-24 21:50:25.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-11 04:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d75be2dbf1c78dfcdcd35305dd989fcc7d934b9b', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}, {'number': 2, 'created': '2015-01-06 01:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acc890122a03de0fd07525a9dc65d35257108f83', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}, {'number': 3, 'created': '2015-01-13 08:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60219e7ce31cdb94efde08962273c03573f70a39', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}, {'number': 4, 'created': '2015-01-14 04:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22e68cdf08a36a669938e818f7bc5cef4bc90880', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}, {'number': 5, 'created': '2015-01-14 04:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2ccd32c81912d4805526fe0db584b0bf312d1d1', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}, {'number': 6, 'created': '2015-01-16 08:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/631dd257eb28c87539536a6d8cee9cb00091086e', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}, {'number': 7, 'created': '2015-01-21 02:17:12.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_admin_actions.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_reset_state.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fbc11e276daf10bc53708f6fdf14d9ca187f902f', 'message': 'Cleanup in test_admin_actions\n\nThis patch does some cleanup in test_admin_actions\n    - Separate server reset state tests in separate file\n    - Merge duplicate tests between V2 & V2.1 tests class\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54\n'}]",9,140915,fbc11e276daf10bc53708f6fdf14d9ca187f902f,72,12,7,8556,,,0,"Cleanup in test_admin_actions

This patch does some cleanup in test_admin_actions
    - Separate server reset state tests in separate file
    - Merge duplicate tests between V2 & V2.1 tests class

Partially implements blueprint v2-on-v3-api

Change-Id: Iba995e7abb8531a4c219509bac1f01513d2d8d54
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/140915/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_admin_actions.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_reset_state.py']",2,d75be2dbf1c78dfcdcd35305dd989fcc7d934b9b,bp/v2-on-v3-api,"# Copyright 2011 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import webob from nova.api.openstack.compute.contrib import admin_actions as \ admin_actions_v2 from nova.api.openstack.compute.plugins.v3 import admin_actions as \ admin_actions_v21 from nova.compute import vm_states from nova import exception from nova import objects from nova.openstack.common import uuidutils from nova import test from nova.tests.unit.api.openstack import fakes class ResetStateTestsV21(test.NoDBTestCase): admin_act = admin_actions_v21 bad_request = exception.ValidationError fake_url = '/servers' def setUp(self): super(ResetStateTestsV21, self).setUp() self.uuid = uuidutils.generate_uuid() self.admin_api = self.admin_act.AdminActionsController() self.compute_api = self.admin_api.compute_api url = '%s/%s/action' % (self.fake_url, self.uuid) self.request = self._get_request(url) self.context = self.request.environ['nova.context'] def _get_request(self, url): return fakes.HTTPRequest.blank(url) def test_no_state(self): self.assertRaises(self.bad_request, self.admin_api._reset_state, self.request, self.uuid, body={""os-resetState"": None}) def test_bad_state(self): self.assertRaises(self.bad_request, self.admin_api._reset_state, self.request, self.uuid, body={""os-resetState"": {""state"": ""spam""}}) def test_no_instance(self): self.mox.StubOutWithMock(self.compute_api, 'get') exc = exception.InstanceNotFound(instance_id='inst_ud') self.compute_api.get(self.context, self.uuid, expected_attrs=None, want_objects=True).AndRaise(exc) self.mox.ReplayAll() self.assertRaises(webob.exc.HTTPNotFound, self.admin_api._reset_state, self.request, self.uuid, body={""os-resetState"": {""state"": ""active""}}) def _setup_mock(self, expected): instance = objects.Instance() instance.uuid = self.uuid instance.vm_state = 'fake' instance.task_state = 'fake' instance.obj_reset_changes() self.mox.StubOutWithMock(instance, 'save') self.mox.StubOutWithMock(self.compute_api, 'get') def check_state(admin_state_reset=True): self.assertEqual(set(expected.keys()), instance.obj_what_changed()) for k, v in expected.items(): self.assertEqual(v, getattr(instance, k), ""Instance.%s doesn't match"" % k) instance.obj_reset_changes() self.compute_api.get(self.context, instance.uuid, expected_attrs=None, want_objects=True).AndReturn(instance) instance.save(admin_state_reset=True).WithSideEffects(check_state) def test_reset_active(self): self._setup_mock(dict(vm_state=vm_states.ACTIVE, task_state=None)) self.mox.ReplayAll() body = {""os-resetState"": {""state"": ""active""}} result = self.admin_api._reset_state(self.request, self.uuid, body=body) # NOTE: on v2.1, http status code is set as wsgi_code of API # method instead of status_int in a response object. if isinstance(self.admin_api, admin_actions_v21.AdminActionsController): status_int = self.admin_api._reset_state.wsgi_code else: status_int = result.status_int self.assertEqual(202, status_int) def test_reset_error(self): self._setup_mock(dict(vm_state=vm_states.ERROR, task_state=None)) self.mox.ReplayAll() body = {""os-resetState"": {""state"": ""error""}} result = self.admin_api._reset_state(self.request, self.uuid, body=body) # NOTE: on v2.1, http status code is set as wsgi_code of API # method instead of status_int in a response object. if isinstance(self.admin_api, admin_actions_v21.AdminActionsController): status_int = self.admin_api._reset_state.wsgi_code else: status_int = result.status_int self.assertEqual(202, status_int) class ResetStateTestsV2(ResetStateTestsV21): admin_act = admin_actions_v2 bad_request = webob.exc.HTTPBadRequest fake_url = '/fake/servers' ",,132,139
openstack%2Fnova~master~I89212267bb69ffa55a504c6b89cdeff0c55eb27d,openstack/nova,master,I89212267bb69ffa55a504c6b89cdeff0c55eb27d,fix wrong file path in docstring of hacking.checks,MERGED,2015-01-12 17:17:08.000000000,2015-01-24 21:49:58.000000000,2015-01-24 21:49:54.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-12 17:17:08.000000000', 'files': ['nova/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14e34119e3672ac627468354c3a890c13f9282fd', 'message': 'fix wrong file path in docstring of hacking.checks\n\nThe module docstring says the test code is in nova/tests/test_hacking.py,\nbut that path is wrong, the correct value is nova/tests/unit/test_hacking.py\n\nChange-Id: I89212267bb69ffa55a504c6b89cdeff0c55eb27d\n'}]",0,146576,14e34119e3672ac627468354c3a890c13f9282fd,13,10,1,6676,,,0,"fix wrong file path in docstring of hacking.checks

The module docstring says the test code is in nova/tests/test_hacking.py,
but that path is wrong, the correct value is nova/tests/unit/test_hacking.py

Change-Id: I89212267bb69ffa55a504c6b89cdeff0c55eb27d
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/146576/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/hacking/checks.py'],1,14e34119e3672ac627468354c3a890c13f9282fd,fix-wrong-path-docstr, - Add test cases for each new rule to nova/tests/unit/test_hacking.py, - Add test cases for each new rule to nova/tests/test_hacking.py,1,1
openstack%2Fnova~master~I09d9cc42e97967c2eb8add90c2b896a99a15c535,openstack/nova,master,I09d9cc42e97967c2eb8add90c2b896a99a15c535,Fix nova-manage shell ipython,MERGED,2015-01-09 13:33:56.000000000,2015-01-24 21:49:29.000000000,2015-01-24 21:49:26.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-09 13:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d7725ad6a2e8f0a768b89e278374f9cff25c504', 'message': 'Fix nova-manage shell ipython\n\nIPython current stable version is 2.3.1, and the code\nin nova-manage is only work for IPython < 0.11. The\npatch make it work for IPython 2.3.1.\n\nChange-Id: I09d9cc42e97967c2eb8add90c2b896a99a15c535\nCloses-Bug: #1408992\n'}, {'number': 2, 'created': '2015-01-10 02:52:11.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68f4f6e00cce0f39bf85bd423b890b35a6cea33e', 'message': 'Fix nova-manage shell ipython\n\nIPython current stable version is 2.3.1, and the code\nin nova-manage is only work for IPython < 0.11. The\npatch make it work for IPython 2.3.1.\n\nChange-Id: I09d9cc42e97967c2eb8add90c2b896a99a15c535\nCloses-Bug: #1408992\n'}]",0,146081,68f4f6e00cce0f39bf85bd423b890b35a6cea33e,21,10,2,1678,,,0,"Fix nova-manage shell ipython

IPython current stable version is 2.3.1, and the code
in nova-manage is only work for IPython < 0.11. The
patch make it work for IPython 2.3.1.

Change-Id: I09d9cc42e97967c2eb8add90c2b896a99a15c535
Closes-Bug: #1408992
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/146081/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,4d7725ad6a2e8f0a768b89e278374f9cff25c504,master," from IPython import embed embed() except ImportError: try: # Ipython < 0.11 # Explicitly pass an empty list as arguments, because # otherwise IPython would use sys.argv from this script. import IPython shell = IPython.Shell.IPShell(argv=[]) shell.mainloop() except ImportError: # no IPython module shell = 'python'"," import IPython # Explicitly pass an empty list as arguments, because # otherwise IPython would use sys.argv from this script. shell = IPython.Shell.IPShell(argv=[]) shell.mainloop() except ImportError: shell = 'python'",13,6
openstack%2Fopenstack-manuals~master~I6634fc45129e56dec7d479d5137f3720530bd64e,openstack/openstack-manuals,master,I6634fc45129e56dec7d479d5137f3720530bd64e,Add transfer-show note to manage volumes guide,MERGED,2015-01-24 12:16:46.000000000,2015-01-24 21:38:10.000000000,2015-01-24 21:38:09.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 10068}, {'_account_id': 12315}]","[{'number': 1, 'created': '2015-01-24 12:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/af5ea874b67927b4719456b10d63e8384fc82f48', 'message': 'Added note to state that the auth_key property will only be visible in transfer-create commands and not transfer-show, bug 1412195\n\nChange-Id: I6634fc45129e56dec7d479d5137f3720530bd64e\n'}, {'number': 2, 'created': '2015-01-24 17:01:54.000000000', 'files': ['doc/common/section_cli_cinder_manage_volumes.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4e464ebe47cafbed8a5f14b2b9bceb334c1326a8', 'message': 'Add transfer-show note to manage volumes guide\n\nAdded note to state that the auth_key property will only be visible in\ntransfer-create commands and not transfer-show.\n\nCloses-Bug: #1412195\nChange-Id: I6634fc45129e56dec7d479d5137f3720530bd64e\n'}]",5,149820,4e464ebe47cafbed8a5f14b2b9bceb334c1326a8,12,6,2,12315,,,0,"Add transfer-show note to manage volumes guide

Added note to state that the auth_key property will only be visible in
transfer-create commands and not transfer-show.

Closes-Bug: #1412195
Change-Id: I6634fc45129e56dec7d479d5137f3720530bd64e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/20/149820/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_cli_cinder_manage_volumes.xml'],1,af5ea874b67927b4719456b10d63e8384fc82f48,bug/1412195," <note> <para>While the <literal>auth_key</literal> property is visible in the output of <code>cinder transfer-create <replaceable>volumeID</replaceable></code>, it will not be available in subsequent <code>cinder transfer-show <replaceable>transferID</replaceable></code> commands.</para> </note>",,8,0
openstack%2Fapi-site~master~I0fe1e1693f8593c43537b811cc363465b8491733,openstack/api-site,master,I0fe1e1693f8593c43537b811cc363465b8491733,Update description of block_migration,MERGED,2015-01-23 17:22:40.000000000,2015-01-24 21:19:56.000000000,2015-01-24 21:19:54.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 12362}]","[{'number': 1, 'created': '2015-01-23 17:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/0f48f7bc390ad3aa370bfe168de09c830814cfa6', 'message': 'Update description of block_migration.\n\nChanged description\n   from ""If true, migration is blocked""\n   to ""If true, block migration is allowed""\n\nCloses bug: 1398024\n\nChange-Id: I0fe1e1693f8593c43537b811cc363465b8491733\n'}, {'number': 2, 'created': '2015-01-23 22:27:40.000000000', 'files': ['api-ref/src/wadls/compute-api/src/v2/ext/os-admin-actions.wadl'], 'web_link': 'https://opendev.org/openstack/api-site/commit/1ee8722fc0a53c9253668534cfd6230d23d07995', 'message': 'Update description of block_migration\n\nChanged description\n   from ""If true, migration is blocked""\n   to ""If true, block migration is allowed""\n\nCloses bug: 1398024\n\nChange-Id: I0fe1e1693f8593c43537b811cc363465b8491733\n'}]",0,149683,1ee8722fc0a53c9253668534cfd6230d23d07995,12,5,2,11017,,,0,"Update description of block_migration

Changed description
   from ""If true, migration is blocked""
   to ""If true, block migration is allowed""

Closes bug: 1398024

Change-Id: I0fe1e1693f8593c43537b811cc363465b8491733
",git fetch https://review.opendev.org/openstack/api-site refs/changes/83/149683/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/compute-api/src/v2/ext/os-admin-actions.wadl'],1,0f48f7bc390ad3aa370bfe168de09c830814cfa6,bug/1398024," ><para>If true, block migration is allowed.</para></wadl:doc>"," ><para>If true, migration is blocked.</para></wadl:doc>",2,2
openstack%2Fnova~master~If1745adae209b3ea7a9e7ae4a44b38564b5b6bce,openstack/nova,master,If1745adae209b3ea7a9e7ae4a44b38564b5b6bce,Remove mox dependency,MERGED,2015-01-15 10:50:05.000000000,2015-01-24 20:54:51.000000000,2015-01-24 20:54:48.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1669}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-15 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8128112ee2a2a202cac648140c88313e80538d6a', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 2, 'created': '2015-01-16 09:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d701ff6ee6f07634fd04759981fdfe97ee0dd736', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 3, 'created': '2015-01-16 11:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc382ee2de5829b41f98093cad885da70357ec15', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 4, 'created': '2015-01-16 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0eb9e4ba7403d25670ed99ab2da1d6ef338b53db', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 5, 'created': '2015-01-16 14:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba5c17e35283460dfea3d15104622a8ed3a58678', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 6, 'created': '2015-01-16 15:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34a8962b6be0de9b2b2a6d533f7359e841f0bb2d', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 7, 'created': '2015-01-20 11:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d282435b7356b78ba58a15c4838708512c84c644', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}, {'number': 8, 'created': '2015-01-20 12:53:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/hyperv/test_hypervapi.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/db34226a284a38eddb416f0f85bb97e63ed388a8', 'message': ""Remove mox dependency\n\nThere's no need to use it anymore as everything including the oslotest\nlibrary relies on mox3.\n\nChange-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce\n""}]",3,147458,db34226a284a38eddb416f0f85bb97e63ed388a8,73,16,8,1669,,,0,"Remove mox dependency

There's no need to use it anymore as everything including the oslotest
library relies on mox3.

Change-Id: If1745adae209b3ea7a9e7ae4a44b38564b5b6bce
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/147458/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/hyperv/test_hypervapi.py', 'test-requirements.txt']",3,8128112ee2a2a202cac648140c88313e80538d6a,jd/remove-mox,,mox>=0.5.3,2,3
openstack%2Fdevstack-gate~master~I13d1458c9cebd83b0ca700b3153f6645b2931c0d,openstack/devstack-gate,master,I13d1458c9cebd83b0ca700b3153f6645b2931c0d,Sanity check in setup_workspace,MERGED,2014-07-22 09:42:24.000000000,2015-01-24 20:41:43.000000000,2015-01-24 20:41:43.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6786}, {'_account_id': 7118}]","[{'number': 1, 'created': '2014-07-22 09:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f77f5d3cf6561617f911cd1f88e7543751b2039f', 'message': 'Sanity check in setup_workspace\n\nsetup_workspace called with unquoted variables,\nwhich could lead to wrong argument moved into wrong variable,\nwhen one of the variables was empty string or contained space.\n\nThis change quotas the parameters for setup_workspace,\nand also validates the\nOVERRIDE_ZUUL_BRANCH, GRENADE_OLD_BRANCH, GRENADE_NEW_BRANCH are\nnot empty strings when they are used.\n\nChange-Id: I13d1458c9cebd83b0ca700b3153f6645b2931c0d\n'}, {'number': 2, 'created': '2014-11-10 11:19:28.000000000', 'files': ['test-functions.sh', 'devstack-vm-gate-wrap.sh', 'functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/0a87ef43de688919d726d30c9b997c3196054900', 'message': 'Sanity check in setup_workspace\n\nsetup_workspace called with unquoted variables,\nwhich could lead to wrong argument moved into wrong variable,\nwhen one of the variables was empty string or contained space.\n\nThis change quotas the parameters for setup_workspace,\nand also validates the\nOVERRIDE_ZUUL_BRANCH, GRENADE_OLD_BRANCH, GRENADE_NEW_BRANCH are\nnot empty strings when they are used.\n\nChange-Id: I13d1458c9cebd83b0ca700b3153f6645b2931c0d\n'}]",2,108622,0a87ef43de688919d726d30c9b997c3196054900,20,7,2,5803,,,0,"Sanity check in setup_workspace

setup_workspace called with unquoted variables,
which could lead to wrong argument moved into wrong variable,
when one of the variables was empty string or contained space.

This change quotas the parameters for setup_workspace,
and also validates the
OVERRIDE_ZUUL_BRANCH, GRENADE_OLD_BRANCH, GRENADE_NEW_BRANCH are
not empty strings when they are used.

Change-Id: I13d1458c9cebd83b0ca700b3153f6645b2931c0d
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/22/108622/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate-wrap.sh', 'functions.sh']",2,f77f5d3cf6561617f911cd1f88e7543751b2039f,branch-sanity," if [ -z ""$base_branch"" ]; then echo ""ERROR: setup_workspace: base_branch is an empty string!"" >&2 return 1 fi ",,8,3
openstack%2Fdevstack-gate~master~Ifd1882738b110db3166b7409d381e77951131b4f,openstack/devstack-gate,master,Ifd1882738b110db3166b7409d381e77951131b4f,rename subnode log directory,MERGED,2014-12-09 23:51:03.000000000,2015-01-24 20:41:36.000000000,2015-01-24 20:41:35.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-12-09 23:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/68dd13f9e545c295b91bdf5dbb4db222ae938e82', 'message': ""rename subnode log directory\n\nIn non-aio (all in one) configurations, name the subnode log directory\n'subnode-$NODE' instead of just '$NODE',where $NODE is the ip\naddress of the subnode. This should make it easier to understand what\nthe directory contains instead since just seeing an IP address is not\nvery clear.\n\nChange-Id: Ifd1882738b110db3166b7409d381e77951131b4f\n""}, {'number': 2, 'created': '2014-12-18 23:11:41.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/372b6ed9901c94bdf40149ba450b2f58da7a9082', 'message': ""rename subnode log directory\n\nIn non-aio (all in one) configurations, name the subnode log directory\n'$NODE-subnode' instead of just '$NODE',where $NODE is the ip\naddress of the subnode. This should make it easier to understand what\nthe directory contains instead since just seeing an IP address is not\nvery clear.\n\nChange-Id: Ifd1882738b110db3166b7409d381e77951131b4f\n""}]",0,140529,372b6ed9901c94bdf40149ba450b2f58da7a9082,20,6,2,1849,,,0,"rename subnode log directory

In non-aio (all in one) configurations, name the subnode log directory
'$NODE-subnode' instead of just '$NODE',where $NODE is the ip
address of the subnode. This should make it easier to understand what
the directory contains instead since just seeing an IP address is not
very clear.

Change-Id: Ifd1882738b110db3166b7409d381e77951131b4f
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/29/140529/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,68dd13f9e545c295b91bdf5dbb4db222ae938e82,subnode," rsync -avz ""$NODE:$BASE/logs/"" ""$BASE/logs/subnode-$NODE/"""," rsync -avz ""$NODE:$BASE/logs/"" ""$BASE/logs/$NODE/""",1,1
openstack%2Fdevstack-gate~master~I4e52f0e74489f43574f05c2326ea53f353bbac6f,openstack/devstack-gate,master,I4e52f0e74489f43574f05c2326ea53f353bbac6f,Set ironic callback timeout < build timeout,MERGED,2015-01-06 20:24:02.000000000,2015-01-24 20:39:02.000000000,2015-01-24 20:39:01.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6786}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-01-06 20:24:02.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/e7f8ee3ce56a02a398c621e0324df15370fd335f', 'message': 'Set ironic callback timeout < build timeout\n\nThis sets the ironic callback timeout to be less than the nova\nbuild timeout, allowing ironic deployment failures to surface as\nerrors in the ironic logs, rather than generic server build failures\non the tempest side.\n\nDepends on patch to devstack: https://review.openstack.org/145326\n\nChange-Id: I4e52f0e74489f43574f05c2326ea53f353bbac6f\nRelated-bug: #1408067\n'}]",2,145327,e7f8ee3ce56a02a398c621e0324df15370fd335f,16,9,1,1420,,,0,"Set ironic callback timeout < build timeout

This sets the ironic callback timeout to be less than the nova
build timeout, allowing ironic deployment failures to surface as
errors in the ironic logs, rather than generic server build failures
on the tempest side.

Depends on patch to devstack: https://review.openstack.org/145326

Change-Id: I4e52f0e74489f43574f05c2326ea53f353bbac6f
Related-bug: #1408067
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/27/145327/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,e7f8ee3ce56a02a398c621e0324df15370fd335f,callback_timeout," echo ""IRONIC_CALLBACK_TIMEOUT=240"" >>""$localrc_file""",,1,0
openstack%2Frequirements~master~I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d,openstack/requirements,master,I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d,Add term.js to global requirements,MERGED,2015-01-08 16:29:01.000000000,2015-01-24 20:38:54.000000000,2015-01-24 20:38:53.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 4264}, {'_account_id': 6786}, {'_account_id': 6873}, {'_account_id': 7069}, {'_account_id': 7665}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-01-08 16:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa3a936bf3c7370f00a8cf16ae040e4a363bad06', 'message': 'Add term.js to global requirements\n\nterm.js is needed for Horizon to support\nthe serial console, which Nova added in Juno.\n\nChange-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d\n'}, {'number': 2, 'created': '2015-01-08 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/05b04c8632e8a2ea2c7f42fb00353c41d5f861f3', 'message': 'Add term.js to global requirements\n\nterm.js is needed for Horizon to support\nthe serial console, which Nova added in Juno.\n\nImplements: blueprint serial-console\n\nChange-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d\n'}, {'number': 3, 'created': '2015-01-08 16:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/69ae2f77d2a3396aab1efd7a5920ca18f24a55f1', 'message': 'Add term.js to global requirements\n\nterm.js is needed for Horizon to support\nthe serial console, which Nova added in Juno.\n\nImplements: blueprint serial-console\n\nChange-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d\n'}, {'number': 4, 'created': '2015-01-08 21:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d2174ee6915a6098c5d46d6b83f05433ce7d46a', 'message': 'Add term.js to global requirements\n\nterm.js is needed for Horizon to support\nthe serial console, which Nova added in Juno.\n\nImplements: blueprint serial-console\n\nChange-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d\n'}, {'number': 5, 'created': '2015-01-09 15:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3b69c099c26ca614b138bc212c451a3c0f1d28ba', 'message': 'Add term.js to global requirements\n\nterm.js is needed for Horizon to support\nthe serial console, which Nova added in Juno.\n\nImplements: blueprint serial-console\n\nChange-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d\n'}, {'number': 6, 'created': '2015-01-12 17:25:04.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1f7d42cafb257df3fff55b5ff68a45f84ff928e5', 'message': 'Add term.js to global requirements\n\nterm.js is needed for Horizon to support\nthe serial console, which Nova added in Juno.\n\nImplements: blueprint serial-console\n\nChange-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d\n'}]",0,145825,1f7d42cafb257df3fff55b5ff68a45f84ff928e5,20,13,6,11902,,,0,"Add term.js to global requirements

term.js is needed for Horizon to support
the serial console, which Nova added in Juno.

Implements: blueprint serial-console

Change-Id: I2aa16d5498aadfa7c0b790fc8676f7217a75eb8d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/145825/4 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,aa3a936bf3c7370f00a8cf16ae040e4a363bad06,termjs,XStatic-term.js>=0.0.4 # MIT License,,1,0
openstack%2Fnova~master~I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f,openstack/nova,master,I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f,ironic: remove non-standard info in get_available_resource dict,MERGED,2014-10-10 16:20:06.000000000,2015-01-24 20:38:27.000000000,2015-01-24 20:38:23.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-10 16:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73220ea78cd90c6b888a211a7656f1974474d35d', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 2, 'created': '2014-10-12 08:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69f9f86b35b0e499466bbde08e0c64a3ab7ff95d', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 3, 'created': '2014-10-14 10:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12c8f18b97ab2bb4966c6aa9b868b78dba9d5d31', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 4, 'created': '2014-10-14 12:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26ac31f9ddfacf8b36c7b4a361f451099e7b0500', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 5, 'created': '2014-10-15 08:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9108a84e9ce434cfcb6ec2020fffb59ba6220ed4', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 6, 'created': '2014-10-15 08:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/685ca9a18e2aabbd5d2eadd6e2362c2c7622a44a', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 7, 'created': '2014-10-22 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e62b7c2339befaacb9743d727946551e4768dfb9', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 8, 'created': '2014-11-10 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b0615217db9e2decd8113b981e1721bd9f35533', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nCleanup before Blueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 9, 'created': '2014-11-13 09:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c5676076b2638a022837934efd1e8c7cd9c0e12', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nCleanup before Blueprint: virt-driver-get-available-resources-object\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}, {'number': 10, 'created': '2014-12-08 17:36:07.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/98d88630367ccd5d3ec28682f643201dee028edd', 'message': ""ironic: remove non-standard info in get_available_resource dict\n\nThe get_available_resource method returns a dict with a number\nof keys that are supposed to be common to all virt drivers.\nThere are a numer of places where the ironic driver is filling\nin non-standard keys.\n\n - 'disk_total' and 'disk_used' contain identical info\n   to the 'local_gb' and 'local_gb_used' fields\n\n - 'disk_available' mis-named should be 'disk_available_least'\n\n - 'host_memory_total' and 'host_memory_free' contain\n   identical info to the 'memory_mb' and 'memory_mb_used' fields\n\n - 'node' - contains a UUID\n\n - 'host' contains a hostname\n\nFurther, every key in the 'stats' dict is also duplicated\nat the top level dict too.\n\nThe resource_tracker.py update_available_resource method\nwhich calls get_available_resource() will not process any\nof these non-standard keys.\n\nSimply delete them all, except 'disk_available' which is\nrenamed to 'disk_available_least'\n\nCleanup before Blueprint: resource-objects\nChange-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f\n""}]",2,127577,98d88630367ccd5d3ec28682f643201dee028edd,64,13,10,1779,,,0,"ironic: remove non-standard info in get_available_resource dict

The get_available_resource method returns a dict with a number
of keys that are supposed to be common to all virt drivers.
There are a numer of places where the ironic driver is filling
in non-standard keys.

 - 'disk_total' and 'disk_used' contain identical info
   to the 'local_gb' and 'local_gb_used' fields

 - 'disk_available' mis-named should be 'disk_available_least'

 - 'host_memory_total' and 'host_memory_free' contain
   identical info to the 'memory_mb' and 'memory_mb_used' fields

 - 'node' - contains a UUID

 - 'host' contains a hostname

Further, every key in the 'stats' dict is also duplicated
at the top level dict too.

The resource_tracker.py update_available_resource method
which calls get_available_resource() will not process any
of these non-standard keys.

Simply delete them all, except 'disk_available' which is
renamed to 'disk_available_least'

Cleanup before Blueprint: resource-objects
Change-Id: I95451e6ff0d52d5cfc8355388d2c03a5059d5f0f
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/127577/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,73220ea78cd90c6b888a211a7656f1974474d35d,bp/resource-objects," 'disk_available_least': local_gb - local_gb_used, }"," 'node': str(node.uuid), 'disk_total': local_gb, 'disk_used': local_gb_used, 'disk_available': local_gb - local_gb_used, 'host_memory_total': memory_mb, 'host_memory_free': memory_mb - memory_mb_used, 'host': CONF.host, } dic.update(nodes_extra_specs)",1,8
openstack%2Fnova~master~I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2,openstack/nova,master,I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2,hyperv: use standard architecture constants for CPU model,MERGED,2014-10-10 16:20:06.000000000,2015-01-24 20:37:53.000000000,2015-01-24 20:37:50.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-10-10 16:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/871a3683a99e7a35e38ff03f098c744e16d909d7', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 2, 'created': '2014-10-12 08:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33c807d98b8ab6f8f15679a66a83f11541f97099', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 3, 'created': '2014-10-14 10:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e16a4be4716346f64bea580977a04649a3d69e7c', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 4, 'created': '2014-10-14 12:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1abb0a8792ec6ae2e91a6a8040bbcd690e11ae9', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 5, 'created': '2014-10-15 08:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65bc491b4002a35d3bd52d57eaecb43e02da4d34', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 6, 'created': '2014-10-15 08:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6625481f7a0daa15c7ba82ea99833c3411ff7b92', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 7, 'created': '2014-10-22 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a5723f04ff4251cad440fe237deb7068565aaa1', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 8, 'created': '2014-11-10 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00b931603cb6b572755e59fc23ef65a62150e2de', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nCleanup before Blueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 9, 'created': '2014-11-13 09:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf658b56a4d6f52bd63478e8f7f96cf1660ae2b8', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nCleanup before Blueprint: virt-driver-get-available-resources-object\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}, {'number': 10, 'created': '2014-12-08 17:36:07.000000000', 'files': ['nova/virt/hyperv/constants.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6db8f730e8d8c572051ab9d043e2ec10a086d949', 'message': ""hyperv: use standard architecture constants for CPU model\n\nWhen reporting the 'cpu_info' field in the get_available_resource\nmethod, one of the fields is the architecture. The hyperv driver\nhas mistakenly used printable architecture names, as opposed to\nthe canonical architecture names. Switch to use the compute.arch\nconstants.\n\nAlthough this changes the data reported by hyperv, it should not\nhave a functional impact since only the libvirt driver is relying\non the precise format of this data. For hyperv it is merely\ninformational.\n\nCleanup before Blueprint: resource-objects\nChange-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2\n""}]",0,127576,6db8f730e8d8c572051ab9d043e2ec10a086d949,83,19,10,1779,,,0,"hyperv: use standard architecture constants for CPU model

When reporting the 'cpu_info' field in the get_available_resource
method, one of the fields is the architecture. The hyperv driver
has mistakenly used printable architecture names, as opposed to
the canonical architecture names. Switch to use the compute.arch
constants.

Although this changes the data reported by hyperv, it should not
have a functional impact since only the libvirt driver is relying
on the precise format of this data. For hyperv it is merely
informational.

Cleanup before Blueprint: resource-objects
Change-Id: I6bfbfc829f45dee49e1f2eeaa0490068da26ccb2
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/127576/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hyperv/constants.py'],1,871a3683a99e7a35e38ff03f098c744e16d909d7,bp/resource-objects,"from nova.compute import arch 0: arch.I686, 1: arch.MIPS, 2: arch.ALPHA, 3: arch.PPC, 5: arch.ARMV7, 6: arch.IA64, 9: arch.X86_64,"," 0: 'x86', 1: 'MIPS', 2: 'Alpha', 3: 'PowerPC', 5: 'ARM', 6: 'Itanium-based systems', 9: 'x64',",8,7
openstack%2Fnova~master~Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af,openstack/nova,master,Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af,xenapi: fix structure of data reported for cpu_info,MERGED,2014-10-10 16:20:06.000000000,2015-01-24 20:33:53.000000000,2015-01-24 20:33:49.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6735}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-10 16:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4fb395fffbcfb525d9f0bbe439b0c462dbf1a6f', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 2, 'created': '2014-10-12 08:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/627dd7568e5897e09d137aa50d136c1002611de4', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 3, 'created': '2014-10-14 10:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e112de5719c5988352f952339131a2f0d3631969', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 4, 'created': '2014-10-14 12:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3f7b0811bb2809be4fd826cfe6e4d04ed0d5a97', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 5, 'created': '2014-10-15 08:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61d8acdb52e2d779a999182abdcedd00b2b76869', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 6, 'created': '2014-10-15 08:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a222353d4abd743a513e6823f97637892bfdfe4', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 7, 'created': '2014-10-22 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37ce32c9ca45ef5e83daac12c6dff99b0ec4a276', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nBlueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 8, 'created': '2014-11-10 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d928489152f79419f5c6d98555441aeaa661546', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nCleanup before Blueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 9, 'created': '2014-11-13 09:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0ce870735aaf772971db9876863e3b1f687c4a9', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nCleanup before Blueprint: virt-driver-get-available-resources-object\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}, {'number': 10, 'created': '2014-12-08 17:36:07.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/fake.py', 'nova/virt/xenapi/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ade270675c08fc62d0c7342557161bc18295745d', 'message': ""xenapi: fix structure of data reported for cpu_info\n\nThe 'cpu_info' field in the dict from get_available_resource\nis supposed to provide information on the physical CPU model\nused in the host, including arch, model, vendor, feature flags\nand topology. The XenAPI Driver was simply returning the\nraw 'host_cpu_info' dict it got back from XenSever. This\nincludes nearly all the desired information, but represented\nin a different structure to what the libvirt driver has\nprovided.\n\nThis commit updates it to convert the data into a format\nthat is somewhat consistent with the libvirt driver.\n\nCleanup before Blueprint: resource-objects\nChange-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af\n""}]",9,127575,ade270675c08fc62d0c7342557161bc18295745d,71,16,10,1779,,,0,"xenapi: fix structure of data reported for cpu_info

The 'cpu_info' field in the dict from get_available_resource
is supposed to provide information on the physical CPU model
used in the host, including arch, model, vendor, feature flags
and topology. The XenAPI Driver was simply returning the
raw 'host_cpu_info' dict it got back from XenSever. This
includes nearly all the desired information, but represented
in a different structure to what the libvirt driver has
provided.

This commit updates it to convert the data into a format
that is somewhat consistent with the libvirt driver.

Cleanup before Blueprint: resource-objects
Change-Id: Ic21990e717bc2ef623b5feeb3eee3bd758bbe8af
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/127575/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/xenapi/test_driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/fake.py', 'nova/virt/xenapi/host.py']",5,b4fb395fffbcfb525d9f0bbe439b0c462dbf1a6f,bp/resource-objects," data[""cpu_model""] = to_cpu_model( data.get(""host_cpu_info"") )def to_cpu_model(host_cpu_info): # The XenAPI driver returns data in the format # # {""physical_features"": ""0098e3fd-bfebfbff-00000001-28100800"", # ""modelname"": ""Intel(R) Xeon(R) CPU X3430 @ 2.40GHz"", # ""vendor"": ""GenuineIntel"", # ""features"": ""0098e3fd-bfebfbff-00000001-28100800"", # ""family"": 6, # ""maskable"": ""full"", # ""cpu_count"": 4, # ""socket_count"": ""1"", # ""flags"": ""fpu de tsc msr pae mce cx8 apic sep mtrr mca cmov # pat clflush acpi mmx fxsr sse sse2 ss ht nx # constant_tsc nonstop_tsc aperfmperf pni vmx est # ssse3 sse4_1 sse4_2 popcnt hypervisor ida # tpr_shadow vnmi flexpriority ept vpid"", # ""stepping"": 5, # ""model"": 30, # ""features_after_reboot"": ""0098e3fd-bfebfbff-00000001-28100800"", # ""speed"": ""2394.086""} if host_cpu_info is None: return None cpu_info = dict() # TODO(berrange) the data we're putting in model is not # exactly comparable to what libvirt puts in model. The # libvirt model names are a well defined short string # which is really an aliass for a particular set of # feature flags. The Xen model names are raw printable # strings from the kernel with no specific semantics cpu_info[""model""] = host_cpu_info[""modelname""] cpu_info[""vendor""] = host_cpu_info[""vendor""] # TODO(berrange) perhaps we could fill in 'arch' field too # by looking at 'host_capabilities' for the Xen host ? topology = dict() topology[""sockets""] = int(host_cpu_info[""socket_count""]) topology[""cores""] = (int(host_cpu_info[""cpu_count""]) / int(host_cpu_info[""socket_count""])) # TODO(berrange): if 'ht' is present in the 'flags' list # is it possible to infer that the 'cpu_count' is in fact # sockets * cores * threads ? Unclear if 'ht' would remain # visible when threads are disabled in BIOS ? topology[""threads""] = 1 cpu_info[""topology""] = topology cpu_info[""features""] = host_cpu_info[""flags""].split("" "") return cpu_info ",,138,13
openstack%2Frequirements~master~I306f9111d9514dc1b73fd73f65df71346e862674,openstack/requirements,master,I306f9111d9514dc1b73fd73f65df71346e862674,Upgrade tempest-lib>=0.0.2,ABANDONED,2014-12-03 15:23:50.000000000,2015-01-24 20:25:09.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5263}, {'_account_id': 5803}, {'_account_id': 6786}, {'_account_id': 8851}]","[{'number': 1, 'created': '2014-12-03 15:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f57c5c47848f620a37e92f550fdcf470d9181bb1', 'message': 'Upgrade tempest-lib>=0.0.2\n\ntempest-lib 0.0.2 contains fix of major bug #1398487 that is critical to have\nusing this lib.\n\nChange-Id: I306f9111d9514dc1b73fd73f65df71346e862674\n'}, {'number': 2, 'created': '2014-12-30 16:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d69b99622297d1cadd3cb62d6afbe110e1840f48', 'message': 'Upgrade tempest-lib>=0.0.2\n\ntempest-lib 0.0.2 contains fix of major bug #1398487 that is critical to have\nusing this lib.\n\nChange-Id: I306f9111d9514dc1b73fd73f65df71346e862674\n'}, {'number': 3, 'created': '2015-01-16 07:38:51.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/51a765af925838245b6510064f23e0d5b970dbbe', 'message': 'Upgrade tempest-lib>=0.0.2\n\ntempest-lib 0.0.2 contains fix of major bug #1398487 that is critical to have\nusing this lib.\n\nChange-Id: I306f9111d9514dc1b73fd73f65df71346e862674\n'}]",0,138758,51a765af925838245b6510064f23e0d5b970dbbe,16,6,3,8851,,,0,"Upgrade tempest-lib>=0.0.2

tempest-lib 0.0.2 contains fix of major bug #1398487 that is critical to have
using this lib.

Change-Id: I306f9111d9514dc1b73fd73f65df71346e862674
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/138758/3 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f57c5c47848f620a37e92f550fdcf470d9181bb1,bug/1398487,tempest-lib>=0.0.2,tempest-lib,1,1
openstack%2Frequirements~master~I4d2adde26d900e5c11b69b42ecb781dcd352d34d,openstack/requirements,master,I4d2adde26d900e5c11b69b42ecb781dcd352d34d,Update the version dependency for tempest-lib,MERGED,2015-01-21 05:05:02.000000000,2015-01-24 20:14:41.000000000,2015-01-24 20:14:40.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9466}, {'_account_id': 9542}, {'_account_id': 9622}, {'_account_id': 10016}]","[{'number': 1, 'created': '2015-01-21 05:05:02.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f82b1f482b8ff4607b524f2a83ccbef704fbfe01', 'message': 'Update the version dependency for tempest-lib\n\nFrom the version 0.1.0, the tempest-lib got the common module which is the\nservice_client.py in tempest depended.\n\nChange-Id: I4d2adde26d900e5c11b69b42ecb781dcd352d34d\nCloses-Bug: #1413048\n'}]",0,148789,f82b1f482b8ff4607b524f2a83ccbef704fbfe01,14,12,1,11114,,,0,"Update the version dependency for tempest-lib

From the version 0.1.0, the tempest-lib got the common module which is the
service_client.py in tempest depended.

Change-Id: I4d2adde26d900e5c11b69b42ecb781dcd352d34d
Closes-Bug: #1413048
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/148789/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f82b1f482b8ff4607b524f2a83ccbef704fbfe01,bug/1413048,tempest-lib>=0.1.0,tempest-lib,1,1
openstack%2Fdesignate~master~I9309779ea8f9925435ec6f3a1e3ec1e9b94f9d32,openstack/designate,master,I9309779ea8f9925435ec6f3a1e3ec1e9b94f9d32,Fix sink neutron_floatingip handler passing payload,MERGED,2015-01-19 05:00:22.000000000,2015-01-24 19:49:45.000000000,2015-01-24 19:49:44.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2015-01-19 05:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/91004d2a80367bff21b6ae532a1c5d5a973a5a27', 'message': ""Fix sink neutron_floatingip handler passing payload\n\nMake neutron_floatingip handler directly passing payload['floatingip'] instead\nof payload for easy formatting.\n\nChange-Id: I9309779ea8f9925435ec6f3a1e3ec1e9b94f9d32\nCloses-Bug: 1412306\n""}, {'number': 2, 'created': '2015-01-21 01:40:27.000000000', 'files': ['designate/notification_handler/neutron.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e08a7a47b2170ac27578a0173695a96c73ab5b8d', 'message': ""Fix sink neutron_floatingip handler passing payload\n\nMake neutron_floatingip handler directly passing payload['floatingip'] instead\nof payload for easy formatting.\n\nChange-Id: I9309779ea8f9925435ec6f3a1e3ec1e9b94f9d32\nCloses-Bug: 1412306\n""}]",0,148169,e08a7a47b2170ac27578a0173695a96c73ab5b8d,10,3,2,4894,,,0,"Fix sink neutron_floatingip handler passing payload

Make neutron_floatingip handler directly passing payload['floatingip'] instead
of payload for easy formatting.

Change-Id: I9309779ea8f9925435ec6f3a1e3ec1e9b94f9d32
Closes-Bug: 1412306
",git fetch https://review.opendev.org/openstack/designate refs/changes/69/148169/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/notification_handler/neutron.py'],1,91004d2a80367bff21b6ae532a1c5d5a973a5a27,bug/1412306," self._create([address], payload['floatingip'],"," self._create([address], payload,",1,1
openstack%2Fproject-config~master~I1d91c9486e5879e62d4597b1647ae9752c729274,openstack/project-config,master,I1d91c9486e5879e62d4597b1647ae9752c729274,Add an experimental ironic partial upgrade test,MERGED,2015-01-20 23:59:59.000000000,2015-01-24 19:49:33.000000000,2015-01-24 19:49:32.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 5196}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-20 23:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3cf38c189d1ed357f6e289acfe5feaa4df67b3d2', 'message': 'Add an experimental ironic partial upgrade test\n\nThis adds an experimental job to do partial upgrade testing of Ironic.\nThe goal of the job is to do a grenade test from juno to kilo without\nupgrading Ironic, ensuring a kilo nova can successfully interface with\na Juno ironic for provisioning instances on nodes.\n\nChange-Id: I1d91c9486e5879e62d4597b1647ae9752c729274\n'}, {'number': 2, 'created': '2015-01-21 00:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f7ec94db814702b3da0b665893c6d43ca1996a2c', 'message': 'Add an experimental ironic partial upgrade test\n\nThis adds an experimental job to do partial upgrade testing of Ironic.\nThe goal of the job is to do a grenade test from juno to kilo without\nupgrading Ironic, ensuring a kilo nova can successfully interface with\na Juno ironic for provisioning instances on nodes.\n\nChange-Id: I1d91c9486e5879e62d4597b1647ae9752c729274\n'}, {'number': 3, 'created': '2015-01-24 02:40:19.000000000', 'files': ['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a59ea835dca2c5ad23cfe2fe7518a8a30ff083b4', 'message': 'Add an experimental ironic partial upgrade test\n\nThis adds an experimental job to do partial upgrade testing of Ironic.\nThe goal of the job is to do a grenade test from juno to kilo without\nupgrading Ironic, ensuring a kilo nova can successfully interface with\na Juno ironic for provisioning instances on nodes.\n\nChange-Id: I1d91c9486e5879e62d4597b1647ae9752c729274\n'}]",0,148752,a59ea835dca2c5ad23cfe2fe7518a8a30ff083b4,16,7,3,1420,,,0,"Add an experimental ironic partial upgrade test

This adds an experimental job to do partial upgrade testing of Ironic.
The goal of the job is to do a grenade test from juno to kilo without
upgrading Ironic, ensuring a kilo nova can successfully interface with
a Juno ironic for provisioning instances on nodes.

Change-Id: I1d91c9486e5879e62d4597b1647ae9752c729274
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/148752/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml']",2,3cf38c189d1ed357f6e289acfe5feaa4df67b3d2,ironic_partial,"- job-template: name: '{pipeline}-grenade-dsvm-partial-ironic{branch-designator}' node: '{node}' wrappers: - build-timeout: timeout: 130 - timestamps builders: - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TIMEOUT=120 export DEVSTACK_GATE_TEMPEST=0 export DEVSTACK_GATE_GRENADE=partial-ironic export DEVSTACK_GATE_IRONIC=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_VIRT_DRIVER=ironic export TEMPEST_CONCURRENCY=2 export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh publishers: - devstack-logs - console-log - '{pipeline}-grenade-dsvm-partial-ironic{branch-designator}'",,35,0
openstack%2Fdesignate~master~I24d0a5a19e1e1bfd58360eea570a57517d21d499,openstack/designate,master,I24d0a5a19e1e1bfd58360eea570a57517d21d499,Imported Translations from Transifex,MERGED,2015-01-24 06:08:09.000000000,2015-01-24 19:46:38.000000000,2015-01-24 19:46:37.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2015-01-24 06:08:09.000000000', 'files': ['designate/locale/designate-log-warning.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-warning.po', 'designate/locale/designate-log-info.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-info.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/2e817e12c2cb596df6e760915f119da7dfa9c97b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I24d0a5a19e1e1bfd58360eea570a57517d21d499\n'}]",0,149811,2e817e12c2cb596df6e760915f119da7dfa9c97b,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I24d0a5a19e1e1bfd58360eea570a57517d21d499
",git fetch https://review.opendev.org/openstack/designate refs/changes/11/149811/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/locale/designate-log-warning.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-warning.po', 'designate/locale/designate-log-info.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-info.po']",4,2e817e12c2cb596df6e760915f119da7dfa9c97b,transifex/translations,"""POT-Creation-Date: 2015-01-24 06:08+0000\n"" ""PO-Revision-Date: 2015-01-24 02:38+0000\n""#: designate/dnsutils.py:147#: designate/dnsutils.py:160#: designate/dnsutils.py:169#: designate/dnsutils.py:203#: designate/dnsutils.py:262msgid ""Doing AXFR for %(name)s from %(host)s""#: designate/agent/handler.py:50#: designate/agent/service.py:46#: designate/agent/service.py:50","""POT-Creation-Date: 2015-01-23 06:08+0000\n"" ""PO-Revision-Date: 2015-01-23 01:52+0000\n""#: designate/dnsutils.py:119 designate/agent/service.py:53#: designate/dnsutils.py:132 designate/agent/service.py:64#: designate/dnsutils.py:141 designate/agent/service.py:111#: designate/dnsutils.py:147 #, python-format msgid ""Handling TCP Request from: %(host)s:%(port)d"" msgstr """" #: designate/dnsutils.py:175 designate/agent/service.py:134#: designate/dnsutils.py:180msgid ""Handling UDP Request from: %(host)s:%(port)d""#: designate/agent/axfr.py:38#: designate/agent/axfr.py:48 #, python-format msgid ""Doing AXFR for %(name)s from %(host)s"" msgstr """" #: designate/agent/service.py:76#: designate/agent/service.py:80",36,70
openstack%2Fproject-config~master~I66f4fbcef7c48e8de32aff0b2c4d9b9bf228b518,openstack/project-config,master,I66f4fbcef7c48e8de32aff0b2c4d9b9bf228b518,Adding Fuel Plugins projects to stackforge,MERGED,2015-01-23 11:00:11.000000000,2015-01-24 19:40:45.000000000,2015-01-24 19:40:44.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 1106}, {'_account_id': 2750}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 8749}, {'_account_id': 8965}, {'_account_id': 9977}, {'_account_id': 10959}, {'_account_id': 11849}]","[{'number': 1, 'created': '2015-01-23 11:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d588cc36896b30fcb93cee2afc15b7fbb6ab50de', 'message': 'Adding Fuel Plugins projects to stackforge\n\nList of projects:\n - fuel-plugin-external-emc\n - fuel-plugin-external-zabbix\n\nChange-Id: I66f4fbcef7c48e8de32aff0b2c4d9b9bf228b518\nSigned-off-by: Igor Shishkin <ishishkin@mirantis.com>\n'}, {'number': 2, 'created': '2015-01-23 12:10:26.000000000', 'files': ['gerrit/acls/stackforge/fuel-plugin-external-emc.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml', 'gerrit/acls/stackforge/fuel-plugin-external-zabbix.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/64b6bd1bff372d97861834592cc2ec67990353cb', 'message': 'Adding Fuel Plugins projects to stackforge\n\nList of projects:\n - fuel-plugin-external-emc\n - fuel-plugin-external-zabbix\n\nChange-Id: I66f4fbcef7c48e8de32aff0b2c4d9b9bf228b518\nSigned-off-by: Igor Shishkin <ishishkin@mirantis.com>\n'}]",4,149567,64b6bd1bff372d97861834592cc2ec67990353cb,16,12,2,8965,,,0,"Adding Fuel Plugins projects to stackforge

List of projects:
 - fuel-plugin-external-emc
 - fuel-plugin-external-zabbix

Change-Id: I66f4fbcef7c48e8de32aff0b2c4d9b9bf228b518
Signed-off-by: Igor Shishkin <ishishkin@mirantis.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/149567/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/stackforge/fuel-plugin-external-emc.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml', 'gerrit/acls/stackforge/fuel-plugin-external-zabbix.config']",5,d588cc36896b30fcb93cee2afc15b7fbb6ab50de,149567,"[access ""refs/heads/*""] abandon = group fuel-plugin-external-zabbix-core create = group fuel-plugin-external-zabbix-core label-Code-Review = -2..+2 group fuel-plugin-external-zabbix-core label-Verified = -1..+1 group fuel-ci label-Workflow = -1..+1 group fuel-plugin-external-zabbix-core [access ""refs/tags/*""] pushSignedTag = group fuel-plugin-external-zabbix-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,54,0
openstack%2Fneutron~stable%2Fjuno~Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811,openstack/neutron,stable/juno,Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811,Fix a race condition adding a security group rule,MERGED,2014-12-16 19:15:17.000000000,2015-01-24 19:22:54.000000000,2014-12-27 04:17:51.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 6876}, {'_account_id': 7448}, {'_account_id': 8213}, {'_account_id': 8646}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-16 19:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3201542c7269851f33d044fad92716806fe36d42', 'message': ""Fix a race condition adding a security group rule\n\nsetup_port_filters() needs to grab self.devices_to_refilter\nbefore it calls prepare_devices_filter(), else it could skip\nprocessing a device if an RPC arrives while it's processing\nnew devices.  That device will now be handled the next time\nit's called.\n\nBug introduced in commit 3046c4ae22b1\n\n(Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17)\nChange-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811\nCloses-Bug: 1393925\n""}, {'number': 2, 'created': '2014-12-25 00:44:11.000000000', 'files': ['neutron/tests/unit/test_security_groups_rpc.py', 'neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b29760462ed2c4465e1e46f617b0d36f5dacb66f', 'message': ""Fix a race condition adding a security group rule\n\nsetup_port_filters() needs to grab self.devices_to_refilter\nbefore it calls prepare_devices_filter(), else it could skip\nprocessing a device if an RPC arrives while it's processing\nnew devices.  That device will now be handled the next time\nit's called.\n\nBug introduced in commit 3046c4ae22b1\n\n(Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17)\nChange-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811\nCloses-Bug: 1393925\n""}]",0,142194,b29760462ed2c4465e1e46f617b0d36f5dacb66f,45,19,2,6876,,,0,"Fix a race condition adding a security group rule

setup_port_filters() needs to grab self.devices_to_refilter
before it calls prepare_devices_filter(), else it could skip
processing a device if an RPC arrives while it's processing
new devices.  That device will now be handled the next time
it's called.

Bug introduced in commit 3046c4ae22b1

(Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17)
Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811
Closes-Bug: 1393925
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/142194/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_security_groups_rpc.py', 'neutron/agent/securitygroups_rpc.py']",2,3201542c7269851f33d044fad92716806fe36d42,bug/1393925," # We must call prepare_devices_filter() after we've grabbed # self.devices_to_refilter since an update for a new port # could arrive while we're processing, and we need to make # sure we don't skip it. It will get handled the next time. if new_devices: LOG.debug(""Preparing device filters for %d new devices"", len(new_devices)) self.prepare_devices_filter(new_devices)"," if new_devices: LOG.debug(_(""Preparing device filters for %d new devices""), len(new_devices)) self.prepare_devices_filter(new_devices)",27,4
openstack%2Fironic~master~Ib6da4053c7b14901928945004fc4313ef3c02ed1,openstack/ironic,master,Ib6da4053c7b14901928945004fc4313ef3c02ed1,Use oslo_serialization replace oslo.serialization,MERGED,2015-01-23 01:59:37.000000000,2015-01-24 19:14:56.000000000,2015-01-24 19:14:55.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 7491}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-23 01:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdd31f64aad742c53fd275e2c58468f681127a7f', 'message': 'Use oslo_serialization replace oslo.serialization\n\noslo.serialization 1.2.0 has moved its namespace from old\noslo.serialization to oslo_serialization.\n\nChange-Id: Ib6da4053c7b14901928945004fc4313ef3c02ed1\n'}, {'number': 2, 'created': '2015-01-23 03:33:45.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'ironic/common/rpc.py', 'ironic/openstack/common/policy.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/test_glance_service.py', 'ironic/tests/drivers/test_pxe.py', 'ironic/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/be8c6c1914352b318b0e6702fd64d7512092e524', 'message': 'Use oslo_serialization replace oslo.serialization\n\noslo.serialization 1.2.0 has moved its namespace from old\noslo.serialization to oslo_serialization.\n\nChange-Id: Ib6da4053c7b14901928945004fc4313ef3c02ed1\n'}]",0,149456,be8c6c1914352b318b0e6702fd64d7512092e524,17,6,2,13762,,,0,"Use oslo_serialization replace oslo.serialization

oslo.serialization 1.2.0 has moved its namespace from old
oslo.serialization to oslo_serialization.

Change-Id: Ib6da4053c7b14901928945004fc4313ef3c02ed1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/149456/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'ironic/common/rpc.py', 'ironic/openstack/common/policy.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/test_glance_service.py', 'ironic/tests/drivers/test_pxe.py', 'ironic/openstack/common/log.py']",7,fdd31f64aad742c53fd275e2c58468f681127a7f,switch-to-oslo_serialization,from oslo_serialization import jsonutils,from oslo.serialization import jsonutils,7,7
openstack%2Fdiskimage-builder~master~If372e7f59bbdc77e2b233024c1342f005004f2e5,openstack/diskimage-builder,master,If372e7f59bbdc77e2b233024c1342f005004f2e5,Run Registration Once,MERGED,2015-01-15 19:50:32.000000000,2015-01-24 19:02:15.000000000,2015-01-24 19:02:13.000000000,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 8399}, {'_account_id': 8532}, {'_account_id': 12092}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-15 19:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6db169f91a4e2a089da6ff8b08120cefe34e252b', 'message': ""Run Registration Once\n\nThe rhel-common element has a script that uses subscription-manager to register\nan instance of RHEL with the customer portal or Satellite.  If os-refresh-config\nruns this script more than once, subscription-manager returns a non-zero value\ncausing os-refresh-config to fail.  Adding --force to the subscription-manager\ncalls doesn't properly unregister the image from Satellite and the result is\nmultiple content host registrations. This patch changes the registration to only\nrun once.\n\nChange-Id: If372e7f59bbdc77e2b233024c1342f005004f2e5\n""}, {'number': 2, 'created': '2015-01-15 19:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/902f1fd19e4b3e094854462b8a6124e522d88029', 'message': ""Run Registration Once\n\nThe rhel-common element has a script that uses subscription-manager\nto register an instance of RHEL with the customer portal or Satellite.\nIf os-refresh-config runs this script more than once,\nsubscription-manager returns a non-zero value causing os-refresh-config\nto fail.  Adding --force to the subscription-manager calls doesn't\nproperly unregister the image from Satellite and the result is multiple\ncontent host registrations. This patch changes the registration to only\nrun once.\n\nChange-Id: If372e7f59bbdc77e2b233024c1342f005004f2e5\n""}, {'number': 3, 'created': '2015-01-15 19:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/932a9aa06063c49195c726c54a857d6ab4a75da3', 'message': ""Run Registration Once\n\nThe rhel-common element has a script that uses subscription-manager\nto register an instance of RHEL with the customer portal or Satellite.\nIf os-refresh-config runs this script more than once,\nsubscription-manager returns a non-zero value causing os-refresh-config\nto fail.  Adding --force to the subscription-manager calls doesn't\nproperly unregister the image from Satellite and the result is multiple\ncontent host registrations. This patch changes the registration to only\nrun once.\n\nChange-Id: If372e7f59bbdc77e2b233024c1342f005004f2e5\n""}, {'number': 4, 'created': '2015-01-16 21:55:59.000000000', 'files': ['elements/rhel-common/os-refresh-config/pre-configure.d/06-rhel-registration'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c9af576e79ff4c9f504550f1c65e09cf7fb88de9', 'message': ""Run Registration Once\n\nThe rhel-common element has a script that uses subscription-manager\nto register an instance of RHEL with the customer portal or Satellite.\nIf os-refresh-config runs this script more than once,\nsubscription-manager returns a non-zero value causing os-refresh-config\nto fail.  Adding --force to the subscription-manager calls doesn't\nproperly unregister the image from Satellite and the result is multiple\ncontent host registrations. This patch changes the registration to only\nrun once.\n\nChange-Id: If372e7f59bbdc77e2b233024c1342f005004f2e5\n""}]",2,147636,c9af576e79ff4c9f504550f1c65e09cf7fb88de9,66,6,4,8532,,,0,"Run Registration Once

The rhel-common element has a script that uses subscription-manager
to register an instance of RHEL with the customer portal or Satellite.
If os-refresh-config runs this script more than once,
subscription-manager returns a non-zero value causing os-refresh-config
to fail.  Adding --force to the subscription-manager calls doesn't
properly unregister the image from Satellite and the result is multiple
content host registrations. This patch changes the registration to only
run once.

Change-Id: If372e7f59bbdc77e2b233024c1342f005004f2e5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/36/147636/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/rhel-common/os-refresh-config/pre-configure.d/06-rhel-registration'],1,6db169f91a4e2a089da6ff8b08120cefe34e252b,run-registration-once,OK=/mnt/state/var/lib/rhsm/rhsm.ok mkdir -p $(dirname $OK) touch $OK,,5,0
openstack%2Ffreezer~master~Ic3eb7216505e62ad1d872b0686d999c29ba60d2f,openstack/freezer,master,Ic3eb7216505e62ad1d872b0686d999c29ba60d2f,Added unittest for freezer.main,MERGED,2015-01-24 14:45:47.000000000,2015-01-24 19:01:05.000000000,2015-01-24 19:01:04.000000000,"[{'_account_id': 3}, {'_account_id': 12211}, {'_account_id': 14028}, {'_account_id': 14159}, {'_account_id': 14340}]","[{'number': 1, 'created': '2015-01-24 14:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/4748f752b8c3a49586a4a012b1bdea1a73b37a63', 'message': 'Added unittest for freezer.main\n\nNow a basic unittest for main.py\nis available under tests/test_main.py.\n\nLAUNCHPAD: https://blueprints.launchpad.net/freezer/+spec/unittest-main\n\nChange-Id: Ic3eb7216505e62ad1d872b0686d999c29ba60d2f\n'}, {'number': 2, 'created': '2015-01-24 18:50:21.000000000', 'files': ['tests/commons.py', 'freezer/main.py', 'tests/test_main.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/2262a902a5e735c264f9e5a250517baf5f695b96', 'message': 'Added unittest for freezer.main\n\nNow a basic unittest for main.py\nis available under tests/test_main.py.\n\nNew release tagging to 1.1.1\n\nLAUNCHPAD: https://blueprints.launchpad.net/freezer/+spec/unittest-main\n\nChange-Id: Ic3eb7216505e62ad1d872b0686d999c29ba60d2f\n'}]",0,149824,2262a902a5e735c264f9e5a250517baf5f695b96,8,5,2,11151,,,0,"Added unittest for freezer.main

Now a basic unittest for main.py
is available under tests/test_main.py.

New release tagging to 1.1.1

LAUNCHPAD: https://blueprints.launchpad.net/freezer/+spec/unittest-main

Change-Id: Ic3eb7216505e62ad1d872b0686d999c29ba60d2f
",git fetch https://review.opendev.org/openstack/freezer refs/changes/24/149824/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/commons.py', 'freezer/main.py', 'tests/test_main.py']",3,4748f752b8c3a49586a4a012b1bdea1a73b37a63,bp/s,"""""""Freezer main.py related tests Copyright 2014 Hewlett-Packard Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. This product includes cryptographic software written by Eric Young (eay@cryptsoft.com). This product includes software written by Tim Hudson (tjh@cryptsoft.com). ======================================================================== """""" from commons import * from freezer.main import freezer_main from freezer import ( swift, restore, utils, backup) import logging import pytest class TestMain: def test_freezer_main(self, monkeypatch): backup_opt = BackupOpt1() fakelogging = FakeLogging() fakeswift = FakeSwift() monkeypatch.setattr(logging, 'critical', fakelogging.critical) monkeypatch.setattr(logging, 'warning', fakelogging.warning) monkeypatch.setattr(logging, 'exception', fakelogging.exception) monkeypatch.setattr(logging, 'error', fakelogging.error) monkeypatch.setattr(swift, 'get_client', fakeswift.fake_get_client) monkeypatch.setattr(swift, 'show_containers', fakeswift.fake_show_containers) monkeypatch.setattr(swift, 'show_objects', fakeswift.fake_show_objects) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list1) assert freezer_main(backup_opt) is True fakeswift = FakeSwift() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list) backup_opt = BackupOpt1() assert freezer_main(backup_opt) is True fakeswift = FakeSwift() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list1) backup_opt = BackupOpt1() assert freezer_main(backup_opt) is False fakeswift = FakeSwift() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list2) backup_opt = BackupOpt1() assert freezer_main(backup_opt) is False fakeswift = FakeSwift() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list3) backup_opt = BackupOpt1() backup_opt.action = 'restore' pytest.raises(Exception, freezer_main, backup_opt) fakeswift = FakeSwift() fakerestore = FakeRestore() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list3) monkeypatch.setattr(restore, 'restore_fs', fakerestore.fake_restore_fs) monkeypatch.setattr(swift, 'get_container_content', fakeswift.fake_get_container_content) backup_opt = BackupOpt1() backup_opt.action = 'restore' assert freezer_main(backup_opt) is None fakeswift = FakeSwift() fakeutils = FakeUtils() fakebackup = FakeBackup() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list4) monkeypatch.setattr(utils, 'set_backup_level', fakeutils.fake_set_backup_level_fs) monkeypatch.setattr(backup, 'backup_mode_fs', fakebackup.fake_backup_mode_fs) backup_opt = BackupOpt1() assert freezer_main(backup_opt) is None fakeswift = FakeSwift() fakeutils = FakeUtils() fakebackup = FakeBackup() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list4) monkeypatch.setattr(utils, 'set_backup_level', fakeutils.fake_set_backup_level_mongo) monkeypatch.setattr(backup, 'backup_mode_mongo', fakebackup.fake_backup_mode_mongo) backup_opt = BackupOpt1() assert freezer_main(backup_opt) is None fakeswift = FakeSwift() fakeutils = FakeUtils() fakebackup = FakeBackup() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list4) monkeypatch.setattr(utils, 'set_backup_level', fakeutils.fake_set_backup_level_mysql) monkeypatch.setattr(backup, 'backup_mode_mysql', fakebackup.fake_backup_mode_mysql) backup_opt = BackupOpt1() assert freezer_main(backup_opt) is None fakeswift = FakeSwift() fakeutils = FakeUtils() monkeypatch.setattr(swift, 'check_container_existance', fakeswift.fake_check_container_existance1) monkeypatch.setattr(swift, 'get_containers_list', fakeswift.fake_get_containers_list4) monkeypatch.setattr(utils, 'set_backup_level', fakeutils.fake_set_backup_level_none) backup_opt = BackupOpt1() pytest.raises(ValueError, freezer_main, backup_opt) ",,261,35
openstack%2Fdevstack-gate~master~Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6,openstack/devstack-gate,master,Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6,Adding support for DEVSTACK_GATE_LIBVIRT_TYPE,MERGED,2014-11-13 19:54:35.000000000,2015-01-24 18:24:54.000000000,2015-01-24 18:24:52.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 5387}, {'_account_id': 6316}, {'_account_id': 6609}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 13215}]","[{'number': 1, 'created': '2014-11-13 19:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c544b236096802359c54511a9252b411f8074765', 'message': 'Adding support for DEVSTACK_GATE_LIBVIRT_TYPE\n\nChange-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6\n'}, {'number': 2, 'created': '2014-11-18 20:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2b471cef029500e94ff8a54fc875f5f8b78345ab', 'message': 'Adding support for DEVSTACK_GATE_LIBVIRT_TYPE\n\nIn order to support continued development of the libvirt driver,\nit is useful and necessary to be able to environmentally enable\nthe libvirt driver by setting the LIBVIRT_TYPE setting in the\ndevstack localrc used by the devstack-gate openstack-infra\nproject.\n\nChange-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6\n'}, {'number': 3, 'created': '2014-11-18 21:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/e4b24df91e278b052c7c5d1a930d8b2a0549dd82', 'message': 'Adding support for DEVSTACK_GATE_LIBVIRT_TYPE\n\nIn order to support continued development of the libvirt driver,\nit is useful and necessary to be able to environmentally enable\nthe libvirt driver by setting the LIBVIRT_TYPE setting in the\ndevstack localrc used by the devstack-gate openstack-infra\nproject.\n\nIncluding a default value of kvm for LIBVIRT_TYPE.\n\nChange-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6\n'}, {'number': 4, 'created': '2014-12-12 20:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/72b2e96c511360b0a2bc9b2dcb6c8e264e909026', 'message': 'Adding support for DEVSTACK_GATE_LIBVIRT_TYPE\n\nIn order to support continued development of the libvirt driver,\nit is useful and necessary to be able to environmentally enable\nthe libvirt driver by setting the LIBVIRT_TYPE setting in the\ndevstack localrc used by the devstack-gate openstack-infra\nproject.\n\nIncluding a default value of kvm for LIBVIRT_TYPE.\n\nChange-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6\n'}, {'number': 5, 'created': '2014-12-12 21:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a4f7b85809b9c0c437e640ed93d5ec6dde4fa777', 'message': 'Adding support for DEVSTACK_GATE_LIBVIRT_TYPE\n\nIn order to support continued development of the libvirt driver,\nit is useful and necessary to be able to environmentally enable\nthe libvirt driver by setting the LIBVIRT_TYPE setting in the\ndevstack localrc used by the devstack-gate openstack-infra\nproject.\n\nIncluding a default value of kvm for LIBVIRT_TYPE.\n\nChange-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6\n'}, {'number': 6, 'created': '2014-12-12 22:03:41.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4a96848f8c3eae962d1fac4be2d59b9398bbb810', 'message': 'Adding support for DEVSTACK_GATE_LIBVIRT_TYPE\n\nIn order to support continued development of the libvirt driver,\nit is useful and necessary to be able to environmentally enable\nthe libvirt driver by setting the LIBVIRT_TYPE setting in the\ndevstack localrc used by the devstack-gate openstack-infra\nproject.\n\nChange-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6\n'}]",1,134348,4a96848f8c3eae962d1fac4be2d59b9398bbb810,33,11,6,13215,,,0,"Adding support for DEVSTACK_GATE_LIBVIRT_TYPE

In order to support continued development of the libvirt driver,
it is useful and necessary to be able to environmentally enable
the libvirt driver by setting the LIBVIRT_TYPE setting in the
devstack localrc used by the devstack-gate openstack-infra
project.

Change-Id: Ieb3e20e8c70155ed2ee73e632df7f271212ed3a6
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/48/134348/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,c544b236096802359c54511a9252b411f8074765,libvirt_type_support,LIBVIRT_TYPE=$DEVSTACK_GATE_LIBVIRT_TYPE,,1,0
openstack%2Fdevstack-gate~master~I6c76e541ea32f0eed24ed5807ac32d4645e1c32e,openstack/devstack-gate,master,I6c76e541ea32f0eed24ed5807ac32d4645e1c32e,Obtain stress arguments from the enviroment,MERGED,2014-10-27 15:58:42.000000000,2015-01-24 18:24:45.000000000,2015-01-24 18:24:43.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6316}]","[{'number': 1, 'created': '2014-10-27 15:58:42.000000000', 'files': ['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/44211316f66689d4412ca32d955831bdf11ace20', 'message': 'Obtain stress arguments from the enviroment\n\nChange-Id: I6c76e541ea32f0eed24ed5807ac32d4645e1c32e\n'}]",0,131186,44211316f66689d4412ca32d955831bdf11ace20,10,5,1,1192,,,0,"Obtain stress arguments from the enviroment

Change-Id: I6c76e541ea32f0eed24ed5807ac32d4645e1c32e
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/86/131186/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh']",2,44211316f66689d4412ca32d955831bdf11ace20,stress,"# This value must be provided when DEVSTACK_GATE_TEMPEST_STRESS is set. export DEVSTACK_GATE_TEMPEST_STRESS_ARGS=${DEVSTACK_GATE_TEMPEST_STRESS_ARGS:-""""} ",,4,1
openstack%2Fgrenade~stable%2Fjuno~I40e151cf92cad95ddea9919537970ab471d4511a,openstack/grenade,stable/juno,I40e151cf92cad95ddea9919537970ab471d4511a,Upgrade ceilometer first,MERGED,2015-01-23 20:24:58.000000000,2015-01-24 18:09:41.000000000,2015-01-24 18:09:40.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-01-23 20:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/1fe9aa324f032e07187520600f42ca2d3998df41', 'message': ""Upgrade ceilometer first\n\nCeilometer installs code into the paste pipeline of other projects,\nwhich means that if other projects are upgraded first, their upgraded\nversions may get started with old ceilometer code. As we are finally\nstarting to pin requirements on stable, this prevents things like\nSwift from starting.\n\nThis seems like an architectural flaw in Ceilometer, as it should be\nconsuming externalized interfaces not sticking itself into the\npipeline.\n\nAlternative fix is to remove ceilometer support from grenade entirely,\nas the project doesn't provide the kind of upgrade model that we\nexpect in OpenStack. However, for now, a reordering should get things\nback working and let people merge code.\n\nThere also remains an oslo.db coupling issue, which we need to get\naround by artificially installing an old oslo.db before we get\nstarted.\n\nChange-Id: I40e151cf92cad95ddea9919537970ab471d4511a\nRelated-Bug: #1403024\n(cherry picked from commit 0187392f4e0eab3fda2fbff5b208a62b6ae955a6)\n""}, {'number': 2, 'created': '2015-01-23 22:22:10.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e61ee657f28eec680fcc3629fcf8b68524f9f156', 'message': 'Upgrade ceilometer first\n\nCeilometer installs code into the paste pipeline of other projects,\nwhich means that if other projects are upgraded first, their upgraded\nversions may get started with old ceilometer code. As we are finally\nstarting to pin requirements on stable, this prevents things like\nSwift from starting.\n\nChange-Id: I40e151cf92cad95ddea9919537970ab471d4511a\nRelated-Bug: #1403024\n(cherry picked from commit 0187392f4e0eab3fda2fbff5b208a62b6ae955a6)\n'}]",0,149742,e61ee657f28eec680fcc3629fcf8b68524f9f156,9,3,2,1849,,,0,"Upgrade ceilometer first

Ceilometer installs code into the paste pipeline of other projects,
which means that if other projects are upgraded first, their upgraded
versions may get started with old ceilometer code. As we are finally
starting to pin requirements on stable, this prevents things like
Swift from starting.

Change-Id: I40e151cf92cad95ddea9919537970ab471d4511a
Related-Bug: #1403024
(cherry picked from commit 0187392f4e0eab3fda2fbff5b208a62b6ae955a6)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/42/149742/2 && git format-patch -1 --stdout FETCH_HEAD,"['prep-base', 'grenade.sh']",2,1fe9aa324f032e07187520600f42ca2d3998df41,bug/1403024, # Upgrade Ceilometer # # Bug: 1403024 - Ceilometer *must* be upgraded before any # components that it has injected itself into. upgrade_service ceilometer stop $STOP upgrade-ceilometer 244 , # Upgrade Ceilometer upgrade_service ceilometer stop $STOP upgrade-ceilometer 280,20,3
openstack%2Fdevstack~master~If108f314e1ad2ecc79f41cbca47d08c4024a23cd,openstack/devstack,master,If108f314e1ad2ecc79f41cbca47d08c4024a23cd,Exit after printing error about RPC config,MERGED,2015-01-22 14:11:26.000000000,2015-01-24 17:37:07.000000000,2015-01-24 17:37:06.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 7715}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 14:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3951fd04c719cce56ba9ff9397d316dec6d29f8f', 'message': ""Exit after printing error about RPC config\n\nWhen finding an invalid RPC configuration, devstack prints\na suitable error in the logs\n\n    ERROR: only one rpc backend may be enabled,\n           set only one of 'rabbit', 'qpid', 'zeromq'\n           via ENABLED_SERVICES.\n\nbut then just carries on running, as a result the developer\nis very unlikely to ever see the original error message.\nChange the 'echo' to a 'die' so that it stop immediately\nmaking the error message clearly visible.\n\nChange-Id: If108f314e1ad2ecc79f41cbca47d08c4024a23cd\n""}, {'number': 2, 'created': '2015-01-22 15:11:34.000000000', 'files': ['lib/rpc_backend'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1dbf10562796c7006fd0a66c6cb39a1b990c8c1', 'message': ""Exit after printing error about RPC config\n\nWhen finding an invalid RPC configuration, devstack prints\na suitable error in the logs\n\n    ERROR: only one rpc backend may be enabled,\n           set only one of 'rabbit', 'qpid', 'zeromq'\n           via ENABLED_SERVICES.\n\nbut then just carries on running, as a result the developer\nis very unlikely to ever see the original error message.\nChange the 'echo' to a 'die' so that it stop immediately\nmaking the error message clearly visible.\n\nChange-Id: If108f314e1ad2ecc79f41cbca47d08c4024a23cd\n""}]",0,149263,c1dbf10562796c7006fd0a66c6cb39a1b990c8c1,12,5,2,1779,,,0,"Exit after printing error about RPC config

When finding an invalid RPC configuration, devstack prints
a suitable error in the logs

    ERROR: only one rpc backend may be enabled,
           set only one of 'rabbit', 'qpid', 'zeromq'
           via ENABLED_SERVICES.

but then just carries on running, as a result the developer
is very unlikely to ever see the original error message.
Change the 'echo' to a 'die' so that it stop immediately
making the error message clearly visible.

Change-Id: If108f314e1ad2ecc79f41cbca47d08c4024a23cd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/149263/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/rpc_backend'],1,3951fd04c719cce56ba9ff9397d316dec6d29f8f,rpc-config-error," die $LINENO \ ""Only one rpc backend may be enabled, "" \ ""set only one of 'rabbit', 'qpid', 'zeromq' "" \ ""via ENABLED_SERVICES."" die $LINENO \ ""at least one rpc backend must be enabled, "" \ ""set one of 'rabbit', 'qpid', 'zeromq'"" \ ""via ENABLED_SERVICES."""," echo ""ERROR: only one rpc backend may be enabled,"" echo "" set only one of 'rabbit', 'qpid', 'zeromq'"" echo "" via ENABLED_SERVICES."" echo ""ERROR: at least one rpc backend must be enabled,"" echo "" set one of 'rabbit', 'qpid', 'zeromq'"" echo "" via ENABLED_SERVICES.""",8,6
openstack%2Fnova~master~I2efeedf08bb800f8003ce1973e1386167ef96046,openstack/nova,master,I2efeedf08bb800f8003ce1973e1386167ef96046,libvirt: remove use of utils.instance_sys_meta,MERGED,2015-01-19 16:27:41.000000000,2015-01-24 17:36:38.000000000,2015-01-24 17:36:35.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-19 16:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcbccb7922cbab8321b14c2eeb4c394504919a6b', 'message': 'libvirt: remove use of utils.instance_sys_meta\n\nAll codepaths use the Instance object now, so the\nutils.instance_sys_meta method is redundant in\nthe libvirt driver\n\nChange-Id: I2efeedf08bb800f8003ce1973e1386167ef96046\n'}, {'number': 2, 'created': '2015-01-22 11:31:47.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e4e7af2cea96b037c9ece47f23b140d47bd1a3f', 'message': 'libvirt: remove use of utils.instance_sys_meta\n\nAll codepaths use the Instance object now, so the\nutils.instance_sys_meta method is redundant in\nthe libvirt driver\n\nChange-Id: I2efeedf08bb800f8003ce1973e1386167ef96046\n'}]",1,148309,3e4e7af2cea96b037c9ece47f23b140d47bd1a3f,30,14,2,1779,,,0,"libvirt: remove use of utils.instance_sys_meta

All codepaths use the Instance object now, so the
utils.instance_sys_meta method is redundant in
the libvirt driver

Change-Id: I2efeedf08bb800f8003ce1973e1386167ef96046
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/148309/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,fcbccb7922cbab8321b14c2eeb4c394504919a6b,virtimageprops-5, image_meta = utils.get_image_from_system_metadata( instance.system_metadata) image_meta = utils.get_image_from_system_metadata( instance.system_metadata), system_meta = utils.instance_sys_meta(instance) image_meta = utils.get_image_from_system_metadata(system_meta) system_meta = utils.instance_sys_meta(instance) image_meta = utils.get_image_from_system_metadata(system_meta),7,10
openstack%2Fnova~master~I0d34d7a4535531598ae873cc80116172bda84bf9,openstack/nova,master,I0d34d7a4535531598ae873cc80116172bda84bf9,libvirt: remove use of fake_instance.fake_instance_obj,MERGED,2015-01-12 18:38:20.000000000,2015-01-24 17:21:04.000000000,2015-01-24 17:21:01.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-12 18:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/626935bbdc396c364f05a880356d0774b800e3fc', 'message': 'libvirt: remove use of fake_instance.fake_instance_obj\n\nThe fake_instance.fake_instance_obj() has no value over directly\nusing the objects.Instance() constructor. In fact it has a downside\nof interacting with the database which is not desired in the test\nsuites.\n\nChange-Id: I0d34d7a4535531598ae873cc80116172bda84bf9\n'}, {'number': 2, 'created': '2015-01-19 16:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d308d717a5dca70f8935f47ae789ab823522bd09', 'message': 'libvirt: remove use of fake_instance.fake_instance_obj\n\nThe fake_instance.fake_instance_obj() has no value over directly\nusing the objects.Instance() constructor. In fact it has a downside\nof interacting with the database which is not desired in the test\nsuites.\n\nChange-Id: I0d34d7a4535531598ae873cc80116172bda84bf9\n'}, {'number': 3, 'created': '2015-01-22 11:31:48.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0da75d6ac8c3e18cb735fea7eacf212551014a6', 'message': 'libvirt: remove use of fake_instance.fake_instance_obj\n\nThe fake_instance.fake_instance_obj() has no value over directly\nusing the objects.Instance() constructor. In fact it has a downside\nof interacting with the database which is not desired in the test\nsuites.\n\nChange-Id: I0d34d7a4535531598ae873cc80116172bda84bf9\n'}]",3,146600,a0da75d6ac8c3e18cb735fea7eacf212551014a6,39,15,3,1779,,,0,"libvirt: remove use of fake_instance.fake_instance_obj

The fake_instance.fake_instance_obj() has no value over directly
using the objects.Instance() constructor. In fact it has a downside
of interacting with the database which is not desired in the test
suites.

Change-Id: I0d34d7a4535531598ae873cc80116172bda84bf9
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/146600/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,626935bbdc396c364f05a880356d0774b800e3fc,virtimageprops-5, instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance_ref = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance) instance = objects.Instance(**self.test_instance),"from nova.tests.unit import fake_instance instance = fake_instance.fake_instance_obj( self.context, **self.test_instance) instance = fake_instance.fake_instance_obj( self.context, **self.test_instance) instance = fake_instance.fake_instance_obj( self.context, **self.test_instance) instance = fake_instance.fake_instance_obj(mock.sentinel.ctx) instance = fake_instance.fake_instance_obj(mock.sentinel.ctx) instance_ref = fake_instance.fake_instance_obj( self.context, **self.test_instance) instance = fake_instance.fake_instance_obj(self.context) instance = fake_instance.fake_instance_obj(self.context) instance_details = {""name"": ""instancename"", ""id"": 1, ""uuid"": ""875a8070-d0b9-4949-8b31-104d125c9a64""} instance = fake_instance.fake_instance_obj( self.context, **instance_details) instance_details = {'name': 'test'} instance = fake_instance.fake_instance_obj( self.context, **instance_details) instance = fake_instance.fake_instance_obj(mock.sentinel.ctx) instance = fake_instance.fake_instance_obj(mock.sentinel.ctx) instance = fake_instance.fake_instance_obj(self.context) instance = fake_instance.fake_instance_obj(self.context)",14,24
openstack%2Fnetworking-l2gw~master~I4ea224db2d6df764dabfd643f89b9c0437fb2d31,openstack/networking-l2gw,master,I4ea224db2d6df764dabfd643f89b9c0437fb2d31,Added python-neutronclient git path,MERGED,2015-01-21 16:26:27.000000000,2015-01-24 16:06:51.000000000,2015-01-24 16:06:50.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 10780}, {'_account_id': 10781}]","[{'number': 1, 'created': '2015-01-21 16:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/b45e414ee4b96744c4e25abdd4a2bb56ef252f41', 'message': 'Added python-neutronclient git path\n\nAdded python-neutronclient egg in requirements.txt\n\nChange-Id: I4ea224db2d6df764dabfd643f89b9c0437fb2d31\n'}, {'number': 2, 'created': '2015-01-21 19:08:35.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/1d5841ffdadf5025fcdf6d0d685d6a1cccde382c', 'message': 'Added python-neutronclient git path\n\nAdded python-neutronclient egg in requirements.txt\n\nChange-Id: I4ea224db2d6df764dabfd643f89b9c0437fb2d31\n'}]",0,148979,1d5841ffdadf5025fcdf6d0d685d6a1cccde382c,13,4,2,10781,,,0,"Added python-neutronclient git path

Added python-neutronclient egg in requirements.txt

Change-Id: I4ea224db2d6df764dabfd643f89b9c0437fb2d31
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/79/148979/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b45e414ee4b96744c4e25abdd4a2bb56ef252f41,l2gateway/requirements,-e git://git.openstack.org/openstack/python-neutronclient.git#egg=python-neutronclient,,1,0
openstack%2Fkeystonemiddleware~master~Ic1a941a747c8ec56578743b5c97f89fee07301c3,openstack/keystonemiddleware,master,Ic1a941a747c8ec56578743b5c97f89fee07301c3,incorrect reference in enabling audit middleware,MERGED,2015-01-22 15:17:09.000000000,2015-01-24 15:47:18.000000000,2015-01-24 15:47:17.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-22 15:17:09.000000000', 'files': ['doc/source/audit.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bf96969a16a96556adc7b5db6f93aa7cc4482f8e', 'message': ""incorrect reference in enabling audit middleware\n\nthere is no factory internally in AuditMiddleware. the docs\nincorrectly reference definition used in pyCADF's version of\nmiddleware\n\nChange-Id: Ic1a941a747c8ec56578743b5c97f89fee07301c3\n""}]",0,149307,bf96969a16a96556adc7b5db6f93aa7cc4482f8e,7,3,1,6537,,,0,"incorrect reference in enabling audit middleware

there is no factory internally in AuditMiddleware. the docs
incorrectly reference definition used in pyCADF's version of
middleware

Change-Id: Ic1a941a747c8ec56578743b5c97f89fee07301c3
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/07/149307/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/audit.rst'],1,bf96969a16a96556adc7b5db6f93aa7cc4482f8e,doc, paste.filter_factory = keystonemiddleware.audit:filter_factory paste.filter_factory = keystonemiddleware.audit:filter_factory paste.filter_factory = pycadf.middleware.audit:filter_factory, paste.filter_factory = keystonemiddleware.audit:AuditMiddleware.factory paste.filter_factory = keystonemiddleware.audit:AuditMiddleware.factory paste.filter_factory = pycadf.middleware.audit:AuditMiddleware.factory,3,3
openstack%2Fnova~master~Ic2256b1b99731019da22f1ad528ffbde51dde7ae,openstack/nova,master,Ic2256b1b99731019da22f1ad528ffbde51dde7ae,VMware - Support for video memory resize,ABANDONED,2014-11-16 09:21:00.000000000,2015-01-24 14:55:50.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2067}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-16 09:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fbd958df3d760b7ff35a5540093e07094605464', 'message': 'VMware - Support for video memory resize\n\nThis patch supports the feature of resizing instance video RAM\nand instance number of displays for instances spawned using\nVMware driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe following patch in review\nhttps://review.openstack.org/#/c/130988/\nsupports the feature of adding video RAM and number of displays\nfor instances spawned using VMeare driver\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor. Examples of both provided above\n\nChange-Id: Ic2256b1b99731019da22f1ad528ffbde51dde7ae\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 2, 'created': '2014-12-22 10:17:19.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b4b2a92673c5cfc2c6d82ff403c79a5ba5103f4', 'message': 'VMware - Support for video memory resize\n\nThis patch supports the feature of resizing instance video RAM\nand instance number of displays for instances spawned using\nVMware driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe following patch in review\nhttps://review.openstack.org/#/c/130988/\nsupports the feature of adding video RAM and number of displays\nfor instances spawned using VMeare driver\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor. Examples of both provided above\n\nChange-Id: Ic2256b1b99731019da22f1ad528ffbde51dde7ae\nImplements: blueprint vmware-driver-support-for-video-memory\n'}]",6,134750,7b4b2a92673c5cfc2c6d82ff403c79a5ba5103f4,25,10,2,2067,,,0,"VMware - Support for video memory resize

This patch supports the feature of resizing instance video RAM
and instance number of displays for instances spawned using
VMware driver.

The video memory can be set in flavor using the following
nova flavor-key <flavor-id> set hw_video:video_ram
                                   =<size of video ram>
The number of displays for the instance can be set using
the following
nova flavor-key <flavor-id> set hw_video:video_display
                                 =<num_of_displays>

The following patch in review
https://review.openstack.org/#/c/130988/
supports the feature of adding video RAM and number of displays
for instances spawned using VMeare driver

Co-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>

DocImpact
The docs should describe how the video memory and number of
displays can be set in flavor. Examples of both provided above

Change-Id: Ic2256b1b99731019da22f1ad528ffbde51dde7ae
Implements: blueprint vmware-driver-support-for-video-memory
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/134750/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py']",2,8fbd958df3d760b7ff35a5540093e07094605464,bp/vmware-driver-support-for-video-memory," return_value=vmwareapi_fake.FakeSpec), mock.patch.object(vm_util, ""get_video_device"", return_value='fake-device'), mock.patch.object(vm_util, ""get_video_config_spec"", return_value='fake-video-spec'), fake_video_device, fake_video_spec, if video_resize: self.assertTrue(fake_video_device.called) self.assertTrue(fake_video_spec.called) else: self.assertFalse(fake_video_device.called) self.assertFalse(fake_video_spec.called) spec=vmwareapi_fake.FakeSpec)) def test_finish_migration_resize_video_display(self): def _fake_flavor_get(context, id): flavor = stubs._fake_flavor_get(context, id) flavor['extra_specs'].update({'hw_video:video_display': 2}) return flavor with mock.patch.object(db, 'flavor_get', _fake_flavor_get): self._test_finish_migration(power_on=True, resize_instance=True, video_resize=True) def test_finish_migration_resize_video_ram(self): def _fake_flavor_get(context, id): flavor = stubs._fake_flavor_get(context, id) flavor['extra_specs'].update({'hw_video:video_ram': 10}) return flavor with mock.patch.object(db, 'flavor_get', _fake_flavor_get): self._test_finish_migration(power_on=True, resize_instance=True, video_resize=True) "," return_value='fake-spec'), spec='fake-spec'))",51,2
openstack%2Fmanila~master~Idf14b824a7fdcdcc05b1ac7dd834358f8d63e884,openstack/manila,master,Idf14b824a7fdcdcc05b1ac7dd834358f8d63e884,Fix small typo in 70-manila.sh,MERGED,2015-01-20 12:13:54.000000000,2015-01-24 14:48:06.000000000,2015-01-24 14:48:04.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 9067}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-20 12:13:54.000000000', 'files': ['contrib/devstack/extras.d/70-manila.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/30517b05c7499e7333043cef45e24446fc926f14', 'message': 'Fix small typo in 70-manila.sh\n\nFixes a small typo in 70-manila.sh\n\nChange-Id: Idf14b824a7fdcdcc05b1ac7dd834358f8d63e884\nSigned-off-by: Deepak C Shetty <deepakcs@redhat.com>\n'}]",0,148514,30517b05c7499e7333043cef45e24446fc926f14,12,8,1,10796,,,0,"Fix small typo in 70-manila.sh

Fixes a small typo in 70-manila.sh

Change-Id: Idf14b824a7fdcdcc05b1ac7dd834358f8d63e884
Signed-off-by: Deepak C Shetty <deepakcs@redhat.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/14/148514/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/extras.d/70-manila.sh'],1,30517b05c7499e7333043cef45e24446fc926f14,typo-fix," echo_summary ""Initializing Manila"""," echo_summary ""Initialing Manila""",1,1
openstack%2Fkeystone~master~I5678357e59f84fa09e1b7f43f7f51493b9f8b37a,openstack/keystone,master,I5678357e59f84fa09e1b7f43f7f51493b9f8b37a,Updated from global requirements,MERGED,2015-01-23 18:42:30.000000000,2015-01-24 14:32:27.000000000,2015-01-24 14:32:26.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-23 18:42:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a9128ae089f5eecf1049c1c7b514ccb6c037e1ca', 'message': 'Updated from global requirements\n\nChange-Id: I5678357e59f84fa09e1b7f43f7f51493b9f8b37a\n'}]",0,149708,a9128ae089f5eecf1049c1c7b514ccb6c037e1ca,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I5678357e59f84fa09e1b7f43f7f51493b9f8b37a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/08/149708/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a9128ae089f5eecf1049c1c7b514ccb6c037e1ca,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Fmanila~master~Ia5457028f511c455681b93243e3c37a19a201794,openstack/manila,master,Ia5457028f511c455681b93243e3c37a19a201794,Updated from global requirements,MERGED,2015-01-23 18:42:36.000000000,2015-01-24 13:16:45.000000000,2015-01-24 13:16:44.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 8851}]","[{'number': 1, 'created': '2015-01-23 18:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0c972719960084218e7691ae98d5bd3599cc9e9f', 'message': 'Updated from global requirements\n\nChange-Id: Ia5457028f511c455681b93243e3c37a19a201794\n'}, {'number': 2, 'created': '2015-01-23 21:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/602c328302cd7110a63e1353417808469ab2600b', 'message': 'Updated from global requirements\n\nChange-Id: Ia5457028f511c455681b93243e3c37a19a201794\n'}, {'number': 3, 'created': '2015-01-24 01:01:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/1eb225d949b94c82ee89aa9564e05130043c66c2', 'message': 'Updated from global requirements\n\nChange-Id: Ia5457028f511c455681b93243e3c37a19a201794\n'}]",0,149709,1eb225d949b94c82ee89aa9564e05130043c66c2,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: Ia5457028f511c455681b93243e3c37a19a201794
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/149709/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0c972719960084218e7691ae98d5bd3599cc9e9f,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Foslo.vmware~master~Id9f0e7ef7bdee30e992162176439bf20aee9e6ab,openstack/oslo.vmware,master,Id9f0e7ef7bdee30e992162176439bf20aee9e6ab,Updated from global requirements,MERGED,2015-01-23 04:37:50.000000000,2015-01-24 10:51:57.000000000,2015-01-24 02:28:59.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 9008}]","[{'number': 1, 'created': '2015-01-23 04:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/4bbbd3d8d0456c56e7de5058bbd7cd8142a901c6', 'message': 'Updated from global requirements\n\nChange-Id: Id9f0e7ef7bdee30e992162176439bf20aee9e6ab\n'}, {'number': 2, 'created': '2015-01-23 18:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/fb14eb8443ddbf66dcc515496f2d430b4e38e2e8', 'message': 'Updated from global requirements\n\nChange-Id: Id9f0e7ef7bdee30e992162176439bf20aee9e6ab\n'}, {'number': 3, 'created': '2015-01-24 01:08:39.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/3c67c7bb30214840aeefbfdcc50ff2b7fd41bad9', 'message': 'Updated from global requirements\n\nChange-Id: Id9f0e7ef7bdee30e992162176439bf20aee9e6ab\n'}]",0,149480,3c67c7bb30214840aeefbfdcc50ff2b7fd41bad9,13,3,3,11131,,,0,"Updated from global requirements

Change-Id: Id9f0e7ef7bdee30e992162176439bf20aee9e6ab
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/80/149480/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,4bbbd3d8d0456c56e7de5058bbd7cd8142a901c6,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,2,2
openstack%2Fopenstack-manuals~master~I36584849bb4d757558f68ee467817f8378cfc66c,openstack/openstack-manuals,master,I36584849bb4d757558f68ee467817f8378cfc66c,Update all flavor listings,MERGED,2015-01-20 22:23:05.000000000,2015-01-24 10:04:33.000000000,2015-01-24 10:04:32.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 9382}]","[{'number': 1, 'created': '2015-01-20 22:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a7a0640d310ed84759c55a2bd6fab2de6e3c0477', 'message': 'Add flavors m1.nano and m1.micro to all flavor listings\n\nChange-Id: I36584849bb4d757558f68ee467817f8378cfc66c\nCloses-Bug: #1412871\n'}, {'number': 2, 'created': '2015-01-20 22:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7e3322c77fff955e1082ba71729d8d57e6280455', 'message': 'Add flavors m1.nano and m1.micro to all flavor listings\n\nRemoved m1.heat from one listing. m1.heat is only available\non Devstack environments when installing the components\nTempest and Heat, it is not a default flavor.\n\nChange-Id: I36584849bb4d757558f68ee467817f8378cfc66c\nCloses-Bug: #1412871\n'}, {'number': 3, 'created': '2015-01-21 08:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c6911158ae50cde6df3c22859ddec17dd41bcd2b', 'message': 'Update all flavor listings and add a note about no default flavors\n\nRemoved m1.heat from one listing. m1.heat is only available\non Devstack environments when installing the components\nTempest and Heat, it is not a default flavor.\n\nAdded a note to clearify that the flavors m1.nano, m1.micro,\nand m1.heat are no default flavors.\n\nChange-Id: I36584849bb4d757558f68ee467817f8378cfc66c\nCloses-Bug: #1412871\n'}, {'number': 4, 'created': '2015-01-21 08:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1b43aa7cbf153d662807468ec4ba123caf9ade7d', 'message': 'Update all flavor listings and add a note about no default flavors\n\nRemoved m1.heat from one listing. m1.heat is only available\non Devstack environments when installing the components\nTempest and Heat, it is not a default flavor.\n\nAdded a note to clearify that the flavors m1.nano, m1.micro,\nand m1.heat are no default flavors.\n\nChanged one occurence of m1.nano to m1.tiny in the output of\na python-ceilometerclient example.\n\nChange-Id: I36584849bb4d757558f68ee467817f8378cfc66c\nCloses-Bug: #1412871\n'}, {'number': 5, 'created': '2015-01-21 08:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7a1d49554348173d66d4efa6abd8fcfd0e47b043', 'message': 'Update all flavor listings\n\nRemoved m1.heat from one listing. m1.heat is only available\non Devstack environments when installing the components\nTempest and Heat, it is not a default flavor.\n\nChanged one occurence of m1.nano to m1.tiny in the output of\na python-ceilometerclient example.\n\nChange-Id: I36584849bb4d757558f68ee467817f8378cfc66c\nCloses-Bug: #1412871\n'}, {'number': 6, 'created': '2015-01-23 16:15:31.000000000', 'files': ['doc/common/section_cli_nova_boot_from_volume.xml', 'doc/install-guide/section_launch-instance-neutron.xml', 'doc/admin-guide-cloud/compute/section_compute-instance-building-blocks.xml', 'doc/admin-guide-cloud/telemetry/section_telemetry-data-retrieval.xml', 'doc/user-guide/section_cli_trove.xml', 'doc/admin-guide-cloud/ch_compute.xml', 'doc/user-guide/section_cli_nova_resizerebuild.xml', 'doc/install-guide/section_launch-instance-nova.xml', 'doc/user-guide/section_cli_nova_boot.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/492a298863aff3c701b5b0990042af891e2d0485', 'message': 'Update all flavor listings\n\nRemoved m1.heat from one listing. m1.heat is only available\non Devstack environments when installing the components\nTempest and Heat, it is not a default flavor.\n\nChanged one occurence of m1.nano to m1.tiny in the output of\na python-ceilometerclient example.\n\nChange-Id: I36584849bb4d757558f68ee467817f8378cfc66c\nCloses-Bug: #1412871\n'}]",6,148735,492a298863aff3c701b5b0990042af891e2d0485,24,5,6,167,,,0,"Update all flavor listings

Removed m1.heat from one listing. m1.heat is only available
on Devstack environments when installing the components
Tempest and Heat, it is not a default flavor.

Changed one occurence of m1.nano to m1.tiny in the output of
a python-ceilometerclient example.

Change-Id: I36584849bb4d757558f68ee467817f8378cfc66c
Closes-Bug: #1412871
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/35/148735/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/section_cli_nova_boot_from_volume.xml', 'doc/admin-guide-cloud/compute/section_compute-instance-building-blocks.xml', 'doc/install-guide/section_launch-instance-neutron.xml', 'doc/user-guide/section_cli_trove.xml', 'doc/user-guide-admin/section_cli_nova_manage_flavors.xml', 'doc/admin-guide-cloud/ch_compute.xml', 'doc/install-guide/section_launch-instance-nova.xml', 'doc/user-guide/section_cli_nova_resizerebuild.xml', 'doc/user-guide/section_cli_nova_boot.xml']",9,a7a0640d310ed84759c55a2bd6fab2de6e3c0477,bug/1412871,| ID | Name | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | +-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+ | 1 | m1.tiny | 512 | 1 | 0 | | 1 | 1.0 | True | | 2 | m1.small | 2048 | 20 | 0 | | 1 | 1.0 | True | | 3 | m1.medium | 4096 | 40 | 0 | | 2 | 1.0 | True | | 4 | m1.large | 8192 | 80 | 0 | | 4 | 1.0 | True | | 42 | m1.nano | 64 | 0 | 0 | | 1 | 1.0 | True | | 5 | m1.xlarge | 16384 | 160 | 0 | | 8 | 1.0 | True | | 84 | m1.micro | 128 | 0 | 0 | | 1 | 1.0 | True |,| ID | Name | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | +----+-----------+-----------+------+-----------+------+-------+-------------+-----------+ | 1 | m1.tiny | 512 | 0 | 0 | | 1 | 1.0 | True | | 2 | m1.small | 2048 | 20 | 0 | | 1 | 1.0 | True | | 3 | m1.medium | 4096 | 40 | 0 | | 2 | 1.0 | True | | 4 | m1.large | 8192 | 80 | 0 | | 4 | 1.0 | True | | 5 | m1.xlarge | 16384 | 160 | 0 | | 8 | 1.0 | True |,93,54
openstack%2Fopenstack-manuals~master~I88166806be41fec8cd44d8cabf4ca48fe117d6e2,openstack/openstack-manuals,master,I88166806be41fec8cd44d8cabf4ca48fe117d6e2,Fix yum python development package name,MERGED,2015-01-23 22:58:02.000000000,2015-01-24 09:57:09.000000000,2015-01-24 09:57:08.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 7923}]","[{'number': 1, 'created': '2015-01-23 22:58:02.000000000', 'files': ['doc/common/section_cli_install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/62de206e358dac94067ebc534cde7361ac1560a9', 'message': 'Fix yum python development package name\n\nThe yum package is python-devel not python-dev, so fix it in the\ndocumentation to reflect the correct one.\nyum install python-dev => yum install python-devel\n\nCloses-Bug: 1413706\nChange-Id: I88166806be41fec8cd44d8cabf4ca48fe117d6e2\n'}]",0,149782,62de206e358dac94067ebc534cde7361ac1560a9,7,3,1,5892,,,0,"Fix yum python development package name

The yum package is python-devel not python-dev, so fix it in the
documentation to reflect the correct one.
yum install python-dev => yum install python-devel

Closes-Bug: 1413706
Change-Id: I88166806be41fec8cd44d8cabf4ca48fe117d6e2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/82/149782/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/section_cli_install.xml'],1,62de206e358dac94067ebc534cde7361ac1560a9,bug/1413706, <screen><prompt>#</prompt> <userinput>yum install python-devel python-pip</userinput></screen>, <screen><prompt>#</prompt> <userinput>yum install python-dev python-pip</userinput></screen>,1,1
openstack%2Foslo.vmware~master~I8ae1d112d2d58115f13c3531b98c91f36f2e7d15,openstack/oslo.vmware,master,I8ae1d112d2d58115f13c3531b98c91f36f2e7d15,Correct the doc usage example,MERGED,2015-01-23 22:35:19.000000000,2015-01-24 09:53:04.000000000,2015-01-24 00:24:05.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5638}, {'_account_id': 7400}, {'_account_id': 7575}, {'_account_id': 7629}, {'_account_id': 7948}, {'_account_id': 7992}, {'_account_id': 8027}, {'_account_id': 8302}, {'_account_id': 8759}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9172}]","[{'number': 1, 'created': '2015-01-23 22:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/9ed40095b9edfdd599d9c1177cd165dc2141554c', 'message': 'Correct the doc usage example\n\nThe docs contain an invalid import as an example of the usage\nof the oslo.vmware library.  This patch corrects the import and\nputs a small, more meaningful example in its place.\n\nChange-Id: I8ae1d112d2d58115f13c3531b98c91f36f2e7d15\n'}, {'number': 2, 'created': '2015-01-23 23:05:57.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/95de8baa0cccc673d3273d8db636e5d213b1fa42', 'message': 'Correct the doc usage example\n\nThe docs contain an invalid import as an example of the usage\nof the oslo.vmware library.  This patch corrects the import and\nputs a small, more meaningful example in its place.\n\nChange-Id: I8ae1d112d2d58115f13c3531b98c91f36f2e7d15\n'}]",0,149775,95de8baa0cccc673d3273d8db636e5d213b1fa42,13,14,2,8119,,,0,"Correct the doc usage example

The docs contain an invalid import as an example of the usage
of the oslo.vmware library.  This patch corrects the import and
puts a small, more meaningful example in its place.

Change-Id: I8ae1d112d2d58115f13c3531b98c91f36f2e7d15
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/75/149775/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,9ed40095b9edfdd599d9c1177cd165dc2141554c,fix_usage,To use in a project:: from oslo.vmware import vim_util ... version = vim_util.get_vc_version(self._session) ,To use in a project:: import vmware,4,2
openstack%2Fcinder~master~I456e64445dc8a258fdcc3c1b309f59f8adcc23e3,openstack/cinder,master,I456e64445dc8a258fdcc3c1b309f59f8adcc23e3,"Cleanup unused DB APIs, part I",MERGED,2015-01-14 05:33:06.000000000,2015-01-24 09:45:23.000000000,2015-01-23 20:48:33.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 5538}, {'_account_id': 7219}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 14242}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-14 05:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf1c59565e473989fa8f409f625d9f72c723b6b8', 'message': 'Cleanup unused DB APIs, part I\n\nThere are unused DB APIs, some of them were leftovers of other features\nremoval, some are purely added without being used.  This change removes\nthese unused DB APIs.  Note that there are some DB APIs only used by\nunit tests, those will be cleaned up in follow-up patch(es).\n\nChange-Id: I456e64445dc8a258fdcc3c1b309f59f8adcc23e3\n'}, {'number': 2, 'created': '2015-01-15 02:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0fd8e9849b112186953a9eff293d152461e4b161', 'message': 'Cleanup unused DB APIs, part I\n\nThere are unused DB APIs, some of them were leftovers of other features\nremoval, some are purely added without being used.  This change removes\nthese unused DB APIs.  Note that there are some DB APIs only used by\nunit tests, those will be cleaned up in follow-up patch(es).\n\nChange-Id: I456e64445dc8a258fdcc3c1b309f59f8adcc23e3\n'}, {'number': 3, 'created': '2015-01-23 16:22:53.000000000', 'files': ['cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa681d40bf6ef12d5df3d6357b70d268d3b915bf', 'message': 'Cleanup unused DB APIs, part I\n\nThere are unused DB APIs, some of them were leftovers of other features\nremoval, some are purely added without being used.  This change removes\nthese unused DB APIs.\n\nNote that there are some DB APIs only used by unit tests, in other words\nthey are used in unit tests where they are not the unit of code being\ntested. Those will be cleaned up in follow-up patch(es).\n\nChange-Id: I456e64445dc8a258fdcc3c1b309f59f8adcc23e3\n'}]",0,147066,aa681d40bf6ef12d5df3d6357b70d268d3b915bf,49,24,3,2759,,,0,"Cleanup unused DB APIs, part I

There are unused DB APIs, some of them were leftovers of other features
removal, some are purely added without being used.  This change removes
these unused DB APIs.

Note that there are some DB APIs only used by unit tests, in other words
they are used in unit tests where they are not the unit of code being
tested. Those will be cleaned up in follow-up patch(es).

Change-Id: I456e64445dc8a258fdcc3c1b309f59f8adcc23e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/147066/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/test_db_api.py']",3,bf1c59565e473989fa8f409f625d9f72c723b6b8,clean_up_db_api,," def test_service_get_all_by_host(self): values = [ {'host': 'host1', 'topic': 't1'}, {'host': 'host1', 'topic': 't1'}, {'host': 'host2', 'topic': 't1'}, {'host': 'host3', 'topic': 't2'} ] services = [self._create_service(vals) for vals in values] expected = services[:2] real = db.service_get_all_by_host(self.ctxt, 'host1') self._assertEqualListsOfObjects(expected, real) def test_service_get_all_volume_sorted(self): values = [ ({'host': 'h1', 'binary': 'a', 'topic': CONF.volume_topic}, 100), ({'host': 'h2', 'binary': 'b', 'topic': CONF.volume_topic}, 200), ({'host': 'h3', 'binary': 'b', 'topic': CONF.volume_topic}, 300)] services = [] for vals, size in values: services.append(self._create_service(vals)) db.volume_create(self.ctxt, {'host': vals['host'], 'size': size}) for service, size in db.service_get_all_volume_sorted(self.ctxt): self._assertEqualObjects(services.pop(0), service) self.assertEqual(values.pop(0)[1], size) def test_volume_allocate_iscsi_target_no_more_targets(self): self.assertRaises(exception.NoMoreTargets, db.volume_allocate_iscsi_target, self.ctxt, 42, 'host1') def test_volume_allocate_iscsi_target(self): host = 'host1' volume = db.volume_create(self.ctxt, {'host': host}) db.iscsi_target_create_safe(self.ctxt, {'host': host, 'target_num': 42}) target_num = db.volume_allocate_iscsi_target(self.ctxt, volume['id'], host) self.assertEqual(target_num, 42) def test_quota_class_destroy(self): db.quota_class_destroy(self.ctxt, 'test_qc', 'test_resource') self.assertRaises(exception.QuotaClassNotFound, db.quota_class_get, self.ctxt, 'test_qc', 'test_resource') def test_quota_class_destroy_all_by_name(self): db.quota_class_create(self.ctxt, 'test2', 'res1', 43) db.quota_class_create(self.ctxt, 'test2', 'res2', 44) db.quota_class_destroy_all_by_name(self.ctxt, 'test2') self.assertEqual({'class_name': 'test2'}, db.quota_class_get_all_by_name(self.ctxt, 'test2')) ",0,144
openstack%2Fopenstack-manuals~master~Idf31022efef08c88ee620ca8f196f9d4ef85e7e5,openstack/openstack-manuals,master,Idf31022efef08c88ee620ca8f196f9d4ef85e7e5,Imported Translations from Transifex,MERGED,2015-01-24 06:12:47.000000000,2015-01-24 09:34:44.000000000,2015-01-24 09:34:42.000000000,"[{'_account_id': 3}, {'_account_id': 167}]","[{'number': 1, 'created': '2015-01-24 06:12:47.000000000', 'files': ['doc/user-guide/locale/ja.po', 'doc/install-guide/locale/ko_KR.po', 'doc/user-guide/locale/fr.po', 'doc/common/locale/common.pot', 'doc/arch-design/locale/arch-design.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/user-guide/locale/user-guide.pot', 'doc/common/locale/fr.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5abd91d58bc3b39099faf589419ef444e176e2e2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Idf31022efef08c88ee620ca8f196f9d4ef85e7e5\n'}]",0,149813,5abd91d58bc3b39099faf589419ef444e176e2e2,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Idf31022efef08c88ee620ca8f196f9d4ef85e7e5
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/13/149813/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/locale/ja.po', 'doc/install-guide/locale/ko_KR.po', 'doc/user-guide/locale/fr.po', 'doc/common/locale/common.pot', 'doc/arch-design/locale/arch-design.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/user-guide/locale/user-guide.pot', 'doc/common/locale/fr.po']",9,5abd91d58bc3b39099faf589419ef444e176e2e2,transifex/translations,"""POT-Creation-Date: 2015-01-23 18:22+0000\n"" ""PO-Revision-Date: 2015-01-23 10:24+0000\n""#: ./doc/common/section_cli_keystone_credentials.xml80(para) #: ./doc/common/section_cli_keystone_credentials.xml126(para)""Export the URL of the keystone auth server, for example "" ""<uri>http://localhost:5000/v2.0</uri>, to the <varname>OS_AUTH_URL</varname>"" "" environment variable:""#: ./doc/common/section_cli_keystone_credentials.xml84(para)#: ./doc/common/section_cli_keystone_credentials.xml92(para)#: ./doc/common/section_cli_keystone_credentials.xml100(para)#: ./doc/common/section_cli_keystone_credentials.xml108(para)#: ./doc/common/section_cli_keystone_credentials.xml120(title) msgid """" ""To configure the keystone client to verify the TLS (HTTPS) server "" ""certificate"" msgstr """" #: ./doc/common/section_cli_keystone_credentials.xml122(para) msgid """" ""Define the <varname>OS_CACERT</varname> environment variable to set the "" ""location for the CA trust store (PEM formatted) for this client:"" msgstr """" #: ./doc/common/section_cli_keystone_credentials.xml124(replaceable) #: ./doc/common/section_cli_openrc.xml94(replaceable) msgid ""/path/to/cacertFile"" msgstr """" #: ./doc/common/section_cli_keystone_credentials.xml128(para) msgid """" ""<literal>--os-cacert <replaceable>OS_CACERT</replaceable></literal>. CA "" ""bundle file to use in verifying a TLS (HTTPS) server certificate. Defaults "" ""to <code>env[OS_CACERT]</code>."" msgstr """" #: ./doc/common/section_cli_openrc.xml97(para)#: ./doc/common/section_cli_openrc.xml109(para)#: ./doc/common/section_cli_openrc.xml120(para) msgid """" ""You must set the OS_CACERT environment variable when using the https "" ""protocol in the OS_AUTH_URL environment setting because the verification "" ""process for the TLS (HTTPS) server certificate uses the one indicated in the"" "" environment. This certificate will be used when verifying the TLS (HTTPS) "" ""server certificate."" msgstr """" #: ./doc/common/section_cli_openrc.xml128(title)#: ./doc/common/section_cli_openrc.xml129(para)#: ./doc/common/section_cli_openrc.xml137(replaceable)#: ./doc/common/section_cli_openrc.xml138(para)","""POT-Creation-Date: 2015-01-22 05:45+0000\n"" ""PO-Revision-Date: 2015-01-22 00:52+0000\n""#: ./doc/common/section_cli_keystone_credentials.xml81(para)""Export the URL of the keystone auth server, for example <link "" ""href=\""http://localhost:5000/v2.0'\"">http://localhost:5000/v2.0'</link>, to "" ""the <varname>OS_AUTH_URL</varname> environment variable:""#: ./doc/common/section_cli_keystone_credentials.xml85(para)#: ./doc/common/section_cli_keystone_credentials.xml93(para)#: ./doc/common/section_cli_keystone_credentials.xml101(para)#: ./doc/common/section_cli_keystone_credentials.xml109(para)#: ./doc/common/section_cli_openrc.xml96(para)#: ./doc/common/section_cli_openrc.xml108(para)#: ./doc/common/section_cli_openrc.xml120(title)#: ./doc/common/section_cli_openrc.xml121(para)#: ./doc/common/section_cli_openrc.xml129(replaceable)#: ./doc/common/section_cli_openrc.xml130(para)",11854,107
openstack%2Fhorizon~master~I54a7304d772d3720752100846473d2fb5939181f,openstack/horizon,master,I54a7304d772d3720752100846473d2fb5939181f,Imported Translations from Transifex,MERGED,2015-01-24 06:06:58.000000000,2015-01-24 09:23:30.000000000,2015-01-24 09:23:29.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-01-24 06:06:58.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd8aad40778e2b2b4cb7868d2a7270aca01cdb0c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I54a7304d772d3720752100846473d2fb5939181f\n'}]",0,149810,cd8aad40778e2b2b4cb7868d2a7270aca01cdb0c,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I54a7304d772d3720752100846473d2fb5939181f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/10/149810/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po']",17,cd8aad40778e2b2b4cb7868d2a7270aca01cdb0c,transifex/translations,"""POT-Creation-Date: 2015-01-23 08:15-0600\n"" ""PO-Revision-Date: 2015-01-23 14:32+0000\n""#: dashboards/project/stacks/tables.py:142 #: dashboards/project/stacks/tables.py:178 #: dashboards/project/stacks/tables.py:225#: dashboards/project/stacks/tables.py:133#: dashboards/project/stacks/tables.py:137#: dashboards/project/stacks/tables.py:130#: dashboards/project/stacks/tables.py:151#: dashboards/project/stacks/tables.py:47 msgid ""Check Stack"" msgid_plural ""Check Stacks"" msgstr[0] """" msgstr[1] """" #: dashboards/project/stacks/tables.py:55 msgid ""Checked Stack"" msgid_plural ""Checked Stacks"" msgstr[0] """" msgstr[1] """" #: dashboards/project/stacks/tables.py:66#: dashboards/project/stacks/tables.py:79#: dashboards/project/stacks/tables.py:87#: dashboards/project/stacks/tables.py:167 #: dashboards/project/stacks/tables.py:212#: dashboards/project/stacks/tables.py:170 #: dashboards/project/stacks/tables.py:215#: dashboards/project/stacks/tables.py:173#: dashboards/project/stacks/tables.py:181 #: dashboards/project/stacks/tables.py:230#: dashboards/project/stacks/tables.py:185#: dashboards/project/stacks/tables.py:218#: dashboards/project/stacks/tables.py:220#: dashboards/project/stacks/tables.py:243","""POT-Creation-Date: 2015-01-22 00:01-0600\n"" ""PO-Revision-Date: 2015-01-22 01:01+0000\n""#: dashboards/project/stacks/tables.py:117 #: dashboards/project/stacks/tables.py:154 #: dashboards/project/stacks/tables.py:201#: dashboards/project/stacks/tables.py:108#: dashboards/project/stacks/tables.py:112#: dashboards/project/stacks/tables.py:105#: dashboards/project/stacks/tables.py:126#: dashboards/project/stacks/tables.py:54#: dashboards/project/stacks/tables.py:62#: dashboards/project/stacks/tables.py:143 #: dashboards/project/stacks/tables.py:188#: dashboards/project/stacks/tables.py:146 #: dashboards/project/stacks/tables.py:191#: dashboards/project/stacks/tables.py:149#: dashboards/project/stacks/tables.py:157 #: dashboards/project/stacks/tables.py:206#: dashboards/project/stacks/tables.py:161#: dashboards/project/stacks/tables.py:194#: dashboards/project/stacks/tables.py:196#: dashboards/project/stacks/tables.py:219",600,379
openstack%2Fhorizon~master~Ib44046253f5f921765ff6e3726f1d26edf422973,openstack/horizon,master,Ib44046253f5f921765ff6e3726f1d26edf422973,Resource types table improvement,MERGED,2015-01-22 10:43:21.000000000,2015-01-24 08:21:24.000000000,2015-01-24 08:21:23.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4328}, {'_account_id': 6577}, {'_account_id': 6914}, {'_account_id': 7634}, {'_account_id': 9622}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-01-22 10:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0ab18759c588212dcb55230a7557e837bb5d0e68', 'message': 'Resource types table improvement\n\nTo make clear that ""AWS"" is a compatibility layer and not actual AWS,\nit\'s better to use ""AWS compatible"" instead of ""Amazon Web Services""\nfor the resource types table.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: Ib44046253f5f921765ff6e3726f1d26edf422973\n'}, {'number': 2, 'created': '2015-01-23 06:15:34.000000000', 'files': ['openstack_dashboard/dashboards/project/stacks/resource_types/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1eba7895e33c3defd743711da41c81e1352b5c54', 'message': 'Resource types table improvement\n\nTo make clear that ""AWS"" is a compatibility layer and not actual AWS,\nit\'s better to use ""AWS compatible"" instead of ""Amazon Web Services""\nfor the resource types table.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: Ib44046253f5f921765ff6e3726f1d26edf422973\n'}]",1,149211,1eba7895e33c3defd743711da41c81e1352b5c54,18,8,2,6914,,,0,"Resource types table improvement

To make clear that ""AWS"" is a compatibility layer and not actual AWS,
it's better to use ""AWS compatible"" instead of ""Amazon Web Services""
for the resource types table.

Partially implements blueprint: heat-ui-improvement

Change-Id: Ib44046253f5f921765ff6e3726f1d26edf422973
",git fetch https://review.opendev.org/openstack/horizon refs/changes/11/149211/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/stacks/resource_types/tables.py'],1,0ab18759c588212dcb55230a7557e837bb5d0e68,bp/heat-ui-improvement," info_list[0] = info_list[0].replace(""AWS"", ""AWS compatible"").\"," info_list[0] = info_list[0].replace(""AWS"", ""Amazon Web Services"").\",1,1
openstack%2Foslo.vmware~master~I5c65d36344b52c74d8fb823c3bb2703ba097a743,openstack/oslo.vmware,master,I5c65d36344b52c74d8fb823c3bb2703ba097a743,Fix missing project name in installation doc,MERGED,2015-01-23 22:53:57.000000000,2015-01-24 08:13:06.000000000,2015-01-24 03:24:01.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 7400}, {'_account_id': 7575}, {'_account_id': 8027}, {'_account_id': 8119}, {'_account_id': 8302}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 14794}]","[{'number': 1, 'created': '2015-01-23 22:53:57.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/c4fa9f3671a6a76aff58e6d5b385c7ab63d9a2f8', 'message': 'Fix missing project name in installation doc\n\nCurrently, the installation doc is missing the project name for\nthe pip install command. This commit adds the correct project\nname.\n\nChange-Id: I5c65d36344b52c74d8fb823c3bb2703ba097a743\n'}]",0,149781,c4fa9f3671a6a76aff58e6d5b385c7ab63d9a2f8,16,10,1,8302,,,0,"Fix missing project name in installation doc

Currently, the installation doc is missing the project name for
the pip install command. This commit adds the correct project
name.

Change-Id: I5c65d36344b52c74d8fb823c3bb2703ba097a743
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/81/149781/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,c4fa9f3671a6a76aff58e6d5b385c7ab63d9a2f8,, $ pip install oslo.vmware $ mkvirtualenv oslo.vmware $ pip install oslo.vmware , $ pip install $ mkvirtualenv $ pip install ,3,3
openstack%2Fdjango_openstack_auth~master~I9728dff4799c868dbc5da2b0042716467de1864b,openstack/django_openstack_auth,master,I9728dff4799c868dbc5da2b0042716467de1864b,Relocating policy engine from openstack_dashboard,MERGED,2014-11-21 22:41:27.000000000,2015-01-24 07:07:34.000000000,2015-01-24 07:07:32.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6914}, {'_account_id': 8040}, {'_account_id': 9576}, {'_account_id': 9981}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-11-21 22:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/afe8d8bbf772113ff1d35623cb91db70190d5b1a', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consilidate the two ways of checking\nauthorization, moving the importing the policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nPartially Implemenents: move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}, {'number': 2, 'created': '2014-11-22 00:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/32d6fde0c0b337ffbfdb316e365413037c8f2874', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consilidate the two ways of checking\nauthorization, moving the importing the policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nPartially Implements: blueprint move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}, {'number': 3, 'created': '2014-11-26 23:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/efa6853c4391155c2b9340137251fd52ba92b80a', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consilidate the two ways of checking\nauthorization, moving the importing the policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nMoving policy tests to use mock rather than mox as well.\n\nPartially Implements: blueprint move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}, {'number': 4, 'created': '2014-12-10 18:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/aeedee4f8bd8ae557942317a3a2f295806c71a87', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consilidate the two ways of checking\nauthorization, moving the importing the policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nMoving policy tests to use mock rather than mox as well.\n\nPartially Implements: blueprint move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}, {'number': 5, 'created': '2014-12-11 19:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/c062279cf8058e3731818c355af62c75b9d88f34', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consolidate the two ways of checking\nauthorization, moving the importing of policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nMoving policy tests to use mock rather than mox as well.\n\nPartially Implements: blueprint move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}, {'number': 6, 'created': '2014-12-29 19:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/94009780761bf766d6259f352126c2cfc1f2908c', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consilidate the two ways of checking\nauthorization, moving the importing the policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nMoving policy tests to use mock rather than mox as well.\n\nPartially Implements: blueprint move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}, {'number': 7, 'created': '2015-01-24 00:26:22.000000000', 'files': ['openstack_auth/openstack/common/fileutils.py', 'test-requirements.txt', 'openstack_auth/policy.py', 'openstack_auth/openstack/common/local.py', 'openstack_auth/tests/settings.py', 'openstack_auth/openstack/common/_i18n.py', 'openstack_auth/openstack/common/policy.py', 'openstack_auth/tests/tests.py', 'requirements.txt', 'openstack_auth/tests/conf/nova_policy.json', 'openstack_auth/openstack/common/log.py', 'openstack_auth/tests/conf/keystone_policy.json', 'openstack-common.conf', 'openstack_auth/openstack/common/__init__.py', 'openstack_auth/openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/2b10c7b51081306b4c675046fd7dfe9df375943d', 'message': 'Relocating policy engine from openstack_dashboard\n\nIn order to eventually consilidate the two ways of checking\nauthorization, moving the importing the policy engine into\nthis repo. This move requires adding code from oslo incubator.\n\nAdditionally, the tests have been added to this repo and slightly\naltered to handle differences in the test setup facilities.\n\nExample policy files have been added to the tests directory to\nfacilitate testing. The intention for application use is that\nthe django application will point to the runtime policy.json files\nin the settings file.\n\nMoving policy tests to use mock rather than mox as well.\n\nPartially Implements: blueprint move-policy-engine\nChange-Id: I9728dff4799c868dbc5da2b0042716467de1864b\n'}]",6,136515,2b10c7b51081306b4c675046fd7dfe9df375943d,63,9,7,5623,,,0,"Relocating policy engine from openstack_dashboard

In order to eventually consilidate the two ways of checking
authorization, moving the importing the policy engine into
this repo. This move requires adding code from oslo incubator.

Additionally, the tests have been added to this repo and slightly
altered to handle differences in the test setup facilities.

Example policy files have been added to the tests directory to
facilitate testing. The intention for application use is that
the django application will point to the runtime policy.json files
in the settings file.

Moving policy tests to use mock rather than mox as well.

Partially Implements: blueprint move-policy-engine
Change-Id: I9728dff4799c868dbc5da2b0042716467de1864b
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/15/136515/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/openstack/common/fileutils.py', 'openstack_auth/policy.py', 'openstack_auth/openstack/common/local.py', 'openstack_auth/tests/settings.py', 'openstack_auth/openstack/common/_i18n.py', 'openstack_auth/openstack/common/policy.py', 'openstack_auth/tests/tests.py', 'requirements.txt', 'openstack_auth/tests/conf/nova_policy.json', 'openstack_auth/openstack/common/log.py', 'openstack_auth/tests/conf/keystone_policy.json', 'openstack-common.conf', 'openstack_auth/openstack/common/__init__.py', 'openstack_auth/openstack/__init__.py']",14,afe8d8bbf772113ff1d35623cb91db70190d5b1a,bp/move-policy-engine,,,2563,0
openstack%2Fmagnum~master~I72df106d66c92e83f890b4c4317ff4eb572d955b,openstack/magnum,master,I72df106d66c92e83f890b4c4317ff4eb572d955b,Point to proper quickstart guide in index.rst,MERGED,2015-01-22 16:40:54.000000000,2015-01-24 06:46:48.000000000,2015-01-24 06:46:46.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-22 16:40:54.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/be50d290cb65d7aeebf9dbd608e6622df69c4daa', 'message': 'Point to proper quickstart guide in index.rst\n\nThe documentation kicks out a warning presently about the\ndev-quickstart.rst not being found.\n\nChange-Id: I72df106d66c92e83f890b4c4317ff4eb572d955b\n'}]",0,149335,be50d290cb65d7aeebf9dbd608e6622df69c4daa,9,5,1,2834,,,0,"Point to proper quickstart guide in index.rst

The documentation kicks out a warning presently about the
dev-quickstart.rst not being found.

Change-Id: I72df106d66c92e83f890b4c4317ff4eb572d955b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/35/149335/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,be50d290cb65d7aeebf9dbd608e6622df69c4daa,, dev/dev-quickstart, quickstart,1,1
openstack%2Fopenstack-ansible~juno~If3b94fde52fd606a23f746049886dbdfd4d09895,openstack/openstack-ansible,juno,If3b94fde52fd606a23f746049886dbdfd4d09895,Add swift_all inventory to swift account/container/object plays,MERGED,2015-01-23 17:46:54.000000000,2015-01-24 06:45:16.000000000,2015-01-23 18:40:45.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-23 17:46:54.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/playbooks/openstack/swift-container.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d4431241423c3462d2a9c6b89ebea3b20a350860', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nCloses-Bug: #1402617\nChange-Id: If3b94fde52fd606a23f746049886dbdfd4d09895\n(cherry picked from commit 198645cd2c84491ea8b4e7fe0aedf647ca2f6c04)\n'}]",0,149690,d4431241423c3462d2a9c6b89ebea3b20a350860,8,4,1,6816,,,0,"Add swift_all inventory to swift account/container/object plays

This patch adds the swift_all inventory to the swift account, container
and object plays to ensure that the correct service name is used when
the play configures the upstart services.
Without including the inventory a different service name is used,
resulting in upstart trying to find the config files in /etc/neutron.

Closes-Bug: #1402617
Change-Id: If3b94fde52fd606a23f746049886dbdfd4d09895
(cherry picked from commit 198645cd2c84491ea8b4e7fe0aedf647ca2f6c04)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/149690/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/playbooks/openstack/swift-container.yml']",4,d4431241423c3462d2a9c6b89ebea3b20a350860,bug/1402617, - inventory/group_vars/swift_all.yml,,5,0
openstack%2Fopenstack-ansible~juno~Iffad2ffce93e8173da68863210afba0aa105622d,openstack/openstack-ansible,juno,Iffad2ffce93e8173da68863210afba0aa105622d,Adjust os-ansible-aio-check to work for all branches,MERGED,2015-01-23 16:58:24.000000000,2015-01-24 05:00:28.000000000,2015-01-23 17:29:46.000000000,"[{'_account_id': 3}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-23 16:58:24.000000000', 'files': ['scripts/os-ansible-aio-check.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/52913558fdad7392f01ab13d19c47a5ec600e1f7', 'message': 'Adjust os-ansible-aio-check to work for all branches\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibility of the configuration process for all branches.\nThis patch also ensures that the plays executed are appropriate for the\nbranches - the icehouse branch has different names for some of the\nplays.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n(cherry picked from commit 8a21f096577a20be1aafdb2e3656cf5b06ff2f90)\n'}]",0,149681,52913558fdad7392f01ab13d19c47a5ec600e1f7,7,4,1,6816,,,0,"Adjust os-ansible-aio-check to work for all branches

The icehouse branch does not currently have support for using the conf.d
directory for additional user configuration. This patch implements all
the configuration, except swift (which is not available in the icehouse
branch) into a monolothic user configuration file. This ensures
compatibility of the configuration process for all branches.
This patch also ensures that the plays executed are appropriate for the
branches - the icehouse branch has different names for some of the
plays.

Change-Id: Iffad2ffce93e8173da68863210afba0aa105622d
Closes-Bug: #1413606
(cherry picked from commit 8a21f096577a20be1aafdb2e3656cf5b06ff2f90)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/81/149681/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/os-ansible-aio-check.sh'],1,52913558fdad7392f01ab13d19c47a5ec600e1f7,, cat >> /etc/rpc_deploy/rpc_user_config.yml <<EOFcat >> /etc/rpc_deploy/rpc_user_config.yml <<EOF infra_hosts: aio1: ip: 172.29.236.100 compute_hosts: aio1: ip: 172.29.236.100 storage_hosts: aio1: ip: 172.29.236.100 container_vars: cinder_backends: limit_container_types: cinder_volume lvm: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.lvm.LVMISCSIDriver volume_backend_name: LVM_iSCSI log_hosts: aio1: ip: 172.29.236.100 network_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 EOF if [ -f playbooks/openstack/openstack-common.yml ]; then # cater for 9.x.x release (icehouse) install_bits openstack/openstack-common.yml fi if [ -f playbooks/openstack/keystone-all.yml ]; then # cater for 10.x.x release (juno) onwards install_bits openstack/keystone-all.yml else # cater for 9.x.x release (icehouse) install_bits openstack/keystone.yml install_bits openstack/keystone-add-all-services.yml fi if [ -f playbooks/openstack/utility-all.yml ]; then # cater for 10.x.x release (juno) onwards install_bits openstack/utility-all.yml else # cater for 9.x.x release (icehouse) install_bits openstack/utility.yml fi if [ -f playbooks/openstack/rpc-support-all.yml ]; then # cater for 10.x.x release (juno) onwards install_bits openstack/rpc-support-all.yml else # cater for 9.x.x release (icehouse) install_bits openstack/rpc-support.yml fi,infra_hosts: aio1: ip: 172.29.236.100 compute_hosts: aio1: ip: 172.29.236.100 storage_hosts: aio1: ip: 172.29.236.100 container_vars: cinder_backends: limit_container_types: cinder_volume lvm: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.lvm.LVMISCSIDriver volume_backend_name: LVM_iSCSI log_hosts: aio1: ip: 172.29.236.100 network_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 EOF cat > /etc/rpc_deploy/conf.d/provider_networks.yml <<EOF --- global_overrides: cat >> /etc/rpc_deploy/conf.d/provider_networks.yml <<EOF # workaround for https://bugs.launchpad.net/openstack-ansible/+bug/1402594 container_vars: swift_vars: install_bits openstack/keystone-all.yml install_bits openstack/utility-all.yml install_bits openstack/rpc-support-all.yml,55,37
openstack%2Ftaskflow~master~I4e25b88c5d2f7e2d7933ff270e2782cebe227025,openstack/taskflow,master,I4e25b88c5d2f7e2d7933ff270e2782cebe227025,Use explicit WBE worker object arguments (instead of kwargs),MERGED,2015-01-23 08:43:49.000000000,2015-01-24 04:49:53.000000000,2015-01-24 04:49:52.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-23 08:43:49.000000000', 'files': ['taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/engines/worker_based/worker.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fc9cb88228204c37c43daaae799146fa1bb29213', 'message': 'Use explicit WBE worker object arguments (instead of kwargs)\n\nRemoves the kwargs usage that is now uniform across the other\nWBE components from the workers module so that the usage of\nkwargs for setting up these objects no longer is valid.\n\nChange-Id: I4e25b88c5d2f7e2d7933ff270e2782cebe227025\n'}]",0,149536,fc9cb88228204c37c43daaae799146fa1bb29213,6,2,1,1297,,,0,"Use explicit WBE worker object arguments (instead of kwargs)

Removes the kwargs usage that is now uniform across the other
WBE components from the workers module so that the usage of
kwargs for setting up these objects no longer is valid.

Change-Id: I4e25b88c5d2f7e2d7933ff270e2782cebe227025
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/36/149536/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/engines/worker_based/worker.py']",2,fc9cb88228204c37c43daaae799146fa1bb29213,,"from taskflow.types import futures :param threads_count: threads count to be passed to the default executor (used only if an executor is not passed in) def __init__(self, exchange, topic, tasks, executor=None, threads_count=None, url=None, transport=None, transport_options=None, retry_options=None): if threads_count is not None: self._threads_count = int(threads_count) self._endpoints, url=url, transport=transport, transport_options=transport_options, retry_options=retry_options)","from concurrent import futures :param threads_count: threads count to be passed to the default executor def __init__(self, exchange, topic, tasks, executor=None, **kwargs): if 'threads_count' in kwargs: self._threads_count = int(kwargs.pop('threads_count')) if self._threads_count <= 0: raise ValueError(""threads_count provided must be > 0"") self._endpoints, **kwargs)",27,14
openstack%2Ftaskflow~master~I7eae79bd630572d0c045a2561f2f36bdcf14aaf4,openstack/taskflow,master,I7eae79bd630572d0c045a2561f2f36bdcf14aaf4,Leave use-cases out of WBE developer documentation,MERGED,2015-01-23 23:04:28.000000000,2015-01-24 04:35:40.000000000,2015-01-24 04:35:39.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-23 23:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/03f326adb9cc5b4c601a98f0bd5e1c6cfc4c45d8', 'message': ""Leave use-cases out of developer documentation\n\nIt doesn't seem appropriate anymore to include the\nuse-cases for the worker engine in developer documentation\nsince that information should be placed elsewhere (as its\nnot especially relevant to developers).\n\nChange-Id: I7eae79bd630572d0c045a2561f2f36bdcf14aaf4\n""}, {'number': 2, 'created': '2015-01-23 23:04:44.000000000', 'files': ['doc/source/workers.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2f04395b96554b41f2d3ebed4d5f26ba2ff0a0a8', 'message': ""Leave use-cases out of WBE developer documentation\n\nIt doesn't seem appropriate anymore to include the\nuse-cases for the worker engine in developer documentation\nsince that information should be placed elsewhere (as its\nnot especially relevant to developers).\n\nChange-Id: I7eae79bd630572d0c045a2561f2f36bdcf14aaf4\n""}]",0,149785,2f04395b96554b41f2d3ebed4d5f26ba2ff0a0a8,7,2,2,1297,,,0,"Leave use-cases out of WBE developer documentation

It doesn't seem appropriate anymore to include the
use-cases for the worker engine in developer documentation
since that information should be placed elsewhere (as its
not especially relevant to developers).

Change-Id: I7eae79bd630572d0c045a2561f2f36bdcf14aaf4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/85/149785/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/workers.rst'],1,03f326adb9cc5b4c601a98f0bd5e1c6cfc4c45d8,,,"Use-cases --------- * `Glance`_ * Image tasks *(long-running)* * Convert, import/export & more... * `Heat`_ * Engine work distribution * `Rally`_ * Load generation * *Your use-case here* .. _Heat: https://wiki.openstack.org/wiki/Heat .. _Rally: https://wiki.openstack.org/wiki/Rally .. _Glance: https://wiki.openstack.org/wiki/Glance ",0,23
openstack%2Ftaskflow~master~Ibdb55e873e4b1ae5675e2f50d85ac0ecbd59ffb6,openstack/taskflow,master,Ibdb55e873e4b1ae5675e2f50d85ac0ecbd59ffb6,Add comments to runner state machine reaction functions,MERGED,2015-01-23 22:48:45.000000000,2015-01-24 04:35:28.000000000,2015-01-24 04:35:27.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-23 22:48:45.000000000', 'files': ['taskflow/engines/action_engine/runner.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/66fc2df3a61198df8d9b3acf1ac9fed6b87ae060', 'message': 'Add comments to runner state machine reaction functions\n\nTo make it a little more obvious what each function is\nresponsible for doing (and why) add comments onto each\ninner reaction function that explains more of its purpose\nin life.\n\nChange-Id: Ibdb55e873e4b1ae5675e2f50d85ac0ecbd59ffb6\n'}]",0,149780,66fc2df3a61198df8d9b3acf1ac9fed6b87ae060,6,2,1,1297,,,0,"Add comments to runner state machine reaction functions

To make it a little more obvious what each function is
responsible for doing (and why) add comments onto each
inner reaction function that explains more of its purpose
in life.

Change-Id: Ibdb55e873e4b1ae5675e2f50d85ac0ecbd59ffb6
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/80/149780/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/engines/action_engine/runner.py'],1,66fc2df3a61198df8d9b3acf1ac9fed6b87ae060,," # This reaction function just updates the state machines memory # to include any nodes that need to be executed (from a previous # attempt, which may be empty if never ran before) and any nodes # that are now ready to be ran. # This reaction function is mainly a intermediary delegation # function that analyzes the current memory and transitions to # the appropriate handler that will deal with the memory values, # it is *always* called before the final state is entered. # This reaction function starts to schedule the memory's next # nodes (iff the engine is still runnable, which it may not be # if the user of this engine has requested the engine/storage # that holds this information to stop or suspend); handles failures # that occur during this process safely... # This reaction function is responsible for analyzing all nodes # that have finished executing and completing them and figuring # out what nodes are now ready to be ran (and then triggering those # nodes to be scheduled in the future); handles failures that # occur during this process safely...",,18,0
openstack%2Ftaskflow~master~I546b5afb1501773351fc2233bb12858497970105,openstack/taskflow,master,I546b5afb1501773351fc2233bb12858497970105,Fix coverage environment,MERGED,2015-01-23 11:16:28.000000000,2015-01-24 04:35:20.000000000,2015-01-24 04:35:19.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 7366}]","[{'number': 1, 'created': '2015-01-23 11:16:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/35745c902eee8bbcf24da6fdd7139fc08513faeb', 'message': ""Fix coverage environment\n\nTo run coverage report we need 'coverage' package, which should\nbe added to dependency list for corresponding tox environment.\n\nChange-Id: I546b5afb1501773351fc2233bb12858497970105\n""}]",0,149572,35745c902eee8bbcf24da6fdd7139fc08513faeb,10,3,1,7366,,,0,"Fix coverage environment

To run coverage report we need 'coverage' package, which should
be added to dependency list for corresponding tox environment.

Change-Id: I546b5afb1501773351fc2233bb12858497970105
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/72/149572/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35745c902eee8bbcf24da6fdd7139fc08513faeb,fix-cover-env, coverage>=3.6,,1,0
openstack%2Ftaskflow~master~Id84b0e7ce684a543cc407b15016e77804e6f03ed,openstack/taskflow,master,Id84b0e7ce684a543cc407b15016e77804e6f03ed,Make all/most usage of type errors follow a similar pattern,MERGED,2015-01-24 02:26:36.000000000,2015-01-24 04:31:50.000000000,2015-01-24 04:31:49.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-24 02:26:36.000000000', 'files': ['taskflow/storage.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/persistence/logbook.py', 'taskflow/persistence/backends/impl_memory.py', 'taskflow/persistence/base.py', 'taskflow/types/failure.py', 'taskflow/atom.py', 'taskflow/utils/kazoo_utils.py', 'taskflow/engines/action_engine/scheduler.py', 'taskflow/utils/misc.py', 'taskflow/tests/unit/test_task.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e417914d49458a4f0fd231497f6a4c1200cfecb2', 'message': ""Make all/most usage of type errors follow a similar pattern\n\nTo make it easy to add new type errors and to make the existing\nones have a common string pattern adjust the current type errors\nto contain at least the following string format: '%s' (%s) where\nthese two places will be filled in with the object of the wrong\ntype and the type of that object. This information is useful when\nanalyzing the exception (by the user) to know exactly what they\npassed in and what type it was.\n\nThis convention is not maintained where it would interpolate large\ntext blobs (such as in binary encoding/decoding and json decoding).\n\nChange-Id: Id84b0e7ce684a543cc407b15016e77804e6f03ed\n""}]",0,149803,e417914d49458a4f0fd231497f6a4c1200cfecb2,7,2,1,1297,,,0,"Make all/most usage of type errors follow a similar pattern

To make it easy to add new type errors and to make the existing
ones have a common string pattern adjust the current type errors
to contain at least the following string format: '%s' (%s) where
these two places will be filled in with the object of the wrong
type and the type of that object. This information is useful when
analyzing the exception (by the user) to know exactly what they
passed in and what type it was.

This convention is not maintained where it would interpolate large
text blobs (such as in binary encoding/decoding and json decoding).

Change-Id: Id84b0e7ce684a543cc407b15016e77804e6f03ed
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/03/149803/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/storage.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/persistence/backends/impl_memory.py', 'taskflow/persistence/logbook.py', 'taskflow/persistence/base.py', 'taskflow/types/failure.py', 'taskflow/atom.py', 'taskflow/utils/kazoo_utils.py', 'taskflow/engines/action_engine/scheduler.py', 'taskflow/utils/misc.py', 'taskflow/tests/unit/test_task.py']",11,e417914d49458a4f0fd231497f6a4c1200cfecb2,exceptions-cleanup," self.assertRaisesRegexp(TypeError, '^Invalid rebind value',"," self.assertRaisesRegexp(TypeError, '^Invalid rebind value:',",41,28
openstack%2Fglance_store~master~I2561277a6fd89d2b7eb7914b30123f7c7e35969a,openstack/glance_store,master,I2561277a6fd89d2b7eb7914b30123f7c7e35969a,Use default datacenter_path from oslo.vmware,MERGED,2014-11-21 02:11:41.000000000,2015-01-24 03:51:44.000000000,2015-01-24 03:51:44.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 6549}, {'_account_id': 7400}, {'_account_id': 7575}, {'_account_id': 8119}, {'_account_id': 8302}, {'_account_id': 8759}, {'_account_id': 10068}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 12117}, {'_account_id': 12807}, {'_account_id': 14794}]","[{'number': 1, 'created': '2014-11-21 02:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e78aeeac27434d16a4ee5487c2161d6495d0ba8a', 'message': 'Trivial: Use default datacenter_path from oslo.vmware\n\noslo.vmware now contains the default datacenter path, the vmware\ndriver should leverage this new constant.\n\nChange-Id: I2561277a6fd89d2b7eb7914b30123f7c7e35969a\n'}, {'number': 2, 'created': '2014-11-21 04:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e6894301199285b4182512257d15b99af3c1c786', 'message': 'Trivial: Use default datacenter_path from oslo.vmware\n\noslo.vmware now contains the default datacenter path, the vmware\ndriver should leverage it.\n\nChange-Id: I2561277a6fd89d2b7eb7914b30123f7c7e35969a\n'}, {'number': 3, 'created': '2015-01-23 20:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/67ec3749da3e530c1163b4e4a0dadf082a6aa026', 'message': 'Trivial: Use default datacenter_path from oslo.vmware\n\noslo.vmware now contains the default datacenter path, the vmware\ndriver should leverage it.\n\nChange-Id: I2561277a6fd89d2b7eb7914b30123f7c7e35969a\n'}, {'number': 4, 'created': '2015-01-23 20:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5c2cc2293cb35bcaed9af034d91978ebe35d4bae', 'message': 'Trivial: Use default datacenter_path from oslo.vmware\n\noslo.vmware now contains the default datacenter path, the vmware\ndriver should leverage it.\n\nChange-Id: I2561277a6fd89d2b7eb7914b30123f7c7e35969a\n'}, {'number': 5, 'created': '2015-01-23 22:36:14.000000000', 'files': ['glance_store/_drivers/vmware_datastore.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bd2dcb25229d21e06aaf57c6bea6404cda8b2d17', 'message': 'Use default datacenter_path from oslo.vmware\n\noslo.vmware now contains the default datacenter path, the vmware\ndriver should leverage it.\n\nChange-Id: I2561277a6fd89d2b7eb7914b30123f7c7e35969a\n'}]",3,136213,bd2dcb25229d21e06aaf57c6bea6404cda8b2d17,31,14,5,12117,,,0,"Use default datacenter_path from oslo.vmware

oslo.vmware now contains the default datacenter path, the vmware
driver should leverage it.

Change-Id: I2561277a6fd89d2b7eb7914b30123f7c7e35969a
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/13/136213/4 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/vmware_datastore.py'],1,e78aeeac27434d16a4ee5487c2161d6495d0ba8a,trivial_constants,"from oslo.vmware import constants default=constants.ESX_DATACENTER_PATH,","DEFAULT_ESX_DATACENTER_PATH = 'ha-datacenter' default=DEFAULT_ESX_DATACENTER_PATH,",2,2
openstack%2Fproject-config~master~I9e0d92c9bfa3b0691de4338a4222e30a3a3cc80d,openstack/project-config,master,I9e0d92c9bfa3b0691de4338a4222e30a3a3cc80d,Handle missing dotfiles in static-publish-prep,MERGED,2015-01-23 20:24:19.000000000,2015-01-24 03:31:24.000000000,2015-01-24 03:31:23.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-23 20:24:19.000000000', 'files': ['jenkins/jobs/macros.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/859cfef9b906201f0fb792263fc77cdc29cb8049', 'message': 'Handle missing dotfiles in static-publish-prep\n\nChange-Id: I9e0d92c9bfa3b0691de4338a4222e30a3a3cc80d\n'}]",0,149741,859cfef9b906201f0fb792263fc77cdc29cb8049,7,3,1,5263,,,0,"Handle missing dotfiles in static-publish-prep

Change-Id: I9e0d92c9bfa3b0691de4338a4222e30a3a3cc80d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/149741/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/macros.yaml'],1,859cfef9b906201f0fb792263fc77cdc29cb8049,specs-publishing," # Disable errexit here because there might not be any dotfiles. set +e mv ,content/.[^.]* ./ set -e mv ,content/* ./"," mv ,content/.[^.]* ,content/* ./",5,1
openstack%2Fbarbican~master~I1bc05c148897875218a0a135c4f199b926678ac2,openstack/barbican,master,I1bc05c148897875218a0a135c4f199b926678ac2,Updated from global requirements,MERGED,2015-01-23 18:40:29.000000000,2015-01-24 03:30:19.000000000,2015-01-24 03:30:18.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 9234}]","[{'number': 1, 'created': '2015-01-23 18:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/63acc0576b47145ba0fb28992895f6ecf9819240', 'message': 'Updated from global requirements\n\nChange-Id: I1bc05c148897875218a0a135c4f199b926678ac2\n'}, {'number': 2, 'created': '2015-01-23 21:50:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/56881544a943b61dc30c6ce9cc310317d32acfc3', 'message': 'Updated from global requirements\n\nChange-Id: I1bc05c148897875218a0a135c4f199b926678ac2\n'}]",0,149704,56881544a943b61dc30c6ce9cc310317d32acfc3,10,4,2,11131,,,0,"Updated from global requirements

Change-Id: I1bc05c148897875218a0a135c4f199b926678ac2
",git fetch https://review.opendev.org/openstack/barbican refs/changes/04/149704/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,63acc0576b47145ba0fb28992895f6ecf9819240,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Ftrove~master~I61055a2fbae95dd29c08c6c5b02503e705124a0f,openstack/trove,master,I61055a2fbae95dd29c08c6c5b02503e705124a0f,Updated from global requirements,MERGED,2015-01-02 18:22:18.000000000,2015-01-24 03:24:18.000000000,2015-01-24 03:24:17.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 8214}, {'_account_id': 8871}, {'_account_id': 9664}, {'_account_id': 10215}]","[{'number': 1, 'created': '2015-01-02 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/625c9f966b7d6f4f7968a5d2f0f53dc09606d6df', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 2, 'created': '2015-01-08 18:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/23e28c07c1affcc1afe5cbbb618f3b65000e2f14', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 3, 'created': '2015-01-09 00:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/591cd343807302f12f9fa9d186c8fab96256f923', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 4, 'created': '2015-01-09 18:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b63443e470987245c00f336b0b3fc8e625163f55', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 5, 'created': '2015-01-10 22:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/53e02b49bf06e0c8faaac8846e6f4a71f0e1b85f', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 6, 'created': '2015-01-13 00:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/694415bc9a4f4f26ce0951f068a4ea0ca3f25214', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 7, 'created': '2015-01-22 18:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/458cc53661bc79aed17ee2469a2e1056b7c5c88d', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 8, 'created': '2015-01-23 04:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0f297dc8224980f1d078422ba3e4bb5c77db1bb1', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 9, 'created': '2015-01-23 18:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fd65b3c0fe96223fd198eb8b65cd576f59bf47e0', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}, {'number': 10, 'created': '2015-01-24 01:10:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/54a5711e800c3c4e6b0615fd3c2e3b5140671a2d', 'message': 'Updated from global requirements\n\nChange-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f\n'}]",0,144787,54a5711e800c3c4e6b0615fd3c2e3b5140671a2d,51,6,10,11131,,,0,"Updated from global requirements

Change-Id: I61055a2fbae95dd29c08c6c5b02503e705124a0f
",git fetch https://review.opendev.org/openstack/trove refs/changes/87/144787/9 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,625c9f966b7d6f4f7968a5d2f0f53dc09606d6df,openstack/requirements,oslo.serialization>=1.0.0 # Apache-2.0 oslo.utils>=1.1.0 # Apache-2.0,oslo.serialization>=1.0.0 oslo.utils>=1.1.0,2,2
openstack%2Fopenstack-ansible~juno~I9005c6f03fd88345028183f38c682c7734562b24,openstack/openstack-ansible,juno,I9005c6f03fd88345028183f38c682c7734562b24,Use reliable static mirror for mariadb apt repository,MERGED,2015-01-21 12:06:27.000000000,2015-01-24 02:58:34.000000000,2015-01-23 17:31:18.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 12:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a82184d9e9e47094500ed84f42a885edffe2a98b', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\n'}, {'number': 2, 'created': '2015-01-21 15:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b24e476258eeaa868ae9d19d13df0ee20ef7ce3', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\n'}, {'number': 3, 'created': '2015-01-23 16:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc95001d2103bcb3f80c0b7ac5df5ff834e74686', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\n'}, {'number': 4, 'created': '2015-01-23 16:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f3459adf4454d65b94899c19c09a1518ae356b0', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nCloses-Bug: #1412521\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\n(cherry picked from commit c6bee47bc92de988cb366e23a49255485df21834)\n'}, {'number': 5, 'created': '2015-01-23 16:36:18.000000000', 'files': ['rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48b25c6f4c9335085e9ae57f5d764c3b0fee8b0c', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nCloses-Bug: #1412521\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\n(cherry picked from commit c6bee47bc92de988cb366e23a49255485df21834)\n'}]",0,148906,48b25c6f4c9335085e9ae57f5d764c3b0fee8b0c,25,5,5,6816,,,0,"Use reliable static mirror for mariadb apt repository

This patch enables the use of the rackspace mirror of the mariadb
archive. This is necessary as archive.mariadb.org is not always
responding appropriately to apt requests.

Closes-Bug: #1412521
Change-Id: I9005c6f03fd88345028183f38c682c7734562b24
(cherry picked from commit c6bee47bc92de988cb366e23a49255485df21834)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/148906/2 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/group_vars/all.yml'],1,a82184d9e9e47094500ed84f42a885edffe2a98b,bug/1412521," - { repo: ""deb http://mirror.rackspace.com/rackspaceprivatecloud/mirror/mariadb/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }"," - { repo: ""deb http://archive.mariadb.org/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }",1,1
openstack%2Foslo-incubator~stable%2Fjuno~Ibc0df09daef5e2a07f232543f44f2fc4d203511c,openstack/oslo-incubator,stable/juno,Ibc0df09daef5e2a07f232543f44f2fc4d203511c,Added graceful argument on Service.stop method,MERGED,2015-01-21 17:36:38.000000000,2015-01-24 02:46:26.000000000,2015-01-24 02:46:24.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 5805}, {'_account_id': 8153}, {'_account_id': 9656}, {'_account_id': 14228}]","[{'number': 1, 'created': '2015-01-21 17:36:38.000000000', 'files': ['tests/unit/test_service.py', 'openstack/common/service.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/d170edf8b738885cdbe96dcb0c62f8ef00a28117', 'message': 'Added graceful argument on Service.stop method\n\nThis change adds a graceful shutdown arugment to the Service.stop\nmethod in order to allow a service to gracefully wait for threads to\nshutdown. Since threadgroup already supports a graceful shutdown\nargument for its stop() method, it is trivial to support.\n\nAdded unit tests to demonstrate the expected behavior between graceful\nand ungraceful service stop()s.\n\nChange-Id: Ibc0df09daef5e2a07f232543f44f2fc4d203511c\nCloses-Bug: 1406638\n(cherry picked from commit 442fc2234e8500fb11633d8d8ee7dfe5492fa4a3)\n'}]",0,149008,d170edf8b738885cdbe96dcb0c62f8ef00a28117,10,6,1,8153,,,0,"Added graceful argument on Service.stop method

This change adds a graceful shutdown arugment to the Service.stop
method in order to allow a service to gracefully wait for threads to
shutdown. Since threadgroup already supports a graceful shutdown
argument for its stop() method, it is trivial to support.

Added unit tests to demonstrate the expected behavior between graceful
and ungraceful service stop()s.

Change-Id: Ibc0df09daef5e2a07f232543f44f2fc4d203511c
Closes-Bug: 1406638
(cherry picked from commit 442fc2234e8500fb11633d8d8ee7dfe5492fa4a3)
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/08/149008/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_service.py', 'openstack/common/service.py']",2,d170edf8b738885cdbe96dcb0c62f8ef00a28117,bug/1406638," def stop(self, graceful=False): self.tg.stop(graceful)", def stop(self): self.tg.stop(),37,3
openstack%2Foslo.log~master~I893a719d2199d1efd01caeb0a0aa29eaee2fc829,openstack/oslo.log,master,I893a719d2199d1efd01caeb0a0aa29eaee2fc829,Updated from global requirements,MERGED,2015-01-13 00:14:38.000000000,2015-01-24 02:45:17.000000000,2015-01-24 02:45:16.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-01-13 00:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/62416772aee2c057783e7570a5b3417b4fbb05c9', 'message': 'Updated from global requirements\n\nChange-Id: I893a719d2199d1efd01caeb0a0aa29eaee2fc829\n'}, {'number': 2, 'created': '2015-01-23 04:37:36.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d26243804e934ce9043e35a03522144c45111039', 'message': 'Updated from global requirements\n\nChange-Id: I893a719d2199d1efd01caeb0a0aa29eaee2fc829\n'}]",0,146703,d26243804e934ce9043e35a03522144c45111039,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I893a719d2199d1efd01caeb0a0aa29eaee2fc829
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/03/146703/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,62416772aee2c057783e7570a5b3417b4fbb05c9,openstack/requirements,oslo.serialization>=1.2.0 # Apache-2.0,oslo.serialization>=1.0.0 # Apache-2.0,1,1
openstack%2Fneutron-fwaas~master~I412be0cc351ddf216960aa6fbe1419ee75d054b7,openstack/neutron-fwaas,master,I412be0cc351ddf216960aa6fbe1419ee75d054b7,Updated from global requirements,MERGED,2015-01-23 18:43:46.000000000,2015-01-24 02:39:31.000000000,2015-01-24 02:39:30.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7448}, {'_account_id': 9656}, {'_account_id': 10980}]","[{'number': 1, 'created': '2015-01-23 18:43:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/35faba1396b6806b274278017a221f3dac3899e8', 'message': 'Updated from global requirements\n\nChange-Id: I412be0cc351ddf216960aa6fbe1419ee75d054b7\n'}]",0,149711,35faba1396b6806b274278017a221f3dac3899e8,11,5,1,11131,,,0,"Updated from global requirements

Change-Id: I412be0cc351ddf216960aa6fbe1419ee75d054b7
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/11/149711/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,35faba1396b6806b274278017a221f3dac3899e8,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0",1,1
openstack%2Fdesignate~master~Id2ba1ff1bcc86d1b3b1c30ddafe48eebdefb2039,openstack/designate,master,Id2ba1ff1bcc86d1b3b1c30ddafe48eebdefb2039,Agent cleanup/refactoring,MERGED,2015-01-23 07:06:40.000000000,2015-01-24 02:38:17.000000000,2015-01-24 02:38:16.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}]","[{'number': 1, 'created': '2015-01-23 07:06:40.000000000', 'files': ['designate/agent/middleware.py', 'designate/agent/handler.py', 'designate/service.py', 'designate/agent/axfr.py', 'designate/agent/service.py', 'designate/dnsutils.py', 'designate/agent/__init__.py', 'designate/tests/test_agent/test_handler.py', 'designate/mdns/middleware.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1fc119d34d99ad75a16eb6264be4320cdd52ec30', 'message': 'Agent cleanup/refactoring\n\n- Take reusable code out of the Agent and into dnsutils\n- Make use of the code already in dnsutils\n- Delete some unnecessary code\n\nChange-Id: Id2ba1ff1bcc86d1b3b1c30ddafe48eebdefb2039\n'}]",0,149517,1fc119d34d99ad75a16eb6264be4320cdd52ec30,7,3,1,8174,,,0,"Agent cleanup/refactoring

- Take reusable code out of the Agent and into dnsutils
- Make use of the code already in dnsutils
- Delete some unnecessary code

Change-Id: Id2ba1ff1bcc86d1b3b1c30ddafe48eebdefb2039
",git fetch https://review.opendev.org/openstack/designate refs/changes/17/149517/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/agent/handler.py', 'designate/agent/middleware.py', 'designate/service.py', 'designate/agent/axfr.py', 'designate/agent/service.py', 'designate/dnsutils.py', 'designate/agent/__init__.py', 'designate/tests/test_agent/test_handler.py', 'designate/mdns/middleware.py']",9,1fc119d34d99ad75a16eb6264be4320cdd52ec30,agent-cleanup,from designate import dnsutils class ContextMiddleware(dnsutils.DNSMiddleware):," class Middleware(object): def __init__(self, application): self.application = application def process_request(self, request): """"""Called on each request. If this returns None, the next application down the stack will be executed. If it returns a response then that response will be returned and execution will stop here. """""" return None def process_response(self, response): """"""Do whatever you'd like to the response."""""" return response def __call__(self, request): response = self.process_request(request) if response: return response response = self.application(request) return self.process_response(response) class ContextMiddleware(Middleware):",125,303
openstack%2Ftaskflow~master~I3dae6f2e91a49d2912988b15fe61cbeeab736378,openstack/taskflow,master,I3dae6f2e91a49d2912988b15fe61cbeeab736378,Exception and exception message cleanup (WIP),ABANDONED,2014-12-04 02:22:54.000000000,2015-01-24 02:26:54.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-04 02:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d488f5f84d38007fbd8e0dc28c5e26e9d82e4cb8', 'message': 'Exception and exception message cleanup (WIP)\n\nReformat the exception messages and some of the types\nused to be more standard and to have less deviation so\nthat the messages and types are better, more consistent\nand easier to understand.\n\nChange-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378\n'}, {'number': 2, 'created': '2014-12-04 02:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/220e72be32ddfb463566bbbe94b618fcd18ea104', 'message': 'Exception and exception message cleanup (WIP)\n\nReformat the exception messages and some of the types\nused to be more standard and to have less deviation so\nthat the messages and types are better, more consistent\nand easier to understand.\n\nChange-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378\n'}, {'number': 3, 'created': '2014-12-18 01:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/23ef802d334ddc86ff5f59ee4887610105644682', 'message': 'Exception and exception message cleanup (WIP)\n\nReformat the exception messages and some of the types\nused to be more standard and to have less deviation so\nthat the messages and types are better, more consistent\nand easier to understand.\n\nChange-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378\n'}, {'number': 4, 'created': '2014-12-18 01:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ed1f266ac4484bf29734c7758f71d1a226403526', 'message': 'Exception and exception message cleanup part 1\n\nReformat the exception messages and some of the types\nused to be more standard and to have less deviation so\nthat the messages and types are better, more consistent\nand easier to understand.\n\nChange-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378\n'}, {'number': 5, 'created': '2014-12-18 01:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fbef5a52fe4a9eea0dff363c48a5766fd750c4b5', 'message': 'Exception and exception message cleanup (WIP)\n\nReformat the exception messages and some of the types\nused to be more standard and to have less deviation so\nthat the messages and types are better, more consistent\nand easier to understand.\n\nChange-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378\n'}, {'number': 6, 'created': '2014-12-18 02:45:56.000000000', 'files': ['taskflow/engines/action_engine/runtime.py', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/atom.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/tests/unit/test_retries.py', 'taskflow/engines/action_engine/scheduler.py', 'taskflow/patterns/graph_flow.py', 'taskflow/tests/unit/patterns/test_graph_flow.py', 'taskflow/types/futures.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/engines/action_engine/scopes.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/engines/helpers.py', 'taskflow/exceptions.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/tests/unit/test_action_engine_scoping.py', 'taskflow/engines/action_engine/completer.py', 'taskflow/tests/unit/test_task.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/engines/worker_based/worker.py', 'taskflow/tests/unit/test_engine_helpers.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4c4b85d53870c7ce562848fa47ef40e1c165a7c4', 'message': 'Exception and exception message cleanup (WIP)\n\nReformat the exception messages and some of the types\nused to be more standard and to have less deviation so\nthat the messages and types are better, more consistent\nand easier to understand.\n\nChange-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378\n'}]",0,138935,4c4b85d53870c7ce562848fa47ef40e1c165a7c4,9,1,6,1297,,,0,"Exception and exception message cleanup (WIP)

Reformat the exception messages and some of the types
used to be more standard and to have less deviation so
that the messages and types are better, more consistent
and easier to understand.

Change-Id: I3dae6f2e91a49d2912988b15fe61cbeeab736378
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/35/138935/6 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/runtime.py', 'taskflow/engines/action_engine/scopes.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/atom.py', 'taskflow/exceptions.py', 'taskflow/engines/action_engine/scheduler.py', 'taskflow/engines/action_engine/completer.py']",7,d488f5f84d38007fbd8e0dc28c5e26e9d82e4cb8,exceptions-cleanup,"from taskflow import exceptions as excp raise excp.ExecutionFailure(""Unknown failure resolution"" "" action '%s' requested to"" "" resolve the failure of"" "" atom '%s'"" % (action, atom))"," raise ValueError(""Unknown atom failure resolution"" "" action '%s'"" % action)",64,41
openstack%2Fopenstack-ansible~juno~I725e87fca647a21ea0e2d64952626b6f6fc6e2a3,openstack/openstack-ansible,juno,I725e87fca647a21ea0e2d64952626b6f6fc6e2a3,Squash all patches required to make gating work,ABANDONED,2015-01-22 12:25:09.000000000,2015-01-24 02:23:08.000000000,,"[{'_account_id': 6816}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-22 12:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e0c110288dcd783a84cd956f7445e75caf5e09be', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n62d2525 Fixed generator type assumption error\n1339640 Allow swift_vars to not be specified for swift_hosts\n735eb68 AIO to use https to access the frozen repo\n033df65 use archive.mariadb.org for to install mariadb package\n8b9cf6e Use reliable static mirror for mariadb apt repository\nb30f9d1 Add debootstrap package to LXC package list\n5c464e1 Add swift_all inventory to swift-common play\na88bcb7 Add swift_all inventory to swift account/container/object plays\n\nChange-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e\nCloses-Bug: #1399387\nCloses-Bug: #1406323\nCloses-Bug: #1399387\nCloses-Bug: #1402582\nCloses-Bug: #1402594\nCloses-Bug: #1402617\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\n\nAdd swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 4, 'created': '2015-01-23 16:51:17.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/playbooks/openstack/swift-common.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'scripts/os-ansible-aio-check.sh', 'rpc_deployment/playbooks/openstack/swift-container.yml', 'rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4ec6eb40625b60ee8237bcc3bc44dcd52cf4180b', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n62d2525 Fixed generator type assumption error\n1339640 Allow swift_vars to not be specified for swift_hosts\n735eb68 AIO to use https to access the frozen repo\n033df65 use archive.mariadb.org for to install mariadb package\n8b9cf6e Use reliable static mirror for mariadb apt repository\nb30f9d1 Add debootstrap package to LXC package list\n5c464e1 Add swift_all inventory to swift-common play\na88bcb7 Add swift_all inventory to swift account/container/object plays\n\nChange-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e\nCloses-Bug: #1399387\nCloses-Bug: #1406323\nCloses-Bug: #1399387\nCloses-Bug: #1402582\nCloses-Bug: #1402594\nCloses-Bug: #1402617\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\n'}]",0,149230,4ec6eb40625b60ee8237bcc3bc44dcd52cf4180b,10,2,2,6816,,,0,"Squash all patches required to make gating work

This is a merge of the following patches:
62d2525 Fixed generator type assumption error
1339640 Allow swift_vars to not be specified for swift_hosts
735eb68 AIO to use https to access the frozen repo
033df65 use archive.mariadb.org for to install mariadb package
8b9cf6e Use reliable static mirror for mariadb apt repository
b30f9d1 Add debootstrap package to LXC package list
5c464e1 Add swift_all inventory to swift-common play
a88bcb7 Add swift_all inventory to swift account/container/object plays

Change-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e
Closes-Bug: #1399387
Closes-Bug: #1406323
Closes-Bug: #1399387
Closes-Bug: #1402582
Closes-Bug: #1402594
Closes-Bug: #1402617
Closes-Bug: #1409762
Closes-Bug: #1410743
Closes-Bug: #1411331
Closes-Bug: #1412521
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/149230/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/playbooks/openstack/swift-common.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'scripts/os-ansible-aio-check.sh', 'rpc_deployment/playbooks/openstack/swift-container.yml', 'rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/inventory/group_vars/all.yml']",12,e0c110288dcd783a84cd956f7445e75caf5e09be,bug/1399387," - { repo: ""deb http://mirror.rackspace.com/rackspaceprivatecloud/mirror/mariadb/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }"," - { repo: ""deb http://mirror.jmu.edu/pub/mariadb/repo/5.5/ubuntu {{ ansible_distribution_release }} main"", state: ""present"" }",36,34
openstack%2Fdevstack-gate~master~I766c1ef47ab2511c9b274f257f9643342acdcc52,openstack/devstack-gate,master,I766c1ef47ab2511c9b274f257f9643342acdcc52,Setup ssh_known_host files for aiopcpu,MERGED,2014-11-14 23:24:24.000000000,2015-01-24 02:22:09.000000000,2015-01-24 02:22:08.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 5803}, {'_account_id': 7069}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-11-14 23:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cfd3b1b2cf5cda03752f40c9a69772ab2f05a6fb', 'message': 'Setup ssh_knwn_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 2, 'created': '2014-11-14 23:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/4ae97cecccde501c7329b0335c18462efe5da11b', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 3, 'created': '2014-11-15 00:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/66f1979d59a037471090ed8fb35db95850b19f79', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 4, 'created': '2014-11-15 02:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/de2551e823011a265adb236690c4de7196c75eff', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 5, 'created': '2014-11-15 04:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2314932e4215917c94fcce5c49befd4778b41144', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 6, 'created': '2014-11-15 05:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1407da1ce96df0b99ec963c2d9f63764f0711d0a', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 7, 'created': '2014-11-17 18:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/871f34101f4200f5bf26bc42d18cd6539e7aba41', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 8, 'created': '2014-11-17 22:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/550a23272467d7271c35fcac8d2c5ade980dd6d8', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem), instead of turning off StrictHostKeyChecking, leave it on and\nset up the host keys so nova can take advantage of them.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 9, 'created': '2014-11-17 22:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f0087320a52ee850e0ab1e40d2902a5d293be2a8', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem) make sure that each node has already accepted the host key of\nall nodes in the aiopcpu deployment before devstack runs.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 10, 'created': '2014-11-17 23:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d6d186913b434d43f3ee3f9bd62b87294d349d7a', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem) make sure that each node has already accepted the host key of\nall nodes in the aiopcpu deployment before devstack runs.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 11, 'created': '2014-11-17 23:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1d1263c37bf8fc082dd14d0f301d8667dce32394', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem) make sure that each node has already accepted the host key of\nall nodes in the aiopcpu deployment before devstack runs.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 12, 'created': '2014-11-17 23:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/66a35f5449eae6f363337570de4b62ff6f38b30e', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem) make sure that each node has already accepted the host key of\nall nodes in the aiopcpu deployment before devstack runs.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}, {'number': 13, 'created': '2014-11-18 20:58:49.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/44da19532912c49dfb3da75560858a425f9f4904', 'message': 'Setup ssh_known_host files for aiopcpu\n\nSince nova uses for ssh for some commands (resize without a shared file\nsystem) make sure that each node has already accepted the host key of\nall nodes in the aiopcpu deployment before devstack runs.\n\nChange-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52\n'}]",2,134670,44da19532912c49dfb3da75560858a425f9f4904,49,7,13,1849,,,0,"Setup ssh_known_host files for aiopcpu

Since nova uses for ssh for some commands (resize without a shared file
system) make sure that each node has already accepted the host key of
all nodes in the aiopcpu deployment before devstack runs.

Change-Id: I766c1ef47ab2511c9b274f257f9643342acdcc52
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/70/134670/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate.sh', 'functions.sh']",2,cfd3b1b2cf5cda03752f40c9a69772ab2f05a6fb,multihost-nova," local ssh_opts=""-tt -o PasswordAuthentication=no -o ConnectionAttempts=4"" local ssh_opts=""-o PasswordAuthentication=no -o ConnectionAttempts=4"""," local ssh_opts=""-tt -o PasswordAuthentication=no -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ConnectionAttempts=4"" local ssh_opts=""-o PasswordAuthentication=no -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ConnectionAttempts=4""",6,3
openstack%2Foslo-incubator~master~Iaa65167d8f6b76954717393db701dc8c38028cb5,openstack/oslo-incubator,master,Iaa65167d8f6b76954717393db701dc8c38028cb5,Updated from global requirements,MERGED,2015-01-23 18:49:14.000000000,2015-01-24 02:01:44.000000000,2015-01-24 02:01:44.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-01-23 18:49:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/ac4160ffbd3105e2b93ff70b1f0b4cc08547972b', 'message': 'Updated from global requirements\n\nChange-Id: Iaa65167d8f6b76954717393db701dc8c38028cb5\n'}]",0,149715,ac4160ffbd3105e2b93ff70b1f0b4cc08547972b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Iaa65167d8f6b76954717393db701dc8c38028cb5
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/15/149715/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ac4160ffbd3105e2b93ff70b1f0b4cc08547972b,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Fopenstack-ansible~juno~Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc,openstack/openstack-ansible,juno,Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc,use archive.mariadb.org for to install mariadb package,MERGED,2015-01-21 11:42:30.000000000,2015-01-24 01:59:18.000000000,2015-01-23 17:31:08.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db32c1224fd2aa85ae92b5b143ec878c25df8d97', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n\nCloses-Bug: #1410743\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n'}, {'number': 2, 'created': '2015-01-21 15:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/166104a2742118889118eadbc24ffcffad4b89dc', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n\nCloses-Bug: #1410743\nRelated-Bug: #1409762\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n'}, {'number': 3, 'created': '2015-01-23 16:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0db7ee52de5c7e7897322215f3084fb2b560c9f6', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n\nCloses-Bug: #1410743\nRelated-Bug: #1409762\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n'}, {'number': 4, 'created': '2015-01-23 16:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b29c15d1c240dec13df0b4107c43d45d43308521', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n\nCloses-Bug: #1410743\nRelated-Bug: #1409762\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n(cherry picked from commit 1bc96069c2f28bf0ff3e1183b43dd3acaef206f8)\n'}, {'number': 5, 'created': '2015-01-23 16:25:21.000000000', 'files': ['rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f8ef2ef646bb72dc7ab7155cb9e28eb327730f2', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n\nCloses-Bug: #1410743\nRelated-Bug: #1409762\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n(cherry picked from commit 1bc96069c2f28bf0ff3e1183b43dd3acaef206f8)\n'}]",0,148897,0f8ef2ef646bb72dc7ab7155cb9e28eb327730f2,24,6,5,6816,,,0,"use archive.mariadb.org for to install mariadb package

the current source repo for mariadb expires packages after 6 months.
The official archive keeps all versions, so we switch to using that.

Additionally, this commit removes unused references to this repo and key
from vars/repo_packages/all_common.yml

Conflicts:
        rpc_deployment/inventory/group_vars/all.yml

Closes-Bug: #1410743
Related-Bug: #1409762
Change-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc
(cherry picked from commit 1bc96069c2f28bf0ff3e1183b43dd3acaef206f8)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/148897/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml']",2,db32c1224fd2aa85ae92b5b143ec878c25df8d97,bug/1410743," - { repo: ""deb http://archive.mariadb.org/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }"," - { repo: ""deb http://mirror.jmu.edu/pub/mariadb/repo/5.5/ubuntu {{ ansible_distribution_release }} main"", state: ""present"" }",1,20
openstack%2Fdesignate~master~I0dd2379725b017be5282a84c45855ab800e89c2c,openstack/designate,master,I0dd2379725b017be5282a84c45855ab800e89c2c,Imported Translations from Transifex,MERGED,2015-01-23 06:08:09.000000000,2015-01-24 01:52:19.000000000,2015-01-24 01:52:18.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}]","[{'number': 1, 'created': '2015-01-23 06:08:09.000000000', 'files': ['designate/locale/designate-log-warning.pot', 'designate/locale/en_GB/LC_MESSAGES/designate-log-error.po', 'designate/locale/fr/LC_MESSAGES/designate-log-error.po', 'designate/locale/fr/LC_MESSAGES/designate-log-warning.po', 'designate/locale/designate-log-info.pot', 'designate/locale/pt_BR/LC_MESSAGES/designate-log-error.po', 'designate/locale/designate-log-error.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-info.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/a40ca311fd20687090c6ea55dbb8973e6c82bc23', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I0dd2379725b017be5282a84c45855ab800e89c2c\n'}]",0,149507,a40ca311fd20687090c6ea55dbb8973e6c82bc23,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I0dd2379725b017be5282a84c45855ab800e89c2c
",git fetch https://review.opendev.org/openstack/designate refs/changes/07/149507/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/locale/designate-log-warning.pot', 'designate/locale/en_GB/LC_MESSAGES/designate-log-error.po', 'designate/locale/fr/LC_MESSAGES/designate-log-error.po', 'designate/locale/fr/LC_MESSAGES/designate-log-warning.po', 'designate/locale/designate-log-info.pot', 'designate/locale/pt_BR/LC_MESSAGES/designate-log-error.po', 'designate/locale/designate-log-error.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-info.po']",8,a40ca311fd20687090c6ea55dbb8973e6c82bc23,transifex/translations,"""POT-Creation-Date: 2015-01-23 06:08+0000\n"" ""PO-Revision-Date: 2015-01-23 01:52+0000\n""#: designate/dnsutils.py:119 designate/agent/service.py:53 #, python-format msgid ""Opening TCP Listening Socket on %(host)s:%(port)d"" msgstr ""Ouverture TCP Listening Socket sur %(host)s:%(port)d"" #: designate/dnsutils.py:132 designate/agent/service.py:64 #, python-format msgid ""Opening UDP Listening Socket on %(host)s:%(port)d"" msgstr ""Ouverture UDP Listening Socket sur %(host)s:%(port)d"" #: designate/dnsutils.py:141 designate/agent/service.py:111 msgid ""_handle_tcp thread started"" msgstr ""dmarrage du thread _handle_tcp"" #: designate/dnsutils.py:147 #, python-format msgid ""Handling TCP Request from: %(host)s:%(port)d"" msgstr """" #: designate/dnsutils.py:175 designate/agent/service.py:134 msgid ""_handle_udp thread started"" msgstr ""dmarrage du thread _handle_udp"" #: designate/dnsutils.py:180 #, python-format msgid ""Handling UDP Request from: %(host)s:%(port)d"" msgstr """" #: designate/agent/axfr.py:38 #, python-format msgid ""Agent masters: %(masters)s"" msgstr """" #: designate/agent/axfr.py:48 #, python-format msgid ""Doing AXFR for %(name)s from %(host)s"" msgstr """" #: designate/agent/service.py:76 msgid ""Started Agent Service"" msgstr """" #: designate/agent/service.py:80 msgid ""Stopped Agent Service"" msgstr """" #: designate/backend/impl_fake.py:29#: designate/backend/impl_fake.py:32#: designate/backend/agent_backend/impl_bind9.py:55 msgid ""Started bind9 backend"" msgstr """" #: designate/backend/agent_backend/impl_fake.py:28 msgid ""Started fake backend, Pool Manager will not work!"" msgstr """" #: designate/backend/agent_backend/impl_fake.py:31 msgid ""Stopped fake backend"" msgstr """" #: designate/mdns/service.py:62#: designate/mdns/service.py:68 msgid ""stopped mdns service"" msgstr """"#: designate/openstack/common/service.py:175#: designate/openstack/common/service.py:233#: designate/openstack/common/service.py:264#: designate/openstack/common/service.py:303#: designate/openstack/common/service.py:322#: designate/openstack/common/service.py:332#: designate/openstack/common/service.py:349#: designate/openstack/common/service.py:353#: designate/openstack/common/service.py:392#: designate/openstack/common/service.py:401#: designate/openstack/common/service.py:417#: designate/pool_manager/service.py:76#: designate/pool_manager/service.py:130#: designate/pool_manager/service.py:136#: designate/pool_manager/service.py:238#: designate/pool_manager/service.py:311#: designate/pool_manager/service.py:355#: designate/pool_manager/service.py:362#: designate/pool_manager/service.py:401","""POT-Creation-Date: 2015-01-21 06:09+0000\n"" ""PO-Revision-Date: 2015-01-20 22:24+0000\n""#: designate/backend/impl_fake.py:28#: designate/backend/impl_fake.py:31#: designate/mdns/service.py:52 #, python-format msgid ""Opening TCP Listening Socket on %(host)s:%(port)d"" msgstr ""Ouverture TCP Listening Socket sur %(host)s:%(port)d"" #: designate/mdns/service.py:63 #, python-format msgid ""Opening UDP Listening Socket on %(host)s:%(port)d"" msgstr ""Ouverture UDP Listening Socket sur %(host)s:%(port)d"" #: designate/mdns/service.py:75#: designate/mdns/service.py:111 msgid ""_handle_tcp thread started"" msgstr ""dmarrage du thread _handle_tcp"" #: designate/mdns/service.py:143 msgid ""_handle_udp thread started"" msgstr ""dmarrage du thread _handle_udp""#: designate/openstack/common/service.py:174#: designate/openstack/common/service.py:232#: designate/openstack/common/service.py:263#: designate/openstack/common/service.py:302#: designate/openstack/common/service.py:321#: designate/openstack/common/service.py:331#: designate/openstack/common/service.py:348#: designate/openstack/common/service.py:352#: designate/openstack/common/service.py:391#: designate/openstack/common/service.py:400#: designate/openstack/common/service.py:416#: designate/pool_manager/service.py:74#: designate/pool_manager/service.py:128#: designate/pool_manager/service.py:134#: designate/pool_manager/service.py:230#: designate/pool_manager/service.py:299#: designate/pool_manager/service.py:348#: designate/pool_manager/service.py:354#: designate/pool_manager/service.py:394",324,198
openstack%2Fdesignate~master~Ia369396fdc0d8c9670008e59498c596d6422bf27,openstack/designate,master,Ia369396fdc0d8c9670008e59498c596d6422bf27,Updated from global requirements,MERGED,2015-01-23 18:41:16.000000000,2015-01-24 01:45:29.000000000,2015-01-24 01:45:28.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}]","[{'number': 1, 'created': '2015-01-23 18:41:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/76fd8ad36b66f4a9ab15e1ec057919f77faa166c', 'message': 'Updated from global requirements\n\nChange-Id: Ia369396fdc0d8c9670008e59498c596d6422bf27\n'}]",0,149705,76fd8ad36b66f4a9ab15e1ec057919f77faa166c,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ia369396fdc0d8c9670008e59498c596d6422bf27
",git fetch https://review.opendev.org/openstack/designate refs/changes/05/149705/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,76fd8ad36b66f4a9ab15e1ec057919f77faa166c,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Frally~master~Ic741cb79eadf952c3dea99182c1e7d52992c9904,openstack/rally,master,Ic741cb79eadf952c3dea99182c1e7d52992c9904,Allow setting DB for unittests via env & add psql support,MERGED,2015-01-21 12:18:55.000000000,2015-01-24 01:29:48.000000000,2015-01-24 01:29:44.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 9545}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-21 12:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8392c814fcefdbc4d32b1e1c1a115ceade6d1d28', 'message': 'Allow to change db url via environment variable\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 2, 'created': '2015-01-21 13:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4a758dc8b1ce383796da053cce36d4dd8c8c1442', 'message': 'Allow changing db url in unittests via env var\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 3, 'created': '2015-01-22 16:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d11f29d0bd9357cfd581ff01efb20380ee23c4f6', 'message': 'Allow changing db url in unittests via env var\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 4, 'created': '2015-01-23 13:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d5b05735aeae28d1fdf6575974b38d296689e682', 'message': 'Allow changing db url in unittests via env var\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nFix postgress related bug. All enums should have name.\n\nCloses-bug: #1413155\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 5, 'created': '2015-01-23 14:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/875afff7f41402134d8f19c9cbf5900a8784dffa', 'message': 'Allow changing db url in unittests via env var\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nFix postgress related bug. All enums should have name.\n\nCloses-bug: #1413155\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 6, 'created': '2015-01-23 20:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ec1c3dee2a1eefa59aaa36fcbf7834cb414c6373', 'message': 'Allow setting DB for unittests via env & add psql support\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nFix postgress related bugs in unit tests.\n\n* All enums should have name\n* Fix invalid unit tests\n\nCloses-bug: #1413155\nPartial-bug: #1405884\n\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nCo-Authored-By: Boris Pavlovic <boris@pavlovic.me>\n\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 7, 'created': '2015-01-23 20:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4bd9711514449f815a54468fc1463558e8c94fa7', 'message': 'Allow setting DB for unittests via env & add psql support\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nFix postgress related bugs in unit tests.\n\n* All enums should have name\n* Fix invalid unit tests\n\nCloses-bug: #1413155\nPartial-bug: #1405884\n\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nCo-Authored-By: Boris Pavlovic <boris@pavlovic.me>\n\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}, {'number': 8, 'created': '2015-01-24 00:12:10.000000000', 'files': ['rally/db/sqlalchemy/api.py', 'install_rally.sh', 'requirements.txt', 'tests/unit/db/test_api.py', 'rally/db/api.py', 'rally/db/sqlalchemy/models.py', 'tests/README.rst', 'tests/unit/test.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/2455db7f648c18989e120a23c1da1cb5f6bc2343', 'message': 'Allow setting DB for unittests via env & add psql support\n\nRALLY_UNITTEST_DB_URL may be used to change test database.\n\nSample usage:\n\nexport RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""\ntox -epy27\n\nFix postgress related bugs in unit tests.\n\n* All enums should have name\n* Fix invalid unit tests\n\nCloses-bug: #1413155\nPartial-bug: #1405884\n\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nCo-Authored-By: Boris Pavlovic <boris@pavlovic.me>\n\nChange-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904\n'}]",1,148907,2455db7f648c18989e120a23c1da1cb5f6bc2343,68,5,8,7369,,,0,"Allow setting DB for unittests via env & add psql support

RALLY_UNITTEST_DB_URL may be used to change test database.

Sample usage:

export RALLY_UNITTEST_DB_URL=""mysql://user:secret@localhost/rally""
tox -epy27

Fix postgress related bugs in unit tests.

* All enums should have name
* Fix invalid unit tests

Closes-bug: #1413155
Partial-bug: #1405884

Co-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>
Co-Authored-By: Boris Pavlovic <boris@pavlovic.me>

Change-Id: Ic741cb79eadf952c3dea99182c1e7d52992c9904
",git fetch https://review.opendev.org/openstack/rally refs/changes/07/148907/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/test.py'],1,8392c814fcefdbc4d32b1e1c1a115ceade6d1d28,bug/1413155,"import os db_url = os.environ.get(""RALLY_UNITTEST_DB_URL"", ""sqlite://"") self.conf.set_default(""connection"", db_url, group=""database"")"," self.conf.set_default('connection', ""sqlite://"", group='database')",3,1
openstack%2Fneutron~master~I4ccde019ee9d86a93a956e42b866ff9b2dc5aedb,openstack/neutron,master,I4ccde019ee9d86a93a956e42b866ff9b2dc5aedb,Add notes on how to deal with stable branches,MERGED,2015-01-20 23:15:02.000000000,2015-01-24 01:04:25.000000000,2015-01-23 23:32:22.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5217}, {'_account_id': 6547}, {'_account_id': 6558}, {'_account_id': 6788}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9800}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-20 23:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6899b06c27a52dc29dc9be68d576c3dc37f2a5cf', 'message': 'Add notes on how to deal with stable branches\n\nThis patch provides further details related to importing stable branches,\nas well as how to deal with backports.\n\nPartially-implements: blueprint core-vendor-decomposition\n\nChange-Id: I4ccde019ee9d86a93a956e42b866ff9b2dc5aedb\n'}, {'number': 2, 'created': '2015-01-22 21:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d579c4988b78b526ae457f72cbea767fc0fe112', 'message': 'Add notes on how to deal with stable branches\n\nThis patch provides further details related to importing stable branches,\nas well as how to deal with backports.\n\nPartially-implements: blueprint core-vendor-decomposition\n\nChange-Id: I4ccde019ee9d86a93a956e42b866ff9b2dc5aedb\n'}, {'number': 3, 'created': '2015-01-23 17:36:37.000000000', 'files': ['tools/split.sh', 'doc/source/devref/contribute.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e16b38b6ac8a4fe7c2b34e71770d7d2954e1e9d0', 'message': 'Add notes on how to deal with stable branches\n\nThis patch provides further details related to importing stable branches,\nas well as how to deal with backports.\n\nPartially-implements: blueprint core-vendor-decomposition\n\nChange-Id: I4ccde019ee9d86a93a956e42b866ff9b2dc5aedb\n'}]",43,148745,e16b38b6ac8a4fe7c2b34e71770d7d2954e1e9d0,83,31,3,748,,,0,"Add notes on how to deal with stable branches

This patch provides further details related to importing stable branches,
as well as how to deal with backports.

Partially-implements: blueprint core-vendor-decomposition

Change-Id: I4ccde019ee9d86a93a956e42b866ff9b2dc5aedb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/148745/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/contribute.rst'],1,6899b06c27a52dc29dc9be68d576c3dc37f2a5cf,bp/core-vendor-decomposition,"* Backport Management;Backport Management Strategies ------------------------------ As outlined in the `Spec proposal https://review.openstack.org/#/c/134680/`, all new plugins and drivers will have to follow the contribution model described here. As for existing plugins and drivers, no in-tree features can be merged until some progress has been done to make the solution adhere to this model. That said, there is the question of critical fixes and/or backports to stable branches. The possibile scenarios are: * The decomposition is complete, we are in the cycle where the decomposition initiated: in this case straight backports from master (i.e. cherry-picks) will not be possible. To this aim, vendor code that cannot land in master can go straight to stable. There is precedent for this in the case of deprecation and other removals from master. So long as the vendor changes did not break core Neutron for the targeted stable branch (verified by CI), the vendor code should be able to land in a stable branch with minimal oversight. * The decomposition is complete, we are in the following cycles where the decomposition work completed: backports will be done to the stable branch for the vendor library. * The decomposition is in progress: as long as the vendor code is still in master, patches will need to go to master before a backport to stable. Acceptance will be determined on the scope of changes (based on both the amount of work and severity of the issue). In this case, the plugin or driver maintainer will need to ensure that the fix gets applied to the external repo, if necessary (to avoid missing it during the migration process). * The decomposition has not started: in this case, depending on the issue, review attention from core member is best effort, and altough there is no explicit rule to prevent them from merging, it is in the best interest of the maintainer to ensure that the code being patches does not get ultimately deprecated. * Finally, push commits and tags to the public repository. If you followed theses instructions step-by-step, you will have a source repository that contains both a master and stable branches, as well as tags. Even though, stable branches are not strictly necessary during the creation of the StackForge repository (as outlined in the next step below), they do not hurt, and it is recommended to keep them during the import process."," * Finally, push commits and tags to the public repository.",40,1
openstack%2Frequirements~master~If69e6e2a88edb82184e80fefd54707b92a63350f,openstack/requirements,master,If69e6e2a88edb82184e80fefd54707b92a63350f,remove seamicroclient,MERGED,2015-01-16 19:47:25.000000000,2015-01-24 00:58:49.000000000,2015-01-24 00:58:48.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2750}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-16 19:47:25.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bfb216d5ae13903e10d9e27553903aa344b14aac', 'message': 'remove seamicroclient\n\nThis is no longer an ironic dependency.\n\nChange-Id: If69e6e2a88edb82184e80fefd54707b92a63350f\n'}]",0,147973,bfb216d5ae13903e10d9e27553903aa344b14aac,11,4,1,2750,,,0,"remove seamicroclient

This is no longer an ironic dependency.

Change-Id: If69e6e2a88edb82184e80fefd54707b92a63350f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/147973/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,bfb216d5ae13903e10d9e27553903aa344b14aac,test_enhancements,,"python-seamicroclient>=0.1.0,<2.0",0,1
openstack%2Ftempest~master~Idfdca6a1fb6a1669e41f0a0484c9f85ece913699,openstack/tempest,master,Idfdca6a1fb6a1669e41f0a0484c9f85ece913699,Use server_client clearly for removing server_group,MERGED,2015-01-22 06:57:20.000000000,2015-01-24 00:58:02.000000000,2015-01-24 00:58:01.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 06:57:20.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8d1d01f8e0c149b22dea7b52a173c3eb23a5451', 'message': 'Use server_client clearly for removing server_group\n\ncls.client is changed on each test class.\nThe problem 1413486 would happen, because cleanup of server groups\nhappened in different test class from server group test.\nThis patch makes cleanup of server groups use server_client clearly\nfor fixing this problem.\n\nChange-Id: Idfdca6a1fb6a1669e41f0a0484c9f85ece913699\nCloses-Bug: #1413486\n'}]",0,149168,b8d1d01f8e0c149b22dea7b52a173c3eb23a5451,10,4,1,6167,,,0,"Use server_client clearly for removing server_group

cls.client is changed on each test class.
The problem 1413486 would happen, because cleanup of server groups
happened in different test class from server group test.
This patch makes cleanup of server groups use server_client clearly
for fixing this problem.

Change-Id: Idfdca6a1fb6a1669e41f0a0484c9f85ece913699
Closes-Bug: #1413486
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/149168/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,b8d1d01f8e0c149b22dea7b52a173c3eb23a5451,bug/1413486, cls.servers_client.delete_server_group(server_group_id), cls.client.delete_server_group(server_group_id),1,1
openstack%2Fneutron~master~Iae5ebf5249f8e16ab57df78e042293ca2855ddf1,openstack/neutron,master,Iae5ebf5249f8e16ab57df78e042293ca2855ddf1,Initialize dist_fip_count after agent restart,MERGED,2014-09-29 21:05:09.000000000,2015-01-24 00:54:45.000000000,2015-01-24 00:54:44.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6876}, {'_account_id': 7016}, {'_account_id': 7141}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9077}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10971}, {'_account_id': 11698}, {'_account_id': 12040}, {'_account_id': 12683}, {'_account_id': 12737}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-09-29 21:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52b3c1ee52b56e9eb57c7443b1677d3e4cfa429a', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 2, 'created': '2014-11-04 00:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e9e0e5980bd8c1b27a10a053ada77b0ba4383e6', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 3, 'created': '2014-11-04 00:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f69be60e3d21905de00befcc18a6a614d0931f40', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 4, 'created': '2014-11-24 19:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/641d52e0589e5c53f6fcb670a3584d4230311911', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 5, 'created': '2014-11-26 18:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78fd243eecd3cd138c74f602d4d5b7e19770871b', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 6, 'created': '2014-12-08 19:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df8ed5a92ae0cbc86e767c9ecc373e6733f79564', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 7, 'created': '2015-01-13 19:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7020f7e4d5471ca15610ac13369624d044ec4890', 'message': 'Remove use of agent_fip_count and dist_fip_count\n\nRuntime variables agent_fip_count and dist_fip_count\nhave been used to keep track of FIPs for DVR routers.\nThese variables are not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will remove the use of these variables\nin the l3-agent.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 8, 'created': '2015-01-14 22:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0612c3a73a1ddf5fb58ec98019dd5bf7376fc882', 'message': 'Initialize dist_fip_count after agent restart\n\nRuntime router variable dist_fip_count has been\nused to keep track of FIPs for DVR routers.\nThis variable is not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will initialize the ri.dist_fip_count\nonce in process_router for dvr routers only.  This\nmethod was selected instead of the _router_added or\n_router_removed path because it is the one central\nentry point for rotuer add, delete, and update.\n\nThe object self.agent_gateway_port also needs to be\nproperly handled after an agent restart and this\npatch will handle that as well.\n\nWhen needed, the system will be read via system\ncalls to determine the state of namespaces and ports\nsince the variables cannot be relied on.\nSystem calls will be kept to a minimum to reduce\nand possible performance hits.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 9, 'created': '2015-01-14 22:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b31b39d6df7407453d63a1a33e57eb2c2b660644', 'message': 'Initialize dist_fip_count after agent restart\n\nRuntime router variable dist_fip_count has been\nused to keep track of FIPs for DVR routers.\nThis variable is not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause proplems with namespace and port cleanup.\n\nThis patch will initialize the ri.dist_fip_count\nonce in process_router for dvr routers only.  This\nmethod was selected instead of the _router_added or\n_router_removed path because it is the one central\nentry point for rotuer add, delete, and update.\n\nThe object self.agent_gateway_port also needs to be\nproperly handled after an agent restart and this\npatch will handle that as well.\n\nWhen needed, the system will be read via system\ncalls to determine the state of namespaces and ports\nsince the variables cannot be relied on.\nSystem calls will be kept to a minimum to reduce\nand possible performance hits.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 10, 'created': '2015-01-16 17:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/604c8ba875dca2f7e2e70c4489bc9751438c899f', 'message': 'Initialize dist_fip_count after agent restart\n\nRuntime router variable dist_fip_count has been\nused to keep track of FIPs for DVR routers.\nThis variable is not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause problems with namespace and port cleanup.\n\nThis patch will initialize the ri.dist_fip_count\nonce in process_router for dvr routers only.  This\nmethod was selected instead of the _router_added or\n_router_removed path because it is the one central\nentry point for rotuer add, delete, and update.\n\nThe object self.agent_gateway_port also needs to be\nproperly handled after an agent restart and this\npatch will handle that as well.\n\nWhen needed, the system will be read via system\ncalls to determine the state of namespaces and ports\nsince the variables cannot be relied on.\nSystem calls will be kept to a minimum to reduce\nand possible performance hits.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 11, 'created': '2015-01-16 23:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f745672005cebbaf860358788fcf5a4532fa1a71', 'message': 'Initialize dist_fip_count after agent restart\n\nRuntime router variable dist_fip_count has been\nused to keep track of FIPs for DVR routers.\nThis variable is not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause problems with namespace and port cleanup.\n\nThis patch will initialize the ri.dist_fip_count\nonce in process_router for dvr routers only.  This\nmethod was selected instead of the _router_added or\n_router_removed path because it is the one central\nentry point for rotuer add, delete, and update.\n\nThe object self.agent_gateway_port also needs to be\nproperly handled after an agent restart and this\npatch will handle that as well.\n\nWhen needed, the system will be read via system\ncalls to determine the state of namespaces and ports\nsince the variables cannot be relied on.\nSystem calls will be kept to a minimum to reduce\nand possible performance hits.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}, {'number': 12, 'created': '2015-01-22 00:04:35.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/dvr_router.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/agent/l3/dvr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee4bae211309e0f1fcee5565ddd2379997e1de13', 'message': 'Initialize dist_fip_count after agent restart\n\nRuntime router variable dist_fip_count has been\nused to keep track of FIPs for DVR routers.\nThis variable is not re-initialized correctly on\nagent restart and can get stale from other errors\nwhich cause problems with namespace and port cleanup.\n\nThis patch will initialize the ri.dist_fip_count\nonce in process_router for dvr routers only.  This\nmethod was selected instead of the _router_added or\n_router_removed path because it is the one central\nentry point for rotuer add, delete, and update.\n\nThe object self.agent_gateway_port also needs to be\nproperly handled after an agent restart and this\npatch will handle that as well.\n\nWhen needed, the system will be read via system\ncalls to determine the state of namespaces and ports\nsince the variables cannot be relied on.\nSystem calls will be kept to a minimum to reduce\nand possible performance hits.\n\nChange-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1\nCloses-bug: #1367039\n'}]",6,124879,ee4bae211309e0f1fcee5565ddd2379997e1de13,257,37,12,10971,,,0,"Initialize dist_fip_count after agent restart

Runtime router variable dist_fip_count has been
used to keep track of FIPs for DVR routers.
This variable is not re-initialized correctly on
agent restart and can get stale from other errors
which cause problems with namespace and port cleanup.

This patch will initialize the ri.dist_fip_count
once in process_router for dvr routers only.  This
method was selected instead of the _router_added or
_router_removed path because it is the one central
entry point for rotuer add, delete, and update.

The object self.agent_gateway_port also needs to be
properly handled after an agent restart and this
patch will handle that as well.

When needed, the system will be read via system
calls to determine the state of namespaces and ports
since the variables cannot be relied on.
System calls will be kept to a minimum to reduce
and possible performance hits.

Change-Id: Iae5ebf5249f8e16ab57df78e042293ca2855ddf1
Closes-bug: #1367039
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/124879/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3_agent.py', 'neutron/tests/unit/test_l3_agent.py']",2,52b3c1ee52b56e9eb57c7443b1677d3e4cfa429a,restart, self.device_exists.return_value = False agent._get_fip_device_cidr_count = mock.Mock(return_value=1) agent._get_fip_device_cidr_count = mock.Mock(return_value=0), ri.dist_fip_count = 2 ri.dist_fip_count = 1 agent.agent_fip_count = 1,35,22
openstack%2Fcinder~master~I0454a6c6a8c1dd49b0e369887883e2b45a778885,openstack/cinder,master,I0454a6c6a8c1dd49b0e369887883e2b45a778885,VMware:Fix error creating vCenter inventory folder,MERGED,2015-01-22 10:09:12.000000000,2015-01-24 00:46:02.000000000,2015-01-23 09:38:16.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14206}]","[{'number': 1, 'created': '2015-01-22 10:09:12.000000000', 'files': ['cinder/tests/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/volumeops.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e1b27e1d7731478cb43741f33ec91a30315ca01', 'message': ""VMware:Fix error creating vCenter inventory folder\n\nCreating vCenter inventory folder for grouping volumes will\nfail with AttributeError if the vCenter's datacenter doesn't\nhave any child folder under vmFolder (inventory folder for\ngrouping virtual machines). This patch fixes it.\n\nChange-Id: I0454a6c6a8c1dd49b0e369887883e2b45a778885\nCloses-Bug: #1413537\n""}]",0,149202,3e1b27e1d7731478cb43741f33ec91a30315ca01,27,18,1,9171,,,0,"VMware:Fix error creating vCenter inventory folder

Creating vCenter inventory folder for grouping volumes will
fail with AttributeError if the vCenter's datacenter doesn't
have any child folder under vmFolder (inventory folder for
grouping virtual machines). This patch fixes it.

Change-Id: I0454a6c6a8c1dd49b0e369887883e2b45a778885
Closes-Bug: #1413537
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/149202/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/volumeops.py']",2,3e1b27e1d7731478cb43741f33ec91a30315ca01,bug/1413537," if prop_val and hasattr(prop_val, 'ManagedObjectReference'): child_entities = prop_val.ManagedObjectReference # Return if the child folder with input name is already present for child_entity in child_entities: if child_entity._type != 'Folder': continue child_entity_name = self.get_entity_name(child_entity) if child_entity_name and (urllib.unquote(child_entity_name) == child_folder_name): LOG.debug(""Child folder: %s already present."", child_folder_name) return child_entity"," child_entities = prop_val.ManagedObjectReference # Return if the child folder with input name is already present for child_entity in child_entities: if child_entity._type != 'Folder': continue child_entity_name = self.get_entity_name(child_entity) if child_entity_name and (urllib.unquote(child_entity_name) == child_folder_name): LOG.debug(""Child folder: %s already present."", child_folder_name) return child_entity",31,11
openstack%2Fcue~master~I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2,openstack/cue,master,I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2,adding taskflow support with initial workflow,MERGED,2015-01-15 16:37:32.000000000,2015-01-24 00:30:22.000000000,2015-01-24 00:30:21.000000000,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 1925}, {'_account_id': 10584}, {'_account_id': 13771}]","[{'number': 1, 'created': '2015-01-15 16:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/0f8a84c8fb9352fb63d836ef079684fe01eb0d5e', 'message': 'adding taskflow support with initial workflow\n\n- Adding taskflow support\n- Added initial workflow for create cluster\n\nChange-Id: I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2\n'}, {'number': 2, 'created': '2015-01-15 19:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/a18032996ff5be4f969dd2b8f2d2f708e234ce25', 'message': 'adding taskflow support with initial workflow\n\n- Adding taskflow support\n- Added initial workflow for create cluster\n\nChange-Id: I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2\n'}, {'number': 3, 'created': '2015-01-22 20:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/a5c29fba6f53320d87a9cebb8771f37fdbe616a7', 'message': 'adding taskflow support with initial workflow\n\n- Adding taskflow support\n- Added initial workflow for create cluster\n\nChange-Id: I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2\n'}, {'number': 4, 'created': '2015-01-23 22:36:12.000000000', 'files': ['os_tasklib/common/assert_task.py', '.gitignore', 'cue/taskflow/__init__.py', 'os_tasklib/neutron/__init__.py', 'os_tasklib/neutron/create_port.py', 'os_tasklib/cinder/__init__.py', 'os_tasklib/cinder/create_volume.py', 'os_tasklib/nova/create_vm.py', 'os_tasklib/common/__init__.py', 'os_tasklib/swift/__init__.py', 'requirements.txt', 'os_tasklib/keystone/__init__.py', 'os_tasklib/__init__.py', 'os_tasklib/nova/get_vm_status.py', 'cue/cmd/monitor.py', 'cue/taskflow/task/__init__.py', 'cue/taskflow/task/base_task.py', 'cue/cmd/worker.py', 'cue/taskflow/flow/__init__.py', 'cue/taskflow/task/update_cluster_status.py', 'os_tasklib/nova/__init__.py', 'cue/client.py', 'cue/taskflow/flow/create_cluster.py', 'os_tasklib/common/check_for.py', 'os_tasklib/glance/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cue/commit/912d1e077250ad4d58b54300c68042643bb2e4e6', 'message': 'adding taskflow support with initial workflow\n\n- Adding taskflow support\n- Added initial workflow for create cluster\n\nChange-Id: I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2\n'}]",23,147578,912d1e077250ad4d58b54300c68042643bb2e4e6,18,5,4,10584,,,0,"adding taskflow support with initial workflow

- Adding taskflow support
- Added initial workflow for create cluster

Change-Id: I21ca51f50f8d983ab787c9435cfd0d576c3ed7a2
",git fetch https://review.opendev.org/openstack/cue refs/changes/78/147578/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_tasklib/common/assert_task.py', '.gitignore', 'cue/taskflow/monitor.py', 'cue/taskflow/os_utils/__init__.py', 'cue/taskflow/__init__.py', 'os_tasklib/neutron/__init__.py', 'os_tasklib/neutron/create_port.py', 'os_tasklib/cinder/__init__.py', 'os_tasklib/cinder/create_volume.py', 'os_tasklib/nova/create_vm.py', 'os_tasklib/common/__init__.py', 'os_tasklib/swift/__init__.py', 'requirements.txt', 'os_tasklib/keystone/__init__.py', 'os_tasklib/__init__.py', 'os_tasklib/nova/get_vm_status.py', 'cue/taskflow/task/__init__.py', 'cue/taskflow/producer.py', 'cue/taskflow/flow/__init__.py', 'cue/taskflow/task/update_cluster_status.py', 'os_tasklib/nova/__init__.py', 'cue/taskflow/flow/create_cluster.py', 'os_tasklib/common/check_for.py', 'os_tasklib/glance/__init__.py', 'cue/taskflow/consumer.py']",25,0f8a84c8fb9352fb63d836ef079684fe01eb0d5e,147578,"# -*- coding: utf-8 -*- # Copyright 2015 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __author__ = 'sputnik13' import sys from taskflow.jobs import backends as job_backends from taskflow.persistence import backends as persistence_backends from taskflow.conductors import single_threaded PERSISTENCE_BACKEND_CONF = { #""connection"": ""mysql+pymysql://taskflow:taskflow@localhost/taskflow"", ""connection"": ""zookeeper"", } JOB_BACKEND_CONF = { ""board"": ""zookeeper"", ""path"": ""/taskflow/jobs/tutorial_conduct"", } def main(): with persistence_backends.backend(PERSISTENCE_BACKEND_CONF.copy()) \ as persistence: with job_backends.backend('tutorial_conduct', JOB_BACKEND_CONF.copy(), persistence=persistence) \ as board: conductor = single_threaded.SingleThreadedConductor( ""conductor name"", board, persistence, engine='serial') conductor.run() if __name__ == ""__main__"": sys.exit(main()) ",,698,1
openstack%2Fopenstack-ansible~icehouse~Iffad2ffce93e8173da68863210afba0aa105622d,openstack/openstack-ansible,icehouse,Iffad2ffce93e8173da68863210afba0aa105622d,Adjust os-ansible-aio-check to work for all branches,MERGED,2015-01-23 16:33:06.000000000,2015-01-24 00:20:47.000000000,2015-01-23 18:03:02.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-23 16:33:06.000000000', 'files': ['scripts/os-ansible-aio-check.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/24c2e9e224d3562e9a8a4338f2ff15189c04a12b', 'message': 'Adjust os-ansible-aio-check to work for all branches\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibility of the configuration process for all branches.\nThis patch also ensures that the plays executed are appropriate for the\nbranches - the icehouse branch has different names for some of the\nplays.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n(cherry picked from commit 8a21f096577a20be1aafdb2e3656cf5b06ff2f90)\n'}]",0,149676,24c2e9e224d3562e9a8a4338f2ff15189c04a12b,7,4,1,6816,,,0,"Adjust os-ansible-aio-check to work for all branches

The icehouse branch does not currently have support for using the conf.d
directory for additional user configuration. This patch implements all
the configuration, except swift (which is not available in the icehouse
branch) into a monolothic user configuration file. This ensures
compatibility of the configuration process for all branches.
This patch also ensures that the plays executed are appropriate for the
branches - the icehouse branch has different names for some of the
plays.

Change-Id: Iffad2ffce93e8173da68863210afba0aa105622d
Closes-Bug: #1413606
(cherry picked from commit 8a21f096577a20be1aafdb2e3656cf5b06ff2f90)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/149676/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/os-ansible-aio-check.sh'],1,24c2e9e224d3562e9a8a4338f2ff15189c04a12b,, cat >> /etc/rpc_deploy/rpc_user_config.yml <<EOFcat >> /etc/rpc_deploy/rpc_user_config.yml <<EOF infra_hosts: aio1: ip: 172.29.236.100 compute_hosts: aio1: ip: 172.29.236.100 storage_hosts: aio1: ip: 172.29.236.100 container_vars: cinder_backends: limit_container_types: cinder_volume lvm: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.lvm.LVMISCSIDriver volume_backend_name: LVM_iSCSI log_hosts: aio1: ip: 172.29.236.100 network_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 EOF if [ -f playbooks/openstack/openstack-common.yml ]; then # cater for 9.x.x release (icehouse) install_bits openstack/openstack-common.yml fi if [ -f playbooks/openstack/keystone-all.yml ]; then # cater for 10.x.x release (juno) onwards install_bits openstack/keystone-all.yml else # cater for 9.x.x release (icehouse) install_bits openstack/keystone.yml install_bits openstack/keystone-add-all-services.yml fi if [ -f playbooks/openstack/utility-all.yml ]; then # cater for 10.x.x release (juno) onwards install_bits openstack/utility-all.yml else # cater for 9.x.x release (icehouse) install_bits openstack/utility.yml fi if [ -f playbooks/openstack/rpc-support-all.yml ]; then # cater for 10.x.x release (juno) onwards install_bits openstack/rpc-support-all.yml else # cater for 9.x.x release (icehouse) install_bits openstack/rpc-support.yml fi,infra_hosts: aio1: ip: 172.29.236.100 compute_hosts: aio1: ip: 172.29.236.100 storage_hosts: aio1: ip: 172.29.236.100 container_vars: cinder_backends: limit_container_types: cinder_volume lvm: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.lvm.LVMISCSIDriver volume_backend_name: LVM_iSCSI log_hosts: aio1: ip: 172.29.236.100 network_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 EOF cat > /etc/rpc_deploy/conf.d/provider_networks.yml <<EOF --- global_overrides: cat >> /etc/rpc_deploy/conf.d/provider_networks.yml <<EOF # workaround for https://bugs.launchpad.net/openstack-ansible/+bug/1402594 container_vars: swift_vars: install_bits openstack/keystone-all.yml install_bits openstack/utility-all.yml install_bits openstack/rpc-support-all.yml,55,37
openstack%2Fneutron~master~Ia5071552239c9444c5105a150b268fb0437e4b85,openstack/neutron,master,Ia5071552239c9444c5105a150b268fb0437e4b85,Configure IPv6 LLADDR only on master L3 HA instance,MERGED,2014-12-18 16:56:42.000000000,2015-01-24 00:11:55.000000000,2015-01-23 19:09:44.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 2035}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7141}, {'_account_id': 7448}, {'_account_id': 7921}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10257}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10971}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-18 16:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19abae9b4f5c017d85f19125f9fe364dae2b70f0', 'message': 'Configure IPv6 LLADDR only on master L3 HA instance\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n'}, {'number': 2, 'created': '2014-12-22 13:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17131eaf66ad114045bf95544b4404d2670c473a', 'message': 'Configure IPv6 LLADDR only on master L3 HA instance\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n'}, {'number': 3, 'created': '2014-12-24 10:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3598dc7832560ac6392352d26f364f83e72cbcd4', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA routers standbys must never transmit traffic from\nany of their ports. This is because we use allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses: These are generated\nfrom the MAC address of the interface, thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses: Define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 4, 'created': '2014-12-24 14:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d37e61be9acdf226865f6ac95b66fb8ddd046bfc', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA routers standbys must never transmit traffic from\nany of their ports. This is because we use allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses: These are generated\nfrom the MAC address of the interface, thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses: Define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 5, 'created': '2015-01-05 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ffd9e864aacbd93358292410222aa31de0e29ef', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA routers standbys must never transmit traffic from\nany of their ports. This is because we use allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses: These are generated\nfrom the MAC address of the interface, thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses: Define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 6, 'created': '2015-01-05 12:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e942c9f854c1d71a389a8c0911c2c7feb57dff6', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA routers standbys must never transmit traffic from\nany of their ports. This is because we use allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses: These are generated\nfrom the MAC address of the interface, thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses: Define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 7, 'created': '2015-01-19 19:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0154208638325458d3e9683be0150b01ed424994', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA routers standbys must never transmit traffic from\nany of their ports. This is because we use allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses: These are generated\nfrom the MAC address of the interface, thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses: Define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 8, 'created': '2015-01-19 21:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d8d45bdf1850e49ac9e18a4e6c0d80ee7369064', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA routers standbys must never transmit traffic from\nany of their ports. This is because we use allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses: These are generated\nfrom the MAC address of the interface, thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses: Define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 9, 'created': '2015-01-20 14:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6d0783669d6c304a610abeb497b39215bf1b1b9', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA standby routers must never transmit traffic from\nany of their ports. This is because we allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses. They are generated\nfrom the MAC address of the interface, and thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses - define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 10, 'created': '2015-01-20 16:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/caf4eafb64add41b8911014e6d788134f15cb78a', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA standby routers must never transmit traffic from\nany of their ports. This is because we allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses. They are generated\nfrom the MAC address of the interface, and thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses - define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}, {'number': 11, 'created': '2015-01-23 16:36:27.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/l3/agent.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9698ca0f7a6ae5e55b8b95f900e859581046c6b', 'message': ""Configure IPv6 LLADDR only on master L3 HA instance\n\nHA standby routers must never transmit traffic from\nany of their ports. This is because we allocate the same\nport on all agents. For example, for a given external interface,\nwe place the same port with the same IP/MAC on every agent\nthe HA router is scheduled on. Thus, if a standby router\ntransmits data out of that interface, the physical switches\nin the datacenter will re-learn the MAC address of the external\nport, and place it on a port that's looking at a standby and\nnot at the master. This causes 100% packet loss for any incoming\ntraffic that should be going through the master instance of the\nrouter.\n\nKeepalived manages addresses on the router interfaces, and makes\nsure that these addresses only live on the master. However, we\nforgot about IPv6 link local addresses. They are generated\nfrom the MAC address of the interface, and thus are identical on\nall agents.\n\nThis patch tries to treat IPv6 link local addresses the same\nas IPv4 addresses - define them as VIPs and let keepalived\nmove them around.\n\nCloses-Bug: #1403860\nChange-Id: Ia5071552239c9444c5105a150b268fb0437e4b85\n""}]",78,142843,c9698ca0f7a6ae5e55b8b95f900e859581046c6b,245,31,11,8873,,,0,"Configure IPv6 LLADDR only on master L3 HA instance

HA standby routers must never transmit traffic from
any of their ports. This is because we allocate the same
port on all agents. For example, for a given external interface,
we place the same port with the same IP/MAC on every agent
the HA router is scheduled on. Thus, if a standby router
transmits data out of that interface, the physical switches
in the datacenter will re-learn the MAC address of the external
port, and place it on a port that's looking at a standby and
not at the master. This causes 100% packet loss for any incoming
traffic that should be going through the master instance of the
router.

Keepalived manages addresses on the router interfaces, and makes
sure that these addresses only live on the master. However, we
forgot about IPv6 link local addresses. They are generated
from the MAC address of the interface, and thus are identical on
all agents.

This patch tries to treat IPv6 link local addresses the same
as IPv4 addresses - define them as VIPs and let keepalived
move them around.

Closes-Bug: #1403860
Change-Id: Ia5071552239c9444c5105a150b268fb0437e4b85
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/142843/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/l3/agent.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/test_l3_agent.py']",6,19abae9b4f5c017d85f19125f9fe364dae2b70f0,bug/1403860," mac_address = netaddr.EUI('ca:fe:de:ad:be:ef') mac_address.dialect = netaddr.mac_unix 'mac_address': str(mac_address), mac_address.value += 1 'mac_address': 'ca:fe:de:ad:be:ee',"," 'mac_address': 'ca:fe:de:ad:be:ef', 'mac_address': 'ca:fe:de:ad:be:ef', def test_ha_router_keepalived_config(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = prepare_router_data(enable_ha=True) router['routes'] = [ {'destination': '8.8.8.8/32', 'nexthop': '35.4.0.10'}, {'destination': '8.8.4.4/32', 'nexthop': '35.4.0.11'}] ri = l3router.RouterInfo(router['id'], self.conf.root_helper, router=router) ri.router = router with contextlib.nested(mock.patch.object(agent, '_spawn_metadata_proxy'), mock.patch('neutron.agent.linux.' 'utils.replace_file'), mock.patch('neutron.agent.linux.' 'utils.execute'), mock.patch('os.makedirs')): agent.process_ha_router_added(ri) agent.process_router(ri) config = ri.keepalived_manager.config ha_iface = agent.get_ha_device_name(ri.ha_port['id']) ex_iface = agent.get_external_device_name(ri.ex_gw_port['id']) int_iface = agent.get_internal_device_name( ri.internal_ports[0]['id']) expected = """"""vrrp_sync_group VG_1 { group { VR_1 } } vrrp_instance VR_1 { state BACKUP interface %(ha_iface)s virtual_router_id 1 priority 50 nopreempt advert_int 2 track_interface { %(ha_iface)s } virtual_ipaddress { 19.4.4.4/24 dev %(ex_iface)s } virtual_ipaddress_excluded { 35.4.0.4/24 dev %(int_iface)s } virtual_routes { 0.0.0.0/0 via 19.4.4.1 dev %(ex_iface)s 8.8.8.8/32 via 35.4.0.10 8.8.4.4/32 via 35.4.0.11 } }"""""" % {'ha_iface': ha_iface, 'ex_iface': ex_iface, 'int_iface': int_iface} self.assertEqual(expected, config.get_config_str()) ",64,64
openstack%2Fheat~master~I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2,openstack/heat,master,I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2,Add property 'port' to RouterInterface,MERGED,2014-12-11 14:03:16.000000000,2015-01-23 23:37:21.000000000,2015-01-23 23:37:20.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 6983}, {'_account_id': 8289}, {'_account_id': 9453}, {'_account_id': 9542}, {'_account_id': 13009}, {'_account_id': 13323}]","[{'number': 1, 'created': '2014-12-11 14:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/54f0cac7857c544c14087d9033cfaf7f63258ff2', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 2, 'created': '2014-12-11 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1bfb358d1836b44102520d310cdf1c7b0508d154', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 3, 'created': '2014-12-18 15:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a562779740533527d8e5482adcec9b7a3e853a67', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 4, 'created': '2014-12-19 13:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/069393d12cc631eb9fa13d4a5aa6615e437c8117', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 5, 'created': '2014-12-24 14:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d2e21d471bb85ea9844fd5334691c9903e29bed', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 6, 'created': '2014-12-24 16:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cbf3d3e632797e403416043afbce2ea83f280201', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 7, 'created': '2014-12-29 10:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9528afb184e1319351c856937f12d57f8b0e7dce', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 8, 'created': '2014-12-29 10:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2a0de37e00b39b95286b6ad96e2d1e1ab75fc736', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 9, 'created': '2015-01-12 13:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1418476e7774b35f48bf69d57976fda9f223e52b', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}, {'number': 10, 'created': '2015-01-22 10:16:02.000000000', 'files': ['heat/engine/resources/neutron/router.py', 'heat/engine/clients/os/neutron.py', 'heat/tests/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/59084ac6dbe182d773e88d2163a793d9aa2b4894', 'message': ""Add property 'port' to RouterInterface\n\nThis patch adds property 'port' with using resolve_port\nmethod for resolving 'port_id'.\n\nChange-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2\n""}]",4,141053,59084ac6dbe182d773e88d2163a793d9aa2b4894,48,10,10,13009,,,0,"Add property 'port' to RouterInterface

This patch adds property 'port' with using resolve_port
method for resolving 'port_id'.

Change-Id: I6cc5f378d25a10a4d5ea498b0d37645e0e91f1f2
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/141053/7 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/neutron/router.py', 'heat/engine/clients/os/neutron.py', 'heat/tests/test_neutron.py']",3,54f0cac7857c544c14087d9033cfaf7f63258ff2,add-ri-rtr-prp," self.assertEqual(""Either subnet or port must be specified."","," self.assertEqual(""Either subnet or port_id must be specified."",",31,21
openstack%2Fheat~master~I0d814ea562347cac36bc182b8904f0c5a967bfbd,openstack/heat,master,I0d814ea562347cac36bc182b8904f0c5a967bfbd,Remove argparse from requirements,MERGED,2015-01-23 11:27:53.000000000,2015-01-23 23:34:31.000000000,2015-01-23 23:34:30.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 6577}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-23 11:27:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/80a61db7687c761e4b88ded3e6bc0e3dbad03bbc', 'message': 'Remove argparse from requirements\n\nHeat does not support Python\xa0<\xa02.7 and argparse is included in\nPython\xa0>=\xa02.7.\n\nChange-Id: I0d814ea562347cac36bc182b8904f0c5a967bfbd\n'}]",0,149579,80a61db7687c761e4b88ded3e6bc0e3dbad03bbc,12,4,1,1669,,,0,"Remove argparse from requirements

Heat does not support Python<2.7 and argparse is included in
Python>=2.7.

Change-Id: I0d814ea562347cac36bc182b8904f0c5a967bfbd
",git fetch https://review.opendev.org/openstack/heat refs/changes/79/149579/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,80a61db7687c761e4b88ded3e6bc0e3dbad03bbc,jd/remove-argparse,,argparse,0,1
openstack%2Fheat~master~Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a,openstack/heat,master,Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a,Use AWS LoadBalancer with selinux-enabled image,MERGED,2014-10-06 11:19:38.000000000,2015-01-23 23:33:10.000000000,2015-01-23 23:33:09.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 8289}, {'_account_id': 9542}, {'_account_id': 13009}]","[{'number': 1, 'created': '2014-10-06 11:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e67a2b0227eb254d11307b14998e0c8c6ddb527c', 'message': 'Use AWS LoadBalancer with selinux-enabled image\n\nCurrently built-in template for AWS Load Balancer demands\nFedora20 cloud image.\nThis image has selinux enabled by default, breaking haproxy functionality.\n\nThis change allows AWS LoadBalancer resource in Heat to work\n""out of the box"" by:\n- lifting haproxy-specific restrictions in selinux;\n- fixing haproxy stats file location.\n\nWhile the first change can be achieved by using a custom loadbalancer\ntemplate, the generated haproxy.cfg must be fixed in the resource\ncode itself anyway as we have no way for customizing it.\n\nTested with F20 cloud image downloaded for Heat by DevStack and\nlatest haproxy version (1.5.4) available for this image in its stock repos.\n\nChange-Id: Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a\nRelated-Bug: #1339938\n'}, {'number': 2, 'created': '2014-11-17 12:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2d9979369afd76824ecdd509c1d2d46ea58df424', 'message': 'Use AWS LoadBalancer with selinux-enabled image\n\nCurrently built-in template for AWS Load Balancer demands\nFedora20 cloud image.\nThis image has SELinux enabled by default, breaking haproxy functionality.\n\nThis change allows AWS LoadBalancer resource in Heat to work\n""out of the box"" by disabling SELinux completely.\n\nChange-Id: Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a\nRelated-Bug: #1339938\n'}, {'number': 3, 'created': '2014-11-17 12:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/969f9f70a46b5346a6a506e29a9bd288b83622a7', 'message': 'Use AWS LoadBalancer with selinux-enabled image\n\nCurrently built-in template for AWS Load Balancer demands\nFedora20 cloud image.\nThis image has SELinux enabled by default, breaking haproxy functionality.\n\nIn order to account for different possible versions of HAProxy and\nfor heat-cfntools that expects particular location of haproxy stats file,\nthis change disables SELinux completely, allowing AWS LoadBalancer\nresource to work ""out-of-the-box"" in all cases.\n\nChange-Id: Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a\nRelated-Bug: #1339938\n'}, {'number': 4, 'created': '2014-12-24 12:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3e42628ec69c81bb603834136796d923d0e15451', 'message': 'Use AWS LoadBalancer with selinux-enabled image\n\nCurrently built-in template for AWS LoadBalancer demands\nFedora20 cloud image.\nThis image has SELinux enabled by default, breaking haproxy functionality.\n\nThis patch makes the following changes:\n\n- the built-in default AWS LoadBalancer template now demands\n  Fedora 21 x86_64 cloud image (it has more recent and friendly\n  packages for selinux-policies);\n- enables haproxy to bind to any port;\n- deals with selinux and non-default haproxy stats file location\n  expected by heat-cfntools;\n- adds a doctring to AWS LoadBalancer resource class explaining\n  expected features of image and template to successfully use it.\n\nChange-Id: Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a\nRelated-Bug: #1339938\n'}, {'number': 5, 'created': '2014-12-25 13:18:48.000000000', 'files': ['heat/engine/resources/loadbalancer.py', 'heat/tests/test_loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/45035a109868d54ecf5f23846b132fcdfcc8ad45', 'message': 'Use AWS LoadBalancer with selinux-enabled image\n\nCurrently built-in template for AWS LoadBalancer demands\nFedora20 cloud image.\nThis image has SELinux enabled by default, breaking haproxy functionality.\n\nThis patch makes the following changes:\n\n- the built-in default AWS LoadBalancer template now demands\n  Fedora 21 x86_64 cloud image (it has more recent and friendly\n  packages for selinux-policies);\n- enables haproxy to bind to any port;\n- deals with selinux and non-default haproxy stats file location\n  expected by heat-cfntools;\n- adds a doctring to AWS LoadBalancer resource class explaining\n  expected features of image and template to successfully use it.\n\nChange-Id: Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a\nRelated-Bug: #1339938\n'}]",1,126263,45035a109868d54ecf5f23846b132fcdfcc8ad45,28,7,5,9542,,,0,"Use AWS LoadBalancer with selinux-enabled image

Currently built-in template for AWS LoadBalancer demands
Fedora20 cloud image.
This image has SELinux enabled by default, breaking haproxy functionality.

This patch makes the following changes:

- the built-in default AWS LoadBalancer template now demands
  Fedora 21 x86_64 cloud image (it has more recent and friendly
  packages for selinux-policies);
- enables haproxy to bind to any port;
- deals with selinux and non-default haproxy stats file location
  expected by heat-cfntools;
- adds a doctring to AWS LoadBalancer resource class explaining
  expected features of image and template to successfully use it.

Change-Id: Ia27f26403fd8ea7796cb1dd0e21e8533f97ecd3a
Related-Bug: #1339938
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/126263/5 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/loadbalancer.py'],1,e67a2b0227eb254d11307b14998e0c8c6ddb527c,bug/1339938," ""# Enable HAProxy in Selinux (see LP bug #1339938)\n"", ""setsebool -P haproxy_connect_any 1\n"", stats socket /var/lib/haproxy/stats", stats socket /tmp/.haproxy-stats,3,1
openstack%2Fironic~master~I46d8e0e9e50cc8c35ccd7b03df18e34668781b64,openstack/ironic,master,I46d8e0e9e50cc8c35ccd7b03df18e34668781b64,Allow operations on DEPLOYFAIL'd nodes,MERGED,2015-01-21 19:12:29.000000000,2015-01-23 23:32:40.000000000,2015-01-23 23:32:38.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-21 19:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17d86a94297167580ebf198fbbb4bcc7336dcee3', 'message': ""Allow operations on DEPLOYFAIL'd nodes\n\nPrior to the code changes to use fsm, when a node's provision state\nwas set to DEPLOYFAIL, its target_provision_state was set to NOSTATE.\nThese operations could be performed on these failed nodes:\n- PUT /v1/nodes/(node_uuid)/states/provision, with target being one\n  of [DELETE, ACTIVE, REBUILD]\n- PATCH /v1/nodes\n\nAfter those code changes, the node's target_provision_state was set\nto ACTIVE (in line with the new state machine proposal) and the\nabove operations were no longer possible.\n\nWith these changes, the above operations can now be performed.\n\nChange-Id: I46d8e0e9e50cc8c35ccd7b03df18e34668781b64\nCloses-Bug: #1405420\n""}, {'number': 2, 'created': '2015-01-22 15:03:37.000000000', 'files': ['ironic/tests/api/v1/test_nodes.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b16cb7401e72cce31f7fa53af11255283f792f4', 'message': ""Allow operations on DEPLOYFAIL'd nodes\n\nPrior to the code changes to use fsm, when a node's provision state\nwas set to DEPLOYFAIL, its target_provision_state was set to NOSTATE.\nThese operations could be performed on these failed nodes:\n- PUT /v1/nodes/(node_uuid)/states/provision, with target being one\n  of [DELETE, ACTIVE, REBUILD]\n- PATCH /v1/nodes\n\nAfter those code changes, the node's target_provision_state was set\nto ACTIVE (in line with the new state machine proposal) and the\nabove operations were no longer possible.\n\nWith these changes (to check for nodes in DEPLOYFAIL provision state),\nthe above operations can now be performed.\n\nChange-Id: I46d8e0e9e50cc8c35ccd7b03df18e34668781b64\nCloses-Bug: #1405420\n""}]",3,149027,7b16cb7401e72cce31f7fa53af11255283f792f4,18,6,2,6618,,,0,"Allow operations on DEPLOYFAIL'd nodes

Prior to the code changes to use fsm, when a node's provision state
was set to DEPLOYFAIL, its target_provision_state was set to NOSTATE.
These operations could be performed on these failed nodes:
- PUT /v1/nodes/(node_uuid)/states/provision, with target being one
  of [DELETE, ACTIVE, REBUILD]
- PATCH /v1/nodes

After those code changes, the node's target_provision_state was set
to ACTIVE (in line with the new state machine proposal) and the
above operations were no longer possible.

With these changes (to check for nodes in DEPLOYFAIL provision state),
the above operations can now be performed.

Change-Id: I46d8e0e9e50cc8c35ccd7b03df18e34668781b64
Closes-Bug: #1405420
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/149027/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/api/v1/test_nodes.py', 'ironic/api/controllers/v1/node.py']",2,17d86a94297167580ebf198fbbb4bcc7336dcee3,bug/1405420," if processing and rpc_node.provision_state != ir_states.DEPLOYFAIL: # Check if node is transitioning state, although nodes in DEPLOYFAIL # can be updated. if ((rpc_node.target_power_state or rpc_node.target_provision_state) and rpc_node.provision_state != ir_states.DEPLOYFAIL):", if processing: # Check if node is transitioning state if (rpc_node['target_power_state'] or rpc_node['target_provision_state']):,36,4
openstack%2Fneutron-lbaas~master~Ib7a7ab07993f89c2dd80ef14141cfff37a0a7915,openstack/neutron-lbaas,master,Ib7a7ab07993f89c2dd80ef14141cfff37a0a7915,Updated from global requirements,MERGED,2015-01-23 18:44:05.000000000,2015-01-23 23:32:12.000000000,2015-01-23 23:32:11.000000000,"[{'_account_id': 3}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-23 18:44:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c6f4cd6b96b9f793245c57a77bff91fca57af13c', 'message': 'Updated from global requirements\n\nChange-Id: Ib7a7ab07993f89c2dd80ef14141cfff37a0a7915\n'}]",0,149712,c6f4cd6b96b9f793245c57a77bff91fca57af13c,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ib7a7ab07993f89c2dd80ef14141cfff37a0a7915
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/12/149712/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c6f4cd6b96b9f793245c57a77bff91fca57af13c,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0",1,1
openstack%2Ftrove~master~I7d2eec61cb4f02819dd42900146739acd9c65cc4,openstack/trove,master,I7d2eec61cb4f02819dd42900146739acd9c65cc4,Spelling errors fixed,MERGED,2015-01-22 18:54:02.000000000,2015-01-23 23:31:45.000000000,2015-01-23 23:31:43.000000000,"[{'_account_id': 3}, {'_account_id': 739}, {'_account_id': 838}, {'_account_id': 4240}, {'_account_id': 5293}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 9796}, {'_account_id': 10215}, {'_account_id': 13355}, {'_account_id': 13358}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-22 18:54:02.000000000', 'files': ['CONTRIBUTING.rst', 'trove/guestagent/datastore/redis/service.py', 'trove/guestagent/strategies/restore/mysql_impl.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/cdfdc5cd648230ea08c3fba9cfadd9f986d10afd', 'message': 'Spelling errors fixed\n\nChange-Id: I7d2eec61cb4f02819dd42900146739acd9c65cc4\n'}]",0,149364,cdfdc5cd648230ea08c3fba9cfadd9f986d10afd,12,12,1,13107,,,0,"Spelling errors fixed

Change-Id: I7d2eec61cb4f02819dd42900146739acd9c65cc4
",git fetch https://review.opendev.org/openstack/trove refs/changes/64/149364/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'trove/guestagent/datastore/redis/service.py', 'trove/guestagent/strategies/restore/mysql_impl.py']",3,cdfdc5cd648230ea08c3fba9cfadd9f986d10afd,, # sufficiently unique /var/lib/mysql/<checksum>, # sufficently unique /var/lib/mysql/<checksum>,3,3
openstack%2Fproject-config~master~I9b224a6654e06db637c1e48a8218f8c88d715b57,openstack/project-config,master,I9b224a6654e06db637c1e48a8218f8c88d715b57,Add networking-brocade project to StackForge,ABANDONED,2015-01-16 00:27:54.000000000,2015-01-23 23:27:56.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 13485}]","[{'number': 1, 'created': '2015-01-16 00:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/59630c3b0c63a578de872bc434697f1b84209b9c', 'message': 'Add networking-brocade project to StackForge\n\nThis repo will be used for development of Brocade drivers necessary to run with Neutron.\n\nThe need of setting this repo up is inline with spec proposal [1], where core elements of the Neutron project are decoupled by the internals of the technology being supported.\n\n[1] https://review.openstack.org/#/c/134680/\n\nChange-Id: I9b224a6654e06db637c1e48a8218f8c88d715b57\n'}, {'number': 2, 'created': '2015-01-16 00:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d1a87fcddb4e632711b00770f3a08e1dd0373866', 'message': 'Add networking-brocade project to StackForge\n\nThis repo will be used for development of Brocade drivers necessary to run with Neutron.\n\nThe need of setting this repo up is inline with spec proposal [1], where core elements of the Neutron project are decoupled by the internals of the technology being supported.\n\n[1] https://review.openstack.org/#/c/134680/\n\nChange-Id: I9b224a6654e06db637c1e48a8218f8c88d715b57\n'}, {'number': 3, 'created': '2015-01-16 01:10:26.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/acls/stackforge/networking-brocade.config', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5c8979193fd3d7f0b1627b9c35f2f45fdc26d898', 'message': 'Add networking-brocade project to StackForge\n\nThis repo will be used for development of Brocade drivers necessary\nto run with Neutron.\n\nThe need of setting this repo up is inline with spec proposal [1],\nwhere core elements of the Neutron project are decoupled by the internals\nof the technology being supported.\n\n[1] https://review.openstack.org/#/c/134680/\n\nChange-Id: I9b224a6654e06db637c1e48a8218f8c88d715b57\n'}]",0,147708,5c8979193fd3d7f0b1627b9c35f2f45fdc26d898,14,6,3,13485,,,0,"Add networking-brocade project to StackForge

This repo will be used for development of Brocade drivers necessary
to run with Neutron.

The need of setting this repo up is inline with spec proposal [1],
where core elements of the Neutron project are decoupled by the internals
of the technology being supported.

[1] https://review.openstack.org/#/c/134680/

Change-Id: I9b224a6654e06db637c1e48a8218f8c88d715b57
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/147708/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",3,59630c3b0c63a578de872bc434697f1b84209b9c,networking-brocade, - name: stackforge/networking-brocade template: - name: merge-check - name: python-jobs ,,15,0
openstack%2Fcinder~master~Ibec4d3b8a41b06870af6d9ee34b24e92c7b3ba28,openstack/cinder,master,Ibec4d3b8a41b06870af6d9ee34b24e92c7b3ba28,Test commit: add requirement from stackforge,ABANDONED,2015-01-23 22:29:30.000000000,2015-01-23 23:27:14.000000000,,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 12202}, {'_account_id': 12369}]","[{'number': 1, 'created': '2015-01-23 22:29:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/99b97c6787294772d89a1ad8ae962bcca800f424', 'message': 'Test commit: add requirement from stackforge\n\nChange-Id: Ibec4d3b8a41b06870af6d9ee34b24e92c7b3ba28\n'}]",0,149773,99b97c6787294772d89a1ad8ae962bcca800f424,5,4,1,1736,,,0,"Test commit: add requirement from stackforge

Change-Id: Ibec4d3b8a41b06870af6d9ee34b24e92c7b3ba28
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/149773/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,99b97c6787294772d89a1ad8ae962bcca800f424,req-test,surveilclient # Testing....,,1,0
openstack%2Frequirements~master~I9945eadaf8150764cf8b1bee470d8b4ea6083b12,openstack/requirements,master,I9945eadaf8150764cf8b1bee470d8b4ea6083b12,Test commit: add requirement from stackforge,ABANDONED,2015-01-23 22:32:24.000000000,2015-01-23 23:26:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4146}, {'_account_id': 5997}]","[{'number': 1, 'created': '2015-01-23 22:32:24.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd52a7ceb25b77d58de5ce2a48319f393ef730fe', 'message': 'Test commit: add requirement from stackforge\n\nChange-Id: I9945eadaf8150764cf8b1bee470d8b4ea6083b12\n'}]",0,149774,bd52a7ceb25b77d58de5ce2a48319f393ef730fe,5,4,1,1736,,,0,"Test commit: add requirement from stackforge

Change-Id: I9945eadaf8150764cf8b1bee470d8b4ea6083b12
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/149774/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,bd52a7ceb25b77d58de5ce2a48319f393ef730fe,test-req,python-surveilclient>=0.1.0 ,,4,0
openstack%2Fpython-fuelclient~master~I3b0d43fac1e6fec8efca05ae26896123b63b5916,openstack/python-fuelclient,master,I3b0d43fac1e6fec8efca05ae26896123b63b5916,Changed package name into python-fuelclient,MERGED,2015-01-23 17:47:06.000000000,2015-01-23 23:13:38.000000000,2015-01-23 23:13:38.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-01-23 17:47:06.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/1ad9862e9b3fc8a9f64d01b4548f38e83d2473a2', 'message': 'Changed package name into python-fuelclient\n\nChange-Id: I3b0d43fac1e6fec8efca05ae26896123b63b5916\nCloses-Bug: 1411710\n'}]",0,149691,1ad9862e9b3fc8a9f64d01b4548f38e83d2473a2,8,3,1,3009,,,0,"Changed package name into python-fuelclient

Change-Id: I3b0d43fac1e6fec8efca05ae26896123b63b5916
Closes-Bug: 1411710
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/91/149691/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,1ad9862e9b3fc8a9f64d01b4548f38e83d2473a2,bug/1411710," name='python-fuelclient',"," name='fuelclient',",1,1
openstack%2Fmonasca-agent~master~Iee1c450498bd84404cd566d6592906c4868c6c90,openstack/monasca-agent,master,Iee1c450498bd84404cd566d6592906c4868c6c90,Bug fixes for http_check using keystone and rabbitmq,MERGED,2015-01-23 22:38:28.000000000,2015-01-23 23:13:10.000000000,2015-01-23 23:13:09.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 12133}, {'_account_id': 12443}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-01-23 22:38:28.000000000', 'files': ['monasca_agent/collector/checks_d/http_check.py', 'monasca_agent/collector/checks/services_checks.py', 'monasca_agent/collector/checks_d/rabbitmq.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/6c9db3c622d2237ddcb55472d62356fb7aa0edfa', 'message': 'Bug fixes for http_check using keystone and rabbitmq\n\nChange-Id: Iee1c450498bd84404cd566d6592906c4868c6c90\n'}]",0,149776,6c9db3c622d2237ddcb55472d62356fb7aa0edfa,9,5,1,11094,,,0,"Bug fixes for http_check using keystone and rabbitmq

Change-Id: Iee1c450498bd84404cd566d6592906c4868c6c90
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/76/149776/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/http_check.py', 'monasca_agent/collector/checks/services_checks.py', 'monasca_agent/collector/checks_d/rabbitmq.py']",3,6c9db3c622d2237ddcb55472d62356fb7aa0edfa,feature/missing_service," checks.AgentCheck.__init__(self, name, init_config, agent_config, instances)"," AgentCheck.__init__(self, name, init_config, agent_config, instances)",6,6
openstack%2Fcookbook-openstack-common~master~I7ff1c43ad907387557c09cc6baae75a269b20b4d,openstack/cookbook-openstack-common,master,I7ff1c43ad907387557c09cc6baae75a269b20b4d,The bits have moved from epel-6 to epel-7 for RHEL,MERGED,2015-01-22 21:29:36.000000000,2015-01-23 23:06:44.000000000,2015-01-23 23:06:43.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-22 21:29:36.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/3ce42a643e8c9e8288372483ba6cd0ce18850667', 'message': 'The bits have moved from epel-6 to epel-7 for RHEL\n\nChange-Id: I7ff1c43ad907387557c09cc6baae75a269b20b4d\n'}]",0,149398,3ce42a643e8c9e8288372483ba6cd0ce18850667,8,4,1,26,,,0,"The bits have moved from epel-6 to epel-7 for RHEL

Change-Id: I7ff1c43ad907387557c09cc6baae75a269b20b4d
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/98/149398/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,3ce42a643e8c9e8288372483ba6cd0ce18850667,epel-7,default['openstack']['yum']['uri'] = 'http://repos.fedorapeople.org/repos/openstack/openstack-juno/epel-7',default['openstack']['yum']['uri'] = 'http://repos.fedorapeople.org/repos/openstack/openstack-juno/epel-6',1,1
openstack%2Fpython-novaclient~master~I06e0d2c67d3197607e5f23f623c8fca69e1b23d7,openstack/python-novaclient,master,I06e0d2c67d3197607e5f23f623c8fca69e1b23d7,Use TCP Keep-Alive on the socket level,MERGED,2014-09-10 20:15:55.000000000,2015-01-23 23:05:54.000000000,2015-01-23 23:05:52.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 970}, {'_account_id': 1849}, {'_account_id': 4690}, {'_account_id': 5638}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-09-10 20:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/5e2730537aa61a1e515a8ee4ec355f8ad76e9865', 'message': 'Use TCP Keep-Alive on the socket level\n\nThere is not a way to pass the socket options to the HTTPAdapter upon creation\nso we have to sub-class it and override the init_poolmanager method. This also\nrequires at least python-requests 2.4.0 but that has 2 severe bugs that were\nfixed in 2.4.1. If we try to fix this without a hard lower limit, we will not\nbe able to properly set these options on the socket at creation time.\n\nChange-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7\nCloses-bug: 1323862\n'}, {'number': 2, 'created': '2014-09-10 20:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/672f54dd141330878f5cb85fcbd5e51d300aa53d', 'message': 'Use TCP Keep-Alive on the socket level\n\nThere is not a way to pass the socket options to the HTTPAdapter upon\ncreation so we have to sub-class it and override the init_poolmanager\nmethod.  This also requires at least python-requests 2.4.0 but that\nhas 2 severe bugs that were fixed in 2.4.1. If we try to fix this\nwithout a hard lower limit, we will not be able to properly set these\noptions on the socket at creation time.\n\nChange-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7\nCloses-bug: 1323862\n'}, {'number': 3, 'created': '2014-09-11 13:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0ba0051062bbc07efba874f654b3ba86f2426464', 'message': 'Use TCP Keep-Alive on the socket level\n\nThere is not a way to pass the socket options to the HTTPAdapter upon\ncreation so we have to sub-class it and override the init_poolmanager\nmethod.  This also requires at least python-requests 2.4.0 but that\nhas 2 severe bugs that were fixed in 2.4.1. If we try to fix this\nwithout a hard lower limit, we will not be able to properly set these\noptions on the socket at creation time.\n\nChange-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7\nCloses-bug: 1323862\n'}, {'number': 4, 'created': '2014-09-11 16:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fd7a49df219a3caf799602b4bb41495adaabb4b4', 'message': 'Use TCP Keep-Alive on the socket level\n\nThere is not a way to pass the socket options to the HTTPAdapter upon\ncreation so we have to sub-class it and override the init_poolmanager\nmethod.  This also requires at least python-requests 2.4.0 but that\nhas 2 severe bugs that were fixed in 2.4.1. If we try to fix this\nwithout a hard lower limit, we will not be able to properly set these\noptions on the socket at creation time.\n\nChange-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7\nCloses-bug: 1323862\n'}, {'number': 5, 'created': '2014-09-11 21:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d51cc5d7ac7ea64a7ed28a268dff352fe1662dd7', 'message': 'Use TCP Keep-Alive on the socket level\n\nThere is not a way to pass the socket options to the HTTPAdapter upon\ncreation so we have to sub-class it and override the init_poolmanager\nmethod.  This also requires at least python-requests 2.4.0 but that\nhas 2 severe bugs that were fixed in 2.4.1. If we try to fix this\nwithout a hard lower limit, we will not be able to properly set these\noptions on the socket at creation time.\n\nChange-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7\nCloses-bug: 1323862\n'}, {'number': 6, 'created': '2015-01-23 21:38:54.000000000', 'files': ['novaclient/tests/test_client.py', 'novaclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7713fa0b18932a00231818ebdb239493d3b9c714', 'message': 'Use TCP Keep-Alive on the socket level\n\nThere is not a way to pass the socket options to the HTTPAdapter upon\ncreation so we have to sub-class it and override the init_poolmanager\nmethod.  This also requires at least python-requests 2.4.0 but that\nhas 2 severe bugs that were fixed in 2.4.1. If we try to fix this\nwithout a hard lower limit, we will not be able to properly set these\noptions on the socket at creation time.\n\nChange-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7\nCloses-bug: 1323862\n'}]",7,120571,7713fa0b18932a00231818ebdb239493d3b9c714,38,7,6,12000,,,0,"Use TCP Keep-Alive on the socket level

There is not a way to pass the socket options to the HTTPAdapter upon
creation so we have to sub-class it and override the init_poolmanager
method.  This also requires at least python-requests 2.4.0 but that
has 2 severe bugs that were fixed in 2.4.1. If we try to fix this
without a hard lower limit, we will not be able to properly set these
options on the socket at creation time.

Change-Id: I06e0d2c67d3197607e5f23f623c8fca69e1b23d7
Closes-bug: 1323862
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/71/120571/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'novaclient/tests/test_client.py', 'novaclient/client.py']",3,5e2730537aa61a1e515a8ee4ec355f8ad76e9865,bug/1323862,"import socketfrom requests.packages.urllib3 import connectionclass TCPKeepAliveAdapter(adapters.HTTPAdapter): """"""The custom adapter used to set TCP Keep-Alive on all connections."""""" def init_poolmanager(self, *args, **kwargs): kwargs.setdefault('socket_options', connection.HTTPConnection.default_socket_options + [ (socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1), ]) super(TCPKeepAliveAdapter, self).init_poolmanager(*args, **kwargs) self._adapters[url] = TCPKeepAliveAdapter()", self._adapters[url] = adapters.HTTPAdapter(),15,3
openstack%2Fneutron~master~If71b2b9f22f036138e0fddd496ae86ed08ea2ae1,openstack/neutron,master,If71b2b9f22f036138e0fddd496ae86ed08ea2ae1,"Added comments, and refactored _add_rule_by_security_group",MERGED,2015-01-18 08:13:24.000000000,2015-01-23 23:02:07.000000000,2015-01-23 23:02:06.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6788}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-18 08:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/952b2eb8f771dcce5cf4750d5788818181c2339b', 'message': 'Added comments, and refactored _add_rule_by_security_group\n\nAdded some comments, and extracted fixed egress rules\naddition to a separate function.\n\nPartially implements blueprint refactor-iptables-firewall-driver\n\nChange-Id: If71b2b9f22f036138e0fddd496ae86ed08ea2ae1\n'}, {'number': 2, 'created': '2015-01-20 15:07:48.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/93c21d9d10dab6e9fbdfe1ebc29c2e62b582f76a', 'message': 'Added comments, and refactored _add_rule_by_security_group\n\nAdded some comments, and extracted fixed egress rules\naddition to a separate function.\n\nPartially implements blueprint refactor-iptables-firewall-driver\n\nChange-Id: If71b2b9f22f036138e0fddd496ae86ed08ea2ae1\n'}]",11,148093,93c21d9d10dab6e9fbdfe1ebc29c2e62b582f76a,55,26,2,8788,,,0,"Added comments, and refactored _add_rule_by_security_group

Added some comments, and extracted fixed egress rules
addition to a separate function.

Partially implements blueprint refactor-iptables-firewall-driver

Change-Id: If71b2b9f22f036138e0fddd496ae86ed08ea2ae1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/148093/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_firewall.py'],1,952b2eb8f771dcce5cf4750d5788818181c2339b,bp/refactor-iptables-firewall-driver," # select rules for current port and direction # make sure ipset members are updated for remote security groups # incorporate fixed egress rules if direction == EGRESS_DIRECTION: self._add_fixed_egress_rules(port, ipv4_iptables_rules, ipv6_iptables_rules) # incorporate fixed ingress rules # incorporate IPv4 and IPv6 iptable rules from security group # finally add the rules to the port chain on a given direction self._add_rules_to_chain_v4v6(self._port_chain_name(port, direction), def _add_fixed_egress_rules(self, port, ipv4_iptables_rules, ipv6_iptables_rules): self._spoofing_rule(port, ipv4_iptables_rules, ipv6_iptables_rules) self._drop_dhcp_rule(ipv4_iptables_rules, ipv6_iptables_rules) "," chain_name = self._port_chain_name(port, direction) # select rules for current direction # update the corresponding ipset members if direction == EGRESS_DIRECTION: self._spoofing_rule(port, ipv4_iptables_rules, ipv6_iptables_rules) self._drop_dhcp_rule(ipv4_iptables_rules, ipv6_iptables_rules) self._add_rules_to_chain_v4v6(chain_name,",17,8
openstack%2Fneutron~master~I1dca829d68b11d479604a2ed6c0c5f7aac4a4195,openstack/neutron,master,I1dca829d68b11d479604a2ed6c0c5f7aac4a4195,l3_agent: split out the linux specific logic,ABANDONED,2014-10-16 08:21:47.000000000,2015-01-23 23:00:32.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10761}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-10-16 08:21:47.000000000', 'files': ['neutron/agent/l3_agent_linux.py', 'neutron/agent/l3_agent_driver.py', 'neutron/agent/l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbb1452a1199c93974b2ec5f5c6d21ec928a4cbe', 'message': 'l3_agent: split out the linux specific logic\n\nThis is WIP code to show the basic idea/direction.\nSince the routervm (Cisco, vyatta, mcafee and more...) is coming and\nin order to share code with l3 agent as much as possible, this patch\nsplit out device specific code as routing driver.\n\nChange-Id: I1dca829d68b11d479604a2ed6c0c5f7aac4a4195\n'}]",0,128846,dbb1452a1199c93974b2ec5f5c6d21ec928a4cbe,21,20,1,333,,,0,"l3_agent: split out the linux specific logic

This is WIP code to show the basic idea/direction.
Since the routervm (Cisco, vyatta, mcafee and more...) is coming and
in order to share code with l3 agent as much as possible, this patch
split out device specific code as routing driver.

Change-Id: I1dca829d68b11d479604a2ed6c0c5f7aac4a4195
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/128846/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3_agent_driver.py', 'neutron/agent/l3_agent_linux.py', 'neutron/agent/l3_agent.py']",3,dbb1452a1199c93974b2ec5f5c6d21ec928a4cbe,bp/restructure-l3-agent,"from neutron.agent import l3_agent_linuxfrom neutron import context as n_contextclass RoutingServiceHelper(object): def __init__(self, host, conf=None, plugin_rpc=None, topic=None): conf = conf or cfg.CONF plugin_rpc = plugin_rpc or L3PluginApi(topic, host) # topic = c_constants.CFG_AGENT_L3_ROUTING topic = topic or topics.L3PLUGIN super(RoutingServiceHelper, self).__init__() self.conf = conf self.context = n_context.get_admin_context_without_session() self.plugin_rpc = plugin_rpc self.fullsync = True self.sync_progress = False self.router_info = {} self._queue = RouterProcessingQueue() # router_id => driver self._drivermgr = driver_mgr.DeviceDriverManager() self.conn = n_rpc.create_connection(new=True) self.endpoints = [self] self.conn.create_consumer('%s.%s' % (topic, host), self.endpoints, fanout=False) self.conn.consume_in_threads() ### l3_rpc Notifications from Plugin #### def router_deleted(self, context, router_id): """"""Deal with router deletion RPC message."""""" LOG.debug(_('Got router deleted notification for %s'), router_id) update = RouterUpdate(router_id, PRIORITY_RPC, action=DELETE_ROUTER) self._queue.add(update) def routers_updated(self, context, routers): """"""Deal with routers modification and creation RPC message."""""" LOG.debug(_('Got routers updated notification :%s'), routers) if routers: # This is needed for backward compatibility if isinstance(routers[0], dict): routers = [router['id'] for router in routers] for id in routers: update = RouterUpdate(id, PRIORITY_RPC) self._queue.add(update) def _update_arp_entry(self, payload, operation): arp_table = payload['arp_table'] router_id = payload['router_id'] ip = arp_table['ip_address'] mac = arp_table['mac_address'] subnet_id = arp_table['subnet_id'] ri = self.router_info.get(router_id) if ri: self._routing_driver.update_arp_entry( ri, ip, mac, subnet_id, operation) def add_arp_entry(self, context, payload): """"""Add arp entry into router namespace. Called from RPC."""""" self._update_arp_entry(payload, 'add') def del_arp_entry(self, context, payload): """"""Delete arp entry from router namespace. Called from RPC."""""" self._update_arp_entry(payload, 'delete') def router_removed_from_agent(self, context, payload): LOG.debug(_('Got router removed from agent :%r'), payload) router_id = payload['router_id'] update = RouterUpdate(router_id, PRIORITY_RPC, action=DELETE_ROUTER) self._queue.add(update) def router_added_to_agent(self, context, payload): LOG.debug(_('Got router added to agent :%r'), payload) self.routers_updated(context, payload) def agent_updated(self, context, payload): """"""Handle the agent_updated notification event."""""" self.fullsync = True LOG.info(_(""agent_updated by server side %s!""), payload) # Routing service helper public methods def process_routers_loop(self): LOG.debug(""Starting process_routers_loop"") pool = eventlet.GreenPool(size=8) while True: pool.spawn_n(self._process_router_update) def collect_state(self, configurations): """"""Collect state from this helper. A set of attributes which summarizes the state of the routers and configurations managed by this config agent. :param configurations: dict of configuration values :return dict of updated configuration values """""" num_ex_gw_ports = 0 num_interfaces = 0 num_floating_ips = 0 router_infos = self.router_info.values() num_routers = len(router_infos) for ri in router_infos: ex_gw_port = ri.router.get('gw_port') if ex_gw_port: num_ex_gw_ports += 1 num_interfaces += len(ri.router.get( l3_constants.INTERFACE_KEY, [])) num_floating_ips += len(ri.router.get( l3_constants.FLOATINGIP_KEY, [])) configurations['total routers'] = num_routers configurations['total ex_gw_ports'] = num_ex_gw_ports configurations['total interfaces'] = num_interfaces configurations['total floating_ips'] = num_floating_ips # TODO(yamahata): collect state for all routers/drivers return configurations # Routing service helper internal methods def _process_router_if_compatible(self, router): # if (self.conf.external_network_bridge and # not ip_lib.device_exists(self.conf.external_network_bridge)): # LOG.error(_(""The external network bridge '%s' does not exist""), # self.conf.external_network_bridge) # return # # If namespaces are disabled, only process the router associated # # with the configured agent id. # if (not self.conf.use_namespaces and # router['id'] != self.conf.router_id): # raise n_exc.RouterNotCompatibleWithAgent(router_id=router['id']) # Either ex_net_id or handle_internal_only_routers must be set ex_net_id = (router['external_gateway_info'] or {}).get('network_id') if not ex_net_id and not self.conf.handle_internal_only_routers: raise n_exc.RouterNotCompatibleWithAgent(router_id=router['id']) # If target_ex_net_id and ex_net_id are set they must be equal target_ex_net_id = self._fetch_external_net_id() if (target_ex_net_id and ex_net_id and ex_net_id != target_ex_net_id): # Double check that our single external_net_id has not changed # by forcing a check by RPC. if ex_net_id != self._fetch_external_net_id(force=True): raise n_exc.RouterNotCompatibleWithAgent( router_id=router['id']) if router['id'] not in self.router_info: self._router_added(router['id'], router) ri = self.router_info[router['id']] ri.router = router self.process_router(ri) def _process_router_update(self): for rp, update in self._queue.each_update_to_next_router(): LOG.debug(""Starting router update for %s"", update.id) router = update.router if update.action != DELETE_ROUTER and not router: try: update.timestamp = timeutils.utcnow() routers = self.plugin_rpc.get_routers(self.context, [update.id]) except Exception: msg = _(""Failed to fetch router information for '%s'"") LOG.exception(msg, update.id) self.fullsync = True continue if routers: router = routers[0] if not router: self._router_removed(update.id) continue try: self._process_router_if_compatible(router) except n_exc.RouterNotCompatibleWithAgent as e: LOG.exception(e.msg) # Was the router previously handled by this agent? if router['id'] in self.router_info: LOG.error(_LE(""Removing incompatible router '%s'""), router['id']) self._router_removed(router['id']) LOG.debug(""Finished a router update for %s"", update.id) rp.fetched_and_processed(update.timestamp) @common_utils.exception_logger() def _process_router(self, ri): """"""Process a router, apply latest configuration and update router_info. Get the router dict from RouterInfo and proceed to detect changes from the last known state. When new ports or deleted ports are detected, `internal_network_added()` or `internal_networks_removed()` are called accordingly. Similarly changes in ex_gw_port causes `external_gateway_added()` or `external_gateway_removed()` calls. Next, floating_ips and routes are processed. Also, latest state is stored in ri.internal_ports and ri.ex_gw_port for future comparisons. :param ri : RouterInfo object of the router being processed. :return:None :raises: neutron.plugins.cisco.cfg_agent.cfg_exceptions.DriverException if the configuration operation fails. """""" driver = self._drivermgr.get_driver(ri.router_id) try: ex_gw_port = ri.router.get('gw_port') ri.ha_info = ri.router.get('ha_info', None) internal_ports = ri.router.get(l3_constants.INTERFACE_KEY, []) existing_port_ids = set([p['id'] for p in ri.internal_ports]) current_port_ids = set([p['id'] for p in internal_ports if p['admin_state_up']]) new_ports = [p for p in internal_ports if p['id'] in (current_port_ids - existing_port_ids)] old_ports = [p for p in ri.internal_ports if p['id'] not in current_port_ids] # TODO: ipv6 new_ipv6_port = False old_ipv6_port = False for p in new_ports: self._set_subnet_info(p) self._internal_network_added(ri, p, ex_gw_port) ri.internal_ports.append(p) if (not new_ipv6_port and netaddr.IPNetwork(p['subnet']['cidr']).version == 6): new_ipv6_port = True for p in old_ports: self._internal_network_removed(ri, p, ri.ex_gw_port) ri.internal_ports.remove(p) if (not old_ipv6_port and netaddr.IPNetwork(p['subnet']['cidr']).version == 6): old_ipv6_port = True # TODO(yamahata): if new_ipv6_port or old_ipv6_port: ra.enable_ipv6_ra(ri.router_id, ri.ns_name, internal_ports, self.get_internal_device_name, self.root_helper) # handle stale devices driver.process_stale_internal_ports(ri) # existing_devices = self._get_existing_devices(ri) # current_internal_devs = set([n for n in existing_devices # if n.startswith(INTERNAL_DEV_PREFIX)]) # current_port_devs = set([self.get_internal_device_name(id) for # id in current_port_ids]) # stale_devs = current_internal_devs - current_port_devs # for stale_dev in stale_devs: # LOG.debug(_('Deleting stale internal router device: %s'), # stale_dev) # self.driver.unplug(stale_dev, # namespace=ri.ns_name, # prefix=INTERNAL_DEV_PREFIX) if ex_gw_port: def _gateway_ports_equal(port1, port2): def _get_filtered_dict(d, ignore): return dict((k, v) for k, v in d.iteritems() if k not in ignore) keys_to_ignore = set(['binding:host_id']) port1_filtered = _get_filtered_dict(port1, keys_to_ignore) port2_filtered = _get_filtered_dict(port2, keys_to_ignore) return port1_filtered == port2_filtered self._set_subnet_info(ex_gw_port) if not ri.ex_gw_port: self._external_gateway_added(ri, ex_gw_port) elif not _gateway_ports_equal(ex_gw_port, ri.ex_gw_port): self._external_gateway_updated(ri, ex_gw_port) elif not ex_gw_port and ri.ex_gw_port: self._external_gateway_removed(ri, ri.ex_gw_port) driver.process_stale_external_ports(ri) # stale_devs = [dev for dev in existing_devices # if dev.startswith(EXTERNAL_DEV_PREFIX) # and dev != interface_name] # for stale_dev in stale_devs: # LOG.debug(_('Deleting stale external router device: %s'), # stale_dev) # self.driver.unplug(stale_dev, # bridge=self.conf.external_network_bridge, # namespace=ri.ns_name, # prefix=EXTERNAL_DEV_PREFIX) self._routes_updated(ri) if ex_gw_port: self._process_router_floating_ips(ri, ex_gw_port) ri.ex_gw_port = ex_gw_port # TODO(yamahata): factor out into driver ri.snat_ports = snat_ports ri.enable_snat = ri.router.get('enable_snat') if ri.is_ha: if ri.ha_port: ri.spawn_keepalived() else: ri.disable_keepalived() except cfg_exceptions.DriverException as e: with excutils.save_and_reraise_exception(): self.updated_routers.update(ri.router_id) LOG.error(e) def _process_router_floating_ips(self, ri, ex_gw_port): """"""Process a router's floating ips. Compare current floatingips (in ri.floating_ips) with the router's updated floating ips (in ri.router.floating_ips) and detect flaoting_ips which were added or removed. Notify driver of the change via `floating_ip_added()` or `floating_ip_removed()`. :param ri: RouterInfo object of the router being processed. :param ex_gw_port: Port dict of the external gateway port. :return: None :raises: neutron.plugins.cisco.cfg_agent.cfg_exceptions.DriverException if the configuration operation fails. """""" floating_ips = ri.router.get(l3_constants.FLOATINGIP_KEY, []) existing_floating_ip_ids = set( [fip['id'] for fip in ri.floating_ips]) cur_floating_ip_ids = set([fip['id'] for fip in floating_ips]) id_to_fip_map = {} for fip in floating_ips: if fip['port_id']: # store to see if floatingip was remapped id_to_fip_map[fip['id']] = fip if fip['id'] not in existing_floating_ip_ids: ri.floating_ips.append(fip) self._floating_ip_added(ri, ex_gw_port, fip['floating_ip_address'], fip['fixed_ip_address']) floating_ip_ids_to_remove = (existing_floating_ip_ids - cur_floating_ip_ids) for fip in ri.floating_ips: if fip['id'] in floating_ip_ids_to_remove: ri.floating_ips.remove(fip) self._floating_ip_removed(ri, ri.ex_gw_port, fip['floating_ip_address'], fip['fixed_ip_address']) else: # handle remapping of a floating IP new_fip = id_to_fip_map[fip['id']] new_fixed_ip = new_fip['fixed_ip_address'] existing_fixed_ip = fip['fixed_ip_address'] if (new_fixed_ip and existing_fixed_ip and new_fixed_ip != existing_fixed_ip): floating_ip = fip['floating_ip_address'] self._floating_ip_removed(ri, ri.ex_gw_port, floating_ip, existing_fixed_ip) self._floating_ip_added(ri, ri.ex_gw_port, floating_ip, new_fixed_ip) ri.floating_ips.remove(fip) ri.floating_ips.append(new_fip) def _router_added(self, router_id, ri): """"""Operations when a router is added. Create a new RouterInfo object for this router and add it to the service helpers router_info dictionary. Then `router_added()` is called on the device driver. :param router_id: id of the router :param router: router dict :return: None """""" driver = self._drivermgr.set_driver(router_id) driver.router_added(ri) self.router_info[router_id] = ri self.process_router_add(ri) # for FWaaS l3 agent def _router_removed(self, router_id, deconfigure=True): """"""Operations when a router is removed. Get the RouterInfo object corresponding to the router in the service helpers's router_info dict. If deconfigure is set to True, remove this router's configuration from the hosting device. :param router_id: id of the router :param deconfigure: if True, the router's configuration is deleted from the hosting device. :return: None """""" ri = self.router_info.get(router_id) if ri is None: LOG.warn(_(""Info for router %s was not found. "" ""Skipping router removal""), router_id) return ri.router['gw_port'] = None ri.router[l3_constants.INTERFACE_KEY] = [] ri.router[l3_constants.FLOATINGIP_KEY] = [] try: if deconfigure: self._process_router(ri) driver = self._drivermgr.get_driver(router_id) driver.router_removed(ri, deconfigure) self._drivermgr.remove_driver(router_id) del self.router_info[router_id] except cfg_exceptions.DriverException: LOG.warn(_(""Router remove for router_id: %s was incomplete. "" ""queuing the router to be removed""), router_id) update = RouterUpdate(router_id, PRIORITY_SYNC_ROUTERS_TASK, timestamp=timestamp, action=DELETE_ROUTER) self._queue.add(update) def _internal_network_added(self, ri, port, ex_gw_port): driver = self._drivermgr.get_driver(ri.id) driver.internal_network_added(ri, port) if ri.snat_enabled and ex_gw_port: driver.enable_internal_network_NAT(ri, port, ex_gw_port) def _internal_network_removed(self, ri, port, ex_gw_port): driver = self._drivermgr.get_driver(ri.id) driver.internal_network_removed(ri, port) if ri.snat_enabled and ex_gw_port: driver.disable_internal_network_NAT(ri, port, ex_gw_port) def _external_gateway_added(self, ri, ex_gw_port): driver = self._drivermgr.get_driver(ri.id) driver.external_gateway_added(ri, ex_gw_port) if ri.snat_enabled and ri.internal_ports: for port in ri.internal_ports: driver.enable_internal_network_NAT(ri, port, ex_gw_port) def _external_gateway_removed(self, ri, ex_gw_port): driver = self._drivermgr.get_driver(ri.id) if ri.snat_enabled and ri.internal_ports: for port in ri.internal_ports: driver.disable_internal_network_NAT(ri, port, ex_gw_port) driver.external_gateway_removed(ri, ex_gw_port) def _floating_ip_added(self, ri, ex_gw_port, floating_ip, fixed_ip): driver = self._drivermgr.get_driver(ri.id) driver.floating_ip_added(ri, ex_gw_port, floating_ip, fixed_ip) def _floating_ip_removed(self, ri, ex_gw_port, floating_ip, fixed_ip): driver = self._drivermgr.get_driver(ri.id) driver.floating_ip_removed(ri, ex_gw_port, floating_ip, fixed_ip) def _routes_updated(self, ri): """"""Update the state of routes in the router. Compares the current routes with the (configured) existing routes and detect what was removed or added. Then configure the logical router in the hosting device accordingly. :param ri: RouterInfo corresponding to the router. :return: None :raises: neutron.plugins.cisco.cfg_agent.cfg_exceptions.DriverException if the configuration operation fails. """""" new_routes = ri.router['routes'] old_routes = ri.routes adds, removes = common_utils.diff_list_of_dict(old_routes, new_routes) for route in adds: LOG.debug(""Added route entry is '%s'"", route) # remove replaced route from deleted route for del_route in removes: if route['destination'] == del_route['destination']: removes.remove(del_route) driver = self._drivermgr.get_driver(ri.id) driver.routes_updated(ri, 'replace', route) for route in removes: LOG.debug(""Removed route entry is '%s'"", route) driver = self._drivermgr.get_driver(ri.id) driver.routes_updated(ri, 'delete', route) ri.routes = new_routes @staticmethod def _set_subnet_info(port): ips = port['fixed_ips'] if not ips: raise Exception(_(""Router port %s has no IP address"") % port['id']) if len(ips) > 1: LOG.error(_(""Ignoring multiple IPs on router port %s""), port['id']) prefixlen = netaddr.IPNetwork(port['subnet']['cidr']).prefixlen port['ip_cidr'] = ""%s/%s"" % (ips[0]['ip_address'], prefixlen) manager.Manager, RoutingServiceHelper): self._routing_driver = l3_agent_linux.L3NATRoutingLinux( conf, self.driver, l3_agent_linux.L3NATRoutingCallback()) self.context = n_context.get_admin_context_without_session()","import osfrom neutron import contextNS_PREFIX = 'qrouter-' INTERNAL_DEV_PREFIX = 'qr-' EXTERNAL_DEV_PREFIX = 'qg-' SNAT_INT_DEV_PREFIX = 'sg-' FIP_NS_PREFIX = 'fip-' SNAT_NS_PREFIX = 'snat-' FIP_2_ROUTER_DEV_PREFIX = 'fpr-' ROUTER_2_FIP_DEV_PREFIX = 'rfp-' FIP_EXT_DEV_PREFIX = 'fg-' FIP_LL_SUBNET = '169.254.30.0/23' # Route Table index for FIPs FIP_RT_TBL = 16 # Rule priority range for FIPs FIP_PR_START = 32768 FIP_PR_END = FIP_PR_START + 40000 RPC_LOOP_INTERVAL = 1 FLOATING_IP_CIDR_SUFFIX = '/32'class LinkLocalAddressPair(netaddr.IPNetwork): def __init__(self, addr): super(LinkLocalAddressPair, self).__init__(addr) def get_pair(self): """"""Builds an address pair from the first and last addresses. """""" return (netaddr.IPNetwork(""%s/%s"" % (self.network, self.prefixlen)), netaddr.IPNetwork(""%s/%s"" % (self.broadcast, self.prefixlen))) class LinkLocalAllocator(object): """"""Manages allocation of link local IP addresses. These link local addresses are used for routing inside the fip namespaces. The associations need to persist across agent restarts to maintain consistency. Without this, there is disruption in network connectivity as the agent rewires the connections with the new IP address assocations. Persisting these in the database is unnecessary and would degrade performance. """""" def __init__(self, state_file, subnet): """"""Read the file with previous allocations recorded. See the note in the allocate method for more detail. """""" self.state_file = state_file subnet = netaddr.IPNetwork(subnet) self.allocations = {} self.remembered = {} for line in self._read(): key, cidr = line.strip().split(',') self.remembered[key] = LinkLocalAddressPair(cidr) self.pool = set(LinkLocalAddressPair(s) for s in subnet.subnet(31)) self.pool.difference_update(self.remembered.values()) def allocate(self, key): """"""Try to allocate a link local address pair. I expect this to work in all cases because I expect the pool size to be large enough for any situation. Nonetheless, there is some defensive programming in here. Since the allocations are persisted, there is the chance to leak allocations which should have been released but were not. This leak could eventually exhaust the pool. So, if a new allocation is needed, the code first checks to see if there are any remembered allocations for the key. If not, it checks the free pool. If the free pool is empty then it dumps the remembered allocations to free the pool. This final desparate step will not happen often in practice. """""" if key in self.remembered: self.allocations[key] = self.remembered.pop(key) return self.allocations[key] if not self.pool: # Desparate times. Try to get more in the pool. self.pool.update(self.remembered.values()) self.remembered.clear() if not self.pool: # More than 256 routers on a compute node! raise RuntimeError(_(""Cannot allocate link local address"")) self.allocations[key] = self.pool.pop() self._write_allocations() return self.allocations[key] def release(self, key): self.pool.add(self.allocations.pop(key)) self._write_allocations() def _write_allocations(self): current = [""%s,%s\n"" % (k, v) for k, v in self.allocations.items()] remembered = [""%s,%s\n"" % (k, v) for k, v in self.remembered.items()] current.extend(remembered) self._write(current) def _write(self, lines): with open(self.state_file, ""w"") as f: f.writelines(lines) def _read(self): if not os.path.exists(self.state_file): return [] with open(self.state_file) as f: return f.readlines() class RouterInfo(l3_ha_agent.RouterMixin): def __init__(self, router_id, root_helper, use_namespaces, router, use_ipv6=False, ns_name=None): self.router_id = router_id self.ex_gw_port = None self._snat_enabled = None self._snat_action = None self.internal_ports = [] self.snat_ports = [] self.floating_ips = set() self.floating_ips_dict = {} self.root_helper = root_helper self.use_namespaces = use_namespaces # Invoke the setter for establishing initial SNAT action self.router = router self.ns_name = ns_name self.iptables_manager = iptables_manager.IptablesManager( root_helper=root_helper, use_ipv6=use_ipv6, namespace=self.ns_name) self.snat_iptables_manager = None self.routes = [] # DVR Data # Linklocal subnet for router and floating IP namespace link self.rtr_fip_subnet = None self.dist_fip_count = 0 super(RouterInfo, self).__init__() @property def router(self): return self._router @router.setter def router(self, value): self._router = value if not self._router: return # enable_snat by default if it wasn't specified by plugin self._snat_enabled = self._router.get('enable_snat', True) # Set a SNAT action for the router if self._router.get('gw_port'): self._snat_action = ('add_rules' if self._snat_enabled else 'remove_rules') elif self.ex_gw_port: # Gateway port was removed, remove rules self._snat_action = 'remove_rules' def perform_snat_action(self, snat_callback, *args): # Process SNAT rules for attached subnets if self._snat_action: snat_callback(self, self._router.get('gw_port'), *args, action=self._snat_action) self._snat_action = None manager.Manager): self.context = context.get_admin_context_without_session() # dvr data self.agent_gateway_port = None self.agent_fip_count = 0 self.local_subnets = LinkLocalAllocator( os.path.join(self.conf.state_path, 'fip-linklocal-networks'), FIP_LL_SUBNET) self.fip_priorities = set(range(FIP_PR_START, FIP_PR_END)) def get_internal_device_name(self, port_id): return (INTERNAL_DEV_PREFIX + port_id)[:self.driver.DEV_NAME_LEN] def get_external_device_name(self, port_id): return (EXTERNAL_DEV_PREFIX + port_id)[:self.driver.DEV_NAME_LEN] def get_fip_ext_device_name(self, port_id): return (FIP_EXT_DEV_PREFIX + port_id)[:self.driver.DEV_NAME_LEN] def get_rtr_int_device_name(self, router_id): return (ROUTER_2_FIP_DEV_PREFIX + router_id)[:self.driver.DEV_NAME_LEN] def get_fip_int_device_name(self, router_id): return (FIP_2_ROUTER_DEV_PREFIX + router_id)[:self.driver.DEV_NAME_LEN] def get_snat_int_device_name(self, port_id): return (SNAT_INT_DEV_PREFIX + port_id)[:self.driver.DEV_NAME_LEN] def get_fip_ns_name(self, ext_net_id): return (FIP_NS_PREFIX + ext_net_id) def get_ns_name(self, router_id): return (NS_PREFIX + router_id) def get_snat_ns_name(self, router_id): return (SNAT_NS_PREFIX + router_id) ",1574,206
openstack%2Fnova~master~I18d5076c1e5fa4511f645c822167b208ce9dde70,openstack/nova,master,I18d5076c1e5fa4511f645c822167b208ce9dde70,Default to ssh for libvirt live_migration,ABANDONED,2014-11-20 18:11:52.000000000,2015-01-23 22:54:28.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6962}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-20 18:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c85c2d313e939b13a1f2ab43d835cd21c7527dc1', 'message': ""Default to ssh for libvirt live_migration\n\nThe current default value for libvirt live_migration_uri of using TCP\nrequires kerbros. And since most people won't be setting up kerbros this\nis a bad bad default value. Instead default to SSH as working ssh is\nused by other parts of nova already.\n\nDocImpact\n\nChange-Id: I18d5076c1e5fa4511f645c822167b208ce9dde70\n""}, {'number': 2, 'created': '2014-11-20 18:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83f78828cd94dedc9663181885aea5df280a12ae', 'message': ""Default to ssh for libvirt live_migration\n\nTo securely use the current default value for libvirt live_migration_uri of TCP, kerbros is required. And since most people won't be setting up\nkerbros this is a bad bad default value. Instead default to SSH as\nworking ssh is used by other parts of nova already.\n\nDocImpact\n\nChange-Id: I18d5076c1e5fa4511f645c822167b208ce9dde70\n""}, {'number': 3, 'created': '2014-11-20 18:22:57.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6248abb4cbf66dd6e9831feb77c17d5ab3d2e9a', 'message': ""Default to ssh for libvirt live_migration\n\nTo securely use the current default value for libvirt live_migration_uri\nof TCP, kerbros is required. And since most people won't be setting up\nkerbros this is a bad bad default value. Instead default to SSH as\nworking ssh is used by other parts of nova already.\n\nDocImpact\n\nChange-Id: I18d5076c1e5fa4511f645c822167b208ce9dde70\n""}]",1,136080,d6248abb4cbf66dd6e9831feb77c17d5ab3d2e9a,19,12,3,1849,,,0,"Default to ssh for libvirt live_migration

To securely use the current default value for libvirt live_migration_uri
of TCP, kerbros is required. And since most people won't be setting up
kerbros this is a bad bad default value. Instead default to SSH as
working ssh is used by other parts of nova already.

DocImpact

Change-Id: I18d5076c1e5fa4511f645c822167b208ce9dde70
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/136080/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,c85c2d313e939b13a1f2ab43d835cd21c7527dc1,ssh," default=""qemu+ssh://%s/system"","," default=""qemu+tcp://%s/system"",",1,1
openstack%2Fnova~master~I5b0462c261c4aed7aedaa011beaa25d02ce8c370,openstack/nova,master,I5b0462c261c4aed7aedaa011beaa25d02ce8c370,"Tests test_empty_selector, test_make_flat_dict were fixed",ABANDONED,2014-12-29 23:34:47.000000000,2015-01-23 22:45:46.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12841}, {'_account_id': 14358}]","[{'number': 1, 'created': '2014-12-29 23:34:47.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_flavor_access.py', 'nova/tests/unit/api/openstack/test_xmlutil.py', 'nova/api/openstack/xmlutil.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d3afa7319d85ef42222600144972bf162e72e076', 'message': 'Tests test_empty_selector, test_make_flat_dict were fixed\n\nFunction compare_xml_strings() was added for intelligent comparing XML strings.\n\nChange-Id: I5b0462c261c4aed7aedaa011beaa25d02ce8c370\nPartial-Bug: #1350287\n'}]",2,144379,d3afa7319d85ef42222600144972bf162e72e076,14,11,1,14358,,,0,"Tests test_empty_selector, test_make_flat_dict were fixed

Function compare_xml_strings() was added for intelligent comparing XML strings.

Change-Id: I5b0462c261c4aed7aedaa011beaa25d02ce8c370
Partial-Bug: #1350287
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/144379/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_flavor_access.py', 'nova/tests/unit/api/openstack/test_xmlutil.py', 'nova/api/openstack/xmlutil.py']",3,d3afa7319d85ef42222600144972bf162e72e076,fix-tests," def compare_xml_strings(a_xml_string, b_xml_string): """"""Compares two XML strings using minidom. Returns True if XML documents contain the same content. If order of subnodes or order of attributes in documents are different, but content the same, function returns True . """""" a_doc = minidom.parseString(a_xml_string) b_doc = minidom.parseString(b_xml_string) # check encoding if a_doc.encoding != b_doc.encoding or \ a_doc.version != b_doc.version: return False def check_attributes(a, b): if a.attributes: if len(a.attributes.keys()) != len(b.attributes.keys()): return False for attr_key in a.attributes.keys(): if attr_key not in b.attributes.keys(): return False if a.attributes[attr_key].value != \ b.attributes[attr_key].value: return False if a.attributes is None and a.attributes is not None: return False return True def trees_equal(a, b): if a.nodeName == b.nodeName: res = True # check all attributes check_attributes(a, b) # check text if a.nodeType != b.nodeType or \ a.nodeType == a.TEXT_NODE and a.data != b.data: return False # check all childs if len(a.childNodes) != len(b.childNodes): return False for a_child in a.childNodes: related_b_child = None for b_child in b.childNodes: if b_child.nodeName == a_child.nodeName and \ check_attributes(a_child, b_child): related_b_child = b_child break if related_b_child is None: return False res = res and trees_equal(a_child, related_b_child) if not res: return False return res return False return trees_equal(a_doc, b_doc)",,67,8
openstack%2Ftaskflow~master~I9aeb928ce85d057f872392b593b3e97f694474d1,openstack/taskflow,master,I9aeb928ce85d057f872392b593b3e97f694474d1,Show the failure discarded (and the future intention),MERGED,2015-01-22 22:51:54.000000000,2015-01-23 22:35:27.000000000,2015-01-23 22:35:25.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 7634}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-01-22 22:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6ccf1e34b50235dc3b642b66af8333710c42d313', 'message': 'Show the failure discarded (and the future intention)\n\nWhen DEBUG is enabled it is quite useful to show information\nabout why a failure of a atom is being discarded (typically\nit is being retried) so when this happens and DEBUG is enabled\nadd appropriate logging messages that show this decision and\nfuture intentions.\n\nChange-Id: I9aeb928ce85d057f872392b593b3e97f694474d1\n'}, {'number': 2, 'created': '2015-01-23 00:25:09.000000000', 'files': ['taskflow/engines/action_engine/runner.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/93d73b85c6972732892ce14fabedde4c7d4e4193', 'message': 'Show the failure discarded (and the future intention)\n\nWhen DEBUG is enabled it is quite useful to show information\nabout why a failure of a atom is being discarded (typically\nit is being retried) so when this happens and DEBUG is enabled\nadd appropriate logging messages that show this decision and\nfuture intentions.\n\nChange-Id: I9aeb928ce85d057f872392b593b3e97f694474d1\n'}]",0,149425,93d73b85c6972732892ce14fabedde4c7d4e4193,11,4,2,1297,,,0,"Show the failure discarded (and the future intention)

When DEBUG is enabled it is quite useful to show information
about why a failure of a atom is being discarded (typically
it is being retried) so when this happens and DEBUG is enabled
add appropriate logging messages that show this decision and
future intentions.

Change-Id: I9aeb928ce85d057f872392b593b3e97f694474d1
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/25/149425/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/engines/action_engine/runner.py'],1,6ccf1e34b50235dc3b642b66af8333710c42d313,," if isinstance(result, failure.Failure): if retain: memory.failures.append(result) else: # NOTE(harlowja): avoid making any # intention request to storage unless we are # sure we are in DEBUG enabled logging (otherwise # we will call this all the time even when DEBUG # is not enabled, which would suck...) if LOG.isEnabledFor(logging.DEBUG): intention = self._storage.get_atom_intention( node.name) LOG.debug(""Discarding failure '%s' (in"" "" response to event %s) under"" "" completion units request during"" "" completion of node '%s' (intention"" "" is to %s)"", result, event, node, intention)"," if retain and isinstance(result, failure.Failure): memory.failures.append(result)",18,2
openstack%2Fproject-config~master~Ie12f3f0d824401f2ed53a77f8f307ea0f178854e,openstack/project-config,master,Ie12f3f0d824401f2ed53a77f8f307ea0f178854e,Set proper ownership on tempest test repository,MERGED,2015-01-23 21:07:33.000000000,2015-01-23 22:25:06.000000000,2015-01-23 22:25:05.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6609}]","[{'number': 1, 'created': '2015-01-23 21:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a842769f4d9c94f6f724227effe8595466985f13', 'message': ""Set proper ownership on tempest test repository\n\nWhen the testrepository directory is created by calling the preseed\nscript the permissions are different from the rest of the tempest\nrepo. When the dir is rsync'd by devstack-gate it errors out with\npermission denied on the .testrepository dir. This commit fixes this\nby setting the ownership to be the same as the rest of the cached\nrepo.\n\nChange-Id: Ie12f3f0d824401f2ed53a77f8f307ea0f178854e\n""}, {'number': 2, 'created': '2015-01-23 21:11:58.000000000', 'files': ['nodepool/elements/cache-devstack/install.d/99-cache-testrepository-db', 'nodepool/scripts/prepare_node_devstack.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfaf1f9daf0f76b1bdfd296574ab724632babb9d', 'message': ""Set proper ownership on tempest test repository\n\nWhen the testrepository directory is created by calling the preseed\nscript the permissions are different from the rest of the tempest\nrepo. When the dir is rsync'd by devstack-gate it errors out with\npermission denied on the .testrepository dir. This commit fixes this\nby setting the ownership to be the same as the rest of the cached\nrepo.\n\nChange-Id: Ie12f3f0d824401f2ed53a77f8f307ea0f178854e\n""}]",0,149756,cfaf1f9daf0f76b1bdfd296574ab724632babb9d,9,4,2,5196,,,0,"Set proper ownership on tempest test repository

When the testrepository directory is created by calling the preseed
script the permissions are different from the rest of the tempest
repo. When the dir is rsync'd by devstack-gate it errors out with
permission denied on the .testrepository dir. This commit fixes this
by setting the ownership to be the same as the rest of the cached
repo.

Change-Id: Ie12f3f0d824401f2ed53a77f8f307ea0f178854e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/149756/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/scripts/prepare_node_devstack.sh'],1,a842769f4d9c94f6f724227effe8595466985f13,,sudo chown -R jenkins:jenkins $TEMPEST_DIR/.testrepository ,,2,0
openstack%2Fopenstack-ansible~juno~I27eb876a1a0110bfe5cb44150c7c2a96c4313f60,openstack/openstack-ansible,juno,I27eb876a1a0110bfe5cb44150c7c2a96c4313f60,Allow swift_vars to not be specified for swift_hosts,MERGED,2015-01-21 15:58:47.000000000,2015-01-23 22:17:13.000000000,2015-01-23 17:06:42.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 15:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/645aecfc4683c5414140f2f3807b0bc509601040', 'message': 'Allow swift_vars to not be specified for swift_hosts\n\n* Default swift_vars to an empty list when undefined\n* Allows default to work as expected.\n* Avoids failures based on swift_vars not existing (even though values were already defaulted)\n* Using default statements fail if the ""parent"" var doesn\'t exist.\n\nChange-Id: I27eb876a1a0110bfe5cb44150c7c2a96c4313f60\nCloses-Bug: #1402594\n(cherry picked from commit 7f595aa05784997896e9c9e5e57c9f6e60c54ab3)\n'}, {'number': 2, 'created': '2015-01-23 16:01:39.000000000', 'files': ['rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2d6adaa79de19dfb4215f8ab0e5c16feeaa2c323', 'message': 'Allow swift_vars to not be specified for swift_hosts\n\n* Default swift_vars to an empty list when undefined\n* Allows default to work as expected.\n* Avoids failures based on swift_vars not existing (even though values were already defaulted)\n* Using default statements fail if the ""parent"" var doesn\'t exist.\n\nChange-Id: I27eb876a1a0110bfe5cb44150c7c2a96c4313f60\nCloses-Bug: #1402594\n(cherry picked from commit 7f595aa05784997896e9c9e5e57c9f6e60c54ab3)\n'}]",0,148970,2d6adaa79de19dfb4215f8ab0e5c16feeaa2c323,14,6,2,6816,,,0,"Allow swift_vars to not be specified for swift_hosts

* Default swift_vars to an empty list when undefined
* Allows default to work as expected.
* Avoids failures based on swift_vars not existing (even though values were already defaulted)
* Using default statements fail if the ""parent"" var doesn't exist.

Change-Id: I27eb876a1a0110bfe5cb44150c7c2a96c4313f60
Closes-Bug: #1402594
(cherry picked from commit 7f595aa05784997896e9c9e5e57c9f6e60c54ab3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/148970/2 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml']",2,645aecfc4683c5414140f2f3807b0bc509601040,,"# We need swift_vars to exist for the ""swift_vars.drives is defined check"" to work - name: ""Set swift_vars if undefined"" set_fact: swift_vars: ""{}"" when: swift_vars is not defined ",,22,9
openstack%2Fmanila~master~Ib515c0b64b500712c5682c03fa69377eed8e038d,openstack/manila,master,Ib515c0b64b500712c5682c03fa69377eed8e038d,Do not use router for service instance with direct connect,MERGED,2015-01-19 11:49:51.000000000,2015-01-23 22:12:42.000000000,2015-01-23 22:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 11878}, {'_account_id': 14232}, {'_account_id': 14567}]","[{'number': 1, 'created': '2015-01-19 11:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/550d23b2ac5238404b2de12d8c9d566db683b609', 'message': 'Do not use router for service instance with direct connect\n\nFor Nova VMs we have two possible approaches for network access:\n1) using router\n2) using direct connection and two net interfaces.\n\nNow code of ""service_instance"" module requires tenant network to be attached\nto public router in both cases, but should do it only in first case.\n\nRemove dependency on router when config option\n\'connect_share_server_to_tenant_network\' is set to True.\n\nChange-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d\nCloses-Bug: #1410246\n'}, {'number': 2, 'created': '2015-01-20 07:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/12f5d1746432e9f1214542ab418cffd47446bad7', 'message': 'Do not use router for service instance with direct connect\n\nFor Nova VMs we have two possible approaches for network access:\n1) using router\n2) using direct connection and two net interfaces.\n\nNow code of ""service_instance"" module requires tenant network to be attached\nto public router in both cases, but should do it only in first case.\n\nRemove dependency on router when config option\n\'connect_share_server_to_tenant_network\' is set to True.\n\nChange-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d\nCloses-Bug: #1410246\n'}, {'number': 3, 'created': '2015-01-20 12:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a7ad58b094d4abfab655dfe9028bd0edffb8947a', 'message': 'Do not use router for service instance with direct connect\n\nFor Nova VMs we have two possible approaches for network access:\n1) using router\n2) using direct connection and two net interfaces.\n\nNow code of ""service_instance"" module requires tenant network to be attached\nto public router in both cases, but should do it only in first case.\n\nRemove dependency on router when config option\n\'connect_share_server_to_tenant_network\' is set to True.\n\nChange-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d\nCloses-Bug: #1410246\n'}, {'number': 4, 'created': '2015-01-21 21:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ddbc9abc69c6caaed49c1448a6f4b8b4447b0472', 'message': 'Do not use router for service instance with direct connect\n\nFor Nova VMs we have two possible approaches for network access:\n1) using router\n2) using direct connection and two net interfaces.\n\nNow code of ""service_instance"" module requires tenant network to be attached\nto public router in both cases, but should do it only in first case.\n\nRemove dependency on router when config option\n\'connect_share_server_to_tenant_network\' is set to True.\n\nChange-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d\nCloses-Bug: #1410246\n'}, {'number': 5, 'created': '2015-01-22 17:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dcfe4566dbc7899c8c9ed648c02de9071a1a6427', 'message': 'Do not use router for service instance with direct connect\n\nFor Nova VMs we have two possible approaches for network access:\n1) using router\n2) using direct connection and two net interfaces.\n\nNow code of ""service_instance"" module requires tenant network to be attached\nto public router in both cases, but should do it only in first case.\n\nRemove dependency on router when config option\n\'connect_share_server_to_tenant_network\' is set to True.\n\nChange-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d\nCloses-Bug: #1410246\n'}, {'number': 6, 'created': '2015-01-23 19:32:40.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/share/drivers/generic.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/efb4f1cdf5c62d90d54450e26971e6e596efe631', 'message': 'Do not use router for service instance with direct connect\n\nFor Nova VMs we have two possible approaches for network access:\n1) using router\n2) using direct connection and two net interfaces.\n\nNow code of ""service_instance"" module requires tenant network to be attached\nto public router in both cases, but should do it only in first case.\n\nRemove dependency on router when config option\n\'connect_share_server_to_tenant_network\' is set to True.\n\nChange-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d\nCloses-Bug: #1410246\n'}]",0,148230,efb4f1cdf5c62d90d54450e26971e6e596efe631,22,6,6,8851,,,0,"Do not use router for service instance with direct connect

For Nova VMs we have two possible approaches for network access:
1) using router
2) using direct connection and two net interfaces.

Now code of ""service_instance"" module requires tenant network to be attached
to public router in both cases, but should do it only in first case.

Remove dependency on router when config option
'connect_share_server_to_tenant_network' is set to True.

Change-Id: Ib515c0b64b500712c5682c03fa69377eed8e038d
Closes-Bug: #1410246
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/148230/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/share/drivers/generic.py']",3,550d23b2ac5238404b2de12d8c9d566db683b609,bug/1410246, server_details.get('router_id')), server_details['router_id']),56,75
openstack%2Fneutron-vpnaas~master~I6ee247e3c392fb42c18fe56cebdac3a596e124bb,openstack/neutron-vpnaas,master,I6ee247e3c392fb42c18fe56cebdac3a596e124bb,Updated from global requirements,MERGED,2015-01-23 18:44:23.000000000,2015-01-23 21:56:34.000000000,2015-01-23 21:56:34.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 6659}, {'_account_id': 7448}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-01-23 18:44:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1aef007a7b44b43c8ea7fb723ebf91866882762a', 'message': 'Updated from global requirements\n\nChange-Id: I6ee247e3c392fb42c18fe56cebdac3a596e124bb\n'}]",0,149713,1aef007a7b44b43c8ea7fb723ebf91866882762a,9,5,1,11131,,,0,"Updated from global requirements

Change-Id: I6ee247e3c392fb42c18fe56cebdac3a596e124bb
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/13/149713/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1aef007a7b44b43c8ea7fb723ebf91866882762a,openstack/requirements,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0",1,1
openstack%2Frequirements~master~I42acd9216e79515a78ca881ba0f744b99391a529,openstack/requirements,master,I42acd9216e79515a78ca881ba0f744b99391a529,remove gear from g-r,MERGED,2015-01-13 23:57:36.000000000,2015-01-23 21:50:27.000000000,2015-01-23 21:50:27.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-13 23:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b40cf9a6f8d9952260c352108d4fbca0fd6eaaa5', 'message': 'remove gear from g-r\n\nthis was added for tripleo-ci, which is not in\nprojects.txt. Presumably it was added because it was needed in the\nmirrors, but g-r no longer controls the mirrors.\n\nChange-Id: I42acd9216e79515a78ca881ba0f744b99391a529\n'}, {'number': 2, 'created': '2015-01-16 18:35:28.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d7fdb191e6e41c93c2f8da7589f7624ab034f4d', 'message': 'remove gear from g-r\n\nthis was added for tripleo-ci, which is not in\nprojects.txt. Presumably it was added because it was needed in the\nmirrors, but g-r no longer controls the mirrors.\n\nChange-Id: I42acd9216e79515a78ca881ba0f744b99391a529\n'}]",0,147021,9d7fdb191e6e41c93c2f8da7589f7624ab034f4d,11,3,2,2750,,,0,"remove gear from g-r

this was added for tripleo-ci, which is not in
projects.txt. Presumably it was added because it was needed in the
mirrors, but g-r no longer controls the mirrors.

Change-Id: I42acd9216e79515a78ca881ba0f744b99391a529
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/147021/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,b40cf9a6f8d9952260c352108d4fbca0fd6eaaa5,test_enhancements,,gear,0,1
openstack%2Frequirements~master~I26f50f95099e57c72e1e30cdf92cd14be293f720,openstack/requirements,master,I26f50f95099e57c72e1e30cdf92cd14be293f720,only do package installation once,MERGED,2015-01-15 20:54:15.000000000,2015-01-23 21:50:13.000000000,2015-01-23 21:50:11.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-15 20:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9a780bc9c1aaaefc90acb34770e8b6806a4b3815', 'message': 'only do package installation once\n\nrequirements only needs to test that requirements works once, this\nwill dramatically speed up the time to run the requirements job.\n\nChange-Id: I26f50f95099e57c72e1e30cdf92cd14be293f720\n'}, {'number': 2, 'created': '2015-01-16 13:23:50.000000000', 'files': ['tools/integration.sh'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f1c40d16efc483d1fead9d520549667e81a24a0e', 'message': 'only do package installation once\n\nrequirements only needs to test that requirements works once, this\nwill dramatically speed up the time to run the requirements job.\n\nChange-Id: I26f50f95099e57c72e1e30cdf92cd14be293f720\n'}]",0,147659,f1c40d16efc483d1fead9d520549667e81a24a0e,9,3,2,2750,,,0,"only do package installation once

requirements only needs to test that requirements works once, this
will dramatically speed up the time to run the requirements job.

Change-Id: I26f50f95099e57c72e1e30cdf92cd14be293f720
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/147659/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/integration.sh'],1,9a780bc9c1aaaefc90acb34770e8b6806a4b3815,test_enhancements, , # Test that we can make a tarball from scratch sdistvenv=$tmpdir/sdist mkvenv $sdistvenv cd $shortprojectdir $sdistvenv/bin/python setup.py sdist cd $tmpdir # Test that the tarball installs tarballvenv=$tmpdir/tarball mkvenv $tarballvenv $tarballvenv/bin/pip install $shortprojectdir/dist/*tar.gz # Test pip installing pipvenv=$tmpdir/pip mkvenv $pipvenv $pipvenv/bin/pip install git+file://$shortprojectdir ,2,18
openstack%2Fcinder~master~Ib6e613796eede751215db54696b353431caaafd1,openstack/cinder,master,Ib6e613796eede751215db54696b353431caaafd1,Fix HNAS driver confusing error message (iSCSI driver),MERGED,2015-01-14 21:24:31.000000000,2015-01-23 21:50:02.000000000,2015-01-23 21:50:00.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10058}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11903}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12088}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12924}, {'_account_id': 13636}]","[{'number': 1, 'created': '2015-01-14 21:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8d96cc451f74a26c4197e05147dbdbf73f26eda', 'message': ""Fix HNAS driver confusing error message (iSCSI driver)\n\nThe error message shown when the parser finds a parser error\nsays, 'file not found' which causes confusion on the user when\nhe/she needs to debug the real cause o the problem. This patch fix\nthis by testing first if the file exist and then throwing a proper error\nmessage.\n\nAlso corrects an error when appending the config_file_name to the message on\nthe NFS driver.\n\nCloses-Bug: #1403986\nChange-Id: Ib6e613796eede751215db54696b353431caaafd1\n""}, {'number': 2, 'created': '2015-01-15 12:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0a0301c88add0cb41524e60c84a7307b9e98ef1', 'message': ""Fix HNAS driver confusing error message (iSCSI driver)\n\nThe error message shown when the parser finds a parser error\nsays, 'file not found' which causes confusion on the user when\nhe/she needs to debug the real cause of the problem. This patch fixes\nthis by testing first if the file exist and then throwing a proper error\nmessage.\n\nAlso corrects an error when appending the config_file_name to the message on\nthe NFS driver.\n\nCloses-Bug: #1403986\nChange-Id: Ib6e613796eede751215db54696b353431caaafd1\n""}, {'number': 3, 'created': '2015-01-20 21:44:32.000000000', 'files': ['cinder/volume/drivers/hds/nfs.py', 'cinder/volume/drivers/hds/iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/450a35e21f6c102c35dc29e1f684d3588e005ac6', 'message': ""Fix HNAS driver confusing error message (iSCSI driver)\n\nThe error message shown when the parser finds a parser error\nsays, 'file not found' which causes confusion on the user when\nhe/she needs to debug the real cause of the problem. This patch fixes\nthis by testing first if the file exist and then throwing a proper error\nmessage.\n\nAlso corrects an error when appending the config_file_name to the message on\nthe NFS driver and fixes LOG messages according to oslo.i18n guidelines.\n\nCloses-Bug: #1403986\nChange-Id: Ib6e613796eede751215db54696b353431caaafd1\n""}]",16,147307,450a35e21f6c102c35dc29e1f684d3588e005ac6,48,24,3,10058,,,0,"Fix HNAS driver confusing error message (iSCSI driver)

The error message shown when the parser finds a parser error
says, 'file not found' which causes confusion on the user when
he/she needs to debug the real cause of the problem. This patch fixes
this by testing first if the file exist and then throwing a proper error
message.

Also corrects an error when appending the config_file_name to the message on
the NFS driver and fixes LOG messages according to oslo.i18n guidelines.

Closes-Bug: #1403986
Change-Id: Ib6e613796eede751215db54696b353431caaafd1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/147307/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hds/nfs.py', 'cinder/volume/drivers/hds/iscsi.py']",2,e8d96cc451f74a26c4197e05147dbdbf73f26eda,fix-parser-error-2,"import os if not os.access(xml_config_file, os.R_OK): raise exception.NotFound(message=_LE('Can\'t open config file: ' + xml_config_file) ) raise exception.ConfigNotFound( message=_LE('Error parsing config file: ' + xml_config_file))", raise exception.NotFound(message='config file not found: ' + xml_config_file),12,6
openstack%2Fbarbican~master~I39ee9162999ccbfd966e8ade16d8d1fc50dbdb82,openstack/barbican,master,I39ee9162999ccbfd966e8ade16d8d1fc50dbdb82,Drop Python 2.6 support,MERGED,2015-01-23 11:35:06.000000000,2015-01-23 21:45:37.000000000,2015-01-23 21:45:37.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7789}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-23 11:35:06.000000000', 'files': ['requirements.txt', 'setup.cfg', 'debian/control', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/e2355a90f728bfaed4f9fb37790eb641a9234d06', 'message': 'Drop Python 2.6 support\n\nPython 2.6 is not supported nor tested anymore, so remove all traces of\nit.\n\nChange-Id: I39ee9162999ccbfd966e8ade16d8d1fc50dbdb82\n'}]",0,149585,e2355a90f728bfaed4f9fb37790eb641a9234d06,19,5,1,1669,,,0,"Drop Python 2.6 support

Python 2.6 is not supported nor tested anymore, so remove all traces of
it.

Change-Id: I39ee9162999ccbfd966e8ade16d8d1fc50dbdb82
",git fetch https://review.opendev.org/openstack/barbican refs/changes/85/149585/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg', 'debian/control', 'doc/source/testing.rst']",4,e2355a90f728bfaed4f9fb37790eb641a9234d06,jd/py26,"Currently, we provide tox environments for Python 2.7. By default","Currently, we provide tox environments for Python 2.6 and 2.7. By default # Executes tests on Python 2.6 tox -e py26 ",2,7
openstack%2Fopenstack-ansible~juno~Ib358f1d7f15dfec0fda626a898a197e99adb2be1,openstack/openstack-ansible,juno,Ib358f1d7f15dfec0fda626a898a197e99adb2be1,Ensure that https is used to access the frozen repo for the AIO check,MERGED,2015-01-21 14:48:05.000000000,2015-01-23 21:38:32.000000000,2015-01-23 17:56:55.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 14:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fe6c6fcaf9804bda276623d5328330fab5ea8f8', 'message': 'Ensure that https is used to access the frozen repo for the AIO check\n\nChange-Id: Ib358f1d7f15dfec0fda626a898a197e99adb2be1\nRelated-Bug: #1409762\nRelated-Bug: #1411331\n'}, {'number': 2, 'created': '2015-01-23 16:01:09.000000000', 'files': ['scripts/os-ansible-aio-check.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1dd592ad6fbb62bd37d239419626035102c470d', 'message': 'Ensure that https is used to access the frozen repo for the AIO check\n\nChange-Id: Ib358f1d7f15dfec0fda626a898a197e99adb2be1\nRelated-Bug: #1409762\nRelated-Bug: #1411331\n'}]",0,148947,c1dd592ad6fbb62bd37d239419626035102c470d,15,5,2,6816,,,0,"Ensure that https is used to access the frozen repo for the AIO check

Change-Id: Ib358f1d7f15dfec0fda626a898a197e99adb2be1
Related-Bug: #1409762
Related-Bug: #1411331
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/148947/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/os-ansible-aio-check.sh'],1,3fe6c6fcaf9804bda276623d5328330fab5ea8f8,bug/1409762,"FROZEN_REPO_URL=${FROZEN_REPO_URL:-""https://mirror.rackspace.com/rackspaceprivatecloud""}","FROZEN_REPO_URL=${FROZEN_REPO_URL:-""http://mirror.rackspace.com/rackspaceprivatecloud""}",1,1
openstack%2Fec2-api~master~I3453eae75eec765d7201ba604d1a6732ae9784d3,openstack/ec2-api,master,I3453eae75eec765d7201ba604d1a6732ae9784d3,Fix test for OnCrashCleaner,MERGED,2015-01-23 13:17:05.000000000,2015-01-23 21:32:32.000000000,2015-01-23 21:32:32.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-23 13:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4e189e3c2451a062893260033ca2a77d10a6b0f0', 'message': 'Fix test for OnCrashCleaner\n\nChange-Id: I3453eae75eec765d7201ba604d1a6732ae9784d3\n'}, {'number': 2, 'created': '2015-01-23 14:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c65446adbae9104d692d7ad80479c0edc724df91', 'message': 'Fix test for OnCrashCleaner\n\nChange-Id: I3453eae75eec765d7201ba604d1a6732ae9784d3\n'}, {'number': 3, 'created': '2015-01-23 15:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/aa51c9f802eff37034aa8918c00428325e4cea5a', 'message': 'Fix test for OnCrashCleaner\n\nChange-Id: I3453eae75eec765d7201ba604d1a6732ae9784d3\n'}, {'number': 4, 'created': '2015-01-23 16:27:41.000000000', 'files': ['ec2api/tests/test_common.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9346c9cbe1932da1cf39403f8dc0fb704450bb55', 'message': 'Fix test for OnCrashCleaner\n\nChange-Id: I3453eae75eec765d7201ba604d1a6732ae9784d3\n'}]",0,149617,9346c9cbe1932da1cf39403f8dc0fb704450bb55,12,3,4,10224,,,0,"Fix test for OnCrashCleaner

Change-Id: I3453eae75eec765d7201ba604d1a6732ae9784d3
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/17/149617/4 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/tests/test_common.py'],1,4e189e3c2451a062893260033ca2a77d10a6b0f0,master," self.assertIn('ec2api.tests.test_common.FakeCrasherClass.' 'fake_crashed_clean_method', log.warning.mock_calls[0][1][0]) self.assertIn(""'args', 666, {'key': 'value'}, "" ""i=666, s='args', d={'key': 'value'}"", log.warning.mock_calls[0][1][0]) self.assertIn('ec2api.tests.test_common.' 'fake_standalone_crashed_clean_method', log.warning.mock_calls[1][1][0]) self.assertIn('ec2api.tests.test_common.FakeCrasherClass', log.warning.mock_calls[2][1][0])"," self.assertTrue(log.warning.mock_calls[0][1], 'ec2api.tests.test_common.FakeCrasherClass.' 'fake_crashed_clean_method') self.assertTrue(log.warning.mock_calls[0][1], ""'args', 666, {'key': 'value'},"" ""s='args', i=666, d={'key': 'value'}"") self.assertTrue(log.warning.mock_calls[1][1], 'ec2api.tests.test_common.FakeCrasherClass') self.assertTrue(log.warning.mock_calls[2][1], 'ec2api.tests.test_common.' 'fake_standalone_crashed_clean_method')",11,11
openstack%2Fec2-api~master~I50ca1ab958d6173dca589d7695fd6332738df7b8,openstack/ec2-api,master,I50ca1ab958d6173dca589d7695fd6332738df7b8,Implement some absent tests for instances,MERGED,2015-01-23 13:17:05.000000000,2015-01-23 21:32:25.000000000,2015-01-23 21:32:25.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-23 13:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/355f05418a8c36987a4cd3046ea4ccc45fd02dca', 'message': 'Implement some absent tests for instances\n\nChange-Id: I50ca1ab958d6173dca589d7695fd6332738df7b8\n'}, {'number': 2, 'created': '2015-01-23 14:08:04.000000000', 'files': ['ec2api/api/instance.py', 'ec2api/tests/test_instance.py', 'ec2api/tests/test_ec2utils.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4de3953ab34ee42be9ed62180e925683a03d2063', 'message': 'Implement some absent tests for instances\n\nChange-Id: I50ca1ab958d6173dca589d7695fd6332738df7b8\n'}]",0,149616,4de3953ab34ee42be9ed62180e925683a03d2063,8,3,2,10224,,,0,"Implement some absent tests for instances

Change-Id: I50ca1ab958d6173dca589d7695fd6332738df7b8
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/16/149616/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/instance.py', 'ec2api/tests/test_instance.py', 'ec2api/tests/test_ec2utils.py']",3,355f05418a8c36987a4cd3046ea4ccc45fd02dca,master," check_not_found('ari', exception.InvalidAMIIDNotFound) check_not_found('aki', exception.InvalidAMIIDNotFound) check_not_found('aki', exception.InvalidAMIIDNotFound) check_not_found('ari', exception.InvalidAMIIDNotFound)",,162,11
openstack%2Fkeystone-specs~master~I535e40e1cb9506b013bb9d90882ef94b182c7d06,openstack/keystone-specs,master,I535e40e1cb9506b013bb9d90882ef94b182c7d06,Keystone Client Auth Plugin for token or user/pass,ABANDONED,2014-10-13 15:24:06.000000000,2015-01-23 21:32:15.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 7186}, {'_account_id': 8736}, {'_account_id': 8978}]","[{'number': 1, 'created': '2014-10-13 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1dc0415b5a85038e7a1d9f5f7e4372da58b0bdcd', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}, {'number': 2, 'created': '2014-10-13 15:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/c939baf5f3d326b2dabd446c559224b0fa924956', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nbp/uber-plugin\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}, {'number': 3, 'created': '2014-10-13 15:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ae5e5b877f450e1fe83a66bca53d116168e06ce0', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}, {'number': 4, 'created': '2014-10-13 20:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1902cde17978603e82099118ac6dcf8b6a2f73db', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}, {'number': 5, 'created': '2014-10-13 20:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/29bd0d43684cd633e379e8b1779f6dd699733f04', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}, {'number': 6, 'created': '2014-10-13 21:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/110ad1e9e337c6bd604b543b132e6155973988fb', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}, {'number': 7, 'created': '2014-11-05 12:38:32.000000000', 'files': ['specs/keystoneclient/template.rst', 'doc/source/index.rst', 'specs/keystoneclient/uber-plugin.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/cd114962dc5ff7d19620e3389e6c17c70902b2af', 'message': 'Keystone Client Auth Plugin for token or user/pass\n\nCreate a authorization plugin that handles both token or user/pass\nauthorization transparently for the user.\n\nChange-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06\n'}]",15,127993,cd114962dc5ff7d19620e3389e6c17c70902b2af,22,7,7,8736,,,0,"Keystone Client Auth Plugin for token or user/pass

Create a authorization plugin that handles both token or user/pass
authorization transparently for the user.

Change-Id: I535e40e1cb9506b013bb9d90882ef94b182c7d06
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/93/127993/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystoneclient/uber-plugin.rst'],1,1dc0415b5a85038e7a1d9f5f7e4372da58b0bdcd,uber-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================== Keystone Client Auth Plugin for token or user/pass ================================================== `bp uber-plugin <https://blueprints.launchpad.net/keystone/+spec/uber-plugin>`_ Create a authorization plugin for the keystone client that handles both token or user/pass authorization transparently for the user. If the user provides a token, the plugin will will use token authorization. If the user does not provide a token, the plugin will use user/pass authorization. The plugin will automatically revert to user/pass authentication when the token expires. * To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org Problem Description =================== Currently, the user has to manage being smart about managing authorization information. It would be nice if the user could just select a generic authorization plugin like 'v3identity' and give what information they might have. Proposed Change =============== Create a plugin that combines token and user/pass authorization similar to this: https://review.openstack.org/#/c/124830/ Alternatives ------------ The current proposal is as simple as possible and it reuses code from the token and user/pass plugins. It could just copy the code. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- User experience is simplified since they do not have to select a plugin based on what information is available. Performance Impact ------------------ None. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: * thowe-g (Terry Howe <thowe@hp.com>) Work Items ---------- Create the plugin combining token and user/pass authentication. Dependencies ============ None Documentation Impact ==================== The plugin should be mentioned in documentation for the keystone client. References ========== * `Blueprint <https://blueprints.launchpad.net/keystone/+spec/uber-plugin>`_ * `Rough Proposal <https://review.openstack.org/#/c/124830/>`_ ",,109,0
openstack%2Fpython-keystoneclient~master~I31166828763dd3728307c1efc959fcd9f792fe2c,openstack/python-keystoneclient,master,I31166828763dd3728307c1efc959fcd9f792fe2c,Identity plugin that manages passwords and tokens,ABANDONED,2014-09-29 18:50:33.000000000,2015-01-23 21:32:01.000000000,,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 7186}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8736}]","[{'number': 1, 'created': '2014-09-29 18:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ce5e3c9a4ffd6d68e4468364afd3f61934d7e967', 'message': ""Identity plugin that manages passwords and tokens\n\nCreate an uber Identity plugin that will revert to password authentication\nwhen the token expires.  The user doesn't need to manage the plugin type.\n\nChange-Id: I31166828763dd3728307c1efc959fcd9f792fe2c\n""}, {'number': 2, 'created': '2014-09-29 21:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/b393d87dad06061f26fccf83f203852f8e64ef3f', 'message': ""Identity plugin that manages passwords and tokens\n\nCreate an uber Identity plugin that will revert to password authentication\nwhen the token expires.  The user doesn't need to manage the plugin type.\n\nChange-Id: I31166828763dd3728307c1efc959fcd9f792fe2c\n""}, {'number': 3, 'created': '2014-09-30 15:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/74c555b1faa50fe19e68f0296864cbfbe726c0a3', 'message': ""Identity plugin that manages passwords and tokens\n\nCreate an uber Identity plugin that will revert to password authentication\nwhen the token expires.  The user doesn't need to manage the plugin type.\n\nChange-Id: I31166828763dd3728307c1efc959fcd9f792fe2c\n""}, {'number': 4, 'created': '2014-10-13 15:34:23.000000000', 'files': ['keystoneclient/auth/identity/base.py', 'setup.cfg', 'keystoneclient/auth/identity/v3.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/67166d68ea06ced293542f4600748616210c68f1', 'message': ""Identity plugin that manages passwords and tokens\n\nCreate an uber Identity plugin that will revert to password authentication\nwhen the token expires.  The user doesn't need to manage the plugin type.\n\nImplements: blueprint uber-plugin\n\nChange-Id: I31166828763dd3728307c1efc959fcd9f792fe2c\n""}]",5,124830,67166d68ea06ced293542f4600748616210c68f1,19,6,4,8736,,,0,"Identity plugin that manages passwords and tokens

Create an uber Identity plugin that will revert to password authentication
when the token expires.  The user doesn't need to manage the plugin type.

Implements: blueprint uber-plugin

Change-Id: I31166828763dd3728307c1efc959fcd9f792fe2c
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/30/124830/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/auth/identity/base.py', 'setup.cfg', 'keystoneclient/auth/identity/v3.py']",3,ce5e3c9a4ffd6d68e4468364afd3f61934d7e967,bp/uber-plugin," super(Auth, self).__init__(auth_url=auth_url) class IdentityMethod(AuthMethod): _method_parameters = (PasswordMethod._method_parameters + TokenMethod._method_parameters) def __init__(self, **kwargs): """"""Construct Token and/or User/Password based authentication method."""""" super(IdentityMethod, self).__init__(**kwargs) if self.token: token_kwargs = TokenMethod._extract_kwargs(kwargs) self.token_method = TokenMethod(**token_kwargs) else: self.token_method = None password_kwargs = PasswordMethod._extract_kwargs(kwargs) self.password_method = PasswordMethod(**password_kwargs) def invalidate(self): self.token_method = None def get_auth_data(self, session, auth, headers, **kwargs): if self.token_method: method = self.token_method.get_auth_data else: method = self.password_method.get_auth_data return method(session, auth, headers, **kwargs) class Identity(AuthConstructor): _auth_method_class = IdentityMethod def invalidate(self): if super(Identity, self).invalidate(): self.auth_methods[0].invalidate() return True return False @classmethod def get_options(cls): options = super(Identity, cls).get_options() options.extend(Token.get_options()) options.extend(Password.get_options()) return options"," super(Auth, self).__init__(auth_url=auth_url, reauthenticate=reauthenticate)",47,2
openstack%2Fheat-specs~master~I94d4893a31009703c4a4931abbb255aec16b2b57,openstack/heat-specs,master,I94d4893a31009703c4a4931abbb255aec16b2b57,Decouple AWS and OS resources code,MERGED,2014-12-09 02:38:39.000000000,2015-01-23 21:28:17.000000000,2015-01-23 21:28:16.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7193}, {'_account_id': 7256}, {'_account_id': 8289}]","[{'number': 1, 'created': '2014-12-09 02:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/1b02404183f7d9d50696a74789ffb6936d741d4c', 'message': 'Reorganize WaitConditions code\n\nIn order to reorganize the resources code structure,\nto make AWS and OS resources decoupled first.\n\nSpecification blueprint reorg-wait-condition-code\n\nChange-Id: I94d4893a31009703c4a4931abbb255aec16b2b57\n'}, {'number': 2, 'created': '2014-12-09 04:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/5e6cba2e05d438a9ea7efde01d8349a9085ed0d6', 'message': 'Reorganize WaitConditions code\n\nIn order to reorganize the resources code structure,\nto make AWS and OS resources decoupled first.\n\nSpecification blueprint reorg-wait-condition-code\n\nChange-Id: I94d4893a31009703c4a4931abbb255aec16b2b57\n'}, {'number': 3, 'created': '2014-12-09 07:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/0a086669991f9d0b09106dc67004b32c57870801', 'message': 'Reorganize WaitConditions code\n\nIn order to reorganize the resources code structure,\nto make AWS and OS resources decoupled first.\n\nSpecification blueprint reorg-wait-condition-code\n\nChange-Id: I94d4893a31009703c4a4931abbb255aec16b2b57\n'}, {'number': 4, 'created': '2014-12-09 08:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/a531ef1ab0dab0793cc96b0721410ffe8a431503', 'message': 'Reorganize WaitConditions code\n\nIn order to reorganize the resources code structure,\nto make AWS and OS resources decoupled first.\n\nSpecification blueprint reorg-wait-condition-code\n\nChange-Id: I94d4893a31009703c4a4931abbb255aec16b2b57\n'}, {'number': 5, 'created': '2014-12-12 09:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/0c07721cde5ddd0d6ea018f9f2e53aafa7b220f5', 'message': 'Decouple AWS and OS resources code\n\nIn order to reorganize the resources code structure,\nto make AWS and OS resources decoupled first.\n\nSpecification blueprint decouple-aws-os-resources\n\nChange-Id: I94d4893a31009703c4a4931abbb255aec16b2b57\n'}, {'number': 6, 'created': '2014-12-22 08:49:34.000000000', 'files': ['specs/kilo/decouple-aws-os-resources.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/74db2c2292e50a55150018dd32f25cbdf6b64a17', 'message': 'Decouple AWS and OS resources code\n\nIn order to reorganize the resources code structure,\nto make AWS and OS resources decoupled first.\n\nSpecification blueprint decouple-aws-os-resources\n\nChange-Id: I94d4893a31009703c4a4931abbb255aec16b2b57\n'}]",9,140207,74db2c2292e50a55150018dd32f25cbdf6b64a17,22,10,6,8289,,,0,"Decouple AWS and OS resources code

In order to reorganize the resources code structure,
to make AWS and OS resources decoupled first.

Specification blueprint decouple-aws-os-resources

Change-Id: I94d4893a31009703c4a4931abbb255aec16b2b57
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/07/140207/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/reorganize-waitcondition-code.rst'],1,1b02404183f7d9d50696a74789ffb6936d741d4c,bp/decouple-aws-os-resources,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ================================ Reorganize WaitConditions code ================================ Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/heat/+spec/reorg-wait-condition-code Reorganize the waitcondition code to make AWS and OS resources decoupled. Problem description =================== The code structure of the resources folder is in some confusion. https://blueprints.launchpad.net/heat/+spec/reorganize-resources-code-structure There is too much coupling between AWS and OS resources for reorganizing to be possible, for example WaitConditions. Proposed change =============== The new code structure will be:: heat |----engine |----resources |----aws |----wait_condition.py |----openstack |----wait_condition.py |----wait_condition.py * module /aws/wait_condition.py includes resources AWS::CloudFormation::WaitCondition and AWS::CloudFormation::WaitConditionHandle. * module /openstack/wait_condition.py includes resources OS::Heat::WaitCondition, OS::Heat::WaitConditionHandle and OS::Heat::UpdateWaitConditionHandle. * /resources/wait_condition.py is the base module. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: huangtianhua <huangtianhua@huawei.com> Milestones ---------- Target Milestone for completion: Kilo-1 Work Items ---------- * Put the AWS resources to separate module resources/aws/wait_condition.py * Put the OpenStack resources to separate module resources/openstack/wait_condition.py Dependencies ============ None ",,88,0
openstack%2Fbarbican~master~I0836f30c8ea23eff515ff7d5f944f5cf85ebb5e8,openstack/barbican,master,I0836f30c8ea23eff515ff7d5f944f5cf85ebb5e8,Fix content type validation if missing payload,MERGED,2015-01-23 11:12:06.000000000,2015-01-23 21:10:54.000000000,2015-01-23 21:10:54.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11716}]","[{'number': 1, 'created': '2015-01-23 11:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c504ab8b1b3be85a9ca2b0113ec147bbf2416116', 'message': ""Fix content type validation if missing payload\n\nIf no payload is provided, our API specifies that the payload's\ncontent type will be optional, but this doesn't mean that it will not\nbe validated. This commit disables clients putting unsupported content\ntypes.\n\nCloses-Bug: #1376490\nChange-Id: I0836f30c8ea23eff515ff7d5f944f5cf85ebb5e8\n""}, {'number': 2, 'created': '2015-01-23 14:23:17.000000000', 'files': ['barbican/common/validators.py', 'functionaltests/api/v1/functional/test_orders.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b4a785be1d5c7a6c43f4aa0ba65a7147aa161f37', 'message': ""Fix content type validation if missing payload\n\nIf no payload is provided, our API specifies that the payload's\ncontent type will be optional, but this doesn't mean that it will not\nbe validated. This commit disables clients putting unsupported content\ntypes.\n\nCloses-Bug: #1376490\nChange-Id: I0836f30c8ea23eff515ff7d5f944f5cf85ebb5e8\n""}]",0,149570,b4a785be1d5c7a6c43f4aa0ba65a7147aa161f37,19,14,2,10873,,,0,"Fix content type validation if missing payload

If no payload is provided, our API specifies that the payload's
content type will be optional, but this doesn't mean that it will not
be validated. This commit disables clients putting unsupported content
types.

Closes-Bug: #1376490
Change-Id: I0836f30c8ea23eff515ff7d5f944f5cf85ebb5e8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/70/149570/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/validators.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/api/test_resources.py']",3,c504ab8b1b3be85a9ca2b0113ec147bbf2416116,bug/1376490," 'payload_content_type': 'application/octet-stream'} def test_should_raise_add_new_order_with_unsupported_content_type(self): self.meta[""payload_content_type""] = 'unsupported type' resp = self.app.post_json( '/orders/', self.key_order_req, expect_errors=True, ) self.assertEqual(resp.status_int, 400) ", 'payload_content_type': 'application/octet-stream'},30,11
openstack%2Fbarbican~master~Ib6dd5aa79198463b5db2541d85de8e67b400212b,openstack/barbican,master,Ib6dd5aa79198463b5db2541d85de8e67b400212b,Resolve intermittent HTTP 404 in devstack gate,MERGED,2015-01-12 18:51:41.000000000,2015-01-23 21:10:28.000000000,2015-01-23 21:10:27.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-12 18:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5c1a125d65cf8e1c8c363afec6c44c02a79177da', 'message': ""Added debugging to help diagnost json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 2, 'created': '2015-01-12 20:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7b9638b920bd9411d46ab73be74c4a4dbe6dbe05', 'message': ""Added debugging to help diagnost json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 3, 'created': '2015-01-12 21:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d1abcf45fc1a0d752d83039d8ce4354b6cc7ddbe', 'message': ""Added debugging to help diagnose json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 4, 'created': '2015-01-12 22:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3f750d4d1e8db897189e858b9bf07a1c16557274', 'message': ""Added debugging to help diagnose json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 5, 'created': '2015-01-19 15:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3dafce7b78a7a47d6c78c98c382aa3251f4473c8', 'message': ""Added debugging to help diagnose json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 6, 'created': '2015-01-19 17:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/56168377f43b71e6685e2b0fe286fc77b4896e3f', 'message': ""Added debugging to help diagnose json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 7, 'created': '2015-01-20 11:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c838e93af9763ae71efad32650a6bd223270aef2', 'message': ""** DO NOT MERGE **\n\nAdded debugging to help diagnose json decode issue\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 8, 'created': '2015-01-20 21:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a76e23b842d6115140a95c30095a86bb759c48c4', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 9, 'created': '2015-01-21 15:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4de3527da20761cc149a491d1c9e5926544a8d29', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 10, 'created': '2015-01-21 16:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7e253fd38d2049e713a3f233dbafefe9ce12dfbd', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 11, 'created': '2015-01-21 18:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0fd4a4adedff99ada1bd797b978b21a14f3f8404', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 12, 'created': '2015-01-21 20:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/94e58fccddd5810ec341bffad9eef9be4478d448', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 13, 'created': '2015-01-22 15:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0e12da7138b41a443706b1fca0e624b4f9862097', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 14, 'created': '2015-01-22 16:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9156002913e2ebe71d7746cefd5243ad97df49ea', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 15, 'created': '2015-01-23 00:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/670f50607cb8d8ec21efc701091d6041e32eb61e', 'message': ""** DO NOT MERGE **\n\nPlease don't review this.  Don't even look at it.  Run away\nand pretend it doesn't exist.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n""}, {'number': 16, 'created': '2015-01-23 00:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a6f8d9fc30e8b5017c3bc4489ce8ee71cfd551c6', 'message': '** DO NOT MERGE **\n\nAn intermittent 404 would occur because of the way that\nTempest keystone v3 authprovider was resolving base URLs.\nBarbican wasn\'t passing in a region code, and the tempest\nv3 auth provider was picking the ""first"" entry in the\nentrypoint list, which was often the Barbican admin URL\n(port 9312).  Trying to use that port for normal Barbican\nReST calls resulted in the http 404.  This fix adds the\nregion to the devstack config and uses that on the filter\nthat Barbican gives to Tempest to find the correct\nBarbican endpoint.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n'}, {'number': 17, 'created': '2015-01-23 17:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/db006cf3f87c6f6d42e6d480729526d055166cd6', 'message': '** DO NOT MERGE **\n\nAn intermittent 404 would occur because of the way that\nTempest keystone v3 authprovider was resolving base URLs.\nBarbican wasn\'t passing in a region code, and the tempest\nv3 auth provider was picking the ""first"" entry in the\nentrypoint list, which was often the Barbican admin URL\n(port 9312).  Trying to use that port for normal Barbican\nReST calls resulted in the http 404.  This fix adds the\nregion to the devstack config and uses that on the filter\nthat Barbican gives to Tempest to find the correct\nBarbican endpoint.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n'}, {'number': 18, 'created': '2015-01-23 17:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f3207d58ff2cac85589b58d4c0deb090787e7274', 'message': 'Resolve intermittent HTTP 404 in devstack gate\n\nAn intermittent 404 would occur because of the way that\nTempest keystone v3 authprovider was resolving base URLs.\nBarbican wasn\'t passing in a region code, and the tempest\nv3 auth provider was picking the ""first"" entry in the\nentrypoint list, which was often the Barbican admin URL\n(port 9312).  Trying to use that port for normal Barbican\nReST calls resulted in the http 404.  This fix adds the\nregion to the devstack config and uses that on the filter\nthat Barbican gives to Tempest to find the correct\nBarbican endpoint.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n'}, {'number': 19, 'created': '2015-01-23 18:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/822b09b93d8c0151a1c14d3200764e5c2b6df705', 'message': 'Resolve intermittent HTTP 404 in devstack gate\n\nAn intermittent 404 would occur because of the way that\nTempest keystone v3 authprovider was resolving base URLs.\nBarbican wasn\'t passing in a region code, and the tempest\nv3 auth provider was picking the ""first"" entry in the\nentrypoint list, which was often the Barbican admin URL\n(port 9312).  Trying to use that port for normal Barbican\nReST calls resulted in the http 404.  This fix adds the\nregion to the devstack config and uses that on the filter\nthat Barbican gives to Tempest to find the correct\nBarbican endpoint.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n'}, {'number': 20, 'created': '2015-01-23 18:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/33ec0e477a6b879dc94517bf5d3bbaa67ec919e5', 'message': 'Resolve intermittent HTTP 404 in devstack gate\n\nAn intermittent 404 would occur because of the way that\nTempest keystone v3 authprovider was resolving base URLs.\nBarbican wasn\'t passing in a region code, and the tempest\nv3 auth provider was picking the ""first"" entry in the\nentrypoint list, which was often the Barbican admin URL\n(port 9312).  Trying to use that port for normal Barbican\nReST calls resulted in the http 404.  This fix adds the\nregion to the devstack config and uses that on the filter\nthat Barbican gives to Tempest to find the correct\nBarbican endpoint.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\n'}, {'number': 21, 'created': '2015-01-23 18:19:03.000000000', 'files': ['functionaltests/common/client.py', 'etc/dev_tempest.conf'], 'web_link': 'https://opendev.org/openstack/barbican/commit/08726233da35481c540a4a79ef1b988ab989e0dd', 'message': 'Resolve intermittent HTTP 404 in devstack gate\n\nAn intermittent 404 would occur because of the way that\nTempest keystone v3 authprovider was resolving base URLs.\nBarbican wasn\'t passing in a region code, and the tempest\nv3 auth provider was picking the ""first"" entry in the\nentrypoint list, which was often the Barbican admin URL\n(port 9312).  Trying to use that port for normal Barbican\nReST calls resulted in the http 404.  This fix adds the\nregion to the devstack config and uses that on the filter\nthat Barbican gives to Tempest to find the correct\nBarbican endpoint.\n\nChange-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b\nCloses-Bug: #1407767\n'}]",2,146608,08726233da35481c540a4a79ef1b988ab989e0dd,73,6,21,9234,,,0,"Resolve intermittent HTTP 404 in devstack gate

An intermittent 404 would occur because of the way that
Tempest keystone v3 authprovider was resolving base URLs.
Barbican wasn't passing in a region code, and the tempest
v3 auth provider was picking the ""first"" entry in the
entrypoint list, which was often the Barbican admin URL
(port 9312).  Trying to use that port for normal Barbican
ReST calls resulted in the http 404.  This fix adds the
region to the devstack config and uses that on the filter
that Barbican gives to Tempest to find the correct
Barbican endpoint.

Change-Id: Ib6dd5aa79198463b5db2541d85de8e67b400212b
Closes-Bug: #1407767
",git fetch https://review.opendev.org/openstack/barbican refs/changes/08/146608/19 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/common/client.py'],1,5c1a125d65cf8e1c8c363afec6c44c02a79177da,bug/1407767,"import httplibimport logging as fred self._enable_debug_output() def _enable_debug_output(self): # debuglevel non-zero means write debug info, so its not really # a level but rather an on/off switch httplib.HTTPConnection.debuglevel = 1 # setup verbose logging for requests fred.basicConfig() fred.getLogger().setLevel(fred.DEBUG) requests_log = fred.getLogger(""requests.packages.urllib3"") requests_log.setLevel(fred.DEBUG) requests_log.propagate = True",,16,0
openstack%2Foslo.middleware~master~I39149056daeeb27428b938fb9cd7278cd42f2444,openstack/oslo.middleware,master,I39149056daeeb27428b938fb9cd7278cd42f2444,Move i18n module to a private name,MERGED,2015-01-22 01:02:20.000000000,2015-01-23 21:07:57.000000000,2015-01-23 21:07:55.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-01-22 01:02:20.000000000', 'files': ['oslo_middleware/catch_errors.py', 'oslo_middleware/sizelimit.py', 'oslo_middleware/_i18n.py', 'tox.ini', 'oslo_middleware/healthcheck/disable_by_file.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/3bc703b823969a08fc88bfb20e3d2440927dadb7', 'message': 'Move i18n module to a private name\n\nThe i18n module for this library is private to the library and should\nnever be used by outside code. Rename the module to reflect this.\n\nChange-Id: I39149056daeeb27428b938fb9cd7278cd42f2444\n'}]",0,149103,3bc703b823969a08fc88bfb20e3d2440927dadb7,7,3,1,2472,,,0,"Move i18n module to a private name

The i18n module for this library is private to the library and should
never be used by outside code. Rename the module to reflect this.

Change-Id: I39149056daeeb27428b938fb9cd7278cd42f2444
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/03/149103/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/catch_errors.py', 'oslo_middleware/sizelimit.py', 'oslo_middleware/_i18n.py', 'tox.ini', 'oslo_middleware/healthcheck/disable_by_file.py']",5,3bc703b823969a08fc88bfb20e3d2440927dadb7,bp/drop-namespace-packages,from oslo_middleware._i18n import _LW,from oslo_middleware.i18n import _LW,4,4
openstack%2Foslo.middleware~master~I4ec9b2a310471e4e07867073e9577731ac34027d,openstack/oslo.middleware,master,I4ec9b2a310471e4e07867073e9577731ac34027d,Update Oslo imports to remove namespace package,MERGED,2015-01-22 00:58:03.000000000,2015-01-23 21:07:49.000000000,2015-01-23 21:07:48.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-01-22 00:58:03.000000000', 'files': ['oslo_middleware/sizelimit.py', 'oslo_middleware/i18n.py', 'oslo_middleware/tests/test_sizelimit.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/c46b2c684ef487fe0544f978eff7380ef42a40ba', 'message': 'Update Oslo imports to remove namespace package\n\nChange-Id: I4ec9b2a310471e4e07867073e9577731ac34027d\nBlueprint: drop-namespace-packages\n'}]",0,149099,c46b2c684ef487fe0544f978eff7380ef42a40ba,7,3,1,2472,,,0,"Update Oslo imports to remove namespace package

Change-Id: I4ec9b2a310471e4e07867073e9577731ac34027d
Blueprint: drop-namespace-packages
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/99/149099/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/sizelimit.py', 'oslo_middleware/i18n.py', 'oslo_middleware/tests/test_sizelimit.py']",3,c46b2c684ef487fe0544f978eff7380ef42a40ba,bp/drop-namespace-packages,from oslo_config import fixture as config,from oslo.config import fixture as config,5,5
openstack%2Fcinder~stable%2Fjuno~I880b93e5e3608b63872e6937d02482a3fe368efd,openstack/cinder,stable/juno,I880b93e5e3608b63872e6937d02482a3fe368efd,Set 'driver_volume_type' to 'gpfs',MERGED,2015-01-19 05:59:54.000000000,2015-01-23 21:01:36.000000000,2015-01-23 21:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1420}, {'_account_id': 1955}, {'_account_id': 7198}, {'_account_id': 9067}, {'_account_id': 9656}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12927}, {'_account_id': 13636}]","[{'number': 1, 'created': '2015-01-19 05:59:54.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/67cdc1fdcfa0d94edb27b4015bc81805ca6abf29', 'message': ""Set 'driver_volume_type' to 'gpfs'\n\nnova LibvirtGPFSVolumeDriver class implemented recently for GPFS volume\ndriver expects the 'driver_volume_type' as 'gpfs' from the Cinder GPFS\ndriver. Making the required change in the GPFS cinder driver to\ncomplete the fix.\n\nChange-Id: I880b93e5e3608b63872e6937d02482a3fe368efd\nRelated-Bug: #1405044\n(cherry picked from commit bd2b492fff5ef709b26f94cd0eec96565721fa8c)\n""}]",0,148173,67cdc1fdcfa0d94edb27b4015bc81805ca6abf29,18,14,1,9067,,,0,"Set 'driver_volume_type' to 'gpfs'

nova LibvirtGPFSVolumeDriver class implemented recently for GPFS volume
driver expects the 'driver_volume_type' as 'gpfs' from the Cinder GPFS
driver. Making the required change in the GPFS cinder driver to
complete the fix.

Change-Id: I880b93e5e3608b63872e6937d02482a3fe368efd
Related-Bug: #1405044
(cherry picked from commit bd2b492fff5ef709b26f94cd0eec96565721fa8c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/148173/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/test_gpfs.py']",2,67cdc1fdcfa0d94edb27b4015bc81805ca6abf29,," self.assertEqual(data['driver_volume_type'], 'gpfs')",,2,1
openstack%2Fceilometer~master~I13bca29c3393baa85d2e121af2c065321d32b39a,openstack/ceilometer,master,I13bca29c3393baa85d2e121af2c065321d32b39a,Fix Opencontrail pollster according the API changes,MERGED,2014-07-04 14:53:44.000000000,2015-01-23 21:01:08.000000000,2015-01-23 21:01:07.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7002}, {'_account_id': 7052}, {'_account_id': 7141}, {'_account_id': 7729}, {'_account_id': 8052}, {'_account_id': 8290}, {'_account_id': 8871}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 11564}, {'_account_id': 11758}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-07-04 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/150cb55488d56e4d163b4a0a6280048a50771861', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337836\n""}, {'number': 2, 'created': '2014-07-07 09:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6d5c42304af163581cbd6843b8e2dbf00473ed74', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337836\n""}, {'number': 3, 'created': '2014-07-07 11:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a72f47314c13ab93e759ce73fc4a46d6544eec2a', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337836\n""}, {'number': 4, 'created': '2014-09-15 07:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4bd75bc9bbdc3a98094929d0fe5ca0403c9bd340', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337837\n""}, {'number': 5, 'created': '2014-09-23 09:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e20c9b4d771b2b0f22cf33d4d269192bbb912024', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337837\n""}, {'number': 6, 'created': '2014-09-25 10:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/150718336145bfd74f529eff0862d5af00435978', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337837\n""}, {'number': 7, 'created': '2014-11-26 10:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2fa3f52d672f3fa0ce1d790209e6c679885f1c46', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337837\n""}, {'number': 8, 'created': '2015-01-21 09:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0123f064f929010bea9a4c2cc49c2e1781ccdad0', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337837\n""}, {'number': 9, 'created': '2015-01-21 11:05:21.000000000', 'files': ['ceilometer/tests/network/statistics/opencontrail/test_client.py', 'ceilometer/tests/network/statistics/opencontrail/test_driver.py', 'ceilometer/network/statistics/opencontrail/client.py', 'ceilometer/network/statistics/opencontrail/driver.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ac7800b07fbab0ca25ce300fd16742e3b69abd83', 'message': ""Fix Opencontrail pollster according the API changes\n\nWith this patch the Opencontrail pollster now uses\nthe Analytics API instead of the Web UI API proxy.\nSince the Analytics API doesn't implement any\nauthentication mechanism, this patch removes\nthe previous authentication code.\n\nAlso fix the pollster according to the API changes.\nNew UT have been added for new resources that can be\nretrieved.\n\nChange-Id: I13bca29c3393baa85d2e121af2c065321d32b39a\nCloses-bug: #1337837\n""}]",15,104913,ac7800b07fbab0ca25ce300fd16742e3b69abd83,68,17,9,7141,,,0,"Fix Opencontrail pollster according the API changes

With this patch the Opencontrail pollster now uses
the Analytics API instead of the Web UI API proxy.
Since the Analytics API doesn't implement any
authentication mechanism, this patch removes
the previous authentication code.

Also fix the pollster according to the API changes.
New UT have been added for new resources that can be
retrieved.

Change-Id: I13bca29c3393baa85d2e121af2c065321d32b39a
Closes-bug: #1337837
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/13/104913/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/network/statistics/opencontrail/test_client.py', 'ceilometer/tests/network/statistics/opencontrail/test_driver.py', 'ceilometer/network/statistics/opencontrail/client.py', 'ceilometer/network/statistics/opencontrail/driver.py']",4,150cb55488d56e4d163b4a0a6280048a50771861,bug/1337837," * scheme: The scheme of request url to Opencontrail Analytics endpoint. (default http) * virtual_network Specify the virtual network (default None) * fqdn_uuid Specify the VM fqdn UUID (default *) * resource The resource on which the counters are retrieved - fip_stats_list: traffic on floating ips - if_stats_list: traffic on VM interfaces (default if_stats_list) e.g. opencontrail://localhost:8081/?resource=fip_stats_list& virtual_network=default-domain:openstack:public 'o_client': client.Client(endpoint), ports_map = dict((port['id'], port) for port in ports) if 'resource' in params: resource = params['resource'][0] else: resource = 'if_stats_list' if 'fqdn_uuid' in params: fqdn_uuid = params['fqdn_uuid'][0] else: fqdn_uuid = '*' if 'virtual_network' in params: virtual_network = params['virtual_network'][0] else: virtual_network = None timestamp = timeutils.utcnow().isoformat() statistics = data['o_client'].networks.get_vm_statistics(fqdn_uuid) if not statistics: return for value in statistics['value']: for sample in iter(extractor, value, ports_map, resource, virtual_network): if sample is not None: yield sample + (timestamp, ) def _iter_port(extractor, value, ports_map, resource, virtual_network=None): stats = value['value']['UveVirtualMachineAgent'].get(resource, []) for stat in stats: if resource == 'fip_stats_list': if virtual_network and ( virtual_network != stat['virtual_network']): continue name = stat['iface_name'] else: name = stat['name'] domain, project, port_id = name.split(':') port = ports_map.get(port_id) tenant_id = None network_id = None device_owner_id = None if port: tenant_id = port['tenant_id'] network_id = port['network_id'] device_owner_id = port['device_id'] 'network_id': network_id, 'project_id': tenant_id, 'project': project, 'resource': resource, 'domain': domain} yield extractor(stat, port_id, resource_meta)"," * scheme: The scheme of request url to Opencontrail Analytics endpoint. (default http) * username: This is username used by Opencontrail Analytics.(default None) * password: This is password used by Opencontrail Analytics.(default None) * domain: This is domain used by Opencontrail Analytics.(default None) * verify_ssl: Specify if the certificate will be checked for https request. (default false) e.g.:: opencontrail://localhost:8143/?username=admin&password=admin& scheme=https&domain=&verify_ssl=true 'o_client': client.Client(endpoint, params['username'], params['password'], params.get('domain'), params.get('verify_ssl') == 'true'), ports_map = dict((port['id'], port['tenant_id']) for port in ports) networks = data['n_client'].network_get_all() for network in networks: net_id = network['id'] timestamp = timeutils.utcnow().isoformat() statistics = data['o_client'].networks.get_port_statistics(net_id) if not statistics: continue for value in statistics['value']: for sample in iter(extractor, value, ports_map): if sample is not None: sample[2]['network_id'] = net_id yield sample + (timestamp, ) def _iter_port(extractor, value, ports_map): ifstats = value['value']['UveVirtualMachineAgent']['if_stats_list'] for ifstat in ifstats: name = ifstat['name'] device_owner_id, port_id = name.split(':') tenant_id = ports_map.get(port_id) 'tenant_id': tenant_id} yield extractor(ifstat, port_id, resource_meta)",226,183
openstack%2Fpython-cinderclient~master~I8998a5c8643559cee83c8c0c81b616b5564c0a30,openstack/python-cinderclient,master,I8998a5c8643559cee83c8c0c81b616b5564c0a30,Add tests for consistency groups and cgsnapshots,MERGED,2014-12-02 15:52:00.000000000,2015-01-23 20:56:42.000000000,2015-01-23 20:56:41.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 5538}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 13636}, {'_account_id': 14305}]","[{'number': 1, 'created': '2014-12-02 15:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/62f24bc74d1f9033d944768d983561cbdee0ad64', 'message': 'Add tests for consistency groups and cgsnapshots\n\nThis patch adds missing unit tests for consistency groups and\nconsitency groups snapshots. Tests cover update operation and\nvarious use cases of list operations.\n\nChange-Id: I8998a5c8643559cee83c8c0c81b616b5564c0a30\n'}, {'number': 2, 'created': '2015-01-22 15:11:33.000000000', 'files': ['cinderclient/tests/v2/test_consistencygroups.py', 'cinderclient/tests/v2/test_cgsnapshots.py', 'cinderclient/tests/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/11e5e4f6aafbac270ace87cc8a9b93cd92b9aa36', 'message': 'Add tests for consistency groups and cgsnapshots\n\nThis patch adds missing unit tests for consistency groups and\nconsitency groups snapshots. Tests cover update operation and\nvarious use cases of list operations.\n\nChange-Id: I8998a5c8643559cee83c8c0c81b616b5564c0a30\n'}]",1,138410,11e5e4f6aafbac270ace87cc8a9b93cd92b9aa36,15,8,2,11600,,,0,"Add tests for consistency groups and cgsnapshots

This patch adds missing unit tests for consistency groups and
consitency groups snapshots. Tests cover update operation and
various use cases of list operations.

Change-Id: I8998a5c8643559cee83c8c0c81b616b5564c0a30
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/10/138410/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/v2/test_consistencygroups.py', 'cinderclient/tests/v2/fakes.py', 'cinderclient/tests/v2/test_cgsnapshots.py']",3,62f24bc74d1f9033d944768d983561cbdee0ad64,cg_tests," def test_update_cgsnapshot(self): v = cs.cgsnapshots.list()[0] expected = {'cgsnapshot': {'name': 'cgs2'}} v.update(name='cgs2') cs.assert_called('PUT', '/cgsnapshots/1234', body=expected) cs.cgsnapshots.update('1234', name='cgs2') cs.assert_called('PUT', '/cgsnapshots/1234', body=expected) cs.cgsnapshots.update(v, name='cgs2') cs.assert_called('PUT', '/cgsnapshots/1234', body=expected) def test_update_cgsnapshot_no_props(self): cs.cgsnapshots.update('1234') def test_list_cgsnapshot_detailed_false(self): cs.cgsnapshots.list(detailed=False) cs.assert_called('GET', '/cgsnapshots') def test_list_cgsnapshot_with_search_opts(self): cs.cgsnapshots.list(search_opts={'foo': 'bar'}) cs.assert_called('GET', '/cgsnapshots/detail?foo=bar') def test_list_cgsnapshot_with_empty_search_opt(self): cs.cgsnapshots.list(search_opts={'foo': 'bar', '123': None}) cs.assert_called('GET', '/cgsnapshots/detail?foo=bar') ",,91,10
openstack%2Fcongress-specs~master~Icbecb232a448aaac82a21088cbb4943d6c200ed3,openstack/congress-specs,master,Icbecb232a448aaac82a21088cbb4943d6c200ed3,Adding details and updating formatting,MERGED,2015-01-21 06:10:49.000000000,2015-01-23 20:56:30.000000000,2015-01-23 20:56:29.000000000,"[{'_account_id': 3}, {'_account_id': 8215}, {'_account_id': 10068}, {'_account_id': 14729}]","[{'number': 1, 'created': '2015-01-21 06:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/f8b005f3f7ec9f5daa92036c36d0a259def801f6', 'message': 'Adding the spec file for murano datasource driver blueprint\n\nAdding the the basic murano data source driver and data tables spec\n\nChange-Id: Icbecb232a448aaac82a21088cbb4943d6c200ed3\n'}, {'number': 2, 'created': '2015-01-22 17:38:37.000000000', 'files': ['specs/kilo/murano-datasource-driver.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/64f7282bbd7d8b17f8f92fd94fe7ac1c493d25d0', 'message': 'Adding details and updating formatting\n\nUpdating table naming and adding more descriptions\nUpdating formatting and general cleanup.\n\nChange-Id: Icbecb232a448aaac82a21088cbb4943d6c200ed3\n'}]",3,148801,64f7282bbd7d8b17f8f92fd94fe7ac1c493d25d0,11,4,2,14729,,,0,"Adding details and updating formatting

Updating table naming and adding more descriptions
Updating formatting and general cleanup.

Change-Id: Icbecb232a448aaac82a21088cbb4943d6c200ed3
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/01/148801/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/murano-datasource-driver.rst'],1,f8b005f3f7ec9f5daa92036c36d0a259def801f6,bp/murano-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Murano Data Source Driver ========================================== https://blueprints.launchpad.net/congress/+spec/murano-driver This blueprint is to add a data source driver for murano Problem description =================== We need a data source to get the murano environments and applications related data so that we can define policies for fulfillment. Proposed change =============== Add data source driver that integrates congress with murano with following data tables. * Data Tables * *murano:object(obj_id, owner_id, type)* This table holds every MuranoPL object instance in an environment. * *obj_id* - uuid of the object as used in Murano * *owner_id* - uuid of the owner object as used in Murano * *type* - string with full type identification as used in Murano (e.g., io.murano.Environment,...) * *murano:parent-type( obj_id, parent_type )* This table holds parent types of *obj_id* object. Note that Murano supports multiple inheritance, so there can be several parent types for one object * *murano:property( obj_id, name, value)* This table stores object's properties. For multiple cardinality properties, there can be number of records here. MuranoPL properties referencing class type (i.e., another object) are stored in *murano:relatinoship*. Properties with structure has not direct mapping here - it has to be stored here component by component. * *murano:relationship( src_id, trg_id, name )* This table stores relationship between objects (i.e., MuranoPL property to *class*). For multiple cardinality relationships there is several records in the table. * *murano:state(end_id, state)* This table stores *EnvironmentStatus* of Murano environment ( one of 'READY', 'PENDING', 'DEPLOYING', 'DEPLOY_FAILURE', 'DELETING', 'DELETE_FAILURE' ). Alternatives ------------ N/A Policy ------ We will have pre deployment and post deployment policies for murano applications. Policy actions -------------- Actions will be added in the second phase. Data sources ------------ Murano Data model impact ----------------- N/A REST API impact --------------- N/A Security impact --------------- N/A Notifications impact -------------------- N/A Other end user impact --------------------- N/A Performance impact ------------------ N/A Other deployer impact --------------------- N/A Developer impact ---------------- N/A Implementation ============== Assignee(s) ----------- kishan.thomas@hp.com Work items ---------- - Implement driver and data tables - Implement unit tests - Integration tests with murano Dependencies ============ Murano API Testing ======= - Unit test code - Integration tests Documentation impact ==================== N/A References ========== N/A ",,150,0
