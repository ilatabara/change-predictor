id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-lib~master~I3d390705a836ff038eb0b8a148ed5ac686fd64d4,openstack/neutron-lib,master,I3d390705a836ff038eb0b8a148ed5ac686fd64d4,Add source_ip_prefix and destination_ip_prefix to metering label rules,MERGED,2020-08-13 14:18:59.000000000,2020-08-31 22:29:46.000000000,2020-08-31 22:27:56.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-08-13 14:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a3dfb1cf275832ddb04931eca0491f1d63836abf', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 2, 'created': '2020-08-13 16:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4d297b028e277f93da0e86ce7f88168be7b1dd3f', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 3, 'created': '2020-08-13 16:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/43e26075ac209b8a72086c2f09014fb7be37054a', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 4, 'created': '2020-08-14 11:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/062033ecdbb20bb0fad5243cc87d7021693566d4', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 5, 'created': '2020-08-19 11:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3b0203993db37fa2ffaceeaaae7a69d4d95d99e9', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 6, 'created': '2020-08-21 11:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a6e1e67c4728c7b39d24851529db41e67b4ed9b8', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 7, 'created': '2020-08-21 11:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7655fadbb1e37ff4b89f532bd2d3bc48ebc791ed', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 8, 'created': '2020-08-21 13:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/24aee8045d022211c974eae48ac44c23b3b5dfd6', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 9, 'created': '2020-08-21 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8608aa69ba5d440dc8f82c2b4c5151b7a5f5c94b', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\n'}, {'number': 10, 'created': '2020-08-26 14:11:40.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/metering.inc', 'neutron_lib/tests/unit/api/definitions/test_metering_source_and_destination_filters.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/metering_source_and_destination_filters.py', 'releasenotes/notes/introduce-source-and-destination-ip-prefixes-into-metering-label-rules-3d62fccbca8e67b8.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/143967905a93a1244080cf9ae12ed229b49152a3', 'message': 'Add source_ip_prefix and destination_ip_prefix to metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix.\n\nChange-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\n'}]",30,746142,143967905a93a1244080cf9ae12ed229b49152a3,41,5,10,28356,,,0,"Add source_ip_prefix and destination_ip_prefix to metering label rules

As proposed in the RFE and then approved in the spec, we are adding to
the neutron metering rules two new parameters. The source IP prefix, and
destination IP prefix.

Change-Id: I3d390705a836ff038eb0b8a148ed5ac686fd64d4
Partially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431
RFE: https://bugs.launchpad.net/neutron/+bug/1889431
Depends-On: https://review.opendev.org/#/c/744702/
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/42/746142/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/metering.py', 'neutron_lib/tests/unit/api/definitions/test_metering.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/metering.inc', 'releasenotes/notes/introduce-source-and-destination-ip-prefixes-into-metering-label-rules-3d62fccbca8e67b8.yaml']",5,a3dfb1cf275832ddb04931eca0491f1d63836abf,bug/1889431,--- features: - | Add source_ip_prefix and destination_ip_prefix to Neutron metering label rules.,,59,4
openstack%2Ftripleo-common~stable%2Ftrain~Id069e6150d12b6e32f3206efbfecf1c4886a0e3c,openstack/tripleo-common,stable/train,Id069e6150d12b6e32f3206efbfecf1c4886a0e3c,Remove skydive support,MERGED,2020-08-28 14:58:33.000000000,2020-08-31 22:09:02.000000000,2020-08-31 22:06:47.000000000,"[{'_account_id': 8833}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-28 14:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e555032e8387dfc2b37d2194c05dab92bffd49b4', 'message': 'Remove skydive support\n\nSkydive is not supported anymore and is causing promotions inconsistency\nwith the containers list.\nRemoving reference from containers template and tests\n\nChange-Id: Id069e6150d12b6e32f3206efbfecf1c4886a0e3c\n(cherry picked from commit d1dd4103d3b4e074adeba7f97b7380f15692f3e7)\n'}, {'number': 2, 'created': '2020-08-29 03:47:25.000000000', 'files': ['releasenotes/notes/remove-skydive-support-1cea22a7419a3b13.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a6503311a955379cabb4edbfa3458eff97fddd3', 'message': 'Remove skydive support\n\nSkydive is not supported anymore and is causing promotions inconsistency\nwith the containers list.\nRemoving reference from containers template and tests\n\nChange-Id: Id069e6150d12b6e32f3206efbfecf1c4886a0e3c\n(cherry picked from commit d1dd4103d3b4e074adeba7f97b7380f15692f3e7)\n'}]",0,748684,6a6503311a955379cabb4edbfa3458eff97fddd3,21,6,2,3153,,,0,"Remove skydive support

Skydive is not supported anymore and is causing promotions inconsistency
with the containers list.
Removing reference from containers template and tests

Change-Id: Id069e6150d12b6e32f3206efbfecf1c4886a0e3c
(cherry picked from commit d1dd4103d3b4e074adeba7f97b7380f15692f3e7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/748684/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-skydive-support-1cea22a7419a3b13.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/overcloud_containers.yaml.j2']",4,e555032e8387dfc2b37d2194c05dab92bffd49b4,skydive/removal/train,," - imagename: ""{{namespace}}/{{name_prefix}}skydive-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSkydiveAgentImage services: - OS::TripleO::Services::SkydiveAgent - imagename: ""{{namespace}}/{{name_prefix}}skydive-analyzer{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSkydiveAnalyzerImage services: - OS::TripleO::Services::SkydiveAnalyzer",6,29
openstack%2Fpuppet-tripleo~master~I5b9936022e3fb4dddabf800da75ad46fd0cc134f,openstack/puppet-tripleo,master,I5b9936022e3fb4dddabf800da75ad46fd0cc134f,add the standalone ipa job template to puppet-tripleo,MERGED,2020-07-02 19:15:48.000000000,2020-08-31 22:06:56.000000000,2020-08-31 22:06:56.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-02 19:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/39cc4034f2568c8c2e9b7ab97299ea1bd9335c25', 'message': 'add the standalone ipa job template to puppet-tripleo\n\nDepends-On: https://review.opendev.org/739133\nChange-Id: I5b9936022e3fb4dddabf800da75ad46fd0cc134f\n'}, {'number': 2, 'created': '2020-07-23 21:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5ec6a158090adad1b9f5d283ea6045839b2abaf', 'message': 'add the standalone ipa job template to puppet-tripleo\n\nDepends-On: https://review.opendev.org/739133\nChange-Id: I5b9936022e3fb4dddabf800da75ad46fd0cc134f\n'}, {'number': 3, 'created': '2020-08-29 14:37:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/597336ee82ed4ee6790cb45527998bf9b2c2394f', 'message': 'add the standalone ipa job template to puppet-tripleo\n\nDepends-On: https://review.opendev.org/739133\nChange-Id: I5b9936022e3fb4dddabf800da75ad46fd0cc134f\n'}]",0,739134,597336ee82ed4ee6790cb45527998bf9b2c2394f,15,5,3,9592,,,0,"add the standalone ipa job template to puppet-tripleo

Depends-On: https://review.opendev.org/739133
Change-Id: I5b9936022e3fb4dddabf800da75ad46fd0cc134f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/34/739134/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,39cc4034f2568c8c2e9b7ab97299ea1bd9335c25,1884922, - tripleo-standalone-multinode-ipa,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I408490346840d5a2e3ae29f53cbc100edcf72ee7,openstack/tripleo-heat-templates,stable/train,I408490346840d5a2e3ae29f53cbc100edcf72ee7,Remove skydive,MERGED,2020-08-28 14:58:48.000000000,2020-08-31 22:06:53.000000000,2020-08-31 22:06:52.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 14:58:48.000000000', 'files': ['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/services/skydive-environment.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/NetworkerSriov.yaml', 'roles/ComputeRealTime.yaml', 'tools/yaml-validate.py', 'deployment/skydive/skydive-analyzer-baremetal-ansible.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/Novacontrol.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ComputeRBDEphemeral.yaml', 'deployment/skydive/skydive-agent-baremetal-ansible.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ce2822968485fd09c21bf5e012f03d73dacda76', 'message': ""Remove skydive\n\nWe're dropping this as it has no testing and is not currentily available\nfor CentOS 8.\n\nChange-Id: I408490346840d5a2e3ae29f53cbc100edcf72ee7\nDepends-On: https://review.opendev.org/748684\n(cherry picked from commit bac746b25bc9fa0a5bd666b6a5c9ae4b043dc5c6)\n""}]",0,748685,6ce2822968485fd09c21bf5e012f03d73dacda76,14,5,1,3153,,,0,"Remove skydive

We're dropping this as it has no testing and is not currentily available
for CentOS 8.

Change-Id: I408490346840d5a2e3ae29f53cbc100edcf72ee7
Depends-On: https://review.opendev.org/748684
(cherry picked from commit bac746b25bc9fa0a5bd666b6a5c9ae4b043dc5c6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/748685/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/services/skydive-environment.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/NetworkerSriov.yaml', 'roles/ComputeRealTime.yaml', 'tools/yaml-validate.py', 'deployment/skydive/skydive-analyzer-baremetal-ansible.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/Novacontrol.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ComputeRBDEphemeral.yaml', 'deployment/skydive/skydive-agent-baremetal-ansible.yaml', 'roles/Networker.yaml']",47,6ce2822968485fd09c21bf5e012f03d73dacda76,skydive/removal/train,, - OS::TripleO::Services::SkydiveAgent,0,290
openstack%2Fansible-role-collect-logs~master~Iffedde41bc12709ced9d56a543e8f095a455df1c,openstack/ansible-role-collect-logs,master,Iffedde41bc12709ced9d56a543e8f095a455df1c,Add patterns for mirror failures,MERGED,2020-08-31 17:59:35.000000000,2020-08-31 22:06:51.000000000,2020-08-31 22:06:51.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 17:59:35.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d3dfb4e15b26e5047ba66a986e992429cc06a5f6', 'message': 'Add patterns for mirror failures\n\nChange-Id: Iffedde41bc12709ced9d56a543e8f095a455df1c\n'}]",0,749094,d3dfb4e15b26e5047ba66a986e992429cc06a5f6,7,2,1,10969,,,0,"Add patterns for mirror failures

Change-Id: Iffedde41bc12709ced9d56a543e8f095a455df1c
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/94/749094/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,d3dfb4e15b26e5047ba66a986e992429cc06a5f6,," tag: ""infra"" tag: ""infra"" - id: 536 logstash: 'All mirrors were tried' msg: ""Packages download failure."" pattern: 'All mirrors were tried' tag: ""infra"" - id: 537 logstash: 'Error: Error downloading packages' msg: ""Packages download failure."" pattern: 'Error: Error downloading packages' tag: ""infra"""," tag: ""code"" tag: ""code""",12,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia3fbad9606b18b863a1a81cfe23ff483411d4796,openstack/tripleo-heat-templates,stable/train,Ia3fbad9606b18b863a1a81cfe23ff483411d4796,Use tripleo_network_config,MERGED,2020-08-24 12:53:40.000000000,2020-08-31 22:06:45.000000000,2020-08-31 22:06:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-24 12:53:40.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aacf9c18b0c7bf40fb080fe34de491ad98fbb4c5', 'message': 'Use tripleo_network_config\n\nMove the NetworkConfig tasks to a role maanged in tripleo-ansible.\n\nChange-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796\nDepends-On: https://review.opendev.org/746600\n(cherry picked from commit b3fd483c20294252f764b05a652a21f8a2a1f0c9)\n'}]",0,747718,aacf9c18b0c7bf40fb080fe34de491ad98fbb4c5,19,5,1,3153,,,0,"Use tripleo_network_config

Move the NetworkConfig tasks to a role maanged in tripleo-ansible.

Change-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796
Depends-On: https://review.opendev.org/746600
(cherry picked from commit b3fd483c20294252f764b05a652a21f8a2a1f0c9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/747718/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,aacf9c18b0c7bf40fb080fe34de491ad98fbb4c5,nconfig/train," - name: Run Network Config import_role: name: tripleo-network-config vars: tripleo_network_config_script_path: ""{{ NetworkConfig_stat.stat.path }}"" tripleo_network_config_bridge_name: ""{{ neutron_physical_bridge_name }}"" tripleo_network_config_interface_name: ""{{ neutron_public_interface_name }}"" tripleo_network_config_action: ""{{ stack_action }}"" tripleo_network_config_network_deployment_actions: ""{{ network_deployment_actions }}"" tripleo_network_config_async_timeout: ""{{ async_timeout | default(300) }}"" tripleo_network_config_async_poll: ""{{ async_poll | default(3) }}"" when: - NetworkConfig_stat.stat.exists"," - name: Check for previous run of NetworkConfig stat: path: /var/lib/tripleo-config/os-net-config.returncode register: os_net_config_returncode_stat - name: Check result of previous run of NetworkConfig slurp: path: /var/lib/tripleo-config/os-net-config.returncode when: os_net_config_returncode_stat.stat.exists register: os_net_config_returncode_slurp - name: NetworkConfig become: true block: - name: Create /var/lib/tripleo-config/scripts directory file: path: /var/lib/tripleo-config/scripts state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true - name: Render NetworkConfig script template: dest: /var/lib/tripleo-config/scripts/run_os_net_config.sh src: ""{{ NetworkConfig_stat.stat.path }}"" mode: 0755 - name: Run NetworkConfig script command: /var/lib/tripleo-config/scripts/run_os_net_config.sh async: ""{{ async_timeout | default(300) }}"" poll: ""{{ async_poll | default(3) }}"" environment: bridge_name: ""{{ neutron_physical_bridge_name }}"" interface_name: ""{{ neutron_public_interface_name }}"" register: NetworkConfig_result when: - not ansible_check_mode failed_when: NetworkConfig_result.rc is not defined - name: Write rc of NetworkConfig script copy: content: ""{{ NetworkConfig_result.rc }}"" dest: /var/lib/tripleo-config/os-net-config.returncode when: - NetworkConfig_result.rc is defined - name: NetworkConfig stdout debug: var: NetworkConfig_result.stderr_lines failed_when: NetworkConfig_result.rc != 0 when: - NetworkConfig_result.rc is defined # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started # The conditions here are when we want to apply the # NetworkConfig. They are: # - If the stack_action is CREATE # - Or UPDATE is in the network_deployment_actions # - Or the previous run of NetworkConfig failed. # - Or it has never run # This will match the prior behavior of when a Heat # SoftwareDeployment was used. # It also ensures the script does exist as a sine qua non # condition when: NetworkConfig_stat.stat.exists and ((stack_action == ""CREATE"") or (""UPDATE"" in network_deployment_actions) or (os_net_config_returncode_stat.stat.exists and ((os_net_config_returncode_slurp.content | b64decode) != 0)) or (not os_net_config_returncode_stat.stat.exists))",13,79
openstack%2Fpuppet-tripleo~master~I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1,openstack/puppet-tripleo,master,I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1,Fix tls - zaqar wss default port,MERGED,2020-08-28 14:22:42.000000000,2020-08-31 22:06:15.000000000,2020-08-31 21:46:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-28 14:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/505cbad905875e239307851baf390bb8e8836a97', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n'}, {'number': 2, 'created': '2020-08-28 17:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1b3e8d8bece71d1b43b649406f8e1dc15846fcde', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n'}, {'number': 3, 'created': '2020-08-28 17:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e525c6d0271ac25fa52ef573034f6bf4d9498cc0', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n'}, {'number': 4, 'created': '2020-08-28 20:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1b1235b72e2b8bbde0260f29d71195dcc6398ce4', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport so that handshake does not fail on port missmatch.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n'}, {'number': 5, 'created': '2020-08-29 01:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f5b43d29f982b360d202b42c70c1ac085840c21', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport so that handshake does not fail on port missmatch.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n'}, {'number': 6, 'created': '2020-08-31 09:02:52.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4a52809a9676f3058863882b529f88c5f078c9ee', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport so that handshake does not fail on port missmatch.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nCloses-Bug: #1893621\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n'}]",0,748673,4a52809a9676f3058863882b529f88c5f078c9ee,30,9,6,24245,,,0,"Fix tls - zaqar wss default port

In https://review.opendev.org/746671 we updated the
endpoint map. It seems this broke the undercloud as
haproxy still listen on port 9000.

Update the default zaqar wss port in puppet as well.

Also set the request header Host to use the service
port so that handshake does not fail on port missmatch.

Change-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1
Closes-Bug: #1893621
Related-Bug: #1832168
Related-RHBZ: #1868910
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/748673/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,505cbad905875e239307851baf390bb8e8836a97,RHBZ#1868910,"# 'zaqar_ws_ssl_port' (Defaults to 3000) zaqar_ws_ssl_port => 3000,","# 'zaqar_ws_ssl_port' (Defaults to 9000) zaqar_ws_ssl_port => 9000,",2,2
openstack%2Fproject-config~master~I1ae7251c8a4c214544524871fdfe51e947b638f8,openstack/project-config,master,I1ae7251c8a4c214544524871fdfe51e947b638f8,Pin setuptools<50 in our image venvs,MERGED,2020-08-31 21:04:21.000000000,2020-08-31 22:02:43.000000000,2020-08-31 21:54:22.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 21:04:21.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/40-install-tox', 'nodepool/elements/infra-package-needs/install.d/40-install-bindep', 'nodepool/elements/nodepool-base/install.d/91-venv-os-testr'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f992efbc51e743a320be4d468b9b8d911797b58', 'message': ""Pin setuptools<50 in our image venvs\n\nsetuptools==50 doesn't work with python older than python3.8. There are\na number of issues [0][1][2] the first of which we are tripping over. Be\nconservative here and install older setuptools until these issues on\npython3.5, 3.6, and 3.7 are sorted out.\n\n[0] https://github.com/pypa/setuptools/issues/2352\n[1] https://github.com/pypa/setuptools/issues/2363\n[2] https://github.com/pypa/setuptools/issues/2357\n\nChange-Id: I1ae7251c8a4c214544524871fdfe51e947b638f8\n""}]",1,749154,6f992efbc51e743a320be4d468b9b8d911797b58,9,3,1,4146,,,0,"Pin setuptools<50 in our image venvs

setuptools==50 doesn't work with python older than python3.8. There are
a number of issues [0][1][2] the first of which we are tripping over. Be
conservative here and install older setuptools until these issues on
python3.5, 3.6, and 3.7 are sorted out.

[0] https://github.com/pypa/setuptools/issues/2352
[1] https://github.com/pypa/setuptools/issues/2363
[2] https://github.com/pypa/setuptools/issues/2357

Change-Id: I1ae7251c8a4c214544524871fdfe51e947b638f8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/749154/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/install.d/40-install-tox', 'nodepool/elements/infra-package-needs/install.d/40-install-bindep', 'nodepool/elements/nodepool-base/install.d/91-venv-os-testr']",3,6f992efbc51e743a320be4d468b9b8d911797b58,use-older-setuptools,# We do this first to ensure working setuptools is present when os-testr # is installed. /usr/os-testr-env/bin/pip install -U 'setuptools<50',,9,0
openstack%2Ftripleo-heat-templates~master~Iacf7c9c368b26106e9921b35996c134aacb9acd7,openstack/tripleo-heat-templates,master,Iacf7c9c368b26106e9921b35996c134aacb9acd7,Use container_file_t for Cinder*NfsMountOptions by default,MERGED,2020-07-03 11:24:33.000000000,2020-08-31 21:46:37.000000000,2020-08-31 21:46:37.000000000,"[{'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10459}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-03 11:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/996fde0e9e29a41007733ddd6e840f6869bddacb', 'message': 'Use container_file_t as CinderNfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers.\n\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n'}, {'number': 2, 'created': '2020-07-06 08:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9934e5d20ae297295b8a4357f87156f3d1a2ae78', 'message': 'Use container_file_t as CinderNfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers.\n\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n'}, {'number': 3, 'created': '2020-07-08 13:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f7bfcd463143958b78e4bea7701a418b16944af', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n'}, {'number': 4, 'created': '2020-07-08 14:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a815533634b88a4ae127439a19db8a9e6c9c9a55', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n'}, {'number': 5, 'created': '2020-08-04 14:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d100039c7c48bd450fd0ba9596ebb697571643a', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nCloses-Bug: 1890291\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n'}, {'number': 6, 'created': '2020-08-26 11:05:52.000000000', 'files': ['environments/cinder-netapp-config.yaml', 'environments/storage-environment.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'sample-env-generator/storage.yaml', 'environments/storage/cinder-nfs.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'environments/storage/cinder-netapp-config.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7ec7262761d0a09287e9934fe36e3a068415807', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nCloses-Bug: 1890291\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n'}]",6,739214,c7ec7262761d0a09287e9934fe36e3a068415807,59,12,6,6796,,,0,"Use container_file_t for Cinder*NfsMountOptions by default

This is so that share content is usable by cinder-volume and other
containers mounting the same share.

Closes-Bug: 1890291
Change-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/739214/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,996fde0e9e29a41007733ddd6e840f6869bddacb,, default: 'context=system_u:object_r:container_file_t:s0', default: '',1,1
openstack%2Ftripleo-ansible~master~Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,openstack/tripleo-ansible,master,Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,Set timeout to default if not configured,MERGED,2020-08-30 06:42:25.000000000,2020-08-31 21:30:40.000000000,2020-08-31 21:30:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-30 06:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5fc4c23a6249d63bb0be11e3c31d4c474d4f4a94', 'message': 'Set timeout to default if not configured\n\nWhen ""| int"" is set after ""omit"" it sets parameter to 0 instead\nof omitting.\nPut it before ""omit"" to prevent setting parameter when it\'s not\ndefined.\n\nChange-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac\n'}, {'number': 2, 'created': '2020-08-30 07:28:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a0bccadcdb3c6b5e302cb2c0fdb7df93072bbc1', 'message': 'Set timeout to default if not configured\n\nWhen ""| int"" is set after ""omit"" it sets parameter to 0 instead\nof omitting.\n\nChange-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac\n'}]",0,748832,8a0bccadcdb3c6b5e302cb2c0fdb7df93072bbc1,14,4,2,10969,,,0,"Set timeout to default if not configured

When ""| int"" is set after ""omit"" it sets parameter to 0 instead
of omitting.

Change-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/748832/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,5fc4c23a6249d63bb0be11e3c31d4c474d4f4a94,fix_timeout," stop_timeout: ""{{ lookup('dict', container_data).value.stop_grace_period | int | default(omit) }}"""," stop_timeout: ""{{ lookup('dict', container_data).value.stop_grace_period | default(omit) | int }}""",1,1
openstack%2Ftripleo-ansible~master~I55681d69cacf2e7bee52d9a61f12d8577fe15a2d,openstack/tripleo-ansible,master,I55681d69cacf2e7bee52d9a61f12d8577fe15a2d,BaR - Ceph Backup,MERGED,2020-03-05 10:19:40.000000000,2020-08-31 21:16:42.000000000,2020-08-31 19:05:22.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 31324}, {'_account_id': 32018}]","[{'number': 1, 'created': '2020-03-05 10:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a2fe44b28688d0fb01c70cd9bc6266aaf488626', 'message': ""WIP: BaR backup /var/lib/ceph ceph mon and mgr\n\nDNM - The idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nIt's a test.\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 2, 'created': '2020-03-10 20:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bd1953301e69accdcd9221cd341508cd3c90b0e', 'message': ""WIP: BaR backup /var/lib/ceph ceph mon and mgr\n\nDNM - The idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nIt's a test.\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 3, 'created': '2020-03-18 10:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/579d08641a8521b6e469885dc7576f7ffdf91de4', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 4, 'created': '2020-03-18 11:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/daec3d6fe2cace73b43a68cf951e23ed2f3a0d04', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 5, 'created': '2020-03-18 13:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/394fe56b7ce014dc3a149f1fbb5f76f118e3ba60', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 6, 'created': '2020-03-18 13:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff8225f09a2d9f603ee58b4641752a0e26f13726', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 7, 'created': '2020-03-20 08:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d847e9992c6651d1c3a237b27eb501951be90071', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 8, 'created': '2020-03-20 10:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf629e23155dda808992e25ce523dd88efbddb72', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 9, 'created': '2020-03-26 11:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59a41b234b4fa0bcedef354bf815e3db7891300f', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 10, 'created': '2020-03-26 13:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10c7bc299f935ad43abc43b63b8135648a92e397', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 11, 'created': '2020-04-03 06:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64d7d68021801a9c2b31ec203298ed84eac45db5', 'message': 'BaR backup /var/lib/ceph ceph mon and mgr\n\nThe idea is to backup the directory of the control-plane\nsequencially. So it wont have production disruption.\n - Stop ceph services (mon & mgr)\n - Do the backup of the /var/lib/ceph\n - Restart ceph services\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 12, 'created': '2020-04-28 16:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdad23f807172fad55be7166fc9dd07ee254f0e6', 'message': 'BaR - Export ceph authentication\n\nThis patch added a couple of task:\n - Ceph authentication export file\n - /var/lib/ceph directory backup after stopping ceph services and copied the\n shared directory\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 13, 'created': '2020-04-28 18:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/724fe01c7930c8bbba6203d80dbbb3fc37c5b705', 'message': 'BaR - Export ceph authentication\n\nThis patch added a couple of task:\n - Ceph authentication export file\n - /var/lib/ceph directory backup after stopping ceph services and copied the\n shared directory\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 14, 'created': '2020-04-28 18:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45f3e9c2bbb8564f9abd842ff68b3b6e4b6be8da', 'message': 'BaR - Export ceph authentication\n\nThis patch added a couple of task:\n - Ceph authentication export file\n - /var/lib/ceph directory backup after stopping ceph services and copied the\n shared directory\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 15, 'created': '2020-05-21 13:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d6241179bd0cd77db5bb0fb711e229677157a07', 'message': 'BaR - Export ceph authentication\n\nThis patch added a couple of task:\n - Ceph authentication export file\n - /var/lib/ceph directory backup after stopping ceph services and copied the\n shared directory\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 16, 'created': '2020-05-25 07:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7d2e603c36559d1ede9a0faf7bfbdf2e74b36a3', 'message': 'BaR - Export ceph authentication\n\nThis patch added a couple of task:\n - Ceph authentication export file\n - /var/lib/ceph directory backup after stopping ceph services and copied the\n shared directory\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n'}, {'number': 17, 'created': '2020-06-01 14:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2aecc41fa5beab329009f6a7b56611eebc1bac1', 'message': ""[WIP]BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 18, 'created': '2020-06-01 17:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87678f5368abe75315e71bea8c985fc688c39590', 'message': ""[WIP]BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 19, 'created': '2020-06-09 19:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db8ab8358988073e676cc8f45c2ad86fd59198eb', 'message': ""[WIP]BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 20, 'created': '2020-06-09 19:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d80b57aeb3b41030ec607b8a74868ee64dab5334', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 21, 'created': '2020-06-10 08:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c32838a00eb718fe735beff31671874344690be3', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 22, 'created': '2020-07-16 17:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a52bcafa68d39b5ddeae3e320ec473db311a5e2', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 23, 'created': '2020-07-17 10:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d1d1414bdedbf9b1b7c1ccb76cc4c2e8319d465', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 24, 'created': '2020-07-17 14:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9cb4131c5c4ed730a1bfbc2a5bb7fbfee2949788', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 25, 'created': '2020-07-27 14:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b6db903a82d050aed730c9464dce883f42bf50a', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 26, 'created': '2020-07-27 16:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63d538aa06173562ff66c8fd066031fd259e9b26', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n\n** Just splitting the patch into patches.\nAll the Randy's comments need to be implemented.\nOnly the ganesha is missing\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 27, 'created': '2020-08-17 08:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d62d8884bc1a0c464b7604062e7f5bbb93be4f92', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n  To be able to do it, we copy the way that the ceph-ansible project [1]\ndeactivates the mds [2], so we can stop all the ceph services on the\ncontrollers.\n\n[1]-https://github.com/ceph/ceph-ansible/\n[2]-https://github.com/ceph/ceph-ansible/blob/v4.0.14/infrastructure-playbooks/rolling_update.yml#L550-L623\n\nI left the comment below to describe and give some backgroud.\n** Just splitting the patch into patches.\nAll the Randy's comments are implemented.\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}, {'number': 28, 'created': '2020-08-28 10:31:35.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_nfs_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/playbooks/ceph-backup.yaml', 'tripleo_ansible/playbooks/ceph_deactivate_mds.yaml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a930407217c7478a4b0141d28b9377973d840f97', 'message': ""BaR - Ceph Backup\n\nBackup and Restore:\n  This task aims to take a backup of the /var/lib/ceph directory and\ncopied to the shared directory.\n  To be able to do it, we copy the way that the ceph-ansible project [1]\ndeactivates the mds [2], so we can stop all the ceph services on the\ncontrollers.\n\n[1]-https://github.com/ceph/ceph-ansible/\n[2]-https://github.com/ceph/ceph-ansible/blob/v4.0.14/infrastructure-playbooks/rolling_update.yml#L550-L623\n\nI left the comment below to describe and give some backgroud.\n** Just splitting the patch into patches.\nAll the Randy's comments are implemented.\nThe other patch is https://review.opendev.org/#/c/732399/\n\nChange-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d\n""}]",67,711423,a930407217c7478a4b0141d28b9377973d840f97,132,13,28,22954,,,0,"BaR - Ceph Backup

Backup and Restore:
  This task aims to take a backup of the /var/lib/ceph directory and
copied to the shared directory.
  To be able to do it, we copy the way that the ceph-ansible project [1]
deactivates the mds [2], so we can stop all the ceph services on the
controllers.

[1]-https://github.com/ceph/ceph-ansible/
[2]-https://github.com/ceph/ceph-ansible/blob/v4.0.14/infrastructure-playbooks/rolling_update.yml#L550-L623

I left the comment below to describe and give some backgroud.
** Just splitting the patch into patches.
All the Randy's comments are implemented.
The other patch is https://review.opendev.org/#/c/732399/

Change-Id: I55681d69cacf2e7bee52d9a61f12d8577fe15a2d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/711423/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml'],1,6a2fe44b28688d0fb01c70cd9bc6266aaf488626,BaR-Ceph-Mon-Mgr,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup_and_restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" tags: - always - name: Stop ceph monitor systemd: state: stopped name: ceph-mon@{{ ansible_hostname }} become: true tags: - bar_create_recover_image - name: Stop ceph management systemd: state: stopped name: ceph-mgr@{{ ansible_hostname }} become: true tags: - bar_create_recover_image - name: Tar and Compress the /var/lib/ceph directory shell: tar -zcv --xattrs-include=*.* --xattrs --xattrs-include=security.capability --xattrs-include=security.selinux --acls -f /var/lib/ceph.tar.gz /var/lib/ceph /tmp/ceph_check_{{ ansible_hostname }} become: true tags: - bar_create_recover_image - name: Start ceph monitor systemd: state: started name: ceph-mon@{{ ansible_hostname }} become: true tags: - bar_create_recover_image - name: Start ceph management systemd: state: started name: ceph-mgr@{{ ansible_hostname }} become: true tags: - bar_create_recover_image ",,72,0
openstack%2Ftrove~master~Ie3d4c9994ae802db016a9d8c63fc2f1fad6cd77a,openstack/trove,master,Ie3d4c9994ae802db016a9d8c63fc2f1fad6cd77a,[API doc] Improve description of swift_container for creating backups,MERGED,2020-08-31 09:14:15.000000000,2020-08-31 20:39:44.000000000,2020-08-31 20:37:29.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 09:14:15.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/5e1cd054b821954f65d38c3a22ecf79469ed44fe', 'message': '[API doc] Improve description of swift_container for creating backups\n\nChange-Id: Ie3d4c9994ae802db016a9d8c63fc2f1fad6cd77a\n'}]",0,749009,5e1cd054b821954f65d38c3a22ecf79469ed44fe,7,2,1,6732,,,0,"[API doc] Improve description of swift_container for creating backups

Change-Id: Ie3d4c9994ae802db016a9d8c63fc2f1fad6cd77a
",git fetch https://review.opendev.org/openstack/trove refs/changes/09/749009/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,5e1cd054b821954f65d38c3a22ecf79469ed44fe,api-doc," description: | User defined swift container name. When creating backups, the swift container is created automatically if does not exist.", description: User defined swift container name.,3,1
openstack%2Fdevstack~stable%2Fussuri~I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,openstack/devstack,stable/ussuri,I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs,MERGED,2020-08-31 13:12:29.000000000,2020-08-31 20:09:53.000000000,2020-08-31 20:01:31.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-31 13:12:29.000000000', 'files': ['inc/python', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/87d1da30a86a6ae3525eca9a5842ab0403e6ea56', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\nTemporarily make grenade jobs non-voting in order to allow this\npatch to be backported.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)\n'}]",0,749050,87d1da30a86a6ae3525eca9a5842ab0403e6ea56,9,5,1,13252,,,0,"Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs

A new setuptools release has changed the way pip installs are done,
see [0]. With this change we switch back to using the distro
method for global pip installs.

Temporarily make grenade jobs non-voting in order to allow this
patch to be backported.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Change-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849
(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/749050/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', '.zuul.yaml']",2,87d1da30a86a6ae3525eca9a5842ab0403e6ea56,, voting: false # - neutron-grenade-multinode: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ # - grenade: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$, - neutron-grenade-multinode: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - grenade: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$,16,11
openstack%2Fpuppet-swift~master~If369dd0c67bf927467a395b4e920f456fe94316e,openstack/puppet-swift,master,If369dd0c67bf927467a395b4e920f456fe94316e,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:05:55.000000000,2020-08-31 20:06:51.000000000,2020-08-31 20:06:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:05:55.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/2c3a746d0642d0ad8f00bf098d8c16b07d616112', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: If369dd0c67bf927467a395b4e920f456fe94316e\n'}]",0,748916,2c3a746d0642d0ad8f00bf098d8c16b07d616112,11,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: If369dd0c67bf927467a395b4e920f456fe94316e
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/16/748916/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2c3a746d0642d0ad8f00bf098d8c16b07d616112,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fironic~master~I135521022c8884d33b101fbfa667927e58aae6b5,openstack/ironic,master,I135521022c8884d33b101fbfa667927e58aae6b5,Per-node configuration for erasing devices priority,NEW,2020-08-31 08:24:41.000000000,2020-08-31 19:58:06.000000000,,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-31 08:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6b97626bb24af0edf0eb3894337bf65fa23ef85', 'message': 'Per-node configuration for erasing devices priority\n\nSupport per-node configuration of erase_devices and erase_devices_metadata\npriorities. This is more flexible than configuration options for different\ndisk cleaning requirements and for different nodes.\n\nChange-Id: I135521022c8884d33b101fbfa667927e58aae6b5\nStory: 2007995\nTask: 40634\n'}, {'number': 2, 'created': '2020-08-31 09:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2310dec91f441c09d58da40309d19e767fdc19d', 'message': 'Per-node configuration for erasing devices priority\n\nSupport per-node configuration of erase_devices and erase_devices_metadata\npriorities. This is more flexible than configuration options for different\ndisk cleaning requirements and for different nodes.\n\nChange-Id: I135521022c8884d33b101fbfa667927e58aae6b5\nStory: 2007995\nTask: 40634\n'}, {'number': 3, 'created': '2020-08-31 10:44:43.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'releasenotes/notes/per-node-clean-priority-20573c0435488073.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c9661cb990e1eb7f19384c20424505ee1498456', 'message': 'Per-node configuration for erasing devices priority\n\nSupport per-node configuration of erase_devices and erase_devices_metadata\npriorities. This is more flexible than configuration options for different\ndisk cleaning requirements and for different nodes.\n\nChange-Id: I135521022c8884d33b101fbfa667927e58aae6b5\nStory: 2007995\nTask: 40634\n'}]",2,748975,7c9661cb990e1eb7f19384c20424505ee1498456,11,6,3,24828,,,0,"Per-node configuration for erasing devices priority

Support per-node configuration of erase_devices and erase_devices_metadata
priorities. This is more flexible than configuration options for different
disk cleaning requirements and for different nodes.

Change-Id: I135521022c8884d33b101fbfa667927e58aae6b5
Story: 2007995
Task: 40634
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/748975/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'releasenotes/notes/per-node-clean-priority-20573c0435488073.yaml']",3,d6b97626bb24af0edf0eb3894337bf65fa23ef85,per-node-clean-prio,"--- features: - | Clean steps priorities ``erase_devices_priority`` and ``erase_devices_metadata_priority`` now can be configured on per-node basis. When fields are set in the node driver_info, the configured value will override the same configuration option from the configuration file, i.e. ``[deploy]erase_devices_priority`` and ``[deploy]erase_devices_metadata_priority``. ",,54,13
openstack%2Fos-brick~master~Ib120047a65ecbb4ae0f060640d59f3f759a1cade,openstack/os-brick,master,Ib120047a65ecbb4ae0f060640d59f3f759a1cade,Add volume local cache support to os-brick,MERGED,2019-06-06 08:58:38.000000000,2020-08-31 19:51:09.000000000,2020-08-31 19:49:31.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 27710}, {'_account_id': 28948}, {'_account_id': 32159}]","[{'number': 1, 'created': '2019-06-06 08:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e3be1a471cc1cd04d31f21dbe9cd230e0462d105', 'message': '[WIP] Add OCF cache framework to os-brick\n\nOpen CAS Framework (OCF) is high performance block storage caching framework.\nIt can use high performance disk (e.g. Intel Optane SSD) as the cache for low\nperformance volume that allocated by cinder from remote backend storage.\n\nrefer: https://github.com/open-cas/ocf\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 2, 'created': '2019-09-04 08:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/012183c6d979af15d4a4a905bf4ac2e834108d95', 'message': '[WIP] Add openCAS cache framework to os-brick\n\nOpen CAS is high performance block storage caching framework.  It can\nuse high performance disk (e.g. Intel Optane SSD) as the cache for low\nperformance volume that allocated by cinder from remote backend storage.\n\nrefer: https://github.com/open-cas\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 3, 'created': '2019-12-30 08:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/37a7b17c8720639d2d677e65d168b300b6b833e6', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk (e.g. Intel Optane SSD) as the cache in compute node locally for\nlow performance volume that allocated by cinder from remote backend\nstorage.\n\nrefer: https://github.com/open-cas\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 4, 'created': '2020-04-11 09:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/89c863e7454240d22ce2d96dbe4c3c3cf60b3a39', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 5, 'created': '2020-05-11 06:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2524b1493a58048e741ecba2e8ca5118fd5a6075', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 6, 'created': '2020-07-13 08:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5a3a6cac20a3c36dd71ac1a1fbeed8e842a9f7d1', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 7, 'created': '2020-08-05 09:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3b1692cafaf14bca47c45d1bc1866d6ba75fad4f', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 8, 'created': '2020-08-20 07:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b10310cdcaaa93018905f217419b9f4c632d9fb6', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 9, 'created': '2020-08-20 13:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e257e0a5a06321ece15d81f9643eaa358fbfb5af', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 10, 'created': '2020-08-21 07:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/84486f6df234aafab78d4581aa4fdc5bbc6ee002', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 11, 'created': '2020-08-26 06:59:57.000000000', 'files': ['os_brick/tests/caches/test_init.py', 'os_brick/caches/__init__.py', 'os_brick/caches/opencas.py', 'os_brick/tests/caches/__init__.py', 'os_brick/exception.py', 'os_brick/tests/caches/test_opencas.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/abd97bb2eb3c3abf5d058fa9e6ab02a61a5ad335', 'message': 'Add volume local cache support to os-brick\n\nTry to leverage cache software, such as Open CAS, use high performance\ndisk or persistent memory as the cache in compute node locally for low\nperformance volume that allocated by cinder from remote backend storage.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",33,663549,abd97bb2eb3c3abf5d058fa9e6ab02a61a5ad335,223,26,11,28948,,,0,"Add volume local cache support to os-brick

Try to leverage cache software, such as Open CAS, use high performance
disk or persistent memory as the cache in compute node locally for low
performance volume that allocated by cinder from remote backend storage.

open-cas: https://open-cas.github.io/
Nova Spec: https://review.opendev.org/#/c/689070/
Cinder Spec: https://review.opendev.org/#/c/684556/

Change-Id: Ib120047a65ecbb4ae0f060640d59f3f759a1cade
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/49/663549/11 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/caches/__init__.py', 'os_brick/caches/ocf.py']",2,e3be1a471cc1cd04d31f21dbe9cd230e0462d105,bp/support-volume-local-cache,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import six from oslo_concurrency import processutils as putils from oslo_log import log as logging from os_brick import exception from os_brick import executor from os_brick import privileged LOG = logging.getLogger(__name__) class OcfCache(executor.Executor): def get_mapped_casdev(self, core): cmd = ['casadm', '-L'] kwargs = dict(run_as_root=True, root_helper=self._root_helper) out, err = self._execute(*cmd, **kwargs) LOG.info(""111out=%(out)s"", {'out': out}) LOG.info(""111err=%(err)s"", {'err': err}) for line in out.splitlines(): if line.find(core) < 0: continue fields = line.split() return fields[5] raise Exception('Cannot find emulated device.') def get_mapped_coredev(self, casdev): cmd = ['casadm', '-L'] kwargs = dict(run_as_root=True, root_helper=self._root_helper) out, err = self._execute(*cmd, **kwargs) LOG.info(""111out=%(out)s"", {'out': out}) LOG.info(""111err=%(err)s"", {'err': err}) for line in out.splitlines(): if line.find(casdev) < 0: continue fields = line.split() return (fields[1], fields[2]) raise Exception('Cannot find core device.') def map_casdisk(self, core): cmd = ['casadm', '-A', '-i', '1', '-d', core] kwargs = dict(run_as_root=True, root_helper=self._root_helper) out, err = self._execute(*cmd, **kwargs) return self.get_mapped_casdev(core) def unmap_casdisk(self, coreid): cmd = ['casadm', '-R', '-f', '-i', '1', '-j', coreid] kwargs = dict(run_as_root=True, root_helper=self._root_helper) out, err = self._execute(*cmd, **kwargs) ",,72,0
openstack%2Ftripleo-quickstart~master~I0d322bf7de7347b08ed8a4e8d990eea6d24c178e,openstack/tripleo-quickstart,master,I0d322bf7de7347b08ed8a4e8d990eea6d24c178e,add volumebootpattern to fs001,ABANDONED,2020-01-22 21:10:28.000000000,2020-08-31 19:47:54.000000000,,"[{'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-22 21:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/881ee0f4fbf90aa2fdbd3ff2799c32eb38732100', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 2, 'created': '2020-01-23 04:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8b9b5992eb18c69c06970dccdd545daddab140b4', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 3, 'created': '2020-01-23 04:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5fa83477fe499ec2dd41c142108850e2d1796165', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 4, 'created': '2020-01-23 08:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e371ba66f9fc7ad4561604782c15b526866481c7', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nDepends-On: https://review.opendev.org/#/c/703936/\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 5, 'created': '2020-01-31 06:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0a840cb1de38505e8b351917867005a535c09941', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nDepends-On: https://review.opendev.org/#/c/703936/\n\nDepends-On: https://review.opendev.org/#/c/704805/\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 6, 'created': '2020-01-31 06:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a1fa56ba83db557deb52021f80277727ab36791f', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nDepends-On: https://review.opendev.org/#/c/703936/\n\nDepends-On: https://review.opendev.org/#/c/704805/\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 7, 'created': '2020-02-04 17:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03783b56ecf9f65cb2b28ce5d179e6787b6f7965', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nDepends-On: https://review.opendev.org/#/c/703936/\n\nDepends-On: https://review.opendev.org/#/c/704805/\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 8, 'created': '2020-02-10 09:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/352efc951e2227cfea37175bdf306f82c585f3d4', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 9, 'created': '2020-02-10 09:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3e5d88f51306d126c04e371727a03a8d480c0234', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}, {'number': 10, 'created': '2020-02-10 12:34:43.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e50776c986aa33d7ed2cd01e896ea9c992e898a1', 'message': ""add volumebootpattern to fs001\n\nThis test may catch some issues we're seeing\nin master atm. /me notes this test is currently\non the master skip list.\n\nReuse os_tempest test regex for validate-tempest\n\nChange-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e\n""}]",4,703868,e50776c986aa33d7ed2cd01e896ea9c992e898a1,37,8,10,9592,,,0,"add volumebootpattern to fs001

This test may catch some issues we're seeing
in master atm. /me notes this test is currently
on the master skip list.

Reuse os_tempest test regex for validate-tempest

Change-Id: I0d322bf7de7347b08ed8a4e8d990eea6d24c178e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/68/703868/9 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,881ee0f4fbf90aa2fdbd3ff2799c32eb38732100,unskipvolume, - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern',,1,0
openstack%2Ftripleo-quickstart-extras~master~I05da917f47c87b76000131266d5279d7b3388dd8,openstack/tripleo-quickstart-extras,master,I05da917f47c87b76000131266d5279d7b3388dd8,"remove atop, unused code",ABANDONED,2020-03-09 20:56:52.000000000,2020-08-31 19:47:30.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-09 20:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/159344cf8967af11a5a63a037f63b7a0006e7257', 'message': ""remove atop, unused code\n\natop is not found anywhere in the logs\nassuming it's not working.\n\nIf atop does need to be installed,\nI would suggest it be installed in\nconfig/release/tripleo-ci/master.yml in\npost-action under mock which is also\ninstalled w/ epel.\n\nChange-Id: I05da917f47c87b76000131266d5279d7b3388dd8\n""}, {'number': 2, 'created': '2020-03-09 21:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26076b2c714bc08ffb5cc1dcf235afdc063061f8', 'message': ""remove atop, unused code\n\natop is not found anywhere in the logs\nassuming it's not working.\n\nIf atop does need to be installed,\nI would suggest it be installed in\nconfig/release/tripleo-ci/master.yml in\npost-action under mock which is also\ninstalled w/ epel.\n\nChange-Id: I05da917f47c87b76000131266d5279d7b3388dd8\n""}, {'number': 3, 'created': '2020-03-09 22:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/073dc11369653fcd14f88f5d7f05a83414d3a900', 'message': ""remove atop, unused code\n\natop is not found anywhere in the logs\nassuming it's not working.\n\nIf atop does need to be installed,\nI would suggest it be installed in\nconfig/release/tripleo-ci/master.yml in\npost-action under mock which is also\ninstalled w/ epel.\n\nDepends-On: https://review.opendev.org/711990\nChange-Id: I05da917f47c87b76000131266d5279d7b3388dd8\n""}, {'number': 4, 'created': '2020-03-09 22:31:35.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/atop.yml', 'playbooks/multinode-undercloud.yml', 'playbooks/multinode-undercloud-minion.yml', 'roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f9e64886d2273963f2670aa62302122aa252363', 'message': ""remove atop, unused code\n\natop is not found anywhere in the logs\nassuming it's not working.\n\nIf atop does need to be installed,\nI would suggest it be installed in\nconfig/release/tripleo-ci/master.yml in\npost-action under mock which is also\ninstalled w/ epel.\n\nChange-Id: I05da917f47c87b76000131266d5279d7b3388dd8\n""}]",3,711982,0f9e64886d2273963f2670aa62302122aa252363,19,8,4,9592,,,0,"remove atop, unused code

atop is not found anywhere in the logs
assuming it's not working.

If atop does need to be installed,
I would suggest it be installed in
config/release/tripleo-ci/master.yml in
post-action under mock which is also
installed w/ epel.

Change-Id: I05da917f47c87b76000131266d5279d7b3388dd8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/711982/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/atop.yml', 'playbooks/multinode-undercloud.yml', 'playbooks/multinode-undercloud-minion.yml']",4,159344cf8967af11a5a63a037f63b7a0006e7257,,, - name: Include atop setup include_role: name: undercloud-setup tasks_from: atop,0,29
openstack%2Ftripleo-ci~master~I76d672f71738d2dff70f128682fc29cec5bf0847,openstack/tripleo-ci,master,I76d672f71738d2dff70f128682fc29cec5bf0847,add a non-voting version of standalone-scenario010,ABANDONED,2020-05-27 16:28:45.000000000,2020-08-31 19:47:11.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-27 16:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/22324cdcb56de636cfb6266fe8a2117debed2741', 'message': 'add a non-voting version of standalone-scenario010\n\nPartial-Bug: #1880981\nChange-Id: I76d672f71738d2dff70f128682fc29cec5bf0847\n'}, {'number': 2, 'created': '2020-05-27 16:31:29.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/adde9b7686d3be54b05798e00fa74d7c002ceadb', 'message': 'add a non-voting version of standalone-scenario010\n\nPartial-Bug: #1880981\nChange-Id: I76d672f71738d2dff70f128682fc29cec5bf0847\n'}]",3,731265,adde9b7686d3be54b05798e00fa74d7c002ceadb,15,7,2,9592,,,0,"add a non-voting version of standalone-scenario010

Partial-Bug: #1880981
Change-Id: I76d672f71738d2dff70f128682fc29cec5bf0847
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/731265/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,22324cdcb56de636cfb6266fe8a2117debed2741,,# scenario010 is failing in ussuri # https://bugs.launchpad.net/tripleo/+bug/18809 branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train|ussuri)).*$# scenario010 is failing in ussuri # https://bugs.launchpad.net/tripleo/+bug/18809 - job: name: tripleo-ci-centos-8-scenario010-standalone voting: false parent: tripleo-ci-base-standalone-centos-8 branches: ^(?stable/ussuri).*$ vars: tags: - build - standalone - octavia # using featureset062 is tech debt and should be addressed at a future sprint featureset: '062' standalone_ceph: true tempest_workers: 1 featureset_override: validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' , branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$,24,1
openstack%2Ftripleo-ci~master~I42261054fa6b7df050e3437f6c73d401c01dfdbe,openstack/tripleo-ci,master,I42261054fa6b7df050e3437f6c73d401c01dfdbe,"rocky/stein should vote, train should not for undercloud-upgrades",ABANDONED,2020-06-29 23:13:52.000000000,2020-08-31 19:46:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-29 23:13:52.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a64b99a3fde4784cfc31c02e9ebed424bc476979', 'message': 'rocky/stein should vote, train should not for undercloud-upgrades\n\nPartial-Bug: #1885637\nChange-Id: I42261054fa6b7df050e3437f6c73d401c01dfdbe\n'}]",1,738536,a64b99a3fde4784cfc31c02e9ebed424bc476979,4,2,1,9592,,,0,"rocky/stein should vote, train should not for undercloud-upgrades

Partial-Bug: #1885637
Change-Id: I42261054fa6b7df050e3437f6c73d401c01dfdbe
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/738536/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,a64b99a3fde4784cfc31c02e9ebed424bc476979,, #branches: ^(stable/(rocky|stein|train)).*$ branches: ^(stable/(rocky|stein)).*$ voting: true vars: featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade - job: name: tripleo-ci-centos-7-containerized-undercloud-upgrades parent: tripleo-ci-base-singlenode nodeset: single-centos-7-node branches: ^(stable/train)).*$, branches: ^(stable/(rocky|stein|train)).*$ # TODO(rlandy) make it voting when we confirm # https://review.opendev.org/#/c/611800/ # is working as expected.,15,4
openstack%2Ftripleo-quickstart~master~Ifa3d80d6b035693034bba53ba2ec32f78c6dd836,openstack/tripleo-quickstart,master,Ifa3d80d6b035693034bba53ba2ec32f78c6dd836,unlink trunk/queens.yml add real file,ABANDONED,2020-05-25 03:31:01.000000000,2020-08-31 19:46:02.000000000,,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-25 03:31:01.000000000', 'files': ['config/release/queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4fbd3a240b3b8cf2b033da646264a6f87bb59f3c', 'message': 'unlink trunk/queens.yml add real file\n\nChange-Id: Ifa3d80d6b035693034bba53ba2ec32f78c6dd836\n'}]",0,730550,4fbd3a240b3b8cf2b033da646264a6f87bb59f3c,6,4,1,9592,,,0,"unlink trunk/queens.yml add real file

Change-Id: Ifa3d80d6b035693034bba53ba2ec32f78c6dd836
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/730550/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/queens.yml'],1,4fbd3a240b3b8cf2b033da646264a6f87bb59f3c,,"release: queens dlrn_hash_tag: current-tripleo-rdo docker_image_tag: ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" overcloud_image_url: https://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar ipa_image_url: https://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar overcloud_as_undercloud: true update_images: true images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar inject_images: - ""ironic-python-agent.initramfs"" - ""ironic-python-agent.kernel"" - ""overcloud-full.qcow2"" - ""overcloud-full.initrd"" - ""overcloud-full.vmlinuz"" repos: - type: generic reponame: delorean filename: delorean.repo baseurl: https://trunk.rdoproject.org/centos7-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/ priority: 20 - type: file filename: delorean-deps.repo down_url: https://trunk.rdoproject.org/centos7-{{ release }}/delorean-deps.repo - type: package pkg_name: centos-release-ceph-luminous custom_cmd: 'sudo yum install -y --enablerepo=extras' repo_cmd_after: | sudo yum remove -y centos-release-ceph-hammer || true sudo yum remove -y centos-release-ceph-jewel || true sudo yum-config-manager --save --setopt centos-ceph-luminous.gpgcheck=0 sudo yum repolist; {% if repo_setup_run_update|default(true)|bool %} sudo yum update -y {% endif %} undercloud_rpm_dependencies: >- python-tripleoclient ceph-ansible # NOTE(aschultz) this can be bumped when ansible >=2.4.5 is available via package undercloud_ara_version: 0.15.0 ",,52,0
openstack%2Ftripleo-quickstart~master~Ib1a94f8ac8a329f9bb60a3b8d5a3c5d350ec0f2e,openstack/tripleo-quickstart,master,Ib1a94f8ac8a329f9bb60a3b8d5a3c5d350ec0f2e,remove --verbose from the overcloud deploy command,ABANDONED,2020-03-04 17:42:33.000000000,2020-08-31 19:45:15.000000000,,"[{'_account_id': 8449}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 17:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/75abbd505690d51fe7ec3cfbffc91b5fae3fe38c', 'message': 'WIP: remove --verbose from the overcloud deploy command\n\nDepends-On: https://review.opendev.org/710899\nChange-Id: Ib1a94f8ac8a329f9bb60a3b8d5a3c5d350ec0f2e\n'}, {'number': 2, 'created': '2020-03-09 20:08:49.000000000', 'files': ['config/general_config/featureset039.yml', 'config/general_config/featureset021.yml', 'config/general_config/featureset026.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset017.yml', 'config/general_config/featureset030.yml', 'config/general_config/featureset043.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset031.yml', 'config/general_config/minimal.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset018.yml', 'config/general_config/featureset053.yml', 'config/general_config/featureset010.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset054.yml', 'config/general_config/featureset019.yml', 'config/general_config/featureset032.yml', 'config/general_config/featureset002.yml', 'config/general_config/featureset041.yml', 'config/general_config/featureset033.yml', 'config/general_config/featureset020.yml', 'config/general_config/featureset038.yml', 'config/general_config/featureset055.yml', 'config/general_config/featureset016.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4a4e5f353a20597fdda8321b97637169275deccd', 'message': 'remove --verbose from the overcloud deploy command\n\nDepends-On: https://review.opendev.org/710899\nChange-Id: Ib1a94f8ac8a329f9bb60a3b8d5a3c5d350ec0f2e\n'}]",1,711292,4a4e5f353a20597fdda8321b97637169275deccd,9,4,2,9592,,,0,"remove --verbose from the overcloud deploy command

Depends-On: https://review.opendev.org/710899
Change-Id: Ib1a94f8ac8a329f9bb60a3b8d5a3c5d350ec0f2e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/711292/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset039.yml', 'config/general_config/featureset021.yml', 'config/general_config/featureset026.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset017.yml', 'config/general_config/featureset030.yml', 'config/general_config/featureset043.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset031.yml', 'config/general_config/minimal.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset018.yml', 'config/general_config/featureset053.yml', 'config/general_config/featureset010.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset054.yml', 'config/general_config/featureset019.yml', 'config/general_config/featureset032.yml', 'config/general_config/featureset002.yml', 'config/general_config/featureset041.yml', 'config/general_config/featureset033.yml', 'config/general_config/featureset020.yml', 'config/general_config/featureset038.yml', 'config/general_config/featureset055.yml', 'config/general_config/featureset016.yml']",25,75abbd505690d51fe7ec3cfbffc91b5fae3fe38c,,, --verbose,0,25
openstack%2Ftripleo-quickstart~master~Ifb660bab67ceb693db185ee6f3a71d68d2cbb8ca,openstack/tripleo-quickstart,master,Ifb660bab67ceb693db185ee6f3a71d68d2cbb8ca,reposetup should use common not extras-common,ABANDONED,2019-03-21 19:31:08.000000000,2020-08-31 19:44:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-03-21 19:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c3cf9bc40c4f7fa32923d9f668a191277c769248', 'message': 'reposetup should use common not extras-common\n\nrepo-setup needs to use the common role in tq\nnot extras-common in tqe\n\nChange-Id: Ifb660bab67ceb693db185ee6f3a71d68d2cbb8ca\n'}, {'number': 2, 'created': '2019-03-22 14:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/497c93f00b76795f1d2e5a847e3f3f60dfc2b126', 'message': 'reposetup should use common not extras-common\n\nrepo-setup needs to use the common role in tq\nnot extras-common in tqe\n\nChange-Id: Ifb660bab67ceb693db185ee6f3a71d68d2cbb8ca\n'}, {'number': 3, 'created': '2019-05-13 19:29:49.000000000', 'files': ['roles/repo-setup/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/27cd204f4aec84a29fdb987e37fc43412e0b9e8e', 'message': 'reposetup should use common not extras-common\n\nrepo-setup needs to use the common role in tq\nnot extras-common in tqe\n\nChange-Id: Ifb660bab67ceb693db185ee6f3a71d68d2cbb8ca\n'}]",1,645313,27cd204f4aec84a29fdb987e37fc43412e0b9e8e,17,6,3,9592,,,0,"reposetup should use common not extras-common

repo-setup needs to use the common role in tq
not extras-common in tqe

Change-Id: Ifb660bab67ceb693db185ee6f3a71d68d2cbb8ca
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/13/645313/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/meta/main.yml'],1,c3cf9bc40c4f7fa32923d9f668a191277c769248,, - common, - extras-common,1,1
openstack%2Ftripleo-ci~master~I5700b0fcf94043e956231eeb615b70f4568a6210,openstack/tripleo-ci,master,I5700b0fcf94043e956231eeb615b70f4568a6210,"Revert ""Reenable ARA html generation from collect logs""",ABANDONED,2019-09-19 03:24:42.000000000,2020-08-31 19:43:02.000000000,,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 03:24:42.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4320e3daa8992810bf315912c8ccd53468e54661', 'message': 'Revert ""Reenable ARA html generation from collect logs""\n\nDue to concerns that this also may impact performance..\nTurning this back off and we\'ll pull or push the sqllite db to a report server.\n\nThis reverts commit 8aaa0164e1024fd77d9f7aad1e8f9a4e2f5c88e9.\n\nChange-Id: I5700b0fcf94043e956231eeb615b70f4568a6210\n'}]",0,683025,4320e3daa8992810bf315912c8ccd53468e54661,7,5,1,9592,,,0,"Revert ""Reenable ARA html generation from collect logs""

Due to concerns that this also may impact performance..
Turning this back off and we'll pull or push the sqllite db to a report server.

This reverts commit 8aaa0164e1024fd77d9f7aad1e8f9a4e2f5c88e9.

Change-Id: I5700b0fcf94043e956231eeb615b70f4568a6210
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/25/683025/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode.yml'],1,4320e3daa8992810bf315912c8ccd53468e54661,reenable_ara,ara_generate_html: false,# REENABLED(gcerami) 20190917 as zuul disabled ara reports ara_generate_html: true,1,2
openstack%2Ftripleo-quickstart-extras~master~I21355bf3842b4ed4927632ad17f6396f7347a5ea,openstack/tripleo-quickstart-extras,master,I21355bf3842b4ed4927632ad17f6396f7347a5ea,setup repro playbook to run w/o gerrit change,ABANDONED,2019-04-26 20:51:48.000000000,2020-08-31 19:42:49.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-26 20:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31756b214539bcfa2269902e8fad3457bc72b773', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\npart to will change the script to launch the appropriate\nplaybook for the user.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 2, 'created': '2019-04-26 21:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7cae815ebf095e4865a4f78432c16a0392d75515', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 3, 'created': '2019-04-27 02:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1fde326db39add1cec45f642753a982cb29210d1', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 4, 'created': '2019-04-27 02:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/526ac86c560facf4fb756c14c56c12f6a81216a6', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 5, 'created': '2019-04-29 20:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f15d54b3fc8a6dd6b031d9f758403e1401519a51', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 6, 'created': '2019-05-07 17:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/504045a7436d551530872ee499e58a4ab7538325', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 7, 'created': '2019-05-07 17:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c93fe8d2d028a74b99204b001f5b1d2507a07056', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 8, 'created': '2019-05-08 18:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e07528695464891d99b85f7beec69abad875c8ff', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 9, 'created': '2019-05-08 18:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bca25ed2ab913935298c8c2c1b7a366c1186ad11', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}, {'number': 10, 'created': '2019-05-08 18:27:59.000000000', 'files': ['roles/create-zuul-based-reproducer/defaults/main.yml', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0fba9ec89b4a42dd82fa09f46a9f099a0de64de0', 'message': 'setup repro playbook to run w/o gerrit change\n\npart1 of two parts to allow the user to easily\nrun the reproducer w/o a gerrit change.\npart1 creates a second playbook from the same\njinja template called launcher-playbook-no-change.yaml\n\npart2  will change the script to launch the appropriate\nplaybook for the user if -nc or the --no-change flag is used.\n\nChange-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea\n'}]",9,656014,0fba9ec89b4a42dd82fa09f46a9f099a0de64de0,43,9,10,9592,,,0,"setup repro playbook to run w/o gerrit change

part1 of two parts to allow the user to easily
run the reproducer w/o a gerrit change.
part1 creates a second playbook from the same
jinja template called launcher-playbook-no-change.yaml

part2  will change the script to launch the appropriate
playbook for the user if -nc or the --no-change flag is used.

Change-Id: I21355bf3842b4ed4927632ad17f6396f7347a5ea
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/14/656014/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-zuul-based-reproducer/defaults/main.yml', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2', 'roles/create-zuul-based-reproducer/tasks/main.yml']",3,31756b214539bcfa2269902e8fad3457bc72b773,I21355bf3842b4ed4927632ad17f6396f7347a5ea,"- name: set the variable use_depends_on to false set_fact: use_depends_on: false - name: Create the zuul-based launcher-playbook w/o depends-on from template template: src: ""{{ reproducer_zuul_based_launcher_playbook }}"" dest: ""{{ artcl_collect_dir }}/{{ zuul_reproducer_dir }}/launcher-playbook-no-change.yaml"" mode: 0755 - ""{{ artcl_collect_dir }}/{{ zuul_reproducer_dir }}/launcher-playbook-no-change.yaml""",,13,1
openstack%2Ftripleo-quickstart-extras~master~Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f,openstack/tripleo-quickstart-extras,master,Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f,allow external ansible role for 3rd party job,ABANDONED,2019-07-31 23:13:46.000000000,2020-08-31 19:42:37.000000000,,"[{'_account_id': 8866}, {'_account_id': 9098}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11589}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-07-31 23:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08a6913eaef03441b02cc3035b664f415ace6a07', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 2, 'created': '2019-08-01 14:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2a2a6aed768cafa1b425c59771308b5f8309b0e', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 3, 'created': '2019-08-01 15:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5cd61be2795bf670c4f4721a221a9d7702c317cf', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 4, 'created': '2019-08-05 18:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f951c7705db07b4c3d6d65f1a61bac488ff0377d', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 5, 'created': '2019-09-12 19:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/785d92f37a3fb9f2e0e2c3189c865632e426dbcd', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 6, 'created': '2019-09-12 19:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/136dd2cbf34f96e0ad47cecb58fc26b36030edb1', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 7, 'created': '2019-09-17 12:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/258a3772b91fc7c98aeaf6bb904179ff49506585', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 8, 'created': '2019-09-17 12:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cc9e249bf2e530969ae7468e347316850abd8778', 'message': 'WIP: allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 9, 'created': '2019-10-07 13:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/597ad29b7dc05fec64e752202d3bb37539885dfc', 'message': 'allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}, {'number': 10, 'created': '2019-10-07 13:26:00.000000000', 'files': ['playbooks/third_party_clone_keycloak.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6e1fedc10dd7bd4d8470f87efae4cfdc3cd98f5e', 'message': 'allow external ansible role for 3rd party job\n\nupstream policy prevents using 3rd party ansible\nfrom non-openstack projects. However 3rd party CI\nwould allow this by policy.\n\nObjective: Clone the ansible-keycloak role\nspecifically for the one job that uses it.\n\nChange-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f\n'}]",4,673926,6e1fedc10dd7bd4d8470f87efae4cfdc3cd98f5e,55,9,10,9592,,,0,"allow external ansible role for 3rd party job

upstream policy prevents using 3rd party ansible
from non-openstack projects. However 3rd party CI
would allow this by policy.

Objective: Clone the ansible-keycloak role
specifically for the one job that uses it.

Change-Id: Idaabacfc84a30a0ebd83ecd50fcc22109e25c09f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/673926/10 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/third_party_clone_keycloak.yml'],1,08a6913eaef03441b02cc3035b664f415ace6a07,ansible-role-3rd-party-job,--- # Due to upstream policy the tripleo project can not directly add # the keycloak role directly into tq/quickstart-extras-requirements.txt # The above would clone the repo in every upstream job and potentially # cause fatal errors in upstream preventing a merge. # # There is no 3rd party policy that would prevent cloning a github # repo that is not governed by OpenStack. # # Goal: create a single playbook to clone the repo and add it to # the playbook list in the specific job definition. ATM a # single playbook might be an advantage as the code may be # added to opendev.org in the near future. - name: clone the required repos for tls featureset039 hosts: localhost tasks: - name: clone ansible-keycloak git: repo: 'https://github.com/nkinder/ansible-keycloak.git' dest: $VIRTUAL_ENV/usr/local/share/ansible/roles/nkinder.keycloak/ - name: ensure role was properly cloned stat: path: $VIRTUAL_ENV/usr/local/share/ansible/roles/nkinder.keycloak/setup.cfg register: st - fail: msg: ansible-keycloak was not cloned correctly when: not st.stat.exists ,,30,0
openstack%2Fneutron-lib~master~I2dc248d816298bee9461a35cacbc498c6452de76,openstack/neutron-lib,master,I2dc248d816298bee9461a35cacbc498c6452de76,Deprecate 'remote_ip_prefix' parameter in metering label rules,MERGED,2020-07-29 19:21:21.000000000,2020-08-31 19:37:22.000000000,2020-08-31 19:35:52.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-07-29 19:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c76351a3f1c0009d3765e95d4a51ad87250b222e', 'message': 'Add local-ip-prefix to Neutron metering label rules\n\nChange-Id: I2dc248d816298bee9461a35cacbc498c6452de76\nImplements: https://bugs.launchpad.net/neutron/+bug/1889431\nCloses-Bug: #1889431\n'}, {'number': 2, 'created': '2020-07-29 20:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bd70ef7255a8418db31e6102ab3a03e330c38bf2', 'message': 'Add local-ip-prefix to Neutron metering label rules\n\nChange-Id: I2dc248d816298bee9461a35cacbc498c6452de76\nImplements: https://bugs.launchpad.net/neutron/+bug/1889431\nCloses-Bug: #1889431\n'}, {'number': 3, 'created': '2020-07-30 16:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2c600875d127d72c8a7ad0f90552ba9ac64653b6', 'message': 'Add local-ip-prefix to Neutron metering label rules\n\nChange-Id: I2dc248d816298bee9461a35cacbc498c6452de76\nImplements: https://bugs.launchpad.net/neutron/+bug/1889431\nCloses-Bug: #1889431\n'}, {'number': 4, 'created': '2020-08-13 11:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/954fec6881cf165649c8f5c9ad335e4f5641746d', 'message': ""Deprecate 'remote_ip_prefix' parameter in metering label rules\n\nThe parameter 'remote_ip_prefix' in metering label rules has been\ndeprecated. Its name expresses the opposite of what does when used,\nand the lack of documentation confuses people. Moreover, an alternative\nmethod has been proposed and approved to enable operators to create\nmetering rules using both source and destination IP addresses.\n\nThe parameter will be removed in future releases.\n\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\n\nChange-Id: I2dc248d816298bee9461a35cacbc498c6452de76\n""}, {'number': 5, 'created': '2020-08-14 11:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/02595de4f4ecf9ef4ad08c0f4dee9a6ac94fa2c4', 'message': ""Deprecate 'remote_ip_prefix' parameter in metering label rules\n\nThe parameter 'remote_ip_prefix' in metering label rules has been\ndeprecated. Its name expresses the opposite of what does when used,\nand the lack of documentation confuses people. Moreover, an alternative\nmethod has been proposed and approved to enable operators to create\nmetering rules using both source and destination IP addresses.\n\nThe parameter will be removed in future releases.\n\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\n\nChange-Id: I2dc248d816298bee9461a35cacbc498c6452de76\n""}, {'number': 6, 'created': '2020-08-26 14:08:35.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/metering.inc', 'releasenotes/notes/deprecate-remote_ip_prefix-in-metering-label-rules-308b3d430bc213b3.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/713f3e5b54f41724010ce47f1d8741052ef1d70f', 'message': ""Deprecate 'remote_ip_prefix' parameter in metering label rules\n\nThe parameter 'remote_ip_prefix' in metering label rules has been\ndeprecated. Its name expresses the opposite of what does when used,\nand the lack of documentation confuses people. Moreover, an alternative\nmethod has been proposed and approved to enable operators to create\nmetering rules using both source and destination IP addresses.\n\nThe parameter will be removed in future releases.\n\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\n\nChange-Id: I2dc248d816298bee9461a35cacbc498c6452de76\n""}]",5,743828,713f3e5b54f41724010ce47f1d8741052ef1d70f,33,5,6,28356,,,0,"Deprecate 'remote_ip_prefix' parameter in metering label rules

The parameter 'remote_ip_prefix' in metering label rules has been
deprecated. Its name expresses the opposite of what does when used,
and the lack of documentation confuses people. Moreover, an alternative
method has been proposed and approved to enable operators to create
metering rules using both source and destination IP addresses.

The parameter will be removed in future releases.

Partially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431
RFE: https://bugs.launchpad.net/neutron/+bug/1889431
Depends-On: https://review.opendev.org/#/c/744702/

Change-Id: I2dc248d816298bee9461a35cacbc498c6452de76
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/28/743828/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/metering.py', 'api-ref/source/v2/samples/metering/metering-label-rule-create-response.json', 'api-ref/source/v2/samples/metering/metering-label-rule-show-response.json', 'neutron_lib/tests/unit/api/definitions/test_metering.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/metering.inc', 'api-ref/source/v2/samples/metering/metering-label-rule-create-request.json', 'releasenotes/notes/introduce-local_ip_prefix-to-metering-label-rules-1b4b6fa9695d6a5b.yaml', 'neutron_lib/exceptions/metering.py', 'api-ref/source/v2/samples/metering/metering-label-rules-list-response.json']",10,c76351a3f1c0009d3765e95d4a51ad87250b222e,bug/1889431," ""remote_ip_prefix"": ""0.0.0.0/0"", ""local_ip_prefix"": ""10.0.0.0/24"", ""remote_ip_prefix"": ""0.0.0.0/0"", ""local_ip_prefix"": ""10.0.0.0/24"","," ""remote_ip_prefix"": ""20.0.0.0/24"", ""remote_ip_prefix"": ""10.0.0.0/24"",",43,6
openstack%2Ftripleo-ci~master~I7bf6224c0647a270d287350e32747cab0027dc0b,openstack/tripleo-ci,master,I7bf6224c0647a270d287350e32747cab0027dc0b,use the ansible_major_dist vs pkg_manager to determin python version,ABANDONED,2020-02-12 20:55:25.000000000,2020-08-31 19:36:42.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 20:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7797b7cb67572da09f38cf9877d38504b4e25225', 'message': 'use the ansible_major_dist vs pkg_manager to determin python version\n\nthe package_manager version is not as reliable\nas using the distribution major version\n\nChange-Id: I7bf6224c0647a270d287350e32747cab0027dc0b\n'}, {'number': 2, 'created': '2020-02-13 16:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f62f9eba06d46f2bc8c9bbfff0d61bd5a97b487a', 'message': 'use the ansible_major_dist vs pkg_manager to determin python version\n\nthe package_manager version is not as reliable\nas using the distribution major version\n\nChange-Id: I7bf6224c0647a270d287350e32747cab0027dc0b\n'}, {'number': 3, 'created': '2020-02-13 16:12:08.000000000', 'files': ['roles/tripleo-repos/defaults/main.yml', 'roles/tripleo-repos/tasks/main.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6cdacf2a80ed7e278f7f08d73b0d9822e3f9b780', 'message': 'use the ansible_major_dist vs pkg_manager to determin python version\n\nthe package_manager version is not as reliable\nas using the distribution major version\n\nChange-Id: I7bf6224c0647a270d287350e32747cab0027dc0b\n'}]",3,707469,6cdacf2a80ed7e278f7f08d73b0d9822e3f9b780,12,3,3,9592,,,0,"use the ansible_major_dist vs pkg_manager to determin python version

the package_manager version is not as reliable
as using the distribution major version

Change-Id: I7bf6224c0647a270d287350e32747cab0027dc0b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/707469/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-repos/defaults/main.yml', 'roles/tripleo-repos/tasks/main.yml']",2,7797b7cb67572da09f38cf9877d38504b4e25225,," virtualenv_python: ""{{ virtualenv_python[ansible_distribution_major_version|int] }}"""," virtualenv_python: ""{{ virtualenv_python[ansible_pkg_mgr] }}""",3,3
openstack%2Ftripleo-ci~master~Ib0840f102029999983267222dfd65b0798f0ae33,openstack/tripleo-ci,master,Ib0840f102029999983267222dfd65b0798f0ae33,containerized-undercloud-upgrade back to voting,ABANDONED,2019-04-09 12:20:47.000000000,2020-08-31 19:36:25.000000000,,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-09 12:20:47.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1977e246b56e70348e540f7c41357a2ab0e8a23d', 'message': 'containerized-undercloud-upgrade back to voting\n\nThis job is running well enough to vote\nhttp://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-containerized-undercloud-upgrades\n\nChange-Id: Ib0840f102029999983267222dfd65b0798f0ae33\n'}]",0,651218,1977e246b56e70348e540f7c41357a2ab0e8a23d,10,6,1,9592,,,0,"containerized-undercloud-upgrade back to voting

This job is running well enough to vote
http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-containerized-undercloud-upgrades

Change-Id: Ib0840f102029999983267222dfd65b0798f0ae33
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/651218/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,1977e246b56e70348e540f7c41357a2ab0e8a23d,,, # TODO(rlandy) make it voting when we confirm # https://review.openstack.org/#/c/611800/ # is working as expected. voting: false,0,4
openstack%2Ftripleo-heat-templates~master~Iccf68553c3b2abf989f6e1c250e4c8f753280c77,openstack/tripleo-heat-templates,master,Iccf68553c3b2abf989f6e1c250e4c8f753280c77,update vbmc_setup yaml for python3 packages,ABANDONED,2020-03-25 01:59:34.000000000,2020-08-31 19:35:01.000000000,,"[{'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-25 01:59:34.000000000', 'files': ['ci/common/vbmc_setup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f19031938c530e202f2c528d6a748ec6d702fbb', 'message': 'update vbmc_setup yaml for python3 packages\n\nmaking sure everything in master refers to\npython3\n\nChange-Id: Iccf68553c3b2abf989f6e1c250e4c8f753280c77\n'}]",0,714807,5f19031938c530e202f2c528d6a748ec6d702fbb,11,5,1,9592,,,0,"update vbmc_setup yaml for python3 packages

making sure everything in master refers to
python3

Change-Id: Iccf68553c3b2abf989f6e1c250e4c8f753280c77
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/714807/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/common/vbmc_setup.yaml'],1,5f19031938c530e202f2c528d6a748ec6d702fbb,tripleo-remove-py27, yum install -y python3-virtualbmc epel-release libvirt-client libvirt-daemon libvirt qemu-kvm-ev, yum install -y python2-virtualbmc epel-release libvirt-client libvirt-daemon libvirt qemu-kvm-ev,1,1
openstack%2Fopenstack-ansible~stable%2Fussuri~I009f844d8fcf5ac7043f4054dc4f514bed8c38d9,openstack/openstack-ansible,stable/ussuri,I009f844d8fcf5ac7043f4054dc4f514bed8c38d9,Remove mapping of gnocchi_dentity_only to swift,MERGED,2020-08-18 07:14:37.000000000,2020-08-31 19:29:51.000000000,2020-08-31 19:28:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-18 07:14:37.000000000', 'files': ['playbooks/os-gnocchi-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b17728d14b4515ea388aebb0e9934417633aca1', 'message': 'Remove mapping of gnocchi_dentity_only to swift\n\nEven with swift driver gnocchi needs config files to be deployed,\nservice to be created, etc. There is no reason to omit\neverything in case of storage driver is swift\n\nChange-Id: I009f844d8fcf5ac7043f4054dc4f514bed8c38d9\n(cherry picked from commit da9c7a806d4d0118ed1405a72e100ce274728095)\n'}]",0,746642,5b17728d14b4515ea388aebb0e9934417633aca1,20,3,1,25023,,,0,"Remove mapping of gnocchi_dentity_only to swift

Even with swift driver gnocchi needs config files to be deployed,
service to be created, etc. There is no reason to omit
everything in case of storage driver is swift

Change-Id: I009f844d8fcf5ac7043f4054dc4f514bed8c38d9
(cherry picked from commit da9c7a806d4d0118ed1405a72e100ce274728095)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/746642/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-gnocchi-install.yml'],1,5b17728d14b4515ea388aebb0e9934417633aca1,,," gnocchi_identity_only: ""{{ ((gnocchi_storage_driver | default('file')) == 'swift') | ternary(true, false)}}""",0,1
openstack%2Ftripleo-ci~master~I836841499dad4670d197f901dac82665c1bdf37c,openstack/tripleo-ci,master,I836841499dad4670d197f901dac82665c1bdf37c,add default settings for browbeat,ABANDONED,2019-06-26 18:53:47.000000000,2020-08-31 19:07:50.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 18:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/78a65cdb283682d4893c1a80dad5b5d8343052bb', 'message': ""add default settings for browbeat\n\ndon't rely on default browbeat settings\nin the browbeat repo, ensure they are off\nby setting them here.\n\nChange-Id: I836841499dad4670d197f901dac82665c1bdf37c\n""}, {'number': 2, 'created': '2019-06-26 18:55:06.000000000', 'files': ['roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e24102a7dc4d1d238c2792bd36264f88eec237bd', 'message': ""add default settings for browbeat\n\nadd allow_minimal_browbeat to featureset\noverride.\n\ndon't rely on default browbeat settings\nin the browbeat repo, ensure they are off\nby setting them here.\n\nChange-Id: I836841499dad4670d197f901dac82665c1bdf37c\n""}]",0,667706,e24102a7dc4d1d238c2792bd36264f88eec237bd,6,3,2,9592,,,0,"add default settings for browbeat

add allow_minimal_browbeat to featureset
override.

don't rely on default browbeat settings
in the browbeat repo, ensure they are off
by setting them here.

Change-Id: I836841499dad4670d197f901dac82665c1bdf37c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/667706/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb.yml'],1,78a65cdb283682d4893c1a80dad5b5d8343052bb,, # BROWBEAT # disable most of browbeat by default # featureset_override per job will enable # enable_minimal_browbeat: elastic_enabled: false grafana_enabled: false statsd_enabled: false rsyslog_forwarding: false browbeat_config_file: browbeat-minimal-ci.yaml.j2,,10,0
openstack%2Fmasakari-dashboard~master~I4fb8b0158c02d4aacbc9def481ae00f13d433fd8,openstack/masakari-dashboard,master,I4fb8b0158c02d4aacbc9def481ae00f13d433fd8,Change the CONTRIBUTING.rst to the right pattern,MERGED,2019-12-25 08:45:19.000000000,2020-08-31 19:05:43.000000000,2020-08-31 19:05:43.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-25 08:45:19.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/40f8a54b8ef814712ab7a3a0eb21310f1c87df00', 'message': 'Change the CONTRIBUTING.rst to the right pattern\n\nChange-Id: I4fb8b0158c02d4aacbc9def481ae00f13d433fd8\n'}]",0,700550,40f8a54b8ef814712ab7a3a0eb21310f1c87df00,7,3,1,27399,,,0,"Change the CONTRIBUTING.rst to the right pattern

Change-Id: I4fb8b0158c02d4aacbc9def481ae00f13d433fd8
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/50/700550/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,40f8a54b8ef814712ab7a3a0eb21310f1c87df00,developer,"Contributing ============ How To Get Started ------------------ https://docs.openstack.org/infra/manual/developers.html Gerrit Workflow --------------- https://docs.openstack.org/infra/manual/developers.html#development-workflowBugs ---- Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/masakari","https://docs.openstack.org/infra/manual/developers.htmlhttps://docs.openstack.org/infra/manual/developers.html#development-workflowBugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/masakari",18,3
openstack%2Fmasakari-dashboard~master~I6bb15525b122c7b00e8744c08d2aa71d7e5b757c,openstack/masakari-dashboard,master,I6bb15525b122c7b00e8744c08d2aa71d7e5b757c,Fix the wrong links,MERGED,2019-12-25 08:32:47.000000000,2020-08-31 19:05:42.000000000,2020-08-31 19:05:42.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30491}, {'_account_id': 30562}, {'_account_id': 31000}]","[{'number': 1, 'created': '2019-12-25 08:32:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/ac8cbab0288264ab4ea03119daf68e3e08ea04a0', 'message': 'Fix the wrong links\n\nChange-Id: I6bb15525b122c7b00e8744c08d2aa71d7e5b757c\n'}]",0,700549,ac8cbab0288264ab4ea03119daf68e3e08ea04a0,9,5,1,27399,,,0,"Fix the wrong links

Change-Id: I6bb15525b122c7b00e8744c08d2aa71d7e5b757c
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/49/700549/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ac8cbab0288264ab4ea03119daf68e3e08ea04a0,developer,* Source: https://opendev.org/openstack/masakari-dashboard/ * Bugs: https://bugs.launchpad.net/masakari,* Source: http://git.openstack.org/cgit/openstack/masakari-dashboard * Bugs: http://bugs.launchpad.net/masakari,2,2
openstack%2Ftripleo-ci~master~I2d8c29d6fcf00a45166d0fb4d04a0c90d7cc5518,openstack/tripleo-ci,master,I2d8c29d6fcf00a45166d0fb4d04a0c90d7cc5518,add image_sanity_fail var to switch failing job,ABANDONED,2020-06-04 20:16:30.000000000,2020-08-31 18:52:59.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 20:16:30.000000000', 'files': ['roles/oooci-build-images/tasks/image_sanity.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0baca67fc9eacd92b0ddbc9c2f12efbd76c71f12', 'message': 'add image_sanity_fail var to switch failing job\n\nChange-Id: I2d8c29d6fcf00a45166d0fb4d04a0c90d7cc5518\n'}]",0,733690,0baca67fc9eacd92b0ddbc9c2f12efbd76c71f12,4,3,1,9592,,,0,"add image_sanity_fail var to switch failing job

Change-Id: I2d8c29d6fcf00a45166d0fb4d04a0c90d7cc5518
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/733690/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/image_sanity.yaml'],1,0baca67fc9eacd92b0ddbc9c2f12efbd76c71f12,, - image_sanity_fail|default(false)|bool, - zuul.ref is defined - periodic|default(false)|bool,1,2
openstack%2Ftripleo-ci~master~I63aaebf368ff16396771576e871d9e1e813b6a54,openstack/tripleo-ci,master,I63aaebf368ff16396771576e871d9e1e813b6a54,dump all the variables known to ansible in post,ABANDONED,2020-06-04 20:45:52.000000000,2020-08-31 18:52:58.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 20:45:52.000000000', 'files': ['playbooks/tripleo-ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4bc2d0434978d64c0d941991a26eb656ea05656c', 'message': 'dump all the variables known to ansible in post\n\nthis will be handy in image build and\ncontainer image build jobs.  Jobs that\nrun w/o collect logs.\n\nChange-Id: I63aaebf368ff16396771576e871d9e1e813b6a54\n'}]",0,733694,4bc2d0434978d64c0d941991a26eb656ea05656c,6,4,1,9592,,,0,"dump all the variables known to ansible in post

this will be handy in image build and
container image build jobs.  Jobs that
run w/o collect logs.

Change-Id: I63aaebf368ff16396771576e871d9e1e813b6a54
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/733694/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/post.yaml'],1,4bc2d0434978d64c0d941991a26eb656ea05656c,," - name: dump all the variables known to ansible local_action: module: copy content: ""{{ vars | to_nice_yaml }}.stdout_lines"" dest: ""{{ ansible_user_dir }}/workspace/logs/dump_variables_vars.yaml"" ",,6,0
openstack%2Ftripleo-ci~master~I22fc5a4b1618833ac3ac2012c8b28c59acdbc736,openstack/tripleo-ci,master,I22fc5a4b1618833ac3ac2012c8b28c59acdbc736,DNM Test py3 centos7 image build,ABANDONED,2020-06-03 01:59:49.000000000,2020-08-31 18:52:57.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-03 01:59:49.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c981af022ad872824943ead88e8fc6942fa1983', 'message': 'DNM Test py3 centos7 image build\n\nChange-Id: I22fc5a4b1618833ac3ac2012c8b28c59acdbc736\n'}]",0,733035,2c981af022ad872824943ead88e8fc6942fa1983,4,3,1,9592,,,0,"DNM Test py3 centos7 image build

Change-Id: I22fc5a4b1618833ac3ac2012c8b28c59acdbc736
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/733035/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,2c981af022ad872824943ead88e8fc6942fa1983,py3-c7," - python3-pip - python3-virtualenv - name: Install PyYAML for python3 package: name: python3-pyyaml state: present become: true - name: Install python3-devel with provides pathfix.py package: name: python3-devel state: present become: true - name: Create a script that fixes shebang for python3 template: src: pathfix_repos.sh.j2 dest: ""{{ workspace }}/pathfix_repos.sh"" mode: u=rwx - name: Fix shebang path for python3 command: bash {{ workspace }}/pathfix_repos.sh","# get python_v fact used with vars/common.yaml to get # python2 or python3 packages in below tasks - name: Get python_v fact for py2 or py3 common vars include_tasks: check_set_py3.yaml - ""{{ python_version[python_v] }}-pip"" - ""{{ python_version[python_v] }}-virtualenv"" - when: python_v == ""py2"" block: - name: Install PyYAML for python2 package: name: PyYAML state: present become: true - when: python_v == ""py3"" block: - name: Install PyYAML for python3 package: name: python3-pyyaml state: present become: true - name: Install python3-devel with provides pathfix.py package: name: python3-devel state: present become: true - name: Create a script that fixes shebang for python3 template: src: pathfix_repos.sh.j2 dest: ""{{ workspace }}/pathfix_repos.sh"" mode: u=rwx - name: Fix shebang path for python3 command: bash {{ workspace }}/pathfix_repos.sh",19,37
openstack%2Ftripleo-quickstart~master~Id61ba64b8bc4612107b4b20d28cbdaaf6eb44e4e,openstack/tripleo-quickstart,master,Id61ba64b8bc4612107b4b20d28cbdaaf6eb44e4e,"DNM, test container stats",ABANDONED,2020-06-08 13:49:39.000000000,2020-08-31 18:52:54.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 13:49:39.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0d437c5cb91386dce55c7af29f9fc748b342b67e', 'message': 'DNM, test container stats\n\nDepends-On: https://review.opendev.org/#/c/731578\nChange-Id: Id61ba64b8bc4612107b4b20d28cbdaaf6eb44e4e\n'}]",0,734092,0d437c5cb91386dce55c7af29f9fc748b342b67e,4,3,1,9592,,,0,"DNM, test container stats

Depends-On: https://review.opendev.org/#/c/731578
Change-Id: Id61ba64b8bc4612107b4b20d28cbdaaf6eb44e4e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/734092/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,0d437c5cb91386dce55c7af29f9fc748b342b67e,, standalone_tripleo_container_manage_stats: true,,2,0
openstack%2Ftripleo-puppet-elements~stable%2Fussuri~I6896232cdc339f68d7f6eca807ef0925af45ae46,openstack/tripleo-puppet-elements,stable/ussuri,I6896232cdc339f68d7f6eca807ef0925af45ae46,Drop podman-docker from CentOS/RHEL8,MERGED,2020-08-11 21:23:16.000000000,2020-08-31 18:51:56.000000000,2020-08-31 18:51:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 21:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/e54d0bfa274c5c04ffa9d1c492aa7845a67b5f28', 'message': 'Drop podman-docker from CentOS/RHEL8\n\nCommit a5ca5d269d605eb232cc81f455f09e8d72d1911c removed the docker\npackages; we can remove it from the CentOS8 and RHEL8 blocks as well.\n\nRelated: rhbz#1858372\n\nChange-Id: I6896232cdc339f68d7f6eca807ef0925af45ae46\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry picked from commit 1c230f7f3ec7cd7e5a404f522a5a28e3b69b81a2)\n'}, {'number': 2, 'created': '2020-08-28 19:37:21.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/405c8d40139bd15517a49e5977db2df6a9caaf3d', 'message': 'Drop podman-docker from CentOS/RHEL8\n\nCommit a5ca5d269d605eb232cc81f455f09e8d72d1911c removed the docker\npackages; we can remove it from the CentOS8 and RHEL8 blocks as well.\n\nRelated: rhbz#1858372\n\nChange-Id: I6896232cdc339f68d7f6eca807ef0925af45ae46\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry picked from commit 7cc43a495675f467199408c7e3c3997e34324dbb)\n'}]",0,745748,405c8d40139bd15517a49e5977db2df6a9caaf3d,15,4,2,8161,,,0,"Drop podman-docker from CentOS/RHEL8

Commit a5ca5d269d605eb232cc81f455f09e8d72d1911c removed the docker
packages; we can remove it from the CentOS8 and RHEL8 blocks as well.

Related: rhbz#1858372

Change-Id: I6896232cdc339f68d7f6eca807ef0925af45ae46
Signed-off-by: Lon Hohberger <lhh@redhat.com>
(cherry picked from commit 7cc43a495675f467199408c7e3c3997e34324dbb)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/48/745748/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,e54d0bfa274c5c04ffa9d1c492aa7845a67b5f28,drop-podman-from-oc,," ""docker"": ""podman-docker"", ""python_docker_py"": """" ""docker"": ""podman-docker"", ""python_docker_py"": """"",0,4
openstack%2Fpuppet-tripleo~master~I2f52473edb78b5359eeb5c734b4d9691f86ccd26,openstack/puppet-tripleo,master,I2f52473edb78b5359eeb5c734b4d9691f86ccd26,Include gnocchi::db explicitly,MERGED,2020-08-31 08:41:56.000000000,2020-08-31 18:51:54.000000000,2020-08-31 18:51:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-08-31 08:41:56.000000000', 'files': ['manifests/profile/base/gnocchi.pp', 'spec/classes/tripleo_profile_base_gnocchi_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/97febdc778d554a870e64ba2f5fb63daf601aae2', 'message': 'Include gnocchi::db explicitly\n\nThe inclusion of gnocchi::db will be removed from gnocchi when we\nremove deprecated database_connection parameter[1], thus we should\ninclude the class explicitly.\n\n[1] https://review.opendev.org/#/c/748928/\n\nChange-Id: I2f52473edb78b5359eeb5c734b4d9691f86ccd26\n'}]",0,748983,97febdc778d554a870e64ba2f5fb63daf601aae2,8,4,1,9816,,,0,"Include gnocchi::db explicitly

The inclusion of gnocchi::db will be removed from gnocchi when we
remove deprecated database_connection parameter[1], thus we should
include the class explicitly.

[1] https://review.opendev.org/#/c/748928/

Change-Id: I2f52473edb78b5359eeb5c734b4d9691f86ccd26
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/748983/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/gnocchi.pp', 'spec/classes/tripleo_profile_base_gnocchi_spec.rb']",2,97febdc778d554a870e64ba2f5fb63daf601aae2,gnocchi-db_connection, is_expected.to_not contain_class('gnocchi::db') is_expected.to contain_class('gnocchi::db') is_expected.to_not contain_class('gnocchi::db') is_expected.to contain_class('gnocchi::db'),,5,0
openstack%2Ftripleo-puppet-elements~master~I6896232cdc339f68d7f6eca807ef0925af45ae46,openstack/tripleo-puppet-elements,master,I6896232cdc339f68d7f6eca807ef0925af45ae46,Drop podman-docker from CentOS/RHEL8,MERGED,2020-08-11 20:59:19.000000000,2020-08-31 18:51:53.000000000,2020-08-31 18:51:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 20:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/1c230f7f3ec7cd7e5a404f522a5a28e3b69b81a2', 'message': 'Drop podman-docker from CentOS/RHEL8\n\nCommit a5ca5d269d605eb232cc81f455f09e8d72d1911c removed the docker\npackages; we can remove it from the CentOS8 and RHEL8 blocks as well.\n\nRelated: rhbz#1858372\n\nChange-Id: I6896232cdc339f68d7f6eca807ef0925af45ae46\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}, {'number': 2, 'created': '2020-08-28 19:22:45.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/7cc43a495675f467199408c7e3c3997e34324dbb', 'message': 'Drop podman-docker from CentOS/RHEL8\n\nCommit a5ca5d269d605eb232cc81f455f09e8d72d1911c removed the docker\npackages; we can remove it from the CentOS8 and RHEL8 blocks as well.\n\nRelated: rhbz#1858372\n\nChange-Id: I6896232cdc339f68d7f6eca807ef0925af45ae46\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}]",2,745745,7cc43a495675f467199408c7e3c3997e34324dbb,18,5,2,8161,,,0,"Drop podman-docker from CentOS/RHEL8

Commit a5ca5d269d605eb232cc81f455f09e8d72d1911c removed the docker
packages; we can remove it from the CentOS8 and RHEL8 blocks as well.

Related: rhbz#1858372

Change-Id: I6896232cdc339f68d7f6eca807ef0925af45ae46
Signed-off-by: Lon Hohberger <lhh@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/45/745745/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,1c230f7f3ec7cd7e5a404f522a5a28e3b69b81a2,drop-podman-from-oc,," ""docker"": ""podman-docker"", ""python_docker_py"": """" ""docker"": ""podman-docker"", ""python_docker_py"": """"",0,4
openstack%2Ftripleo-heat-templates~master~I82af22c8b7ee10b06ee1dc749764e77da984cd04,openstack/tripleo-heat-templates,master,I82af22c8b7ee10b06ee1dc749764e77da984cd04,dpdk_telemetry is not used,MERGED,2020-08-25 06:30:35.000000000,2020-08-31 18:51:51.000000000,2020-08-31 18:51:51.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 06:30:35.000000000', 'files': ['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f860ca59a58cacd949dbc7d56e013c98872c4370', 'message': 'dpdk_telemetry is not used\n\nIt was removed from downstream.\n\nChange-Id: I82af22c8b7ee10b06ee1dc749764e77da984cd04\n'}]",0,747838,f860ca59a58cacd949dbc7d56e013c98872c4370,10,4,1,4264,,,0,"dpdk_telemetry is not used

It was removed from downstream.

Change-Id: I82af22c8b7ee10b06ee1dc749764e77da984cd04
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/747838/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml']",2,f860ca59a58cacd949dbc7d56e013c98872c4370,remove_dpdk_telemetry,," service_config_settings: map_merge: - get_attr: [OpenvswitchDpdk, role_data, service_config_settings] - collectd: tripleo.collectd.plugins.neutron_ovn_dpdk: - dpdk_telemetry",0,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If293b20c29b74158ecdee4e47e97535baefde72c,openstack/tripleo-heat-templates,stable/ussuri,If293b20c29b74158ecdee4e47e97535baefde72c,"Default to storage_dashboard, when set, for the CephDashboard service",MERGED,2020-08-28 13:51:39.000000000,2020-08-31 18:45:19.000000000,2020-08-31 18:45:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 13:51:39.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4907bf8fbc4fc30b86ca3c5d99adc03432c53005', 'message': 'Default to storage_dashboard, when set, for the CephDashboard service\n\nThe Ceph dashboard net was statically mapped to ctlplane which is\na sane default except when storage_dashboard is set precisely to\ncustomize the listening network.\n\nThis change ensures we consume storage_dashboard when set instead\nof using always ctlplane.\n\nChange-Id: If293b20c29b74158ecdee4e47e97535baefde72c\n(cherry picked from commit b81035d0076b711896a32b78a4fccc57cac2e063)\n'}]",0,748668,4907bf8fbc4fc30b86ca3c5d99adc03432c53005,9,4,1,25402,,,0,"Default to storage_dashboard, when set, for the CephDashboard service

The Ceph dashboard net was statically mapped to ctlplane which is
a sane default except when storage_dashboard is set precisely to
customize the listening network.

This change ensures we consume storage_dashboard when set instead
of using always ctlplane.

Change-Id: If293b20c29b74158ecdee4e47e97535baefde72c
(cherry picked from commit b81035d0076b711896a32b78a4fccc57cac2e063)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/748668/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,4907bf8fbc4fc30b86ca3c5d99adc03432c53005,ceph_dashboard_composable_network," CephDashboardNetwork: {{ _service_nets.get('storage_dashboard', 'ctlplane') }} CephGrafanaNetwork: {{ _service_nets.get('storage_dashboard', 'ctlplane') }}"," CephDashboardNetwork: ctlplane CephGrafanaNetwork: {{ _service_nets.get('storage', 'ctlplane') }}",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If293b20c29b74158ecdee4e47e97535baefde72c,openstack/tripleo-heat-templates,stable/train,If293b20c29b74158ecdee4e47e97535baefde72c,"Default to storage_dashboard, when set, for the CephDashboard service",MERGED,2020-08-28 13:52:05.000000000,2020-08-31 18:45:17.000000000,2020-08-31 18:45:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 13:52:05.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/172e03fcd8b2eb1e248e6575bcaa68d6be44a220', 'message': 'Default to storage_dashboard, when set, for the CephDashboard service\n\nThe Ceph dashboard net was statically mapped to ctlplane which is\na sane default except when storage_dashboard is set precisely to\ncustomize the listening network.\n\nThis change ensures we consume storage_dashboard when set instead\nof using always ctlplane.\n\nChange-Id: If293b20c29b74158ecdee4e47e97535baefde72c\n(cherry picked from commit b81035d0076b711896a32b78a4fccc57cac2e063)\n'}]",0,748669,172e03fcd8b2eb1e248e6575bcaa68d6be44a220,9,4,1,25402,,,0,"Default to storage_dashboard, when set, for the CephDashboard service

The Ceph dashboard net was statically mapped to ctlplane which is
a sane default except when storage_dashboard is set precisely to
customize the listening network.

This change ensures we consume storage_dashboard when set instead
of using always ctlplane.

Change-Id: If293b20c29b74158ecdee4e47e97535baefde72c
(cherry picked from commit b81035d0076b711896a32b78a4fccc57cac2e063)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/748669/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,172e03fcd8b2eb1e248e6575bcaa68d6be44a220,ceph_dashboard_composable_network," CephDashboardNetwork: {{ _service_nets.get('storage_dashboard', 'ctlplane') }} CephGrafanaNetwork: {{ _service_nets.get('storage_dashboard', 'ctlplane') }}"," CephDashboardNetwork: ctlplane CephGrafanaNetwork: {{ _service_nets.get('storage', 'ctlplane') }}",2,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I0c085c6c136e5d5b162feb8a1f72d906ab08502e,openstack/tripleo-ansible,stable/ussuri,I0c085c6c136e5d5b162feb8a1f72d906ab08502e,Update containers info module from collection,MERGED,2020-08-31 09:07:21.000000000,2020-08-31 18:36:47.000000000,2020-08-31 18:36:47.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-31 09:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6602c5136496f43f799286c722d1c27f3568d0ba', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nCloses-Bug: #1892701\n\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n'}, {'number': 2, 'created': '2020-08-31 09:12:01.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/958030b1d92a1ab958ba46a00706b0320eca672e', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nCloses-Bug: #1892701\n\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n(cherry picked from commit 72f0e09019ee13ad306287a8f60faba30d4fb60e)\n'}]",0,749006,958030b1d92a1ab958ba46a00706b0320eca672e,11,7,2,10969,,,0,"Update containers info module from collection

When container disappears between ""podman ps -a"" call and
inspection call ""podman inspect cont1 cont2, .."", the module fails.
To avoid this run inspection of each container one by one if total
inspection call failed.
This is update of module from collection.
Closes-Bug: #1892701

Change-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e
(cherry picked from commit 72f0e09019ee13ad306287a8f60faba30d4fb60e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/749006/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py']",2,6602c5136496f43f799286c722d1c27f3568d0ba,podman_info,"DOCUMENTATION = r'''''' EXAMPLES = r"""""" RETURN = r"""""" elements: dictimport json # noqa: F402 from ansible.module_utils.basic import AnsibleModule # noqa: F402 """"""Collect containers facts for all containers or for specified in 'name'. Arguments: module {AnsibleModule} -- instance of AnsibleModule executable {string} -- binary to execute when inspecting containers name {list} -- list of names or None in case of all containers Returns: list of containers info, stdout, stderr """""" if rc != 0: module.fail_json(msg=""Unable to get list of containers: %s"" % err) if rc == 0: json_out = json.loads(out) if out else None if json_out is None: return [], out, err return json_out, out, err if rc != 0 and 'no such ' in err: if len(name) < 2: return [], out, err return cycle_over(module, executable, name) module.fail_json(msg=""Unable to gather info for %s: %s"" % ("","".join(name), err)) def cycle_over(module, executable, name): """"""Inspect each container in a cycle in case some of them don't exist. Arguments: module {AnsibleModule} -- instance of AnsibleModule executable {string} -- binary to execute when inspecting containers name {list} -- list of containers names to inspect Returns: list of containers info, stdout as empty, stderr """""" inspection = [] stderrs = [] for container in name: command = [executable, 'container', 'inspect', container] rc, out, err = module.run_command(command) if rc != 0 and 'no such ' not in err: module.fail_json(msg=""Unable to gather info for %s: %s"" % (container, err)) if rc == 0 and out: json_out = json.loads(out) if json_out: inspection += json_out stderrs.append(err) return inspection, """", ""\n"".join(stderrs) # pylint: disable=unused-variable","ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """"""version_added: '2.10'"""""" EXAMPLES = """"""RETURN = """"""import json from ansible.module_utils.basic import AnsibleModule if rc != 0: module.fail_json(msg=""Unable to gather info for %s: %s"" % (name or 'all containers', err)) if not out or json.loads(out) is None: return [], out, err return json.loads(out), out, err",60,22
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Idcd6485f24e70c965ebd60569a2d6cc06a1037d9,openstack/tripleo-heat-templates,stable/ussuri,Idcd6485f24e70c965ebd60569a2d6cc06a1037d9,Remove remaining Skydive references,MERGED,2020-08-28 17:36:24.000000000,2020-08-31 18:29:13.000000000,2020-08-31 18:29:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 32114}]","[{'number': 1, 'created': '2020-08-28 17:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/954b8b1a85ac8a9211b8417dc01c920fcbaa5767', 'message': 'Remove remaining Skydive references\n\nSupport has been dropped for skyzone but these two\nfiles remained. I think these were missed from\nhttps://review.opendev.org/#/c/712783/\n\nChange-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9\n(cherry picked from commit 2e76336c4173ba3aa784755a183483645e6b39a0)\n'}, {'number': 2, 'created': '2020-08-29 03:48:43.000000000', 'files': ['roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/472deb9212cbd1208cf28299a491daff027942a7', 'message': 'Remove remaining Skydive references\n\nSupport has been dropped for skyzone but these two\nfiles remained. I think these were missed from\nhttps://review.opendev.org/#/c/712783/\n\nChange-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9\n(cherry picked from commit 2e76336c4173ba3aa784755a183483645e6b39a0)\n'}]",0,748726,472deb9212cbd1208cf28299a491daff027942a7,14,5,2,3153,,,0,"Remove remaining Skydive references

Support has been dropped for skyzone but these two
files remained. I think these were missed from
https://review.opendev.org/#/c/712783/

Change-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9
(cherry picked from commit 2e76336c4173ba3aa784755a183483645e6b39a0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/748726/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml']",2,954b8b1a85ac8a9211b8417dc01c920fcbaa5767,remove-skydive-stable/ussuri,, - OS::TripleO::Services::SkydiveAgent - OS::TripleO::Services::SkydiveAnalyzer,0,3
openstack%2Fmanila~master~I997ba7ad986a6d8b8d926be814dfb8232122b4d9,openstack/manila,master,I997ba7ad986a6d8b8d926be814dfb8232122b4d9,DNM: Debugging CephFS space issues,ABANDONED,2020-08-11 04:52:06.000000000,2020-08-31 18:01:09.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-08-11 04:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fdd9216be77e6877db34ee568d50b5b5f2381e19', 'message': 'DNM: Debugging CephFS space issues\n\nChange-Id: I997ba7ad986a6d8b8d926be814dfb8232122b4d9\nDepends-On: Ic96b65d2caab788afca8bfc45575f3c05dc88008\n'}, {'number': 2, 'created': '2020-08-20 18:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f4efd3ca12c1e9947054ae3506163483871e6612', 'message': 'DNM: Debugging CephFS space issues\n\nChange-Id: I997ba7ad986a6d8b8d926be814dfb8232122b4d9\nDepends-On: Ic96b65d2caab788afca8bfc45575f3c05dc88008\n'}, {'number': 3, 'created': '2020-08-20 19:30:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/2edd4e4cf8993b1b3ce263518368471b607f914c', 'message': 'DNM: Debugging CephFS space issues\n\nChange-Id: I997ba7ad986a6d8b8d926be814dfb8232122b4d9\nDepends-On: Ic96b65d2caab788afca8bfc45575f3c05dc88008\n'}]",1,745621,2edd4e4cf8993b1b3ce263518368471b607f914c,17,8,3,16643,,,0,"DNM: Debugging CephFS space issues

Change-Id: I997ba7ad986a6d8b8d926be814dfb8232122b4d9
Depends-On: Ic96b65d2caab788afca8bfc45575f3c05dc88008
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/745621/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fdd9216be77e6877db34ee568d50b5b5f2381e19,bug/1890833,,,0,0
openstack%2Fpython-cloudkittyclient~master~Ibeb506281e88b44d454497d06f9187308859ac9c,openstack/python-cloudkittyclient,master,Ibeb506281e88b44d454497d06f9187308859ac9c,Remove six,MERGED,2020-05-10 15:05:45.000000000,2020-08-31 17:59:43.000000000,2020-08-31 17:58:31.000000000,"[{'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-05-10 15:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/b05260b522ee94a385712db2350b2fe586ca647c', 'message': ""Remove six\n\nWe don't need this in a Python 3-only world.\n\nChange-Id: Ibeb506281e88b44d454497d06f9187308859ac9c\n""}, {'number': 2, 'created': '2020-05-10 15:08:38.000000000', 'files': ['requirements.txt', 'cloudkittyclient/common/base.py', 'cloudkittyclient/v2/dataframes.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/61dc82cb54f393e3ea0084d9f6e71b6840718596', 'message': ""Remove six\n\nWe don't need this in a Python 3-only world.\n\nChange-Id: Ibeb506281e88b44d454497d06f9187308859ac9c\n""}]",0,726635,61dc82cb54f393e3ea0084d9f6e71b6840718596,12,6,2,28614,,,0,"Remove six

We don't need this in a Python 3-only world.

Change-Id: Ibeb506281e88b44d454497d06f9187308859ac9c
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/35/726635/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cloudkittyclient/common/base.py', 'cloudkittyclient/v2/dataframes.py', 'lower-constraints.txt']",4,b05260b522ee94a385712db2350b2fe586ca647c,,,six==1.11 # MIT,3,8
openstack%2Frequirements~master~I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe,openstack/requirements,master,I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe,Reintroduce setuptools <50 cap,MERGED,2020-08-31 03:03:25.000000000,2020-08-31 16:59:31.000000000,2020-08-31 16:57:57.000000000,"[{'_account_id': 1736}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-31 03:03:25.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5b2ee12846e05722a45cd7ca616f8254b7ed1ec1', 'message': 'Reintroduce setuptools <50 cap\n\nPer the linked github issue, the setuptools has re-introduced it\'s\nvendoring of distutils so it not longer obeys the overrides configured\nby Debuntu.  This was last pinned with\nca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f; setuptools reverted their\nchange, but it is back now.\n\nIn short, Debuntu overrides distutils to install everything in\n""dist-packages"", leaving ""site-packages"" in case you install a\nnon-packaged interpreter which has that all to itself (i.e. packaged\nPython doesn\'t mix/conflict with a non-packaged Python install).\n\nThe latest setuptools now ignores the overrides Debuntu ships in\ndistutils, and thus installs binaries to /usr/bin and libraries to\nsite-packages; the first causing problems for numerous scripts which\nassume /usr/local/bin/<foo> and the second meaning that\n/usr/bin/python3 (i.e. Debuntu packaged python) can\'t find anything\ninstalled anyway (because it\'s in site-packages, which isn\'t\nsearched).\n\nThis pin affects the devstack pip install from [1].\n\nAt this stage, we do not have a solution.\n\n[1] https://opendev.org/openstack/devstack/src/commit/e7625fc72cbbbfaf37a6682166bc2180d4e50855/tools/install_pip.sh#L153\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe\n'}]",0,748943,5b2ee12846e05722a45cd7ca616f8254b7ed1ec1,18,9,1,7118,,,0,"Reintroduce setuptools <50 cap

Per the linked github issue, the setuptools has re-introduced it's
vendoring of distutils so it not longer obeys the overrides configured
by Debuntu.  This was last pinned with
ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f; setuptools reverted their
change, but it is back now.

In short, Debuntu overrides distutils to install everything in
""dist-packages"", leaving ""site-packages"" in case you install a
non-packaged interpreter which has that all to itself (i.e. packaged
Python doesn't mix/conflict with a non-packaged Python install).

The latest setuptools now ignores the overrides Debuntu ships in
distutils, and thus installs binaries to /usr/bin and libraries to
site-packages; the first causing problems for numerous scripts which
assume /usr/local/bin/<foo> and the second meaning that
/usr/bin/python3 (i.e. Debuntu packaged python) can't find anything
installed anyway (because it's in site-packages, which isn't
searched).

This pin affects the devstack pip install from [1].

At this stage, we do not have a solution.

[1] https://opendev.org/openstack/devstack/src/commit/e7625fc72cbbbfaf37a6682166bc2180d4e50855/tools/install_pip.sh#L153
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Change-Id: I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/748943/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,5b2ee12846e05722a45cd7ca616f8254b7ed1ec1,setuptools,"# Blacklist setuptools 48.0.0, 49.0.0, <50.0.0 due to https://github.com/pypa/setuptools/issues/2232 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,!=48.0.0,!=49.0.0,<50.0.0 # PSF/ZPL","# Blacklist setuptools 48.0.0, 49.0.0 due to https://github.com/pypa/setuptools/issues/2232 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,!=48.0.0,!=49.0.0 # PSF/ZPL",2,2
openstack%2Fnova~master~I617d2bf1a4f4696fc02a2491cc4a31ad82c5cde6,openstack/nova,master,I617d2bf1a4f4696fc02a2491cc4a31ad82c5cde6,Introduce '[glance] enable_rbd_download',ABANDONED,2020-08-27 10:55:06.000000000,2020-08-31 16:36:24.000000000,,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9963}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 10:55:06.000000000', 'files': ['nova/image/glance.py', 'nova/conf/glance.py', 'nova/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8b808323d0a06e8154de18433fa940abc6163fd', 'message': ""Introduce '[glance] enable_rbd_download'\n\nRather than reviving the long-dormant '[glance]\nallowed_direct_url_schemes' config option, introduce a new, specific\nbool opt to switch on the new RBD download behavior.\n\nChange-Id: I617d2bf1a4f4696fc02a2491cc4a31ad82c5cde6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,748411,d8b808323d0a06e8154de18433fa940abc6163fd,15,12,1,15334,,,0,"Introduce '[glance] enable_rbd_download'

Rather than reviving the long-dormant '[glance]
allowed_direct_url_schemes' config option, introduce a new, specific
bool opt to switch on the new RBD download behavior.

Change-Id: I617d2bf1a4f4696fc02a2491cc4a31ad82c5cde6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/748411/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/conf/glance.py', 'nova/tests/unit/image/test_glance.py']",3,d8b808323d0a06e8154de18433fa940abc6163fd,bp/nova-image-download-via-rbd," # TODO(stephenfin): Drop this test since it's not possible to run in # production self.flags(enable_rbd_download=True, group='glance')"," self.flags(allowed_direct_url_schemes=['rbd'], group='glance')",33,9
openstack%2Fpuppet-neutron~stable%2Fussuri~I892a1a02478652ef699b33c12cac9e40520210a2,openstack/puppet-neutron,stable/ussuri,I892a1a02478652ef699b33c12cac9e40520210a2,Use common class to manage apache service in beaker job,MERGED,2020-08-29 04:09:52.000000000,2020-08-31 16:08:30.000000000,2020-08-31 16:08:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:09:52.000000000', 'files': ['spec/acceptance/basic_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5a2c07c4f3934c79059ccfb5df46555af2375b5b', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I892a1a02478652ef699b33c12cac9e40520210a2\n(cherry picked from commit 945f61428790e52ca49bb99ab1d8f3a0f65c724b)\n'}]",0,748784,5a2c07c4f3934c79059ccfb5df46555af2375b5b,8,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I892a1a02478652ef699b33c12cac9e40520210a2
(cherry picked from commit 945f61428790e52ca49bb99ab1d8f3a0f65c724b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/84/748784/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_neutron_spec.rb'],1,5a2c07c4f3934c79059ccfb5df46555af2375b5b,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-neutron~master~Iec5799cffd3c02b16b55e135dc85bb015bf62b49,openstack/puppet-neutron,master,Iec5799cffd3c02b16b55e135dc85bb015bf62b49,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:00:37.000000000,2020-08-31 16:08:29.000000000,2020-08-31 16:08:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-30 21:00:37.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/387671c74d2728f1e83044a779093595f8fa06b8', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Iec5799cffd3c02b16b55e135dc85bb015bf62b49\n'}]",0,748904,387671c74d2728f1e83044a779093595f8fa06b8,8,4,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Iec5799cffd3c02b16b55e135dc85bb015bf62b49
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/04/748904/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,387671c74d2728f1e83044a779093595f8fa06b8,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Ftripleo-puppet-elements~master~I34b89b2fe6fb4886d8502d9f4d56c64758650a99,openstack/tripleo-puppet-elements,master,I34b89b2fe6fb4886d8502d9f4d56c64758650a99,Remove puppet-trove,MERGED,2020-08-29 08:58:18.000000000,2020-08-31 16:02:37.000000000,2020-08-31 16:02:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-29 08:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/69754ec65c83f7da3acdc9489aa9751d64d2fac4', 'message': 'Remove puppet-trove\n\n... because Trove is no longer supported by TripleO.\n\nChange-Id: I34b89b2fe6fb4886d8502d9f4d56c64758650a99\n'}, {'number': 2, 'created': '2020-08-29 08:58:53.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/7c86a2fffc14022929f919f2cb80ea1552135858', 'message': 'Remove puppet-trove\n\n... because Trove is no longer supported by TripleO.\n\nChange-Id: I34b89b2fe6fb4886d8502d9f4d56c64758650a99\n'}]",0,748797,7c86a2fffc14022929f919f2cb80ea1552135858,9,4,2,9816,,,0,"Remove puppet-trove

... because Trove is no longer supported by TripleO.

Change-Id: I34b89b2fe6fb4886d8502d9f4d56c64758650a99
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/97/748797/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh'],1,69754ec65c83f7da3acdc9489aa9751d64d2fac4,remove-trove,, puppet-trove \,0,1
openstack%2Ftripleo-puppet-elements~master~I1f2091a85567f2ae06ac22bd47896f0aa9af9239,openstack/tripleo-puppet-elements,master,I1f2091a85567f2ae06ac22bd47896f0aa9af9239,Remove puppet-vitrage,MERGED,2020-08-29 09:01:59.000000000,2020-08-31 16:02:35.000000000,2020-08-31 16:02:35.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-29 09:01:59.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/9e477e5c70b71be2ee72a2b1f6d4660b49422ad0', 'message': 'Remove puppet-vitrage\n\n... because Vitrage has never been supported by TripleO.\n\nChange-Id: I1f2091a85567f2ae06ac22bd47896f0aa9af9239\n'}]",0,748799,9e477e5c70b71be2ee72a2b1f6d4660b49422ad0,8,4,1,9816,,,0,"Remove puppet-vitrage

... because Vitrage has never been supported by TripleO.

Change-Id: I1f2091a85567f2ae06ac22bd47896f0aa9af9239
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/99/748799/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,9e477e5c70b71be2ee72a2b1f6d4660b49422ad0,remove-vitrage,,puppet-vitrage git /opt/stack/puppet-modules/vitrage https://opendev.org/openstack/puppet-vitrage.git,1,3
openstack%2Fpuppet-oslo~master~Ibd586bcf53dafce64f516bbaf9448883ad1bbef2,openstack/puppet-oslo,master,Ibd586bcf53dafce64f516bbaf9448883ad1bbef2,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:02:24.000000000,2020-08-31 16:02:34.000000000,2020-08-31 16:02:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28182}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-30 21:02:24.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b21084b8e8a1d6c1eb7a3960eec5e346c64d19c9', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ibd586bcf53dafce64f516bbaf9448883ad1bbef2\n'}]",0,748908,b21084b8e8a1d6c1eb7a3960eec5e346c64d19c9,10,6,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ibd586bcf53dafce64f516bbaf9448883ad1bbef2
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/08/748908/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b21084b8e8a1d6c1eb7a3960eec5e346c64d19c9,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-tripleo~master~I5be6479d36b4a808389e0cd02d59f8869d58953a,openstack/puppet-tripleo,master,I5be6479d36b4a808389e0cd02d59f8869d58953a,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:07:00.000000000,2020-08-31 16:02:33.000000000,2020-08-31 16:02:33.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-30 21:07:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/76731c06e8261bba7e3ff168849ca0938663cd93', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I5be6479d36b4a808389e0cd02d59f8869d58953a\n'}]",0,748919,76731c06e8261bba7e3ff168849ca0938663cd93,8,4,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I5be6479d36b4a808389e0cd02d59f8869d58953a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/748919/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,76731c06e8261bba7e3ff168849ca0938663cd93,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fkolla~master~I1b05c03002e142c7b0f26808ad423b569140a7bc,openstack/kolla,master,I1b05c03002e142c7b0f26808ad423b569140a7bc,Clean up the stale FIXED message,MERGED,2020-08-24 15:19:05.000000000,2020-08-31 16:00:55.000000000,2020-08-31 15:59:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-24 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44384558dfc4ca73fce0f7e4906af3325d028cf3', 'message': ""Clean up the stale FIXED message\n\npython-vmware-nsx is not installed anywhere, we don't need the FIXED message\nthi PS to clean it up\n\nChange-Id: I1b05c03002e142c7b0f26808ad423b569140a7bc\n""}, {'number': 2, 'created': '2020-08-29 16:35:27.000000000', 'files': ['docker/neutron/neutron-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e1fcd6cd0e218ba67790803002f675508d5ab272', 'message': ""Clean up the stale FIXED message\n\npython-vmware-nsx is not installed anywhere, we don't need the FIXED message\nthi PS to clean it up\n\nChange-Id: I1b05c03002e142c7b0f26808ad423b569140a7bc\n""}]",4,747751,e1fcd6cd0e218ba67790803002f675508d5ab272,16,5,2,32067,,,0,"Clean up the stale FIXED message

python-vmware-nsx is not installed anywhere, we don't need the FIXED message
thi PS to clean it up

Change-Id: I1b05c03002e142c7b0f26808ad423b569140a7bc
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/747751/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-base/Dockerfile.j2'],1,44384558dfc4ca73fce0f7e4906af3325d028cf3,,, # FIXED(jeffrey4l): UCA rocky release is not include python-vmware-nsx # 13.0.0 package now. add 'python-vmware-nsx' into # neutron_base_packages list after UCA fixed the issue.,0,3
openstack%2Fpuppet-keystone~stable%2Fussuri~I3f87fa90944d467997cc9cf34a0942179836d0f1,openstack/puppet-keystone,stable/ussuri,I3f87fa90944d467997cc9cf34a0942179836d0f1,Fix missing usage of openstack_integration::apache,MERGED,2020-08-29 04:09:59.000000000,2020-08-31 15:58:35.000000000,2020-08-31 15:58:35.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:09:59.000000000', 'files': ['spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/acceptance/default_domain_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/163989494ee76d811c524ae9ddd816e76de8e0c2', 'message': 'Fix missing usage of openstack_integration::apache\n\nThis patch fixes openstack_integration::apache still missing in beaker\ntests, to avoid failures in CentOS8 beaker job.\n\nChange-Id: I3f87fa90944d467997cc9cf34a0942179836d0f1\n(cherry picked from commit 95b1acaa364ae13a4be2a666154918f436726105)\n'}]",0,748785,163989494ee76d811c524ae9ddd816e76de8e0c2,8,4,1,9816,,,0,"Fix missing usage of openstack_integration::apache

This patch fixes openstack_integration::apache still missing in beaker
tests, to avoid failures in CentOS8 beaker job.

Change-Id: I3f87fa90944d467997cc9cf34a0942179836d0f1
(cherry picked from commit 95b1acaa364ae13a4be2a666154918f436726105)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/85/748785/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/default_domain_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb']",2,163989494ee76d811c524ae9ddd816e76de8e0c2,centos8-beaker-stable/ussuri, include openstack_integration::apache,,2,0
openstack%2Fpuppet-keystone~master~Ic5ce48f21604895455233ded04b71b4879d8d1c0,openstack/puppet-keystone,master,Ic5ce48f21604895455233ded04b71b4879d8d1c0,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:58:32.000000000,2020-08-31 15:58:34.000000000,2020-08-31 15:58:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:58:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4014d50230bc4e7fee77fc4e9620707670971d44', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ic5ce48f21604895455233ded04b71b4879d8d1c0\n'}]",0,748898,4014d50230bc4e7fee77fc4e9620707670971d44,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ic5ce48f21604895455233ded04b71b4879d8d1c0
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/98/748898/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,4014d50230bc4e7fee77fc4e9620707670971d44,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-neutron~master~Ia0be0fce91caa292517715b78c1f3f711b9ab5ec,openstack/puppet-neutron,master,Ia0be0fce91caa292517715b78c1f3f711b9ab5ec,Do not validate database_connection format,MERGED,2020-08-31 10:24:48.000000000,2020-08-31 15:55:09.000000000,2020-08-31 15:55:09.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 10:24:48.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/622494f657a5694c0443f02762269429615148e4', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Ia0be0fce91caa292517715b78c1f3f711b9ab5ec\n'}]",0,749018,622494f657a5694c0443f02762269429615148e4,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Ia0be0fce91caa292517715b78c1f3f711b9ab5ec
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/18/749018/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,622494f657a5694c0443f02762269429615148e4,validate-db_conn, if $database_connection {," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) if $database_connection { ",0,4
openstack%2Fpuppet-barbican~master~I47ef221165959090294f51011e1a8eb454ad91bc,openstack/puppet-barbican,master,I47ef221165959090294f51011e1a8eb454ad91bc,Do not validate database_connection format,MERGED,2020-08-30 14:58:27.000000000,2020-08-31 15:49:32.000000000,2020-08-31 15:49:32.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 14:58:27.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/aaca3609747982656332bae03b768272eb7b8584', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I47ef221165959090294f51011e1a8eb454ad91bc\n'}]",0,748863,aaca3609747982656332bae03b768272eb7b8584,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I47ef221165959090294f51011e1a8eb454ad91bc
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/63/748863/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,aaca3609747982656332bae03b768272eb7b8584,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-barbican~master~I02901b055357341c19ac2681de42f279b1102158,openstack/puppet-barbican,master,I02901b055357341c19ac2681de42f279b1102158,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:53:00.000000000,2020-08-31 15:49:31.000000000,2020-08-31 15:49:31.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:53:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/980151bd8341826b3e0506d57e8391cbbc11f55b', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I02901b055357341c19ac2681de42f279b1102158\n'}]",0,748884,980151bd8341826b3e0506d57e8391cbbc11f55b,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I02901b055357341c19ac2681de42f279b1102158
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/84/748884/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,980151bd8341826b3e0506d57e8391cbbc11f55b,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-tempest~master~I125a6c3e69661c7a76839a3ef6ec57d6124a1f41,openstack/puppet-tempest,master,I125a6c3e69661c7a76839a3ef6ec57d6124a1f41,Drop allow_virtual,MERGED,2020-08-28 16:02:44.000000000,2020-08-31 15:47:51.000000000,2020-08-31 15:47:51.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 16:02:44.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/babfa4516139e58f07bfae8f31b893840e559ece', 'message': 'Drop allow_virtual\n\nDoes not need to be set, default to true in\nrecent puppet versions.\n\nChange-Id: I125a6c3e69661c7a76839a3ef6ec57d6124a1f41\n'}]",0,748711,babfa4516139e58f07bfae8f31b893840e559ece,7,3,1,16137,,,0,"Drop allow_virtual

Does not need to be set, default to true in
recent puppet versions.

Change-Id: I125a6c3e69661c7a76839a3ef6ec57d6124a1f41
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/11/748711/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,babfa4516139e58f07bfae8f31b893840e559ece,, ])," ], { allow_virtual => true })",1,1
openstack%2Fpuppet-placement~master~If1f63aaf571af497105871da297e1c07d7978c54,openstack/puppet-placement,master,If1f63aaf571af497105871da297e1c07d7978c54,Do not validate database_connection format,MERGED,2020-08-31 08:55:03.000000000,2020-08-31 15:44:03.000000000,2020-08-31 15:44:03.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-08-31 08:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/bb6d91840714687165107965365a4a060412ddcf', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: If1f63aaf571af497105871da297e1c07d7978c54\n'}, {'number': 2, 'created': '2020-08-31 09:04:00.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/81a77ce901ec519aa81050cd1605dc36419fa066', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: If1f63aaf571af497105871da297e1c07d7978c54\n'}]",0,748995,81a77ce901ec519aa81050cd1605dc36419fa066,9,4,2,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: If1f63aaf571af497105871da297e1c07d7978c54
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/95/748995/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,bb6d91840714687165107965365a4a060412ddcf,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-placement~master~I8fefba36b899d5e40559f32f28f926f9a7ca07b2,openstack/puppet-placement,master,I8fefba36b899d5e40559f32f28f926f9a7ca07b2,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:03:32.000000000,2020-08-31 15:44:03.000000000,2020-08-31 15:44:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:03:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/994f5136ac970c167594a527546e0d1a7580ccfb', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I8fefba36b899d5e40559f32f28f926f9a7ca07b2\n'}]",0,748911,994f5136ac970c167594a527546e0d1a7580ccfb,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I8fefba36b899d5e40559f32f28f926f9a7ca07b2
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/11/748911/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,994f5136ac970c167594a527546e0d1a7580ccfb,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-keystone~stable%2Fussuri~I0dc5dd487996307811edd177d13d6d5ac8f841ee,openstack/puppet-keystone,stable/ussuri,I0dc5dd487996307811edd177d13d6d5ac8f841ee,Fix python package names (ldappool and pysaml2),MERGED,2020-08-31 02:30:13.000000000,2020-08-31 15:43:30.000000000,2020-08-31 15:43:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 02:30:13.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'manifests/federation/identity_provider.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2917cc9262a3187d0e01b039efa744ab7f2943ec', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n(cherry picked from commit f342aad94615655fe96959186c031157c209a659)\n'}]",0,748941,2917cc9262a3187d0e01b039efa744ab7f2943ec,7,3,1,9816,,,0,"Fix python package names (ldappool and pysaml2)

This patch fixes package name of python-ldapppool and python-pysaml2,
so that correct package names, python3-*, are used in OSs which use
Python3 as the default Python.

Change-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee
(cherry picked from commit f342aad94615655fe96959186c031157c209a659)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/41/748941/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb', 'manifests/federation/identity_provider.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'manifests/params.pp']",7,2917cc9262a3187d0e01b039efa744ab7f2943ec,centos8-beaker-stable/ussuri," $python_ldappool_package_name = ""python${pyvers}-ldappool"" $python_pysaml2_package_name = ""python${pyvers}-pysaml2"" $python_ldappool_package_name = ""python${pyvers}-ldappool"" $python_pysaml2_package_name = ""python${pyvers}-pysaml2""",,274,190
openstack%2Fpuppet-glance~stable%2Fussuri~Ia44967dc809467d7c49022db3fcdb7fcebd6e132,openstack/puppet-glance,stable/ussuri,Ia44967dc809467d7c49022db3fcdb7fcebd6e132,Use common class to manage apache service in beaker job,MERGED,2020-08-29 04:09:45.000000000,2020-08-31 15:40:28.000000000,2020-08-31 15:40:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:09:45.000000000', 'files': ['spec/acceptance/basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a5282ed10e26a0d28fa8280bd39dbde6ff4e9a8d', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ia44967dc809467d7c49022db3fcdb7fcebd6e132\n(cherry picked from commit 3260dcd2c5d8a5b2231fa1904a86f54f44a8affd)\n'}]",0,748783,a5282ed10e26a0d28fa8280bd39dbde6ff4e9a8d,9,5,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Ia44967dc809467d7c49022db3fcdb7fcebd6e132
(cherry picked from commit 3260dcd2c5d8a5b2231fa1904a86f54f44a8affd)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/83/748783/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_glance_spec.rb'],1,a5282ed10e26a0d28fa8280bd39dbde6ff4e9a8d,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-glance~stable%2Fussuri~I0439509589a7b28daf96d5a88ae2f5e01a27cf40,openstack/puppet-glance,stable/ussuri,I0439509589a7b28daf96d5a88ae2f5e01a27cf40,Ignore onwer_specifed.* properties in images,MERGED,2020-08-29 04:10:25.000000000,2020-08-31 15:40:27.000000000,2020-08-31 15:40:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:10:25.000000000', 'files': ['lib/puppet/provider/glance_image/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1622ed1e703bf605a603a300866102805c188b59', 'message': 'Ignore onwer_specifed.* properties in images\n\nSince Ussuri release, openstackclient uses OpenStackSDK instead of\nglanceclient to create an image[1]. This switch made ""openstack image\ncreate"" command to create images with owner_specified.* properties.\n\nThis patch makes glance_image type filter out these properties to avoid\nfalse changes in image properties.\n\n[1] 60e7c51df4cf061ebbb435a959ad63c7d3a296bf\n\nChange-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40\n(cherry picked from commit 15d4c5915351fdaa32aec0eb47616eaf824251f7)\n'}]",0,748787,1622ed1e703bf605a603a300866102805c188b59,9,5,1,9816,,,0,"Ignore onwer_specifed.* properties in images

Since Ussuri release, openstackclient uses OpenStackSDK instead of
glanceclient to create an image[1]. This switch made ""openstack image
create"" command to create images with owner_specified.* properties.

This patch makes glance_image type filter out these properties to avoid
false changes in image properties.

[1] 60e7c51df4cf061ebbb435a959ad63c7d3a296bf

Change-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40
(cherry picked from commit 15d4c5915351fdaa32aec0eb47616eaf824251f7)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/87/748787/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/glance_image/openstack.rb'],1,1622ed1e703bf605a603a300866102805c188b59,centos8-beaker-stable/ussuri," :properties => exclude_owner_specified_props(exclude_readonly_props(properties)), def self.exclude_owner_specified_props(props) if props == nil return nil end rv = props.select { |k, v| not k.start_with?('owner_specified.') } return rv end "," :properties => exclude_readonly_props(properties),",9,1
openstack%2Fpuppet-openstacklib~master~Iaf017eba1b36191924189440323b00fd86e2ecf6,openstack/puppet-openstacklib,master,Iaf017eba1b36191924189440323b00fd86e2ecf6,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:02:02.000000000,2020-08-31 15:37:05.000000000,2020-08-31 15:37:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:02:02.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c407f65071443027cef3cbae29ad63a1bddcfd3d', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Iaf017eba1b36191924189440323b00fd86e2ecf6\n'}]",0,748907,c407f65071443027cef3cbae29ad63a1bddcfd3d,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Iaf017eba1b36191924189440323b00fd86e2ecf6
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/07/748907/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,c407f65071443027cef3cbae29ad63a1bddcfd3d,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-glance~master~If13825dff529c91508ae19e48c7918cbd2b50245,openstack/puppet-glance,master,If13825dff529c91508ae19e48c7918cbd2b50245,Do not validate database_connection format,MERGED,2020-08-30 15:06:05.000000000,2020-08-31 15:37:03.000000000,2020-08-31 15:37:03.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:06:05.000000000', 'files': ['manifests/api/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/4c943fb458559691021a6a7e8f989e3cc429df85', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: If13825dff529c91508ae19e48c7918cbd2b50245\n'}]",0,748871,4c943fb458559691021a6a7e8f989e3cc429df85,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: If13825dff529c91508ae19e48c7918cbd2b50245
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/71/748871/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api/db.pp'],1,4c943fb458559691021a6a7e8f989e3cc429df85,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-cinder~master~I84312d013089696c54f8ec7e64dabdab95b07f2a,openstack/puppet-cinder,master,I84312d013089696c54f8ec7e64dabdab95b07f2a,Do not validate database_connection format,MERGED,2020-08-30 15:00:37.000000000,2020-08-31 15:36:10.000000000,2020-08-31 15:36:10.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:00:37.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/46756a830471fdc9560e045d9a66a18493540703', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I84312d013089696c54f8ec7e64dabdab95b07f2a\n'}]",0,748865,46756a830471fdc9560e045d9a66a18493540703,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I84312d013089696c54f8ec7e64dabdab95b07f2a
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/65/748865/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,46756a830471fdc9560e045d9a66a18493540703,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-sahara~master~Ie373c3d5e93106f55a4e33d37b3c0ce83b26feb5,openstack/puppet-sahara,master,Ie373c3d5e93106f55a4e33d37b3c0ce83b26feb5,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:04:54.000000000,2020-08-31 15:35:05.000000000,2020-08-31 15:35:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:04:54.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/3aed2dc30db48b018f6b0ce5264ae3e87ee25ae9', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ie373c3d5e93106f55a4e33d37b3c0ce83b26feb5\n'}]",0,748914,3aed2dc30db48b018f6b0ce5264ae3e87ee25ae9,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ie373c3d5e93106f55a4e33d37b3c0ce83b26feb5
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/14/748914/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,3aed2dc30db48b018f6b0ce5264ae3e87ee25ae9,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-cinder~master~I5c04e7f8c7a6d5964ba71e92e6863bc17794a4a1,openstack/puppet-cinder,master,I5c04e7f8c7a6d5964ba71e92e6863bc17794a4a1,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:54:12.000000000,2020-08-31 15:33:00.000000000,2020-08-31 15:33:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:54:12.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c90097ce5a9720af815b6e06c7d02380e2453cad', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I5c04e7f8c7a6d5964ba71e92e6863bc17794a4a1\n'}]",0,748887,c90097ce5a9720af815b6e06c7d02380e2453cad,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I5c04e7f8c7a6d5964ba71e92e6863bc17794a4a1
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/87/748887/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,c90097ce5a9720af815b6e06c7d02380e2453cad,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-heat~master~I362610e251fa85cc60a8b0494775ee9db975cc37,openstack/puppet-heat,master,I362610e251fa85cc60a8b0494775ee9db975cc37,Do not validate database_connection format,MERGED,2020-08-30 15:40:52.000000000,2020-08-31 15:30:39.000000000,2020-08-31 15:30:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:40:52.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/a7ebf5ba5580ffaf63b7c8579c50afbafc3daaac', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I362610e251fa85cc60a8b0494775ee9db975cc37\n'}]",0,748880,a7ebf5ba5580ffaf63b7c8579c50afbafc3daaac,9,4,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I362610e251fa85cc60a8b0494775ee9db975cc37
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/80/748880/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,a7ebf5ba5580ffaf63b7c8579c50afbafc3daaac,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-heat~master~I9315b0d464a7ce89eb03abb0a2a250539a8252b3,openstack/puppet-heat,master,I9315b0d464a7ce89eb03abb0a2a250539a8252b3,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:57:12.000000000,2020-08-31 15:30:38.000000000,2020-08-31 15:30:38.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:57:12.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/6e4eae1770b1eee4bd248d0fad8feb2413fb76e9', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I9315b0d464a7ce89eb03abb0a2a250539a8252b3\n'}]",0,748895,6e4eae1770b1eee4bd248d0fad8feb2413fb76e9,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I9315b0d464a7ce89eb03abb0a2a250539a8252b3
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/95/748895/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6e4eae1770b1eee4bd248d0fad8feb2413fb76e9,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-keystone~stable%2Fussuri~I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361,openstack/puppet-keystone,stable/ussuri,I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361,Convert more to rspec-puppet-facts,MERGED,2020-08-31 02:30:13.000000000,2020-08-31 15:30:25.000000000,2020-08-31 15:30:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 02:30:13.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/79083edebb3670b5d5eac4d62d4a66f4a444f56c', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nConflicts:\n\tspec/classes/keystone_federation_identity_provider_spec.rb\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n(cherry picked from commit 8f5c6835db775690dbc7ff192e147c5a19ac5ffc)\n""}]",0,748940,79083edebb3670b5d5eac4d62d4a66f4a444f56c,9,4,1,9816,,,0,"Convert more to rspec-puppet-facts

After this it's only the keystone init class and the
keystone ldap backend definition left.

puppet-keystone is the last module then everything
is using rspec-puppet-facts.

Conflicts:
	spec/classes/keystone_federation_identity_provider_spec.rb

Change-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361
(cherry picked from commit 8f5c6835db775690dbc7ff192e147c5a19ac5ffc)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/40/748940/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb']",2,79083edebb3670b5d5eac4d62d4a66f4a444f56c,centos8-beaker-stable/ussuri," shared_examples 'keystone::ldap' do context 'with parameters' do it { is_expected.to contain_package('python-ldappool') } it { is_expected.to contain_keystone_config('ldap/url').with_value('ldap://foo') is_expected.to contain_keystone_config('ldap/user').with_value('cn=foo,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/password').with_value('abcdefg').with_secret(true) is_expected.to contain_keystone_config('ldap/suffix').with_value('dc=example,dc=com') is_expected.to contain_keystone_config('ldap/query_scope').with_value('sub') is_expected.to contain_keystone_config('ldap/page_size').with_value('50') } it { is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_filter').with_value('(memberOf=cn=openstack,cn=groups,cn=accounts,dc=example,dc=com)') is_expected.to contain_keystone_config('ldap/user_objectclass').with_value('inetUser') is_expected.to contain_keystone_config('ldap/user_id_attribute').with_value('uid') is_expected.to contain_keystone_config('ldap/user_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/user_description_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/user_mail_attribute').with_value('mail') is_expected.to contain_keystone_config('ldap/user_enabled_attribute').with_value('UserAccountControl') is_expected.to contain_keystone_config('ldap/user_enabled_mask').with_value('2') is_expected.to contain_keystone_config('ldap/user_enabled_default').with_value('512') is_expected.to contain_keystone_config('ldap/user_enabled_invert').with_value('False') is_expected.to contain_keystone_config('ldap/user_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/user_default_project_id_attribute').with_value('defaultProject') is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_pass_attribute').with_value('krbPassword') is_expected.to contain_keystone_config('ldap/user_enabled_emulation').with_value('True') is_expected.to contain_keystone_config('ldap/user_enabled_emulation_dn').with_value('cn=openstack-enabled,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_additional_attribute_mapping').with_value('description:name, gecos:name') } it { is_expected.to contain_keystone_config('ldap/project_tree_dn').with_value('ou=projects,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/project_filter').with_value('') is_expected.to contain_keystone_config('ldap/project_objectclass').with_value('organizationalUnit') is_expected.to contain_keystone_config('ldap/project_id_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_member_attribute').with_value('member') is_expected.to contain_keystone_config('ldap/project_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/project_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_enabled_attribute').with_value('enabled') is_expected.to contain_keystone_config('ldap/project_domain_id_attribute').with_value('businessCategory') is_expected.to contain_keystone_config('ldap/project_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/project_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/project_enabled_emulation').with_value('False') is_expected.to contain_keystone_config('ldap/project_enabled_emulation_dn').with_value('True') is_expected.to contain_keystone_config('ldap/project_additional_attribute_mapping').with_value('cn=enabled,ou=openstack,dc=example,dc=com') } it { is_expected.to contain_keystone_config('ldap/role_tree_dn').with_value('ou=roles,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/role_filter').with_value('') is_expected.to contain_keystone_config('ldap/role_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/role_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/role_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/role_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/role_attribute_ignore').with_value('description') is_expected.to contain_keystone_config('ldap/role_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/role_additional_attribute_mapping').with_value('') } it { is_expected.to contain_keystone_config('ldap/group_tree_dn').with_value('ou=groups,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_filter').with_value('cn=enabled-groups,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/group_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/group_members_are_ids').with_value('True') is_expected.to contain_keystone_config('ldap/group_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/group_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/group_additional_attribute_mapping').with_value('') } it { is_expected.to contain_keystone_config('ldap/chase_referrals').with_value('False') } it { is_expected.to contain_keystone_config('ldap/use_tls').with_value('False') is_expected.to contain_keystone_config('ldap/tls_cacertdir').with_value('/etc/ssl/certs/') is_expected.to contain_keystone_config('ldap/tls_cacertfile').with_value('/etc/ssl/certs/ca-certificates.crt') is_expected.to contain_keystone_config('ldap/tls_req_cert').with_value('demand') } it { is_expected.to contain_keystone_config('ldap/use_pool').with_value('True') is_expected.to contain_keystone_config('ldap/pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/pool_retry_max').with_value('2') is_expected.to contain_keystone_config('ldap/pool_retry_delay').with_value('0.2') is_expected.to contain_keystone_config('ldap/pool_connection_timeout').with_value('222') is_expected.to contain_keystone_config('ldap/pool_connection_lifetime').with_value('222') is_expected.to contain_keystone_config('ldap/use_auth_pool').with_value('True') is_expected.to contain_keystone_config('ldap/auth_pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/auth_pool_connection_lifetime').with_value('200') } it { is_expected.to contain_keystone_config('identity/driver').with_value('ldap') } context 'with manage_packages set to false' do before do params.merge!( :manage_packages => false ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'keystone::ldap' end end"," describe 'with basic params' do it { is_expected.to contain_package('python-ldappool') } it 'should have basic params' do # basic params is_expected.to contain_keystone_config('ldap/url').with_value('ldap://foo') is_expected.to contain_keystone_config('ldap/user').with_value('cn=foo,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/password').with_value('abcdefg').with_secret(true) is_expected.to contain_keystone_config('ldap/suffix').with_value('dc=example,dc=com') is_expected.to contain_keystone_config('ldap/query_scope').with_value('sub') is_expected.to contain_keystone_config('ldap/page_size').with_value('50') # users is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_filter').with_value('(memberOf=cn=openstack,cn=groups,cn=accounts,dc=example,dc=com)') is_expected.to contain_keystone_config('ldap/user_objectclass').with_value('inetUser') is_expected.to contain_keystone_config('ldap/user_id_attribute').with_value('uid') is_expected.to contain_keystone_config('ldap/user_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/user_description_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/user_mail_attribute').with_value('mail') is_expected.to contain_keystone_config('ldap/user_enabled_attribute').with_value('UserAccountControl') is_expected.to contain_keystone_config('ldap/user_enabled_mask').with_value('2') is_expected.to contain_keystone_config('ldap/user_enabled_default').with_value('512') is_expected.to contain_keystone_config('ldap/user_enabled_invert').with_value('False') is_expected.to contain_keystone_config('ldap/user_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/user_default_project_id_attribute').with_value('defaultProject') is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_pass_attribute').with_value('krbPassword') is_expected.to contain_keystone_config('ldap/user_enabled_emulation').with_value('True') is_expected.to contain_keystone_config('ldap/user_enabled_emulation_dn').with_value('cn=openstack-enabled,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_additional_attribute_mapping').with_value('description:name, gecos:name') # projects is_expected.to contain_keystone_config('ldap/project_tree_dn').with_value('ou=projects,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/project_filter').with_value('') is_expected.to contain_keystone_config('ldap/project_objectclass').with_value('organizationalUnit') is_expected.to contain_keystone_config('ldap/project_id_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_member_attribute').with_value('member') is_expected.to contain_keystone_config('ldap/project_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/project_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_enabled_attribute').with_value('enabled') is_expected.to contain_keystone_config('ldap/project_domain_id_attribute').with_value('businessCategory') is_expected.to contain_keystone_config('ldap/project_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/project_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/project_enabled_emulation').with_value('False') is_expected.to contain_keystone_config('ldap/project_enabled_emulation_dn').with_value('True') is_expected.to contain_keystone_config('ldap/project_additional_attribute_mapping').with_value('cn=enabled,ou=openstack,dc=example,dc=com') # roles is_expected.to contain_keystone_config('ldap/role_tree_dn').with_value('ou=roles,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/role_filter').with_value('') is_expected.to contain_keystone_config('ldap/role_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/role_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/role_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/role_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/role_attribute_ignore').with_value('description') is_expected.to contain_keystone_config('ldap/role_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/role_additional_attribute_mapping').with_value('') # groups is_expected.to contain_keystone_config('ldap/group_tree_dn').with_value('ou=groups,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_filter').with_value('cn=enabled-groups,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/group_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/group_members_are_ids').with_value('True') is_expected.to contain_keystone_config('ldap/group_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/group_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/group_additional_attribute_mapping').with_value('') # referrals is_expected.to contain_keystone_config('ldap/chase_referrals').with_value('False') # tls is_expected.to contain_keystone_config('ldap/use_tls').with_value('False') is_expected.to contain_keystone_config('ldap/tls_cacertdir').with_value('/etc/ssl/certs/') is_expected.to contain_keystone_config('ldap/tls_cacertfile').with_value('/etc/ssl/certs/ca-certificates.crt') is_expected.to contain_keystone_config('ldap/tls_req_cert').with_value('demand') # ldap pooling is_expected.to contain_keystone_config('ldap/use_pool').with_value('True') is_expected.to contain_keystone_config('ldap/pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/pool_retry_max').with_value('2') is_expected.to contain_keystone_config('ldap/pool_retry_delay').with_value('0.2') is_expected.to contain_keystone_config('ldap/pool_connection_timeout').with_value('222') is_expected.to contain_keystone_config('ldap/pool_connection_lifetime').with_value('222') is_expected.to contain_keystone_config('ldap/use_auth_pool').with_value('True') is_expected.to contain_keystone_config('ldap/auth_pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/auth_pool_connection_lifetime').with_value('200') # drivers is_expected.to contain_keystone_config('identity/driver').with_value('ldap') end describe 'with packages unmanaged' do let :params do { :manage_packages => false } end",216,174
openstack%2Fpuppet-keystone~master~I18ec317bf44983a08b1d428aeeae65e6c77e326c,openstack/puppet-keystone,master,I18ec317bf44983a08b1d428aeeae65e6c77e326c,Do not validate database_connection format,MERGED,2020-08-31 08:50:17.000000000,2020-08-31 15:30:24.000000000,2020-08-31 15:30:24.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:50:17.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/187deb268c19c4584b272d291683e90359702f36', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I18ec317bf44983a08b1d428aeeae65e6c77e326c\n'}]",0,748987,187deb268c19c4584b272d291683e90359702f36,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I18ec317bf44983a08b1d428aeeae65e6c77e326c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/87/748987/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,187deb268c19c4584b272d291683e90359702f36,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql(\+psycopg2)?):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-ironic~master~Idba1ab07dcba24d5662f46d00acbac531c6cbab2,openstack/puppet-ironic,master,Idba1ab07dcba24d5662f46d00acbac531c6cbab2,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:57:52.000000000,2020-08-31 15:29:27.000000000,2020-08-31 15:29:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:57:52.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e1951ebe8c1cb8f5bfb6a20dccb7cbcc8712201d', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Idba1ab07dcba24d5662f46d00acbac531c6cbab2\n'}]",0,748897,e1951ebe8c1cb8f5bfb6a20dccb7cbcc8712201d,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Idba1ab07dcba24d5662f46d00acbac531c6cbab2
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/97/748897/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,e1951ebe8c1cb8f5bfb6a20dccb7cbcc8712201d,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Ftripleo-quickstart-extras~master~I0200a410f033b175168b35e67845c3bfadacaa64,openstack/tripleo-quickstart-extras,master,I0200a410f033b175168b35e67845c3bfadacaa64,Remove tcib_managed from modify label list for rocky/stein,MERGED,2020-08-31 06:01:00.000000000,2020-08-31 15:28:59.000000000,2020-08-31 15:28:59.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-31 06:01:00.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/77e55be0c3ee9a7370f58bffa018efe7db60d8b8', 'message': 'Remove tcib_managed from modify label list for rocky/stein\n\nThis was removed with https://review.opendev.org/#/c/746894/\nfor rocky/stein but https://review.opendev.org/#/c/746993/\nreadded it. This patch removes it again to fix the issue.\n\nCloses-Bug: #1891372\nChange-Id: I0200a410f033b175168b35e67845c3bfadacaa64\n'}]",0,748955,77e55be0c3ee9a7370f58bffa018efe7db60d8b8,10,9,1,13861,,,0,"Remove tcib_managed from modify label list for rocky/stein

This was removed with https://review.opendev.org/#/c/746894/
for rocky/stein but https://review.opendev.org/#/c/746993/
readded it. This patch removes it again to fix the issue.

Closes-Bug: #1891372
Change-Id: I0200a410f033b175168b35e67845c3bfadacaa64
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/55/748955/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2'],1,77e55be0c3ee9a7370f58bffa018efe7db60d8b8,bug/1891372,, - tcib_managed,0,1
openstack%2Fpuppet-vitrage~stable%2Fussuri~I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba,openstack/puppet-vitrage,stable/ussuri,I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba,Remove outdated workaround in beaker test,MERGED,2020-08-29 04:09:17.000000000,2020-08-31 15:28:55.000000000,2020-08-31 15:28:55.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:09:17.000000000', 'files': ['spec/acceptance/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/96ccf459d5d336efbbec3d38789cc3e079dc4c9d', 'message': ""Remove outdated workaround in beaker test\n\nCurrent Vitrage doesn't require setproctitle so we don't need to\ninstall it now. Also, cotyledon is included in required packages\nso explicit installation is no longer required.\n\nChange-Id: I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba\n(cherry picked from commit 2db0809d23b69535eef84dd4937e43ae73d29739)\n""}]",0,748781,96ccf459d5d336efbbec3d38789cc3e079dc4c9d,8,4,1,9816,,,0,"Remove outdated workaround in beaker test

Current Vitrage doesn't require setproctitle so we don't need to
install it now. Also, cotyledon is included in required packages
so explicit installation is no longer required.

Change-Id: I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba
(cherry picked from commit 2db0809d23b69535eef84dd4937e43ae73d29739)
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/81/748781/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/vitrage_wsgi_apache_spec.rb'],1,96ccf459d5d336efbbec3d38789cc3e079dc4c9d,centos8-beaker-stable/ussuri,," package { 'python-setproctitle': ensure => present, } package { 'python2-cotyledon': ensure => present, }",0,6
openstack%2Fpuppet-trove~master~Id7dc96635e4a71a30b888159d71f136153da3157,openstack/puppet-trove,master,Id7dc96635e4a71a30b888159d71f136153da3157,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:07:21.000000000,2020-08-31 15:27:21.000000000,2020-08-31 15:27:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:07:21.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/5ecaaaa6aedbfe281028f5997c9c12a15d9ebfea', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Id7dc96635e4a71a30b888159d71f136153da3157\n'}]",0,748920,5ecaaaa6aedbfe281028f5997c9c12a15d9ebfea,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Id7dc96635e4a71a30b888159d71f136153da3157
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/20/748920/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5ecaaaa6aedbfe281028f5997c9c12a15d9ebfea,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-magnum~master~I06a8d8a7e06a3f86a2f0cfb78e061fb69ce9e301,openstack/puppet-magnum,master,I06a8d8a7e06a3f86a2f0cfb78e061fb69ce9e301,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:58:51.000000000,2020-08-31 15:26:57.000000000,2020-08-31 15:26:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:58:51.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/6710dcc476f744c3e845c4b0f029d57fc0c1e2bb', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I06a8d8a7e06a3f86a2f0cfb78e061fb69ce9e301\n'}]",0,748899,6710dcc476f744c3e845c4b0f029d57fc0c1e2bb,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I06a8d8a7e06a3f86a2f0cfb78e061fb69ce9e301
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/99/748899/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6710dcc476f744c3e845c4b0f029d57fc0c1e2bb,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-ec2api~master~Ic44573e9f58c7a0fe987ced00aab2963c4eba987,openstack/puppet-ec2api,master,Ic44573e9f58c7a0fe987ced00aab2963c4eba987,Do not validate database_connection format,MERGED,2020-08-30 15:03:51.000000000,2020-08-31 15:26:43.000000000,2020-08-31 15:26:43.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:03:51.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/d203231710374f2e7cb484081930c0de9b3a83a8', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Ic44573e9f58c7a0fe987ced00aab2963c4eba987\n'}]",0,748867,d203231710374f2e7cb484081930c0de9b3a83a8,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Ic44573e9f58c7a0fe987ced00aab2963c4eba987
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/67/748867/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,d203231710374f2e7cb484081930c0de9b3a83a8,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-ec2api~master~I445da4271082bc9972634acb432d20896a733c1b,openstack/puppet-ec2api,master,I445da4271082bc9972634acb432d20896a733c1b,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:55:14.000000000,2020-08-31 15:26:42.000000000,2020-08-31 15:26:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:55:14.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/80e4d86e6f7b56a420c7fed9519559728f4129a0', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I445da4271082bc9972634acb432d20896a733c1b\n'}]",0,748890,80e4d86e6f7b56a420c7fed9519559728f4129a0,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I445da4271082bc9972634acb432d20896a733c1b
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/90/748890/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,80e4d86e6f7b56a420c7fed9519559728f4129a0,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-vitrage~stable%2Fussuri~I8e907966db4a77e419884270652046bd400df9e2,openstack/puppet-vitrage,stable/ussuri,I8e907966db4a77e419884270652046bd400df9e2,Fix wsgi script path in CentOS8,MERGED,2020-08-29 04:10:06.000000000,2020-08-31 15:25:55.000000000,2020-08-31 15:25:55.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:10:06.000000000', 'files': ['manifests/params.pp', 'spec/classes/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/ab632d98897ab37ac29af5eabf6994f5721aa79e', 'message': 'Fix wsgi script path in CentOS8\n\nChange-Id: I8e907966db4a77e419884270652046bd400df9e2\n(cherry picked from commit a3a3c7f641cfa588ed2fa7282aab8e1efa847408)\n'}]",0,748786,ab632d98897ab37ac29af5eabf6994f5721aa79e,8,4,1,9816,,,0,"Fix wsgi script path in CentOS8

Change-Id: I8e907966db4a77e419884270652046bd400df9e2
(cherry picked from commit a3a3c7f641cfa588ed2fa7282aab8e1efa847408)
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/86/748786/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/vitrage_wsgi_apache_spec.rb']",2,ab632d98897ab37ac29af5eabf6994f5721aa79e,centos8-beaker-stable/ussuri," if facts[:operatingsystem] == 'Fedora' { :httpd_service_name => 'httpd', :httpd_ports_file => '/etc/httpd/conf/ports.conf', :wsgi_script_path => '/var/www/cgi-bin/vitrage', :wsgi_script_source => '/usr/lib/python3.6/site-packages/vitrage/api/app.wsgi' } else if facts[:operatingsystemmajrelease] > '7' { :httpd_service_name => 'httpd', :httpd_ports_file => '/etc/httpd/conf/ports.conf', :wsgi_script_path => '/var/www/cgi-bin/vitrage', :wsgi_script_source => '/usr/lib/python3.6/site-packages/vitrage/api/app.wsgi' } else { :httpd_service_name => 'httpd', :httpd_ports_file => '/etc/httpd/conf/ports.conf', :wsgi_script_path => '/var/www/cgi-bin/vitrage', :wsgi_script_source => '/usr/lib/python2.7/site-packages/vitrage/api/app.wsgi' } end end"," { :httpd_service_name => 'httpd', :httpd_ports_file => '/etc/httpd/conf/ports.conf', :wsgi_script_path => '/var/www/cgi-bin/vitrage', :wsgi_script_source => '/usr/lib/python2.7/site-packages/vitrage/api/app.wsgi' } ",26,8
openstack%2Fpuppet-openstack_extras~master~I8fc9b2babebcc7a9031443585703b3fa7bcdb1fe,openstack/puppet-openstack_extras,master,I8fc9b2babebcc7a9031443585703b3fa7bcdb1fe,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:01:42.000000000,2020-08-31 15:25:46.000000000,2020-08-31 15:25:46.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:01:42.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/666584e70274afe86918fba771976392a9d99031', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I8fc9b2babebcc7a9031443585703b3fa7bcdb1fe\n'}]",0,748906,666584e70274afe86918fba771976392a9d99031,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I8fc9b2babebcc7a9031443585703b3fa7bcdb1fe
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/06/748906/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,666584e70274afe86918fba771976392a9d99031,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-panko~master~Ia866341626350a4a6c7843af50cd5b0888167faa,openstack/puppet-panko,master,Ia866341626350a4a6c7843af50cd5b0888167faa,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:03:08.000000000,2020-08-31 15:23:36.000000000,2020-08-31 15:23:36.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:03:08.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/8c0bacc0568f28d34c70ef4036aa20f4554ac511', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ia866341626350a4a6c7843af50cd5b0888167faa\n'}]",0,748910,8c0bacc0568f28d34c70ef4036aa20f4554ac511,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ia866341626350a4a6c7843af50cd5b0888167faa
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/10/748910/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8c0bacc0568f28d34c70ef4036aa20f4554ac511,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-designate~master~I13156970bdbebfb6c882f992815dcf73d3d0d399,openstack/puppet-designate,master,I13156970bdbebfb6c882f992815dcf73d3d0d399,Use oslo::db class to set database parameters,MERGED,2020-08-30 15:23:43.000000000,2020-08-31 15:22:48.000000000,2020-08-31 15:19:44.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/296cf87c97394ebbf641085608900106bf42e577', 'message': 'Use oslo::db class to set database parameters\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 2, 'created': '2020-08-30 15:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/7ddf2c2f82232fee174c4f91710ea6a24be7cf4d', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 3, 'created': '2020-08-30 15:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/41fd8d88c0702d83211b3f62bf8ef8c4b91055ec', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 4, 'created': '2020-08-30 17:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/5a9ae764a3cb1a89505fe6632431c678fe0d4b15', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 5, 'created': '2020-08-30 17:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/9be169fb51d08590a4b4e9fdf70a4e65e8826e0d', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 6, 'created': '2020-08-30 23:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/166c61e8b986c12f556ddb52795caa573cfc315e', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 7, 'created': '2020-08-31 01:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/b5c3c4ac695dbe8a1f0e0b5c20ad765f83ff5897', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}, {'number': 8, 'created': '2020-08-31 04:04:04.000000000', 'files': ['manifests/db.pp', 'spec/classes/designate_db_spec.rb', 'manifests/params.pp', 'releasenotes/notes/db-oslo-449552b2d0b9e9fd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/b8d1841876f8a3fbfdaee9605f924cc4dd7e312f', 'message': 'Use oslo::db class to set database parameters\n\nThis patch refactors the designate::db class, by using the oslo::db\nclass, so that we can get rid of duplicated implementations.\n\nChange-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399\n'}]",0,748879,b8d1841876f8a3fbfdaee9605f924cc4dd7e312f,19,3,8,9816,,,0,"Use oslo::db class to set database parameters

This patch refactors the designate::db class, by using the oslo::db
class, so that we can get rid of duplicated implementations.

Change-Id: I13156970bdbebfb6c882f992815dcf73d3d0d399
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/79/748879/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/designate_db_spec.rb', 'releasenotes/notes/db-oslo-449552b2d0b9e9fd.yaml']",3,296cf87c97394ebbf641085608900106bf42e577,oslo-db,--- features: - | The following parameters have been added to the ``designate::db`` class. - ``database_connection_recycle_time`` - ``database_pool_timeout`` deprecations: - | The following parameters have been deprecated and have no effect. - ``designate::db::database_idle_timeout`` - ``designate::db::database_min_pool_size`` ,,92,125
openstack%2Fpuppet-ironic~master~Ib8de24dc18c7eb95bf53313e47e122e5d81e2da0,openstack/puppet-ironic,master,Ib8de24dc18c7eb95bf53313e47e122e5d81e2da0,Do not validate database_connection format,MERGED,2020-08-31 08:49:31.000000000,2020-08-31 15:22:41.000000000,2020-08-31 15:22:41.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:49:31.000000000', 'files': ['manifests/db.pp', 'manifests/inspector/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0d6bbc44a051ebffb0c3d99573e34b123daa0853', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Ib8de24dc18c7eb95bf53313e47e122e5d81e2da0\n'}]",0,748986,0d6bbc44a051ebffb0c3d99573e34b123daa0853,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Ib8de24dc18c7eb95bf53313e47e122e5d81e2da0
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/86/748986/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/inspector/db.pp']",2,0d6bbc44a051ebffb0c3d99573e34b123daa0853,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,6
openstack%2Fpuppet-panko~master~I068b0a1704cc26afa332db79409cba55b56ed115,openstack/puppet-panko,master,I068b0a1704cc26afa332db79409cba55b56ed115,Do not validate database_connection format,MERGED,2020-08-31 08:54:29.000000000,2020-08-31 15:18:51.000000000,2020-08-31 15:18:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:54:29.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/685a251d87a8106dbc700d57aea04115a1b7192d', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I068b0a1704cc26afa332db79409cba55b56ed115\n'}]",0,748994,685a251d87a8106dbc700d57aea04115a1b7192d,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I068b0a1704cc26afa332db79409cba55b56ed115
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/94/748994/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,685a251d87a8106dbc700d57aea04115a1b7192d,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql(\+psycopg2)?):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-glance~master~I03282e55150b2e2252b61ea043470be501ec2c46,openstack/puppet-glance,master,I03282e55150b2e2252b61ea043470be501ec2c46,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:55:58.000000000,2020-08-31 15:17:40.000000000,2020-08-31 15:17:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:55:58.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/ca95c196cc0bf1862fe5096f977414f1625112d8', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I03282e55150b2e2252b61ea043470be501ec2c46\n'}]",0,748892,ca95c196cc0bf1862fe5096f977414f1625112d8,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I03282e55150b2e2252b61ea043470be501ec2c46
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/92/748892/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,ca95c196cc0bf1862fe5096f977414f1625112d8,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-tempest~master~I5c49d0e156bf860474d13ce200cc4b1011d35e29,openstack/puppet-tempest,master,I5c49d0e156bf860474d13ce200cc4b1011d35e29,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:06:37.000000000,2020-08-31 15:17:14.000000000,2020-08-31 15:17:14.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:06:37.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/a3d5bd2c6cf0756a612ad9701c9d5f164039e6b5', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I5c49d0e156bf860474d13ce200cc4b1011d35e29\n'}]",0,748918,a3d5bd2c6cf0756a612ad9701c9d5f164039e6b5,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I5c49d0e156bf860474d13ce200cc4b1011d35e29
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/18/748918/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a3d5bd2c6cf0756a612ad9701c9d5f164039e6b5,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-zaqar~master~Id7f17000614aecf2e1c884ce7af54cb5dcd93226,openstack/puppet-zaqar,master,Id7f17000614aecf2e1c884ce7af54cb5dcd93226,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:08:47.000000000,2020-08-31 15:16:10.000000000,2020-08-31 15:16:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:08:47.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/bbae6c2e38c69353e5c944da37435d297ea4629d', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Id7f17000614aecf2e1c884ce7af54cb5dcd93226\n'}]",0,748924,bbae6c2e38c69353e5c944da37435d297ea4629d,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Id7f17000614aecf2e1c884ce7af54cb5dcd93226
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/24/748924/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,bbae6c2e38c69353e5c944da37435d297ea4629d,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-vitrage~master~I1ea2e095a4d5f47a52cbb701a3c0ca9bea6e736b,openstack/puppet-vitrage,master,I1ea2e095a4d5f47a52cbb701a3c0ca9bea6e736b,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:07:45.000000000,2020-08-31 15:15:35.000000000,2020-08-31 15:15:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:07:45.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/2f51b86fea7efa80ac35fc849edb40cb30bfdc28', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I1ea2e095a4d5f47a52cbb701a3c0ca9bea6e736b\n'}]",0,748921,2f51b86fea7efa80ac35fc849edb40cb30bfdc28,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I1ea2e095a4d5f47a52cbb701a3c0ca9bea6e736b
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/21/748921/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2f51b86fea7efa80ac35fc849edb40cb30bfdc28,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-horizon~master~I4ada5516c72fd951b72f01ff1525fe540ad7bcab,openstack/puppet-horizon,master,I4ada5516c72fd951b72f01ff1525fe540ad7bcab,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:57:32.000000000,2020-08-31 15:14:35.000000000,2020-08-31 15:14:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:57:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/39b95bd8ae640b0cae7b556caed7873ea3f5f2d3', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I4ada5516c72fd951b72f01ff1525fe540ad7bcab\n'}]",0,748896,39b95bd8ae640b0cae7b556caed7873ea3f5f2d3,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I4ada5516c72fd951b72f01ff1525fe540ad7bcab
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/96/748896/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,39b95bd8ae640b0cae7b556caed7873ea3f5f2d3,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fnova~master~I41cb90963b2e5c1bd484a84bba2220415bb821d1,openstack/nova,master,I41cb90963b2e5c1bd484a84bba2220415bb821d1,Moved all calls from _ENFORCER.authorize to a separate _authorize method,ABANDONED,2020-07-06 10:25:14.000000000,2020-08-31 15:13:43.000000000,,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 18044}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30910}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-06 10:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26085b71e4986ef10dfc82c430df37a70104a9ec', 'message': 'Moved all calls from _ENFORCER.authorize to a separate _authorize method\n\nCreated a new helper method and named it _authorize to use it to call\n_ENFORCER.authorize.\nThis _authorize method catchs the FileNotFoundError and tries to\nreinitiate the request.\n\nChange-Id: I41cb90963b2e5c1bd484a84bba2220415bb821d1\nCloses-Bug: #1856119\n'}, {'number': 2, 'created': '2020-07-07 07:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b9882605211f48b7bdf303cb81b41d37a83b82d', 'message': 'Moved all calls from _ENFORCER.authorize to a separate _authorize method\n\nCreated a new helper method and named it _authorize to use it to call\n_ENFORCER.authorize.\nThis _authorize method catchs the FileNotFoundError and tries to\nreinitiate the request.\n\nChange-Id: I41cb90963b2e5c1bd484a84bba2220415bb821d1\nCloses-Bug: #1856119\n'}, {'number': 3, 'created': '2020-07-07 10:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e508b7866132b9d0d2ac1c46eb40f56797d35fc7', 'message': 'Moved all calls from _ENFORCER.authorize to a separate _authorize method\n\nCreated a new helper method and named it _authorize to use it to call\n_ENFORCER.authorize.\nThis _authorize method catchs the FileNotFoundError and tries to\nreinitiate the request.\n\nChange-Id: I41cb90963b2e5c1bd484a84bba2220415bb821d1\nCloses-Bug: #1856119\n'}, {'number': 4, 'created': '2020-08-31 09:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/570048f8f2d71913b7e519624c25cc714d1f44b3', 'message': 'Moved all calls from _ENFORCER.authorize to a separate _authorize method\n\nCreated a new helper method and named it _authorize to use it to call\n_ENFORCER.authorize.\nThis _authorize method catchs the FileNotFoundError and tries to\nreinitiate the request.\n\nChange-Id: I41cb90963b2e5c1bd484a84bba2220415bb821d1\nCloses-Bug: #1856119\n'}, {'number': 5, 'created': '2020-08-31 14:53:35.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/policy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2922c648124d37352dcf8f7f221ddeaebd934c3c', 'message': 'Moved all calls from _ENFORCER.authorize to a separate _authorize method\n\nCreated a new helper method and named it _authorize to use it to call\n_ENFORCER.authorize.\nThis _authorize method catchs the FileNotFoundError and tries to\nreinitiate the request.\n\nChange-Id: I41cb90963b2e5c1bd484a84bba2220415bb821d1\nCloses-Bug: #1856119\n'}]",26,739460,2922c648124d37352dcf8f7f221ddeaebd934c3c,48,15,5,30910,,,0,"Moved all calls from _ENFORCER.authorize to a separate _authorize method

Created a new helper method and named it _authorize to use it to call
_ENFORCER.authorize.
This _authorize method catchs the FileNotFoundError and tries to
reinitiate the request.

Change-Id: I41cb90963b2e5c1bd484a84bba2220415bb821d1
Closes-Bug: #1856119
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/739460/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/policy.py'],1,26085b71e4986ef10dfc82c430df37a70104a9ec,,"def _authorize(context, target=None): if target is None: target = default_target(context) try: result = _ENFORCER.authorize('context_is_admin', target, context) except Exception: reset() init() result = _ENFORCER.authorize('context_is_admin', target, context) return result return _authorize(context, target)"," return _ENFORCER.authorize('context_is_admin', target, context)",11,1
openstack%2Fpuppet-vswitch~master~I1e057580af01ad2ee3f0eef1cea63ec925d79959,openstack/puppet-vswitch,master,I1e057580af01ad2ee3f0eef1cea63ec925d79959,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:08:05.000000000,2020-08-31 15:10:36.000000000,2020-08-31 15:10:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-30 21:08:05.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5c975ae14c5dde0a33788fbd6e4d40269f17150b', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I1e057580af01ad2ee3f0eef1cea63ec925d79959\n'}]",0,748922,5c975ae14c5dde0a33788fbd6e4d40269f17150b,8,4,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I1e057580af01ad2ee3f0eef1cea63ec925d79959
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/22/748922/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5c975ae14c5dde0a33788fbd6e4d40269f17150b,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-designate~master~I891936c8504087192e0f9ed73545688f390d15df,openstack/puppet-designate,master,I891936c8504087192e0f9ed73545688f390d15df,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:54:55.000000000,2020-08-31 15:10:21.000000000,2020-08-31 15:10:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:54:55.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/bfe8eba0513077c7615db313174ebc696a54f685', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I891936c8504087192e0f9ed73545688f390d15df\n'}]",0,748889,bfe8eba0513077c7615db313174ebc696a54f685,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I891936c8504087192e0f9ed73545688f390d15df
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/89/748889/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,bfe8eba0513077c7615db313174ebc696a54f685,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Iad2dc427919788f8fc9122a05cd36d9d6e50b11a,openstack/puppet-openstack-integration,stable/ussuri,Iad2dc427919788f8fc9122a05cd36d9d6e50b11a,Disable CentOS7 beaker job,MERGED,2020-08-26 10:10:58.000000000,2020-08-31 15:07:46.000000000,2020-08-31 15:07:46.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-26 10:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4ea0eab8fa440bcd49d58b0ef7f37f365953ad2c', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nConflicts:\n\tzuul.d/layout.yaml\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n(cherry picked from commit 7c4b45ba46ee4af5ab1d00700c6ce802e468eda5)\n'}, {'number': 2, 'created': '2020-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/015e65b30bf98c7e7ebf15bc8602592c23a20a2f', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nConflicts:\n\tzuul.d/layout.yaml\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n(cherry picked from commit 7c4b45ba46ee4af5ab1d00700c6ce802e468eda5)\n'}, {'number': 3, 'created': '2020-08-26 13:51:02.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d572706ee8867296c4b0a5f295168b5a97caeff7', 'message': 'Disable CentOS7 beaker job\n\nThis patch disables CentOS7 beaker job so that we can switch to CentOS8\nto run beaker tests, since CentOS7 is no longer supported.\nCurrently CentOS8 beaker job is still non-voting, but will be made\nvoting soon once we adjust current pinning for CentOS7[1]\n\n[1] https://review.opendev.org/#/c/726498/\n\nConflicts:\n\tzuul.d/layout.yaml\n\nChange-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a\n(cherry picked from commit 7c4b45ba46ee4af5ab1d00700c6ce802e468eda5)\n'}]",0,748151,d572706ee8867296c4b0a5f295168b5a97caeff7,17,6,3,9816,,,0,"Disable CentOS7 beaker job

This patch disables CentOS7 beaker job so that we can switch to CentOS8
to run beaker tests, since CentOS7 is no longer supported.
Currently CentOS8 beaker job is still non-voting, but will be made
voting soon once we adjust current pinning for CentOS7[1]

[1] https://review.opendev.org/#/c/726498/

Conflicts:
	zuul.d/layout.yaml

Change-Id: Iad2dc427919788f8fc9122a05cd36d9d6e50b11a
(cherry picked from commit 7c4b45ba46ee4af5ab1d00700c6ce802e468eda5)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/51/748151/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/beaker.yaml']",3,4ea0eab8fa440bcd49d58b0ef7f37f365953ad2c,centos8-beaker-stable/ussuri, - puppet-openstack-beaker-centos-8, - puppet-openstack-beaker-centos-7 - puppet-openstack-beaker-centos-7 - job: name: puppet-openstack-libraries-puppet-beaker-rspec-centos-7 parent: puppet-openstack-integration-base pre-run: playbooks/prepare-node-beaker.yaml post-run: playbooks/upload-logs.yaml run: playbooks/run-libraries-beaker-tests.yaml timeout: 3600 nodeset: centos-7 irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ vars: nodepool_type: centos7 puppet_gem_version: 5.5.0,2,34
openstack%2Fpuppet-gnocchi~master~I5e7c857c182d0e922f9f9eff4b61258462c86949,openstack/puppet-gnocchi,master,I5e7c857c182d0e922f9f9eff4b61258462c86949,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:56:43.000000000,2020-08-31 15:05:01.000000000,2020-08-31 15:05:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:56:43.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/65b0d98cde538a4cecbd70614e8272dd979f1324', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I5e7c857c182d0e922f9f9eff4b61258462c86949\n'}]",0,748894,65b0d98cde538a4cecbd70614e8272dd979f1324,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I5e7c857c182d0e922f9f9eff4b61258462c86949
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/94/748894/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,65b0d98cde538a4cecbd70614e8272dd979f1324,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-vitrage~master~I68988e35e1011aad10d76c8230138b24f8e41fba,openstack/puppet-vitrage,master,I68988e35e1011aad10d76c8230138b24f8e41fba,Do not validate database_connection format,MERGED,2020-08-31 08:58:13.000000000,2020-08-31 15:03:35.000000000,2020-08-31 15:03:35.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:58:13.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/3593e83c612af5fa5faa146d2802cc9ee19baeb0', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I68988e35e1011aad10d76c8230138b24f8e41fba\n'}]",0,749003,3593e83c612af5fa5faa146d2802cc9ee19baeb0,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I68988e35e1011aad10d76c8230138b24f8e41fba
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/03/749003/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,3593e83c612af5fa5faa146d2802cc9ee19baeb0,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-mistral~master~I0829759938566b35da4af32fdba6061bd26d9adf,openstack/puppet-mistral,master,I0829759938566b35da4af32fdba6061bd26d9adf,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:59:31.000000000,2020-08-31 15:03:16.000000000,2020-08-31 15:03:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:59:31.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/b7cbb3bd8b0caae982db2ae0bc2d1b0979a54abe', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I0829759938566b35da4af32fdba6061bd26d9adf\n'}]",0,748901,b7cbb3bd8b0caae982db2ae0bc2d1b0979a54abe,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I0829759938566b35da4af32fdba6061bd26d9adf
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/01/748901/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b7cbb3bd8b0caae982db2ae0bc2d1b0979a54abe,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-mistral~stable%2Fussuri~Ie4fea38fb96d1c04a8a589f2f216a167fd15b827,openstack/puppet-mistral,stable/ussuri,Ie4fea38fb96d1c04a8a589f2f216a167fd15b827,Fix the default value of mistral::database_connection,MERGED,2020-08-31 02:02:42.000000000,2020-08-31 15:03:15.000000000,2020-08-31 15:03:15.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 02:02:42.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/b04597ed60d6261988601dfbfb3239dbcd8cf5a9', 'message': ""Fix the default value of mistral::database_connection\n\nThe default of mistral::database_connection should be undef instead of\n$os_service_default, otherwise mistral::db::database_connection,\ndoesn't work at all.\nThis patch fixes the default value so that it has the corret one\ndescribed in parameter description.\n\nChange-Id: Ie4fea38fb96d1c04a8a589f2f216a167fd15b827\n(cherry picked from commit 201131e1cbd00c7576b74f0a512ddc8949cf21d6)\n""}]",0,748938,b04597ed60d6261988601dfbfb3239dbcd8cf5a9,7,3,1,9816,,,0,"Fix the default value of mistral::database_connection

The default of mistral::database_connection should be undef instead of
$os_service_default, otherwise mistral::db::database_connection,
doesn't work at all.
This patch fixes the default value so that it has the corret one
described in parameter description.

Change-Id: Ie4fea38fb96d1c04a8a589f2f216a167fd15b827
(cherry picked from commit 201131e1cbd00c7576b74f0a512ddc8949cf21d6)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/38/748938/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,b04597ed60d6261988601dfbfb3239dbcd8cf5a9,db_conn_default-stable/ussuri," $database_connection = undef,"," $database_connection = $::os_service_default,",1,1
openstack%2Fpuppet-ceilometer~master~I6d287cbc9fe093e9eb212080b983b4537f5419e4,openstack/puppet-ceilometer,master,I6d287cbc9fe093e9eb212080b983b4537f5419e4,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:53:29.000000000,2020-08-31 15:02:59.000000000,2020-08-31 15:02:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:53:29.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/33c6d9ad179bc25d5915b72d45528987db9afd3b', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I6d287cbc9fe093e9eb212080b983b4537f5419e4\n'}]",0,748885,33c6d9ad179bc25d5915b72d45528987db9afd3b,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I6d287cbc9fe093e9eb212080b983b4537f5419e4
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/85/748885/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,33c6d9ad179bc25d5915b72d45528987db9afd3b,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-ceph~master~Id497fdbe858eca6cd6e3e702af726db8c41dde9a,openstack/puppet-ceph,master,Id497fdbe858eca6cd6e3e702af726db8c41dde9a,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:53:52.000000000,2020-08-31 14:59:49.000000000,2020-08-31 14:59:49.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:53:52.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/03784ddd87600cbcd10b7bb8d6277b2294c6433f', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Id497fdbe858eca6cd6e3e702af726db8c41dde9a\n'}]",0,748886,03784ddd87600cbcd10b7bb8d6277b2294c6433f,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Id497fdbe858eca6cd6e3e702af726db8c41dde9a
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/86/748886/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,03784ddd87600cbcd10b7bb8d6277b2294c6433f,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-magnum~master~I9b0bd2cb6ab182d91d63085519a7e246abe208c8,openstack/puppet-magnum,master,I9b0bd2cb6ab182d91d63085519a7e246abe208c8,Do not validate database_connection format,MERGED,2020-08-31 08:51:07.000000000,2020-08-31 14:59:30.000000000,2020-08-31 14:59:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:51:07.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/1fdfee8d5908aba0d81b9259a73defe050790659', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I9b0bd2cb6ab182d91d63085519a7e246abe208c8\n'}]",0,748988,1fdfee8d5908aba0d81b9259a73defe050790659,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I9b0bd2cb6ab182d91d63085519a7e246abe208c8
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/88/748988/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,1fdfee8d5908aba0d81b9259a73defe050790659,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-watcher~master~Ie0382f29a12f1a46dbb1bd1c897e19e4eaab275f,openstack/puppet-watcher,master,Ie0382f29a12f1a46dbb1bd1c897e19e4eaab275f,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:08:28.000000000,2020-08-31 14:59:01.000000000,2020-08-31 14:59:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:08:28.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/27e8574a991df4d2c0b832913d13907ff5b79514', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ie0382f29a12f1a46dbb1bd1c897e19e4eaab275f\n'}]",0,748923,27e8574a991df4d2c0b832913d13907ff5b79514,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ie0382f29a12f1a46dbb1bd1c897e19e4eaab275f
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/23/748923/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,27e8574a991df4d2c0b832913d13907ff5b79514,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-mistral~master~I98808ac7e01709c0bf7e9d08a629255e080ccfa4,openstack/puppet-mistral,master,I98808ac7e01709c0bf7e9d08a629255e080ccfa4,Do not validate database_connection format,MERGED,2020-08-31 08:52:32.000000000,2020-08-31 14:58:50.000000000,2020-08-31 14:58:50.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:52:32.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/90004f413980561e18948b8059383725b01d9b05', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I98808ac7e01709c0bf7e9d08a629255e080ccfa4\n'}]",0,748991,90004f413980561e18948b8059383725b01d9b05,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I98808ac7e01709c0bf7e9d08a629255e080ccfa4
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/91/748991/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,90004f413980561e18948b8059383725b01d9b05,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-manila~master~Id2117c8d34ffadf210e1b25328cac6e72a2ae142,openstack/puppet-manila,master,Id2117c8d34ffadf210e1b25328cac6e72a2ae142,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:59:11.000000000,2020-08-31 14:57:16.000000000,2020-08-31 14:57:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:59:11.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bd9c835e90244890e9acd9d2b8c6c601bbc8cb70', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Id2117c8d34ffadf210e1b25328cac6e72a2ae142\n'}]",0,748900,bd9c835e90244890e9acd9d2b8c6c601bbc8cb70,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Id2117c8d34ffadf210e1b25328cac6e72a2ae142
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/00/748900/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,bd9c835e90244890e9acd9d2b8c6c601bbc8cb70,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-panko~master~I9a64b0b6f6f883d15ab81ea7a8b7e2a18597b119,openstack/puppet-panko,master,I9a64b0b6f6f883d15ab81ea7a8b7e2a18597b119,Remove deprecation message from panko::api,MERGED,2020-08-31 09:17:31.000000000,2020-08-31 14:54:54.000000000,2020-08-31 14:54:54.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-08-31 09:17:31.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/e531643b519a58b858cc884ad3e08ee081b10234', 'message': 'Remove deprecation message from panko::api\n\nThe panko::api class was marked as deprecated[1] a long ago without\neither any clear announcement or release note.\nHowever in fact puppet-panko has been maitainced and Panko is still\na part of OpenStack projects now.\nThis patch removes the deprecation message regarding the fact that\nthere are no actual plans to remove it.\n\n[1] 272f764ce3a54e0d9ae165fb3698b793945ae4b0\n\nChange-Id: I9a64b0b6f6f883d15ab81ea7a8b7e2a18597b119\n'}]",0,749010,e531643b519a58b858cc884ad3e08ee081b10234,8,4,1,9816,,,0,"Remove deprecation message from panko::api

The panko::api class was marked as deprecated[1] a long ago without
either any clear announcement or release note.
However in fact puppet-panko has been maitainced and Panko is still
a part of OpenStack projects now.
This patch removes the deprecation message regarding the fact that
there are no actual plans to remove it.

[1] 272f764ce3a54e0d9ae165fb3698b793945ae4b0

Change-Id: I9a64b0b6f6f883d15ab81ea7a8b7e2a18597b119
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/10/749010/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,e531643b519a58b858cc884ad3e08ee081b10234,undeprecate,, warning('This Class is deprecated and will be removed in future releases.') ,0,2
openstack%2Fpuppet-trove~master~I6de003300a7efdfca4b38c4b61859891fcc8780b,openstack/puppet-trove,master,I6de003300a7efdfca4b38c4b61859891fcc8780b,Do not validate database_connection format,MERGED,2020-08-31 08:57:53.000000000,2020-08-31 14:53:42.000000000,2020-08-31 14:53:42.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:57:53.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/47d8b0f264d99391ee63c6718398c5f30e0d4063', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I6de003300a7efdfca4b38c4b61859891fcc8780b\n'}]",0,749002,47d8b0f264d99391ee63c6718398c5f30e0d4063,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I6de003300a7efdfca4b38c4b61859891fcc8780b
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/02/749002/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,47d8b0f264d99391ee63c6718398c5f30e0d4063,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-manila~master~If2764453402c460e9a96b91400bd6974c48fcf02,openstack/puppet-manila,master,If2764453402c460e9a96b91400bd6974c48fcf02,Do not validate database_connection format,MERGED,2020-08-31 08:51:31.000000000,2020-08-31 14:34:36.000000000,2020-08-31 14:34:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:51:31.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5317e909dc63935c0cbeb3414b273fd8e366badb', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: If2764453402c460e9a96b91400bd6974c48fcf02\n'}]",0,748990,5317e909dc63935c0cbeb3414b273fd8e366badb,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: If2764453402c460e9a96b91400bd6974c48fcf02
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/90/748990/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,5317e909dc63935c0cbeb3414b273fd8e366badb,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-watcher~master~I367b929e9c3d1e7f1490e3c08a44ccc08620b822,openstack/puppet-watcher,master,I367b929e9c3d1e7f1490e3c08a44ccc08620b822,Do not validate database_connection format,MERGED,2020-08-31 08:58:35.000000000,2020-08-31 14:34:02.000000000,2020-08-31 14:34:02.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-08-31 08:58:35.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/2a3555a01106570484d2cedb74b181881030a993', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I367b929e9c3d1e7f1490e3c08a44ccc08620b822\n'}]",0,749004,2a3555a01106570484d2cedb74b181881030a993,8,4,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I367b929e9c3d1e7f1490e3c08a44ccc08620b822
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/04/749004/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,2a3555a01106570484d2cedb74b181881030a993,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-tacker~stable%2Fussuri~Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6,openstack/puppet-tacker,stable/ussuri,Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6,Use common class to manage apache service in beaker job,MERGED,2020-08-29 04:09:09.000000000,2020-08-31 14:30:45.000000000,2020-08-31 14:30:45.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:09:09.000000000', 'files': ['spec/acceptance/tacker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/e56238d79c4988a536e2f193791ac47cde989358', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6\n(cherry picked from commit 03291b490c38b71df8692c35e689146eede209df)\n'}]",0,748780,e56238d79c4988a536e2f193791ac47cde989358,8,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6
(cherry picked from commit 03291b490c38b71df8692c35e689146eede209df)
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/80/748780/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/tacker_spec.rb'],1,e56238d79c4988a536e2f193791ac47cde989358,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-sahara~master~I9de89d533921dc62c722f71624c27d7095a21654,openstack/puppet-sahara,master,I9de89d533921dc62c722f71624c27d7095a21654,Do not validate database_connection format,MERGED,2020-08-31 08:56:45.000000000,2020-08-31 14:30:13.000000000,2020-08-31 14:30:13.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:56:45.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/b55991b5ece5b49b331ab9d4efaef39a987cf4bf', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I9de89d533921dc62c722f71624c27d7095a21654\n'}]",0,748998,b55991b5ece5b49b331ab9d4efaef39a987cf4bf,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I9de89d533921dc62c722f71624c27d7095a21654
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/98/748998/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,b55991b5ece5b49b331ab9d4efaef39a987cf4bf,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-tacker~stable%2Fussuri~I6a22c546797e41fc186d0c6490e236b0bf33444e,openstack/puppet-tacker,stable/ussuri,I6a22c546797e41fc186d0c6490e236b0bf33444e,Disable Tacker installation during beaker tests,MERGED,2020-08-29 04:09:25.000000000,2020-08-31 14:26:26.000000000,2020-08-31 14:26:26.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-29 04:09:25.000000000', 'files': ['spec/acceptance/tacker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/fa3f51dffa8c303d27ae498868e6783ad271dda2', 'message': 'Disable Tacker installation during beaker tests\n\nSince Ussuri, Tacker requires sqlalchemy-filter package as a part of\nits dependencies, but this package is not yet provided in Fedora,\nCentOS and RDO.\nWe should disable installation of Tacker until these distros provie\navailable packages.\n\nChange-Id: I6a22c546797e41fc186d0c6490e236b0bf33444e\n(cherry picked from commit 606e6ff904166c656006fbd52dfd9146eaa06fee)\n'}]",0,748782,fa3f51dffa8c303d27ae498868e6783ad271dda2,8,4,1,9816,,,0,"Disable Tacker installation during beaker tests

Since Ussuri, Tacker requires sqlalchemy-filter package as a part of
its dependencies, but this package is not yet provided in Fedora,
CentOS and RDO.
We should disable installation of Tacker until these distros provie
available packages.

Change-Id: I6a22c546797e41fc186d0c6490e236b0bf33444e
(cherry picked from commit 606e6ff904166c656006fbd52dfd9146eaa06fee)
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/82/748782/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/tacker_spec.rb'],1,fa3f51dffa8c303d27ae498868e6783ad271dda2,centos8-beaker-stable/ussuri," warning('Tacker is not yet packaged on Ubuntu systems.') warning('Tacker installation on CentOS8 is currently broken beause of a missing dependency') # class { 'tacker::db': # database_connection => 'mysql+pymysql://tacker:a_big_secret@127.0.0.1/tacker?charset=utf8', # } # class { 'tacker::keystone::auth': # password => 'a_big_secret', # } # class { 'tacker::keystone::authtoken': # password => 'a_big_secret', # } # class { 'tacker::logging': # debug => true, # } # class { 'tacker': # default_transport_url => 'rabbit://tacker:my_secret@127.0.0.1:5672/', # } # include tacker::server # if os[:family].casecmp('RedHat') == 0 # describe port(9890) do # it { is_expected.to be_listening } # end # end"," warning('Gnocchi is not yet packaged on Ubuntu systems.') class { 'tacker::db': database_connection => 'mysql+pymysql://tacker:a_big_secret@127.0.0.1/tacker?charset=utf8', } class { 'tacker::keystone::auth': password => 'a_big_secret', } class { 'tacker::keystone::authtoken': password => 'a_big_secret', } class { 'tacker::logging': debug => true, } class { 'tacker': default_transport_url => 'rabbit://tacker:my_secret@127.0.0.1:5672/', } include tacker::server if os[:family].casecmp('RedHat') == 0 describe port(9890) do it { is_expected.to be_listening } end end",23,22
openstack%2Fpuppet-octavia~master~Ia5c5461422837f841e451e8478167b024f39a358,openstack/puppet-octavia,master,Ia5c5461422837f841e451e8478167b024f39a358,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:00:57.000000000,2020-08-31 14:25:52.000000000,2020-08-31 14:25:52.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-30 21:00:57.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/93bbf23cb25fc85da9730a273ea97c6904c98745', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ia5c5461422837f841e451e8478167b024f39a358\n'}]",0,748905,93bbf23cb25fc85da9730a273ea97c6904c98745,8,4,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ia5c5461422837f841e451e8478167b024f39a358
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/05/748905/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,93bbf23cb25fc85da9730a273ea97c6904c98745,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-cloudkitty~master~I959e0e7af15282f3762ecb9a1186150225bd7f40,openstack/puppet-cloudkitty,master,I959e0e7af15282f3762ecb9a1186150225bd7f40,Do not validate database_connection format,MERGED,2020-08-30 15:01:03.000000000,2020-08-31 14:25:30.000000000,2020-08-31 14:25:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:01:03.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/b3a2eb982fa750d85c06fee72547dd580d0daa37', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I959e0e7af15282f3762ecb9a1186150225bd7f40\n'}]",0,748866,b3a2eb982fa750d85c06fee72547dd580d0daa37,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I959e0e7af15282f3762ecb9a1186150225bd7f40
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/66/748866/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,b3a2eb982fa750d85c06fee72547dd580d0daa37,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-glare~master~Iedacb092d2c4427f77e82c9b3e0191a04e0f2278,openstack/puppet-glare,master,Iedacb092d2c4427f77e82c9b3e0191a04e0f2278,Do not validate database_connection format,MERGED,2020-08-30 15:05:29.000000000,2020-08-31 14:25:17.000000000,2020-08-31 14:25:17.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:05:29.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/a26d59dd6650fbe1320bb5322ef3cd3e70e0245c', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Iedacb092d2c4427f77e82c9b3e0191a04e0f2278\n'}]",0,748869,a26d59dd6650fbe1320bb5322ef3cd3e70e0245c,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Iedacb092d2c4427f77e82c9b3e0191a04e0f2278
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/69/748869/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,a26d59dd6650fbe1320bb5322ef3cd3e70e0245c,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-rally~master~I540c1c70ad350ce1421f195e900cf22a6db5f9b5,openstack/puppet-rally,master,I540c1c70ad350ce1421f195e900cf22a6db5f9b5,Do not validate database_connection format,MERGED,2020-08-31 08:56:06.000000000,2020-08-31 14:18:17.000000000,2020-08-31 14:18:17.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:56:06.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/b71e943b989f280540c581649c71917e239aed7b', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I540c1c70ad350ce1421f195e900cf22a6db5f9b5\n'}]",0,748997,b71e943b989f280540c581649c71917e239aed7b,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I540c1c70ad350ce1421f195e900cf22a6db5f9b5
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/97/748997/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,b71e943b989f280540c581649c71917e239aed7b,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['(sqlite|mysql|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-murano~master~I282908d520d40ba95bc7389651621c231ea2b09c,openstack/puppet-murano,master,I282908d520d40ba95bc7389651621c231ea2b09c,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:00:20.000000000,2020-08-31 14:15:58.000000000,2020-08-31 14:15:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:00:20.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/44b5f5b456b692c66ea67c25c7e82918199f9659', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I282908d520d40ba95bc7389651621c231ea2b09c\n'}]",0,748903,44b5f5b456b692c66ea67c25c7e82918199f9659,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I282908d520d40ba95bc7389651621c231ea2b09c
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/03/748903/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,44b5f5b456b692c66ea67c25c7e82918199f9659,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-tacker~master~Ic850e138242028ad6cce593e89012fcb9ac0b66d,openstack/puppet-tacker,master,Ic850e138242028ad6cce593e89012fcb9ac0b66d,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:06:16.000000000,2020-08-31 14:15:56.000000000,2020-08-31 14:15:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:06:16.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/b34217b5556f93f74fbd03024ef2f1f0570c4af0', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ic850e138242028ad6cce593e89012fcb9ac0b66d\n'}]",0,748917,b34217b5556f93f74fbd03024ef2f1f0570c4af0,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ic850e138242028ad6cce593e89012fcb9ac0b66d
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/17/748917/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b34217b5556f93f74fbd03024ef2f1f0570c4af0,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-freezer~master~I9cd6c86e873f7dec55c0bb68cb4d40fe0b7fc1e5,openstack/puppet-freezer,master,I9cd6c86e873f7dec55c0bb68cb4d40fe0b7fc1e5,Do not validate database_connection format,MERGED,2020-08-30 15:04:58.000000000,2020-08-31 14:15:38.000000000,2020-08-31 14:15:38.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:04:58.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/08c4afed1ddc56133a8b8a5278a79b2c60e4268a', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I9cd6c86e873f7dec55c0bb68cb4d40fe0b7fc1e5\n'}]",0,748868,08c4afed1ddc56133a8b8a5278a79b2c60e4268a,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I9cd6c86e873f7dec55c0bb68cb4d40fe0b7fc1e5
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/68/748868/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,08c4afed1ddc56133a8b8a5278a79b2c60e4268a,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-senlin~master~Ia1e5c24d9869573393e36dea3311fc9c97dbb971,openstack/puppet-senlin,master,Ia1e5c24d9869573393e36dea3311fc9c97dbb971,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:05:21.000000000,2020-08-31 14:12:44.000000000,2020-08-31 14:12:44.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:05:21.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/76a4f839b5b820a2fc9b0400b98c628f8f0f33cc', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ia1e5c24d9869573393e36dea3311fc9c97dbb971\n'}]",0,748915,76a4f839b5b820a2fc9b0400b98c628f8f0f33cc,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ia1e5c24d9869573393e36dea3311fc9c97dbb971
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/15/748915/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,76a4f839b5b820a2fc9b0400b98c628f8f0f33cc,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-cloudkitty~master~I8cc51ddb61a5af99382a0058fb0d70f6359768b0,openstack/puppet-cloudkitty,master,I8cc51ddb61a5af99382a0058fb0d70f6359768b0,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:54:32.000000000,2020-08-31 14:11:10.000000000,2020-08-31 14:11:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:54:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/400733b2b65c2f02648b4d5c971a5db5c55b2691', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I8cc51ddb61a5af99382a0058fb0d70f6359768b0\n'}]",0,748888,400733b2b65c2f02648b4d5c971a5db5c55b2691,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I8cc51ddb61a5af99382a0058fb0d70f6359768b0
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/88/748888/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,400733b2b65c2f02648b4d5c971a5db5c55b2691,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-freezer~master~I08f4453484f57a6448b295bb5fc8f1b8bc1370f1,openstack/puppet-freezer,master,I08f4453484f57a6448b295bb5fc8f1b8bc1370f1,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:55:36.000000000,2020-08-31 14:10:25.000000000,2020-08-31 14:10:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:55:36.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/3c4cabf001858de941d71b0ff57324beeab81562', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I08f4453484f57a6448b295bb5fc8f1b8bc1370f1\n'}]",0,748891,3c4cabf001858de941d71b0ff57324beeab81562,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I08f4453484f57a6448b295bb5fc8f1b8bc1370f1
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/91/748891/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,3c4cabf001858de941d71b0ff57324beeab81562,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-monasca~master~Ie06be048b04f7415561a8d57006ac28792115099,openstack/puppet-monasca,master,Ie06be048b04f7415561a8d57006ac28792115099,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:59:58.000000000,2020-08-31 14:06:40.000000000,2020-08-31 14:06:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:59:58.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/e69975ced71532194822255e9b3a3aafb3b39bf3', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ie06be048b04f7415561a8d57006ac28792115099\n'}]",0,748902,e69975ced71532194822255e9b3a3aafb3b39bf3,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ie06be048b04f7415561a8d57006ac28792115099
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/02/748902/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,e69975ced71532194822255e9b3a3aafb3b39bf3,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-octavia~master~I5eb1051e67a56941b9684728aa4f4340ddb35aab,openstack/puppet-octavia,master,I5eb1051e67a56941b9684728aa4f4340ddb35aab,Do not validate database_connection format,MERGED,2020-08-31 08:53:30.000000000,2020-08-31 14:03:39.000000000,2020-08-31 14:03:38.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:53:30.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/4491d687b2e4310292bde62a1ce176a01d4d55df', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I5eb1051e67a56941b9684728aa4f4340ddb35aab\n'}]",0,748993,4491d687b2e4310292bde62a1ce176a01d4d55df,8,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I5eb1051e67a56941b9684728aa4f4340ddb35aab
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/93/748993/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,4491d687b2e4310292bde62a1ce176a01d4d55df,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-ovn~master~I4574e214ef16516b97c5bb0d26026dfb04929ea4,openstack/puppet-ovn,master,I4574e214ef16516b97c5bb0d26026dfb04929ea4,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:02:42.000000000,2020-08-31 14:02:09.000000000,2020-08-31 14:02:09.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:02:42.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/2ec757c8e812d1c109be694895c9f7ef58fa9726', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I4574e214ef16516b97c5bb0d26026dfb04929ea4\n'}]",0,748909,2ec757c8e812d1c109be694895c9f7ef58fa9726,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I4574e214ef16516b97c5bb0d26026dfb04929ea4
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/09/748909/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2ec757c8e812d1c109be694895c9f7ef58fa9726,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-murano~master~I9f908d5f4494bbf55033b3a2498d6f0112b56de1,openstack/puppet-murano,master,I9f908d5f4494bbf55033b3a2498d6f0112b56de1,Do not validate database_connection format,MERGED,2020-08-31 08:53:01.000000000,2020-08-31 14:01:36.000000000,2020-08-31 14:01:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:53:01.000000000', 'files': ['manifests/db_cfapi.pp', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/1df566d5ccce504faf02fc044da581ecc21cd294', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I9f908d5f4494bbf55033b3a2498d6f0112b56de1\n'}]",0,748992,1df566d5ccce504faf02fc044da581ecc21cd294,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I9f908d5f4494bbf55033b3a2498d6f0112b56de1
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/92/748992/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db_cfapi.pp', 'manifests/db.pp']",2,1df566d5ccce504faf02fc044da581ecc21cd294,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,6
openstack%2Fpuppet-openstack-guide~master~I43414f8b2ffbfbd9a8ffb38b746985a61b97a3d3,openstack/puppet-openstack-guide,master,I43414f8b2ffbfbd9a8ffb38b746985a61b97a3d3,Remove modifying Gemfile in modules on release,MERGED,2020-08-30 21:12:32.000000000,2020-08-31 13:59:20.000000000,2020-08-31 13:57:23.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/8a25591cf9f8c6a3fa415f1d347b45ec42f6f0f1', 'message': 'Use openstack_spec_helper from zuul checkout\n\nThis step is not needed anymore, we dont need to\npatch the Gemfile on each release.\n\nChange-Id: I43414f8b2ffbfbd9a8ffb38b746985a61b97a3d3\n'}, {'number': 2, 'created': '2020-08-31 08:58:13.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/a47f0594c4f1a48a54d2e251b4e746b90ab4e194', 'message': 'Remove modifying Gemfile in modules on release\n\nThis step is not needed anymore, we dont need to\npatch the Gemfile on each release.\n\nChange-Id: I43414f8b2ffbfbd9a8ffb38b746985a61b97a3d3\n'}]",0,748926,a47f0594c4f1a48a54d2e251b4e746b90ab4e194,10,3,2,16137,,,0,"Remove modifying Gemfile in modules on release

This step is not needed anymore, we dont need to
patch the Gemfile on each release.

Change-Id: I43414f8b2ffbfbd9a8ffb38b746985a61b97a3d3
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/26/748926/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,8a25591cf9f8c6a3fa415f1d347b45ec42f6f0f1,,- Update Puppetfile in openstack/puppet-openstack-integration,"- For all modules and openstack/puppet-openstack-integration, Puppetfile + Gemfile to use the new branch, also update .gitreview. Note: example patches patch has to be done in stable/pike. Example: https://review.opendev.org/#/q/topic:switch-to-pike",1,3
openstack%2Fpuppet-qdr~master~I7abca1dcffe1e622e291061f3180e5171c966e6c,openstack/puppet-qdr,master,I7abca1dcffe1e622e291061f3180e5171c966e6c,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:04:03.000000000,2020-08-31 13:57:31.000000000,2020-08-31 13:57:31.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:04:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/2a318fbb4a5541e0cb4d44c1591d9ef2f0922b07', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I7abca1dcffe1e622e291061f3180e5171c966e6c\n'}]",0,748912,2a318fbb4a5541e0cb4d44c1591d9ef2f0922b07,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I7abca1dcffe1e622e291061f3180e5171c966e6c
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/12/748912/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2a318fbb4a5541e0cb4d44c1591d9ef2f0922b07,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-glare~master~I47d4a6845ed394e6666d9f9db6796d473514e14b,openstack/puppet-glare,master,I47d4a6845ed394e6666d9f9db6796d473514e14b,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 20:56:23.000000000,2020-08-31 13:56:14.000000000,2020-08-31 13:56:14.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 20:56:23.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/4fbaf7651395d1cbdd098dc702c3c3d06fc5d321', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I47d4a6845ed394e6666d9f9db6796d473514e14b\n'}]",0,748893,4fbaf7651395d1cbdd098dc702c3c3d06fc5d321,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I47d4a6845ed394e6666d9f9db6796d473514e14b
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/93/748893/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,4fbaf7651395d1cbdd098dc702c3c3d06fc5d321,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-tacker~master~Ie3891da0e6a518d328d9a0367fe16f963ee6a6ba,openstack/puppet-tacker,master,Ie3891da0e6a518d328d9a0367fe16f963ee6a6ba,Do not validate database_connection format,MERGED,2020-08-31 08:57:29.000000000,2020-08-31 13:55:51.000000000,2020-08-31 13:55:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:57:29.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/637fb051fa87f93ea64118bd08e701cfca2746c6', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Ie3891da0e6a518d328d9a0367fe16f963ee6a6ba\n'}]",0,749001,637fb051fa87f93ea64118bd08e701cfca2746c6,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Ie3891da0e6a518d328d9a0367fe16f963ee6a6ba
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/01/749001/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,637fb051fa87f93ea64118bd08e701cfca2746c6,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-rally~master~I0ee4880ecaab9dfd5a3fbf13c295e73c4e4fed03,openstack/puppet-rally,master,I0ee4880ecaab9dfd5a3fbf13c295e73c4e4fed03,Use openstack_spec_helper from zuul checkout,MERGED,2020-08-30 21:04:27.000000000,2020-08-31 13:54:04.000000000,2020-08-31 13:54:04.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 21:04:27.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/d4614ec34b90b93d9110557444b243f846995baa', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I0ee4880ecaab9dfd5a3fbf13c295e73c4e4fed03\n'}]",0,748913,d4614ec34b90b93d9110557444b243f846995baa,7,3,1,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I0ee4880ecaab9dfd5a3fbf13c295e73c4e4fed03
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/13/748913/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,d4614ec34b90b93d9110557444b243f846995baa,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fpuppet-openstack-cookiecutter~master~I6a09b427b720d6bc28e3e9c5130a0e9b26639f98,openstack/puppet-openstack-cookiecutter,master,I6a09b427b720d6bc28e3e9c5130a0e9b26639f98,Do not validate database_connection format,MERGED,2020-08-31 08:55:32.000000000,2020-08-31 13:48:47.000000000,2020-08-31 13:48:47.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:55:32.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/f9bcdf4fcbc1b91bd99bac4efef96aefb2b19b1b', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I6a09b427b720d6bc28e3e9c5130a0e9b26639f98\n'}]",0,748996,f9bcdf4fcbc1b91bd99bac4efef96aefb2b19b1b,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I6a09b427b720d6bc28e3e9c5130a0e9b26639f98
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/96/748996/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/manifests/db.pp'],1,f9bcdf4fcbc1b91bd99bac4efef96aefb2b19b1b,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fpuppet-senlin~master~I37ad49a7dc46a3a22ad85fbfdbbc0eb40fcb1549,openstack/puppet-senlin,master,I37ad49a7dc46a3a22ad85fbfdbbc0eb40fcb1549,Do not validate database_connection format,MERGED,2020-08-31 08:57:07.000000000,2020-08-31 13:48:12.000000000,2020-08-31 13:48:12.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:57:07.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/356a2234f6b801297e84d090ea0a33ed9057d939', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: I37ad49a7dc46a3a22ad85fbfdbbc0eb40fcb1549\n'}]",0,748999,356a2234f6b801297e84d090ea0a33ed9057d939,7,3,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: I37ad49a7dc46a3a22ad85fbfdbbc0eb40fcb1549
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/99/748999/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,356a2234f6b801297e84d090ea0a33ed9057d939,validate-db_conn,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fdevstack~master~I01cb1fce38a1d9e18ff20bb547fbaf207dbae56c,openstack/devstack,master,I01cb1fce38a1d9e18ff20bb547fbaf207dbae56c,DNM: Do not make editable pip installs,ABANDONED,2020-08-31 09:10:13.000000000,2020-08-31 13:46:00.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 09:10:13.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/244659e22c69ffe01e7ca40b379267516654edd3', 'message': 'DNM: Do not make editable pip installs\n\nTesting this as a workaround for the recent setuptools issues. This may\nmake life more complicated for developers, but the increased stability\nin gating may be worth it.\n\nChange-Id: I01cb1fce38a1d9e18ff20bb547fbaf207dbae56c\n'}]",1,749007,244659e22c69ffe01e7ca40b379267516654edd3,4,2,1,13252,,,0,"DNM: Do not make editable pip installs

Testing this as a workaround for the recent setuptools issues. This may
make life more complicated for developers, but the increased stability
in gating may be worth it.

Change-Id: I01cb1fce38a1d9e18ff20bb547fbaf207dbae56c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/749007/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,244659e22c69ffe01e7ca40b379267516654edd3,, _setup_package_with_constraints_edit $bindep $project_dir $extras, _setup_package_with_constraints_edit $bindep $project_dir -e $extras,1,1
openstack%2Ftripleo-heat-templates~master~Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,openstack/tripleo-heat-templates,master,Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,Use appropriate allocation pools for StorageNFS,MERGED,2020-07-28 18:14:24.000000000,2020-08-31 12:59:44.000000000,2020-08-31 12:12:04.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12398}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-07-28 18:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a71e9afdf96767a35a7e245ee30d24bda9a2938f', 'message': 'Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use four\naddresses -- one for each interface to StorageNFS on the three\nControllerNFS nodes, and one for the VIP used by Ganesha to offer\nNFS service.  The rest of the IPs in the StorageNFS CIDR should\nbe reserved for use on the overcloud Neutron StorageNFS network\nby VMs that use this network to mount shares.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n'}, {'number': 2, 'created': '2020-07-30 22:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/104b863ba4f5c54ec70d626020aa949488dfdad0', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The remaining addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlapping allocation pools.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n""}, {'number': 3, 'created': '2020-07-31 16:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99e0b48592c730340a55b65aa4117358dee96c5b', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n""}, {'number': 4, 'created': '2020-08-08 10:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a0f0680d89125d28a728b34b01fce1d78f6e12a', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n""}, {'number': 5, 'created': '2020-08-26 10:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45786bcc517ed2b4910a1da10a8cad3fc512a789', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n""}, {'number': 6, 'created': '2020-08-26 15:27:55.000000000', 'files': ['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e8a05833cb9679bc6140839305d075389dc4822', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n""}]",15,743609,4e8a05833cb9679bc6140839305d075389dc4822,53,10,6,9003,,,0,"Use appropriate allocation pools for StorageNFS

The StorageNFS network was defined in network_data_ganesha.yaml
using allocation ranges that mirrored those of the other isolated
networks.  But TripleO and the undercloud only need to use a small
number of addresses for overcloud deployment -- in the default
three-controller case, one for the regular StorageNFS interface on
each ControllerNfs role node, and one for the VIP on which the NFS
service is offered.  The bulk of the addresses in the StorageNFS CIDR
should be left out of the allocation range defined in network_data
so that they can be used by the allocation pool for the overcloud
Netron StorageNFS provider network's subnet without danger of
overlap.

This change uses a CIDR with a shorter prefix so that there will
be sufficient IPs left over after the undercloud's TripleO allocation
pool to deploy almost 4000 clients on the Neutron StorageNFS provider
network's subnet.

This commit also includes some minor changes to synchronize
network_data_ganesha.yaml with network_data.yaml since the former
was derived from the latter and should differ from it only by
inclustion of the StorageNFS network.

Closes-bug: #1889682

Change-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/743609/5 && git format-patch -1 --stdout FETCH_HEAD,['network_data_ganesha.yaml'],1,a71e9afdf96767a35a7e245ee30d24bda9a2938f,bug/1889682,"# service_net_map_replace: if name_lower is set to a custom name this should be set # to original default (optional). This field is only necessary when # changing the default network names, not when adding a new custom network.# external_resource_network_id: Optional. If set, it should be the UUID of an existing already # created Neutron network that will be used in place of creating a # new network. # external_resource_vip_id: Optional. If set, it should be the UUID of an existing already # created Neutron port for the VIP that will be used # in place of creating a new port. # external_resource_subnet_id: Optional. If set, it should be the UUID of an existing already # created Neutron subnet that will be used in place of creating a # new subnet for the network. # external_resource_segment_id: Optional. If set, it should be the UUID of an existing already # created Neutron segment that will be used in place of creating a # new segment for the network.# routes_ipv6: Optional, list of networks that should be routed via network gateway. # Example: [{'destination':'fd00:fd00:fd00:3004::/64', # 'nexthop':'fd00:fd00:fd00:3000::1'}]# subnets: A map of additional subnets for the network (optional). The map # takes the following format: # {'<subnet name>': {'enabled': '<true|false>', # 'vlan': '<vlan-id>', # 'ip_subnet': '<IP/CIDR>', # 'allocation_pools': '<IP range list>', # 'gateway_ip': '<gateway IP>', # 'routes': '<Routes list>', # 'ipv6_subnet': '<IPv6/CIDR>', # 'ipv6_allocation_pools': '<IPv6 range list>', # 'gateway_ipv6': '<IPv6 gateway>', # 'routes_ipv6': '<Routes list>', # 'external_resource_subnet_id': '<Existing subnet UUID (optional)>'}} # 'external_resource_segment_id': '<Existing segment UUID (optional)>'}} # Only four IPs are needed by TripleO -- use the rest for VMs that mount shares allocation_pools: [{'start': '172.16.4.2', 'end': '172.16.4.5'}] ipv6_allocation_pools: [{'start': 'fd00:fd00:fd00:7000::2', 'end': 'fd00:fd00:fd00:7000::5'}] mtu: 1500 "," allocation_pools: [{'start': '172.16.4.4', 'end': '172.16.4.250'}] ipv6_allocation_pools: [{'start': 'fd00:fd00:fd00:7000::10', 'end': 'fd00:fd00:fd00:7000:ffff:ffff:ffff:fffe'}] mtu: 1500",36,3
openstack%2Ftempest~master~I2b67ee28ee9861e19f3abbb25586230925de96d5,openstack/tempest,master,I2b67ee28ee9861e19f3abbb25586230925de96d5,WIP: Create tests for check_uuid,ABANDONED,2020-06-08 15:15:02.000000000,2020-08-31 12:47:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-08 15:15:02.000000000', 'files': ['tempest/tests/lib/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb177bc691bcdcc4bf1659ff2ee91a1f9891e099', 'message': 'WIP: Create tests for check_uuid\n\nChange-Id: I2b67ee28ee9861e19f3abbb25586230925de96d5\n'}]",1,734120,fb177bc691bcdcc4bf1659ff2ee91a1f9891e099,3,1,1,30674,,,0,"WIP: Create tests for check_uuid

Change-Id: I2b67ee28ee9861e19f3abbb25586230925de96d5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/734120/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/test_check_uuid.py'],1,fb177bc691bcdcc4bf1659ff2ee91a1f9891e099,feature/check_uuid_tests,"import ast import importlib import os import re import tempfile from tempest.lib.cmd.check_uuid import SourcePatcher from tempest.lib.cmd.check_uuid import TestChecker from tempest.tests import base CORRECT_IMPORTS = \ '''from tempest.api.object_storage import base from tempest.common import utils from tempest import config from tempest.lib import decorators from tempest.lib.common.utils import data_utils ''' WRONG_IMPORTS = \ '''from tempest.api.object_storage import base from tempest.common import utils from tempest import config from tempest.lib.common.utils import data_utils ''' CORRECT_CODE = \ '''class AccountQuotasTest(base.BaseObjectTest): @decorators.attr(type='smoke') @decorators.idempotent_id('a22ef352-a342-4587-8f47-3bbdb5b039c4') @utils.requires_ext(extension='account_quotas', service='object') def test_upload_valid_object(self): pass ''' WRONG_CODE = \ '''@decorators.attr(type='smoke') @utils.requires_ext(extension='account_quotas', service='object') def test_upload_valid_object(self): pass ''' class TestFile: def __init__(self, content): self.file = tempfile.NamedTemporaryFile(mode='w+', delete=False) with self.file as f: f.write(content) @property def filename(self): return self.file.name @property def content(self): with open(self.filename, ""r"") as f: return f.read() def __enter__(self): return self def __exit__(self, type, value, traceback): os.unlink(self.filename) def count_lines(self, searched_line): count = 0 with open(self.filename, ""r"") as f: for line in f.readlines(): if searched_line in line: count += 1 return count class TestAdditionUUID(base.TestCase): def setUp(self): super(TestAdditionUUID, self).setUp() pkg = importlib.import_module('tempest') self.testChecker = TestChecker(pkg) self.patcher = SourcePatcher() def test_add_uuid_import(self): with TestFile(WRONG_IMPORTS + CORRECT_CODE) as f: parsed_source = ast.parse(WRONG_IMPORTS + CORRECT_CODE) self.testChecker._add_import_for_test_uuid( self.patcher, parsed_source, f.filename) self.patcher.apply_patches() self.assertTrue( f.count_lines(""from tempest.lib import decorators\n"") == 1) # Check if not after the code regexp = re.compile('(^import)|(^from)') lines = f.content.split('\n') idx = lines.index('from tempest.lib import decorators') if idx >= 2: self.assertTrue(regexp.search( lines[idx - 1]) or regexp.search(lines[idx - 2])) def test_add_uuid_import_none_imports(self): with TestFile(CORRECT_CODE) as f: parsed_source = ast.parse(CORRECT_CODE) self.testChecker._add_import_for_test_uuid( self.patcher, parsed_source, f.filename) self.patcher.apply_patches() self.assertTrue( f.count_lines(""from tempest.lib import decorators\n"") == 1) # Check if not after the code regexp = re.compile('(^import)|(^from)') lines = f.content.split('\n') idx = lines.index('from tempest.lib import decorators') if idx >= 2: self.assertTrue(regexp.search( lines[idx - 1]) or regexp.search(lines[idx - 2])) # def test_add_uuid_decorator(self): # with TestFile(CORRECT_IMPORTS + WRONG_CODE) as f: # parsed_source = ast.parse(WRONG_CODE) # self.testChecker._add_uuid_to_test( # self.patcher, parsed_source, f.filename) # self.patcher.apply_patches() # print(f.content) ",,126,0
openstack%2Fnova~master~I5684d7d462d3f7cecd887216c5618139787ef5d7,openstack/nova,master,I5684d7d462d3f7cecd887216c5618139787ef5d7,doc: Update references to image properties,MERGED,2020-07-31 15:15:03.000000000,2020-08-31 12:17:17.000000000,2020-08-31 12:15:42.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-31 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/857ef341161aea97228d22ced71169eeb8453ab6', 'message': ""doc: Update references to image properties\n\nThe 'architecture', 'hypervisor_type', 'hypervisor_version_requires' and\n'vm_mode' image metadata properties have had new names for many cycles\nnow.\n\nThe example for the freshly renamed 'img_hv_requested_version' option\nhas been updated to show a Hyper-V example, since the Xen virt driver is\nnot tested and will likely be removed in the near future.\n\nChange-Id: I5684d7d462d3f7cecd887216c5618139787ef5d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-04 13:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bca1721a013e27a4352bf019fb00a29a1de961f5', 'message': ""doc: Update references to image properties\n\nThe 'architecture', 'hypervisor_type', 'hypervisor_version_requires' and\n'vm_mode' image metadata properties have had new names for many cycles\nnow.\n\nThe example for the freshly renamed 'img_hv_requested_version' option\nhas been updated to show a Hyper-V example, since the Xen virt driver is\nnot tested and will likely be removed in the near future.\n\nChange-Id: I5684d7d462d3f7cecd887216c5618139787ef5d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-31 11:02:29.000000000', 'files': ['doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5d48043466b53fbdfe7b93c2e4efd449904e593', 'message': ""doc: Update references to image properties\n\nThe 'architecture', 'hypervisor_type', 'hypervisor_version_requires' and\n'vm_mode' image metadata properties have had new names for many cycles\nnow.\n\nThe example for the freshly renamed 'img_hv_requested_version' option\nhas been updated to show a Hyper-V example, since the Xen virt driver is\nnot tested and will likely be removed in the near future.\n\nChange-Id: I5684d7d462d3f7cecd887216c5618139787ef5d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,744198,b5d48043466b53fbdfe7b93c2e4efd449904e593,29,10,3,15334,,,0,"doc: Update references to image properties

The 'architecture', 'hypervisor_type', 'hypervisor_version_requires' and
'vm_mode' image metadata properties have had new names for many cycles
now.

The example for the freshly renamed 'img_hv_requested_version' option
has been updated to show a Hyper-V example, since the Xen virt driver is
not tested and will likely be removed in the near future.

Change-Id: I5684d7d462d3f7cecd887216c5618139787ef5d7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/744198/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,857ef341161aea97228d22ced71169eeb8453ab6,bp/remove-deprecated-libvirt-virt-types,"version, and virtual machine mode. $ openstack image set --architecture arm --property img_hv_type=qemu \``hw_architecture`` Describes the machine architecture required by the image. Examples are .. versionchanged:: 12.0.0 (Liberty) This was previously called ``architecture``. ``img_hv_type`` Describes the hypervisor required by the image. Examples are ``qemu``, ``xenapi``, and ``hyperv``. .. versionchanged:: 12.0.0 (Liberty) This was previously called ``hypervisor_type``. ``img_hv_requested_version`` Describes the hypervisor version required by the image. The property is supported for HyperV hypervisor type only. It can be used to enable support for multiple hypervisor versions, and to prevent instances with newer HyperV tools ``img_hv_requested_version`` property on the image as metadata and pass an $ openstack image set --property hypervisor_type=hyperv --property \ hypervisor_version_requires="">=6000"" img-uuid .. versionchanged:: 12.0.0 (Liberty) This was previously called ``hypervisor_version_requires``. ``hw_vm_mode`` .. versionchanged:: 12.0.0 (Liberty) This was previously called ``vm_mode``. ","version (for Xen hypervisor type only), and virtual machine mode. $ openstack image set --architecture arm --property hypervisor_type=qemu \``architecture`` describes the machine architecture required by the image. Examples are``hypervisor_type`` describes the hypervisor required by the image. Examples are ``xen``, ``qemu``, and ``xenapi``.``hypervisor_version_requires`` describes the hypervisor version required by the image. The property is supported for Xen hypervisor type only. It can be used to enable support for multiple hypervisor versions, and to prevent instances with newer Xen tools ``hypervisor_version_requires`` property on the image as metadata and pass an $ openstack image set --property hypervisor_type=xen --property \ hypervisor_version_requires="">=4.3"" img-uuid ``vm_mode``",31,15
openstack%2Fpuppet-nova~master~I57d62ac6ce3ca40cc8da34635fd6c3d8b2ffe202,openstack/puppet-nova,master,I57d62ac6ce3ca40cc8da34635fd6c3d8b2ffe202,WIP: Use oslo::db to set up api_database,ABANDONED,2020-08-31 11:28:57.000000000,2020-08-31 11:47:50.000000000,,[],"[{'number': 1, 'created': '2020-08-31 11:28:57.000000000', 'files': ['manifests/db.pp', 'spec/classes/nova_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a00f064db440c9116293b8ce69f9ca1b0abf6109', 'message': 'WIP: Use oslo::db to set up api_database\n\nChange-Id: I57d62ac6ce3ca40cc8da34635fd6c3d8b2ffe202\n'}]",0,749032,a00f064db440c9116293b8ce69f9ca1b0abf6109,2,0,1,9816,,,0,"WIP: Use oslo::db to set up api_database

Change-Id: I57d62ac6ce3ca40cc8da34635fd6c3d8b2ffe202
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/32/749032/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/nova_db_spec.rb']",2,a00f064db440c9116293b8ce69f9ca1b0abf6109,validate-db_conn," it { should contain_oslo__db('nova_config').with( :config_group => 'api_database', :connection => 'mysql+pymysql://user:pass@db/db2', :slave_connection => 'mysql+pymysql://user:pass@slave/db2', )}", it { should contain_nova_config('api_database/connection').with_value('mysql+pymysql://user:pass@db/db2').with_secret(true) } it { should contain_nova_config('api_database/slave_connection').with_value('mysql+pymysql://user:pass@slave/db2').with_secret(true) },12,11
openstack%2Fnova~master~I1a33fadf0b7439cf06c06cba2bc06df6cef0945b,openstack/nova,master,I1a33fadf0b7439cf06c06cba2bc06df6cef0945b,Rebase qcow2 images when unshelving an instance,MERGED,2019-11-26 13:41:52.000000000,2020-08-31 11:36:24.000000000,2020-08-17 15:29:52.000000000,"[{'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 28627}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-11-26 13:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7621bfc77f4ebbe73c2c32f96805e32db1a3f7ec', 'message': ""Flatten qcow2 images when unshelving an instance\n\nDuring unshelve, instance is spawn with image created by shelve\nand is deleted just after, instance.image_ref still point\nto the orginal instance build image.\n\nIn qcow2 environment, this is an issue because instance backing file\ndon't match anymore instance.image_ref and during live-migration/resize,\ntarget host will fetch image corresponding to instance.image_ref\ninvolving instance corruption.\n\nFlatten instance disk avoid this orphan backing file creation.\n\nChange-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b\nCloses-Bug: #1732428\n""}, {'number': 2, 'created': '2019-11-26 20:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84b055480f49e3ce3224ce032cd9de3f5dce4fe6', 'message': ""Flatten qcow2 images when unshelving an instance\n\nDuring unshelve, instance is spawn with image created by shelve\nand is deleted just after, instance.image_ref still point\nto the orginal instance build image.\n\nIn qcow2 environment, this is an issue because instance backing file\ndon't match anymore instance.image_ref and during live-migration/resize,\ntarget host will fetch image corresponding to instance.image_ref\ninvolving instance corruption.\n\nFlatten instance disk avoid this orphan backing file creation.\n\nChange-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b\nCloses-Bug: #1732428\n""}, {'number': 3, 'created': '2020-07-10 08:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/349b01b9c64333cef4744f1ea576f78d719d12ef', 'message': ""Rebase qcow2 images when unshelving an instance\n\nDuring unshelve, instance is spawn with image created by shelve\nand is deleted just after, instance.image_ref still point\nto the original instance build image.\n\nIn qcow2 environment, this is an issue because instance backing file\ndon't match anymore instance.image_ref and during live-migration/resize,\ntarget host will fetch image corresponding to instance.image_ref\ninvolving instance corruption.\n\nThis change fetches original image and rebase instance disk on it.\nThis avoid image_ref mismatch and bring back storage benefit to keep common\nimage in cache.\n\nIf original image is no more available in glance, backing file is merged into\ndisk(flatten), ensuring instance integrity during next live-migration/resize\noperation.\n\nChange-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b\nCloses-Bug: #1732428\n""}, {'number': 4, 'created': '2020-07-28 15:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b507ed340ef2e587e14bd1c2e5a24dc1723ddd6b', 'message': ""Rebase qcow2 images when unshelving an instance\n\nDuring unshelve, instance is spawn with image created by shelve\nand is deleted just after, instance.image_ref still point\nto the original instance build image.\n\nIn qcow2 environment, this is an issue because instance backing file\ndon't match anymore instance.image_ref and during live-migration/resize,\ntarget host will fetch image corresponding to instance.image_ref\ninvolving instance corruption.\n\nThis change fetches original image and rebase instance disk on it.\nThis avoid image_ref mismatch and bring back storage benefit to keep common\nimage in cache.\n\nIf original image is no more available in glance, backing file is merged into\ndisk(flatten), ensuring instance integrity during next live-migration/resize\noperation.\n\nChange-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b\nCloses-Bug: #1732428\n""}, {'number': 5, 'created': '2020-07-30 08:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f640432b2d08944e230886894ec35405acc2c6', 'message': ""Rebase qcow2 images when unshelving an instance\n\nDuring unshelve, instance is spawn with image created by shelve\nand is deleted just after, instance.image_ref still point\nto the original instance build image.\n\nIn qcow2 environment, this is an issue because instance backing file\ndon't match anymore instance.image_ref and during live-migration/resize,\ntarget host will fetch image corresponding to instance.image_ref\ninvolving instance corruption.\n\nThis change fetches original image and rebase instance disk on it.\nThis avoid image_ref mismatch and bring back storage benefit to keep common\nimage in cache.\n\nIf original image is no more available in glance, backing file is merged into\ndisk(flatten), ensuring instance integrity during next live-migration/resize\noperation.\n\nChange-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b\nCloses-Bug: #1732428\n""}, {'number': 6, 'created': '2020-08-13 08:07:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8953a689467f8c3e996086392251de67953a45ba', 'message': ""Rebase qcow2 images when unshelving an instance\n\nDuring unshelve, instance is spawn with image created by shelve\nand is deleted just after, instance.image_ref still point\nto the original instance build image.\n\nIn qcow2 environment, this is an issue because instance backing file\ndon't match anymore instance.image_ref and during live-migration/resize,\ntarget host will fetch image corresponding to instance.image_ref\ninvolving instance corruption.\n\nThis change fetches original image and rebase instance disk on it.\nThis avoid image_ref mismatch and bring back storage benefit to keep common\nimage in cache.\n\nIf original image is no more available in glance, backing file is merged into\ndisk(flatten), ensuring instance integrity during next live-migration/resize\noperation.\n\nChange-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b\nCloses-Bug: #1732428\n""}]",30,696084,8953a689467f8c3e996086392251de67953a45ba,123,20,6,28332,,,0,"Rebase qcow2 images when unshelving an instance

During unshelve, instance is spawn with image created by shelve
and is deleted just after, instance.image_ref still point
to the original instance build image.

In qcow2 environment, this is an issue because instance backing file
don't match anymore instance.image_ref and during live-migration/resize,
target host will fetch image corresponding to instance.image_ref
involving instance corruption.

This change fetches original image and rebase instance disk on it.
This avoid image_ref mismatch and bring back storage benefit to keep common
image in cache.

If original image is no more available in glance, backing file is merged into
disk(flatten), ensuring instance integrity during next live-migration/resize
operation.

Change-Id: I1a33fadf0b7439cf06c06cba2bc06df6cef0945b
Closes-Bug: #1732428
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/696084/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,7621bfc77f4ebbe73c2c32f96805e32db1a3f7ec,bug/1732428," @mock.patch('os.rename') @mock.patch('nova.virt.images.convert_image') def test_unshelve_qcow2_image_flatten_during_fetch_image_cache(self, mock_convert_image, mock_rename): instance = self._create_instance( params={'vm_state': vm_states.SHELVED_OFFLOADED}) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_qcow2_imagebackend = mock.Mock(spec=imagebackend.Qcow2) mock_qcow2_imagebackend.path = '/path' mock_qcow2_imagebackend.flatten.side_effect = \ imagebackend.Qcow2.flatten(mock_qcow2_imagebackend) drvr._try_fetch_image_cache(mock_qcow2_imagebackend, mock.sentinel.fetch, self.context, mock.sentinel.filename, uuids.image_id, instance, mock.sentinel.size) # Assert that we cache and then flatten the image when an instance is # still SHELVED_OFFLOADED during _try_fetch_image_cache. mock_qcow2_imagebackend.cache.assert_called_once_with( fetch_func=mock.sentinel.fetch, context=self.context, filename=mock.sentinel.filename, image_id=uuids.image_id, size=mock.sentinel.size, trusted_certs=instance.trusted_certs) mock_qcow2_imagebackend.flatten.assert_called_once() mock_convert_image.assert_called_once_with( mock_qcow2_imagebackend.path, mock_qcow2_imagebackend.path + '_flatten', 'qcow2', 'qcow2') mock_rename.assert_called_once_with( mock_qcow2_imagebackend.path + '_flatten', mock_qcow2_imagebackend.path) ",,41,1
openstack%2Fnova~master~Iea5969d0bd16dc9a6f1ba950224b0115e466ce66,openstack/nova,master,Iea5969d0bd16dc9a6f1ba950224b0115e466ce66,Add a lock to prevent race during detach/attach of interface,MERGED,2020-08-25 14:01:26.000000000,2020-08-31 11:32:44.000000000,2020-08-30 12:45:01.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 14:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a5e0174d6d5be41686b96fe982fc922fcdd0262', 'message': ""Add a lock to prevent race during detach_interface\n\nOnly allow one detach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplish the task,\nall subsequent requests are destined to failed and caught as a Warning [1] in\ndifferent location of code, according the proper advancement of the first\nrequest.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.')\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}, {'number': 2, 'created': '2020-08-26 08:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1306f89937a1c9e2331afcb3a2972ab817872d13', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to failed and caught as a Warning [1] in\ndifferent location of code, according proper advancement of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.')\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}, {'number': 3, 'created': '2020-08-26 14:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c9a3f728dfd00cdf18243855814a52adc8d96dc', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to failed and caught as a Warning [1] in\ndifferent location of code, according proper advancement of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.')\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}, {'number': 4, 'created': '2020-08-27 09:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27f4ebaeee75049dea3236a2ef06527dc3ff0892', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to failed and caught as a Warning [1] in\ndifferent location of code, according proper advancement of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.')\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}, {'number': 5, 'created': '2020-08-28 07:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c3eb10c7fade8a4cbab17aa50d7a8164da30664', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to failed and caught as a Warning [1] in\ndifferent location of code, according proper advancement of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.')\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}, {'number': 6, 'created': '2020-08-28 13:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/accbc2d74279a47e2e10a07879f8df4abe41b60c', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to fail and log a warning [1] in\ndifferent location of code, depending on the outcome of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.'\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}, {'number': 7, 'created': '2020-08-28 14:57:44.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1892870-eb894956bf04713d.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39831c55999abe97e3bd26a1c0db2e4ceb467041', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to fail and log a warning [1] in\ndifferent location of code, depending on the outcome of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.'\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n""}]",34,747957,39831c55999abe97e3bd26a1c0db2e4ceb467041,81,14,7,28332,,,0,"Add a lock to prevent race during detach/attach of interface

Only allow one detach/attach at a time with the same pattern instance-port_id
in order to avoid race condition when multiple detach/attach are run
concurrently.

When multiple detach run concurrently on a specific instance-port_id,
manager consider many of them as valid because info_cache still contains
the port and info_cache is refreshed only once the first request complete.

So during this gap of time, while the first request accomplishes the task,
all subsequent requests are destined to fail and log a warning [1] in
different location of code, depending on the outcome of the first request.
The Issue is that all those caught requests finally run a
deallocate_port_for_instance which will unbind the port.

This may cause a race condition, because a successful attach can pass between
those unbind, and be silently unbound, resulting in an infrastructure/DB
inconsistency.

[1] 'Detaching interface %(mac)s failed because the device is no longer found
     on the guest.'

Closes-Bug: #1892870
Change-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/747957/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,2a5e0174d6d5be41686b96fe982fc922fcdd0262,bug/1892870," lockname = 'detach_interface-%s-%s' % (instance.uuid, port_id) @utils.synchronized(lockname) def _lock_do_detach_interface(context, instance, port_id): compute_utils.refresh_info_cache_for_instance(context, instance) network_info = instance.info_cache.network_info condemned = None for vif in network_info: if vif['id'] == port_id: condemned = vif break if condemned is None: raise exception.PortNotFound(_(""Port %s is not "" ""attached"") % port_id) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_DETACH, phase=fields.NotificationPhase.START) try: self.driver.detach_interface(context, instance, condemned) except exception.NovaException as ex: # If the instance was deleted before the interface was # detached, just log it at debug. log_level = (logging.DEBUG if isinstance(ex, exception.InstanceNotFound) else logging.WARNING) LOG.log(log_level, ""Detach interface failed, port_id=%(port_id)s, "" ""reason: %(msg)s"", {'port_id': port_id, 'msg': ex}, instance=instance) raise exception.InterfaceDetachFailed( instance_uuid=instance.uuid) else: self._deallocate_port_for_instance( context, instance, port_id, raise_on_failure=True) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_DETACH, phase=fields.NotificationPhase.END) _lock_do_detach_interface(context, instance, port_id)"," network_info = instance.info_cache.network_info condemned = None for vif in network_info: if vif['id'] == port_id: condemned = vif break if condemned is None: raise exception.PortNotFound(_(""Port %s is not "" ""attached"") % port_id) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_DETACH, phase=fields.NotificationPhase.START) try: self.driver.detach_interface(context, instance, condemned) except exception.NovaException as ex: # If the instance was deleted before the interface was detached, # just log it at debug. log_level = (logging.DEBUG if isinstance(ex, exception.InstanceNotFound) else logging.WARNING) LOG.log(log_level, ""Detach interface failed, port_id=%(port_id)s, reason: "" ""%(msg)s"", {'port_id': port_id, 'msg': ex}, instance=instance) raise exception.InterfaceDetachFailed(instance_uuid=instance.uuid) else: self._deallocate_port_for_instance( context, instance, port_id, raise_on_failure=True) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_DETACH, phase=fields.NotificationPhase.END)",48,36
openstack%2Fkolla-ansible~master~Ic67631ca3ea3fb2081a6f8978e85b1522522d40d,openstack/kolla-ansible,master,Ic67631ca3ea3fb2081a6f8978e85b1522522d40d,Performance: use import_tasks for register and bootstrap,MERGED,2020-07-07 16:28:10.000000000,2020-08-31 11:32:16.000000000,2020-08-31 11:30:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 26285}, {'_account_id': 29543}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-07-07 16:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf6110885b1f2ea9d292024f531125d007f3ba56', 'message': 'Performance: use import_tasks for register and bootstrap\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the register.yml and bootstrap.yml\nincludes, all of the tasks in the included file use run_once: True.\nThe run_once flag improves performance at scale drastically, so\nimporting these tasks unconditionally will have a lower overhead than a\nconditional include task.  It therefore makes sense to switch to use\nimport_tasks there.\n\nSee [1] for benchmarks of run_once.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/run-once.md\n\nChange-Id: Ic67631ca3ea3fb2081a6f8978e85b1522522d40d\nPartially-Implements: blueprint performance-improvements\n'}, {'number': 2, 'created': '2020-07-28 11:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98ffd185f6957cfd73b22924bdfa6508dd6389a3', 'message': 'Performance: use import_tasks for register and bootstrap\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the register.yml and bootstrap.yml\nincludes, all of the tasks in the included file use run_once: True.\nThe run_once flag improves performance at scale drastically, so\nimporting these tasks unconditionally will have a lower overhead than a\nconditional include task.  It therefore makes sense to switch to use\nimport_tasks there.\n\nSee [1] for benchmarks of run_once.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/run-once.md\n\nChange-Id: Ic67631ca3ea3fb2081a6f8978e85b1522522d40d\nPartially-Implements: blueprint performance-improvements\n'}, {'number': 3, 'created': '2020-08-25 19:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4bc6f40877bb75494b9231eee2c60506cebbde9a', 'message': 'Performance: use import_tasks for register and bootstrap\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the register.yml and bootstrap.yml\nincludes, all of the tasks in the included file use run_once: True.\nThe run_once flag improves performance at scale drastically, so\nimporting these tasks unconditionally will have a lower overhead than a\nconditional include task.  It therefore makes sense to switch to use\nimport_tasks there.\n\nSee [1] for benchmarks of run_once.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/run-once.md\n\nChange-Id: Ic67631ca3ea3fb2081a6f8978e85b1522522d40d\nPartially-Implements: blueprint performance-improvements\n'}, {'number': 4, 'created': '2020-08-28 16:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04537a8821f4f0e559964a5b4702a8a1d4b04558', 'message': 'Performance: use import_tasks for register and bootstrap\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the register.yml and bootstrap.yml\nincludes, all of the tasks in the included file use run_once: True.\nThe run_once flag improves performance at scale drastically, so\nimporting these tasks unconditionally will have a lower overhead than a\nconditional include task.  It therefore makes sense to switch to use\nimport_tasks there.\n\nSee [1] for benchmarks of run_once.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/run-once.md\n\nChange-Id: Ic67631ca3ea3fb2081a6f8978e85b1522522d40d\nPartially-Implements: blueprint performance-improvements\n'}, {'number': 5, 'created': '2020-08-28 16:31:08.000000000', 'files': ['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/nova/tasks/deploy.yml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/placement/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/designate/tasks/update_pools.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/neutron/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/freezer/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/496904d650d340cd78fd0bd3f1863a38e6661633', 'message': 'Performance: use import_tasks for register and bootstrap\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. In the case of the register.yml and bootstrap.yml\nincludes, all of the tasks in the included file use run_once: True.\nThe run_once flag improves performance at scale drastically, so\nimporting these tasks unconditionally will have a lower overhead than a\nconditional include task.  It therefore makes sense to switch to use\nimport_tasks there.\n\nSee [1] for benchmarks of run_once.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/run-once.md\n\nChange-Id: Ic67631ca3ea3fb2081a6f8978e85b1522522d40d\nPartially-Implements: blueprint performance-improvements\n'}]",3,739811,496904d650d340cd78fd0bd3f1863a38e6661633,26,8,5,14826,,,0,"Performance: use import_tasks for register and bootstrap

Including tasks has a performance penalty when compared with importing
tasks. If the include has a condition associated with it, then the
overhead of the include may be lower than the overhead of skipping all
imported tasks. In the case of the register.yml and bootstrap.yml
includes, all of the tasks in the included file use run_once: True.
The run_once flag improves performance at scale drastically, so
importing these tasks unconditionally will have a lower overhead than a
conditional include task.  It therefore makes sense to switch to use
import_tasks there.

See [1] for benchmarks of run_once.

[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/run-once.md

Change-Id: Ic67631ca3ea3fb2081a6f8978e85b1522522d40d
Partially-Implements: blueprint performance-improvements
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/739811/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/nova/tasks/deploy.yml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/placement/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/designate/tasks/update_pools.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/neutron/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/freezer/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml']",37,cf6110885b1f2ea9d292024f531125d007f3ba56,bp/performance-improvements,- import_tasks: register.yml- import_tasks: bootstrap.yml,- include_tasks: register.yml when: inventory_hostname in groups['magnum-api']- include_tasks: bootstrap.yml when: inventory_hostname in groups['magnum-api'],73,144
openstack%2Fbifrost~master~I5065007e30a1c8c1323e08fac24eb53d8cde19dc,openstack/bifrost,master,I5065007e30a1c8c1323e08fac24eb53d8cde19dc,Authentication JSON RPC even in no-auth mode,MERGED,2020-08-25 10:40:12.000000000,2020-08-31 11:21:20.000000000,2020-08-31 11:18:32.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1e40751a9529742a082f4fcbe0959c0dd5748e54', 'message': 'Trivial: stop using deprecated HTTP basic options\n\nChange-Id: I5065007e30a1c8c1323e08fac24eb53d8cde19dc\n'}, {'number': 2, 'created': '2020-08-25 11:48:01.000000000', 'files': ['releasenotes/notes/json-rpc-auth-2430cc7432cbfe10.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/156a316926538dd14d45e1cf89f9d54436bb397f', 'message': 'Authentication JSON RPC even in no-auth mode\n\nAlso stop using deprecated HTTP basic options.\n\nChange-Id: I5065007e30a1c8c1323e08fac24eb53d8cde19dc\n'}]",0,747897,156a316926538dd14d45e1cf89f9d54436bb397f,11,4,2,10239,,,0,"Authentication JSON RPC even in no-auth mode

Also stop using deprecated HTTP basic options.

Change-Id: I5065007e30a1c8c1323e08fac24eb53d8cde19dc
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/97/747897/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,1e40751a9529742a082f4fcbe0959c0dd5748e54,http-basic,,# Deprecated - compatibility http_basic_username = {{ admin_username }} http_basic_password = {{ admin_password }},0,3
openstack%2Fbifrost~master~I539ffbfc5d4d004d27aaae0f83fef649f0e5be8c,openstack/bifrost,master,I539ffbfc5d4d004d27aaae0f83fef649f0e5be8c,Disable DHCP on the libvirt network rather than doing `killall dnsmasq`,MERGED,2020-08-26 16:30:39.000000000,2020-08-31 11:20:10.000000000,2020-08-31 11:18:30.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-08-26 16:30:39.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/net.xml.j2', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'releasenotes/notes/test_vm_network_enable_dhcp-78923ef94b44e6d1.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5befa87e9d847fc9387192caa7196a763f86dff1', 'message': ""Disable DHCP on the libvirt network rather than doing `killall dnsmasq`\n\nWe're doing a weird thing: first we enable DHCP in libvirt, then we killall\ndnsmasq to stop it. Just don't enable it in the first plac\n\nChange-Id: I539ffbfc5d4d004d27aaae0f83fef649f0e5be8c\n""}]",0,748272,5befa87e9d847fc9387192caa7196a763f86dff1,11,5,1,10239,,,0,"Disable DHCP on the libvirt network rather than doing `killall dnsmasq`

We're doing a weird thing: first we enable DHCP in libvirt, then we killall
dnsmasq to stop it. Just don't enable it in the first plac

Change-Id: I539ffbfc5d4d004d27aaae0f83fef649f0e5be8c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/72/748272/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/net.xml.j2', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'releasenotes/notes/test_vm_network_enable_dhcp-78923ef94b44e6d1.yaml']",4,5befa87e9d847fc9387192caa7196a763f86dff1,dnsmasq,"--- fixes: - | Removes the ``test_vm_network_enable_dhcp`` option and disables DHCP on the libvirt network instead of unconditionally killing all dnsmasq processes on the machine. upgrade: - | Bifrost will no longer kill all running dnsmasq processes for you. If you have dnsmasq processes that are not managed by systemd, you have to stop them yourself. ",,12,18
openstack%2Ftripleo-upgrade~stable%2Ftrain~I54d337833ec363e9a041e3e175cf291751bd49e4,openstack/tripleo-upgrade,stable/train,I54d337833ec363e9a041e3e175cf291751bd49e4,[ffwd] Exit with error on hybrid state switch failure,ABANDONED,2020-08-26 06:18:53.000000000,2020-08-31 11:20:08.000000000,,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 06:18:53.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/00536ccad11ed6ad89929a9450aa721a6c4758ad', 'message': '[ffwd] Exit with error on hybrid state switch failure\n\nChange-Id: I54d337833ec363e9a041e3e175cf291751bd49e4\n'}]",1,748114,00536ccad11ed6ad89929a9450aa721a6c4758ad,5,3,1,11166,,,0,"[ffwd] Exit with error on hybrid state switch failure

Change-Id: I54d337833ec363e9a041e3e175cf291751bd49e4
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/748114/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'],1,00536ccad11ed6ad89929a9450aa721a6c4758ad,, --tags nova_hybrid_state --limit all 2>&1 || exit 1, --tags nova_hybrid_state --limit all 2>&1,1,1
openstack%2Fbifrost~master~I91d77c9a31b8f0583511bb692bd2614533ff9147,openstack/bifrost,master,I91d77c9a31b8f0583511bb692bd2614533ff9147,Stop supporting storing introspection data in nginx,MERGED,2020-08-25 10:57:25.000000000,2020-08-31 11:18:31.000000000,2020-08-31 11:18:31.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 10:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/50cf77fcc7818eed9fc202f8e7ab32c3a3b29ff0', 'message': 'Stop supporting storing introspection data in nginx\n\nIt allows anyone to store arbitrary files on the bifrost node without\nauthentication. The database storage should be used instead.\n\nChange-Id: I91d77c9a31b8f0583511bb692bd2614533ff9147\n'}, {'number': 2, 'created': '2020-08-25 11:16:35.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/no-store-nginx-75bc3f9068fb8f78.yaml', 'playbooks/roles/bifrost-ironic-install/templates/nginx.conf.j2', 'playbooks/roles/bifrost-ironic-install/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7445e6f7017cdb21418be77d63e5f1227df1a754', 'message': 'Stop supporting storing introspection data in nginx\n\nIt allows anyone to store arbitrary files on the bifrost node without\nauthentication. The database storage should be used instead.\n\nChange-Id: I91d77c9a31b8f0583511bb692bd2614533ff9147\n'}]",0,747901,7445e6f7017cdb21418be77d63e5f1227df1a754,8,3,2,10239,,,0,"Stop supporting storing introspection data in nginx

It allows anyone to store arbitrary files on the bifrost node without
authentication. The database storage should be used instead.

Change-Id: I91d77c9a31b8f0583511bb692bd2614533ff9147
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/01/747901/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'releasenotes/notes/no-store-nginx-75bc3f9068fb8f78.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-ironic-install/templates/nginx.conf.j2']",5,50cf77fcc7818eed9fc202f8e7ab32c3a3b29ff0,no-store-nginx,,"{% if inspector_store_data_in_nginx | bool %} location /ironic-inspector { return 200 """"; } location /ironic-inspector/ { dav_methods PUT DELETE; } {% endif %}",6,37
openstack%2Fneutron~stable%2Fstein~I7d792ce288d96548298f169748565266a130bd86,openstack/neutron,stable/stein,I7d792ce288d96548298f169748565266a130bd86,Make DVR router support FLAT network for ovs-agent,ABANDONED,2020-07-04 06:35:28.000000000,2020-08-31 11:04:50.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}]","[{'number': 1, 'created': '2020-07-04 06:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/165a31e0d80d71d4b15dbb57a6f7ac9d0c0e6c21', 'message': ""Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nThe patch also remove two unused constant entries: 'FLAT_VLAN_ID' and\n'LOCAL_VLAN_ID'\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n(cherry picked from commit cd721a7dcb9073eca2671ffdc9dc7ed9819163ed)\n""}, {'number': 2, 'created': '2020-08-26 10:01:36.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/dvr-support-flat-network-for-ovs-fdf8c3eb461426ec.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_phys.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a20c7daf9b7a31401c3dacf25eb960c224b0da9', 'message': ""Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nThe patch also remove two unused constant entries: 'FLAT_VLAN_ID' and\n'LOCAL_VLAN_ID'\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n(cherry picked from commit cd721a7dcb9073eca2671ffdc9dc7ed9819163ed)\n""}]",0,739298,1a20c7daf9b7a31401c3dacf25eb960c224b0da9,10,4,2,28329,,,0,"Make DVR router support FLAT network for ovs-agent

Currently codes only support assocate tunnel network and vlan network
to DVR router. This patch add codes that make the flat network assocate
to DVR router and make it work fine.

The patch also remove two unused constant entries: 'FLAT_VLAN_ID' and
'LOCAL_VLAN_ID'

Change-Id: I7d792ce288d96548298f169748565266a130bd86
Closes-Bug: #1876092
(cherry picked from commit cd721a7dcb9073eca2671ffdc9dc7ed9819163ed)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/739298/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/dvr-support-flat-network-for-ovs-fdf8c3eb461426ec.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_phys.py']",13,165a31e0d80d71d4b15dbb57a6f7ac9d0c0e6c21,bug/1876092-stable/train-stable/stein," dvr_process_table_id = ovs_const.DVR_PROCESS_PHYSICAL def test_add_dvr_mac_physical(self): self.br.add_dvr_mac_physical(mac=mac, port=port)"," dvr_process_table_id = ovs_const.DVR_PROCESS_VLAN def test_add_dvr_mac_vlan(self): self.br.add_dvr_mac_vlan(mac=mac, port=port)",329,138
openstack%2Ftripleo-common~master~Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2,openstack/tripleo-common,master,Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2,Remove sahara-* from list in tripleo_containers.yaml,MERGED,2020-08-27 21:11:37.000000000,2020-08-31 11:02:38.000000000,2020-08-31 11:01:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-27 21:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ecebefa6e5e6c64f3fd5f96c19ff0281222fd43', 'message': 'Remove sahara-* from list in tripleo_containers.yaml\n\nhttps://github.com/openstack/tripleo-common/commit/74799d9beb0747cac9c13a325dc5277f3a5d9e76\nadded sahara-* containers back to\ncontainer-images/tripleo_containers.yaml.\n\nsahara containers are no longer built for\nreleases after train.\n\nChange-Id: Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2\n'}, {'number': 2, 'created': '2020-08-27 21:19:30.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c15ef26c92c562e9526340e9d7ad2598502893d7', 'message': 'Remove sahara-* from list in tripleo_containers.yaml\n\nhttps://github.com/openstack/tripleo-common/commit/74799d9beb0747cac9c13a325dc5277f3a5d9e76\nadded sahara-* containers back to\ncontainer-images/tripleo_containers.yaml.\n\nsahara containers are no longer built for\nreleases after train.\n\nChange-Id: Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2\n'}]",0,748538,c15ef26c92c562e9526340e9d7ad2598502893d7,24,8,2,9976,,,0,"Remove sahara-* from list in tripleo_containers.yaml

https://github.com/openstack/tripleo-common/commit/74799d9beb0747cac9c13a325dc5277f3a5d9e76
added sahara-* containers back to
container-images/tripleo_containers.yaml.

sahara containers are no longer built for
releases after train.

Change-Id: Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/748538/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,7ecebefa6e5e6c64f3fd5f96c19ff0281222fd43,tripleo-containers-sahara,,- imagename: docker.io/tripleomaster/centos-binary-sahara-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-sahara-engine:current-tripleo image_source: tripleo,0,4
openstack%2Ftripleo-quickstart~master~I79c22f0ed530b94aefca52ee0339e75dcd512d9c,openstack/tripleo-quickstart,master,I79c22f0ed530b94aefca52ee0339e75dcd512d9c,set undercloud to permissive for rhel upstream,MERGED,2019-11-26 16:04:16.000000000,2020-08-31 11:02:36.000000000,2020-08-31 11:01:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 16:04:16.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/RedHat-8/train.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b3203c68b55a0a997e86e26372dde2095b47d8da', 'message': 'set undercloud to permissive for rhel upstream\n\nselinux on the undercloud/overcloud in upstream should\nalways be permissive\n\nRelated-Bug: #1854073\nChange-Id: I79c22f0ed530b94aefca52ee0339e75dcd512d9c\n'}]",0,696119,b3203c68b55a0a997e86e26372dde2095b47d8da,22,8,1,9592,,,0,"set undercloud to permissive for rhel upstream

selinux on the undercloud/overcloud in upstream should
always be permissive

Related-Bug: #1854073
Change-Id: I79c22f0ed530b94aefca52ee0339e75dcd512d9c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/696119/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/RedHat-8/train.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml']",4,b3203c68b55a0a997e86e26372dde2095b47d8da,,undercloud_selinux_enabled: false,,4,0
openstack%2Ftripleo-quickstart-extras~master~I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5,openstack/tripleo-quickstart-extras,master,I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5,Standalone upgrade for HA profile,MERGED,2020-08-22 13:26:11.000000000,2020-08-31 11:01:23.000000000,2020-08-31 11:01:23.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18846}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-22 13:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef579ec9970ad829f9edb1e1ce1098c7ff4317ce', 'message': 'WIP standalone upgrade for HA profile\n\nChange-Id: I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5\n'}, {'number': 2, 'created': '2020-08-24 11:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64f34b91f34de8db23c0676f246a71d752886aac', 'message': 'Standalone upgrade for HA profile\n\nSince Ussuri, standalone defaults to HA profile and\nuses a dedicated setting for control-virtual-ip [1].\n\nWhen generating the upgrade script, make sure to\ngenerate the appropriate control-virtual-ip setting\nto keep the pacemaker configuration intact.\n\n[1] I367cf4b65300be8dca0190b9adeab549018d4a56\n\nCloses-Bug: #1886529\n\nChange-Id: I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5\n'}, {'number': 3, 'created': '2020-08-24 14:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c603810175a54a7ab2f8816c9054aa0c33ced449', 'message': 'Standalone upgrade for HA profile\n\nSince Ussuri, standalone defaults to HA profile and\nuses a dedicated setting for control-virtual-ip [1].\n\nWhen generating the upgrade script, make sure to\ngenerate the appropriate control-virtual-ip setting\nto keep the pacemaker configuration intact.\n\n[1] I367cf4b65300be8dca0190b9adeab549018d4a56\n\nCloses-Bug: #1886529\n\nChange-Id: I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5\n'}, {'number': 4, 'created': '2020-08-28 12:05:03.000000000', 'files': ['roles/standalone-upgrade/tasks/main.yml', 'roles/standalone-upgrade/defaults/main.yml', 'roles/standalone-upgrade/templates/standalone.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c02fd18ef8f6982249ffcad5710ccff3732edaf', 'message': 'Standalone upgrade for HA profile\n\nSince Ussuri, standalone defaults to HA profile and\nuses a dedicated setting for control-virtual-ip [1].\n\nWhen generating the upgrade script, make sure to\ngenerate the appropriate control-virtual-ip setting\nto keep the pacemaker configuration intact.\n\n[1] I367cf4b65300be8dca0190b9adeab549018d4a56\n\nCloses-Bug: #1886529\n\nChange-Id: I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5\n'}]",0,747526,5c02fd18ef8f6982249ffcad5710ccff3732edaf,26,9,4,20778,,,0,"Standalone upgrade for HA profile

Since Ussuri, standalone defaults to HA profile and
uses a dedicated setting for control-virtual-ip [1].

When generating the upgrade script, make sure to
generate the appropriate control-virtual-ip setting
to keep the pacemaker configuration intact.

[1] I367cf4b65300be8dca0190b9adeab549018d4a56

Closes-Bug: #1886529

Change-Id: I8e5bf2e3582564cff90f0bb6ef7d5660c1aa2cb5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/747526/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/tasks/main.yml', 'roles/standalone-upgrade/templates/standalone.sh.j2']",2,ef579ec9970ad829f9edb1e1ce1098c7ff4317ce,ha-standalone-upgrade,{% if standalone_upgrade_control_virtual_ip %} --control-virtual-ip={{ standalone_upgrade_control_virtual_ip }} \ {% endif %},,14,0
openstack%2Ftripleo-upgrade~master~Ida3bca9bf2471d9a4bab523041ea2f7c48e8811e,openstack/tripleo-upgrade,master,Ida3bca9bf2471d9a4bab523041ea2f7c48e8811e,WIP: Cleanup in FFWD2,ABANDONED,2020-05-20 11:07:08.000000000,2020-08-31 10:59:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 11:07:08.000000000', 'files': ['tasks/fast-forward-upgrade/ffu_overcloud_upgrade_prepare.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/010beed5e15a2d68acc68495fd5024cf8d9dba85', 'message': 'WIP: Cleanup in FFWD2\n\nChange-Id: Ida3bca9bf2471d9a4bab523041ea2f7c48e8811e\n'}]",3,729566,010beed5e15a2d68acc68495fd5024cf8d9dba85,4,1,1,11166,,,0,"WIP: Cleanup in FFWD2

Change-Id: Ida3bca9bf2471d9a4bab523041ea2f7c48e8811e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/729566/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/ffu_overcloud_upgrade_prepare.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml']",5,010beed5e15a2d68acc68495fd5024cf8d9dba85,ffwd-upgrade2,,"--- - name: generate roles list from inventory file import_tasks: ../common/load_roles_from_inventory.yaml - name: create FFU role ugrades scripts template: src: fast-forward-upgrade/overcloud_upgrade_role.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|default([]) }}"" - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_controller - name: pre controller role upgrade steps workarounds command: ""{{ working_dir }}/pre_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller - name: run FFU control plane ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|difference(['Compute','ComputeAlt','CephStorage']) }}"" - name: run L3 validation include_tasks: ""{{ item }}"" loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_upgrade_controller - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: run FFU compute ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: ""{{ oc_roles|intersect(['Compute','ComputeAlt']) }}"" when: - not ffu_computes_rolling|bool - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute - block: - name: register compute nodes from tripleo ansible inventory shell: | awk -F':' '/^[^ \n]*compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory.yaml register: tripleo_compute_nodes tags: ffu_overcloud_upgrade_compute - name: Create compute nodes FFU ugrade playbooks scripts template: src: fast-forward-upgrade/overcloud_upgrade_nodes.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: Rolling upgrade compute nodes command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute when: ffu_computes_rolling|bool - name: post controller role upgrade steps workarounds command: ""{{ working_dir }}/post_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller ",74,284
openstack%2Freno~master~I7772360d6988f305df19c761021b9eca3735e94c,openstack/reno,master,I7772360d6988f305df19c761021b9eca3735e94c,raise the minimum version of pyyaml,MERGED,2020-08-29 21:41:46.000000000,2020-08-31 10:53:19.000000000,2020-08-31 10:50:34.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-29 21:41:46.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/reno/commit/35c0a43c390f66e6785e78ad4e0f71561e9f052a', 'message': 'raise the minimum version of pyyaml\n\nThe older PyYAML does not install cleanly on macOS.\n\nChange-Id: I7772360d6988f305df19c761021b9eca3735e94c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,748822,35c0a43c390f66e6785e78ad4e0f71561e9f052a,8,3,1,2472,,,0,"raise the minimum version of pyyaml

The older PyYAML does not install cleanly on macOS.

Change-Id: I7772360d6988f305df19c761021b9eca3735e94c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/reno refs/changes/22/748822/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,35c0a43c390f66e6785e78ad4e0f71561e9f052a,semver-calculation,PyYAML==5.3.1,PyYAML==3.10.0,2,2
openstack%2Freno~master~I96be0c81a3947aaa0bf9080b500cf1bc77abe655,openstack/reno,master,I96be0c81a3947aaa0bf9080b500cf1bc77abe655,add `semver-next` command,MERGED,2020-08-29 21:25:59.000000000,2020-08-31 10:52:28.000000000,2020-08-31 10:50:33.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-29 21:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/02c5e08d771871bf64f906442935672d81eb6cd7', 'message': 'add `semver-next` command\n\nAdd a sub-command for computing the next release version number by\napplying Semantic Versioning rules to the release notes added to a\nproject since the last published release.\n\nAdd configuration options to control which notes sections trigger\nupdates to each level of the version number.\n\nChange-Id: I96be0c81a3947aaa0bf9080b500cf1bc77abe655\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2020-08-29 21:41:46.000000000', 'files': ['reno/tests/test_semver.py', 'requirements.txt', 'doc/source/user/usage.rst', 'reno/config.py', 'releasenotes/notes/semver-next-63c68cf10ec91f09.yaml', 'reno/main.py', 'reno/semver.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/789ecb12d2ef7dd34c2570d14bfef4d0e7f0d9c4', 'message': 'add `semver-next` command\n\nAdd a sub-command for computing the next release version number by\napplying Semantic Versioning rules to the release notes added to a\nproject since the last published release.\n\nAdd configuration options to control which notes sections trigger\nupdates to each level of the version number.\n\nChange-Id: I96be0c81a3947aaa0bf9080b500cf1bc77abe655\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,748820,789ecb12d2ef7dd34c2570d14bfef4d0e7f0d9c4,10,3,2,2472,,,0,"add `semver-next` command

Add a sub-command for computing the next release version number by
applying Semantic Versioning rules to the release notes added to a
project since the last published release.

Add configuration options to control which notes sections trigger
updates to each level of the version number.

Change-Id: I96be0c81a3947aaa0bf9080b500cf1bc77abe655
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/reno refs/changes/20/748820/1 && git format-patch -1 --stdout FETCH_HEAD,"['reno/tests/test_semver.py', 'requirements.txt', 'doc/source/user/usage.rst', 'reno/config.py', 'releasenotes/notes/semver-next-63c68cf10ec91f09.yaml', 'reno/main.py', 'reno/semver.py']",7,02c5e08d771871bf64f906442935672d81eb6cd7,semver-calculation,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from packaging import version from reno import loader LOG = logging.getLogger(__name__) def compute_next_version(conf): ""Compute the next semantic version based on the available release notes."" LOG.debug('starting semver-next') ldr = loader.Loader(conf, ignore_cache=True) LOG.debug('known versions: %s', ldr.versions) # We want to include any notes in the local working directory or # in any commits that came after the last tag. We should never end # up with more than 2 entries in to_include. to_include = [] for to_consider in ldr.versions: if to_consider == '*working-copy*': to_include.append(to_consider) continue # This check relies on PEP 440 versioning parsed = version.Version(to_consider) if parsed.post: to_include.append(to_consider) continue break # If we found no commits then we're sitting on a real tag and # there is nothing to do to update the version. if not to_include: LOG.debug('found no staged notes and no post-release commits') return ldr.versions[0] LOG.debug('including notes from %s', to_include) candidate_bases = to_include[:] if candidate_bases[0] == '*working-copy*': candidate_bases = candidate_bases[1:] if not candidate_bases: # We have a real tag and some locally modified files. Use the # real tag as the basis of the next version. base_version = version.Version(ldr.versions[1]) else: base_version = version.Version(candidate_bases[0]) LOG.debug('base version %s', base_version) inc_minor = False inc_patch = False for ver in to_include: for filename, sha in ldr[ver]: notes = ldr.parse_note_file(filename, sha) for section in conf.semver_major: if notes.get(section, []): LOG.debug('found breaking change in %r section of %s', section, filename) return '{}.0.0'.format(base_version.major + 1) for section in conf.semver_minor: if notes.get(section, []): LOG.debug('found feature in %r section of %s', section, filename) inc_minor = True break for section in conf.semver_patch: if notes.get(section, []): LOG.debug('found bugfix in %r section of %s', section, filename) inc_patch = True break major = base_version.major minor = base_version.minor patch = base_version.micro if inc_patch: patch += 1 if inc_minor: minor += 1 patch = 0 return '{}.{}.{}'.format(major, minor, patch) def semver_next_cmd(args, conf): ""Calculate next semantic version number"" print(compute_next_version(conf)) return 0 ",,319,0
openstack%2Ftripleo-upgrade~master~I162ecc67c64a94c0649879457d6f242d4e4b277c,openstack/tripleo-upgrade,master,I162ecc67c64a94c0649879457d6f242d4e4b277c,Add some error handling into bash scripts,ABANDONED,2020-08-26 13:25:10.000000000,2020-08-31 10:51:37.000000000,,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-26 13:25:10.000000000', 'files': ['templates/ceph-update-run.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e2e76f44900d5c32057c41d3a461d8645ae240ac', 'message': 'Add some error handling into bash scripts\n\nChange-Id: I162ecc67c64a94c0649879457d6f242d4e4b277c\n'}]",0,748229,e2e76f44900d5c32057c41d3a461d8645ae240ac,9,4,1,11166,,,0,"Add some error handling into bash scripts

Change-Id: I162ecc67c64a94c0649879457d6f242d4e4b277c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/29/748229/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph-update-run.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2']",4,e2e76f44900d5c32057c41d3a461d8645ae240ac,," if [ $? -eq 0 ] then echo ""[$(date)] Finished ceph systemd units migration run for {{ hosts }}"" else echo ""[$(date)] Failed ceph systemd units migration run for {{ hosts }}"" exit 1 fiif [ $? -eq 0 ] then echo ""[$(date)] Finished system upgrade step for {{ hosts }}"" else echo ""[$(date)] Failed system upgrade step for {{ hosts }}"" exit 1 fi","echo ""[$(date)] Finished ceph systemd units migration run for {{ hosts }}"" echo ""[$(date)] Finished system upgrade step for {{ hosts }}""",49,12
openstack%2Freleases~master~I8a8551772a0f7074ca4ac1bc34449ddc03100940,openstack/releases,master,I8a8551772a0f7074ca4ac1bc34449ddc03100940,Add Wallaby PTG to the release schedule,MERGED,2020-08-27 18:17:55.000000000,2020-08-31 10:45:57.000000000,2020-08-31 10:45:57.000000000,"[{'_account_id': 308}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 18:17:55.000000000', 'files': ['doc/source/wallaby/schedule.rst', 'doc/source/wallaby/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/42c9bf10001bf8cac0b83c64730b81e2cc908043', 'message': 'Add Wallaby PTG to the release schedule\n\nThis adds the PTG to show up as a cross-project event.\n\nChange-Id: I8a8551772a0f7074ca4ac1bc34449ddc03100940\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748504,42c9bf10001bf8cac0b83c64730b81e2cc908043,8,4,1,11904,,,0,"Add Wallaby PTG to the release schedule

This adds the PTG to show up as a cross-project event.

Change-Id: I8a8551772a0f7074ca4ac1bc34449ddc03100940
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/748504/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/wallaby/schedule.rst', 'doc/source/wallaby/schedule.yaml']",2,42c9bf10001bf8cac0b83c64730b81e2cc908043,ptg, x-project: - w-ptg,,2,2
openstack%2Freleases~master~Iacffaf3dce12b3aaea113d057d497e19970d0fc2,openstack/releases,master,Iacffaf3dce12b3aaea113d057d497e19970d0fc2,Update devstack-gate update instructions,MERGED,2020-08-27 16:44:21.000000000,2020-08-31 10:45:56.000000000,2020-08-31 10:45:56.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 16:44:21.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/d52db3353e2e2f183713c135d46035d9c9db0d88', 'message': 'Update devstack-gate update instructions\n\nDevstack-gate has been restructured since we added references to patches\nto show what needs to be done to prepare for new stable branches. This\nis a trivial update to point to a more recent review that is a better\nexample of what needs to be done.\n\nChange-Id: Iacffaf3dce12b3aaea113d057d497e19970d0fc2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748483,d52db3353e2e2f183713c135d46035d9c9db0d88,7,3,1,11904,,,0,"Update devstack-gate update instructions

Devstack-gate has been restructured since we added references to patches
to show what needs to be done to prepare for new stable branches. This
is a trivial update to point to a more recent review that is a better
example of what needs to be done.

Change-Id: Iacffaf3dce12b3aaea113d057d497e19970d0fc2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/748483/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,d52db3353e2e2f183713c135d46035d9c9db0d88,," example, https://review.opendev.org/715272/"," example, https://review.opendev.org/362435 and https://review.opendev.org/363084",1,2
openstack%2Fbifrost~master~Idbcc7ed583234ba5d8fd48913146e288e1096bdf,openstack/bifrost,master,Idbcc7ed583234ba5d8fd48913146e288e1096bdf,"Make /var/lib/ironic/{,images,master_images} readable by nginx",MERGED,2020-08-27 15:42:44.000000000,2020-08-31 10:28:18.000000000,2020-08-31 10:25:53.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-27 15:42:44.000000000', 'files': ['releasenotes/notes/images-permissions-2042490e3ca13656.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/57edf2947862bf73afd8df1162ed031af82ce35e', 'message': ""Make /var/lib/ironic/{,images,master_images} readable by nginx\n\nThese directories contain images that are symlinked to /httpboot and have\nto be readable by the web server. We haven't had any problems with it only\nbecause the direct deploy does not use /var/lib/ironic with HTTP images.\n\nChange-Id: Idbcc7ed583234ba5d8fd48913146e288e1096bdf\n""}]",0,748472,57edf2947862bf73afd8df1162ed031af82ce35e,11,4,1,10239,,,0,"Make /var/lib/ironic/{,images,master_images} readable by nginx

These directories contain images that are symlinked to /httpboot and have
to be readable by the web server. We haven't had any problems with it only
because the direct deploy does not use /var/lib/ironic with HTTP images.

Change-Id: Idbcc7ed583234ba5d8fd48913146e288e1096bdf
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/72/748472/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/images-permissions-2042490e3ca13656.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",2,57edf2947862bf73afd8df1162ed031af82ce35e,images-permissions," group: ""{{ nginx_user }}"""," group: ""ironic""",6,1
openstack%2Fbifrost~master~Ieddda38b12d07a2a5c51650850b150dd82f332a9,openstack/bifrost,master,Ieddda38b12d07a2a5c51650850b150dd82f332a9,Remove support for non-venv deployments,MERGED,2020-08-21 15:45:01.000000000,2020-08-31 10:27:08.000000000,2020-08-31 10:25:30.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-21 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1977098e016af442e5ec58f635cca54e8efc6f94', 'message': 'Remove support for non-venv deployments\n\nIt has been deprecated and untested since ussuri, time to move on.\n\nChange-Id: Ieddda38b12d07a2a5c51650850b150dd82f332a9\n'}, {'number': 2, 'created': '2020-08-24 09:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ecba98b8579a58c281a3bed8884941726acdc2f1', 'message': 'Remove support for non-venv deployments\n\nIt has been deprecated and untested since ussuri, time to move on.\n\nChange-Id: Ieddda38b12d07a2a5c51650850b150dd82f332a9\n'}, {'number': 3, 'created': '2020-08-25 09:08:32.000000000', 'files': ['playbooks/roles/ironic-delete-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/migrations.yml', 'tools/vagrant_dev_env/vagrant.yml', 'releasenotes/notes/venv-forever-ba8b85b04a28a293.yaml', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/vbmcd.service.j2', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/ironic-inspect-node/defaults/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/defaults/main.yml', 'scripts/test-bifrost.sh', 'playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/defaults/main.yml', 'scripts/env-setup.sh', 'playbooks/roles/bifrost-keystone-install/templates/keystone-admin.ini.j2', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-rabbitmq/defaults/main.yml', 'bifrost/cli.py', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-create-bootable-image/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/redfish-emulator.service.j2', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2cf21258af8eb7ba837519537ef0737b8b02bc1a', 'message': 'Remove support for non-venv deployments\n\nIt has been deprecated and untested since ussuri, time to move on.\n\nChange-Id: Ieddda38b12d07a2a5c51650850b150dd82f332a9\n'}]",4,747434,2cf21258af8eb7ba837519537ef0737b8b02bc1a,17,4,3,10239,,,0,"Remove support for non-venv deployments

It has been deprecated and untested since ussuri, time to move on.

Change-Id: Ieddda38b12d07a2a5c51650850b150dd82f332a9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/34/747434/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/ironic-delete-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/migrations.yml', 'tools/vagrant_dev_env/vagrant.yml', 'releasenotes/notes/venv-forever-ba8b85b04a28a293.yaml', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/vbmcd.service.j2', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/ironic-inspect-node/defaults/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/defaults/main.yml', 'scripts/test-bifrost.sh', 'playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone-admin.ini.j2', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-rabbitmq/defaults/main.yml', 'bifrost/cli.py', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-create-bootable-image/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/redfish-emulator.service.j2', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml']",40,1977098e016af442e5ec58f635cca54e8efc6f94,venv-forever,"ansible_python_interpreter: ""{{ bifrost_venv_dir + '/bin/python3' }}""","enable_venv: trueansible_python_interpreter: ""{{ bifrost_venv_dir + '/bin/python3' if enable_venv | bool else '/usr/bin/python3' }}""",93,184
openstack%2Fbifrost~stable%2Ftrain~I539c56000a4f6359205290ac14b300340f55eec0,openstack/bifrost,stable/train,I539c56000a4f6359205290ac14b300340f55eec0,[Train and older] Fix several CI problems,MERGED,2020-08-30 13:06:00.000000000,2020-08-31 10:27:01.000000000,2020-08-31 10:25:29.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-30 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4d977fd3490f2a440320e5571940ed6dc983000b', 'message': '[Train and older] update pyghmi to a version supporting cypher suites\n\nWithout it ipmitool takes minutes on CentOS 8 to do anything.\n\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 2, 'created': '2020-08-30 13:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/75f5a8f2b04b9cf344a034330f61b7b71bd910b3', 'message': '[Train and older] update pyghmi to a version supporting cypher suites\n\nWithout it ipmitool takes minutes on CentOS 8 to do anything.\n\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 3, 'created': '2020-08-30 13:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6fea3207d77c53fd319da31447b121eec585c065', 'message': '[Train and older] Fix several CI problems\n\n* Update pyghmi to a version supporting cypher suites\n  Without it ipmitool takes minutes on CentOS 8 to do anything.\n* Install six explicitly since our scripts use it\n* Use UTF-8 locale in install-deps.sh\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 4, 'created': '2020-08-30 13:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/05a039118fafa0132fccf654797ba600475d4119', 'message': '[Train and older] Fix several CI problems\n\n* Update pyghmi to a version supporting cypher suites\n  Without it ipmitool takes minutes on CentOS 8 to do anything.\n* Install six explicitly since our scripts use it\n* Use pip corresponding to the correct Python\n* Use UTF-8 locale in install-deps.sh\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 5, 'created': '2020-08-30 13:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/879df37757db0408bb66329a40a0c63d24355142', 'message': '[Train and older] Fix several CI problems\n\n* Update pyghmi to a version supporting cypher suites\n  Without it ipmitool takes minutes on CentOS 8 to do anything.\n* Install six explicitly since our scripts use it\n* Use pip corresponding to the correct Python\n* Use UTF-8 locale in install-deps.sh\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 6, 'created': '2020-08-30 14:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9ba9ed72b2eeed71084f3446a268609504b89dd3', 'message': '[Train and older] Fix several CI problems\n\n* Update pyghmi to a version supporting cypher suites\n  Without it ipmitool takes minutes on CentOS 8 to do anything.\n* Install six explicitly since our scripts use it\n* Use pip corresponding to the correct Python\n* Do not reinstall the older version of pip in playbooks\n* Use UTF-8 locale in install-deps.sh\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 7, 'created': '2020-08-30 14:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6de8ef08b66c248af15e7d0abda9eb705ba1509a', 'message': '[Train and older] Fix several CI problems\n\n* Update pyghmi to a version supporting cypher suites\n  Without it ipmitool takes minutes on CentOS 8 to do anything.\n* Install six explicitly since our scripts use it\n* Use pip corresponding to the correct Python\n* Do not reinstall the older version of pip in playbooks\n* Use UTF-8 locale in install-deps.sh\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}, {'number': 8, 'created': '2020-08-30 14:15:30.000000000', 'files': ['requirements.txt', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_18.04.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu_18.04.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'releasenotes/notes/pyghmi-version-a6e35ddc0792aa8d.yaml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_16.04.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/14332ab8c7c67b203c938e7eb1bf09a84e72d509', 'message': '[Train and older] Fix several CI problems\n\n* Update pyghmi to a version supporting cypher suites\n  Without it ipmitool takes minutes on CentOS 8 to do anything.\n* Install six explicitly since our scripts use it\n* Use pip corresponding to the correct Python\n* Do not reinstall the older version of pip in playbooks\n* Use UTF-8 locale in install-deps.sh\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nChange-Id: I539c56000a4f6359205290ac14b300340f55eec0\n'}]",0,748853,14332ab8c7c67b203c938e7eb1bf09a84e72d509,16,4,8,10239,,,0,"[Train and older] Fix several CI problems

* Update pyghmi to a version supporting cypher suites
  Without it ipmitool takes minutes on CentOS 8 to do anything.
* Install six explicitly since our scripts use it
* Use pip corresponding to the correct Python
* Do not reinstall the older version of pip in playbooks
* Use UTF-8 locale in install-deps.sh

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
Change-Id: I539c56000a4f6359205290ac14b300340f55eec0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/748853/8 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'],1,4d977fd3490f2a440320e5571940ed6dc983000b,,"- name: ""(Train and older) update pyghmi to a version supporting cypher suites"" pip: name: pyghmi # NOTE(dtantsur): 1.5.13 is the version used in Ussuri. version: 1.5.13 virtualenv: ""{{ enable_venv | bool | ternary(bifrost_venv_dir, omit) }}"" become: true ",,8,0
openstack%2Fkolla~master~I79dfd923531dd3e00d23e1682865f56f0cf437d2,openstack/kolla,master,I79dfd923531dd3e00d23e1682865f56f0cf437d2,Update imp module to importlib,MERGED,2020-08-29 16:35:27.000000000,2020-08-31 10:21:19.000000000,2020-08-31 10:20:02.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-29 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7426029706c45e8a5378f9f36ceec59c391df6c', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 2, 'created': '2020-08-29 16:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57e4ed5b4a6a313e31ffcaf2b54d4f136a6dd5f2', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}, {'number': 3, 'created': '2020-08-29 16:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/de862fcd994b6850a388a161414378a0b677249b', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}, {'number': 4, 'created': '2020-08-30 01:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e42d9af0560c9fb6956aaf440629b9d6dfc4a55b', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}, {'number': 5, 'created': '2020-08-30 10:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8f47c509181fb89145ac2757e4e45f4d6339b162', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}, {'number': 6, 'created': '2020-08-30 13:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c43624027070c6ec45093182236a001d6f5b30da', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}, {'number': 7, 'created': '2020-08-30 14:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c3db1eb769e31bfbd77ef23d7ce5afe013ff632b', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}, {'number': 8, 'created': '2020-08-30 14:12:00.000000000', 'files': ['tests/test_set_config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/33970fcc6b8f4cffe116d66cee8a94e19e743937', 'message': 'Update imp module to importlib\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html\n\nChange-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2\n'}]",3,748811,33970fcc6b8f4cffe116d66cee8a94e19e743937,24,5,8,32067,,,0,"Update imp module to importlib

The imp module is deprecated[1] since version 3.4, use importlib to
instead

1: https://docs.python.org/3/library/imp.html

Change-Id: I79dfd923531dd3e00d23e1682865f56f0cf437d2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/748811/8 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_set_config.py'],1,a7426029706c45e8a5378f9f36ceec59c391df6c,,import importlib set_configs = importlib.load_module(set_configs_file),"import impset_configs = imp.load_source('set_configs', set_configs_file)",2,2
openstack%2Fnova~master~I451daf4e987eac567ab6dd836ee05a2738dca147,openstack/nova,master,I451daf4e987eac567ab6dd836ee05a2738dca147,Process exception of delete resource provider,NEW,2020-08-27 02:03:14.000000000,2020-08-31 09:08:58.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 02:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/587e92f30574c4831e6a132b33297dc7c638d2bf', 'message': 'Process exception of delete resource provider\n\nRasie exception when delete resource provider failed and process these\nexceptions. Please see the link:\nhttps://review.opendev.org/#/c/719163/18/nova/scheduler/client/report.py@2170\n\nChange-Id: I451daf4e987eac567ab6dd836ee05a2738dca147\n'}, {'number': 2, 'created': '2020-08-28 09:18:04.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7335f31355bf1c4953b02de3bac50f2c481918c4', 'message': 'Process exception of delete resource provider\n\nRasie exception when delete resource provider failed and process these\nexceptions. Please see the link:\nhttps://review.opendev.org/#/c/719163/18/nova/scheduler/client/report.py@2170\n\nChange-Id: I451daf4e987eac567ab6dd836ee05a2738dca147\n'}]",1,748339,7335f31355bf1c4953b02de3bac50f2c481918c4,14,7,2,31412,,,0,"Process exception of delete resource provider

Rasie exception when delete resource provider failed and process these
exceptions. Please see the link:
https://review.opendev.org/#/c/719163/18/nova/scheduler/client/report.py@2170

Change-Id: I451daf4e987eac567ab6dd836ee05a2738dca147
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/748339/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py']",5,587e92f30574c4831e6a132b33297dc7c638d2bf,748339," except (keystone_exception.ClientException, exception.ResourceProviderInUse, exception.ResourceProviderDeletionFailed) as e:", except keystone_exception.ClientException as e:,29,23
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I4dec8ffe5733a6b9d2ef8f4380c9ab12765f7252,openstack/puppet-openstack-integration,stable/train,I4dec8ffe5733a6b9d2ef8f4380c9ab12765f7252,Make Ubuntu jobs voting,ABANDONED,2019-10-21 14:38:31.000000000,2020-08-31 09:06:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/aafbd4e09340461f091f54d583f5a08d720906af', 'message': 'Make Ubuntu jobs voting\n\nChange-Id: I4dec8ffe5733a6b9d2ef8f4380c9ab12765f7252\n(cherry picked from commit edd7558ee2ab23539cd14da2e66293a6d24f5885)\n'}, {'number': 2, 'created': '2020-01-28 22:50:52.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7f806e8c8c31f410709ea77d1ac0bf1ba8494007', 'message': 'Make Ubuntu jobs voting\n\nChange-Id: I4dec8ffe5733a6b9d2ef8f4380c9ab12765f7252\n(cherry picked from commit edd7558ee2ab23539cd14da2e66293a6d24f5885)\n'}]",0,689797,7f806e8c8c31f410709ea77d1ac0bf1ba8494007,11,3,2,16137,,,0,"Make Ubuntu jobs voting

Change-Id: I4dec8ffe5733a6b9d2ef8f4380c9ab12765f7252
(cherry picked from commit edd7558ee2ab23539cd14da2e66293a6d24f5885)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/689797/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/integration.yaml']",2,aafbd4e09340461f091f54d583f5a08d720906af,689797,, voting: false voting: false voting: false voting: false voting: false voting: false,0,7
openstack%2Fpuppet-openstack-integration~master~Id4524080823d24bdd3424e62ba2e156532b53fe1,openstack/puppet-openstack-integration,master,Id4524080823d24bdd3424e62ba2e156532b53fe1,DNM: Test https://review.opendev.org/#/c/726405/,ABANDONED,2020-05-08 14:51:38.000000000,2020-08-31 09:04:48.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-08 14:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0714290848681cab19210dc9210369ad91d67866', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 2, 'created': '2020-05-09 07:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/991236662ca6c84f8b1c57eddb36fdd96b71b694', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 3, 'created': '2020-05-09 07:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dfd54d9e8ae2784508298c89abeeffbf67eaae91', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 4, 'created': '2020-05-09 19:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c28fe5675281ba708839defa15a2810e25b70cd3', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 5, 'created': '2020-05-09 22:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8a3ac823073f2ab7ad19a04f7e8d64810611f13f', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 6, 'created': '2020-05-09 22:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/61dbc96af85370e282ef98bbb5d1f0ae8ad56c2b', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 7, 'created': '2020-05-10 20:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7cc0b1c8379e86a6434b09157e05e3dc9ee5e529', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 8, 'created': '2020-05-10 21:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5fe6e56eb72ceb0b48f95b42d5724a9452536900', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 9, 'created': '2020-05-10 21:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3ec0db7cba7120f83ff7a308974ce0402064dffe', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nDepends-On: https://review.opendev.org/#/c/726697/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}, {'number': 10, 'created': '2020-05-11 07:40:26.000000000', 'files': ['run_tests.sh', 'fixtures/scenario001.pp', 'functions', 'manifests/repos.pp', 'configure_facts.sh', 'fixtures/scenario004.pp', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0e605fdcdd2f72e1e124f4ed778a5869798bcac3', 'message': 'DNM: Test https://review.opendev.org/#/c/726405/\n\nDepends-On: https://review.opendev.org/#/c/726405/\nDepends-On: https://review.opendev.org/#/c/726703/\nChange-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1\n'}]",0,726408,0e605fdcdd2f72e1e124f4ed778a5869798bcac3,19,2,10,16137,,,0,"DNM: Test https://review.opendev.org/#/c/726405/

Depends-On: https://review.opendev.org/#/c/726405/
Depends-On: https://review.opendev.org/#/c/726703/
Change-Id: Id4524080823d24bdd3424e62ba2e156532b53fe1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/726408/3 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario004.pp']",2,0714290848681cab19210dc9210369ad91d67866,726408,# Enable ceph $backend = 'swift' $ceph = true,# FIXME(ykarel) Enable ceph in CentOS8 once Ceph repos are available if ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $backend = undef $ceph = false } else { $backend = 'swift' $ceph = true },6,16
openstack%2Fpuppet-nova~master~I73e8ee911c404310932c7a34949deaaa6fb4adbb,openstack/puppet-nova,master,I73e8ee911c404310932c7a34949deaaa6fb4adbb,DNM: Test beaker with Puppet 6,ABANDONED,2020-05-08 12:35:52.000000000,2020-08-31 09:04:26.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-08 12:35:52.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ccb541cfc52f015c31a7f4cb927aeedb92ae54dc', 'message': 'DNM: Test beaker with Puppet 6\n\nDepends-On: https://review.opendev.org/#/c/726343\nChange-Id: I73e8ee911c404310932c7a34949deaaa6fb4adbb\n'}]",0,726370,ccb541cfc52f015c31a7f4cb927aeedb92ae54dc,5,2,1,16137,,,0,"DNM: Test beaker with Puppet 6

Depends-On: https://review.opendev.org/#/c/726343
Change-Id: I73e8ee911c404310932c7a34949deaaa6fb4adbb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/70/726370/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,ccb541cfc52f015c31a7f4cb927aeedb92ae54dc,,,,1,0
openstack%2Fpuppet-openstack-integration~master~Id7db800202d64cdbdcf14092643590d679056371,openstack/puppet-openstack-integration,master,Id7db800202d64cdbdcf14092643590d679056371,Update beaker testing to Puppet 6,ABANDONED,2020-05-08 11:13:10.000000000,2020-08-31 09:04:19.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-08 11:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/75e1c3dca24995d3c47ee80c82e177d946df176f', 'message': 'Update beaker testing to Puppet 6\n\nChange-Id: Id7db800202d64cdbdcf14092643590d679056371\n'}, {'number': 2, 'created': '2020-05-08 12:37:41.000000000', 'files': ['playbooks/prepare-node-common.yaml', 'playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ee04bb43f74dbc4df7fd27589ef92cf811513ba', 'message': 'Update beaker testing to Puppet 6\n\nChange-Id: Id7db800202d64cdbdcf14092643590d679056371\n'}]",0,726343,9ee04bb43f74dbc4df7fd27589ef92cf811513ba,10,2,2,16137,,,0,"Update beaker testing to Puppet 6

Change-Id: Id7db800202d64cdbdcf14092643590d679056371
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/43/726343/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/prepare-node-common.yaml', 'playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",3,75e1c3dca24995d3c47ee80c82e177d946df176f,, export BEAKER_PUPPET_COLLECTION=puppet6, export BEAKER_PUPPET_COLLECTION=puppet5,4,4
openstack%2Fpuppet-openstacklib~master~I520102f4a2114296041c24b288f7872a032182e0,openstack/puppet-openstacklib,master,I520102f4a2114296041c24b288f7872a032182e0,Set correct Apache WSGI mod from wsgi::apache,ABANDONED,2019-02-24 00:00:23.000000000,2020-08-31 09:03:13.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-24 00:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/72947bc470deb2538c3a16b6259448df4ae92821', 'message': 'Set correct Apache WSGI mod from wsgi::apache\n\nChange-Id: I520102f4a2114296041c24b288f7872a032182e0\n'}, {'number': 2, 'created': '2019-02-24 13:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b5803dc445e5ee75f54b5710bc623013bdf290bf', 'message': 'Set correct Apache WSGI mod from wsgi::apache\n\nChange-Id: I520102f4a2114296041c24b288f7872a032182e0\n'}, {'number': 3, 'created': '2019-02-24 20:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/10e1e8028ed8b808aaff77e402712297a696e56d', 'message': 'Set correct Apache WSGI mod from wsgi::apache\n\nChange-Id: I520102f4a2114296041c24b288f7872a032182e0\n'}, {'number': 4, 'created': '2019-02-24 20:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/d14142d70b98367010595cc3e3883707baafc41f', 'message': 'Set correct Apache WSGI mod from wsgi::apache\n\nChange-Id: I520102f4a2114296041c24b288f7872a032182e0\n'}, {'number': 5, 'created': '2019-02-24 21:25:42.000000000', 'files': ['releasenotes/notes/mod-wsgi-34644649e63fc58e.yaml', 'manifests/wsgi/apache.pp', 'manifests/defaults.pp', 'spec/defines/openstacklib_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/bb6e289ef3e5b37267f36007a381a6b68fa67234', 'message': ""Set correct Apache WSGI mod from wsgi::apache\n\nThis change moves the overriding of the mod_wsgi\npackage name and module path from the integration\ntesting to the actual openstacklib::wsgi::apache\nresource.\n\nThis will ensure that deployments doesn't have to\nadd code themselves to solve making sure Apache is\nconfigured with python3 WSGI support.\n\nIt can still be resolved by deployments however they\nwant by defining the apache::mod::wsgi class before\nany openstack module.\n\nChange-Id: I520102f4a2114296041c24b288f7872a032182e0\n""}]",0,638920,bb6e289ef3e5b37267f36007a381a6b68fa67234,16,3,5,16137,,,0,"Set correct Apache WSGI mod from wsgi::apache

This change moves the overriding of the mod_wsgi
package name and module path from the integration
testing to the actual openstacklib::wsgi::apache
resource.

This will ensure that deployments doesn't have to
add code themselves to solve making sure Apache is
configured with python3 WSGI support.

It can still be resolved by deployments however they
want by defining the apache::mod::wsgi class before
any openstack module.

Change-Id: I520102f4a2114296041c24b288f7872a032182e0
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/20/638920/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'manifests/defaults.pp']",2,72947bc470deb2538c3a16b6259448df4ae92821,apache-wsgi-python3, $pyvers = '3' $pyver3 = '3' $wsgi_mod_package = 'libapache2-mod-wsgi-py3' $wsgi_mod_lib = 'mod_wsgi.so' $pyvers = '3' $pyver3 = '3.6' $wsgi_mod_package = 'python3-mod_wsgi' $wsgi_mod_lib = 'mod_wsgi_python3.so' } else { $pyvers = '' $pyver3 = '2.7' $wsgi_mod_package = undef $wsgi_mod_lib = undef, $pyvers = '3' $pyver3 = '3' $pyvers = '3' $pyver3 = '3.6' } else { $pyvers = '' $pyver3 = '2.7',20,7
openstack%2Fpuppet-openstack-integration~master~Ia90a261fa554a6f61edee34a467aa2a46d75be88,openstack/puppet-openstack-integration,master,Ia90a261fa554a6f61edee34a467aa2a46d75be88,Remove Apache mod_wsgi overrides,ABANDONED,2019-02-24 21:29:13.000000000,2020-08-31 09:02:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-24 21:29:13.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'fixtures/scenario-aio.pp', 'fixtures/scenario-py3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/05060be3c835c4fe855f268a3b914d10b5fc6326', 'message': 'Remove Apache mod_wsgi overrides\n\nThese were here to make sure that Apache is configuring\nthe WSGI module with python3 support.\n\nThis would be code that deployments would have to do\nmanually. There is a proposed patch [1] which would\nmake sure the openstacklib module manages the correct\napache::mod::wsgi class that is provided by the\npuppetlabs-apache module.\n\n[1] https://review.openstack.org/#/c/638920/\n\nDepends-On: https://review.openstack.org/#/c/638920/\nChange-Id: Ia90a261fa554a6f61edee34a467aa2a46d75be88\n'}]",0,638997,05060be3c835c4fe855f268a3b914d10b5fc6326,4,2,1,16137,,,0,"Remove Apache mod_wsgi overrides

These were here to make sure that Apache is configuring
the WSGI module with python3 support.

This would be code that deployments would have to do
manually. There is a proposed patch [1] which would
make sure the openstacklib module manages the correct
apache::mod::wsgi class that is provided by the
puppetlabs-apache module.

[1] https://review.openstack.org/#/c/638920/

Depends-On: https://review.openstack.org/#/c/638920/
Change-Id: Ia90a261fa554a6f61edee34a467aa2a46d75be88
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/638997/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'fixtures/scenario-aio.pp', 'fixtures/scenario-py3.pp']",6,05060be3c835c4fe855f268a3b914d10b5fc6326,remove-mod-wsgi-override,,"if ($::os['family'] == 'Debian') { $wsgi_mod_package = 'libapache2-mod-wsgi-py3' $wsgi_mod_lib = undef } elsif ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $wsgi_mod_package = 'python3-mod_wsgi' $wsgi_mod_lib = 'mod_wsgi_python3.so' } if ($::os['family'] == 'Debian') or ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { include ::apache::params class { '::apache': mod_packages => merge($::apache::params::mod_packages, { 'wsgi' => $wsgi_mod_package, }), mod_libs => merge($::apache::params::mod_libs, { 'wsgi' => $wsgi_mod_lib, }) } } ",0,119
openstack%2Fpuppet-openstack-cookiecutter~master~Iee9c3689b88b11d65e69397e45f8fbd18ad053a6,openstack/puppet-openstack-cookiecutter,master,Iee9c3689b88b11d65e69397e45f8fbd18ad053a6,Do not validate database_connection format,ABANDONED,2020-08-31 07:49:38.000000000,2020-08-31 08:56:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-31 07:49:38.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/592a65c768982e084d3ca93f406658d59da83e07', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Iee9c3689b88b11d65e69397e45f8fbd18ad053a6\n'}]",0,748967,592a65c768982e084d3ca93f406658d59da83e07,3,1,1,16137,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Iee9c3689b88b11d65e69397e45f8fbd18ad053a6
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/67/748967/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/manifests/db.pp'],1,592a65c768982e084d3ca93f406658d59da83e07,,," validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,3
openstack%2Fkolla~master~Iff600179630484228fb359417687e3d2a1a8b9f9,openstack/kolla,master,Iff600179630484228fb359417687e3d2a1a8b9f9,version-check: handle using of stable branch tarballs,MERGED,2020-07-01 17:50:55.000000000,2020-08-31 08:51:25.000000000,2020-08-28 17:59:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-07-01 17:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/18efe80edf1b72a19567cc1ea091051c3a22c367', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n'}, {'number': 2, 'created': '2020-07-01 18:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b845538c22062453a10318e60b8da163b353479', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n'}, {'number': 3, 'created': '2020-07-06 09:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ff783354ef43ad2f0134f4afe4028a99af9b3b8c', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n'}, {'number': 4, 'created': '2020-08-26 16:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/703393624ecddb5a2dd556f406b040cb211e5b81', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n'}, {'number': 5, 'created': '2020-08-28 15:00:55.000000000', 'files': ['tools/version-check.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2cfc25e53a8bb6cb21bee24051c65d36015c6c09', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n'}]",10,738906,2cfc25e53a8bb6cb21bee24051c65d36015c6c09,33,6,5,24072,,,0,"version-check: handle using of stable branch tarballs

For Ussuri we decided to follow stable branch tarballs instead of using
release ones. This gives us all fixes just as they land in a repository.

Change-Id: Iff600179630484228fb359417687e3d2a1a8b9f9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/738906/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/version-check.py'],1,18efe80edf1b72a19567cc1ea091051c3a22c367,,"# NOTE(hrw): those projects we take as they are they may have just one old # release or no stable branch tarballs STALE_PROJECTS = { 'barbican_tempest_plugin', 'blazar_tempest_plugin', 'cinder-tempest-plugin', 'congress-tempest-plugin', 'ec2api-tempest-plugin', 'heat-tempest-plugin', 'ironic-tempest-plugin', 'keystone_tempest_plugin', 'magnum_tempest_plugin', 'manila-tempest-plugin', 'mistral_tempest_tests', 'monasca-tempest-plugin', 'murano-tempest-plugin', 'neutron-tempest-plugin', 'python-tempestconf', 'telemetry_tempest_plugin', 'patrole', 'trove_tempest_plugin', 'vitrage-tempest-plugin', 'watcher-tempest-plugin', 'zaqar_tempest_plugin', 'monasca-common', 'monasca-thresh', 'nova-mksproxy', 'novajoin', 'tempest', 'vmtp', } # NOTE(hrw): those projects have different names for release tarballs (first # column) and other for branch tarballs RENAME_PROJECTS = { 'kuryr-lib': 'kuryr', 'openstack-congress': 'congress', 'openstack-cyborg': 'cyborg', 'openstack-heat': 'heat', 'openstack-placement': 'placement', 'python-watcher': 'watcher', 'requirements-stable': 'requirements', } parser.add_argument('--stable-tarballs', '-t', default=False, action='store_true', help='Use stable branch tarballs') if (project_name == ""requirements"" or (conf.stable_tarballs and project_name not in STALE_PROJECTS)): if project_name in RENAME_PROJECTS: tarball_base = RENAME_PROJECTS[project_name]"," if project_name == ""requirements"":",51,1
openstack%2Fpython-masakariclient~master~Iefe6082a0b53ed34bf358ad3ba7d47c5facfdd72,openstack/python-masakariclient,master,Iefe6082a0b53ed34bf358ad3ba7d47c5facfdd72,Drop Babel from reqs,ABANDONED,2020-08-30 08:57:54.000000000,2020-08-31 08:48:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-30 08:57:54.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/4e9aa5ff4a4a224a1f280e4167445ffe45d7253b', 'message': 'Drop Babel from reqs\n\nNot needed per [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: Iefe6082a0b53ed34bf358ad3ba7d47c5facfdd72\n'}]",0,748843,4e9aa5ff4a4a224a1f280e4167445ffe45d7253b,3,1,1,30491,,,0,"Drop Babel from reqs

Not needed per [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: Iefe6082a0b53ed34bf358ad3ba7d47c5facfdd72
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/43/748843/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,4e9aa5ff4a4a224a1f280e4167445ffe45d7253b,remove-babel,,Babel==2.3.4,0,1
openstack%2Fmasakari-monitors~master~I96a638d6273f7b491ca6e06f1468d08d3387d5ce,openstack/masakari-monitors,master,I96a638d6273f7b491ca6e06f1468d08d3387d5ce,Add missing keystoneauth1 to requirements.txt,MERGED,2019-09-06 12:40:28.000000000,2020-08-31 08:47:29.000000000,2020-08-31 08:45:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2019-09-06 12:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/c0982660fd241062e2a22349ee0352d881a6f54f', 'message': 'Add missing keystoneauth1 to requirements.txt\n\nIt is used in a couple of places to add it to the needed modules.\n\nChange-Id: I96a638d6273f7b491ca6e06f1468d08d3387d5ce\n'}, {'number': 2, 'created': '2020-08-30 14:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/956178bd5ebc97ece24f419639125a84aef1d0cd', 'message': 'Add missing keystoneauth1 to requirements.txt\n\nIt is used in a couple of places to add it to the needed modules.\n\nChange-Id: I96a638d6273f7b491ca6e06f1468d08d3387d5ce\n'}, {'number': 3, 'created': '2020-08-30 14:49:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a830855ee65dbe1d5e0104d57e6b668e52f808ec', 'message': 'Add missing keystoneauth1 to requirements.txt\n\nIt is used in a couple of places to add it to the needed modules.\n\nChange-Id: I96a638d6273f7b491ca6e06f1468d08d3387d5ce\n'}]",0,680681,a830855ee65dbe1d5e0104d57e6b668e52f808ec,13,3,3,7102,,,0,"Add missing keystoneauth1 to requirements.txt

It is used in a couple of places to add it to the needed modules.

Change-Id: I96a638d6273f7b491ca6e06f1468d08d3387d5ce
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/81/680681/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c0982660fd241062e2a22349ee0352d881a6f54f,add-dep-keystoneauth1,keystoneauth1 # Apache-2.0,,1,0
openstack%2Freno~master~I8cfb3db5b0256b102199de49bab895cbb21f7166,openstack/reno,master,I8cfb3db5b0256b102199de49bab895cbb21f7166,add release note for `encoding` option,MERGED,2020-08-29 21:25:59.000000000,2020-08-31 08:35:14.000000000,2020-08-31 08:33:55.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-29 21:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/4055023a2c164af0433dd6023df4f5c98c141ae1', 'message': 'add release note for `encoding` option\n\nDescribe the option added in 984bcba17e4e0b46763f42015d09680e5c5d5a04\n\nChange-Id: I8cfb3db5b0256b102199de49bab895cbb21f7166\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2020-08-29 21:41:46.000000000', 'files': ['releasenotes/notes/file-encoding-option-6aa3e32f2bf830b8.yaml'], 'web_link': 'https://opendev.org/openstack/reno/commit/05d52d38b409a2d5ec8a0fde5dd187b6b14b2690', 'message': 'add release note for `encoding` option\n\nDescribe the option added in 984bcba17e4e0b46763f42015d09680e5c5d5a04\n\nChange-Id: I8cfb3db5b0256b102199de49bab895cbb21f7166\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,748819,05d52d38b409a2d5ec8a0fde5dd187b6b14b2690,10,3,2,2472,,,0,"add release note for `encoding` option

Describe the option added in 984bcba17e4e0b46763f42015d09680e5c5d5a04

Change-Id: I8cfb3db5b0256b102199de49bab895cbb21f7166
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/reno refs/changes/19/748819/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/file-encoding-option-6aa3e32f2bf830b8.yaml'],1,4055023a2c164af0433dd6023df4f5c98c141ae1,semver-calculation,"--- features: - | Add a new configuration option, `encoding`, to specify the encoding to use when reading release notes file. See configuration_ for more details. ",,6,0
openstack%2Fmonasca-ceilometer~master~Ibe027405b50a5719a6d0a2fe8a3f0f189d283287,openstack/monasca-ceilometer,master,Ibe027405b50a5719a6d0a2fe8a3f0f189d283287,change a bittle title of README.rst,ABANDONED,2020-06-16 09:13:27.000000000,2020-08-31 08:28:44.000000000,,"[{'_account_id': 10311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 09:13:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/25acfe8c89aeb58a21c789751f7f9acbfa72327c', 'message': 'change a bittle title of README.rst\n\nChange-Id: Ibe027405b50a5719a6d0a2fe8a3f0f189d283287\n'}]",1,735820,25acfe8c89aeb58a21c789751f7f9acbfa72327c,6,2,1,30455,,,0,"change a bittle title of README.rst

Change-Id: Ibe027405b50a5719a6d0a2fe8a3f0f189d283287
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/20/735820/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,25acfe8c89aeb58a21c789751f7f9acbfa72327c,,Openstack Monasca Ceilometer,Team and repository tags,1,1
openstack%2Fsushy~master~I825930623c84d3b6e5994e29f963b4f5af7afe4d,openstack/sushy,master,I825930623c84d3b6e5994e29f963b4f5af7afe4d,Use Sessions URL from root service if it's provided,MERGED,2020-08-26 15:08:00.000000000,2020-08-31 08:17:11.000000000,2020-08-29 08:37:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f1a1c14f278de6cfb11d942bf5b1f11d397f7741', 'message': ""Use Sessions URL from root service if it's provided\n\nIf the root endpoint provides the link to Sessions, we should just\nuse it.\n\nChange-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d\nStory: 2008059\nTask: 40742\n""}, {'number': 2, 'created': '2020-08-26 15:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b7f545e4df6bd68a75a720c77d8522b748c6da0e', 'message': ""Use Sessions URL from root service if it's provided\n\nIf the root endpoint provides the link to Sessions, we should just\nuse it.\n\nChange-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d\nStory: 2008059\nTask: 40742\n""}, {'number': 3, 'created': '2020-08-28 08:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/3343ffe166f4ab309ed5d740558f489d1ae7d18a', 'message': ""Use Sessions URL from root service if it's provided\n\nIf the root endpoint provides the link to Sessions, we should just\nuse it.\n\nChange-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d\nStory: 2008059\nTask: 40742\n""}, {'number': 4, 'created': '2020-08-28 10:04:22.000000000', 'files': ['sushy/tests/unit/test_main.py', 'sushy/auth.py', 'sushy/main.py', 'sushy/resources/sessionservice/sessionservice.py', 'releasenotes/notes/use-sessions-url-from-root-8b8eca57dc450705.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/e730987a186be68de9555dfef66661f68b10c57a', 'message': ""Use Sessions URL from root service if it's provided\n\nIf the root endpoint provides the link to Sessions, we should just\nuse it.\n\nChange-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d\nStory: 2008059\nTask: 40742\n""}]",8,748256,e730987a186be68de9555dfef66661f68b10c57a,21,5,4,23851,,,0,"Use Sessions URL from root service if it's provided

If the root endpoint provides the link to Sessions, we should just
use it.

Change-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d
Story: 2008059
Task: 40742
",git fetch https://review.opendev.org/openstack/sushy refs/changes/56/748256/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_main.py', 'sushy/auth.py', 'sushy/main.py', 'sushy/resources/sessionservice/sessionservice.py']",4,f1a1c14f278de6cfb11d942bf5b1f11d397f7741,no-guess-sessions-uri," def create_session(self, username, password, target_uri=None): if not target_uri: try: target_uri = self._get_sessions_collection_path() except Exception: # Defaulting to /Sessions target_uri = self.path + '/Sessions'"," def create_session(self, username, password): try: target_uri = self._get_sessions_collection_path() except Exception: # Defaulting to /Sessions target_uri = self.path + '/Sessions'",34,9
openstack%2Fbifrost~stable%2Ftrain~I0bbfad742fe920abf5961199b7dd1cac9cb6d8c4,openstack/bifrost,stable/train,I0bbfad742fe920abf5961199b7dd1cac9cb6d8c4,Change LANG in install-deps.sh to en_US.UTF-8,ABANDONED,2020-08-28 12:56:26.000000000,2020-08-31 08:01:08.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-28 12:56:26.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b74d64da54e88c1bcccc682329eeb2ee0a2705ae', 'message': ""Change LANG in install-deps.sh to en_US.UTF-8\n\nLANG=C causes pip installation issues in CentOS 7, observed in Kolla container\nimage build on stable/train and earlier, see [1] for full build log:\n\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe3 in position 25:\nordinal not in range(128)\n\n[1]: https://zuul.opendev.org/t/openstack/build/45a5a3c3c2a046f6bd1868026e1e7803/log/kolla/build/000_FAILED_bifrost-base.log#8807\n\nChange-Id: I0bbfad742fe920abf5961199b7dd1cac9cb6d8c4\n""}]",0,748663,b74d64da54e88c1bcccc682329eeb2ee0a2705ae,13,4,1,22629,,,0,"Change LANG in install-deps.sh to en_US.UTF-8

LANG=C causes pip installation issues in CentOS 7, observed in Kolla container
image build on stable/train and earlier, see [1] for full build log:

UnicodeDecodeError: 'ascii' codec can't decode byte 0xe3 in position 25:
ordinal not in range(128)

[1]: https://zuul.opendev.org/t/openstack/build/45a5a3c3c2a046f6bd1868026e1e7803/log/kolla/build/000_FAILED_bifrost-base.log#8807

Change-Id: I0bbfad742fe920abf5961199b7dd1cac9cb6d8c4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/63/748663/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,b74d64da54e88c1bcccc682329eeb2ee0a2705ae,,export LANG=en_US.UTF-8,export LANG=c,1,1
openstack%2Fpuppet-keystone~master~I2f6351c29e50070bc712879642fd509d9797ddb0,openstack/puppet-keystone,master,I2f6351c29e50070bc712879642fd509d9797ddb0,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-31 07:32:37.000000000,2020-08-31 07:30:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5ccd1463aeb44aa2a1fe1d5311b247085e1d637d', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I2f6351c29e50070bc712879642fd509d9797ddb0\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['releasenotes/notes/add_mysql_enable_ndb-option-9619cb984571cde2.yaml', 'manifests/db.pp', 'spec/classes/keystone_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7edf617586d7791825b567e631e171e50db47ec3', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I2f6351c29e50070bc712879642fd509d9797ddb0\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748091,7edf617586d7791825b567e631e171e50db47ec3,15,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I2f6351c29e50070bc712879642fd509d9797ddb0
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/91/748091/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_mysql_enable_ndb-option-9619cb984571cde2.yaml', 'manifests/db.pp', 'spec/classes/keystone_db_spec.rb']",3,5ccd1463aeb44aa2a1fe1d5311b247085e1d637d,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Fneutron~stable%2Fqueens~Icc995f7b2b465921e41342711d17539f16ead0ce,openstack/neutron,stable/queens,Icc995f7b2b465921e41342711d17539f16ead0ce,Handle properly existing LLA address during l3 agent restart,ABANDONED,2020-08-25 09:14:24.000000000,2020-08-31 07:25:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 09:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac7b636a610c10642f198737311eebdc7efc8fcd', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nConflicts:\n    neutron/agent/linux/pd.py\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}, {'number': 2, 'created': '2020-08-27 20:48:48.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7451c2d833f7c99d554fc318ecd30206ebc5223', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nConflicts:\n    neutron/agent/linux/pd.py\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}]",1,747876,e7451c2d833f7c99d554fc318ecd30206ebc5223,7,2,2,11975,,,0,"Handle properly existing LLA address during l3 agent restart

In case when L3 agent is hosting routers which have got subnets
with Prefix Delegation enabled, agent couldn't properly handle
IpAddressAlreadyExists exception raised when pd module tries to
configure link local IPv6 addresses.

Now this is fixed and L3 agent can restart without problems in such
case.

Conflicts:
    neutron/agent/linux/pd.py

Change-Id: Icc995f7b2b465921e41342711d17539f16ead0ce
Closes-Bug: #1892362
(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/747876/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py']",2,ac7b636a610c10642f198737311eebdc7efc8fcd,bug/1892362-stable/rocky-stable/queens,"from neutron.agent.linux import ip_lib try: self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA # uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask) except ip_lib.IpAddressAlreadyExists: pass"," self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask)",62,10
openstack%2Fneutron~master~I9ec81ad0c10379294d3145c5902e8b81b65c0221,openstack/neutron,master,I9ec81ad0c10379294d3145c5902e8b81b65c0221,Don't raise FileNotFoundError during disabling keepalived,MERGED,2020-08-25 13:08:02.000000000,2020-08-31 07:14:58.000000000,2020-08-28 16:54:30.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 13:08:02.000000000', 'files': ['neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a08893368a9f323d41f490ee043ef7bd50c4f1fa', 'message': ""Don't raise FileNotFoundError during disabling keepalived\n\nIn case when keepalived's config is not existing already, there is no\nneed to raise any exception while L3 agent is trying to clean this\nconfig.\n\nChange-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221\nCloses-Bug: #1892866\n""}]",3,747926,a08893368a9f323d41f490ee043ef7bd50c4f1fa,27,9,1,11975,,,0,"Don't raise FileNotFoundError during disabling keepalived

In case when keepalived's config is not existing already, there is no
need to raise any exception while L3 agent is trying to clean this
config.

Change-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221
Closes-Bug: #1892866
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/747926/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/ha_router.py'],1,a08893368a9f323d41f490ee043ef7bd50c4f1fa,bug/1892866, try: shutil.rmtree(conf_dir) except FileNotFoundError: pass, shutil.rmtree(conf_dir),4,1
openstack%2Fdevstack~master~Ib06649ec78ddedcee07628ad9acbcb39c1a7819c,openstack/devstack,master,Ib06649ec78ddedcee07628ad9acbcb39c1a7819c,[wip] Projects in /usr/bin with setuptools 50.0.0,ABANDONED,2020-08-31 01:19:36.000000000,2020-08-31 06:34:33.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 01:19:36.000000000', 'files': ['inc/python', 'doc/source/systemd.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/96af8eb267667c1ce9826c89b3b9720798957d3d', 'message': '[wip] Projects in /usr/bin with setuptools 50.0.0\n\nIt seems we will have to handle this as setuptools have reintroduced\nthe behaviour of ignoring the debuntu distutils overrides [1].\n\nAs a first thought, just pin our python path to /usr/bin everywhere,\nwhich is whta setuptools is now doing.\n\n[1] https://github.com/pypa/setuptools/commit/04e3df22df840c6bb244e9b27bc56750c44b7c85\n\nChange-Id: Ib06649ec78ddedcee07628ad9acbcb39c1a7819c\n'}]",0,748937,96af8eb267667c1ce9826c89b3b9720798957d3d,4,2,1,7118,,,0,"[wip] Projects in /usr/bin with setuptools 50.0.0

It seems we will have to handle this as setuptools have reintroduced
the behaviour of ignoring the debuntu distutils overrides [1].

As a first thought, just pin our python path to /usr/bin everywhere,
which is whta setuptools is now doing.

[1] https://github.com/pypa/setuptools/commit/04e3df22df840c6bb244e9b27bc56750c44b7c85

Change-Id: Ib06649ec78ddedcee07628ad9acbcb39c1a7819c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/748937/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'doc/source/systemd.rst']",2,96af8eb267667c1ce9826c89b3b9720798957d3d,setuptools-distutils, /usr/bin/nova-scheduler --config-file /etc/nova/nova.conf sg libvirt -c '/usr/bin/nova-compute --config-file /etc/nova/nova-cpu.conf', /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf sg libvirt -c '/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf',10,12
openstack%2Ftripleo-quickstart-extras~master~I9ac9ef61097443a00b39710f122bf147d4012e4c,openstack/tripleo-quickstart-extras,master,I9ac9ef61097443a00b39710f122bf147d4012e4c,Use new modify_only_with_source,MERGED,2020-08-19 16:37:57.000000000,2020-08-31 06:01:21.000000000,2020-08-26 01:42:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-19 16:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/65d66b76bc419b3cf2932825b251be167a280107', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 2, 'created': '2020-08-19 16:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c0515b59523d9d813434818ab4da1521d7273a5c', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 3, 'created': '2020-08-19 16:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/76daf2ea322e628883af7d4f11764c6c07dbf918', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 4, 'created': '2020-08-19 16:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4375972921f305b1f49a4ec306b68441b7b9a9d2', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 5, 'created': '2020-08-19 19:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e0c939d0a317727c0d846893b787514f876c4d95', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 6, 'created': '2020-08-21 13:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8f11aa3f69e395043cfee9794edd21a32d6e3009', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 7, 'created': '2020-08-21 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b932973b14782dc4258908542cdae4582a4cddb3', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 8, 'created': '2020-08-21 14:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/61293d7feda62d46fb0419b7e62cf46ccd6ba221', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/746990\nRelated-Bug: #1889122\n""}, {'number': 9, 'created': '2020-08-24 20:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/436ca0020c455c303823579fa6255aa9528dbeb5', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/#/c/746990\nDepends-On: https://review.opendev.org/#/c/747721\nDepends-On: https://review.opendev.org/#/c/747720\nRelated-Bug: #1889122\n""}, {'number': 10, 'created': '2020-08-25 17:26:51.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/161099faa3be7130b7843dd72674742e889ca0d7', 'message': ""Use new modify_only_with_source\n\nThe modify_only_with_labels has to query the container registry in order\nto do updates. In the upstream CI we want to limit the containers that\nare to be updated to only if the image_source is 'kolla' or 'tripleo'.\n\nChange-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c\nDepends-On: https://review.opendev.org/#/c/746990\nDepends-On: https://review.opendev.org/#/c/747721\nDepends-On: https://review.opendev.org/#/c/747720\nRelated-Bug: #1889122\n""}]",10,746993,161099faa3be7130b7843dd72674742e889ca0d7,73,9,10,14985,,,0,"Use new modify_only_with_source

The modify_only_with_labels has to query the container registry in order
to do updates. In the upstream CI we want to limit the containers that
are to be updated to only if the image_source is 'kolla' or 'tripleo'.

Change-Id: I9ac9ef61097443a00b39710f122bf147d4012e4c
Depends-On: https://review.opendev.org/#/c/746990
Depends-On: https://review.opendev.org/#/c/747721
Depends-On: https://review.opendev.org/#/c/747720
Related-Bug: #1889122
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/93/746993/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,65d66b76bc419b3cf2932825b251be167a280107,bug/1889122," {% if release not in ['master'] %} {% set _ = item.__setitem__(""modify_only_with_labels"", [""kolla_version"", ""tcib_managed""]) %} {% else %} {% set _ = item.__setitem__(""modify_only_with_labels"", [""kolla"", ""tripleo""]) %} {% endif %}"," {% set _ = item.__setitem__(""modify_only_with_labels"", [""kolla_version"", ""tcib_managed""]) %}",5,1
openstack%2Fzun~master~I5a244892d46b69be1394eb89a86a4c16fcd1439d,openstack/zun,master,I5a244892d46b69be1394eb89a86a4c16fcd1439d,api-ref: fix wrong naming in /execute,MERGED,2020-08-24 04:46:37.000000000,2020-08-31 04:52:48.000000000,2020-08-31 04:45:59.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 04:46:37.000000000', 'files': ['api-ref/source/containers.inc'], 'web_link': 'https://opendev.org/openstack/zun/commit/0a3a763e1bdc53e7a4b82c7cf06b177c38d84f7c', 'message': 'api-ref: fix wrong naming in /execute\n\nChange-Id: I5a244892d46b69be1394eb89a86a4c16fcd1439d\n'}]",0,747616,0a3a763e1bdc53e7a4b82c7cf06b177c38d84f7c,11,2,1,11536,,,0,"api-ref: fix wrong naming in /execute

Change-Id: I5a244892d46b69be1394eb89a86a4c16fcd1439d
",git fetch https://review.opendev.org/openstack/zun refs/changes/16/747616/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/containers.inc'],1,0a3a763e1bdc53e7a4b82c7cf06b177c38d84f7c,, - output: exec_output - exit_code: exec_exit_code - url: exec_url, - exec_output: exec_output - exec_exit_code: exec_exit_code - exec_url: exec_url,3,3
openstack%2Fpuppet-keystone~master~I0dc5dd487996307811edd177d13d6d5ac8f841ee,openstack/puppet-keystone,master,I0dc5dd487996307811edd177d13d6d5ac8f841ee,Fix python package names (ldappool and pysaml2),MERGED,2020-08-27 12:59:30.000000000,2020-08-31 02:13:59.000000000,2020-08-31 02:13:59.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 12:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f32203e7518d992604e0caedf57c428d6d16605d', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 2, 'created': '2020-08-27 13:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b98b08d7ab1fdf81da7074400e26c54356572c35', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 3, 'created': '2020-08-27 14:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e6cdabeb010e3e66943abb6229203939a353f6ce', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 4, 'created': '2020-08-27 16:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f41661bfaa2c6865833c22f65a0b1be69fee216c', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 5, 'created': '2020-08-28 05:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d4e2b65db261ae8c36a71ddc24c41fdd3511a956', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 6, 'created': '2020-08-28 05:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d83d9ea4a2107e3559383b9cf065153e68940545', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 7, 'created': '2020-08-28 08:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b7a7dc5a29f15956d2b30baef98f91d2519f1645', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 8, 'created': '2020-08-28 10:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/08419eaa7ce54195fe6879bf6fe1693348f35a41', 'message': 'Use correct python-ldappool package\n\nIn Recent Ubuntu and CentOS8, python3-ldappool should be used instead\nof python-ldappool. This patch makes sure that the correct package name\nis specified according to the default python version in OS.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 9, 'created': '2020-08-28 13:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/44a46e2f1c20b1d26d45632729c4c9181ea94b49', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 10, 'created': '2020-08-28 15:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8cef596d4f06482134f7807012d0bdee1da5a1df', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 11, 'created': '2020-08-28 16:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/26e8c7146b2a5b5816cba2ed3bb12f1694c2a001', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 12, 'created': '2020-08-29 04:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2e0a07962642e5e0ec0d182746ed7316dfc65b7f', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}, {'number': 13, 'created': '2020-08-30 05:15:54.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'manifests/federation/identity_provider.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f342aad94615655fe96959186c031157c209a659', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n'}]",0,748428,f342aad94615655fe96959186c031157c209a659,35,4,13,9816,,,0,"Fix python package names (ldappool and pysaml2)

This patch fixes package name of python-ldapppool and python-pysaml2,
so that correct package names, python3-*, are used in OSs which use
Python3 as the default Python.

Change-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/28/748428/13 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'manifests/ldap.pp', 'manifests/params.pp']",4,f32203e7518d992604e0caedf57c428d6d16605d,centos8-beaker," $python_ldappool_package_name = ""python${pyvers}-ldappool"" $python_ldappool_package_name = ""python${pyvers}-ldappool""",,34,8
openstack%2Fmagnum~master~I40d115db6e825b8a2090b9defcf29e2f432af636,openstack/magnum,master,I40d115db6e825b8a2090b9defcf29e2f432af636,[Part1] Remove six,NEW,2020-08-27 15:25:16.000000000,2020-08-31 02:06:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-27 15:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f2361fb95fdf720dd629ceb8e2334fce8ebf4f78', 'message': ""[Part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from unit test\n\nChange-Id: I40d115db6e825b8a2090b9defcf29e2f432af636\n""}, {'number': 2, 'created': '2020-08-27 15:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/46b96cc33ba786eb24d61e37fba436371b760cf8', 'message': ""[Part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from unit test\n\nChange-Id: I40d115db6e825b8a2090b9defcf29e2f432af636\n""}, {'number': 3, 'created': '2020-08-28 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4500286389721e9d54b7df4df0541ed81abfbfe3', 'message': ""[Part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1.Since this is to large changed, just from six from unit test\n\nChange-Id: I40d115db6e825b8a2090b9defcf29e2f432af636\n""}, {'number': 4, 'created': '2020-08-30 15:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f9fce478fedbdafbeebb33e26142dd23a3b09a04', 'message': ""[Part1] Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum unit test\n\nChange-Id: I40d115db6e825b8a2090b9defcf29e2f432af636\nCo-Authored-By: zhoulinhui <df.some@foxmail.com>\n""}, {'number': 5, 'created': '2020-08-31 01:24:24.000000000', 'files': ['magnum/tests/unit/api/test_hooks.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/tests/unit/db/test_x509keypair.py', 'magnum/tests/unit/objects/utils.py', 'magnum/tests/unit/cmd/test_db_manage.py', 'magnum/tests/functional/common/client.py', 'magnum/tests/unit/db/test_federation.py', 'magnum/tests/unit/db/test_cluster_template.py', 'magnum/tests/unit/common/test_profiler.py', 'magnum/tests/unit/api/base.py', 'magnum/tests/unit/common/x509/test_sign.py', 'magnum/tests/unit/api/test_validation.py', 'magnum/tests/unit/conf/test_conf.py', 'magnum/tests/unit/db/test_cluster.py', 'magnum/tests/unit/conductor/handlers/test_cluster_conductor.py', 'magnum/tests/unit/api/controllers/v1/test_baymodel.py', 'magnum/tests/unit/api/controllers/v1/test_cluster_template.py', 'magnum/tests/unit/api/controllers/v1/test_types.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/21681b977992e42f8e758a58e2a574ee5f121327', 'message': ""[Part1] Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum unit test\n\nChange-Id: I40d115db6e825b8a2090b9defcf29e2f432af636\nCo-Authored-By: zhoulinhui <df.some@foxmail.com>\n""}]",15,748469,21681b977992e42f8e758a58e2a574ee5f121327,11,2,5,30356,,,0,"[Part1] Remove six

We don't need this in a Python 3-only world.

This is a large changed, I split it some smalls,
this PS just remove six from magnum unit test

Change-Id: I40d115db6e825b8a2090b9defcf29e2f432af636
Co-Authored-By: zhoulinhui <df.some@foxmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/69/748469/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/test_hooks.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/tests/unit/db/test_x509keypair.py', 'magnum/tests/unit/objects/utils.py', 'magnum/tests/unit/cmd/test_db_manage.py', 'magnum/tests/functional/common/client.py', 'magnum/tests/unit/db/test_federation.py', 'magnum/tests/unit/db/test_cluster_template.py', 'magnum/tests/unit/common/test_profiler.py', 'magnum/tests/unit/api/base.py', 'magnum/tests/unit/common/x509/test_sign.py', 'magnum/tests/unit/conf/test_conf.py', 'magnum/tests/unit/db/test_cluster.py', 'magnum/tests/unit/conductor/handlers/test_cluster_conductor.py', 'magnum/tests/unit/api/controllers/v1/test_baymodel.py', 'magnum/tests/unit/api/controllers/v1/test_cluster_template.py', 'magnum/tests/unit/api/controllers/v1/test_types.py']",17,f2361fb95fdf720dd629ceb8e2334fce8ebf4f78,," vt = types.MultiType(wsme.types.text, int) vt = types.MultiType(types.UuidType, int) vt = types.MultiType(wsme.types.text, int) vt = types.MultiType(types.UuidType, int)","import six vt = types.MultiType(wsme.types.text, six.integer_types) vt = types.MultiType(types.UuidType, six.integer_types) vt = types.MultiType(wsme.types.text, six.integer_types) vt = types.MultiType(types.UuidType, six.integer_types)",26,40
openstack%2Fpuppet-mistral~master~Ie4fea38fb96d1c04a8a589f2f216a167fd15b827,openstack/puppet-mistral,master,Ie4fea38fb96d1c04a8a589f2f216a167fd15b827,Fix the default value of mistral::database_connection,MERGED,2020-08-30 14:52:01.000000000,2020-08-31 02:02:42.000000000,2020-08-31 02:00:30.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 14:52:01.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/201131e1cbd00c7576b74f0a512ddc8949cf21d6', 'message': ""Fix the default value of mistral::database_connection\n\nThe default of mistral::database_connection should be undef instead of\n$os_service_default, otherwise mistral::db::database_connection,\ndoesn't work at all.\nThis patch fixes the default value so that it has the corret one\ndescribed in parameter description.\n\nChange-Id: Ie4fea38fb96d1c04a8a589f2f216a167fd15b827\n""}]",0,748862,201131e1cbd00c7576b74f0a512ddc8949cf21d6,8,3,1,9816,,,0,"Fix the default value of mistral::database_connection

The default of mistral::database_connection should be undef instead of
$os_service_default, otherwise mistral::db::database_connection,
doesn't work at all.
This patch fixes the default value so that it has the corret one
described in parameter description.

Change-Id: Ie4fea38fb96d1c04a8a589f2f216a167fd15b827
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/62/748862/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,201131e1cbd00c7576b74f0a512ddc8949cf21d6,db_conn_default," $database_connection = undef,"," $database_connection = $::os_service_default,",1,1
openstack%2Fmagnum~master~I6bf1d2c8c21832e1e13db92a7e722edc6440464c,openstack/magnum,master,I6bf1d2c8c21832e1e13db92a7e722edc6440464c,[Part2] Remove six,NEW,2020-08-27 15:37:09.000000000,2020-08-31 01:46:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-27 15:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b08f4fc27bfc0ecd51e44a0375103a64204be197', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from magnum api\n\nChange-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c\n""}, {'number': 2, 'created': '2020-08-27 15:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b289a736ebc0763c596cd86024fbc46841bebd13', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from magnum api\n\nChange-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c\n""}, {'number': 3, 'created': '2020-08-27 15:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3fa3d897b8556022f1144919fe0f1c2943889a98', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from magnum api and drivers\n\nChange-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c\n""}, {'number': 4, 'created': '2020-08-28 15:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/13c9c561dba32710091d921c3b2dba83c9a60529', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum api and drivers\n\nChange-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c\n""}, {'number': 5, 'created': '2020-08-28 15:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b8c98a103a6b48547ea07c99b2d22836c3224438', 'message': ""[Part2] Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum api and drivers\n\nChange-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c\n""}, {'number': 6, 'created': '2020-08-31 01:28:44.000000000', 'files': ['magnum/api/controllers/v1/types.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/mesos_ubuntu_v1/image/Dockerfile', 'magnum/api/controllers/v1/nodegroup.py', 'magnum/drivers/common/driver.py', 'magnum/api/controllers/v1/bay.py', 'magnum/drivers/k8s_fedora_coreos_v1/template_def.py', 'magnum/drivers/heat/driver.py', 'magnum/drivers/mesos_ubuntu_v1/image/install_imagebuild_deps.sh', 'magnum/api/controllers/base.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/api/controllers/v1/cluster_template.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e332fea536a79f1b4dec1f47dae8b8dfc8fb8d00', 'message': ""[Part2] Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum api and drivers\n\nChange-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c\n""}]",5,748471,e332fea536a79f1b4dec1f47dae8b8dfc8fb8d00,10,2,6,30356,,,0,"[Part2] Remove six

We don't need this in a Python 3-only world.

This is a large changed, I split it some smalls,
this PS just remove six from magnum api and drivers

Change-Id: I6bf1d2c8c21832e1e13db92a7e722edc6440464c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/71/748471/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/types.py', 'magnum/api/controllers/v1/nodegroup.py', 'magnum/api/controllers/base.py', 'magnum/api/controllers/v1/bay.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/api/controllers/v1/cluster_template.py']",6,b08f4fc27bfc0ecd51e44a0375103a64204be197,," int,","import six six.integer_types,",11,17
openstack%2Fcyborg-specs~master~Ief767856e3ed49ba84dba15072669bba24864883,openstack/cyborg-specs,master,Ief767856e3ed49ba84dba15072669bba24864883,Create specs directory for Wallaby,MERGED,2020-08-25 10:08:41.000000000,2020-08-31 01:34:01.000000000,2020-08-31 01:32:56.000000000,"[{'_account_id': 17813}, {'_account_id': 22348}, {'_account_id': 23982}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-08-25 10:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/9b84f860e10b7eb37bb71b2771a4343038fedcf0', 'message': 'Create soecs directory for Wallaby\n\nChange-Id: Ief767856e3ed49ba84dba15072669bba24864883\nSigned-off-by: Brin Zhang <zhangbailin@inspur.com>\n'}, {'number': 2, 'created': '2020-08-26 00:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/caf96d13f349ee6835d016e92bf99c42745ed828', 'message': 'Create soecs directory for Wallaby\n\nChange-Id: Ief767856e3ed49ba84dba15072669bba24864883\nSigned-off-by: Brin Zhang <zhangbailin@inspur.com>\n'}, {'number': 3, 'created': '2020-08-26 06:47:11.000000000', 'files': ['specs/wallaby-template.rst', 'doc/source/index.rst', 'specs/wallaby/approved/template.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/5289b226e3b84654414dd2b78216339ac8981687', 'message': 'Create specs directory for Wallaby\n\nChange-Id: Ief767856e3ed49ba84dba15072669bba24864883\nSigned-off-by: Brin Zhang <zhangbailin@inspur.com>\n'}]",0,747888,5289b226e3b84654414dd2b78216339ac8981687,14,7,3,26458,,,0,"Create specs directory for Wallaby

Change-Id: Ief767856e3ed49ba84dba15072669bba24864883
Signed-off-by: Brin Zhang <zhangbailin@inspur.com>
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/88/747888/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/wallaby-template.rst', 'specs/wallaby/approved/template.rst']",3,9b84f860e10b7eb37bb71b2771a4343038fedcf0,create_wallaby_directory,specs/wallaby-template.rst,,404,0
openstack%2Fnova~master~Ibbd4bd26408328b9e1a1128b3794721405631193,openstack/nova,master,Ibbd4bd26408328b9e1a1128b3794721405631193,Change default num_retries for glance to 3,MERGED,2020-07-10 01:34:06.000000000,2020-08-31 01:18:34.000000000,2020-08-28 11:12:22.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25613}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-10 01:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07d1d959a0480632c8e8a1d95183c45a76bed697', 'message': ""Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is issued only one time.\nHowever, other components' client retries the request when it fails.\nTo reduce an unnecessary exception and failure, we should increase\nthe default value to 3.\n\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n""}, {'number': 2, 'created': '2020-07-14 05:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/577e45919537b5daa5b3e11ae8108a85e4f75438', 'message': ""Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is issued only one time.\nHowever, other components' client retries the request when it fails.\nTo reduce an unnecessary exception and failure, we should increase\nthe default value to 3.\n\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n""}, {'number': 3, 'created': '2020-07-15 03:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/385e431ec894cc4640ce94dc399b3abaabddd541', 'message': ""Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is issued only one time.\nHowever, other components' client retries the request when it fails.\nTo reduce an unnecessary exception and failure, we should increase\nthe default value to 3.\n\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n""}, {'number': 4, 'created': '2020-07-20 01:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/102ed1789b8ac0d872da7135603fb3d6460e4e82', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron clients set the default value to 3.\nTo align the default value for retry to other components, we\nshould change the default valule to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}, {'number': 5, 'created': '2020-07-27 01:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e661a8b8f5f50c872b4e51ef1544f36e0b461acc', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron and cinder clients set the default\nvalue to 3.\nTo align the default value for retry to other components, we\nshould change the default value to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}, {'number': 6, 'created': '2020-07-27 19:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05bb3fe2b0865bd054522964a48dfb4922581761', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron and cinder clients set the default\nvalue to 3.\nTo align the default value for retry to other components, we\nshould change the default value to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}, {'number': 7, 'created': '2020-08-20 00:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4a477d1175e99055fb9d4bb38a543c5bbfed189', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron and cinder clients set the default\nvalue to 3.\nTo align the default value for retry to other components, we\nshould change the default value to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}, {'number': 8, 'created': '2020-08-26 07:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef5538750dc858d943302bb7fb1425444aba06f8', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron and cinder clients set the default\nvalue to 3.\nTo align the default value for retry to other components, we\nshould change the default value to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}, {'number': 9, 'created': '2020-08-26 18:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1451caa13ed97aeaee33420ff9cea6d7e14bd077', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron and cinder clients set the default\nvalue to 3.\nTo align the default value for retry to other components, we\nshould change the default value to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}, {'number': 10, 'created': '2020-08-27 20:16:56.000000000', 'files': ['releasenotes/notes/increase_glance_num_retries-ddfcd7053631882b.yaml', 'nova/conf/glance.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/662af9fab6eacb46bcaee38d076d33c2c0f82b9b', 'message': 'Change default num_retries for glance to 3\n\nPreviously, the default value of num_retries for glance is 0.\nIt means that the request to glance is sent only one time.\nOn the other hand, neutron and cinder clients set the default\nvalue to 3.\nTo align the default value for retry to other components, we\nshould change the default value to 3.\n\nCloses-Bug: #1888168\nChange-Id: Ibbd4bd26408328b9e1a1128b3794721405631193\n'}]",10,740389,662af9fab6eacb46bcaee38d076d33c2c0f82b9b,195,17,10,25613,,,0,"Change default num_retries for glance to 3

Previously, the default value of num_retries for glance is 0.
It means that the request to glance is sent only one time.
On the other hand, neutron and cinder clients set the default
value to 3.
To align the default value for retry to other components, we
should change the default value to 3.

Closes-Bug: #1888168
Change-Id: Ibbd4bd26408328b9e1a1128b3794721405631193
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/740389/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/glance.py'],1,07d1d959a0480632c8e8a1d95183c45a76bed697,increase_glance_num_retries," default=3,"," default=0,",1,1
openstack%2Fpuppet-barbican~master~I141d2e04d290d1ad4c0f0aa426346ec00b19e928,openstack/puppet-barbican,master,I141d2e04d290d1ad4c0f0aa426346ec00b19e928,Remove redundant unit test cases,MERGED,2020-08-30 14:59:09.000000000,2020-08-31 00:49:39.000000000,2020-08-31 00:49:39.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 14:59:09.000000000', 'files': ['spec/classes/barbican_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/4d659a565f283f508c9a07d4d2cbcb5dba1526bf', 'message': 'Remove redundant unit test cases\n\nChange-Id: I141d2e04d290d1ad4c0f0aa426346ec00b19e928\n'}]",0,748864,4d659a565f283f508c9a07d4d2cbcb5dba1526bf,7,3,1,9816,,,0,"Remove redundant unit test cases

Change-Id: I141d2e04d290d1ad4c0f0aa426346ec00b19e928
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/64/748864/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_db_spec.rb'],1,4d659a565f283f508c9a07d4d2cbcb5dba1526bf,redundant-ut,, # TODO(aschultz): remove once oslo is properly used it { should contain_barbican_config('DEFAULT/sql_connection').with_value('sqlite:////var/lib/barbican/barbican.sqlite') } it { should contain_barbican_config('DEFAULT/sql_idle_timeout').with_value('<SERVICE DEFAULT>') } it { should contain_barbican_config('DEFAULT/sql_pool_size').with_value('<SERVICE DEFAULT>') } it { should contain_barbican_config('DEFAULT/sql_pool_max_overflow').with_value('<SERVICE DEFAULT>') } # TODO(aschultz) remove once oslo is properly used it { should contain_barbican_config('DEFAULT/sql_connection').with_value('mysql+pymysql://barbican:barbican@localhost/barbican').with_secret(true) } it { should contain_barbican_config('DEFAULT/sql_idle_timeout').with_value('3601') } it { should contain_barbican_config('DEFAULT/sql_pool_size').with_value('2') } it { should contain_barbican_config('DEFAULT/sql_pool_max_overflow').with_value('11') },0,12
openstack%2Fvitrage~master~I30a0ffe7f4313a88ce5b2d76a13e3e6c188690d7,openstack/vitrage,master,I30a0ffe7f4313a88ce5b2d76a13e3e6c188690d7,Add delete_outdate_alarm to aodh and ceilometer,MERGED,2020-08-30 07:07:49.000000000,2020-08-30 18:03:10.000000000,2020-08-30 18:01:59.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-30 07:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/875b3f3fb7f2ad41d121e674945074963de51cc2', 'message': 'Add delete_outdate_alarm to other alarm datasources\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I30a0ffe7f4313a88ce5b2d76a13e3e6c188690d7\n'}, {'number': 2, 'created': '2020-08-30 07:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a18a6fb6666e9f48e1eca56975b137ee816e758a', 'message': 'Add delete_outdate_alarm to alarm datasources\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I30a0ffe7f4313a88ce5b2d76a13e3e6c188690d7\n'}, {'number': 3, 'created': '2020-08-30 10:20:23.000000000', 'files': ['vitrage/datasources/ceilometer/driver.py', 'vitrage/datasources/aodh/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4382fef1d489bb616e513a122c17a75df00535c2', 'message': 'Add delete_outdate_alarm to aodh and ceilometer\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I30a0ffe7f4313a88ce5b2d76a13e3e6c188690d7\n'}]",0,748833,4382fef1d489bb616e513a122c17a75df00535c2,14,3,3,30408,,,0,"Add delete_outdate_alarm to aodh and ceilometer

In actual usage scenarios, the expired alarm data should be deleted,
so it is agreed to enable this function for the alarm data source.

Implements: blueprint add-delete-outdate-alarm
Change-Id: I30a0ffe7f4313a88ce5b2d76a13e3e6c188690d7
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/33/748833/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/doctor/driver.py', 'vitrage/datasources/ceilometer/driver.py', 'vitrage/datasources/collectd/driver.py', 'vitrage/datasources/aodh/driver.py']",4,875b3f3fb7f2ad41d121e674945074963de51cc2,bp/add-delete-outdate-alarm, @staticmethod def should_delete_outdated_entities(): return True ,,16,0
openstack%2Fmasakari-monitors~master~I0d22d615e2717f12237b8d7b1e4b1071c4497a50,openstack/masakari-monitors,master,I0d22d615e2717f12237b8d7b1e4b1071c4497a50,Fix constraints URL enforcement for lower-constraints,MERGED,2019-09-27 19:05:49.000000000,2020-08-30 17:31:59.000000000,2020-08-30 13:56:56.000000000,"[{'_account_id': 8716}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-27 19:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/20d0783e0b5057a993c50d7dac0a8495f7c194ae', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-12-10 22:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/f1f6738ad71221756ec4ec09daeaf502d4961c45', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-12-10 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/32c419b30e742b3cd654672474c8e1e8f6e4dc60', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nFixes some issues with libvirt-python that were masked by these issues.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2019-12-11 13:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/779afac1491c2d10e4ad3b4da3ade6dda49d2918', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nFixes some issues with libvirt-python that were masked by these issues.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2019-12-11 13:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5cb51c418c5c4d741e3b3421fcc94b83ecaa2b99', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nFixes some issues with libvirt-python that were masked by these issues.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 6, 'created': '2019-12-16 14:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/89315929104eeb025f67ad7c807a489ec1e90267', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nFixes some issues with libvirt-python that were masked by these issues.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 7, 'created': '2019-12-16 14:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/f320b2ecc63ba66d498b12f60b71c87d617a8356', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nFixes some issues with libvirt-python that were masked by these issues.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 8, 'created': '2020-08-30 13:34:43.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/4bc52ecf15c9a33749dcfd7ad6f21bd3f23dff1f', 'message': 'Fix constraints URL enforcement for lower-constraints\n\nDue to the upper-constraints argument being hard coded in the\ninstall_command, even jobs like lower-constraints will end up getting\nthe latest upper-constraints installed.\n\nThe correct way to handle the constraints is to separate it out into\ndeps. This allows the l-c job to properly set what constraints to use.\n\nFixes some issues with libvirt-python that were masked by these issues.\n\nChange-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,685463,4bc52ecf15c9a33749dcfd7ad6f21bd3f23dff1f,30,5,8,11904,,,0,"Fix constraints URL enforcement for lower-constraints

Due to the upper-constraints argument being hard coded in the
install_command, even jobs like lower-constraints will end up getting
the latest upper-constraints installed.

The correct way to handle the constraints is to separate it out into
deps. This allows the l-c job to properly set what constraints to use.

Fixes some issues with libvirt-python that were masked by these issues.

Change-Id: I0d22d615e2717f12237b8d7b1e4b1071c4497a50
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/63/685463/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,20d0783e0b5057a993c50d7dac0a8495f7c194ae,fix-tox,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,5,2
openstack%2Fmasakari~master~If5b0e5ce1562d631a24b1046864258d21e86e4ec,openstack/masakari,master,If5b0e5ce1562d631a24b1046864258d21e86e4ec,remove future from lower-constraints,MERGED,2020-04-30 02:04:47.000000000,2020-08-30 16:45:08.000000000,2020-08-30 15:36:51.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-30 02:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9b93456a44b47fed770ff67111590350676e4ffb', 'message': 'Remove future imports\n\nbecause py27 was dropped, so i__future__ is no longer needed.\n\nChange-Id: If5b0e5ce1562d631a24b1046864258d21e86e4ec\n'}, {'number': 2, 'created': '2020-04-30 02:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9de8d41f7cbe158527555ad6341c0a63a5c361a3', 'message': 'remove future imports\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: If5b0e5ce1562d631a24b1046864258d21e86e4ec\n'}, {'number': 3, 'created': '2020-04-30 02:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d8229b192a495dd091c3a5681c5e9b262d2c9a98', 'message': 'remove future imports\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: If5b0e5ce1562d631a24b1046864258d21e86e4ec\n'}, {'number': 4, 'created': '2020-08-30 14:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/bcc5e702c0d1fd29a0abd5c5957e80420668d0f1', 'message': 'remove future imports\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: If5b0e5ce1562d631a24b1046864258d21e86e4ec\n'}, {'number': 5, 'created': '2020-08-30 14:45:40.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/masakari/commit/112610abce26e90abb393b1374d4ebc295275a7d', 'message': 'remove future from lower-constraints\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: If5b0e5ce1562d631a24b1046864258d21e86e4ec\n'}]",0,724454,112610abce26e90abb393b1374d4ebc295275a7d,14,4,5,24501,,,0,"remove future from lower-constraints

Because py27 was dropped, so __future__ is no longer needed.

Change-Id: If5b0e5ce1562d631a24b1046864258d21e86e4ec
",git fetch https://review.opendev.org/openstack/masakari refs/changes/54/724454/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/wsgi.py', 'masakari/tests/fixtures.py']",2,9b93456a44b47fed770ff67111590350676e4ffb,,,from __future__ import absolute_import,0,3
openstack%2Fmasakari~master~Idce4821c9a85bfd2cacf692b59bdd8bfefe452f0,openstack/masakari,master,Idce4821c9a85bfd2cacf692b59bdd8bfefe452f0,Enable testing with Python 3.8,ABANDONED,2020-02-17 15:59:38.000000000,2020-08-30 16:15:04.000000000,,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2020-02-17 15:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1e81e030f54c652f18589a36e2567508686ebc08', 'message': 'Enable testing with Python 3.8\n\nUpdate tox.ini to configure environment for Python 3.8.\n\nUpdate validation test to assert correctly under Python 3.8.\n\nChange-Id: Idce4821c9a85bfd2cacf692b59bdd8bfefe452f0\nCloses-Bug: 1860265\n'}, {'number': 2, 'created': '2020-03-24 11:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/becea5ee6d9fcf9cf278baf732e2b4cded8ecdc7', 'message': 'Enable testing with Python 3.8\n\nUpdate tox.ini to configure environment for Python 3.8.\n\nUpdate validation test to assert correctly under Python 3.8.\n\nChange-Id: Idce4821c9a85bfd2cacf692b59bdd8bfefe452f0\nCloses-Bug: 1860265\n'}, {'number': 3, 'created': '2020-05-13 12:33:23.000000000', 'files': ['masakari/tests/unit/test_api_validation.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/5f7114db0b00bca0ff042ff028f2df27ce26f04a', 'message': 'Enable testing with Python 3.8\n\nUpdate tox.ini to configure environment for Python 3.8.\n\nUpdate validation test to assert correctly under Python 3.8.\n\nChange-Id: Idce4821c9a85bfd2cacf692b59bdd8bfefe452f0\nCloses-Bug: 1860265\n'}]",1,708203,5f7114db0b00bca0ff042ff028f2df27ce26f04a,11,3,3,935,,,0,"Enable testing with Python 3.8

Update tox.ini to configure environment for Python 3.8.

Update validation test to assert correctly under Python 3.8.

Change-Id: Idce4821c9a85bfd2cacf692b59bdd8bfefe452f0
Closes-Bug: 1860265
",git fetch https://review.opendev.org/openstack/masakari refs/changes/03/708203/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/test_api_validation.py', 'tox.ini']",2,1e81e030f54c652f18589a36e2567508686ebc08,bug/1860265,[testenv:py38] basepython = python3.8 commands = {[testenv]commands} stestr run {posargs} ,,7,1
openstack%2Fmasakari~master~I16e5c18670a50cacd493252b8d12ef35bcfc48f5,openstack/masakari,master,I16e5c18670a50cacd493252b8d12ef35bcfc48f5,Add definition file and job file for Zuul v3,ABANDONED,2017-12-11 02:54:15.000000000,2020-08-30 16:05:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2017-12-11 02:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/67b22fca5d5244f4536966677629fa1d7f76f6af', 'message': 'Add definition file and job file for zuul v3.\n\nThis patch add definition file and job file for zuul v3.\n\nThere are two way to run test jobs for zuul.\nPost a patch set to gerrit.\nPost comment ""recheck masakari-integration-ci"" to gerrit.\n\nChange-Id: I16e5c18670a50cacd493252b8d12ef35bcfc48f5\n'}, {'number': 2, 'created': '2017-12-11 02:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3849acc894f2d8815f86ddea1fc13602107a89ad', 'message': 'Add definition file and job file for Zuul v3\n\nThis patch add definition file and job file for zuul v3.\n\nThere are two way to run test jobs for zuul.\nPost a patch set to gerrit.\nPost comment ""recheck masakari-integration-ci"" to gerrit.\n\nChange-Id: I16e5c18670a50cacd493252b8d12ef35bcfc48f5\n'}, {'number': 3, 'created': '2017-12-11 05:04:37.000000000', 'files': ['playbooks/masakari-project.yaml', 'playbooks/send_job.sh.j2', '.zuul.yaml', 'playbooks/template_job.sh.j2'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6bd149981320c114419ca4d0f3e247d83cf95f6a', 'message': 'Add definition file and job file for Zuul v3\n\nThis patch add definition file and job file for zuul v3.\n\nThere are two way to run test jobs for zuul.\nPost a patch set to gerrit.\nPost comment ""recheck masakari-integration-ci"" to gerrit.\n\nChange-Id: I16e5c18670a50cacd493252b8d12ef35bcfc48f5\n'}]",1,526974,6bd149981320c114419ca4d0f3e247d83cf95f6a,11,2,3,23754,,,0,"Add definition file and job file for Zuul v3

This patch add definition file and job file for zuul v3.

There are two way to run test jobs for zuul.
Post a patch set to gerrit.
Post comment ""recheck masakari-integration-ci"" to gerrit.

Change-Id: I16e5c18670a50cacd493252b8d12ef35bcfc48f5
",git fetch https://review.opendev.org/openstack/masakari refs/changes/74/526974/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/masakari-project.yaml', 'playbooks/send_job.sh.j2', '.zuul.yaml', 'playbooks/template_job.sh.j2']",4,67b22fca5d5244f4536966677629fa1d7f76f6af,support_for_zuulv3,"#!/bin/bash -x # load config . ./testenv # define constants MASAKARI_GIT_URL=git://git.openstack.org/openstack/masakari DEVSTACK_GIT_URL=git://git.openstack.org/openstack-dev/devstack.git CONSOLE_LOG=$HOME_DIR/console.log DEVSTACK_LOGS=/opt/stack/logs # check zuul parameters if [ -z ""{{ zuul_ref }}"" ]; then echo ""Zuul parameter zuul_ref is none."" >> $CONSOLE_LOG exit 1 fi if [ -z ""{{ zuul_change }}"" ]; then echo ""Zuul parameter zuul_change is none."" >> $CONSOLE_LOG exit 1 fi if [ -z ""{{ zuul_patchset }}"" ]; then echo ""Zuul parameter zuul_patchset is none."" >> $CONSOLE_LOG exit 1 fi # set environment values REFS=`echo $ZUUL_CHANGES | awk -F: '{print $(NF);}'` ZUUL_REF={{ zuul_ref }} ZUUL_CHANGE={{ zuul_change }} ZUUL_PATCHSET={{ zuul_patchset }} ZUUL_CHANGE_TAIL=${ZUUL_CHANGE:(-2)} REFS=""$ZUUL_REF/$ZUUL_CHANGE_TAIL/$ZUUL_CHANGE/$ZUUL_PATCHSET"" echo ""refs = $REFS"" >> $CONSOLE_LOG CHANGE_DIR=$HOME_DIR/$ZUUL_CHANGE PATCHSET_DIR=$CHANGE_DIR/$ZUUL_PATCHSET DATE=`date +%Y%m%d%H%M%S` DATE_DIR=$PATCHSET_DIR/$DATE DATE_OPENSTACK_DIR=$DATE_DIR/openstack MASAKARI_CONF_DIR=/etc/masakari mkdir -p $DATE_DIR mkdir -p $DATE_OPENSTACK_DIR echo ""$DATE"" > $HOME_DIR/date.txt # get environment values NODE_IP=`/sbin/ip -f inet -o addr show ens3 | awk '( $2 == ""ens3"" ) {print $4}' | cut -d/ -f 1` # set systemd log to /var/log/journal sudo mkdir -p /var/log/journal sudo systemctl restart systemd-journald sleep 20 #################################################### # launch masakari with devstack #################################################### # download devstack export DEVSTACK_DIR=$HOME_DIR/devstack git clone $DEVSTACK_GIT_URL $DEVSTACK_DIR # set http buffer size git config --global http.postBuffer 524288000 git config --global core.compression 0 # set local.conf # TODO set timeout for noVNC git clone sed -e ""/^LOG_COLOR.*/a GIT_TIMEOUT=3600"" $HOME_DIR/local.conf.ct.org > $HOME_DIR/local.conf.ct1 # set etcd download target sed -e ""/^LOG_COLOR.*/a ETCD_DOWNLOAD_URL=$ETCD_DOWNLOAD_URL"" $HOME_DIR/local.conf.ct1 > $HOME_DIR/local.conf.ct2 # set CT node IP address for local.conf HOST_IP sed -e ""s/__CT_HOST_IP__/$NODE_IP/g"" $HOME_DIR/local.conf.ct2 > $HOME_DIR/local.conf.ct3 sed -e ""/^\[\[local\|localrc\]\]$/a enable_plugin masakari $MASAKARI_GIT_URL $REFS"" $HOME_DIR/local.conf.ct3 > $DEVSTACK_DIR/local.conf # launch devstack and install masakari echo ""stack.sh start."" >> $CONSOLE_LOG cd $DEVSTACK_DIR ./stack.sh || RET_DEVSTACK=$? if [ -z ""$RET_DEVSTACK"" ]; then echo ""stack.sh is valid."" >> $CONSOLE_LOG else if [ $RET_DEVSTACK -eq 0 ]; then echo ""stack.sh is valid."" >> $CONSOLE_LOG else echo ""stack.sh is invalid. return code : $RET_DEVSTACK"" >> $CONSOLE_LOG # send error result for log server cp -rp $DEVSTACK_LOGS/* $DATE_DIR/ cp -p $CONSOLE_LOG $DATE_DIR/ # send other log, config, local.conf, dpkg-l # dpkg dpkg -l > $DATE_DIR/dpkg-l.txt # local.conf cp -p $DEVSTACK_DIR/local.conf $DATE_DIR/local.conf # clean symbolic link find $CHANGE_DIR -type l | xargs rm exit 1 fi fi sleep 30 # check masakari processes ps -ef | grep masakari-engin[e] || RET_ENGINE=$? if [ -z ""$RET_ENGINE"" ]; then echo ""masakari-engine is valid."" >> $CONSOLE_LOG RET_ENGINE=0 else if [ $RET_ENGINE -eq 0 ]; then echo ""masakari-engine is valid."" >> $CONSOLE_LOG else echo ""masakari-engine is invalid. return code : $RET_ENGINE"" >> $CONSOLE_LOG fi fi ps -ef | grep masakari-ap[i] || RET_API=$? if [ -z ""$RET_API"" ]; then echo ""masakari-api is valid."" >> $CONSOLE_LOG RET_API=0 else if [ $RET_API -eq 0 ]; then echo ""masakari-api is valid."" >> $CONSOLE_LOG else echo ""masakari-api is invalid. return code : $RET_API"" >> $CONSOLE_LOG fi fi # masakari process check if [ $RET_ENGINE -eq 0 -a $RET_API -eq 0 ]; then echo ""masakari process is valid."" >> $CONSOLE_LOG else echo ""masakari process is invalid."" >> $CONSOLE_LOG fi #--------------------------------------------------- # send result for log server cp -rp $DEVSTACK_LOGS/* $DATE_DIR/ cp -p $CONSOLE_LOG $DATE_DIR/ # systemd devstack logs journalctl --no-pager -u devstack@c-api > $DATE_OPENSTACK_DIR/c-api.log journalctl --no-pager -u devstack@c-sch > $DATE_OPENSTACK_DIR/c-sch.log journalctl --no-pager -u devstack@c-vol > $DATE_OPENSTACK_DIR/c-vol.log journalctl --no-pager -u devstack@dstat > $DATE_OPENSTACK_DIR/dstat.log journalctl --no-pager -u devstack@g-api > $DATE_OPENSTACK_DIR/g-api.log journalctl --no-pager -u devstack@g-reg > $DATE_OPENSTACK_DIR/g-reg.log journalctl --no-pager -u devstack@keystone > $DATE_OPENSTACK_DIR/keystone.log journalctl --no-pager -u devstack@masakari-api > $DATE_OPENSTACK_DIR/masakari-api.log journalctl --no-pager -u devstack@masakari-engine > $DATE_OPENSTACK_DIR/masakari-engine.log journalctl --no-pager -u devstack@n-api > $DATE_OPENSTACK_DIR/n-api.log journalctl --no-pager -u devstack@n-cauth > $DATE_OPENSTACK_DIR/n-cauth.log journalctl --no-pager -u devstack@n-cond > $DATE_OPENSTACK_DIR/n-cond.log journalctl --no-pager -u devstack@n-cpu > $DATE_OPENSTACK_DIR/n-cpu.log journalctl --no-pager -u devstack@n-novnc > $DATE_OPENSTACK_DIR/n-novnc.log journalctl --no-pager -u devstack@n-sch > $DATE_OPENSTACK_DIR/n-sch.log journalctl --no-pager -u devstack@placement-api > $DATE_OPENSTACK_DIR/placement-api.log journalctl --no-pager -u devstack@q-agt > $DATE_OPENSTACK_DIR/q-agt.log journalctl --no-pager -u devstack@q-dhcp > $DATE_OPENSTACK_DIR/q-dhcp.log journalctl --no-pager -u devstack@q-l3 > $DATE_OPENSTACK_DIR/q-l3.log journalctl --no-pager -u devstack@q-meta > $DATE_OPENSTACK_DIR/q-meta.log journalctl --no-pager -u devstack@q-svc > $DATE_OPENSTACK_DIR/q-svc.log # DB data dump mysqldump -uroot -popenstack -hlocalhost masakari > $DATE_DIR/db.log # summary ERROR grep -r ""ERROR"" $DATE_DIR/ > $HOME_DIR/error_summary.log mv $HOME_DIR/error_summary.log $DATE_DIR/ # dpkg dpkg -l > $DATE_DIR/dpkg-l.txt # config sudo cp -rp $MASAKARI_CONF_DIR $DATE_DIR/etc/ sudo cp -rp /etc/nova $DATE_DIR/etc/ sudo cp -rp /etc/neutron $DATE_DIR/etc/ sudo cp -rp /etc/cinder $DATE_DIR/etc/ sudo cp -rp /etc/glance $DATE_DIR/etc/ sudo cp -rp /etc/keystone $DATE_DIR/etc/ sudo chown -R $USER:$USER $DATE_DIR/etc cp -p $DEVSTACK_DIR/local.conf $DATE_DIR/local.conf # clean symbolic link find $CHANGE_DIR -type l | xargs rm # return result if [ $RET_ENGINE -eq 0 -a $RET_API -eq 0 ]; then exit 0 else exit 1 fi ",,321,0
openstack%2Fmasakari~master~I3f41a1903794a56c183c4181324489856b2b4209,openstack/masakari,master,I3f41a1903794a56c183c4181324489856b2b4209,Switch to Ussuri jobs,ABANDONED,2019-10-23 07:53:20.000000000,2020-08-30 16:02:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2019-10-23 07:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/51ef866bd3486e9607af3740013358aa9171ac18', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I3f41a1903794a56c183c4181324489856b2b4209\n'}, {'number': 2, 'created': '2019-12-25 09:21:31.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a091927766b19d3e98cf5c00dbf808b97850c706', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I3f41a1903794a56c183c4181324489856b2b4209\n'}]",0,690493,a091927766b19d3e98cf5c00dbf808b97850c706,8,3,2,27822,,,0,"Switch to Ussuri jobs

Change-Id: I3f41a1903794a56c183c4181324489856b2b4209
",git fetch https://review.opendev.org/openstack/masakari refs/changes/93/690493/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,51ef866bd3486e9607af3740013358aa9171ac18,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fglance_store~master~If5447c3f5b4f678943273c2bdb2e44cd25d5b226,openstack/glance_store,master,If5447c3f5b4f678943273c2bdb2e44cd25d5b226,Drop snapshot in use log from ERROR to WARN,MERGED,2020-08-28 17:15:40.000000000,2020-08-30 15:14:35.000000000,2020-08-28 20:40:21.000000000,"[{'_account_id': 4393}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 17:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ad5dcfca9b4b79fc441337b8244bc5b99d44d3b7', 'message': ""Drop snapshot in use log from ERROR to WARN\n\nThis message is not actually an error inside the system for most of the\ntime.  The primary reason behind this is that it is possible that there\nare VMs using this image and therefore it can't be deleted, the operator\nhas no actionable thing to do about this.\n\nFor those who are monitoring ERROR level messages and alerting on them,\nthis is noisy and not actionable, drop this error message to warning.\n\nChange-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226\n""}, {'number': 2, 'created': '2020-08-28 17:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/135a97a71a7351acbd44f0d9619598bdb06a47c2', 'message': ""Drop snapshot in use log from ERROR to WARN\n\nThis message is not actually an error inside the system for most of the\ntime.  The primary reason behind this is that it is possible that there\nare VMs using this image and therefore it can't be deleted, the operator\nhas no actionable thing to do about this.\n\nFor those who are monitoring ERROR level messages and alerting on them,\nthis is noisy and not actionable, drop this error message to warning.\n\nChange-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226\n""}, {'number': 3, 'created': '2020-08-28 17:26:49.000000000', 'files': ['glance_store/_drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a', 'message': ""Drop snapshot in use log from ERROR to WARN\n\nThis message is not actually an error inside the system for most of the\ntime.  The primary reason behind this is that it is possible that there\nare VMs using this image and therefore it can't be deleted, the operator\nhas no actionable thing to do about this.\n\nFor those who are monitoring ERROR level messages and alerting on them,\nthis is noisy and not actionable, drop this error message to warning.\n\nChange-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226\n""}]",0,748723,5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a,11,3,3,1004,,,0,"Drop snapshot in use log from ERROR to WARN

This message is not actually an error inside the system for most of the
time.  The primary reason behind this is that it is possible that there
are VMs using this image and therefore it can't be deleted, the operator
has no actionable thing to do about this.

For those who are monitoring ERROR level messages and alerting on them,
this is noisy and not actionable, drop this error message to warning.

Change-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/23/748723/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/rbd.py'],1,ad5dcfca9b4b79fc441337b8244bc5b99d44d3b7,drop-error-level, LOG.warning(log_msg), LOG.error(log_msg),1,1
openstack%2Fpython-masakariclient~master~I50441c59c98fa0e0831dc81d7267335b503e0f4c,openstack/python-masakariclient,master,I50441c59c98fa0e0831dc81d7267335b503e0f4c,remove future from lower-constraints,MERGED,2020-04-30 02:11:16.000000000,2020-08-30 14:58:50.000000000,2020-08-30 14:57:49.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-30 02:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/5af97ba7134756370841ee4acdffad305e0b251e', 'message': 'remove future import\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: I50441c59c98fa0e0831dc81d7267335b503e0f4c\n'}, {'number': 2, 'created': '2020-04-30 02:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/7faf3e51c11e848847eea13419811eee6b4ee2eb', 'message': 'remove future import\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: I50441c59c98fa0e0831dc81d7267335b503e0f4c\n'}, {'number': 3, 'created': '2020-08-30 14:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/906ece2bae43f62f37dc239318df319e4b063a71', 'message': 'remove future import\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: I50441c59c98fa0e0831dc81d7267335b503e0f4c\n'}, {'number': 4, 'created': '2020-08-30 14:42:53.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/a1a85684c6406600666582566e412a74ce17d220', 'message': 'remove future from lower-constraints\n\nBecause py27 was dropped, so __future__ is no longer needed.\n\nChange-Id: I50441c59c98fa0e0831dc81d7267335b503e0f4c\n'}]",0,724455,a1a85684c6406600666582566e412a74ce17d220,13,3,4,24501,,,0,"remove future from lower-constraints

Because py27 was dropped, so __future__ is no longer needed.

Change-Id: I50441c59c98fa0e0831dc81d7267335b503e0f4c
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/55/724455/4 && git format-patch -1 --stdout FETCH_HEAD,['masakariclient/shell.py'],1,5af97ba7134756370841ee4acdffad305e0b251e,,,from __future__ import print_function ,0,2
openstack%2Fpython-troveclient~master~I9b142a9de74baa0b23d56d55d9bc722223902a1d,openstack/python-troveclient,master,I9b142a9de74baa0b23d56d55d9bc722223902a1d,Use importlib to take place of imp module,NEW,2020-08-30 14:43:11.000000000,2020-08-30 14:51:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-30 14:43:11.000000000', 'files': ['troveclient/tests/test_discover.py', 'troveclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/6f9cc3be9e447a3c854f0365c5424d3f003d2572', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html\n\nChange-Id: I9b142a9de74baa0b23d56d55d9bc722223902a1d\n'}]",0,748861,6f9cc3be9e447a3c854f0365c5424d3f003d2572,2,1,1,32067,,,0,"Use importlib to take place of imp module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html

Change-Id: I9b142a9de74baa0b23d56d55d9bc722223902a1d
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/61/748861/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/test_discover.py', 'troveclient/shell.py']",2,6f9cc3be9e447a3c854f0365c5424d3f003d2572,,"import importlib def _load_module(self, name, path): module_spec = importlib.util.spec_from_file_location( name, path ) module = importlib.util.module_from_spec(module_spec) module_spec.loader.exec_module(module) return module module = self._load_module(name, ext_path)","import imp module = imp.load_source(name, ext_path)",15,7
openstack%2Fpython-troveclient~master~Ic65830578bc529c68b6beed8978c7d08363edfa4,openstack/python-troveclient,master,Ic65830578bc529c68b6beed8978c7d08363edfa4,Use importlib to take place of im module,ABANDONED,2020-08-29 17:00:13.000000000,2020-08-30 14:49:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-29 17:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ff6ea1768749823367d4b714599501295b3756d6', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ic65830578bc529c68b6beed8978c7d08363edfa4\n'}, {'number': 2, 'created': '2020-08-30 11:06:33.000000000', 'files': ['troveclient/tests/test_discover.py', 'troveclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/5b96091b9d78329eb095e01a743c4e55c6a1685f', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ic65830578bc529c68b6beed8978c7d08363edfa4\n'}]",3,748817,5b96091b9d78329eb095e01a743c4e55c6a1685f,7,1,2,30356,,,0,"Use importlib to take place of im module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html#imp.reload

Change-Id: Ic65830578bc529c68b6beed8978c7d08363edfa4
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/17/748817/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/test_discover.py', 'troveclient/shell.py']",2,ff6ea1768749823367d4b714599501295b3756d6,,import importlib module = importlib.load_module(ext_path),"import imp module = imp.load_source(name, ext_path)",4,4
openstack%2Fpython-masakariclient~master~I684ac9b6c76b2fcdd432c02a951217c6e5721b68,openstack/python-masakariclient,master,I684ac9b6c76b2fcdd432c02a951217c6e5721b68,Switch to Ussuri jobs,ABANDONED,2019-10-22 06:13:44.000000000,2020-08-30 14:41:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-22 06:13:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/c93d57c51dd672a8c3bd52aad71ee538e3df211e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I684ac9b6c76b2fcdd432c02a951217c6e5721b68\n'}]",0,689963,c93d57c51dd672a8c3bd52aad71ee538e3df211e,3,1,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I684ac9b6c76b2fcdd432c02a951217c6e5721b68
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/63/689963/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c93d57c51dd672a8c3bd52aad71ee538e3df211e,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fpython-masakariclient~master~Ib1be981f7342ffcdde9b9cff065fa1a72f9d770c,openstack/python-masakariclient,master,Ib1be981f7342ffcdde9b9cff065fa1a72f9d770c,Switch to official Ussuri jobs,ABANDONED,2019-11-20 09:45:28.000000000,2020-08-30 14:41:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-20 09:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/b3338a623b2581cffab25745d6e79d08533c64b4', 'message': 'openstack-python3-ussuri-jobs\n\nChange-Id: Ib1be981f7342ffcdde9b9cff065fa1a72f9d770c\n'}, {'number': 2, 'created': '2019-11-20 09:48:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/d3d4c42bd9db910cbe1db8c893db48c4ab7e74dc', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: Ib1be981f7342ffcdde9b9cff065fa1a72f9d770c\n'}]",0,695158,d3d4c42bd9db910cbe1db8c893db48c4ab7e74dc,4,1,2,24061,,,0,"Switch to official Ussuri jobs

Change-Id: Ib1be981f7342ffcdde9b9cff065fa1a72f9d770c
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/58/695158/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b3338a623b2581cffab25745d6e79d08533c64b4,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fec2-api~master~I7da97be7403617e1460ae179f7e62dcfa47cdf09,openstack/ec2-api,master,I7da97be7403617e1460ae179f7e62dcfa47cdf09,Use importlib to take place of imp module,MERGED,2020-08-30 11:46:22.000000000,2020-08-30 14:33:38.000000000,2020-08-30 14:32:22.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 11:46:22.000000000', 'files': ['ec2api/tests/unit/test_context.py', 'ec2api/tests/unit/test_clients.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b27e70a7da3a8bdf43d5a8eba58e8e872fe722cd', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I7da97be7403617e1460ae179f7e62dcfa47cdf09\n'}]",0,748850,b27e70a7da3a8bdf43d5a8eba58e8e872fe722cd,7,2,1,32067,,,0,"Use importlib to take place of imp module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html#imp.reload

Change-Id: I7da97be7403617e1460ae179f7e62dcfa47cdf09
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/50/748850/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/unit/test_context.py', 'ec2api/tests/unit/test_clients.py']",2,b27e70a7da3a8bdf43d5a8eba58e8e872fe722cd,,import importlib importlib.reload(clients),import imp imp.reload(clients),4,4
openstack%2Fopenstack-ansible-plugins~master~I3121e6deaacbe9a9add9b9abe7cda6c79deb402a,openstack/openstack-ansible-plugins,master,I3121e6deaacbe9a9add9b9abe7cda6c79deb402a,Use importlib to take place of im module,ABANDONED,2020-08-29 16:55:34.000000000,2020-08-30 14:26:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-29 16:55:34.000000000', 'files': ['strategy/linear.py', 'connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/1747ab727f76bfe0be21b3696d5776fac96e7f4d', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I3121e6deaacbe9a9add9b9abe7cda6c79deb402a\n'}]",1,748816,1747ab727f76bfe0be21b3696d5776fac96e7f4d,4,2,1,30356,,,0,"Use importlib to take place of im module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html#imp.reload

Change-Id: I3121e6deaacbe9a9add9b9abe7cda6c79deb402a
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/16/748816/1 && git format-patch -1 --stdout FETCH_HEAD,"['strategy/linear.py', 'connection/ssh.py']",2,1747ab727f76bfe0be21b3696d5776fac96e7f4d,,import importlibSSH = importlib.load_module(,"import impSSH = imp.load_source( 'ssh',",4,6
openstack%2Fmasakari-monitors~master~I8e8fe62b6941f61f4ce261049781b0e41b57e7ed,openstack/masakari-monitors,master,I8e8fe62b6941f61f4ce261049781b0e41b57e7ed,Update the constraints url,ABANDONED,2019-09-25 06:41:00.000000000,2020-08-30 13:53:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-25 06:41:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2ac6ed0bffd97eebbf42839684a0f8a4e5ba3a52', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I8e8fe62b6941f61f4ce261049781b0e41b57e7ed\n'}]",0,684525,2ac6ed0bffd97eebbf42839684a0f8a4e5ba3a52,3,1,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I8e8fe62b6941f61f4ce261049781b0e41b57e7ed
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/25/684525/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ac6ed0bffd97eebbf42839684a0f8a4e5ba3a52,constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fbifrost~stable%2Ftrain~Ib20cee97ac51c4a3430365ec25773be7f4f5ba4b,openstack/bifrost,stable/train,Ib20cee97ac51c4a3430365ec25773be7f4f5ba4b,[Train and older] install six explicitly,ABANDONED,2020-08-30 13:15:23.000000000,2020-08-30 13:30:19.000000000,,[],"[{'number': 1, 'created': '2020-08-30 13:15:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/baf00227f08df8f6d448303c0b22c1e29405c644', 'message': ""[Train and older] install six explicitly\n\nOur scripts seem to rely on it, and it's no longer pulled in.\n\nChange-Id: Ib20cee97ac51c4a3430365ec25773be7f4f5ba4b\n""}]",0,748855,baf00227f08df8f6d448303c0b22c1e29405c644,2,0,1,10239,,,0,"[Train and older] install six explicitly

Our scripts seem to rely on it, and it's no longer pulled in.

Change-Id: Ib20cee97ac51c4a3430365ec25773be7f4f5ba4b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/55/748855/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,baf00227f08df8f6d448303c0b22c1e29405c644,,six>=1.11.0 # MIT,,1,0
openstack%2Fdiskimage-builder~master~Ie503fbdeafb56cd04b41a7f09c710d37e6e81209,openstack/diskimage-builder,master,Ie503fbdeafb56cd04b41a7f09c710d37e6e81209,Use importlib to take place of imp module,NEW,2020-08-29 16:50:40.000000000,2020-08-30 13:08:21.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-29 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a2e465fd51b565bf705cb6a4ed233cc5b5349fbd', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: Ie503fbdeafb56cd04b41a7f09c710d37e6e81209\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 2, 'created': '2020-08-29 17:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9e706cf2395dac015e3a5b23b54e7cdbf8f91708', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ie503fbdeafb56cd04b41a7f09c710d37e6e81209\n'}, {'number': 3, 'created': '2020-08-29 17:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/54c51ce2ab614137903fa9844f830d0c1fbcf607', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ie503fbdeafb56cd04b41a7f09c710d37e6e81209\n'}, {'number': 4, 'created': '2020-08-30 11:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4b7b2f1503c3e1a37827d2257074caba86784251', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: Ie503fbdeafb56cd04b41a7f09c710d37e6e81209\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 5, 'created': '2020-08-30 11:39:31.000000000', 'files': ['diskimage_builder/elements/svc-map/tests/test_data_merge.py', 'diskimage_builder/elements/package-installs/tests/test_package_squash.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6ade43520853a16227623c81ab8a3b39d8a0f512', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html\n\nChange-Id: Ie503fbdeafb56cd04b41a7f09c710d37e6e81209\n'}]",0,748814,6ade43520853a16227623c81ab8a3b39d8a0f512,17,3,5,30356,,,0,"Use importlib to take place of imp module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html

Change-Id: Ie503fbdeafb56cd04b41a7f09c710d37e6e81209
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/14/748814/5 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/svc-map/tests/test_data_merge.py', 'diskimage_builder/elements/package-installs/tests/test_package_squash.py']",2,a2e465fd51b565bf705cb6a4ed233cc5b5349fbd,,import importlib installs_squash = importlib.load_module(installs_squash_src),"import impinstalls_squash = imp.load_source('installs_squash', installs_squash_src)",6,4
openstack%2Fnova~master~I95203af4ded9a4dbecfb7981b400f0fb988f2d47,openstack/nova,master,I95203af4ded9a4dbecfb7981b400f0fb988f2d47,QEMU/KVM: accept vmxnet3 NIC,MERGED,2020-06-30 20:52:23.000000000,2020-08-30 12:57:45.000000000,2020-08-30 12:55:42.000000000,"[{'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9268}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-30 20:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0128aa4774b88f8ad7fd6f16e1d92925535ea69d', 'message': 'QEMU/KVM: accept vmxnet3 NIC\n\nAdd the ability to use ``vmxnet3`` NIC on a host using the QEMU/KVM driver.\nQemu supports the driver since version 1.5, and Libvirt can expose it\nproperly.\n\nChange-Id: I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n'}, {'number': 2, 'created': '2020-06-30 20:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad1f70ae73b6bc9bcc1ac68a4b3174e10bc063da', 'message': 'QEMU/KVM: accept vmxnet3 NIC\n\nAdd the ability to use vmxnet3 NIC on a host using the QEMU/KVM driver.\nQemu supports the driver since version 1.5, and Libvirt can expose it\nproperly.\n\nChange-Id: I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n'}, {'number': 3, 'created': '2020-07-01 01:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0047c89f6989f6b5111981a70a1c56334d53a6c2', 'message': 'QEMU/KVM: accept vmxnet3 NIC\n\nAdd the ability to use vmxnet3 NIC on a host using the QEMU/KVM driver.\nQemu supports the driver since version 1.5, and Libvirt can expose it\nproperly.\n\nChange-Id: I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n'}, {'number': 4, 'created': '2020-07-22 18:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de3edfa745019c976e8aa3ea4837c584f5c5a8ff', 'message': 'QEMU/KVM: accept vmxnet3 NIC\n\nAdd the ability to use vmxnet3 NIC on a host using the QEMU/KVM driver.\nQemu supports the driver since version 1.5, and Libvirt can expose it\nproperly.\n\nThis allow the migration of an ESXi VM to QEMU/KVM, this without any driver changes.\nvmxnet3 comes with better performance, and lower latency comparing to an emulated\ndriver like e1000.\n\nChange-Id: I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n'}, {'number': 5, 'created': '2020-07-22 18:41:20.000000000', 'files': ['nova/virt/libvirt/vif.py', 'releasenotes/notes/qemu-accept-vmxnet3-nic.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ba8f40134bf1f4dcb179a102cde1eea63f92aae', 'message': 'QEMU/KVM: accept vmxnet3 NIC\n\nAdd the ability to use vmxnet3 NIC on a host using the QEMU/KVM driver.\nQemu supports the driver since version 1.5, and Libvirt can expose it\nproperly.\n\nThis allow the migration of an ESXi VM to QEMU/KVM, this without any driver changes.\nvmxnet3 comes with better performance, and lower latency comparing to an emulated\ndriver like e1000.\n\nChange-Id: I95203af4ded9a4dbecfb7981b400f0fb988f2d47\n'}]",12,738695,7ba8f40134bf1f4dcb179a102cde1eea63f92aae,83,15,5,9268,,,0,"QEMU/KVM: accept vmxnet3 NIC

Add the ability to use vmxnet3 NIC on a host using the QEMU/KVM driver.
Qemu supports the driver since version 1.5, and Libvirt can expose it
properly.

This allow the migration of an ESXi VM to QEMU/KVM, this without any driver changes.
vmxnet3 comes with better performance, and lower latency comparing to an emulated
driver like e1000.

Change-Id: I95203af4ded9a4dbecfb7981b400f0fb988f2d47
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/738695/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'releasenotes/notes/qemu-accept-vmxnet3-nic.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py']",3,0128aa4774b88f8ad7fd6f16e1d92925535ea69d,," network_model.VIF_MODEL_SPAPR_VLAN, network_model.VIF_MODEL_VMXNET3,) network_model.VIF_MODEL_SPAPR_VLAN, network_model.VIF_MODEL_VMXNET3,)", network_model.VIF_MODEL_SPAPR_VLAN) network_model.VIF_MODEL_SPAPR_VLAN),12,4
openstack%2Fec2-api~master~I754f16631dfc7835b419613fdf53f762657f2bd8,openstack/ec2-api,master,I754f16631dfc7835b419613fdf53f762657f2bd8,Use importlib to take place of imp module,ABANDONED,2020-08-29 16:44:20.000000000,2020-08-30 11:46:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-29 16:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c9d1d6134a6c872163de9d8ebe197228a002ee7f', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: I754f16631dfc7835b419613fdf53f762657f2bd8\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 2, 'created': '2020-08-29 17:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a4ef160d00267b28779d1421a25ea22eedccd910', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I754f16631dfc7835b419613fdf53f762657f2bd8\n'}, {'number': 3, 'created': '2020-08-30 11:24:42.000000000', 'files': ['ec2api/tests/unit/test_context.py', 'ec2api/tests/unit/test_clients.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c21fd23f375060755358928278656cece33494a4', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I754f16631dfc7835b419613fdf53f762657f2bd8\n'}]",0,748813,c21fd23f375060755358928278656cece33494a4,6,1,3,30356,,,0,"Use importlib to take place of imp module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html#imp.reload

Change-Id: I754f16631dfc7835b419613fdf53f762657f2bd8
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/13/748813/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/unit/test_context.py', 'ec2api/tests/unit/test_clients.py']",2,c9d1d6134a6c872163de9d8ebe197228a002ee7f,,import importlib importlib.reload(clients),import imp imp.reload(clients),4,4
openstack%2Ftacker~master~Id5a0aa68ba39b2d2f26bf10b799c0a89d65f49d7,openstack/tacker,master,Id5a0aa68ba39b2d2f26bf10b799c0a89d65f49d7,[WIP] Add ActionDriver and update MgmtDriver,ABANDONED,2020-08-12 11:14:34.000000000,2020-08-30 11:46:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2020-08-12 11:14:34.000000000', 'files': ['tacker/vnfm/action_drivers/exceptions.py', 'tacker/vnfm/mgmt_drivers/executor.py', 'tacker/vnfm/mgmt_drivers/exceptions.py', 'tacker/vnfm/action_drivers/abstract_driver.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/mgmt_drivers/noop.py', 'tacker/vnfm/mgmt_drivers/abstract_driver.py', 'tacker/conductor/conductor_server.py', 'tacker/vnfm/action_drivers/executor.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/13110bb3dfa06bf4150b435bc26c782e847be200', 'message': '[WIP] Add ActionDriver and update MgmtDriver\n\nDone\n* Add ActionDriver files\n* Add MgmtDriver executor\n* Call MgmtDriver executor from conductor_server\n* Read implementation from VNFD\n\nNot yet\n* Call ActionDriver executor from VnfLCMDirver\n* Unit test\n\nChange-Id: Id5a0aa68ba39b2d2f26bf10b799c0a89d65f49d7\n'}]",0,745833,13110bb3dfa06bf4150b435bc26c782e847be200,3,2,1,17255,,,0,"[WIP] Add ActionDriver and update MgmtDriver

Done
* Add ActionDriver files
* Add MgmtDriver executor
* Call MgmtDriver executor from conductor_server
* Read implementation from VNFD

Not yet
* Call ActionDriver executor from VnfLCMDirver
* Unit test

Change-Id: Id5a0aa68ba39b2d2f26bf10b799c0a89d65f49d7
",git fetch https://review.opendev.org/openstack/tacker refs/changes/33/745833/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/action_drivers/exceptions.py', 'tacker/vnfm/mgmt_drivers/executor.py', 'tacker/vnfm/mgmt_drivers/exceptions.py', 'tacker/vnfm/action_drivers/abstract_driver.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/mgmt_drivers/abstract_driver.py', 'tacker/vnfm/mgmt_drivers/noop.py', 'tacker/conductor/conductor_server.py', 'tacker/vnfm/action_drivers/executor.py']",9,13110bb3dfa06bf4150b435bc26c782e847be200,bp/action-driver,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import importlib import os from oslo_log import log as logging from tacker.common import exceptions from tacker.vnfm.action_drivers import exceptions as action_driver_exceptions LOG = logging.getLogger(__name__) DEFAULT_MODULE_PATH = './tacker/vnfm/action_drivers/' class ActionDriverExecutor(object): '''Class that defines object that executes action in an action driver''' def __init__(self, vnfd_dict, interface, default_implementation, vnf_package_path, method=None, default_path=None, default_file=None): self.vnfd_dict = vnfd_dict self.interface = interface self.default_implementation = default_implementation self.vnf_package_path = vnf_package_path self.method = method if not self.method: self.method = interface self.default_path = default_path if not default_path: self.default_path = DEFAULT_MODULE_PATH self.default_file = default_file if not default_file: self.default_file = default_implementation + '.py' LOG.debug(('ActionDriverExecutor initialized with the ff.' ' parameters:' 'vnfd_dict {}, interface {}, default_implementation {}, ' 'vnf_package_path {}, method {}, ' 'default_path {}, default_file {}'). format(self.vnfd_dict, self.interface, self.default_implementation, self.vnf_package_path, self.method, self.default_path, self.default_file)) def _get_implementation(self, vnfd_dict, interface, default_implementation): implementation_value = None if vnfd_dict.get('topology_template'): topology_template = vnfd_dict.get('topology_template') if topology_template.get('node_templates'): node_templates = topology_template.get('node_templates') if node_templates.get('VNF'): vnf = node_templates.get('VNF') if vnf.get('interfaces'): interfaces = vnf.get('interfaces') if interfaces.get('Vnflcm'): vnflcm = interfaces.get('Vnflcm') if vnflcm.get(interface): interface_ = vnflcm.get(interface, {}) if interface_.get('implementation'): implementation_value = interface_.get( 'implementation') if not implementation_value: implementation_value = default_implementation return implementation_value def _get_action_driver_module(self, vnfd_dict, interface, vnf_package_path, default_implementation, default_path, default_file): '''Fetches action_driver module based on implementation. If implementation empty, use default_implementation ''' module = None implementation_file = None if not isinstance(vnfd_dict, dict): raise exceptions.InvalidContentType(msg=""VNFD not valid"") implementation_value = self._get_implementation(vnfd_dict, interface, default_implementation) # get file _path from artifacts for corresponding implementation if vnfd_dict.get('topology_template'): topology_template = vnfd_dict.get('topology_template') if topology_template.get('node_templates'): node_templates = topology_template.get('node_templates') if node_templates.get('VNF'): vnf = node_templates.get('VNF') if vnf.get('artifacts'): artifacts = vnf.get('artifacts') if artifacts.get(implementation_value): implementation_ = artifacts.get( implementation_value) if implementation_.get('file'): implementation_file = ( implementation_.get('file')) if not implementation_file: # use default path implementation_file = os.path.join(default_path, default_file) LOG.info('Implementation file not defined. Will use {}' .format(implementation_file)) file_module = os.path.splitext( implementation_file.lstrip('./'))[0].replace('/', '.') module = importlib.import_module(file_module) else: # use directly if absolute path, # else use vnf_package_path as base path if not os.path.isabs(implementation_file): implementation_file = os.path.join(vnf_package_path, implementation_file) LOG.info('Implementation file {} selected' .format(implementation_file)) spec = importlib.util.spec_from_file_location(""module.name"", implementation_file) module = importlib.util.module_from_spec(spec) spec.loader.exec_module(module) return module def execute_action(self, context, **kwargs): '''Execute action Parameters: context kwargs ''' if (not self.vnfd_dict or not self.interface or not self.default_implementation or not self.default_path or not self.vnf_package_path): raise action_driver_exceptions.ActionDriverExecutorException( 'Action driver executor not instantiated') module = self._get_action_driver_module(self.vnfd_dict, self.interface, self.vnf_package_path, self.default_implementation, self.default_path, self.default_file) if not module: raise action_driver_exceptions.ActionDriverExecutorException( 'Not able to fetch action driver module') class_name = module.get_class() LOG.info('Action Driver {} selected'.format(class_name)) action_driver_class = getattr(module, class_name) LOG.info('Executing {} in {}'.format(self.method, class_name)) return action_driver_class().action_call( context, self.method, **kwargs) ",,611,1
openstack%2Fmasakari~master~Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98,openstack/masakari,master,Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98,[Part2]Remove six,MERGED,2020-05-13 15:34:37.000000000,2020-08-30 10:37:53.000000000,2020-08-30 10:00:59.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 28614}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-13 15:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fc5cf04abc144bbbed2169a5c77de5f0569c1bcd', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 2, 'created': '2020-05-13 15:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/05cc4fbca6524e430186ae93e1d7225f38286ed7', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 3, 'created': '2020-05-14 01:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/937f75f5ac059de32c9ef3e388ef30ab48a51e06', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 4, 'created': '2020-05-14 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9adaba3f585c649973e3dad3a811aeeed2c61016', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 5, 'created': '2020-05-14 17:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0864428d4c2aed32629fd087d72d1f1804f46832', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 6, 'created': '2020-05-15 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f708b76795164992e70da2c6253c6a4ef598dd4c', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemoved import six statement from api package.\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 7, 'created': '2020-05-15 16:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3c3016271310ac6dc9bd23d3a9860c4266a48f9d', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemoved import six statement from api package.\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 8, 'created': '2020-05-16 04:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/445b79251d9b3166bff30343851a7552cde08a64', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemoved import six statement from api package.\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 9, 'created': '2020-05-18 01:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b1a3c5b1bdac582b8cd9e39b606bfbcff4191b0e', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemoved import six statement from api package.\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 10, 'created': '2020-08-30 09:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/5d3152e863cb472dce2578995c85a253c3058eda', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemoved import six statement from api package.\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}, {'number': 11, 'created': '2020-08-30 09:11:58.000000000', 'files': ['masakari/api/validation/parameter_types.py', 'masakari/api/openstack/ha/versionsV1.py', 'masakari/api/openstack/ha/versions.py', 'masakari/api/openstack/__init__.py', 'masakari/api/validation/validators.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/api/openstack/extensions.py', 'masakari/api/openstack/ha/extension_info.py', 'masakari/api/openstack/wsgi.py', 'masakari/api/openstack/common.py', 'masakari/api/urlmap.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/17daab015c9a40ad0ac73dc4f2f698d5c5ba783c', 'message': ""[Part2]Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemoved import six statement from api package.\n\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\n""}]",22,727799,17daab015c9a40ad0ac73dc4f2f698d5c5ba783c,33,11,11,28614,,,0,"[Part2]Remove six

We don't need this in a Python 3-only world.

Removed import six statement from api package.

Depends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1
Change-Id: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98
",git fetch https://review.opendev.org/openstack/masakari refs/changes/99/727799/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/api/validation/parameter_types.py', 'masakari/api/openstack/__init__.py', 'masakari/api/validation/validators.py', 'masakari/api/openstack/extensions.py', 'masakari/api/openstack/common.py', 'masakari/api/openstack/wsgi.py', 'masakari/api/urlmap.py']",7,fc5cf04abc144bbbed2169a5c77de5f0569c1bcd,remove-six,,import six,5,12
openstack%2Fmasakari~master~Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1,openstack/masakari,master,Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1,[Part1]Remove six,MERGED,2020-05-13 15:24:21.000000000,2020-08-30 10:24:16.000000000,2020-08-30 10:00:58.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-13 15:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/c8f82f8c84fd689cb21289d31f05646414e77785', 'message': ""[part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\nChange-Id: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\n""}, {'number': 2, 'created': '2020-05-13 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e2f37cef0c1b1cc4dc4670d9757f0861d6523605', 'message': ""[Part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from unit test\n\nChange-Id: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\n""}, {'number': 3, 'created': '2020-05-14 01:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/92b85aee0efd7a6e3318f7b5b7163d8e6fea480a', 'message': ""[Part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from unit test\n\nChange-Id: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\n""}, {'number': 4, 'created': '2020-08-30 09:03:07.000000000', 'files': ['masakari/tests/unit/api/test_auth.py', 'masakari/tests/unit/test_api_validation.py', 'masakari/tests/unit/test_exception.py', 'masakari/tests/unit/matchers.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/api/openstack/ha/test_segments.py', 'masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/tests/unit/test_versions.py', 'masakari/tests/unit/api/openstack/ha/test_hosts.py', 'masakari/tests/unit/api/openstack/test_extensions.py', 'masakari/tests/unit/api/openstack/ha/test_versions.py', 'masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/unit/objects/test_fields.py', 'masakari/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c3bb939e2896d2ed663d24d5c8d256a5592aaee2', 'message': ""[Part1]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from unit test\n\nChange-Id: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\n""}]",1,727795,c3bb939e2896d2ed663d24d5c8d256a5592aaee2,16,10,4,28614,,,0,"[Part1]Remove six

We don't need this in a Python 3-only world.

1. this PS just from six from unit test

Change-Id: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1
",git fetch https://review.opendev.org/openstack/masakari refs/changes/95/727795/4 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/test_api_validation.py', 'masakari/tests/unit/test_exception.py', 'masakari/tests/unit/matchers.py', 'masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/tests/unit/objects/test_fields.py', 'masakari/tests/unit/test_versions.py', 'masakari/tests/unit/test_utils.py']",7,c8f82f8c84fd689cb21289d31f05646414e77785,remove-six," self.assertIsInstance(return_value, bytes)","import six self.assertIsInstance(return_value, six.binary_type)",10,17
openstack%2Fmasakari~master~Ic4d00d081699015ccc2d529b872a17565c881c4e,openstack/masakari,master,Ic4d00d081699015ccc2d529b872a17565c881c4e,[Part3]Remove six,MERGED,2020-05-13 15:45:29.000000000,2020-08-30 10:03:41.000000000,2020-08-30 10:01:55.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-13 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/47cac33f92a4bec7ae7030ec6de08a3b30297b16', 'message': ""[Part3]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e\n""}, {'number': 2, 'created': '2020-05-14 01:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b4b37bc40d5ba450820c074ef3977017d546ced6', 'message': ""[Part3]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e\n""}, {'number': 3, 'created': '2020-05-14 16:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/5faf1477faabc77f4160b04c71d36209b58c3ba7', 'message': ""[Part3]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e\n""}, {'number': 4, 'created': '2020-05-14 17:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/01cd991e848d4a39098e0c828ec68e5ed2153f83', 'message': ""[Part3]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e\n""}, {'number': 5, 'created': '2020-08-30 09:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4104e70d1ffc5be263c2b584f17f0adc04574997', 'message': ""[Part3]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e\n""}, {'number': 6, 'created': '2020-08-30 09:16:01.000000000', 'files': ['masakari/api/openstack/ha/notifications.py', 'masakari/api/openstack/ha/segments.py', 'masakari/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6214ca32695d9a512b1bbed63c09d2bd7601be99', 'message': ""[Part3]Remove six\n\nWe don't need this in a Python 3-only world.\n\n1. this PS just from six from api moulde\n\nDepends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98\nDepends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1\nChange-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e\n""}]",28,727806,6214ca32695d9a512b1bbed63c09d2bd7601be99,19,9,6,28614,,,0,"[Part3]Remove six

We don't need this in a Python 3-only world.

1. this PS just from six from api moulde

Depends-On: Ibfee28132e102c40d0eb5b8dc73228ec8fb9ce98
Depends-On: Ibe08ffa9072f1f0c1090f2b9e2ab9af59474d6b1
Change-Id: Ic4d00d081699015ccc2d529b872a17565c881c4e
",git fetch https://review.opendev.org/openstack/masakari refs/changes/06/727806/5 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/api/openstack/ha/notifications.py', 'masakari/api/openstack/ha/segments.py', 'masakari/api/openstack/wsgi.py']",3,47cac33f92a4bec7ae7030ec6de08a3b30297b16,remove-six,, # TODO(Dinesh_Bhor) Replace it with symbolic constant when it is # defined in six.moves.http_client,4,4
openstack%2Fpuppet-openstack_spec_helper~master~I165f5a04bb044725c9f81aba665f95962d7c4dff,openstack/puppet-openstack_spec_helper,master,I165f5a04bb044725c9f81aba665f95962d7c4dff,Remove netaddr from test dependencies,MERGED,2020-08-24 14:40:18.000000000,2020-08-30 09:18:13.000000000,2020-08-30 09:18:13.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 14:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/a899317cda11afcf88bd6694e9c77c4eb6ded095', 'message': 'Unpin netaddr\n\nChange-Id: I165f5a04bb044725c9f81aba665f95962d7c4dff\n'}, {'number': 2, 'created': '2020-08-24 15:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d7bd3f53c4e3aca3a50d00ad0699920fc87ca749', 'message': 'Unpin netaddr\n\nChange-Id: I165f5a04bb044725c9f81aba665f95962d7c4dff\n'}, {'number': 3, 'created': '2020-08-24 15:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/bc70da779401f736e24f13d1672fc5778a81a987', 'message': 'Unpin netaddr\n\nDepends-on: https://review.opendev.org/#/c/743735/\nDepends-on: https://review.opendev.org/#/c/747733/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I165f5a04bb044725c9f81aba665f95962d7c4dff\n'}, {'number': 4, 'created': '2020-08-26 23:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/9ffc02f4dec569d8ec93e1c120ce50475f990d98', 'message': 'Remove netaddr from test dependencies\n\n... because it is no longer used.\n\nDepends-on: https://review.opendev.org/#/c/748325/\nChange-Id: I165f5a04bb044725c9f81aba665f95962d7c4dff\n'}, {'number': 5, 'created': '2020-08-26 23:43:31.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/87fcf0d072d5409a9d22aaeb91a22a0b3617efd8', 'message': 'Remove netaddr from test dependencies\n\n... because it is no longer used.\n\nDepends-on: https://review.opendev.org/#/c/748325/\nChange-Id: I165f5a04bb044725c9f81aba665f95962d7c4dff\n'}]",0,747741,87fcf0d072d5409a9d22aaeb91a22a0b3617efd8,23,5,5,9816,,,0,"Remove netaddr from test dependencies

... because it is no longer used.

Depends-on: https://review.opendev.org/#/c/748325/
Change-Id: I165f5a04bb044725c9f81aba665f95962d7c4dff
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/41/747741/5 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,a899317cda11afcf88bd6694e9c77c4eb6ded095,centos8-beaker,," # Force Netaddr 1.x as 2.x is not compatible # https://github.com/dspinhirne/netaddr-rb/issues/5 spec.add_dependency 'netaddr', ['< 2.0.0'] ",0,4
openstack%2Fos-brick~stable%2Ftrain~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,stable/train,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-08-28 11:08:08.000000000,2020-08-30 09:07:55.000000000,2020-08-30 09:06:49.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-28 11:08:08.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'releasenotes/notes/improve-get_sysfs_wwn-df38ea88cdcdcc94.yaml', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7eec31b6c4db9b656f773ab1d1bc6803f51c4002', 'message': ""Improve WWN detection\n\nTo avoid issues with the scsi_id command getting stuck and blocking the\nattachment we use sysfs to search for the WWN, but it can happen that we\nfail to detect the WWN even if it's present in sysfs.\n\nThis happens when the storage array has multiple designators and the\nmultipath daemon detects the multipaths very fast.\n\nThe flow is:\n\n- os-brick attaches volumes using iscsiadm --login\n- udev generates the symlink with the WWN (this is the one we want)\n- multipathd detects the volumes and forms the DM\n- udev replaces the previous symlink to point to the multipath DM\n- os-brick checks the symlink\n\nThis patch adds code to get_sysfs_wwn that checks the individual devices\nbelonging to a multipath DM if the symlink points to a DM.\n\nCloses-Bug: #1881608\nChange-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c\n(cherry picked from commit 7fb37c2000a148f37bc8a6c17e913c46865776bd)\n(cherry picked from commit 935daead18b0a09eae340325f2d09b5ad2c5b569)\n""}]",0,748603,7eec31b6c4db9b656f773ab1d1bc6803f51c4002,30,10,1,10459,,,0,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
(cherry picked from commit 7fb37c2000a148f37bc8a6c17e913c46865776bd)
(cherry picked from commit 935daead18b0a09eae340325f2d09b5ad2c5b569)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/03/748603/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'releasenotes/notes/improve-get_sysfs_wwn-df38ea88cdcdcc94.yaml', 'os_brick/initiator/linuxscsi.py']",3,7eec31b6c4db9b656f773ab1d1bc6803f51c4002,improve-get_sysfs_wwn, # If we have multiple designators use symlinks to find out the wwn device_names = set(device_names) if path.startswith('/dev/'): name = path[5:] # Symlink may point to the multipath dm if the attach # was too fast or we took long to check it. Check # devices belonging to the multipath DM. if name.startswith('dm-'): # Get the devices that belong to the DM slaves_path = '/sys/class/block/%s/slaves' % name dm_devs = os.listdir(slaves_path) # This is the right wwn_path if the devices we have # attached belong to the dm we followed if device_names.intersection(dm_devs): break # This is the right wwn_path if devices we have elif name in device_names: break else: return '' return wwn_path[len(glob_str):], # If we have multiple designators follow the symlinks if path.startswith('/dev/') and path[5:] in device_names: return wwn_path[len(glob_str):] return '',68,7
openstack%2Fpuppet-nova~master~I8a80b9162eda1932e97950383011ea8301cc19ff,openstack/puppet-nova,master,I8a80b9162eda1932e97950383011ea8301cc19ff,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-30 08:03:53.000000000,2020-08-30 08:02:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5d1d9dcb2f964ee8cb55ebf91d529af9773a9607', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I8a80b9162eda1932e97950383011ea8301cc19ff\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:23.000000000', 'files': ['manifests/db.pp', 'spec/classes/nova_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b20b3aee3ac8b604.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e20e49794d8815642749ef643a154b3e561737e0', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I8a80b9162eda1932e97950383011ea8301cc19ff\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748075,e20e49794d8815642749ef643a154b3e561737e0,21,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I8a80b9162eda1932e97950383011ea8301cc19ff
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/75/748075/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/nova_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b20b3aee3ac8b604.yaml']",3,5d1d9dcb2f964ee8cb55ebf91d529af9773a9607,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,13,0
openstack%2Fpuppet-openstack-integration~master~I74e2c546a5e7349f79f48b72cd25f5e241355780,openstack/puppet-openstack-integration,master,I74e2c546a5e7349f79f48b72cd25f5e241355780,Updated from Puppet OpenStack modules constraints,MERGED,2020-08-22 06:22:37.000000000,2020-08-30 06:53:06.000000000,2020-08-30 06:53:05.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-22 06:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a26f0a1fc1a7277af0d6e54e9e4eb54f3ce8be76', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I74e2c546a5e7349f79f48b72cd25f5e241355780\n'}, {'number': 2, 'created': '2020-08-29 06:07:50.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/959b18038bd8ed59a907d12f6e2ddcc61c2da15f', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I74e2c546a5e7349f79f48b72cd25f5e241355780\n'}]",0,747514,959b18038bd8ed59a907d12f6e2ddcc61c2da15f,10,4,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I74e2c546a5e7349f79f48b72cd25f5e241355780
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/14/747514/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,a26f0a1fc1a7277af0d6e54e9e4eb54f3ce8be76,openstack/puppet/constraints, :ref => 'v6.4.0' :ref => 'v4.6.0', :ref => 'v6.3.0' :ref => 'v4.5.0',2,2
openstack%2Fvitrage~master~I6c34f94961c07b7def4b62787b43d962cbb5a6e1,openstack/vitrage,master,I6c34f94961c07b7def4b62787b43d962cbb5a6e1,Add delete_outdate_alarm to kapacitor and prometheus,MERGED,2020-08-29 05:00:26.000000000,2020-08-30 06:35:29.000000000,2020-08-30 06:32:20.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-29 05:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0b5a24b3d21c7c93059cc62a496e652929ac3bb5', 'message': 'Add delete_outdate_alarm to kapacitor and prometheus\n\n In actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I6c34f94961c07b7def4b62787b43d962cbb5a6e1\n'}, {'number': 2, 'created': '2020-08-29 06:16:44.000000000', 'files': ['vitrage/datasources/prometheus/driver.py', 'vitrage/datasources/kapacitor/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/459b70e0abc0f43a0349a9d33f8e46e3e58233bb', 'message': 'Add delete_outdate_alarm to kapacitor and prometheus\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I6c34f94961c07b7def4b62787b43d962cbb5a6e1\n'}]",2,748788,459b70e0abc0f43a0349a9d33f8e46e3e58233bb,10,3,2,30408,,,0,"Add delete_outdate_alarm to kapacitor and prometheus

In actual usage scenarios, the expired alarm data should be deleted,
so it is agreed to enable this function for the alarm data source.

Implements: blueprint add-delete-outdate-alarm
Change-Id: I6c34f94961c07b7def4b62787b43d962cbb5a6e1
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/88/748788/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/prometheus/driver.py', 'vitrage/datasources/kapacitor/driver.py']",2,0b5a24b3d21c7c93059cc62a496e652929ac3bb5,bp/add-delete-outdate-alarm, @staticmethod def should_delete_outdated_entities(): return True,,8,0
openstack%2Frequirements~master~Iba6167a9ddcf452daed590f1f39a8f072a51e580,openstack/requirements,master,Iba6167a9ddcf452daed590f1f39a8f072a51e580,Updated from generate-constraints,ABANDONED,2020-08-30 06:21:37.000000000,2020-08-30 06:24:23.000000000,,[],"[{'number': 1, 'created': '2020-08-30 06:21:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f8ba9c4872875c9ce9d789c48c0fbb556198ac84', 'message': 'Updated from generate-constraints\n\nChange-Id: Iba6167a9ddcf452daed590f1f39a8f072a51e580\n'}]",0,748830,f8ba9c4872875c9ce9d789c48c0fbb556198ac84,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Iba6167a9ddcf452daed590f1f39a8f072a51e580
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/748830/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f8ba9c4872875c9ce9d789c48c0fbb556198ac84,openstack/requirements/constraints,mock===4.0.2docutils===0.16dulwich===0.20.6pkg-resources===0.0.0,mock===3.0.5docutils===0.15.2dulwich===0.20.5,4,3
openstack%2Fironic-python-agent~master~I9ba6f6c5a87feb2630c8314514122063dbe4daca,openstack/ironic-python-agent,master,I9ba6f6c5a87feb2630c8314514122063dbe4daca,DO NOT MERGE: testing metalsmith job,ABANDONED,2020-08-25 18:59:29.000000000,2020-08-30 05:42:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 18:59:29.000000000', 'files': ['ironic_python_agent/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f8bb8405db0030d9208d7368f606e5f05e9638e7', 'message': 'DO NOT MERGE: testing metalsmith job\n\nChange-Id: I9ba6f6c5a87feb2630c8314514122063dbe4daca\n'}]",0,748015,f8bb8405db0030d9208d7368f606e5f05e9638e7,4,2,1,10342,,,0,"DO NOT MERGE: testing metalsmith job

Change-Id: I9ba6f6c5a87feb2630c8314514122063dbe4daca
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/15/748015/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/__init__.py'],1,f8bb8405db0030d9208d7368f606e5f05e9638e7,,# NOOP CHANGE TO FORCE CI TO RUN,,1,0
openstack%2Fpython-aodhclient~master~Ia46259e960493c92a6701a165518ef87b03c5c2d,openstack/python-aodhclient,master,Ia46259e960493c92a6701a165518ef87b03c5c2d,Don't use */* in accept header,MERGED,2020-08-24 13:03:24.000000000,2020-08-30 04:19:56.000000000,2020-08-29 08:11:48.000000000,"[{'_account_id': 5792}, {'_account_id': 6732}, {'_account_id': 8833}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 13:03:24.000000000', 'files': ['aodhclient/v2/base.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/dff4f153d442e442276eea0d82f87a5d4cb692fe', 'message': ""Don't use */* in accept header\n\nThe response is returned as text/plain in case of exception.\nPecan 1.4 uses accept header to decide the response content type.\n\nThis also affected gnocciclient and has been fixed there.\nhttps://github.com/gnocchixyz/python-gnocchiclient/pull/110\n\nChange-Id: Ia46259e960493c92a6701a165518ef87b03c5c2d\n""}]",0,747722,dff4f153d442e442276eea0d82f87a5d4cb692fe,13,6,1,5792,,,0,"Don't use */* in accept header

The response is returned as text/plain in case of exception.
Pecan 1.4 uses accept header to decide the response content type.

This also affected gnocciclient and has been fixed there.
https://github.com/gnocchixyz/python-gnocchiclient/pull/110

Change-Id: Ia46259e960493c92a6701a165518ef87b03c5c2d
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/22/747722/1 && git format-patch -1 --stdout FETCH_HEAD,['aodhclient/v2/base.py'],1,dff4f153d442e442276eea0d82f87a5d4cb692fe,," ""Accept"": ""application/json"","," ""Accept"": ""application/json, */*"",",1,1
openstack%2Fswift~master~Id123fb0f9173cf75916984d85bcf8c2d5eefaec2,openstack/swift,master,Id123fb0f9173cf75916984d85bcf8c2d5eefaec2,Suppress CryptographyDeprecationWarnings,MERGED,2020-08-26 20:10:09.000000000,2020-08-30 04:13:15.000000000,2020-08-30 04:11:57.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 20:10:09.000000000', 'files': ['swift/__init__.py', 'test/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8ea227a0e54d78cef29b8f89f3216fd9bde2ff9c', 'message': 'Suppress CryptographyDeprecationWarnings\n\nChange-Id: Id123fb0f9173cf75916984d85bcf8c2d5eefaec2\n'}]",1,748297,8ea227a0e54d78cef29b8f89f3216fd9bde2ff9c,13,3,1,15343,,,0,"Suppress CryptographyDeprecationWarnings

Change-Id: Id123fb0f9173cf75916984d85bcf8c2d5eefaec2
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/748297/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/__init__.py', 'test/__init__.py']",2,8ea227a0e54d78cef29b8f89f3216fd9bde2ff9c,,"import warnings warnings.filterwarnings('ignore', module='cryptography', message=( 'Python 2 is no longer supported by the Python core team. ' 'Support for it is now deprecated in cryptography, ' 'and will be removed in a future release.')) ",,13,0
openstack%2Fglance~master~I74baf53fac1c3e23f6dc743058165ecb39074626,openstack/glance,master,I74baf53fac1c3e23f6dc743058165ecb39074626,Functional test enhancement for lock busting,MERGED,2020-08-17 14:54:19.000000000,2020-08-29 21:49:29.000000000,2020-08-29 21:48:08.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 14:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/61ed3cc7766c84b5cd308b991625dd4428b8ddbb', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 2, 'created': '2020-08-17 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/36d7924f6f3b30423af8fdbf53a766ee8da6ab7b', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 3, 'created': '2020-08-17 17:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eff8ccf783f7d5452feb05b2b575ee6b2a9efdc1', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 4, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eab68e35ca644f506fe39c12ff814498dee4b07a', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 5, 'created': '2020-08-18 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8ae6e534003acd75662380b69ff0c79bd17c6be1', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 6, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0cb085f190170081fcab6b015896df64292d6745', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 7, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/964686a8e5b12367f27cc53b59b52ce46d6eaccd', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 8, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d776ab79417db229c2c4f235273f5d0e3ea6cf22', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 9, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/97b57329c25e2e1d3ebab5dd157feb7c9c3b8dda', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}, {'number': 10, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/async_/flows/api_image_import.py', 'glance/tests/functional/__init__.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/functional/v2/test_images_import_locking.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a86062c4924a19e9ab9d5a3412353bc0aeceaeab', 'message': 'Functional test enhancement for lock busting\n\nThis enhances our test for the import lock-busting case to include\nfreeing the stuck import task and letting the new and old ones proceed\nto make sure that the end state looks like what we expect.\n\nNote that this includes another task lock check after exiting the\nImportAction context before we call image save. While writing these\ntests I determined that we can end up with the original task racing\nto update the image locations. If set_data() took a very long time,\ncaused our lock to be stolen and another task is running, when our\nset_data() finally finishes we may overwrite their newly-added\nlocation when we go to save our (now stale) list. Thus, the extra\ntask check (imperfectly) tries to avoid us doing anything else after\nour task lock is stolen.\n\nChange-Id: I74baf53fac1c3e23f6dc743058165ecb39074626\n'}]",0,746531,a86062c4924a19e9ab9d5a3412353bc0aeceaeab,50,5,10,4393,,,0,"Functional test enhancement for lock busting

This enhances our test for the import lock-busting case to include
freeing the stuck import task and letting the new and old ones proceed
to make sure that the end state looks like what we expect.

Note that this includes another task lock check after exiting the
ImportAction context before we call image save. While writing these
tests I determined that we can end up with the original task racing
to update the image locations. If set_data() took a very long time,
caused our lock to be stolen and another task is running, when our
set_data() finally finishes we may overwrite their newly-added
location when we go to save our (now stale) list. Thus, the extra
task check (imperfectly) tries to avoid us doing anything else after
our task lock is stolen.

Change-Id: I74baf53fac1c3e23f6dc743058165ecb39074626
",git fetch https://review.opendev.org/openstack/glance refs/changes/31/746531/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/api_image_import.py', 'glance/tests/functional/__init__.py', 'glance/tests/functional/v2/test_images_import_locking.py']",3,61ed3cc7766c84b5cd308b991625dd4428b8ddbb,task-heartbeat,"import uuid from oslo_log import log as loggingLOG = logging.getLogger(__name__) def _get_image_import_task(self, image_id, task_id=None): if task_id is None: image = self.api_get('/v2/images/%s' % image_id).json task_id = image['os_glance_import_task'] return self.api_get('/v2/tasks/%s' % task_id).json state = {'want_run': True} me = str(uuid.uuid4()) while state['want_run'] == True: LOG.info('fake_set_data running %s' % me) LOG.info('fake_set_data ended %s' % me) if 'running' in state: # Make sure the task is available and in the right state first_import_task = self._get_image_import_task(image_id) self.assertEqual('processing', first_import_task['status']) resp = self._import_copy(image_id, ['store3']) time.sleep(0.1) self.addDetail('First task', ttc.text_content(str(first_import_task))) # Grab the current import task for our image, and also # refresh our first task object second_import_task = self._get_image_import_task(image_id) first_import_task = self._get_image_import_task( image_id, first_import_task['id']) if warp_time: # If we warped time and busted the lock, then we expect the # current task to be different than the original task self.assertNotEqual(first_import_task['id'], second_import_task['id']) # The original task should be failed with the expected message self.assertEqual('failure', first_import_task['status']) self.assertEqual('Expired lock preempted', first_import_task['message']) # The new task should be off and running self.assertEqual('processing', second_import_task['status']) else: # We didn't bust the lock, so we didn't start another # task, so confirm it hasn't changed self.assertEqual(first_import_task['id'], second_import_task['id']) return image_id, state image_id, state = self._test_import_copy(warp_time=True) for i in range(0, 10): image = self.api_get('/v2/images/%s' % image_id).json if image['stores'] == 'store1,store3': break time.sleep(0.1) image = self.api_get('/v2/images/%s' % image_id).json self.assertEqual('store1,store3', image['stores']) self.assertEqual('store2', image['os_glance_importing_to_stores']) self.assertEqual('', image['os_glance_failed_import']) state['want_run'] = False for i in range(0, 10): image = self.api_get('/v2/images/%s' % image_id).json time.sleep(0.1) image = self.api_get('/v2/images/%s' % image_id).json self.assertEqual('', image.get('os_glance_import_task', '')) # FIXME(danms): With the strict import lock checking in # ImportActionWrapper, we lose the ability to update # importing_to_stores after our lock has been stolen. We # should probably do something about that in the lock-busting # code. We would expect this in that case: # self.assertEqual('', image['os_glance_importing_to_stores']) self.assertEqual('', image['os_glance_failed_import']) self.assertEqual('store1,store3', image['stores'])"," state = {} while True: if state: resp = self._import_copy(image_id, ['store2']) self._test_import_copy(warp_time=True)",95,8
openstack%2Fzun~master~I1e8ca230be91e7f769c75ceab88930f849db8655,openstack/zun,master,I1e8ca230be91e7f769c75ceab88930f849db8655,Use importlib to take place of im module,MERGED,2020-08-29 15:57:35.000000000,2020-08-29 21:15:24.000000000,2020-08-29 21:14:18.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-29 15:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/49525ef1217d9ed8426640b33cd91a12c3144c46', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: I1e8ca230be91e7f769c75ceab88930f849db8655\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 2, 'created': '2020-08-29 15:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c2f081025d2aa2a80ddb5210665e2cc5f5927fad', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: I1e8ca230be91e7f769c75ceab88930f849db8655\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 3, 'created': '2020-08-29 16:05:25.000000000', 'files': ['zun/tests/unit/common/test_profiler.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/5fe1dec7414dd7bf179cd9be43207311824f0916', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: I1e8ca230be91e7f769c75ceab88930f849db8655\n'}]",0,748809,5fe1dec7414dd7bf179cd9be43207311824f0916,9,2,3,32067,,,0,"Use importlib to take place of im module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

1: https://docs.python.org/3/library/imp.html#imp.reload

Change-Id: I1e8ca230be91e7f769c75ceab88930f849db8655
",git fetch https://review.opendev.org/openstack/zun refs/changes/09/748809/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/unit/common/test_profiler.py'],1,49525ef1217d9ed8426640b33cd91a12c3144c46,,import importlib importlib.reload(,import imp imp.reload(,2,2
openstack%2Fhorizon~master~I08fc6a46af8e231c0b2b21b5039e26d0be937d06,openstack/horizon,master,I08fc6a46af8e231c0b2b21b5039e26d0be937d06,Imported Translations from Zanata,MERGED,2020-08-29 06:51:33.000000000,2020-08-29 20:44:17.000000000,2020-08-29 20:42:29.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-29 06:51:33.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b46572be1c378592916f70e8ac708017e4993216', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I08fc6a46af8e231c0b2b21b5039e26d0be937d06\n'}]",0,748792,b46572be1c378592916f70e8ac708017e4993216,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I08fc6a46af8e231c0b2b21b5039e26d0be937d06
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/748792/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po']",2,b46572be1c378592916f70e8ac708017e4993216,zanata/translations,"""Project-Id-Version: horizon 18.4.2.dev24\n""""POT-Creation-Date: 2020-08-28 11:09+0000\n""""PO-Revision-Date: 2020-08-28 07:18+0000\n""msgid ""Agenda: https://wiki.openstack.org/wiki/Meetings/Horizon"" msgstr ""Agenda: https://wiki.openstack.org/wiki/Meetings/Horizon"" ""Below will cover the more project specific information you need to get "" ""started with horizon."" msgstr """" ""Di bawah ini akan mencakup lebih banyak informasi spesifik proyek yang Anda "" ""butuhkan untuk memulai horizon."" msgid """"msgid ""Communication"" msgstr ""Komunikasi"" msgid ""Contacting the Core Team"" msgstr ""Menghubungi Tim Inti"" msgid ""Documentation: https://docs.openstack.org/horizon/latest/"" msgstr ""Dokumentasi: https://docs.openstack.org/horizon/latest/"" msgid ""IRC channel: ``#openstack-horizon`` at freenode"" msgstr ""IRC channel: ``#openstack-horizon`` di freenode"" msgid """" ""Mailing list: `openstack-discuss <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/openstack-discuss>`__ with ``[horizon]`` tag."" msgstr """" ""Milis: `openstack-discuss <http://lists.openstack.org/cgi-bin/mailman/"" ""listinfo/openstack-discuss>`__ dengan tag `[horizon]`."" msgid """" ""Most active contributors are online at IRC while they are active, so it "" ""would be the easiest way to contact the team directly. Note that all IRC "" ""conversations are stored `here <http://eavesdrop.openstack.org/irclogs/"" ""%23openstack-horizon/>`__."" msgstr """" ""Sebagian besar kontributor aktif sedang online di IRC saat mereka aktif, "" ""jadi ini akan menjadi cara termudah untuk menghubungi tim secara langsung. "" ""Perhatikan bahwa semua percakapan IRC disimpan `here <http://eavesdrop."" ""openstack.org/irclogs/%23openstack-horizon/>`__."" msgid """" ""Most core reviewers are online in the IRC channel and you can contact them "" ""there."" msgstr """" ""Sebagian besar pengulas inti sedang online di IRC channel dan Anda dapat "" ""menghubungi mereka di sana."" msgid ""New Feature Planning"" msgstr ""Perencanaan Fitur Baru"" msgid ""Project Resources"" msgstr ""Sumber Daya Proyek (Project Resources)"" msgid ""Source code: https://opendev.org/openstack/horizon"" msgstr ""Source code: https://opendev.org/openstack/horizon"" msgid ""Team meeting:"" msgstr ""Pertemuan tim:"" msgid """" ""The horizon team has a weekly meeting which covers all things related to the "" ""horizon project like announcements, project priorities, community goals, "" ""bugs and so on."" msgstr """" ""Tim horizon mengadakan pertemuan mingguan yang mencakup semua hal yang "" ""berkaitan dengan proyek horizon seperti pengumuman, prioritas proyek, tujuan "" ""komunitas, bug, dan sebagainya."" msgid """" ""The list of the current core reviewers is found at `gerrit <https://review."" ""opendev.org/#/admin/groups/43,members>`__."" msgstr """" ""Daftar peninjau inti saat ini dapat ditemukan di `gerrit <https://review."" ""opendev.org/#/admin/groups/43,members>`__."" msgid """" ""The mailing list would be a good place if you would like to discuss your "" ""topic with the OpenStack community more broadly. Most OpenStack users, "" ""operators and developers subscribe it and you can get useful feedbacks from "" ""various perspectives."" msgstr """" ""Milis akan menjadi tempat yang baik jika Anda ingin mendiskusikan topik Anda "" ""dengan komunitas OpenStack secara lebih luas. Sebagian besar pengguna, "" ""operator, dan pengembang OpenStack berlangganan dan Anda bisa mendapatkan "" ""umpan balik yang berguna dari berbagai perspektif."" ""There is the \""On Demand Agenda\"" section at the end of the meeting, where "" ""anyone can add a topic to discuss with the team. It is suggested to add such "" ""topic to the On-Demand agenda in the \""Weekly meeting\"" in `horizon release "" ""priority etherpad <https://etherpad.opendev.org/p/horizon-release-"" ""priorities>`__."" msgstr """" ""Ada bagian \""On Demand Agenda\"" di akhir rapat, di mana siapa pun dapat "" ""menambahkan topik untuk didiskusikan dengan tim. Disarankan untuk "" ""menambahkan topik tersebut ke agenda On-Demand di the \""Weekly meeting\"" di "" ""`horizon release priority etherpad <https://etherpad.opendev.org/p/horizon-"" ""release-priorities>`__."" msgid """"msgid ""Time: http://eavesdrop.openstack.org/#Horizon_Team_Meeting"" msgstr ""Waktu: http://eavesdrop.openstack.org/#Horizon_Team_Meeting"" ","""Project-Id-Version: horizon 18.4.2.dev23\n""""POT-Creation-Date: 2020-08-27 08:53+0000\n""""PO-Revision-Date: 2020-08-28 06:26+0000\n""",107,8
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id9b9c413ee37dcda422e69ebef4aca81e4877156,openstack/tripleo-heat-templates,stable/train,Id9b9c413ee37dcda422e69ebef4aca81e4877156,minor update: only migrate HA VIP away when needed,MERGED,2020-08-27 17:09:03.000000000,2020-08-29 20:36:45.000000000,2020-08-29 20:36:45.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-27 17:09:03.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad090f94cccd050240d7e9293830994da44d0683', 'message': ""minor update: only migrate HA VIP away when needed\n\nWhen update tasks runs in a HA controller node, pacemaker is\nstopped, along with all HA resources hosted on the node. If\nany VIP is hosted on that node, it is moved to another node\nprior to stopping pacemaker to limit service downtime.\n\nIf the HA controller node doesn't manage VIP (no HAProxy) or\nthe control plane only has 1 node, there is no need to try and\nmove VIP away before stopping pacemaker.\n\nTested on a 1-node HA control plane, and also on a control\nplane with external balancer (no HAproxy service, thus no VIP\nmanaged in pacemaker). The dedicated ansible task no longer\ntries to move VIP if it doesn't need to.\n\nCloses-Bug: #1892570\nChange-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156\n(cherry picked from commit 164fac75a0fbff2130f39a5f4d7c5931f5ea3b08)\n(cherry picked from commit cc17467c5018d4f05b53af0a0046def5c5a8633e)\n""}]",1,748486,ad090f94cccd050240d7e9293830994da44d0683,19,5,1,20778,,,0,"minor update: only migrate HA VIP away when needed

When update tasks runs in a HA controller node, pacemaker is
stopped, along with all HA resources hosted on the node. If
any VIP is hosted on that node, it is moved to another node
prior to stopping pacemaker to limit service downtime.

If the HA controller node doesn't manage VIP (no HAProxy) or
the control plane only has 1 node, there is no need to try and
move VIP away before stopping pacemaker.

Tested on a 1-node HA control plane, and also on a control
plane with external balancer (no HAproxy service, thus no VIP
managed in pacemaker). The dedicated ansible task no longer
tries to move VIP if it doesn't need to.

Closes-Bug: #1892570
Change-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156
(cherry picked from commit 164fac75a0fbff2130f39a5f4d7c5931f5ea3b08)
(cherry picked from commit cc17467c5018d4f05b53af0a0046def5c5a8633e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/748486/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,ad090f94cccd050240d7e9293830994da44d0683,ha-vip-move-stable/ussuri-stable/train," when: - step|int == 1 - hostvars[inventory_hostname][""haproxy_node_names""]|default([])|length > 1", when: step|int == 1,3,1
openstack%2Fglance~master~Ib910274472346ce0c336cd1ead8370d5799d0b96,openstack/glance,master,Ib910274472346ce0c336cd1ead8370d5799d0b96,Handle atomic image properties separately,MERGED,2020-08-17 14:35:50.000000000,2020-08-29 19:14:49.000000000,2020-08-29 19:13:33.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 14:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d64a99feaad9f9bba660b58952f6c335cf2d8080', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 2, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c5e4170c95d2ec3fad3cac66fd0566b5da9bc27b', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 3, 'created': '2020-08-18 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5132df94985d3ba15f298ec981002a7a3cf09b26', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 4, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fdc431f0789d995640b11806cfeed4fb6a936647', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 5, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cbd708a4489c7257dccaa69e868dff7c3678c89d', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 6, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7790996982e9d672753cd14679a312284904b0af', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 7, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c0f0fbf845b24ed4c79e668e149f7fd62e64df5', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}, {'number': 8, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/functional/db/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/26f0311b29b18589ad134a34d5abd8ff2f82cf47', 'message': 'Handle atomic image properties separately\n\nThe image_update() code will clobber, revert, or update lock values\nin keys that we use as atomic properties. This adds an exclusion\nlist of properties that we handle specially and plumbs them down\nto image_update() so that they will be excluded from the\nadd/update/delete logic.\n\nChange-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96\n'}]",0,746518,26f0311b29b18589ad134a34d5abd8ff2f82cf47,46,5,8,4393,,,0,"Handle atomic image properties separately

The image_update() code will clobber, revert, or update lock values
in keys that we use as atomic properties. This adds an exclusion
list of properties that we handle specially and plumbs them down
to image_update() so that they will be excluded from the
add/update/delete logic.

Change-Id: Ib910274472346ce0c336cd1ead8370d5799d0b96
",git fetch https://review.opendev.org/openstack/glance refs/changes/18/746518/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/functional/db/test_sqlalchemy.py']",5,d64a99feaad9f9bba660b58952f6c335cf2d8080,task-heartbeat," def test_image_update_ignores_atomics(self): image = self.db_api.image_get_all(self.adm_context)[0] # Set two atomic properties atomically self.db_api.image_set_property_atomic(image['id'], 'test1', 'foo') self.db_api.image_set_property_atomic(image['id'], 'test2', 'bar') # Try to change test1, delete test2, add test3 and test4 via # normal image_update() where the first three are passed as # atomic self.db_api.image_update( self.adm_context, image['id'], {'properties': {'test1': 'baz', 'test3': 'bat', 'test4': 'yep'}}, purge_props=True, atomic_props=['test1', 'test2', 'test3']) # Expect that none of the updates to the atomics are applied, but # the regular property is added. image = self.db_api.image_get(self.adm_context, image['id']) self.assertEqual({'test1': 'foo', 'test2': 'bar', 'test4': 'yep'}, self._propdict(image['properties']))",,103,11
openstack%2Fneutron~stable%2Ftrain~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,stable/train,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-20 01:10:23.000000000,2020-08-29 17:07:06.000000000,2020-08-29 17:05:30.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29157}]","[{'number': 1, 'created': '2020-08-20 01:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf44f633e125ce8e8aa56adf29cd3d6e88994428', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}, {'number': 2, 'created': '2020-08-20 13:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02297355a88bac44d122300b1b19aec6b458b3db', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}, {'number': 3, 'created': '2020-08-22 07:01:50.000000000', 'files': ['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/40a6b4b9e6f4fb06decc885f0419e79bbff731ec', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nConflicts:\n    neutron/tests/unit/extensions/test_securitygroup.py\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}]",2,747065,40a6b4b9e6f4fb06decc885f0419e79bbff731ec,42,6,3,29157,,,0,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Conflicts:
    neutron/tests/unit/extensions/test_securitygroup.py

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/747065/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",5,cf44f633e125ce8e8aa56adf29cd3d6e88994428,bug/1890539-stable/train," neutron_context = context.Context('user', 'tenant') def test_get_security_group_on_port_with_admin_from_other_tenant(self): plugin = directory.get_plugin() if not hasattr(plugin, '_get_security_groups_on_port'): self.skipTest(""plugin doesn't use the mixin with this method"") neutron_context = context.get_admin_context() res = self._create_security_group(self.fmt, 'webservers', 'webservers', tenant_id='other_tenant') sg1 = self.deserialize(self.fmt, res) sgs = plugin._get_security_groups_on_port( neutron_context, {'port': {'security_groups': [sg1['security_group']['id']], 'tenant_id': 'tenant'}}) sg1_id = sg1['security_group']['id'] self.assertEqual(sg1_id, sgs[0].id) self.assertEqual('other_tenant', sgs[0].project_id) ", neutron_context = context.get_admin_context(),124,5
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I3d2cd406e2b606e27a15ca5f881a8f6a62a4468d,openstack/tripleo-heat-templates,stable/queens,I3d2cd406e2b606e27a15ca5f881a8f6a62a4468d,multinode scenario001/002 are adequately covered in promotion jobs,ABANDONED,2020-05-19 20:36:16.000000000,2020-08-29 14:44:16.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-19 20:36:16.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/455bc9988aef7678572bbbbee0c0ce41397adaeb', 'message': 'multinode scenario001/002 are adequately covered in promotion jobs\n\nrunning too many multinode jobs upstream is not sustainable.\nin queens scenario001/002 have been non-voting since\n2018 and are just noise atm.  If there is a problem\nchecked into queens it will be caught in [1]\nand raised the appropriate owner.\n\n[1] https://review.rdoproject.org/zuul/builds?pipeline=openstack-periodic-wednesday-weekend#\n\nCloses-Bug: #1879565\nChange-Id: I3d2cd406e2b606e27a15ca5f881a8f6a62a4468d\n'}]",0,729385,455bc9988aef7678572bbbbee0c0ce41397adaeb,7,4,1,9592,,,0,"multinode scenario001/002 are adequately covered in promotion jobs

running too many multinode jobs upstream is not sustainable.
in queens scenario001/002 have been non-voting since
2018 and are just noise atm.  If there is a problem
checked into queens it will be caught in [1]
and raised the appropriate owner.

[1] https://review.rdoproject.org/zuul/builds?pipeline=openstack-periodic-wednesday-weekend#

Closes-Bug: #1879565
Change-Id: I3d2cd406e2b606e27a15ca5f881a8f6a62a4468d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/729385/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,455bc9988aef7678572bbbbee0c0ce41397adaeb,drop-queens-scenario1-4,, - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^(docker|puppet)/services/.*aodh.*$ - ^(docker|puppet)/services/.*ceilometer.*$ - ^(docker|puppet)/services/.*ceph.*$ - ^(docker|puppet)/services/.*cinder.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*gnocchi.*$ - ^(docker|puppet)/services/.*logging.*$ - ^(docker|puppet)/services/.*metrics.*$ - ^(docker|puppet)/services/.*monitoring.*$ - ^(docker|puppet)/services/.*panko.*$ - ci/environments/scenario001-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^(docker|puppet)/services/.*aodh.*$ - ^(docker|puppet)/services/.*barbican.*$ - ^(docker|puppet)/services/.*ceilometer.*$ - ^(docker|puppet)/services/.*cinder.*$ - ^(docker|puppet)/services/.*ec2-api.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*gnocchi.*$ - ^(docker|puppet)/services/.*panko.*$ - ^(docker|puppet)/services/.*swift.*$ - ^(docker|puppet)/services/.*zaqar.*$ - ci/environments/scenario002-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*mistral.*$ - ^(docker|puppet)/services/.*sahara.*$ - ci/environments/scenario003-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^docker/services/ceph.*$ - ^docker/services/glance.*$ - ^docker/services/manila.*$ - ci/environments/scenario004-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario006-multinode-oooq-container: files: - ^coe/kubernetes.*$ - ^environments/kubernetes.*$ - ^extraconfig/services/kubernetes.*$ - ci/environments/scenario006-multinode.yaml - ci/pingtests/scenario006-multinode.yaml - ^deployed-server/.*$,0,54
openstack%2Ftripleo-quickstart-extras~master~I2aa987904c4b30009bde06f2dc930ab2968a9437,openstack/tripleo-quickstart-extras,master,I2aa987904c4b30009bde06f2dc930ab2968a9437,update overcloud ansible.cfg to include timing,ABANDONED,2019-09-22 15:36:12.000000000,2020-08-29 14:41:29.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-22 15:36:12.000000000', 'files': ['roles/overcloud-deploy/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c28173b8836d78710594d8e1d2f29e1460cc3aa0', 'message': 'update overcloud ansible.cfg to include timing\n\nfollow pattern set in\nhttps://review.opendev.org/#/q/topic:add-timings+(status:open+OR+status:merged)\n\nChange-Id: I2aa987904c4b30009bde06f2dc930ab2968a9437\n'}]",2,683826,c28173b8836d78710594d8e1d2f29e1460cc3aa0,22,8,1,9592,,,0,"update overcloud ansible.cfg to include timing

follow pattern set in
https://review.opendev.org/#/q/topic:add-timings+(status:open+OR+status:merged)

Change-Id: I2aa987904c4b30009bde06f2dc930ab2968a9437
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/683826/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/ansible.cfg.j2'],1,c28173b8836d78710594d8e1d2f29e1460cc3aa0,add-timings,callback_whitelist = profile_tasks display_skipped_hosts = Falsedatabase=sqlite:///{{ ara_overcloud_db_path }} ,database=sqlite:///{{ ara_overcloud_db_path }},3,1
openstack%2Fneutron~stable%2Fussuri~I9062638366b45a7a930f31185cd6e23901a43957,openstack/neutron,stable/ussuri,I9062638366b45a7a930f31185cd6e23901a43957,Not remove the running router when MQ is unreachable,MERGED,2020-08-26 07:00:38.000000000,2020-08-29 14:39:38.000000000,2020-08-29 14:37:52.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-26 07:00:38.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5eeb98cdb51dc0dadd43128d1d0ed7d497606ded', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}]",0,748123,5eeb98cdb51dc0dadd43128d1d0ed7d497606ded,25,5,1,9531,,,0,"Not remove the running router when MQ is unreachable

When the L3 agent get a router update notification, it will try to
retrieve the router info from neutron server. But at this time, if
the message queue is down/unreachable. It will get exceptions related
message queue. The resync actions will be run then. Sometimes, rabbitMQ
cluster is not so much easy to recover. Then Long time MQ recover time
will cause the router info sync RPC never get successful until it meets
the max retry time. Then the bad thing happens, L3 agent is trying to
remove the router now. It basically shutdown all the existing L3 traffic
of this router.

This patch directly removes the final router removal action, let the
router run as it is.

Closes-Bug: #1871850
Change-Id: I9062638366b45a7a930f31185cd6e23901a43957
(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/748123/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,5eeb98cdb51dc0dadd43128d1d0ed7d497606ded,bug/1871850-stable/ussuri," def test_process_routers_update_router_update(self): update.action = l3_agent.ADD_UPDATE_ROUTER agent._safe_router_removed = mock.Mock() agent.plugin_rpc = mock.MagicMock() agent.plugin_rpc.get_routers.side_effect = ( Exception(""Failed to get router info"")) # start test agent._process_router_update() router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._resync_router.called) self.assertFalse(agent._safe_router_removed.called) def _test_process_routers_update_router_deleted(self, error=False): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent._queue = mock.Mock() update = mock.Mock() update.resource = None update.action = l3_agent.DELETE_ROUTER router_info = mock.MagicMock() agent.router_info[update.id] = router_info router_processor = mock.Mock() agent._queue.each_update_to_next_resource.side_effect = [ [(router_processor, update)]] agent._resync_router = mock.Mock() agent._safe_router_removed = mock.Mock() if error: self.assertTrue(agent._safe_router_removed.called) else: router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._safe_router_removed.called)"," @mock.patch.object(pd, 'remove_router') def _test_process_routers_update_router_deleted(self, remove_router, error=False): update.action = 1 # ROUTER_DELETED if error: agent._safe_router_removed = mock.Mock() self.assertFalse(remove_router.called) else: router_info.delete.assert_called_once_with() self.assertFalse(agent.router_info) self.assertTrue(remove_router.called)",33,12
openstack%2Ftripleo-quickstart-extras~master~Ibac3e546bb72af8e7550a5ffb6fa82551c7ad564,openstack/tripleo-quickstart-extras,master,Ibac3e546bb72af8e7550a5ffb6fa82551c7ad564,[standalone] Add container_registry_port var,ABANDONED,2019-07-09 15:23:10.000000000,2020-08-29 14:38:50.000000000,,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-09 15:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d450a35bbb44cbc9301e6ab69f2d7cea86034a14', 'message': 'DNM test registry address w/o port\n\nChange-Id: Ibac3e546bb72af8e7550a5ffb6fa82551c7ad564\n'}, {'number': 2, 'created': '2019-07-10 06:11:54.000000000', 'files': ['roles/standalone/tasks/main.yml', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c52eb17c8c0f8c76894cd5b5a4a01c90c5f1a60', 'message': '[standalone] Add container_registry_port var\n\nOn OSP and Red Hat 8 deployment, container_registry_port var\nis optional and not needed. In order to avoid the breaking the\ncurrent CI, It parameteries it.\n\nChange-Id: Ibac3e546bb72af8e7550a5ffb6fa82551c7ad564\n'}]",1,669891,8c52eb17c8c0f8c76894cd5b5a4a01c90c5f1a60,12,6,2,9592,,,0,"[standalone] Add container_registry_port var

On OSP and Red Hat 8 deployment, container_registry_port var
is optional and not needed. In order to avoid the breaking the
current CI, It parameteries it.

Change-Id: Ibac3e546bb72af8e7550a5ffb6fa82551c7ad564
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/669891/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone/defaults/main.yml']",2,d450a35bbb44cbc9301e6ab69f2d7cea86034a14,,container_registry_port: ':8787',,2,1
openstack%2Ftripleo-heat-templates~master~Ic3642197d769398cab0884b68425a861727a4efc,openstack/tripleo-heat-templates,master,Ic3642197d769398cab0884b68425a861727a4efc,add coverage for scenario009 master,ABANDONED,2019-03-22 14:10:51.000000000,2020-08-29 14:38:14.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-22 14:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffa90c867f17b32a06e4e428135b760cc5822021', 'message': 'WIP: add coverage for scenario009 master\n\nPlease comment on additional tht files\nthat could impact scenario009\n\nChange-Id: Ic3642197d769398cab0884b68425a861727a4efc\n'}, {'number': 2, 'created': '2019-05-13 19:20:20.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa374c825a66ea23ecd85663b5d340f70fb43a4a', 'message': 'add coverage for scenario009 master\n\nadd coverage for deployment/kernel/*\n\nChange-Id: Ic3642197d769398cab0884b68425a861727a4efc\n'}]",0,645597,fa374c825a66ea23ecd85663b5d340f70fb43a4a,8,3,2,9592,,,0,"add coverage for scenario009 master

add coverage for deployment/kernel/*

Change-Id: Ic3642197d769398cab0884b68425a861727a4efc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/645597/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ffa90c867f17b32a06e4e428135b760cc5822021,, - ^deployment/kernel/.*$,,1,0
openstack%2Ftripleo-quickstart~master~Ie53cb7b6465789545432e826be23d91aeb4b6f96,openstack/tripleo-quickstart,master,Ie53cb7b6465789545432e826be23d91aeb4b6f96,do not log skipped tasks,ABANDONED,2019-09-20 16:35:29.000000000,2020-08-29 14:36:35.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-20 16:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/11b805dc972ebabc3eadff08b4e313917271a78d', 'message': 'do not log skipped tasks\n\nFollowing tripleo here in not logging\nskipped tasks.  This is an opinion.\n\nReference change: https://review.opendev.org/#/c/683428/\n\nChange-Id: Ie53cb7b6465789545432e826be23d91aeb4b6f96\n'}, {'number': 2, 'created': '2019-10-01 21:15:26.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fd001c39845394ea75b5ceca6a875fa2e78c68dc', 'message': 'do not log skipped tasks\n\nFollowing tripleo here in not logging\nskipped tasks.  This is an opinion.\n\nReference change: https://review.opendev.org/#/c/683428/\n\nChange-Id: Ie53cb7b6465789545432e826be23d91aeb4b6f96\n'}]",1,683530,fd001c39845394ea75b5ceca6a875fa2e78c68dc,17,8,2,9592,,,0,"do not log skipped tasks

Following tripleo here in not logging
skipped tasks.  This is an opinion.

Reference change: https://review.opendev.org/#/c/683428/

Change-Id: Ie53cb7b6465789545432e826be23d91aeb4b6f96
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/683530/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,11b805dc972ebabc3eadff08b4e313917271a78d,dev/ux,display_skipped_hosts = False,,1,0
openstack%2Ftripleo-ci~master~I55e1195bb3274a8fea8407c140014881e2efd646,openstack/tripleo-ci,master,I55e1195bb3274a8fea8407c140014881e2efd646,print pip list for overcloud image builds,ABANDONED,2020-03-26 17:39:58.000000000,2020-08-29 14:35:50.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-26 17:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fa8cdfd09ce4ae0ea748494a4721703a8956118b', 'message': 'print pip list for overcloud image builds\n\nknowing what pip modules are used in the\novercloud image build would be nice.\n\nChange-Id: I55e1195bb3274a8fea8407c140014881e2efd646\n'}, {'number': 2, 'created': '2020-03-26 18:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5eb2450b4f3101fa38b3f7428f393e3feb923958', 'message': 'print pip list for overcloud image builds\n\nknowing what pip modules are used in the\novercloud image build would be nice.\n\nChange-Id: I55e1195bb3274a8fea8407c140014881e2efd646\n'}, {'number': 3, 'created': '2020-03-26 18:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9f068197791936d41acfb068a31657ee945e5e58', 'message': 'print pip list for overcloud image builds\n\nknowing what pip modules are used in the\novercloud image build would be nice.\n\nChange-Id: I55e1195bb3274a8fea8407c140014881e2efd646\n'}, {'number': 4, 'created': '2020-03-26 19:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f7f5605583ccff76b30b8784a80855163f6bddd3', 'message': 'print pip list for overcloud image builds\n\nknowing what pip modules are used in the\novercloud image build would be nice.\n\nChange-Id: I55e1195bb3274a8fea8407c140014881e2efd646\n'}, {'number': 5, 'created': '2020-03-31 02:11:31.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d2263b2ce94a0acd87230a3cc5f794ffac08369a', 'message': 'print pip list for overcloud image builds\n\nknowing what pip modules are used in the\novercloud image build would be nice.\n\nChange-Id: I55e1195bb3274a8fea8407c140014881e2efd646\n'}]",1,715280,d2263b2ce94a0acd87230a3cc5f794ffac08369a,15,7,5,9592,,,0,"print pip list for overcloud image builds

knowing what pip modules are used in the
overcloud image build would be nice.

Change-Id: I55e1195bb3274a8fea8407c140014881e2efd646
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/80/715280/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,fa8cdfd09ce4ae0ea748494a4721703a8956118b,," block: - name: Install deps from upper-constraints pip: extra_args: ""-c {{ openstack_git_root }}/requirements/upper-constraints.txt"" requirements: ""{{ openstack_git_root }}/{{ item }}/requirements.txt"" virtualenv: ""{{ workspace }}/venv"" with_items: - diskimage-builder - python-tripleoclient - tripleo-common - name: pip install tripleo items pip: name: - ""file://{{ openstack_git_root }}/diskimage-builder"" - ""file://{{ openstack_git_root }}/python-tripleoclient"" - ""file://{{ openstack_git_root }}/tripleo-common"" state: present virtualenv: ""{{ workspace }}/venv"" always: - name: pip list register: pip_list command: ""source {{ workspace }}/venv/bin/activate; {{ workspace }}/venv/bin/pip list""; - name: print pip modules debug: var: pip_list.stdout_lines"," pip: extra_args: ""-c {{ openstack_git_root }}/requirements/upper-constraints.txt"" requirements: ""{{ openstack_git_root }}/{{ item }}/requirements.txt"" virtualenv: ""{{ workspace }}/venv"" with_items: - diskimage-builder - python-tripleoclient - tripleo-common - name: pip install tripleo items pip: name: - ""file://{{ openstack_git_root }}/diskimage-builder"" - ""file://{{ openstack_git_root }}/python-tripleoclient"" - ""file://{{ openstack_git_root }}/tripleo-common"" state: present virtualenv: ""{{ workspace }}/venv""",27,16
openstack%2Ftripleo-heat-templates~master~I2e1b3b965c52495eb9c1315857ff30066c42c33e,openstack/tripleo-heat-templates,master,I2e1b3b965c52495eb9c1315857ff30066c42c33e,Remove usage of RetryFilter,MERGED,2020-08-28 15:38:18.000000000,2020-08-29 14:21:34.000000000,2020-08-29 14:21:34.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 15:38:18.000000000', 'files': ['environments/cavium-liquidio.yaml', 'environments/ovs-hw-offload.yaml', 'environments/undercloud.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-mlnx-agent.yaml', 'environments/services/neutron-sriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccee58a60a48b70fe05802b22873075f8c4d7457', 'message': ""Remove usage of RetryFilter\n\nRetryFilter was deprecated in Train and is now\nremoved[1] from nova, so let's cleanup it's usage.\n\n[1] https://review.opendev.org/#/c/744800\n\nChange-Id: I2e1b3b965c52495eb9c1315857ff30066c42c33e\n""}]",0,748701,ccee58a60a48b70fe05802b22873075f8c4d7457,15,8,1,13861,,,0,"Remove usage of RetryFilter

RetryFilter was deprecated in Train and is now
removed[1] from nova, so let's cleanup it's usage.

[1] https://review.opendev.org/#/c/744800

Change-Id: I2e1b3b965c52495eb9c1315857ff30066c42c33e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/748701/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cavium-liquidio.yaml', 'environments/ovs-hw-offload.yaml', 'environments/undercloud.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-mlnx-agent.yaml', 'environments/services/neutron-sriov.yaml']",7,ccee58a60a48b70fe05802b22873075f8c4d7457,remove-deprecated-filters," NovaSchedulerDefaultFilters: ['AvailabilityZoneFilter','ComputeFilter','ComputeCapabilitiesFilter','ImagePropertiesFilter','ServerGroupAntiAffinityFilter','ServerGroupAffinityFilter','PciPassthroughFilter']"," NovaSchedulerDefaultFilters: ['RetryFilter','AvailabilityZoneFilter','ComputeFilter','ComputeCapabilitiesFilter','ImagePropertiesFilter','ServerGroupAntiAffinityFilter','ServerGroupAffinityFilter','PciPassthroughFilter']",7,7
openstack%2Ftripleo-ci~master~Ib6c9c040f2a75204bfb6fdf2b8fd7c60bcc2f270,openstack/tripleo-ci,master,Ib6c9c040f2a75204bfb6fdf2b8fd7c60bcc2f270,ensure containerized-undercloud-upgrades is non-voting,ABANDONED,2020-05-07 21:55:23.000000000,2020-08-29 14:12:09.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-07 21:55:23.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/faa30c140438dd93e61991c9cf5afbfb5cc97873', 'message': 'ensure containerized-undercloud-upgrades is non-voting\n\nChange-Id: Ib6c9c040f2a75204bfb6fdf2b8fd7c60bcc2f270\n'}]",1,726250,faa30c140438dd93e61991c9cf5afbfb5cc97873,39,6,1,9592,,,0,"ensure containerized-undercloud-upgrades is non-voting

Change-Id: Ib6c9c040f2a75204bfb6fdf2b8fd7c60bcc2f270
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/726250/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,faa30c140438dd93e61991c9cf5afbfb5cc97873,, voting: false,,1,0
openstack%2Ftripleo-quickstart-extras~master~I5774b3410e3dfcd2c2ff7fa609f524281cb627b3,openstack/tripleo-quickstart-extras,master,I5774b3410e3dfcd2c2ff7fa609f524281cb627b3,update master skip lp#1852770,ABANDONED,2020-04-14 18:38:21.000000000,2020-08-29 14:11:06.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-14 18:38:21.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/90bfcfc7744f5b39502715e632f09d0c74e78031', 'message': 'update master skip lp#1852770\n\nPartial-Bug: #1852770\nChange-Id: I5774b3410e3dfcd2c2ff7fa609f524281cb627b3\n'}]",0,720050,90bfcfc7744f5b39502715e632f09d0c74e78031,6,4,1,9592,,,0,"update master skip lp#1852770

Partial-Bug: #1852770
Change-Id: I5774b3410e3dfcd2c2ff7fa609f524281cb627b3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/720050/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,90bfcfc7744f5b39502715e632f09d0c74e78031,, - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1852770',,3,0
openstack%2Ftripleo-ci~master~I5cce004095055c23a7d7d4ef42113247d4f8d21a,openstack/tripleo-ci,master,I5cce004095055c23a7d7d4ef42113247d4f8d21a,update tox to min version py36,ABANDONED,2020-03-02 20:47:51.000000000,2020-08-29 14:10:35.000000000,,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 20:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/700a64d4943db4e51350b114ef79d9be51885a1d', 'message': 'update tox to min version py36\n\nThere are incoming issues w/ py35\nOther tripleo projects in master are py36+\n\nRelated-Bug: #1865560\nChange-Id: I5cce004095055c23a7d7d4ef42113247d4f8d21a\n'}, {'number': 2, 'created': '2020-03-02 21:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/538842c6c2d8c88d406f4b3a986bc040dea2ae7b', 'message': 'update tox to min version py36\n\nThere are incoming issues w/ py35\nOther tripleo projects in master are py36+\n\nRelated-Bug: #1865560\nChange-Id: I5cce004095055c23a7d7d4ef42113247d4f8d21a\n'}, {'number': 3, 'created': '2020-03-04 19:13:10.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e4addcb592b66b3af71447ca7851898d1f2f155', 'message': 'update tox to min version py36\n\nThere are incoming issues w/ py35\nOther tripleo projects in master are py36+\n\nRelated-Bug: #1865560\nChange-Id: I5cce004095055c23a7d7d4ef42113247d4f8d21a\n'}]",0,710869,4e4addcb592b66b3af71447ca7851898d1f2f155,22,5,3,9592,,,0,"update tox to min version py36

There are incoming issues w/ py35
Other tripleo projects in master are py36+

Related-Bug: #1865560
Change-Id: I5cce004095055c23a7d7d4ef42113247d4f8d21a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/710869/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,700a64d4943db4e51350b114ef79d9be51885a1d,,"envlist = linters,py{37,36,27} minversion = 3.6.0","envlist = linters,py{37,36,35,27} minversion = 3.4.0",2,2
openstack%2Fpuppet-nova~master~If6bd13bed00ab954eb2b920dd5f1a59fcbeee736,openstack/puppet-nova,master,If6bd13bed00ab954eb2b920dd5f1a59fcbeee736,Deprecate floating ip pool management for nova-network,MERGED,2020-08-26 23:40:15.000000000,2020-08-29 13:55:51.000000000,2020-08-29 13:54:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 23:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6c702f2573c11220251abc2ecf422f2117bb31d2', 'message': 'Deprecate floating ip pool management for nova-network\n\nChange-Id: If6bd13bed00ab954eb2b920dd5f1a59fcbeee736\n'}, {'number': 2, 'created': '2020-08-26 23:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a98664476b709ab4f692a8e4acf6520635341cef', 'message': 'Deprecate floating ip pool management for nova-network\n\nChange-Id: If6bd13bed00ab954eb2b920dd5f1a59fcbeee736\n'}, {'number': 3, 'created': '2020-08-26 23:49:01.000000000', 'files': ['lib/puppet/provider/nova_floating/nova_manage.rb', 'spec/unit/provider/nova_floating/nova_manage_spec.rb', 'lib/puppet/type/nova_floating.rb', 'releasenotes/notes/deprecate-nova_floating-8d507b9214b2440d.yaml', 'manifests/manage/floating.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/924e9d3f022df6f00f36a39ffb1bad939b937a3d', 'message': 'Deprecate floating ip pool management for nova-network\n\nChange-Id: If6bd13bed00ab954eb2b920dd5f1a59fcbeee736\n'}]",0,748325,924e9d3f022df6f00f36a39ffb1bad939b937a3d,15,4,3,9816,,,0,"Deprecate floating ip pool management for nova-network

Change-Id: If6bd13bed00ab954eb2b920dd5f1a59fcbeee736
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/25/748325/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/nova_floating/nova_manage.rb', 'spec/unit/provider/nova_floating/nova_manage_spec.rb', 'lib/puppet/type/nova_floating.rb', 'releasenotes/notes/deprecate-nova_floating-8d507b9214b2440d.yaml', 'manifests/manage/floating.pp']",5,6c702f2573c11220251abc2ecf422f2117bb31d2,manage-floating_ip,define nova::manage::floating ( $network ) { warning('The nova::manage::floating class was deprecated and has no effect'),"define nova::manage::floating ( $network ) { nova_floating { $name: ensure => present, network => $network, provider => 'nova_manage', }",17,137
openstack%2Fmasakari~master~Ifc076d4014e5934302780c9d676f3ff4c18b9865,openstack/masakari,master,Ifc076d4014e5934302780c9d676f3ff4c18b9865,Fix the issue when opening TLS,ABANDONED,2020-04-20 06:59:51.000000000,2020-08-29 13:53:04.000000000,,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-20 06:59:51.000000000', 'files': ['masakari/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/7faebea64eed423d9f91ccb9f703ec76bdc87ae7', 'message': 'Fix the issue when opening TLS\n\nNeed to contact keystone when getting session.\nIf the certificate is not passed in the session, it will cause SSLError.\n\nCloses-Bug: #1873736\n\nChange-Id: Ifc076d4014e5934302780c9d676f3ff4c18b9865\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",4,721174,7faebea64eed423d9f91ccb9f703ec76bdc87ae7,11,6,1,28367,,,0,"Fix the issue when opening TLS

Need to contact keystone when getting session.
If the certificate is not passed in the session, it will cause SSLError.

Closes-Bug: #1873736

Change-Id: Ifc076d4014e5934302780c9d676f3ff4c18b9865
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari refs/changes/74/721174/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/compute/nova.py'],1,7faebea64eed423d9f91ccb9f703ec76bdc87ae7,bug/1873736," keystone_session = keystoneauth1.session.Session( auth=auth, verify=CONF.nova_ca_certificates_file)", keystone_session = keystoneauth1.session.Session(auth=auth),3,1
openstack%2Fopenstack-ansible-os_ironic~master~Id545c8cda0de7bab73d26e2001e57004f65af10a,openstack/openstack-ansible-os_ironic,master,Id545c8cda0de7bab73d26e2001e57004f65af10a,Fix ironic ramdisk logs,MERGED,2020-08-28 14:32:31.000000000,2020-08-29 13:22:42.000000000,2020-08-29 13:21:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2020-08-28 14:32:31.000000000', 'files': ['templates/inspector.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bb975518478bf9565db0573b0c094291f5f908a7', 'message': 'Fix ironic ramdisk logs\n\nChange-Id: Id545c8cda0de7bab73d26e2001e57004f65af10a\n'}]",0,748678,bb975518478bf9565db0573b0c094291f5f908a7,10,3,1,1004,,,0,"Fix ironic ramdisk logs

Change-Id: Id545c8cda0de7bab73d26e2001e57004f65af10a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/78/748678/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/inspector.conf.j2'],1,bb975518478bf9565db0573b0c094291f5f908a7,fix-ironic-dir,ramdisk_logs_dir = {{ ironic_system_home_folder }}/ramdisk-logs,ramdisk_logs_dir = /ironic/log,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I00e9151e7347e71215d36698e8ee3c3e603ce784,openstack/puppet-openstack-integration,stable/ussuri,I00e9151e7347e71215d36698e8ee3c3e603ce784,[CentOS8] Enable os_neutron_dac_override,MERGED,2020-08-28 15:22:13.000000000,2020-08-29 13:15:48.000000000,2020-08-29 13:15:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 15:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0461077f2dcec9d5394650b23b60bc509444b01f', 'message': '[CentOS8] Enable os_neutron_dac_override\n\nWe should enable os_neutron_dac_override when installing Neutron,\notherwise privsep helper always fails to start.\n\nChange-Id: I00e9151e7347e71215d36698e8ee3c3e603ce784\n(cherry picked from commit a71c6f3046b0c9694bdfc4701999e5d60aa663db)\n'}, {'number': 2, 'created': '2020-08-29 04:08:18.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6f9134e95b9bc26c6d60a6e0f8a496a5a53c6f86', 'message': '[CentOS8] Enable os_neutron_dac_override\n\nWe should enable os_neutron_dac_override when installing Neutron,\notherwise privsep helper always fails to start.\n\nChange-Id: I00e9151e7347e71215d36698e8ee3c3e603ce784\n(cherry picked from commit a71c6f3046b0c9694bdfc4701999e5d60aa663db)\n'}]",3,748694,6f9134e95b9bc26c6d60a6e0f8a496a5a53c6f86,11,3,2,9816,,,0,"[CentOS8] Enable os_neutron_dac_override

We should enable os_neutron_dac_override when installing Neutron,
otherwise privsep helper always fails to start.

Change-Id: I00e9151e7347e71215d36698e8ee3c3e603ce784
(cherry picked from commit a71c6f3046b0c9694bdfc4701999e5d60aa663db)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/748694/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,0461077f2dcec9d5394650b23b60bc509444b01f,centos8-beaker-stable/ussuri," if ($::operatingsystem == 'CentOS') and (versioncmp($::operatingsystemmajrelease, '8') == 0) { # os_neutron_dac_override should be on to start privsep-helper # See https://bugzilla.redhat.com/show_bug.cgi?id=1850973 selboolean { 'os_neutron_dac_override': persistent => true, value => on, } } ",,9,0
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ic3327c3d104897589ba938321cecc6a2912ef5ec,openstack/puppet-openstack-integration,stable/ussuri,Ic3327c3d104897589ba938321cecc6a2912ef5ec,Set listen_address explicitly in ironic-inspector,MERGED,2020-08-28 15:27:23.000000000,2020-08-29 13:15:47.000000000,2020-08-29 13:15:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 15:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d78ca1a8b31e166e3b779af2fbe80cc736a62545', 'message': 'Set listen_address explicitly in ironic-inspector\n\nThis patch makes sure that listen_address is explicitly set in\nironic-inspector, to avoid issue caused by unexpected IP verison (v4 or\nv6) used.\n\nChange-Id: Ic3327c3d104897589ba938321cecc6a2912ef5ec\n(cherry picked from commit d5eb3ada0f8a8f45b313ae44333db1d2e4d68633)\n'}, {'number': 2, 'created': '2020-08-29 04:10:18.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b977c92e886aef868efb334b14a6b55ba231eda0', 'message': 'Set listen_address explicitly in ironic-inspector\n\nThis patch makes sure that listen_address is explicitly set in\nironic-inspector, to avoid issue caused by unexpected IP verison (v4 or\nv6) used.\n\nChange-Id: Ic3327c3d104897589ba938321cecc6a2912ef5ec\n(cherry picked from commit d5eb3ada0f8a8f45b313ae44333db1d2e4d68633)\n'}]",0,748697,b977c92e886aef868efb334b14a6b55ba231eda0,9,3,2,9816,,,0,"Set listen_address explicitly in ironic-inspector

This patch makes sure that listen_address is explicitly set in
ironic-inspector, to avoid issue caused by unexpected IP verison (v4 or
v6) used.

Change-Id: Ic3327c3d104897589ba938321cecc6a2912ef5ec
(cherry picked from commit d5eb3ada0f8a8f45b313ae44333db1d2e4d68633)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/748697/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,d78ca1a8b31e166e3b779af2fbe80cc736a62545,centos8-beaker-stable/ussuri," listen_address => $::openstack_integration::config::host,",,1,0
openstack%2Frequirements~master~I6826576c234763335cdd096b1c71437c3a793c9a,openstack/requirements,master,I6826576c234763335cdd096b1c71437c3a793c9a,Updated from generate-constraints,MERGED,2020-08-29 06:17:53.000000000,2020-08-29 09:34:47.000000000,2020-08-29 09:33:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-29 06:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/af8298a4c2738f33c60fb784c23ce701d770cbff', 'message': 'Updated from generate-constraints\n\nChange-Id: I6826576c234763335cdd096b1c71437c3a793c9a\n'}, {'number': 2, 'created': '2020-08-29 06:26:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6e9786fd2076d0d74726925623cc5f3c3c6c960a', 'message': 'Updated from generate-constraints\n\nChange-Id: I6826576c234763335cdd096b1c71437c3a793c9a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,748791,6e9786fd2076d0d74726925623cc5f3c3c6c960a,11,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: I6826576c234763335cdd096b1c71437c3a793c9a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/748791/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,af8298a4c2738f33c60fb784c23ce701d770cbff,openstack/requirements/constraints/noclob,python-slugify===4.0.1sniffio===1.1.0immutables===0.14;python_version=='3.6'mock===4.0.2httpcore===0.10.2h11===0.9.0docutils===0.16boto3===1.14.51text-unidecode===1.3more-itertools===8.5.0botocore===1.17.51contextvars===2.4;python_version=='3.6'pkg-resources===0.0.0httpx===0.14.2confspirator===0.2.2,mock===3.0.5docutils===0.15.2boto3===1.14.50more-itertools===8.4.0botocore===1.17.50httpx===0.14.2 confspirator===0.2.2,15,7
openstack%2Fpuppet-neutron~master~Id2e3858bbdc04dbad3e6157a5e1f67dfcdea12e8,openstack/puppet-neutron,master,Id2e3858bbdc04dbad3e6157a5e1f67dfcdea12e8,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-29 09:18:03.000000000,2020-08-29 09:17:02.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e8ca2ef8f88307b5f69380c58f5c141bfca2e78c', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Id2e3858bbdc04dbad3e6157a5e1f67dfcdea12e8\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:23.000000000', 'files': ['spec/classes/neutron_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-aacec8e7376a8098.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4653e8e0275072fa22a10aad213005f603add2e6', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Id2e3858bbdc04dbad3e6157a5e1f67dfcdea12e8\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748094,4653e8e0275072fa22a10aad213005f603add2e6,15,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Id2e3858bbdc04dbad3e6157a5e1f67dfcdea12e8
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/94/748094/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-aacec8e7376a8098.yaml', 'manifests/db.pp']",3,e8ca2ef8f88307b5f69380c58f5c141bfca2e78c,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Fpython-masakariclient~master~Ie856868afe0593aa65528a35e999cfd407baa77d,openstack/python-masakariclient,master,Ie856868afe0593aa65528a35e999cfd407baa77d,Remove translation sections from setup.cfg,MERGED,2020-05-19 15:59:33.000000000,2020-08-29 09:15:00.000000000,2020-08-29 09:14:00.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-19 15:59:33.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/3427e56742294c4be121fbcd2afaaa395363f764', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Ie856868afe0593aa65528a35e999cfd407baa77d\n'}]",0,729312,3427e56742294c4be121fbcd2afaaa395363f764,7,2,1,30356,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Ie856868afe0593aa65528a35e999cfd407baa77d
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/12/729312/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,3427e56742294c4be121fbcd2afaaa395363f764,,, [compile_catalog] directory = masakariclient/locale domain = masakariclient [update_catalog] domain = masakariclient output_dir = masakariclient/locale input_file = masakariclient/locale/masakariclient.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = masakariclient/locale/masakariclient.pot,0,16
openstack%2Fpython-masakariclient~master~Id3a2cf67e62af0d66d04090c22ff01c88f1ae9bb,openstack/python-masakariclient,master,Id3a2cf67e62af0d66d04090c22ff01c88f1ae9bb,drop mock from lower-constraints,MERGED,2020-06-09 09:57:30.000000000,2020-08-29 09:12:49.000000000,2020-08-29 09:11:48.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 09:57:30.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/41ec312cd6bbd6c984eb22b4e6687353b980cd74', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Id3a2cf67e62af0d66d04090c22ff01c88f1ae9bb\n""}]",0,734518,41ec312cd6bbd6c984eb22b4e6687353b980cd74,7,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Id3a2cf67e62af0d66d04090c22ff01c88f1ae9bb
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/18/734518/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,41ec312cd6bbd6c984eb22b4e6687353b980cd74,drop_mock,,mock==2.0.0,0,1
openstack%2Fmasakari-specs~master~I0d4b9cb1afcf95694fc72f432fc65c7ed427c4d0,openstack/masakari-specs,master,I0d4b9cb1afcf95694fc72f432fc65c7ed427c4d0,Fix pygments style,ABANDONED,2020-05-20 02:59:37.000000000,2020-08-29 09:07:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 02:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/7e4c0b6047e38da2bf42a58cb8e536098921e726', 'message': 'Fix pygments style\n\nChange-Id: I0d4b9cb1afcf95694fc72f432fc65c7ed427c4d0\n'}, {'number': 2, 'created': '2020-05-20 07:04:37.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/871445b813525fbd075d8e1bf864a6e9b89b9c8f', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I0d4b9cb1afcf95694fc72f432fc65c7ed427c4d0\n'}]",0,729497,871445b813525fbd075d8e1bf864a6e9b89b9c8f,6,1,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I0d4b9cb1afcf95694fc72f432fc65c7ed427c4d0
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/97/729497/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7e4c0b6047e38da2bf42a58cb8e536098921e726,,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Fpython-masakariclient~master~I9b49461408e0edc51b077b94395ef043fb0c691b,openstack/python-masakariclient,master,I9b49461408e0edc51b077b94395ef043fb0c691b,Fix pygments style,ABANDONED,2020-05-20 03:03:00.000000000,2020-08-29 09:06:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 03:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/2d8ea2c294253fa57677a55f9d4f0b82cb266045', 'message': 'Fix pygments style\n\nChange-Id: I9b49461408e0edc51b077b94395ef043fb0c691b\n'}, {'number': 2, 'created': '2020-05-20 07:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/97489f13645310be1f6bf6489df199f40000d6a4', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I9b49461408e0edc51b077b94395ef043fb0c691b\n'}, {'number': 3, 'created': '2020-08-29 09:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/8b8c3dcf2f47c0d29a985e5ea025bed455d1b784', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I9b49461408e0edc51b077b94395ef043fb0c691b\n'}]",0,729498,8b8c3dcf2f47c0d29a985e5ea025bed455d1b784,7,1,3,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I9b49461408e0edc51b077b94395ef043fb0c691b
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/98/729498/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,2d8ea2c294253fa57677a55f9d4f0b82cb266045,,pygments_style = 'native',pygments_style = 'sphinx',2,2
openstack%2Fpython-masakariclient~master~I51ed469d86ed2a9889e794ef4525eac0434f5377,openstack/python-masakariclient,master,I51ed469d86ed2a9889e794ef4525eac0434f5377,Stop to use the __future__ module.,MERGED,2020-06-02 18:49:40.000000000,2020-08-29 09:00:15.000000000,2020-08-29 08:58:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-02 18:49:40.000000000', 'files': ['masakariclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/e9debc0ae56cacfadc5640b137ddda5b9262b3eb', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I51ed469d86ed2a9889e794ef4525eac0434f5377\n""}]",0,732926,e9debc0ae56cacfadc5640b137ddda5b9262b3eb,9,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I51ed469d86ed2a9889e794ef4525eac0434f5377
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/26/732926/1 && git format-patch -1 --stdout FETCH_HEAD,['masakariclient/shell.py'],1,e9debc0ae56cacfadc5640b137ddda5b9262b3eb,drop_future_imports,,from __future__ import print_function ,0,2
openstack%2Fpython-masakariclient~master~I5583ddaec669ae20a8039fd7155e6e25dbbef95b,openstack/python-masakariclient,master,I5583ddaec669ae20a8039fd7155e6e25dbbef95b,Switch to newer openstackdocstheme and reno versions,MERGED,2020-05-18 19:57:56.000000000,2020-08-29 08:59:18.000000000,2020-08-29 08:57:59.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-18 19:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/a7ed1d307950c0f918f00c0ea06fecbf5e2dea20', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.0 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nDepends-On: https://review.opendev.org/728938\nChange-Id: I5583ddaec669ae20a8039fd7155e6e25dbbef95b\n""}, {'number': 2, 'created': '2020-05-18 20:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/6c2bdc8ba23a61cdef8d94f74de1fc9cc5d19a0e', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.0 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nDepends-On: https://review.opendev.org/728938\nChange-Id: I5583ddaec669ae20a8039fd7155e6e25dbbef95b\n""}, {'number': 3, 'created': '2020-05-21 07:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/ded1cb324b2c1fbb2492ca51135790c64988c801', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.0 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I5583ddaec669ae20a8039fd7155e6e25dbbef95b\n""}, {'number': 4, 'created': '2020-05-22 17:18:28.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/9a5e107a194ac49a4ac5391eb1abeda0383d1b57', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I5583ddaec669ae20a8039fd7155e6e25dbbef95b\n""}]",1,729020,9a5e107a194ac49a4ac5391eb1abeda0383d1b57,17,10,4,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

Set openstackdocs_auto_name to use 'project' as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I5583ddaec669ae20a8039fd7155e6e25dbbef95b
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/20/729020/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py']",4,a7ed1d307950c0f918f00c0ea06fecbf5e2dea20,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/python-masakariclient' openstackdocs_bug_project = 'python-masakariclient' openstackdocs_bug_tag = '' openstackdocs_auto_name = False,repository_name = 'openstack/python-masakariclient' bug_project = 'python-masakariclient' bug_tag = '',9,13
openstack%2Fmasakari~master~Ifac047efc02a9dcee7d2230298d0623478d0b3db,openstack/masakari,master,Ifac047efc02a9dcee7d2230298d0623478d0b3db,[docs] Add missing control_attributes,MERGED,2020-05-20 15:38:55.000000000,2020-08-29 08:56:00.000000000,2020-08-29 08:54:38.000000000,"[{'_account_id': 1011}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-20 15:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d3e44d66df9c5341185898ea17af571b6e34e086', 'message': 'Add missing control_attributes in creating segment host\n\ncontrol_attributes is a required parameter.\n\nChange-Id: Ifac047efc02a9dcee7d2230298d0623478d0b3db\n'}, {'number': 2, 'created': '2020-08-29 08:40:55.000000000', 'files': ['api-ref/source/hosts.inc'], 'web_link': 'https://opendev.org/openstack/masakari/commit/045fabb8df0167d61c6575e3413326233af5bdcf', 'message': '[docs] Add missing control_attributes\n\ncontrol_attributes is a required parameter for segment host.\n\nChange-Id: Ifac047efc02a9dcee7d2230298d0623478d0b3db\n'}]",1,729637,045fabb8df0167d61c6575e3413326233af5bdcf,14,7,2,21757,,,0,"[docs] Add missing control_attributes

control_attributes is a required parameter for segment host.

Change-Id: Ifac047efc02a9dcee7d2230298d0623478d0b3db
",git fetch https://review.opendev.org/openstack/masakari refs/changes/37/729637/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/hosts.inc'],1,d3e44d66df9c5341185898ea17af571b6e34e086,, - control_attributes: control_attributes,,1,0
openstack%2Fmasakari-dashboard~master~I2d69cd151ef24f48612f3960f2dcce7562f84a2d,openstack/masakari-dashboard,master,I2d69cd151ef24f48612f3960f2dcce7562f84a2d,Switch to newer openstackdocstheme and reno versions,MERGED,2020-05-31 16:08:57.000000000,2020-08-29 08:55:57.000000000,2020-08-29 08:54:57.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-31 16:08:57.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/e7eda23f5277d60d3b5bb4d88d8423102b611c50', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I2d69cd151ef24f48612f3960f2dcce7562f84a2d\n""}]",0,732027,e7eda23f5277d60d3b5bb4d88d8423102b611c50,10,11,1,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I2d69cd151ef24f48612f3960f2dcce7562f84a2d
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/27/732027/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,e7eda23f5277d60d3b5bb4d88d8423102b611c50,reno-openstackdocstheme,pygments_style = 'native'openstackdocs_repo_name = 'openstack/masakari-dashboard' openstackdocs_auto_name = False openstackdocs_bug_project = 'masakari' openstackdocs_bug_tag = '',"pygments_style = 'sphinx'repository_name = 'openstack/masakari-dashboard' bug_project = 'masakari' bug_tag = ''# Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M' ",13,25
openstack%2Fmasakari-monitors~master~I4d11b986ed6ce54fbc2b08234c061041099b709e,openstack/masakari-monitors,master,I4d11b986ed6ce54fbc2b08234c061041099b709e,Switch to newer openstackdocstheme and reno versions,MERGED,2020-05-31 16:05:07.000000000,2020-08-29 08:54:20.000000000,2020-08-29 08:52:45.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-31 16:05:07.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/3e93eab35653a27f5f87b0733acdf5ac4ee81cc1', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I4d11b986ed6ce54fbc2b08234c061041099b709e\n""}]",0,732025,3e93eab35653a27f5f87b0733acdf5ac4ee81cc1,10,10,1,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

Remove docs requirements from lower-constraints, they are not needed
during install or test but only for docs building.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I4d11b986ed6ce54fbc2b08234c061041099b709e
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/25/732025/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",5,3e93eab35653a27f5f87b0733acdf5ac4ee81cc1,reno-openstackdocstheme,pygments_style = 'native'openstackdocs_repo_name = 'openstack/masakari-monitors' openstackdocs_bug_project = 'masakari-monitors' openstackdocs_auto_name = False,pygments_style = 'sphinx'repository_name = 'openstack/masakari-monitors',9,14
openstack%2Fpython-masakariclient~master~I878d5999818b82b5dee3c1dc0cab8f75aa1a82e4,openstack/python-masakariclient,master,I878d5999818b82b5dee3c1dc0cab8f75aa1a82e4,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:32:35.000000000,2020-08-29 08:49:47.000000000,2020-08-29 08:48:31.000000000,"[{'_account_id': 3085}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-13 00:32:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/c25fc5367b8ee7ef66198b94baeb62ad93e23ade', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I878d5999818b82b5dee3c1dc0cab8f75aa1a82e4\n'}]",0,727534,c25fc5367b8ee7ef66198b94baeb62ad93e23ade,8,4,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I878d5999818b82b5dee3c1dc0cab8f75aa1a82e4
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/34/727534/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c25fc5367b8ee7ef66198b94baeb62ad93e23ade,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fmasakari-monitors~master~I56dca98d06458174af0f3d4dc585a754e8692f89,openstack/masakari-monitors,master,I56dca98d06458174af0f3d4dc585a754e8692f89,Remove six,MERGED,2020-05-12 15:56:58.000000000,2020-08-29 08:47:18.000000000,2020-08-29 08:46:12.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26285}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-12 15:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/3620438da4ece3d352181d4d9a7308455630c9c6', 'message': ""Remove six\n\nWe don't need this in a Python 3-only world.\n\nChange-Id: I56dca98d06458174af0f3d4dc585a754e8692f89\n""}, {'number': 2, 'created': '2020-05-13 15:13:01.000000000', 'files': ['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/utils.py', 'requirements.txt', 'lower-constraints.txt', 'masakarimonitors/version.py', 'masakarimonitors/hostmonitor/host_handler/driver.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/33d25e3cc3b9833ecb30b8f17254a78df656cf47', 'message': ""Remove six\n\nWe don't need this in a Python 3-only world.\n\nChange-Id: I56dca98d06458174af0f3d4dc585a754e8692f89\n""}]",2,727252,33d25e3cc3b9833ecb30b8f17254a78df656cf47,12,10,2,28614,,,0,"Remove six

We don't need this in a Python 3-only world.

Change-Id: I56dca98d06458174af0f3d4dc585a754e8692f89
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/52/727252/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/utils.py', 'requirements.txt', 'lower-constraints.txt', 'masakarimonitors/version.py', 'masakarimonitors/hostmonitor/host_handler/driver.py']",6,3620438da4ece3d352181d4d9a7308455630c9c6,," class DriverBase(object, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class DriverBase(object):,11,18
openstack%2Fmasakari~master~I418ad39927a234feda7ea2e82710312c9da88a88,openstack/masakari,master,I418ad39927a234feda7ea2e82710312c9da88a88,Fix typo in api docs for sort_key request parameter,MERGED,2020-06-11 01:39:03.000000000,2020-08-29 08:46:14.000000000,2020-08-29 08:45:03.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-11 01:39:03.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6e986ec44ee6e6452024017c6c0cb937ea1d4c99', 'message': 'Fix typo in api docs for sort_key request parameter\n\nThe default value of ``sort_key`` request parameter should\nbe ``created_at`` and not ``created``.\n\nChange-Id: I418ad39927a234feda7ea2e82710312c9da88a88\n'}]",0,735032,6e986ec44ee6e6452024017c6c0cb937ea1d4c99,8,3,1,1011,,,0,"Fix typo in api docs for sort_key request parameter

The default value of ``sort_key`` request parameter should
be ``created_at`` and not ``created``.

Change-Id: I418ad39927a234feda7ea2e82710312c9da88a88
",git fetch https://review.opendev.org/openstack/masakari refs/changes/32/735032/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,6e986ec44ee6e6452024017c6c0cb937ea1d4c99,fix-api-docs, Sorts by a hosts attribute. Default attribute is ``created_at``. You can specify Sorts by a notification attribute. Default attribute is ``created_at``. You can specify Sorts by a segment attribute. Default attribute is ``created_at``. You can specify, Sorts by a hosts attribute. Default attribute is ``created``. You can specify Sorts by a notification attribute. Default attribute is ``created``. You can specify Sorts by a segment attribute. Default attribute is ``created``. You can specify,3,3
openstack%2Fmasakari-monitors~master~I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26,openstack/masakari-monitors,master,I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26,Sync Sphinx requirement,ABANDONED,2019-10-09 08:30:13.000000000,2020-08-29 08:45:35.000000000,,"[{'_account_id': 1011}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-09 08:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/14bd4608384eb081fc7220a157d3d860a149954d', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26\n'}, {'number': 2, 'created': '2019-10-10 06:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/afde0cc380dfd2ecb7bd24471488b5a10463a7ad', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26\n'}, {'number': 3, 'created': '2020-06-24 02:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/087210ef4c0bc53eb1aca21d2aa8af4b7d04ccf5', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements.\n\nChange-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26\n'}, {'number': 4, 'created': '2020-06-24 02:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/7632a2948dd84fab76d76febb4b151cc803f0ae9', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements.\n\nChange-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26\n'}, {'number': 5, 'created': '2020-06-24 04:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/3296c4aa66c105ee292f0fdda24fb6911273ac1d', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements.\n\nChange-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26\n'}, {'number': 6, 'created': '2020-06-24 05:15:55.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9fad4b7f4b408b36c0b88903007fce9476ed36e7', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements.\n\nChange-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26\n'}]",0,687485,9fad4b7f4b408b36c0b88903007fce9476ed36e7,17,5,6,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements.

Change-Id: I4edfc0b7b0959d0d679d8fc40a3d8e38f80e8a26
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/85/687485/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,14bd4608384eb081fc7220a157d3d860a149954d,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmasakari-monitors~master~I62d5b4c0259c6e2e0fee361542d4b1234ab0ea57,openstack/masakari-monitors,master,I62d5b4c0259c6e2e0fee361542d4b1234ab0ea57,Replace assertRaisesRegexp with assertRaisesRegex,MERGED,2018-08-27 14:16:03.000000000,2020-08-29 08:44:41.000000000,2020-08-29 08:42:35.000000000,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2018-08-27 14:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/fb2805aa5f12fa5412be994308558e00672f841c', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nThis replaces the deprecated (in python 3.2) unittest.TestCase method\nassertRaisesRegexp() with assertRaisesRegex().\n\nAlso add associated hacking check.\n\nChange-Id: I62d5b4c0259c6e2e0fee361542d4b1234ab0ea57\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2020-06-24 01:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/b06ee403bebbe0e2e682a58d4534578746fed751', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nThis replaces the deprecated (in python 3.2) unittest.TestCase method\nassertRaisesRegexp() with assertRaisesRegex().\n\nAlso add associated hacking check.\n\nChange-Id: I62d5b4c0259c6e2e0fee361542d4b1234ab0ea57\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2020-06-24 01:12:22.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hacking/checks.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/886543d9e7901dcde482e04ce52956a979dfd952', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nThis replaces the deprecated (in python 3.2) unittest.TestCase method\nassertRaisesRegexp() with assertRaisesRegex().\n\nAlso add associated hacking check.\n\nChange-Id: I62d5b4c0259c6e2e0fee361542d4b1234ab0ea57\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",1,596751,886543d9e7901dcde482e04ce52956a979dfd952,13,3,3,24,,,0,"Replace assertRaisesRegexp with assertRaisesRegex

This replaces the deprecated (in python 3.2) unittest.TestCase method
assertRaisesRegexp() with assertRaisesRegex().

Also add associated hacking check.

Change-Id: I62d5b4c0259c6e2e0fee361542d4b1234ab0ea57
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/51/596751/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hacking/checks.py']",2,fb2805aa5f12fa5412be994308558e00672f841c,replace_deprecated_methods,"assert_raises_regexp = re.compile(r""assertRaisesRegexp\("")def assert_raisesRegexp(logical_line): """"""Check that assertRaisesRegexp is not used."""""" res = assert_raises_regexp.search(logical_line) if res: yield (0, ""M007: assertRaisesRegex must be used instead "" ""of assertRaisesRegexp"") ",,10,1
openstack%2Fmasakari-monitors~master~I88ec65a91b0fb51f9598451a3caf5c3cca86ff9a,openstack/masakari-monitors,master,I88ec65a91b0fb51f9598451a3caf5c3cca86ff9a,drop mock from lower-constraints,MERGED,2020-06-08 23:22:04.000000000,2020-08-29 08:43:43.000000000,2020-08-29 08:42:33.000000000,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27621}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-08 23:22:04.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/bd36ed38f4b853b730a969e6ef6faae79639f5aa', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I88ec65a91b0fb51f9598451a3caf5c3cca86ff9a\n""}]",0,734369,bd36ed38f4b853b730a969e6ef6faae79639f5aa,10,5,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I88ec65a91b0fb51f9598451a3caf5c3cca86ff9a
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/69/734369/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,bd36ed38f4b853b730a969e6ef6faae79639f5aa,drop_mock,,mock==2.0.0,0,1
openstack%2Fmasakari-monitors~master~Ic97f0c22cd333593df049f61ba0316a07a0075e3,openstack/masakari-monitors,master,Ic97f0c22cd333593df049f61ba0316a07a0075e3,Remove translation sections from setup.cfg,MERGED,2020-05-19 15:56:47.000000000,2020-08-29 08:42:34.000000000,2020-08-29 08:42:34.000000000,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-19 15:56:47.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/649c9016ec01a5364d8241c5ca138c14c2011bc1', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Ic97f0c22cd333593df049f61ba0316a07a0075e3\n'}]",0,729309,649c9016ec01a5364d8241c5ca138c14c2011bc1,8,4,1,30356,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Ic97f0c22cd333593df049f61ba0316a07a0075e3
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/09/729309/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,649c9016ec01a5364d8241c5ca138c14c2011bc1,,, [compile_catalog] directory = masakarimonitors/locale domain = masakarimonitors [update_catalog] domain = masakarimonitors output_dir = masakarimonitors/locale input_file = masakarimonitors/locale/masakarimonitors.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = masakarimonitors/locale/masakarimonitors.pot,0,16
openstack%2Fmasakari~master~Ie0dda286eda1d4c955839f10b598b15fb5d95f19,openstack/masakari,master,Ie0dda286eda1d4c955839f10b598b15fb5d95f19,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:28:44.000000000,2020-08-29 08:39:14.000000000,2020-08-29 08:37:59.000000000,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-13 00:28:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6812d8708e636fbeeb63fac16dc98b0bf85f4b2b', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ie0dda286eda1d4c955839f10b598b15fb5d95f19\n'}]",0,727512,6812d8708e636fbeeb63fac16dc98b0bf85f4b2b,10,5,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Ie0dda286eda1d4c955839f10b598b15fb5d95f19
",git fetch https://review.opendev.org/openstack/masakari refs/changes/12/727512/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6812d8708e636fbeeb63fac16dc98b0bf85f4b2b,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fcharm-interface-mysql-shared~master~Iecb1f943ffa5505617b5e5eb70f070458fc6645d,openstack/charm-interface-mysql-shared,master,Iecb1f943ffa5505617b5e5eb70f070458fc6645d,Scale-in fixes,MERGED,2020-08-28 16:35:22.000000000,2020-08-29 08:28:18.000000000,2020-08-29 08:28:18.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 16:35:22.000000000', 'files': ['unit_tests/test_provides.py', 'provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-shared/commit/06675c43c9f48ffa98b2abf2ddca137f8d18f31c', 'message': 'Scale-in fixes\n\nProperly handle departed and broken hooks.\n\nChange-Id: Iecb1f943ffa5505617b5e5eb70f070458fc6645d\nCloses-Bug: #1881596\n'}]",0,748717,06675c43c9f48ffa98b2abf2ddca137f8d18f31c,8,3,1,20805,,,0,"Scale-in fixes

Properly handle departed and broken hooks.

Change-Id: Iecb1f943ffa5505617b5e5eb70f070458fc6645d
Closes-Bug: #1881596
",git fetch https://review.opendev.org/openstack/charm-interface-mysql-shared refs/changes/17/748717/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'provides.py']",2,06675c43c9f48ffa98b2abf2ddca137f8d18f31c,bug/1881596, def remove(self): @reactive.when('endpoint.{endpoint_name}.broken') def broken(self): self.remove() @reactive.when('endpoint.{endpoint_name}.departed') def departed(self): self.remove() ," @reactive.when_any('endpoint.{endpoint_name}.broken', 'endpoint.{endpoint_name}.departed') def departed(self):",12,5
openstack%2Fos-brick~stable%2Ftrain~I55bc70437d41da3a32b8440d00c139805b8be256,openstack/os-brick,stable/train,I55bc70437d41da3a32b8440d00c139805b8be256,rbd: Support 'rbd showmapped' output from ceph 13.2.0+,MERGED,2020-08-28 09:02:42.000000000,2020-08-29 07:39:12.000000000,2020-08-29 02:38:46.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-28 09:02:42.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'releasenotes/notes/bug-1884052-798094496dccf23c.yaml', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ba9d47a9b585dd619af857b6ea43dfb2ef04029c', 'message': ""rbd: Support 'rbd showmapped' output from ceph 13.2.0+\n\nCeph 13.2.0 changed [1] the JSON and XML output format for the 'rbd\nshowmapped' command, from a object keyed by device ID to a list of\ndevice objects. Handle this change.\n\nChange-Id: I55bc70437d41da3a32b8440d00c139805b8be256\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1884052\n(cherry picked from commit a87ef7bbabc80bf7f2d078764986aea2cbb90aa5)\n(cherry picked from commit bf0faeaea4626f7dee37a672da7e3f175b958086)\n""}]",0,748590,ba9d47a9b585dd619af857b6ea43dfb2ef04029c,28,9,1,15334,,,0,"rbd: Support 'rbd showmapped' output from ceph 13.2.0+

Ceph 13.2.0 changed [1] the JSON and XML output format for the 'rbd
showmapped' command, from a object keyed by device ID to a list of
device objects. Handle this change.

Change-Id: I55bc70437d41da3a32b8440d00c139805b8be256
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1884052
(cherry picked from commit a87ef7bbabc80bf7f2d078764986aea2cbb90aa5)
(cherry picked from commit bf0faeaea4626f7dee37a672da7e3f175b958086)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/90/748590/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'releasenotes/notes/bug-1884052-798094496dccf23c.yaml', 'os_brick/initiator/connectors/rbd.py']",3,ba9d47a9b585dd619af857b6ea43dfb2ef04029c,bug/1884052," # ceph v13.2.0 (Mimic) changed the output format of 'rbd showmapped' # from a dict of mappings keyed by ID to a simple list of mappings # https://docs.ceph.com/docs/master/releases/mimic/ # # before: # # { # ""0"": { # ""pool"":""volumes"", # ""namespace"":"""", # ""name"":""volume-6d54cb90-a5d1-40d8-9cb2-c6adf43a02af"", # ""snap"":""-"", # ""device"":""/dev/rbd0"" # } # } # # after: # # [ # { # ""id"":""0"", # ""pool"":""volumes"", # ""namespace"":"""", # ""name"":""volume-6d54cb90-a5d1-40d8-9cb2-c6adf43a02af"", # ""snap"":""-"", # ""device"":""/dev/rbd0"" # } # ] # # TODO(stephenfin): Drop when we drop support for ceph 13.2.0 mappings = jsonutils.loads(out) if isinstance(mappings, dict): # yes, we're losing the ID field but we don't need it here mappings = mappings.values() for mapping in mappings:"," for index, mapping in jsonutils.loads(out).items():",55,6
openstack%2Fpuppet-ironic~master~If3d204f6807937cacbb9e8cc541cc3c230b1b670,openstack/puppet-ironic,master,If3d204f6807937cacbb9e8cc541cc3c230b1b670,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-29 07:36:58.000000000,2020-08-29 07:35:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/002af7aead84d48f662b1b94fd3d10dc62957ab4', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: If3d204f6807937cacbb9e8cc541cc3c230b1b670\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:32.000000000', 'files': ['manifests/db.pp', 'manifests/inspector/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-ae11e03429aa8b48.yaml', 'spec/classes/ironic_inspector_db_spec.rb', 'spec/classes/ironic_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/841f27fc03fb0d9f351352d7284fc51902233d0a', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: If3d204f6807937cacbb9e8cc541cc3c230b1b670\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748083,841f27fc03fb0d9f351352d7284fc51902233d0a,17,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: If3d204f6807937cacbb9e8cc541cc3c230b1b670
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/83/748083/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/inspector/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-ae11e03429aa8b48.yaml', 'spec/classes/ironic_inspector_db_spec.rb', 'spec/classes/ironic_db_spec.rb']",5,002af7aead84d48f662b1b94fd3d10dc62957ab4,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,24,0
openstack%2Fpuppet-glance~master~Iab922500f060ad0304ee61998c4dc1ce323f22f8,openstack/puppet-glance,master,Iab922500f060ad0304ee61998c4dc1ce323f22f8,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-29 07:33:16.000000000,2020-08-29 07:32:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c55f8fa5373fdc9a4b2ff782705e2b6ee9c58dc2', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Iab922500f060ad0304ee61998c4dc1ce323f22f8\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:24.000000000', 'files': ['spec/classes/glance_api_db_spec.rb', 'manifests/api/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-ba2e78904df15498.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8a44e06a309414a945b264ca4b2b743656f9c2e8', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Iab922500f060ad0304ee61998c4dc1ce323f22f8\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748076,8a44e06a309414a945b264ca4b2b743656f9c2e8,15,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Iab922500f060ad0304ee61998c4dc1ce323f22f8
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/76/748076/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_api_db_spec.rb', 'manifests/api/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-ba2e78904df15498.yaml']",3,c55f8fa5373fdc9a4b2ff782705e2b6ee9c58dc2,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fcinder~master~I78681ea89762790f544178725999903a41d75ad1,openstack/cinder,master,I78681ea89762790f544178725999903a41d75ad1,Remove Train online data migrations,MERGED,2020-08-26 20:24:30.000000000,2020-08-29 07:21:26.000000000,2020-08-28 19:40:43.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-26 20:24:30.000000000', 'files': ['cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7268ec61005d89f2ee75408daea47e14421a03a0', 'message': 'Remove Train online data migrations\n\nOnline data migrations are supposed to be removed in the following\ndevelopment cycle, so these migrations from Train are overdue.\n\nThis change should NOT be backported to Ussuri, however, as there\nwas a bug in the Train migrations and a fixed version of the migrations\nmay still need to be run in Ussuri.  See Bug #1893107 for more info.\n\nChange-Id: I78681ea89762790f544178725999903a41d75ad1\nCloses-bug: #1893114\n'}]",0,748300,7268ec61005d89f2ee75408daea47e14421a03a0,75,29,1,5314,,,0,"Remove Train online data migrations

Online data migrations are supposed to be removed in the following
development cycle, so these migrations from Train are overdue.

This change should NOT be backported to Ussuri, however, as there
was a bug in the Train migrations and a fixed version of the migrations
may still need to be run in Ussuri.  See Bug #1893107 for more info.

Change-Id: I78681ea89762790f544178725999903a41d75ad1
Closes-bug: #1893114
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/748300/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py']",3,7268ec61005d89f2ee75408daea47e14421a03a0,remove-untyped-online-migration,,"@enginefacade.writer def untyped_volumes_online_data_migration(context, max_count): from cinder.volume import volume_types default_type = volume_types.get_volume_type_by_name(context, '__DEFAULT__') # get all volumes having volume_type=None total = 0 updated = 0 session = get_session() with session.begin(): total = model_query(context, models.Volume, session=session).filter_by( volume_type_id=None).limit(max_count).count() volumes = model_query(context, models.Volume, session=session).filter_by( volume_type_id=None).limit(max_count).all() for volume in volumes: volume.volume_type_id = default_type.get('id') updated += 1 return total, updated @enginefacade.writer def untyped_snapshots_online_data_migration(context, max_count): from cinder.volume import volume_types default_type = volume_types.get_volume_type_by_name(context, '__DEFAULT__') # get all snapshots having volume_type=None total = 0 updated = 0 session = get_session() with session.begin(): total = model_query(context, models.Snapshot, session=session).filter_by( volume_type_id=None).limit(max_count).count() snapshots = model_query(context, models.Snapshot, session=session).filter_by( volume_type_id=None).limit(max_count).all() for snapshot in snapshots: snapshot.volume_type_id = default_type.get('id') updated += 1 return total, updated ",1,62
openstack%2Fpuppet-vitrage~master~I579f1ef6dc57613e8f8f2b6ef7fde468c39b1a56,openstack/puppet-vitrage,master,I579f1ef6dc57613e8f8f2b6ef7fde468c39b1a56,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-29 07:15:53.000000000,2020-08-29 07:14:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/864c04827b024d676b2933bc315c89713233fcf4', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I579f1ef6dc57613e8f8f2b6ef7fde468c39b1a56\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/vitrage_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-bda12caac09d1365.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/6f9a5c34cf417915186231cc65d37d5c788e1c89', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I579f1ef6dc57613e8f8f2b6ef7fde468c39b1a56\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748073,6f9a5c34cf417915186231cc65d37d5c788e1c89,15,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I579f1ef6dc57613e8f8f2b6ef7fde468c39b1a56
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/73/748073/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vitrage_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-bda12caac09d1365.yaml', 'manifests/db.pp']",3,864c04827b024d676b2933bc315c89713233fcf4,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Ftripleo-common~master~Iac4a02988dc2fb08ea4ae32c4fa007db503fa869,openstack/tripleo-common,master,Iac4a02988dc2fb08ea4ae32c4fa007db503fa869,Remove healthcheck/tacker,MERGED,2020-08-28 15:09:00.000000000,2020-08-29 07:06:53.000000000,2020-08-29 07:05:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 15:09:00.000000000', 'files': ['healthcheck/tacker'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e68c35d231b7959ed6c08d131095018842a72b69', 'message': ""Remove healthcheck/tacker\n\nWe don't provide container image for Tacker, therefore we don't need a\nhealthcheck script.\n\nChange-Id: Iac4a02988dc2fb08ea4ae32c4fa007db503fa869\n""}]",0,748692,e68c35d231b7959ed6c08d131095018842a72b69,10,5,1,3153,,,0,"Remove healthcheck/tacker

We don't provide container image for Tacker, therefore we don't need a
healthcheck script.

Change-Id: Iac4a02988dc2fb08ea4ae32c4fa007db503fa869
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/748692/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/tacker'],1,e68c35d231b7959ed6c08d131095018842a72b69,tacker,,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh bind_host=$(wrap_ipv6 $(get_config_val /etc/tacker/tacker.conf DEFAULT bind_host 127.0.0.1)) bind_port=$(get_config_val /etc/tacker/tacker.conf DEFAULT bind_port 9890) healthcheck_curl http://${bind_host}:${bind_port}/ ,0,8
openstack%2Fnova~master~I4aef1870e4faa71c10a5bcefc542743ebc37eee0,openstack/nova,master,I4aef1870e4faa71c10a5bcefc542743ebc37eee0,Fix instance booted with snapshot image and bdms,NEW,2020-08-12 10:16:28.000000000,2020-08-29 05:46:08.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-12 10:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecc41365d9c8ba7ff4f1caf821e28b4b54754c2c', 'message': 'Fix instance booted with snapshot image and bdms\n\nBoot instance with snapshot-type-image\nand volume_size or delete_on_termination in\nblock_device_mapping, the root volume size should\nbe the volume_size in block_device_mapping when\nvolume_size exists in block_device_mapping api\nrequest body, and same to delete_on_termination.\n\nChange-Id: I4aef1870e4faa71c10a5bcefc542743ebc37eee0\nCloses-Bug: #1891298\n'}, {'number': 2, 'created': '2020-08-13 02:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7d61042e8817ed2dabee5415a9090b15e1fa07c', 'message': 'Fix instance booted with snapshot image and bdms\n\nBoot instance with snapshot-type-image\nand volume_size or delete_on_termination in\nblock_device_mapping, the root volume size should\nbe the volume_size in block_device_mapping when\nvolume_size exists in block_device_mapping api\nrequest body, and same to delete_on_termination.\n\nChange-Id: I4aef1870e4faa71c10a5bcefc542743ebc37eee0\nCloses-Bug: #1891298\n'}, {'number': 3, 'created': '2020-08-28 00:46:25.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3a1bf2192903ccfb9e945c35d537bf1e32996c14', 'message': 'Fix instance booted with snapshot image and bdms\n\nBoot instance with snapshot-type-image\nand volume_size or delete_on_termination in\nblock_device_mapping, the root volume size should\nbe the volume_size in block_device_mapping when\nvolume_size exists in block_device_mapping api\nrequest body, and same to delete_on_termination.\n\nChange-Id: I4aef1870e4faa71c10a5bcefc542743ebc37eee0\nCloses-Bug: #1891298\n'}]",0,745821,3a1bf2192903ccfb9e945c35d537bf1e32996c14,28,11,3,8037,,,0,"Fix instance booted with snapshot image and bdms

Boot instance with snapshot-type-image
and volume_size or delete_on_termination in
block_device_mapping, the root volume size should
be the volume_size in block_device_mapping when
volume_size exists in block_device_mapping api
request body, and same to delete_on_termination.

Change-Id: I4aef1870e4faa71c10a5bcefc542743ebc37eee0
Closes-Bug: #1891298
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/745821/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,ecc41365d9c8ba7ff4f1caf821e28b4b54754c2c,bug/1891298," # NOTE(renminmin): when a server booted with an image bdms # contains a snapshot root bdm and customized volume_size # and/or delete_on_termination in api request, the root bdm update # volume_size and delete_on_termination value from api request. for bdm in block_device_mapping: if bdm.get('boot_index') == 0: if (bdm.get('source_type') == 'image' and bdm.get('destination_type') == 'volume'): volume_size = bdm.get('volume_size') delete_on_termination = bdm.get( 'delete_on_termination') if (volume_size is None and delete_on_termination is None): break for img_bdm in image_defined_bdms: if img_bdm.get('boot_index') == 0: if (img_bdm.get('source_type') == 'snapshot' and volume_size): if (img_bdm.get('volume_size') <= volume_size): img_bdm['volume_size'] = volume_size else: raise \ exception.VolumeSmallerThanMinDisk( volume_size=(volume_size * units.Gi), image_min_disk=( img_bdm['volume_size'] * units.Gi)) if delete_on_termination is not None: img_bdm['delete_on_termination'] = \ delete_on_termination break break ",,129,0
openstack%2Fpuppet-tacker~master~I1a6a386a2082efd9ee8b109eb068414742fc8dd5,openstack/puppet-tacker,master,I1a6a386a2082efd9ee8b109eb068414742fc8dd5,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-29 05:15:42.000000000,2020-08-29 05:14:41.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/1682d9e7421854174b0b3a30c45ca206aa378c99', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I1a6a386a2082efd9ee8b109eb068414742fc8dd5\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:23.000000000', 'files': ['spec/classes/tacker_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-81a2f725fcf4268d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/4602236e2f757dc320ecbbc3ab7e4233ba74467a', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I1a6a386a2082efd9ee8b109eb068414742fc8dd5\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748070,4602236e2f757dc320ecbbc3ab7e4233ba74467a,15,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I1a6a386a2082efd9ee8b109eb068414742fc8dd5
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/70/748070/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-81a2f725fcf4268d.yaml']",3,1682d9e7421854174b0b3a30c45ca206aa378c99,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Frequirements~master~I4172aef03db4b110cbf4d13d52d3cca473263ee4,openstack/requirements,master,I4172aef03db4b110cbf4d13d52d3cca473263ee4,update constraint for validations-libs to new release 1.0.3,MERGED,2020-08-28 19:18:17.000000000,2020-08-29 04:54:14.000000000,2020-08-29 04:53:10.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 19:18:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d4f64da5f6a289bfcc7efcf5b7f6ce44f102768', 'message': 'update constraint for validations-libs to new release 1.0.3\n\nChange-Id: I4172aef03db4b110cbf4d13d52d3cca473263ee4\nmeta:version: 1.0.3\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Mathieu Bultel <mat.bultel@gmail.com>\nmeta:release:Commit: Mathieu Bultel <mat.bultel@gmail.com>\nmeta:release:Change-Id: I2aa737c4646b313413af11f9f839bf11caa6e8be\nmeta:release:Code-Review+1: Cdric Jeanneret (Tengu) <cjeanner@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748746,2d4f64da5f6a289bfcc7efcf5b7f6ce44f102768,12,3,1,11131,,,0,"update constraint for validations-libs to new release 1.0.3

Change-Id: I4172aef03db4b110cbf4d13d52d3cca473263ee4
meta:version: 1.0.3
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Mathieu Bultel <mat.bultel@gmail.com>
meta:release:Commit: Mathieu Bultel <mat.bultel@gmail.com>
meta:release:Change-Id: I2aa737c4646b313413af11f9f839bf11caa6e8be
meta:release:Code-Review+1: Cdric Jeanneret (Tengu) <cjeanner@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/748746/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2d4f64da5f6a289bfcc7efcf5b7f6ce44f102768,new-release,validations-libs===1.0.3,validations-libs===1.0.2,1,1
openstack%2Fpuppet-openstack-integration~master~If6419b01932c08f84a1422ed06d23b9f58479277,openstack/puppet-openstack-integration,master,If6419b01932c08f84a1422ed06d23b9f58479277,DNM: Test IPv4 deployment on CentOS8,ABANDONED,2020-08-17 14:04:30.000000000,2020-08-29 04:27:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-17 14:04:30.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fd48c1e004b63d078ba679e16864a3124d66ee44', 'message': 'DNM: Test IPv4 deployment on CentOS8\n\nChange-Id: If6419b01932c08f84a1422ed06d23b9f58479277\n'}]",0,746511,fd48c1e004b63d078ba679e16864a3124d66ee44,3,1,1,9816,,,0,"DNM: Test IPv4 deployment on CentOS8

Change-Id: If6419b01932c08f84a1422ed06d23b9f58479277
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/11/746511/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp']",4,fd48c1e004b63d078ba679e16864a3124d66ee44,ipv4-centos, $ipv6 = false, $ipv6 = true,4,4
openstack%2Fpuppet-neutron~master~I0cffcd373d9882fe3b20643d589fdd6de73cc66c,openstack/puppet-neutron,master,I0cffcd373d9882fe3b20643d589fdd6de73cc66c,DNM: Test beaker job,ABANDONED,2020-08-27 00:51:09.000000000,2020-08-29 04:27:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-27 00:51:09.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/14d2a144bcdb5d3852081575dd757091ad231da3', 'message': 'DNM: Test beaker job\n\nChange-Id: I0cffcd373d9882fe3b20643d589fdd6de73cc66c\n'}]",0,748331,14d2a144bcdb5d3852081575dd757091ad231da3,3,1,1,9816,,,0,"DNM: Test beaker job

Change-Id: I0cffcd373d9882fe3b20643d589fdd6de73cc66c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/31/748331/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,14d2a144bcdb5d3852081575dd757091ad231da3,dnm,,,0,0
openstack%2Fnova~master~I9baba1f4f9f4b80f257e0f3d3d07f8da379dd014,openstack/nova,master,I9baba1f4f9f4b80f257e0f3d3d07f8da379dd014,Reject resize operation for accelerator,ABANDONED,2020-08-28 09:44:23.000000000,2020-08-29 04:21:02.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-28 09:44:23.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/522a7ebf0ed11bcb098b8a0655b966f0cd514a36', 'message': 'Reject resize operation for accelerator\n\nChange-Id: I9baba1f4f9f4b80f257e0f3d3d07f8da379dd014\n'}]",3,748593,522a7ebf0ed11bcb098b8a0655b966f0cd514a36,8,7,1,31412,,,0,"Reject resize operation for accelerator

Change-Id: I9baba1f4f9f4b80f257e0f3d3d07f8da379dd014
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/748593/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",2,522a7ebf0ed11bcb098b8a0655b966f0cd514a36,bp/cyborg-rebuild-and-evacuate," @mock.patch( 'nova.compute.api.API.get_instance_host_status', new=mock.Mock(return_value=fields_obj.HostStatus.UP)) @mock.patch( 'nova.compute.utils.is_volume_backed_instance', new=mock.Mock(return_value=False)) @mock.patch.object(flavors, 'get_flavor_by_flavor_id') def test_resize__with_accelerator(self, mock_get_flavor): """"""Ensure resizes are rejected if either flavor requests accelerator."""""" fake_inst = self._create_instance_obj() current_flavor = fake_inst.flavor new_flavor = self._create_flavor( id=200, flavorid='new-flavor-id', name='new_flavor', disabled=False, extra_specs={'accel:device_profile': 'dp'}) mock_get_flavor.return_value = new_flavor self.assertRaises( exception.ForbiddenWithAccelerators, self.compute_api.resize, self.context, fake_inst, flavor_id=new_flavor.flavorid) ",,23,0
openstack%2Fpuppet-glance~master~I0439509589a7b28daf96d5a88ae2f5e01a27cf40,openstack/puppet-glance,master,I0439509589a7b28daf96d5a88ae2f5e01a27cf40,Ignore onwer_specifed.* properties in images,MERGED,2020-08-27 02:57:58.000000000,2020-08-29 04:10:25.000000000,2020-08-28 20:31:16.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 02:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/50b7c35de7aa6f67589bac882c3e8d15789aa3e9', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40\n'}, {'number': 2, 'created': '2020-08-27 05:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/ef96f863dffb7e773648db013ebdb96d0f3fdd91', 'message': 'Fix failures in CentOS8 beaker job\n\nThis patch fixes the following 2 issues detected in CentOS8 beaker.\n\n- openstack_integration::apache should be explicitly used to avoid\n  issues caused by puppet-apache on CentOS8.\n- In recent openstack client images, owner_specified properties are\n  always detected as changes in glance_image resource. Because these\n  parameters should be specified automatically inside client, we should\n  not depend on them.\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40\n'}, {'number': 3, 'created': '2020-08-27 14:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5967f6294427c12dca80e599d71014fc148cbc08', 'message': 'Ignore onwer_specifed.* properties in images\n\nSince image verification feature was introduced in OpenStack SDK,\nOpenStack SDK and OpenStack Client set owner_specifid.* properties\nduring image creation when image veritication is enabled.\nBecause these properties are set in client layer, puppet-glance should\nignore them, otherwise these parameters are falsely derecated as\nresource changes.\n\nChange-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40\n'}, {'number': 4, 'created': '2020-08-27 16:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/eb3eab299fcb5214de15309c7603d3aee715dd23', 'message': 'Ignore onwer_specifed.* properties in images\n\nSince Ussuri release, openstackclient uses OpenStackSDK instead of\nglanceclient to create an image[1]. This switch makes ""openstack image\ncreate"" command to create images with owner_specified.* properties.\nThis causes unexpected changes detected, because these properties are\ngenerated inside libraries and can\'t be managed by puppet layer.\nThis patch makes glance_image type filter out these properties, so that\nit only takes care of the parameters set by options.\n\n[1] 60e7c51df4cf061ebbb435a959ad63c7d3a296bf\n\nChange-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40\n'}, {'number': 5, 'created': '2020-08-27 16:41:14.000000000', 'files': ['lib/puppet/provider/glance_image/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/15d4c5915351fdaa32aec0eb47616eaf824251f7', 'message': 'Ignore onwer_specifed.* properties in images\n\nSince Ussuri release, openstackclient uses OpenStackSDK instead of\nglanceclient to create an image[1]. This switch made ""openstack image\ncreate"" command to create images with owner_specified.* properties.\n\nThis patch makes glance_image type filter out these properties to avoid\nfalse changes in image properties.\n\n[1] 60e7c51df4cf061ebbb435a959ad63c7d3a296bf\n\nChange-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40\n'}]",0,748344,15d4c5915351fdaa32aec0eb47616eaf824251f7,20,4,5,9816,,,0,"Ignore onwer_specifed.* properties in images

Since Ussuri release, openstackclient uses OpenStackSDK instead of
glanceclient to create an image[1]. This switch made ""openstack image
create"" command to create images with owner_specified.* properties.

This patch makes glance_image type filter out these properties to avoid
false changes in image properties.

[1] 60e7c51df4cf061ebbb435a959ad63c7d3a296bf

Change-Id: I0439509589a7b28daf96d5a88ae2f5e01a27cf40
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/44/748344/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_glance_spec.rb'],1,50b7c35de7aa6f67589bac882c3e8d15789aa3e9,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-vitrage~master~I8e907966db4a77e419884270652046bd400df9e2,openstack/puppet-vitrage,master,I8e907966db4a77e419884270652046bd400df9e2,Fix wsgi script path in CentOS8,MERGED,2020-08-27 12:27:28.000000000,2020-08-29 04:10:06.000000000,2020-08-28 17:17:52.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 12:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/9e57d87fd67ebfd4e472a670b1a215631ba1025b', 'message': 'Fix wsgi script path in CentOS8\n\nChange-Id: I8e907966db4a77e419884270652046bd400df9e2\n'}, {'number': 2, 'created': '2020-08-27 13:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/7c247011b23f0ac73c02f0185fe84c17ec687675', 'message': 'Fix wsgi script path in CentOS8\n\nChange-Id: I8e907966db4a77e419884270652046bd400df9e2\n'}, {'number': 3, 'created': '2020-08-28 09:49:54.000000000', 'files': ['manifests/params.pp', 'spec/classes/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/a3a3c7f641cfa588ed2fa7282aab8e1efa847408', 'message': 'Fix wsgi script path in CentOS8\n\nChange-Id: I8e907966db4a77e419884270652046bd400df9e2\n'}]",0,748425,a3a3c7f641cfa588ed2fa7282aab8e1efa847408,12,3,3,9816,,,0,"Fix wsgi script path in CentOS8

Change-Id: I8e907966db4a77e419884270652046bd400df9e2
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/25/748425/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/vitrage_wsgi_apache_spec.rb']",2,9e57d87fd67ebfd4e472a670b1a215631ba1025b,centos8-beaker, :wsgi_script_source => '/usr/lib/python3.6/site-packages/vitrage/api/app.wsgi', :wsgi_script_source => '/usr/lib/python2.7/site-packages/vitrage/api/app.wsgi',2,2
openstack%2Fpuppet-keystone~master~I3f87fa90944d467997cc9cf34a0942179836d0f1,openstack/puppet-keystone,master,I3f87fa90944d467997cc9cf34a0942179836d0f1,Fix missing usage of openstack_integration::apache,MERGED,2020-08-27 11:21:42.000000000,2020-08-29 04:09:59.000000000,2020-08-28 16:57:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 11:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d4503331c5178af4b392f483c2db829e1b04a662', 'message': 'Fix missing usage of openstack_integration::apache\n\nThis patch fixes openstack_integration::apache still missing in beaker\ntests, to avoid failures in CentOS8 beaker job.\n\nChange-Id: I3f87fa90944d467997cc9cf34a0942179836d0f1\n'}, {'number': 2, 'created': '2020-08-28 05:29:43.000000000', 'files': ['spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/acceptance/default_domain_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/95b1acaa364ae13a4be2a666154918f436726105', 'message': 'Fix missing usage of openstack_integration::apache\n\nThis patch fixes openstack_integration::apache still missing in beaker\ntests, to avoid failures in CentOS8 beaker job.\n\nChange-Id: I3f87fa90944d467997cc9cf34a0942179836d0f1\n'}]",0,748415,95b1acaa364ae13a4be2a666154918f436726105,13,5,2,9816,,,0,"Fix missing usage of openstack_integration::apache

This patch fixes openstack_integration::apache still missing in beaker
tests, to avoid failures in CentOS8 beaker job.

Change-Id: I3f87fa90944d467997cc9cf34a0942179836d0f1
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/15/748415/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/keystone_wsgi_apache_spec.rb'],1,d4503331c5178af4b392f483c2db829e1b04a662,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-neutron~master~I892a1a02478652ef699b33c12cac9e40520210a2,openstack/puppet-neutron,master,I892a1a02478652ef699b33c12cac9e40520210a2,Use common class to manage apache service in beaker job,MERGED,2020-08-27 02:56:07.000000000,2020-08-29 04:09:52.000000000,2020-08-28 16:54:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 02:56:07.000000000', 'files': ['spec/acceptance/basic_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/945f61428790e52ca49bb99ab1d8f3a0f65c724b', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I892a1a02478652ef699b33c12cac9e40520210a2\n'}]",0,748343,945f61428790e52ca49bb99ab1d8f3a0f65c724b,11,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I892a1a02478652ef699b33c12cac9e40520210a2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/43/748343/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_neutron_spec.rb'],1,945f61428790e52ca49bb99ab1d8f3a0f65c724b,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-glance~master~Ia44967dc809467d7c49022db3fcdb7fcebd6e132,openstack/puppet-glance,master,Ia44967dc809467d7c49022db3fcdb7fcebd6e132,Use common class to manage apache service in beaker job,MERGED,2020-08-27 14:12:00.000000000,2020-08-29 04:09:45.000000000,2020-08-28 16:48:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 14:12:00.000000000', 'files': ['spec/acceptance/basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3260dcd2c5d8a5b2231fa1904a86f54f44a8affd', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ia44967dc809467d7c49022db3fcdb7fcebd6e132\n'}]",0,748445,3260dcd2c5d8a5b2231fa1904a86f54f44a8affd,10,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Ia44967dc809467d7c49022db3fcdb7fcebd6e132
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/45/748445/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_glance_spec.rb'],1,3260dcd2c5d8a5b2231fa1904a86f54f44a8affd,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-vitrage~master~I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba,openstack/puppet-vitrage,master,I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba,Remove outdated workaround in beaker test,MERGED,2020-08-27 11:31:51.000000000,2020-08-29 04:09:17.000000000,2020-08-28 16:18:31.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 11:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/e53d72a167caf97054c6f13ff187fffa7c52c65d', 'message': ""Remove outdated workaround in beaker test\n\nCurrent Vitrage doesn't require setproctitle so we don't need to\ninstall it now. Also, cotyledon is included in required packages\nso explicit installation is no longer required.\n\nChange-Id: I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba\n""}, {'number': 2, 'created': '2020-08-27 12:27:28.000000000', 'files': ['spec/acceptance/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/2db0809d23b69535eef84dd4937e43ae73d29739', 'message': ""Remove outdated workaround in beaker test\n\nCurrent Vitrage doesn't require setproctitle so we don't need to\ninstall it now. Also, cotyledon is included in required packages\nso explicit installation is no longer required.\n\nChange-Id: I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba\n""}]",0,748416,2db0809d23b69535eef84dd4937e43ae73d29739,12,4,2,9816,,,0,"Remove outdated workaround in beaker test

Current Vitrage doesn't require setproctitle so we don't need to
install it now. Also, cotyledon is included in required packages
so explicit installation is no longer required.

Change-Id: I7c1be48e58e9428c35fe2de2fb1a2ad85894f6ba
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/16/748416/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/vitrage_wsgi_apache_spec.rb'],1,e53d72a167caf97054c6f13ff187fffa7c52c65d,centos8-beaker,," package { 'python-setproctitle': ensure => present, } package { 'python2-cotyledon': ensure => present, }",0,6
openstack%2Fpuppet-tacker~master~Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6,openstack/puppet-tacker,master,Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:08:14.000000000,2020-08-29 04:09:09.000000000,2020-08-28 16:17:22.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/010122c154c8edf94b867f89633b2d5bdc93afd3', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6\n'}, {'number': 2, 'created': '2020-08-27 03:43:18.000000000', 'files': ['spec/acceptance/tacker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/03291b490c38b71df8692c35e689146eede209df', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6\n'}]",0,748352,03291b490c38b71df8692c35e689146eede209df,14,4,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Iecc9e3b1717a9ffec1ba9f928dfbd9b0ebc4c8b6
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/52/748352/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/tacker_spec.rb'],1,010122c154c8edf94b867f89633b2d5bdc93afd3,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Ftripleo-quickstart~master~Ib8d15bac61f5fafbaa6d5be4f8d1f4e38fe3aa6a,openstack/tripleo-quickstart,master,Ib8d15bac61f5fafbaa6d5be4f8d1f4e38fe3aa6a,Add openstack- docker_prep_prefix for Victoria release,MERGED,2020-08-28 15:04:04.000000000,2020-08-29 03:18:25.000000000,2020-08-29 03:17:19.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 15:04:04.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca1440ab9270b4fad8968306fb1fd41ff5976488', 'message': 'Add openstack- docker_prep_prefix for Victoria release\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic master jobs, we need\nto set docker_prefix with openstack namespace and for other\nrelease, it should be centos-binary.\n\nFor check job, a seperate patch will be added.\n\nRelated-Bug: #1893339\n\nChange-Id: Ib8d15bac61f5fafbaa6d5be4f8d1f4e38fe3aa6a\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,748690,ca1440ab9270b4fad8968306fb1fd41ff5976488,14,7,1,12393,,,0,"Add openstack- docker_prep_prefix for Victoria release

https://review.opendev.org/747259 switches the container name
preffix to openstack for master.
In order to make it working for periodic master jobs, we need
to set docker_prefix with openstack namespace and for other
release, it should be centos-binary.

For check job, a seperate patch will be added.

Related-Bug: #1893339

Change-Id: Ib8d15bac61f5fafbaa6d5be4f8d1f4e38fe3aa6a
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/748690/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,ca1440ab9270b4fad8968306fb1fd41ff5976488,contnamespace,docker_prep_prefix: 'openstack-',,1,0
openstack%2Ftripleo-quickstart~master~I0d42bbf37e7e8f7811c355d5998f3d0bc975fa3c,openstack/tripleo-quickstart,master,I0d42bbf37e7e8f7811c355d5998f3d0bc975fa3c,align centosci master release files,ABANDONED,2019-02-13 18:40:51.000000000,2020-08-29 03:14:01.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-13 18:40:51.000000000', 'files': ['config/release/trunk/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/565045d7b8d530bb57abc9d0b9263c72db3362e6', 'message': 'align centosci master release files\n\nonly the tag on the dlrn repo should be\ndifferent\n\nChange-Id: I0d42bbf37e7e8f7811c355d5998f3d0bc975fa3c\n'}]",0,636714,565045d7b8d530bb57abc9d0b9263c72db3362e6,8,4,1,9592,,,0,"align centosci master release files

only the tag on the dlrn repo should be
different

Change-Id: I0d42bbf37e7e8f7811c355d5998f3d0bc975fa3c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/14/636714/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/trunk/master.yml'],1,565045d7b8d530bb57abc9d0b9263c72db3362e6,,, sudo yum remove -y centos-release-ceph-hammer || true sudo yum remove -y centos-release-ceph-jewel || true,0,2
openstack%2Fglance~master~Idf9be5afea5d034b9679ad451306a8f2d365aa51,openstack/glance,master,Idf9be5afea5d034b9679ad451306a8f2d365aa51,Fix metadefs for compute-watchdog,MERGED,2020-07-10 00:56:00.000000000,2020-08-29 03:04:26.000000000,2020-08-29 03:02:56.000000000,"[{'_account_id': 8122}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 00:56:00.000000000', 'files': ['etc/metadefs/compute-watchdog.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/24c281230e42a1592b563af0ae50518ecb8bb10e', 'message': 'Fix metadefs for compute-watchdog\n\nChange-Id: Idf9be5afea5d034b9679ad451306a8f2d365aa51\nCloses-Bug: #1887099\n'}]",0,740384,24c281230e42a1592b563af0ae50518ecb8bb10e,21,6,1,8122,,,0,"Fix metadefs for compute-watchdog

Change-Id: Idf9be5afea5d034b9679ad451306a8f2d365aa51
Closes-Bug: #1887099
",git fetch https://review.opendev.org/openstack/glance refs/changes/84/740384/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/metadefs/compute-watchdog.json'],1,24c281230e42a1592b563af0ae50518ecb8bb10e,bug/1887099," ""name"": ""OS::Glance::Image"", ""prefix"": ""hw_"" ""prefix"": ""hw_"", ""name"": ""OS::Nova::Flavor"", ""prefix"": ""hw:"" ""watchdog_action"": {"," ""name"": ""OS::Glance::Image"" ""name"": ""OS::Nova::Flavor"" ""hw_watchdog_action"": {",6,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I42d985ab152472152152d103c1676b56a8cd5a8d,openstack/tripleo-heat-templates,stable/ussuri,I42d985ab152472152152d103c1676b56a8cd5a8d,update tht ussuri zuul layout w/ latest status,ABANDONED,2020-05-27 16:09:16.000000000,2020-08-29 02:59:14.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-27 16:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cdfc7b098396e53a37de4007e3d93c0ed7a11c2', 'message': 'update tht ussuri zuul layout w/ latest status\n\nPartial-Bug: #1880981\nChange-Id: I42d985ab152472152152d103c1676b56a8cd5a8d\n'}, {'number': 2, 'created': '2020-05-27 16:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1817a0cccdd37a0e863253865cd0e616c83e7417', 'message': 'update tht ussuri zuul layout w/ latest status\n\nPartial-Bug: #1880981\nChange-Id: I42d985ab152472152152d103c1676b56a8cd5a8d\n'}, {'number': 3, 'created': '2020-05-27 16:20:12.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be0342208ba3063bb65aa0c31e6ee54a26e69943', 'message': 'update tht ussuri zuul layout w/ latest status\n\nPartial-Bug: #1880981\nChange-Id: I42d985ab152472152152d103c1676b56a8cd5a8d\n'}]",3,731259,be0342208ba3063bb65aa0c31e6ee54a26e69943,10,4,3,9592,,,0,"update tht ussuri zuul layout w/ latest status

Partial-Bug: #1880981
Change-Id: I42d985ab152472152152d103c1676b56a8cd5a8d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/731259/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,5cdfc7b098396e53a37de4007e3d93c0ed7a11c2,ussuri, # TO-DO replace w/ centos-8 train when avail #- tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: # dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-8-scenario007-multinode-oooq-container: # TO-DO update to centos-8 when ovn tempest plugin in avail for os_tempest #- tripleo-ci-centos-7-scenario010-multinode-oooq-container: # dependencies: *deps_unit_lint # files: # - ^(deployment|docker|puppet)/.*octavia.*$ # - ^deployment/ceph-ansible.*$ # - ^deployment/octavia/*$ # - ci/environments/scenario010-multinode-containers.yaml # - ^ci/common/.*$ # - ^environments\/.*.yaml # - ^deployed-server/.*$ # - ^network/endpoints/.*$ # - ^common/.*$ # - zuul.d/* # TO-DO flip to centos-8 when centos-8 train is available #- tripleo-ci-centos-7-containerized-undercloud-upgrades: # dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario010-standalone: voting: false - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates:, - tripleo-ci-centos-7-undercloud-containers: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: - tripleo-ci-centos-7-scenario010-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^(deployment|docker|puppet)/.*octavia.*$ - ^deployment/ceph-ansible.*$ - ^deployment/octavia/*$ - ci/environments/scenario010-multinode-containers.yaml - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-containerized-undercloud-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates:,25,24
openstack%2Ftripleo-ci~master~I06359186546d01b9510c1581cf064c325d7835ba,openstack/tripleo-ci,master,I06359186546d01b9510c1581cf064c325d7835ba,Set proper file permissions on overcloud images,ABANDONED,2020-03-10 15:08:11.000000000,2020-08-29 02:59:13.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-03-10 15:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3e554a0d329a9a7c09968c92c85e5be9981e2fb', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}, {'number': 2, 'created': '2020-03-10 16:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/317672b77ea7ebc409465f4b8f05711f1340848c', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}, {'number': 3, 'created': '2020-03-10 16:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/56152da1b4e7456ae4e2784d187682f79d061e94', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}, {'number': 4, 'created': '2020-03-10 16:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3bd06fad1b514b559a2d2d83e8a4c20fd27aac18', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}, {'number': 5, 'created': '2020-03-10 19:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0a5136e0a588b5df7921df44483f3e7df1a288a', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}, {'number': 6, 'created': '2020-03-10 19:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2992af3fad397c2011c01895faf1afbd09f37a68', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}, {'number': 7, 'created': '2020-03-10 20:00:10.000000000', 'files': ['roles/oooci-build-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/72fb1e24fd1cbcfc4f7c1811b6a1d97c8b899c22', 'message': 'Set proper file permissions on overcloud images\n\nSet the file perm on images before the upload\nso that the --archive flag works properly\nwith rsync\n\nChange-Id: I06359186546d01b9510c1581cf064c325d7835ba\n'}]",3,712105,72fb1e24fd1cbcfc4f7c1811b6a1d97c8b899c22,15,6,7,9592,,,0,"Set proper file permissions on overcloud images

Set the file perm on images before the upload
so that the --archive flag works properly
with rsync

Change-Id: I06359186546d01b9510c1581cf064c325d7835ba
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/712105/7 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/main.yaml'],1,c3e554a0d329a9a7c09968c92c85e5be9981e2fb,set-image-permissions," - name: set the permissions of the tar file shell: cmd: | chmod 0755 *.tar args: chdir: ""{{ ansible_user_dir }}""",,7,0
openstack%2Ftripleo-ci~master~I3de9d3db71e76fd6f2b9e2f0bd897d1d8c4c51f6,openstack/tripleo-ci,master,I3de9d3db71e76fd6f2b9e2f0bd897d1d8c4c51f6,Try using packages for centos7 containers build jobs,ABANDONED,2020-02-21 18:07:48.000000000,2020-08-29 02:59:11.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 18:07:48.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bb922ef6914f4ae52364fdc79957a67c0b5b846', 'message': 'Try using packages for centos7 containers build jobs\n\nChange-Id: I3de9d3db71e76fd6f2b9e2f0bd897d1d8c4c51f6\nRelated-Bug: 1864018\n'}]",0,709209,2bb922ef6914f4ae52364fdc79957a67c0b5b846,6,5,1,9592,,,0,"Try using packages for centos7 containers build jobs

Change-Id: I3de9d3db71e76fd6f2b9e2f0bd897d1d8c4c51f6
Related-Bug: 1864018
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/09/709209/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,2bb922ef6914f4ae52364fdc79957a67c0b5b846,, vars: buildcontainers_venv: false buildcontainers_venv: true buildcontainers_venv: true buildcontainers_venv: true buildcontainers_venv: false buildcontainers_venv: true buildcontainers_venv: true,,8,0
openstack%2Ftripleo-ci~master~Idce7c8fd49d7dd36944f10a31818db9b69d047d5,openstack/tripleo-ci,master,Idce7c8fd49d7dd36944f10a31818db9b69d047d5,drop multinode scenario jobs from queens,ABANDONED,2020-05-19 20:44:58.000000000,2020-08-29 02:59:10.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-19 20:44:58.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1370089f18b27735cea20aa6072652200ffaa6af', 'message': 'drop multinode scenario jobs from queens\n\nPartial-Bug: #1879565\nChange-Id: Idce7c8fd49d7dd36944f10a31818db9b69d047d5\n'}]",0,729390,1370089f18b27735cea20aa6072652200ffaa6af,6,3,1,9592,,,0,"drop multinode scenario jobs from queens

Partial-Bug: #1879565
Change-Id: Idce7c8fd49d7dd36944f10a31818db9b69d047d5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/729390/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,1370089f18b27735cea20aa6072652200ffaa6af,drop-queens-scenario1-4, branches: ^stable/(rocky).*$ branches: ^stable/(rocky).*$ branches: ^stable/(rocky).*$ branches: ^stable/(rocky).*$, branches: ^stable/(pike|queens|rocky).*$ branches: ^stable/(pike|queens|rocky).*$ branches: ^stable/(pike|queens|rocky).*$ branches: ^stable/(pike|queens|rocky).*$,4,4
openstack%2Ftripleo-quickstart~master~I238db7858e08ac19f0b96c7dbe5ea8cd9e3552d9,openstack/tripleo-quickstart,master,I238db7858e08ac19f0b96c7dbe5ea8cd9e3552d9,temporarily reduce tempest on master centos-8,ABANDONED,2020-03-17 17:07:06.000000000,2020-08-29 02:59:08.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 17:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ff42827c1ea4927306dc67cd14c3d2e6606a4707', 'message': ""temporarily reduce tempest on master centos-8\n\nThe last 5-10 fs001 jobs failed in tempest\nrandomly. let's reduce coverage in check to get\npositive feedback results.  Keep the indepth\ncoverage in periodic.\n\nChange-Id: I238db7858e08ac19f0b96c7dbe5ea8cd9e3552d9\n""}, {'number': 2, 'created': '2020-03-18 02:22:11.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ac9945ac60bb6a8cd39e19e35fd9bf70b247f8c0', 'message': ""temporarily reduce tempest on master centos-8\n\nThe last 5-10 fs001 jobs failed in tempest\nrandomly. let's reduce coverage in check to get\npositive feedback results.  Keep the indepth\ncoverage in periodic.\n\nChange-Id: I238db7858e08ac19f0b96c7dbe5ea8cd9e3552d9\n""}]",0,713489,ac9945ac60bb6a8cd39e19e35fd9bf70b247f8c0,9,4,2,9592,,,0,"temporarily reduce tempest on master centos-8

The last 5-10 fs001 jobs failed in tempest
randomly. let's reduce coverage in check to get
positive feedback results.  Keep the indepth
coverage in periodic.

Change-Id: I238db7858e08ac19f0b96c7dbe5ea8cd9e3552d9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/713489/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,ff42827c1ea4927306dc67cd14c3d2e6606a4707,,"# while centos-8 is onboarding, reduce tempest coverage # tempest_check_whitelist: >- {% if release in ['newton','ocata','pike','queens','rocky','stein','train'] -%} - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' {%- else -%} - 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario' {%- endif -%}",tempest_check_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps',7,2
openstack%2Ftripleo-quickstart~master~I2fef648c73e38a4e82900a2835750f97e1b4d822,openstack/tripleo-quickstart,master,I2fef648c73e38a4e82900a2835750f97e1b4d822,do not use a proxy to find the current hash,ABANDONED,2019-10-03 15:42:19.000000000,2020-08-29 02:59:07.000000000,,"[{'_account_id': 1955}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 15:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/248c5bf08d773374a1e1141a4eaaedde3b7cf210', 'message': 'do not use a proxy to find the current hash\n\nThe proxies can be out of date and cause\nthe wrong dlrn hash to be used.\n\nCloses-Bug: #1846504\nChange-Id: I2fef648c73e38a4e82900a2835750f97e1b4d822\n'}, {'number': 2, 'created': '2019-10-07 12:59:41.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/ocata.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-7/consistent-newton.yml', 'config/release/tripleo-ci/RedHat-8/train.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/newton.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/CentOS-7/consistent-ocata.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/consistent-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/581062fbecc2b7b12c897eaaaaf83ad47360d902', 'message': 'do not use a proxy to find the current hash\n\nThe proxies can be out of date and cause\nthe wrong dlrn hash to be used.\n\nCloses-Bug: #1846504\nChange-Id: I2fef648c73e38a4e82900a2835750f97e1b4d822\n'}]",4,686430,581062fbecc2b7b12c897eaaaaf83ad47360d902,17,12,2,9592,,,0,"do not use a proxy to find the current hash

The proxies can be out of date and cause
the wrong dlrn hash to be used.

Closes-Bug: #1846504
Change-Id: I2fef648c73e38a4e82900a2835750f97e1b4d822
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/686430/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/ocata.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-7/consistent-newton.yml', 'config/release/tripleo-ci/RedHat-8/train.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/newton.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/CentOS-7/consistent-ocata.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/consistent-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml']",26,248c5bf08d773374a1e1141a4eaaedde3b7cf210,," rdo_dlrn=`curl --silent https://trunk.rdoproject.org/centos7-queens/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` rdo_dlrn_deps=`curl --silent https://trunk.rdoproject.org/centos7-queens/delorean-deps.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2 | head -n 1`"," rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-queens/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` rdo_dlrn_deps=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-queens/delorean-deps.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2 | head -n 1`",69,69
openstack%2Ftripleo-quickstart~master~I6a0690bccfb2799f2f94fb8bc4f9af563a248bda,openstack/tripleo-quickstart,master,I6a0690bccfb2799f2f94fb8bc4f9af563a248bda,"fs039, since services are https, increase timeout",ABANDONED,2020-05-07 18:35:25.000000000,2020-08-29 02:59:06.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-07 18:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/97b97891d57f63347188c35befbd78b7fe7f0bb4', 'message': 'since services are https, increase timeout\n\nChange-Id: I6a0690bccfb2799f2f94fb8bc4f9af563a248bda\n'}, {'number': 2, 'created': '2020-05-07 18:41:39.000000000', 'files': ['config/general_config/featureset039.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3102f30054a6a9c14e19c2885626bbf3f0191ece', 'message': 'fs039, since services are https, increase timeout\n\nWe noticed this first in the multinode-ipa job\nhttps://review.opendev.org/#/c/706288/33/zuul.d/standalone-jobs.yaml\n\nTempest may more reliably pass if the timeout per\nconnection is increased.\n\nChange-Id: I6a0690bccfb2799f2f94fb8bc4f9af563a248bda\n'}]",1,726220,3102f30054a6a9c14e19c2885626bbf3f0191ece,6,5,2,9592,,,0,"fs039, since services are https, increase timeout

We noticed this first in the multinode-ipa job
https://review.opendev.org/#/c/706288/33/zuul.d/standalone-jobs.yaml

Tempest may more reliably pass if the timeout per
connection is increased.

Change-Id: I6a0690bccfb2799f2f94fb8bc4f9af563a248bda
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/20/726220/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset039.yml'],1,97b97891d57f63347188c35befbd78b7fe7f0bb4,, service-clients.http_timeout: '120',,1,0
openstack%2Ftripleo-ci~master~I17c256d131535d5c37bf384d42578309187979bc,openstack/tripleo-ci,master,I17c256d131535d5c37bf384d42578309187979bc,fix overcloud/ipa image paths for ovb centos7,ABANDONED,2020-05-01 15:25:43.000000000,2020-08-29 02:59:04.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-01 15:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c906b11ff47d8b98bff320fd36399af8e0e1b9f', 'message': 'fix overcloud/ipa image paths for ovb centos7\n\nhttp://images.rdoproject.org/centos7/\nhttp://images.rdoproject.org/centos8/\n\nChange-Id: I17c256d131535d5c37bf384d42578309187979bc\n'}, {'number': 2, 'created': '2020-05-01 17:59:17.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/97bda076f36da8dbc7894563be61988e44b0299e', 'message': 'fix overcloud/ipa image paths for ovb centos7\n\nhttp://images.rdoproject.org/centos7/\nhttp://images.rdoproject.org/centos8/\n\nChange-Id: I17c256d131535d5c37bf384d42578309187979bc\n'}]",1,724873,97bda076f36da8dbc7894563be61988e44b0299e,7,5,2,9592,,,0,"fix overcloud/ipa image paths for ovb centos7

http://images.rdoproject.org/centos7/
http://images.rdoproject.org/centos8/

Change-Id: I17c256d131535d5c37bf384d42578309187979bc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/724873/2 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml']",3,5c906b11ff47d8b98bff320fd36399af8e0e1b9f,, https://images.rdoproject.org/centos8/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar http://images.rdoproject.org/centos7/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar https://images.rdoproject.org/centos8/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar http://images.rdoproject.org/centos7/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar, https://images.rdoproject.org/centos8//{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar http://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar https://images.rdoproject.org/centos8//{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar http://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar,8,8
openstack%2Ftripleo-quickstart-extras~master~I73e38cf5be601fc22d1509b05c08b7d520c50064,openstack/tripleo-quickstart-extras,master,I73e38cf5be601fc22d1509b05c08b7d520c50064,target_upgrade_version should no longer be required,ABANDONED,2019-01-14 21:26:31.000000000,2020-08-29 02:59:03.000000000,,"[{'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-14 21:26:31.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7b7e8126043ac63a7a55c9e14ad811b03c48342c', 'message': 'target_upgrade_version should no longer be required\n\nEach step in the workflow is now called using\nemit_releases.  target_upgrade_version should\nno longer be required as the --release should\nset the proper release version for the upgrade.\nThe repo setup should behave normally.\n\ne.g. a rocky -> stein upgrade should start\na deploy w/ --release=rocky and the upgrade\nplaybook should use --release=master/stein\n\nChange-Id: I73e38cf5be601fc22d1509b05c08b7d520c50064\n'}]",1,630772,7b7e8126043ac63a7a55c9e14ad811b03c48342c,6,5,1,9592,,,0,"target_upgrade_version should no longer be required

Each step in the workflow is now called using
emit_releases.  target_upgrade_version should
no longer be required as the --release should
set the proper release version for the upgrade.
The repo setup should behave normally.

e.g. a rocky -> stein upgrade should start
a deploy w/ --release=rocky and the upgrade
playbook should use --release=master/stein

Change-Id: I73e38cf5be601fc22d1509b05c08b7d520c50064
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/72/630772/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-upgrade.yml'],1,7b7e8126043ac63a7a55c9e14ad811b03c48342c,,," repo_setup_script: ""repo-setup-{{ target_upgrade_version }}.sh"" vars: repo_setup_script: ""{{ working_dir }}/repo-setup-{{ target_upgrade_version }}.sh""",0,3
openstack%2Ftripleo-ci~master~If1f79320166bd16bab2b5dfe553e93f07493b20a,openstack/tripleo-ci,master,If1f79320166bd16bab2b5dfe553e93f07493b20a,[Community goal] Update contributor documentation,ABANDONED,2020-04-29 21:15:57.000000000,2020-08-29 02:58:58.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-29 21:15:57.000000000', 'files': ['constraints.txt', 'docs/source/conf.py', 'docs/source/contributor/contributing.rst', 'docs/source/index.rst', 'doc', 'tox.ini', 'docs/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3e1b0c6bd9d3611e73cd2613eaf0e2e2361cb6c5', 'message': '[Community goal] Update contributor documentation\n\nAs the Ussuri goal we have an OpenStack project wide contributing\ndocumentation template [1]. pyhton-novaclient use its own bug or feature\ntracking LP and core team is also not exactly same as nova  so adding\nits own contributor guide with keeping common links from nova\nwith python-novaclient specific information.\n\nAlso the top level CONTRIBUTING.rst template has been changed in the\ncookiecutter repo[2]. So this patch updates the CONTRIBUTING.rst according\nto the new template.\n\n[1] https://opendev.org/openstack/cookiecutter/src/branch/master/%7b%7bcookiecutter.repo_name%7d%7d/doc/source/contributor/contributing.rst\n[2] https://review.opendev.org/#/c/696001\n\nStory: #2007236\nTask: #38567\nChange-Id: If1f79320166bd16bab2b5dfe553e93f07493b20a\n'}]",0,724423,3e1b0c6bd9d3611e73cd2613eaf0e2e2361cb6c5,5,3,1,9592,,,0,"[Community goal] Update contributor documentation

As the Ussuri goal we have an OpenStack project wide contributing
documentation template [1]. pyhton-novaclient use its own bug or feature
tracking LP and core team is also not exactly same as nova  so adding
its own contributor guide with keeping common links from nova
with python-novaclient specific information.

Also the top level CONTRIBUTING.rst template has been changed in the
cookiecutter repo[2]. So this patch updates the CONTRIBUTING.rst according
to the new template.

[1] https://opendev.org/openstack/cookiecutter/src/branch/master/%7b%7bcookiecutter.repo_name%7d%7d/doc/source/contributor/contributing.rst
[2] https://review.opendev.org/#/c/696001

Story: #2007236
Task: #38567
Change-Id: If1f79320166bd16bab2b5dfe553e93f07493b20a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/724423/1 && git format-patch -1 --stdout FETCH_HEAD,"['constraints.txt', 'docs/source/conf.py', 'doc', 'docs/source/contributor/contributing.rst', 'docs/source/index.rst', 'tox.ini', 'docs/requirements.txt']",7,3e1b0c6bd9d3611e73cd2613eaf0e2e2361cb6c5,,"# this is required for the molecule jobs ansi2html docker openstacksdk pytest pytest-cov pytest-html pytest-xdist mock molecule>=3.0,<3.1 ruamel.yaml testinfra netaddr jinja2>=2.8.0,<3 # this is required for the docs build jobs sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0,!=2.1.0;python_version>='3.4' # BSD openstackdocstheme>=1.29.2 # Apache-2.0 reno>=2.11.3 # Apache-2.0 doc8>=0.8.0 # Apache-2.0 bashate>=0.6.0 # Apache-2.0 metalsmith>=0.13.0 # Apache-2.0 jsonschema # MIT # Upstream requirements from constraints.txt tripleo-common ",,263,0
openstack%2Fopenstack-tempest-skiplist~master~Ia0449cda4a3c4348792b8b1b471995f7d6a0c5a6,openstack/openstack-tempest-skiplist,master,Ia0449cda4a3c4348792b8b1b471995f7d6a0c5a6,add ussuri tempest skiplist,ABANDONED,2020-05-14 16:32:12.000000000,2020-08-29 02:58:57.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 16:32:12.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_ussuri.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0e35bbf2f142b679f9fb117f3afa03bf4ab27a5d', 'message': 'add ussuri tempest skiplist\n\nChange-Id: Ia0449cda4a3c4348792b8b1b471995f7d6a0c5a6\n'}]",0,728134,0e35bbf2f142b679f9fb117f3afa03bf4ab27a5d,9,7,1,9592,,,0,"add ussuri tempest skiplist

Change-Id: Ia0449cda4a3c4348792b8b1b471995f7d6a0c5a6
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/34/728134/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_ussuri.yml'],1,0e35bbf2f142b679f9fb117f3afa03bf4ab27a5d,ussuri-tempest-skiplist,"--- known_failures: - test: 'neutron_tempest_plugin.scenario.test_dns_integration.DNSIntegrationTests' reason: 'Remove this blacklist when OVS 2.12 will be released and https://patchwork.ozlabs.org/patch/1102717/ merged.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - test: 'neutron_tempest_plugin.api.test_revisions.TestRevisions.test_update_dns_domain_bumps_revision' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - test: 'neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_domain_and_name' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - test: 'neutron_tempest_plugin.api.admin.test_shared_network_extension.RBACSharedNetworksTest' reason: 'RBAC policy resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'mistral_tempest_tests.tests.api.v2.test_actions.ActionTestsV2.test_get_list_actions_not_in_list_filter' reason: 'mismatch error, mistral team is investigating' lp: 'https://bugs.launchpad.net/tripleo/+bug/1736950' - test: 'patrole_tempest_plugin' reason: 'Not supported in TripleO/tempestconf' - test: 'zaqar_tempest_plugin' reason: 'Not supported in TripleO/tempestconf' - test: 'watcher_tempest_plugin' reason: 'Not supported in TripleO' - test: 'vitrage_tempest_plugin' reason: 'Not supported in TripleO' - test: 'trove_tempest_plugin' reason: 'Not supported in TripleO' - test: 'tripleo_common_tempest_plugin' reason: 'Not supported in TripleO' - test: 'octavia_tempest_plugin' reason: 'Not supported in TripleO' - test: 'murano_tempest_tests' reason: 'Not supported in TripleO' - test: 'mistral_tempest_tests' reason: 'Not supported in TripleO' - test: 'magnum_tempest_plugin' reason: 'Not supported in TripleO' - test: 'kuryr_tempest_plugin' reason: 'Not supported in TripleO' - test: 'heat_tempest_plugin' reason: 'Not supported in TripleO' - test: 'designate_tempest_plugin' reason: 'Not supported in TripleO' - test: 'congress_tempest_plugin' reason: 'Not supported in TripleO' - test: 'ec2api_tempest_plugin' reason: 'Not supported in TripleO/tempestconf' - test: 'tempest.api.compute.admin.test_auto_allocate_network.AutoAllocateNetworkTest.test_server_multi_create_auto_allocate' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - test: 'neutron_tempest_plugin.api.test_trunk_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_timestamp' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_subnetpools_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_service_type_management' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_security_groups' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_routers_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_routers' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_qos_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_qos' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_ports' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_networks_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_networks' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_floating_ips_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_floating_ips' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_flavors_extensions' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_extension_driver_port_security' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_allowed_address_pair' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_address_scopes_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_address_scopes' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_shared_network_extension' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_routers_ha' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_networks.NetworksTestAdmin' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_l3_agent_scheduler' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'tempest.api.network.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_add_remove_network_from_dhcp_agent' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'tempest.api.network.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_list_networks_hosted_by_one_dhcp' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_add_remove_network_from_dhcp_agent' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_dhcp_port_status_active' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_list_networks_hosted_by_one_dhcp' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.scenario.test_qos.QoSTest.test_qos_basic_and_update' reason: 'Possible bug for QoS + FIP in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'barbican_tempest_plugin.tests.scenario.test_image_signing.ImageSigningTest.test_signed_image_upload_boot_failure' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820671' - test: 'telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration' reason: 'telemetry tests failed due to One or more ports have an IP allocation from this subnet' lp: 'https://bugs.launchpad.net/tripleo/+bug/1792862' # skip list for undercloud - test: 'tempest.api.network.test_networks.NetworksTest.test_external_network_visibility' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.test_floating_ips.FloatingIPTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.servers' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_existent_host' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_host_as_user' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_remove_host_as_user' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_create_server.ServersWithSpecificFlavorTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates.AggregatesAdminTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_create_server.ServersWithSpecificFlavorTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_hypervisor' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_hypervisor_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_delete_server' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_hosts.HostsAdminTestJSON.test_show_host_detail' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_servers' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_simple_tenant_usage' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_servers_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.floating_ips' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_server_diagnostics' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_server_diagnostics_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.images' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_external_networks_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_floating_ips_admin_actions' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_routers' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_routers_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.test_floating_ips_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.test_networks.NetworksIpV6Test.test_external_network_visibility' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_ports' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.identity.admin.v3.test_roles.RolesV3TestJSON' reason: 'Running on undercloud' undercloud: true ",,242,0
openstack%2Ftripleo-ci~master~I04262cc4db5ce1fa0c2ecfc02f10497a9a989a69,openstack/tripleo-ci,master,I04262cc4db5ce1fa0c2ecfc02f10497a9a989a69,mark centos-8-undercloud-containers as nv,ABANDONED,2020-05-12 15:23:11.000000000,2020-08-29 02:58:56.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-12 15:23:11.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6ea4af27354b3f9bac2858ebf4d0426b5bb9b8c6', 'message': 'mark centos-8-undercloud-containers as nv\n\nChange-Id: I04262cc4db5ce1fa0c2ecfc02f10497a9a989a69\n'}]",0,727227,6ea4af27354b3f9bac2858ebf4d0426b5bb9b8c6,7,4,1,9592,,,0,"mark centos-8-undercloud-containers as nv

Change-Id: I04262cc4db5ce1fa0c2ecfc02f10497a9a989a69
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/27/727227/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,6ea4af27354b3f9bac2858ebf4d0426b5bb9b8c6,, voting: false, voting: true,1,1
openstack%2Ftripleo-ci~master~Ifbdf3b467cda18109b34f4decc0cb014420188e9,openstack/tripleo-ci,master,Ifbdf3b467cda18109b34f4decc0cb014420188e9,updates for centos-8-train standalone / undercloud,ABANDONED,2020-05-14 20:53:17.000000000,2020-08-29 02:58:55.000000000,,"[{'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-14 20:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/580abcb436ddf31edbbc397540d4300b5c1101c2', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 2, 'created': '2020-05-14 20:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7d6ca0e743349c7aedd7019b28a78a2a42669a61', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 3, 'created': '2020-05-14 21:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/55be8549edf360f68d158ede74471c2ce90604b7', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 4, 'created': '2020-05-14 21:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d0a1f20dbf89f1e8805edcab83bb207790e3cea0', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 5, 'created': '2020-05-14 21:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b52266d0baf79d1012a4040e18839972e733444', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 6, 'created': '2020-05-15 10:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/be4cf4967a57d3639cc71b758c9366963f704444', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChangeglog:\n* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train\n* Added tripleo-ci-centos-8-containers-multinode-train\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 7, 'created': '2020-05-15 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c9a8d389f5617ffe26c1cc80e94e564182417d04', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChangeglog:\n* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train\n* Added tripleo-ci-centos-8-containers-multinode-train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates -> enabled for train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades -> enabled from train onwards\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 8, 'created': '2020-05-15 11:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bb50012895982fa437e5d215899df1f47c6cde7', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChangeglog:\n* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train\n* Added tripleo-ci-centos-8-containers-multinode-train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates -> enabled for train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades -> enabled from train onwards\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 9, 'created': '2020-05-15 11:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eea94de947b66699bdd0bc4b5318fcf924e5dd95', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChangeglog:\n* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train\n* Added tripleo-ci-centos-8-containers-multinode-train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates -> enabled for train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades -> enabled from train onwards\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 10, 'created': '2020-05-15 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/429bacf454b6f880a991e7eaf7891083b1be485c', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChangeglog:\n* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train\n* Added tripleo-ci-centos-8-containers-multinode-train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates -> enabled for train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades -> enabled from train onwards\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}, {'number': 11, 'created': '2020-05-20 07:25:02.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3251861a8848dde90069516ff6bd2d730d2b7439', 'message': 'updates for centos-8-train standalone / undercloud\n\nenable basic standalone, and undercloud* on train\ncentos-8\n\nOnly a limited mix of centos-7 and centos-8 train\n\nChangeglog:\n* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train\n* Added tripleo-ci-centos-8-containers-multinode-train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates -> enabled for train\n* tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades -> enabled from train onwards\n\nChange-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9\n'}]",35,728294,3251861a8848dde90069516ff6bd2d730d2b7439,29,4,11,9592,,,0,"updates for centos-8-train standalone / undercloud

enable basic standalone, and undercloud* on train
centos-8

Only a limited mix of centos-7 and centos-8 train

Changeglog:
* tripleo-ci-centos-8-containers-undercloud-minion - enabled for train
* Added tripleo-ci-centos-8-containers-multinode-train
* tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates -> enabled for train
* tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades -> enabled from train onwards

Change-Id: Ifbdf3b467cda18109b34f4decc0cb014420188e9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/728294/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml']",2,580abcb436ddf31edbbc397540d4300b5c1101c2,centos8-train, branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein)).*$, branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$,2,2
openstack%2Ftripleo-quickstart-extras~master~If1b13426da9d3066af619bb7313a12e0e9d308f7,openstack/tripleo-quickstart-extras,master,If1b13426da9d3066af619bb7313a12e0e9d308f7,pin oslo.config to 7.0.0 on centos7,ABANDONED,2020-03-26 22:40:25.000000000,2020-08-29 02:58:54.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-26 22:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2b51b5b39c51da3504f7fe9573b345c11c38d03a', 'message': 'pin oslo.config to 7.0.0 on centos7\n\nremoval of upper constraints for py27\nis root cause\n\nCloses-Bug: #1869270\nChange-Id: If1b13426da9d3066af619bb7313a12e0e9d308f7\n'}, {'number': 2, 'created': '2020-03-26 22:42:48.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e68e53edaed0a162d5787019eb13ae6bc2b7992d', 'message': 'pin oslo.config to 7.0.0 on centos7\n\nremoval of upper constraints for py27\nis root cause\n\nCloses-Bug: #1869270\nDepends-On: https://review.opendev.org/#/c/715287\nChange-Id: If1b13426da9d3066af619bb7313a12e0e9d308f7\n'}]",2,715321,e68e53edaed0a162d5787019eb13ae6bc2b7992d,13,6,2,9592,,,0,"pin oslo.config to 7.0.0 on centos7

removal of upper constraints for py27
is root cause

Closes-Bug: #1869270
Depends-On: https://review.opendev.org/#/c/715287
Change-Id: If1b13426da9d3066af619bb7313a12e0e9d308f7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/21/715321/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,2b51b5b39c51da3504f7fe9573b345c11c38d03a,tripleo-ci-py27-fix,"- name: Pip install oslo.config pip: name: oslo.config virtualenv: ""{{ build_repo_dir }}/dlrn-venv"" version: 7.0.0 when: ansible_distribution_major_version|int < 8 ",,7,0
openstack%2Ftripleo-ci~master~I9828a6d235e3631b854f7aa2d4d0a598f7bd5276,openstack/tripleo-ci,master,I9828a6d235e3631b854f7aa2d4d0a598f7bd5276,install pyyaml via pip and upper-constraints,ABANDONED,2020-03-09 23:28:24.000000000,2020-08-29 02:58:52.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-09 23:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b78da15a6de34ad84bacab3ad8b238b534b95491', 'message': 'update centos-7 to use pyhon2 prefix for rpm packages\n\npython-pyyaml is not found where python2-pyyaml is found\npython-pip works w/ python or python2 as does\npython-virtualenv\n\nChange-Id: I9828a6d235e3631b854f7aa2d4d0a598f7bd5276\n'}, {'number': 2, 'created': '2020-03-10 00:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50e78da52b0f95a95690e1e05b04ea8953f6c911', 'message': 'install pyyaml via pip and upper-constraints\n\nthe rpm package went POOOOF..\n\nChange-Id: I9828a6d235e3631b854f7aa2d4d0a598f7bd5276\n'}, {'number': 3, 'created': '2020-03-10 00:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/074784e4fdcbe1f67aa6fe8e8a9905c0c606fb4a', 'message': 'install pyyaml via pip and upper-constraints\n\nthe rpm package went POOOOF..\n\nChange-Id: I9828a6d235e3631b854f7aa2d4d0a598f7bd5276\n'}, {'number': 4, 'created': '2020-03-10 02:22:47.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml', 'roles/oooci-build-images/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fc5b045c708d1e7dafaa5cbf2a02ddd496fd063d', 'message': 'install pyyaml via pip and upper-constraints\n\nthe rpm package went POOOOF..\n\nChange-Id: I9828a6d235e3631b854f7aa2d4d0a598f7bd5276\n'}]",5,712001,fc5b045c708d1e7dafaa5cbf2a02ddd496fd063d,16,6,4,9592,,,0,"install pyyaml via pip and upper-constraints

the rpm package went POOOOF..

Change-Id: I9828a6d235e3631b854f7aa2d4d0a598f7bd5276
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/712001/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/vars/main.yaml'],1,b78da15a6de34ad84bacab3ad8b238b534b95491,, py2: python2, py2: python,1,1
openstack%2Ftripleo-quickstart-extras~master~I476453d4c885a294d14d3c8d03b241b62a008d5c,openstack/tripleo-quickstart-extras,master,I476453d4c885a294d14d3c8d03b241b62a008d5c,ci queens needs docker iptables off,ABANDONED,2019-10-30 20:49:55.000000000,2020-08-29 02:58:51.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-30 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b0aa69f0e30196266fff662b270564347cf2c3a7', 'message': 'ci queens needs docker iptables off\n\nsets:\ncontainer_registry_docker_disable_iptables: true\n\nDepends-On: https://review.opendev.org/#/c/692196/\nCloses-Bug: #1845166\nChange-Id: I476453d4c885a294d14d3c8d03b241b62a008d5c\n'}, {'number': 2, 'created': '2019-10-30 20:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7bc892357ce37b4bc9ef6b3233becf792d9512e4', 'message': 'ci queens needs docker iptables off\n\nsets var:\ncontainer_registry_docker_disable_iptables: true\n\nDepends-On: https://review.opendev.org/#/c/692196/\nCloses-Bug: #1845166\nChange-Id: I476453d4c885a294d14d3c8d03b241b62a008d5c\n'}, {'number': 3, 'created': '2019-10-31 02:37:21.000000000', 'files': ['roles/overcloud-prep-containers/tasks/main.yml', 'roles/overcloud-prep-containers/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ad38ca2988ba46381c6f336a3876c61b36de95e', 'message': 'ci queens needs docker iptables off\n\nsets var:\ncontainer_registry_docker_disable_iptables: true\n\nDepends-On: https://review.opendev.org/#/c/692196/\nCloses-Bug: #1845166\nChange-Id: I476453d4c885a294d14d3c8d03b241b62a008d5c\n'}]",0,692223,1ad38ca2988ba46381c6f336a3876c61b36de95e,8,4,3,9592,,,0,"ci queens needs docker iptables off

sets var:
container_registry_docker_disable_iptables: true

Depends-On: https://review.opendev.org/#/c/692196/
Closes-Bug: #1845166
Change-Id: I476453d4c885a294d14d3c8d03b241b62a008d5c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/692223/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/main.yml'],1,b0aa69f0e30196266fff662b270564347cf2c3a7,queens-docker-iptables,# Workaround for https://bugs.launchpad.net/tripleo/+bug/1845166/ - name: Turn off docker iptables when needed when: container_registry_docker_disable_iptables|bool become: true block: - name: Disable docker iptables when: container_registry_docker_disable_iptables ini_file: path: /etc/sysconfig/docker-network section: null option: DOCKER_NETWORK_OPTIONS value: --iptables=false no_extra_spaces: true - name: Restart Docker daemon service: name: docker state: restarted ,,20,0
openstack%2Ftripleo-quickstart-extras~master~I3d401815d3b80156b007a22a54997ad7ae2e07ab,openstack/tripleo-quickstart-extras,master,I3d401815d3b80156b007a22a54997ad7ae2e07ab,only support x86_64 and centos,ABANDONED,2019-10-14 18:46:50.000000000,2020-08-29 02:58:50.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 18:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ec196b36f9a0227f65ff4c285a4adf12eb851bff', 'message': 'only support x86_64 and centos\n\naltarch was being injected into the build\nthis fixes it.\n\nChange-Id: I3d401815d3b80156b007a22a54997ad7ae2e07ab\n'}, {'number': 2, 'created': '2019-10-15 11:41:59.000000000', 'files': ['roles/nodepool-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6524af14d03e2ccd59cc199281d3da367922891', 'message': 'only support x86_64 and centos\n\naltarch was being injected into the build\nthis fixes it.\n\nChange-Id: I3d401815d3b80156b007a22a54997ad7ae2e07ab\n'}]",1,688534,a6524af14d03e2ccd59cc199281d3da367922891,11,7,2,9592,,,0,"only support x86_64 and centos

altarch was being injected into the build
this fixes it.

Change-Id: I3d401815d3b80156b007a22a54997ad7ae2e07ab
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/34/688534/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nodepool-setup/tasks/main.yml'],1,ec196b36f9a0227f65ff4c285a4adf12eb851bff,,"# support at this time is for centos # x86_64 only - name: Set contentdir to default centos arch set_fact: yum_contentdir_data: centos - name: Populate /etc/yum/vars/contentdir copy: dest: /etc/yum/vars/contentdir content: ""{{ yum_contentdir_data }}"" become: true","- when: not yum_contentdir.stat.exists and ansible_distribution|lower != 'fedora' block: - name: Discover package architecture command: rpm -q --qf ""%{arch}"" -f /etc/redhat-release register: rpm_arch - debug: msg: Package architecture is '{{ rpm_arch.stdout }}' - name: Set contentdir to altarch set_fact: yum_contentdir_data: altarch when: rpm_arch.stdout in ['aarch64', 'ppc64le'] - name: Set contentdir to default centos arch set_fact: yum_contentdir_data: centos when: rpm_arch.stdout not in ['aarch64', 'ppc64le'] - name: Populate /etc/yum/vars/contentdir copy: dest: /etc/yum/vars/contentdir content: ""{{ yum_contentdir_data }}"" become: true",10,24
openstack%2Ftripleo-ci~master~Ic224db561556e87d7134d26897be4389e4a3faa0,openstack/tripleo-ci,master,Ic224db561556e87d7134d26897be4389e4a3faa0,add an about doc section,ABANDONED,2019-08-21 20:25:59.000000000,2020-08-29 02:58:49.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-21 20:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ac9410192aca2ff53af876ef0d925e25cd9a0f7', 'message': 'add an about doc section\n\nadd the location of the src\nand how the src is injected as a footer.\n\nChange-Id: Ic224db561556e87d7134d26897be4389e4a3faa0\n'}, {'number': 2, 'created': '2019-08-21 20:26:25.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8d181b624d54176581a99ca9aeb73a9adce3ea3a', 'message': 'add an about doc section\n\nadd the location of the src\nand how the src is injected as a footer.\n\nChange-Id: Ic224db561556e87d7134d26897be4389e4a3faa0\n'}]",1,677814,8d181b624d54176581a99ca9aeb73a9adce3ea3a,7,4,2,9592,,,0,"add an about doc section

add the location of the src
and how the src is injected as a footer.

Change-Id: Ic224db561556e87d7134d26897be4389e4a3faa0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/14/677814/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,5ac9410192aca2ff53af876ef0d925e25cd9a0f7,,"<button class=""collapsible"">Contribute to this document</button> <div class=""content""> <p> <ul> <li> The document source is <a href='https://opendev.org/openstack/tripleo-ci/src/branch/master/docs/tripleo-quickstart-logs.html'>here</a> </li> <li> The document is inject as a footer <a href='https://opendev.org/opendev/system-config/src/branch/master/modules/openstack_project/manifests/static.pp#L216'>here</a> </li> </ul> </p> </div> ",,14,0
openstack%2Ftripleo-quickstart-extras~master~I2c2cf287dae6cc64023625929096d51582ddb1bd,openstack/tripleo-quickstart-extras,master,I2c2cf287dae6cc64023625929096d51582ddb1bd,add dlrn build log to log stash,ABANDONED,2018-11-29 16:54:09.000000000,2020-08-29 02:58:47.000000000,,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 16:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/96342ec86cab820d65e6be315ae7f50274968577', 'message': 'WIP, add dlrn build log to log stash\n\nChange-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd\n'}, {'number': 2, 'created': '2019-01-03 21:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d10d513ec4f44a3eafb2393caa2df364090d612', 'message': 'WIP, add dlrn build log to log stash\n\nChange-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd\n'}, {'number': 3, 'created': '2019-01-15 18:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3ea5bb41d4c195ee4d93d91b5d2c97aed32d9cd8', 'message': 'WIP, add dlrn build log to log stash\n\nChange-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd\n'}, {'number': 4, 'created': '2019-01-15 19:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dffea06fb52e61864c697526260a0cecd2f4ac36', 'message': ""add dlrn build log to log stash\n\nLet's add the rpm build logs to logstash so we\ncan discover issues there.\n\nTesting w/ https://review.openstack.org/#/c/631051/\n\nChange-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd\n""}, {'number': 5, 'created': '2019-01-17 17:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/52b886e14f817064078ee0bcbc7cebe0a26c792d', 'message': ""add dlrn build log to log stash\n\nLet's add the rpm build logs to logstash so we\ncan discover issues there.\n\nTesting w/ https://review.openstack.org/#/c/631051/\n\nChange-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd\n""}, {'number': 6, 'created': '2019-01-17 17:23:22.000000000', 'files': ['roles/collect-logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a30370931d778d0128b2e32a65d0edc5147ccfe8', 'message': ""add dlrn build log to log stash\n\nLet's add the rpm build logs to logstash so we\ncan discover issues there.\n\nTesting w/ https://review.openstack.org/#/c/631051/\n\nChange-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd\n""}]",3,620958,a30370931d778d0128b2e32a65d0edc5147ccfe8,23,6,6,9592,,,0,"add dlrn build log to log stash

Let's add the rpm build logs to logstash so we
can discover issues there.

Testing w/ https://review.openstack.org/#/c/631051/

Change-Id: I2c2cf287dae6cc64023625929096d51582ddb1bd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/58/620958/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-logs/defaults/main.yml'],1,96342ec86cab820d65e6be315ae7f50274968577,, - /tmp/delorean_logs/home/{{ undercloud_user }}/DLRN/data/repos/*/build.log,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia6a47f05bc44893fd6fd38f31befca2e4e5a929a,openstack/tripleo-ansible,stable/train,Ia6a47f05bc44893fd6fd38f31befca2e4e5a929a,add retry/delay in podman rm container,ABANDONED,2020-05-06 17:23:08.000000000,2020-08-29 02:58:46.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-06 17:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f99f2387508a30994d783386add20d18d998d72', 'message': 'add retry/delay in podman rm container\n\nideally use the podman module e.g.\nhttps://review.opendev.org/725939\n\nAs a backup use retry/delay to remove\na running container.\n\nChange-Id: Ia6a47f05bc44893fd6fd38f31befca2e4e5a929a\n'}, {'number': 2, 'created': '2020-05-06 17:24:09.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-rm/tasks/tripleo_podman_container_rm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ba72eb6c3b9709ec5fe9aab6e6fea8c05e89c0e', 'message': 'add retry/delay in podman rm container\n\nideally use the podman module e.g.\nhttps://review.opendev.org/725939\n\nAs a backup use retry/delay to remove\na running container.\n\nPartial-Bug: #1876893\nChange-Id: Ia6a47f05bc44893fd6fd38f31befca2e4e5a929a\n'}]",0,725940,8ba72eb6c3b9709ec5fe9aab6e6fea8c05e89c0e,4,2,2,9592,,,0,"add retry/delay in podman rm container

ideally use the podman module e.g.
https://review.opendev.org/725939

As a backup use retry/delay to remove
a running container.

Partial-Bug: #1876893
Change-Id: Ia6a47f05bc44893fd6fd38f31befca2e4e5a929a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/725940/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-rm/tasks/tripleo_podman_container_rm.yml'],1,5f99f2387508a30994d783386add20d18d998d72,train," register: removed_container until: (removed_container | succeeded ) or (""'Failed to find container' in removed_container.stderr"") retries: 3 delay: 5", changed_when: true,4,1
openstack%2Ftripleo-quickstart-extras~master~I9b2126c396985335b5489557f202a539c094baa2,openstack/tripleo-quickstart-extras,master,I9b2126c396985335b5489557f202a539c094baa2,(wes) DNM Add role for standalone on multinode with IPA,ABANDONED,2020-05-04 19:21:10.000000000,2020-08-29 02:58:45.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-04 19:21:10.000000000', 'files': ['roles/ipa-multinode/README.md', 'roles/ipa-multinode/meta/main.yml', 'roles/standalone/tasks/main.yml', 'roles/ipa-multinode/defaults/main.yml', 'roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml', 'playbooks/multinode-standalone-ipa.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30699176141a42a77655f610dfd5daf1536e4136', 'message': '(wes) DNM Add role for standalone on multinode with IPA\n\nThis review adds the ipa-multinode role to\ninstall and configure a two-node setup -\nwhere the IPA server is running on the\nsecondary node and a standalone deployment\nis run on the primary node.\n\nThis review also includes modifications to\nstandalone role to use the IPA server when\nenable_tls is set to true.\n\nDepends-On: https://review.opendev.org/#/c/707419\nDepends-On: https://review.opendev.org/#/c/724907\nChange-Id: I9b2126c396985335b5489557f202a539c094baa2\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/670\n'}]",0,725375,30699176141a42a77655f610dfd5daf1536e4136,4,4,1,9592,,,0,"(wes) DNM Add role for standalone on multinode with IPA

This review adds the ipa-multinode role to
install and configure a two-node setup -
where the IPA server is running on the
secondary node and a standalone deployment
is run on the primary node.

This review also includes modifications to
standalone role to use the IPA server when
enable_tls is set to true.

Depends-On: https://review.opendev.org/#/c/707419
Depends-On: https://review.opendev.org/#/c/724907
Change-Id: I9b2126c396985335b5489557f202a539c094baa2
Story: https://tree.taiga.io/project/tripleo-ci-board/us/670
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/75/725375/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ipa-multinode/README.md', 'roles/ipa-multinode/meta/main.yml', 'roles/standalone/tasks/main.yml', 'roles/ipa-multinode/defaults/main.yml', 'roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml', 'playbooks/multinode-standalone-ipa.yml']",7,30699176141a42a77655f610dfd5daf1536e4136,ipa-multinode,"--- - name: Add the nodes to the generated inventory hosts: undercloud gather_facts: true vars: inventory: multinode overcloud_templates_path: ""{{ working_dir }}/tripleo-heat-templates"" roles: - tripleo-inventory tags: - standalone - name: Setup the IPA server hosts: subnode-1 tags: - standalone tasks: - include_role: name: ipa-multinode tasks_from: ipaserver-subnode-install.yml - name: Setup the undercloud for IPA server hosts: undercloud tags: - standalone tasks: - include_role: name: ipa-multinode tasks_from: ipaserver-undercloud-setup.yml ",,433,1
openstack%2Ftripleo-ci~master~Ie4d7d7af189688b5d6e6eeb35390507214d3a6ca,openstack/tripleo-ci,master,Ie4d7d7af189688b5d6e6eeb35390507214d3a6ca,add ceph-ansible log path to collection,ABANDONED,2020-04-17 16:22:50.000000000,2020-08-29 02:58:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-17 16:22:50.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/920bd29a67ad230454f476eb7ec0e67065d42431', 'message': 'add ceph-ansible log path to collection\n\nmsg: Running 1 ceph-ansible playbook(s)\n(immediate log at /home/zuul/standalone-ansible-qe_0esr9/\nceph-ansible/ceph_ansible_command.log)\n\nChange-Id: Ie4d7d7af189688b5d6e6eeb35390507214d3a6ca\n'}]",1,720773,920bd29a67ad230454f476eb7ec0e67065d42431,5,4,1,9592,,,0,"add ceph-ansible log path to collection

msg: Running 1 ceph-ansible playbook(s)
(immediate log at /home/zuul/standalone-ansible-qe_0esr9/
ceph-ansible/ceph_ansible_command.log)

Change-Id: Ie4d7d7af189688b5d6e6eeb35390507214d3a6ca
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/720773/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,920bd29a67ad230454f476eb7ec0e67065d42431,, - /home/*/standalone-ansible-*/ceph-ansible/*.log,,1,0
openstack%2Ftripleo-ci~master~Idcd3b7f74ac43b14162f866a295fb8de0b15e114,openstack/tripleo-ci,master,Idcd3b7f74ac43b14162f866a295fb8de0b15e114,"turn off debug for overcloud, logs are large",ABANDONED,2020-03-03 03:23:10.000000000,2020-08-29 02:58:43.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 03:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2fbc0745b249ef2c1b3ed20f9b5045e6f9e14948', 'message': 'turn off debug for overcloud, logs are large\n\nAs requested, turn off debug in overcloud deployments\nReduce the size of the overcloud log.\n\nChange-Id: Idcd3b7f74ac43b14162f866a295fb8de0b15e114\n'}, {'number': 2, 'created': '2020-03-04 17:25:59.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0269ea7290097ac8635ae105f688fc87af593069', 'message': 'turn off debug for overcloud, logs are large\n\nAs requested, turn off debug in overcloud deployments\nReduce the size of the overcloud log.\n\nChange-Id: Idcd3b7f74ac43b14162f866a295fb8de0b15e114\n'}]",0,710899,0269ea7290097ac8635ae105f688fc87af593069,7,5,2,9592,,,0,"turn off debug for overcloud, logs are large

As requested, turn off debug in overcloud deployments
Reduce the size of the overcloud log.

Change-Id: Idcd3b7f74ac43b14162f866a295fb8de0b15e114
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/99/710899/2 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml']",2,2fbc0745b249ef2c1b3ed20f9b5045e6f9e14948,,, -e {{ overcloud_templates_path }}/environments/debug.yaml,0,2
openstack%2Ftripleo-ci~master~Ic4ac92acc5e675f127a90268cc2d6beb28615d0a,openstack/tripleo-ci,master,Ic4ac92acc5e675f127a90268cc2d6beb28615d0a,remove tripleo-ci-centos-7-scenario010-multinode-oooq-container,ABANDONED,2019-10-03 02:29:57.000000000,2020-08-29 02:58:41.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 02:29:57.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b10abc0c14c2900173140ebc61ad65231db7c304', 'message': 'remove tripleo-ci-centos-7-scenario010-multinode-oooq-container\n\nthis is experimental and failing\n\nChange-Id: Ic4ac92acc5e675f127a90268cc2d6beb28615d0a\n'}]",0,686324,b10abc0c14c2900173140ebc61ad65231db7c304,5,3,1,9592,,,0,"remove tripleo-ci-centos-7-scenario010-multinode-oooq-container

this is experimental and failing

Change-Id: Ic4ac92acc5e675f127a90268cc2d6beb28615d0a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/686324/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,b10abc0c14c2900173140ebc61ad65231db7c304,scenario010-multinode,, - tripleo-ci-centos-7-scenario010-multinode-oooq-container name: tripleo-ci-centos-7-scenario010-multinode-oooq-container parent: tripleo-ci-base-multinode voting: false branches: ^(?!stable/(newton|ocata|pike)).*$ vars: nodes: 1ctlr featureset: '038' - job:,0,10
openstack%2Ftripleo-ci~master~I488433395385fcceb8ba0a2543334232d7677eaf,openstack/tripleo-ci,master,I488433395385fcceb8ba0a2543334232d7677eaf,TEST DNM,ABANDONED,2019-04-26 16:19:21.000000000,2020-08-29 02:58:40.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-26 16:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1007c3da7b6b9e3d08c2d42238a6e7c232e1dcf6', 'message': 'TEST DNM\n\nDepends-On: https://review.opendev.org/#/c/650169/\nChange-Id: I488433395385fcceb8ba0a2543334232d7677eaf\n'}, {'number': 2, 'created': '2019-05-14 20:18:07.000000000', 'files': ['roles/run-test/tasks/main.yaml', 'roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/78233f078a23ebf3d2a8c2671e988f3206efe3c2', 'message': 'TEST DNM\n\nDepends-On: https://review.opendev.org/#/c/650169/\nChange-Id: I488433395385fcceb8ba0a2543334232d7677eaf\n'}]",0,655938,78233f078a23ebf3d2a8c2671e988f3206efe3c2,13,4,2,9592,,,0,"TEST DNM

Depends-On: https://review.opendev.org/#/c/650169/
Change-Id: I488433395385fcceb8ba0a2543334232d7677eaf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/38/655938/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,1007c3da7b6b9e3d08c2d42238a6e7c232e1dcf6,ansible-2.7,# test DNM,,1,0
openstack%2Ftripleo-heat-templates~master~I8bd84d2f0ed24c512fb0d1128b08d82ab3a079f1,openstack/tripleo-heat-templates,master,I8bd84d2f0ed24c512fb0d1128b08d82ab3a079f1,voting scenario009 in gate as well,ABANDONED,2019-04-16 20:21:30.000000000,2020-08-29 02:58:39.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-16 20:21:30.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcbf67760454f9305c397302ac879983b2ad04de', 'message': 'voting scenario009 in gate as well\n\nvoting: true must be on if not\ndefined as voting in job def.\n\nChange-Id: I8bd84d2f0ed24c512fb0d1128b08d82ab3a079f1\n'}]",0,653139,dcbf67760454f9305c397302ac879983b2ad04de,5,4,1,9592,,,0,"voting scenario009 in gate as well

voting: true must be on if not
defined as voting in job def.

Change-Id: I8bd84d2f0ed24c512fb0d1128b08d82ab3a079f1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/653139/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,dcbf67760454f9305c397302ac879983b2ad04de,, voting: true,,1,0
openstack%2Ftripleo-ci~master~Ia9996d8bf6798c4bf2d6c60d0acde1d4c9b1e5b6,openstack/tripleo-ci,master,Ia9996d8bf6798c4bf2d6c60d0acde1d4c9b1e5b6,"DNM, update fs override w/ standalone_custom_env_files",ABANDONED,2019-03-07 17:40:13.000000000,2020-08-29 02:58:38.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-07 17:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d0b30df9aa5b6f1653e38008c58fc1260e45319', 'message': 'DNM, update fs override w/ standalone_custom_env_files\n\nNot sure if this is the right thing to do yet\n\nChange-Id: Ia9996d8bf6798c4bf2d6c60d0acde1d4c9b1e5b6\n'}, {'number': 2, 'created': '2020-05-25 16:00:56.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbbd820effbec08f76eee9e2b2ee0eee610869d3', 'message': 'DNM, update fs override w/ standalone_custom_env_files\n\nNot sure if this is the right thing to do yet\n\nChange-Id: Ia9996d8bf6798c4bf2d6c60d0acde1d4c9b1e5b6\n'}]",0,641737,bbbd820effbec08f76eee9e2b2ee0eee610869d3,15,9,2,9592,,,0,"DNM, update fs override w/ standalone_custom_env_files

Not sure if this is the right thing to do yet

Change-Id: Ia9996d8bf6798c4bf2d6c60d0acde1d4c9b1e5b6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/641737/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,5d0b30df9aa5b6f1653e38008c58fc1260e45319,zuul-ci-repro-libvirt, - 'standalone_custom_env_files',,1,0
openstack%2Ftripleo-ci~master~Iba0c77334b0ab69535bc73fb55ea24e4b968a93e,openstack/tripleo-ci,master,Iba0c77334b0ab69535bc73fb55ea24e4b968a93e,WIP (wes) - non-voting job for tripleo-build-containers-ubi-8,ABANDONED,2020-04-30 01:33:36.000000000,2020-08-29 02:58:36.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-30 01:33:36.000000000', 'files': ['zuul.d/build-containers.yaml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/package_setup.yml', 'roles/build-containers/templates/build.sh.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9cf7817be0ebc44fa5e35b52d5da9a87ea121a8e', 'message': 'WIP (wes) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Iba0c77334b0ab69535bc73fb55ea24e4b968a93e\n'}]",0,724451,9cf7817be0ebc44fa5e35b52d5da9a87ea121a8e,4,4,1,9592,,,0,"WIP (wes) - non-voting job for tripleo-build-containers-ubi-8

Add a new job that will build tripleo container images without kolla.

Depends-On: https://review.opendev.org/#/c/722486
Depends-On: https://review.opendev.org/#/c/724147
Depends-On: https://review.opendev.org/#/c/722557
Change-Id: Iba0c77334b0ab69535bc73fb55ea24e4b968a93e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/724451/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/package_setup.yml', 'roles/build-containers/templates/build.sh.j2', 'zuul.d/layout.yaml']",5,9cf7817be0ebc44fa5e35b52d5da9a87ea121a8e,tcib/test," #templates: #- tripleo-ci-build-containers-jobs #- tripleo-multinode-baremetal-full #- tripleo-multinode-branchful #- tripleo-multinode-container-full #- tripleo-multinode-experimental #- tripleo-standalone-scenarios-full #- tripleo-undercloud-jobs #- tripleo-periodic - tripleo-build-containers-ubi-8 #- tripleo-tox-molecule: # vars: # tox_environment: # PYTEST_REQPASS: 1 #- openstack-tox-py35: # success-url: ""tox/reports.html"" # failure-url: ""tox/reports.html"" # files: &py_files # - ^bindep.txt$ # - ^requirements.txt$ # - ^scripts/emit_releases_file/.*$ # - ^setup.cfg$ # - ^setup.py$ # - ^tox.ini$ # vars: # tox_environment: # PYTEST_REQPASS: 84 #- tripleo-buildimage-overcloud-full-centos-8: # files: &build_images_files # - ^playbooks/tripleo-buildimages/.*$ # - ^roles/oooci-build-images/.*$ # - zuul.d/layout.yaml # - zuul.d/build-image.yaml #- tripleo-buildimage-ironic-python-agent-centos-8: # files: *build_images_files #- tripleo-buildimage-overcloud-hardened-full-centos-8: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-7-train: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-7: # files: *build_images_files #- tripleo-buildimage-ironic-python-agent-centos-7: # files: *build_images_files #- tripleo-buildimage-overcloud-hardened-full-centos-7: # files: *build_images_files #- tripleo-ci-centos-7-scenario001-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario002-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario003-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario004-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario007-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-8-scenario007-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-standalone-upgrade-stein: # branches: stable/train #- tripleo-ci-centos-7-standalone-upgrade-train: # branches: master #- tripleo-tox-molecule #- openstack-tox-py35: # files: *py_files #- tripleo-buildimage-overcloud-full-centos-7: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-8: # files: *build_images_files #- tripleo-ci-centos-7-standalone-upgrade-train: # branches: master #- tripleo-ci-centos-7-standalone-upgrade-stein: # branches: stable/train"," templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - tripleo-tox-molecule: vars: tox_environment: PYTEST_REQPASS: 1 - openstack-tox-py35: success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ vars: tox_environment: PYTEST_REQPASS: 84 - tripleo-buildimage-overcloud-full-centos-8: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - zuul.d/layout.yaml - zuul.d/build-image.yaml - tripleo-buildimage-ironic-python-agent-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7-train: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-8-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-tox-molecule - openstack-tox-py35: files: *py_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-8: files: *build_images_files - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train",121,81
openstack%2Ftripleo-repos~master~I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20,openstack/tripleo-repos,master,I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20,"DNM, fix opstools for centos8",ABANDONED,2020-04-27 20:18:54.000000000,2020-08-29 02:58:35.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-27 20:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/cb1de391a5cd257e8ced7ce40e720f46f8695fc5', 'message': 'DNM, fix opstools for centos8\n\nChange-Id: I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20\n'}, {'number': 2, 'created': '2020-04-27 20:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6ab5614d3cc2723041b22e87b29f1e633619cb0f', 'message': 'DNM, fix opstools for centos8\n\nChange-Id: I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20\n'}, {'number': 3, 'created': '2020-04-27 23:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/721ad90df8616327985f495c97f251b556b7704e', 'message': 'DNM, fix opstools for centos8\n\nChange-Id: I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20\n'}, {'number': 4, 'created': '2020-04-28 02:34:30.000000000', 'files': ['tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/83c19d822bbec4a6401b4af05d498624306093ef', 'message': 'DNM, fix opstools for centos8\n\nChange-Id: I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20\n'}]",0,723673,83c19d822bbec4a6401b4af05d498624306093ef,11,3,4,9592,,,0,"DNM, fix opstools for centos8

Change-Id: I199c2a01ff7568fafb1b51adf6cd5f52d7cedc20
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/73/723673/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,cb1de391a5cd257e8ced7ce40e720f46f8695fc5,,"# centos-8 only OPSTOOLS_CENTOS8_REPO_TEMPLATE = ''' [tripleo-centos-powertools] name=tripleo-centos-powertools baseurl=%s/centos/8/PowerTools/x86_64/os/ gpgcheck=0 enabled=1 ''' elif repo == 'opstools' and args.distro == 'centos7': content = OPSTOOLS_CENTOS8_REPO_TEMPLATE % args.mirror _write_repo(content, args.output_path)", elif repo == 'opstools':,11,1
openstack%2Ftripleo-repos~master~I563dd5ebf93a46b3b046c9623a49d1dedee1fd52,openstack/tripleo-repos,master,I563dd5ebf93a46b3b046c9623a49d1dedee1fd52,"WIP, fix tripleo-current in aggregated centos-8 dlrn repos",ABANDONED,2020-02-21 23:23:28.000000000,2020-08-29 02:58:34.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 23:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d24f2a61a68e78548d11b21c37d1885ef9ec6988', 'message': 'WIP, fix tripleo-current in aggregated centos-8 dlrn repos\n\nChange-Id: I563dd5ebf93a46b3b046c9623a49d1dedee1fd52\n'}, {'number': 2, 'created': '2020-02-23 20:59:37.000000000', 'files': ['requirements.txt', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/ed3470fa2a1135172304e46ba3c1be3232fd14dc', 'message': 'WIP, fix tripleo-current in aggregated centos-8 dlrn repos\n\nChange-Id: I563dd5ebf93a46b3b046c9623a49d1dedee1fd52\n'}]",0,709254,ed3470fa2a1135172304e46ba3c1be3232fd14dc,7,3,2,9592,,,0,"WIP, fix tripleo-current in aggregated centos-8 dlrn repos

Change-Id: I563dd5ebf93a46b3b046c9623a49d1dedee1fd52
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/54/709254/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,d24f2a61a68e78548d11b21c37d1885ef9ec6988,,"import configparser # content = TITLE_RE.sub('[delorean]', content) cfg = configparser.ConfigParser() cfg.read_string(content.strip()) # now create the new content tripleo_current = configparser.ConfigParser() tripleo_current.add_section('delorean-component-tripleo-current') tripleo_current.set('delorean-component-tripleo-current', 'name', 'delorean-component-tripleo-current') tripleo_current.set('delorean-component-tripleo-current', 'baseurl', cfg.get('delorean-component-tripleo', 'baseurl')) tripleo_current.set('delorean-component-tripleo-current', 'enabled', '1') tripleo_current.set('delorean-component-tripleo-current', 'gpgcheck', '0') tripleo_current.set('delorean-component-tripleo-current', 'priority', '10') with open('/tmp/test_config', 'w') as configfile: tripleo_current.write(configfile, space_around_delimiters=False) with open('/tmp/test_config', 'r') as configfile: content=str(configfile.read().strip()) content = TITLE_RE.sub('[delorean-current]', content)"," content = TITLE_RE.sub('[delorean-current-tripleo]', content) content = _change_priority(content, 10)",16,2
openstack%2Ftripleo-quickstart-extras~master~I2257f9459b56a76590201db080d8912f72ec168f,openstack/tripleo-quickstart-extras,master,I2257f9459b56a76590201db080d8912f72ec168f,"DNM, build packages for any branch",ABANDONED,2019-10-15 18:48:46.000000000,2020-08-29 02:58:33.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 18:48:46.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/06d51479d7bf3524aaa5ce1b1f7668ff19ad1ca1', 'message': 'DNM, build packages for any branch\n\nChange-Id: I2257f9459b56a76590201db080d8912f72ec168f\n'}]",0,688783,06d51479d7bf3524aaa5ce1b1f7668ff19ad1ca1,4,3,1,9592,,,0,"DNM, build packages for any branch

Change-Id: I2257f9459b56a76590201db080d8912f72ec168f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/83/688783/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,06d51479d7bf3524aaa5ce1b1f7668ff19ad1ca1,,, - release in item.branch,0,1
openstack%2Ftripleo-ci~master~Id28e7640b31618a22ba396ec2450a2741ab5cfee,openstack/tripleo-ci,master,Id28e7640b31618a22ba396ec2450a2741ab5cfee,"WIP, dnm first pass at i container-build",ABANDONED,2020-04-01 17:02:57.000000000,2020-08-29 02:58:31.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-01 17:02:57.000000000', 'files': ['roles/build-containers/templates/Dockerfile_redhat.j2', 'roles/build-containers/templates/kolla-build.conf.j2', 'playbooks/tripleo-buildcontainers/pre.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/Dockerfile_rhui.j2', 'roles/build-containers/tasks/venv_setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bcdc8b881872837870b6bd905407919b11c77355', 'message': 'WIP, dnm first pass at i container-build\n\nChange-Id: Id28e7640b31618a22ba396ec2450a2741ab5cfee\n'}]",0,716670,bcdc8b881872837870b6bd905407919b11c77355,5,4,1,9592,,,0,"WIP, dnm first pass at i container-build

Change-Id: Id28e7640b31618a22ba396ec2450a2741ab5cfee
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/70/716670/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/Dockerfile_redhat.j2', 'roles/build-containers/templates/kolla-build.conf.j2', 'playbooks/tripleo-buildcontainers/pre.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/Dockerfile_rhui.j2', 'roles/build-containers/tasks/venv_setup.yml']",6,bcdc8b881872837870b6bd905407919b11c77355,container-build," when: zuul.internal is not defined- name: Install deps from upper-constraints when: zuul.internal is defined and zuul.internal|bool pip: requirements: ""{{ openstack_git_root }}/{{ item }}/requirements.txt"" virtualenv: ""{{ workspace }}/venv_build"" virtualenv_python: ""{{ virtualenv_python[ansible_distribution_major_version|int] }}"" with_items: - kolla - tripleo-common - python-tripleoclient ",,94,10
openstack%2Fkolla~master~Ibb9a2812c2e47d053775d1cbaff7c560db42ca72,openstack/kolla,master,Ibb9a2812c2e47d053775d1cbaff7c560db42ca72,DNM; WIP; add dnf module install and hooks,ABANDONED,2019-07-15 20:19:42.000000000,2020-08-29 02:58:30.000000000,,"[{'_account_id': 1955}, {'_account_id': 8161}, {'_account_id': 9592}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-15 20:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eedee919f965899b7007c41c9cd2dddd7842ddb9', 'message': 'DNM; WIP; add dnf module install and hooks\n\n- add dnf -y update for base container\n- drop python3 for swift-proxy (python 2.7 for swift)\n- also add module install python27 for swift-base\n- redis:5 module for redis and mistral-base\n- for rhel modules that are not enabled by default or\n  if we have to override for a specific version we have\n  to run module install or enable before dnf install\n- mariadb workaround for rhbz#1686818\n- mod_auth_openidc:2.3  for keystone-base\n\nthese are now automatic and dnf enables the module\nwhen it installs packages from the module\n\nChange-Id: Ibb9a2812c2e47d053775d1cbaff7c560db42ca72\nRelated: rhbz#1686818\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\nSigned-off-by: Wes Hayutin <weshayutin@gmail.com>\n'}, {'number': 2, 'created': '2019-07-15 20:26:39.000000000', 'files': ['docker/swift/swift-proxy-server/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/redis/redis/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/mistral/mistral-base/Dockerfile.j2', 'docker/swift/swift-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/02043b9b82ee4de7a359d9078b16854e8100e61c', 'message': 'DNM; WIP; add dnf module install and hooks\n\n- add dnf -y update for base container\n- drop python3 for swift-proxy (python 2.7 for swift)\n- also add module install python27 for swift-base\n- redis:5 module for redis and mistral-base\n- for rhel modules that are not enabled by default or\n  if we have to override for a specific version we have\n  to run module install or enable before dnf install\n- mariadb workaround for rhbz#1686818\n- mod_auth_openidc:2.3  for keystone-base\n\nthese are now automatic and dnf enables the module\nwhen it installs packages from the module\n\nChange-Id: Ibb9a2812c2e47d053775d1cbaff7c560db42ca72\nRelated: rhbz#1686818\nCloses-Bug: #1836627\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\nSigned-off-by: Wes Hayutin <weshayutin@gmail.com>\n'}]",4,670911,02043b9b82ee4de7a359d9078b16854e8100e61c,7,6,2,9592,,,0,"DNM; WIP; add dnf module install and hooks

- add dnf -y update for base container
- drop python3 for swift-proxy (python 2.7 for swift)
- also add module install python27 for swift-base
- redis:5 module for redis and mistral-base
- for rhel modules that are not enabled by default or
  if we have to override for a specific version we have
  to run module install or enable before dnf install
- mariadb workaround for rhbz#1686818
- mod_auth_openidc:2.3  for keystone-base

these are now automatic and dnf enables the module
when it installs packages from the module

Change-Id: Ibb9a2812c2e47d053775d1cbaff7c560db42ca72
Related: rhbz#1686818
Closes-Bug: #1836627
Signed-off-by: Lon Hohberger <lhh@redhat.com>
Signed-off-by: Wes Hayutin <weshayutin@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/670911/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-proxy-server/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/redis/redis/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/mistral/mistral-base/Dockerfile.j2', 'docker/swift/swift-base/Dockerfile.j2']",7,eedee919f965899b7007c41c9cd2dddd7842ddb9,,"RUN dnf -y module install python27:2.7 \ && {{ macros.install_packages(swift_base_packages | customizable(""packages""), chain=True) }}","{{ macros.install_packages(swift_base_packages | customizable(""packages"")) }}",16,17
openstack%2Ftripleo-common~stable%2Fussuri~I1b6d2bc06bca17d523975ab04773231ce9686b27,openstack/tripleo-common,stable/ussuri,I1b6d2bc06bca17d523975ab04773231ce9686b27,"DNM, TEST tripleo-common ussuri",ABANDONED,2020-05-26 15:29:02.000000000,2020-08-29 02:58:29.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-26 15:29:02.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/actions/base.py', 'tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4b567e3703348dde9013e8d35f6a6a8207f36508', 'message': 'DNM, TEST tripleo-common ussuri\n\nDepends-On: https://review.opendev.org/#/c/722790/\nChange-Id: I1b6d2bc06bca17d523975ab04773231ce9686b27\n'}]",0,730854,4b567e3703348dde9013e8d35f6a6a8207f36508,7,3,1,9592,,,0,"DNM, TEST tripleo-common ussuri

Depends-On: https://review.opendev.org/#/c/722790/
Change-Id: I1b6d2bc06bca17d523975ab04773231ce9686b27
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/730854/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/actions/base.py', 'tripleo_common/templates/deployments.yaml']",3,4b567e3703348dde9013e8d35f6a6a8207f36508,create-ussuri,# DNM TEST,,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I0c0842dec53355eba848d0a0ca5843feef143a91,openstack/tripleo-heat-templates,stable/rocky,I0c0842dec53355eba848d0a0ca5843feef143a91,"DNM, test upstream queens",ABANDONED,2020-04-30 20:02:02.000000000,2020-08-29 02:58:28.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-30 20:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a767219829d13643d2c4911952e3d04d5e33a66b', 'message': 'DNM, test upstream queens\n\nChange-Id: I0c0842dec53355eba848d0a0ca5843feef143a91\n'}, {'number': 2, 'created': '2020-05-01 01:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcad073f57e99cce56f0e77c25cd594eebcf0ba1', 'message': 'DNM, test upstream queens\n\nDepends-On: https://review.opendev.org/#/c/724703\nChange-Id: I0c0842dec53355eba848d0a0ca5843feef143a91\n'}, {'number': 3, 'created': '2020-05-07 12:36:43.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml', 'environments/services/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b36f7d98fc4f67d901b71f1fb84dc2f4039fce39', 'message': 'DNM, test upstream queens\n\n\nChange-Id: I0c0842dec53355eba848d0a0ca5843feef143a91\n'}]",0,724740,b36f7d98fc4f67d901b71f1fb84dc2f4039fce39,12,3,3,9592,,,0,"DNM, test upstream queens


Change-Id: I0c0842dec53355eba848d0a0ca5843feef143a91
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/724740/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/collectd-write-qdr.yaml', 'environments/services/cinder-backup.yaml']",2,a767219829d13643d2c4911952e3d04d5e33a66b,westest-qr,"# DNM, test",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0c0842dec53355eba848d0a0ca5843feef143a91,openstack/tripleo-heat-templates,stable/queens,I0c0842dec53355eba848d0a0ca5843feef143a91,"DNM, test upstream queens",ABANDONED,2020-04-28 14:55:32.000000000,2020-08-29 02:58:27.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-28 14:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/704ec4e2b12a26faec529816dcfe065decf443a5', 'message': 'DNM, test upstream queens\n\nChange-Id: I0c0842dec53355eba848d0a0ca5843feef143a91\n'}, {'number': 2, 'created': '2020-05-01 01:29:02.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml', 'environments/services/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27f8e44e50299422315dd2afc0b0c6a98c9454ff', 'message': 'DNM, test upstream queens\n\nDepends-On: https://review.opendev.org/#/c/724703\nChange-Id: I0c0842dec53355eba848d0a0ca5843feef143a91\n'}]",0,723993,27f8e44e50299422315dd2afc0b0c6a98c9454ff,14,3,2,9592,,,0,"DNM, test upstream queens

Depends-On: https://review.opendev.org/#/c/724703
Change-Id: I0c0842dec53355eba848d0a0ca5843feef143a91
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/723993/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/collectd-write-qdr.yaml', 'environments/services/cinder-backup.yaml']",2,704ec4e2b12a26faec529816dcfe065decf443a5,westest-qr,"# DNM, test",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie15eabf400d143abeffdb723d52af8eb811264e1,openstack/tripleo-heat-templates,stable/queens,Ie15eabf400d143abeffdb723d52af8eb811264e1,"DNM, test2 upstream queens",ABANDONED,2020-05-01 12:42:36.000000000,2020-08-29 02:58:25.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-01 12:42:36.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml', 'environments/services/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d59a41d521e54387c668022ea1db8c74141e177', 'message': 'DNM, test2 upstream queens\n\nChange-Id: Ie15eabf400d143abeffdb723d52af8eb811264e1\n'}]",0,724834,4d59a41d521e54387c668022ea1db8c74141e177,4,3,1,9592,,,0,"DNM, test2 upstream queens

Change-Id: Ie15eabf400d143abeffdb723d52af8eb811264e1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/724834/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/collectd-write-qdr.yaml', 'environments/services/cinder-backup.yaml']",2,4d59a41d521e54387c668022ea1db8c74141e177,westest-qr,"# DNM, test",,2,0
openstack%2Ftripleo-quickstart-extras~master~I7509f00517d3d5e35b69d25d60ef249bac597775,openstack/tripleo-quickstart-extras,master,I7509f00517d3d5e35b69d25d60ef249bac597775,"DNM, test validations-common package build",ABANDONED,2020-04-24 17:44:04.000000000,2020-08-29 02:58:24.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-04-24 17:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d1cb11bace17d5a5cdd2d1de966b9c0b506ede1a', 'message': 'DNM, test validations-common package build\n\nChange-Id: I7509f00517d3d5e35b69d25d60ef249bac597775\n'}, {'number': 2, 'created': '2020-04-27 14:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c48e71c131cd798374b9062ac4bc45bd2d52c33a', 'message': 'DNM, test validations-common package build\n\nDepends-On: https://review.opendev.org/#/c/723529/\nChange-Id: I7509f00517d3d5e35b69d25d60ef249bac597775\n'}, {'number': 3, 'created': '2020-04-27 14:31:18.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5b22bbb1bf99d6f6ffa3c940af0c889fc2dbb0a0', 'message': 'DNM, test validations-common package build\n\nDepends-On: https://review.opendev.org/#/c/723529/\nChange-Id: I7509f00517d3d5e35b69d25d60ef249bac597775\n'}]",0,722952,5b22bbb1bf99d6f6ffa3c940af0c889fc2dbb0a0,14,4,3,9592,,,0,"DNM, test validations-common package build

Depends-On: https://review.opendev.org/#/c/723529/
Change-Id: I7509f00517d3d5e35b69d25d60ef249bac597775
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/52/722952/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,d1cb11bace17d5a5cdd2d1de966b9c0b506ede1a,,"# foo, test test", - openstack/validations-common - openstack/validations-libs,1,2
openstack%2Ftripleo-ci~master~I9038e5790508748643054f123165c41a34299a74,openstack/tripleo-ci,master,I9038e5790508748643054f123165c41a34299a74,"DNM, TEST ONLY IMAGES",ABANDONED,2020-04-16 16:11:49.000000000,2020-08-29 02:58:22.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-16 16:11:49.000000000', 'files': ['roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3bfc1f45a5eae55c7017a03285b5acd3dd2e15d4', 'message': 'DNM, TEST ONLY IMAGES\n\nChange-Id: I9038e5790508748643054f123165c41a34299a74\n'}]",0,720541,3bfc1f45a5eae55c7017a03285b5acd3dd2e15d4,4,3,1,9592,,,0,"DNM, TEST ONLY IMAGES

Change-Id: I9038e5790508748643054f123165c41a34299a74
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/720541/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,3bfc1f45a5eae55c7017a03285b5acd3dd2e15d4,,# NO OPT CHANGE,,1,0
openstack%2Ftripleo-ci~master~Ic9c87ea8b4cfe5f84a13f6d5d157dfbf4afe019d,openstack/tripleo-ci,master,Ic9c87ea8b4cfe5f84a13f6d5d157dfbf4afe019d,"DNM, debug dlrn",ABANDONED,2020-04-02 19:59:03.000000000,2020-08-29 02:58:20.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-02 19:59:03.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/85e09b10f1c66e30ecb3eeec5ea067a1b440fc8d', 'message': 'DNM, debug dlrn\n\nChange-Id: Ic9c87ea8b4cfe5f84a13f6d5d157dfbf4afe019d\n'}]",0,717115,85e09b10f1c66e30ecb3eeec5ea067a1b440fc8d,4,3,1,9592,,,0,"DNM, debug dlrn

Change-Id: Ic9c87ea8b4cfe5f84a13f6d5d157dfbf4afe019d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/717115/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,85e09b10f1c66e30ecb3eeec5ea067a1b440fc8d,, - /tmp/ - /home/*/DLRN/,,2,0
openstack%2Ftripleo-repos~master~Ic7308cfd513d29761c854bb7d8f8f61dd99365fb,openstack/tripleo-repos,master,Ic7308cfd513d29761c854bb7d8f8f61dd99365fb,"DNM yet, add current w/ include_pkgs to tripleo-ci-testing tag",ABANDONED,2020-02-26 17:44:03.000000000,2020-08-29 02:58:19.000000000,,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 17:44:03.000000000', 'files': ['tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/aee32daa559e2092690e6d25d49b6e2c9046bfd3', 'message': 'DNM yet, add current w/ include_pkgs to tripleo-ci-testing tag\n\nChange-Id: Ic7308cfd513d29761c854bb7d8f8f61dd99365fb\n'}]",0,710098,aee32daa559e2092690e6d25d49b6e2c9046bfd3,5,4,1,9592,,,0,"DNM yet, add current w/ include_pkgs to tripleo-ci-testing tag

Change-Id: Ic7308cfd513d29761c854bb7d8f8f61dd99365fb
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/98/710098/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,aee32daa559e2092690e6d25d49b6e2c9046bfd3,add_current_to_promotion,"INCLUDE_PKGS = ('ansible-config_template,ansible-role-tripleo*', 'ansible-role-container-registry', 'ansible-tripleo-ipsec', 'includepkgs=instack,instack-undercloud,' 'puppet-*,python*-tripleo-common,' 'python*-paunch*,tripleo-ansible') content = _change_priority(content, 20) _write_repo(content, args.output_path) content = _get_repo(base_path + 'current/delorean.repo', args) content += '\n%s' % INCLUDE_PKGS content = _change_priority(content, 10)","INCLUDE_PKGS = ('includepkgs=instack,instack-undercloud,' 'ansible-role-tripleo*,puppet-*,python*-tripleo-common,' 'python*-paunch*,tripleo-ansible,ansible-config_template')",11,3
openstack%2Ftripleo-ci~master~Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859,openstack/tripleo-ci,master,Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859,"WIP: wes,Changes for build-containers role to include centos8",ABANDONED,2020-01-16 21:51:29.000000000,2020-08-29 02:58:18.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-16 21:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/977130704527301aced897862c38641e4528f9ea', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 2, 'created': '2020-01-17 15:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/79ebf98190b0e896c36f6018af6a6a9359f0adc8', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 3, 'created': '2020-01-17 16:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b154b36c5571f7378747d70d4a437f3d17386f58', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 4, 'created': '2020-01-17 19:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d2ad4b838e33fe0b62c15afb4f03e57a44920f15', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 5, 'created': '2020-01-20 21:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b74e9fc641a4b87a40611c2bda87ae9ecb9572e7', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 6, 'created': '2020-01-20 22:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1fcb4645602a52820d232eebe61e2979bdf81aa2', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 7, 'created': '2020-01-21 17:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/22926ee2bb8b022f145c06fb52d7f70549bb2d06', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 8, 'created': '2020-02-04 21:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4432cc3d4410fcc85ef3ae3f5cfa89b652a393eb', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 9, 'created': '2020-02-04 21:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/de886feb451bd611cb14102e7ed251e0e36ee51c', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 10, 'created': '2020-02-04 22:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/afe1cc6e5b9e2f0fdf7d2ff9ffc590b1a5e76720', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 11, 'created': '2020-02-05 00:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a46e8bfafaefa09d06735f8c300158d3189921de', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 12, 'created': '2020-02-05 15:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/205e5cf462c889f24188836dda2cee1d7b295186', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 13, 'created': '2020-02-05 16:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fefeaa48abc0e858b99a18933768914c5bcc5c84', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 14, 'created': '2020-02-05 16:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30d9dc0a8d1e93c92c3af032afd22360bce8a9bb', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 15, 'created': '2020-02-05 16:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e6cd3777afc0d0f2ead4ff50d1c66c8c5021d228', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 16, 'created': '2020-02-05 17:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a87b93f10f745ea10d156db2abe3348b8b8074c6', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 17, 'created': '2020-02-05 17:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ed2eb35109b538405a24dca60dbbfa845442c4f1', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 18, 'created': '2020-02-05 18:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8dab96aa6f6fc9dbaa844e2592a5704cd01d55ac', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 19, 'created': '2020-02-05 20:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/252460f948f14e3e29d94e44537eb6d5e0f72292', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 20, 'created': '2020-02-05 20:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e5d1494d821ac1e045228b3683f829c3bdf99ae', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 21, 'created': '2020-02-05 21:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8c33a692b5425c09ab5b267ae91742c01f5a2e96', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 22, 'created': '2020-02-06 17:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f234327c333e837357e5737c7329adadf2ed6ab3', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 23, 'created': '2020-02-06 19:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/71b68a3973e74c08787459726f943ff6063d3351', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}, {'number': 24, 'created': '2020-02-06 21:15:48.000000000', 'files': ['roles/build-containers/templates/Dockerfile.rhel8.j2', 'roles/build-containers/templates/Dockerfile.centos8.j2', 'roles/build-containers/tasks/apply_patch.yaml', 'roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/pre.yaml', 'roles/build-containers/templates/Dockerfile.j2', 'roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2', 'roles/build-containers/vars/main.yaml', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3405fe5781e6882e0a1ae77eb4350fc9e6badbc', 'message': 'WIP: wes,Changes for build-containers role to include centos8\n\nMoves the kolla patch into a task file so it is used for both\nrhel8 and centos8 and adjusts the exclude_containers (but empty\nfor centos8 for now).\n\nTidy up of exclude_containers to be more explicit about redhat\nand centos 7 or 8 instead of implying that via yum vs dnf.\n\nThe centos jobs are added in [1]. Tracked by tripleo-ci in [2].\n\n[1] https://review.rdoproject.org/r/#/c/24432/\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nChange-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859\n'}]",24,702993,c3405fe5781e6882e0a1ae77eb4350fc9e6badbc,56,5,24,9592,,,0,"WIP: wes,Changes for build-containers role to include centos8

Moves the kolla patch into a task file so it is used for both
rhel8 and centos8 and adjusts the exclude_containers (but empty
for centos8 for now).

Tidy up of exclude_containers to be more explicit about redhat
and centos 7 or 8 instead of implying that via yum vs dnf.

The centos jobs are added in [1]. Tracked by tripleo-ci in [2].

[1] https://review.rdoproject.org/r/#/c/24432/
[2] https://tree.taiga.io/project/tripleo-ci-board/task/1442

Change-Id: Idf6145ee77419ba13fe7ddef8cffc1f1a46c7859
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/702993/21 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/apply_patch.yaml', 'roles/build-containers/tasks/pre.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2', 'roles/build-containers/vars/main.yaml']",5,977130704527301aced897862c38641e4528f9ea,I8b356b0f267548275c7e0936a2dfe007b1d54614,"# https://review.opendev.org/#/c/692368 - centos8 kolla support kolla_centos8_patch: master: 692368 ""stable/train"": 702412 redhat: 8: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base centos: 7: - opendaylight 8: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base", dnf: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base yum: - opendaylight,85,44
openstack%2Ftripleo-quickstart-extras~master~I73b8249e73138e6f21e920aec7524b88ad922acc,openstack/tripleo-quickstart-extras,master,I73b8249e73138e6f21e920aec7524b88ad922acc,"DNM, add tls updates to standalone-deploy",ABANDONED,2019-11-27 20:22:47.000000000,2020-08-29 02:58:17.000000000,,"[{'_account_id': 9592}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 20:22:47.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone-ipa-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0856a6e96c328afa0bd2a479aa744f218eb2847', 'message': 'DNM, add tls updates to standalone-deploy\n\nChange-Id: I73b8249e73138e6f21e920aec7524b88ad922acc\n'}]",1,696403,f0856a6e96c328afa0bd2a479aa744f218eb2847,5,4,1,9592,,,0,"DNM, add tls updates to standalone-deploy

Change-Id: I73b8249e73138e6f21e920aec7524b88ad922acc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/696403/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone-ipa-setup/defaults/main.yml']",2,f0856a6e96c328afa0bd2a479aa744f218eb2847,add_standalone_tls,"--- # To enable an IPA server configured to work w/ a standalone setup # setup in extras-common #ipa_standalone: false # ipa specific vars ipa_domain: foo ipa_server_ip: foo ipa_server_hostname: foo server_hostname: foo ipa_server_user: foo ipa_server_password: foo admin_keytab: foo IdmServer: foo IdmAdminPassword: foo InternalTLSVncProxyCAFile: /etc/pki/CA/certs/vnc-proxy.crt # ipa_domain: adetestdomain.com # ipa_server_ip: 192.168.122.113 # ipa_server_user: ""admin"" # ipa_server_password: ""12345678"" # ipa_server_hostname: ipa.adetestdomain.com # server_hostname: standalone-0.adetestdomain.com # admin_keytab: ""/tmp/admin.keytab"" ",,40,0
openstack%2Ftripleo-quickstart-extras~master~If1d451b4a2542327d00bb98e2b288d15c627f46f,openstack/tripleo-quickstart-extras,master,If1d451b4a2542327d00bb98e2b288d15c627f46f,"DNM, start work on standalone / ipa",ABANDONED,2019-11-27 20:03:34.000000000,2020-08-29 02:58:15.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 20:03:34.000000000', 'files': ['roles/standalone-ipa-setup/meta/main.yml', 'roles/standalone-ipa-setup/tasks/main.yml', 'roles/extras-common/defaults/main.yml', 'roles/standalone-ipa-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/36e2dfdbd95f29faa524af34cc249fb258bc6e53', 'message': 'DNM, start work on standalone / ipa\n\nChange-Id: If1d451b4a2542327d00bb98e2b288d15c627f46f\n'}]",0,696402,36e2dfdbd95f29faa524af34cc249fb258bc6e53,5,3,1,9592,,,0,"DNM, start work on standalone / ipa

Change-Id: If1d451b4a2542327d00bb98e2b288d15c627f46f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/696402/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-ipa-setup/meta/main.yml', 'roles/standalone-ipa-setup/tasks/main.yml', 'roles/extras-common/defaults/main.yml', 'roles/standalone-ipa-setup/defaults/main.yml']",4,36e2dfdbd95f29faa524af34cc249fb258bc6e53,add_standalone_tls,,,69,0
openstack%2Ftripleo-quickstart~master~I1aa2938687e8d2882563a1d3638c4d3b6e169189,openstack/tripleo-quickstart,master,I1aa2938687e8d2882563a1d3638c4d3b6e169189,"DNM, testing new env config",ABANDONED,2019-11-15 17:45:07.000000000,2020-08-29 02:58:14.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 17:45:07.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e9df3cf6279038648f5e312dcb207f344014c9d4', 'message': 'DNM, testing new env config\n\nDepends-On: https://review.opendev.org/694611\nChange-Id: I1aa2938687e8d2882563a1d3638c4d3b6e169189\n'}]",0,694612,e9df3cf6279038648f5e312dcb207f344014c9d4,7,3,1,9592,,,0,"DNM, testing new env config

Depends-On: https://review.opendev.org/694611
Change-Id: I1aa2938687e8d2882563a1d3638c4d3b6e169189
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/12/694612/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,e9df3cf6279038648f5e312dcb207f344014c9d4,,composable_scenario: scenario001/standard-containers.yaml ,,3,0
openstack%2Fansible-role-container-registry~master~Ib39f1021b20dd33e2f58b3ae807e494315bb198d,openstack/ansible-role-container-registry,master,Ib39f1021b20dd33e2f58b3ae807e494315bb198d,"DNM, testing w/o iptables",ABANDONED,2019-10-31 12:56:13.000000000,2020-08-29 02:58:13.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-31 12:56:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/41cd0e6a8b7bc4c53b3598237816da53332668f5', 'message': 'DNM, testing w/o iptables\n\nChange-Id: Ib39f1021b20dd33e2f58b3ae807e494315bb198d\n'}]",0,692364,41cd0e6a8b7bc4c53b3598237816da53332668f5,5,4,1,9592,,,0,"DNM, testing w/o iptables

Change-Id: Ib39f1021b20dd33e2f58b3ae807e494315bb198d
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/64/692364/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,41cd0e6a8b7bc4c53b3598237816da53332668f5,,container_registry_docker_disable_iptables: true,container_registry_docker_disable_iptables: false,1,1
openstack%2Ftripleo-quickstart~master~I3effaa52378b2b33a71b466e5f3e3a13fe0d6e85,openstack/tripleo-quickstart,master,I3effaa52378b2b33a71b466e5f3e3a13fe0d6e85,"DNM, testing certmonger",ABANDONED,2019-10-21 15:28:21.000000000,2020-08-29 02:58:12.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 15:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/55f7cd8f4857acbdfab1ade8d629c9d3d6b27cfd', 'message': 'DNM, testing certmonger\n\nChange-Id: I3effaa52378b2b33a71b466e5f3e3a13fe0d6e85\n'}, {'number': 2, 'created': '2019-10-28 14:46:30.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e6aea628aa943b64195b003235838049043ebcd9', 'message': 'DNM, testing certmonger\n\nChange-Id: I3effaa52378b2b33a71b466e5f3e3a13fe0d6e85\n'}]",0,689821,e6aea628aa943b64195b003235838049043ebcd9,13,3,2,9592,,,0,"DNM, testing certmonger

Change-Id: I3effaa52378b2b33a71b466e5f3e3a13fe0d6e85
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/21/689821/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/RedHat-8/master.yml'],1,55f7cd8f4857acbdfab1ade8d629c9d3d6b27cfd,, reponame: certmonger-test filename: certmonger-test.repo baseurl: http://38.145.34.141/rcm-guest/images/weshay/ - type: generic,,5,0
openstack%2Ftripleo-quickstart~master~I30b11d61030818c801e7b1a695b22767460e8a70,openstack/tripleo-quickstart,master,I30b11d61030818c801e7b1a695b22767460e8a70,"DNM, pin test periodic jobs",ABANDONED,2019-10-15 17:42:39.000000000,2020-08-29 02:58:11.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 17:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4e4d84e8485e00b08aa1b68d21799812e453deb9', 'message': 'DNM, pin test periodic jobs\n\nChange-Id: I30b11d61030818c801e7b1a695b22767460e8a70\n'}, {'number': 2, 'created': '2019-10-15 17:54:06.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b5230dcb79841174dadfec05c3749521f7fe8ca8', 'message': 'DNM, pin test periodic jobs\n\nChange-Id: I30b11d61030818c801e7b1a695b22767460e8a70\n'}]",0,688765,b5230dcb79841174dadfec05c3749521f7fe8ca8,5,3,2,9592,,,0,"DNM, pin test periodic jobs

Change-Id: I30b11d61030818c801e7b1a695b22767460e8a70
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/65/688765/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml'],1,4e4d84e8485e00b08aa1b68d21799812e453deb9,,"dlrn_hash_tag: ""11/c9/11c9839df8d9b5abb46f2c7bee2c8db975f77867_3f633a87""",dlrn_hash_tag: tripleo-ci-testing,1,1
openstack%2Ftripleo-quickstart~master~I75d09aadf50e46a628ac178f87a0a9077bfe1458,openstack/tripleo-quickstart,master,I75d09aadf50e46a628ac178f87a0a9077bfe1458,"DNM, test refactor of release",ABANDONED,2019-10-15 16:51:34.000000000,2020-08-29 02:58:10.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 16:51:34.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/41db9fcfa7f96aef32aaedc7d05b5cd5937da3a6', 'message': 'DNM, test refactor of release\n\nChange-Id: I75d09aadf50e46a628ac178f87a0a9077bfe1458\n'}]",0,688754,41db9fcfa7f96aef32aaedc7d05b5cd5937da3a6,4,3,1,9592,,,0,"DNM, test refactor of release

Change-Id: I75d09aadf50e46a628ac178f87a0a9077bfe1458
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/54/688754/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/master.yml'],1,41db9fcfa7f96aef32aaedc7d05b5cd5937da3a6,," # TO-DO: this bit of code should be refactored! # test for dlrn_hash and setup repos. # DRY the test for dlrn_hash test_rdo_dlrn () { rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path_newest|default(dlrn_hash_tag_newest, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` echo $rdo_dlrn } test_tripleo_dlrn () { tripleo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` echo $tripleo_dlrn } rdo_dlrn=`test_rdo_dlrn` tripleo_dlrn=`test_tripleo_dlrn` echo ""Attempt w/o mirrors"" export NODEPOOL_CENTOS_MIRROR=http://mirror.regionone.rdo-cloud.rdoproject.org/centos export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org rdo_dlrn=`test_rdo_dlrn` tripleo_dlrn=`test_tripleo_dlrn` if [[ -z ""$rdo_dlrn"" || -z ""$tripleo_dlrn"" ]]; then echo ""Final, Failed to parse dlrn hash"" exit 1 fi"," rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path_newest|default(dlrn_hash_tag_newest, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` tripleo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` exit 1",26,3
openstack%2Ftripleo-quickstart~master~Iae9153fa3ab939775d2949ab51d9c4bd9751774e,openstack/tripleo-quickstart,master,Iae9153fa3ab939775d2949ab51d9c4bd9751774e,"DNM, testing queens",ABANDONED,2019-09-28 01:08:43.000000000,2020-08-29 02:58:09.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-28 01:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/92a0f17ac07c38e86cc3148546eff582cf227204', 'message': 'DNM, testing queens\n\nChange-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e\n'}, {'number': 2, 'created': '2019-09-28 04:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3e2851cb369b9e44786ad5f6ff8f9d38a9dbcaa7', 'message': 'DNM, testing queens\n\nChange-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e\n'}, {'number': 3, 'created': '2019-09-28 19:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/429b0e365eac43966c72fb32b2054f01028d2002', 'message': 'DNM, testing queens\n\nChange-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e\n'}, {'number': 4, 'created': '2019-09-29 14:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/247b159fe6c4827fdf4721ddb69080e70a8571fa', 'message': 'DNM, testing queens\n\nChange-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e\n'}, {'number': 5, 'created': '2019-09-29 22:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d72264094a27daf78f6f09f9fb5aec69e0649ce3', 'message': 'DNM, testing queens\n\nChange-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e\n'}, {'number': 6, 'created': '2019-09-30 15:18:57.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4efb68e1244acae2ae0169e22c65872cbfac9178', 'message': 'DNM, testing queens\n\nChange-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e\n'}]",0,685510,4efb68e1244acae2ae0169e22c65872cbfac9178,18,3,6,9592,,,0,"DNM, testing queens

Change-Id: Iae9153fa3ab939775d2949ab51d9c4bd9751774e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/10/685510/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/queens.yml'],1,92a0f17ac07c38e86cc3148546eff582cf227204,switch-image-url,dlrn_hash_tag: tripleo-ci-testing,dlrn_hash_tag: current-tripleo,1,1
openstack%2Ftripleo-quickstart-extras~master~Iad4115bf996781290f5a4008f72560d8da7b9cf1,openstack/tripleo-quickstart-extras,master,Iad4115bf996781290f5a4008f72560d8da7b9cf1,"DNM, test overcloud deploy w/ ansible.cfg override",ABANDONED,2019-09-22 15:39:02.000000000,2020-08-29 02:58:07.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-22 15:39:02.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1eb5df1aaa423174ee2dbb44982db3ed642746d1', 'message': 'DNM, test overcloud deploy w/ ansible.cfg override\n\nChange-Id: Iad4115bf996781290f5a4008f72560d8da7b9cf1\n'}]",0,683827,1eb5df1aaa423174ee2dbb44982db3ed642746d1,4,3,1,9592,,,0,"DNM, test overcloud deploy w/ ansible.cfg override

Change-Id: Iad4115bf996781290f5a4008f72560d8da7b9cf1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/683827/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,1eb5df1aaa423174ee2dbb44982db3ed642746d1,add-timings,openstack overcloud deploy \,"openstack overcloud deploy {% if release is not in ['newton', 'ocata', 'pike', 'queens'] %}--override-ansible-cfg {{ working_dir }}/custom_ansible.cfg{% endif %} \",1,1
openstack%2Ftripleo-ci~master~Ie3e7a1d7268cb335a40573bb46643864dcbb02a6,openstack/tripleo-ci,master,Ie3e7a1d7268cb335a40573bb46643864dcbb02a6,"DNM, Testing fluentd dependencies",ABANDONED,2019-08-22 16:31:57.000000000,2020-08-29 02:58:06.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-22 16:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fee9d8b261f2c83d3d6e30800470082e5c3ec375', 'message': 'DNM, Testing fluentd dependencies\n\nChange-Id: Ie3e7a1d7268cb335a40573bb46643864dcbb02a6\n'}, {'number': 2, 'created': '2019-08-22 16:36:51.000000000', 'files': ['roles/build-containers/vars/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/334cbab3672b3b0ffd08822cead5a246577c49f4', 'message': 'DNM, Testing fluentd dependencies\n\nDepends-On: https://review.opendev.org/#/c/678057\nChange-Id: Ie3e7a1d7268cb335a40573bb46643864dcbb02a6\n'}]",0,678056,334cbab3672b3b0ffd08822cead5a246577c49f4,6,3,2,9592,,,0,"DNM, Testing fluentd dependencies

Depends-On: https://review.opendev.org/#/c/678057
Change-Id: Ie3e7a1d7268cb335a40573bb46643864dcbb02a6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/678056/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/common.yaml'],1,fee9d8b261f2c83d3d6e30800470082e5c3ec375,fluentd_deps,, - fluentd,0,1
openstack%2Ftripleo-quickstart-extras~master~Ib3d73c4482bfdf5af7237719f7bfe4dbb45e328b,openstack/tripleo-quickstart-extras,master,Ib3d73c4482bfdf5af7237719f7bfe4dbb45e328b,WIP: add pcs debug info to sanity checks,ABANDONED,2019-06-27 18:59:23.000000000,2020-08-29 02:58:05.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 18:59:23.000000000', 'files': ['roles/validate-sanity-checks/tasks/sanity-checks.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24305372fb4eecd7479393cc81b66f8e89b9e89d', 'message': 'WIP: add pcs debug info to sanity checks\n\nadd pcs debug informaion to sanity checks\n\nChange-Id: Ib3d73c4482bfdf5af7237719f7bfe4dbb45e328b\n'}]",0,668024,24305372fb4eecd7479393cc81b66f8e89b9e89d,5,4,1,9592,,,0,"WIP: add pcs debug info to sanity checks

add pcs debug informaion to sanity checks

Change-Id: Ib3d73c4482bfdf5af7237719f7bfe4dbb45e328b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/24/668024/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-sanity-checks/tasks/sanity-checks.yml'],1,24305372fb4eecd7479393cc81b66f8e89b9e89d,,"# switching this to ignore errors true. # the output can be used for debug purposes, but should not fail ci ignore_errors: true # check the ha cluster status # info only, do not fail - name: check the status of the ha services ignore_errors: true delegate_to: controller shell: > sudo pcs_status 2>&1 {{ timestamper_cmd }} > /var/log/pacemaker/{{ sanity_checks_log }}",,12,0
openstack%2Ftripleo-quickstart~master~Ib4d4fb8bf0efc510e8ab528c071ce50ed2a35a30,openstack/tripleo-quickstart,master,Ib4d4fb8bf0efc510e8ab528c071ce50ed2a35a30,WIP: turn sanity checks on for fs001,ABANDONED,2019-06-27 19:01:48.000000000,2020-08-29 02:58:04.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 19:01:48.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8743f2de5f48b2d99cafa2f3a296663692aedefb', 'message': 'WIP: turn sanity checks on for fs001\n\nDepends-On: https://review.opendev.org/668024\nChange-Id: Ib4d4fb8bf0efc510e8ab528c071ce50ed2a35a30\n'}]",0,668025,8743f2de5f48b2d99cafa2f3a296663692aedefb,4,3,1,9592,,,0,"WIP: turn sanity checks on for fs001

Depends-On: https://review.opendev.org/668024
Change-Id: Ib4d4fb8bf0efc510e8ab528c071ce50ed2a35a30
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/25/668025/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,8743f2de5f48b2d99cafa2f3a296663692aedefb,, # execute sanity check tests # defined in tqe/validate-sanity-checks run_sanity_checks: true,,4,0
openstack%2Ftripleo-ci~master~I8336bfd12dffa3a508b790c3440d3ef77c004084,openstack/tripleo-ci,master,I8336bfd12dffa3a508b790c3440d3ef77c004084,"WIP, ensure multinode scenario are voting/gating",ABANDONED,2019-04-08 14:01:57.000000000,2020-08-29 02:58:03.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-08 14:01:57.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1729e37cc087b7a0956cfb759d7a6c5e42b91e2d', 'message': 'WIP, ensure multinode scenario are voting/gating\n\nChange-Id: I8336bfd12dffa3a508b790c3440d3ef77c004084\n'}]",0,650904,1729e37cc087b7a0956cfb759d7a6c5e42b91e2d,4,3,1,9592,,,0,"WIP, ensure multinode scenario are voting/gating

Change-Id: I8336bfd12dffa3a508b790c3440d3ef77c004084
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/04/650904/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,1729e37cc087b7a0956cfb759d7a6c5e42b91e2d,,, voting: false voting: false voting: false voting: false,0,4
openstack%2Ftripleo-quickstart-extras~master~I2196fe68c7b79ca1fd197ce4ae47169be4a0f603,openstack/tripleo-quickstart-extras,master,I2196fe68c7b79ca1fd197ce4ae47169be4a0f603,"DNM, test ovb master",ABANDONED,2020-05-19 23:17:51.000000000,2020-08-29 02:58:02.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-19 23:17:51.000000000', 'files': ['roles/ovb-manage-stack/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c4dc6a8f8a52bda9df9bd6b91de863dbd5a0ac0', 'message': 'DNM, test ovb master\n\nChange-Id: I2196fe68c7b79ca1fd197ce4ae47169be4a0f603\n'}]",0,729422,8c4dc6a8f8a52bda9df9bd6b91de863dbd5a0ac0,4,3,1,9592,,,0,"DNM, test ovb master

Change-Id: I2196fe68c7b79ca1fd197ce4ae47169be4a0f603
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/22/729422/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ovb-manage-stack/defaults/main.yml'],1,8c4dc6a8f8a52bda9df9bd6b91de863dbd5a0ac0,,ovb_repo_version: master,ovb_repo_version: stable/1.0,1,1
openstack%2Ftripleo-quickstart-extras~master~I0df59e85d92ba69084509d7ad26c8b7c7a8f270f,openstack/tripleo-quickstart-extras,master,I0df59e85d92ba69084509d7ad26c8b7c7a8f270f,WIP: cp and log rebuilt src packages to /etc/yum.repos.d/,ABANDONED,2020-05-14 17:57:44.000000000,2020-08-29 02:58:00.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-14 17:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7109be4112515bb9030d774d74e78cd6c9434bc9', 'message': 'WIP: cp and log rebuilt src packages to /etc/yum.repos.d/\n\nIt would be helpful to keep the src rpm as an\nartifact of the build for inspection later.\n\nUsing /etc/yum.repos.d/ as a decently obvious\nplace to look for packaging artifacts.\n\nDepends-On: https://review.opendev.org/#/c/728105\nChange-Id: I0df59e85d92ba69084509d7ad26c8b7c7a8f270f\n'}, {'number': 2, 'created': '2020-05-15 20:00:19.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7666a8560ba7619c0b9f8108ed1544795883a378', 'message': 'WIP: cp and log rebuilt src packages to /etc/yum.repos.d/\n\nIt would be helpful to keep the src rpm as an\nartifact of the build for inspection later.\n\nUsing /etc/yum.repos.d/ as a decently obvious\nplace to look for packaging artifacts.\n\nDepends-On: https://review.opendev.org/#/c/728105\nChange-Id: I0df59e85d92ba69084509d7ad26c8b7c7a8f270f\n'}]",0,728177,7666a8560ba7619c0b9f8108ed1544795883a378,6,3,2,9592,,,0,"WIP: cp and log rebuilt src packages to /etc/yum.repos.d/

It would be helpful to keep the src rpm as an
artifact of the build for inspection later.

Using /etc/yum.repos.d/ as a decently obvious
place to look for packaging artifacts.

Depends-On: https://review.opendev.org/#/c/728105
Change-Id: I0df59e85d92ba69084509d7ad26c8b7c7a8f270f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/728177/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,7109be4112515bb9030d774d74e78cd6c9434bc9,, find {{ build_repo_dir }}/DLRN/data/repos -type f -name '*src.rpm' -print0 | xargs -0 cp -t /etc/yum.repos.d/;,,1,0
openstack%2Ftripleo-ci~master~I42627da6177e49c71b5d9f3a656675d312566ce6,openstack/tripleo-ci,master,I42627da6177e49c71b5d9f3a656675d312566ce6,WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8,ABANDONED,2020-05-01 22:55:27.000000000,2020-08-29 02:57:59.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-01 22:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6c8f41a1626ff5a340464b79ad01010d39c2eb11', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 2, 'created': '2020-05-02 01:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/01a7b5b92617005e85946873bbeebdc5e9e299a5', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 3, 'created': '2020-05-04 17:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4947f2aa0814eb07170296c64e717201034d1b49', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 4, 'created': '2020-05-04 19:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cf97ee785fb2cb1e3346686dec6a8e0c92e90666', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 5, 'created': '2020-05-04 19:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b44c1d1c8650fd80e4b6c6beecb025846750fdb1', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 6, 'created': '2020-05-05 00:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6184ef625ed1571beccdec123bd24c1a926a1a2c', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 7, 'created': '2020-05-05 01:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dbe683cfbe997d3546f69872075661f2bd049f98', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}, {'number': 8, 'created': '2020-05-05 01:33:21.000000000', 'files': ['zuul.d/build-containers.yaml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/pre.yaml', 'roles/build-containers/tasks/package_setup.yml', 'roles/build-containers/templates/build.sh.j2', 'zuul.d/layout.yaml', 'roles/build-containers/tasks/venv_setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/46951906d136405720ba1560091e40d9e415385e', 'message': 'WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: I42627da6177e49c71b5d9f3a656675d312566ce6\n'}]",0,724945,46951906d136405720ba1560091e40d9e415385e,20,4,8,9592,,,0,"WIP (wes2) - non-voting job for tripleo-build-containers-ubi-8

Add a new job that will build tripleo container images without kolla.

Depends-On: https://review.opendev.org/#/c/722486
Depends-On: https://review.opendev.org/#/c/724147
Depends-On: https://review.opendev.org/#/c/722557
Change-Id: I42627da6177e49c71b5d9f3a656675d312566ce6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/45/724945/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/package_setup.yml', 'roles/build-containers/templates/build.sh.j2', 'zuul.d/layout.yaml']",5,6c8f41a1626ff5a340464b79ad01010d39c2eb11,," #templates: #- tripleo-ci-build-containers-jobs #- tripleo-multinode-baremetal-full #- tripleo-multinode-branchful #- tripleo-multinode-container-full #- tripleo-multinode-experimental #- tripleo-standalone-scenarios-full #- tripleo-undercloud-jobs #- tripleo-periodic - tripleo-build-containers-ubi-8 #- tripleo-tox-molecule: # vars: # tox_environment: # PYTEST_REQPASS: 1 #- openstack-tox-py35: # success-url: ""tox/reports.html"" # failure-url: ""tox/reports.html"" # files: &py_files # - ^bindep.txt$ # - ^requirements.txt$ # - ^scripts/emit_releases_file/.*$ # - ^setup.cfg$ # - ^setup.py$ # - ^tox.ini$ # vars: # tox_environment: # PYTEST_REQPASS: 84 #- tripleo-buildimage-overcloud-full-centos-8: # files: &build_images_files # - ^playbooks/tripleo-buildimages/.*$ # - ^roles/oooci-build-images/.*$ # - zuul.d/layout.yaml # - zuul.d/build-image.yaml #- tripleo-buildimage-ironic-python-agent-centos-8: # files: *build_images_files #- tripleo-buildimage-overcloud-hardened-full-centos-8: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-7-train: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-7: # files: *build_images_files #- tripleo-buildimage-ironic-python-agent-centos-7: # files: *build_images_files #- tripleo-buildimage-overcloud-hardened-full-centos-7: # files: *build_images_files #- tripleo-ci-centos-7-scenario001-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario002-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario003-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario004-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario007-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-8-scenario007-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-standalone-upgrade-stein: # branches: stable/train #- tripleo-ci-centos-7-standalone-upgrade-train: # branches: master #- tripleo-tox-molecule #- openstack-tox-py35: # files: *py_files #- tripleo-buildimage-overcloud-full-centos-7: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-8: # files: *build_images_files #- tripleo-ci-centos-7-standalone-upgrade-train: # branches: master #- tripleo-ci-centos-7-standalone-upgrade-stein: # branches: stable/train"," templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - tripleo-tox-molecule: vars: tox_environment: PYTEST_REQPASS: 1 - openstack-tox-py35: success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ vars: tox_environment: PYTEST_REQPASS: 84 - tripleo-buildimage-overcloud-full-centos-8: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - zuul.d/layout.yaml - zuul.d/build-image.yaml - tripleo-buildimage-ironic-python-agent-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7-train: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-8-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-tox-molecule - openstack-tox-py35: files: *py_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-8: files: *build_images_files - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train",124,106
openstack%2Ftripleo-quickstart-extras~master~I9688a73bb2fc23dacdd598a5e82b59c6afd6165f,openstack/tripleo-quickstart-extras,master,I9688a73bb2fc23dacdd598a5e82b59c6afd6165f,"DNM, test validations-common package build",ABANDONED,2020-04-24 14:53:38.000000000,2020-08-29 02:57:58.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-04-24 14:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3afe897e6500fca7dddf155925b9ef41ef57913', 'message': 'DNM, test validations-common package build\n\nChange-Id: I9688a73bb2fc23dacdd598a5e82b59c6afd6165f\n'}, {'number': 2, 'created': '2020-04-24 15:00:42.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9cf77c7ca18b8895875ec46d1eb12da15e737aa', 'message': 'DNM, test validations-common package build\n\nChange-Id: I9688a73bb2fc23dacdd598a5e82b59c6afd6165f\n'}]",0,722811,d9cf77c7ca18b8895875ec46d1eb12da15e737aa,9,4,2,9592,,,0,"DNM, test validations-common package build

Change-Id: I9688a73bb2fc23dacdd598a5e82b59c6afd6165f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/11/722811/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,a3afe897e6500fca7dddf155925b9ef41ef57913,,"# foo, test test",,1,0
openstack%2Ftripleo-quickstart~master~Ibb9e8da16dffcba54b8fbe62cc1fabbf1a1c20a9,openstack/tripleo-quickstart,master,Ibb9e8da16dffcba54b8fbe62cc1fabbf1a1c20a9,"DNM, testing bad ens nic",ABANDONED,2020-03-06 19:21:27.000000000,2020-08-29 02:57:57.000000000,,"[{'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 19:21:27.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eb7ac5bc135950eb2b1521241c40518bae3f5837', 'message': 'DNM, testing bad ens nic\n\nChange-Id: Ibb9e8da16dffcba54b8fbe62cc1fabbf1a1c20a9\n'}]",0,711744,eb7ac5bc135950eb2b1521241c40518bae3f5837,6,5,1,9592,,,0,"DNM, testing bad ens nic

Change-Id: Ibb9e8da16dffcba54b8fbe62cc1fabbf1a1c20a9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/44/711744/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,eb7ac5bc135950eb2b1521241c40518bae3f5837,," # ykarel <ykarel|away> parallel investigation, can try sudo rm -f /etc/sysconfig/network-scripts/ifcfg-ens3 in repo_cmd_after in centos8 echo ""remove /etc/sysconfig/network-scripts/ifcfg-ens3"" sudo rm -f /etc/sysconfig/network-scripts/ifcfg-ens3",,3,0
openstack%2Ftripleo-quickstart~master~I5545701cefb92e4ac05c9b8f2d36646309f356b2,openstack/tripleo-quickstart,master,I5545701cefb92e4ac05c9b8f2d36646309f356b2,WIP: add current with include_pkgs to master promotion jobs,ABANDONED,2020-02-26 17:45:29.000000000,2020-08-29 02:57:56.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 17:45:29.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7fc11857674a1557ea9f07ead9534fea54830565', 'message': 'WIP: add current with include_pkgs to master promotion jobs\n\nThis needs to be run in testproject w/ the entire\nmaster pipeline before merging.\n\nChange-Id: I5545701cefb92e4ac05c9b8f2d36646309f356b2\n'}]",0,710099,7fc11857674a1557ea9f07ead9534fea54830565,6,4,1,9592,,,0,"WIP: add current with include_pkgs to master promotion jobs

This needs to be run in testproject w/ the entire
master pipeline before merging.

Change-Id: I5545701cefb92e4ac05c9b8f2d36646309f356b2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/710099/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'],1,7fc11857674a1557ea9f07ead9534fea54830565,add_current_to_promotion, reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-* - python*-tripleo* - python*-paunch* - paunch-services - tripleo-ansible - ansible-config_template - type: generic,,23,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5be670b7789f69a8a5cd7aaac07585ffd2303c52,openstack/tripleo-heat-templates,stable/rocky,I5be670b7789f69a8a5cd7aaac07585ffd2303c52,"DNM, testing rpm builds in rocky",ABANDONED,2020-01-09 23:25:39.000000000,2020-08-29 02:57:55.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-09 23:25:39.000000000', 'files': ['docker/services/octavia-health-manager.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df5c27081390b8ecfc7ad99a4fd3624f01ca615c', 'message': 'DNM, testing rpm builds in rocky\n\nChange-Id: I5be670b7789f69a8a5cd7aaac07585ffd2303c52\n'}]",0,701863,df5c27081390b8ecfc7ad99a4fd3624f01ca615c,4,3,1,9592,,,0,"DNM, testing rpm builds in rocky

Change-Id: I5be670b7789f69a8a5cd7aaac07585ffd2303c52
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/701863/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia-health-manager.yaml'],1,df5c27081390b8ecfc7ad99a4fd3624f01ca615c,, test DNM OpenStack Octavia health-manager service configured with Puppet, OpenStack Octavia health-manager service configured with Puppet,1,1
openstack%2Ftripleo-heat-templates~master~Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560,openstack/tripleo-heat-templates,master,Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560,"DNM, testing a reorg of ci environment config",ABANDONED,2019-11-15 17:39:24.000000000,2020-08-29 02:57:19.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 17:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/435a9776dc3577e77a46396b0ab9041c16c3f481', 'message': 'DNM, testing a reorg of ci environment config\n\nChange-Id: Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560\n'}, {'number': 2, 'created': '2019-11-15 17:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08ac72725679019138de86406fdedf754271a1cb', 'message': 'DNM, testing a reorg of ci environment config\n\nChange-Id: Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560\n'}, {'number': 3, 'created': '2019-11-15 20:28:50.000000000', 'files': ['ci/environments/scenario001/multinode-containers.yaml', 'ci/environments/scenario001/standard-containers.yaml', 'ci/environments/scenario001/standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2f1d9406b94e069a01988496595bf3d84e88bf8', 'message': 'DNM, testing a reorg of ci environment config\n\nChange-Id: Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560\n'}]",0,694611,b2f1d9406b94e069a01988496595bf3d84e88bf8,6,3,3,9592,,,0,"DNM, testing a reorg of ci environment config

Change-Id: Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/694611/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001/scenario001-standalone.yaml', 'ci/environments/scenario001/scenario001-multinode-containers.yaml', 'ci/environments/scenario001/scenario001-standard-containers.yaml']",3,435a9776dc3577e77a46396b0ab9041c16c3f481,Iaa4d6f9f6c6a0400cff4c94f44f51b6f53f6e560,"resource_registry: OS::TripleO::Services::CephMgr: ../../deployment/ceph-ansible/ceph-mgr.yaml OS::TripleO::Services::CephMon: ../../deployment/ceph-ansible/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../deployment/ceph-ansible/ceph-osd.yaml OS::TripleO::Services::CephClient: ../../deployment/ceph-ansible/ceph-client.yaml OS::TripleO::Services::Collectd: ../../deployment/metrics/collectd-container-puppet.yaml OS::TripleO::Services::MetricsQdr: ../../deployment/metrics/qdr-container-puppet.yaml OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml OS::TripleO::Services::OsloMessagingNotify: ../../deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml OS::TripleO::Services::HAproxy: ../../deployment/haproxy/haproxy-pacemaker-puppet.yaml OS::TripleO::Services::Pacemaker: ../../deployment/pacemaker/pacemaker-baremetal-puppet.yaml OS::TripleO::Services::PacemakerRemote: ../../deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml OS::TripleO::Services::Clustercheck: ../../deployment/pacemaker/clustercheck-container-puppet.yaml OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml OS::TripleO::Services::Rsyslog: ../../deployment/logging/rsyslog-container-puppet.yaml OS::TripleO::Services::MySQL: ../../deployment/database/mysql-pacemaker-puppet.yaml OS::TripleO::Services::CinderBackup: ../../deployment/cinder/cinder-backup-pacemaker-puppet.yaml OS::TripleO::Services::CinderVolume: ../../deployment/cinder/cinder-volume-pacemaker-puppet.yaml OS::TripleO::Services::Keepalived: OS::Heat::None #Needs to run scenario001 # Some infra instances don't pass the ping test but are otherwise working. # Since the OVB jobs also test this functionality we can shut it off here. OS::TripleO::AllNodes::Validation: ../common/all-nodes-validation-disabled.yaml parameter_defaults: ControllerServices: - OS::TripleO::Services::CACerts - OS::TripleO::Services::Clustercheck - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::Docker - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::MySQL - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::OVNDBs - OS::TripleO::Services::OVNController - OS::TripleO::Services::OVNMetadataAgent - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::HAproxy - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Memcached - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Securetty - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::Redis - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::AodhListener - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentIpmi - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::ComputeCeilometerAgent - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephOSD - OS::TripleO::Services::CephClient - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderBackup - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::Collectd - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Multipathd ComputeServices: - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaApi - OS::TripleO::Services::PlacementApi - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::NovaCompute - OS::TripleO::Services::NovaLibvirt - OS::TripleO::Services::NovaMigrationTarget - OS::TripleO::Services::CephClient - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Securetty - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::Docker - OS::TripleO::Services::Kernel ComputeExtraConfig: nova::compute::libvirt::services::libvirt_virt_type: qemu nova::compute::libvirt::libvirt_virt_type: qemu ControllerExtraConfig: # NOTE(sileht): To decrease the time test_telemetry_integration takes We # configure Ceilometer to poll more, We configure the # 'ceilometer-high-rate' Gnocchi archive policy to keep 1 point every 60s. # The test will take 2 minutes instead of 10 minutes. Note that tempest # telemetry.alarm_granularity must in sync with the archive policy, 60s # too. ceilometer::agent::polling::polling_interval: 15 ManagePolling: true ManagePipeline: true PipelinePublishers: - gnocchi://?archive_policy=ceilometer-high-rate EventPipelinePublishers: - gnocchi://?archive_policy=ceilometer-high-rate Debug: true DockerPuppetDebug: True CephAnsibleDisksConfig: devices: - /dev/loop3 journal_size: 512 osd_scenario: collocated CephPoolDefaultPgNum: 32 CephPoolDefaultSize: 1 CephPools: - name: altrbd pg_num: 8 rule_name: replicated_rule CephAnsibleExtraConfig: centos_package_dependencies: [] ceph_osd_docker_memory_limit: '1g' ceph_mds_docker_memory_limit: '1g' handler_health_mon_check_retries: 10 handler_health_mon_check_delay: 20 CephAnsibleSkipTags: '' #NOTE: These ID's and keys should be regenerated for # a production deployment. What is here is suitable for # developer and CI testing only. CephClusterFSID: '4b5c8c0a-ff60-454b-a1b4-9747aa737d19' CephMonKey: 'AQC+Ox1VmEr3BxAALZejqeHj50Nj6wJDvs96OQ==' CephAdminKey: 'AQDLOh1VgEp6FRAAFzT7Zw+Y9V6JJExQAsRnRQ==' CephClientKey: 'AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw==' CephAnsiblePlaybookVerbosity: 1 CephAnsibleEnvironmentVariables: ANSIBLE_SSH_RETRIES: '4' DEFAULT_FORKS: '3' NovaEnableRbdBackend: true CinderEnableRbdBackend: true CinderRbdExtraPools: altrbd CinderBackupBackend: ceph GlanceBackend: rbd GnocchiBackend: rbd CinderEnableIscsiBackend: false GnocchiArchivePolicy: 'ceilometer-high-rate' BannerText: | ****************************************************************** * This system is for the use of authorized users only. Usage of * * this system may be monitored and recorded by system personnel. * * Anyone using this system expressly consents to such monitoring * * and is advised that if such monitoring reveals possible * * evidence of criminal activity, system personnel may provide * * the evidence from such monitoring to law enforcement officials.* ****************************************************************** CollectdConnectionType: amqp1 CollectdExtraPlugins: - rrdtool CollectdEnableSensubility: true LoggingServers: - host: 127.0.0.1 port: 24224 RsyslogElasticsearchSetting: Server: '127.0.0.1:9200' TtyValues: - console - tty1 - tty2 - tty3 - tty4 - tty5 - tty6 # Remove ContainerCli once this scenario is tested on CentOS8 ContainerCli: docker ",,491,0
openstack%2Ftripleo-quickstart-extras~master~I058e0e00777bf27affca7cc05cc9d7f79aa27608,openstack/tripleo-quickstart-extras,master,I058e0e00777bf27affca7cc05cc9d7f79aa27608,"DNM, execute reproducer in the exact way ci runs",ABANDONED,2019-05-23 20:23:42.000000000,2020-08-29 02:56:38.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 20:23:42.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/04917094168624c47f0b3e980ac6809c18cea9a1', 'message': 'DNM, execute reproducer in the exact way ci runs\n\nChange-Id: I058e0e00777bf27affca7cc05cc9d7f79aa27608\n'}]",0,661109,04917094168624c47f0b3e980ac6809c18cea9a1,5,4,1,9592,,,0,"DNM, execute reproducer in the exact way ci runs

Change-Id: I058e0e00777bf27affca7cc05cc9d7f79aa27608
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/09/661109/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'],1,04917094168624c47f0b3e980ac6809c18cea9a1,,# need to change the config that runs w/ this. # to use user vars vs. zuul https://github.com/rdo-infra/ansible-role-tripleo-ci-reproducer/blob/master/playbooks/tripleo-ci-reproducer/templates/run.sh.j2#L17 - import_playbook: playbooks/tripleo-ci-reproducer/run.yaml, tasks: - include_role: name: ansible-role-tripleo-ci-reproducer,3,3
openstack%2Ftripleo-quickstart-extras~master~Idd69d9cd54848f0abb905ce7d532d0164a748274,openstack/tripleo-quickstart-extras,master,Idd69d9cd54848f0abb905ce7d532d0164a748274,WIP: add option to customize mirrors to repro,ABANDONED,2019-04-10 21:38:26.000000000,2020-08-29 02:48:44.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-10 21:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ee0b895ee4f211a7bf7a8f8ad9e20701291532ba', 'message': 'add option to customize mirrors to repro\n\nWhen debugging package or container downloads\nit is useful to be able to turn off mirrors\nwith libvirt.  Especially with libvirt scenarios\npulling containers directly from docker.io can\nbe the best option.\n\nChange-Id: Idd69d9cd54848f0abb905ce7d532d0164a748274\n'}, {'number': 2, 'created': '2019-04-11 21:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ecfc304a54e6813af6effddb8c825b7e56f76dc', 'message': 'add option to customize mirrors to repro\n\nWhen debugging package or container downloads\nit is useful to be able to turn off mirrors\nwith libvirt.  Especially with libvirt scenarios\npulling containers directly from docker.io can\nbe the best option.\n\nChange-Id: Idd69d9cd54848f0abb905ce7d532d0164a748274\n'}, {'number': 3, 'created': '2019-06-20 18:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a311abd3ca7bde4cabdafe91e9982d7b1a556f9', 'message': 'add option to customize mirrors to repro\n\nWhen debugging package or container downloads\nit is useful to be able to turn off mirrors\nwith libvirt.  Especially with libvirt scenarios\npulling containers directly from docker.io can\nbe the best option.\n\nChange-Id: Idd69d9cd54848f0abb905ce7d532d0164a748274\n'}, {'number': 4, 'created': '2019-06-20 21:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e8b919fbfec31a2c2c922332db228a8f7dedd1d9', 'message': 'add option to customize mirrors to repro\n\nWhen debugging package or container downloads\nit is useful to be able to turn off mirrors\nwith libvirt.  Especially with libvirt scenarios\npulling containers directly from docker.io can\nbe the best option.\n\nChange-Id: Idd69d9cd54848f0abb905ce7d532d0164a748274\n'}, {'number': 5, 'created': '2019-06-21 03:45:33.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e53a9cc7819b1f806c118d65c47407eca6c26a5c', 'message': 'WIP: add option to customize mirrors to repro\n\nWhen debugging package or container downloads\nit is useful to be able to turn off mirrors\nwith libvirt.  Especially with libvirt scenarios\npulling containers directly from docker.io can\nbe the best option.\n\nChange-Id: Idd69d9cd54848f0abb905ce7d532d0164a748274\n'}]",2,651654,e53a9cc7819b1f806c118d65c47407eca6c26a5c,27,5,5,9592,,,0,"WIP: add option to customize mirrors to repro

When debugging package or container downloads
it is useful to be able to turn off mirrors
with libvirt.  Especially with libvirt scenarios
pulling containers directly from docker.io can
be the best option.

Change-Id: Idd69d9cd54848f0abb905ce7d532d0164a748274
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/651654/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2']",2,ee0b895ee4f211a7bf7a8f8ad9e20701291532ba,Idd69d9cd54848f0abb905ce7d532d0164a748274,# {% if mirror_off is not defined %} {% endif %} {% if mirror_off is not defined %} {% endif %},# -e mirror_path=mirror.mtl01.inap.openstack.org,25,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I861e6f8c041bba3e47d9c1f1912b46b3c6b025fb,openstack/tripleo-heat-templates,stable/rocky,I861e6f8c041bba3e47d9c1f1912b46b3c6b025fb,"DNM, test rocky standalone tht",ABANDONED,2019-05-13 19:10:08.000000000,2020-08-29 02:47:32.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-13 19:10:08.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5eb900448db17f33acc160b1f88b3bf51220ee6', 'message': 'DNM, test rocky standalone tht\n\nDepends-On: https://review.opendev.org/#/c/657589\nChange-Id: I861e6f8c041bba3e47d9c1f1912b46b3c6b025fb\n'}]",0,658896,a5eb900448db17f33acc160b1f88b3bf51220ee6,5,3,1,9592,,,0,"DNM, test rocky standalone tht

Depends-On: https://review.opendev.org/#/c/657589
Change-Id: I861e6f8c041bba3e47d9c1f1912b46b3c6b025fb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/658896/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,a5eb900448db17f33acc160b1f88b3bf51220ee6,rocky-tempest,# DNM TEST ONLY,,1,0
openstack%2Frequirements~master~Ib7d68df90a0a6641d0d10876b50f920674ae890c,openstack/requirements,master,Ib7d68df90a0a6641d0d10876b50f920674ae890c,update constraint for oslo.cache to new release 2.6.0,MERGED,2020-08-26 20:24:15.000000000,2020-08-29 02:28:01.000000000,2020-08-29 02:26:59.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 20:24:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d6536846049bb0a9cb8febd7eda922080969425', 'message': 'update constraint for oslo.cache to new release 2.6.0\n\nChange-Id: Ib7d68df90a0a6641d0d10876b50f920674ae890c\nmeta:version: 2.6.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748299,9d6536846049bb0a9cb8febd7eda922080969425,36,4,1,11131,,,0,"update constraint for oslo.cache to new release 2.6.0

Change-Id: Ib7d68df90a0a6641d0d10876b50f920674ae890c
meta:version: 2.6.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/748299/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9d6536846049bb0a9cb8febd7eda922080969425,new-release,oslo.cache===2.6.0,oslo.cache===2.5.0,1,1
openstack%2Frpm-packaging~master~Ia92751505d223a35bdafe5e14df14b00769c2c59,openstack/rpm-packaging,master,Ia92751505d223a35bdafe5e14df14b00769c2c59,update  oslo.cache.spec.j2 to 2.6.0,ABANDONED,2020-08-28 12:06:35.000000000,2020-08-29 01:56:30.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-28 12:06:35.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/007b9c8e7a4f1668b470703ecc765f9ff22db956', 'message': 'update  oslo.cache.spec.j2 to 2.6.0\n\nChange-Id: Ia92751505d223a35bdafe5e14df14b00769c2c59\n'}]",0,748608,007b9c8e7a4f1668b470703ecc765f9ff22db956,6,4,1,30533,,,0,"update  oslo.cache.spec.j2 to 2.6.0

Change-Id: Ia92751505d223a35bdafe5e14df14b00769c2c59
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/08/748608/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,007b9c8e7a4f1668b470703ecc765f9ff22db956,bug/123456789,{% set upstream_version = upstream_version('2.6.0') %}BuildRequires: {{ py3('python-binary-memcached')}},{% set upstream_version = upstream_version('2.5.0') %},2,1
openstack%2Frpm-packaging~master~Ia0480ab2653d8c65728cfeeff9acb3e7b5a1923e,openstack/rpm-packaging,master,Ia0480ab2653d8c65728cfeeff9acb3e7b5a1923e,update oslo.messaging.spec.j2 to 12.3.0,ABANDONED,2020-08-28 03:28:40.000000000,2020-08-29 01:53:48.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-28 03:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a81dd79bd7a50649a0517ec9e8a0bf60c326a3f7', 'message': 'update oslo.messaging.spec.j2 to 12.3.0\n\nChange-Id: Ia0480ab2653d8c65728cfeeff9acb3e7b5a1923e\n'}, {'number': 2, 'created': '2020-08-28 11:50:08.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ce413ccb6b1ec408c30ffc3534660aca79873208', 'message': 'update oslo.messaging.spec.j2 to 12.3.0\n\nChange-Id: Ia0480ab2653d8c65728cfeeff9acb3e7b5a1923e\n'}]",1,748566,ce413ccb6b1ec408c30ffc3534660aca79873208,13,4,2,30533,,,0,"update oslo.messaging.spec.j2 to 12.3.0

Change-Id: Ia0480ab2653d8c65728cfeeff9acb3e7b5a1923e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/66/748566/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.messaging/oslo.messaging.spec.j2'],1,a81dd79bd7a50649a0517ec9e8a0bf60c326a3f7,bug/123456789,{% set upstream_version = upstream_version('12.3.0') %},{% set upstream_version = upstream_version('12.2.2') %},1,1
openstack%2Fneutron~stable%2Fussuri~I9224edab2d27184ed96be1cdea2bd865aadff065,openstack/neutron,stable/ussuri,I9224edab2d27184ed96be1cdea2bd865aadff065,Clean up some of the OVN agent API methods,MERGED,2020-08-21 09:25:09.000000000,2020-08-29 01:46:32.000000000,2020-08-29 01:45:01.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 09:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbcbd64ad88fe91e2c04c33104fc4287b0029125', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nNote: This is being backported because the change to fix the bug #1892477\nrelies on these modifications. As #1892477 is a high priority bug I am\nbackporting this work as part of effort to backport the fix for that\nissue.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n(cherry picked from commit 6723f4a485e2c60e45f45732c0881c126de06608)\n'}, {'number': 2, 'created': '2020-08-21 09:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66ef1c46c1f2b9edb0dbb452cb1b3e7e6cf38846', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nNote: This is being backported because the change to fix the bug #1892477\nrelies on these modifications. As #1892477 is a high priority bug I am\nbackporting this work as part of effort to backport the fix for that\nissue.\n\nPartial-Bug: #1892477\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n(cherry picked from commit 6723f4a485e2c60e45f45732c0881c126de06608)\n'}, {'number': 3, 'created': '2020-08-24 08:48:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a2cc2beecf213960b95240e7d471f671c44bfec', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nNote: This is being backported because the change to fix the bug #1892477\nrelies on these modifications. As #1892477 is a high priority bug I am\nbackporting this work as part of effort to backport the fix for that\nissue.\n\nPartial-Bug: #1892477\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n(cherry picked from commit 6723f4a485e2c60e45f45732c0881c126de06608)\n'}]",1,747372,4a2cc2beecf213960b95240e7d471f671c44bfec,26,7,3,6773,,,0,"Clean up some of the OVN agent API methods

Adds ControllerAgent and MetadataAgent classes to organize some of
the OVN Agent API code.

Note: This is being backported because the change to fix the bug #1892477
relies on these modifications. As #1892477 is a high priority bug I am
backporting this work as part of effort to backport the fix for that
issue.

Partial-Bug: #1892477
Change-Id: I9224edab2d27184ed96be1cdea2bd865aadff065
(cherry picked from commit 6723f4a485e2c60e45f45732c0881c126de06608)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/747372/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,fbcbd64ad88fe91e2c04c33104fc4287b0029125,,"from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent as n_agent def agent_alive(self, agent, update_db): if self._nb_ovn.nb_global.nb_cfg - agent.nb_cfg <= 1: if update_db: self.mark_agent_alive(agent) now = timeutils.utcnow(with_timezone=True) if (now - agent.updated_at).total_seconds() < cfg.CONF.agent_down_time: def mark_agent_alive(self, agent): # Update the time of our successful check value = timeutils.utcnow(with_timezone=True).isoformat() self._sb_ovn.db_set('Chassis', agent.chassis.uuid, ('external_ids', {agent.key: value})).execute( check_error=True) # Iterate over each unique Agent subclass for agent in [a(chassis) for a in n_agent.NeutronAgent.agent_types()]: if not agent.agent_id: continue alive = self.agent_alive(agent, update_db) agent_dict[agent.agent_id] = agent.as_dict(alive) def ping_all_chassis(self): update_db = _driver.ping_all_chassis()"," def agent_alive(self, chassis, type_, update_db): nb_cfg = chassis.nb_cfg key = ovn_const.OVN_LIVENESS_CHECK_EXT_ID_KEY if type_ == ovn_const.OVN_METADATA_AGENT: nb_cfg = int(chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, 0)) key = ovn_const.METADATA_LIVENESS_CHECK_EXT_ID_KEY try: updated_at = timeutils.parse_isotime(chassis.external_ids[key]) except KeyError: updated_at = timeutils.utcnow(with_timezone=True) update_db = True if self._nb_ovn.nb_global.nb_cfg - nb_cfg <= 1: if update_db: # Update the time of our successful check value = timeutils.utcnow(with_timezone=True).isoformat() self._sb_ovn.db_set('Chassis', chassis.uuid, ('external_ids', {key: value})).execute( check_error=True) now = timeutils.utcnow(with_timezone=True) if (now - updated_at).total_seconds() < cfg.CONF.agent_down_time: def _format_agent_info(self, chassis, binary, agent_id, type_, description, alive): return { 'binary': binary, 'host': chassis.hostname, 'heartbeat_timestamp': timeutils.utcnow(), 'availability_zone': ', '.join( ovn_utils.get_chassis_availability_zones(chassis)), 'topic': 'n/a', 'description': description, 'configurations': { 'chassis_name': chassis.name, 'bridge-mappings': chassis.external_ids.get('ovn-bridge-mappings', '')}, 'start_flag': True, 'agent_type': type_, 'id': agent_id, 'alive': alive, 'admin_state_up': True} # Check for ovn-controller / ovn-controller gateway agent_type = ovn_const.OVN_CONTROLLER_AGENT # Only the chassis name stays consistent after ovn-controller restart agent_id = chassis.name if ('enable-chassis-as-gw' in chassis.external_ids.get('ovn-cms-options', [])): agent_type = ovn_const.OVN_CONTROLLER_GW_AGENT alive = self.agent_alive(chassis, agent_type, update_db) description = chassis.external_ids.get( ovn_const.OVN_AGENT_DESC_KEY, '') agent_dict[agent_id] = self._format_agent_info( chassis, 'ovn-controller', agent_id, agent_type, description, alive) # Check for the metadata agent metadata_agent_id = chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_ID_KEY) if metadata_agent_id: agent_type = ovn_const.OVN_METADATA_AGENT alive = self.agent_alive(chassis, agent_type, update_db) description = chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_DESC_KEY, '') agent_dict[metadata_agent_id] = self._format_agent_info( chassis, 'networking-ovn-metadata-agent', metadata_agent_id, agent_type, description, alive) def ping_chassis(self): update_db = _driver.ping_chassis()",159,90
openstack%2Frequirements~master~Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707,openstack/requirements,master,Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707,Add CONFspirator to requirements,MERGED,2020-08-17 04:11:04.000000000,2020-08-29 01:46:27.000000000,2020-08-29 01:45:06.000000000,"[{'_account_id': 10420}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-17 04:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc5686dfde83792c0ea1dd38a38c96147e7834e1', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is license compatible, py3 only, written by the Adjutant\nPTL, and will be maintained along with Adjutant, as well\nas hopefully as a separate library going forward.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 2, 'created': '2020-08-17 04:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c008e26306eda89d55ca81fd7a809afa6069d0a', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is license compatible, py3 only, written by the Adjutant\nPTL, and will be maintained along with Adjutant, as well\nas hopefully as a separate library going forward.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 3, 'created': '2020-08-17 04:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c89cd4a70d359a989f2784709816a8e8dfb4b809', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\n[Q] Is the library actively maintained?\n[A] Yes, and will continue to be maintained along with\n    Adjutant given it was written for it.\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation and was\n    written by myself (current PTL for Adjutant)\n\n[Q] Is the library python 3 compatible?\n[A] yes, and it does not support python 2.\n\n[Q] Is the library license compatible?\n[A] yes, Apache-2.0\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] Not as an OS package, but available via pypi.\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] Partly, but not without major changes that are unlikely to\n    be welcomed.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Adjutant\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 4, 'created': '2020-08-17 05:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/833e139e5ad462cd4a555c6636c7326303a6d1f5', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\n[Q] Is the library actively maintained?\n[A] Yes, and will continue to be maintained along with\n    Adjutant given it was written for it.\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation and was\n    written by myself (current PTL for Adjutant)\n\n[Q] Is the library python 3 compatible?\n[A] yes, and it does not support python 2.\n\n[Q] Is the library license compatible?\n[A] yes, Apache-2.0\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] Not as an OS package, but available via pypi.\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] Partly, but not without major changes that are unlikely to\n    be welcomed.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Adjutant\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 5, 'created': '2020-08-17 06:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a18e315b194e5a4e04b8f98b0beea5e153bc4a48', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\n[Q] Is the library actively maintained?\n[A] Yes, and will continue to be maintained along with\n    Adjutant given it was written for it.\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation and was\n    written by myself (current PTL for Adjutant)\n\n[Q] Is the library python 3 compatible?\n[A] yes, and it does not support python 2.\n\n[Q] Is the library license compatible?\n[A] yes, Apache-2.0\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] Not as an OS package, but available via pypi.\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] Partly, but not without major changes that are unlikely to\n    be welcomed.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Adjutant\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 6, 'created': '2020-08-21 05:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/45e954b3eecb869a8b58c9c5ae438bdc36dfc071', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\n[Q] Is the library actively maintained?\n[A] Yes, and will continue to be maintained along with\n    Adjutant given it was written for it.\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation and was\n    written by myself (current PTL for Adjutant)\n\n[Q] Is the library python 3 compatible?\n[A] yes, and it does not support python 2.\n\n[Q] Is the library license compatible?\n[A] yes, Apache-2.0\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] Not as an OS package, but available via pypi.\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] Partly, but not without major changes that are unlikely to\n    be welcomed.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Adjutant\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 7, 'created': '2020-08-28 10:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/39f7927518c47fe0dd45d716e2f7c2cfbf461209', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\n[Q] Is the library actively maintained?\n[A] Yes, and will continue to be maintained along with\n    Adjutant given it was written for it.\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation and was\n    written by myself (current PTL for Adjutant)\n\n[Q] Is the library python 3 compatible?\n[A] yes, and it does not support python 2.\n\n[Q] Is the library license compatible?\n[A] yes, Apache-2.0\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] Not as an OS package, but available via pypi.\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] Partly, but not without major changes that are unlikely to\n    be welcomed.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Adjutant\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}, {'number': 8, 'created': '2020-08-28 21:22:13.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/babfd104ad886d8180ff3c2f287e6ef414096d1c', 'message': 'Add CONFspirator to requirements\n\nCONFspirator is a config library inspired by oslo.config\nbuilt to solve somewhat different problems.\n\nIt is already in Adjutant as of:\nhttps://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182\n\nDocs:\nhttps://confspirator.readthedocs.io/\nCode:\nhttps://gitlab.com/catalyst-cloud/confspirator\n\n[Q] Is the library actively maintained?\n[A] Yes, and will continue to be maintained along with\n    Adjutant given it was written for it.\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation and was\n    written by myself (current PTL for Adjutant)\n\n[Q] Is the library python 3 compatible?\n[A] yes, and it does not support python 2.\n\n[Q] Is the library license compatible?\n[A] yes, Apache-2.0\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] Not as an OS package, but available via pypi.\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] Partly, but not without major changes that are unlikely to\n    be welcomed.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Adjutant\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707\n'}]",0,746436,babfd104ad886d8180ff3c2f287e6ef414096d1c,34,5,8,10420,,,0,"Add CONFspirator to requirements

CONFspirator is a config library inspired by oslo.config
built to solve somewhat different problems.

It is already in Adjutant as of:
https://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182

Docs:
https://confspirator.readthedocs.io/
Code:
https://gitlab.com/catalyst-cloud/confspirator

[Q] Is the library actively maintained?
[A] Yes, and will continue to be maintained along with
    Adjutant given it was written for it.

[Q] Is the library good code?
[A] yes, code has both tests and documentation and was
    written by myself (current PTL for Adjutant)

[Q] Is the library python 3 compatible?
[A] yes, and it does not support python 2.

[Q] Is the library license compatible?
[A] yes, Apache-2.0

[Q] Is the library already packaged in the distros we target
    (Ubuntu latest / Fedora latest)?
[A] Not as an OS package, but available via pypi.

[Q] Is the function of this library already covered by other
    libraries in global-requirements.txt?
[A] Partly, but not without major changes that are unlikely to
    be welcomed.

[Q] Is the library required for OpenStack project or related dev or
    infrastructure setup? (Answer to this should be Yes, of course) Which?
[A] OpenStack project: Adjutant

[Q] If the library release is managed by the Openstack release process
    does it use the cycle-with-intermediary release type?
[A] N/A

[Q] Do I need to update anything else?
[A] no

Change-Id: Ibdb8785b3fa6234c8fadbeaa3a672eda373c7707
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/746436/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,dc5686dfde83792c0ea1dd38a38c96147e7834e1,new/adjutant_confspirator,confspirator==0.2.2,,2,0
openstack%2Fglance~master~I59e3b5d5d4b69f076092b9950c0d34467a6636ad,openstack/glance,master,I59e3b5d5d4b69f076092b9950c0d34467a6636ad,Move SynchronousAPIBase to a generalized location,MERGED,2020-08-10 16:13:44.000000000,2020-08-29 01:46:24.000000000,2020-08-29 01:45:04.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 16:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/266fb06d68de6eea054bc93cb91bde9180a55959', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 2, 'created': '2020-08-12 17:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/17c0b9ce86611aabce5707851471a15019fef20d', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 3, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a814b79c2edc26af4d9261ac28d647ea0a522094', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 4, 'created': '2020-08-18 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9f35d3bdafe8c93a01b8ccdac57f77cd266ee3ac', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 5, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1909406049211cdd525677f52de5c536a15b6258', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 6, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6d2622cd18606c030c17490d81fdca1af9667bd8', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 7, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5da78e8c501d5b308346b7582b66805dc8ae7cd6', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 8, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5193c869af115a977c946853b5644070b4df15b2', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}, {'number': 9, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/functional/__init__.py', 'glance/tests/functional/v2/test_images_import_locking.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/36cbc50e7d70699d6ca5dd4fa81844567e39ddf0', 'message': 'Move SynchronousAPIBase to a generalized location\n\nThe base class for the tests added in test_images_import_locking provides\na mechanism to make API cals directly against the WSGI stack, without\nstarting a separate server and using the local networking. This is useful\nfor cases where fault injection of global state needs to be altered, where\nthis is very difficult in the existing fork-and-exec functional test\nmodel.\n\nThis moves that test base class out to the functional module, expands the\ndocumentation a little, and also generalizes the request methods for\nwider applicability.\n\nChange-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad\n'}]",3,745566,36cbc50e7d70699d6ca5dd4fa81844567e39ddf0,58,5,9,4393,,,0,"Move SynchronousAPIBase to a generalized location

The base class for the tests added in test_images_import_locking provides
a mechanism to make API cals directly against the WSGI stack, without
starting a separate server and using the local networking. This is useful
for cases where fault injection of global state needs to be altered, where
this is very difficult in the existing fork-and-exec functional test
model.

This moves that test base class out to the functional module, expands the
documentation a little, and also generalizes the request methods for
wider applicability.

Change-Id: I59e3b5d5d4b69f076092b9950c0d34467a6636ad
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/745566/8 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/__init__.py', 'glance/tests/functional/v2/test_images_import_locking.py']",2,266fb06d68de6eea054bc93cb91bde9180a55959,task-heartbeat, from glance.tests import functional class TestImageImportLocking(functional.SynchronousAPIBase):,"import osimport textwrapimport uuid from oslo_config import cfg from oslo_log import log as loggingimport webob from glance.common import config from glance.common import wsgi import glance.db.sqlalchemy.api from glance.tests import utils as test_utils import glance_store LOG = logging.getLogger(__name__) TENANT1 = str(uuid.uuid4()) CONF = cfg.CONF class SynchronousAPIBase(test_utils.BaseTestCase): """"""A test base class that provides synchronous calling into the API without starting a separate server, and with a simple paste pipeline. Configured with multi-store and a real database. """""" @mock.patch('oslo_db.sqlalchemy.enginefacade.writer.get_engine') def setup_database(self, mock_get_engine): db_file = 'sqlite:///%s/test-%s.db' % (self.test_dir, uuid.uuid4()) self.config(connection=db_file, group='database') # NOTE(danms): Make sure that we clear the current global # database configuration, provision a temporary database file, # and run migrations with our configuration to define the # schema there. glance.db.sqlalchemy.api.clear_db_env() engine = glance.db.sqlalchemy.api.get_engine() mock_get_engine.return_value = engine with mock.patch('logging.config'): # NOTE(danms): The alembic config in the env module will break our # BaseTestCase logging setup. So mock that out to prevent it while # we db_sync. test_utils.db_sync(engine=engine) def setup_simple_paste(self): self.paste_config = os.path.join(self.test_dir, 'glance-api-paste.ini') with open(self.paste_config, 'w') as f: f.write(textwrap.dedent("""""" [filter:context] paste.filter_factory = glance.api.middleware.context:\ ContextMiddleware.factory [filter:fakeauth] paste.filter_factory = glance.tests.utils:\ FakeAuthMiddleware.factory [pipeline:glance-api] pipeline = context rootapp [composite:rootapp] paste.composite_factory = glance.api:root_app_factory /v2: apiv2app [app:apiv2app] paste.app_factory = glance.api.v2.router:API.factory """""")) def _store_dir(self, store): return os.path.join(self.test_dir, store) def setup_stores(self): self.config(enabled_backends={'store1': 'file', 'store2': 'file'}) glance_store.register_store_opts(CONF, reserved_stores=wsgi.RESERVED_STORES) self.config(default_backend='store1', group='glance_store') self.config(filesystem_store_datadir=self._store_dir('store1'), group='store1') self.config(filesystem_store_datadir=self._store_dir('store2'), group='store2') self.config(filesystem_store_datadir=self._store_dir('staging'), group='os_glance_staging_store') glance_store.create_multi_stores(CONF, reserved_stores=wsgi.RESERVED_STORES) glance_store.verify_store() def setUp(self): super(SynchronousAPIBase, self).setUp() self.setup_database() self.setup_simple_paste() self.setup_stores() def start_server(self): config.set_config_defaults() self.api = config.load_paste_app('glance-api', conf_file=self.paste_config) def _headers(self, custom_headers=None): base_headers = { 'X-Identity-Status': 'Confirmed', 'X-Auth-Token': '932c5c84-02ac-4fe5-a9ba-620af0e2bb96', 'X-User-Id': 'f9a41d13-0c13-47e9-bee2-ce4e8bfe958e', 'X-Tenant-Id': TENANT1, 'Content-Type': 'application/json', 'X-Roles': 'admin', } base_headers.update(custom_headers or {}) return base_headers def api_get(self, url, headers=None): headers = self._headers(headers) req = webob.Request.blank(url, method='GET', headers=headers) return self.api(req) def api_post(self, url, data=None, json=None, headers=None): headers = self._headers(headers) req = webob.Request.blank(url, method='POST', headers=headers) if json and not data: data = jsonutils.dumps(json).encode() headers['Content-Type'] = 'application/json' if data: req.body = data LOG.debug(req.as_bytes()) return self.api(req) def api_put(self, url, data=None, json=None, headers=None, body_file=None): headers = self._headers(headers) req = webob.Request.blank(url, method='PUT', headers=headers) if json and not data: data = jsonutils.dumps(json).encode() if data and not body_file: req.body = data elif body_file: req.body_file = body_file return self.api(req) class TestImageImportLocking(SynchronousAPIBase):",213,135
openstack%2Fnova~master~I8e52a397bca8f09e6aaa6cab44eee7dded529c55,openstack/nova,master,I8e52a397bca8f09e6aaa6cab44eee7dded529c55,docs: Add docs for vTPM support,MERGED,2020-07-03 11:16:41.000000000,2020-08-29 00:57:54.000000000,2020-08-26 14:10:40.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98ec4b52dbc97650e41199750479cc7f7af827e8', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2ade966c93a5b62bad85cfcafa1fa3ce8c60659', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8d9201d7d85530195b9115038dddf48c9179111', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f70a441dd9a3218cf9fefe89192dbfb8a1c35b96', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-10 13:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d68d7d8a654e98588395c6cb64646ab0bde89c8', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53bf9b39c37c2ccd727e19b62782a0bd884f157c', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-07-16 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16817a337109a8ca31ce3832cad0ff15c2c07043', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-07-16 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7abb76d646752f811445e1b4e19b473878443a2', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-07-17 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05ee45f86fd9be0c2f88fc52f1c9a2fca38f0564', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/158b9727f3f2753cad4b74983d8e7a74503b659c', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/356b9395942d4241985493ce5927934ecda1cb47', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c23344d93d837e6bc3fcedf7a28664f01570844', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 13, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9491fb242b9511c3fa719b128e0782c2af0618b', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 14, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc3d4389bf6cdc9f1ae7006471882ebbc55e9d8d', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 15, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00b7f88e440ae53dc57c5207606c86b4f67feac8', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 16, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46b6d57fde16624b012541e7bf5a64539519d071', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 17, 'created': '2020-08-25 17:00:58.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/emulated-tpm.rst', 'doc/source/user/flavors.rst', 'doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ed4ec6f26464e00899fb0682580837780f1a728', 'message': ""docs: Add docs for vTPM support\n\nWhat it is, why you'd want it and how you can configure it.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",8,739213,0ed4ec6f26464e00899fb0682580837780f1a728,117,12,17,15334,,,0,"docs: Add docs for vTPM support

What it is, why you'd want it and how you can configure it.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I8e52a397bca8f09e6aaa6cab44eee7dded529c55
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/739213/14 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/emulated-tpm.rst', 'doc/source/user/flavors.rst', 'doc/source/user/support-matrix.ini']",4,98ec4b52dbc97650e41199750479cc7f7af827e8,bp/add-emulated-virtual-tpm," [operation.boot-emulated-tpm] title=Boot instance with an emulated trusted platform module (TPM) status=optional notes=Allows VMs to be booted with an emulated trusted platform module (TPM) device. Only lifecycle operations performed by the VM owner are supported, as the user's credentials are required to unlock the virtual device files on the host. cli=openstack server create <usual server create parameters> driver.xenserver=missing driver.libvirt-kvm-x86=partial driver-notes.libvirt-kvm-x86=Live migration is not yet supported. driver.libvirt-kvm-aarch64=missing driver.libvirt-kvm-ppc64=missing driver.libvirt-kvm-s390x=missing driver.libvirt-qemu-x86=partial driver-notes.libvirt-qemu-x86=Live migration is not yet supported. driver.libvirt-lxc=missing driver.libvirt-xen=missing driver.vmware=missing driver.hyperv=missing driver.ironic=missing driver.libvirt-vz-vm=missing driver.libvirt-vz-ct=missing driver.powervm=missing driver.zvm=missing",,169,0
openstack%2Fnova~master~I5d6db24a440397e588ba69f98a9cd2b8a846adc2,openstack/nova,master,I5d6db24a440397e588ba69f98a9cd2b8a846adc2,"tests: Add helpers for rebuild, cold migrate, and shelve/unshelve",MERGED,2020-08-24 19:18:49.000000000,2020-08-29 00:51:43.000000000,2020-08-26 12:16:01.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a5c0b6b19a88673405175478f51b200ef87ea13', 'message': 'tests: Add helpers for rebuild, cold migrate, and shelve/unshelve\n\nThese are also useful for vTPM tests.\n\nChange-Id: I5d6db24a440397e588ba69f98a9cd2b8a846adc2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-08-25 17:00:58.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1835822.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecff78e05d40b0bcb9237d4cfea53fd3223f37a0', 'message': 'tests: Add helpers for rebuild, cold migrate, and shelve/unshelve\n\nThese are also useful for vTPM tests.\n\nChange-Id: I5d6db24a440397e588ba69f98a9cd2b8a846adc2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,747792,ecff78e05d40b0bcb9237d4cfea53fd3223f37a0,23,11,2,15334,,,0,"tests: Add helpers for rebuild, cold migrate, and shelve/unshelve

These are also useful for vTPM tests.

Change-Id: I5d6db24a440397e588ba69f98a9cd2b8a846adc2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/747792/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/regressions/test_bug_1835822.py']",3,0a5c0b6b19a88673405175478f51b200ef87ea13,bp/add-emulated-virtual-tpm," test.TestCase, integrated_helpers.InstanceHelperMixin, ): with_config_drive = self._rebuild_server( with_config_drive, self.image_ref_1) without_config_drive = self._rebuild_server( without_config_drive, self.image_ref_1)"," test.TestCase, integrated_helpers.InstanceHelperMixin): # ---------------------------- setup ---------------------------- # ---------------------------- helpers ---------------------------- def _rebuild_server(self, active_server): args = {""rebuild"": {""imageRef"": self.image_ref_1}} self.api.api_post('servers/%s/action' % active_server['id'], args) fake_notifier.wait_for_versioned_notifications('instance.rebuild.end') return self._wait_for_state_change(active_server, 'ACTIVE') def _shelve_server(self, active_server): self.api.post_server_action(active_server['id'], {'shelve': {}}) return self._wait_for_state_change(active_server, 'SHELVED_OFFLOADED') def _unshelve_server(self, shelved_server): self.api.post_server_action(shelved_server['id'], {'unshelve': {}}) return self._wait_for_state_change(shelved_server, 'ACTIVE') # ---------------------------- tests ---------------------------- with_config_drive = self._rebuild_server(with_config_drive) without_config_drive = self._rebuild_server(without_config_drive)",36,30
openstack%2Fnova~master~I65d2f76068e4b033ffd20959c9e74c870c8aa8e0,openstack/nova,master,I65d2f76068e4b033ffd20959c9e74c870c8aa8e0,vmware: Handle exception in destroy with attached volumes,MERGED,2020-06-29 11:05:12.000000000,2020-08-29 00:45:48.000000000,2020-08-28 14:14:41.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26250}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31706}]","[{'number': 1, 'created': '2020-06-29 11:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05fd60a5de1deba89297d71d58ec493de8f56dfa', 'message': 'vmware: Handle exception in destroy with attached volumes\n\nWhen deleting an instance didn\'t go through and nova retries on the next\nnova-compute restart, an instance not existing in the back end anymore\ncan lead to an uncatched exception in the vmware driver prohibiting\ninstance deletion. This is the case, if the instance had volumes\nattached, because `_detach_instance_volumes()` always powers off the\ninstance - which cannot work if the instance doesn\'t exist anymore.\n\nWhile the code already catched `ManagedObjectNotFoundException`, it also\nneeds to catch `InstanceNotFound` raised by `vm_util.get_vm_ref()` to\ncomplete the deletion as seen in the traceback below (which comes from a\nqueens codebase):\n\n\t Traceback (most recent call last):\n\t   File ""/nova/compute/manager.py"", line 874, in _init_instance\n\t\t self._delete_instance(context, instance, bdms)\n\t   File ""/nova/hooks.py"", line 154, in inner\n\t\t rv = f(*args, **kwargs)\n\t   File ""/nova/compute/manager.py"", line 2500, in _delete_instance\n\t\t self._shutdown_instance(context, instance, bdms)\n\t   File ""/nova/compute/manager.py"", line 2392, in _shutdown_instance\n\t\t requested_networks)\n\t   File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 220, in __exit__\n\t\t self.force_reraise()\n\t   File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 196, in force_reraise\n\t\t six.reraise(self.type_, self.value, self.tb)\n\t   File ""/nova/compute/manager.py"", line 2379, in _shutdown_instance\n\t\t block_device_info)\n\t   File ""/nova/virt/vmwareapi/driver.py"", line 574, in destroy\n\t\t self._detach_instance_volumes(instance, block_device_info)\n\t   File ""/nova/virt/vmwareapi/driver.py"", line 536, in _detach_instance_volumes\n\t\t self._vmops.power_off(instance)\n\t   File ""/nova/virt/vmwareapi/vmops.py"", line 1762, in power_off\n\t\t vm_util.power_off_instance(self._session, instance)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 1732, in power_off_instance\n\t\t vm_ref = get_vm_ref(session, instance)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 171, in wrapper\n\t\t return _vm_ref_cache(id, func, session, instance)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 162, in _vm_ref_cache\n\t\t vm_ref = func(session, data)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 1214, in get_vm_ref\n\t\t raise exception.InstanceNotFound(instance_id=uuid)\n\t InstanceNotFound: Instance 2af34cc5-22e0-400c-8b80-f130e86027fd could not be found.\n\nChange-Id: I65d2f76068e4b033ffd20959c9e74c870c8aa8e0\n'}, {'number': 2, 'created': '2020-07-07 06:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f72c1d25250ec72c3d291390a24282cd090243b', 'message': 'vmware: Handle exception in destroy with attached volumes\n\nWhen deleting an instance didn\'t go through and nova retries on the next\nnova-compute restart, an instance not existing in the back end anymore\ncan lead to an uncatched exception in the vmware driver prohibiting\ninstance deletion. This is the case, if the instance had volumes\nattached, because `_detach_instance_volumes()` always powers off the\ninstance - which cannot work if the instance doesn\'t exist anymore.\n\nWhile the code already catched `ManagedObjectNotFoundException`, it also\nneeds to catch `InstanceNotFound` raised by `vm_util.get_vm_ref()` to\ncomplete the deletion as seen in the traceback below (which comes from a\nqueens codebase):\n\n\t Traceback (most recent call last):\n\t   File ""/nova/compute/manager.py"", line 874, in _init_instance\n\t\t self._delete_instance(context, instance, bdms)\n\t   File ""/nova/hooks.py"", line 154, in inner\n\t\t rv = f(*args, **kwargs)\n\t   File ""/nova/compute/manager.py"", line 2500, in _delete_instance\n\t\t self._shutdown_instance(context, instance, bdms)\n\t   File ""/nova/compute/manager.py"", line 2392, in _shutdown_instance\n\t\t requested_networks)\n\t   File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 220, in __exit__\n\t\t self.force_reraise()\n\t   File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 196, in force_reraise\n\t\t six.reraise(self.type_, self.value, self.tb)\n\t   File ""/nova/compute/manager.py"", line 2379, in _shutdown_instance\n\t\t block_device_info)\n\t   File ""/nova/virt/vmwareapi/driver.py"", line 574, in destroy\n\t\t self._detach_instance_volumes(instance, block_device_info)\n\t   File ""/nova/virt/vmwareapi/driver.py"", line 536, in _detach_instance_volumes\n\t\t self._vmops.power_off(instance)\n\t   File ""/nova/virt/vmwareapi/vmops.py"", line 1762, in power_off\n\t\t vm_util.power_off_instance(self._session, instance)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 1732, in power_off_instance\n\t\t vm_ref = get_vm_ref(session, instance)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 171, in wrapper\n\t\t return _vm_ref_cache(id, func, session, instance)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 162, in _vm_ref_cache\n\t\t vm_ref = func(session, data)\n\t   File ""/nova/virt/vmwareapi/vm_util.py"", line 1214, in get_vm_ref\n\t\t raise exception.InstanceNotFound(instance_id=uuid)\n\t InstanceNotFound: Instance 2af34cc5-22e0-400c-8b80-f130e86027fd could not be found.\n\nChange-Id: I65d2f76068e4b033ffd20959c9e74c870c8aa8e0\n'}, {'number': 3, 'created': '2020-08-27 05:54:48.000000000', 'files': ['nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a323ed29ee7fe5ebf040ad41cd770753a72d6397', 'message': 'vmware: Handle exception in destroy with attached volumes\n\nWhen an attempt to delete an instance doesn\'t succeed and nova retries\non the next nova-compute restart, an instance not existing in the back\nend anymore can lead to an uncatched exception in the vmware driver\nprohibiting instance deletion. This is the case, if the instance had\nvolumes attached, because `_detach_instance_volumes()` always powers off\nthe instance - which cannot work if the instance doesn\'t exist anymore.\n\nWhile the code already catched `ManagedObjectNotFoundException`, it also\nneeds to catch `InstanceNotFound` raised by `vm_util.get_vm_ref()` to\ncomplete the deletion as seen in the traceback below (which comes from a\nqueens codebase):\n\n     Traceback (most recent call last):\n       File ""/nova/compute/manager.py"", line 874, in _init_instance\n         self._delete_instance(context, instance, bdms)\n       File ""/nova/hooks.py"", line 154, in inner\n         rv = f(*args, **kwargs)\n       File ""/nova/compute/manager.py"", line 2500, in _delete_instance\n         self._shutdown_instance(context, instance, bdms)\n       File ""/nova/compute/manager.py"", line 2392, in _shutdown_instance\n         requested_networks)\n       File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 220, in __exit__\n         self.force_reraise()\n       File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 196, in force_reraise\n         six.reraise(self.type_, self.value, self.tb)\n       File ""/nova/compute/manager.py"", line 2379, in _shutdown_instance\n         block_device_info)\n       File ""/nova/virt/vmwareapi/driver.py"", line 574, in destroy\n         self._detach_instance_volumes(instance, block_device_info)\n       File ""/nova/virt/vmwareapi/driver.py"", line 536, in _detach_instance_volumes\n         self._vmops.power_off(instance)\n       File ""/nova/virt/vmwareapi/vmops.py"", line 1762, in power_off\n         vm_util.power_off_instance(self._session, instance)\n       File ""/nova/virt/vmwareapi/vm_util.py"", line 1732, in power_off_instance\n         vm_ref = get_vm_ref(session, instance)\n       File ""/nova/virt/vmwareapi/vm_util.py"", line 171, in wrapper\n         return _vm_ref_cache(id, func, session, instance)\n       File ""/nova/virt/vmwareapi/vm_util.py"", line 162, in _vm_ref_cache\n         vm_ref = func(session, data)\n       File ""/nova/virt/vmwareapi/vm_util.py"", line 1214, in get_vm_ref\n         raise exception.InstanceNotFound(instance_id=uuid)\n     InstanceNotFound: Instance 2af34cc5-22e0-400c-8b80-f130e86027fd could not be found.\n\nChange-Id: I65d2f76068e4b033ffd20959c9e74c870c8aa8e0\n'}]",7,738416,a323ed29ee7fe5ebf040ad41cd770753a72d6397,50,13,3,26250,,,0,"vmware: Handle exception in destroy with attached volumes

When an attempt to delete an instance doesn't succeed and nova retries
on the next nova-compute restart, an instance not existing in the back
end anymore can lead to an uncatched exception in the vmware driver
prohibiting instance deletion. This is the case, if the instance had
volumes attached, because `_detach_instance_volumes()` always powers off
the instance - which cannot work if the instance doesn't exist anymore.

While the code already catched `ManagedObjectNotFoundException`, it also
needs to catch `InstanceNotFound` raised by `vm_util.get_vm_ref()` to
complete the deletion as seen in the traceback below (which comes from a
queens codebase):

     Traceback (most recent call last):
       File ""/nova/compute/manager.py"", line 874, in _init_instance
         self._delete_instance(context, instance, bdms)
       File ""/nova/hooks.py"", line 154, in inner
         rv = f(*args, **kwargs)
       File ""/nova/compute/manager.py"", line 2500, in _delete_instance
         self._shutdown_instance(context, instance, bdms)
       File ""/nova/compute/manager.py"", line 2392, in _shutdown_instance
         requested_networks)
       File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 220, in __exit__
         self.force_reraise()
       File ""/lib/python2.7/site-packages/oslo_utils/excutils.py"", line 196, in force_reraise
         six.reraise(self.type_, self.value, self.tb)
       File ""/nova/compute/manager.py"", line 2379, in _shutdown_instance
         block_device_info)
       File ""/nova/virt/vmwareapi/driver.py"", line 574, in destroy
         self._detach_instance_volumes(instance, block_device_info)
       File ""/nova/virt/vmwareapi/driver.py"", line 536, in _detach_instance_volumes
         self._vmops.power_off(instance)
       File ""/nova/virt/vmwareapi/vmops.py"", line 1762, in power_off
         vm_util.power_off_instance(self._session, instance)
       File ""/nova/virt/vmwareapi/vm_util.py"", line 1732, in power_off_instance
         vm_ref = get_vm_ref(session, instance)
       File ""/nova/virt/vmwareapi/vm_util.py"", line 171, in wrapper
         return _vm_ref_cache(id, func, session, instance)
       File ""/nova/virt/vmwareapi/vm_util.py"", line 162, in _vm_ref_cache
         vm_ref = func(session, data)
       File ""/nova/virt/vmwareapi/vm_util.py"", line 1214, in get_vm_ref
         raise exception.InstanceNotFound(instance_id=uuid)
     InstanceNotFound: Instance 2af34cc5-22e0-400c-8b80-f130e86027fd could not be found.

Change-Id: I65d2f76068e4b033ffd20959c9e74c870c8aa8e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/738416/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py']",2,05fd60a5de1deba89297d71d58ec493de8f56dfa,vmware_instance_destroy_without_vmref_but_with_volumes," def test_destroy_instance_with_vm_ref_but_with_volumes(self): self.destroy_disks = True self._create_instance() bdi = {'block_device_mapping': ['foo']} with mock.patch.object(self.conn._vmops, ""destroy"") as mock_destroy: self.conn.destroy(self.context, self.instance, self.network_info, bdi, self.destroy_disks) mock_destroy.assert_called_once_with(self.instance, self.destroy_disks) ",,13,1
openstack%2Ftripleo-quickstart-extras~master~I69aacd9d58c64f0e7868088eed9b8bf42e2efd89,openstack/tripleo-quickstart-extras,master,I69aacd9d58c64f0e7868088eed9b8bf42e2efd89,"DNM, standalone os-tempest demo",ABANDONED,2019-04-26 21:46:09.000000000,2020-08-28 23:22:23.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-26 21:46:09.000000000', 'files': ['playbooks/multinode-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7acb38d27c92dcfe6fc3ff7b50aa53100ab8e39e', 'message': 'DNM, standalone os-tempest demo\n\nChange-Id: I69aacd9d58c64f0e7868088eed9b8bf42e2efd89\n'}]",0,656026,7acb38d27c92dcfe6fc3ff7b50aa53100ab8e39e,5,4,1,9592,,,0,"DNM, standalone os-tempest demo

Change-Id: I69aacd9d58c64f0e7868088eed9b8bf42e2efd89
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/656026/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-standalone.yml'],1,7acb38d27c92dcfe6fc3ff7b50aa53100ab8e39e,,," - {role: validate-tempest, when: run_tempest|bool}- name: Validate the deployment hosts: undercloud gather_facts: false tasks: - include_tasks: tempest.yml vars: tempest_install_method: distro tempest_cloud_name: 'standalone' when: - not run_tempest|bool - use_os_tempest is defined - use_os_tempest|bool tags: - standalone",0,15
openstack%2Ftripleo-ci~master~I2f5650204cbaee1654656b87be4c00997546b9eb,openstack/tripleo-ci,master,I2f5650204cbaee1654656b87be4c00997546b9eb,move scen000 upgrade test back to true,ABANDONED,2018-11-15 20:21:04.000000000,2020-08-28 23:19:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-15 20:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5462f8891ee416076ebe28fc0a1afb0d52424ca4', 'message': ""move scen000 upgrade test back to true\n\nThe job looks stable. Let's get it voting\nhttp://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades\n\nChange-Id: I2f5650204cbaee1654656b87be4c00997546b9eb\n""}, {'number': 2, 'created': '2018-12-31 18:37:22.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1d50818048478fb6091878ccd8fdffe841549b34', 'message': ""move scen000 upgrade test back to true\n\nThe job looks stable. Let's get it voting\nhttp://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades\n\nChange-Id: I2f5650204cbaee1654656b87be4c00997546b9eb\n""}]",0,618303,1d50818048478fb6091878ccd8fdffe841549b34,11,8,2,9592,,,0,"move scen000 upgrade test back to true

The job looks stable. Let's get it voting
http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades

Change-Id: I2f5650204cbaee1654656b87be4c00997546b9eb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/03/618303/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,5462f8891ee416076ebe28fc0a1afb0d52424ca4,, voting: true, voting: false,1,1
openstack%2Foctavia~master~I5ef8f403be5b83ffe20f969447979d271fe91cfa,openstack/octavia,master,I5ef8f403be5b83ffe20f969447979d271fe91cfa,Allows failover if port is not deallocated by nova,ABANDONED,2018-07-25 19:49:55.000000000,2020-08-28 22:50:01.000000000,,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 26049}]","[{'number': 1, 'created': '2018-07-25 19:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/628f082cca5cdf9de6123149fc8ad6327be1a787', 'message': '[WIP] Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will orphan the vrrp port and create a new one.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 2, 'created': '2018-07-26 21:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bcb13e4a6cdc60366618a5e53a35345ac88ad34d', 'message': '[WIP] Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. We also\ncover the case when a port disappeared (e.g. got deleted for some\nreason) by creating a new one.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 3, 'created': '2018-07-27 16:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff612b7eedd6939c9c65e7f4b28b564cda08dc67', 'message': '[WIP] Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. We also\ncover the case when a port disappeared (e.g. got deleted for some\nreason) by creating a new one.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 4, 'created': '2018-07-30 14:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4878b7a7d81620356f7f8c646dace852d4bc701c', 'message': '[WIP] Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. We also\ncover the case when a port disappeared (e.g. got deleted for some\nreason) by creating a new one.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 5, 'created': '2018-07-30 19:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e046f4c99604da80c7e11d046514b71ca56f12ae', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 6, 'created': '2018-07-30 21:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4d9a8f7e90af2843cd080632a1e268363b324148', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 7, 'created': '2018-07-31 14:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/729b76795345046e88ffda75d6cc98b95728a9e9', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 8, 'created': '2018-08-03 15:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/57026ed90338a980f3961023f0e2f12b8f316adf', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 9, 'created': '2018-08-03 18:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b29e4dcf7bf3ef2ae9c6096a44afb8e96b779531', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 10, 'created': '2018-08-06 15:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/10bc9a835d94b6af286df87fe2bd9ea05a61a162', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 11, 'created': '2018-08-06 16:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3461f69f8003238d16134e973b67e15f9636cf5', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 12, 'created': '2018-10-17 17:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b6a80f9c1594f85464eb7c2a7b851d043cb24005', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 13, 'created': '2018-10-22 16:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e4fc512f84233f928dcecdb7d6ac87eccd7e1d46', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 14, 'created': '2018-10-22 20:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e4d53267b93eb23d6ec68b6df7b3fe27d773f30', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 15, 'created': '2018-10-24 18:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8500010facacc668c3b1e4f9df70798f8e5477ce', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 16, 'created': '2018-10-25 17:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1867d2ec8355e5bee0649e414df7c0fe68f20584', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}, {'number': 17, 'created': '2019-03-11 18:02:42.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/controller/worker/flows/amphora_flows.py', 'octavia/network/base.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c607d0eebf991371bfa09281a05b577f2f50e652', 'message': 'Allows failover if port is not deallocated by nova\n\nDuring a multi hour compute host shutdown WITHOUT evacuating the\namp of an active-passive pair we encountered an error failing\nover due to nova not deallocating the port and octavia timing out.\n\nIn this case we will force a  deallocation with neutron. If this\nfails, the system will issue a delete to the port and create a\nnew one.  Additionally, its also covers the case when a port\ndisappeared (e.g. got deleted for some reason) with the new\nlogic of creating a new port.\n\nChange-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa\n'}]",17,585864,c607d0eebf991371bfa09281a05b577f2f50e652,44,8,17,10850,,,0,"Allows failover if port is not deallocated by nova

During a multi hour compute host shutdown WITHOUT evacuating the
amp of an active-passive pair we encountered an error failing
over due to nova not deallocating the port and octavia timing out.

In this case we will force a  deallocation with neutron. If this
fails, the system will issue a delete to the port and create a
new one.  Additionally, its also covers the case when a port
disappeared (e.g. got deleted for some reason) with the new
logic of creating a new port.

Change-Id: I5ef8f403be5b83ffe20f969447979d271fe91cfa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/585864/10 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",4,628f082cca5cdf9de6123149fc8ad6327be1a787,port_busy," amp_config = n_data_models.AmphoraNetworkConfig(vrrp_port=new_port) interface = self.plug_port(amphora, amp_config) def plug_port(self, amphora, amp_config): try: port = amp_config.vrrp_port if port: interface = self.nova_client.servers.interface_attach( server=amphora.compute_id, net_id=None, fixed_ip=None, port_id=port.id) else: subnet = amp_config.vip_subnet interface = self._get_plugged_interface( amphora.compute_id, subnet.network_id, amphora.lb_network_ip) if not interface: interface = self._plug_amphora_vip(amphora, subnet) self._add_vip_address_pair(interface.port_id, amp_config.vip_port.ip_address) if self.sec_grp_enabled: self._add_vip_security_group_to_port( amphora.load_balancer.id, interface.port_id) for fixed_ip in interface.fixed_ips: is_correct_subnet = fixed_ip.subnet_id == subnet.id is_management_ip = ( fixed_ip.ip_address == amphora.lb_network_ip) if is_correct_subnet and not is_management_ip: amphora.vrrp_ip = fixed_ip.ip_address break if amp.vrrp_port_id: vrrp_port = self.get_port(amp.vrrp_port_id) vrrp_subnet = self.get_subnet( vrrp_port.get_subnet_id(amp.vrrp_ip)) vrrp_port.network = self.get_network(vrrp_port.network_id) ha_port = self.get_port(amp.ha_port_id) ha_subnet = self.get_subnet( ha_port.get_subnet_id(amp.ha_ip)) amp_configs[amp.id] = n_data_models.AmphoraNetworkConfig( amphora=amp, vip_subnet=vip_subnet, vip_port=vip_port, vrrp_subnet=vrrp_subnet, vrrp_port=vrrp_port, ha_subnet=ha_subnet, ha_port=ha_port ) else: amp_configs[amp.id] = n_data_models.AmphoraNetworkConfig( amphora=amp, vip_subnet=vip_subnet, vip_port=vip_port )"," interface = self.plug_port(amphora, new_port) def plug_port(self, amphora, port): try: interface = self.nova_client.servers.interface_attach( server=amphora.compute_id, net_id=None, fixed_ip=None, port_id=port.id) vrrp_port = self.get_port(amp.vrrp_port_id) vrrp_subnet = self.get_subnet( vrrp_port.get_subnet_id(amp.vrrp_ip)) vrrp_port.network = self.get_network(vrrp_port.network_id) ha_port = self.get_port(amp.ha_port_id) ha_subnet = self.get_subnet( ha_port.get_subnet_id(amp.ha_ip)) amp_configs[amp.id] = n_data_models.AmphoraNetworkConfig( amphora=amp, vip_subnet=vip_subnet, vip_port=vip_port, vrrp_subnet=vrrp_subnet, vrrp_port=vrrp_port, ha_subnet=ha_subnet, ha_port=ha_port )",82,34
openstack%2Foctavia~master~I49a32df56fb6f91764e05268a1f6346dfe86d84f,openstack/octavia,master,I49a32df56fb6f91764e05268a1f6346dfe86d84f,DNM: Testing Gate,ABANDONED,2019-09-10 11:03:45.000000000,2020-08-28 22:48:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-09-10 11:03:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia/commit/96ca217023eee609bdee3abf21a4dc2f425a4170', 'message': 'DNM: Testing Gate\n\nChange-Id: I49a32df56fb6f91764e05268a1f6346dfe86d84f\n'}]",0,681221,96ca217023eee609bdee3abf21a4dc2f425a4170,5,2,1,30619,,,0,"DNM: Testing Gate

Change-Id: I49a32df56fb6f91764e05268a1f6346dfe86d84f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/681221/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,96ca217023eee609bdee3abf21a4dc2f425a4170,, ,,2,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iafc1e73d8a84f5bb32b7be14d337d621d4897026,openstack/tripleo-heat-templates,stable/rocky,Iafc1e73d8a84f5bb32b7be14d337d621d4897026,"WIP, readd the rocky version of standalone job",ABANDONED,2019-05-07 16:57:24.000000000,2020-08-28 22:48:20.000000000,,"[{'_account_id': 8175}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-07 16:57:24.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2898fdcc7bb52a09103201d88efe244d947fc169', 'message': 'WIP, readd the rocky version of standalone job\n\nChange-Id: Iafc1e73d8a84f5bb32b7be14d337d621d4897026\n'}]",0,657647,2898fdcc7bb52a09103201d88efe244d947fc169,5,3,1,9592,,,0,"WIP, readd the rocky version of standalone job

Change-Id: Iafc1e73d8a84f5bb32b7be14d337d621d4897026
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/657647/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2898fdcc7bb52a09103201d88efe244d947fc169,rocky-tempest, - tripleo-ci-centos-7-standalone: parent: tripleo-ci-centos-7-standalone-rocky ,,2,0
openstack%2Fcharm-deployment-guide~master~I22e69ed67720dd98f2005b48e264ad05fa5c2573,openstack/charm-deployment-guide,master,I22e69ed67720dd98f2005b48e264ad05fa5c2573,Update RBD mirroring section,MERGED,2020-08-28 18:46:30.000000000,2020-08-28 22:44:13.000000000,2020-08-28 22:43:11.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-08-28 18:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9c6a80f6e08decb59e3f028c000926e8677aeb36', 'message': 'Update RBD mirroring section\n\nIt was team-agreed to remove the single model\nscenario. A note was left behind stating this\nas an optional topology.\n\nMove over advanced usage from the ceph-rbd-mirror\ncharm README. The latter content will be removed\nin an imminent PR.\n\nRemoved reference to test bundles because those\nbundles only cover the single-model scenario. An\noverlay is also required for the two-model scenario.\n\nChange-Id: I22e69ed67720dd98f2005b48e264ad05fa5c2573\n'}, {'number': 2, 'created': '2020-08-28 22:35:11.000000000', 'files': ['deploy-guide/source/app-ceph-rbd-mirror.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a746ee4a9d22989c7326adedbb17a794a26c6fa5', 'message': 'Update RBD mirroring section\n\nIt was team-agreed to remove the single model\nscenario. A note was left behind stating this\nas an optional topology.\n\nMove over advanced usage from the ceph-rbd-mirror\ncharm README. The latter content will be removed\nin an imminent PR.\n\nRemoved reference to test bundles because those\nbundles only cover the single-model scenario. An\noverlay is also required for the two-model scenario.\n\nChange-Id: I22e69ed67720dd98f2005b48e264ad05fa5c2573\n'}]",4,748739,a746ee4a9d22989c7326adedbb17a794a26c6fa5,11,3,2,30561,,,0,"Update RBD mirroring section

It was team-agreed to remove the single model
scenario. A note was left behind stating this
as an optional topology.

Move over advanced usage from the ceph-rbd-mirror
charm README. The latter content will be removed
in an imminent PR.

Removed reference to test bundles because those
bundles only cover the single-model scenario. An
overlay is also required for the two-model scenario.

Change-Id: I22e69ed67720dd98f2005b48e264ad05fa5c2573
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/39/748739/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ceph-rbd-mirror.rst'],1,9c6a80f6e08decb59e3f028c000926e8677aeb36,update-rbd-mirror-appendix,"==============================--------a failover). See `Upstream Ceph documentation on RBD mirroring`_ for complete information. This guide will show how to deploy two Ceph clusters with RBD mirroring between them with the use of the ceph-rbd-mirror charm. See the `charm's documentation`_ for basic information and charm limitations. RBD mirroring is only one aspect of datacentre redundancy. Refer to `Ceph RADOS Gateway Multisite Replication`_ and other work to arrive at a complete solution. RBD mirroring makes use of the journalling feature of Ceph. This incurs an overhead for write activity on an RBD image that will adversely affect performance. See Florian Haas' performance analysis of `RBD mirror`_ from Cephalocon Barcelona 2019. Requirements ------------ The two Ceph clusters will correspond to sites 'a' and 'b' and each cluster will reside within a separate model (models 'site-a' and 'site-b'). The deployment will require the use of `Cross model relations`_. Deployment characteristics: * each cluster will have 7 units: * 3 x ceph-osd * 3 x ceph-mon * 1 x ceph-rbd-mirror * application names will be used to distinguish between applications in site 'a' from those in site 'b' (e.g. ceph-mon-a and ceph-mon-b) * the ceph-osd units will use block device ``/dev/vdd`` for their OSD volumes .. note:: The two Ceph clusters can optionally be placed within the same model, and thus obviate the need for cross model relations. This topology is not generally considered to be a real world scenario. Deployment ---------- For site 'a' the following configuration is placed into file ``site-a.yaml``: .. code-block:: yaml ceph-mon-a: monitor-count: 3 expected-osd-count: 3 source: distro ceph-osd-a: osd-devices: /dev/vdd source: distro ceph-rbd-mirror-a: source: distro Create the model and deploy the software for each site: * Site 'a' .. code-block:: none juju add-model site-a juju deploy -n 3 --config site-a.yaml ceph-osd ceph-osd-a juju deploy -n 3 --config site-a.yaml ceph-mon ceph-mon-a juju deploy --config site-a.yaml ceph-rbd-mirror ceph-rbd-mirror-a * Site 'b' An analogous configuration file is used (i.e. replace 'a' with 'b'): .. code-block:: none juju add-model site-b juju deploy -n 3 --config site-b.yaml ceph-osd ceph-osd-b juju deploy -n 3 --config site-b.yaml ceph-mon ceph-mon-b juju deploy --config site-b.yaml ceph-rbd-mirror ceph-rbd-mirror-b Add two local relations for each site: * Site 'a' .. code-block:: none juju add-relation -m site-a ceph-mon-a:osd ceph-osd-a:mon juju add-relation -m site-a ceph-mon-a:rbd-mirror ceph-rbd-mirror-a:ceph-local * Site 'b' .. code-block:: none juju add-relation -m site-b ceph-mon-b:osd ceph-osd-b:mon juju add-relation -m site-b ceph-mon-b:rbd-mirror ceph-rbd-mirror-b:ceph-local Export a ceph-rbd-mirror endpoint (by means of an ""offer"") for each site. This will enable us to create the inter-site (cross model) relations: * Site 'a' .. code-block:: none juju switch site-a juju offer ceph-rbd-mirror-a:ceph-remote Output: .. code-block:: console Application ""ceph-rbd-mirror-a"" endpoints [ceph-remote] available at ""admin/site-a.ceph-rbd-mirror-a"" * Site 'b' .. code-block:: none juju switch site-b juju offer ceph-rbd-mirror-b:ceph-remote Output: .. code-block:: console Application ""ceph-rbd-mirror-b"" endpoints [ceph-remote] available at ""admin/site-b.ceph-rbd-mirror-b"" Add the two inter-site relations by referring to the offer URLs (included in the output above) as if they were applications in the local model: .. code-block:: none juju add-relation -m site-a ceph-mon-a admin/site-b.ceph-rbd-mirror-b juju add-relation -m site-b ceph-mon-b admin/site-a.ceph-rbd-mirror-a Verify the output of :command:`juju status` for each model: .. code-block:: none juju status -m site-a Output: .. code-block:: console Model Controller Cloud/Region Version SLA Timestamp site-a maas-prod-1 acme-1/default 2.8.1 unsupported 20:00:41Z SAAS Status Store URL ceph-rbd-mirror-b waiting icarus-maas admin/site-b.ceph-rbd-mirror-b App Version Status Scale Charm Store Rev OS Notes ceph-mon-a 15.2.3 active 3 ceph-mon jujucharms 49 ubuntu ceph-osd-a 15.2.3 active 3 ceph-osd jujucharms 304 ubuntu ceph-rbd-mirror-a 15.2.3 waiting 1 ceph-rbd-mirror jujucharms 12 ubuntu Unit Workload Agent Machine Public address Ports Message ceph-mon-a/0* active idle 0/lxd/0 10.0.0.57 Unit is ready and clustered ceph-mon-a/1 active idle 1/lxd/0 10.0.0.58 Unit is ready and clustered ceph-mon-a/2 active idle 2/lxd/0 10.0.0.59 Unit is ready and clustered ceph-osd-a/0* active idle 0 10.0.0.69 Unit is ready (1 OSD) ceph-osd-a/1 active idle 1 10.0.0.19 Unit is ready (1 OSD) ceph-osd-a/2 active idle 2 10.0.0.20 Unit is ready (1 OSD) ceph-rbd-mirror-a/0* waiting idle 3 10.0.0.22 Waiting for pools to be created Machine State DNS Inst id Series AZ Message 0 started 10.0.0.69 virt-node-08 focal default Deployed 0/lxd/0 started 10.0.0.57 juju-bb0dc1-0-lxd-0 focal default Container started 1 started 10.0.0.19 virt-node-10 focal default Deployed 1/lxd/0 started 10.0.0.58 juju-bb0dc1-1-lxd-0 focal default Container started 2 started 10.0.0.20 virt-node-11 focal default Deployed 2/lxd/0 started 10.0.0.59 juju-bb0dc1-2-lxd-0 focal default Container started 3 started 10.0.0.22 virt-node-03 focal default Deployed Offer Application Charm Rev Connected Endpoint Interface Role ceph-rbd-mirror-a ceph-rbd-mirror-a ceph-rbd-mirror 12 1/1 ceph-remote ceph-rbd-mirror requirer .. code-block:: none juju status -m site-b Output: .. code-block:: console Model Controller Cloud/Region Version SLA Timestamp site-b maas-prod-1 acme-1/default 2.8.1 unsupported 20:02:58Z SAAS Status Store URL ceph-rbd-mirror-a waiting icarus-maas admin/site-a.ceph-rbd-mirror-a App Version Status Scale Charm Store Rev OS Notes ceph-mon-b 15.2.3 active 3 ceph-mon jujucharms 49 ubuntu ceph-osd-b 15.2.3 active 3 ceph-osd jujucharms 304 ubuntu ceph-rbd-mirror-b 15.2.3 waiting 1 ceph-rbd-mirror jujucharms 12 ubuntu Unit Workload Agent Machine Public address Ports Message ceph-mon-b/0* active idle 0/lxd/0 10.0.0.60 Unit is ready and clustered ceph-mon-b/1 active idle 1/lxd/0 10.0.0.61 Unit is ready and clustered ceph-mon-b/2 active idle 2/lxd/0 10.0.0.62 Unit is ready and clustered ceph-osd-b/0* active idle 0 10.0.0.21 Unit is ready (1 OSD) ceph-osd-b/1 active idle 1 10.0.0.54 Unit is ready (1 OSD) ceph-osd-b/2 active idle 2 10.0.0.55 Unit is ready (1 OSD) ceph-rbd-mirror-b/0* waiting idle 3 10.0.0.56 Waiting for pools to be created Machine State DNS Inst id Series AZ Message 0 started 10.0.0.21 virt-node-02 focal default Deployed 0/lxd/0 started 10.0.0.60 juju-3ef7c5-0-lxd-0 focal default Container started 1 started 10.0.0.54 virt-node-04 focal default Deployed 1/lxd/0 started 10.0.0.61 juju-3ef7c5-1-lxd-0 focal default Container started 2 started 10.0.0.55 virt-node-05 focal default Deployed 2/lxd/0 started 10.0.0.62 juju-3ef7c5-2-lxd-0 focal default Container started 3 started 10.0.0.56 virt-node-06 focal default Deployed Offer Application Charm Rev Connected Endpoint Interface Role ceph-rbd-mirror-b ceph-rbd-mirror-b ceph-rbd-mirror 12 1/1 ceph-remote ceph-rbd-mirror requirer Note that there are no default Ceph pools. The next section ('Pool creation') provides guidance. Pool creation ------------- RBD pools can be created by either a supporting charm (through the Ceph broker protocol) or manually by the operator: #. A charm-created pool (e.g. the glance or nova-compute charms) will automatically be detected and acted upon (i.e. a remote pool will be set up in the peer cluster). #. A manually-created pool, whether done via the ceph-mon application or through Ceph directly, will require an action to be run on the ceph-rbd-mirror application leader in order for the remote pool to come online. For example, to create a pool manually in site 'a' and have ceph-rbd-mirror (of site 'a') initialise a pool in site 'b': .. code-block:: none juju run-action --wait -m site-a ceph-mon-a/leader create-pool name=mypool app-name=rbd juju run-action --wait -m site-a ceph-rbd-mirror-a/leader refresh-pools This can be verified by listing the pools in site 'b': .. code-block:: none juju run-action --wait -m site-b ceph-mon-b/leader list-pools .. note:: Automatic peer-pool creation (for a charm-created pool) is based on the local pool being labelled with a Ceph 'rbd' tag. This Ceph-internal labelling occurs when the newly-created local pool is associated with the RBD application. This last feature is supported staring with Ceph Luminous (OpenStack Queens). Failover and fallback --------------------- To manage failover and fallback, the ``demote`` and ``promote`` actions are applied to the ceph-rbd-mirror application leader. For instance, to fail over from site 'a' to site 'b' the former is demoted and the latter is promoted. The rest of the commands are status checks: .. code-block:: none juju run-action --wait -m site-a ceph-rbd-mirror-a/leader status verbose=true juju run-action --wait -m site-b ceph-rbd-mirror-b/leader status verbose=true juju run-action --wait -m site-a ceph-rbd-mirror-a/leader demote juju run-action --wait -m site-a ceph-rbd-mirror-a/leader status verbose=true juju run-action --wait -m site-b ceph-rbd-mirror-b/leader status verbose=true juju run-action --wait -m site-b ceph-rbd-mirror-b/leader promote To fall back to site 'a' the actions are reversed: .. code-block:: none juju run-action --wait -m site-b ceph-rbd-mirror-b/leader demote juju run-action --wait -m site-a ceph-rbd-mirror-a/leader promote .. note:: With Ceph Luminous (and greater), the mirror status information may not be accurate. Specifically, the ``entries_behind_master`` counter may never get to '0' even though the image has been fully synchronised. Recovering from abrupt shutdown ------------------------------- It is possible that an abrupt shutdown and/or an interruption to communication channels may lead to a ""split-brain"" condition. This may cause the mirroring daemon in each cluster to claim to be the primary. In such cases, the operator must make a call as to which daemon is correct. Generally speaking, this means deciding which cluster has the most recent data. Elect a primary by applying the ``demote`` and ``promote`` actions to the appropriate ceph-rbd-mirror leader. After doing so, the ``resync-pools`` action must be run on the secondary cluster leader. The ``promote`` action may require a force option. Here, we make site 'a' be the primary by demoting site 'b' and promoting site 'a': .. code-block:: none juju run-action --wait -m site-b ceph-rbd-mirror/leader demote juju run-action --wait -m site-a ceph-rbd-mirror/leader promote force=true juju run-action --wait -m site-a ceph-rbd-mirror/leader status verbose=true juju run-action --wait -m site-b ceph-rbd-mirror/leader status verbose=true juju run-action --wait -m site-b ceph-rbd-mirror/leader resync-pools i-really-mean-it=true .. note:: When using Ceph Luminous, the mirror state information will not be accurate after recovering from unclean shutdown. Regardless of the output of the status information, you will be able to write to images after a forced promote... _charm's documentation: https://opendev.org/openstack/charm-ceph-rbd-mirror/src/branch/master/src/README.md.. _Cross model relations: https://juju.is/docs/cross-model-relations","++++++++a failover). This appendix includes detailed steps for deploying Ceph clusters with RBD mirroring with the use of the ``ceph-rbd-mirror`` charm. The `ceph-rbd-mirror charm project page`_ includes in-depth information on this charm as well as how to use it for cluster failover and disaster recovery. It also includes more brief deployment steps as the ones shown here. RBD mirroring is only one specific element in datacentre redundancy. Refer to `Ceph RADOS Gateway Multisite Replication`_ and other work to arrive at a complete solution. See `Upstream Ceph documentation on RBD mirroring`_ for complete information. .. warning:: RBD mirroring makes use of the journalling feature of Ceph; this incurs an overhead on all write activity on a RBD which will impact performance. See Florian Haas' excellent performance analysis of `RBD mirror`_ from Cephalocon Barcelona 2019. Deployment ++++++++++ This section will show how to use charms to deploy two Ceph clusters (site 'a' and site 'b') with RBD mirroring between them. Two scenarios will be shown: #. Both clusters within the same model #. Each cluster within a separate model Notes that apply to both scenarios: - each cluster/site employs 7 units (3 ``ceph-osd``, 3 ``ceph-mon``, and 1 ``ceph-rbd-mirror``) - application names are used to distinguish between applications in site 'a' from those in site 'b' - the ``ceph-osd`` units use block device ``/dev/vdd`` for OSD storage Using one model --------------- Create the common model ``sites-ab``: .. code:: juju add-model sites-ab Deploy units for site 'a': .. code:: juju deploy -n 3 ceph-osd ceph-osd-a --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-a juju deploy ceph-rbd-mirror ceph-rbd-mirror-a Deploy units for site 'b': .. code:: juju deploy -n 3 ceph-osd ceph-osd-b --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-b juju deploy ceph-rbd-mirror ceph-rbd-mirror-b Add relations between application endpoints. Notice how ``ceph-mon`` in one site gets related to ``ceph-rbd-mirror`` in the other site (the ""inter-site"" relations): For site 'a', .. code:: juju add-relation ceph-mon-a ceph-osd-a juju add-relation ceph-mon-a ceph-rbd-mirror-a:ceph-local juju add-relation ceph-mon-a ceph-rbd-mirror-b:ceph-remote For site 'b', .. code:: juju add-relation ceph-mon-b ceph-osd-b juju add-relation ceph-mon-b ceph-rbd-mirror-b:ceph-local juju add-relation ceph-mon-b ceph-rbd-mirror-a:ceph-remote Verify the output of ``juju status`` for the model (only partial output is shown): .. code:: juju status -m sites-ab Unit Workload Agent Machine Public address Ports Message ceph-mon-a/0* active idle 3 10.5.0.20 Unit is ready and clustered ceph-mon-a/1 active idle 4 10.5.0.9 Unit is ready and clustered ceph-mon-a/2 active idle 5 10.5.0.10 Unit is ready and clustered ceph-mon-b/0* active idle 10 10.5.0.4 Unit is ready and clustered ceph-mon-b/1 active idle 11 10.5.0.11 Unit is ready and clustered ceph-mon-b/2 active idle 12 10.5.0.24 Unit is ready and clustered ceph-osd-a/0* active idle 0 10.5.0.3 Unit is ready (1 OSD) ceph-osd-a/1 active idle 1 10.5.0.12 Unit is ready (1 OSD) ceph-osd-a/2 active idle 2 10.5.0.7 Unit is ready (1 OSD) ceph-osd-b/0* active idle 7 10.5.0.21 Unit is ready (1 OSD) ceph-osd-b/1 active idle 8 10.5.0.6 Unit is ready (1 OSD) ceph-osd-b/2 active idle 9 10.5.0.23 Unit is ready (1 OSD) ceph-rbd-mirror-a/0* waiting idle 6 10.5.0.30 Waiting for pools to be created ceph-rbd-mirror-b/0* waiting idle 13 10.5.0.39 Waiting for pools to be created You're done. Note that Ceph pools have not yet been initialised. This can be done by other charms or directly within Ceph. Using two models ---------------- For this scenario we use model names ``site-a`` and ``site-b``. For site 'a', .. code:: juju add-model site-a juju deploy -n 3 ceph-osd ceph-osd-a --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-a juju deploy ceph-rbd-mirror ceph-rbd-mirror-a For site 'b', .. code:: juju add-model site-b juju deploy -n 3 ceph-osd ceph-osd-b --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-b juju deploy ceph-rbd-mirror ceph-rbd-mirror-b Add relations between local application endpoints as before: .. code:: juju add-relation -m site-a ceph-mon-a ceph-osd-a juju add-relation -m site-a ceph-mon-a ceph-rbd-mirror-a:ceph-local juju add-relation -m site-b ceph-mon-b ceph-osd-b juju add-relation -m site-b ceph-mon-b ceph-rbd-mirror-b:ceph-local To create the inter-site relations one must export one of the application endpoints from each model by means of an ""offer"". Here, we make offers for ``ceph-rbd-mirror`` in each model: .. code:: juju switch site-a juju offer ceph-rbd-mirror-a:ceph-remote Application ""ceph-rbd-mirror-a"" endpoints [ceph-remote] available at ""admin/site-a.ceph-rbd-mirror-a"" juju switch site-b juju offer ceph-rbd-mirror-b:ceph-remote Application ""ceph-rbd-mirror-b"" endpoints [ceph-remote] available at ""admin/site-b.ceph-rbd-mirror-b"" These *cross model relations* can now be made by referring to the offer URLs (included in the output above) as if they were applications in the local model: .. code:: juju add-relation -m site-a ceph-mon-a admin/site-b.ceph-rbd-mirror-b juju add-relation -m site-b ceph-mon-b admin/site-a.ceph-rbd-mirror-a Verify the output of ``juju status`` for both models (only partial output is shown): .. code:: juju status -m site-a Unit Workload Agent Machine Public address Ports Message ceph-mon-a/0* active idle 3 10.5.0.23 Unit is ready and clustered ceph-mon-a/1 active idle 4 10.5.0.5 Unit is ready and clustered ceph-mon-a/2 active idle 5 10.5.0.9 Unit is ready and clustered ceph-osd-a/0* active idle 0 10.5.0.19 Unit is ready (1 OSD) ceph-osd-a/1 active idle 1 10.5.0.7 Unit is ready (1 OSD) ceph-osd-a/2 active idle 2 10.5.0.10 Unit is ready (1 OSD) ceph-rbd-mirror-a/0* waiting idle 6 10.5.0.11 Waiting for pools to be created juju status -m site-b Unit Workload Agent Machine Public address Ports Message ceph-mon-b/0* active idle 3 10.5.0.29 Unit is ready and clustered ceph-mon-b/1 active idle 4 10.5.0.4 Unit is ready and clustered ceph-mon-b/2 active idle 5 10.5.0.8 Unit is ready and clustered ceph-osd-b/0* active idle 0 10.5.0.13 Unit is ready (1 OSD) ceph-osd-b/1 active idle 1 10.5.0.24 Unit is ready (1 OSD) ceph-osd-b/2 active idle 2 10.5.0.33 Unit is ready (1 OSD) Ceph-rbd-mirror-b/0* waiting idle 6 10.5.0.27 Waiting for pools to be created You're done. Minimal two-cluster test bundles can be found in the ``ceph-rbd-mirror`` charm's ``src/tests/bundles`` subdirectory. Examples include both clusters deployed in one model as well as in separate models. .. _ceph-rbd-mirror charm project page: https://opendev.org/openstack/charm-ceph-rbd-mirror/src/branch/master/src/README.md",326,196
openstack%2Fkuryr-kubernetes~master~Idd6383296723c41ed6f29715969c452ef3fcdb1f,openstack/kuryr-kubernetes,master,Idd6383296723c41ed6f29715969c452ef3fcdb1f,Guard against manually removing of KuryrPort CRD.,MERGED,2020-08-21 12:50:23.000000000,2020-08-28 22:12:02.000000000,2020-08-28 22:09:20.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-21 12:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/edf994391ececa59d190d1198152efa6eda1c6b8', 'message': 'Guard against manually removing of KuryrPort CRD.\n\nIt might happen, that operator would manually removing KuryrPort CRD\ncorresponding to the pod, and than pod would become broken  - there\nwould be no connectivity to it.\n\nIn this patch we prevent from removing KP, in case Pod is not in\ndeleting state. Now, it will defer the deletion till the Pod deletion.\n\nChange-Id: Idd6383296723c41ed6f29715969c452ef3fcdb1f\n'}, {'number': 2, 'created': '2020-08-25 09:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d76a4fef1ee790430925ea8dcabc8e70c7b4ddb2', 'message': 'Guard against manually removing of KuryrPort CRD.\n\nIt might happen, that operator would manually removing KuryrPort CRD\ncorresponding to the pod, and than pod would become broken  - there\nwould be no connectivity to it.\n\nIn this patch we prevent from removing KP, in case Pod is not in\ndeleting state. Now, it will defer the deletion till the Pod deletion.\n\nChange-Id: Idd6383296723c41ed6f29715969c452ef3fcdb1f\n'}, {'number': 3, 'created': '2020-08-27 09:50:45.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/98c78b75bb43c093039187612af05858c139a3b8', 'message': 'Guard against manually removing of KuryrPort CRD.\n\nIt might happen, that operator would manually removing KuryrPort CRD\ncorresponding to the pod, and than pod would become broken  - there\nwould be no connectivity to it.\n\nIn this patch we prevent from removing KP, in case Pod is not in\ndeleting state. Now, it will defer the deletion till the Pod deletion.\n\nChange-Id: Idd6383296723c41ed6f29715969c452ef3fcdb1f\n'}]",7,747399,98c78b75bb43c093039187612af05858c139a3b8,24,6,3,13692,,,0,"Guard against manually removing of KuryrPort CRD.

It might happen, that operator would manually removing KuryrPort CRD
corresponding to the pod, and than pod would become broken  - there
would be no connectivity to it.

In this patch we prevent from removing KP, in case Pod is not in
deleting state. Now, it will defer the deletion till the Pod deletion.

Change-Id: Idd6383296723c41ed6f29715969c452ef3fcdb1f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/747399/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py']",3,edf994391ececa59d190d1198152efa6eda1c6b8,kp-guard," try: kp = k8s.get(KURYRPORT_URI.format(ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) return if 'deletionTimestamp' in kp['metadata']: # NOTE(gryf): Seems like KP was manually removed. By using # annotations, force an emition of event to trigger on_finalize # method on the KuryrPort. try: k8s.annotate(kp['metadata']['selfLink'], {'KuryrTrigger': '1'}) except k_exc.K8sClientException: LOG.error('Cannot annotate existsing KuryrPort %s.', kp['metadata']['name']) k8s.remove_finalizer(pod, constants.POD_FINALIZER) else: try: k8s.delete(KURYRPORT_URI .format(ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) except k_exc.K8sResourceNotFound: k8s.remove_finalizer(pod, constants.POD_FINALIZER) except k_exc.K8sClientException: LOG.exception(""Could not remove KuryrPort CRD for pod %s."", pod['metadata']['name']) raise k_exc.ResourceNotReady(pod['metadata']['name'])"," try: k8s.delete(KURYRPORT_URI.format(ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) except k_exc.K8sClientException: LOG.exception(""Could not remove KuryrPort CRD for pod %s."", pod['metadata']['name']) raise k_exc.ResourceNotReady(pod['metadata']['name'])",47,6
openstack%2Fmanila~master~Id58a87b24b19e1d489fe808d11d59cc93df390f2,openstack/manila,master,Id58a87b24b19e1d489fe808d11d59cc93df390f2,Fix WsgiLimiterProxy check,MERGED,2020-08-27 17:31:42.000000000,2020-08-28 22:08:45.000000000,2020-08-28 22:07:05.000000000,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-27 17:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c04f0e60d06fef6e5384e36a0c3425d1c7e04b56', 'message': 'Fix WsgiLimiterProxy check\n\nThe code in the WsgiLimiterProxy checks the response\nfrom the proxy to be in the range [200, 299] to\ndetermine if an API request must be rate limited, but\nthe check currently corresponds to checking for <=200.\n\nThis may not have been consequential since a Proxy\nis not expected to set the ""X-Wait-Seconds"" header in\nthe response when there is nothing to delay - so, even\nwith this incorrect check, we weren\'t rate limiting\nincorrectly with a proxy that was setup correctly.\n\nChange-Id: Id58a87b24b19e1d489fe808d11d59cc93df390f2\nCloses-Bug: #1823750\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-27 17:45:45.000000000', 'files': ['manila/api/v1/limits.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/090d903b707e0dd84c7cd68cf15476356ce5a83f', 'message': 'Fix WsgiLimiterProxy check\n\nThe code in the WsgiLimiterProxy checks the response\nfrom the proxy to be in the range [200, 299] to\ndetermine if an API request must be rate limited, but\nthe check currently corresponds to checking for <=200.\n\nThis may not have been consequential since a Proxy\nis not expected to set the ""X-Wait-Seconds"" header in\nthe response when there is nothing to delay - so, even\nwith this incorrect check, we weren\'t rate limiting\nincorrectly with a proxy that was setup correctly.\n\nChange-Id: Id58a87b24b19e1d489fe808d11d59cc93df390f2\nCloses-Bug: #1823750\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,748493,090d903b707e0dd84c7cd68cf15476356ce5a83f,17,9,2,16643,,,0,"Fix WsgiLimiterProxy check

The code in the WsgiLimiterProxy checks the response
from the proxy to be in the range [200, 299] to
determine if an API request must be rate limited, but
the check currently corresponds to checking for <=200.

This may not have been consequential since a Proxy
is not expected to set the ""X-Wait-Seconds"" header in
the response when there is nothing to delay - so, even
with this incorrect check, we weren't rate limiting
incorrectly with a proxy that was setup correctly.

Change-Id: Id58a87b24b19e1d489fe808d11d59cc93df390f2
Closes-Bug: #1823750
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/748493/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/v1/limits.py'],1,c04f0e60d06fef6e5384e36a0c3425d1c7e04b56,bug/1823750, if 200 <= resp.status < 300:, if 200 >= resp.status < 300:,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I286ca5a7cb29b5a9a3d249dc190d8beac29f5863,openstack/tripleo-heat-templates,stable/ussuri,I286ca5a7cb29b5a9a3d249dc190d8beac29f5863,Re-enable driver agent for scenario 10,MERGED,2020-08-27 18:01:58.000000000,2020-08-28 21:43:44.000000000,2020-08-28 21:43:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-27 18:01:58.000000000', 'files': ['ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9913958822d8e90dfcdc460de6fc643dee90422e', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nCloses-Bug: #1887666\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}]",0,748499,9913958822d8e90dfcdc460de6fc643dee90422e,8,5,1,9592,,,0,"Re-enable driver agent for scenario 10

Flip to disabling the agent was only intended to be temporary so should
be re-enabled now.

Closes-Bug: #1887666

Change-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/748499/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-standalone.yaml'],1,9913958822d8e90dfcdc460de6fc643dee90422e,re-enable-ovn-provider-stable/ussuri,, OctaviaEnableDriverAgent: false,0,1
openstack%2Fneutron~master~I546d04373b475deef3a3c7fb2694da5a4fecaa26,openstack/neutron,master,I546d04373b475deef3a3c7fb2694da5a4fecaa26,Update IPv6 Prefix Delegation docs,MERGED,2020-08-24 15:10:20.000000000,2020-08-28 21:11:15.000000000,2020-08-28 21:08:38.000000000,"[{'_account_id': 1131}, {'_account_id': 5792}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-24 15:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1179b5056c41c96a55976ec21e353b557682596d', 'message': ""Update IPv6 Prefix Delegation docs\n\nThis patch removes part about neutron-pd-agent from the PD docs.\nThis agent was retired many cycles ago with [1] so we shouldn't mention\nabout that in our docs.\n\n[1] https://review.opendev.org/#/c/388919/\n\nChange-Id: I546d04373b475deef3a3c7fb2694da5a4fecaa26\n""}, {'number': 2, 'created': '2020-08-26 14:05:46.000000000', 'files': ['doc/source/admin/config-ipv6.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/513c3652b4ba6b35bb8d457b3630956174a9894f', 'message': ""Update IPv6 Prefix Delegation docs\n\nThis patch removes part about neutron-pd-agent from the PD docs.\nThis agent was retired many cycles ago with [1] so we shouldn't mention\nabout that in our docs.\n\n[1] https://review.opendev.org/#/c/388919/\n\nChange-Id: I546d04373b475deef3a3c7fb2694da5a4fecaa26\n""}]",3,747749,513c3652b4ba6b35bb8d457b3630956174a9894f,24,7,2,11975,,,0,"Update IPv6 Prefix Delegation docs

This patch removes part about neutron-pd-agent from the PD docs.
This agent was retired many cycles ago with [1] so we shouldn't mention
about that in our docs.

[1] https://review.opendev.org/#/c/388919/

Change-Id: I546d04373b475deef3a3c7fb2694da5a4fecaa26
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/747749/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-ipv6.rst'],1,1179b5056c41c96a55976ec21e353b557682596d,fix-pd-docs,," .. _extra-driver-conf: Extra configuration ------------------- Neutron dhcpv6_pd_agent ^^^^^^^^^^^^^^^^^^^^^^^ To enable the driver for the dhcpv6_pd_agent, set pd_dhcp_driver to this in ``/etc/neutron/neutron.conf``: .. code-block:: console pd_dhcp_driver = neutron_pd_agent To allow the neutron-pd-agent to communicate with prefix delegation servers, you must set which network interface to use for external communication. In DevStack the default for this is ``br-ex``: .. code-block:: console pd_interface = br-ex Once you have stacked run the command below to start the neutron-pd-agent: .. code-block:: console neutron-pd-agent --config-file /etc/neutron/neutron.conf",0,29
openstack%2Fneutron~stable%2Fussuri~I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,openstack/neutron,stable/ussuri,I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,Add 'keepalived_use_no_track' config option,MERGED,2020-08-25 07:54:03.000000000,2020-08-28 21:10:43.000000000,2020-08-28 21:08:32.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 07:54:03.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43079e3fc919abd15f6b352ccc38cc8b6218e9e9', 'message': 'Add \'keepalived_use_no_track\' config option\n\nPatch [1] added option ""no_track"" to the keepalived\'s config file which\nis generated by L3 agent in HA mode.\nThis was added to handle properly keepalived 2.x and interfaces which\nare in DOWN state in the backup nodes.\nBut this ""no_track"" option is not compatible with keepalived 1.x series\nwhich is available e.g. on Ubuntu 18.04.\n\nAs there is no easy way to check automatically if keepalived supports or\nnot this config flag, this patch introduces new config option\n""keepalived_use_no_track"".\nIf this config option will be set to False, neutron L3 agent will not\nadd ""no_track"" to the keepalived\'s config.\n\nAs master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x\nis already available, this new config option default value is set to\nTrue.\n\n[1] https://review.opendev.org/#/c/721799/\n\nChange-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b\nCloses-Bug: #1890400\n(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)\n'}]",0,747855,43079e3fc919abd15f6b352ccc38cc8b6218e9e9,21,4,1,11975,,,0,"Add 'keepalived_use_no_track' config option

Patch [1] added option ""no_track"" to the keepalived's config file which
is generated by L3 agent in HA mode.
This was added to handle properly keepalived 2.x and interfaces which
are in DOWN state in the backup nodes.
But this ""no_track"" option is not compatible with keepalived 1.x series
which is available e.g. on Ubuntu 18.04.

As there is no easy way to check automatically if keepalived supports or
not this config flag, this patch introduces new config option
""keepalived_use_no_track"".
If this config option will be set to False, neutron L3 agent will not
add ""no_track"" to the keepalived's config.

As master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x
is already available, this new config option default value is set to
True.

[1] https://review.opendev.org/#/c/721799/

Change-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b
Closes-Bug: #1890400
(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/747855/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py']",7,43079e3fc919abd15f6b352ccc38cc8b6218e9e9,bug/1890400-stable/ussuri," cfg.BoolOpt('keepalived_use_no_track', default=True, help=_('If keepalived without support for ""no_track"" option ' 'is used, this should be set to False. ' 'Support for this option was introduced in keepalived ' '2.x'))",,132,17
openstack%2Fneutron~master~Id24316f04e1ff619c8ce2fe475f873961cbb92e4,openstack/neutron,master,Id24316f04e1ff619c8ce2fe475f873961cbb92e4,Promote -uwsgi jobs to be gating,MERGED,2020-08-12 10:19:30.000000000,2020-08-28 21:09:32.000000000,2020-08-28 21:05:45.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-12 10:19:30.000000000', 'files': ['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3000f3c54161aecfbc89ddfca30a23441e40c8c1', 'message': 'Promote -uwsgi jobs to be gating\n\nUwsgi based jobs (functional, fullstack and tempest) are voting since\nsome time and are as stable as ""non-uwsgi"" onces.\nRecently on the CI meeting we decided to move ""non-uwsgi"" functional and\nfullstack jobs to be run only in periodic queue and promote ""uwsgi"" jobs\nto be gating also.\n\nChange-Id: Id24316f04e1ff619c8ce2fe475f873961cbb92e4\n'}]",0,745822,3000f3c54161aecfbc89ddfca30a23441e40c8c1,37,7,1,11975,,,0,"Promote -uwsgi jobs to be gating

Uwsgi based jobs (functional, fullstack and tempest) are voting since
some time and are as stable as ""non-uwsgi"" onces.
Recently on the CI meeting we decided to move ""non-uwsgi"" functional and
fullstack jobs to be run only in periodic queue and promote ""uwsgi"" jobs
to be gating also.

Change-Id: Id24316f04e1ff619c8ce2fe475f873961cbb92e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/745822/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",2,3000f3c54161aecfbc89ddfca30a23441e40c8c1,promote-uwsgi-jobs, |neutron-tempest-with-uwsgi |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes | | |tempest.scenario | | | | | | | | | |, |neutron-tempest-with-uwsgi |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | No | |(non-voting) |tempest.scenario | | | | | | | | | |,6,6
openstack%2Ftempest~master~I33e6abd416bbe5964a279f7969615ffd2974b4dd,openstack/tempest,master,I33e6abd416bbe5964a279f7969615ffd2974b4dd,Use of single interface for creating image,MERGED,2020-08-17 12:35:02.000000000,2020-08-28 21:07:50.000000000,2020-08-28 21:05:42.000000000,"[{'_account_id': 5690}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10118}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-08-17 12:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7725ae3723161fd8eee167858adb54a3ab95a04f', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nDepends-On: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 2, 'created': '2020-08-17 13:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22e17977f2c22a977e5ffa8409434b06ca3fcf42', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 3, 'created': '2020-08-18 06:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d112140b3341ccc1320d50d8c625e6f41f32a2ed', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nDepends-On: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 4, 'created': '2020-08-20 10:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/56694b894ce1554c108f0327bb50debf2c9f94a6', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nDepends-On: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 5, 'created': '2020-08-20 11:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbe5eef465eaa6230179f51e234644e65b647c8d', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nDepends-On: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 6, 'created': '2020-08-20 11:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec2341b9f79612eb2be6545b2f0ecbb2d78e3fd0', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 7, 'created': '2020-08-24 12:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dedeb20960b448bc6e9a9ba318b79f5e7cedec35', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 8, 'created': '2020-08-25 10:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/65de221b8b9e2e37d809ec2363542f9883317fcd', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 9, 'created': '2020-08-26 12:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5e355fbaa7728d75cd846e95d7d307c541f2161', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 10, 'created': '2020-08-27 07:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f63afac24de8d4ab9ac350fb2e695dfdf27c6c3d', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 11, 'created': '2020-08-27 11:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9cc6c7f734376ecf51f30c43562b22b14554fc29', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}, {'number': 12, 'created': '2020-08-28 06:52:24.000000000', 'files': ['tempest/scenario/test_minimum_basic.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_encrypted_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be8d510958ce25382a6c18034266b0b9f172a56b', 'message': ""Use of single interface for creating image\n\nWithin scenario manager, we had two methods for creating image\nthose are as follows:\n1. _image_create() - private interface which creates image\n2. glance_image_create() - public interface which uses the above\n   method eventually to create image\n\nHence, let's have single method for single work. Thus, we need to\nreplace '_image_create()' with 'image_create()'.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd\n""}]",17,746492,be8d510958ce25382a6c18034266b0b9f172a56b,47,17,12,30742,,,0,"Use of single interface for creating image

Within scenario manager, we had two methods for creating image
those are as follows:
1. _image_create() - private interface which creates image
2. glance_image_create() - public interface which uses the above
   method eventually to create image

Hence, let's have single method for single work. Thus, we need to
replace '_image_create()' with 'image_create()'.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I33e6abd416bbe5964a279f7969615ffd2974b4dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/746492/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_minimum_basic.py'],1,7725ae3723161fd8eee167858adb54a3ab95a04f,tempest-scenario-manager-stable, image = self.image_create() CONF.compute.build_interval):, image = self.glance_image_create() CONF.compute.build_interval):,2,2
openstack%2Fopenstack-helm-infra~master~I7259d23391ed31c423d74a8d9dc002e597adfb95,openstack/openstack-helm-infra,master,I7259d23391ed31c423d74a8d9dc002e597adfb95,fix(tls): addresses TLS issues with mariaDB exporter,MERGED,2020-08-28 17:45:07.000000000,2020-08-28 20:43:54.000000000,2020-08-28 20:42:12.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-28 17:45:07.000000000', 'files': ['mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/values.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/303d5e3108be9ead7c5b3dd83e787fe7bd599cf9', 'message': 'fix(tls): addresses TLS issues with mariaDB exporter\n\nThis patch fixes following issues:\n\n1. The existing envvar DATA_SOURCE_NAME overrides the setting specified\nin the mysql_user.cnf file, ignore setting placed there;\n\n2. Version 0.10 of the exporter does not support TLS, moving this to\nminimally 0.11; and\n\n3. Changed the host to the internal long name rather than the short\nname.\n\nChange-Id: I7259d23391ed31c423d74a8d9dc002e597adfb95\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,748728,303d5e3108be9ead7c5b3dd83e787fe7bd599cf9,16,10,1,20466,,,0,"fix(tls): addresses TLS issues with mariaDB exporter

This patch fixes following issues:

1. The existing envvar DATA_SOURCE_NAME overrides the setting specified
in the mysql_user.cnf file, ignore setting placed there;

2. Version 0.10 of the exporter does not support TLS, moving this to
minimally 0.11; and

3. Changed the host to the internal long name rather than the short
name.

Change-Id: I7259d23391ed31c423d74a8d9dc002e597adfb95
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/28/748728/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/monitoring/prometheus/secrets/_exporter_user.cnf.tpl', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'mariadb/values.yaml']",3,303d5e3108be9ead7c5b3dd83e787fe7bd599cf9,fix/tls, prometheus_mysql_exporter: docker.io/prom/mysqld-exporter:v0.11.0, prometheus_mysql_exporter: docker.io/prom/mysqld-exporter:v0.10.0,2,8
openstack%2Fcinder~master~I79362ee6b819c6472fa5e69ea1a85a1185dda5a3,openstack/cinder,master,I79362ee6b819c6472fa5e69ea1a85a1185dda5a3,Fix: show volume transfer by name for non-admins,MERGED,2020-06-19 15:26:24.000000000,2020-08-28 20:24:37.000000000,2020-08-28 18:35:04.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-06-19 15:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb69b2027c3c42b7400dee47902822abc3e6330c', 'message': ""Fix: show volume transfer by name for non-admins\n\nWhen we try to show a volume transfer as a non-admin, it doesn't work.\nThe problem is that the 'all_tenants' key isn't parsable by the DB,\nwe remove it for admins but not for non-admins.\nSince all_tenants is just used to redirect to the correct db method,\nit should be removed for non-admins as well.\n\nChange-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3\nCloses-Bug: #1884268\n""}, {'number': 2, 'created': '2020-06-19 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6f85b1efb51f17352b1b8d0de5d7942e6ff185d', 'message': ""Fix: show volume transfer by name for non-admins\n\nWhen we try to show a volume transfer as a non-admin, it doesn't work.\nThe problem is that the 'all_tenants' key isn't parsable by the DB,\nwe remove it for admins but not for non-admins.\nSince all_tenants is just used to redirect to the correct db method,\nit should be removed for non-admins as well.\n\nChange-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3\nCloses-Bug: #1884268\n""}, {'number': 3, 'created': '2020-06-19 16:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a36db296ac50f4a2dc990d87e9bfc67235a6d9e', 'message': ""Fix: show volume transfer by name for non-admins\n\nWhen we try to show a volume transfer as a non-admin, it doesn't work.\nThe problem is that the 'all_tenants' key isn't parsable by the DB,\nwe remove it for admins but not for non-admins.\nSince all_tenants is just used to redirect to the correct db method,\nit should be removed for non-admins as well.\n\nChange-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3\nCloses-Bug: #1884268\n""}, {'number': 4, 'created': '2020-08-03 07:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c47ac51140329d29ed95dab9db3790275a1efc9', 'message': ""Fix: show volume transfer by name for non-admins\n\nWhen we try to show a volume transfer as a non-admin, it doesn't work.\nThe problem is that the 'all_tenants' key isn't parsable by the DB,\nwe remove it for admins but not for non-admins.\nSince all_tenants is just used to redirect to the correct db method,\nit should be removed for non-admins as well.\n\nChange-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3\nCloses-Bug: #1884268\n""}, {'number': 5, 'created': '2020-08-03 07:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f803c4a7d3b9fb39489c0b9ccc00298e1badc048', 'message': ""Fix: show volume transfer by name for non-admins\n\nWhen we try to show a volume transfer as a non-admin, it doesn't work.\nThe problem is that the 'all_tenants' key isn't parsable by the DB,\nwe remove it for admins but not for non-admins.\nSince all_tenants is just used to redirect to the correct db method,\nit should be removed for non-admins as well.\n\nChange-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3\nCloses-Bug: #1884268\n""}, {'number': 6, 'created': '2020-08-03 12:46:31.000000000', 'files': ['cinder/tests/unit/test_volume_transfer.py', 'cinder/transfer/api.py', 'releasenotes/notes/fix-show-transfer-for-non-admins-be001d79975b325d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f733cdf2dcf014b4391ebd733693d3cbcb1f848', 'message': ""Fix: show volume transfer by name for non-admins\n\nWhen we try to show a volume transfer as a non-admin, it doesn't work.\nThe problem is that the 'all_tenants' key isn't parsable by the DB,\nwe remove it for admins but not for non-admins.\nSince all_tenants is just used to redirect to the correct db method,\nit should be removed for non-admins as well.\n\nChange-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3\nCloses-Bug: #1884268\n""}]",6,737035,1f733cdf2dcf014b4391ebd733693d3cbcb1f848,134,33,6,27615,,,0,"Fix: show volume transfer by name for non-admins

When we try to show a volume transfer as a non-admin, it doesn't work.
The problem is that the 'all_tenants' key isn't parsable by the DB,
we remove it for admins but not for non-admins.
Since all_tenants is just used to redirect to the correct db method,
it should be removed for non-admins as well.

Change-Id: I79362ee6b819c6472fa5e69ea1a85a1185dda5a3
Closes-Bug: #1884268
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/737035/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_volume_transfer.py', 'cinder/transfer/api.py']",2,cb69b2027c3c42b7400dee47902822abc3e6330c,bug/1884268,"from oslo_utils import strutils all_tenants = strutils.bool_from_string(filters.pop('all_tenants', None)) if context.is_admin and all_tenants:", if context.is_admin and 'all_tenants' in filters: del filters['all_tenants'],27,2
openstack%2Fkolla-ansible~master~Ic687d2f7d4625aede386e576ebb174da72142756,openstack/kolla-ansible,master,Ic687d2f7d4625aede386e576ebb174da72142756,Performance: remove one include_tasks in nova-cell,MERGED,2020-07-07 17:07:36.000000000,2020-08-28 20:04:49.000000000,2020-08-28 20:02:18.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 17:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da08b0e3822dea5bffcdca92dbcd40b074085b16', 'message': 'Performance: remove one include_tasks in nova-cell\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. The nova-cell role uses include_tasks twice when generating\ncertificates and keys for libvirt TLS. While a dynamic include makes\nsense here for a non-default feature, we can use one include rather than\ntwo with the same effect. Since this task runs against compute nodes the\noverhead is significant.\n\nSee [1] for benchmarks of include_tasks and import_tasks.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ic687d2f7d4625aede386e576ebb174da72142756\n'}, {'number': 2, 'created': '2020-07-28 11:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f68271c57222ce6d8b2bd910406aa2a1b0dca07b', 'message': 'Performance: remove one include_tasks in nova-cell\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. The nova-cell role uses include_tasks twice when generating\ncertificates and keys for libvirt TLS. While a dynamic include makes\nsense here for a non-default feature, we can use one include rather than\ntwo with the same effect. Since this task runs against compute nodes the\noverhead is significant.\n\nSee [1] for benchmarks of include_tasks and import_tasks.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ic687d2f7d4625aede386e576ebb174da72142756\n'}, {'number': 3, 'created': '2020-08-25 19:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f31268ad29c65d79b961bd6aa4bda511967dce3a', 'message': 'Performance: remove one include_tasks in nova-cell\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. The nova-cell role uses include_tasks twice when generating\ncertificates and keys for libvirt TLS. While a dynamic include makes\nsense here for a non-default feature, we can use one include rather than\ntwo with the same effect. Since this task runs against compute nodes the\noverhead is significant.\n\nSee [1] for benchmarks of include_tasks and import_tasks.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ic687d2f7d4625aede386e576ebb174da72142756\n'}, {'number': 4, 'created': '2020-08-28 16:16:56.000000000', 'files': ['ansible/roles/nova-cell/tasks/config-libvirt-tls.yml', 'ansible/roles/nova-cell/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c02c966cb8b07462538bbdba0b7deed4cb40a90', 'message': 'Performance: remove one include_tasks in nova-cell\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. The nova-cell role uses include_tasks twice when generating\ncertificates and keys for libvirt TLS. While a dynamic include makes\nsense here for a non-default feature, we can use one include rather than\ntwo with the same effect. Since this task runs against compute nodes the\noverhead is significant.\n\nSee [1] for benchmarks of include_tasks and import_tasks.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ic687d2f7d4625aede386e576ebb174da72142756\n'}]",0,739820,3c02c966cb8b07462538bbdba0b7deed4cb40a90,24,6,4,14826,,,0,"Performance: remove one include_tasks in nova-cell

Including tasks has a performance penalty when compared with importing
tasks. The nova-cell role uses include_tasks twice when generating
certificates and keys for libvirt TLS. While a dynamic include makes
sense here for a non-default feature, we can use one include rather than
two with the same effect. Since this task runs against compute nodes the
overhead is significant.

See [1] for benchmarks of include_tasks and import_tasks.

[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md

Partially-Implements: blueprint performance-improvements

Change-Id: Ic687d2f7d4625aede386e576ebb174da72142756
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/739820/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/config-libvirt-tls.yml', 'ansible/roles/nova-cell/tasks/config.yml']",2,da08b0e3822dea5bffcdca92dbcd40b074085b16,bp/performance-improvements,- name: Copying over libvirt TLS keys when:,"- name: Copying over libvirt TLS keys (nova-libvirt) vars: service: ""{{ nova_cell_services['nova-libvirt'] }}"" service_name: nova-libvirt file: ""{{ item }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: - cacert.pem - servercert.pem - serverkey.pem - clientcert.pem - clientkey.pem - name: Copying over libvirt TLS keys (nova-compute) include_tasks: config-libvirt-tls.yml vars: service: ""{{ nova_cell_services['nova-compute'] }}"" service_name: nova-compute file: ""{{ item }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool - libvirt_tls | bool - libvirt_tls_manage_certs | bool with_items: - cacert.pem - clientcert.pem - clientkey.pem",41,37
openstack%2Fkolla-ansible~master~Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97,openstack/kolla-ansible,master,Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97,Performance: replace unconditional include_tasks with import_tasks,MERGED,2020-07-02 17:14:56.000000000,2020-08-28 20:00:54.000000000,2020-08-28 19:58:56.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 29543}, {'_account_id': 30491}, {'_account_id': 31506}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-07-02 17:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd78add9392df0b70850d990eaa7e703d89b599f', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}, {'number': 2, 'created': '2020-07-07 14:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/183ec52d3d36b7d4238bf0f8c2b43c9936b9e1dc', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}, {'number': 3, 'created': '2020-07-07 14:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1cc5b79e9a4d057e42fe6d3ce8a3fd2b7bde0a5f', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}, {'number': 4, 'created': '2020-07-28 11:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d61992368dcea5fe62a51ca79ab0d6586131ab2', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}, {'number': 5, 'created': '2020-08-25 19:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e9f2d1afd809bd2e0900483eaccc24b44a9de67', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}, {'number': 6, 'created': '2020-08-28 16:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0923f2ade1412940c7827f4c8330c18ccddb7578', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}, {'number': 7, 'created': '2020-08-28 16:12:03.000000000', 'files': ['ansible/roles/etcd/tasks/upgrade.yml', 'ansible/roles/barbican/tasks/reconfigure.yml', 'ansible/roles/searchlight/tasks/bootstrap.yml', 'ansible/roles/telegraf/tasks/reconfigure.yml', 'ansible/roles/magnum/tasks/upgrade.yml', 'ansible/roles/ceilometer/tasks/upgrade.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/reconfigure.yml', 'ansible/roles/etcd/tasks/deploy.yml', 'ansible/roles/tacker/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/upgrade.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/tempest/tasks/upgrade.yml', 'ansible/roles/ironic/tasks/legacy_upgrade.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/telegraf/tasks/deploy.yml', 'ansible/roles/searchlight/tasks/upgrade.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/trove/tasks/reconfigure.yml', 'ansible/roles/solum/tasks/upgrade.yml', 'ansible/roles/watcher/tasks/reconfigure.yml', 'ansible/roles/rally/tasks/upgrade.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/iscsi/tasks/upgrade.yml', 'ansible/roles/barbican/tasks/upgrade.yml', 'ansible/roles/solum/tasks/reconfigure.yml', 'ansible/roles/blazar/tasks/reconfigure.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/qinling/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/upgrade.yml', 'ansible/roles/zun/tasks/reconfigure.yml', 'ansible/roles/sahara/tasks/upgrade.yml', 'ansible/roles/redis/tasks/deploy.yml', 'ansible/roles/horizon/tasks/deploy.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/rally/tasks/reconfigure.yml', 'ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/monasca/tasks/reconfigure.yml', 'ansible/roles/trove/tasks/upgrade.yml', 'ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/upgrade.yml', 'ansible/roles/searchlight/tasks/deploy.yml', 'ansible/roles/storm/tasks/reconfigure.yml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/gnocchi/tasks/reconfigure.yml', 'ansible/roles/rally/tasks/deploy.yml', 'ansible/roles/iscsi/tasks/deploy.yml', 'ansible/roles/chrony/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/elasticsearch/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/ovs-dpdk/tasks/upgrade.yml', 'ansible/roles/cinder/tasks/reconfigure.yml', 'ansible/roles/kafka/tasks/upgrade.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/heat/tasks/reconfigure.yml', 'ansible/roles/ovn/tasks/upgrade.yml', 'ansible/roles/panko/tasks/upgrade.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/influxdb/tasks/reconfigure.yml', 'ansible/roles/vitrage/tasks/reconfigure.yml', 'ansible/roles/zookeeper/tasks/deploy.yml', 'ansible/roles/openvswitch/tasks/upgrade.yml', 'ansible/roles/chrony/tasks/deploy.yml', 'ansible/roles/ovn/tasks/reconfigure.yml', 'ansible/roles/tacker/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/rolling_upgrade.yml', 'ansible/roles/zookeeper/tasks/upgrade.yml', 'ansible/roles/redis/tasks/upgrade.yml', 'ansible/roles/cloudkitty/tasks/upgrade.yml', 'ansible/roles/qdrouterd/tasks/upgrade.yml', 'ansible/roles/swift/tasks/rolling_upgrade.yml', 'ansible/roles/iscsi/tasks/reconfigure.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/common/tasks/reconfigure.yml', 'ansible/roles/murano/tasks/upgrade.yml', 'ansible/roles/ovs-dpdk/tasks/deploy.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/common/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/prechecks/tasks/main.yml', 'ansible/roles/vmtp/tasks/reconfigure.yml', 'ansible/roles/horizon/tasks/reconfigure.yml', 'ansible/roles/octavia/tasks/upgrade.yml', 'ansible/roles/rabbitmq/tasks/deploy.yml', 'ansible/roles/influxdb/tasks/deploy.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/upgrade.yml', 'ansible/roles/manila/tasks/upgrade.yml', 'ansible/roles/panko/tasks/deploy.yml', 'ansible/roles/chrony/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/upgrade.yml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/ovs-dpdk/tasks/reconfigure.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/karbor/tasks/reconfigure.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/prometheus/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml', 'ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/prometheus/tasks/upgrade.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/octavia/tasks/reconfigure.yml', 'ansible/roles/mariadb/tasks/upgrade.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/swift/tasks/reconfigure.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml', 'ansible/roles/placement/tasks/bootstrap.yml', 'ansible/roles/magnum/tasks/reconfigure.yml', 'ansible/roles/skydive/tasks/reconfigure.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/masakari/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/zookeeper/tasks/reconfigure.yml', 'ansible/roles/kuryr/tasks/deploy.yml', 'ansible/roles/kuryr/tasks/reconfigure.yml', 'ansible/roles/tempest/tasks/deploy.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/roles/etcd/tasks/reconfigure.yml', 'ansible/roles/collectd/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/placement/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/reconfigure.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/telegraf/tasks/upgrade.yml', 'ansible/roles/vmtp/tasks/upgrade.yml', 'ansible/roles/haproxy/tasks/deploy.yml', 'ansible/roles/aodh/tasks/reconfigure.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/searchlight/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/legacy_upgrade.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/collectd/tasks/upgrade.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/reconfigure.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/haproxy/tasks/reconfigure.yml', 'ansible/roles/storm/tasks/upgrade.yml', 'ansible/roles/mistral/tasks/reconfigure.yml', 'ansible/roles/freezer/tasks/upgrade.yml', 'ansible/roles/baremetal/tasks/bootstrap-servers.yml', 'ansible/roles/openvswitch/tasks/deploy.yml', 'ansible/roles/qdrouterd/tasks/deploy.yml', 'ansible/roles/zun/tasks/upgrade.yml', 'ansible/roles/kibana/tasks/reconfigure.yml', 'ansible/roles/qdrouterd/tasks/reconfigure.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/deploy.yml', 'ansible/roles/kuryr/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/reconfigure.yml', 'ansible/roles/memcached/tasks/upgrade.yml', 'ansible/roles/horizon/tasks/upgrade.yml', 'ansible/roles/qinling/tasks/reconfigure.yml', 'ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/tempest/tasks/reconfigure.yml', 'ansible/roles/rabbitmq/tasks/upgrade.yml', 'ansible/roles/senlin/tasks/reconfigure.yml', 'ansible/roles/kafka/tasks/deploy.yml', 'ansible/roles/grafana/tasks/reconfigure.yml', 'ansible/roles/influxdb/tasks/upgrade.yml', 'ansible/roles/swift/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/bifrost/tasks/upgrade.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/reconfigure.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/storm/tasks/deploy.yml', 'ansible/roles/redis/tasks/reconfigure.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/reconfigure.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/deploy.yml', 'ansible/roles/neutron/tasks/legacy_upgrade.yml', 'ansible/roles/grafana/tasks/deploy.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/reconfigure.yml', 'ansible/roles/magnum/tasks/deploy.yml', 'ansible/roles/panko/tasks/reconfigure.yml', 'ansible/roles/common/tasks/upgrade.yml', 'ansible/roles/senlin/tasks/upgrade.yml', 'ansible/roles/skydive/tasks/upgrade.yml', 'ansible/roles/masakari/tasks/upgrade.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/kafka/tasks/reconfigure.yml', 'ansible/roles/nova/tasks/deploy.yml', 'ansible/roles/manila/tasks/reconfigure.yml', 'ansible/roles/qinling/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/reconfigure.yml', 'ansible/roles/placement/tasks/deploy.yml', 'ansible/roles/multipathd/tasks/upgrade.yml', 'ansible/roles/memcached/tasks/deploy.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/deploy.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/elasticsearch/tasks/reconfigure.yml', 'ansible/roles/multipathd/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/reconfigure.yml', 'ansible/roles/prune-images/tasks/main.yml', 'ansible/roles/murano/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/rolling_upgrade.yml', 'ansible/roles/watcher/tasks/upgrade.yml', 'ansible/roles/freezer/tasks/reconfigure.yml', 'ansible/roles/multipathd/tasks/reconfigure.yml', 'ansible/roles/memcached/tasks/reconfigure.yml', 'ansible/roles/prometheus/tasks/reconfigure.yml', 'ansible/roles/rabbitmq/tasks/reconfigure.yml', 'ansible/roles/freezer/tasks/bootstrap.yml', 'ansible/roles/openvswitch/tasks/reconfigure.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/upgrade.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/collectd/tasks/deploy.yml', 'ansible/roles/nova-cell/tasks/deploy.yml', 'ansible/roles/nova/tasks/reconfigure.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/kibana/tasks/upgrade.yml', 'ansible/roles/bifrost/tasks/reconfigure.yml', 'ansible/roles/cyborg/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/ironic/tasks/reconfigure.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/kibana/tasks/deploy.yml', 'ansible/roles/masakari/tasks/reconfigure.yml', 'ansible/roles/ceilometer/tasks/bootstrap.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/swift/tasks/legacy_upgrade.yml', 'ansible/roles/cyborg/tasks/upgrade.yml', 'ansible/roles/gnocchi/tasks/upgrade.yml', 'ansible/roles/vitrage/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b685ac44e06722680cea840b6922977071f8bf7c', 'message': 'Performance: replace unconditional include_tasks with import_tasks\n\nIncluding tasks has a performance penalty when compared with importing\ntasks. If the include has a condition associated with it, then the\noverhead of the include may be lower than the overhead of skipping all\nimported tasks. For unconditionally included tasks, switching to\nimport_tasks provides a clear benefit.\n\nBenchmarking of include vs. import is available at [1].\n\nThis change switches from include_tasks to import_tasks where there is\nno condition applied to the include.\n\n[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97\n'}]",0,739109,b685ac44e06722680cea840b6922977071f8bf7c,35,8,7,14826,,,0,"Performance: replace unconditional include_tasks with import_tasks

Including tasks has a performance penalty when compared with importing
tasks. If the include has a condition associated with it, then the
overhead of the include may be lower than the overhead of skipping all
imported tasks. For unconditionally included tasks, switching to
import_tasks provides a clear benefit.

Benchmarking of include vs. import is available at [1].

This change switches from include_tasks to import_tasks where there is
no condition applied to the include.

[1] https://github.com/stackhpc/ansible-scaling/blob/master/doc/include-and-import.md#task-include-and-import

Partially-Implements: blueprint performance-improvements

Change-Id: Ia45af4a198e422773d9f009c7f7b2e32ce9e3b97
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/739109/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/etcd/tasks/upgrade.yml', 'ansible/roles/barbican/tasks/reconfigure.yml', 'ansible/roles/searchlight/tasks/bootstrap.yml', 'ansible/roles/telegraf/tasks/reconfigure.yml', 'ansible/roles/magnum/tasks/upgrade.yml', 'ansible/roles/ceilometer/tasks/upgrade.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/reconfigure.yml', 'ansible/roles/etcd/tasks/deploy.yml', 'ansible/roles/tacker/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/upgrade.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/tempest/tasks/upgrade.yml', 'ansible/roles/ironic/tasks/legacy_upgrade.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/telegraf/tasks/deploy.yml', 'ansible/roles/searchlight/tasks/upgrade.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/trove/tasks/reconfigure.yml', 'ansible/roles/solum/tasks/upgrade.yml', 'ansible/roles/watcher/tasks/reconfigure.yml', 'ansible/roles/rally/tasks/upgrade.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/iscsi/tasks/upgrade.yml', 'ansible/roles/barbican/tasks/upgrade.yml', 'ansible/roles/solum/tasks/reconfigure.yml', 'ansible/roles/blazar/tasks/reconfigure.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/qinling/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/upgrade.yml', 'ansible/roles/zun/tasks/reconfigure.yml', 'ansible/roles/sahara/tasks/upgrade.yml', 'ansible/roles/redis/tasks/deploy.yml', 'ansible/roles/horizon/tasks/deploy.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/rally/tasks/reconfigure.yml', 'ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/monasca/tasks/reconfigure.yml', 'ansible/roles/trove/tasks/upgrade.yml', 'ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/upgrade.yml', 'ansible/roles/searchlight/tasks/deploy.yml', 'ansible/roles/storm/tasks/reconfigure.yml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/gnocchi/tasks/reconfigure.yml', 'ansible/roles/rally/tasks/deploy.yml', 'ansible/roles/iscsi/tasks/deploy.yml', 'ansible/roles/chrony/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/elasticsearch/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/ovs-dpdk/tasks/upgrade.yml', 'ansible/roles/cinder/tasks/reconfigure.yml', 'ansible/roles/kafka/tasks/upgrade.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/heat/tasks/reconfigure.yml', 'ansible/roles/ovn/tasks/upgrade.yml', 'ansible/roles/panko/tasks/upgrade.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/influxdb/tasks/reconfigure.yml', 'ansible/roles/vitrage/tasks/reconfigure.yml', 'ansible/roles/zookeeper/tasks/deploy.yml', 'ansible/roles/openvswitch/tasks/upgrade.yml', 'ansible/roles/chrony/tasks/deploy.yml', 'ansible/roles/ovn/tasks/reconfigure.yml', 'ansible/roles/tacker/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/rolling_upgrade.yml', 'ansible/roles/zookeeper/tasks/upgrade.yml', 'ansible/roles/redis/tasks/upgrade.yml', 'ansible/roles/cloudkitty/tasks/upgrade.yml', 'ansible/roles/qdrouterd/tasks/upgrade.yml', 'ansible/roles/swift/tasks/rolling_upgrade.yml', 'ansible/roles/iscsi/tasks/reconfigure.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/common/tasks/reconfigure.yml', 'ansible/roles/murano/tasks/upgrade.yml', 'ansible/roles/ovs-dpdk/tasks/deploy.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/common/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/prechecks/tasks/main.yml', 'ansible/roles/vmtp/tasks/reconfigure.yml', 'ansible/roles/horizon/tasks/reconfigure.yml', 'ansible/roles/octavia/tasks/upgrade.yml', 'ansible/roles/rabbitmq/tasks/deploy.yml', 'ansible/roles/influxdb/tasks/deploy.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/upgrade.yml', 'ansible/roles/manila/tasks/upgrade.yml', 'ansible/roles/panko/tasks/deploy.yml', 'ansible/roles/chrony/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/upgrade.yml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/ovs-dpdk/tasks/reconfigure.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/karbor/tasks/reconfigure.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/prometheus/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml', 'ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/prometheus/tasks/upgrade.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/octavia/tasks/reconfigure.yml', 'ansible/roles/mariadb/tasks/upgrade.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/swift/tasks/reconfigure.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml', 'ansible/roles/placement/tasks/bootstrap.yml', 'ansible/roles/magnum/tasks/reconfigure.yml', 'ansible/roles/skydive/tasks/reconfigure.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/masakari/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/zookeeper/tasks/reconfigure.yml', 'ansible/roles/kuryr/tasks/deploy.yml', 'ansible/roles/kuryr/tasks/reconfigure.yml', 'ansible/roles/tempest/tasks/deploy.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/roles/etcd/tasks/reconfigure.yml', 'ansible/roles/collectd/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/placement/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/reconfigure.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/telegraf/tasks/upgrade.yml', 'ansible/roles/vmtp/tasks/upgrade.yml', 'ansible/roles/haproxy/tasks/deploy.yml', 'ansible/roles/aodh/tasks/reconfigure.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/searchlight/tasks/reconfigure.yml', 'ansible/roles/glance/tasks/legacy_upgrade.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/collectd/tasks/upgrade.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/reconfigure.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/haproxy/tasks/reconfigure.yml', 'ansible/roles/storm/tasks/upgrade.yml', 'ansible/roles/mistral/tasks/reconfigure.yml', 'ansible/roles/freezer/tasks/upgrade.yml', 'ansible/roles/baremetal/tasks/bootstrap-servers.yml', 'ansible/roles/openvswitch/tasks/deploy.yml', 'ansible/roles/qdrouterd/tasks/deploy.yml', 'ansible/roles/zun/tasks/upgrade.yml', 'ansible/roles/kibana/tasks/reconfigure.yml', 'ansible/roles/qdrouterd/tasks/reconfigure.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/deploy.yml', 'ansible/roles/kuryr/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/reconfigure.yml', 'ansible/roles/memcached/tasks/upgrade.yml', 'ansible/roles/horizon/tasks/upgrade.yml', 'ansible/roles/qinling/tasks/reconfigure.yml', 'ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/tempest/tasks/reconfigure.yml', 'ansible/roles/rabbitmq/tasks/upgrade.yml', 'ansible/roles/senlin/tasks/reconfigure.yml', 'ansible/roles/kafka/tasks/deploy.yml', 'ansible/roles/grafana/tasks/reconfigure.yml', 'ansible/roles/influxdb/tasks/upgrade.yml', 'ansible/roles/swift/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/bifrost/tasks/upgrade.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/reconfigure.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/storm/tasks/deploy.yml', 'ansible/roles/redis/tasks/reconfigure.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/reconfigure.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/deploy.yml', 'ansible/roles/neutron/tasks/legacy_upgrade.yml', 'ansible/roles/grafana/tasks/deploy.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/reconfigure.yml', 'ansible/roles/magnum/tasks/deploy.yml', 'ansible/roles/panko/tasks/reconfigure.yml', 'ansible/roles/common/tasks/upgrade.yml', 'ansible/roles/senlin/tasks/upgrade.yml', 'ansible/roles/skydive/tasks/upgrade.yml', 'ansible/roles/masakari/tasks/upgrade.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/kafka/tasks/reconfigure.yml', 'ansible/roles/nova/tasks/deploy.yml', 'ansible/roles/manila/tasks/reconfigure.yml', 'ansible/roles/qinling/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/reconfigure.yml', 'ansible/roles/placement/tasks/deploy.yml', 'ansible/roles/multipathd/tasks/upgrade.yml', 'ansible/roles/memcached/tasks/deploy.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/deploy.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/nova-hyperv/tasks/reconfigure.yml', 'ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/elasticsearch/tasks/reconfigure.yml', 'ansible/roles/multipathd/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/reconfigure.yml', 'ansible/roles/prune-images/tasks/main.yml', 'ansible/roles/murano/tasks/reconfigure.yml', 'ansible/roles/ironic/tasks/rolling_upgrade.yml', 'ansible/roles/watcher/tasks/upgrade.yml', 'ansible/roles/freezer/tasks/reconfigure.yml', 'ansible/roles/multipathd/tasks/reconfigure.yml', 'ansible/roles/memcached/tasks/reconfigure.yml', 'ansible/roles/prometheus/tasks/reconfigure.yml', 'ansible/roles/rabbitmq/tasks/reconfigure.yml', 'ansible/roles/freezer/tasks/bootstrap.yml', 'ansible/roles/openvswitch/tasks/reconfigure.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/upgrade.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/collectd/tasks/deploy.yml', 'ansible/roles/nova-cell/tasks/deploy.yml', 'ansible/roles/nova/tasks/reconfigure.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/kibana/tasks/upgrade.yml', 'ansible/roles/bifrost/tasks/reconfigure.yml', 'ansible/roles/cyborg/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/ironic/tasks/reconfigure.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/kibana/tasks/deploy.yml', 'ansible/roles/masakari/tasks/reconfigure.yml', 'ansible/roles/ceilometer/tasks/bootstrap.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/swift/tasks/legacy_upgrade.yml', 'ansible/roles/cyborg/tasks/upgrade.yml', 'ansible/roles/gnocchi/tasks/upgrade.yml', 'ansible/roles/vitrage/tasks/upgrade.yml']",254,fd78add9392df0b70850d990eaa7e703d89b599f,bp/performance-improvements,- import_tasks: config.yml - import_tasks: bootstrap_service.yml,- include_tasks: config.yml - include_tasks: bootstrap_service.yml,351,351
openstack%2Foslo.messaging~master~I51cf67e060f240e6eb82260e70a057fe599f9063,openstack/oslo.messaging,master,I51cf67e060f240e6eb82260e70a057fe599f9063,Add a ping endpoint to RPC dispatcher,MERGED,2020-06-12 19:05:37.000000000,2020-08-28 19:59:26.000000000,2020-08-28 19:55:30.000000000,"[{'_account_id': 308}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 7321}, {'_account_id': 8770}, {'_account_id': 11583}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 17068}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 29364}]","[{'number': 1, 'created': '2020-06-12 19:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5780b6107c5186179cdbb48cb189bb875e478d45', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 2, 'created': '2020-06-15 08:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2eec739bddad20bb0599c393033aba9eada5c832', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 3, 'created': '2020-07-02 15:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1905255fbbbbf77511c56543be9cc7ec2543f554', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 4, 'created': '2020-07-03 07:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e4fb55bea58860893295b723c460cd398d53e431', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 5, 'created': '2020-07-06 15:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2f82334a6f410836a58913a54146e2e5eb8ce2c8', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 6, 'created': '2020-07-07 07:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4f52bca1e0b2fc12e3c1b625d00bc5b18b206a92', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 7, 'created': '2020-08-18 13:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8b3ee79cf4a9df2235545573c2da74610e598d0e', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 8, 'created': '2020-08-18 13:10:02.000000000', 'files': ['oslo_messaging/tests/rpc/test_dispatcher.py', 'oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/opts.py', 'releasenotes/notes/add-ping-endpoint.yaml', 'oslo_messaging/conffixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/82492442f3387a0e4f19623ccfda64f8b84d59c3', 'message': 'Add a ping endpoint to RPC dispatcher\n\nThe purpose of this patch is to add an endpoint directly in RPC\ndispatcher, so this endpoint will always be available, in a cross\nproject manner, without the need for projects to manage it by themself.\n\nThis endpoint stay disabled by default, so this change is harmless\nwithout a specific configuration option.\n\nTo enable this ping endpoint, an operator will just have to add a new\nparameter in the [DEFAULT] section, alongside with rpc_response_timeout\n[DEFAULT]\nrpc_ping_enabled=true  # default is false\n\nThe purpose of this new endpoint is to help operators do a RPC call (a\nping) toward a specific RPC callback (e.g. a nova-compute, or a\nneutron-agent).\nThis is helping a lot for monitoring agents (for example, if agents are\ndeployed in a kubernetes pod).\n\nThe endpoint is named oslo_rpc_server_ping.\n\nChange-Id: I51cf67e060f240e6eb82260e70a057fe599f9063\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}]",12,735385,82492442f3387a0e4f19623ccfda64f8b84d59c3,45,17,8,11583,,,0,"Add a ping endpoint to RPC dispatcher

The purpose of this patch is to add an endpoint directly in RPC
dispatcher, so this endpoint will always be available, in a cross
project manner, without the need for projects to manage it by themself.

This endpoint stay disabled by default, so this change is harmless
without a specific configuration option.

To enable this ping endpoint, an operator will just have to add a new
parameter in the [DEFAULT] section, alongside with rpc_response_timeout
[DEFAULT]
rpc_ping_enabled=true  # default is false

The purpose of this new endpoint is to help operators do a RPC call (a
ping) toward a specific RPC callback (e.g. a nova-compute, or a
neutron-agent).
This is helping a lot for monitoring agents (for example, if agents are
deployed in a kubernetes pod).

The endpoint is named oslo_rpc_server_ping.

Change-Id: I51cf67e060f240e6eb82260e70a057fe599f9063
Signed-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/85/735385/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/opts.py']",2,5780b6107c5186179cdbb48cb189bb875e478d45,dev/am/ping,"from oslo_messaging.rpc import dispatcher dispatcher._dispatcher_opts,",,20,0
openstack%2Fcharm-ceph-osd~master~I028440002cdd36be13aaee4a0f50c6a0bca7abda,openstack/charm-ceph-osd,master,I028440002cdd36be13aaee4a0f50c6a0bca7abda,Add BlueStore Compression support,MERGED,2020-08-03 08:49:30.000000000,2020-08-28 19:26:46.000000000,2020-08-28 13:07:15.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-03 08:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/ca7bed7e9db28971903c63aa8ba2effc9b4e60d9', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 2, 'created': '2020-08-04 09:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8a1e5a449631a414e1da71f617f959b77d8d70ea', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 3, 'created': '2020-08-04 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/7f0a42895b01b69c4c417714ceda5687e6ef6029', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 4, 'created': '2020-08-04 13:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/5105feab2a34d21390b6d8a4c8b858a2ad051978', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 5, 'created': '2020-08-04 14:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b9efb8abbfcc1d443fa9be70edce36f3349ac496', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 6, 'created': '2020-08-26 13:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/dccf23748ed7ebb19a20e0998f8f46947cbbb181', 'message': 'Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nDepends-On: I153c22efb952fc38c5e3d36eed5d85c953e695f7\nDepends-On: Ibec4e3221387199adbc1a920e130975d7b25343c\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 7, 'created': '2020-08-26 14:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/de11a0849a8a260a28974ba36a64b223d731c8b7', 'message': 'Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nDepends-On: I153c22efb952fc38c5e3d36eed5d85c953e695f7\nDepends-On: Ibec4e3221387199adbc1a920e130975d7b25343c\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 8, 'created': '2020-08-26 14:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/5e94447271df75e94a28acc1e18b090d4e7f696a', 'message': 'Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nDepends-On: I153c22efb952fc38c5e3d36eed5d85c953e695f7\nDepends-On: Ibec4e3221387199adbc1a920e130975d7b25343c\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}, {'number': 9, 'created': '2020-08-26 14:32:31.000000000', 'files': ['hooks/utils.py', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'templates/ceph.conf', 'lib/charms_ceph/broker.py', 'config.yaml', 'unit_tests/test_status.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-ceph-bluestore-compression'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b49468fc10a923d011547a9990580191b0969b77', 'message': 'Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nDepends-On: I153c22efb952fc38c5e3d36eed5d85c953e695f7\nDepends-On: Ibec4e3221387199adbc1a920e130975d7b25343c\nChange-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda\n'}]",3,744417,b49468fc10a923d011547a9990580191b0969b77,34,4,9,13686,,,0,"Add BlueStore Compression support

Sync in updates from charm-helpers and charms.ceph.

Depends-On: I153c22efb952fc38c5e3d36eed5d85c953e695f7
Depends-On: Ibec4e3221387199adbc1a920e130975d7b25343c
Change-Id: I028440002cdd36be13aaee4a0f50c6a0bca7abda
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/17/744417/9 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/storage/linux/ceph.py', 'lib/charms_ceph/broker.py']",2,ca7bed7e9db28971903c63aa8ba2effc9b4e60d9,ceph-bluestore-compression,"from subprocess import check_call, check_output, CalledProcessError try: pool = ErasurePool(service=service, op=request) except KeyError: msg = ""Missing parameter."" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} # Set/update properties that are allowed to change after pool creation. pool.update() # NOTE: Check this against the handling in the Pool classes, reconcile and # remove. replicas = request.get('replicas') request.update({'pg_num': pg_num}) try: pool = ReplicatedPool(service=service, op=request) except KeyError: msg = ""Missing parameter."" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} # Set/update properties that are allowed to change after pool creation. pool.update()"," set_pool_quota,from subprocess import check_call, check_output, CalledProcessError max_bytes = request.get('max-bytes') max_objects = request.get('max-objects') weight = request.get('weight') app_name = request.get('app-name') # Check for missing params if pool_name is None: msg = ""Missing parameter. name is required for the pool"" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} pool = ErasurePool(service=service, name=pool_name, erasure_code_profile=erasure_profile, percent_data=weight, app_name=app_name) # Set a quota if requested if max_bytes or max_objects: set_pool_quota(service=service, pool_name=pool_name, max_bytes=max_bytes, max_objects=max_objects) replicas = request.get('replicas') max_bytes = request.get('max-bytes') max_objects = request.get('max-objects') weight = request.get('weight') app_name = request.get('app-name') # Check for missing params if pool_name is None or replicas is None: msg = ""Missing parameter. name and replicas are required"" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} kwargs = {} if pg_num: kwargs['pg_num'] = pg_num if weight: kwargs['percent_data'] = weight if replicas: kwargs['replicas'] = replicas if app_name: kwargs['app_name'] = app_name pool = ReplicatedPool(service=service, name=pool_name, **kwargs) # Set a quota if requested if max_bytes or max_objects: set_pool_quota(service=service, pool_name=pool_name, max_bytes=max_bytes, max_objects=max_objects)",787,449
openstack%2Fpython-tripleoclient~master~I5fc2da4e6762d9da69b6102598a9ae6c76cd7aa1,openstack/python-tripleoclient,master,I5fc2da4e6762d9da69b6102598a9ae6c76cd7aa1,WIP support rootless standalone,ABANDONED,2020-08-17 20:30:45.000000000,2020-08-28 19:25:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-17 20:30:45.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9a5085eab2a35c7c44339b6a7681b08f1d276da', 'message': 'WIP support rootless standalone\n\nHighly WIP for now, need to figure out:\n\n- puppet modules symlinks, do we still need it? if yes can it be moved\n  to deploy tasks with become: true?\n- heat launcher uses mount with options and also with target type,\n  because we use tmpfs for now.\n\nChange-Id: I5fc2da4e6762d9da69b6102598a9ae6c76cd7aa1\n'}]",0,746598,a9a5085eab2a35c7c44339b6a7681b08f1d276da,3,1,1,3153,,,0,"WIP support rootless standalone

Highly WIP for now, need to figure out:

- puppet modules symlinks, do we still need it? if yes can it be moved
  to deploy tasks with become: true?
- heat launcher uses mount with options and also with target type,
  because we use tmpfs for now.

Change-Id: I5fc2da4e6762d9da69b6102598a9ae6c76cd7aa1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/746598/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/heat_launcher.py']",3,a9a5085eab2a35c7c44339b6a7681b08f1d276da,unroot/standalone,from tripleoclient import constants heat_dir=constants.STANDALONE_EPHEMERAL_STACK_LOG): heat_dir=constants.STANDALONE_EPHEMERAL_STACK_LOG): heat_dir=constants.STANDALONE_EPHEMERAL_STACK_LOG):, heat_dir='/var/log/heat-launcher'): heat_dir='/var/log/heat-launcher'): heat_dir='/var/log/heat-launcher'):,11,12
openstack%2Ftripleo-ansible~master~I6a80b66c03c76a486d426a213af10a259cf583e7,openstack/tripleo-ansible,master,I6a80b66c03c76a486d426a213af10a259cf583e7,WIP - container_startup_config idempotency,ABANDONED,2020-07-06 14:06:31.000000000,2020-08-28 19:24:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:06:31.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f69818eabe3918d182959c076e415d5c7aa08c70', 'message': 'WIP - container_startup_config idempotency\n\nChange-Id: I6a80b66c03c76a486d426a213af10a259cf583e7\n'}]",0,739492,f69818eabe3918d182959c076e415d5c7aa08c70,4,2,1,3153,,,0,"WIP - container_startup_config idempotency

Change-Id: I6a80b66c03c76a486d426a213af10a259cf583e7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/739492/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,f69818eabe3918d182959c076e415d5c7aa08c70,idempotency/startups," debug: description: - Whether or not debug is enabled. default: False required: false type: bool self.debug = args['debug'] if self.debug: self.module.debug('{} config directory does not exist, ' 'creating it'.format(self.config_base_dir)) old_stamp = 0 if os.path.exists(path): old_stamp = os.stat(path).st_mtime if old_stamp != os.stat(path).st_mtime: self.results['changed'] = True", self.results['changed'] = True,16,1
openstack%2Ftripleo-ansible~master~I4b489bbadb1834f199b67e31ef1fa00e78adb32a,openstack/tripleo-ansible,master,I4b489bbadb1834f199b67e31ef1fa00e78adb32a,WIP - reduce usage of set_fact,ABANDONED,2020-06-23 04:44:26.000000000,2020-08-28 19:24:44.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 04:44:26.000000000', 'files': ['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/set.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3ec8efd71f485a657c61f896ed52cf064cd8a22', 'message': 'WIP - reduce usage of set_fact\n\nChange-Id: I4b489bbadb1834f199b67e31ef1fa00e78adb32a\n'}]",2,737438,c3ec8efd71f485a657c61f896ed52cf064cd8a22,6,3,1,3153,,,0,"WIP - reduce usage of set_fact

Change-Id: I4b489bbadb1834f199b67e31ef1fa00e78adb32a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/737438/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/set.yml']",4,c3ec8efd71f485a657c61f896ed52cf064cd8a22,reduce/tasks," vars: tripleo_upgrade_hiera_data_add: ""{{ tripleo_upgrade_hiera_command.stdout | from_json | combine({ tripleo_upgrade_key: tripleo_upgrade_value }) }}""","- name: set/update the tripleo-upgrade key/value set_fact: tripleo_upgrade_hiera_data_add: ""{{ tripleo_upgrade_hiera_command.stdout | from_json | combine({ tripleo_upgrade_key: tripleo_upgrade_value }) }}"" cacheable: false ",13,21
openstack%2Ftripleo-heat-templates~master~Ia0806ddbaa20072036fdac973f5aba3bf4f0dfff,openstack/tripleo-heat-templates,master,Ia0806ddbaa20072036fdac973f5aba3bf4f0dfff,WIP - stop overriding LANG on rabbitmq containers,ABANDONED,2020-05-25 15:08:37.000000000,2020-08-28 19:24:41.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-25 15:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8e84e4e9634759ea332399c91ce2cb6c85eef8f', 'message': ""WIP - stop overriding LANG on rabbitmq containers\n\nIn RHEL8, we have C.UTF-8 shipped and enabled by default; so we no\nlonger need to use en_US.UTF-8 which was forcing the containers to use\nthe US version of UTF-8.\n\nWe're building new container images with C.UTF-8 enabled by default, so\nthis patch will have to land once we use these images.\n\nChange-Id: Ia0806ddbaa20072036fdac973f5aba3bf4f0dfff\nRelated-Bug: #1822673\n""}, {'number': 2, 'created': '2020-07-27 20:06:18.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/964df777eb90d7f0f857ebf6303a5cc4e6239a0f', 'message': ""WIP - stop overriding LANG on rabbitmq containers\n\nIn RHEL8, we have C.UTF-8 shipped and enabled by default; so we no\nlonger need to use en_US.UTF-8 which was forcing the containers to use\nthe US version of UTF-8.\n\nWe're building new container images with C.UTF-8 enabled by default, so\nthis patch will have to land once we use these images.\n\nChange-Id: Ia0806ddbaa20072036fdac973f5aba3bf4f0dfff\nRelated-Bug: #1822673\n""}]",0,730634,964df777eb90d7f0f857ebf6303a5cc4e6239a0f,9,3,2,3153,,,0,"WIP - stop overriding LANG on rabbitmq containers

In RHEL8, we have C.UTF-8 shipped and enabled by default; so we no
longer need to use en_US.UTF-8 which was forcing the containers to use
the US version of UTF-8.

We're building new container images with C.UTF-8 enabled by default, so
this patch will have to land once we use these images.

Change-Id: Ia0806ddbaa20072036fdac973f5aba3bf4f0dfff
Related-Bug: #1822673
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/730634/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml']",3,f8e84e4e9634759ea332399c91ce2cb6c85eef8f,utf8,, # https://launchpad.net/bugs/1822673 (lang/lc_all to utf-8 are an elixir requirement) LANG: 'en_US.UTF-8' LC_ALL: 'en_US.UTF-8',0,9
openstack%2Fcinder~master~I33bbe4f50040096b71bb1540b87dc10d575b46b4,openstack/cinder,master,I33bbe4f50040096b71bb1540b87dc10d575b46b4,Deprecate TSM Backup driver,MERGED,2020-08-19 11:44:10.000000000,2020-08-28 19:19:56.000000000,2020-08-28 00:50:21.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-19 11:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6479149a8c3a81033eda6ec855f923f44bb1100f', 'message': 'Deprecate TSM Backup driver\n\nTSM Driver seems to be broken wor a while [1] and is not supported\nanymore.\n\n[1] https://review.opendev.org/#/q/Ie67d919f8f59572268f1f07946fb2d2f14a851f1\n\nChange-Id: I33bbe4f50040096b71bb1540b87dc10d575b46b4\n'}, {'number': 2, 'created': '2020-08-26 14:49:13.000000000', 'files': ['releasenotes/notes/deprecate-tsm-backup-driver-8be0c78ec1a9d6dc.yaml', 'cinder/backup/drivers/tsm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6795b8906854f2e39492dede6fb2a595917612b', 'message': 'Deprecate TSM Backup driver\n\nTSM Driver seems to be broken for a while [1] and is not supported\nanymore.\n\n[1] https://review.opendev.org/#/q/Ie67d919f8f59572268f1f07946fb2d2f14a851f1\n\nChange-Id: I33bbe4f50040096b71bb1540b87dc10d575b46b4\n'}]",4,746900,e6795b8906854f2e39492dede6fb2a595917612b,112,32,2,1736,,,0,"Deprecate TSM Backup driver

TSM Driver seems to be broken for a while [1] and is not supported
anymore.

[1] https://review.opendev.org/#/q/Ie67d919f8f59572268f1f07946fb2d2f14a851f1

Change-Id: I33bbe4f50040096b71bb1540b87dc10d575b46b4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/746900/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-tsm-backup-driver-8be0c78ec1a9d6dc.yaml', 'cinder/backup/drivers/tsm.py']",2,6479149a8c3a81033eda6ec855f923f44bb1100f,deprecate-tsm-backup-driver,"from oslo_log import versionutils versionutils.report_deprecated_feature( LOG, ""Cinder TSM Backup Driver is deprecated and will be removed "" ""in Wallaby release. Please, migrate you backups to the supported "" ""backend."")",,11,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1,openstack/python-tripleoclient,stable/train,I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1,(UX) Improve logging if the ephemeral heat stack wasn't created,MERGED,2020-08-24 12:40:25.000000000,2020-08-28 19:10:03.000000000,2020-08-28 19:08:24.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 12:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/29c78ed0279b225cc3aed7852d6ff16d69e5d46a', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n(cherry picked from commit 686ac839b4d43c202de7342531a20162a6c1b20c)\n""}, {'number': 2, 'created': '2020-08-25 01:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/673e8543ed129a8ff2f335528e06fa5cba8688af', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n(cherry picked from commit 686ac839b4d43c202de7342531a20162a6c1b20c)\n""}, {'number': 3, 'created': '2020-08-26 21:52:45.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79bb147bb9e3fcdea6ebc68a8838ab8a2de6e2ae', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n(cherry picked from commit 686ac839b4d43c202de7342531a20162a6c1b20c)\n""}]",0,747714,79bb147bb9e3fcdea6ebc68a8838ab8a2de6e2ae,27,3,3,3153,,,0,"(UX) Improve logging if the ephemeral heat stack wasn't created

If the ephemeral heat stack wasn't created, raise a proper error message
explaining what happens and how to proceed instead of a python stack
trace.

Change-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1
Closes-Bug: #1892248
(cherry picked from commit 686ac839b4d43c202de7342531a20162a6c1b20c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/747714/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,29c78ed0279b225cc3aed7852d6ff16d69e5d46a,bug/1892248-stable/train," if not stack: msg = _('The ephemeral Heat stack could not be created, please ' 'check logs in /var/log/heat-launcher and/or any ' 'possible misconfiguration.') raise exceptions.DeploymentError(msg) stack_id = stack['stack']['id']", stack_id = stack['stack']['id'] ,6,1
openstack%2Ftripleo-heat-templates~master~I286ca5a7cb29b5a9a3d249dc190d8beac29f5863,openstack/tripleo-heat-templates,master,I286ca5a7cb29b5a9a3d249dc190d8beac29f5863,Re-enable driver agent for scenario 10,MERGED,2020-03-24 13:25:34.000000000,2020-08-28 19:08:25.000000000,2020-08-28 19:08:25.000000000,"[{'_account_id': 1131}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-03-24 13:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a32e367c327d880c55ea413963fe2298a2e2dd5b', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}, {'number': 2, 'created': '2020-04-07 18:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af7de69de3b677ac4fe51ee0ed24d31a17b71c4f', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}, {'number': 3, 'created': '2020-04-08 10:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0d2321368091262c3f381af5fd15bc6e03188c4', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}, {'number': 4, 'created': '2020-06-25 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a82f2b6ea217fa30f23110485aa38d61347d7563', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}, {'number': 5, 'created': '2020-07-15 11:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61e7c692c7dbf1757986e8d006ac531fe3495273', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}, {'number': 6, 'created': '2020-08-26 13:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/688e0866ce6e2e0f33319f8d23e7231ed9e45602', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}, {'number': 7, 'created': '2020-08-26 13:09:29.000000000', 'files': ['ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4fd78880cb3a4f243546102ef27b34160ff7cb5', 'message': 'Re-enable driver agent for scenario 10\n\nFlip to disabling the agent was only intended to be temporary so should\nbe re-enabled now.\n\nCloses-Bug: #1887666\n\nChange-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863\n'}]",0,714639,e4fd78880cb3a4f243546102ef27b34160ff7cb5,56,11,7,6681,,,0,"Re-enable driver agent for scenario 10

Flip to disabling the agent was only intended to be temporary so should
be re-enabled now.

Closes-Bug: #1887666

Change-Id: I286ca5a7cb29b5a9a3d249dc190d8beac29f5863
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/714639/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-standalone.yaml'],1,a32e367c327d880c55ea413963fe2298a2e2dd5b,re-enable-ovn-provider,, OctaviaEnableDriverAgent: false,0,1
openstack%2Freleases~master~If7aa154745235ab13a55585a096f29a62ca5c35c,openstack/releases,master,If7aa154745235ab13a55585a096f29a62ca5c35c,Release cinder-tempest-plugin 1.1.0,MERGED,2020-08-28 18:32:49.000000000,2020-08-28 19:08:07.000000000,2020-08-28 19:08:07.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-28 18:32:49.000000000', 'files': ['deliverables/victoria/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d455a28a034c258c84aa2014d36ada86584ea65e', 'message': 'Release cinder-tempest-plugin 1.1.0\n\nChange-Id: If7aa154745235ab13a55585a096f29a62ca5c35c\n'}]",0,748734,d455a28a034c258c84aa2014d36ada86584ea65e,8,3,1,5314,,,0,"Release cinder-tempest-plugin 1.1.0

Change-Id: If7aa154745235ab13a55585a096f29a62ca5c35c
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/748734/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/cinder-tempest-plugin.yaml'],1,d455a28a034c258c84aa2014d36ada86584ea65e,cinder-tempest-plugin-1.1.0,releases: - version: 1.1.0 projects: - repo: openstack/cinder-tempest-plugin hash: f1432e10e1b309ca676a216e5c50dde9e63c1f4e,,5,0
openstack%2Freleases~master~I7412c097fd64f468dd9d1d59c3b83513f090167b,openstack/releases,master,I7412c097fd64f468dd9d1d59c3b83513f090167b,nova: Release Train 20.4.0,MERGED,2020-08-27 09:12:25.000000000,2020-08-28 19:08:06.000000000,2020-08-28 19:08:06.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 09:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4d252c70009b77f5580698d323b970f06a990172', 'message': ""nova: Release Train 20.4.0\n\nMinor version bump required with this release due to patch\n'libvirt: Mark e1000e VIF as supported'.\n\n$ git log --oneline --no-merges 20.3.0..HEAD\n6a07edb4b2 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n2442344fa1 catch libvirt exception when nodedev not found.\n95bce095ed Handle multiple 'vcpusched' elements during live migrate\n280007c870 Silence amqp heartbeat warning\nb971dc82cb objects: Update keypairs when saving an instance\nb1ead1fb2a zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\n7d33d74414 Correct reported system memory\nddbc262494 libvirt: Mark e1000e VIF as supported\n58c9c3f238 hardware: Raise useful error for invalid mempage size\nf26823c780 Guard against missing image cache directory\n7a5111ba29 Fix cherry-pick check for merge patch\n38ee1f3942 Remove stale nested backport from InstancePCIRequests\nd307b964ce Check cherry-pick hashes in pep8 tox target\n1a320f2a0e libvirt: Don't delete disks on shared storage during evacuate\n172eb21dee Add functional test for bug 1550919\nc93ca60956 compute: Allow snapshots to be created from PAUSED volume backed instances\n\nChange-Id: I7412c097fd64f468dd9d1d59c3b83513f090167b\n""}, {'number': 2, 'created': '2020-08-28 10:09:57.000000000', 'files': ['deliverables/train/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e2c8dfe5c7a1f62c2ba7fa2e425e005bfbb18c85', 'message': ""nova: Release Train 20.4.0\n\nMinor version bump required with this release due to patch\n'libvirt: Mark e1000e VIF as supported'.\n\n$ git log --oneline --no-merges 20.3.0..HEAD\n6a07edb4b2 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\nc61f4c8e20 libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n2442344fa1 catch libvirt exception when nodedev not found.\n95bce095ed Handle multiple 'vcpusched' elements during live migrate\n280007c870 Silence amqp heartbeat warning\n863d6ef760 libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\nb971dc82cb objects: Update keypairs when saving an instance\nb1ead1fb2a zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\n7d33d74414 Correct reported system memory\nddbc262494 libvirt: Mark e1000e VIF as supported\n58c9c3f238 hardware: Raise useful error for invalid mempage size\nf26823c780 Guard against missing image cache directory\n7a5111ba29 Fix cherry-pick check for merge patch\n38ee1f3942 Remove stale nested backport from InstancePCIRequests\nd307b964ce Check cherry-pick hashes in pep8 tox target\n1a320f2a0e libvirt: Don't delete disks on shared storage during evacuate\n172eb21dee Add functional test for bug 1550919\nc93ca60956 compute: Allow snapshots to be created from PAUSED volume backed instances\n\nChange-Id: I7412c097fd64f468dd9d1d59c3b83513f090167b\n""}]",0,748383,e2c8dfe5c7a1f62c2ba7fa2e425e005bfbb18c85,12,6,2,17685,,,0,"nova: Release Train 20.4.0

Minor version bump required with this release due to patch
'libvirt: Mark e1000e VIF as supported'.

$ git log --oneline --no-merges 20.3.0..HEAD
6a07edb4b2 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration
c61f4c8e20 libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0
2442344fa1 catch libvirt exception when nodedev not found.
95bce095ed Handle multiple 'vcpusched' elements during live migrate
280007c870 Silence amqp heartbeat warning
863d6ef760 libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices
b971dc82cb objects: Update keypairs when saving an instance
b1ead1fb2a zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full
7d33d74414 Correct reported system memory
ddbc262494 libvirt: Mark e1000e VIF as supported
58c9c3f238 hardware: Raise useful error for invalid mempage size
f26823c780 Guard against missing image cache directory
7a5111ba29 Fix cherry-pick check for merge patch
38ee1f3942 Remove stale nested backport from InstancePCIRequests
d307b964ce Check cherry-pick hashes in pep8 tox target
1a320f2a0e libvirt: Don't delete disks on shared storage during evacuate
172eb21dee Add functional test for bug 1550919
c93ca60956 compute: Allow snapshots to be created from PAUSED volume backed instances

Change-Id: I7412c097fd64f468dd9d1d59c3b83513f090167b
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/748383/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/nova.yaml'],1,4d252c70009b77f5580698d323b970f06a990172,nova-train-20.4.0, - version: 20.4.0 projects: - repo: openstack/nova hash: 6a07edb4b29d8bfb5c86ed14263f7cd7525958c1,,4,0
openstack%2Fcharm-guide~master~I1a8801d4e6e6303335408c9080be2426409c6cb2,openstack/charm-guide,master,I1a8801d4e6e6303335408c9080be2426409c6cb2,Fix title level,MERGED,2020-08-28 18:46:05.000000000,2020-08-28 19:04:01.000000000,2020-08-28 19:00:33.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 18:46:05.000000000', 'files': ['doc/source/2010.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f563e5abcc7911bc7a4b2532b61b8f0a681a526e', 'message': 'Fix title level\n\nChange-Id: I1a8801d4e6e6303335408c9080be2426409c6cb2\n'}]",0,748738,f563e5abcc7911bc7a4b2532b61b8f0a681a526e,7,2,1,31289,,,0,"Fix title level

Change-Id: I1a8801d4e6e6303335408c9080be2426409c6cb2
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/38/748738/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2010.rst'],1,f563e5abcc7911bc7a4b2532b61b8f0a681a526e,fix-title-level,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,-----------------------------------,1,1
openstack%2Freleases~master~I2aa737c4646b313413af11f9f839bf11caa6e8be,openstack/releases,master,I2aa737c4646b313413af11f9f839bf11caa6e8be,Create validations-libs 1.0.3 min version,MERGED,2020-08-27 13:43:02.000000000,2020-08-28 18:59:10.000000000,2020-08-28 18:59:09.000000000,"[{'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-27 13:43:02.000000000', 'files': ['deliverables/_independent/validations-libs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/225c17c10d8ff58ff067024cd6e1578f70890eb0', 'message': 'Create validations-libs 1.0.3 min version\n\nChange-Id: I2aa737c4646b313413af11f9f839bf11caa6e8be\n'}]",0,748440,225c17c10d8ff58ff067024cd6e1578f70890eb0,7,4,1,16515,,,0,"Create validations-libs 1.0.3 min version

Change-Id: I2aa737c4646b313413af11f9f839bf11caa6e8be
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/748440/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/validations-libs.yaml'],1,225c17c10d8ff58ff067024cd6e1578f70890eb0,validations-libs/1.0.3, - projects: - hash: fd1bdba4585ff230362214eb47091b5f96c09291 repo: openstack/validations-libs version: 1.0.3,,4,0
openstack%2Fmanila~master~Ifb19d926a84fae986b8d296959cfce71bf0c2e9e,openstack/manila,master,Ifb19d926a84fae986b8d296959cfce71bf0c2e9e,add share server update to manila-manage share update_host,MERGED,2020-05-28 10:09:05.000000000,2020-08-28 18:54:24.000000000,2020-08-28 18:52:56.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-05-28 10:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3965d4893581242bc6f6a4c2155434b37ba05b5d', 'message': 'add share server update to manila-manage share update_host\n\nChange-Id: Ifb19d926a84fae986b8d296959cfce71bf0c2e9e\nCloses-Bug: #1881098\n'}, {'number': 2, 'created': '2020-07-15 09:37:41.000000000', 'files': ['manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-1881098-add-share-server-update-to-manila-manage-share-update-host-bbbc4fe2da48cae9.yaml', 'manila/cmd/manage.py', 'manila/tests/cmd/test_manage.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/365cfa35164e411ae88d7404394b5f073c64d126', 'message': 'add share server update to manila-manage share update_host\n\nChange-Id: Ifb19d926a84fae986b8d296959cfce71bf0c2e9e\nCloses-Bug: #1881098\n'}]",0,731486,365cfa35164e411ae88d7404394b5f073c64d126,23,10,2,18816,,,0,"add share server update to manila-manage share update_host

Change-Id: Ifb19d926a84fae986b8d296959cfce71bf0c2e9e
Closes-Bug: #1881098
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/731486/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/db/sqlalchemy/api.py', 'manila/cmd/manage.py', 'manila/tests/cmd/test_manage.py']",4,3965d4893581242bc6f6a4c2155434b37ba05b5d,bug/1881098," self.mock_object(db, 'share_servers_host_update', mock.Mock(return_value=5)) expected_op_si = (""Updated host of 20 share instances on "" ""%(chost)s to %(nhost)s."" % {'chost': current_host, 'nhost': new_host}) expected_op_sv = (""Updated host of 5 share servers on "" ""%(chost)s to %(nhost)s."" % {'chost': current_host, 'nhost': new_host}) self.assertEqual(expected_op_si + ""\n"" + expected_op_sv, intercepted_op.getvalue().strip())"," expected_op = (""Updated host of 20 share instances on "" ""%(chost)s to %(nhost)s."" % {'chost': current_host, 'nhost': new_host}) self.assertEqual(expected_op, intercepted_op.getvalue().strip())",35,5
openstack%2Fnova~stable%2Fussuri~I15e9975fa516d81e7d34206e5a4069db5431caa9,openstack/nova,stable/ussuri,I15e9975fa516d81e7d34206e5a4069db5431caa9,Removes the delta file once image is extracted,MERGED,2020-08-25 21:47:51.000000000,2020-08-28 18:38:35.000000000,2020-08-28 18:35:08.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-25 21:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bfae000a5aa32fb9bba83394083a3722cb83b11', 'message': 'Removes the delta file once image is extracted\n\nWhen creating a live snapshot of an instance, nova creates a\ncopy of the instance disk using a QEMU shallow rebase. This\ncopy - the delta file - is then extracted and uploaded. The\ndelta file will eventually be deleted, when the temporary\nworking directory nova is using for the live snapshot is\ndiscarded, however, until this happens, we will use 3x the\nsize of the image of host disk space: the original disk,\nthe delta file, and the extracted file. This can be problematic\nwhen concurrent snapshots of multiple instances are requested\nat once.\n\nThe solution is simple: delete the delta file after it has\nbeen extracted and is no longer necessary.\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\nCloses-Bug: #1881727\n(cherry picked from commit d2af7ca7a5c862f53f18c00ac76fc85336fa79e6)\n'}, {'number': 2, 'created': '2020-08-26 04:25:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e51555b3f0324b8b72a2b3280a1c30e104b6d8ea', 'message': 'Removes the delta file once image is extracted\n\nWhen creating a live snapshot of an instance, nova creates a\ncopy of the instance disk using a QEMU shallow rebase. This\ncopy - the delta file - is then extracted and uploaded. The\ndelta file will eventually be deleted, when the temporary\nworking directory nova is using for the live snapshot is\ndiscarded, however, until this happens, we will use 3x the\nsize of the image of host disk space: the original disk,\nthe delta file, and the extracted file. This can be problematic\nwhen concurrent snapshots of multiple instances are requested\nat once.\n\nThe solution is simple: delete the delta file after it has\nbeen extracted and is no longer necessary.\n\nChange-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9\nCloses-Bug: #1881727\n(cherry picked from commit d2af7ca7a5c862f53f18c00ac76fc85336fa79e6)\n'}]",0,748034,e51555b3f0324b8b72a2b3280a1c30e104b6d8ea,21,7,2,18736,,,0,"Removes the delta file once image is extracted

When creating a live snapshot of an instance, nova creates a
copy of the instance disk using a QEMU shallow rebase. This
copy - the delta file - is then extracted and uploaded. The
delta file will eventually be deleted, when the temporary
working directory nova is using for the live snapshot is
discarded, however, until this happens, we will use 3x the
size of the image of host disk space: the original disk,
the delta file, and the extracted file. This can be problematic
when concurrent snapshots of multiple instances are requested
at once.

The solution is simple: delete the delta file after it has
been extracted and is no longer necessary.

Change-Id: I15e9975fa516d81e7d34206e5a4069db5431caa9
Closes-Bug: #1881727
(cherry picked from commit d2af7ca7a5c862f53f18c00ac76fc85336fa79e6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/748034/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,9bfae000a5aa32fb9bba83394083a3722cb83b11,bug/1881727," @mock.patch.object(fileutils, 'delete_if_exists') self, mock_chown, mock_is_job_complete, mock_delete, mock_delete.assert_called_once_with(dltfile)"," self, mock_chown, mock_is_job_complete,",7,1
openstack%2Fpuppet-openstack-integration~master~Ic3327c3d104897589ba938321cecc6a2912ef5ec,openstack/puppet-openstack-integration,master,Ic3327c3d104897589ba938321cecc6a2912ef5ec,Set listen_address explicitly in ironic-inspector,MERGED,2020-08-27 16:09:30.000000000,2020-08-28 18:30:57.000000000,2020-08-28 18:30:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 16:09:30.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d5eb3ada0f8a8f45b313ae44333db1d2e4d68633', 'message': 'Set listen_address explicitly in ironic-inspector\n\nThis patch makes sure that listen_address is explicitly set in\nironic-inspector, to avoid issue caused by unexpected IP verison (v4 or\nv6) used.\n\nChange-Id: Ic3327c3d104897589ba938321cecc6a2912ef5ec\n'}]",0,748479,d5eb3ada0f8a8f45b313ae44333db1d2e4d68633,14,4,1,9816,,,0,"Set listen_address explicitly in ironic-inspector

This patch makes sure that listen_address is explicitly set in
ironic-inspector, to avoid issue caused by unexpected IP verison (v4 or
v6) used.

Change-Id: Ic3327c3d104897589ba938321cecc6a2912ef5ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/79/748479/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,d5eb3ada0f8a8f45b313ae44333db1d2e4d68633,centos8-beaker," listen_address => $::openstack_integration::config::host,",,1,0
openstack%2Fcinder-tempest-plugin~master~Ie54c2a1dc25b647a0f0d10bcad6ba62023986741,openstack/cinder-tempest-plugin,master,Ie54c2a1dc25b647a0f0d10bcad6ba62023986741,Consistency groups: fix the exceptions handling,MERGED,2020-07-30 09:27:24.000000000,2020-08-28 18:30:53.000000000,2020-08-28 18:30:53.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-07-30 09:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/03dd960384018089460513bcaca61339f51a9402', 'message': 'Consistency groups: fix the exceptions handling\n\n= Fix the imports of shared exceptions\n\nShared tempest exceptions (like TimeoutException) are defined\nin and exported by tempest.lib, so use them correctly.\n\n= Directly define the exceptions used by this tempest plugin\n\nWhile those exceptions have been defined in tempest.lib through\nI62e0ba556b884c94f6e8796a2e6f6d8083277fa4,\nthey really belongs to this plugin only, so define them here.\nOther tempest plugins followed the same pattern.\n\nCloses-Bug: #1858417\nCloses-Bug: #1889537\nChange-Id: Ie54c2a1dc25b647a0f0d10bcad6ba62023986741\n'}, {'number': 2, 'created': '2020-07-30 10:25:39.000000000', 'files': ['cinder_tempest_plugin/services/consistencygroups_client.py', 'cinder_tempest_plugin/exceptions.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f1432e10e1b309ca676a216e5c50dde9e63c1f4e', 'message': 'Consistency groups: fix the exceptions handling\n\n= Fix the imports of shared exceptions =\n\nShared tempest exceptions (like TimeoutException) are defined\nin and exported by tempest.lib, so use them correctly.\n\n= Directly define the exceptions used by this tempest plugin =\n\nWhile those exceptions have been defined in tempest.lib through\nI62e0ba556b884c94f6e8796a2e6f6d8083277fa4,\nthey really belongs to this plugin only, so define them here.\nOther tempest plugins followed the same pattern.\nMoreover, the current import would need to be fixed anyway,\nbecause it should import the exceptions from tempest.lib.exceptions\ninstead of tempest.exceptions.\n\nCloses-Bug: #1858417\nCloses-Bug: #1889537\nChange-Id: Ie54c2a1dc25b647a0f0d10bcad6ba62023986741\n'}]",0,743935,f1432e10e1b309ca676a216e5c50dde9e63c1f4e,10,7,2,10459,,,0,"Consistency groups: fix the exceptions handling

= Fix the imports of shared exceptions =

Shared tempest exceptions (like TimeoutException) are defined
in and exported by tempest.lib, so use them correctly.

= Directly define the exceptions used by this tempest plugin =

While those exceptions have been defined in tempest.lib through
I62e0ba556b884c94f6e8796a2e6f6d8083277fa4,
they really belongs to this plugin only, so define them here.
Other tempest plugins followed the same pattern.
Moreover, the current import would need to be fixed anyway,
because it should import the exceptions from tempest.lib.exceptions
instead of tempest.exceptions.

Closes-Bug: #1858417
Closes-Bug: #1889537
Change-Id: Ie54c2a1dc25b647a0f0d10bcad6ba62023986741
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/35/743935/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/services/consistencygroups_client.py', 'cinder_tempest_plugin/exceptions.py']",2,03dd960384018089460513bcaca61339f51a9402,fix-consistency-group-exc,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import exceptions class ConsistencyGroupException(exceptions.TempestException): message = ""Consistency group %(cg_id)s failed and is in ERROR status"" class ConsistencyGroupSnapshotException(exceptions.TempestException): message = (""Consistency group snapshot %(cgsnapshot_id)s failed and is "" ""in ERROR status"") ",,30,7
openstack%2Fneutron~stable%2Fqueens~I9062638366b45a7a930f31185cd6e23901a43957,openstack/neutron,stable/queens,I9062638366b45a7a930f31185cd6e23901a43957,Not remove the running router when MQ is unreachable,MERGED,2020-08-26 07:06:24.000000000,2020-08-28 18:30:51.000000000,2020-08-28 18:30:51.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-26 07:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1e4efb715589f61beceba85f3184216eeda0366', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nConflicts:\n\tneutron/agent/l3/agent.py\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}, {'number': 2, 'created': '2020-08-26 13:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0009559ec00d9e95d87e55bce8cdcdbb123b931b', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nConflicts:\n\tneutron/agent/l3/agent.py\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}, {'number': 3, 'created': '2020-08-27 09:56:26.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec6c98060d78c97edf6382ede977209f007fdb81', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nConflicts:\n        neutron/agent/l3/agent.py\n        neutron/tests/unit/agent/l3/test_agent.py\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}]",4,748127,ec6c98060d78c97edf6382ede977209f007fdb81,19,5,3,9531,,,0,"Not remove the running router when MQ is unreachable

When the L3 agent get a router update notification, it will try to
retrieve the router info from neutron server. But at this time, if
the message queue is down/unreachable. It will get exceptions related
message queue. The resync actions will be run then. Sometimes, rabbitMQ
cluster is not so much easy to recover. Then Long time MQ recover time
will cause the router info sync RPC never get successful until it meets
the max retry time. Then the bad thing happens, L3 agent is trying to
remove the router now. It basically shutdown all the existing L3 traffic
of this router.

This patch directly removes the final router removal action, let the
router run as it is.

Conflicts:
        neutron/agent/l3/agent.py
        neutron/tests/unit/agent/l3/test_agent.py

Closes-Bug: #1871850
Change-Id: I9062638366b45a7a930f31185cd6e23901a43957
(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/748127/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,f1e4efb715589f61beceba85f3184216eeda0366,bug/1871850," def test_process_routers_update_router_update(self): update.action = l3_agent.ADD_UPDATE_ROUTER agent._safe_router_removed = mock.Mock() agent.plugin_rpc = mock.MagicMock() agent.plugin_rpc.get_routers.side_effect = ( Exception(""Failed to get router info"")) # start test agent._process_router_update() router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._resync_router.called) self.assertFalse(agent._safe_router_removed.called) def _test_process_routers_update_router_deleted(self, error=False): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent._queue = mock.Mock() update = mock.Mock() update.resource = None update.action = l3_agent.DELETE_ROUTER router_info = mock.MagicMock() agent.router_info[update.id] = router_info router_processor = mock.Mock() agent._queue.each_update_to_next_resource.side_effect = [ [(router_processor, update)]] agent._resync_router = mock.Mock() agent._safe_router_removed = mock.Mock() if error: self.assertTrue(agent._safe_router_removed.called) else: router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._safe_router_removed.called)"," @mock.patch.object(pd, 'remove_router') def _test_process_routers_update_router_deleted(self, remove_router, error=False): update.action = 1 # ROUTER_DELETED if error: agent._safe_router_removed = mock.Mock() self.assertFalse(remove_router.called) else: router_info.delete.assert_called_once_with() self.assertFalse(agent.router_info) self.assertTrue(remove_router.called)",33,12
openstack%2Fneutron~stable%2Fstein~Icc995f7b2b465921e41342711d17539f16ead0ce,openstack/neutron,stable/stein,Icc995f7b2b465921e41342711d17539f16ead0ce,Handle properly existing LLA address during l3 agent restart,MERGED,2020-08-25 09:12:08.000000000,2020-08-28 18:00:22.000000000,2020-08-28 17:57:48.000000000,"[{'_account_id': 1131}, {'_account_id': 5792}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 09:12:08.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2400a2b15bd6a5f8d1ec3ae82bab8cacd1288a0b', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nConflicts:\n    neutron/agent/linux/pd.py\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}]",0,747874,2400a2b15bd6a5f8d1ec3ae82bab8cacd1288a0b,14,5,1,11975,,,0,"Handle properly existing LLA address during l3 agent restart

In case when L3 agent is hosting routers which have got subnets
with Prefix Delegation enabled, agent couldn't properly handle
IpAddressAlreadyExists exception raised when pd module tries to
configure link local IPv6 addresses.

Now this is fixed and L3 agent can restart without problems in such
case.

Conflicts:
    neutron/agent/linux/pd.py

Change-Id: Icc995f7b2b465921e41342711d17539f16ead0ce
Closes-Bug: #1892362
(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/747874/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py']",2,2400a2b15bd6a5f8d1ec3ae82bab8cacd1288a0b,bug/1892362,"from neutron.agent.linux import ip_lib try: self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA # uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask) except ip_lib.IpAddressAlreadyExists: pass"," self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask)",62,10
openstack%2Ftripleo-common~master~I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777,openstack/tripleo-common,master,I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777,Remove overcloud_containers.yaml,MERGED,2020-08-19 18:28:31.000000000,2020-08-28 17:53:45.000000000,2020-08-28 17:51:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 18:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/434efb8f87a8b059f7ddbd4bde129afb5fd3e749', 'message': ""Remove overcloud_containers.yaml\n\nSince we've switched to tcib, use tripleo_containers.yaml instead as\nnecessary.\n\nChange-Id: I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777\n""}, {'number': 2, 'created': '2020-08-19 18:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/09f48f350f16f016f621d18ab51ff4e9c2a57753', 'message': ""Remove overcloud_containers.yaml\n\nSince we've switched to tcib, use tripleo_containers.yaml instead as\nnecessary.\n\nChange-Id: I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777\n""}, {'number': 3, 'created': '2020-08-20 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32fcfa2ef397b58a3a4a45b0f3584c231ba3e7b5', 'message': ""Remove overcloud_containers.yaml\n\nSince we've switched to tcib, use tripleo_containers.yaml instead as\nnecessary.\n\nChange-Id: I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777\n""}, {'number': 4, 'created': '2020-08-21 02:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/addfab2ef65e60be80e7f9696940dad9b9fd3ce0', 'message': ""Remove overcloud_containers.yaml\n\nSince we've switched to tcib, use tripleo_containers.yaml instead as\nnecessary.\n\nChange-Id: I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777\n""}, {'number': 5, 'created': '2020-08-25 01:43:19.000000000', 'files': ['container-images/overcloud_containers.yaml', 'contrib/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9df155a342105983053cd118efc3f159c54afcf6', 'message': ""Remove overcloud_containers.yaml\n\nSince we've switched to tcib, use tripleo_containers.yaml instead as\nnecessary.\n\nChange-Id: I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777\n""}]",0,747011,9df155a342105983053cd118efc3f159c54afcf6,32,7,5,14985,,,0,"Remove overcloud_containers.yaml

Since we've switched to tcib, use tripleo_containers.yaml instead as
necessary.

Change-Id: I3f2bca02fdd8761bcd9ecaf58e6508b179ef0777
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/747011/4 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'contrib/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",3,434efb8f87a8b059f7ddbd4bde129afb5fd3e749,bug/1889122,,"container_images_template: - imagename: ""{{namespace}}/{{name_prefix}}aodh-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerAodhApiImage - ContainerAodhConfigImage services: - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhListener - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::UndercloudAodhApi - OS::TripleO::Services::UndercloudAodhEvaluator - OS::TripleO::Services::UndercloudAodhListener - OS::TripleO::Services::UndercloudAodhNotifier - imagename: ""{{namespace}}/{{name_prefix}}aodh-evaluator{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerAodhEvaluatorImage services: - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::UndercloudAodhEvaluator - imagename: ""{{namespace}}/{{name_prefix}}aodh-listener{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerAodhListenerImage services: - OS::TripleO::Services::AodhListener - OS::TripleO::Services::UndercloudAodhListener - imagename: ""{{namespace}}/{{name_prefix}}aodh-notifier{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerAodhNotifierImage services: - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::UndercloudAodhNotifier - imagename: ""{{namespace}}/{{name_prefix}}barbican-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerBarbicanApiImage - ContainerBarbicanConfigImage services: - OS::TripleO::Services::BarbicanApi - imagename: ""{{namespace}}/{{name_prefix}}barbican-keystone-listener{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerBarbicanKeystoneListenerImage - ContainerBarbicanKeystoneListenerConfigImage services: - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanKeystoneListener - imagename: ""{{namespace}}/{{name_prefix}}barbican-worker{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerBarbicanWorkerImage - ContainerBarbicanWorkerConfigImage services: - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanWorker - imagename: ""{{namespace}}/{{name_prefix}}ceilometer-central{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCeilometerCentralImage - ContainerCeilometerConfigImage services: - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentIpmi - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::ComputeCeilometerAgent - OS::TripleO::Services::UndercloudCeilometerAgentCentral - OS::TripleO::Services::UndercloudCeilometerAgentIpmi - OS::TripleO::Services::UndercloudCeilometerAgentNotification - imagename: ""{{namespace}}/{{name_prefix}}ceilometer-compute{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCeilometerComputeImage services: - OS::TripleO::Services::ComputeCeilometerAgent - imagename: ""{{namespace}}/{{name_prefix}}ceilometer-notification{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCeilometerNotificationImage services: - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::UndercloudCeilometerAgentNotification - imagename: ""{{namespace}}/{{name_prefix}}ceilometer-ipmi{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCeilometerIpmiImage services: - OS::TripleO::Services::CeilometerAgentIpmi - OS::TripleO::Services::UndercloudCeilometerAgentIpmi - imagename: ""{{namespace}}/{{name_prefix}}cinder-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCinderApiImage - ContainerCinderConfigImage services: - OS::TripleO::Services::BlockStorageCinderVolume - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderBackup - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::UndercloudCinderApi - OS::TripleO::Services::UndercloudCinderScheduler - OS::TripleO::Services::UndercloudCinderVolume - imagename: ""{{namespace}}/{{name_prefix}}cinder-backup{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCinderBackupImage services: - OS::TripleO::Services::CinderBackup - imagename: ""{{namespace}}/{{name_prefix}}cinder-scheduler{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCinderSchedulerImage services: - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::UndercloudCinderScheduler - imagename: ""{{namespace}}/{{name_prefix}}cinder-volume{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCinderVolumeImage services: - OS::TripleO::Services::BlockStorageCinderVolume - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::UndercloudCinderVolume - imagename: ""{{namespace}}/{{name_prefix}}collectd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCollectdConfigImage - ContainerCollectdImage services: - OS::TripleO::Services::Collectd - imagename: ""{{namespace}}/{{name_prefix}}cron{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerCrondConfigImage - ContainerCrondImage services: - OS::TripleO::Services::ContainersLogrotateCrond - imagename: ""{{namespace}}/{{name_prefix}}designate-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateApiImage services: - OS::TripleO::Services::DesignateApi - OS::TripleO::Services::DesignateCentral - OS::TripleO::Services::DesignateMDNS - OS::TripleO::Services::DesignateSink - OS::TripleO::Services::DesignateProducer - OS::TripleO::Services::DesignateWorker - imagename: ""{{namespace}}/{{name_prefix}}designate-backend-bind9{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateBackendBIND9Image services: - OS::TripleO::Services::DesignateWorker - imagename: ""{{namespace}}/{{name_prefix}}designate-central{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateCentralImage services: - OS::TripleO::Services::DesignateCentral - imagename: ""{{namespace}}/{{name_prefix}}designate-mdns{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateMDNSImage services: - OS::TripleO::Services::DesignateMDNS - imagename: ""{{namespace}}/{{name_prefix}}designate-producer{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateProducerImage services: - OS::TripleO::Services::DesignateProducer - imagename: ""{{namespace}}/{{name_prefix}}designate-sink{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateSinkImage services: - OS::TripleO::Services::DesignateSink - imagename: ""{{namespace}}/{{name_prefix}}designate-worker{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerDesignateConfigImage - ContainerDesignateWorkerImage services: - OS::TripleO::Services::DesignateWorker - imagename: ""{{namespace}}/{{name_prefix}}etcd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerEtcdConfigImage - ContainerEtcdImage services: - OS::TripleO::Services::Etcd - imagename: ""{{namespace}}/{{name_prefix}}glance-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerGlanceApiConfigImage - ContainerGlanceApiImage services: - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GlanceApiEdge - imagename: ""{{namespace}}/{{name_prefix}}gnocchi-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerGnocchiApiImage - ContainerGnocchiConfigImage services: - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::UndercloudGnocchiApi - OS::TripleO::Services::UndercloudGnocchiMetricd - OS::TripleO::Services::UndercloudGnocchiStatsd - imagename: ""{{namespace}}/{{name_prefix}}gnocchi-metricd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerGnocchiMetricdImage services: - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::UndercloudGnocchiMetricd - imagename: ""{{namespace}}/{{name_prefix}}gnocchi-statsd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerGnocchiStatsdImage services: - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::UndercloudGnocchiStatsd - imagename: ""{{namespace}}/{{name_prefix}}haproxy{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerHAProxyConfigImage - ContainerHAProxyImage services: - OS::TripleO::Services::HAproxy - OS::TripleO::Services::HAproxyEdge - OS::TripleO::Services::UndercloudHAProxy - imagename: ""{{namespace}}/{{name_prefix}}heat-all{{name_suffix}}:{{tag}}"" image_source: kolla - imagename: ""{{namespace}}/{{name_prefix}}heat-api-cfn{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerHeatApiCfnConfigImage - ContainerHeatApiCfnImage services: - OS::TripleO::Services::HeatApiCfn - imagename: ""{{namespace}}/{{name_prefix}}heat-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerHeatApiConfigImage - ContainerHeatApiImage - ContainerHeatConfigImage services: - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatEngine - imagename: ""{{namespace}}/{{name_prefix}}heat-engine{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerHeatEngineImage services: - OS::TripleO::Services::HeatEngine - imagename: ""{{namespace}}/{{name_prefix}}horizon{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerHorizonConfigImage - ContainerHorizonImage services: - OS::TripleO::Services::Horizon - imagename: ""{{namespace}}/{{name_prefix}}ironic-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerIronicApiImage - ContainerIronicApiConfigImage services: - OS::TripleO::Services::IronicApi - imagename: ""{{namespace}}/{{name_prefix}}ironic-conductor{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerIronicConductorImage services: - OS::TripleO::Services::IronicConductor - imagename: ""{{namespace}}/{{name_prefix}}ironic-inspector{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerIronicInspectorImage - ContainerIronicInspectorConfigImage services: - OS::TripleO::Services::IronicInspector - imagename: ""{{namespace}}/{{name_prefix}}ironic-pxe{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerIronicConfigImage - ContainerIronicPxeImage services: - OS::TripleO::Services::IronicConductor - OS::TripleO::Services::IronicPxe - imagename: ""{{namespace}}/{{name_prefix}}ironic-neutron-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerIronicNeutronAgentImage - ContainerNeutronConfigImage services: - OS::TripleO::Services::IronicNeutronAgent - imagename: ""{{namespace}}/{{name_prefix}}iscsid{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerIscsidConfigImage - ContainerIscsidImage services: - OS::TripleO::Services::Iscsid - imagename: ""{{namespace}}/{{name_prefix}}keepalived{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerKeepalivedConfigImage - ContainerKeepalivedImage services: - OS::TripleO::Services::Keepalived - OS::TripleO::Services::UndercloudKeepalived - imagename: ""{{namespace}}/{{name_prefix}}keystone{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerKeystoneConfigImage - ContainerKeystoneImage services: - OS::TripleO::Services::Keystone - imagename: ""{{namespace}}/{{name_prefix}}manila-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerManilaApiImage - ContainerManilaConfigImage services: - OS::TripleO::Services::ManilaApi - OS::TripleO::Services::ManilaScheduler - OS::TripleO::Services::ManilaShare - imagename: ""{{namespace}}/{{name_prefix}}manila-scheduler{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerManilaSchedulerImage services: - OS::TripleO::Services::ManilaScheduler - imagename: ""{{namespace}}/{{name_prefix}}manila-share{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerManilaShareImage services: - OS::TripleO::Services::ManilaShare - imagename: ""{{namespace}}/{{name_prefix}}mariadb{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerClustercheckConfigImage - ContainerClustercheckImage - ContainerMysqlConfigImage - ContainerMysqlImage - ContainerMysqlClientConfigImage services: - OS::TripleO::Services::MySQL - imagename: ""{{namespace}}/{{name_prefix}}memcached{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerMemcachedConfigImage - ContainerMemcachedImage services: - OS::TripleO::Services::Memcached - imagename: ""{{namespace}}/{{name_prefix}}mistral-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerMistralApiImage - ContainerMistralConfigImage services: - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::MistralEventEngine - imagename: ""{{namespace}}/{{name_prefix}}mistral-engine{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerMistralEngineImage services: - OS::TripleO::Services::MistralEngine - imagename: ""{{namespace}}/{{name_prefix}}mistral-executor{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerMistralExecutorImage services: - OS::TripleO::Services::MistralExecutor - imagename: ""{{namespace}}/{{name_prefix}}mistral-event-engine{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerMistralEventEngineImage services: - OS::TripleO::Services::MistralEventEngine - imagename: ""{{namespace}}/{{name_prefix}}multipathd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerMultipathdConfigImage - ContainerMultipathdImage services: - OS::TripleO::Services::Multipathd - imagename: ""{{namespace}}/{{name_prefix}}neutron-dhcp-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNeutronDHCPImage services: - OS::TripleO::Services::NeutronDhcpAgent - imagename: ""{{namespace}}/{{name_prefix}}neutron-l3-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNeutronL3AgentImage services: - OS::TripleO::Services::NeutronL3Agent - imagename: ""{{namespace}}/{{name_prefix}}neutron-metadata-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNeutronMetadataImage services: - OS::TripleO::Services::NeutronMetadataAgent - imagename: ""{{namespace}}/{{name_prefix}}neutron-openvswitch-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOpenvswitchImage services: - OS::TripleO::Services::ComputeNeutronOvsAgent - OS::TripleO::Services::NeutronOvsAgent - imagename: ""{{namespace}}/{{name_prefix}}neutron-sriov-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNeutronSriovImage services: - OS::TripleO::Services::NeutronSriovAgent - imagename: ""{{namespace}}/{{name_prefix}}neutron-mlnx-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNeutronMlnxImage services: - OS::TripleO::Services::NeutronMlnxAgent - imagename: ""{{namespace}}/{{name_prefix}}neutron-server{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNeutronApiImage - ContainerNeutronConfigImage services: - OS::TripleO::Services::ComputeNeutronOvsAgent - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::NeutronServer - OS::TripleO::Services::NeutronSriovAgent {% if neutron_driver == ""ovn"" %} - OS::TripleO::Services::OVNController - imagename: ""{{namespace}}/{{name_prefix}}neutron-metadata-agent-ovn{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOvnMetadataImage services: - OS::TripleO::Services::OVNMetadataAgent {% endif %} - imagename: ""{{namespace}}/{{name_prefix}}nova-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaApiImage - ContainerNovaConfigImage - ContainerNovaMetadataImage - ContainerNovaMetadataConfigImage services: - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::NovaVncProxy - OS::TripleO::Services::NovaMetadata - imagename: ""{{namespace}}/{{name_prefix}}nova-compute-ironic{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaComputeIronicImage services: - OS::TripleO::Services::NovaIronic - imagename: ""{{namespace}}/{{name_prefix}}nova-compute{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaComputeImage - ContainerNovaLibvirtConfigImage services: - OS::TripleO::Services::NovaCompute - OS::TripleO::Services::NovaLibvirt - OS::TripleO::Services::NovaMigrationTarget - imagename: ""{{namespace}}/{{name_prefix}}nova-conductor{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaConductorImage services: - OS::TripleO::Services::NovaConductor - imagename: ""{{namespace}}/{{name_prefix}}nova-libvirt{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaLibvirtImage services: - OS::TripleO::Services::NovaLibvirt - imagename: ""{{namespace}}/{{name_prefix}}nova-novncproxy{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaVncProxyImage services: - OS::TripleO::Services::NovaVncProxy - imagename: ""{{namespace}}/{{name_prefix}}nova-scheduler{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaSchedulerImage services: - OS::TripleO::Services::NovaScheduler - imagename: ""{{namespace}}/{{name_prefix}}novajoin-notifier{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovajoinNotifierImage services: - OS::TripleO::Services::Novajoin - imagename: ""{{namespace}}/{{name_prefix}}novajoin-server{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovajoinServerImage - ContainerNovajoinConfigImage services: - OS::TripleO::Services::Novajoin - imagename: ""{{namespace}}/{{name_prefix}}octavia-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOctaviaApiImage - ContainerOctaviaConfigImage - ContainerOctaviaDriverAgentImage - ContainerOctaviaDriverAgentConfigImage services: - OS::TripleO::Services::OctaviaApi - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::OctaviaHousekeeping - OS::TripleO::Services::OctaviaWorker - imagename: ""{{namespace}}/{{name_prefix}}octavia-health-manager{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOctaviaHealthManagerImage services: - OS::TripleO::Services::OctaviaHealthManager - imagename: ""{{namespace}}/{{name_prefix}}octavia-housekeeping{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOctaviaHousekeepingImage services: - OS::TripleO::Services::OctaviaHousekeeping - imagename: ""{{namespace}}/{{name_prefix}}octavia-worker{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOctaviaWorkerImage services: - OS::TripleO::Services::OctaviaWorker {% if neutron_driver == ""ovn"" %} - imagename: ""{{namespace}}/{{name_prefix}}ovn-controller{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOvnControllerConfigImage - ContainerOvnControllerImage services: - OS::TripleO::Services::OVNController - imagename: ""{{namespace}}/{{name_prefix}}ovn-nb-db-server{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOvnNbDbImage services: - OS::TripleO::Services::OVNDBs - imagename: ""{{namespace}}/{{name_prefix}}ovn-northd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOvnNorthdImage - ContainerOvnDbsImage - ContainerOvnDbsConfigImage services: - OS::TripleO::Services::OVNDBs - imagename: ""{{namespace}}/{{name_prefix}}ovn-sb-db-server{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOvnSbDbImage services: - OS::TripleO::Services::OVNDBs {% endif %} - imagename: ""{{namespace}}/{{name_prefix}}placement-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerPlacementConfigImage - ContainerPlacementImage services: - OS::TripleO::Services::PlacementApi - imagename: ""{{namespace}}/{{name_prefix}}qdrouterd{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerQdrouterdConfigImage - ContainerQdrouterdImage - ContainerMetricsQdrConfigImage - ContainerMetricsQdrImage services: - OS::TripleO::Services::Qdr - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::MetricsQdr - imagename: ""{{namespace}}/{{name_prefix}}rabbitmq{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerRabbitmqConfigImage - ContainerRabbitmqImage services: - OS::TripleO::Services::RabbitMQ - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify - imagename: ""{{namespace}}/{{name_prefix}}redis{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerRedisConfigImage - ContainerRedisImage services: - OS::TripleO::Services::Redis - OS::TripleO::Services::UndercloudRedis - imagename: ""{{namespace}}/{{name_prefix}}sahara-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSaharaApiImage - ContainerSaharaConfigImage services: - OS::TripleO::Services::SaharaApi - OS::TripleO::Services::SaharaEngine - imagename: ""{{namespace}}/{{name_prefix}}sahara-engine{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSaharaEngineImage services: - OS::TripleO::Services::SaharaEngine - imagename: ""{{namespace}}/{{name_prefix}}swift-account{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSwiftAccountImage services: - OS::TripleO::Services::SwiftStorage - imagename: ""{{namespace}}/{{name_prefix}}swift-container{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSwiftContainerImage services: - OS::TripleO::Services::SwiftStorage - imagename: ""{{namespace}}/{{name_prefix}}swift-object{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSwiftObjectImage services: - OS::TripleO::Services::SwiftStorage - imagename: ""{{namespace}}/{{name_prefix}}swift-proxy-server{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSwiftConfigImage - ContainerSwiftProxyImage services: - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftRingBuilder - OS::TripleO::Services::SwiftStorage - imagename: ""{{namespace}}/{{name_prefix}}zaqar-wsgi{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerZaqarConfigImage - ContainerZaqarImage services: - OS::TripleO::Services::Zaqar - imagename: ""{{ceph_namespace}}/{{ceph_image}}:{{ceph_tag}}"" image_source: ceph params: - ContainerCephDaemonImage services: - OS::TripleO::Services::CephClient - OS::TripleO::Services::CephExternal - OS::TripleO::Services::CephMds - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephOSD - OS::TripleO::Services::CephRgw - OS::TripleO::Services::CephRbdMirror - imagename: ""{{ceph_prometheus_namespace}}/{{ceph_prometheus_image}}:{{ceph_prometheus_tag}}"" image_source: prom params: - PrometheusContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{ceph_alertmanager_namespace}}/{{ceph_alertmanager_image}}:{{ceph_alertmanager_tag}}"" image_source: prom params: - AlertManagerContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{ceph_node_exporter_namespace}}/{{ceph_node_exporter_image}}:{{ceph_node_exporter_tag}}"" image_source: prom params: - NodeExporterContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{ceph_grafana_namespace}}/{{ceph_grafana_image}}:{{ceph_grafana_tag}}"" image_source: grafana params: - GrafanaContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{namespace}}/{{name_prefix}}tempest{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerTempestImage services: - OS::TripleO::Services::Tempest - imagename: ""{{namespace}}/{{name_prefix}}rsyslog{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerRsyslogImage - ContainerRsyslogConfigImage - ContainerRsyslogSidecarImage - ContainerRsyslogSidecarConfigImage - ContainerOctaviaRsyslogImage services: - OS::TripleO::Services::HAproxy - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftStorage {% if ceph3_namespace is defined %} - imagename: ""{{ceph3_namespace}}/{{ceph3_image}}:{{ceph3_tag}}"" image_source: ceph params: - ContainerCeph3DaemonImage services: - OS::TripleO::Services::CephClient - OS::TripleO::Services::CephExternal - OS::TripleO::Services::CephMds - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephOSD - OS::TripleO::Services::CephRgw - OS::TripleO::Services::CephRbdMirror {% endif %} {% if namespace_stein is defined %} - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}cinder-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerCinderApiImageStein services: - OS::TripleO::Services::CinderApi - OS::TripleO::Services::UndercloudCinderApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}glance-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerGlanceApiImageStein services: - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GlanceApiEdge - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}manila-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerManilaApiImageStein services: - OS::TripleO::Services::ManilaApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}heat-engine{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerHeatEngineImageStein services: - OS::TripleO::Services::HeatEngine - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}ironic-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerIronicApiImageStein services: - OS::TripleO::Services::IronicApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}ironic-inspector{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerIronicInspectorImageStein services: - OS::TripleO::Services::IronicInspector - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}keystone{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerKeystoneImageStein services: - OS::TripleO::Services::Keystone - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}mistral-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerMistralApiImageStein services: - OS::TripleO::Services::MistralApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}neutron-server{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerNeutronApiImageStein services: - OS::TripleO::Services::NeutronApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}nova-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerNovaApiImageStein services: - OS::TripleO::Services::NovaApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}nova-conductor{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerNovaConductorImageStein services: - OS::TripleO::Services::NovaConductor {% endif %} ",0,1113
openstack%2Ftripleo-heat-templates~master~Idcd6485f24e70c965ebd60569a2d6cc06a1037d9,openstack/tripleo-heat-templates,master,Idcd6485f24e70c965ebd60569a2d6cc06a1037d9,Remove remaining Skydive references,MERGED,2020-08-07 13:03:13.000000000,2020-08-28 17:36:24.000000000,2020-08-28 17:35:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-07 13:03:13.000000000', 'files': ['roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e76336c4173ba3aa784755a183483645e6b39a0', 'message': 'Remove remaining Skydive references\n\nSupport has been dropped for skyzone but these two\nfiles remained. I think these were missed from\nhttps://review.opendev.org/#/c/712783/\n\nChange-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9\n'}]",1,745320,2e76336c4173ba3aa784755a183483645e6b39a0,14,7,1,32114,,,0,"Remove remaining Skydive references

Support has been dropped for skyzone but these two
files remained. I think these were missed from
https://review.opendev.org/#/c/712783/

Change-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/745320/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml']",2,2e76336c4173ba3aa784755a183483645e6b39a0,remove-skydive,, - OS::TripleO::Services::SkydiveAgent - OS::TripleO::Services::SkydiveAnalyzer,0,3
openstack%2Fneutron~master~Iba4f2ea700f01fd153104741614eec4855d0f387,openstack/neutron,master,Iba4f2ea700f01fd153104741614eec4855d0f387,"Disable ""no-value-for-parameter"" pep8 error in DictModel",MERGED,2020-08-28 09:44:57.000000000,2020-08-28 17:32:49.000000000,2020-08-28 17:30:05.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-28 09:44:57.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ae3c080db1bf84dbca77f72e4382de7f0e90ddf', 'message': 'Disable ""no-value-for-parameter"" pep8 error in DictModel\n\nThis pep8 error ocurrs sporadically, as reported in related bug.\nThe creation of a new DictModel class empty object during the\ndeepcopy process only needs the class type only.\n\nChange-Id: Iba4f2ea700f01fd153104741614eec4855d0f387\nCloses-Bug: #1893316\n'}]",0,748594,3ae3c080db1bf84dbca77f72e4382de7f0e90ddf,14,9,1,16688,,,0,"Disable ""no-value-for-parameter"" pep8 error in DictModel

This pep8 error ocurrs sporadically, as reported in related bug.
The creation of a new DictModel class empty object during the
deepcopy process only needs the class type only.

Change-Id: Iba4f2ea700f01fd153104741614eec4855d0f387
Closes-Bug: #1893316
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/748594/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,3ae3c080db1bf84dbca77f72e4382de7f0e90ddf,bug/1893316," def __deepcopy__(self, memo): # pylint: disable=no-value-for-parameter"," def __deepcopy__(self, memo):",1,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I66bd68d0234b16152d42fefafd97f01337e872e1,openstack/puppet-openstack-integration,stable/ussuri,I66bd68d0234b16152d42fefafd97f01337e872e1,[CentOS] Update all packages after setting up repositories,MERGED,2020-08-26 07:29:57.000000000,2020-08-28 17:30:49.000000000,2020-08-28 17:30:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 07:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e00854ed5ab717358310435be943c7a1c77e22f5', 'message': '[CentOS] Update all packages after setting up repositories\n\n... so that we test all packages available in CentOS/RDO repositories.\n\nConflicts:\n\tmanifests/repos.pp\n\nDepends-on: https://review.opendev.org/#/c/747954/\nChange-Id: I66bd68d0234b16152d42fefafd97f01337e872e1\n(cherry picked from commit 0502f2ee0ae17585746dfd7472d174a40e1b84a7)\n'}, {'number': 2, 'created': '2020-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dd1b5d3e81fc36293b8ea92ec947a7bb36f89c98', 'message': '[CentOS] Update all packages after setting up repositories\n\n... so that we test all packages available in CentOS/RDO repositories.\n\nConflicts:\n\tmanifests/repos.pp\n\nDepends-on: https://review.opendev.org/#/c/747954/\nChange-Id: I66bd68d0234b16152d42fefafd97f01337e872e1\n(cherry picked from commit 0502f2ee0ae17585746dfd7472d174a40e1b84a7)\n'}, {'number': 3, 'created': '2020-08-26 13:51:02.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/909256775d09f5e687c300f0c2d64bc19df634ba', 'message': '[CentOS] Update all packages after setting up repositories\n\n... so that we test all packages available in CentOS/RDO repositories.\n\nConflicts:\n\tmanifests/repos.pp\n\nDepends-on: https://review.opendev.org/#/c/747954/\nChange-Id: I66bd68d0234b16152d42fefafd97f01337e872e1\n(cherry picked from commit 0502f2ee0ae17585746dfd7472d174a40e1b84a7)\n'}]",0,748129,909256775d09f5e687c300f0c2d64bc19df634ba,11,4,3,9816,,,0,"[CentOS] Update all packages after setting up repositories

... so that we test all packages available in CentOS/RDO repositories.

Conflicts:
	manifests/repos.pp

Depends-on: https://review.opendev.org/#/c/747954/
Change-Id: I66bd68d0234b16152d42fefafd97f01337e872e1
(cherry picked from commit 0502f2ee0ae17585746dfd7472d174a40e1b84a7)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/29/748129/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,e00854ed5ab717358310435be943c7a1c77e22f5,centos8-beaker-stable/ussuri," }, update_packages => true,", },2,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I93e4f9916d3f444379bd9a901448d852bc702a04,openstack/puppet-openstack-integration,stable/ussuri,I93e4f9916d3f444379bd9a901448d852bc702a04,Use repo files to setup RDO repositories,MERGED,2020-08-18 12:56:27.000000000,2020-08-28 17:30:47.000000000,2020-08-28 17:30:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0bc930b8af504ea109657b4e65084210fd58d4cd', 'message': 'Use repo files to setup RDO repositories\n\n... so that we can set up RDO CentOS8 repositories correctly by puppet.\n\nConflicts:\n\tmanifests/repos.pp\n\nDepends-on: https://review.opendev.org/#/c/746703/\nChange-Id: I93e4f9916d3f444379bd9a901448d852bc702a04\n(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)\n'}, {'number': 2, 'created': '2020-08-18 12:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/14049e7f926a462fdef47247368faa0fbaf6f993', 'message': 'Use repo files to setup RDO repositories\n\n... so that we can set up RDO CentOS8 repositories correctly by puppet.\n\nConflicts:\n\tmanifests/repos.pp\n\nDepends-on: https://review.opendev.org/#/c/746703/\nChange-Id: I93e4f9916d3f444379bd9a901448d852bc702a04\n(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)\n'}, {'number': 3, 'created': '2020-08-18 13:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/63b7e1b6ef182cd510cdb4424daa53401daa8a5e', 'message': 'Use repo files to setup RDO repositories\n\n... so that we can set up RDO CentOS8 repositories correctly by puppet.\n\nConflicts:\n\tmanifests/repos.pp\n\nBackport note:\nBecause RDO ussuri is provided only for CentOS8, we should use master\ninstead on CentOS7. This will be removed once beaker job is migrated\nto CentOS8.\n\nDepends-on: https://review.opendev.org/#/c/746703/\nChange-Id: I93e4f9916d3f444379bd9a901448d852bc702a04\n(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)\n'}, {'number': 4, 'created': '2020-08-25 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f2e497495359675f9081b94e55bcb8eb2986a263', 'message': 'Use repo files to setup RDO repositories\n\n... so that we can set up RDO CentOS8 repositories correctly by puppet.\n\nConflicts:\n\tmanifests/repos.pp\n\nBackport note:\nBecause RDO ussuri is provided only for CentOS8, we should use master\ninstead on CentOS7. This will be removed once beaker job is migrated\nto CentOS8.\n\nDepends-on: https://review.opendev.org/#/c/746703/\nChange-Id: I93e4f9916d3f444379bd9a901448d852bc702a04\n(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)\n'}, {'number': 5, 'created': '2020-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3ce4a696fb32ffc1c630d838c478379f7526fbe7', 'message': 'Use repo files to setup RDO repositories\n\n... so that we can set up RDO CentOS8 repositories correctly by puppet.\n\nConflicts:\n\tmanifests/repos.pp\n\nBackport note:\nBecause RDO ussuri is provided only for CentOS8, we should use master\ninstead on CentOS7. This will be removed once beaker job is migrated\nto CentOS8.\n\nDepends-on: https://review.opendev.org/#/c/746703/\nChange-Id: I93e4f9916d3f444379bd9a901448d852bc702a04\n(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)\n'}, {'number': 6, 'created': '2020-08-26 13:51:02.000000000', 'files': ['run_tests.sh', 'manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7001173094793af74028c45a67bee261ebc2f1e2', 'message': 'Use repo files to setup RDO repositories\n\n... so that we can set up RDO CentOS8 repositories correctly by puppet.\n\nConflicts:\n\tmanifests/repos.pp\n\nBackport note:\nBecause RDO ussuri is provided only for CentOS8, we should use master\ninstead on CentOS7. This will be removed once beaker job is migrated\nto CentOS8.\n\nDepends-on: https://review.opendev.org/#/c/746703/\nChange-Id: I93e4f9916d3f444379bd9a901448d852bc702a04\n(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)\n'}]",0,746708,7001173094793af74028c45a67bee261ebc2f1e2,15,4,6,9816,,,0,"Use repo files to setup RDO repositories

... so that we can set up RDO CentOS8 repositories correctly by puppet.

Conflicts:
	manifests/repos.pp

Backport note:
Because RDO ussuri is provided only for CentOS8, we should use master
instead on CentOS7. This will be removed once beaker job is migrated
to CentOS8.

Depends-on: https://review.opendev.org/#/c/746703/
Change-Id: I93e4f9916d3f444379bd9a901448d852bc702a04
(cherry picked from commit 5dac46742190f90fc7240a464795a09fdbc27a0e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/746708/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/repos.pp', 'configure_facts.sh']",3,0bc930b8af504ea109657b4e65084210fd58d4cd,centos8-beaker-stable/ussuri,,"rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]] && [ -f /etc/redhat-release ] ; then echo ""Failed to parse dlrn hash"" exit 1 fi RDO_MIRROR_HOST=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} export FACTER_rdo_mirror_host=$RDO_MIRROR_HOSTrdo_mirror_host=${FACTER_rdo_mirror_host}",6,32
openstack%2Foslo.utils~master~I0edf030dc5cd6b77e0101089746589332860fa16,openstack/oslo.utils,master,I0edf030dc5cd6b77e0101089746589332860fa16,Add util methods for checking json and yaml formatted file,MERGED,2020-08-26 00:41:07.000000000,2020-08-28 17:16:34.000000000,2020-08-28 17:14:26.000000000,"[{'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 00:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/9726ce575380feb053d862dc1673928572921863', 'message': 'Add util methods for checking json and yaml formatted file\n\nAs part of oslo_policy policy_file JSON to YAML migration BP,\nwe need to check if oslo policy_file is JSON or YAML formatted\n(almost on all projects with policy in code, example Needed-By).\n- https://specs.openstack.org/openstack/oslo-specs/specs/victoria/policy-json-to-yaml.html\n\nThese util methods try quick checks of file type by loading the file using\njson or yaml.\n\nNeeded-By:\n\nRelated Blueprint: policy-json-to-yaml\n\nChange-Id: I0edf030dc5cd6b77e0101089746589332860fa16\n'}, {'number': 2, 'created': '2020-08-26 00:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/648db7f3331800ff3d2a6894fd5e6258f631808b', 'message': 'Add util methods for checking json and yaml formatted file\n\nAs part of oslo_policy policy_file JSON to YAML migration BP,\nwe need to check if oslo policy_file is JSON or YAML formatted\n(almost on all projects with policy in code, example Needed-By).\n- https://specs.openstack.org/openstack/oslo-specs/specs/victoria/policy-json-to-yaml.html\n\nThese util methods try quick checks of file type by loading the file using\njson or yaml.\n\nNeeded-By: https://review.opendev.org/#/c/748059/\n\nRelated Blueprint: policy-json-to-yaml\n\nChange-Id: I0edf030dc5cd6b77e0101089746589332860fa16\n'}, {'number': 3, 'created': '2020-08-26 14:39:10.000000000', 'files': ['oslo_utils/fileutils.py', 'releasenotes/notes/add-methods-for-json-yaml-file-check-746dca0a11c2f9c9.yaml', 'oslo_utils/tests/test_fileutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7c4a94c0c3fcbd8f05541944851728f30deadd9b', 'message': 'Add util methods for checking json and yaml formatted file\n\nAs part of oslo_policy policy_file JSON to YAML migration BP,\nwe need to check if oslo policy_file is JSON or YAML formatted\n(almost on all projects with policy in code, example Needed-By).\n- https://specs.openstack.org/openstack/oslo-specs/specs/victoria/policy-json-to-yaml.html\n\nThese util methods try quick checks of file type by loading the file using\njson or yaml.\n\nNeeded-By: https://review.opendev.org/#/c/748059/\n\nRelated Blueprint: policy-json-to-yaml\n\nChange-Id: I0edf030dc5cd6b77e0101089746589332860fa16\n'}]",1,748056,7c4a94c0c3fcbd8f05541944851728f30deadd9b,13,4,3,8556,,,0,"Add util methods for checking json and yaml formatted file

As part of oslo_policy policy_file JSON to YAML migration BP,
we need to check if oslo policy_file is JSON or YAML formatted
(almost on all projects with policy in code, example Needed-By).
- https://specs.openstack.org/openstack/oslo-specs/specs/victoria/policy-json-to-yaml.html

These util methods try quick checks of file type by loading the file using
json or yaml.

Needed-By: https://review.opendev.org/#/c/748059/

Related Blueprint: policy-json-to-yaml

Change-Id: I0edf030dc5cd6b77e0101089746589332860fa16
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/56/748056/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py']",2,9726ce575380feb053d862dc1673928572921863,bp/policy-json-to-yaml,"import jsonimport yaml class FileTypeTestCase(test_base.BaseTestCase): """"""Test the is_yaml() and is_json() utility methods."""""" def setUp(self): super(FileTypeTestCase, self).setUp() data = { 'name': 'test', 'website': 'example.com' } temp_dir = tempfile.mkdtemp() self.json_file = tempfile.mktemp(dir=temp_dir) self.yaml_file = tempfile.mktemp(dir=temp_dir) with open(self.json_file, 'w') as fh: json.dump(data, fh) with open(self.yaml_file, 'w') as fh: yaml.dump(data, fh) def test_is_json(self): self.assertTrue(fileutils.is_json(self.json_file)) self.assertFalse(fileutils.is_json(self.yaml_file)) def test_is_yaml(self): self.assertTrue(fileutils.is_yaml(self.yaml_file)) self.assertFalse(fileutils.is_yaml(self.json_file))",,78,1
openstack%2Ftripleo-quickstart-extras~master~I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2,openstack/tripleo-quickstart-extras,master,I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2,automatically build a test package when only CI is changed,ABANDONED,2018-09-18 03:38:11.000000000,2020-08-28 17:14:00.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-18 03:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3057eaaaba8976ba8057b6a3fa1d77e2c5a3c30', 'message': 'automatically build a test package when only CI is changed\n\nAt the moment one can update the tqe/build-test-package\nrole w/o a change actually getting built to test the\nchanges to CI code.\n\nThis review should inject a no-op change if the zuul\nchanges only include CI repos that are not built by\ndlrn.\n\nChange-Id: I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2\n'}, {'number': 2, 'created': '2018-09-18 03:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cbfc1749f6eccfab816c4f9b9759299f8908e3ba', 'message': 'automatically build a test package when only CI is changed\n\nAt the moment one can update the tqe/build-test-package\nrole w/o a change actually getting built to test the\nchanges to CI code.\n\nThis review should inject a no-op change if the zuul\nchanges only include CI repos that are not built by\ndlrn.\n\nChange-Id: I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2\n'}, {'number': 3, 'created': '2018-09-18 13:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f11a64ec894938d3a27ba1a997bd612bb58b7086', 'message': 'automatically build a test package when only CI is changed\n\nAt the moment one can update the tqe/build-test-package\nrole w/o a change actually getting built to test the\nchanges to CI code.\n\nThis review should inject a no-op change if the zuul\nchanges only include CI repos that are not built by\ndlrn.\n\nChange-Id: I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2\n'}, {'number': 4, 'created': '2018-09-18 15:02:00.000000000', 'files': ['roles/build-test-packages/defaults/main.yml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e0ce40503549133dec00e3f40009e8e3333106fa', 'message': 'automatically build a test package when only CI is changed\n\nAt the moment one can update the tqe/build-test-package\nrole w/o a change actually getting built to test the\nchanges to CI code.\n\nThis review should inject a no-op change if the zuul\nchanges only include CI repos that are not built by\ndlrn.\n\nChange-Id: I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2\n'}]",13,603277,e0ce40503549133dec00e3f40009e8e3333106fa,27,11,4,9592,,,0,"automatically build a test package when only CI is changed

At the moment one can update the tqe/build-test-package
role w/o a change actually getting built to test the
changes to CI code.

This review should inject a no-op change if the zuul
changes only include CI repos that are not built by
dlrn.

Change-Id: I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/603277/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-test-packages/defaults/main.yml', 'roles/build-test-packages/tasks/main.yml']",2,a3057eaaaba8976ba8057b6a3fa1d77e2c5a3c30,I67b51182fdd96dcb8ce38ab0fe2e30beecb5c8c2,"# When changes are made to this role and other CI # based repos a built dlrn change is helpful to ensure # the workflow is validated. - name: Ensure a test package is built for CI repos set_fact: non_ci_repo_found: true when: item.project not in artg_skipped_projects with_list: ""{{ artg_change_list }}"" - name: Build a DNM test change, to test the build process include: dlrn-build.yml artg_change={{ test_change }} when: - not non_ci_repo_found|bool - build_test_change|bool ",,22,0
openstack%2Ftripleo-specs~master~I7915abcd1dc156bdb3ddc39d6922cc5f2766243c,openstack/tripleo-specs,master,I7915abcd1dc156bdb3ddc39d6922cc5f2766243c,"WIP, daily updates of tripleo containers",ABANDONED,2018-08-28 21:59:31.000000000,2020-08-28 17:09:28.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-28 21:59:31.000000000', 'files': ['specs/stein/periodic-container-updates.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6aa699fa1d644bf83f30ceeb8520b97acc0d7345', 'message': 'WIP, daily updates of tripleo containers\n\nChange-Id: I7915abcd1dc156bdb3ddc39d6922cc5f2766243c\n'}]",0,597293,6aa699fa1d644bf83f30ceeb8520b97acc0d7345,5,2,1,9592,,,0,"WIP, daily updates of tripleo containers

Change-Id: I7915abcd1dc156bdb3ddc39d6922cc5f2766243c
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/93/597293/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/periodic-container-updates.rst'],1,6aa699fa1d644bf83f30ceeb8520b97acc0d7345,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Periodic Container Updates ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tripleo Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 80 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/tripleo/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org Problem Description =================== A detailed description of the problem: * For a new feature this might be use cases. Ensure you are clear about the actors in each use case: End User vs Deployer * For a major reworking of something existing it would describe the problems in that feature that are being addressed. Proposed Change =============== Overview -------- Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Security Impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Upgrade Impact -------------- Describe potential upgrade impact on the system. * Is this change meant to become the default for deployments at some point in the future? How do we migrate existing deployments to that feature? * Can the system be upgraded to this feature using the upgrade hooks provided by the composable services framework? * Describe any plans to deprecate configuration values or features. (For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud?) * Please state anything that operators upgrading from the previous release need to be aware of. Do they need to perform extra manual operations? Other End User Impact --------------------- Are there ways a user will interact with this feature? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A small change in a utility function or a commonly used decorator can have a large impacts on performance. Other Deployer Impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? Developer Impact ---------------- Discuss things that will affect other developers working on OpenStack. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in tripleo, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Tripleo (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. Is this untestable in CI given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs? Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to ",,226,0
openstack%2Ftripleo-quickstart~master~I6205b457e2a14a4f3b3faf69d571ea1694a057a6,openstack/tripleo-quickstart,master,I6205b457e2a14a4f3b3faf69d571ea1694a057a6,undercloud_setup should be true,ABANDONED,2018-07-17 20:48:55.000000000,2020-08-28 17:07:52.000000000,,"[{'_account_id': 3153}, {'_account_id': 8652}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 17280}, {'_account_id': 18846}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 25402}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-17 20:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8a4a99ad0a957f5d3d0e70c7a8413b81343a3ef9', 'message': 'undercloud_setup should be true\n\nThis was missed in the original config\n\nChange-Id: I6205b457e2a14a4f3b3faf69d571ea1694a057a6\n'}, {'number': 2, 'created': '2018-12-31 18:03:49.000000000', 'files': ['config/general_config/featureset031.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/95dd83d025b4758a4c11ba357868c967b037e565', 'message': 'undercloud_setup should be true\n\nThis was missed in the original config\n\nChange-Id: I6205b457e2a14a4f3b3faf69d571ea1694a057a6\n'}]",0,583359,95dd83d025b4758a4c11ba357868c967b037e565,22,12,2,9592,,,0,"undercloud_setup should be true

This was missed in the original config

Change-Id: I6205b457e2a14a4f3b3faf69d571ea1694a057a6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/59/583359/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset031.yml'],1,8a4a99ad0a957f5d3d0e70c7a8413b81343a3ef9,,undercloud_setup: true,,1,0
openstack%2Frequirements~master~I051cac409738fb312f70ed4245224ae3550a8f52,openstack/requirements,master,I051cac409738fb312f70ed4245224ae3550a8f52,update constraint for sushy to new release 3.3.1,MERGED,2020-08-26 20:31:58.000000000,2020-08-28 16:57:02.000000000,2020-08-28 16:54:33.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 20:31:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/34c48659662c84f03ecaa6ddd3d963736a6d8e70', 'message': 'update constraint for sushy to new release 3.3.1\n\nChange-Id: I051cac409738fb312f70ed4245224ae3550a8f52\nmeta:version: 3.3.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Riccardo Pittau <elfosardo@gmail.com>\nmeta:release:Commit: Riccardo Pittau <elfosardo@gmail.com>\nmeta:release:Change-Id: I4fcc6287e503e7a267ba88fd3413b927e6e19b0d\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748303,34c48659662c84f03ecaa6ddd3d963736a6d8e70,27,4,1,11131,,,0,"update constraint for sushy to new release 3.3.1

Change-Id: I051cac409738fb312f70ed4245224ae3550a8f52
meta:version: 3.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Riccardo Pittau <elfosardo@gmail.com>
meta:release:Commit: Riccardo Pittau <elfosardo@gmail.com>
meta:release:Change-Id: I4fcc6287e503e7a267ba88fd3413b927e6e19b0d
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/748303/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,34c48659662c84f03ecaa6ddd3d963736a6d8e70,new-release,sushy===3.3.1,sushy===3.3.0,1,1
openstack%2Fnova~master~I373e31e3776e6733b00d5536982228b8bf97877d,openstack/nova,master,I373e31e3776e6733b00d5536982228b8bf97877d,"Avoid invalid file name, preventing git clone on win32",MERGED,2020-08-26 14:51:09.000000000,2020-08-28 16:49:52.000000000,2020-08-26 19:22:27.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-26 14:51:09.000000000', 'files': ['releasenotes/notes/remove-retry-and-aggregate-filters-f872a85d0b815982.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b0ebdf860294901f5a5ef5b8ba7199381d90664f', 'message': 'Avoid invalid file name, preventing git clone on win32\n\nA recent release note is preventing Nova from being cloned on\nWindows since the file name contains pipes.\n\nChange-Id: I373e31e3776e6733b00d5536982228b8bf97877d\n'}]",0,748250,b0ebdf860294901f5a5ef5b8ba7199381d90664f,15,10,1,8543,,,0,"Avoid invalid file name, preventing git clone on win32

A recent release note is preventing Nova from being cloned on
Windows since the file name contains pipes.

Change-Id: I373e31e3776e6733b00d5536982228b8bf97877d
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/748250/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-retry-and-aggregate-filters-f872a85d0b815982.yaml'],1,b0ebdf860294901f5a5ef5b8ba7199381d90664f,windows_clone,,,0,0
openstack%2Ftripleo-common~master~I6871377f2ea4030b35fabca7f68f331e5a4f3795,openstack/tripleo-common,master,I6871377f2ea4030b35fabca7f68f331e5a4f3795,Remove tripleo-container-image-prepare script,MERGED,2020-08-11 09:37:05.000000000,2020-08-28 16:47:53.000000000,2020-08-28 16:46:18.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-11 09:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9bae66793ed380d586cc4b9675f9c7f9a2962062', 'message': ""Remove tripleo-container-image-prepare script\n\nNow that it's converted to an ansible module and used in the\nansible role we can get rid of the script. We do've cli\ncommand for container image prepare.\n\nDepends-On: https://review.opendev.org/745510\nChange-Id: I6871377f2ea4030b35fabca7f68f331e5a4f3795\n""}, {'number': 2, 'created': '2020-08-11 10:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3a69eb424480bd396b5dc5f8e8f21d0e3c47269', 'message': ""Remove tripleo-container-image-prepare script\n\nNow that it's converted to an ansible module and used in the\nansible role we can get rid of the script. We do've cli\ncommand for container image prepare.\n\nDepends-On: https://review.opendev.org/745510\nChange-Id: I6871377f2ea4030b35fabca7f68f331e5a4f3795\n""}, {'number': 3, 'created': '2020-08-13 05:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/37059032b0e801b38232368cb648089b15e9184e', 'message': ""Remove tripleo-container-image-prepare script\n\nNow that it's converted to an ansible module and used in the\nansible role we can get rid of the script. We do've cli\ncommand for container image prepare.\n\nDepends-On: https://review.opendev.org/745510\nDepends-On: https://review.rdoproject.org/28951\nChange-Id: I6871377f2ea4030b35fabca7f68f331e5a4f3795\n""}, {'number': 4, 'created': '2020-08-13 06:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f99d99b07d05a11f276ab0214c64e34b9da7924a', 'message': ""Remove tripleo-container-image-prepare script\n\nNow that it's converted to an ansible module and used in the\nansible role we can get rid of the script. We do've cli\ncommand for container image prepare.\n\nDepends-On: https://review.opendev.org/745510\nDepends-On: https://review.rdoproject.org/r/#/c/28951\nChange-Id: I6871377f2ea4030b35fabca7f68f331e5a4f3795\n""}, {'number': 5, 'created': '2020-08-28 07:25:48.000000000', 'files': ['sudoers', 'scripts/tripleo-container-image-prepare', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecf838cba62e1996b4777e6d35e146b8ed0787e2', 'message': ""Remove tripleo-container-image-prepare script\n\nNow that it's converted to an ansible module and used in the\nansible role we can get rid of the script. We do've cli\ncommand for container image prepare.\n\nDepends-On: https://review.opendev.org/745510\nDepends-On: https://review.rdoproject.org/r/#/c/28951\nChange-Id: I6871377f2ea4030b35fabca7f68f331e5a4f3795\n""}]",0,745645,ecf838cba62e1996b4777e6d35e146b8ed0787e2,33,7,5,8833,,,0,"Remove tripleo-container-image-prepare script

Now that it's converted to an ansible module and used in the
ansible role we can get rid of the script. We do've cli
command for container image prepare.

Depends-On: https://review.opendev.org/745510
Depends-On: https://review.rdoproject.org/r/#/c/28951
Change-Id: I6871377f2ea4030b35fabca7f68f331e5a4f3795
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/745645/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,9bae66793ed380d586cc4b9675f9c7f9a2962062,container_image,,"#!/usr/bin/env python # Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import logging import os import sys from tripleo_common import constants from tripleo_common.image import image_uploader from tripleo_common.image import kolla_builder from tripleo_common.utils.locks import processlock import yaml def rel_or_abs_path(file_path, tht_root): '''Find a file, either absolute path or relative to the t-h-t dir''' if not file_path: return None path = os.path.abspath(file_path) if not os.path.isfile(path): path = os.path.abspath(os.path.join(tht_root, file_path)) if not os.path.isfile(path): raise RuntimeError( ""Can't find path %s %s"" % (file_path, path)) return path def fetch_roles_file(roles_file, tht_path=constants.DEFAULT_TEMPLATES_PATH): '''Fetch t-h-t roles data fromm roles_file abs path or rel to tht_path.''' if not roles_file: return None with open(rel_or_abs_path(roles_file, tht_path)) as f: return yaml.safe_load(f) def get_args(): parser = argparse.ArgumentParser( description=(""tripleo-container-image-prepare""), formatter_class=argparse.ArgumentDefaultsHelpFormatter) try: roles_file = rel_or_abs_path( constants.OVERCLOUD_J2_ROLES_NAME, constants.DEFAULT_TEMPLATES_PATH) except RuntimeError: roles_file = None parser.add_argument( '--environment-file', '-e', metavar='<file path>', required=True, help='Environment file containing the ContainerImagePrepare ' 'parameter which specifies all prepare actions.' ) parser.add_argument( '--roles-file', '-r', dest='roles_file', default=roles_file, help='Roles file to filter images by, overrides the default %s' % constants.OVERCLOUD_J2_ROLES_NAME ) parser.add_argument( ""--cleanup"", dest=""cleanup"", metavar='<full, partial, none>', default=image_uploader.CLEANUP_FULL, help=""Cleanup behavior for local images left after upload. "" ""The default 'full' will attempt to delete all local "" ""images. 'partial' will leave images required for "" ""deployment on this host. 'none' will do no cleanup."" ) parser.add_argument( '--log-file', dest='log_file', help='Log file to write prepare output to' ) parser.add_argument( '--dry-run', dest='dry_run', action='store_true', default=False, help='Do not perform any pull, modify, or push operations. ' 'The environment file will still be populated as if these ' 'operations were performed.' ) parser.add_argument( ""--debug"", dest=""debug"", action='store_true', help=""Enable debug logging. By default logging is set to INFO."" ) args = parser.parse_args(sys.argv[1:]) return args if __name__ == '__main__': args = get_args() log_format = ('%(asctime)s %(process)d %(levelname)s ' '%(name)s [ ] %(message)s') logging.basicConfig( datefmt='%Y-%m-%d %H:%M:%S', format=log_format ) log = logging.getLogger() if args.log_file: formatter = logging.Formatter(log_format) fh = logging.FileHandler(filename=args.log_file) fh.setFormatter(formatter) log.addHandler(fh) if args.debug: log_level = logging.DEBUG else: log_level = logging.INFO log.setLevel(log_level) if args.cleanup not in image_uploader.CLEANUP: raise RuntimeError('--cleanup must be one of: %s' % ', '.join(image_uploader.CLEANUP)) roles_data = fetch_roles_file(args.roles_file) with open(args.environment_file) as f: env = yaml.safe_load(f) try: lock = processlock.ProcessLock() params = kolla_builder.container_images_prepare_multi( env, roles_data, cleanup=args.cleanup, dry_run=args.dry_run, lock=lock) result = yaml.safe_dump(params, default_flow_style=False) log.info(result) print(result) except Exception as e: log.exception(""Image prepare failed: {}"".format(e)) sys.exit(1) ",0,144
openstack%2Ftripleo-docs~master~I284a25c3fd3097a26a6db9203e8c3eaf414d121a,openstack/tripleo-docs,master,I284a25c3fd3097a26a6db9203e8c3eaf414d121a,Remove the networking-l2gw-tempest-plugin from doc,MERGED,2020-06-26 02:31:41.000000000,2020-08-28 16:37:26.000000000,2020-08-28 16:33:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8313}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 02:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/23597be373c55ccb099eff19d92a5ca711b0c720', 'message': 'Remove the networking-l2gw-tempest-plugin from doc\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nDepends-On: https://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I284a25c3fd3097a26a6db9203e8c3eaf414d121a\n'}, {'number': 2, 'created': '2020-08-27 22:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/39ce5ed2db011ccd2dcd271ee1447c48b977a338', 'message': 'Remove the networking-l2gw-tempest-plugin from doc\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nDepends-On: https://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I284a25c3fd3097a26a6db9203e8c3eaf414d121a\n'}, {'number': 3, 'created': '2020-08-27 22:24:40.000000000', 'files': ['deploy-guide/source/post_deployment/tempest/tempest_plugins.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dbbfae7ff5d04667fed1cdd4705d4e6b86b4af1c', 'message': 'Remove the networking-l2gw-tempest-plugin from doc\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nhttps://review.opendev.org/#/c/744110/\n\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I284a25c3fd3097a26a6db9203e8c3eaf414d121a\n'}]",0,738137,dbbfae7ff5d04667fed1cdd4705d4e6b86b4af1c,12,4,3,8556,,,0,"Remove the networking-l2gw-tempest-plugin from doc

networking-l2gw and networking-l2gw-tempest-plugin are
finishing the retirement process and no longer will be
maitained under openstack[1].

https://review.opendev.org/#/c/744110/


[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

Change-Id: I284a25c3fd3097a26a6db9203e8c3eaf414d121a
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/37/738137/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/tempest/tempest_plugins.rst'],1,23597be373c55ccb099eff19d92a5ca711b0c720,complete-retirement-networking-l2gw,,* Networking-l2gw * RPM package: python2-networking-l2gw-tests-tempest * Source Code: https://opendev.org/openstack/networking-l2gw-tempest-plugin ,0,4
openstack%2Fmagnum~master~I6b9569019f64420cdbca38bce97b5e58c7321a09,openstack/magnum,master,I6b9569019f64420cdbca38bce97b5e58c7321a09,[Part3] Remove six,NEW,2020-08-28 15:53:20.000000000,2020-08-28 16:36:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-28 15:53:20.000000000', 'files': ['magnum/common/urlfetch.py', 'magnum/common/short_id.py', 'magnum/common/cert_manager/x509keypair_cert_manager.py', 'magnum/common/utils.py', 'magnum/common/x509/operations.py', 'magnum/common/cert_manager/cert_manager.py', 'magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bec180af956109a7eb1888c22a6a449f16108466', 'message': ""[Part3] Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum common\n\nChange-Id: I6b9569019f64420cdbca38bce97b5e58c7321a09\n""}]",0,748708,bec180af956109a7eb1888c22a6a449f16108466,2,1,1,30356,,,0,"[Part3] Remove six

We don't need this in a Python 3-only world.

This is a large changed, I split it some smalls,
this PS just remove six from magnum common

Change-Id: I6b9569019f64420cdbca38bce97b5e58c7321a09
",git fetch https://review.opendev.org/openstack/magnum refs/changes/08/748708/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/common/urlfetch.py', 'magnum/common/short_id.py', 'magnum/common/cert_manager/x509keypair_cert_manager.py', 'magnum/common/utils.py', 'magnum/common/x509/operations.py', 'magnum/common/cert_manager/cert_manager.py', 'magnum/common/exception.py']",7,bec180af956109a7eb1888c22a6a449f16108466,, return self.message return str(self),import six if six.PY3: return self.message return self.message.encode('utf-8') return six.text_type(self),25,38
openstack%2Fnova~master~I59c5758c570acccb629f7010d3104e00d79976e4,openstack/nova,master,I59c5758c570acccb629f7010d3104e00d79976e4,Provider Config File: Enable loading and merging of provider configs,MERGED,2019-11-08 00:45:37.000000000,2020-08-28 16:32:56.000000000,2020-08-27 05:10:11.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29745}, {'_account_id': 29963}, {'_account_id': 30192}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-11-08 00:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4e9912b418c3f3ca3ae22dd5b8d929139075fd9', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 2, 'created': '2019-11-11 23:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a64b60be3b1d015c9030400eedb424bba606577c', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 3, 'created': '2019-11-23 00:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/426b86ed3242f23e58193992135fa32be171a84d', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 4, 'created': '2019-11-27 01:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc3a79cc3a2282cc304599f4c5bdbfe4bc2e10d6', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Finish Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 5, 'created': '2019-11-27 18:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60d0264257aab4ebe325a1e1275a423369beff01', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Finish Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 6, 'created': '2019-12-02 21:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aad4f77ea240cf4f6a7bb0244831721520808893', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Finish Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 7, 'created': '2019-12-20 21:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8d12b0930e8ffa5777f1b2e6e2f7efa66e09194', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Finish Functional Tests\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 8, 'created': '2020-01-07 00:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9eb98b55f90dec54e80877f37faa4f850715b3e', 'message': 'WIP: Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nTODO: Documentation, Review Patch Notes\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 9, 'created': '2020-01-08 03:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d20a764b4791207fb3c43bc139d69e46c100c7ec', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 10, 'created': '2020-01-08 18:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8216d6f727c6527510ffdeef1295a0092b7bc1f6', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 11, 'created': '2020-01-14 02:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99f192cbc91fcf30993ccc923fe45109fa7ff927', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 12, 'created': '2020-01-14 02:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42c97bc9f1e149dcc475c0183378acaa9e8e32c4', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 13, 'created': '2020-01-14 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d76b64812d99bb04211b6e75d7820c5c2e27f409', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 14, 'created': '2020-01-15 06:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b6453bf1c8cc9f5f98f40ecd23d34c9074d235b', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 15, 'created': '2020-01-15 21:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed37e3780bdbc8c012f46e56ea9b18e3774e4263', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 16, 'created': '2020-01-15 22:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e81788a360988ae6483d43e9b6afa23161ae41c', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 17, 'created': '2020-01-16 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/099812ecbe065d87779e6d0df81cd53e37e5bfd4', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 18, 'created': '2020-01-17 03:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20c0754cfb71bc3c7ee2e528a09fac761bf29f62', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 19, 'created': '2020-03-12 14:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c9b4558b25bc96cfb7d8d3a57c08fb5e5a8d036', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 20, 'created': '2020-03-12 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/760c5c981478f4f8e739aea80992f6e670db4be1', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 21, 'created': '2020-03-12 18:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad8e1fe6dfecffa882d12ddfd463d52db45b5aad', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 22, 'created': '2020-03-16 20:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d479ebd4d75d5cccf5fc75afaa4776be981044a8', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 23, 'created': '2020-05-13 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ba6bc30ebf1e1f56057415d3dfda6b3efed39bd', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 24, 'created': '2020-05-19 06:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fba9a1aaabf8dd998220c1c89fe7ab328d1db50', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 25, 'created': '2020-05-19 06:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3856e6e0ad66f82e1772bafb8093445cfb066082', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 26, 'created': '2020-07-01 02:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1417e4ba3193ad1c25ecd953f77cc1bce9bea0f2', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 27, 'created': '2020-07-07 06:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ebb6116056e6416cfbbc08edb21a926e5b83174', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 28, 'created': '2020-07-09 02:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f2c22bf64826fadd5e918817f044d1341c047be', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 29, 'created': '2020-07-09 07:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5948666742d73e00934c8104faf76f78231f281', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 30, 'created': '2020-07-20 03:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddf5d523da770f2e7d9955069ab77ba6c861f81d', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 31, 'created': '2020-08-03 02:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98db0ffc179386043f7064fcda624c975cdeba1a', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 32, 'created': '2020-08-03 07:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38059c8b847d41234e6ab46d18ea89403898b74d', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 33, 'created': '2020-08-04 00:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9a2b9806394fa26ef32ba10fdcf63e281d8611c', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 34, 'created': '2020-08-05 10:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02da4888d5feb9b374110479436d075740870903', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 35, 'created': '2020-08-06 03:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de12a5ecac36d0d8926de908a09cbaac15a5cf60', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 36, 'created': '2020-08-07 04:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fafcc0e9ed6bef49e00591375dd0faf2b274615b', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 37, 'created': '2020-08-26 10:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f344e75620944600e77612451439c42b54758f2c', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}, {'number': 38, 'created': '2020-08-26 14:54:07.000000000', 'files': ['nova/conf/compute.py', 'doc/source/admin/index.rst', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'releasenotes/notes/provider-config-file-bf026380cb5a7898.yaml', 'nova/tests/functional/compute/test_resource_tracker.py', 'doc/source/admin/managing-resource-providers.rst', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/260713dc22c2b8da1588e44d57d25404a3ae2b1b', 'message': 'Provider Config File: Enable loading and merging of provider configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis fourth commit adds the config option, release notes, documentation,\nfunctional tests, and calls to the previously implemented functions in\norder to load provider config files and merge them to the provider tree.\n\nChange-Id: I59c5758c570acccb629f7010d3104e00d79976e4\nBlueprint: provider-config-file\n'}]",101,693460,260713dc22c2b8da1588e44d57d25404a3ae2b1b,353,21,38,29745,,,0,"Provider Config File: Enable loading and merging of provider configs

This series implements the referenced blueprint to allow for specifying
custom resource provider traits and inventories via yaml config files.

This fourth commit adds the config option, release notes, documentation,
functional tests, and calls to the previously implemented functions in
order to load provider config files and merge them to the provider tree.

Change-Id: I59c5758c570acccb629f7010d3104e00d79976e4
Blueprint: provider-config-file
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/693460/35 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'releasenotes/notes/provider-config-file-bf026380cb5a7898.yaml', 'nova/compute/resource_tracker.py']",3,d4e9912b418c3f3ca3ae22dd5b8d929139075fd9,bp/provider-config-file,"from nova.compute import provider_config # Retrieves dict of provider config data. This can fail with # nova.exception.ProviderConfigException if invalid or conflicting # data exists in the provider config files. self.provider_configs = provider_config.get_provider_configs( CONF.compute.provider_config_location) # This merges in changes from the provider config files loaded in init self._merge_provider_configs(self.provider_configs, prov_tree) ",,28,0
openstack%2Fmagnum~master~Iec88de861884734f27f5d7861466ce30f1e4e40d,openstack/magnum,master,Iec88de861884734f27f5d7861466ce30f1e4e40d,[Part4] Remove six,NEW,2020-08-28 15:58:39.000000000,2020-08-28 16:29:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-28 15:58:39.000000000', 'files': ['magnum/conductor/monitors.py', 'magnum/conductor/handlers/ca_conductor.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/conductor/handlers/common/cert_manager.py', 'magnum/conductor/handlers/nodegroup_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e67f054ea12a906f6674ea1df04cfb425438508c', 'message': ""[Part4] Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis is a large changed, I split it some smalls,\nthis PS just remove six from magnum conductor\n\nChange-Id: Iec88de861884734f27f5d7861466ce30f1e4e40d\n""}]",0,748710,e67f054ea12a906f6674ea1df04cfb425438508c,2,1,1,30356,,,0,"[Part4] Remove six

We don't need this in a Python 3-only world.

This is a large changed, I split it some smalls,
this PS just remove six from magnum conductor

Change-Id: Iec88de861884734f27f5d7861466ce30f1e4e40d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/748710/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/conductor/monitors.py', 'magnum/conductor/handlers/ca_conductor.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/conductor/handlers/common/cert_manager.py', 'magnum/conductor/handlers/nodegroup_conductor.py']",5,e67f054ea12a906f6674ea1df04cfb425438508c,, nodegroup.status_reason = str(e) e = exception.InvalidParameterValue(message=str(e)) nodegroup.status_reason = str(e) e = exception.InvalidParameterValue(message=str(e)) nodegroup.status_reason = str(e),import six nodegroup.status_reason = six.text_type(e) e = exception.InvalidParameterValue(message=six.text_type(e)) nodegroup.status_reason = six.text_type(e) e = exception.InvalidParameterValue(message=six.text_type(e)) nodegroup.status_reason = six.text_type(e),22,28
openstack%2Ftripleo-validations~stable%2Ftrain~I3bec039283fe5df56771d84fff5bd5940fd149d8,openstack/tripleo-validations,stable/train,I3bec039283fe5df56771d84fff5bd5940fd149d8,Allows to use custom role name for validations,MERGED,2020-08-21 06:06:28.000000000,2020-08-28 16:26:06.000000000,2020-08-28 16:26:06.000000000,"[{'_account_id': 8833}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-21 06:06:28.000000000', 'files': ['playbooks/controller-ulimits.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/haproxy.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/stonith-exists.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4fe38aadb1e05064cafbe7d7a786a0164207873c', 'message': 'Allows to use custom role name for validations\n\nThe tripleo-ansible-inventory script uses the role names in order to\ngroup the different hosts.\n\nSince we can use custom roles, the fixed ""Controller"" and others aren\'t\nrelevant in such cases.\n\nAnsible allows to use parameter for the ""hosts"" value in playbooks,\nallowing us to call the validations using this command:\n\nopenstack tripleo validator run --validation haproxy \\\n  --extra-vars \'{""controller_rolename"": ""MyCustomController""}\'\n\n(or use the --extra-vars-file in order to avoid in-line JSON)\n\nThis patch also correct a non-existent group call, Database. The closest\nwe have is the ""mysql"" group in the inventory - let\'s reflect it in\norder to avoid useless warning(s).\n\nChange-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8\n(cherry picked from commit ec0465e481234da62d1ba673b4432e44c930f630)\n(cherry picked from commit 088c4a1301ea53df1ed1a99ffbca384cbeef531d)\n'}]",0,747336,4fe38aadb1e05064cafbe7d7a786a0164207873c,9,4,1,28223,,,0,"Allows to use custom role name for validations

The tripleo-ansible-inventory script uses the role names in order to
group the different hosts.

Since we can use custom roles, the fixed ""Controller"" and others aren't
relevant in such cases.

Ansible allows to use parameter for the ""hosts"" value in playbooks,
allowing us to call the validations using this command:

openstack tripleo validator run --validation haproxy \
  --extra-vars '{""controller_rolename"": ""MyCustomController""}'

(or use the --extra-vars-file in order to avoid in-line JSON)

This patch also correct a non-existent group call, Database. The closest
we have is the ""mysql"" group in the inventory - let's reflect it in
order to avoid useless warning(s).

Change-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8
(cherry picked from commit ec0465e481234da62d1ba673b4432e44c930f630)
(cherry picked from commit 088c4a1301ea53df1ed1a99ffbca384cbeef531d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/747336/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/controller-ulimits.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/haproxy.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/stonith-exists.yaml']",10,4fe38aadb1e05064cafbe7d7a786a0164207873c,custom-roles-stable/ussuri-stable/train,"- hosts: ""{{ controller_rolename | default('Controller') }}""",- hosts: Controller,14,10
openstack%2Fcharm-swift-storage~master~I60c5b74279f71ca8f8bc769c93af2eab1f59e002,openstack/charm-swift-storage,master,I60c5b74279f71ca8f8bc769c93af2eab1f59e002,Monitor Swift Object/Container/Account API availability,MERGED,2020-08-20 05:35:05.000000000,2020-08-28 16:17:20.000000000,2020-08-28 16:17:20.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30793}]","[{'number': 1, 'created': '2020-08-20 05:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/8035537467823f618e1534c8639c5f95f900dba6', 'message': ""Monitor Swift Object/Container/Account API availability\n\nAs per the bug report, it's not enough to simply monitor that the\nappropriate process is alive; there have been instances of the process\nbeing alive but the port/API being unavailable.\n\nThis patch adds monitoring for Object/Container/Account API\navailability.\n\nI've tested the fix in my small test environment and I can confirm\nit's working.\n\nChange-Id: I60c5b74279f71ca8f8bc769c93af2eab1f59e002\nCloses-Bug: #1854299\n""}, {'number': 2, 'created': '2020-08-27 00:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/ad3ffd82754cad12d2d14fe88b2b01a7fbdee5d6', 'message': ""Monitor Swift Object/Container/Account API availability\n\nAs per the bug report, it's not enough to simply monitor that the\nappropriate process is alive; there have been instances of the process\nbeing alive but the port/API being unavailable.\n\nThis patch adds monitoring for Object/Container/Account API\navailability.\n\nI've tested the fix in my small test environment and I can confirm\nit's working.\n\nChange-Id: I60c5b74279f71ca8f8bc769c93af2eab1f59e002\nCloses-Bug: #1854299\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/395\n""}, {'number': 3, 'created': '2020-08-27 02:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/45758218ce22ed91ab8ab8c09d36585087559b7a', 'message': ""Monitor Swift Object/Container/Account API availability\n\nAs per the bug report, it's not enough to simply monitor that the\nappropriate process is alive; there have been instances of the process\nbeing alive but the port/API being unavailable.\n\nThis patch adds monitoring for Object/Container/Account API\navailability.\n\nI've tested the fix in my small test environment and I can confirm\nit's working.\n\nChange-Id: I60c5b74279f71ca8f8bc769c93af2eab1f59e002\nCloses-Bug: #1854299\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/395\n""}, {'number': 4, 'created': '2020-08-28 00:14:43.000000000', 'files': ['hooks/swift_storage_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9feb5e55964f5619f5d62ab1b64a372d7ad9824d', 'message': ""Monitor Swift Object/Container/Account API availability\n\nAs per the bug report, it's not enough to simply monitor that the\nappropriate process is alive; there have been instances of the process\nbeing alive but the port/API being unavailable.\n\nThis patch adds monitoring for Object/Container/Account API\navailability.\n\nI've tested the fix in my small test environment and I can confirm\nit's working.\n\nFor reference, the following branch/commit was used as a functional\ntest (later rejected with the aim of moving the checks to Mojo):\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/395\n\nChange-Id: I60c5b74279f71ca8f8bc769c93af2eab1f59e002\nCloses-Bug: #1854299\n""}]",0,747105,9feb5e55964f5619f5d62ab1b64a372d7ad9824d,23,5,4,30793,,,0,"Monitor Swift Object/Container/Account API availability

As per the bug report, it's not enough to simply monitor that the
appropriate process is alive; there have been instances of the process
being alive but the port/API being unavailable.

This patch adds monitoring for Object/Container/Account API
availability.

I've tested the fix in my small test environment and I can confirm
it's working.

For reference, the following branch/commit was used as a functional
test (later rejected with the aim of moving the checks to Mojo):
https://github.com/openstack-charmers/zaza-openstack-tests/pull/395

Change-Id: I60c5b74279f71ca8f8bc769c93af2eab1f59e002
Closes-Bug: #1854299
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/05/747105/4 && git format-patch -1 --stdout FETCH_HEAD,['hooks/swift_storage_hooks.py'],1,8035537467823f618e1534c8639c5f95f900dba6,bug/1854299," object_port = config('object-server-port') container_port = config('container-server-port') account_port = config('account-server-port') nrpe_setup.add_check( shortname=""swift-object-server-api"", description=""Check Swift Object Server API availability"", check_cmd=""/usr/lib/nagios/plugins/check_http \ -I localhost -u /recon/version -p {} \ -e \""OK\"""".format(object_port)) nrpe_setup.add_check( shortname=""swift-container-server-api"", description=""Check Swift Container Server API availability"", check_cmd=""/usr/lib/nagios/plugins/check_http \ -I localhost -u /recon/version -p {} \ -e \""OK\"""".format(container_port)) nrpe_setup.add_check( shortname=""swift-account-server-api"", description=""Check Swift Account Server API availability"", check_cmd=""/usr/lib/nagios/plugins/check_http \ -I localhost -u /recon/version -p {} \ -e \""OK\"""".format(account_port)) ",,26,0
openstack%2Fkolla-ansible~stable%2Ftrain~I92b3de7fb792f1fffe298ffaf6bbafab8e640742,openstack/kolla-ansible,stable/train,I92b3de7fb792f1fffe298ffaf6bbafab8e640742,Fix fernet bootstrap and key distribution - follow up,MERGED,2020-04-21 11:31:39.000000000,2020-08-28 16:09:40.000000000,2020-08-28 16:05:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-21 11:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c2a82e8d02440942682a8c660920273de22a429', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n(cherry picked from commit e2ad7b273c61d01f7fcdd8c31e70bd16d3584230)\n'}, {'number': 2, 'created': '2020-04-21 13:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0001669766168829a9c66bcf9fd651133f8ba6c5', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n(cherry picked from commit e2ad7b273c61d01f7fcdd8c31e70bd16d3584230)\n'}, {'number': 3, 'created': '2020-08-25 08:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6aee0c38a1a139ba7478d428dad29b1b1b5e720', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n(cherry picked from commit 793a37e2ff5cc8ec3acb521c06872ae833fb8380)\n'}, {'number': 4, 'created': '2020-08-25 19:31:32.000000000', 'files': ['ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/keystone-startup.sh.j2', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cd7b4d1a67158b4513f4314d9a6893792096d78', 'message': 'Fix fernet bootstrap and key distribution - follow up\n\nAs per post-merge comments in [0] - following up.\n\n[0]: https://review.opendev.org/#/c/698710\n\nChange-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742\n(cherry picked from commit 793a37e2ff5cc8ec3acb521c06872ae833fb8380)\n'}]",0,721582,8cd7b4d1a67158b4513f4314d9a6893792096d78,16,5,4,14826,,,0,"Fix fernet bootstrap and key distribution - follow up

As per post-merge comments in [0] - following up.

[0]: https://review.opendev.org/#/c/698710

Change-Id: I92b3de7fb792f1fffe298ffaf6bbafab8e640742
(cherry picked from commit 793a37e2ff5cc8ec3acb521c06872ae833fb8380)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/721582/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2', 'ansible/roles/keystone/templates/keystone-startup.sh.j2']",6,6c2a82e8d02440942682a8c660920273de22a429,,"#!/bin/bash -x {% set keystone_cmd = 'apache2' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd' %} set -o errexit set -o pipefail TOKEN_DIR=""/etc/keystone/fernet-keys"" # Ensure tokens are populated, check for 0 (staging) key n=0 while [ ! -f ""${TOKEN_DIR}/0"" ]; do if [ $n -lt 10 ]; then n=$(( n + 1 )) echo ""ERROR: Fernet tokens have not been populated, rechecking in 1 minute"" echo ""DEBUG: ${TOKEN_DIR} contents:"" ls -l ${TOKEN_DIR} sleep 60 else echo ""CRITICAL: Waited for 10 minutes - failing"" exit 1 fi done # Ensure tokens are not stale # Get primary token (file with highest number) TOKEN_PRIMARY=$(ls -1 ${TOKEN_DIR} | sort -hr | head -n 1) # Check it's age in seconds TOKEN_AGE=$(($(date +%s) - $(date +%s -r ""${TOKEN_DIR}/${TOKEN_PRIMARY}""))) # Compare if it's older than fernet_token_expiry and run key rotation if needed if [ ""${TOKEN_AGE}"" -gt ""{{ fernet_token_expiry }}"" ]; then echo ""ERROR: Primary token ${TOKEN_PRIMARY} is stale."" exit 1 fi /usr/sbin/{{ keystone_cmd }} $@ ",,77,39
openstack%2Fkolla-ansible~stable%2Ftrain~I63709c2e3f6a893db82a05640da78f492bf8440f,openstack/kolla-ansible,stable/train,I63709c2e3f6a893db82a05640da78f492bf8440f,Fix keystone fernet bootstrap,MERGED,2020-02-05 12:20:10.000000000,2020-08-28 16:07:47.000000000,2020-08-28 16:05:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-05 12:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f94e106c1c761fe91d764c234fbd020ca52e37a7', 'message': ""Fix keystone fernet bootstrap\n\nThere are cases when a multinode deployment ends up in unusable\nkeystone public wsgi on some nodes.\n\nThe root cause is that keystone public wsgi doesn't find fernet\nkeys on startup - and then persists on sending 500 errors to any\nrequests - due to a race condition between\nfernet_setup/fernet-push.sh and keystone startup.\n\nDepends-On: https://review.opendev.org/703742/\nChange-Id: I63709c2e3f6a893db82a05640da78f492bf8440f\nCloses-Bug: #1846789\n(cherry picked from commit 0799782ce83d1057f262b44c979a15f9a1b05c72)\n""}, {'number': 2, 'created': '2020-02-05 13:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/046985d4c230bf1bc9b62d334fb48f1980b0166f', 'message': ""Fix keystone fernet bootstrap\n\nThere are cases when a multinode deployment ends up in unusable\nkeystone public wsgi on some nodes.\n\nThe root cause is that keystone public wsgi doesn't find fernet\nkeys on startup - and then persists on sending 500 errors to any\nrequests - due to a race condition between\nfernet_setup/fernet-push.sh and keystone startup.\n\nDepends-On: https://review.opendev.org/705958\nChange-Id: I63709c2e3f6a893db82a05640da78f492bf8440f\nCloses-Bug: #1846789\n(cherry picked from commit 0799782ce83d1057f262b44c979a15f9a1b05c72)\n""}, {'number': 3, 'created': '2020-08-25 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5340c7e959ce0ddf99bd3cab6414f5712ac90bf', 'message': ""Fix keystone fernet bootstrap\n\nThere are cases when a multinode deployment ends up in unusable\nkeystone public wsgi on some nodes.\n\nThe root cause is that keystone public wsgi doesn't find fernet\nkeys on startup - and then persists on sending 500 errors to any\nrequests - due to a race condition between\nfernet_setup/fernet-push.sh and keystone startup.\n\nDepends-On: https://review.opendev.org/705958\nChange-Id: I63709c2e3f6a893db82a05640da78f492bf8440f\nCloses-Bug: #1846789\n(cherry picked from commit 0799782ce83d1057f262b44c979a15f9a1b05c72)\n""}, {'number': 4, 'created': '2020-08-25 19:31:32.000000000', 'files': ['ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/keystone/tasks/distribute_fernet.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/roles/keystone/templates/fernet-push.sh.j2', 'releasenotes/notes/bug-1846789-fix-fernet-bootstrap-36f87e36e4dc6ec9.yaml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/fernet-rotate.sh.j2', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac38a48754de8484c2ee83534ba2df530caa2db3', 'message': ""Fix keystone fernet bootstrap\n\nThere are cases when a multinode deployment ends up in unusable\nkeystone public wsgi on some nodes.\n\nThe root cause is that keystone public wsgi doesn't find fernet\nkeys on startup - and then persists on sending 500 errors to any\nrequests - due to a race condition between\nfernet_setup/fernet-push.sh and keystone startup.\n\nDepends-On: https://review.opendev.org/705958\nChange-Id: I63709c2e3f6a893db82a05640da78f492bf8440f\nCloses-Bug: #1846789\n(cherry picked from commit 0799782ce83d1057f262b44c979a15f9a1b05c72)\n""}]",0,705949,ac38a48754de8484c2ee83534ba2df530caa2db3,16,3,4,22629,,,0,"Fix keystone fernet bootstrap

There are cases when a multinode deployment ends up in unusable
keystone public wsgi on some nodes.

The root cause is that keystone public wsgi doesn't find fernet
keys on startup - and then persists on sending 500 errors to any
requests - due to a race condition between
fernet_setup/fernet-push.sh and keystone startup.

Depends-On: https://review.opendev.org/705958
Change-Id: I63709c2e3f6a893db82a05640da78f492bf8440f
Closes-Bug: #1846789
(cherry picked from commit 0799782ce83d1057f262b44c979a15f9a1b05c72)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/705949/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/keystone/tasks/distribute_fernet.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/roles/keystone/templates/fernet-push.sh.j2', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/keystone/templates/fernet-rotate.sh.j2', 'releasenotes/notes/bug-1846789-fix-fernet-bootstrap-36f87e36e4dc6ec9.yaml', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2']",8,f94e106c1c761fe91d764c234fbd020ca52e37a7,bug/1846789-stable/train,"# NOTE(mnasiadka): Check for existence of at least two tokens (should exist after bootstrap) TOKEN_CHECK=$(/usr/bin/python{{ distro_python_version }} /usr/bin/fetch_fernet_tokens.py -t {{ fernet_token_expiry }} -n 2) # Ensure tokens are populated n=0 while /usr/bin/python{{ distro_python_version }} /usr/bin/fetch_fernet_tokens.py -t 86400 -n 1 | grep -q '""populated"": false'; do if [ $n -lt 10 ]; then n=$(( n + 1 )) echo ""ERROR: Fernet tokens have not been populated, rechecking in 1 minute"" echo ""DEBUG: /etc/keystone/fernet-keys contents:"" ls -l /etc/keystone/fernet-keys/ sleep 60 else echo ""CRITICAL: Waited for 10 minutes - failing"" exit 1 fi doneif $(echo ""$TOKEN_CHECK"" | grep -q '""update_required"": false'); then","TOKEN_CHECK=$(/usr/bin/python{{ distro_python_version }} /usr/bin/fetch_fernet_tokens.py -t {{ fernet_token_expiry }} -n {{ (groups['keystone'] | length) + 1 }})if $(echo ""$TOKEN_CHECK"" | grep -q '""update_required"":""false""'); then",87,31
openstack%2Frequirements~stable%2Ftrain~Ic14ac4df3cff00c16de8a0bfaa155d12f1863aef,openstack/requirements,stable/train,Ic14ac4df3cff00c16de8a0bfaa155d12f1863aef,Set minimal version for setuptools,ABANDONED,2020-08-26 19:42:47.000000000,2020-08-28 16:06:28.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26106}]","[{'number': 1, 'created': '2020-08-26 19:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c55d898c3e23faf3e69b57362a549111b5f68c0', 'message': 'Set minimal version for setuptools\n\nChange-Id: Ic14ac4df3cff00c16de8a0bfaa155d12f1863aef\n'}, {'number': 2, 'created': '2020-08-28 08:59:45.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4f3c8bfbea2acc75aa3dc765356cc5dee92f74f7', 'message': 'Set minimal version for setuptools\n\nChange-Id: Ic14ac4df3cff00c16de8a0bfaa155d12f1863aef\n'}]",0,748290,4f3c8bfbea2acc75aa3dc765356cc5dee92f74f7,9,3,2,26106,,,0,"Set minimal version for setuptools

Change-Id: Ic14ac4df3cff00c16de8a0bfaa155d12f1863aef
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/748290/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,4c55d898c3e23faf3e69b57362a549111b5f68c0,fix-uwsgi-centos,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,>=44.0.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0 # PSF/ZPL",1,1
openstack%2Fpython-magnumclient~master~I74caec23234c13c53cecbe7bb91aa0eef236d566,openstack/python-magnumclient,master,I74caec23234c13c53cecbe7bb91aa0eef236d566,Display project_id for cluster template,NEW,2020-08-28 11:18:29.000000000,2020-08-28 16:05:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-28 11:18:29.000000000', 'files': ['magnumclient/osc/v1/cluster_templates.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/faa2a3d658d1773a250dcbba8168608bcc1c1ab4', 'message': 'Display project_id for cluster template\n\nSince we display project_id for clusters, see no reason in not\nshowing it for the templates.\n\nChange-Id: I74caec23234c13c53cecbe7bb91aa0eef236d566\n'}]",0,748605,faa2a3d658d1773a250dcbba8168608bcc1c1ab4,3,2,1,28619,,,0,"Display project_id for cluster template

Since we display project_id for clusters, see no reason in not
showing it for the templates.

Change-Id: I74caec23234c13c53cecbe7bb91aa0eef236d566
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/05/748605/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/osc/v1/cluster_templates.py'],1,faa2a3d658d1773a250dcbba8168608bcc1c1ab4,," 'hidden', 'project_id',", 'hidden',2,1
openstack%2Ftripleo-quickstart~master~I7dad20e44c692dfc0554f8acc7f90e38eaa669a5,openstack/tripleo-quickstart,master,I7dad20e44c692dfc0554f8acc7f90e38eaa669a5,The containerized undercloud no longer uses deploy,ABANDONED,2018-07-12 21:33:46.000000000,2020-08-28 16:04:11.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 25402}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-12 21:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/670a3e4d0d9328904cda084ec7e7f8cc903f641a', 'message': 'WIP: fix up doc creation\n\nDepends-On: I0b6ce6bb3561551465cb31ac7b0a8db680253561\nChange-Id: I7dad20e44c692dfc0554f8acc7f90e38eaa669a5\n'}, {'number': 2, 'created': '2018-07-13 19:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd399ec7de36e7c23f22acedfa403b4abc458e03', 'message': 'The containerized undercloud no longer uses deploy\n\nThe doc creation should key off of undercloud-setup.\n\nDepends-On: I0b6ce6bb3561551465cb31ac7b0a8db680253561\nChange-Id: I7dad20e44c692dfc0554f8acc7f90e38eaa669a5\n'}, {'number': 3, 'created': '2018-12-31 18:00:55.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2e09154996e26ccb048cfa6b5a6936e814c26c21', 'message': 'The containerized undercloud no longer uses deploy\n\nThe doc creation should key off of undercloud-setup.\n\nDepends-On: I0b6ce6bb3561551465cb31ac7b0a8db680253561\nChange-Id: I7dad20e44c692dfc0554f8acc7f90e38eaa669a5\n'}]",1,582399,2e09154996e26ccb048cfa6b5a6936e814c26c21,26,8,3,9592,,,0,"The containerized undercloud no longer uses deploy

The doc creation should key off of undercloud-setup.

Depends-On: I0b6ce6bb3561551465cb31ac7b0a8db680253561
Change-Id: I7dad20e44c692dfc0554f8acc7f90e38eaa669a5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/582399/3 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,670a3e4d0d9328904cda084ec7e7f8cc903f641a,, - undercloud-install - undercloud-install, - undercloud-deploy - undercloud-deploy,2,2
openstack%2Ftripleo-quickstart-extras~master~I0b6ce6bb3561551465cb31ac7b0a8db680253561,openstack/tripleo-quickstart-extras,master,I0b6ce6bb3561551465cb31ac7b0a8db680253561,Update the undercloud install to a specific step.,ABANDONED,2018-07-12 21:19:55.000000000,2020-08-28 15:53:33.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-12 21:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac99e064987cf156230c8ee021af560b042a7f61', 'message': 'WIP: test doc creation\n\nChange-Id: I0b6ce6bb3561551465cb31ac7b0a8db680253561\n'}, {'number': 2, 'created': '2018-07-13 19:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/29d4b45eb6560f591afd44384427012a276e71ac', 'message': 'Update the undercloud install to a specific step.\n\nThe step is not included, just the title. fix\n\nChange-Id: I0b6ce6bb3561551465cb31ac7b0a8db680253561\n'}, {'number': 3, 'created': '2018-12-31 18:00:38.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud-install.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c942c68eb0c033efb3f83b0d39f32c76d22fba8', 'message': 'Update the undercloud install to a specific step.\n\nThe step is not included, just the title. fix\n\nChange-Id: I0b6ce6bb3561551465cb31ac7b0a8db680253561\n'}]",1,582393,5c942c68eb0c033efb3f83b0d39f32c76d22fba8,26,6,3,9592,,,0,"Update the undercloud install to a specific step.

The step is not included, just the title. fix

Change-Id: I0b6ce6bb3561551465cb31ac7b0a8db680253561
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/93/582393/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/undercloud-install.sh.j2'],1,ac99e064987cf156230c8ee021af560b042a7f61,I0b6ce6bb3561551465cb31ac7b0a8db680253561,## Install the Undercloud ## ---------------------- ## :: ,,4,0
openstack%2Fproject-config~master~I8613caafba93b7ceea43eeb99539a0c43d495ff7,openstack/project-config,master,I8613caafba93b7ceea43eeb99539a0c43d495ff7,Assure periodic-weekly emails to zuul-jobs-failures,ABANDONED,2020-08-28 15:34:27.000000000,2020-08-28 15:51:44.000000000,,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 15:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d022b46ebed5a65df6cea0b7d6d62a392d913b7', 'message': 'Assure periodic-weekly emails to zuul-jobs-failures\n\nAssure periodic-weekly failures are sent to the new mailing list\ncreating for monitoring them.\n\nDepends-On: #748688\nChange-Id: I8613caafba93b7ceea43eeb99539a0c43d495ff7\n'}, {'number': 2, 'created': '2020-08-28 15:42:19.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef0298b7853008229e5f2e9bd4b7345a5d186009', 'message': 'Assure periodic-weekly emails to zuul-jobs-failures\n\nAssure periodic-weekly failures are sent to the new mailing list\ncreating for monitoring them.\n\nDepends-On: https://review.opendev.org/#/c/748688/\nChange-Id: I8613caafba93b7ceea43eeb99539a0c43d495ff7\n'}]",0,748699,ef0298b7853008229e5f2e9bd4b7345a5d186009,6,3,2,24162,,,0,"Assure periodic-weekly emails to zuul-jobs-failures

Assure periodic-weekly failures are sent to the new mailing list
creating for monitoring them.

Depends-On: https://review.opendev.org/#/c/748688/
Change-Id: I8613caafba93b7ceea43eeb99539a0c43d495ff7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/748699/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,2d022b46ebed5a65df6cea0b7d6d62a392d913b7,zuul-jobs-failures, smtp: from: zuul@openstack.org to: zuul-jobs-failures@lists.openstack.org subject: '{change.job} @periodic-weekly failed',,4,0
openstack%2Fproject-config~master~I3217c63b338e4ad23b2f0f8401d7f5617f5ee53f,openstack/project-config,master,I3217c63b338e4ad23b2f0f8401d7f5617f5ee53f,Retire devstack-plugin-pika project,ABANDONED,2020-08-28 15:48:56.000000000,2020-08-28 15:50:48.000000000,,"[{'_account_id': 8770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 15:48:56.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b7592eb4ffb835f3bb28ebf1e99c961cfd2c984d', 'message': 'Retire devstack-plugin-pika project\n\nThis plugin was used by the oslo.messaging project to test the\ndevelopment of an alternative RabbitMQ message driver based on\nthe Pika library (instead of the default Kombu driver).\n\nDevelopment of this driver was dropped in Queens and is not\nsupported.\n\nChange-Id: I3217c63b338e4ad23b2f0f8401d7f5617f5ee53f\nDepends-On: https://review.opendev.org/748698\n'}]",0,748705,b7592eb4ffb835f3bb28ebf1e99c961cfd2c984d,4,2,1,8770,,,0,"Retire devstack-plugin-pika project

This plugin was used by the oslo.messaging project to test the
development of an alternative RabbitMQ message driver based on
the Pika library (instead of the default Kombu driver).

Development of this driver was dropped in Queens and is not
supported.

Change-Id: I3217c63b338e4ad23b2f0f8401d7f5617f5ee53f
Depends-On: https://review.opendev.org/748698
",git fetch https://review.opendev.org/openstack/project-config refs/changes/05/748705/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,b7592eb4ffb835f3bb28ebf1e99c961cfd2c984d,retire-devstack-plugin-pika-3,, - openstack/devstack-plugin-pika,2,9
openstack%2Fcharm-guide~master~Ib0a2c311f6b1b0844fabec10466bffb3d109bac4,openstack/charm-guide,master,Ib0a2c311f6b1b0844fabec10466bffb3d109bac4,OVS bridges and ports are now marked as managed by charm-neutron-gateway,MERGED,2020-07-23 12:55:51.000000000,2020-08-28 15:47:27.000000000,2020-08-28 15:44:33.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-23 12:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bbf9dc1818ec5e00829bcdcea83edf83d2b86a7c', 'message': 'OVS bridges and ports are now marked as managed by charm-neutron-gateway\n\nDepends-On: I8b459135d131e16865de40ff3eae16ea3bc7195e\nChange-Id: Ib0a2c311f6b1b0844fabec10466bffb3d109bac4\nPartial-Bug: #1809190\n'}, {'number': 2, 'created': '2020-08-26 11:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e4566db4860d29419935aede69f69d33ae65e912', 'message': 'OVS bridges and ports are now marked as managed by charm-neutron-gateway\n\nDepends-On: I8b459135d131e16865de40ff3eae16ea3bc7195e\nChange-Id: Ib0a2c311f6b1b0844fabec10466bffb3d109bac4\nPartial-Bug: #1809190\n'}, {'number': 3, 'created': '2020-08-28 09:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d1aa1ded45db592095413158e16a23b21aa74f01', 'message': 'OVS bridges and ports are now marked as managed by charm-neutron-gateway\n\nDepends-On: I8b459135d131e16865de40ff3eae16ea3bc7195e\nChange-Id: Ib0a2c311f6b1b0844fabec10466bffb3d109bac4\nPartial-Bug: #1809190\nRelated-Bug: #1877594\n'}, {'number': 4, 'created': '2020-08-28 14:19:56.000000000', 'files': ['doc/source/2010.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/734b1408d2b1be4bed50ed020ab1f772ed1dbf54', 'message': 'OVS bridges and ports are now marked as managed by charm-neutron-gateway\n\nDepends-On: I8b459135d131e16865de40ff3eae16ea3bc7195e\nChange-Id: Ib0a2c311f6b1b0844fabec10466bffb3d109bac4\nPartial-Bug: #1809190\nRelated-Bug: #1877594\n'}]",4,742660,734b1408d2b1be4bed50ed020ab1f772ed1dbf54,18,4,4,31289,,,0,"OVS bridges and ports are now marked as managed by charm-neutron-gateway

Depends-On: I8b459135d131e16865de40ff3eae16ea3bc7195e
Change-Id: Ib0a2c311f6b1b0844fabec10466bffb3d109bac4
Partial-Bug: #1809190
Related-Bug: #1877594
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/60/742660/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,bbf9dc1818ec5e00829bcdcea83edf83d2b86a7c,bug/1809190,Neutron Gateway ~~~~~~~~~~~~~~~ The neutron-gateway charm now marks the openvswitch ports and bridges it creates as managed by the charm. Even those created before upgrading to this release will be marked. Marking our ports and bridges will allow us to implement some cleanup mechanism without risking removing too much. See bug `LP #1809190`_ for details. Neutron Gateway ~~~~~~~~~~~~~~~ The neutron-gateway charm no longer supports adding a Linux bridge to an openvswitch bridge. See bug `LP #1877594`_ for details on the rationale and on how to migrate away from this feature. .. _LP #1809190: https://bugs.launchpad.net/charm-neutron-gateway/+bug/1809190.. _LP #1877594: https://bugs.launchpad.net/charm-neutron-gateway/+bug/1877594,,21,0
openstack%2Fkolla-ansible~master~Ic41cad64ed0479a0cef7321aeed191fe06a30e8f,openstack/kolla-ansible,master,Ic41cad64ed0479a0cef7321aeed191fe06a30e8f,Drop support for /etc/modules,MERGED,2020-07-07 17:09:25.000000000,2020-08-28 15:41:10.000000000,2020-08-28 15:39:14.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30523}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-07-07 17:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01800f70042d56cfcfa9907bd16724fd491b96a7', 'message': 'WIP: drop support for /etc/modules\n\nChange-Id: Ic41cad64ed0479a0cef7321aeed191fe06a30e8f\n'}, {'number': 2, 'created': '2020-08-25 19:21:12.000000000', 'files': ['ansible/roles/module-load/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98e8a43668a7b20eeaeaf91f43d9452ab45748dc', 'message': 'Drop support for /etc/modules\n\nWe no longer support any OS distros that use /etc/modules.\n\nChange-Id: Ic41cad64ed0479a0cef7321aeed191fe06a30e8f\n'}]",0,739822,98e8a43668a7b20eeaeaf91f43d9452ab45748dc,14,5,2,14826,,,0,"Drop support for /etc/modules

We no longer support any OS distros that use /etc/modules.

Change-Id: Ic41cad64ed0479a0cef7321aeed191fe06a30e8f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/739822/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/module-load/tasks/main.yml', 'zuul.d/project.yaml']",2,01800f70042d56cfcfa9907bd16724fd491b96a7,,, templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-ceph-ansible - kolla-ansible-ubuntu-source-ceph-ansible - kolla-ansible-centos8-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-ubuntu-source-ovn,3,49
openstack%2Fpuppet-openstack-integration~master~I00e9151e7347e71215d36698e8ee3c3e603ce784,openstack/puppet-openstack-integration,master,I00e9151e7347e71215d36698e8ee3c3e603ce784,[CentOS8] Enable os_neutron_dac_override,MERGED,2020-08-27 15:19:50.000000000,2020-08-28 15:22:13.000000000,2020-08-28 15:08:47.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 15:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/35b5de252020ec101b8db077124f724c13614900', 'message': '[CentOS8] Enable os_neutron_dac_override\n\nWe should enable os_neutron_dac_override when installing Neutron,\notherwise privsep helper always fails to start.\n\nChange-Id: I00e9151e7347e71215d36698e8ee3c3e603ce784\n'}, {'number': 2, 'created': '2020-08-28 05:44:17.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a71c6f3046b0c9694bdfc4701999e5d60aa663db', 'message': '[CentOS8] Enable os_neutron_dac_override\n\nWe should enable os_neutron_dac_override when installing Neutron,\notherwise privsep helper always fails to start.\n\nChange-Id: I00e9151e7347e71215d36698e8ee3c3e603ce784\n'}]",0,748463,a71c6f3046b0c9694bdfc4701999e5d60aa663db,10,3,2,9816,,,0,"[CentOS8] Enable os_neutron_dac_override

We should enable os_neutron_dac_override when installing Neutron,
otherwise privsep helper always fails to start.

Change-Id: I00e9151e7347e71215d36698e8ee3c3e603ce784
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/63/748463/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,35b5de252020ec101b8db077124f724c13614900,centos8-beaker," if $::osfamily == 'RedHat' { # os_neutron_dac_override should be on to start privsep-helper # See https://bugzilla.redhat.com/show_bug.cgi?id=1850973 selboolean { 'os_neutron_dac_override': persistent => true, value => on, } } ",,9,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0,openstack/tripleo-heat-templates,stable/ussuri,Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0,Set a higher PIDs limit for nova_libvirt container,MERGED,2020-08-28 06:10:32.000000000,2020-08-28 15:10:56.000000000,2020-08-28 15:08:55.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 06:10:32.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/ContainerNovaLibvirtPidsLimit-cdad2166b6c0195f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/daff4688fb016a46f49660fa03ca5a43e3945d52', 'message': ""Set a higher PIDs limit for nova_libvirt container\n\nThe default limit is set to 4096. This can be reached with about 150\nVMs, and therefore can lead to a situation where you're unable to start\nnew VMs on a compute node.\n\nThis patch integrates the modifications made by Rabi in his own\n(abandonned) patch.\n\nNote: this patch needs to be backported down to stable/train. The value\nof Depends-On will need to be updated in order to point to another\npatch, in paunch repository: https://review.opendev.org/747831\n\nChange-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\nDepends-On: https://review.opendev.org/748108\n(cherry picked from commit 9d71882a420ac77d033c77f6ca762c6636603129)\n""}]",0,748574,daff4688fb016a46f49660fa03ca5a43e3945d52,9,4,1,28223,,,0,"Set a higher PIDs limit for nova_libvirt container

The default limit is set to 4096. This can be reached with about 150
VMs, and therefore can lead to a situation where you're unable to start
new VMs on a compute node.

This patch integrates the modifications made by Rabi in his own
(abandonned) patch.

Note: this patch needs to be backported down to stable/train. The value
of Depends-On will need to be updated in order to point to another
patch, in paunch repository: https://review.opendev.org/747831

Change-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
Depends-On: https://review.opendev.org/748108
(cherry picked from commit 9d71882a420ac77d033c77f6ca762c6636603129)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/748574/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/ContainerNovaLibvirtPidsLimit-cdad2166b6c0195f.yaml']",2,daff4688fb016a46f49660fa03ca5a43e3945d52,,"--- features: - | Adds a new ContainerNovaLibvirtPidsLimit parameter in order to set the PIDs limit for nova_libvirt container. Defaults to 65536, set to 0 for unlimited. ",,12,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0,openstack/tripleo-heat-templates,stable/train,Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0,Set a higher PIDs limit for nova_libvirt container,MERGED,2020-08-28 06:11:17.000000000,2020-08-28 15:10:51.000000000,2020-08-28 15:08:53.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 06:11:17.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/ContainerNovaLibvirtPidsLimit-cdad2166b6c0195f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94ba270906b398d5a44004a5ecd4b07363043006', 'message': ""Set a higher PIDs limit for nova_libvirt container\n\nThe default limit is set to 4096. This can be reached with about 150\nVMs, and therefore can lead to a situation where you're unable to start\nnew VMs on a compute node.\n\nThis patch integrates the modifications made by Rabi in his own\n(abandonned) patch.\n\nNote: this patch needs to be backported down to stable/train. The value\nof Depends-On will need to be updated in order to point to another\npatch, in paunch repository: https://review.opendev.org/747831\n\nChange-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\nDepends-On: https://review.opendev.org/747831\n(cherry picked from commit 9d71882a420ac77d033c77f6ca762c6636603129)\n(cherry picked from commit daff4688fb016a46f49660fa03ca5a43e3945d52)\n""}]",0,748575,94ba270906b398d5a44004a5ecd4b07363043006,9,4,1,28223,,,0,"Set a higher PIDs limit for nova_libvirt container

The default limit is set to 4096. This can be reached with about 150
VMs, and therefore can lead to a situation where you're unable to start
new VMs on a compute node.

This patch integrates the modifications made by Rabi in his own
(abandonned) patch.

Note: this patch needs to be backported down to stable/train. The value
of Depends-On will need to be updated in order to point to another
patch, in paunch repository: https://review.opendev.org/747831

Change-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
Depends-On: https://review.opendev.org/747831
(cherry picked from commit 9d71882a420ac77d033c77f6ca762c6636603129)
(cherry picked from commit daff4688fb016a46f49660fa03ca5a43e3945d52)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/748575/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/ContainerNovaLibvirtPidsLimit-cdad2166b6c0195f.yaml']",2,94ba270906b398d5a44004a5ecd4b07363043006,,"--- features: - | Adds a new ContainerNovaLibvirtPidsLimit parameter in order to set the PIDs limit for nova_libvirt container. Defaults to 65536, set to 0 for unlimited. ",,12,0
openstack%2Ftripleo-heat-templates~master~I3eccbef6475d0c3b2e32f21d236fe26607aff968,openstack/tripleo-heat-templates,master,I3eccbef6475d0c3b2e32f21d236fe26607aff968,Use parameters in new neutron::server::notifications::nova class,MERGED,2020-07-13 06:32:09.000000000,2020-08-28 15:08:57.000000000,2020-08-28 15:08:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-13 06:32:09.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/adef06e43ec6439c104f460ee23356e86e49d6e7', 'message': 'Use parameters in new neutron::server::notifications::nova class\n\n... instead of deprecated ones in neutron::server::notifications\n\nDepends-on: https://review.opendev.org/#/c/740616/\nChange-Id: I3eccbef6475d0c3b2e32f21d236fe26607aff968\n'}]",0,740618,adef06e43ec6439c104f460ee23356e86e49d6e7,14,6,1,9816,,,0,"Use parameters in new neutron::server::notifications::nova class

... instead of deprecated ones in neutron::server::notifications

Depends-on: https://review.opendev.org/#/c/740616/
Change-Id: I3eccbef6475d0c3b2e32f21d236fe26607aff968
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/740618/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,adef06e43ec6439c104f460ee23356e86e49d6e7,neutron-notifications," neutron::server::notifications::nova::auth_url: { get_param: [ EndpointMap, KeystoneInternal, uri_no_suffix ] } neutron::server::notifications::nova::project_name: 'service' neutron::server::notifications::nova::user_domain_name: 'Default' neutron::server::notifications::nova::project_domain_name: 'Default' neutron::server::notifications::nova::region_name: {get_param: KeystoneRegion} neutron::server::notifications::nova::password: {get_param: NovaPassword} neutron::server::notifications::nova::endpoint_type: 'internal'"," neutron::server::notifications::auth_url: { get_param: [ EndpointMap, KeystoneInternal, uri_no_suffix ] } neutron::server::notifications::project_name: 'service' neutron::server::notifications::user_domain_name: 'Default' neutron::server::notifications::project_domain_name: 'Default' neutron::server::notifications::region_name: {get_param: KeystoneRegion} neutron::server::notifications::password: {get_param: NovaPassword} neutron::server::notifications::endpoint_type: 'internal'",7,7
openstack%2Fironic-python-agent~master~Ib44bbad1645e01d4fc368952e60ab28a06be3be3,openstack/ironic-python-agent,master,Ib44bbad1645e01d4fc368952e60ab28a06be3be3,[DNM] log du /opt,NEW,2020-08-26 16:11:43.000000000,2020-08-28 14:52:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 16:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/695725eaa5223d67cec34de5d8a2c0d42d54469f', 'message': '[DNM] log du /opt\n\nChange-Id: Ib44bbad1645e01d4fc368952e60ab28a06be3be3\n'}, {'number': 2, 'created': '2020-08-27 07:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5fb8d010dbb7ddb43ceb1baeffda764d8107f0e2', 'message': '[DNM] log du /opt\n\nChange-Id: Ib44bbad1645e01d4fc368952e60ab28a06be3be3\n'}, {'number': 3, 'created': '2020-08-28 08:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/84e3e9936d84394523c327ab793f1149a49fd6d8', 'message': '[DNM] log du /opt\n\nChange-Id: Ib44bbad1645e01d4fc368952e60ab28a06be3be3\n'}, {'number': 4, 'created': '2020-08-28 12:20:10.000000000', 'files': ['playbooks/du-opt.yaml', 'zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0c4844bd723aad09ab47f7facd6d3b4303e117e8', 'message': '[DNM] log du /opt\n\nChange-Id: Ib44bbad1645e01d4fc368952e60ab28a06be3be3\n'}]",0,748269,0c4844bd723aad09ab47f7facd6d3b4303e117e8,12,2,4,23851,,,0,"[DNM] log du /opt

Change-Id: Ib44bbad1645e01d4fc368952e60ab28a06be3be3
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/69/748269/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/du-opt.yaml', 'zuul.d/ironic-python-agent-jobs.yaml']",2,695725eaa5223d67cec34de5d8a2c0d42d54469f,log-du-opt, post-run: playbooks/du-opt.yaml,,6,0
openstack%2Ftripleo-common~stable%2Ftrain~I25fcf887044fdf4d05d5d4cfa268aab6aebdf244,openstack/tripleo-common,stable/train,I25fcf887044fdf4d05d5d4cfa268aab6aebdf244,Remove check for ./puppet/services when filtering services,MERGED,2020-08-17 03:10:42.000000000,2020-08-28 14:46:45.000000000,2020-08-28 14:44:28.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 03:10:42.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5446279919d8bf02d542b3a67c259389841aac1d', 'message': ""Remove check for ./puppet/services when filtering services\n\nIt is no longer a way to indentify if a service is containerized\nor not. If the service exists in overcloud_containers.yaml.j2,\nit's assumed to be containerized.\n\nAlso flips logic to not loop through all services in\nresource_regstry.\n\nChange-Id: I25fcf887044fdf4d05d5d4cfa268aab6aebdf244\n(cherry picked from commit fbb6b57a272cff26b03d8126a20220e6ca509784)\n""}]",0,746432,5446279919d8bf02d542b3a67c259389841aac1d,40,5,1,8833,,,0,"Remove check for ./puppet/services when filtering services

It is no longer a way to indentify if a service is containerized
or not. If the service exists in overcloud_containers.yaml.j2,
it's assumed to be containerized.

Also flips logic to not loop through all services in
resource_regstry.

Change-Id: I25fcf887044fdf4d05d5d4cfa268aab6aebdf244
(cherry picked from commit fbb6b57a272cff26b03d8126a20220e6ca509784)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/746432/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,5446279919d8bf02d542b3a67c259389841aac1d,container_image-stable/train," 'OS::TripleO::Services::NeutronApi',"," 'OS::TripleO::Services::NeutronApi': '/tht/puppet/services/foo.yaml',",6,14
openstack%2Ftripleo-heat-templates~master~Iccecb70544d1019b7e504ecdc08ca0c3f179479c,openstack/tripleo-heat-templates,master,Iccecb70544d1019b7e504ecdc08ca0c3f179479c,Remove rrdtool from collectdExtraPLugins,MERGED,2020-08-19 13:59:57.000000000,2020-08-28 14:44:29.000000000,2020-08-28 14:44:29.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 13:59:57.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/973b056d968a5cac480ba85d2c9ee2462e7ca75c', 'message': 'Remove rrdtool from collectdExtraPLugins\n\nas it is not included in the container.\n\nFixes bug: 1892097\n\nChange-Id: Iccecb70544d1019b7e504ecdc08ca0c3f179479c\n'}]",3,746930,973b056d968a5cac480ba85d2c9ee2462e7ca75c,31,7,1,4264,,,0,"Remove rrdtool from collectdExtraPLugins

as it is not included in the container.

Fixes bug: 1892097

Change-Id: Iccecb70544d1019b7e504ecdc08ca0c3f179479c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/746930/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,973b056d968a5cac480ba85d2c9ee2462e7ca75c,collectd_failures,, CollectdExtraPlugins: - rrdtool,0,2
openstack%2Fvitrage~master~I6bd12de3eae7f4cefda1d608d008a1c35917b490,openstack/vitrage,master,I6bd12de3eae7f4cefda1d608d008a1c35917b490,update zabbix driver,MERGED,2020-08-27 02:54:29.000000000,2020-08-28 14:36:28.000000000,2020-08-28 14:34:36.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-27 02:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5162e84f4085ab2cfbfdfdbe8eaa4caeca626f0a', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 2, 'created': '2020-08-27 06:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6f5f09fdd62af1be80239299af5c5309a6a16fc2', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nDepends-On: https://review.opendev.org/#/c/748359/\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 3, 'created': '2020-08-27 08:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/55a2d75d8e611fa0de677758c13648422ebd991b', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nDepends-On: https://review.opendev.org/#/c/748359/\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 4, 'created': '2020-08-27 08:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2f825b8a97b676ad58db6bfecceaceb5b8740eff', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 5, 'created': '2020-08-27 08:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a9034cbec2beddbfc24db4fe815976a5cb9120f5', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nDepends-On: https://review.opendev.org/#/c/748359/\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 6, 'created': '2020-08-27 08:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/8f4c06e064383e744605ac7989a5b7c1915c6fa4', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 7, 'created': '2020-08-27 09:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7132e09cd0ed1240f1ad3de9996acc49064b7257', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nDepends-On: https://review.opendev.org/#/c/748359/\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}, {'number': 8, 'created': '2020-08-28 06:09:43.000000000', 'files': ['vitrage/datasources/zabbix/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d24dae2dc56993e6b12ed90d3bb1af709c7afb15', 'message': 'update zabbix driver\n\nAllow outdate alarms to be deleted.\n\nChange-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490\n'}]",0,748342,d24dae2dc56993e6b12ed90d3bb1af709c7afb15,25,3,8,30408,,,0,"update zabbix driver

Allow outdate alarms to be deleted.

Change-Id: I6bd12de3eae7f4cefda1d608d008a1c35917b490
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/42/748342/8 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/zabbix/driver.py'],1,5162e84f4085ab2cfbfdfdbe8eaa4caeca626f0a,zabbix, @staticmethod def should_delete_outdated_entities(): return True,,4,0
openstack%2Fvitrage~master~Ie1dac88b757254d86d9256be2a4020247e95a1aa,openstack/vitrage,master,Ie1dac88b757254d86d9256be2a4020247e95a1aa,Fix import error,MERGED,2020-08-28 02:16:31.000000000,2020-08-28 14:15:26.000000000,2020-08-28 14:13:25.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 02:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f785ca1246a8a56573c2f7a12a7be71bcfe1a146', 'message': 'Fix import error\n\nChange-Id: Ie1dac88b757254d86d9256be2a4020247e95a1aa\n'}, {'number': 2, 'created': '2020-08-28 06:08:33.000000000', 'files': ['vitrage/datasources/kubernetes/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/240605bf5531d55ea1a9010d1b1c98ffca296d77', 'message': 'Fix import error\n\nDepends-On: https://review.opendev.org/#/c/748359/\nChange-Id: Ie1dac88b757254d86d9256be2a4020247e95a1aa\n'}]",0,748561,240605bf5531d55ea1a9010d1b1c98ffca296d77,11,2,2,30408,,,0,"Fix import error

Depends-On: https://review.opendev.org/#/c/748359/
Change-Id: Ie1dac88b757254d86d9256be2a4020247e95a1aa
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/61/748561/2 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/kubernetes/driver.py'],1,f785ca1246a8a56573c2f7a12a7be71bcfe1a146,bug,from oslo_config import cfg,from oslo_log import cfg,1,1
openstack%2Fcharm-guide~master~Ie3f1de3777b52b0ebe7c3e968c748436cb4b109f,openstack/charm-guide,master,Ie3f1de3777b52b0ebe7c3e968c748436cb4b109f,The Arista charm now supports all Queens+ releases,MERGED,2020-08-19 14:13:36.000000000,2020-08-28 14:14:27.000000000,2020-08-28 14:13:06.000000000,"[{'_account_id': 14567}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-08-19 14:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9e7ba6845404e72075a5b1d60479975d29608a31', 'message': 'The Arista charm now supports all Queens+ releases\n\nDepends-On: I18b57a85536b4077945fbaf5c1afe95a02d81344\nChange-Id: Ie3f1de3777b52b0ebe7c3e968c748436cb4b109f\n'}, {'number': 2, 'created': '2020-08-27 11:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/743c97b17e9d1856474806b18346fe26d800e892', 'message': 'The Arista charm now supports all Queens+ releases\n\nDepends-On: I18b57a85536b4077945fbaf5c1afe95a02d81344\nChange-Id: Ie3f1de3777b52b0ebe7c3e968c748436cb4b109f\n'}, {'number': 3, 'created': '2020-08-28 08:52:15.000000000', 'files': ['doc/source/2010.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7aca12a14e83866e015e5fbc51ce576c78f7019b', 'message': 'The Arista charm now supports all Queens+ releases\n\nDepends-On: I18b57a85536b4077945fbaf5c1afe95a02d81344\nChange-Id: Ie3f1de3777b52b0ebe7c3e968c748436cb4b109f\n'}]",5,746934,7aca12a14e83866e015e5fbc51ce576c78f7019b,13,3,3,31289,,,0,"The Arista charm now supports all Queens+ releases

Depends-On: I18b57a85536b4077945fbaf5c1afe95a02d81344
Change-Id: Ie3f1de3777b52b0ebe7c3e968c748436cb4b109f
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/34/746934/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2010.rst'],1,9e7ba6845404e72075a5b1d60479975d29608a31,bug/1890628,Arista - Supported releases ~~~~~~~~~~~~~~~~~~~~~~~~~~~ The neutron-api-plugin-arista charm now supports not only OpenStack Queens but also all newer releases. See `LP #1890628`_ for more details. Arista requires a special PPA ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Because of `LP #1890628`_ the official networking-arista package can't be used. A bugfix is currently under review. For the time being some unofficial packages containing this fix have been published to the following PPAs: * https://launchpad.net/~aurelien-lourot/+archive/ubuntu/arista-rocky * https://launchpad.net/~aurelien-lourot/+archive/ubuntu/arista-stein * https://launchpad.net/~aurelien-lourot/+archive/ubuntu/arista-train * https://launchpad.net/~aurelien-lourot/+archive/ubuntu/arista-ussuri The `Arista test bundles`_ are good examples on how to make use of these PPAs. .. _Arista test bundles: https://github.com/openstack/charm-neutron-api-plugin-arista/tree/master/src/tests/bundles.. _LP #1889396: https://bugs.launchpad.net/networking-arista/+bug/1889396,.. _neutron-api-plugin-arista charm README: https://github.com/openstack/charm-neutron-api-plugin-arista/blob/master/README.md .. _Upgrading to stable Arista charm: https://github.com/openstack/charm-neutron-api-plugin-arista/blob/master/docs/upgrading-to-stable.md.. _LP #1879749: https://bugs.launchpad.net/charm-ceph-rbd-mirror/+bug/1879749,22,3
openstack%2Fneutron~master~I99913107e803384b34cbd5ca588451b1cf64d594,openstack/neutron,master,I99913107e803384b34cbd5ca588451b1cf64d594,Improve terminology in the Neutron tree,MERGED,2020-06-11 21:08:38.000000000,2020-08-28 14:11:30.000000000,2020-08-28 14:06:18.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-11 21:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/316014a598971f0dc1212ac9561ad6ce30d47b4a', 'message': ""Improve terminology in the Neutron tree\n\nThere is no real reason we should be using some of the\nterms we do, they're outdated, and we're behind other\nopen-source projects in this respect. Let's switch to\nusing primary/backup in all possible places.\n\nChange-Id: I99913107e803384b34cbd5ca588451b1cf64d594\n""}, {'number': 2, 'created': '2020-06-15 18:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/280f242b86f327a792e76fa0d05d08e48516ccb0', 'message': ""Improve terminology in the Neutron tree\n\nThere is no real reason we should be using some of the\nterms we do, they're outdated, and we're behind other\nopen-source projects in this respect. Let's switch to\nusing primary/backup in all possible places.\n\nChange-Id: I99913107e803384b34cbd5ca588451b1cf64d594\n""}, {'number': 3, 'created': '2020-07-08 19:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a2f17772c33f3a2ebb92a3cc772d99060d4d110', 'message': ""Improve terminology in the Neutron tree\n\nThere is no real reason we should be using some of the\nterms we do, they're outdated, and we're behind other\nopen-source projects in this respect. Let's switch to\nusing more inclusive terms in all possible places.\n\nChange-Id: I99913107e803384b34cbd5ca588451b1cf64d594\n""}, {'number': 4, 'created': '2020-08-19 21:01:25.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/_test_mech_agent.py', 'neutron/conf/agent/l3/ha.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'releasenotes/notes/make-supported-vnic-types-configurable-for-sriov-094f7663e8975e9b.yaml', 'doc/source/admin/config-sriov.rst', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/improve-terminology-d69d7549b79dff5d.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py', 'neutron/tests/unit/agent/l3/test_ha_router.py', 'neutron/agent/l3/ha_router.py', 'doc/source/admin/config-ml2.rst', 'tox.ini', 'neutron/db/l3_hamode_db.py', 'neutron/agent/common/resource_processing_queue.py', 'doc/source/admin/deploy-ovs-ha-vrrp.rst', 'neutron/agent/l3/ha.py', 'neutron/tests/fullstack/test_l3_agent.py', 'doc/source/contributor/internals/ovn/l3_ha_rescheduling.rst', 'doc/source/admin/config-qos-min-bw.rst', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'zuul.d/tempest-multinode.yaml', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'releasenotes/notes/stricter-security-group-port-check-in-api-d1fd84d9663e04ab.yaml', 'neutron/conf/plugins/ml2/drivers/mech_sriov/mech_sriov_conf.py', 'releasenotes/notes/make-supported-vnic-types-configurable-for-ovs-fc73422daffd42b0.yaml', 'neutron/tests/unit/agent/common/test_resource_processing_queue.py', 'neutron/agent/l3/router_info.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/conf/plugins/ml2/drivers/openvswitch/mech_ovs_conf.py', 'doc/source/admin/config-dvr-ha-snat.rst', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'releasenotes/notes/add-keepalived-vrrp-healt-check-f23ed7c853151484.yaml', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/055036ba2bc1fd1cfc54ef63dc6cb82037111950', 'message': ""Improve terminology in the Neutron tree\n\nThere is no real reason we should be using some of the\nterms we do, they're outdated, and we're behind other\nopen-source projects in this respect. Let's switch to\nusing more inclusive terms in all possible places.\n\nChange-Id: I99913107e803384b34cbd5ca588451b1cf64d594\n""}]",8,735251,055036ba2bc1fd1cfc54ef63dc6cb82037111950,55,11,4,1131,,,0,"Improve terminology in the Neutron tree

There is no real reason we should be using some of the
terms we do, they're outdated, and we're behind other
open-source projects in this respect. Let's switch to
using more inclusive terms in all possible places.

Change-Id: I99913107e803384b34cbd5ca588451b1cf64d594
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/735251/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/agent/common/resource_processing_queue.py', 'neutron/conf/agent/l3/ha.py', 'doc/source/admin/deploy-ovs-ha-vrrp.rst', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/ha.py', 'neutron/tests/fullstack/test_l3_agent.py', 'doc/source/admin/config-sriov.rst', 'doc/source/contributor/internals/ovn/l3_ha_rescheduling.rst', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/unit/agent/common/test_resource_processing_queue.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py', 'doc/source/admin/config-dvr-ha-snat.rst', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'releasenotes/notes/add-keepalived-vrrp-healt-check-f23ed7c853151484.yaml', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/agent/linux/pd.py']",30,316014a598971f0dc1212ac9561ad6ce30d47b4a,improve-terminology," def _is_pd_primary_router(self, router): return router['primary'] elif self._is_pd_primary_router(router): if not self._is_pd_primary_router(router): if self._is_pd_primary_router(router): if not self._is_pd_primary_router(router): if not self._is_pd_primary_router(router): def process_ha_state(self, router_id, primary): if router is None or router['primary'] == primary: router['primary'] = primary if primary: if not (self._is_pd_primary_router(router) and self.routers[router_id] = {'primary': True,def get_router_entry(ns_name, primary): return {'primary': primary, primary = added_router.is_router_primary() get_router_entry(gw_ns_name, primary)) router['primary'] = primary"," def _is_pd_master_router(self, router): return router['master'] elif self._is_pd_master_router(router): if not self._is_pd_master_router(router): if self._is_pd_master_router(router): if not self._is_pd_master_router(router): if not self._is_pd_master_router(router): def process_ha_state(self, router_id, master): if router is None or router['master'] == master: router['master'] = master if master: if not (self._is_pd_master_router(router) and self.routers[router_id] = {'master': True,def get_router_entry(ns_name, master): return {'master': master, master = added_router.is_router_master() get_router_entry(gw_ns_name, master)) router['master'] = master",306,302
openstack%2Fironic-python-agent-builder~master~Ie19509a6342bd37e7f72e860cc0a84d1395303c9,openstack/ironic-python-agent-builder,master,Ie19509a6342bd37e7f72e860cc0a84d1395303c9,Leave kbd installed,MERGED,2020-08-24 08:38:02.000000000,2020-08-28 14:11:17.000000000,2020-08-28 14:08:24.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 08:38:02.000000000', 'files': ['dib/ironic-python-agent-ramdisk/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/54aa2ca96fce00dea674fdaea4ae9030ec05b902', 'message': 'Leave kbd installed\n\nThe kbd package is now as trong dependency for the protected\npackage systemd-udev, therefore we need to leave it installed or\nthe Fedora job (now at Fedora 32) will fail.\n\nChange-Id: Ie19509a6342bd37e7f72e860cc0a84d1395303c9\n'}]",1,747647,54aa2ca96fce00dea674fdaea4ae9030ec05b902,8,3,1,23851,,,0,"Leave kbd installed

The kbd package is now as trong dependency for the protected
package systemd-udev, therefore we need to leave it installed or
the Fedora job (now at Fedora 32) will fail.

Change-Id: Ie19509a6342bd37e7f72e860cc0a84d1395303c9
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/47/747647/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/package-installs.yaml'],1,54aa2ca96fce00dea674fdaea4ae9030ec05b902,fix-fedora,,kbd: phase: pre-install.d uninstall: true,0,3
openstack%2Frequirements~master~Id832a0cd67eebc030407cde972360a1412a6a018,openstack/requirements,master,Id832a0cd67eebc030407cde972360a1412a6a018,Add httpx to global-reqs and upper-constraints,MERGED,2020-08-25 13:23:21.000000000,2020-08-28 14:10:00.000000000,2020-08-28 14:06:22.000000000,"[{'_account_id': 6469}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 13:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/37fc950d2d4b3f548eddddc45cc29c239d5cda01', 'message': 'Add httpx to global-reqs and upper-constraints\n\nProject openstack/octavia-tempest-plugin requires httpx for HTTP/2\nTempest scenario testing [1].\n\n- Is the library actively maintained?\n  Yes\n\n- Is the library good code?\n  Yes\n\n- Is the library python 3 compatible?\n  Yes\n\n- Is the library license compatible?\n  Yes\n\n- Is the library already packaged in the distros we target (\n  Ubuntu latest / Fedora latest)?\n  Yes [2][3]\n\n- Is the function of this library already covered by other libraries in\n  global-requirements.txt?\n  No\n\n- Is the library required for OpenStack project or related dev or\n  infrastructure setup?\n  Yes (octavia-tempest-plugin)\n\n[1] https://review.opendev.org/#/q/topic:http2\n[2] https://src.fedoraproject.org/rpms/python-httpx\n[3] https://packages.ubuntu.com/search?keywords=httpx&searchon=names&suite=all&section=all\n\nChange-Id: Id832a0cd67eebc030407cde972360a1412a6a018\n'}, {'number': 2, 'created': '2020-08-26 22:06:56.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5494ce4b174e197bcceb84a4d1502b7d57e7446f', 'message': 'Add httpx to global-reqs and upper-constraints\n\nProject openstack/octavia-tempest-plugin requires httpx for HTTP/2\nTempest scenario testing [1].\n\n- Is the library actively maintained?\n  Yes\n\n- Is the library good code?\n  Yes\n\n- Is the library python 3 compatible?\n  Yes\n\n- Is the library license compatible?\n  Yes\n\n- Is the library already packaged in the distros we target (\n  Ubuntu latest / Fedora latest)?\n  Yes [2][3]\n\n- Is the function of this library already covered by other libraries in\n  global-requirements.txt?\n  No\n\n- Is the library required for OpenStack project or related dev or\n  infrastructure setup?\n  Yes (octavia-tempest-plugin)\n\n[1] https://review.opendev.org/#/q/topic:http2\n[2] https://src.fedoraproject.org/rpms/python-httpx\n[3] https://packages.ubuntu.com/search?keywords=httpx&searchon=names&suite=all&section=all\n\nChange-Id: Id832a0cd67eebc030407cde972360a1412a6a018\n'}]",2,747932,5494ce4b174e197bcceb84a4d1502b7d57e7446f,26,4,2,6469,,,0,"Add httpx to global-reqs and upper-constraints

Project openstack/octavia-tempest-plugin requires httpx for HTTP/2
Tempest scenario testing [1].

- Is the library actively maintained?
  Yes

- Is the library good code?
  Yes

- Is the library python 3 compatible?
  Yes

- Is the library license compatible?
  Yes

- Is the library already packaged in the distros we target (
  Ubuntu latest / Fedora latest)?
  Yes [2][3]

- Is the function of this library already covered by other libraries in
  global-requirements.txt?
  No

- Is the library required for OpenStack project or related dev or
  infrastructure setup?
  Yes (octavia-tempest-plugin)

[1] https://review.opendev.org/#/q/topic:http2
[2] https://src.fedoraproject.org/rpms/python-httpx
[3] https://packages.ubuntu.com/search?keywords=httpx&searchon=names&suite=all&section=all

Change-Id: Id832a0cd67eebc030407cde972360a1412a6a018
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/747932/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,37fc950d2d4b3f548eddddc45cc29c239d5cda01,http2,httpx==0.14.2,,2,0
openstack%2Fpuppet-cinder~master~I99d6cbabd5090173d2892979ad580c726e2a84ff,openstack/puppet-cinder,master,I99d6cbabd5090173d2892979ad580c726e2a84ff,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-28 13:53:12.000000000,2020-08-28 13:51:12.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/671ebb2b8190aa466f0be45d11758f8262df4c8e', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I99d6cbabd5090173d2892979ad580c726e2a84ff\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/cinder_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-97f2c1104bed770f.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f1a902bc63ac236f9912745b33d06e417febfadf', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I99d6cbabd5090173d2892979ad580c726e2a84ff\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748085,f1a902bc63ac236f9912745b33d06e417febfadf,16,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I99d6cbabd5090173d2892979ad580c726e2a84ff
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/85/748085/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-97f2c1104bed770f.yaml', 'manifests/db.pp']",3,671ebb2b8190aa466f0be45d11758f8262df4c8e,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Ftripleo-heat-templates~master~If293b20c29b74158ecdee4e47e97535baefde72c,openstack/tripleo-heat-templates,master,If293b20c29b74158ecdee4e47e97535baefde72c,"Default to storage_dashboard, when set, for the CephDashboard service",MERGED,2020-08-25 08:16:22.000000000,2020-08-28 13:52:05.000000000,2020-08-28 13:36:35.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-25 08:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9151a650ded84b5c0ba2b3314becdb6a56bd58ae', 'message': 'Default to storage_dashboard, when set, for the CephDashboard service\n\nThe Ceph dashboard net was statically mapped to ctlplane which is\na sane default except when storage_dashboard is set precisely to\ncustomize the listening network.\n\nThis change ensures we consume storage_dashboard when set instead\nof using always ctlplane.\n\nChange-Id: If293b20c29b74158ecdee4e47e97535baefde72c\n'}, {'number': 2, 'created': '2020-08-27 09:22:43.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b81035d0076b711896a32b78a4fccc57cac2e063', 'message': 'Default to storage_dashboard, when set, for the CephDashboard service\n\nThe Ceph dashboard net was statically mapped to ctlplane which is\na sane default except when storage_dashboard is set precisely to\ncustomize the listening network.\n\nThis change ensures we consume storage_dashboard when set instead\nof using always ctlplane.\n\nChange-Id: If293b20c29b74158ecdee4e47e97535baefde72c\n'}]",8,747860,b81035d0076b711896a32b78a4fccc57cac2e063,24,5,2,6796,,,0,"Default to storage_dashboard, when set, for the CephDashboard service

The Ceph dashboard net was statically mapped to ctlplane which is
a sane default except when storage_dashboard is set precisely to
customize the listening network.

This change ensures we consume storage_dashboard when set instead
of using always ctlplane.

Change-Id: If293b20c29b74158ecdee4e47e97535baefde72c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/747860/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,9151a650ded84b5c0ba2b3314becdb6a56bd58ae,ceph_dashboard_composable_network," CephDashboardNetwork: {{ _service_nets.get('storage_dashboard', 'ctlplane') }}", CephDashboardNetwork: ctlplane,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I44b7bb06ae564c10c1f7a10cbc9308258ba540ab,openstack/tripleo-common,stable/train,I44b7bb06ae564c10c1f7a10cbc9308258ba540ab,Rename container registry from quay.io to docker.io,ABANDONED,2020-08-28 05:51:11.000000000,2020-08-28 13:38:00.000000000,,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 05:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f52c98e4c221c062d5cedc1ebf21654985a21b88', 'message': '[WIP] rename quay.io to docker.io\n\n* it also renames openstack- to centos-binary\n\nChange-Id: I44b7bb06ae564c10c1f7a10cbc9308258ba540ab\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-28 12:11:23.000000000', 'files': ['container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5b6973a13b1451b16eeaa7549c8b83dad5fa31e5', 'message': 'Rename container registry from quay.io to docker.io\n\n* it also renames openstack- to centos-binary to keep\nconsistency.\n\nChange-Id: I44b7bb06ae564c10c1f7a10cbc9308258ba540ab\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,748572,5b6973a13b1451b16eeaa7549c8b83dad5fa31e5,8,8,2,12393,,,0,"Rename container registry from quay.io to docker.io

* it also renames openstack- to centos-binary to keep
consistency.

Change-Id: I44b7bb06ae564c10c1f7a10cbc9308258ba540ab
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/748572/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,f52c98e4c221c062d5cedc1ebf21654985a21b88,dockerio_container_name, imagename: docker.io/tripleotrain/centos-binary-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-os:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-evaluator:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-listener:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-notifier:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-keystone-listener:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-worker:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-ipmi:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-central:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-compute:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-notification:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-backup:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-scheduler:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-volume:current-tripleo imagename: docker.io/tripleotrain/centos-binary-collectd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cron:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-backend-bind9:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-central:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-mdns:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-producer:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-sink:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-worker:current-tripleo imagename: docker.io/tripleotrain/centos-binary-etcd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-glance-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-metricd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-statsd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-haproxy:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-api-cfn:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-all:current-tripleo imagename: docker.io/tripleotrain/centos-binary-horizon:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-conductor:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-inspector:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-neutron-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-pxe:current-tripleo imagename: docker.io/tripleotrain/centos-binary-iscsid:current-tripleo imagename: docker.io/tripleotrain/centos-binary-keepalived:current-tripleo imagename: docker.io/tripleotrain/centos-binary-keystone:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-scheduler:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-share:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mariadb:current-tripleo imagename: docker.io/tripleotrain/centos-binary-memcached:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-event-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-executor:current-tripleo imagename: docker.io/tripleotrain/centos-binary-multipathd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-agent-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-dhcp-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-l3-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-metadata-agent-ovn:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-metadata-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-openvswitch-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-server-ovn:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-sriov-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-libvirt:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-compute:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-compute-ironic:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-conductor:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-novncproxy:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-scheduler:current-tripleo imagename: docker.io/tripleotrain/centos-binary-novajoin-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-novajoin-notifier:current-tripleo imagename: docker.io/tripleotrain/centos-binary-novajoin-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-health-manager:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-housekeeping:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-worker:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-controller:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-northd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-nb-db-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-sb-db-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-panko-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-placement-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-qdrouterd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-rabbitmq:current-tripleo imagename: docker.io/tripleotrain/centos-binary-redis:current-tripleo imagename: docker.io/tripleotrain/centos-binary-rsyslog:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-base:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-account:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-container:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-object:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-proxy-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-tempest:current-tripleo imagename: docker.io/tripleotrain/centos-binary-tripleoclient:current-tripleo imagename: docker.io/tripleotrain/centos-binary-zaqar-wsgi:current-tripleo- imagename: docker.io/grafana/grafana:5.4.3, imagename: quay.io/tripleotrain/openstack-base:current-tripleo imagename: quay.io/tripleotrain/openstack-os:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-base:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-api:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-evaluator:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-listener:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-notifier:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-base:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-api:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-keystone-listener:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-worker:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-base:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-ipmi:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-central:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-compute:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-notification:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-base:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-api:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-backup:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-scheduler:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-volume:current-tripleo imagename: quay.io/tripleotrain/openstack-collectd:current-tripleo imagename: quay.io/tripleotrain/openstack-cron:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-base:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-backend-bind9:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-api:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-central:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-mdns:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-producer:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-sink:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-worker:current-tripleo imagename: quay.io/tripleotrain/openstack-etcd:current-tripleo imagename: quay.io/tripleotrain/openstack-glance-api:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-base:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-api:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-metricd:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-statsd:current-tripleo imagename: quay.io/tripleotrain/openstack-haproxy:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-base:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-api:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-api-cfn:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-engine:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-all:current-tripleo imagename: quay.io/tripleotrain/openstack-horizon:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-base:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-api:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-conductor:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-inspector:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-neutron-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-pxe:current-tripleo imagename: quay.io/tripleotrain/openstack-iscsid:current-tripleo imagename: quay.io/tripleotrain/openstack-keepalived:current-tripleo imagename: quay.io/tripleotrain/openstack-keystone:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-base:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-api:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-scheduler:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-share:current-tripleo imagename: quay.io/tripleotrain/openstack-mariadb:current-tripleo imagename: quay.io/tripleotrain/openstack-memcached:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-base:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-api:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-engine:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-event-engine:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-executor:current-tripleo imagename: quay.io/tripleotrain/openstack-multipathd:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-base:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-agent-base:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-dhcp-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-l3-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-metadata-agent-ovn:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-metadata-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-openvswitch-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-server:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-server-ovn:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-sriov-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-base:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-libvirt:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-api:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-compute:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-compute-ironic:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-conductor:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-novncproxy:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-scheduler:current-tripleo imagename: quay.io/tripleotrain/openstack-novajoin-base:current-tripleo imagename: quay.io/tripleotrain/openstack-novajoin-notifier:current-tripleo imagename: quay.io/tripleotrain/openstack-novajoin-server:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-base:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-api:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-health-manager:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-housekeeping:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-worker:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-base:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-controller:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-northd:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-nb-db-server:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-sb-db-server:current-tripleo imagename: quay.io/tripleotrain/openstack-panko-api:current-tripleo imagename: quay.io/tripleotrain/openstack-placement-api:current-tripleo imagename: quay.io/tripleotrain/openstack-qdrouterd:current-tripleo imagename: quay.io/tripleotrain/openstack-rabbitmq:current-tripleo imagename: quay.io/tripleotrain/openstack-redis:current-tripleo imagename: quay.io/tripleotrain/openstack-rsyslog:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-base:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-account:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-container:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-object:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-proxy-server:current-tripleo imagename: quay.io/tripleotrain/openstack-tempest:current-tripleo imagename: quay.io/tripleotrain/openstack-tripleoclient:current-tripleo imagename: quay.io/tripleotrain/openstack-zaqar-wsgi:current-tripleo- imagename: docker.io/grafana/grafana:5.2.4,111,111
openstack%2Fpatrole~master~Iad76ad66605a12d55afcc3561e807374ba2943f9,openstack/patrole,master,Iad76ad66605a12d55afcc3561e807374ba2943f9,"Set admin, member and reader gates to be the same",MERGED,2020-08-16 00:36:59.000000000,2020-08-28 13:21:53.000000000,2020-08-28 13:17:41.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 17887}, {'_account_id': 17896}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-08-16 00:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/87b64b0e5c6ba99f23fc476cac3942190f44f3b0', 'message': 'Set admin, member and readeer gates to be the same\n\nSince the stein train and usuri and master gates are\nrunning successfully I am proposing to turn on all\nof the gates the same and make reader voting.\n\nChange-Id: Iad76ad66605a12d55afcc3561e807374ba2943f9\n'}, {'number': 2, 'created': '2020-08-16 12:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/f42f955e909efb3fbe036cc88a500cc324e2a518', 'message': 'Set admin, member and readeer gates to be the same\n\nSince the stein train and usuri and master gates are\nrunning successfully I am proposing to turn on all\nof the gates the same and make reader voting.\n\nAdd opendev.org to project reference in .zuul.yaml.\nto clean up the yaml and make it more like the\ntempest .zuul.yaml.  I will do small changes\novertime to clean up little issues and test\nthe gae changes.  Some future area are tox clean up\nand looking into the multinode failures to see\nif we can make them voting gates.\n\nChange-Id: Iad76ad66605a12d55afcc3561e807374ba2943f9\n'}, {'number': 3, 'created': '2020-08-16 14:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/516896a5144b9f82c51ee6a539564c62fc5b4709', 'message': 'Set admin, member and readeer gates to be the same\n\nSince the stein train and usuri and master gates are\nrunning successfully I am proposing to turn on all\nof the gates the same and make reader voting.\n\nAdd opendev.org to project reference in .zuul.yaml.\nto clean up the yaml and make it more like the\ntempest .zuul.yaml.  I will do small changes\novertime to clean up little issues and test\nthe gae changes.  Some future area are tox clean up\nand looking into the multinode failures to see\nif we can make them voting gates.\n\nRemoved define concurrency value to allow it to\nbe set according to the CPU in the VM that the\ntest are running.\n\nChange-Id: Iad76ad66605a12d55afcc3561e807374ba2943f9\n'}, {'number': 4, 'created': '2020-08-17 11:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/318baaa6abe0dfdb2ecebdaa47ea0160c11c2690', 'message': 'Set admin, member and readeer gates to be the same\n\nSince the stein train and usuri and master gates are\nrunning successfully I am proposing to turn on all\nof the gates the same and make reader voting.\n\nAdd opendev.org to project reference in .zuul.yaml.\nto clean up the yaml and make it more like the\ntempest .zuul.yaml.  I will do small changes\novertime to clean up little issues and test\nthe gae changes.  Some future area are tox clean up\nand looking into the multinode failures to see\nif we can make them voting gates.\n\nRemoved define concurrency value to allow it to\nbe set according to the CPU in the VM that the\ntest are running.\n\nChange-Id: Iad76ad66605a12d55afcc3561e807374ba2943f9\n'}, {'number': 5, 'created': '2020-08-18 13:02:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/8e3b0322b322a5cfcd66e7ec1bb1bbd87564e1ba', 'message': 'Set admin, member and reader gates to be the same\n\nSince the stein train and usuri and master gates are\nrunning successfully I am proposing to turn on all\nof the gates the same and make reader voting.\n\nAdd opendev.org to project reference in .zuul.yaml.\nto clean up the yaml and make it more like the\ntempest .zuul.yaml.\n\nI will do small changes overtime to clean up little\nissues and test the gate changes.  Some future area are\ntox clean up and looking into the multinode failures\nto see if we can make them voting gates.\n\nRemoved define concurrency value to allow it to\nbe set according to the CPU in the VM that the\ntest are running.\n\nChange-Id: Iad76ad66605a12d55afcc3561e807374ba2943f9\n'}]",5,746382,8e3b0322b322a5cfcd66e7ec1bb1bbd87564e1ba,24,15,5,17887,,,0,"Set admin, member and reader gates to be the same

Since the stein train and usuri and master gates are
running successfully I am proposing to turn on all
of the gates the same and make reader voting.

Add opendev.org to project reference in .zuul.yaml.
to clean up the yaml and make it more like the
tempest .zuul.yaml.

I will do small changes overtime to clean up little
issues and test the gate changes.  Some future area are
tox clean up and looking into the multinode failures
to see if we can make them voting gates.

Removed define concurrency value to allow it to
be set according to the CPU in the VM that the
test are running.

Change-Id: Iad76ad66605a12d55afcc3561e807374ba2943f9
",git fetch https://review.opendev.org/openstack/patrole refs/changes/82/746382/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87b64b0e5c6ba99f23fc476cac3942190f44f3b0,bug/2008018,, # This currently works from stable/pike onward. branches: ^(?!stable/ocata).*$ # This currently works from stable/stein onward. branches: ^(?!stable/(ocata|pike|queens|rocky)).*$ voting: false,0,5
openstack%2Fnova~master~I33aa5e32cb321e5a16da51e227af2f67ed9e6713,openstack/nova,master,I33aa5e32cb321e5a16da51e227af2f67ed9e6713,Ensure source compute is up when confirming a resize,MERGED,2019-12-16 21:18:43.000000000,2020-08-28 13:19:25.000000000,2020-08-26 21:03:44.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-16 21:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0551a5526063eb721e637d3d7f2b9bc7eef67f49', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 2, 'created': '2019-12-16 22:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6b394b4d3cdbc74c893cf2228792eeeeb9fcd1a', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 3, 'created': '2019-12-16 22:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6f5bb09400dab5cbb3702d2cd609bd2978fca48', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 4, 'created': '2019-12-17 14:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee66b062131e1267465991b322cf0b3be1455e3b', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 5, 'created': '2020-01-20 08:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba50c0af5d25ebeaa6e619afea009b4808888ba5', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 6, 'created': '2020-01-25 00:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/440b87397aa922b2301cc5f76a33759c40517559', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 7, 'created': '2020-07-10 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a96d8c3043485d6a7e738b58fd0589dccf13428b', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 8, 'created': '2020-07-15 15:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dce77fb237d91b864566df37461516db983018e', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 9, 'created': '2020-07-16 21:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbea2b2dc627dbbf4ac5198ba2d44262cf6e7c5d', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 10, 'created': '2020-07-21 10:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ad33543babc241f75ef1a75dcd0f3c79135e8be', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}, {'number': 11, 'created': '2020-08-26 13:50:29.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e4601c77fb3b90638a6a56ec1a8e0e9eb7c91777', 'message': 'Ensure source compute is up when confirming a resize\n\nWhen _poll_unconfirmed_resizes runs or a user tries to confirm\na resize in the API, if the source compute service is down the\nmigration status will be stuck in ""confirming"" status if it never\nreached the source compute. Subsequent runs of\n_poll_unconfirmed_resizes will not be able to auto-confirm the\nresize nor will the user be able to manually confirm the resize.\nAn admin could reset the status on the server to ACTIVE or ERROR\nbut that means the source compute never gets cleaned up since you\ncan only confirm or revert a resize on a server with VERIFY_RESIZE\nstatus.\n\nThis adds a check in the API before updating the migration record\nsuch that if the source compute service is down the API returns a\n409 response as an indication to try again later.\n\nSingleCellSimple._fake_target_cell is updated so that tests using\nit can assert when a context was targeted without having to stub\nnova.context.target_cell. As a result some HostManager unit tests\nneeded to be updated.\n\nChange-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713\nCloses-Bug: #1855927\n'}]",18,699291,e4601c77fb3b90638a6a56ec1a8e0e9eb7c91777,145,16,11,6873,,,0,"Ensure source compute is up when confirming a resize

When _poll_unconfirmed_resizes runs or a user tries to confirm
a resize in the API, if the source compute service is down the
migration status will be stuck in ""confirming"" status if it never
reached the source compute. Subsequent runs of
_poll_unconfirmed_resizes will not be able to auto-confirm the
resize nor will the user be able to manually confirm the resize.
An admin could reset the status on the server to ACTIVE or ERROR
but that means the source compute never gets cleaned up since you
can only confirm or revert a resize on a server with VERIFY_RESIZE
status.

This adds a check in the API before updating the migration record
such that if the source compute service is down the API returns a
409 response as an indication to try again later.

SingleCellSimple._fake_target_cell is updated so that tests using
it can assert when a context was targeted without having to stub
nova.context.target_cell. As a result some HostManager unit tests
needed to be updated.

Change-Id: I33aa5e32cb321e5a16da51e227af2f67ed9e6713
Closes-Bug: #1855927
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/699291/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",3,0551a5526063eb721e637d3d7f2b9bc7eef67f49,bug/1855927," except (exception.InstanceIsLocked, exception.ServiceUnavailable) as e:", except exception.InstanceIsLocked as e:,49,12
openstack%2Fbifrost~stable%2Fussuri~If89f1506ddd345df217739bf5dbb15d18b44c096,openstack/bifrost,stable/ussuri,If89f1506ddd345df217739bf5dbb15d18b44c096,Add correct SELinux context for /tftpboot and fix map-file ACL,MERGED,2020-08-27 08:34:08.000000000,2020-08-28 13:15:21.000000000,2020-08-28 13:13:08.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-27 08:34:08.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/49de1f951c2f4c115a767687460ae012779df252', 'message': 'Add correct SELinux context for /tftpboot and fix map-file ACL\n\nChange-Id: If89f1506ddd345df217739bf5dbb15d18b44c096\n(cherry picked from commit 3aacfd32260d8b916e358e6aec298861d1b480b5)\n'}]",0,748373,49de1f951c2f4c115a767687460ae012779df252,8,3,1,10239,,,0,"Add correct SELinux context for /tftpboot and fix map-file ACL

Change-Id: If89f1506ddd345df217739bf5dbb15d18b44c096
(cherry picked from commit 3aacfd32260d8b916e358e6aec298861d1b480b5)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/73/748373/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",3,49de1f951c2f4c115a767687460ae012779df252,tftp-context-stable/ussuri, copy: src: tftpboot-map-file dest: /tftpboot/map-file owner: ironic group: ironic mode: 0644, copy: src=tftpboot-map-file dest=/tftpboot/map-file owner=ironic group=ironic,19,1
openstack%2Fbifrost~bugfix%2F8.3~If89f1506ddd345df217739bf5dbb15d18b44c096,openstack/bifrost,bugfix/8.3,If89f1506ddd345df217739bf5dbb15d18b44c096,Add correct SELinux context for /tftpboot and fix map-file ACL,MERGED,2020-08-27 08:34:01.000000000,2020-08-28 13:15:15.000000000,2020-08-28 13:13:05.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-27 08:34:01.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/15ed62728c5a0a84dee573ca8d6d2c51da526829', 'message': 'Add correct SELinux context for /tftpboot and fix map-file ACL\n\nChange-Id: If89f1506ddd345df217739bf5dbb15d18b44c096\n(cherry picked from commit 3aacfd32260d8b916e358e6aec298861d1b480b5)\n'}]",0,748372,15ed62728c5a0a84dee573ca8d6d2c51da526829,8,3,1,10239,,,0,"Add correct SELinux context for /tftpboot and fix map-file ACL

Change-Id: If89f1506ddd345df217739bf5dbb15d18b44c096
(cherry picked from commit 3aacfd32260d8b916e358e6aec298861d1b480b5)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/72/748372/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",3,15ed62728c5a0a84dee573ca8d6d2c51da526829,tftp-context-bugfix/8.3, copy: src: tftpboot-map-file dest: /tftpboot/map-file owner: ironic group: ironic mode: 0644, copy: src=tftpboot-map-file dest=/tftpboot/map-file owner=ironic group=ironic,19,1
openstack%2Fbifrost~bugfix%2F8.2~If89f1506ddd345df217739bf5dbb15d18b44c096,openstack/bifrost,bugfix/8.2,If89f1506ddd345df217739bf5dbb15d18b44c096,Add correct SELinux context for /tftpboot and fix map-file ACL,MERGED,2020-08-27 08:37:15.000000000,2020-08-28 13:15:02.000000000,2020-08-28 13:13:10.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-27 08:37:15.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7bc684c2135edad592e766eb25c6e67b0ce8aa23', 'message': 'Add correct SELinux context for /tftpboot and fix map-file ACL\n\nChange-Id: If89f1506ddd345df217739bf5dbb15d18b44c096\n(cherry picked from commit 3aacfd32260d8b916e358e6aec298861d1b480b5)\n'}]",0,748374,7bc684c2135edad592e766eb25c6e67b0ce8aa23,8,3,1,10239,,,0,"Add correct SELinux context for /tftpboot and fix map-file ACL

Change-Id: If89f1506ddd345df217739bf5dbb15d18b44c096
(cherry picked from commit 3aacfd32260d8b916e358e6aec298861d1b480b5)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/74/748374/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",3,7bc684c2135edad592e766eb25c6e67b0ce8aa23,tftp-context-bugfix/8.2, copy: src: tftpboot-map-file dest: /tftpboot/map-file owner: ironic group: ironic mode: 0644, copy: src=tftpboot-map-file dest=/tftpboot/map-file owner=ironic group=ironic,19,1
openstack%2Fneutron~stable%2Fstein~Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,openstack/neutron,stable/stein,Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,Fix get_ipv6_llas method in the interface driver,MERGED,2020-08-24 07:11:21.000000000,2020-08-28 13:13:57.000000000,2020-08-28 13:10:53.000000000,"[{'_account_id': 1131}, {'_account_id': 5792}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-24 07:11:21.000000000', 'files': ['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f3e5d619f2f8c3877b4bef8a173324fae938a30', 'message': 'Fix get_ipv6_llas method in the interface driver\n\nThis method is using ip_lib.get_devices_with_ip function to get\nIP addresses with scope ""link"".\nUnfortunatelly this method wasn\'t translating scope names to the pyrout2\nvalues and due to that wasn\'t returning correct IP addresses.\n\nNow this is fixed and correctl link local IPv6 addresses are returned.\n\nChange-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15\nCloses-Bug: #1892489\n(cherry picked from commit a4e04a7f8be95295324a59c34e6a79c7973af1ee)\n'}]",0,747628,3f3e5d619f2f8c3877b4bef8a173324fae938a30,19,6,1,11975,,,0,"Fix get_ipv6_llas method in the interface driver

This method is using ip_lib.get_devices_with_ip function to get
IP addresses with scope ""link"".
Unfortunatelly this method wasn't translating scope names to the pyrout2
values and due to that wasn't returning correct IP addresses.

Now this is fixed and correctl link local IPv6 addresses are returned.

Change-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15
Closes-Bug: #1892489
(cherry picked from commit a4e04a7f8be95295324a59c34e6a79c7973af1ee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/747628/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py']",2,3f3e5d619f2f8c3877b4bef8a173324fae938a30,bug/1892489-stable/ussuri-stable/train-stable/stein," scope = kwargs.pop('scope', None) if scope: kwargs['scope'] = IP_ADDRESS_SCOPE_NAME[scope]",,19,0
openstack%2Ftripleo-docs~master~Ice25535f33ab2d751c52c2a80166c34f98201806,openstack/tripleo-docs,master,Ice25535f33ab2d751c52c2a80166c34f98201806,Clean up of wording and layout,MERGED,2020-08-25 00:52:14.000000000,2020-08-28 13:13:25.000000000,2020-08-28 13:10:33.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 00:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f0cfc74e9754134bd1ed6da6d1df31696c1a7d78', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 2, 'created': '2020-08-25 13:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9dd9995ad4efa6f7c0c20459fdf39d2ef4314f3e', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 3, 'created': '2020-08-25 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/076dbb23eeb0f4ebdf1081bb9f164a16d23b8638', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 4, 'created': '2020-08-25 17:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7401949d43a6b2d26def8da85d0f20e77e34592a', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 5, 'created': '2020-08-25 18:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5d3eda3d592536d90e2dc3176ba7cbe12c8cfa6d', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 6, 'created': '2020-08-25 18:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4b958d9c75898cdabaf9f27c57fd27d55476d4db', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 7, 'created': '2020-08-25 19:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/464f4e1f35177331ce38efa51a3c0ae23f887b18', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 8, 'created': '2020-08-25 20:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/043227334d84e15517cf9cdad1ad1c48600d36f4', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 9, 'created': '2020-08-25 23:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/926a1a98c0a4e1132171cb9074d57bb09cac6cad', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 10, 'created': '2020-08-26 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/564c8668ff577afdbfe3c2a1fe52f7207dc0a22d', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}, {'number': 11, 'created': '2020-08-27 07:04:48.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/environments/index.rst', 'deploy-guide/source/environments/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/47f93e1d04d5981eb12e79aca34961a14b6002bf', 'message': 'Clean up of wording and layout\n\nCleaned up some wording and the layout in the normal Standalone\nsetup sections of the page.\n\nChange-Id: Ice25535f33ab2d751c52c2a80166c34f98201806\n'}]",7,747809,47f93e1d04d5981eb12e79aca34961a14b6002bf,41,6,11,15993,,,0,"Clean up of wording and layout

Cleaned up some wording and the layout in the normal Standalone
setup sections of the page.

Change-Id: Ice25535f33ab2d751c52c2a80166c34f98201806
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/09/747809/5 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,f0cfc74e9754134bd1ed6da6d1df31696c1a7d78,standalone,"node capable of running OpenStack services for development. Optional nstructions for installing Ceph are included as well. System Requirements for a Standalone Deployment ----------------------------------------------- The base requirements for a Standalone OpenStack node are: * 8 core CPU * 12 GB memory * 60 GB free disk space#. Copy your SSH key to a non-root user on your machine (baremetal or VM) where you want to install the standalone services.:: ssh-copy-id -i ~/.ssh/<your ssh key> <non-root-user>@<machine> #. Connect to your machine as the non-root user.:: .. note:: The Ussuri version of TripleO utilizes Python3 and requires the OS to be RHEL 8 or CentOS 8. It is also recommended that Train be installed on RHEL 8 or CentOS 8. Enable optional repo for RHEL 7::#. Install the TripleO CLI, which will pull in all other necessary packages as dependencies. For Python3:: sudo yum install -y python3-tripleoclient For Python2.7:: sudo yum install -y python-tripleoclient .. Note: The following example utilizes 2 interfaces. NIC1 which will serve as the management inteface. It can have any address and will be left untouched. NIC2 will serve as the OpenStack & Provider network NIC. The following exports should be configured for your network and interface. You will now create the standalone_parameters.yaml. The $IP, $NETMASK, and $INTERFACE will be replaced with the values from the export commands. .. code-block:: bash .. Note: NIC1 will serve as the management, OpenStack and Provider network inteface. The exports should be configured for your network and interface. You will now create the standalone_parameters.yaml. The $IP, $NETMASK, $GATEWAY, and $INTERFACE will be replaced with the values from the export commands. .. code-block:: bash #. Run the deploy command: If you want to remove the services and files installed by Standalone after a deployment failure, or just to re-deploy from scratch, you can run the","node capable of running OpenStack services for development. #. Log into your machine (baremetal or VM) where you want to install the standalone services on as a non-root user.:: Enable optional repo::#. Install the TripleO CLI, which will pull in all other necessary packages as dependencies:: sudo yum install -y python-tripleoclient # EXAMPLE: 2 interfaces # NIC1 - management NIC (any address, left untouched) # NIC2 - OpenStack & Provider network NIC ($INTERFACE configured with $IP, $NETMASK) # EXAMPLE: 1 interface # NIC1 - management, OpenStack, & Provider network ($INTERFACE reconfigured using $IP, $NETMASK, $GATEWAY) # We need the gateway as we'll be reconfiguring the eth0 interface#. Run deploy command: If you want to remove the services and files installed by Standalone, after a deployment failure or just to re-deploy from scratch, you can run the",53,15
openstack%2Fos-brick~stable%2Fussuri~Id1905bc174b8f2f3a345664d8a0a05284ca69927,openstack/os-brick,stable/ussuri,Id1905bc174b8f2f3a345664d8a0a05284ca69927,Leverage the iSCSI mpath to get the WWN,MERGED,2020-08-19 11:09:48.000000000,2020-08-28 13:13:19.000000000,2020-08-28 13:10:50.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-19 11:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b9564417d23dc129d1a0ce8c7ae8ddd9d16b5c4f', 'message': 'Leverage the iSCSI mpath to get the WWN\n\nNow that we search the multipath device even if we haven\'t been able to\nfind the WWN in the sysfs we can leverage the multipath daemon\ninformation on sysfs to get the WWN.\n\nPass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get\nthe WWN.\n\nChange-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927\n(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)\n'}, {'number': 2, 'created': '2020-08-19 12:20:46.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/31c01b543cfe0219140e5bf9eaf703daa819de04', 'message': 'Leverage the iSCSI mpath to get the WWN\n\nNow that we search the multipath device even if we haven\'t been able to\nfind the WWN in the sysfs we can leverage the multipath daemon\ninformation on sysfs to get the WWN.\n\nPass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get\nthe WWN.\n\nChange-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927\n(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)\n'}]",0,746889,31c01b543cfe0219140e5bf9eaf703daa819de04,21,11,2,10459,,,0,"Leverage the iSCSI mpath to get the WWN

Now that we search the multipath device even if we haven't been able to
find the WWN in the sysfs we can leverage the multipath daemon
information on sysfs to get the WWN.

Pass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get
the WWN.

Change-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927
(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/89/746889/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py']",4,b9564417d23dc129d1a0ce8c7ae8ddd9d16b5c4f,improve-iscsi-multipath-detection," def get_sysfs_wwn(self, device_names, mpath=None): # If we have a multipath DM we know that it has found the WWN if mpath: # We have the WWN in /uuid even with friendly names, unline /name try: with open('/sys/block/%s/dm/uuid' % mpath) as f: # Contents are matph-WWN, so get the part we want wwid = f.read().strip()[6:] if wwid: # Check should not be needed, but just in case return wwid except Exception as exc: LOG.warning('Failed to read the DM uuid: %s', exc) "," def get_sysfs_wwn(self, device_names):",46,3
openstack%2Fopenstack-zuul-jobs~master~I8902d2c3faf7e2b7bb1445014a6b34676406d49d,openstack/openstack-zuul-jobs,master,I8902d2c3faf7e2b7bb1445014a6b34676406d49d,Use the networking-l2gw project new location,MERGED,2020-06-25 17:58:02.000000000,2020-08-28 13:08:50.000000000,2020-08-28 13:04:20.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 17:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/63b4c7f3e1214fd7a7db0d25b943708716c33792', 'message': 'Remove the networking-l2gw from zuul jobs dependency\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nSee also:\nhttps://review.opendev.org/#/c/738035/\nhttps://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I8902d2c3faf7e2b7bb1445014a6b34676406d49d\n'}, {'number': 2, 'created': '2020-08-27 22:32:09.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata/run.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5d2f1b50d5a19a02bb55e47403c2b312811eaffb', 'message': 'Use the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I8902d2c3faf7e2b7bb1445014a6b34676406d49d\n'}]",0,738077,5d2f1b50d5a19a02bb55e47403c2b312811eaffb,12,4,2,8556,,,0,"Use the networking-l2gw project new location

networking-l2gw and networking-l2gw-tempest-plugin are
imported to new location now and supposed to be retired from
openstack/namespace[1].

-https://review.opendev.org/#/c/744110/

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

Change-Id: I8902d2c3faf7e2b7bb1445014a6b34676406d49d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/77/738077/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata/run.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata/run.yaml']",3,63b4c7f3e1214fd7a7db0d25b943708716c33792,complete-retirement-networking-l2gw,," export PROJECTS=""openstack/networking-l2gw $PROJECTS""",0,4
openstack%2Fgovernance~master~I8fa066288927df1a63f9b8b8ab30d0dcff826158,openstack/governance,master,I8fa066288927df1a63f9b8b8ab30d0dcff826158,Update and simplify comparison of working groups,MERGED,2020-08-18 16:39:39.000000000,2020-08-28 13:00:59.000000000,2020-08-28 12:58:24.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 16465}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 16:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/20b265f784b9e27dba16bdab69795e278c3932e4', 'message': ""Update and simplify comparison of working groups\n\nWith the merging of the TC and UC, much of the wording in the\n'comparison of official group structures' document is outdated.\n\nI refreshed it to take that change into account, simplified it\nso that it's less wordy and points to other reference documentation\nas needed.\n\nChange-Id: I8fa066288927df1a63f9b8b8ab30d0dcff826158\n""}, {'number': 2, 'created': '2020-08-21 08:58:42.000000000', 'files': ['reference/team-formats.png', 'reference/comparison-of-official-group-structures.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/1d7fb74f777cc5ad2b549ba961882a50a3142c01', 'message': ""Update and simplify comparison of working groups\n\nWith the merging of the TC and UC, much of the wording in the\n'comparison of official group structures' document is outdated.\n\nI refreshed it to take that change into account, simplified it\nso that it's less wordy and points to other reference documentation\nas needed.\n\nChange-Id: I8fa066288927df1a63f9b8b8ab30d0dcff826158\n""}]",2,746763,1d7fb74f777cc5ad2b549ba961882a50a3142c01,18,7,2,308,,,0,"Update and simplify comparison of working groups

With the merging of the TC and UC, much of the wording in the
'comparison of official group structures' document is outdated.

I refreshed it to take that change into account, simplified it
so that it's less wordy and points to other reference documentation
as needed.

Change-Id: I8fa066288927df1a63f9b8b8ab30d0dcff826158
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/746763/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/team-formats.png', 'reference/comparison-of-official-group-structures.rst']",2,20b265f784b9e27dba16bdab69795e278c3932e4,formal-vote," This document aims to compare the various official work groups we have in OpenStack, and explain the difference between a community goal, project team, SIG (special interest group), working group, pop-up teams... If you are still unsure, even after you read through this document, please raise your question on the `mailing-list`_ or on IRC: #openstack-tc so people might be able to help you. Groups can be organized around two axis: whether they address a long-term or short-term mission, and whether that mission is more around development or governance. Missions in OpenStack are either under the oversight of the Board of Directors (trademark, Foundation affairs) or the Technical Committee (open source project).Project teams ============= the ""OpenStack"" software releases. They are either producing a specific subset of OpenStack deliverables (like Compute service deliverables), or provide functions that are integral to the production of the software (like Release management or QA). Project teams are under the oversight of the TC, and traditionally lead by PTLs (project team leaders). Since their collective output is assembled to make the ""OpenStack"" coordinated releases every 6 months, extra accountability is required of project teams to make OpenStack as a whole reach high quality standards. In particular, we require named liaisons for deliverable release management, security vulnerability management, and QA/CI infrastructure liaison. Beyond that, project teams own git repositories, review proposed code changes, manage bug reports, answer questions on the mailing-list, define the future roadmap for their deliverables, and help communicate recent changes. To that effect, team members hold regular team meetings and participate to various events.Special Interest Groups (SIGs) ============================== `SIGs`_ are groups with a long-term mission, but which are not directly responsible for producing components of the ""OpenStack"" software release. They usually gather like-minded individuals that want to advance a specific facet of OpenStack (like usage of OpenStack in scientific communities) that extends beyond a limited set of code repositories. They generally regroup developers, operators and end users interested in the same topics. Some of those topics are very development oriented (like enabling support for multiple architectures), while some others are more governance-oriented (like helping first-time contributors). SIGs are under the oversight of the TC, and traditionally lead by a number of co-leads. Since they are not directly in charge of producing OpenStack, only limited accountability is required, and SIGs do not have any required named liaisons. SIGs can own git repositories and produce software, but that software will be considered add-on software to the main ""OpenStack"" software releases. You can check for `process to create a SIG`_ for creating a new SIG. Pop-up teams ============ term (time-limited) cross-project mission. In particular, pop-up teams should have a disband criteria: an end status goal at which point the pop-up team should be disbanded. These cross-project and time-limited aspects are what differentiates them from Project teams or SIGs. Pop-up teams are under the oversight of the TC, and traditionally lead by a number of co-leads. Since they are not directly in charge of producing OpenStack, only limited accountability is required, and SIGs do not have any required named liaisons. Pop-up teams do not own code repositories, they usually work on code repositories from existing project teams to reach their goals. You can read more about the process to create a pop-up team inCommunity goals =============== :doc:`Community goals </goals/index>` are per-release objectives, set by the Technical Committee for all project teams. Those are used to achieve user-visible common changes, push for basic levels of consistency and user experience, and efficiently improve certain areas which suffer from technical debt. The main difference with pop-up teams is that it's a time-limited scope rather than an objective-limited scope, and they generally aim at affecting all project teams rather than a limited set of them. Community goals are driven by goal champions and executed in each project team. They do not require specific git repositories or deliverables. If you have an improvement which affects projects OpenStack-wide, then you can propose it as a community goal. The Technical Committee will be Technical Committee and TC working groups ========================================= The `Technical Committee (TC)`_ is an elected governance body, representing all contributors to the open source project. It may delegate rights (and duties) to `TC working groups`_ (like the Election officials which have a delegation for running elections). The TC owns git repositories (generally around governance documents) but does not produce OpenStack deliverables by itself. Board of Directors, Board committees and working groups ======================================================= The Foundation `Board of Directors`_ is a governance body, representing all Foundation members. It is composed of three tiers: Platinum representatives (selected by each Platinum member), Gold representatives (elected among the Gold members), and Independent representatives (elected by all the individual members of the Foundation). The Board of Directors has oversight over the Foundation, whose mission is to develop, support, protect, and promote OpenStack and other Open Infrastructure projects. It may delegate rights (and duties) to Board `committees and working groups`_, which are usually staffed by directors themselves. .. _mailing-list: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss.. _Technical Committee (TC): https://governance.openstack.org/tc/ .. _TC working groups: https://governance.openstack.org/tc/reference/working-groups.html .. _Board of Directors: https://www.openstack.org/foundation/board-of-directors/ .. _committees and working groups: https://wiki.openstack.org/wiki/Governance/Foundation#Committees_.26_Working_Groups","This document aims to explain and compare the difference between a community goal, project team, SIG (special interest group), working group, and a pop-up team. The intention of this document is to provide a clear view between these different groups and OpenStack-wide goal. We hope to answer questions such as, what is the timing to create a SIG? and do I need a SIG or pop-up team to drive my plan? The OpenStack community is working to provide multiple different groups and goal formats to help drive the community forward. To ensure you're able to achieve your goals, it's important to know which format you need to drive your mission. If you are still unsure, even after you read through this document, please raise your question on `Mailing List`_ or on IRC: #openstack-tc so people might be able to help you.Mission oriented: Long-term missions ==================================== There are currently three types of group for long-term missions: a SIG (special interest group), a working group, and a project team. Long-term mission has no time limitation. The life cycle should be considered by whether or not the mission of the group is completed. A long-term mission can be widely scoped. For example, the aim of a long-term mission group can be to produce software, share use cases, build documentations, to build cross-project test jobs, or overall communications. The specific interest can be well-defined, well maintained, and easier to adopt across OpenStack. For example, self-healing SIG is working on help with general self-healing use cases, so whoever wishes to start using self-healing functionality has the confidence to adopt it in their own environment. Produces the software: Project teams ------------------------------------the OpenStack software up to release. They are either producing a specific set of deliverables (like Compute service deliverables), or provide functions that are integral to the production of the software (Release management, QA...). Project teams are governed by TC and lead by individual project PTL (project team leader). Project team is required when planning for release a deliverable service. These projects maintain service repository, make sure on time release for service, manage bug reports, and control the code quality (like consistency review) are all part of the jobs for the project team.Special Interest Group (SIG) ---------------------------- `SIGs`_ (and `SIG wiki page`_) are governed by both TC and UC and lead by SIG chairs, their function being to gather people (A user, developer, or operator) who are interested in a specific mission to join discussion and driving actions across community. You can also consider SIG as a bridge between developers, operators and users. SIGs are teams within the community where we collaborate to bring unified discussions for all community members who share a common interest. As examples, SIGs can be but are not limited to being a first stage in the development of new projects, feature requests, standards adoption, policy implementation, adjacent community work, and just general discussions. You can check for `process to create a SIG`_ for creat a new SIG. Meta SIG ~~~~~~~~ This is just a SIG for `SIGs`_ so to speak. A SIG to discuss OpenStack SIGs themselves, to encourage workgroups to become SIGs, accompany them along the way, give them tools and processes to be efficient. More generally, this SIG will discuss how to best close the loop between users and developers of OpenStack. The SIG chair is assigned by both TC and UC. Working Group (WG) ------------------ Working Group (WG) is governed by UC and lead by group leaders to help users represent and achieve their needs through collaboration in the upstream community. It's recommended to build a SIG instead of WG if you wish to make sure the group is under governance of both UC and TC. If your mission required deliverable services, you can either consider ask project teams to help host those services or libraries, or you should consider create a project team if that's more appropriate. Mission oriented: Short-term missions ===================================== Mission oriented means the group or goal is build up to serve a specific mission. Once mission is completed, the group or goal should be consider as no longer needed anymore. There are two short-term mission formats, a pop-up team and a :doc:`community goal </goals/index>`. These both require collaborative work from multiple teams. Pop-up team -----------term (time-limited) cross-project mission. A pop-up team can be supported by the Technical Committee, and should be lead by (at least) two co-leads. Mission of a pop-up team could transfer to a OpenStack-wide cycle goal. For example, TC members can accept mission of a pop-up team as particular cycle goal (at which point former members of the proposing pop-up team could go on to become its goal champions). You can reference create process of popup team in.. note:: All pop-up teams, SIGs and WGs shouldn't maintain any releasable deliverable. If deliverable repo is required, it should be maintained under a project team (please also note that SIGs/WGs/pop-up teams still can create and maintain their own code repositories). Like pop-up team `Image encryption`, requiring multiple project teams (Nova, Cinder, and Glance) to maintain and release their implementation in project repositories. OpenStack-wide goal champion ---------------------------- A :doc:`community goal </goals/index>` (OpenStack-wide goal) is lead by goal champions. It is used to achieve visible common changes, push for basic levels of consistency and user experience, and efficiently improve certain areas where technical debt payments have become too high across all OpenStack projects. These are usually scoped by cycle. If you have a time-limited mission to push to multiple teams but not to entire community, you can consider for build a pop-up team to drive it. And if it's a OpenStack-wide goal material but not yet mature enough to announce as a OpenStack-wide goal for current or following cycle, to form a pop-up team and drive it before it can be a community goal might be another way you can consider. If you have a mission which affects projects OpenStack-wide, then you're free to propose it as a community goal. The Technical Committee will beThe goal is not necessarily a cross-project feature or bug, it can also be any OpenStack-wide mission (like :doc:`/goals/selected/train/pdf-doc-generation` goal). Community goals are defined for a specific development cycle, because we need to be specific on what we need each team to complete that mission and how they can do it. That's why it's a short-term mission. But the follow up mission might still be another goal for another cycle (like :doc:`/goals/selected/stein/python3-first` goal can be consider as follow up action from other python3 goals). .. note:: All OpenStack-wide goal shouldn't maintain any releasable deliverable. If deliverable repo is required, it should be maintained under a project team. Governance ========== Committees exist to help `govern`_ the community and provide leadership. You can self-nominate for the below committees and become a committee member, or provide feedback to committee. If you find it's hard or confusing to push your mission into community, or you find the current structure can't fulfill your goal, we encourage you to encounter with these committees that might be able to help: * Technical Committee (TC) * User Committee (UC) * Board of Directors (BoD) OpenStack Foundation or Board-level committees and working groups ================================================================= We have another level of `committees and working groups`_ like `Edge Computing Group`_ which are directly driven by OpenStack Foundation (OSF) or Board of directors. Others ====== We have some other formate of team like `Election officials`_ helps on multiple community functionality. .. _Mailing List: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss .. _govern: https://governance.openstack.org/.. _committees and working groups: https://wiki.openstack.org/wiki/Governance/Foundation#Committees_.26_Working_Groups .. _Edge Computing Group: https://wiki.openstack.org/wiki/Edge_Computing_Group .. _Election officials: https://wiki.openstack.org/wiki/Election_Officiating_Guidelines .. _SIG wiki page: https://wiki.openstack.org/wiki/OpenStack_SIGs",102,149
openstack%2Fgovernance~master~I4c05793c3d99d8ddefe22367975af4acc9c4817c,openstack/governance,master,I4c05793c3d99d8ddefe22367975af4acc9c4817c,Move towards dual office hours in diff TZ,MERGED,2020-08-13 15:44:45.000000000,2020-08-28 12:57:17.000000000,2020-08-28 12:54:50.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 16465}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 15:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/49ac1e54a318c77e398d2f4060fcebe36b6cf5c0', 'message': 'Move towards dual office hours in diff TZ\n\nThis proposal is to have two office hour but covering with\ndifferent TZ.\n\nChange-Id: I4c05793c3d99d8ddefe22367975af4acc9c4817c\n'}, {'number': 2, 'created': '2020-08-13 16:09:51.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/1174effc0e36411a306b11160a1fc064e34ac4ee', 'message': 'Move towards dual office hours in diff TZ\n\nThis proposal is to have two office hour but covering with\ndifferent TZ.\n\nPoll dta summary for these two office hour time[1]\n\n01:00 UTC on Tuesdays: 5 votes\n15:00 UTC on Wednesdays: 10 votes\n\n[1] https://doodle.com/poll/q27t8pucq7b8xbme\n\nChange-Id: I4c05793c3d99d8ddefe22367975af4acc9c4817c\n'}]",0,746167,1174effc0e36411a306b11160a1fc064e34ac4ee,15,6,2,8556,,,0,"Move towards dual office hours in diff TZ

This proposal is to have two office hour but covering with
different TZ.

Poll dta summary for these two office hour time[1]

01:00 UTC on Tuesdays: 5 votes
15:00 UTC on Wednesdays: 10 votes

[1] https://doodle.com/poll/q27t8pucq7b8xbme

Change-Id: I4c05793c3d99d8ddefe22367975af4acc9c4817c
",git fetch https://review.opendev.org/openstack/governance refs/changes/67/746167/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,49ac1e54a318c77e398d2f4060fcebe36b6cf5c0,formal-vote,* `15:00 UTC on Wednesdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=15&min=00&sec=0>`__,* `09:00 UTC on Tuesdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=09&min=00&sec=0>`__ * `15:00 UTC on Thursdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=15&min=00&sec=0>`__,1,3
openstack%2Fneutron-specs~master~Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f,openstack/neutron-specs,master,Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f,Source and destination filtering for metering label rules,MERGED,2020-08-04 13:11:21.000000000,2020-08-28 12:56:50.000000000,2020-08-28 12:55:05.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2020-08-04 13:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/490a42300577c4f781aa9e41c875bc0359a7c624', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 2, 'created': '2020-08-04 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9bcfd7110332fde9a580dcb4b8bb0b8a67a78710', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 3, 'created': '2020-08-04 14:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b1ac4d2f574dc8b94021f8e71c4d3d85c0ba1f22', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 4, 'created': '2020-08-07 11:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/563767cc67d8e1a9812b347cd0289ef7f5010193', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nImplements: https://blueprints.launchpad.net/neutron/+spec/local-ip-prefix-in-metering-rules\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 5, 'created': '2020-08-10 02:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/916399653bd9b3c9f4ea033d274025c43cb1705a', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nImplements: https://blueprints.launchpad.net/neutron/+spec/local-ip-prefix-in-metering-rules\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 6, 'created': '2020-08-17 10:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/83db457086ef17e2df4f9c2fa2caa34df0a2d345', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nImplements: blueprint local-ip-prefix-in-metering-rules\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 7, 'created': '2020-08-17 10:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/933c7fbd2caac9c0c4ef7b547e95b0b78be74c6b', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nImplements: blueprint local-ip-prefix-in-metering-rules\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}, {'number': 8, 'created': '2020-08-26 12:02:21.000000000', 'files': ['specs/victoria/source-and-destination-metering-label-rules.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2fff22e949fe3e536c4992c49c54459ab5b959ba', 'message': 'Source and destination filtering for metering label rules\n\nChange-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f\nImplements: blueprint local-ip-prefix-in-metering-rules\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\n'}]",18,744702,2fff22e949fe3e536c4992c49c54459ab5b959ba,41,12,8,28356,,,0,"Source and destination filtering for metering label rules

Change-Id: Ib29af56fcb5c1ee3174f2acd3aa5cdf1ddf6591f
Implements: blueprint local-ip-prefix-in-metering-rules
RFE: https://bugs.launchpad.net/neutron/+bug/1889431
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/02/744702/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/source-and-destination-metering-label-rules.rst'],1,490a42300577c4f781aa9e41c875bc0359a7c624,bp/local-ip-prefix-in-metering-rules,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================= Source and destination filtering for metering label rules ========================================================= Neutron metering label rules have a parameter called ""remote-ip-prefix"", which would allow operators to filter traffic based on the remote IP address. However, since [1]_, its meaning was changed to the exact opposite, which makes a bit of confusion. Instead of matching on the remote prefix (towards the external interface), it matches the local prefix (towards the OpenStack tenant networks). Ideally, to satisfy the use case presented in [1]_ (which was achieved by inverting the use of ""remote-ip-prefix""), operators should be able to create rules based on local-ip-prefix and remote-ip-prefix. Proposed Change =============== As discussed in the Neutron drivers metering that approved the RFE [2]_ of this spec, we will deprecate the parameter `remote-ip-prefix` of Neutron metering API. Therefore, we will be introducing two new parameters with this spec in the Neutron metering rule API. These new parameters will be called ""source_ip_prefix"", and ""destination_ip_prefix"" (like in IPtables). The behavior of ""remote_ip_prefix"" will be maintained, but we will fix its documentation and mark it for removal in future releases [1]_. The ""source_ip_prefix"" and ""destination_ip_prefix"" could be used together, or only one of them can be defined. However, a metering rule must always have at least one of them (local_ip_prefix or remote_ip_prefix) defined. On the other hand, these two new parameters will not be allowed to be used in conjunction with ""remote_ip_prefix"". API JSON -------- Current JSON for ""v2.0/metering/metering-label-rules"" endpoint: .. code-block:: json { ""remote_ip_prefix"": ""0.0.0.0/0"", ""direction"": ""egress"", ""metering_label_id"": ""9ffd6512-9d2a-4dd2-9657-6a605126264d"", ""id"": ""f1694467-d866-4d8e-a8dc-18da516caedc"", ""excluded"": false } Adding new attributes: .. code-block:: json { ""remote_ip_prefix"": ""192.168.0.14/32"", ""source_ip_prefix"": ""192.168.0.14/32"", ""destination_ip_prefix"": ""0.0.0.0/0"", ""direction"": ""egress"", ""metering_label_id"": ""9ffd6512-9d2a-4dd2-9657-6a605126264d"", ""id"": ""f1694467-d866-4d8e-a8dc-18da516caedc"", ""excluded"": false } Database table changes ---------------------- Currently, the table ""meteringlabelrules"" is defined as: .. code-block:: bash +-------------------+--------------------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------------------+--------------------------+------+-----+---------+-------+ | id | varchar(36) | NO | PRI | NULL | | | direction | enum('ingress','egress') | YES | | NULL | | | remote_ip_prefix | varchar(64) | YES | | NULL | | | metering_label_id | varchar(36) | NO | MUL | NULL | | | excluded | tinyint(1) | YES | | 0 | | +-------------------+--------------------------+------+-----+---------+-------+ We would add a new field to it. Therefore, it would look like: .. code-block:: bash +-----------------------+--------------------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-----------------------+--------------------------+------+-----+---------+-------+ | id | varchar(36) | NO | PRI | NULL | | | direction | enum('ingress','egress') | YES | | NULL | | | remote_ip_prefix | varchar(64) | YES | | NULL | | | local_ip_prefix | varchar(64) | YES | | NULL | | | source_ip_prefix | varchar(64) | YES | | NULL | | | destination_ip_prefix | varchar(64) | YES | | NULL | | | metering_label_id | varchar(36) | NO | MUL | NULL | | | excluded | tinyint(1) | YES | | 0 | | +-----------------------+--------------------------+------+-----+---------+-------+ Neutron Metering agent changes ------------------------------ The IPtables driver in the metering agent will need to handle the new parameters ""source_ip_prefix"" and ""destination_ip_prefix"" properly. When building the IPtable rules the parameter ""destination_ip_prefix"" (if defined) will be used with the option ""-d"" (IPtables option). On the other hand, the parameter ""source_ip_prefix"" (if defined) will be used with option ""-s""(IPtables option). Validations ----------- To simplify validations, we propose to remove the overlapping IP_prefixes validations for the new fields (for the remote IP prefix, it will be maintained). The rationally behind this removal is that if the operator wants to somehow create rules that overlap, we should not be the ones blocking it (there might be some business logic that needs it). We will implement the following validation: * The source IP prefix must be a valid IPv4 CIDR * The destination IP prefix must be a valid IPv4 CIDR * Each metering label rule requires at least source, destination, or remote IP prefix to be informed. The remote IP prefix is marked as deprecated. Therefore, once it is removed, the users will have to enter at least source or destination IP prefixes. One can also use both (source and destination IP prefixes) to build rule. * source and destination IP prefixes cannot be used in conjunction with remote IP prefix. API impacts =========== Two new parameters will be introduced, but they are not required. Therefore, people using it would not suffer an immediate impact. However, when the ""remote_ip_prefix"" is removed. Then, people might have a problem. therefore, as soon as the new method of building rules is available, people will be encouraged to use it, instead of the ""remote_ip_prefix"" metering rule base. Assignee(s) =========== Primary assignees: - Rafael <rafael@apache.org> Other contributors: Work Items ---------- The following are the work items for the planned release. 1) Deprecate remote IP prefix (Neutron-lib) - Deprecate remote IP prefix - Fix documentation 2) Add source and destination attributes (Neutron-lib) -- executed via [3]_ - Add new attributes in api/definitions/metering.py - Fix JSON of examples and documentation 3) Deprecate remote IP prefix (Neutron) - Deprecate remote IP prefix - Fix documentation - Log a warning when people use it 4) Change execution flow in Neutron and Neutron metering agent to use the new fields. (Neutron) - Add the new DB fields in objects.metering.MeteringLabelRule and neutron/db/models/metering.MeteringLabelRule - DB script in neutron/db/migration/alembic_migrations/versions/victoria - Actual implementation to use the new attributes, and unit tests - Update the documentation of the API with the new fields 5) Deprecate remote IP prefix (OpenStack SDK) - Deprecate remote IP prefix - Fix documentation - Log a warning when people use it 6) Deprecate remote IP prefix (OpenStack python client) - Deprecate remote IP prefix - Fix documentation - Log a warning when people use it 7) Add the new fields (OpenStack SDK) - Add the new fields - Fix documentation 8) Add the new fields (OpenStack python client) - Add the new fields - Fix documentation After we finish all of these items, in a future release, we will need to execute the following removal items. 1) Remove remote IP prefix (Neutron-lib) - Fix JSON of examples and documentation 2) Remove remote IP prefix (Neutron) - Fix documentation 3) Remove remote IP prefix (OpenStack SDK) - Fix documentation 4) Remove remote IP prefix (OpenStack python client) - Fix documentation Dependencies ============ None References ========== .. [1] https://opendev.org/openstack/neutron/commit/92db1d4a2c49b1f675b6a9552a8cc5a417973b64 .. [2] https://bugs.launchpad.net/neutron/+bug/1889431 .. [3] https://review.opendev.org/#/c/743828/ ",,242,0
openstack%2Frally~master~I8efa9313c030af570a44bb2f3563e7944b2293d9,openstack/rally,master,I8efa9313c030af570a44bb2f3563e7944b2293d9,Adding support to create deployments with domain name,NEW,2016-07-04 10:21:20.000000000,2020-08-28 12:55:41.000000000,,"[{'_account_id': 1736}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 6577}, {'_account_id': 6835}, {'_account_id': 7132}, {'_account_id': 7369}, {'_account_id': 7428}, {'_account_id': 7488}, {'_account_id': 8491}, {'_account_id': 8576}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 11671}, {'_account_id': 11748}, {'_account_id': 12395}, {'_account_id': 13609}, {'_account_id': 13919}, {'_account_id': 14817}, {'_account_id': 20302}]","[{'number': 1, 'created': '2016-07-04 10:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b8020d043d39194d2091e873a7380fb45623bce6', 'message': 'Adding support to create rally deployments with domain name for the\nv3 keystone support.\nDeployments can be created with domain name using json file as well\nas env variables.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nPartial-Bug: #1441379\n'}, {'number': 2, 'created': '2016-07-04 12:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d442e2fafa3bf240ad6fd36c78584d4fefcd8f90', 'message': 'Adding support to create deployments with domain name\n\nDeployments can be created with domain name using json file as well\nas env variables.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nPartial-Bug: #1441379\n'}, {'number': 3, 'created': '2016-07-05 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d9f2fd899f11bded8ceacdb05c7f9ee113ff38f2', 'message': 'Adding support to create deployments with domain name\n\nDeployments can be created with domain name using json file as well\nas env variables.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nPartial-Bug: #1441379\n'}, {'number': 4, 'created': '2016-07-11 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b6663cc35e12dee4d710ce042d32f12274c28b04', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) Nova test cases can\nbe run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nPartial-Bug: #1441379\n'}, {'number': 5, 'created': '2016-07-15 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b70ce525fa23cf62d4e332cb6b72bf5da03c550e', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) Nova test cases can\nbe run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nPartial-Bug: #1441379\n'}, {'number': 6, 'created': '2016-07-22 10:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e895e363fe077f4c592321e335158bd42e35b682', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) Nova test cases can\nbe run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nPartial-Bug: #1441379\n'}, {'number': 7, 'created': '2016-07-28 11:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2d6ce42971973f86d0b2cd21304c79fb6bd3f7c7', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) All openstack\ncomponents test cases can be run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nCloses-Bug: #1441379\n'}, {'number': 8, 'created': '2016-07-29 06:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c99ee2ce28f2207421d96383ad69d458228de055', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) All openstack\ncomponents test cases can be run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nCloses-Bug: #1441379\n'}, {'number': 9, 'created': '2016-07-29 19:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8af324b474e9a9c982bc06ac9cb11b621ab62790', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) All openstack\ncomponents test cases can be run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nCloses-Bug: #1441379\n'}, {'number': 10, 'created': '2016-08-30 05:53:39.000000000', 'files': ['tests/unit/cli/commands/test_deployment.py', 'rally/consts.py', 'rally/cli/envutils.py', 'tests/unit/common/objects/test_credential.py', 'tests/unit/plugins/openstack/context/quotas/test_quotas.py', 'rally/osclients.py', 'rally/common/objects/credential.py', 'tests/unit/cli/test_envutils.py', 'rally/cli/commands/deployment.py', 'rally/plugins/openstack/context/keystone/users.py', 'tests/unit/test_osclients.py', 'tests/unit/plugins/openstack/context/keystone/test_users.py', 'tests/unit/plugins/openstack/context/network/test_allow_ssh.py', 'rally/deployment/engines/existing.py', 'rally/plugins/openstack/context/quotas/quotas.py', 'rally/plugins/openstack/context/network/allow_ssh.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/9ded2a5ba2aea5534505ccf4c6bbebaacf84a6e0', 'message': 'Adding support to create deployments with domain name\n\nIn Keystone V3, user roles are scoped at either the project or\ndomain level. Authentication (tokens) gets scoped to either the\nproject or domain level and the roles (permissions) picked up\nare those defined only in that scope.\n\nRally doesnt have support for Domain-scoped tokens or deployments.\nIn order to create new projects, the Authentication token must be\nscoped to the appropriate domain. i.e. Rally cant create new\nusers for benchmark execution using Identity v3.\n\nMany openstack components dont register endpoints for\ndomain-scoped tokens. The service catalog returned from a\ndomain-scoped request contains all endpoints excluding\nones that require a project ID as part of their URL.\nFor example, when we run a Nova boot test using a\nRally deployment with domain-scope, Rally will fail saying that\nit cannot find a nova endpoint.\n\nTo address this issue this patch explicitly project-scope the\nadmin token during endpoint discovery for services for\nwhich this happens\nWith this patch 1)the deployments can be created with domain name\nusing json file as well as env variables. 2) All openstack\ncomponents test cases can be run with domain scoped tokens.\n\nChange-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9\nCloses-Bug: #1441379\n'}]",41,337115,9ded2a5ba2aea5534505ccf4c6bbebaacf84a6e0,48,20,10,20302,,,0,"Adding support to create deployments with domain name

In Keystone V3, user roles are scoped at either the project or
domain level. Authentication (tokens) gets scoped to either the
project or domain level and the roles (permissions) picked up
are those defined only in that scope.

Rally doesnt have support for Domain-scoped tokens or deployments.
In order to create new projects, the Authentication token must be
scoped to the appropriate domain. i.e. Rally cant create new
users for benchmark execution using Identity v3.

Many openstack components dont register endpoints for
domain-scoped tokens. The service catalog returned from a
domain-scoped request contains all endpoints excluding
ones that require a project ID as part of their URL.
For example, when we run a Nova boot test using a
Rally deployment with domain-scope, Rally will fail saying that
it cannot find a nova endpoint.

To address this issue this patch explicitly project-scope the
admin token during endpoint discovery for services for
which this happens
With this patch 1)the deployments can be created with domain name
using json file as well as env variables. 2) All openstack
components test cases can be run with domain scoped tokens.

Change-Id: I8efa9313c030af570a44bb2f3563e7944b2293d9
Closes-Bug: #1441379
",git fetch https://review.opendev.org/openstack/rally refs/changes/15/337115/10 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/envutils.py', 'rally/deployment/engines/existing.py']",2,b8020d043d39194d2091e873a7380fb45623bce6,bug/1441379," # V3.0 Authentication in project scope }, { # v3.0 authentication in domain scope ""properties"": { ""domain_name"": {""type"": ""string""}, ""user_domain_name"": {""type"": ""string""}, ""project_domain_name"": {""type"": ""string""}, }, ""required"": [""username"", ""password"", ""domain_name""],", # Authentication in project scope,22,5
openstack%2Fgovernance~master~I8ff74b63f17c89089428793e7155a413bef94fb9,openstack/governance,master,I8ff74b63f17c89089428793e7155a413bef94fb9,Add etcd3gw to Oslo,MERGED,2020-08-20 14:40:01.000000000,2020-08-28 12:54:08.000000000,2020-08-28 12:51:36.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 7353}, {'_account_id': 8556}, {'_account_id': 13734}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-20 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e79a7354e4e8abeaafa614ab42af533dfd8d7c7e', 'message': 'Add etcd3gw to Oslo\n\nPer [1] and [2].\n\n[1] https://github.com/dims/etcd3-gateway/issues/29\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html\n\nDepends-On: https://review.opendev.org/747185\nChange-Id: I8ff74b63f17c89089428793e7155a413bef94fb9\n'}, {'number': 2, 'created': '2020-08-20 16:28:38.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e90a44648cb2224f9ca5efef6f10ffea963fe6d1', 'message': 'Add etcd3gw to Oslo\n\nPer [1] and [2].\n\n[1] https://github.com/dims/etcd3-gateway/issues/29\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html\n\nDepends-On: https://review.opendev.org/747185\nChange-Id: I8ff74b63f17c89089428793e7155a413bef94fb9\n'}]",4,747188,e90a44648cb2224f9ca5efef6f10ffea963fe6d1,27,10,2,30491,,,0,"Add etcd3gw to Oslo

Per [1] and [2].

[1] https://github.com/dims/etcd3-gateway/issues/29
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html

Depends-On: https://review.opendev.org/747185
Change-Id: I8ff74b63f17c89089428793e7155a413bef94fb9
",git fetch https://review.opendev.org/openstack/governance refs/changes/88/747188/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e79a7354e4e8abeaafa614ab42af533dfd8d7c7e,project-update, etcd3gw: repos: - openstack/etcd3gw,,3,0
openstack%2Fgovernance~master~I9fbdf2c370386e8deca5cd42a88aee6d956202b4,openstack/governance,master,I9fbdf2c370386e8deca5cd42a88aee6d956202b4,Drop requirement of 1/3 positive TC votes to land,ABANDONED,2020-08-18 13:00:01.000000000,2020-08-28 12:48:15.000000000,,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 4257}, {'_account_id': 7198}, {'_account_id': 7353}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 13:00:01.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/d4dee2d4fd73a4953ad77d549e7e24525e224add', 'message': ""Drop requirement of 1/3 positive TC votes to land\n\nAt the moment, our charter requires that we at least have 1/3 of the\ntechnical committee vote positively for a change before it lands for\nformal votes.\n\nThis has proven extremely difficult in the past few months.  For a given\nchange, it takes a very long time to get the minimum required of 4 votes\nat the moment, even with persistent IRC pings and mailing list traffic.\n\nThis change will allow changes to flow more smoothly while enabling the\nTC members that are very interested by a certain topic to chime in while\nabstaining from others that are not a priority to them.\n\nIt's implied that the TC members still have a chance of a whole week to\ngo over a change and the existing discretion of the chair will be used\nto make sure that if something is very major, it gets more votes and\nattention.\n\nChange-Id: I9fbdf2c370386e8deca5cd42a88aee6d956202b4\n""}]",0,746711,d4dee2d4fd73a4953ad77d549e7e24525e224add,13,10,1,1004,,,0,"Drop requirement of 1/3 positive TC votes to land

At the moment, our charter requires that we at least have 1/3 of the
technical committee vote positively for a change before it lands for
formal votes.

This has proven extremely difficult in the past few months.  For a given
change, it takes a very long time to get the minimum required of 4 votes
at the moment, even with persistent IRC pings and mailing list traffic.

This change will allow changes to flow more smoothly while enabling the
TC members that are very interested by a certain topic to chime in while
abstaining from others that are not a priority to them.

It's implied that the TC members still have a chance of a whole week to
go over a change and the existing discretion of the chair will be used
to make sure that if something is very major, it gets more votes and
attention.

Change-Id: I9fbdf2c370386e8deca5cd42a88aee6d956202b4
",git fetch https://review.opendev.org/openstack/governance refs/changes/11/746711/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,d4dee2d4fd73a4953ad77d549e7e24525e224add,charter-change,votes (ties mean the motion is rejected).,"votes (ties mean the motion is rejected), and a minimum of positive votes of at least one third of the total number of TC members (rounded up: in a 13-member committee that means a minimum of 5 approvers).",1,3
openstack%2Fcharm-neutron-api-plugin-arista~master~I21377eb3945a8a22a80d231517888d67b972c57a,openstack/charm-neutron-api-plugin-arista,master,I21377eb3945a8a22a80d231517888d67b972c57a,Add focal to metadata,MERGED,2020-08-28 08:23:40.000000000,2020-08-28 12:44:43.000000000,2020-08-28 12:44:43.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 08:23:40.000000000', 'files': ['src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/focal-ussuri.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/6b5d83f094d834f0b262ad5e2060510189cb6314', 'message': 'Add focal to metadata\n\nChange-Id: I21377eb3945a8a22a80d231517888d67b972c57a\nPartial-Bug: #1890628\n'}]",0,748588,6b5d83f094d834f0b262ad5e2060510189cb6314,9,4,1,31289,,,0,"Add focal to metadata

Change-Id: I21377eb3945a8a22a80d231517888d67b972c57a
Partial-Bug: #1890628
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/88/748588/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/focal-ussuri.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml']",4,6b5d83f094d834f0b262ad5e2060510189cb6314,bug/1890628,- focal-ussuri,,183,0
openstack%2Fgovernance~master~Ieaa3ab77e2dd595cdf93a7ec025eb84b09cf56f9,openstack/governance,master,Ieaa3ab77e2dd595cdf93a7ec025eb84b09cf56f9,Move towards single office hour,ABANDONED,2020-08-06 18:31:26.000000000,2020-08-28 12:43:50.000000000,,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 18:31:26.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/bd3b0e40c8d41a786f8840960fc2c8c464459c0e', 'message': 'Move towards single office hour\n\nThis proposal is to move towards a different time for office hours that\nwould be held once a week.\n\nChange-Id: Ieaa3ab77e2dd595cdf93a7ec025eb84b09cf56f9\n'}]",0,745200,bd3b0e40c8d41a786f8840960fc2c8c464459c0e,15,7,1,1004,,,0,"Move towards single office hour

This proposal is to move towards a different time for office hours that
would be held once a week.

Change-Id: Ieaa3ab77e2dd595cdf93a7ec025eb84b09cf56f9
",git fetch https://review.opendev.org/openstack/governance refs/changes/00/745200/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,bd3b0e40c8d41a786f8840960fc2c8c464459c0e,formal-vote,* `15:00 UTC on Wednesdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=15&min=00&sec=0>`__,* `09:00 UTC on Tuesdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=09&min=00&sec=0>`__ * `01:00 UTC on Wednesdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=01&min=00&sec=0>`__ * `15:00 UTC on Thursdays <http://www.timeanddate.com/worldclock/fixedtime.html?hour=15&min=00&sec=0>`__,1,5
openstack%2Frequirements~master~Ic37e63971c2bda89558c48595f06be78990f2c7a,openstack/requirements,master,Ic37e63971c2bda89558c48595f06be78990f2c7a,Updated from generate-constraints,MERGED,2020-08-28 06:36:29.000000000,2020-08-28 12:42:34.000000000,2020-08-28 12:40:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-28 06:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/26530e5b533d1377e0e95e6ac65a207205ee7182', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic37e63971c2bda89558c48595f06be78990f2c7a\n'}, {'number': 2, 'created': '2020-08-28 06:39:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/989f2d9eb57f6c95706bea2e10af157da5ba1908', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic37e63971c2bda89558c48595f06be78990f2c7a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,748576,989f2d9eb57f6c95706bea2e10af157da5ba1908,11,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ic37e63971c2bda89558c48595f06be78990f2c7a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/748576/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,26530e5b533d1377e0e95e6ac65a207205ee7182,openstack/requirements/constraints/noclob,google-auth===1.21.0mock===4.0.2google-api-python-client===1.11.0docutils===0.16boto3===1.14.50oslo.cache===2.6.0botocore===1.17.50cmd2===1.3.8pkg-resources===0.0.0,google-auth===1.20.1mock===3.0.5google-api-python-client===1.10.1docutils===0.15.2boto3===1.14.49oslo.cache===2.5.0botocore===1.17.49cmd2===1.3.5,9,8
openstack%2Fcharm-ceph-mon~master~I153c22efb952fc38c5e3d36eed5d85c953e695f7,openstack/charm-ceph-mon,master,I153c22efb952fc38c5e3d36eed5d85c953e695f7,Add BlueStore Compression support,MERGED,2020-08-03 08:53:34.000000000,2020-08-28 12:32:24.000000000,2020-08-28 12:32:24.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-03 08:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7bc242770261bfc824a16f71097bc8d8f5471a51', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}, {'number': 2, 'created': '2020-08-03 10:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0835e334cf698dbad314dedcbe02b5d93e3b8adc', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nRemove unit tests that belong to charms.ceph.\n\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}, {'number': 3, 'created': '2020-08-03 10:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/24c72e379c29d37987f661c20d1e4a2b22d9d347', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nRemove unit tests that belong to charms.ceph.\n\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}, {'number': 4, 'created': '2020-08-03 10:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/50c7d82f711df9cac717adb7debde966a9ef1207', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nRemove unit tests that belong to charms.ceph.\n\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}, {'number': 5, 'created': '2020-08-03 10:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6e66ab5f4da27813518fd2f57aa2a171680463be', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nRemove unit tests that belong to charms.ceph.\n\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}, {'number': 6, 'created': '2020-08-03 19:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/41a1d1cf9e106709e8786dcb7d4865f6d80e3687', 'message': '[WIP] Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nRemove unit tests that belong to charms.ceph.\n\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}, {'number': 7, 'created': '2020-08-26 13:59:02.000000000', 'files': ['hooks/charmhelpers/contrib/storage/linux/ceph.py', 'unit_tests/test_ceph_ops.py', 'lib/charms_ceph/broker.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/210493277e4be1fb377523194559d0bde638ad9c', 'message': 'Add BlueStore Compression support\n\nSync in updates from charm-helpers and charms.ceph.\n\nRemove unit tests that belong to charms.ceph.\n\nDepends-On: Ibec4e3221387199adbc1a920e130975d7b25343c\nChange-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7\n'}]",1,744419,210493277e4be1fb377523194559d0bde638ad9c,25,4,7,13686,,,0,"Add BlueStore Compression support

Sync in updates from charm-helpers and charms.ceph.

Remove unit tests that belong to charms.ceph.

Depends-On: Ibec4e3221387199adbc1a920e130975d7b25343c
Change-Id: I153c22efb952fc38c5e3d36eed5d85c953e695f7
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/19/744419/7 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/storage/linux/ceph.py', 'lib/charms_ceph/broker.py']",2,7bc242770261bfc824a16f71097bc8d8f5471a51,ceph-bluestore-compression,"from subprocess import check_call, check_output, CalledProcessError try: pool = ErasurePool(service=service, op=request) except KeyError: msg = ""Missing parameter."" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} # Set/update properties that are allowed to change after pool creation. pool.update() # NOTE: Check this against the handling in the Pool classes, reconcile and # remove. replicas = request.get('replicas') request.update({'pg_num': pg_num}) try: pool = ReplicatedPool(service=service, op=request) except KeyError: msg = ""Missing parameter."" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} # Set/update properties that are allowed to change after pool creation. pool.update()"," set_pool_quota,from subprocess import check_call, check_output, CalledProcessError max_bytes = request.get('max-bytes') max_objects = request.get('max-objects') weight = request.get('weight') app_name = request.get('app-name') # Check for missing params if pool_name is None: msg = ""Missing parameter. name is required for the pool"" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} pool = ErasurePool(service=service, name=pool_name, erasure_code_profile=erasure_profile, percent_data=weight, app_name=app_name) # Set a quota if requested if max_bytes or max_objects: set_pool_quota(service=service, pool_name=pool_name, max_bytes=max_bytes, max_objects=max_objects) replicas = request.get('replicas') max_bytes = request.get('max-bytes') max_objects = request.get('max-objects') weight = request.get('weight') app_name = request.get('app-name') # Check for missing params if pool_name is None or replicas is None: msg = ""Missing parameter. name and replicas are required"" log(msg, level=ERROR) return {'exit-code': 1, 'stderr': msg} kwargs = {} if pg_num: kwargs['pg_num'] = pg_num if weight: kwargs['percent_data'] = weight if replicas: kwargs['replicas'] = replicas if app_name: kwargs['app_name'] = app_name pool = ReplicatedPool(service=service, name=pool_name, **kwargs) # Set a quota if requested if max_bytes or max_objects: set_pool_quota(service=service, pool_name=pool_name, max_bytes=max_bytes, max_objects=max_objects)",787,449
openstack%2Fmonasca-persister~stable%2Ftrain~I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab,openstack/monasca-persister,stable/train,I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab,Support automatic db creation for InfluxDB,NEW,2020-03-13 12:37:04.000000000,2020-08-28 12:31:33.000000000,,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26159}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-03-13 12:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/1f13891b35aeba045da0b6a5d7bfe681ad6abed1', 'message': 'Support automatic db creation for InfluxDB\n\nAt the moment, monasca persister assumes that an InfluxDB database\nalready exists. With this change, a new database is created when it does\nnot exist.\n\nStory: 2006331\nTask: 37327\n\nChange-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab\n(cherry picked from commit df12bd86288408b850e4a261504d956a062650b6)\n'}, {'number': 2, 'created': '2020-03-13 13:49:00.000000000', 'files': ['monasca_persister/repositories/influxdb/abstract_repository.py', 'releasenotes/notes/support-automatic-db-creation-0856216b42b91e7d.yaml', 'monasca_persister/tests/test_influxdb_metrics_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/7d969acd7738b3af92d13bf2fec11cba613866c8', 'message': 'Support automatic db creation for InfluxDB\n\nAt the moment, monasca persister assumes that an InfluxDB database\nalready exists. With this change, a new database is created when it does\nnot exist.\n\nStory: 2006331\nTask: 37327\n\nChange-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab\n(cherry picked from commit df12bd86288408b850e4a261504d956a062650b6)\n'}]",0,712937,7d969acd7738b3af92d13bf2fec11cba613866c8,17,6,2,17669,,,0,"Support automatic db creation for InfluxDB

At the moment, monasca persister assumes that an InfluxDB database
already exists. With this change, a new database is created when it does
not exist.

Story: 2006331
Task: 37327

Change-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab
(cherry picked from commit df12bd86288408b850e4a261504d956a062650b6)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/37/712937/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/repositories/influxdb/abstract_repository.py', 'releasenotes/notes/support-automatic-db-creation-0856216b42b91e7d.yaml', 'monasca_persister/tests/test_influxdb_metrics_repository.py']",3,1f13891b35aeba045da0b6a5d7bfe681ad6abed1,story/2006331-stable/train,"import influxdb from influxdb.exceptions import InfluxDBClientError from mock import call from monasca_persister.repositories.influxdb.metrics_repository import MetricInfluxdbRepositoryimport six db_not_found = InfluxDBClientError( content='{""error"": ""database not found: db""}', code=404) def _test_process_message(self, metrics_repo, data_points, metric, tenant): _dp, _tenant = metrics_repo.process_message(metric) self.assertIsInstance(_dp, six.string_types) self.assertEqual(_tenant, tenant) data_points.append(_tenant, _dp) @patch.object(influxdb, 'InfluxDBClient') @patch.object(cfg, 'CONF', return_value=None) def _test_write_batch(self, mock_conf, mock_influxdb_client, db_per_tenant, db_exists): mock_conf.influxdb.database_name = db_name = 'db' mock_conf.influxdb.db_per_tenant = db_per_tenant t1 = u'fake_tenant_id_1' t2 = u'fake_tenant_id_2' m1 = self._get_metric(t1) m2 = self._get_metric(t2) metrics_repo = MetricInfluxdbRepository() data_points = metrics_repo.data_points_class() self._test_process_message(metrics_repo, data_points, m1, t1) self._test_process_message(metrics_repo, data_points, m2, t2) metrics_repo._influxdb_client = mock_influxdb_client if db_exists: metrics_repo._influxdb_client.write_points = Mock() else: metrics_repo._influxdb_client.write_points = Mock( side_effect=[db_not_found, None, db_not_found, None]) if db_per_tenant: call1 = call('%s_%s' % (db_name, t1)) call2 = call('%s_%s' % (db_name, t2)) calls = [call1, call2] else: calls = [call(db_name)] metrics_repo.write_batch(data_points) if db_exists: mock_influxdb_client.create_database.assert_not_called() else: mock_influxdb_client.create_database.assert_has_calls( calls, any_order=True) def _get_metric(self, tenant_id): ""tenantId"":""''' + tenant_id + '''"" def test_write_batch_db_exists(self): self._test_write_batch(db_per_tenant=False, db_exists=True) def test_write_batch(self): self._test_write_batch(db_per_tenant=False, db_exists=False) def test_write_batch_db_per_tenant_db_exists(self): self._test_write_batch(db_per_tenant=True, db_exists=True) def test_write_batch_db_per_tenant(self): self._test_write_batch(db_per_tenant=True, db_exists=False)","from monasca_persister.repositories.influxdb.metrics_repository import MetricInfluxdbRepository def test_process_message(self): metric = self._get_metric() with patch.object(cfg, 'CONF', return_value=None): metric_repo = MetricInfluxdbRepository() self.assertIsInstance(metric_repo.process_message(metric), tuple) def _get_metric(self): ""tenantId"":""df4c002353de4399b92fa79d8374819b""",68,10
openstack%2Fglance~stable%2Fussuri~Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3,openstack/glance,stable/ussuri,Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3,Implement time-limited import locking,MERGED,2020-08-25 18:57:25.000000000,2020-08-28 12:01:16.000000000,2020-08-28 11:56:19.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/111eed23602ffebbb49eae40f11e631da6b77d52', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nConflicts:\n - Changes due to policy check being missing from ussuri\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n(cherry picked from commit 3f6e349d0853a9746d0d744bc3eb0b2baa1ddff9)\n""}, {'number': 2, 'created': '2020-08-26 13:47:35.000000000', 'files': ['glance/tests/unit/async_/test_async.py', 'glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/functional/v2/test_images_import_locking.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/055e5e790272cf6a636b07a5ff0c4c2b59351fe7', 'message': ""Implement time-limited import locking\n\nThis attempts to provide a time-based import lock that is dependent\non the task actually making progress. While the task is copying\ndata, the task message is updated, which in turn touches the task\nupdated_at time. The API will break any lock after 30 minutes of\nno activity on a stalled or dead task. The import taskflow will\ncheck to see if it has lost the lock at any point, and/or if its\ntask status has changed and abort if so.\n\nThe logic in more detail:\n\n1. API locks the image by task-id before we start the task thread, but\n   before we return\n2. Import thread will check the task-id lock on the image every time it\n   tries to modify the image, and if it has changed, will abort\n3. The data pipeline will heartbeat the task every minute by updating\n   the task.message (bonus: we get some status)\n4. If the data pipeline heartbeat ever finds the task state to be changed\n   from the expected 'processing' it will abort\n5. On task revert or completion, we drop the task-id lock from the image\n6. If something ever gets stuck or dies, the heartbeating will stop\n7. If the API gets a request for an import where the lock is held, it\n   will grab the task by id (in the lock) and check the state and age.\n   If the age is sufficiently old (no heartbeating) and the state is\n   either 'processing' or terminal, it will mark the task as failed,\n   steal the lock, and proceed.\n\nLots of logging throughout any time we encounter unexpected situations.\n\nConflicts:\n - Changes due to policy check being missing from ussuri\n\nCloses-Bug: #1884596\nChange-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3\n(cherry picked from commit 3f6e349d0853a9746d0d744bc3eb0b2baa1ddff9)\n""}]",0,748014,055e5e790272cf6a636b07a5ff0c4c2b59351fe7,14,3,2,4393,,,0,"Implement time-limited import locking

This attempts to provide a time-based import lock that is dependent
on the task actually making progress. While the task is copying
data, the task message is updated, which in turn touches the task
updated_at time. The API will break any lock after 30 minutes of
no activity on a stalled or dead task. The import taskflow will
check to see if it has lost the lock at any point, and/or if its
task status has changed and abort if so.

The logic in more detail:

1. API locks the image by task-id before we start the task thread, but
   before we return
2. Import thread will check the task-id lock on the image every time it
   tries to modify the image, and if it has changed, will abort
3. The data pipeline will heartbeat the task every minute by updating
   the task.message (bonus: we get some status)
4. If the data pipeline heartbeat ever finds the task state to be changed
   from the expected 'processing' it will abort
5. On task revert or completion, we drop the task-id lock from the image
6. If something ever gets stuck or dies, the heartbeating will stop
7. If the API gets a request for an import where the lock is held, it
   will grab the task by id (in the lock) and check the state and age.
   If the age is sufficiently old (no heartbeating) and the state is
   either 'processing' or terminal, it will mark the task as failed,
   steal the lock, and proceed.

Lots of logging throughout any time we encounter unexpected situations.

Conflicts:
 - Changes due to policy check being missing from ussuri

Closes-Bug: #1884596
Change-Id: Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3
(cherry picked from commit 3f6e349d0853a9746d0d744bc3eb0b2baa1ddff9)
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/748014/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/async_/test_async.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/functional/v2/test_images_import_locking.py']",6,111eed23602ffebbb49eae40f11e631da6b77d52,bug/1884596,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import os from testtools import content as ttc import textwrap import time from unittest import mock import uuid from oslo_config import cfg from oslo_log import log as logging from oslo_serialization import jsonutils from oslo_utils import fixture as time_fixture import webob from glance.common import config from glance.common import wsgi import glance.db.sqlalchemy.api from glance.tests import utils as test_utils import glance_store LOG = logging.getLogger(__name__) TENANT1 = str(uuid.uuid4()) CONF = cfg.CONF class SynchronousAPIBase(test_utils.BaseTestCase): """"""A test base class that provides synchronous calling into the API without starting a separate server, and with a simple paste pipeline. Configured with multi-store and a real database. """""" @mock.patch('oslo_db.sqlalchemy.enginefacade.writer.get_engine') def setup_database(self, mock_get_engine): db_file = 'sqlite:///%s/test-%s.db' % (self.test_dir, uuid.uuid4()) self.config(connection=db_file, group='database') # NOTE(danms): Make sure that we clear the current global # database configuration, provision a temporary database file, # and run migrations with our configuration to define the # schema there. glance.db.sqlalchemy.api.clear_db_env() engine = glance.db.sqlalchemy.api.get_engine() mock_get_engine.return_value = engine with mock.patch('logging.config'): # NOTE(danms): The alembic config in the env module will break our # BaseTestCase logging setup. So mock that out to prevent it while # we db_sync. test_utils.db_sync(engine=engine) def setup_simple_paste(self): self.paste_config = os.path.join(self.test_dir, 'glance-api-paste.ini') with open(self.paste_config, 'w') as f: f.write(textwrap.dedent("""""" [filter:context] paste.filter_factory = glance.api.middleware.context:\ ContextMiddleware.factory [filter:fakeauth] paste.filter_factory = glance.tests.utils:\ FakeAuthMiddleware.factory [pipeline:glance-api] pipeline = context rootapp [composite:rootapp] paste.composite_factory = glance.api:root_app_factory /v2: apiv2app [app:apiv2app] paste.app_factory = glance.api.v2.router:API.factory """""")) def _store_dir(self, store): return os.path.join(self.test_dir, store) def setup_stores(self): self.config(enabled_backends={'store1': 'file', 'store2': 'file'}) glance_store.register_store_opts(CONF, reserved_stores=wsgi.RESERVED_STORES) self.config(default_backend='store1', group='glance_store') self.config(filesystem_store_datadir=self._store_dir('store1'), group='store1') self.config(filesystem_store_datadir=self._store_dir('store2'), group='store2') self.config(filesystem_store_datadir=self._store_dir('staging'), group='os_glance_staging_store') glance_store.create_multi_stores(CONF, reserved_stores=wsgi.RESERVED_STORES) glance_store.verify_store() def setUp(self): super(SynchronousAPIBase, self).setUp() self.setup_database() self.setup_simple_paste() self.setup_stores() def start_server(self): config.set_config_defaults() self.api = config.load_paste_app('glance-api', conf_file=self.paste_config) def _headers(self, custom_headers=None): base_headers = { 'X-Identity-Status': 'Confirmed', 'X-Auth-Token': '932c5c84-02ac-4fe5-a9ba-620af0e2bb96', 'X-User-Id': 'f9a41d13-0c13-47e9-bee2-ce4e8bfe958e', 'X-Tenant-Id': TENANT1, 'Content-Type': 'application/json', 'X-Roles': 'admin', } base_headers.update(custom_headers or {}) return base_headers def api_get(self, url, headers=None): headers = self._headers(headers) req = webob.Request.blank(url, method='GET', headers=headers) return self.api(req) def api_post(self, url, data=None, json=None, headers=None): headers = self._headers(headers) req = webob.Request.blank(url, method='POST', headers=headers) if json and not data: data = jsonutils.dumps(json).encode() headers['Content-Type'] = 'application/json' if data: req.body = data LOG.debug(req.as_bytes()) return self.api(req) def api_put(self, url, data=None, json=None, headers=None): headers = self._headers(headers) req = webob.Request.blank(url, method='PUT', headers=headers) if json and not data: data = jsonutils.dumps(json).encode() if data: req.body = data return self.api(req) class TestImageImportLocking(SynchronousAPIBase): def _import_copy(self, image_id, stores): """"""Do an import of image_id to the given stores."""""" body = {'method': {'name': 'copy-image'}, 'stores': stores, 'all_stores': False} return self.api_post( '/v2/images/%s/import' % image_id, json=body) def _create_and_import(self, stores=[]): """"""Create an image, stage data, and import into the given stores. :returns: image_id """""" resp = self.api_post('/v2/images', json={'name': 'foo', 'container_format': 'bare', 'disk_format': 'raw'}) image = jsonutils.loads(resp.text) resp = self.api_put( '/v2/images/%s/stage' % image['id'], headers={'Content-Type': 'application/octet-stream'}, data=b'IMAGEDATA') self.assertEqual(204, resp.status_code) body = {'method': {'name': 'glance-direct'}} if stores: body['stores'] = stores resp = self.api_post( '/v2/images/%s/import' % image['id'], json=body) self.assertEqual(202, resp.status_code) # Make sure it goes active for i in range(0, 10): image = self.api_get('/v2/images/%s' % image['id']).json if not image.get('os_glance_import_task'): break self.addDetail('Create-Import task id', ttc.text_content(image['os_glance_import_task'])) time.sleep(1) self.assertEqual('active', image['status']) return image['id'] def _test_import_copy(self, warp_time=False): self.start_server() state = {} # Create and import an image with no pipeline stall image_id = self._create_and_import(stores=['store1']) # Set up a fake data pipeline that will stall until we are ready # to unblock it def slow_fake_set_data(data_iter, backend=None, set_active=True): while True: state['running'] = True time.sleep(0.1) # Constrain oslo timeutils time so we can manipulate it tf = time_fixture.TimeFixture() self.useFixture(tf) # Turn on the delayed data pipeline and start a copy-image # import which will hang out for a while with mock.patch('glance.domain.proxy.Image.set_data') as mock_sd: mock_sd.side_effect = slow_fake_set_data resp = self._import_copy(image_id, ['store2']) self.addDetail('First import response', ttc.text_content(str(resp))) self.assertEqual(202, resp.status_code) # Wait to make sure the data stream gets started for i in range(0, 10): if state: break time.sleep(0.1) # Make sure the first import got to the point where the # hanging loop will hold it in processing state self.assertTrue(state.get('running', False), 'slow_fake_set_data() never ran') # If we're warping time, then advance the clock by two hours if warp_time: tf.advance_time_delta(datetime.timedelta(hours=2)) # Try a second copy-image import. If we are warping time, # expect the lock to be busted. If not, then we should get # a 409 Conflict. resp = self._import_copy(image_id, ['store2']) self.addDetail('Second import response', ttc.text_content(str(resp))) if warp_time: self.assertEqual(202, resp.status_code) else: self.assertEqual(409, resp.status_code) def test_import_copy_locked(self): self._test_import_copy(warp_time=False) def test_import_copy_bust_lock(self): self._test_import_copy(warp_time=True) ",,824,63
openstack%2Fneutron~stable%2Ftrain~I9062638366b45a7a930f31185cd6e23901a43957,openstack/neutron,stable/train,I9062638366b45a7a930f31185cd6e23901a43957,Not remove the running router when MQ is unreachable,MERGED,2020-08-26 07:00:55.000000000,2020-08-28 11:58:55.000000000,2020-08-28 11:56:11.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-26 07:00:55.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a96ad52c7e57664c63e3675b64718c5a288946fb', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}]",0,748124,a96ad52c7e57664c63e3675b64718c5a288946fb,17,5,1,9531,,,0,"Not remove the running router when MQ is unreachable

When the L3 agent get a router update notification, it will try to
retrieve the router info from neutron server. But at this time, if
the message queue is down/unreachable. It will get exceptions related
message queue. The resync actions will be run then. Sometimes, rabbitMQ
cluster is not so much easy to recover. Then Long time MQ recover time
will cause the router info sync RPC never get successful until it meets
the max retry time. Then the bad thing happens, L3 agent is trying to
remove the router now. It basically shutdown all the existing L3 traffic
of this router.

This patch directly removes the final router removal action, let the
router run as it is.

Closes-Bug: #1871850
Change-Id: I9062638366b45a7a930f31185cd6e23901a43957
(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/748124/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,a96ad52c7e57664c63e3675b64718c5a288946fb,bug/1871850-stable/ussuri-stable/train," def test_process_routers_update_router_update(self): update.action = l3_agent.ADD_UPDATE_ROUTER agent._safe_router_removed = mock.Mock() agent.plugin_rpc = mock.MagicMock() agent.plugin_rpc.get_routers.side_effect = ( Exception(""Failed to get router info"")) # start test agent._process_router_update() router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._resync_router.called) self.assertFalse(agent._safe_router_removed.called) def _test_process_routers_update_router_deleted(self, error=False): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent._queue = mock.Mock() update = mock.Mock() update.resource = None update.action = l3_agent.DELETE_ROUTER router_info = mock.MagicMock() agent.router_info[update.id] = router_info router_processor = mock.Mock() agent._queue.each_update_to_next_resource.side_effect = [ [(router_processor, update)]] agent._resync_router = mock.Mock() agent._safe_router_removed = mock.Mock() if error: self.assertTrue(agent._safe_router_removed.called) else: router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._safe_router_removed.called)"," @mock.patch.object(pd, 'remove_router') def _test_process_routers_update_router_deleted(self, remove_router, error=False): update.action = 1 # ROUTER_DELETED if error: agent._safe_router_removed = mock.Mock() self.assertFalse(remove_router.called) else: router_info.delete.assert_called_once_with() self.assertFalse(agent.router_info) self.assertTrue(remove_router.called)",33,12
openstack%2Fglance~stable%2Fussuri~I3571960bbfb4f8f0a716937b541f5b1594cd0e16,openstack/glance,stable/ussuri,I3571960bbfb4f8f0a716937b541f5b1594cd0e16,Fix import failure status reporting when all_stores_must_succeed=True,MERGED,2020-08-25 18:57:25.000000000,2020-08-28 11:58:36.000000000,2020-08-28 11:56:14.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2d5e84390e1a9960abc6cd2969ee7021c62c4c33', 'message': 'Fix import failure status reporting when all_stores_must_succeed=True\n\nAs described in the referenced bug, if a store fails with\nall_stores_must_succeed=True, we never add that store to the\nfailed list, nor remove it from the pending-import list, leaving a\npolling client to wait forever. This fixes that by making the revert\nhandler of the import task do that if we are the one that failed.\n\nCloses-Bug: #1891352\nChange-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16\n(cherry picked from commit 737dfca83c8d347ef22eab7afca4057ce5f03f20)\n'}]",0,748012,2d5e84390e1a9960abc6cd2969ee7021c62c4c33,16,3,1,4393,,,0,"Fix import failure status reporting when all_stores_must_succeed=True

As described in the referenced bug, if a store fails with
all_stores_must_succeed=True, we never add that store to the
failed list, nor remove it from the pending-import list, leaving a
polling client to wait forever. This fixes that by making the revert
handler of the import task do that if we are the one that failed.

Closes-Bug: #1891352
Change-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16
(cherry picked from commit 737dfca83c8d347ef22eab7afca4057ce5f03f20)
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/748012/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,2d5e84390e1a9960abc6cd2969ee7021c62c4c33,bug/1884596,"import sysimport taskflow def test_revert_updates_status_keys(self): img_repo = mock.MagicMock() task_repo = mock.MagicMock() wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, task_repo, wrapper, ""http://url"", ""store1"", True, True) extra_properties = {""os_glance_importing_to_stores"": ""store1,store2""} image = self.img_factory.new_image(image_id=UUID1, extra_properties=extra_properties) img_repo.get.return_value = image fail_key = 'os_glance_failed_import' pend_key = 'os_glance_importing_to_stores' image_import.revert(None) self.assertEqual('store2', image.extra_properties[pend_key]) try: raise Exception('foo') except Exception: fake_exc_info = sys.exc_info() extra_properties = {""os_glance_importing_to_stores"": ""store1,store2""} image_import.revert(taskflow.types.failure.Failure(fake_exc_info)) self.assertEqual('store2', image.extra_properties[pend_key]) self.assertEqual('store1', image.extra_properties[fail_key]) ",,39,9
openstack%2Fvitrage~master~I74e51ca8ea8913a22cea3b0d6bec2afc80002c98,openstack/vitrage,master,I74e51ca8ea8913a22cea3b0d6bec2afc80002c98,update notifier to V3,MERGED,2020-08-20 03:05:22.000000000,2020-08-28 11:58:08.000000000,2020-08-28 11:55:34.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 03:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0bc3fb64a03f35ac9a957d245e7b449e7fce736b', 'message': 'update nova-notifier.rst to V3\n\nUpdate document to Syntax 3 to replace Syntax 2\nChange-Id: I74e51ca8ea8913a22cea3b0d6bec2afc80002c98\n'}, {'number': 2, 'created': '2020-08-20 03:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c6c86fb36b98f73555d12a8909631a504fb99b11', 'message': 'update nova-notifier.rst to V3\n\nUpdate document to Syntax 3 to replace Syntax 2\nChange-Id: I74e51ca8ea8913a22cea3b0d6bec2afc80002c98\n'}, {'number': 3, 'created': '2020-08-22 01:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/476c5eed41bff40cf5b9a10dcdf95e2014f0e616', 'message': 'update notifier to V3\n\nUpdate nova-notifier,mistral-notifier to Syntax 3 to replace Syntax 2\nChange-Id: I74e51ca8ea8913a22cea3b0d6bec2afc80002c98\n'}, {'number': 4, 'created': '2020-08-22 03:12:28.000000000', 'files': ['doc/source/contributor/nova-notifier.rst', 'doc/source/contributor/mistral-config.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b7d3821c7d0ca2fe10e1e69c248713e343044f02', 'message': 'update notifier to V3\n\nUpdate nova-notifier,mistral-notifier to Syntax 3 to replace Syntax 2\nChange-Id: I74e51ca8ea8913a22cea3b0d6bec2afc80002c98\n'}]",0,747095,b7d3821c7d0ca2fe10e1e69c248713e343044f02,12,2,4,30408,,,0,"update notifier to V3

Update nova-notifier,mistral-notifier to Syntax 3 to replace Syntax 2
Change-Id: I74e51ca8ea8913a22cea3b0d6bec2afc80002c98
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/95/747095/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/nova-notifier.rst'],1,0bc3fb64a03f35ac9a957d245e7b449e7fce736b,doc-nova-notifier, - condition: host_down_alarm [on] host actions: - mark_down: target: host , scenarios: - scenario: condition: host_down_alarm_on_host actions: action: action_type : mark_down action_target: target: host ,4,9
openstack%2Frally~master~Ifebef92bc0f549e4d0c778261bfc9b40e90d39af,openstack/rally,master,Ifebef92bc0f549e4d0c778261bfc9b40e90d39af,restart the task,MERGED,2020-08-12 06:20:32.000000000,2020-08-28 11:57:30.000000000,2020-08-28 11:57:30.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 06:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0bf86a1eaee2160b52e7a31c60f71b9f6d369353', 'message': 'restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 2, 'created': '2020-08-12 06:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4a9754f655e3c58af484392127681ee703efe8d6', 'message': 'restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 3, 'created': '2020-08-13 03:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b0d143856c84ff0a1ab9ed2aa46d02696e48c361', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 4, 'created': '2020-08-13 06:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/686950b54ce4358413534dd8404864e035d3ccc9', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 5, 'created': '2020-08-13 08:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2e6e6d451a926635957979053a21edc25dff4944', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 6, 'created': '2020-08-13 10:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b0068392f4b8a8a638b48ef078d23fa86e1d35c5', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 7, 'created': '2020-08-13 12:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4d93c57c90622fc79760fca32f017e9f2cc55a14', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 8, 'created': '2020-08-14 01:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9dea0a745fbc8b80653a3225e66429f56be0f823', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 9, 'created': '2020-08-14 02:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9ef07f83467bd86f9269869058cc198ce36f9ab5', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 10, 'created': '2020-08-14 02:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/53f1e916272d61987a81a892d42ab05262c7ad80', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 11, 'created': '2020-08-14 03:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f6092703cde6998a1a9eda8a37a30f38dce6aa63', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 12, 'created': '2020-08-14 05:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5f717f60d6af481763016fa0ff654f0909c6b1e2', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 13, 'created': '2020-08-15 06:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/50dcffb3ac93f823e96c176f1f2bbde730c41a5f', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 14, 'created': '2020-08-15 08:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4b59fecedbadb357a47a16a65619b2723a4f6138', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 15, 'created': '2020-08-15 09:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8d191960d082c1bbc34ea6e7963469bf5870081d', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 16, 'created': '2020-08-15 09:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1679ac4df7fd1a64fdcba3e4550e097c6d2a7524', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 17, 'created': '2020-08-17 01:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/70cacbb521bf185cfbabaf85a5b15ffd3a7d2f29', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 18, 'created': '2020-08-17 03:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7ae5b0f8e8b243bc70ebacee6ec74c4a1a510e24', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 19, 'created': '2020-08-17 12:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f523aa5a1567b752febcb48c99b0c526fbe75d8b', 'message': '[WIP]restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}, {'number': 20, 'created': '2020-08-26 02:05:02.000000000', 'files': ['rally/cli/commands/task.py', 'tests/functional/test_cli_task.py', 'tests/unit/cli/commands/test_task.py', 'etc/rally.bash_completion'], 'web_link': 'https://opendev.org/openstack/rally/commit/23883fa0c9a16318eb7c5dfe64587cbc98f84c3e', 'message': 'restart the task\n\nexpect to restart one finished or aborted task, or restart some\nfailure scenarios of workloads.\n\nChange-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af\n'}]",1,745790,23883fa0c9a16318eb7c5dfe64587cbc98f84c3e,44,2,20,21528,,,0,"restart the task

expect to restart one finished or aborted task, or restart some
failure scenarios of workloads.

Change-Id: Ifebef92bc0f549e4d0c778261bfc9b40e90d39af
",git fetch https://review.opendev.org/openstack/rally refs/changes/90/745790/20 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/commands/task.py', 'tests/functional/test_cli_task.py']",2,0bf86a1eaee2160b52e7a31c60f71b9f6d369353,," def test_restart(self): rally = utils.Rally() deployment_id = utils.get_global(""RALLY_DEPLOYMENT"", rally.env) cfg = self._get_sample_task_config() config = utils.TaskConfig(cfg) output = rally((""task start --task %(task_file)s "" ""--deployment %(deployment_id)s"") % {""task_file"": config.filename, ""deployment_id"": deployment_id}) output = rally(""task restart"") result = re.search( r""(?P<task_id>[0-9a-f\-]{36}): started"", output) self.assertIsNotNone(result) ",,32,0
openstack%2Fglance~stable%2Fussuri~I5499946425b1c32476c57241b4b14b601daa841f,openstack/glance,stable/ussuri,I5499946425b1c32476c57241b4b14b601daa841f,Add context.elevated() helper for getting admin privileges,MERGED,2020-08-25 18:57:25.000000000,2020-08-28 11:56:18.000000000,2020-08-28 11:56:18.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a1b7a2666daea4b84daf08f7c70b6eee419b53b1', 'message': 'Add context.elevated() helper for getting admin privileges\n\nThis adds an elevated() method to glance.context.RequestContext similar\nto what Nova and other projects use. When doing something as admin on\nbehalf of a user, this results in a whole context, including information\nabout the user and the request, but with is_admin==True.\n\nChange-Id: I5499946425b1c32476c57241b4b14b601daa841f\n(cherry picked from commit c59ed1bce82c960b205663ba9ac6d038633588dc)\n'}, {'number': 2, 'created': '2020-08-26 13:47:35.000000000', 'files': ['glance/tests/unit/test_context.py', 'glance/context.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/5998933acf2358070e9aa14ebb9e712985b5a04c', 'message': 'Add context.elevated() helper for getting admin privileges\n\nThis adds an elevated() method to glance.context.RequestContext similar\nto what Nova and other projects use. When doing something as admin on\nbehalf of a user, this results in a whole context, including information\nabout the user and the request, but with is_admin==True.\n\nChange-Id: I5499946425b1c32476c57241b4b14b601daa841f\n(cherry picked from commit c59ed1bce82c960b205663ba9ac6d038633588dc)\n'}]",0,748013,5998933acf2358070e9aa14ebb9e712985b5a04c,15,3,2,4393,,,0,"Add context.elevated() helper for getting admin privileges

This adds an elevated() method to glance.context.RequestContext similar
to what Nova and other projects use. When doing something as admin on
behalf of a user, this results in a whole context, including information
about the user and the request, but with is_admin==True.

Change-Id: I5499946425b1c32476c57241b4b14b601daa841f
(cherry picked from commit c59ed1bce82c960b205663ba9ac6d038633588dc)
",git fetch https://review.opendev.org/openstack/glance refs/changes/13/748013/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_context.py', 'glance/context.py']",2,a1b7a2666daea4b84daf08f7c70b6eee419b53b1,bug/1884596,"import copy def elevated(self): """"""Return a copy of this context with admin flag set."""""" context = copy.copy(self) context.roles = copy.deepcopy(self.roles) if 'admin' not in context.roles: context.roles.append('admin') context.is_admin = True return context ",,43,0
openstack%2Fglance~stable%2Fussuri~I11c7edaefc96236d2757acfb70d9c338c0f51348,openstack/glance,stable/ussuri,I11c7edaefc96236d2757acfb70d9c338c0f51348,Poll for final state on test_copy_image_revert_lifecycle(),MERGED,2020-08-26 13:47:35.000000000,2020-08-28 11:56:17.000000000,2020-08-28 11:56:17.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:47:35.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/ft_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ebeb31e6367e39e81ea4ea62feeebb9f42f03109', 'message': ""Poll for final state on test_copy_image_revert_lifecycle()\n\nThis test currently simulates failure by pre-deleting the store\ndirectory for 'file3' which is the second of a two-store import\noperation. The goal is to assert that the later failure reverts\nthe import of the earlier 'file2' store. However, the way the\npolling loop works is that we break out once 'file2' has completed,\nand then assume that 'file3' has already failed and reverted.\nThis is a race, and one we're losing consistently in CI.\n\nThis patch waits for the failure of 'file3' to be reported, as\nwell as the revert of 'file2' to occur before exiting the polling\nloop and checking the final state of things to ensure that the\nrevert has actually happened. This addresses the non-determinism\ninherent in the original test.\n\nChange-Id: I11c7edaefc96236d2757acfb70d9c338c0f51348\n(cherry picked from commit 6c96319eeb36274bed31466941dd83e7d9713cfd)\n""}]",0,748240,ebeb31e6367e39e81ea4ea62feeebb9f42f03109,11,3,1,4393,,,0,"Poll for final state on test_copy_image_revert_lifecycle()

This test currently simulates failure by pre-deleting the store
directory for 'file3' which is the second of a two-store import
operation. The goal is to assert that the later failure reverts
the import of the earlier 'file2' store. However, the way the
polling loop works is that we break out once 'file2' has completed,
and then assume that 'file3' has already failed and reverted.
This is a race, and one we're losing consistently in CI.

This patch waits for the failure of 'file3' to be reported, as
well as the revert of 'file2' to occur before exiting the polling
loop and checking the final state of things to ensure that the
revert has actually happened. This addresses the non-determinism
inherent in the original test.

Change-Id: I11c7edaefc96236d2757acfb70d9c338c0f51348
(cherry picked from commit 6c96319eeb36274bed31466941dd83e7d9713cfd)
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/748240/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/ft_utils.py']",2,ebeb31e6367e39e81ea4ea62feeebb9f42f03109,bug/1884596,"from oslo_utils import timeutils def poll_entity(url, headers, callback, max_sec=10, delay_sec=0.2, require_success=True): """"""Poll a given URL passing the parsed entity to a callback. This is a utility method that repeatedly GETs a URL, and calls a callback with the result. The callback determines if we should keep polling by returning True (up to the timeout). :param url: The url to fetch :param headers: The request headers to use for the fetch :param callback: A function that takes the parsed entity and is expected to return True if we should keep polling :param max_sec: The overall timeout before we fail :param delay_sec: The time between fetches :param require_success: Assert resp_code is http.OK each time before calling the callback """""" timer = timeutils.StopWatch(max_sec) timer.start() while not timer.expired(): resp = requests.get(url, headers=headers) if require_success and resp.status_code != http.OK: raise Exception( 'Received %i response from server' % resp.status_code) entity = resp.json() keep_polling = callback(entity) if keep_polling is not True: return keep_polling time.sleep(delay_sec) raise Exception('Poll timeout if %i seconds exceeded!' % max_sec)",,53,12
openstack%2Fglance~stable%2Fussuri~Ibeea8a93f140f35daa47024d07ad806162ff690d,openstack/glance,stable/ussuri,Ibeea8a93f140f35daa47024d07ad806162ff690d,Fix non-deterministic copy_image_revert_lifecycle test,MERGED,2020-08-26 13:47:35.000000000,2020-08-28 11:56:15.000000000,2020-08-28 11:56:15.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:47:35.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/541c0fd61e8e79492726c84a97a1186fbdf5c7a2', 'message': ""Fix non-deterministic copy_image_revert_lifecycle test\n\nThis test is failing fairly often in zuul. The test attempts to delete\none of the stores while the import is happening to simulate a failure\nand ensure that the first store is not reverted. This can race and fail\nto delete before the task completes. Instead, if we just delete the\nstore directory before the import, we know that when the flow gets to\nthe second store's step, it will fail to write the image, giving the same\nresult, reliably.\n\nChange-Id: Ibeea8a93f140f35daa47024d07ad806162ff690d\n(cherry picked from commit 5a7fb9db6e4df30253f3f1f3a55f0746fc9dee39)\n""}]",0,748239,541c0fd61e8e79492726c84a97a1186fbdf5c7a2,11,3,1,4393,,,0,"Fix non-deterministic copy_image_revert_lifecycle test

This test is failing fairly often in zuul. The test attempts to delete
one of the stores while the import is happening to simulate a failure
and ensure that the first store is not reverted. This can race and fail
to delete before the task completes. Instead, if we just delete the
store directory before the import, we know that when the flow gets to
the second store's step, it will fail to write the image, giving the same
result, reliably.

Change-Id: Ibeea8a93f140f35daa47024d07ad806162ff690d
(cherry picked from commit 5a7fb9db6e4df30253f3f1f3a55f0746fc9dee39)
",git fetch https://review.opendev.org/openstack/glance refs/changes/39/748239/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,541c0fd61e8e79492726c84a97a1186fbdf5c7a2,bug/1884596," # NOTE(abhishekk): Deleting file3 image directory to trigger the # failure, so that we can verify that revert call does not delete # the data from existing stores # NOTE(danms): Do this before we start the import, on a later store, # which will cause that store to fail after we have already completed # the first one. os.rmdir(self.test_dir + ""/images_3"") "," # NOTE(abhishekk): Deleting file3 image directory to trigger the # failure, so that we can verify that revert call does not delete # the data from existing stores os.rmdir(self.test_dir + ""/images_3"") ",8,5
openstack%2Fkolla-ansible~master~I1318a5ea7f746012cc3055d4c03fd0508df921ff,openstack/kolla-ansible,master,I1318a5ea7f746012cc3055d4c03fd0508df921ff,Fix bifrost deployment after removal of env-vars,MERGED,2020-08-28 08:19:16.000000000,2020-08-28 11:47:10.000000000,2020-08-28 11:44:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-28 08:19:16.000000000', 'files': ['ansible/roles/bifrost/tasks/deploy-servers.yml', 'ansible/roles/bifrost/tasks/bootstrap.yml', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8464046eacf9d553f6e9a800c316cd8ff877ab95', 'message': 'Fix bifrost deployment after removal of env-vars\n\nChange-Id: I1318a5ea7f746012cc3055d4c03fd0508df921ff\n'}]",2,748587,8464046eacf9d553f6e9a800c316cd8ff877ab95,11,5,1,22629,,,0,"Fix bifrost deployment after removal of env-vars

Change-Id: I1318a5ea7f746012cc3055d4c03fd0508df921ff
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/748587/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/deploy-servers.yml', 'ansible/roles/bifrost/tasks/bootstrap.yml', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst']",3,8464046eacf9d553f6e9a800c316cd8ff877ab95,bifrost_env_vars, export OS_CLOUD=bifrost export OS_CLOUD=bifrost export OS_CLOUD=bifrost export OS_CLOUD=bifrost, . env-vars . env-vars . env-vars . env-vars,8,8
openstack%2Fopenstack-ansible~stable%2Fussuri~I9688f85a1cb3caab97ebafba59f1a77a9541d638,openstack/openstack-ansible,stable/ussuri,I9688f85a1cb3caab97ebafba59f1a77a9541d638,Bump SHAs for stable/ussuri,MERGED,2020-08-23 15:58:40.000000000,2020-08-28 11:39:40.000000000,2020-08-28 11:37:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-23 15:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/057e9d6549873e869ad870009577ebce521efaff', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: I9688f85a1cb3caab97ebafba59f1a77a9541d638\n'}, {'number': 2, 'created': '2020-08-26 08:30:24.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c32882bdc1719fd6df8363c2c3e6979dcfbd5815', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: I9688f85a1cb3caab97ebafba59f1a77a9541d638\n'}]",0,747586,c32882bdc1719fd6df8363c2c3e6979dcfbd5815,28,4,2,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: I9688f85a1cb3caab97ebafba59f1a77a9541d638
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/747586/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,057e9d6549873e869ad870009577ebce521efaff,bump_osa, version: ea07ed008fe896b8c9812bd14785dbfa4fca0679 version: ae8ccd2a08771ecc28659abafb1cc69b6760a694 version: eed5eb1fa1d52452bce72467530a1c86633e538e version: 51fbd674ebe942d88e3e56c2fb07ebbda5a8b878 version: ffa823d4f6714e17c7532a86d10af129c7032e98 version: 16eace3104558a93596712728df3440cf78a806d version: abe1c3b734c874dcc2a467acfab4a4dd44bfd8a9 version: 26285b6f5711b134981b0e78f4e7d4d3bc2851f0 version: 9950aa068375291f4a2c337736a4cedc86f37b1a version: a26e154d08da04afda860a6bffe6841fd49c8fb3 version: dc207fff74073d45b872cc4ad4aba15169eb4a62 version: 343fb5816755bfb41f7681283e3f819112884c48 version: 84adaad17ca53bff86061a84436cef90932c7460 version: fac83016c0de7a27b2c8600bff4310b412c09080 version: 6a8acaf4827e69a30a2bb838cc5beffa7b6c47cf version: 00f80b9fa09cbb455ed139a927accc1fe86802cb version: 5734aad96f53241d86daf492cb7c17a90d0eb8fe version: 8163711d55c8c8e1e0df4d43f46011ed76143eec version: d05b605886b25bb05e6edd444ba83ca8fd2b353f version: fb6881e769dd1f09b0d2315393a778037db8368c version: b18d4be7ebfa8ace5bb297fcf03a7041dc3b834c version: 4917ab1614a7ff50fe61b8a2e56f25cb73e7c434 version: eec6d1e706b49a7bf8e89002c93d623110025e7b version: 9c4a7deee2b2cd96b56dfbf16a9bf4c1127bf9c0 version: 6e9bd65824780cf5f37509cfb30f9414da727600 version: 3a8be20699ab8430971c9654e2a8e05573f649ff, version: 4ed672e3992f41dc4020ba68b8ea12d657a11710 version: 7d2a1cf04b4605417db81edac6ed9c6252463534 version: d2536d37fa03cf7c52f8d2a3965412727a0f7b60 version: e322ddd4c283d46ca60558eaf8f825510beed12a version: fb8f9ecded0f6ee779de01f2091ed18342c8f567 version: 14759e5b63a0475a7f8863411adc7128e27205cf version: 82cca84626b31b84e0a7acc980e12f893fcd75cd version: 39ecf537ba7cc810a0d622a306c0604c0f7e85bd version: 7bbc66563ca803f63549e05e21c6bbf7e050a843 version: 14a1e2d8225ca8047d39d13e59e4290635e0c49c version: 293abff24be1f302638b7d87f69a81d752d5fafb version: 18005c69bdbafce13d697947eca8e8ba60fecfa3 version: 037521a3c5051cd0a5534625d7dd38384ee89aa6 version: 7ff34ad5352062497f4742c5d335572891b91f8e version: 8cc3651e0489101fc2dda141a35606d707cde81b version: 1e7caea88de4d85a16e71eb58ffea4d5eb533440 version: 94dfad9fe166625abc4eb9ecd2aff0e7dc43ec0f version: 7d46cb48d9f64ee4951553e7dd62e6ee37e70aea version: 22b5bdd7a41d8264946fa9b565577ec8ab4efc91 version: 70de4e9fa2fa1f97abcdf89ff3be2441983bd1e6 version: d85a25d169706c65ebdcd3b7c73702eb34160065 version: 1c6a7196f49cc7cb9cf52bcfb8962820ee5efaca version: 5ef62fa3e81660a2d203dd7099c01075239b5671 version: d287b8567739bfa074ac83ac8d20408e249945be version: 51b176229db757fba213356f9492164a133d7b09 version: 2609da6ce7999b50dc612f6945e3baf315a83cdc,76,76
openstack%2Fkuryr~master~I273fee5b36e9bb57e3120597314176e0eac17a78,openstack/kuryr,master,I273fee5b36e9bb57e3120597314176e0eac17a78,Remove all usage of six library,MERGED,2020-08-27 15:10:35.000000000,2020-08-28 11:32:43.000000000,2020-08-28 11:31:05.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-27 15:10:35.000000000', 'files': ['requirements.txt', 'kuryr/lib/binding/drivers/utils.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/d3a2fae486585b6af1aa0e1a68ab71befa097f49', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I273fee5b36e9bb57e3120597314176e0eac17a78\n'}]",0,748461,d3a2fae486585b6af1aa0e1a68ab71befa097f49,10,5,1,30356,,,0,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Change-Id: I273fee5b36e9bb57e3120597314176e0eac17a78
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/61/748461/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'kuryr/lib/binding/drivers/utils.py', 'lower-constraints.txt']",3,d3a2fae486585b6af1aa0e1a68ab71befa097f49,,,six==1.10.0,1,4
openstack%2Fkuryr-kubernetes~master~I2c433d5b4cece373004a3b4099e10b5d6e664ff4,openstack/kuryr-kubernetes,master,I2c433d5b4cece373004a3b4099e10b5d6e664ff4,Fix kuryr-controller error for not finding created resources,MERGED,2020-08-27 13:34:52.000000000,2020-08-28 11:25:15.000000000,2020-08-28 11:22:57.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-27 13:34:52.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1ffc9386098b849d76959786ffc8d0207f0ee0d4', 'message': 'Fix kuryr-controller error for not finding created resources\n\nIf there are no resources already created, just return without further processing\n\nChange-Id: I2c433d5b4cece373004a3b4099e10b5d6e664ff4\nCloses-Bug: #1893213\n'}]",0,748437,1ffc9386098b849d76959786ffc8d0207f0ee0d4,10,5,1,32352,,,0,"Fix kuryr-controller error for not finding created resources

If there are no resources already created, just return without further processing

Change-Id: I2c433d5b4cece373004a3b4099e10b5d6e664ff4
Closes-Bug: #1893213
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/37/748437/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py'],1,1ffc9386098b849d76959786ffc8d0207f0ee0d4,bug/1893213," except exceptions.K8sResourceNotFound: LOG.debug(""%s resource not found."", constants.K8S_API_CRD_KURYRNETPOLICIES) return",,4,0
openstack%2Fneutron~stable%2Ftrain~Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,openstack/neutron,stable/train,Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,Fix get_ipv6_llas method in the interface driver,MERGED,2020-08-24 07:11:03.000000000,2020-08-28 11:15:26.000000000,2020-08-28 11:12:09.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-24 07:11:03.000000000', 'files': ['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ee84a52f75e2e48515a151a81879ead23beaa86', 'message': 'Fix get_ipv6_llas method in the interface driver\n\nThis method is using ip_lib.get_devices_with_ip function to get\nIP addresses with scope ""link"".\nUnfortunatelly this method wasn\'t translating scope names to the pyrout2\nvalues and due to that wasn\'t returning correct IP addresses.\n\nNow this is fixed and correctl link local IPv6 addresses are returned.\n\nChange-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15\nCloses-Bug: #1892489\n(cherry picked from commit a4e04a7f8be95295324a59c34e6a79c7973af1ee)\n'}]",0,747627,2ee84a52f75e2e48515a151a81879ead23beaa86,21,6,1,11975,,,0,"Fix get_ipv6_llas method in the interface driver

This method is using ip_lib.get_devices_with_ip function to get
IP addresses with scope ""link"".
Unfortunatelly this method wasn't translating scope names to the pyrout2
values and due to that wasn't returning correct IP addresses.

Now this is fixed and correctl link local IPv6 addresses are returned.

Change-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15
Closes-Bug: #1892489
(cherry picked from commit a4e04a7f8be95295324a59c34e6a79c7973af1ee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/747627/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py']",2,2ee84a52f75e2e48515a151a81879ead23beaa86,bug/1892489-stable/ussuri-stable/train," scope = kwargs.pop('scope', None) if scope: kwargs['scope'] = IP_ADDRESS_SCOPE_NAME[scope]",,19,0
openstack%2Fneutron~stable%2Fstein~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,stable/stein,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-20 01:11:27.000000000,2020-08-28 11:15:12.000000000,2020-08-28 11:12:04.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 01:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f20e4f9ad86c76f3dd5b02cc85b0c278a26c7b8d', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}, {'number': 2, 'created': '2020-08-20 13:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/709ce459add68b00662bc144cf3638b9ee78aae0', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}, {'number': 3, 'created': '2020-08-22 06:54:47.000000000', 'files': ['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/494f9751d3b8d85c91494a290a64c175126b6b57', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nConflicts:\n    neutron/tests/unit/extensions/test_securitygroup.py\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}]",0,747066,494f9751d3b8d85c91494a290a64c175126b6b57,17,4,3,29157,,,0,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Conflicts:
    neutron/tests/unit/extensions/test_securitygroup.py

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/747066/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",5,f20e4f9ad86c76f3dd5b02cc85b0c278a26c7b8d,bug/1890539-stable/stein," neutron_context = context.Context('user', 'tenant') def test_get_security_group_on_port_with_admin_from_other_tenant(self): plugin = directory.get_plugin() if not hasattr(plugin, '_get_security_groups_on_port'): self.skipTest(""plugin doesn't use the mixin with this method"") neutron_context = context.get_admin_context() res = self._create_security_group(self.fmt, 'webservers', 'webservers', tenant_id='other_tenant') sg1 = self.deserialize(self.fmt, res) sgs = plugin._get_security_groups_on_port( neutron_context, {'port': {'security_groups': [sg1['security_group']['id']], 'tenant_id': 'tenant'}}) sg1_id = sg1['security_group']['id'] self.assertEqual(sg1_id, sgs[0].id) self.assertEqual('other_tenant', sgs[0].project_id) ", neutron_context = context.get_admin_context(),124,5
openstack%2Ftempest~master~Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5,openstack/tempest,master,Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5,Add new tests for check-uuid tool,MERGED,2020-07-13 16:10:29.000000000,2020-08-28 11:15:08.000000000,2020-08-28 11:12:07.000000000,"[{'_account_id': 5690}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 17887}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 30674}]","[{'number': 1, 'created': '2020-07-13 16:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7b14b2a9aa0b9421c7f3bab90c8c5b491cbfdf4', 'message': 'Create tests for check-uuid CLI\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 2, 'created': '2020-07-13 16:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37f05cbed2f798721f93248e5b030e0fe3bd4971', 'message': 'WIP: Create tests for check-uuid CLI\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 3, 'created': '2020-07-14 07:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8714944b6ab425dec6fbe94fcd49a22da8b7f767', 'message': 'Create tests for check-uuid CLI\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 4, 'created': '2020-07-14 07:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a90b747bef4795de048dee41d3c72ccd72fc6191', 'message': 'Create tests for check-uuid CLI\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 5, 'created': '2020-07-20 11:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0fb864ba6ee80d47d4ffaae004a70c5233fca62', 'message': 'Create tests for check-uuid CLI\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 6, 'created': '2020-07-23 13:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1fcdbb8710cf9c1dc9b9884256899fb3b4ef3fc8', 'message': 'Add new tests for check-uuid tool\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 7, 'created': '2020-07-27 09:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e19be50f9cfe22d0560cc76e1e1fdb437775b1f', 'message': 'Add new tests for check-uuid tool\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 8, 'created': '2020-07-27 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1fe77397a8566a55817ecfeb9633c9ad955a312', 'message': 'Add new tests for check-uuid tool\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}, {'number': 9, 'created': '2020-07-28 07:40:53.000000000', 'files': ['tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9af3ead370b161022d6dc3635ec52c8007de77f', 'message': 'Add new tests for check-uuid tool\n\nCreate tests to check whether the --fix and --package arguments\nof check-uuid utility work correctly.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5\n'}]",4,740723,a9af3ead370b161022d6dc3635ec52c8007de77f,30,10,9,30674,,,0,"Add new tests for check-uuid tool

Create tests to check whether the --fix and --package arguments
of check-uuid utility work correctly.

Partially-Implements: blueprint tempest-cli-unit-test-coverage

Change-Id: Iadab5b1f0e0b61de3f5686c964c691dfe8c7ecd5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/740723/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/cmd/test_check_uuid.py'],1,f7b14b2a9aa0b9421c7f3bab90c8c5b491cbfdf4,feature/check_uuid_cli_tests,"import os import sysclass TestCLInterface(base.TestCase): def setUp(self): super(TestCLInterface, self).setUp() self.fake_dir = tempfile.TemporaryDirectory(dir=""."") self.fake_init = open(self.fake_dir.name + ""/__init__.py"", ""w"") self.fake_file = open(self.fake_dir.name + ""/abc.py"", ""w"") self.code = ""import tempest\ndef foo():\n\tpass"" self.fake_file.write(self.code) self.fake_file.close() self.fake_init.close() def test_fix_argument_no(self): sys.argv = [sys.argv[0]] + [""--package"", str(os.path.relpath(self.fake_dir.name))] check_uuid.run() self.assertTrue(self.code == open(self.fake_file.name, ""r"").read()) def test_fix_argument_yes(self): sys.argv = [sys.argv[0]] + [""--fix"", ""--package"", str(os.path.relpath(self.fake_dir.name))] check_uuid.run() # self.assertTrue(self.code != open(self.fake_file.name, ""r"").read()) ",,28,0
openstack%2Ftripleo-validations~stable%2Fussuri~I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196,openstack/tripleo-validations,stable/ussuri,I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196,Add new Upgrades validation groups.,MERGED,2020-08-28 05:58:22.000000000,2020-08-28 11:15:05.000000000,2020-08-28 11:12:41.000000000,"[{'_account_id': 6816}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-28 05:58:22.000000000', 'files': ['doc/source/index.rst', 'groups.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d1f79351012fc6af3bd55b17a21e978ff2271fc0', 'message': 'Add new Upgrades validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the Upgrades workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n(cherry picked from commit 7c0481ce7b4ce10c0e5e5c759c56147c2371a3ac)\n'}]",0,748573,d1f79351012fc6af3bd55b17a21e978ff2271fc0,8,6,1,26343,,,0,"Add new Upgrades validation groups.

This patch adds all the needed groups to cover the different
stages for the Upgrades workflow.

Change-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196
(cherry picked from commit 7c0481ce7b4ce10c0e5e5c759c56147c2371a3ac)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/748573/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'groups.yaml', 'role-addition.yml']",3,d1f79351012fc6af3bd55b17a21e978ff2271fc0,, - pre-system-upgrade - post-system-upgrade - pre-undercloud-upgrade - post-undercloud-upgrade - pre-overcloud-prepare - post-overcloud-prepare - pre-overcloud-upgrade - post-overcloud-upgrade - pre-overcloud-converge - post-overcloud-converge,,60,0
openstack%2Fneutron~stable%2Fussuri~Icc995f7b2b465921e41342711d17539f16ead0ce,openstack/neutron,stable/ussuri,Icc995f7b2b465921e41342711d17539f16ead0ce,Handle properly existing LLA address during l3 agent restart,MERGED,2020-08-25 09:09:10.000000000,2020-08-28 11:15:00.000000000,2020-08-28 11:12:14.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 09:09:10.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7d3a9471c4f08d0a0513a1d6e66bb22c1be8429', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}]",0,747870,b7d3a9471c4f08d0a0513a1d6e66bb22c1be8429,15,5,1,11975,,,0,"Handle properly existing LLA address during l3 agent restart

In case when L3 agent is hosting routers which have got subnets
with Prefix Delegation enabled, agent couldn't properly handle
IpAddressAlreadyExists exception raised when pd module tries to
configure link local IPv6 addresses.

Now this is fixed and L3 agent can restart without problems in such
case.

Change-Id: Icc995f7b2b465921e41342711d17539f16ead0ce
Closes-Bug: #1892362
(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/747870/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py']",2,b7d3a9471c4f08d0a0513a1d6e66bb22c1be8429,bug/1892362-stable/ussuri,"from neutron.agent.linux import ip_lib try: self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA # uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask) except ip_lib.IpAddressAlreadyExists: pass"," self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask)",62,10
openstack%2Fneutron~stable%2Fqueens~I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,openstack/neutron,stable/queens,I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,Fix deletion of subnet_id from pd_subnets,MERGED,2020-08-25 07:00:35.000000000,2020-08-28 11:12:18.000000000,2020-08-28 11:12:18.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 07:00:35.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca1d3496faa706e4bed80f91aae8a4f52a1ad2be', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)\n""}]",0,747848,ca1d3496faa706e4bed80f91aae8a4f52a1ad2be,28,7,1,11975,,,0,"Fix deletion of subnet_id from pd_subnets

In the RouterInfo._process_internal_ports() method when it process
old ports and port belongs to the subnet with CIDR assigned by
Prefix Delegation it will try to remove subnet_id key from the
pd_subnets dict.
However it seems that in some case it may happen that such subnet_id key
is not added to the pd_subnets dict and processing of ports fails.

We shouldn't fail in such case, if there is no subnet_id key in this
dict we should be good as we want to delete it simply. So this patch
changes that to not raise KeyError in such case.

Change-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79
Closes-Bug: #1892364
(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/747848/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,ca1d3496faa706e4bed80f91aae8a4f52a1ad2be,bug/1892364-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens," self.pd_subnets.pop(subnet['id'], None)", del self.pd_subnets[subnet['id']],1,1
openstack%2Fblazar~stable%2Fussuri~I016d0ecf3751212fc578d30e5ba0a5cec48ac252,openstack/blazar,stable/ussuri,I016d0ecf3751212fc578d30e5ba0a5cec48ac252,Use the native Zuul v3 jobs from blazar-tempest-plugin,MERGED,2020-08-18 12:26:23.000000000,2020-08-28 11:01:30.000000000,2020-08-25 01:30:51.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-08-18 12:26:23.000000000', 'files': ['playbooks/legacy/blazar-devstack-dsvm/post.yaml', '.zuul.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run-ipv6.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/cedf5fb655e10c6414a107c1095e7155c8862057', 'message': 'Use the native Zuul v3 jobs from blazar-tempest-plugin\n\nThe new base jobs moved to that repository.\n\nDepends-On: https://review.opendev.org/732694\nChange-Id: I016d0ecf3751212fc578d30e5ba0a5cec48ac252\n(cherry picked from commit a2f792629c2a6ef70ec6fa6efaa05b2357bff96a)\n'}]",0,746697,cedf5fb655e10c6414a107c1095e7155c8862057,10,3,1,10459,,,0,"Use the native Zuul v3 jobs from blazar-tempest-plugin

The new base jobs moved to that repository.

Depends-On: https://review.opendev.org/732694
Change-Id: I016d0ecf3751212fc578d30e5ba0a5cec48ac252
(cherry picked from commit a2f792629c2a6ef70ec6fa6efaa05b2357bff96a)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/97/746697/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/blazar-devstack-dsvm/post.yaml', '.zuul.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run-ipv6.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run.yaml']",4,cedf5fb655e10c6414a107c1095e7155c8862057,native-zuulv3-migration,,"- hosts: all name: legacy-blazar-devstack-dsvm-py35 tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin blazar https://opendev.org/openstack/blazar # Swift is not ready for python3 yet disable_service s-account disable_service s-container disable_service s-object disable_service s-proxy # Without Swift, c-bak cannot run (in the Gate at least) disable_service c-bak # Enable Tempest plugin TEMPEST_PLUGINS='/opt/stack/new/blazar-tempest-plugin' EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export DEVSTACK_GATE_USE_PYTHON3=True export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export ENABLED_SERVICES=blazar,blazar-a,blazar-m,tempest export PROJECTS=""openstack/blazar $PROJECTS"" export PROJECTS=""openstack/blazar-nova $PROJECTS"" export PROJECTS=""openstack/python-blazarclient $PROJECTS"" export PROJECTS=""openstack/blazar-tempest-plugin $PROJECTS"" export DEVSTACK_GATE_TEMPEST_REGEX=""blazar_tempest_plugin"" export TEMPEST_CONCURRENCY=1 cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",4,187
openstack%2Fhorizon~master~I9b3820da0b02b69b1257fc2f337af6a335441dab,openstack/horizon,master,I9b3820da0b02b69b1257fc2f337af6a335441dab,Imported Translations from Zanata,MERGED,2020-08-16 06:53:38.000000000,2020-08-28 10:52:38.000000000,2020-08-28 10:50:17.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-16 06:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6f8391e6d1d224bdea68f5b7c599e3aba96652f4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b3820da0b02b69b1257fc2f337af6a335441dab\n'}, {'number': 2, 'created': '2020-08-28 07:08:09.000000000', 'files': ['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/01fa57f39cf4c698a23d76bd8c2556fa9e9c3733', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b3820da0b02b69b1257fc2f337af6a335441dab\n'}]",0,746391,01fa57f39cf4c698a23d76bd8c2556fa9e9c3733,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9b3820da0b02b69b1257fc2f337af6a335441dab
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/746391/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,6f8391e6d1d224bdea68f5b7c599e3aba96652f4,zanata/translations,"""POT-Creation-Date: 2020-08-14 08:09+0000\n""""PO-Revision-Date: 2020-08-15 02:27+0000\n""msgid ""18.4.1-14"" msgstr ""18.4.1-14""","""POT-Creation-Date: 2020-08-12 11:35+0000\n""""PO-Revision-Date: 2020-08-14 12:31+0000\n""msgid ""18.4.1-13"" msgstr ""18.4.1-13""",4,4
openstack%2Fkayobe~stable%2Fussuri~I9d7f0bf7daa6d1abe31de0e76a508820ed123c28,openstack/kayobe,stable/ussuri,I9d7f0bf7daa6d1abe31de0e76a508820ed123c28,Set endpoint type variables to publicURL in public-openrc.sh,MERGED,2020-08-13 10:12:26.000000000,2020-08-28 10:38:59.000000000,2020-08-28 10:37:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-08-13 10:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a88a3b1dc27f2309e8b8c9962f3553991c76936', 'message': 'Set endpoint type variables to publicURL in public-openrc.sh\n\nChange-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28\nStory: 2007950\nTask: 40426\n(cherry picked from commit 271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7)\n'}, {'number': 2, 'created': '2020-08-17 09:29:01.000000000', 'files': ['ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'releasenotes/notes/public-os-endpoint-type-a678a8ddc51ce3b1.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d324d9a65998209c1fee4795c588d092e2669aa9', 'message': 'Set endpoint type variables to publicURL in public-openrc.sh\n\nChange-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28\nStory: 2007950\nTask: 40426\n(cherry picked from commit 271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7)\n'}]",0,746042,d324d9a65998209c1fee4795c588d092e2669aa9,10,3,2,15197,,,0,"Set endpoint type variables to publicURL in public-openrc.sh

Change-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28
Story: 2007950
Task: 40426
(cherry picked from commit 271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/746042/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'releasenotes/notes/public-os-endpoint-type-a678a8ddc51ce3b1.yaml']",2,5a88a3b1dc27f2309e8b8c9962f3553991c76936,story/2007950-stable/ussuri,"--- fixes: - | Changes the value of ``OS_ENDPOINT_TYPE``, ``OS_MANILA_ENDPOINT_TYPE``, and ``OS_MISTRAL_ENDPOINT_TYPE`` in ``public-openrc.sh`` to use ``publicURL``, which should fix issues with legacy CLI tools on hosts without access to the internal API. See `story 2007950 <https://storyboard.openstack.org/#!/story/2007950>`__ for details. ",,14,0
openstack%2Fkayobe~stable%2Ftrain~I9d7f0bf7daa6d1abe31de0e76a508820ed123c28,openstack/kayobe,stable/train,I9d7f0bf7daa6d1abe31de0e76a508820ed123c28,Set endpoint type variables to publicURL in public-openrc.sh,MERGED,2020-08-17 09:30:41.000000000,2020-08-28 10:38:54.000000000,2020-08-28 10:37:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-08-17 09:30:41.000000000', 'files': ['ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'releasenotes/notes/public-os-endpoint-type-a678a8ddc51ce3b1.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/673e1b9799f8d2d59ab09550a4ac267b671c2a59', 'message': 'Set endpoint type variables to publicURL in public-openrc.sh\n\nChange-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28\nStory: 2007950\nTask: 40426\n(cherry picked from commit 271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7)\n'}]",0,746468,673e1b9799f8d2d59ab09550a4ac267b671c2a59,8,3,1,15197,,,0,"Set endpoint type variables to publicURL in public-openrc.sh

Change-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28
Story: 2007950
Task: 40426
(cherry picked from commit 271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/746468/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'releasenotes/notes/public-os-endpoint-type-a678a8ddc51ce3b1.yaml']",2,673e1b9799f8d2d59ab09550a4ac267b671c2a59,story/2007950-stable/train,"--- fixes: - | Changes the value of ``OS_ENDPOINT_TYPE``, ``OS_MANILA_ENDPOINT_TYPE``, and ``OS_MISTRAL_ENDPOINT_TYPE`` in ``public-openrc.sh`` to use ``publicURL``, which should fix issues with legacy CLI tools on hosts without access to the internal API. See `story 2007950 <https://storyboard.openstack.org/#!/story/2007950>`__ for details. ",,14,0
openstack%2Fopenstack-helm-images~master~Ie7356b8ee1865fbfb92904a045b96815d74733e2,openstack/openstack-helm-images,master,Ie7356b8ee1865fbfb92904a045b96815d74733e2,Comment adding group 'libvirt',ABANDONED,2020-08-28 09:50:41.000000000,2020-08-28 10:37:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-28 09:50:41.000000000', 'files': ['libvirt/ubuntu-install-libvirt.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1e9365a818faea7c6cb9e9025a822e71bd9a18b2', 'message': ""Comment adding group 'libvirt'\n\nAfter installing libvirt-bin, the group 'libvirt' is created.\nThen execute 'groupadd' and failed. This patch comment this line.\n\nChange-Id: Ie7356b8ee1865fbfb92904a045b96815d74733e2\nStory: #2008080\nTask: #40779\n""}]",0,748595,1e9365a818faea7c6cb9e9025a822e71bd9a18b2,3,1,1,23950,,,0,"Comment adding group 'libvirt'

After installing libvirt-bin, the group 'libvirt' is created.
Then execute 'groupadd' and failed. This patch comment this line.

Change-Id: Ie7356b8ee1865fbfb92904a045b96815d74733e2
Story: #2008080
Task: #40779
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/95/748595/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/ubuntu-install-libvirt.sh'],1,1e9365a818faea7c6cb9e9025a822e71bd9a18b2,story-2008080,,groupadd -g ${GID} ${PROJECT} ;\,0,1
openstack%2Fcharm-nova-compute~stable%2F20.08~I2e01bd104ee42d81209c79b1733003690735054e,openstack/charm-nova-compute,stable/20.08,I2e01bd104ee42d81209c79b1733003690735054e,Add missing apparmor profile rules,MERGED,2020-08-27 09:04:55.000000000,2020-08-28 10:31:01.000000000,2020-08-28 10:31:01.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-27 09:04:55.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/77dce4a1d2e4b3a7129f4605258990d0caf0c9d4', 'message': 'Add missing apparmor profile rules\n\nChange-Id: I2e01bd104ee42d81209c79b1733003690735054e\nCloses-Bug: #1892721\n'}]",0,748382,77dce4a1d2e4b3a7129f4605258990d0caf0c9d4,12,4,1,20870,,,0,"Add missing apparmor profile rules

Change-Id: I2e01bd104ee42d81209c79b1733003690735054e
Closes-Bug: #1892721
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/82/748382/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,77dce4a1d2e4b3a7129f4605258990d0caf0c9d4,bug/1892721-stable/20.08," /sbin/e2label rix, /sbin/tune2fs rix, /var/lib/nova/ r,",,3,0
openstack%2Fpbr~master~I5ee1f506a162692fe2882651f7ab68afb441aacf,openstack/pbr,master,I5ee1f506a162692fe2882651f7ab68afb441aacf,trivial: Improve logging of run commands,MERGED,2020-07-09 16:54:13.000000000,2020-08-28 10:26:40.000000000,2020-08-28 10:24:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 16:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/5bfcd6934137e07ce9159931c8c6e6a4f8d2fca8', 'message': 'trivial: Improve logging of run commands\n\nChange-Id: I5ee1f506a162692fe2882651f7ab68afb441aacf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-08-06 08:27:41.000000000', 'files': ['pbr/tests/base.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/d8f740c6a88064f084241296a17583ae79d16bcb', 'message': 'trivial: Improve logging of run commands\n\nChange-Id: I5ee1f506a162692fe2882651f7ab68afb441aacf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,740337,d8f740c6a88064f084241296a17583ae79d16bcb,10,3,2,15334,,,0,"trivial: Improve logging of run commands

Change-Id: I5ee1f506a162692fe2882651f7ab68afb441aacf
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/37/740337/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/base.py'],1,5bfcd6934137e07ce9159931c8c6e6a4f8d2fca8,trivial, print('Running %s' % ' '.join(args)) print('STDOUT:') print(streams[0]) print('STDERR:') print(streams[1]), for stream_content in streams: print(stream_content),5,2
openstack%2Fnova~master~Ie470af3e738327c6f2800f386dbe43319f896222,openstack/nova,master,Ie470af3e738327c6f2800f386dbe43319f896222,releasenotes: Detail support for server ops with vTPM,MERGED,2020-08-26 12:40:29.000000000,2020-08-28 10:19:44.000000000,2020-08-26 17:03:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-26 12:40:29.000000000', 'files': ['releasenotes/notes/emulated-tpm-cb277659fc2f9660.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/25d786bd8aafe47bbda928666392a8980f0e7dd7', 'message': ""releasenotes: Detail support for server ops with vTPM\n\nWell, don't actually detail them. Just note that things are incomplete.\nPeople can read the docs for more info.\n\nChange-Id: Ie470af3e738327c6f2800f386dbe43319f896222\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,748215,25d786bd8aafe47bbda928666392a8980f0e7dd7,14,9,1,15334,,,0,"releasenotes: Detail support for server ops with vTPM

Well, don't actually detail them. Just note that things are incomplete.
People can read the docs for more info.

Change-Id: Ie470af3e738327c6f2800f386dbe43319f896222
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/748215/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/emulated-tpm-cb277659fc2f9660.yaml'],1,25d786bd8aafe47bbda928666392a8980f0e7dd7,bp/add-emulated-virtual-tpm, libvirt guests with a ``virt_type`` of ``kvm`` or ``qemu``. Not all server operations are fully supported yet. See the documentation__ for details., libvirt guests with a ``virt_type`` of ``kvm`` or ``qemu``. See the documentation__ for details.,2,2
openstack%2Ftripleo-heat-templates~master~Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0,openstack/tripleo-heat-templates,master,Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0,Set a higher PIDs limit for nova_libvirt container,MERGED,2020-08-25 06:16:53.000000000,2020-08-28 10:12:40.000000000,2020-08-28 10:10:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 6962}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-25 06:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bf524777d2e579d3ef1f6c58b3f7317b49f2b96', 'message': ""Remove PID limit for nova_libvirt container\n\nThe default limit is set to 4096. This can be reached with about 150\nVMs, and therefore can lead to a situation where you're unable to start\nnew VMs on a compute node.\n\nNote: this patch needs to be backported down to stable/train. The value\nof Depends-On will need to be updated in order to point to another\npatch, in paunch repository: https://review.opendev.org/747831\n\nChange-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nRelated-Bug: #1892817\nDepends-On: https://review.opendev.org/747834\n""}, {'number': 2, 'created': '2020-08-25 09:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc59e621e0608267f0048ef62798b2f7add9904e', 'message': ""Set a higher PIDs limit for nova_libvirt container\n\nThe default limit is set to 4096. This can be reached with about 150\nVMs, and therefore can lead to a situation where you're unable to start\nnew VMs on a compute node.\n\nThis patch integrates the modifications made by Rabi in his own\n(abandonned) patch).\n\nNote: this patch needs to be backported down to stable/train. The value\nof Depends-On will need to be updated in order to point to another\npatch, in paunch repository: https://review.opendev.org/747831\n\nChange-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nRelated-Bug: #1892817\nDepends-On: https://review.opendev.org/747834\n""}, {'number': 3, 'created': '2020-08-25 09:09:25.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/ContainerNovaLibvirtPidsLimit-cdad2166b6c0195f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d71882a420ac77d033c77f6ca762c6636603129', 'message': ""Set a higher PIDs limit for nova_libvirt container\n\nThe default limit is set to 4096. This can be reached with about 150\nVMs, and therefore can lead to a situation where you're unable to start\nnew VMs on a compute node.\n\nThis patch integrates the modifications made by Rabi in his own\n(abandonned) patch.\n\nNote: this patch needs to be backported down to stable/train. The value\nof Depends-On will need to be updated in order to point to another\npatch, in paunch repository: https://review.opendev.org/747831\n\nChange-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nRelated-Bug: #1892817\nDepends-On: https://review.opendev.org/747834\n""}]",1,747835,9d71882a420ac77d033c77f6ca762c6636603129,26,11,3,28223,,,0,"Set a higher PIDs limit for nova_libvirt container

The default limit is set to 4096. This can be reached with about 150
VMs, and therefore can lead to a situation where you're unable to start
new VMs on a compute node.

This patch integrates the modifications made by Rabi in his own
(abandonned) patch.

Note: this patch needs to be backported down to stable/train. The value
of Depends-On will need to be updated in order to point to another
patch, in paunch repository: https://review.opendev.org/747831

Change-Id: Ic414fc8826e4164ed679fbe22b82acf39c9ed7e0
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Related-Bug: #1892817
Depends-On: https://review.opendev.org/747834
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/747835/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,1bf524777d2e579d3ef1f6c58b3f7317b49f2b96,pids_limit, pids_limit: 0,,1,0
openstack%2Fcinder~master~Ifab99457b8d49207e8fc7869bd82d3cdfec7a911,openstack/cinder,master,Ifab99457b8d49207e8fc7869bd82d3cdfec7a911,Show cluster_name in volume details,MERGED,2020-07-24 20:26:18.000000000,2020-08-28 10:03:08.000000000,2020-08-28 03:35:07.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-24 20:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3e6187b4484a3ac711f76f6d01de071970058c6', 'message': 'Show cluster_name in volume details\n\ncluster_name attribute is useful for admin users in Active/Active\ndeployments.\n\nChange-Id: Ifab99457b8d49207e8fc7869bd82d3cdfec7a911\nCloses-Bug: #1874414i\n'}, {'number': 2, 'created': '2020-07-24 20:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3915a52f3a43aba2128869bf756185cea64e8ae', 'message': 'Show cluster_name in volume details\n\ncluster_name attribute is useful for admin users in Active/Active\ndeployments.\n\nChange-Id: Ifab99457b8d49207e8fc7869bd82d3cdfec7a911\nCloses-Bug: #1874414i\n'}, {'number': 3, 'created': '2020-08-26 13:12:37.000000000', 'files': ['api-ref/source/v3/samples/versions/version-show-response.json', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/volumes-v3-volumes.inc', 'releasenotes/notes/add-cluster-name-to-volume-details-ce01dd828faafcde.yaml', 'api-ref/source/v3/parameters.yaml', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5e15b38693a27a6ec510107027f3b52839bffc3', 'message': 'Show cluster_name in volume details\n\ncluster_name attribute is useful for admin users in Active/Active\ndeployments.\n\nChange-Id: Ifab99457b8d49207e8fc7869bd82d3cdfec7a911\nCloses-Bug: #1874414i\n'}]",10,742991,c5e15b38693a27a6ec510107027f3b52839bffc3,96,34,3,1736,,,0,"Show cluster_name in volume details

cluster_name attribute is useful for admin users in Active/Active
deployments.

Change-Id: Ifab99457b8d49207e8fc7869bd82d3cdfec7a911
Closes-Bug: #1874414i
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/742991/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/volumes-v3-volumes.inc', 'releasenotes/notes/add-cluster-name-to-volume-details-ce01dd828faafcde.yaml', 'api-ref/source/v3/parameters.yaml', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py']",8,e3e6187b4484a3ac711f76f6d01de071970058c6,a-a-support," if (request.environ['cinder.context'].is_admin and req_version.matches( mv.VOLUME_CLUSTER_NAME, None)): volume_ref['volume']['cluster_name'] = volume.get( 'cluster_name', None) ",,37,2
openstack%2Foslo.policy~master~Ie31ea13e8ea62bc495ceb1c1694407539e2cab8d,openstack/oslo.policy,master,Ie31ea13e8ea62bc495ceb1c1694407539e2cab8d,Log warning for redundant file rules,MERGED,2020-08-26 23:33:12.000000000,2020-08-28 09:47:04.000000000,2020-08-28 09:39:46.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 23:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/3606023c62fd1a82867032977e64283afa229159', 'message': ""Log warning for redundant file rules\n\nIf any rules present in policy file is exactly same as\ndefaults then operators do not need to keep these\nredundant rules in files. 'oslopolicy-list-redundant' tool\nis to detects such rule but we can log warnings also for\nsuch rule to communicate it to deployerin strong way.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Ie31ea13e8ea62bc495ceb1c1694407539e2cab8d\n""}, {'number': 2, 'created': '2020-08-27 15:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4884ed5d51f7a747ee3508b8b5cb0853b84bbf42', 'message': ""Log warning for redundant file rules\n\nIf any rules present in policy file is exactly same as\ndefaults then operators do not need to keep these\nredundant rules in files. 'oslopolicy-list-redundant' tool\nis to detects such rule but we can log warnings also for\nsuch rule to communicate it to the deployer in strong way.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Ie31ea13e8ea62bc495ceb1c1694407539e2cab8d\n""}, {'number': 3, 'created': '2020-08-27 21:42:24.000000000', 'files': ['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c6ed9f33a55727e2411eae432f379b56ba9b9a6c', 'message': ""Log warning for redundant file rules\n\nIf any rules present in policy file is exactly same as\ndefaults then operators do not need to keep these\nredundant rules in files. 'oslopolicy-list-redundant' tool\nis to detects such rule but we can log warnings also for\nsuch rule to communicate it to the deployer in strong way.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Ie31ea13e8ea62bc495ceb1c1694407539e2cab8d\n""}]",6,748324,c6ed9f33a55727e2411eae432f379b56ba9b9a6c,17,5,3,8556,,,0,"Log warning for redundant file rules

If any rules present in policy file is exactly same as
defaults then operators do not need to keep these
redundant rules in files. 'oslopolicy-list-redundant' tool
is to detects such rule but we can log warnings also for
such rule to communicate it to the deployer in strong way.

Partial implement blueprint policy-json-to-yaml

Change-Id: Ie31ea13e8ea62bc495ceb1c1694407539e2cab8d
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/24/748324/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",2,3606023c62fd1a82867032977e64283afa229159,bp/policy-json-to-yaml,"import yaml @mock.patch.object(policy, 'LOG') def test_warning_on_redundant_file_rules(self, mock_log): rules = yaml.dump({'admin': 'is_admin:True'}) self.create_config_file('policy.yaml', rules) path = self.get_config_file_fullname('policy.yaml') enforcer = policy.Enforcer(self.conf, policy_file=path) # register same rule in default as present in file. enforcer.register_default(policy.RuleDefault(name='admin', check_str='is_admin:True')) enforcer.load_rules(True) warn_msg = (""Policy Rules %(names)s specified in policy files "" ""are the same as the defaults provided by the service. "" ""You can remove these rules from policy files which "" ""will make maintenance easier. You can detect these "" ""redundant rules by ``oslopolicy-list-redundant`` tool "" ""also: https://docs.openstack.org/oslo.policy/"" ""latest/cli/oslopolicy-list-redundant.html."") mock_log.warning.assert_any_call(warn_msg, {'names': ['admin']}) ",,40,1
openstack%2Fnova~master~Ibbb3930a6e629e93a424b3ae048f599f11923be3,openstack/nova,master,Ibbb3930a6e629e93a424b3ae048f599f11923be3,zuul: Start to migrate nova-live-migration to zuulv3,MERGED,2020-03-06 11:05:26.000000000,2020-08-28 09:46:46.000000000,2020-08-28 09:40:27.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-06 11:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a03a7329be9d4895fcaa3945a7c3c479def782f', 'message': ""WIP/DNM zuul: Attempt to migrate and break up the nova-live-migration job\n\nJust PoC'ing a few ideas for now, I'll start a ML thread to also discuss\nwhich approach to take.\n\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n""}, {'number': 2, 'created': '2020-03-06 13:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cecab285b362f85ab88313b4d01d73efd4236901', 'message': ""WIP/DNM zuul: Attempt to migrate and break up the nova-live-migration job\n\nJust PoC'ing a few ideas for now, I'll start a ML thread to also discuss\nwhich approach to take.\n\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n""}, {'number': 3, 'created': '2020-03-06 16:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73e1594db5eb1d6f8ef39a983e141d33eda7fa59', 'message': ""WIP/DNM zuul: Attempt to migrate and break up the nova-live-migration job\n\nJust PoC'ing a few ideas for now, I'll start a ML thread to also discuss\nwhich approach to take.\n\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n""}, {'number': 4, 'created': '2020-04-14 10:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32a4d4868f1672576b5395be43e50d6050f355c9', 'message': ""WIP/DNM zuul: Attempt to migrate and break up the nova-live-migration job\n\nJust PoC'ing a few ideas for now, I'll start a ML thread to also discuss\nwhich approach to take.\n\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n""}, {'number': 5, 'created': '2020-07-09 13:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec587b8f66b11e434aa205a1325aed8b77b03256', 'message': ""WIP/DNM zuul: Attempt to migrate and break up the nova-live-migration job\n\nJust PoC'ing a few ideas for now, I'll start a ML thread to also discuss\nwhich approach to take.\n\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n""}, {'number': 6, 'created': '2020-08-04 12:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c67663232a366a7bee619b637306b6800c8ddc7', 'message': 'WIP zuul: Migrate to zuulv3 and break up the nova-live-migration job\n\nDepends-On: https://review.opendev.org/#/c/711625/\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n'}, {'number': 7, 'created': '2020-08-04 12:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0014de16fcbdc06a9ea285421dc352fea5f57bfd', 'message': 'WIP zuul: Migrate to zuulv3 and break up the nova-live-migration job\n\nDepends-On: https://review.opendev.org/#/c/711625/\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n'}, {'number': 8, 'created': '2020-08-04 13:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62fa4d810544b9780e5a2e4f9c7afc61e389c529', 'message': 'WIP zuul: Migrate to zuulv3 and break up the nova-live-migration job\n\nDepends-On: https://review.opendev.org/#/c/711625/\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n'}, {'number': 9, 'created': '2020-08-04 14:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e039c467a6a209b23fb46affa5e14a5ad7a9db8d', 'message': 'WIP zuul: Migrate to zuulv3 and break up the nova-live-migration job\n\nDepends-On: https://review.opendev.org/#/c/711625/\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n'}, {'number': 10, 'created': '2020-08-05 10:19:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c733d973015999ee692ed48fb10a282c50fdc49', 'message': 'zuul: Start to migrate nova-live-migration to zuulv3\n\nThis initial change introduces a non-voiting\nnova-multinode-live-migration check job. This initial job simply runs\nthe live migration tests against a multinode env.\n\nFuture changes will introduce ceph based live migration and evacuation\njobs before removing the original nova-live-migration job.\n\nChange-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3\n'}]",3,711604,1c733d973015999ee692ed48fb10a282c50fdc49,71,18,10,10135,,,0,"zuul: Start to migrate nova-live-migration to zuulv3

This initial change introduces a non-voiting
nova-multinode-live-migration check job. This initial job simply runs
the live migration tests against a multinode env.

Future changes will introduce ceph based live migration and evacuation
jobs before removing the original nova-live-migration job.

Change-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/711604/10 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7a03a7329be9d4895fcaa3945a7c3c479def782f,native-zuulv3-migration, parent: tempest-multinode-full-py3 Run tempest live migration tests against local storage. vars: tempest_test_regex: (^tempest\.api\.compute\.admin\.(test_live_migration|test_migration)) devstack_localrc: FORCE_CONFIG_DRIVE: true - job: name: nova-live-migration-ceph parent: nova-live-migration description: | Run tempest live migration tests against Ceph storage. Config drive is forced for all instances. Runs with python 3. vars: devstack_plugins: devstack-plugin-ceph: https://opendev.org/openstack/devstack-plugin-ceph # - job: # name: nova-evacuate # - job: # name: nova-unshelve - nova-live-migration-ceph," parent: nova-dsvm-multinode-base Run tempest live migration tests against both local storage and shared storage using ceph (the environment is reconfigured for ceph after the local storage tests are run). Also runs simple evacuate tests. run: playbooks/legacy/nova-live-migration/run.yaml post-run: playbooks/legacy/nova-live-migration/post.yaml # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest-py3: voting: false irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-multinode - nova-lvm - nova-multi-cell - nova-next - nova-tox-functional-py36 - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - grenade-py3: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files - nova-grenade-multinode - nova-tox-functional-py36 - nova-multi-cell - nova-next - tempest-integrated-compute: irrelevant-files: *policies-irrelevant-files - grenade-py3: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files experimental: jobs: - ironic-tempest-bfv: irrelevant-files: *dsvm-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *dsvm-irrelevant-files - barbican-simple-crypto-devstack-tempest: irrelevant-files: *dsvm-irrelevant-files - legacy-grenade-dsvm-neutron-multinode-zero-downtime: irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-nfs-tempest-full: irrelevant-files: *dsvm-irrelevant-files - nova-osprofiler-redis - tempest-full-py3-opensuse15: irrelevant-files: *dsvm-irrelevant-files - tempest-pg-full: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-nova-libvirt-kvm-apr: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-iptables_hybrid: irrelevant-files: *dsvm-irrelevant-files - os-vif-ovs: irrelevant-files: *dsvm-irrelevant-files # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # check and gate queues once it's stable (like openstack-python37-jobs) - nova-tox-functional-py37 - devstack-platform-fedora-latest: irrelevant-files: *dsvm-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *dsvm-irrelevant-files",23,97
openstack%2Fnova~stable%2Fstein~Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,openstack/nova,stable/stein,Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration,MERGED,2020-08-25 15:04:44.000000000,2020-08-28 09:46:42.000000000,2020-08-28 09:40:19.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 15:04:44.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ea91d17703f5b324a50727b6503ace0f4e95eb', 'message': 'libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n\nThe VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt\nv1.3.4 and is used to provide the new persistent configuration for the\ndestination during a live migration:\n\nhttps://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML\n\nWithout this parameter the persistent configuration on the destination\nwill be the same as the original persistent configuration on the source\nwhen the VIR_MIGRATE_PERSIST_DEST flag is provided.\n\nAs Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML\nparam but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that\na soft reboot by Nova of the instance after a live migration can revert\nthe domain back to the original persistent configuration from the\nsource.\n\nNote that this is only possible in Nova as a soft reboot actually\nresults in the virDomainShutdown and virDomainLaunch libvirt APIs being\ncalled that recreate the domain using the persistent configuration.\nvirDomainReboot does not result in this but is not called at this time.\n\nThe impact of this on the instance after the soft reboot is pretty\nsevere, host devices referenced in the original persistent configuration\non the source may not exist or could even be used by other users on the\ndestination. CPU and NUMA affinity could also differ drastically between\nthe two hosts resulting in the instance being unable to start etc.\n\nAs MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the\nVIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the\ndestination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.\n\nCo-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>\nCloses-Bug: #1890501\nChange-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98\n(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)\n(cherry picked from commit bbf9d1de06e9991acd968fceee899a8df3776d60)\n(cherry picked from commit 6a07edb4b29d8bfb5c86ed14263f7cd7525958c1)\n'}]",0,747974,b9ea91d17703f5b324a50727b6503ace0f4e95eb,28,8,1,10135,,,0,"libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration

The VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt
v1.3.4 and is used to provide the new persistent configuration for the
destination during a live migration:

https://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML

Without this parameter the persistent configuration on the destination
will be the same as the original persistent configuration on the source
when the VIR_MIGRATE_PERSIST_DEST flag is provided.

As Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML
param but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that
a soft reboot by Nova of the instance after a live migration can revert
the domain back to the original persistent configuration from the
source.

Note that this is only possible in Nova as a soft reboot actually
results in the virDomainShutdown and virDomainLaunch libvirt APIs being
called that recreate the domain using the persistent configuration.
virDomainReboot does not result in this but is not called at this time.

The impact of this on the instance after the soft reboot is pretty
severe, host devices referenced in the original persistent configuration
on the source may not exist or could even be used by other users on the
destination. CPU and NUMA affinity could also differ drastically between
the two hosts resulting in the instance being unable to start etc.

As MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the
VIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the
destination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.

Co-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>
Closes-Bug: #1890501
Change-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98
(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)
(cherry picked from commit bbf9d1de06e9991acd968fceee899a8df3776d60)
(cherry picked from commit 6a07edb4b29d8bfb5c86ed14263f7cd7525958c1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/747974/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,b9ea91d17703f5b324a50727b6503ace0f4e95eb,bug/1890501," 'persistent_xml': target_xml, 'destination_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': '<xml/>', 'persistent_xml': '<xml/>',", 'destination_xml': target_xml,10,1
openstack%2Fnova~stable%2Ftrain~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,stable/train,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-21 08:27:10.000000000,2020-08-28 09:46:06.000000000,2020-08-28 09:40:12.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-21 08:27:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b', 'message': ""libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nNOTE(lyarwood): Conflict as I8e8035dcf508f5215bba9b7575c5c6abfe41da31\nisn't present in stable/train.\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n""}]",0,747358,c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b,22,8,1,10135,,,0,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

NOTE(lyarwood): Conflict as I8e8035dcf508f5215bba9b7575c5c6abfe41da31
isn't present in stable/train.

Conflicts:
    nova/virt/libvirt/driver.py

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)
(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/747358/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b,bug/1887946," @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') @mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume', new=mock.Mock()) def test_detach_volume_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 mountpoint = ""/dev/foo"" expected_disk_dev = ""foo"" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_detach_interface_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr, 'vif_driver') as mock_vif_driver: mock_vif_driver.get_config.return_value = mock.sentinel.cfg mock_vif_driver.get_vif_devname.return_value = mock.sentinel.dev drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=True) ",,141,21
openstack%2Frequirements~master~I02c65065debabd6f9608169a18fe8e31dd765ca2,openstack/requirements,master,I02c65065debabd6f9608169a18fe8e31dd765ca2,gnocchi client 7.0.7 breaks gate,MERGED,2020-08-27 05:45:59.000000000,2020-08-28 09:45:28.000000000,2020-08-28 09:40:16.000000000,"[{'_account_id': 7353}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 05:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fec3e95a7429355962872817cfff1630904b0fdc', 'message': 'gnocchi client 7.0.7 breaks gate\nsee https://955f32f8268e5d475e65-6c8f4c6e546a0854b4c11cc7c78829ca.ssl.cf5.rackcdn.com/748342/1/check/vitrage-tempest-plugin-datasources/1ec4699/testr_results.html\n\nChange-Id: I02c65065debabd6f9608169a18fe8e31dd765ca2\n'}, {'number': 2, 'created': '2020-08-27 05:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/202ef5e4cc63cb803654bf8d0f4901205b0a9ad3', 'message': 'gnocchi client 7.0.7 breaks gate\n\nsee https://955f32f8268e5d475e65-6c8f4c6e546a0854b4c11cc7c78829ca.ssl.cf5.rackcdn.com/748342/1/check/vitrage-tempest-plugin-datasources/1ec4699/testr_results.html\n\nChange-Id: I02c65065debabd6f9608169a18fe8e31dd765ca2\n'}, {'number': 3, 'created': '2020-08-27 06:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/02ac812d1f40c07f2e4e7f08d0d15f5e5423a884', 'message': 'gnocchi client 7.0.7 breaks gate\n\nsee https://955f32f8268e5d475e65-6c8f4c6e546a0854b4c11cc7c78829ca.ssl.cf5.rackcdn.com/748342/1/check/vitrage-tempest-plugin-datasources/1ec4699/testr_results.html\n\nChange-Id: I02c65065debabd6f9608169a18fe8e31dd765ca2\n'}, {'number': 4, 'created': '2020-08-27 07:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3f905184825a927c4ff262ee94e72b82062aafc3', 'message': 'gnocchi client 7.0.7 breaks gate\n\nsee https://955f32f8268e5d475e65-6c8f4c6e546a0854b4c11cc7c78829ca.ssl.cf5.rackcdn.com/748342/1/check/vitrage-tempest-plugin-datasources/1ec4699/testr_results.html\n\nChange-Id: I02c65065debabd6f9608169a18fe8e31dd765ca2\n'}, {'number': 5, 'created': '2020-08-27 19:15:13.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4d3d57ee0b88973b039e379b1da73c1086e9a0af', 'message': 'gnocchi client 7.0.7 breaks gate\n\nsee https://review.opendev.org/#/c/747623/\n\nwhere we reverted this allready\n\nChange-Id: I02c65065debabd6f9608169a18fe8e31dd765ca2\n'}]",0,748359,4d3d57ee0b88973b039e379b1da73c1086e9a0af,19,5,5,19134,,,0,"gnocchi client 7.0.7 breaks gate

see https://review.opendev.org/#/c/747623/

where we reverted this allready

Change-Id: I02c65065debabd6f9608169a18fe8e31dd765ca2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/748359/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,fec3e95a7429355962872817cfff1630904b0fdc,gnocchi,gnocchiclient===7.0.6,gnocchiclient===7.0.7,2,2
openstack%2Fpuppet-openstack-integration~master~I76e5dd68866ff34145e34ac9b6d1d7752e303aa3,openstack/puppet-openstack-integration,master,I76e5dd68866ff34145e34ac9b6d1d7752e303aa3,Make selinux permissive during tests,ABANDONED,2020-08-27 00:58:37.000000000,2020-08-28 09:44:47.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 00:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7c3a9a1c8ca4a1b71998f65c7d96c73fef7778d4', 'message': 'Disable selinux during tests\n\n... because currently there is an issue with selinux policies which\nprevents ovs-agent from starting correctly.\nNote that we already disabled selinux in functional tests, and this\npatch is mostly for beaker tests.\n\nChange-Id: I76e5dd68866ff34145e34ac9b6d1d7752e303aa3\n'}, {'number': 2, 'created': '2020-08-27 01:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/26952e077ec9ddb0c3e38977c6a7d0e8b3ff11d0', 'message': 'Disable selinux during tests\n\n... because currently there is an selinux issue in CentOS8 which\nprevents ovs-agent from starting correctly.\nNote that we already disabled selinux in functional tests, and this\npatch is mostly for beaker tests.\n\nChange-Id: I76e5dd68866ff34145e34ac9b6d1d7752e303aa3\n'}, {'number': 3, 'created': '2020-08-27 01:05:08.000000000', 'files': ['Puppetfile', 'external_modules.txt', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2fd58354927140bc97d2e09c3698ec9cfb584ccb', 'message': 'Make selinux permissive during tests\n\n... because currently there is an selinux issue in CentOS8 which\nprevents ovs-agent from starting correctly.\nNote that we already disabled selinux in functional tests, and this\npatch is mostly for beaker tests.\n\nChange-Id: I76e5dd68866ff34145e34ac9b6d1d7752e303aa3\n'}]",0,748334,2fd58354927140bc97d2e09c3698ec9cfb584ccb,13,4,3,9816,,,0,"Make selinux permissive during tests

... because currently there is an selinux issue in CentOS8 which
prevents ovs-agent from starting correctly.
Note that we already disabled selinux in functional tests, and this
patch is mostly for beaker tests.

Change-Id: I76e5dd68866ff34145e34ac9b6d1d7752e303aa3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/748334/2 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'external_modules.txt', 'manifests/init.pp']",3,7c3a9a1c8ca4a1b71998f65c7d96c73fef7778d4,centos8-beaker," class { 'selinux': mode => 'permissive', type => 'targeted', }",,9,0
openstack%2Foslo.policy~master~I5432a8cf80903620f48936cbbfb92ea6b6ff30fa,openstack/oslo.policy,master,I5432a8cf80903620f48936cbbfb92ea6b6ff30fa,Deprecate the JSON support for policy_file,MERGED,2020-08-26 13:41:54.000000000,2020-08-28 09:43:24.000000000,2020-08-28 09:39:45.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 13:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ee8b9a7714002befbfa576cc6cdaad0533d5fb00', 'message': ""Deprecate the JSON support for policy_file\n\nJSON support for policy_file has been problematic\nsince projects started policy-in-code. For example,\ngenerating a sample policy file in JSON results in\nall the policy-in-code rules being overridden because\nit is not possible to comment out the default rules in JSON.\n\nAsd part of migration of JSON format to YAML, this commit\ndeprecates the:\n1. Deprecate JSON support in oslo.policy.\n2. Deprecate JSON output in policy CLI tools including '--format'\noption.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: I5432a8cf80903620f48936cbbfb92ea6b6ff30fa\n""}, {'number': 2, 'created': '2020-08-26 13:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/9a60a12f0fa3f5182dc965ffa0ae9dea4c35cb4d', 'message': ""Deprecate the JSON support for policy_file\n\nJSON support for policy_file has been problematic\nsince projects started policy-in-code. For example,\ngenerating a sample policy file in JSON results in\nall the policy-in-code rules being overridden because\nit is not possible to comment out the default rules in JSON.\n\nAsd part of migration of JSON format to YAML, this commit\ndeprecates the:\n1. Deprecate JSON support in oslo.policy.\n2. Deprecate JSON output in policy CLI tools including '--format'\noption.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: I5432a8cf80903620f48936cbbfb92ea6b6ff30fa\n""}, {'number': 3, 'created': '2020-08-26 15:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/689b5f771921dfaf4a79eb8fb84e1f522e56c920', 'message': ""Deprecate the JSON support for policy_file\n\nJSON support for policy_file has been problematic\nsince projects started policy-in-code. For example,\ngenerating a sample policy file in JSON results in\nall the policy-in-code rules being overridden because\nit is not possible to comment out the default rules in JSON.\n\nAsd part of migration of JSON format to YAML, this commit\ndeprecates the:\n1. Deprecate JSON support in oslo.policy.\n2. Deprecate JSON output in policy CLI tools including '--format'\noption.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: I5432a8cf80903620f48936cbbfb92ea6b6ff30fa\n""}, {'number': 4, 'created': '2020-08-26 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/20fa18f78a128e2ebe6ceb8f2fb0675365bc43fd', 'message': ""Deprecate the JSON support for policy_file\n\nJSON support for policy_file has been problematic\nsince projects started policy-in-code. For example,\ngenerating a sample policy file in JSON results in\nall the policy-in-code rules being overridden because\nit is not possible to comment out the default rules in JSON.\n\nAsd part of migration of JSON format to YAML, this commit\ndeprecates the:\n1. Deprecate JSON support in oslo.policy.\n2. Deprecate JSON output in policy CLI tools including '--format'\noption.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: I5432a8cf80903620f48936cbbfb92ea6b6ff30fa\n""}, {'number': 5, 'created': '2020-08-27 21:42:16.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'releasenotes/notes/deprecate-policy-file-json-format-e1921f15b5d00287.yaml', 'oslo_policy/generator.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d8ca7c2789b510532be27f6dff32756454ed59f1', 'message': ""Deprecate the JSON support for policy_file\n\nJSON support for policy_file has been problematic\nsince projects started policy-in-code. For example,\ngenerating a sample policy file in JSON results in\nall the policy-in-code rules being overridden because\nit is not possible to comment out the default rules in JSON.\n\nAsd part of migration of JSON format to YAML, this commit\ndeprecates the:\n1. Deprecate JSON support in oslo.policy.\n2. Deprecate JSON output in policy CLI tools including '--format'\noption.\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: I5432a8cf80903620f48936cbbfb92ea6b6ff30fa\n""}]",5,748236,d8ca7c2789b510532be27f6dff32756454ed59f1,21,4,5,8556,,,0,"Deprecate the JSON support for policy_file

JSON support for policy_file has been problematic
since projects started policy-in-code. For example,
generating a sample policy file in JSON results in
all the policy-in-code rules being overridden because
it is not possible to comment out the default rules in JSON.

Asd part of migration of JSON format to YAML, this commit
deprecates the:
1. Deprecate JSON support in oslo.policy.
2. Deprecate JSON output in policy CLI tools including '--format'
option.

Partial implement blueprint policy-json-to-yaml

Change-Id: I5432a8cf80903620f48936cbbfb92ea6b6ff30fa
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/36/748236/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'releasenotes/notes/deprecate-policy-file-json-format-e1921f15b5d00287.yaml', 'oslo_policy/generator.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",5,ee8b9a7714002befbfa576cc6cdaad0533d5fb00,bp/policy-json-to-yaml," @mock.patch.object(policy, 'LOG') def test_load_json_file_log_warning(self, mock_log): rules = jsonutils.dumps({'foo': 'rule:bar'}) self.create_config_file('policy.json', rules) self.enforcer.load_rules(True) mock_log.warning.assert_any_call(policy.WARN_JSON) ",,77,0
openstack%2Fneutron~stable%2Frocky~I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,openstack/neutron,stable/rocky,I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,Fix deletion of subnet_id from pd_subnets,MERGED,2020-08-25 07:00:17.000000000,2020-08-28 09:40:32.000000000,2020-08-28 09:40:31.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 07:00:17.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bb84a40f8d79789f4d471d385babed177a4a835', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)\n""}]",0,747847,5bb84a40f8d79789f4d471d385babed177a4a835,28,7,1,11975,,,0,"Fix deletion of subnet_id from pd_subnets

In the RouterInfo._process_internal_ports() method when it process
old ports and port belongs to the subnet with CIDR assigned by
Prefix Delegation it will try to remove subnet_id key from the
pd_subnets dict.
However it seems that in some case it may happen that such subnet_id key
is not added to the pd_subnets dict and processing of ports fails.

We shouldn't fail in such case, if there is no subnet_id key in this
dict we should be good as we want to delete it simply. So this patch
changes that to not raise KeyError in such case.

Change-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79
Closes-Bug: #1892364
(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/747847/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,5bb84a40f8d79789f4d471d385babed177a4a835,bug/1892364-stable/ussuri-stable/train-stable/stein-stable/rocky," self.pd_subnets.pop(subnet['id'], None)", del self.pd_subnets[subnet['id']],1,1
openstack%2Fnova~stable%2Ftrain~I7eb86edc130d186a66c04b229d46347ec5c0b625,openstack/nova,stable/train,I7eb86edc130d186a66c04b229d46347ec5c0b625,libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices,MERGED,2020-07-22 13:07:23.000000000,2020-08-28 09:32:48.000000000,2020-08-28 09:30:17.000000000,"[{'_account_id': 4690}, {'_account_id': 6962}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-22 13:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79c512c8538c8afaf270dc508dcb24f76e8ce8ad', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)\n(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)\n'}, {'number': 2, 'created': '2020-07-27 11:36:54.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/863d6ef7601302901fa3368ea8457b3564eeb501', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)\n(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)\n'}]",2,742415,863d6ef7601302901fa3368ea8457b3564eeb501,24,10,2,10135,,,0,"libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices

Introduced in libvirt v4.1.0 [1] this error code replaces the previously
raised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and
VIR_ERR_INVALID_ARG codes [2][3].

VIR_ERR_OPERATION_FAILED was introduced and tested as an
active/live/hot unplug config device detach error code in
I131aaf28d2f5d5d964d4045e3d7d62207079cfb0.

VIR_ERR_INTERNAL_ERROR was introduced and tested as an
active/live/hot unplug config device detach error code in
I3055cd7641de92ab188de73733ca9288a9ca730a.

VIR_ERR_INVALID_ARG was introduced and tested as an
inactive/persistent/cold unplug config device detach error code in
I09230fc47b0950aa5a3db839a070613c9c817576.

This change introduces support for the new VIR_ERR_DEVICE_MISSING error
code while also retaining coverage for these codes until
MIN_LIBVIRT_VERSION is bumped past v4.1.0.

The majority of this change is test code motion with the existing tests
being modified to run against either the active or inactive versions of
the above  error codes for the time being.

test_detach_device_with_retry_operation_internal and
test_detach_device_with_retry_invalid_argument_no_live have been removed
as they duplicate the logic within the now refactored
_test_detach_device_with_retry_second_detach_failure.

[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7
[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de

Closes-Bug: #1887946
Change-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625
(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)
(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/742415/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']",3,79c512c8538c8afaf270dc508dcb24f76e8ce8ad,bug/1887946," # TODO(lyarwood): Remove libvirt.VIR_ERR_OPERATION_FAILED # and libvirt.VIR_ERR_INTERNAL_ERROR once # MIN_LIBVIRT_VERSION is >= 4.1.0 libvirt.VIR_ERR_INTERNAL_ERROR, libvirt.VIR_ERR_DEVICE_MISSING): # TODO(lyarwood): Remove the following error message # check once we only care about VIR_ERR_DEVICE_MISSING # TODO(lyarwood): Remove libvirt.VIR_ERR_INVALID_ARG once # MIN_LIBVIRT_VERSION is >= 4.1.0", libvirt.VIR_ERR_INTERNAL_ERROR):,66,53
openstack%2Fceilometer~master~I179c95a7bfaf5d9722037618108fc882d85fda5a,openstack/ceilometer,master,I179c95a7bfaf5d9722037618108fc882d85fda5a,Fix instantiation of manager.AgentManager on cmd.polling.create_polling_service,MERGED,2019-11-14 16:26:35.000000000,2020-08-28 09:32:42.000000000,2019-11-15 02:33:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 30695}]","[{'number': 1, 'created': '2019-11-14 16:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f38416cd508bb0fe4688d27931b46d915272099c', 'message': 'Fix instantiation of manager.AgentManager cmd.polling.create_polling_service\n\nThe commit 28f0a70da99b2fde2479ce6a5c62128ab75554af broke the selection of polling\n namespaces. When creating the agent manager we should define the polling group\n that we want to use. Otherwise, Ceilometer will for instance enable the ""central""\n polling methods in the compute nodes, and vice versa.\n\nChange-Id: I179c95a7bfaf5d9722037618108fc882d85fda5a\n'}, {'number': 2, 'created': '2019-11-14 16:28:54.000000000', 'files': ['ceilometer/cmd/polling.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6ba6726aee103b8474ba79d31880e2af77167f0f', 'message': 'Fix instantiation of manager.AgentManager on cmd.polling.create_polling_service\n\nThe commit 28f0a70da99b2fde2479ce6a5c62128ab75554af broke the selection of polling\n namespaces. When creating the agent manager we should define the polling group\n that we want to use. Otherwise, Ceilometer will for instance enable the ""central""\n polling methods in the compute nodes, and vice versa.\n\nChange-Id: I179c95a7bfaf5d9722037618108fc882d85fda5a\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}]",0,694345,6ba6726aee103b8474ba79d31880e2af77167f0f,12,4,2,28356,,,0,"Fix instantiation of manager.AgentManager on cmd.polling.create_polling_service

The commit 28f0a70da99b2fde2479ce6a5c62128ab75554af broke the selection of polling
 namespaces. When creating the agent manager we should define the polling group
 that we want to use. Otherwise, Ceilometer will for instance enable the ""central""
 polling methods in the compute nodes, and vice versa.

Change-Id: I179c95a7bfaf5d9722037618108fc882d85fda5a
Signed-off-by: Rafael Weingrtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/45/694345/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/cmd/polling.py'],1,f38416cd508bb0fe4688d27931b46d915272099c,fix_agent_manager_polling_namespaces," return manager.AgentManager(worker_id, conf, conf.polling_namespaces)"," return manager.AgentManager(worker_id, conf)",1,2
