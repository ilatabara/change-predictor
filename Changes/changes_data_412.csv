id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fswift~master~I0bfbfc23d85b42c714cdcd9a54c27470495546de,openstack/swift,master,I0bfbfc23d85b42c714cdcd9a54c27470495546de,fix tox python3 overrides,ABANDONED,2018-06-06 20:08:23.000000000,2019-03-18 13:13:53.000000000,,"[{'_account_id': 330}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-06 20:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90f038d0d7888db740d3132856fb9ac8a0a7c0ab', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0bfbfc23d85b42c714cdcd9a54c27470495546de\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2019-02-13 09:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/855c13d8c1fa3ae16075cfe39552394987398bf5', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0bfbfc23d85b42c714cdcd9a54c27470495546de\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2019-02-14 05:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fc4d6edf9bcb95ff94bc14f912e1deb3463662cc', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0bfbfc23d85b42c714cdcd9a54c27470495546de\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2019-02-20 08:17:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/4e13c757c6eba5b5d0b59e3f16ca9fb9a782b89f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0bfbfc23d85b42c714cdcd9a54c27470495546de\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,572983,4e13c757c6eba5b5d0b59e3f16ca9fb9a782b89f,11,4,4,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0bfbfc23d85b42c714cdcd9a54c27470495546de
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/572983/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,90f038d0d7888db740d3132856fb9ac8a0a7c0ab,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,10,0
openstack%2Fcastellan-ui~master~Ibad587f3e5805cf33234eea67063f02eafe153f0,openstack/castellan-ui,master,Ibad587f3e5805cf33234eea67063f02eafe153f0,switch documentation job to new PTI,ABANDONED,2018-09-04 15:52:58.000000000,2019-03-18 13:13:44.000000000,,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-04 15:52:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/castellan-ui/commit/6b4d5fda32213f009c2c6a73816464cb02beb81b', 'message': 'switch documentation job to new PTI\n\nThis is a mechanically generated patch to switch the documentation\njobs to use the new PTI versions of the jobs as part of the\npython3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ibad587f3e5805cf33234eea67063f02eafe153f0\nStory: #2002586\nTask: #24285\n'}]",0,599650,6b4d5fda32213f009c2c6a73816464cb02beb81b,7,2,1,2472,,,0,"switch documentation job to new PTI

This is a mechanically generated patch to switch the documentation
jobs to use the new PTI versions of the jobs as part of the
python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ibad587f3e5805cf33234eea67063f02eafe153f0
Story: #2002586
Task: #24285
",git fetch https://review.opendev.org/openstack/castellan-ui refs/changes/50/599650/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6b4d5fda32213f009c2c6a73816464cb02beb81b,python3-first, - publish-openstack-docs-pti, - publish-openstack-sphinx-docs,1,1
openstack%2Fgovernance-uc~master~If309300d4dbee39c3545826f7bbaf6e837c20283,openstack/governance-uc,master,If309300d4dbee39c3545826f7bbaf6e837c20283,fix tox python3 overrides,ABANDONED,2018-09-29 23:49:56.000000000,2019-03-18 13:13:38.000000000,,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24100}, {'_account_id': 25903}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-09-29 23:49:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/f0e41493e77eecf14e32f9bd6f0afb6a7f18c0b6', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: If309300d4dbee39c3545826f7bbaf6e837c20283\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606634,f0e41493e77eecf14e32f9bd6f0afb6a7f18c0b6,9,7,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: If309300d4dbee39c3545826f7bbaf6e837c20283
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/34/606634/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f0e41493e77eecf14e32f9bd6f0afb6a7f18c0b6,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Ftacker~master~Iedbab108a97d5d73b2703c54ea7d40569b8b8701,openstack/tacker,master,Iedbab108a97d5d73b2703c54ea7d40569b8b8701,fix tox python3 overrides,ABANDONED,2018-06-06 20:08:26.000000000,2019-03-18 13:13:25.000000000,,"[{'_account_id': 2472}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27153}, {'_account_id': 28543}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-06-06 20:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5260195c9d1aad883bd6db672d64a46371c64978', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-19 04:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/adaa9ebfe0837e7a015435cdde106725efed6876', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-08-01 11:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4a5d01f8bda9894efc8f4c352c902f6be8d24496', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-08-13 02:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6b8ea601944895ba47a02160da2bf4018b6761f2', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2018-08-24 16:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/50e8e99a340713f857526e16d1dd7e637f86f109', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2018-09-03 11:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/040b0c1d3022f6b32df2edc3a78ac29931d097db', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 7, 'created': '2018-09-04 08:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/112bb2532ad9d4420b192cd56dad86b6ca285451', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 8, 'created': '2018-09-07 05:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/940cf909e7880548387f0bc33fc8b5340a283ea1', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 9, 'created': '2018-09-07 10:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f9dbd5ff912f525cc83e57a2da27b3789a6401df', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 10, 'created': '2018-09-10 06:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/87f2b0ec6237c3cc3dd87f2be6b4c40c6dd3ec0d', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 11, 'created': '2018-09-17 05:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4d2b462044b0928ce7adea3fbe60e98ced4a9bd6', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 12, 'created': '2018-10-06 02:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7cc6092d7975ef74f4bfcb0f600e6878911cafa1', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 13, 'created': '2018-10-19 10:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6f11d09dc2789860720ff481729f4739ea68ef25', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 14, 'created': '2018-10-29 07:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/18db36efe4df105a16b9405753057098d29074de', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 15, 'created': '2018-10-30 04:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/62b674cc8fbab292cfdd42f8f4231e1986f1f272', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 16, 'created': '2018-12-06 09:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3ab56ddc01402a9558c752f25476f5f7869c4277', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 17, 'created': '2019-02-13 09:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d913913b3c3446684a31510d15ba482b419df264', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 18, 'created': '2019-02-25 15:17:41.000000000', 'files': ['tacker/db/models_v1.py', 'tacker/tests/unit/db/test_db_migration.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ca9482f6795eb1a9f839cdc66dba81707e7aa713', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",1,572984,ca9482f6795eb1a9f839cdc66dba81707e7aa713,70,7,18,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Co-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>
Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
Change-Id: Iedbab108a97d5d73b2703c54ea7d40569b8b8701
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/84/572984/16 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5260195c9d1aad883bd6db672d64a46371c64978,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,basepython = {env:TACKER_TOX_PYTHON:python2},9,1
openstack%2Fmagnum-specs~master~I30a4c80e6f39245bfb86d62e31b8576cb36fb757,openstack/magnum-specs,master,I30a4c80e6f39245bfb86d62e31b8576cb36fb757,fix tox python3 overrides,ABANDONED,2018-09-29 23:50:29.000000000,2019-03-18 13:13:13.000000000,,"[{'_account_id': 8064}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25903}, {'_account_id': 27153}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-09-29 23:50:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/8264b7a246c0199fa93cc33e6c1c95226f42fa5c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I30a4c80e6f39245bfb86d62e31b8576cb36fb757\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606646,8264b7a246c0199fa93cc33e6c1c95226f42fa5c,9,7,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I30a4c80e6f39245bfb86d62e31b8576cb36fb757
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/magnum-specs refs/changes/46/606646/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8264b7a246c0199fa93cc33e6c1c95226f42fa5c,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fopenstack-helm-infra~master~I50d938b433cc8c9e36d0643494a9f5d6d19585d8,openstack/openstack-helm-infra,master,I50d938b433cc8c9e36d0643494a9f5d6d19585d8,DNM: Kick armada update password job,ABANDONED,2019-03-12 17:59:25.000000000,2019-03-18 13:11:07.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 17:59:25.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/665b32184156e6b81d17f235d875e5ac4ddfc4eb', 'message': 'DNM: Kick armada update password job\n\nChange-Id: I50d938b433cc8c9e36d0643494a9f5d6d19585d8\n'}]",0,642840,665b32184156e6b81d17f235d875e5ac4ddfc4eb,7,2,1,17591,,,0,"DNM: Kick armada update password job

Change-Id: I50d938b433cc8c9e36d0643494a9f5d6d19585d8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/642840/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,665b32184156e6b81d17f235d875e5ac4ddfc4eb,kick-rotate-job, # - openstack-helm-infra-aio-logging # - openstack-helm-infra-aio-monitoring # - openstack-helm-infra-aio-network-policy: # voting: false # - openstack-helm-infra-openstack-support # - openstack-helm-infra-kubernetes-keystone-auth # # some testing performed here to check for any break of host/label # # override functionality # - openstack-helm-infra-airship-divingbell: # voting: false # - openstack-helm-infra-aio-podsecuritypolicy # - openstack-helm-infra-elastic-beats # - openstack-helm-infra-armada-deploy # - openstack-helm-infra-armada-update-uuid, - openstack-helm-infra-aio-logging - openstack-helm-infra-aio-monitoring - openstack-helm-infra-aio-network-policy: voting: false - openstack-helm-infra-openstack-support - openstack-helm-infra-kubernetes-keystone-auth # some testing performed here to check for any break of host/label # override functionality - openstack-helm-infra-airship-divingbell: voting: false - openstack-helm-infra-aio-podsecuritypolicy - openstack-helm-infra-elastic-beats - openstack-helm-infra-armada-deploy - openstack-helm-infra-armada-update-uuid,14,14
openstack%2Fsearchlight-ui~master~I0c838b83f4143919113aebb6440f17a8f663a400,openstack/searchlight-ui,master,I0c838b83f4143919113aebb6440f17a8f663a400,Update setup.cfg,MERGED,2019-03-18 12:42:09.000000000,2019-03-18 13:08:11.000000000,2019-03-18 13:08:11.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 12:42:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/b8dad657b9b325fbe2732d61e9202b718c3f5547', 'message': 'Update setup.cfg\n\nChange-Id: I0c838b83f4143919113aebb6440f17a8f663a400\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643928,b8dad657b9b325fbe2732d61e9202b718c3f5547,6,2,1,27068,,,0,"Update setup.cfg

Change-Id: I0c838b83f4143919113aebb6440f17a8f663a400
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/28/643928/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b8dad657b9b325fbe2732d61e9202b718c3f5547,, Programming Language :: Python :: 3 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,3,0
openstack%2Frelease-test~master~I1404c575b0fc5aeae282ad6ee5f0ea5a205b3aa4,openstack/release-test,master,I1404c575b0fc5aeae282ad6ee5f0ea5a205b3aa4,Update master for stable/stein,MERGED,2019-03-18 13:02:17.000000000,2019-03-18 13:06:05.000000000,2019-03-18 13:06:05.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 13:02:17.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/release-test/commit/ead50ec247feac37627de040bb0fd3de0426802d', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I1404c575b0fc5aeae282ad6ee5f0ea5a205b3aa4\nSem-Ver: feature\n'}]",0,643932,ead50ec247feac37627de040bb0fd3de0426802d,6,2,1,22816,,,0,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I1404c575b0fc5aeae282ad6ee5f0ea5a205b3aa4
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/release-test refs/changes/32/643932/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/stein.rst']",2,ead50ec247feac37627de040bb0fd3de0426802d,reno-stein,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,,7,0
openstack%2Frelease-test~stable%2Fstein~I756fd7c99e4898fe2fcec37e9d28cb057690f8a1,openstack/release-test,stable/stein,I756fd7c99e4898fe2fcec37e9d28cb057690f8a1,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-18 13:02:12.000000000,2019-03-18 13:05:54.000000000,2019-03-18 13:05:53.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 13:02:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/release-test/commit/8765a73158324b6c0b1d8bd364fd7cf05d747121', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I756fd7c99e4898fe2fcec37e9d28cb057690f8a1\n'}]",0,643931,8765a73158324b6c0b1d8bd364fd7cf05d747121,6,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I756fd7c99e4898fe2fcec37e9d28cb057690f8a1
",git fetch https://review.opendev.org/openstack/release-test refs/changes/31/643931/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8765a73158324b6c0b1d8bd364fd7cf05d747121,create-stein, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Frelease-test~stable%2Fstein~I7e05fd2dc047d369f08b7ae10ad9821980dba234,openstack/release-test,stable/stein,I7e05fd2dc047d369f08b7ae10ad9821980dba234,Update .gitreview for stable/stein,MERGED,2019-03-18 13:02:07.000000000,2019-03-18 13:05:53.000000000,2019-03-18 13:05:53.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 13:02:07.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/release-test/commit/7ba2d6ae164f2560f6ee779d5df3f966efe6a147', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I7e05fd2dc047d369f08b7ae10ad9821980dba234\n'}]",0,643930,7ba2d6ae164f2560f6ee779d5df3f966efe6a147,6,2,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I7e05fd2dc047d369f08b7ae10ad9821980dba234
",git fetch https://review.opendev.org/openstack/release-test refs/changes/30/643930/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7ba2d6ae164f2560f6ee779d5df3f966efe6a147,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fosprofiler~master~I9354373fa774d83ab57df7ed257b2879104c05ac,openstack/osprofiler,master,I9354373fa774d83ab57df7ed257b2879104c05ac,[TEST] Add a job to run Tempest tests on py27,ABANDONED,2018-10-12 08:17:18.000000000,2019-03-18 13:05:20.000000000,,"[{'_account_id': 5950}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/ad98576f8bc20e9f08d3692aaed40778973cf0d2', 'message': 'Add a job to run Tempest tests on py27\n\nChange-Id: I9354373fa774d83ab57df7ed257b2879104c05ac\n'}, {'number': 2, 'created': '2018-10-16 13:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/f53a331ae68ac75b0e0d9b5ed48e8d04bda90d2f', 'message': 'Add a job to run Tempest tests on py27\n\nThis is to test that Swift is not affected by enabled osprofiler\n\nChange-Id: I9354373fa774d83ab57df7ed257b2879104c05ac\n'}, {'number': 3, 'created': '2018-10-22 13:15:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/cebf62d6c43b832c2d965b3f67343b49475856e5', 'message': '[TEST] Add a job to run Tempest tests on py27\n\nThis is to test that Swift is not affected by enabled osprofiler\n\nChange-Id: I9354373fa774d83ab57df7ed257b2879104c05ac\n'}]",1,609959,cebf62d6c43b832c2d965b3f67343b49475856e5,16,4,3,5950,,,0,"[TEST] Add a job to run Tempest tests on py27

This is to test that Swift is not affected by enabled osprofiler

Change-Id: I9354373fa774d83ab57df7ed257b2879104c05ac
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/59/609959/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ad98576f8bc20e9f08d3692aaed40778973cf0d2,tempest-full-job, - tempest-full-profiler-enabled - tempest-full-profiler-enabled name: tempest-full-profiler-enabled parent: tempest-full voting: false description: | Run full tempest on py27 with profiling enabled required-projects: - openstack/osprofiler vars: tox_envlist: full devstack_localrc: OSPROFILER_COLLECTOR: redis OSPROFILER_HMAC_KEYS: SECRET_KEY devstack_plugins: osprofiler: https://git.openstack.org/openstack/osprofiler - job:,,18,0
openstack%2Frelease-test~master~Iffda4866406b75a5473edd8f4ddc45c704257575,openstack/release-test,master,Iffda4866406b75a5473edd8f4ddc45c704257575,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 08:56:57.000000000,2019-03-18 13:00:29.000000000,2019-03-18 13:00:29.000000000,"[{'_account_id': 2472}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 08:56:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/release-test/commit/91340130bc017b13afe04e44d106e9846b08b99d', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Iffda4866406b75a5473edd8f4ddc45c704257575\n'}]",0,622109,91340130bc017b13afe04e44d106e9846b08b99d,7,3,1,28935,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Iffda4866406b75a5473edd8f4ddc45c704257575
",git fetch https://review.opendev.org/openstack/release-test refs/changes/09/622109/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,91340130bc017b13afe04e44d106e9846b08b99d,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Freleases~master~I3ae17668850c947df08d78c2e14bea03e2611f64,openstack/releases,master,I3ae17668850c947df08d78c2e14bea03e2611f64,release-test stable/stein branch,MERGED,2019-03-18 12:40:48.000000000,2019-03-18 12:56:44.000000000,2019-03-18 12:56:44.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 12:40:48.000000000', 'files': ['deliverables/stein/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/979bf5642817f1293de337c62de6643a28eabf95', 'message': 'release-test stable/stein branch\n\nChange-Id: I3ae17668850c947df08d78c2e14bea03e2611f64\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,643925,979bf5642817f1293de337c62de6643a28eabf95,6,2,1,2472,,,0,"release-test stable/stein branch

Change-Id: I3ae17668850c947df08d78c2e14bea03e2611f64
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/643925/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/release-test.yaml'],1,979bf5642817f1293de337c62de6643a28eabf95,release-test-1.3.0,branches: - location: 1.3.0 name: stable/stein,,3,0
openstack%2Frelease-test~master~I5600ea15e75bbdcaf9f5a99a6d20409eeb5fbb52,openstack/release-test,master,I5600ea15e75bbdcaf9f5a99a6d20409eeb5fbb52,Fix author-email in setup.cfg,ABANDONED,2019-01-24 03:00:09.000000000,2019-03-18 12:56:34.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 03:00:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/release-test/commit/9a1ed046b295fdf5c9588117670633669e6327a3', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I5600ea15e75bbdcaf9f5a99a6d20409eeb5fbb52\n'}]",0,632885,9a1ed046b295fdf5c9588117670633669e6327a3,7,5,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I5600ea15e75bbdcaf9f5a99a6d20409eeb5fbb52
",git fetch https://review.opendev.org/openstack/release-test refs/changes/85/632885/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9a1ed046b295fdf5c9588117670633669e6327a3,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Frelease-test~master~I4c2a8201eb14bc6154f123dfadbaf6b12b539f26,openstack/release-test,master,I4c2a8201eb14bc6154f123dfadbaf6b12b539f26,Update url in HACKING.rst,MERGED,2018-11-16 04:26:55.000000000,2019-03-18 12:56:16.000000000,2019-03-18 12:56:16.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-16 04:26:55.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/release-test/commit/3e99aafc0c49e3fee272138406fb62c435a65578', 'message': 'Update url in HACKING.rst\n\nChange-Id: I4c2a8201eb14bc6154f123dfadbaf6b12b539f26\n'}]",0,618460,3e99aafc0c49e3fee272138406fb62c435a65578,6,2,1,29423,,,0,"Update url in HACKING.rst

Change-Id: I4c2a8201eb14bc6154f123dfadbaf6b12b539f26
",git fetch https://review.opendev.org/openstack/release-test refs/changes/60/618460/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,3e99aafc0c49e3fee272138406fb62c435a65578,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Frelease-test~master~I805f75b895fede473a9b5b137872792c39e1b280,openstack/release-test,master,I805f75b895fede473a9b5b137872792c39e1b280,Optimizing the safety of the http link site in HACKING.rst,MERGED,2018-11-16 00:52:56.000000000,2019-03-18 12:55:48.000000000,2019-03-18 12:55:48.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-16 00:52:56.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/release-test/commit/ccde7ecafe43931459c75ebb3aad5c0a20931bca', 'message': 'Optimizing the safety of the http link site in HACKING.rst\n\nChange-Id: I805f75b895fede473a9b5b137872792c39e1b280\n'}]",0,618335,ccde7ecafe43931459c75ebb3aad5c0a20931bca,6,2,1,29423,,,0,"Optimizing the safety of the http link site in HACKING.rst

Change-Id: I805f75b895fede473a9b5b137872792c39e1b280
",git fetch https://review.opendev.org/openstack/release-test refs/changes/35/618335/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,ccde7ecafe43931459c75ebb3aad5c0a20931bca,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Frelease-test~master~I33e075b3b7f2eec889cd1698edaab5ee89f69121,openstack/release-test,master,I33e075b3b7f2eec889cd1698edaab5ee89f69121,Switch to use stestr for unit test,MERGED,2018-07-20 03:44:21.000000000,2019-03-18 12:55:32.000000000,2019-03-18 12:55:32.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 03:44:21.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/release-test/commit/49a2a95fad2bb2e2b268f29299ec17bc3c6d2f08', 'message': 'Switch to use stestr for unit test\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nSo we should switch to stestr.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I33e075b3b7f2eec889cd1698edaab5ee89f69121\n'}]",0,584213,49a2a95fad2bb2e2b268f29299ec17bc3c6d2f08,6,2,1,28176,,,0,"Switch to use stestr for unit test

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
So we should switch to stestr.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I33e075b3b7f2eec889cd1698edaab5ee89f69121
",git fetch https://review.opendev.org/openstack/release-test refs/changes/13/584213/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,49a2a95fad2bb2e2b268f29299ec17bc3c6d2f08,stestr,[DEFAULT] test_path=./release_test/tests top_dir=. ,,14,11
openstack%2Fbifrost~master~I459ea1f300e1d203e77dfc739ff446ca985aacb1,openstack/bifrost,master,I459ea1f300e1d203e77dfc739ff446ca985aacb1,Change uwsgi-plugin-python to uwsgi-plugin-python2,MERGED,2019-03-04 14:53:34.000000000,2019-03-18 12:21:44.000000000,2019-03-18 12:21:44.000000000,"[{'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-04 14:53:34.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/81d80496d451666dbd72cc78596c58033c7da47b', 'message': 'Change uwsgi-plugin-python to uwsgi-plugin-python2\n\nWe need to change the package name of uwsgi-plugin-python to\nuwsgi-plugin-python2 in Redhat Family OS, because they do not have\nthe name of the package.\n\nChange-Id: I459ea1f300e1d203e77dfc739ff446ca985aacb1\n'}]",0,640780,81d80496d451666dbd72cc78596c58033c7da47b,7,3,1,1523,,,0,"Change uwsgi-plugin-python to uwsgi-plugin-python2

We need to change the package name of uwsgi-plugin-python to
uwsgi-plugin-python2 in Redhat Family OS, because they do not have
the name of the package.

Change-Id: I459ea1f300e1d203e77dfc739ff446ca985aacb1
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/80/640780/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml'],1,81d80496d451666dbd72cc78596c58033c7da47b,change-package-name, - uwsgi-plugin-python2, - uwsgi-plugin-python,1,1
openstack%2Fpython-mistralclient~master~I068e20ab8fe9b0dcae5972d14fbe6700aa3e35bf,openstack/python-mistralclient,master,I068e20ab8fe9b0dcae5972d14fbe6700aa3e35bf,Change tripleo job to multinode-containers job,MERGED,2019-03-14 12:49:41.000000000,2019-03-18 12:18:32.000000000,2019-03-18 12:18:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 13861}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 12:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/128aee91d7970627c1e55bde6e0146e469aeb801', 'message': ""Change tripleo job to multinode-containers job\n\nStandalone 003 jobs seems like doesn't cover mistral functionality\nlet's use multinode-containers for that.\n\nChange-Id: I068e20ab8fe9b0dcae5972d14fbe6700aa3e35bf\n""}, {'number': 2, 'created': '2019-03-15 12:09:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/f43343bb073b8de33a908241a1d5e8aa2b630383', 'message': ""Change tripleo job to multinode-containers job\n\nStandalone 003 jobs seems like doesn't cover mistral functionality\nlet's use multinode-containers for that.\n\nChange-Id: I068e20ab8fe9b0dcae5972d14fbe6700aa3e35bf\n""}]",0,643319,f43343bb073b8de33a908241a1d5e8aa2b630383,13,6,2,10969,,,0,"Change tripleo job to multinode-containers job

Standalone 003 jobs seems like doesn't cover mistral functionality
let's use multinode-containers for that.

Change-Id: I068e20ab8fe9b0dcae5972d14fbe6700aa3e35bf
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/19/643319/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,128aee91d7970627c1e55bde6e0146e469aeb801,, - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-containers-multinode, - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Fpython-ironic-inspector-client~master~I362bb1a1c876410d9f27508ba198ccb49336af0f,openstack/python-ironic-inspector-client,master,I362bb1a1c876410d9f27508ba198ccb49336af0f,Find misteriously missing pep8 import check,MERGED,2019-03-15 08:53:55.000000000,2019-03-18 12:15:55.000000000,2019-03-18 12:15:55.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-03-15 08:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/6ab9e47c21029ed4efeb14f388e8406048ab07fd', 'message': ""Find misteriously missing pep8 import check\n\nimport order is not checked, now it's a history.\n\nChange-Id: I362bb1a1c876410d9f27508ba198ccb49336af0f\n""}, {'number': 2, 'created': '2019-03-15 09:39:03.000000000', 'files': ['test-requirements.txt', 'ironic_inspector_client/test/functional.py', 'ironic_inspector_client/test/test_v1.py', 'ironic_inspector_client/test/test_shell.py', 'tox.ini', 'ironic_inspector_client/shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/2e684a041efbc70ada8b5f935d97d75ed080ad75', 'message': ""Find misteriously missing pep8 import check\n\nimport order is not checked, now it's a history.\n\nChange-Id: I362bb1a1c876410d9f27508ba198ccb49336af0f\n""}]",0,643535,2e684a041efbc70ada8b5f935d97d75ed080ad75,8,3,2,24828,,,0,"Find misteriously missing pep8 import check

import order is not checked, now it's a history.

Change-Id: I362bb1a1c876410d9f27508ba198ccb49336af0f
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/35/643535/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'ironic_inspector_client/test/functional.py', 'ironic_inspector_client/test/test_v1.py', 'ironic_inspector_client/test/test_shell.py', 'tox.ini', 'ironic_inspector_client/shell.py']",6,6ab9e47c21029ed4efeb14f388e8406048ab07fd,pep8-fix,,,19,10
openstack%2Fmagnum~master~If532ccc4673225eb1b7e7cab77a30950ee5ee695,openstack/magnum,master,If532ccc4673225eb1b7e7cab77a30950ee5ee695,k8s_fedora: Add ca_key before all deployments,MERGED,2019-03-18 09:50:19.000000000,2019-03-18 12:06:46.000000000,2019-03-18 11:27:17.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 09:50:19.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/13e8c11f784dc4e274e1322dc64a0dab5c38b632', 'message': 'k8s_fedora: Add ca_key before all deployments\n\nThe script [1] that writes the ca.key depends in the apiserver to be\nrunning and the script to start the apiserver [0] needs the ca.key to\nexist.\n\nWrite the ca_key before all other scripts that depend on the apiserver.\n\nstory: 2005254\ntask: 30051\n\n[0]\nhttps://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh\n[1]\nhttps://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml#L843\n\nChange-Id: If532ccc4673225eb1b7e7cab77a30950ee5ee695\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,643904,13e8c11f784dc4e274e1322dc64a0dab5c38b632,8,3,1,20498,,,0,"k8s_fedora: Add ca_key before all deployments

The script [1] that writes the ca.key depends in the apiserver to be
running and the script to start the apiserver [0] needs the ca.key to
exist.

Write the ca_key before all other scripts that depend on the apiserver.

story: 2005254
task: 30051

[0]
https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh
[1]
https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml#L843

Change-Id: If532ccc4673225eb1b7e7cab77a30950ee5ee695
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/643904/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'],1,13e8c11f784dc4e274e1322dc64a0dab5c38b632,2005254, - get_file: ../../common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh, - get_file: ../../common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh,1,1
openstack%2Fpanko~master~Icfd23b83d73dee89a71c92f1f787bb3791fd460e,openstack/panko,master,Icfd23b83d73dee89a71c92f1f787bb3791fd460e,Check pep8 without ignoring D000,ABANDONED,2018-05-30 09:16:39.000000000,2019-03-18 12:05:20.000000000,,"[{'_account_id': 1669}, {'_account_id': 8871}, {'_account_id': 18320}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2018-05-30 09:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/5d66d4e79eb443a534e0a4569e3cb0db250a21a2', 'message': 'Check pep8 without ignoring D000\n\nCurrently, pep8 ignores D000 check because of error:\n""D000 Cannot analyze code. Pygments package not found.""\n\nPygments is supported from:\nhttps://review.openstack.org/#/c/568729/\n\nChange-Id: Icfd23b83d73dee89a71c92f1f787bb3791fd460e\n'}, {'number': 2, 'created': '2018-10-25 06:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/7c910683444ec22167e23a1c9a9373e51e80c33b', 'message': 'Check pep8 without ignoring D000\n\nCurrently, pep8 ignores D000 check because of error:\n""D000 Cannot analyze code. Pygments package not found.""\n\nPygments is supported from:\nhttps://review.openstack.org/#/c/568729/\n\nChange-Id: Icfd23b83d73dee89a71c92f1f787bb3791fd460e\n'}, {'number': 3, 'created': '2018-10-25 08:59:46.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/panko/commit/201b1eec7ab7192811f3c7c8cefbbdc0b23a64c1', 'message': 'Check pep8 without ignoring D000\n\nCurrently, pep8 ignores D000 check because of error:\n""D000 Cannot analyze code. Pygments package not found.""\n\nPygments is supported from:\nhttps://review.openstack.org/#/c/568729/\n\nChange-Id: Icfd23b83d73dee89a71c92f1f787bb3791fd460e\n'}]",0,571146,201b1eec7ab7192811f3c7c8cefbbdc0b23a64c1,19,6,3,18320,,,0,"Check pep8 without ignoring D000

Currently, pep8 ignores D000 check because of error:
""D000 Cannot analyze code. Pygments package not found.""

Pygments is supported from:
https://review.openstack.org/#/c/568729/

Change-Id: Icfd23b83d73dee89a71c92f1f787bb3791fd460e
",git fetch https://review.opendev.org/openstack/panko refs/changes/46/571146/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d66d4e79eb443a534e0a4569e3cb0db250a21a2,, Pygments>=2.2.0,ignore = D000,1,1
openstack%2Fkarbor~master~Ibc4a0745fe66331c8cd53c184ecd4a89441f1537,openstack/karbor,master,Ibc4a0745fe66331c8cd53c184ecd4a89441f1537,Activate html_static_path config option,ABANDONED,2018-07-03 10:14:01.000000000,2019-03-18 12:05:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 10:14:01.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a7aa1829c5a023afce2b1bb08ff7b16ecb409abe', 'message': 'Activate html_static_path config option\n\nThis config option is disbaled causes some static links\ncannot be found (error 404). Eg.\n\nThe link to sample policy file in:\nhttps://docs.openstack.org/karbor/latest/sample_policy.html\n\nChange-Id: Ibc4a0745fe66331c8cd53c184ecd4a89441f1537\n'}]",0,579839,a7aa1829c5a023afce2b1bb08ff7b16ecb409abe,3,1,1,18320,,,0,"Activate html_static_path config option

This config option is disbaled causes some static links
cannot be found (error 404). Eg.

The link to sample policy file in:
https://docs.openstack.org/karbor/latest/sample_policy.html

Change-Id: Ibc4a0745fe66331c8cd53c184ecd4a89441f1537
",git fetch https://review.opendev.org/openstack/karbor refs/changes/39/579839/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a7aa1829c5a023afce2b1bb08ff7b16ecb409abe,," # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static']",# html_static_path = ['static'],5,1
openstack%2Fmagnum~master~Icd17f6302d70fae941a94c0b694dd3ce0817f013,openstack/magnum,master,Icd17f6302d70fae941a94c0b694dd3ce0817f013,Invalid link of doc reference,ABANDONED,2018-07-11 06:19:42.000000000,2019-03-18 12:04:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 25903}, {'_account_id': 29425}]","[{'number': 1, 'created': '2018-07-11 06:19:42.000000000', 'files': ['doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b142f727a05bca1f2cf573cd24d95256b4bf7fab', 'message': 'Invalid link of doc reference\n\nChange-Id: Icd17f6302d70fae941a94c0b694dd3ce0817f013\n'}]",0,581578,b142f727a05bca1f2cf573cd24d95256b4bf7fab,5,3,1,18320,,,0,"Invalid link of doc reference

Change-Id: Icd17f6302d70fae941a94c0b694dd3ce0817f013
",git fetch https://review.opendev.org/openstack/magnum refs/changes/78/581578/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/index.rst'],1,b142f727a05bca1f2cf573cd24d95256b4bf7fab,,<https://docs.openstack.org/magnum/latest/user/glossary.html>`_ for your reference.,<https://docs.openstack.org/magnum/latest/glossary.html>`_ for your reference.,1,1
openstack%2Fkuryr~master~I4746c9ac8242b518a3a1958671d59acca51187c5,openstack/kuryr,master,I4746c9ac8242b518a3a1958671d59acca51187c5,Adds doc8 check to pep8,ABANDONED,2018-07-17 12:04:52.000000000,2019-03-18 12:03:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-17 12:04:52.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/93fe72c7abf2decbd011d2c13fc66f62ae5732c8', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes and\nshould be done in a separated patch.\n\nChange-Id: I4746c9ac8242b518a3a1958671d59acca51187c5\n'}]",0,583220,93fe72c7abf2decbd011d2c13fc66f62ae5732c8,3,1,1,18320,,,0,"Adds doc8 check to pep8

This patch adds doc8 check for .rst files to pep8.
Files that fail doc8 check are also fixed.

Ignores D001 of doc8 check. This requires lot of changes and
should be done in a separated patch.

Change-Id: I4746c9ac8242b518a3a1958671d59acca51187c5
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/20/583220/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,93fe72c7abf2decbd011d2c13fc66f62ae5732c8,,"commands = flake8 doc8 {posargs}[doc8] # D001: Line too long ignore = D001 ignore-path = .venv,.git,.tox,.tmp,*kuryr/locale*,*lib/python*,kuryr_lib.egg*,doc/build,releasenotes/*,doc/source/contributor/api ",commands = flake8,11,1
openstack%2Ffreezer-api~master~I1112d1cf78435af71aa4afa0bcbdd87a3b166a23,openstack/freezer-api,master,I1112d1cf78435af71aa4afa0bcbdd87a3b166a23,Adds doc8 check to pep8,ABANDONED,2018-07-13 09:20:42.000000000,2019-03-18 12:03:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-13 09:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/21fa06041cfafb1b94180b3424a2efbd7d137957', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes\nand should be done in a separated patch.\n\nChange-Id: I1112d1cf78435af71aa4afa0bcbdd87a3b166a23\n'}, {'number': 2, 'created': '2018-07-18 03:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f24ca05023569b06e8091b2a67a620727dfdb305', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes\nand should be done in a separated patch.\n\nChange-Id: I1112d1cf78435af71aa4afa0bcbdd87a3b166a23\n'}, {'number': 3, 'created': '2018-10-25 06:40:26.000000000', 'files': ['test-requirements.txt', 'api-ref/source/v1/index.rst', 'lower-constraints.txt', 'tox.ini', 'api-ref/source/versions/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/aee1e6df7d495b1918693a028b633b6dffac2a75', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes\nand should be done in a separated patch.\n\nChange-Id: I1112d1cf78435af71aa4afa0bcbdd87a3b166a23\n'}]",0,582477,aee1e6df7d495b1918693a028b633b6dffac2a75,7,1,3,18320,,,0,"Adds doc8 check to pep8

This patch adds doc8 check for .rst files to pep8.
Files that fail doc8 check are also fixed.

Ignores D001 of doc8 check. This requires lot of changes
and should be done in a separated patch.

Change-Id: I1112d1cf78435af71aa4afa0bcbdd87a3b166a23
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/77/582477/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/v1/index.rst', 'lower-constraints.txt', 'tox.ini', 'api-ref/source/versions/index.rst']",5,21fa06041cfafb1b94180b3424a2efbd7d137957,,.. include:: versions.inc ,.. include:: versions.inc,14,3
openstack%2Fceilometer~master~Ibeb903c6ce5c94b0737371ed3973b5f8304965d6,openstack/ceilometer,master,Ibeb903c6ce5c94b0737371ed3973b5f8304965d6,Check pep8 without ignoring D000,ABANDONED,2018-05-31 02:37:09.000000000,2019-03-18 12:03:25.000000000,,"[{'_account_id': 1669}, {'_account_id': 10311}, {'_account_id': 15843}, {'_account_id': 18320}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2018-05-31 02:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8bd9b2137a7dad0c3ba004982161bd7f134379c1', 'message': 'Check pep8 without ignoring D000\n\nThis patch restores the D000 check for pep8.\nD000 check requires Pygments package.\n\nPygments is supported from:\nhttps://review.openstack.org/#/c/568729/\n\nChange-Id: Ibeb903c6ce5c94b0737371ed3973b5f8304965d6\n'}, {'number': 2, 'created': '2018-10-25 06:21:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d18dc1959bd2346354efa9c3da135a49da1fd7ec', 'message': 'Check pep8 without ignoring D000\n\nThis patch restores the D000 check for pep8.\nD000 check requires Pygments package.\n\nPygments is supported from:\nhttps://review.openstack.org/#/c/568729/\n\nChange-Id: Ibeb903c6ce5c94b0737371ed3973b5f8304965d6\n'}]",0,571362,d18dc1959bd2346354efa9c3da135a49da1fd7ec,11,7,2,18320,,,0,"Check pep8 without ignoring D000

This patch restores the D000 check for pep8.
D000 check requires Pygments package.

Pygments is supported from:
https://review.openstack.org/#/c/568729/

Change-Id: Ibeb903c6ce5c94b0737371ed3973b5f8304965d6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/62/571362/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8bd9b2137a7dad0c3ba004982161bd7f134379c1,, Pygments>=2.2.0,ignore = D000,1,1
openstack%2Ftenks~master~I3a22dd7bb9fb90e9442f5315ddff5be4ab6cc5cd,openstack/tenks,master,I3a22dd7bb9fb90e9442f5315ddff5be4ab6cc5cd,DNM: Test libvirt-host fix for issue 13,ABANDONED,2019-03-18 09:36:34.000000000,2019-03-18 12:00:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-18 09:36:34.000000000', 'files': ['tenks/version.py', 'requirements.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/998230ba2e19fba5f2163e467eb77dfe33bf5272', 'message': 'DNM: Test libvirt-host fix for issue 13\n\nChange-Id: I3a22dd7bb9fb90e9442f5315ddff5be4ab6cc5cd\n'}]",0,643903,998230ba2e19fba5f2163e467eb77dfe33bf5272,3,1,1,14826,,,0,"DNM: Test libvirt-host fix for issue 13

Change-Id: I3a22dd7bb9fb90e9442f5315ddff5be4ab6cc5cd
",git fetch https://review.opendev.org/openstack/tenks refs/changes/03/643903/1 && git format-patch -1 --stdout FETCH_HEAD,"['tenks/version.py', 'requirements.yml', 'zuul.d/project.yaml']",3,998230ba2e19fba5f2163e467eb77dfe33bf5272,dnm, #- kayobe-overcloud-centos, - kayobe-overcloud-centos,7,2
openstack%2Ftripleo-heat-templates~master~I07f9a8e9c454a5e41d0a8b766d5d754f63126b90,openstack/tripleo-heat-templates,master,I07f9a8e9c454a5e41d0a8b766d5d754f63126b90,Enable authtoken cache,MERGED,2019-03-15 20:22:48.000000000,2019-03-18 11:53:11.000000000,2019-03-18 11:53:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 20:22:48.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19fec5d9d06a84e7dd21e1e60784b48365b34902', 'message': 'Enable authtoken cache\n\nFor the undercloud we can specify memcache that can be shared by all the\nservices. Additionally because we need to still allow folks to configure\nUndercloudExtraConfig we set it to deep_merge\n\nChange-Id: I07f9a8e9c454a5e41d0a8b766d5d754f63126b90\nCloses-Bug: #1820342\n'}]",0,643676,19fec5d9d06a84e7dd21e1e60784b48365b34902,7,3,1,14985,,,0,"Enable authtoken cache

For the undercloud we can specify memcache that can be shared by all the
services. Additionally because we need to still allow folks to configure
UndercloudExtraConfig we set it to deep_merge

Change-Id: I07f9a8e9c454a5e41d0a8b766d5d754f63126b90
Closes-Bug: #1820342
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/643676/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,19fec5d9d06a84e7dd21e1e60784b48365b34902,bug/1820342,"parameter_merge_strategies: default: overwrite UndercloudExtraConfig: deep_merge UndercloudExtraConfig: aodh::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" barbican::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" ceilometer::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" cinder::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" congress::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" ec2api::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" glance::api::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" gnocchi::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" heat::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" heat::cache::memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" horizon::cache_server_ip: ""%{hiera('memcached::listen_ip')}:11211"" ironic::api::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" ironic::inspector::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" keystone::cache_memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" manila::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" manila::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" mistral::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" neutron::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" nova::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" nova::cache::memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" nova::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" panko::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" sahara::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" swift::proxy::authtoken::memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" swift::proxy::cache::memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" tacker::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" zaqar::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" swift::objectexpirer::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211""",,33,0
openstack%2Fcharm-glance~master~I94f5a80c6ebfefdf7196cdf533f76931cfb22950,openstack/charm-glance,master,I94f5a80c6ebfefdf7196cdf533f76931cfb22950,Switch to using ``ceph.conf`` template from charm-helpers,MERGED,2019-03-15 09:35:43.000000000,2019-03-18 11:38:14.000000000,2019-03-18 11:38:14.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 09:35:43.000000000', 'files': ['templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/0d128e913f58b2deeb619085c5e6dbe03818cdef', 'message': 'Switch to using ``ceph.conf`` template from charm-helpers\n\nThe Glance charm distributes a out of date ``ceph.conf`` template\nthat among other things does not contain the ``rbd_features``\nconfiguration.\n\nSwitch to using the tempalte distributed with ``charm-helpers``\n\nThe effective diff between the two can be viewed here:\nhttps://gist.github.com/fnordahl/a4034999cec28fd70628599125b10bda\n\nChange-Id: I94f5a80c6ebfefdf7196cdf533f76931cfb22950\n'}]",0,643541,0d128e913f58b2deeb619085c5e6dbe03818cdef,7,3,1,13686,,,0,"Switch to using ``ceph.conf`` template from charm-helpers

The Glance charm distributes a out of date ``ceph.conf`` template
that among other things does not contain the ``rbd_features``
configuration.

Switch to using the tempalte distributed with ``charm-helpers``

The effective diff between the two can be viewed here:
https://gist.github.com/fnordahl/a4034999cec28fd70628599125b10bda

Change-Id: I94f5a80c6ebfefdf7196cdf533f76931cfb22950
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/41/643541/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ceph.conf'],1,0d128e913f58b2deeb619085c5e6dbe03818cdef,rbd-mirror,,############################################################################### # [ WARNING ] # glance configuration file maintained by Juju # local changes may be overwritten. ############################################################################### [global] {% if auth -%} auth_supported = {{ auth }} #keyring = /etc/ceph/$cluster.$name.keyring keyring = /etc/ceph/ceph.$name.keyring mon host = {{ mon_hosts }} {% endif -%} {% if use_syslog -%} log to syslog = {{ use_syslog }} err to syslog = {{ use_syslog }} clog to syslog = {{ use_syslog }} {% endif -%} ,0,17
openstack%2Fkeystone~master~Ideaa3c6280e807026ce46302abcf0e7e569dbdbd,openstack/keystone,master,Ideaa3c6280e807026ce46302abcf0e7e569dbdbd,Adds doc8 check to pep8,ABANDONED,2018-07-17 10:44:07.000000000,2019-03-18 11:32:46.000000000,,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 18320}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-17 10:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7b48300df5a05ffe6dd494932b875d936d577d4a', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes and\nshould be done in a separated patch.\n\nChange-Id: Ideaa3c6280e807026ce46302abcf0e7e569dbdbd\n'}, {'number': 2, 'created': '2018-07-18 02:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0ffa4fdf4929d325e3f98ca65778dfb84395f12d', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes and\nshould be done in a separated patch.\n\nChange-Id: Ideaa3c6280e807026ce46302abcf0e7e569dbdbd\n'}, {'number': 3, 'created': '2018-10-25 06:38:43.000000000', 'files': ['doc/source/advanced-topics/federation/mapping_combinations.rst', 'doc/source/advanced-topics/federation/mellon.rst', 'doc/source/admin/identity-service-api-protection.rst', 'doc/source/admin/oauth1.rst', 'doc/source/advanced-topics/federation/websso.rst', 'doc/source/indices-tables.rst', 'test-requirements.txt', 'doc/source/advanced-topics/external-auth.rst', 'doc/source/admin/identity-concepts.rst', 'lower-constraints.txt', 'doc/source/admin/identity-token-binding.rst', 'doc/source/advanced-topics/federation/openidc.rst', 'api-ref/source/v3-ext/samples/OS-OAUTH1/access-token-create-response.txt', 'doc/source/admin/cli-manage-projects-users-and-roles.rst', 'api-ref/source/v3-ext/samples/OS-OAUTH1/request-token-create-response.txt', 'doc/source/cli/commands.rst', 'doc/source/admin/health-check-middleware.rst', 'doc/source/code_documentation.rst', 'tox.ini', 'doc/source/admin/identity-external-authentication.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/af44cca68ea91f393a65583c95c25cbd93c534de', 'message': 'Adds doc8 check to pep8\n\nThis patch adds doc8 check for .rst files to pep8.\nFiles that fail doc8 check are also fixed.\n\nIgnores D001 of doc8 check. This requires lot of changes and\nshould be done in a separated patch.\n\nChange-Id: Ideaa3c6280e807026ce46302abcf0e7e569dbdbd\n'}]",6,583196,af44cca68ea91f393a65583c95c25cbd93c534de,20,7,3,18320,,,0,"Adds doc8 check to pep8

This patch adds doc8 check for .rst files to pep8.
Files that fail doc8 check are also fixed.

Ignores D001 of doc8 check. This requires lot of changes and
should be done in a separated patch.

Change-Id: Ideaa3c6280e807026ce46302abcf0e7e569dbdbd
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/583196/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/advanced-topics/federation/mapping_combinations.rst', 'doc/source/advanced-topics/federation/mellon.rst', 'doc/source/admin/identity-service-api-protection.rst', 'doc/source/admin/oauth1.rst', 'doc/source/advanced-topics/federation/websso.rst', 'doc/source/indices-tables.rst', 'test-requirements.txt', 'doc/source/advanced-topics/external-auth.rst', 'doc/source/admin/identity-concepts.rst', 'lower-constraints.txt', 'doc/source/admin/identity-token-binding.rst', 'doc/source/advanced-topics/federation/openidc.rst', 'api-ref/source/v3-ext/samples/OS-OAUTH1/access-token-create-response.txt', 'doc/source/admin/cli-manage-projects-users-and-roles.rst', 'api-ref/source/v3-ext/samples/OS-OAUTH1/request-token-create-response.txt', 'doc/source/admin/health-check-middleware.rst', 'doc/source/code_documentation.rst', 'tox.ini', 'doc/source/admin/identity-external-authentication.rst']",19,7b48300df5a05ffe6dd494932b875d936d577d4a,,.. code-block:: xml,.. code-block:: none,39,28
openstack%2Fplacement~master~Iff0cec9445e6ddafa37c852438ce0c54fef77082,openstack/placement,master,Iff0cec9445e6ddafa37c852438ce0c54fef77082,Reuse common get_providers_with_resource(),MERGED,2019-03-17 06:25:11.000000000,2019-03-18 11:30:56.000000000,2019-03-18 11:30:56.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-17 06:25:11.000000000', 'files': ['placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/3a46b4463b616fc34db8ae54d12f9135fe6714ba', 'message': 'Reuse common get_providers_with_resource()\n\nThis patch refactors _get_all_by_filters_from_db() function used in\n`GET /resource_providers` to use more common function,\nget_providers_with_resource().\n\nSQL queries will increase slightly by this patch, but it is done\nfor the readability and the debuggability.\n\nChange-Id: Iff0cec9445e6ddafa37c852438ce0c54fef77082\n'}]",0,643729,3a46b4463b616fc34db8ae54d12f9135fe6714ba,7,3,1,25625,,,0,"Reuse common get_providers_with_resource()

This patch refactors _get_all_by_filters_from_db() function used in
`GET /resource_providers` to use more common function,
get_providers_with_resource().

SQL queries will increase slightly by this patch, but it is done
for the readability and the debuggability.

Change-Id: Iff0cec9445e6ddafa37c852438ce0c54fef77082
",git fetch https://review.opendev.org/openstack/placement refs/changes/29/643729/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/resource_provider.py'],1,3a46b4463b616fc34db8ae54d12f9135fe6714ba,refactor-resource-provider," for rc_name, amount in resources.items(): rc_id = rc_cache.RC_CACHE.id_from_string(rc_name) rps_with_resource = get_providers_with_resource(context, rc_id, amount) rps_with_resource = (rp[0] for rp in rps_with_resource) query = query.where(rp.c.id.in_(rps_with_resource))"," # NOTE(sbauza): We want to key the dict by the resource class IDs # and we want to make sure those class names aren't incorrect. resources = {rc_cache.RC_CACHE.id_from_string(r_name): amount for r_name, amount in resources.items()} if not resources: # Returns quickly the list in case we don't need to check the # resource usage res = context.session.execute(query).fetchall() return [dict(r) for r in res] # NOTE(sbauza): In case we want to look at the resource criteria, then # the SQL generated from this case looks something like: # SELECT # rp.* # FROM resource_providers AS rp # JOIN inventories AS inv # ON rp.id = inv.resource_provider_id # LEFT JOIN ( # SELECT resource_provider_id, resource_class_id, SUM(used) AS used # FROM allocations # WHERE resource_class_id IN ($RESOURCE_CLASSES) # GROUP BY resource_provider_id, resource_class_id # ) AS usage # ON inv.resource_provider_id = usage.resource_provider_id # AND inv.resource_class_id = usage.resource_class_id # AND (inv.resource_class_id = $X AND (used + $AMOUNT_X <= ( # total - reserved) * inv.allocation_ratio) AND # inv.min_unit <= $AMOUNT_X AND inv.max_unit >= $AMOUNT_X AND # $AMOUNT_X % inv.step_size == 0) # OR (inv.resource_class_id = $Y AND (used + $AMOUNT_Y <= ( # total - reserved) * inv.allocation_ratio) AND # inv.min_unit <= $AMOUNT_Y AND inv.max_unit >= $AMOUNT_Y AND # $AMOUNT_Y % inv.step_size == 0) # OR (inv.resource_class_id = $Z AND (used + $AMOUNT_Z <= ( # total - reserved) * inv.allocation_ratio) AND # inv.min_unit <= $AMOUNT_Z AND inv.max_unit >= $AMOUNT_Z AND # $AMOUNT_Z % inv.step_size == 0)) # GROUP BY rp.id # HAVING # COUNT(DISTINCT(inv.resource_class_id)) == len($RESOURCE_CLASSES) # # with a possible additional WHERE clause for the name and uuid that # comes from the above filters # First JOIN between inventories and RPs is here inv_join = sa.join( rp_to_parent, _INV_TBL, rp.c.id == _INV_TBL.c.resource_provider_id) # Now, below is the LEFT JOIN for getting the allocations usage usage = _usage_select(list(resources)) usage_join = sa.outerjoin( inv_join, usage, sa.and_( usage.c.resource_provider_id == ( _INV_TBL.c.resource_provider_id), usage.c.resource_class_id == _INV_TBL.c.resource_class_id)) # And finally, we verify for each resource class if the requested # amount isn't more than the left space (considering the allocation # ratio, the reserved space and the min and max amount possible sizes) where_clauses = [ sa.and_( _INV_TBL.c.resource_class_id == r_idx, _capacity_check_clause(amount, usage) ) for (r_idx, amount) in resources.items()] query = query.select_from(usage_join) query = query.where(sa.or_(*where_clauses)) query = query.group_by(rp.c.id, root_rp.c.uuid, parent_rp.c.uuid) # NOTE(sbauza): Only RPs having all the asked resources can be provided query = query.having(sql.func.count( sa.distinct(_INV_TBL.c.resource_class_id)) == len(resources))",6,74
openstack%2Fneutron~stable%2Frocky~I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0,openstack/neutron,stable/rocky,I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0,Enable ipv6_forwarding in HA router's namespace,MERGED,2019-03-15 10:17:50.000000000,2019-03-18 11:30:54.000000000,2019-03-18 11:30:54.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-15 10:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66d9097e6b99b42c1bfb1ab8beee599592375341', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nConflicts:\n    neutron/tests/functional/agent/l3/framework.py\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 2, 'created': '2019-03-15 10:20:08.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c07e6a5ea8aa4c7b741191c1649352643624ddb9', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nConflicts:\n    neutron/tests/functional/agent/l3/framework.py\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n(cherry picked from commit b119247bea89aec5604e7ac61675aed240195931)\n'}]",0,643552,c07e6a5ea8aa4c7b741191c1649352643624ddb9,12,6,2,11975,,,0,"Enable ipv6_forwarding in HA router's namespace

When HA router is created in ""stanby"" mode, ipv6 forwarding is
disabled by default in its namespace.
But when router is transitioned to be ""master"" on node, ipv6
forwarding should be enabled. This was fine for routers with
configured gateway but we somehow missed the case when router don't
have gateway configured.
Because of that missing ipv6 forwarding setting in such case, IPv6
W-E traffic between 2 subnets was not working fine in L3 HA case.

This patch fixes it by adding configuring ipv6_forwarding on
""all"" interface in router's namespace always, even if it don't have
gateway configured.

Conflicts:
    neutron/tests/functional/agent/l3/framework.py

Change-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0
CLoses-Bug: #1818224
(cherry picked from commit b119247bea89aec5604e7ac61675aed240195931)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/643552/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/ha.py']",4,66d9097e6b99b42c1bfb1ab8beee599592375341,bug/1818224," self._configure_ipv6_params(ri, state) def _configure_ipv6_params(self, ri, state): if not self.use_ipv6: return ipv6_forwarding_enable = state == 'master' if ri.router.get('distributed', False): namespace = ri.ha_namespace else: namespace = ri.ns_name if ipv6_forwarding_enable: ri.driver.configure_ipv6_forwarding( namespace, 'all', ipv6_forwarding_enable) if ex_gw_port_id: interface_name = ri.get_external_device_name(ex_gw_port_id) ri._configure_ipv6_params_on_gw( ri.ex_gw_port, namespace, interface_name, ipv6_forwarding_enable)"," self._configure_ipv6_params_on_ext_gw_port_if_necessary(ri, state) def _configure_ipv6_params_on_ext_gw_port_if_necessary(self, ri, state): if not ex_gw_port_id: return interface_name = ri.get_external_device_name(ex_gw_port_id) if ri.router.get('distributed', False): namespace = ri.ha_namespace else: namespace = ri.ns_name enable = state == 'master' ri._configure_ipv6_params_on_gw(ri.ex_gw_port, namespace, interface_name, enable)",80,35
openstack%2Fkolla-ansible~master~I0c31ad353e1fb764bc8e826cda5c3d092623f44b,openstack/kolla-ansible,master,I0c31ad353e1fb764bc8e826cda5c3d092623f44b,Use service-specific _install_type variables in wsgi scripts,MERGED,2019-03-15 15:33:28.000000000,2019-03-18 11:30:28.000000000,2019-03-18 11:30:28.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-03-15 15:33:28.000000000', 'files': ['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a103ed7c07b63855617d78d1615c9d6cb6615db8', 'message': 'Use service-specific _install_type variables in wsgi scripts\n\nChange-Id: I0c31ad353e1fb764bc8e826cda5c3d092623f44b\n'}]",0,643611,a103ed7c07b63855617d78d1615c9d6cb6615db8,12,5,1,14826,,,0,"Use service-specific _install_type variables in wsgi scripts

Change-Id: I0c31ad353e1fb764bc8e826cda5c3d092623f44b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/643611/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2']",3,a103ed7c07b63855617d78d1615c9d6cb6615db8,,{% if gnocchi_install_type == 'binary' and kolla_base_distro == 'ubuntu' %},{% if kolla_install_type == 'binary' and kolla_base_distro == 'ubuntu' %},4,4
openstack%2Fkuryr-kubernetes~master~Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df,openstack/kuryr-kubernetes,master,Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df,Switch Octavia API calls to openstacksdk,MERGED,2019-02-20 20:34:51.000000000,2019-03-18 11:25:24.000000000,2019-03-18 11:25:23.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-02-20 20:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9816aefc1527312d7116d129ab374977e4c07a9d', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 2, 'created': '2019-02-21 09:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/69237eea45b223fd3758c78747cc7ed37ffc1356', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 3, 'created': '2019-02-21 18:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dca08d1ee4ea729c2137831452867162d64b374b', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 4, 'created': '2019-02-21 18:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f1dff0d8a59c32f4744fb5bca5c04cf535e7429', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 5, 'created': '2019-03-06 18:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce52b28b4ed6178f6c68ad2609afec58ee6ecf33', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 6, 'created': '2019-03-07 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eb1e7f3df612b99f1d4628959f173405d47bd2b6', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 7, 'created': '2019-03-07 13:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/59a7bf33eb555a695bf2b670b29075abd0540a4a', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}, {'number': 8, 'created': '2019-03-07 16:38:49.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'requirements.txt', 'kuryr_kubernetes/tests/unit/test_clients.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'lower-constraints.txt', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b90ca1b9b90ff940a6d750e8b97912bbdaec69d4', 'message': ""Switch Octavia API calls to openstacksdk\n\nFor a while we were using a dirty hack to call Octavia API - i.e.  we\nwere mocking python-neutronclient to use a session pointing to Octavia\nendpoint. This was a workaround to save some effort that was needed to\nintroduce python-octaviaclient dependency.\n\nAs Kuryr is strongly tied to Kubernetes version it is serving, we should\ntry to limit its dependency on OpenStack versions. E.g. we should be\nable to cooperate with various versions of Octavia. openstacksdk is a\ntool that is designed to do exactly that, adding abstraction layer that\nhides differences between APIs and as last resort allowing doing bare\nHTTP calls, while taking care of all the Keystone stuff for us.\n\nThis commit removes the ugly workaround mentioned in first paragraph and\nswitches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.\nAlso some leftovers from LBaaS v2 removal are cleaned up, e.g. logic\nbehind not using cascade deletion or workaround for LbaaS v2 issues with\npools.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df\n""}]",1,638258,b90ca1b9b90ff940a6d750e8b97912bbdaec69d4,39,6,8,11600,,,0,"Switch Octavia API calls to openstacksdk

For a while we were using a dirty hack to call Octavia API - i.e.  we
were mocking python-neutronclient to use a session pointing to Octavia
endpoint. This was a workaround to save some effort that was needed to
introduce python-octaviaclient dependency.

As Kuryr is strongly tied to Kubernetes version it is serving, we should
try to limit its dependency on OpenStack versions. E.g. we should be
able to cooperate with various versions of Octavia. openstacksdk is a
tool that is designed to do exactly that, adding abstraction layer that
hides differences between APIs and as last resort allowing doing bare
HTTP calls, while taking care of all the Keystone stuff for us.

This commit removes the ugly workaround mentioned in first paragraph and
switches all the LBaaS v2 calls to use openstacksdk's Octavia proxy.
Also some leftovers from LBaaS v2 removal are cleaned up, e.g. logic
behind not using cascade deletion or workaround for LbaaS v2 issues with
pools.

Implements: blueprint switch-to-openstacksdk
Change-Id: Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/58/638258/7 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/clients.py', 'requirements.txt', 'kuryr_kubernetes/tests/unit/test_clients.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'lower-constraints.txt', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py']",8,9816aefc1527312d7116d129ab374977e4c07a9d,bp/kuryr-resources-tagging,," def test_on_deleted(self, m_svc_spec_ctor): endpoints = mock.sentinel.endpoints empty_spec = mock.sentinel.empty_spec lbaas_state = mock.sentinel.lbaas_state m_svc_spec_ctor.return_value = empty_spec m_handler = mock.Mock(spec=h_lbaas.LoadBalancerHandler) m_handler._get_lbaas_state.return_value = lbaas_state m_handler._drv_lbaas = mock.Mock() m_handler._drv_lbaas.cascading_capable = False h_lbaas.LoadBalancerHandler.on_deleted(m_handler, endpoints) m_handler._get_lbaas_state.assert_called_once_with(endpoints) m_handler._sync_lbaas_members.assert_called_once_with( endpoints, lbaas_state, empty_spec) @mock.patch('kuryr_kubernetes.objects.lbaas' '.LBaaSServiceSpec') m_handler._drv_lbaas.cascading_capable = True",283,406
openstack%2Fpython-tackerclient~master~I9596666d9bac8efae8ae22e027aca49a432069dc,openstack/python-tackerclient,master,I9596666d9bac8efae8ae22e027aca49a432069dc,Update hacking version,MERGED,2019-03-06 14:28:39.000000000,2019-03-18 11:22:01.000000000,2019-03-18 11:22:01.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 14:28:39.000000000', 'files': ['test-requirements.txt', 'tackerclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/ab9aa0da696118f40eef6bf13f2110ad9412aa36', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I9596666d9bac8efae8ae22e027aca49a432069dc\n'}]",0,641390,ab9aa0da696118f40eef6bf13f2110ad9412aa36,6,2,1,28614,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I9596666d9bac8efae8ae22e027aca49a432069dc
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/90/641390/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tackerclient/shell.py']",2,ab9aa0da696118f40eef6bf13f2110ad9412aa36,, if (not self.options.os_username and not self.options.os_user_id):, if (not self.options.os_username and not self.options.os_user_id):,4,3
openstack%2Fpython-tackerclient~master~I121b0d1b2c217c14c6589455c0155f975f7793a7,openstack/python-tackerclient,master,I121b0d1b2c217c14c6589455c0155f975f7793a7,add python 3.7 unit test job,MERGED,2019-02-19 09:06:05.000000000,2019-03-18 11:12:25.000000000,2019-03-18 11:12:25.000000000,"[{'_account_id': 9414}, {'_account_id': 18955}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 27181}]","[{'number': 1, 'created': '2019-02-19 09:06:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/fcd8965f6ae82cb9dac9d4a026aedc7ad6d02a90', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I121b0d1b2c217c14c6589455c0155f975f7793a7\nStory: #2004073\nTask: #27456\n'}]",0,637754,fcd8965f6ae82cb9dac9d4a026aedc7ad6d02a90,11,6,1,9414,,,0,"add python 3.7 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.7.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I121b0d1b2c217c14c6589455c0155f975f7793a7
Story: #2004073
Task: #27456
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/54/637754/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fcd8965f6ae82cb9dac9d4a026aedc7ad6d02a90,py37-job, - openstack-python37-jobs,,1,0
openstack%2Fpython-tackerclient~master~Id56494b1ea4f0904679f05506f985dfc3b08ede4,openstack/python-tackerclient,master,Id56494b1ea4f0904679f05506f985dfc3b08ede4,Update hacking version,ABANDONED,2018-12-28 15:04:47.000000000,2019-03-18 11:09:58.000000000,,"[{'_account_id': 18955}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 27181}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-12-28 15:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/5f8f4bbcd9226ee30dd021da6719f3f3e26d8452', 'message': 'Update hacking version\n\nChange-Id: Id56494b1ea4f0904679f05506f985dfc3b08ede4\n'}, {'number': 2, 'created': '2019-02-05 01:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/8c8ef871921172d464727f0fe296206891382085', 'message': 'Update hacking version\n\nChange-Id: Id56494b1ea4f0904679f05506f985dfc3b08ede4\n'}, {'number': 3, 'created': '2019-02-05 01:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a6ecf979927b1ea3ee75a4f8d9c61940e8ac2dd4', 'message': 'Update hacking version\n\nChange-Id: Id56494b1ea4f0904679f05506f985dfc3b08ede4\n'}, {'number': 4, 'created': '2019-03-01 16:51:40.000000000', 'files': ['test-requirements.txt', 'tackerclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/87dae10458e710d3b02cef9397b643d9d79e0c5c', 'message': 'Update hacking version\n\nChange-Id: Id56494b1ea4f0904679f05506f985dfc3b08ede4\n'}]",0,627708,87dae10458e710d3b02cef9397b643d9d79e0c5c,19,8,4,21691,,,0,"Update hacking version

Change-Id: Id56494b1ea4f0904679f05506f985dfc3b08ede4
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/08/627708/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5f8f4bbcd9226ee30dd021da6719f3f3e26d8452,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fpython-tackerclient~master~Ie53a3a824229486ba1cf245fb9d9b3b6833475bb,openstack/python-tackerclient,master,Ie53a3a824229486ba1cf245fb9d9b3b6833475bb,Update hacking version,ABANDONED,2019-03-18 10:58:48.000000000,2019-03-18 11:09:04.000000000,,[{'_account_id': 18955}],"[{'number': 1, 'created': '2019-03-18 10:58:48.000000000', 'files': ['test-requirements.txt', 'tackerclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/4e54f815ac76756c82209f25177d78054aa0b2a8', 'message': 'Update hacking version\n\nChange-Id: Ie53a3a824229486ba1cf245fb9d9b3b6833475bb\n'}]",0,643917,4e54f815ac76756c82209f25177d78054aa0b2a8,3,1,1,18955,,,0,"Update hacking version

Change-Id: Ie53a3a824229486ba1cf245fb9d9b3b6833475bb
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/17/643917/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tackerclient/shell.py']",2,4e54f815ac76756c82209f25177d78054aa0b2a8,, if (not self.options.os_username and not self.options.os_user_id):, if (not self.options.os_username and not self.options.os_user_id):,3,3
openstack%2Fblazar~master~I18d49fb994291d972216cd4c652b31e82c444c66,openstack/blazar,master,I18d49fb994291d972216cd4c652b31e82c444c66,Consider affinity=True in reallocation,MERGED,2018-12-26 02:53:16.000000000,2019-03-18 11:02:32.000000000,2019-03-18 11:02:32.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-12-26 02:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d42ef32f2121d8ccf1739139c67da7773dfc36ad', 'message': 'Support affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocate the reservation to\nanother host. This patch changes the heal reservations to support\naffinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 2, 'created': '2018-12-26 07:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a99449321e24cd88fdc38f62182f99634ff78807', 'message': 'Support affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocate the reservation to\nanother host. This patch changes the heal reservations to support\naffinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 3, 'created': '2018-12-28 03:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d4ec72856b956da3f23fb232ae93998414c812f6', 'message': 'Support affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocate the reservation to\nanother host. This patch changes the heal reservations to support\naffinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 4, 'created': '2018-12-29 10:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b5d68122b243a0c598d0368289bd5b2b78b2763c', 'message': 'Support affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocate the reservation to\nanother host. This patch changes the heal reservations to support\naffinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 5, 'created': '2018-12-31 06:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ef1216a3de61a75d64270549103a61c570889e22', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 6, 'created': '2019-01-23 04:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/adf37367e17de2e613bcb45b8e9d98cffaa67a78', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 7, 'created': '2019-01-31 10:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/aa90380a04ce355d4012fc73b54b8a71e0965407', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 8, 'created': '2019-02-14 02:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f93ce7f54b24bcfb65de07db44e21ed7ce60064f', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 9, 'created': '2019-02-19 06:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d29b8cff6627d542e8c374ed495e9731e131be7b', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 10, 'created': '2019-03-13 01:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a41f7c53a4b9a3ffcf6b50f6a57d43a92aa9f850', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 11, 'created': '2019-03-13 01:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0d867f50b4d2363986be80f5d7255428aa1cd463', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}, {'number': 12, 'created': '2019-03-17 08:01:24.000000000', 'files': ['blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/49f78f2ab4bea7dd9228cf1354a0a41785c3c059', 'message': ""Consider affinity=True in reallocation\n\nWhen a failed host is detected, blazar reallocates the reservation to\nanother host. But since the reallocation logic's granularity was not\nper reservation but per allocation, it reallocated the reservation to\ndifferent hosts even if the affinity rule is set to True.\n\nThis patch changes the reallocation logic's granularity from per\nallocation to per reservation and consider affinity=True cases.\n\nChange-Id: I18d49fb994291d972216cd4c652b31e82c444c66\nBlueprint: no-affinity-instance-reservation\n""}]",5,627327,49f78f2ab4bea7dd9228cf1354a0a41785c3c059,34,5,12,25625,,,0,"Consider affinity=True in reallocation

When a failed host is detected, blazar reallocates the reservation to
another host. But since the reallocation logic's granularity was not
per reservation but per allocation, it reallocated the reservation to
different hosts even if the affinity rule is set to True.

This patch changes the reallocation logic's granularity from per
allocation to per reservation and consider affinity=True cases.

Change-Id: I18d49fb994291d972216cd4c652b31e82c444c66
Blueprint: no-affinity-instance-reservation
",git fetch https://review.opendev.org/openstack/blazar refs/changes/27/627327/10 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py']",2,d42ef32f2121d8ccf1739139c67da7773dfc36ad,bp/no-affinity-instance-reservation," reservation_flags = collections.defaultdict(dict) reservations = db_utils.get_reservations_by_host_ids( host_ids, interval_begin, interval_end) if self._heal_reservation(reservation, host_ids): if reservation['status'] == status.reservation.ACTIVE: {'resources_changed': True}) else: reservation_flags[reservation['id']].update( {'missing_resources': True}) def _heal_reservation(self, reservation, host_ids): :param reservation: A reservation that has allocations to change :param host_ids: Failed host ids :return: True if all the allocations in the given reservation are successfully allocated lease = db_api.lease_get(reservation['lease_id']) ret = True allocations = [ alloc for alloc in reservation['computehost_allocations'] if alloc['compute_host_id'] in host_ids] if reservation['affinity']: new_host_id = self._select_host(reservation, lease) if new_host_id is None: for allocation in allocations: db_api.host_allocation_destroy(allocation['id']) LOG.warn('Could not find alternative host for ' 'reservation %s (lease: %s).', reservation['id'], lease['name']) ret = False else: self._pre_reallocate( reservation, allocations[0]['compute_host_id']) for allocation in allocations: db_api.host_allocation_update( allocation['id'], {'compute_host_id': new_host_id}) self._post_reallocate( reservation, lease, new_host_id, len(allocations)) else: for allocation in allocations: new_host_id = self._select_host(reservation, lease) if new_host_id is None: db_api.host_allocation_destroy(allocation['id']) LOG.warn('Could not find alternative host for ' 'reservation %s (lease: %s).', reservation['id'], lease['name']) ret = False continue self._pre_reallocate( reservation, allocation['compute_host_id']) db_api.host_allocation_update( allocation['id'], {'compute_host_id': new_host_id}) self._post_reallocate(reservation, lease, new_host_id, 1) return ret def _select_host(self, reservation, lease): values = {} values['start_date'] = max(datetime.datetime.utcnow(), lease['start_date']) values['end_date'] = lease['end_date'] specs = ['vcpus', 'memory_mb', 'disk_gb', 'affinity', 'amount', 'resource_properties'] for key in specs: values[key] = reservation[key] try: changed_hosts = self.pickup_hosts(reservation['id'], values) except mgr_exceptions.NotEnoughHostsAvailable: return None return changed_hosts['added'][0] def _pre_reallocate(self, reservation, old_host_id): pool = nova.ReservationPool() host = db_api.host_get(old_host_id) def _post_reallocate(self, reservation, lease, new_host_id, num): pool = nova.ReservationPool() if reservation['status'] == status.reservation.ACTIVE: # Add the alternative host into the aggregate. new_host = db_api.host_get(new_host_id) pool.add_computehost(reservation['aggregate_id'], new_host['service_name'], stay_in=True) self.placement_client.update_reservation_inventory( new_host['service_name'], reservation['id'], num) LOG.warn('Resource changed for reservation %s (lease: %s).', reservation['id'], lease['name'])"," reservation_flags = {} reservations = db_utils.get_reservations_by_host_ids(host_ids, interval_begin, interval_end) for allocation in [alloc for alloc in reservation['computehost_allocations'] if alloc['compute_host_id'] in host_ids]: if self._reallocate(allocation): if reservation['status'] == status.reservation.ACTIVE: if reservation['id'] not in reservation_flags: reservation_flags[reservation['id']] = {} reservation_flags[reservation['id']].update( {'resources_changed': True}) else: if reservation['id'] not in reservation_flags: reservation_flags[reservation['id']] = {} {'missing_resources': True}) def _reallocate(self, allocation): :param: allocation: allocation to change. :return: True if an alternative host was successfully allocated. reservation = db_api.reservation_get(allocation['reservation_id']) pool = nova.ReservationPool() host = db_api.host_get(allocation['compute_host_id']) # Allocate an alternative host. values = {} lease = db_api.lease_get(reservation['lease_id']) values['start_date'] = max(datetime.datetime.utcnow(), lease['start_date']) values['end_date'] = lease['end_date'] specs = ['vcpus', 'memory_mb', 'disk_gb', 'affinity', 'amount', 'resource_properties'] for key in specs: values[key] = reservation[key] changed_hosts = self.pickup_hosts(reservation['id'], values) if len(changed_hosts['added']) == 0: db_api.host_allocation_destroy(allocation['id']) LOG.warn('Could not find alternative host for reservation %s ' '(lease: %s).', reservation['id'], lease['name']) return False else: new_host_id = changed_hosts['added'].pop() db_api.host_allocation_update( allocation['id'], {'compute_host_id': new_host_id}) if reservation['status'] == status.reservation.ACTIVE: # Add the alternative host into the aggregate. new_host = db_api.host_get(new_host_id) pool.add_computehost(reservation['aggregate_id'], new_host['service_name'], stay_in=True) self.placement_client.update_reservation_inventory( new_host['service_name'], reservation['id'], 1) LOG.warn('Resource changed for reservation %s (lease: %s).', reservation['id'], lease['name']) return True",294,102
openstack%2Fopenstack-ansible~stable%2Frocky~I3b3deb70dfa77034b0a5af25d58ed1b8074dcfb8,openstack/openstack-ansible,stable/rocky,I3b3deb70dfa77034b0a5af25d58ed1b8074dcfb8,[DNM] tempest lxc debug,ABANDONED,2019-03-15 08:11:49.000000000,2019-03-18 10:59:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-15 08:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2801c35737fb9f3b16b34942a2081ff34c0a985b', 'message': '[DNM] tempest lxc debug\n\nDepends-On: https://review.openstack.org/#/c/643522/\nChange-Id: I3b3deb70dfa77034b0a5af25d58ed1b8074dcfb8\n'}, {'number': 2, 'created': '2019-03-15 10:08:43.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5d84260ee5601eedf724d222e15f566f5a16a150', 'message': '[DNM] tempest lxc debug\n\nDepends-On: https://review.openstack.org/#/c/643550/\nChange-Id: I3b3deb70dfa77034b0a5af25d58ed1b8074dcfb8\n'}]",0,643526,5d84260ee5601eedf724d222e15f566f5a16a150,5,1,2,12393,,,0,"[DNM] tempest lxc debug

Depends-On: https://review.openstack.org/#/c/643550/
Change-Id: I3b3deb70dfa77034b0a5af25d58ed1b8074dcfb8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/643526/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,2801c35737fb9f3b16b34942a2081ff34c0a985b,dnm,, ,0,2
openstack%2Fcinder~master~I77720dc8e3b3c79e60d0ea16939a80480067215e,openstack/cinder,master,I77720dc8e3b3c79e60d0ea16939a80480067215e,PowerMax Driver - Unmanage Snapshot Improvements,MERGED,2019-02-13 14:41:54.000000000,2019-03-18 10:57:15.000000000,2019-03-18 10:57:15.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26402}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-13 14:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3d8618df14b87187bc664de326dab16096aabfa', 'message': 'PowerMax Driver - Unmanage Snapshot Improvements\n\nThis change removes an expensive and unnecessary call in the\nunmanage snapshot operation.  An additional log warning has\nalso been added to notify users of the inability to delete\nvolumes where a linked snapshot has been unmanaged but still\nexistsX on the back end storage array.\n\nChange-Id: I77720dc8e3b3c79e60d0ea16939a80480067215e\n'}, {'number': 2, 'created': '2019-02-15 17:48:47.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49ba8943e5ae051c05eb7df081a0648a2ed7d136', 'message': 'PowerMax Driver - Unmanage Snapshot Improvements\n\nThis change removes an expensive and unnecessary call in the\nunmanage snapshot operation.  An additional log warning has\nalso been added to notify users of the inability to delete\nvolumes where a linked snapshot has been unmanaged but still\nexistsX on the back end storage array.\n\nChange-Id: I77720dc8e3b3c79e60d0ea16939a80480067215e\n'}]",0,636640,49ba8943e5ae051c05eb7df081a0648a2ed7d136,82,42,2,23601,,,0,"PowerMax Driver - Unmanage Snapshot Improvements

This change removes an expensive and unnecessary call in the
unmanage snapshot operation.  An additional log warning has
also been added to notify users of the inability to delete
volumes where a linked snapshot has been unmanaged but still
existsX on the back end storage array.

Change-Id: I77720dc8e3b3c79e60d0ea16939a80480067215e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/636640/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py']",2,b3d8618df14b87187bc664de326dab16096aabfa,bp/powermax-storage-assisted-inuse-retype," LOG.warning(""In order to remove the snapshot source volume from "" ""OpenStack you will need to either delete the linked "" ""SnapVX snapshot on the array or un-manage the volume "" ""from Cinder."") "," self._sync_check(array, device_id, extra_specs) ",13,4
openstack%2Fnova~master~I66677a90430d9e6699619539cb8f575f57b19433,openstack/nova,master,I66677a90430d9e6699619539cb8f575f57b19433,Pass kwargs to exception to get better format of error message,MERGED,2019-03-15 02:45:14.000000000,2019-03-18 10:57:10.000000000,2019-03-18 10:57:10.000000000,"[{'_account_id': 5754}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-15 02:45:14.000000000', 'files': ['nova/cmd/common.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/40cbea18e6afba46cdc72712b89a122a1377592b', 'message': 'Pass kwargs to exception to get better format of error message\n\nIf we do not pass kwargs to exception, the parameter will be deemed\nas message and msg_fmt is ignored, so the message will be displayed\ndirectly. This is to pass kwargs to some exceptions, to get better\nformat of error message.\n\nChange-Id: I66677a90430d9e6699619539cb8f575f57b19433\n'}]",3,643501,40cbea18e6afba46cdc72712b89a122a1377592b,13,9,1,20190,,,0,"Pass kwargs to exception to get better format of error message

If we do not pass kwargs to exception, the parameter will be deemed
as message and msg_fmt is ignored, so the message will be displayed
directly. This is to pass kwargs to some exceptions, to get better
format of error message.

Change-Id: I66677a90430d9e6699619539cb8f575f57b19433
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/643501/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/common.py', 'nova/db/sqlalchemy/api.py']",2,40cbea18e6afba46cdc72712b89a122a1377592b,exception, raise exception.InvalidUUID(uuid=instance_uuid) raise exception.InvalidUUID(uuid=instance_uuid), raise exception.InvalidUUID(instance_uuid) raise exception.InvalidUUID(instance_uuid),3,3
openstack%2Fkolla-ansible~master~I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786,openstack/kolla-ansible,master,I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786,Add cinder-lvm CI job,MERGED,2019-01-21 10:42:29.000000000,2019-03-18 10:54:05.000000000,2019-03-18 10:54:05.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-01-21 10:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eaa179b6492bef388243fafffc7cea9580da3e5b', 'message': 'WIP: Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}, {'number': 2, 'created': '2019-01-21 11:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9a10f3cbc578069dc40a57023e49a9a3c9686d9', 'message': 'WIP: Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}, {'number': 3, 'created': '2019-01-21 13:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7b50c9180157153a9428e604b3b6a1d645d9f7d', 'message': 'WIP: Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}, {'number': 4, 'created': '2019-01-21 15:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3f79572cc08bdf384b686a4a4fef69ca6474f99', 'message': 'WIP: Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}, {'number': 5, 'created': '2019-01-22 13:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51dab0534f3a6ef23673094395b7b13755656234', 'message': 'Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}, {'number': 6, 'created': '2019-01-22 14:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10123b85a288ff7379512a8ce685437b787516f2', 'message': 'Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}, {'number': 7, 'created': '2019-03-01 14:38:03.000000000', 'files': ['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tests/setup_disks.sh', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c41c9a0ce07223ccaaf51289e658f4f4895e1132', 'message': 'Add cinder-lvm CI job\n\nTests Cinder with an LVM/iSCSI backend, including attaching a volume to\nan instance.\n\nChange-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786\n'}]",0,632063,c41c9a0ce07223ccaaf51289e658f4f4895e1132,19,4,7,14826,,,0,"Add cinder-lvm CI job

Tests Cinder with an LVM/iSCSI backend, including attaching a volume to
an instance.

Change-Id: I6963b5e81d7ac88dd1bdfb94b62d9d63028b9786
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/632063/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tests/setup_disks.sh', 'zuul.d/jobs.yaml']",6,eaa179b6492bef388243fafffc7cea9580da3e5b,, name: kolla-ansible-ubuntu-source-cinder-lvm parent: kolla-ansible-base nodeset: kolla-ansible-xenial-multi voting: false vars: base_distro: ubuntu install_type: source scenario: cinder-lvm - job: name: kolla-ansible-centos-source-cinder-lvm parent: kolla-ansible-base nodeset: kolla-ansible-centos-multi voting: false vars: base_distro: centos install_type: source scenario: cinder-lvm - job:,,40,8
openstack%2Fneutron~master~Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4,openstack/neutron,master,Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4,Better handle ports in security groups,MERGED,2019-03-08 20:34:22.000000000,2019-03-18 10:40:07.000000000,2019-03-18 10:40:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-08 20:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c882afac686a84f53347c204e10e4fa8a8abd8df', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 2, 'created': '2019-03-11 18:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/051422f8cba193405a4768a9808c9e290165e23f', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 3, 'created': '2019-03-11 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e08c22fee4f215dd3b89c251ce66f01132c6bb15', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 4, 'created': '2019-03-11 22:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37b425c5511a8c6187f46d84a6a645280ced72ef', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 5, 'created': '2019-03-12 00:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acfa054b168f30a512a279057e1bb6ed6f2b97a4', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 6, 'created': '2019-03-12 21:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c82ce4d264fbf56b40d9cdd07e6de948d010e15', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 7, 'created': '2019-03-13 16:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07b7b88c08e5e37a936646ee87a947dea59c3be7', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 8, 'created': '2019-03-13 17:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f49a203383311c97d1e2d8de7eac9c17c0cd4516', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 9, 'created': '2019-03-14 14:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d08721fda26406b8351b99501e788b783134463', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}, {'number': 10, 'created': '2019-03-15 17:57:34.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/common/constants.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'releasenotes/notes/stricter-security-group-port-check-in-api-d1fd84d9663e04ab.yaml', 'neutron/agent/linux/iptables_firewall.py', 'neutron/extensions/securitygroup.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4350ed3c3556388eaa7f8623ed05b5adc86e9c16', 'message': ""Better handle ports in security groups\n\nAfter taking a closer look at bug 1818385, I found a couple\nof follow-on things to fix in the security group code.\n\nFirst, there are very few protocols that accept ports,\nespecially via iptables.  For this reason I think it's\nacceptable that the API rejects them as invalid.\n\nSecond, UDPlite has some interesting support in iptables.  It\ndoes not support using --dport directly, but does using\n'-m multiport --dports 123', and also supports port ranges using\n'-m multiport --dports 123:124'.  Added code for this special\ncase.\n\nChange-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4\nCloses-Bug: #1818385\n""}]",8,642145,4350ed3c3556388eaa7f8623ed05b5adc86e9c16,69,12,10,1131,,,0,"Better handle ports in security groups

After taking a closer look at bug 1818385, I found a couple
of follow-on things to fix in the security group code.

First, there are very few protocols that accept ports,
especially via iptables.  For this reason I think it's
acceptable that the API rejects them as invalid.

Second, UDPlite has some interesting support in iptables.  It
does not support using --dport directly, but does using
'-m multiport --dports 123', and also supports port ranges using
'-m multiport --dports 123:124'.  Added code for this special
case.

Change-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4
Closes-Bug: #1818385
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/642145/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/extensions/securitygroup.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",5,c882afac686a84f53347c204e10e4fa8a8abd8df,bug/1818385," def test_filter_ipv4_ingress_udplite_port(self): rule = {'ethertype': 'IPv4', 'direction': 'ingress', 'protocol': 'udplite', 'port_range_min': 10, 'port_range_max': 10} ingress = mock.call.add_rule( 'ifake_dev', '-p udplite -m multiport --dports 10 -j RETURN', top=False, comment=None) egress = None self._test_prepare_port_filter(rule, ingress, egress) def test_filter_ipv4_ingress_udplite_mport(self): rule = {'ethertype': 'IPv4', 'direction': 'ingress', 'protocol': 'udplite', 'port_range_min': 10, 'port_range_max': 100} ingress = mock.call.add_rule( 'ifake_dev', '-p udplite -m multiport --dports 10:100 -j RETURN', top=False, comment=None) egress = None self._test_prepare_port_filter(rule, ingress, egress) ",,58,12
openstack%2Fproject-team-guide~master~I44d4c73234138457d414856fef9184eab81d6d91,openstack/project-team-guide,master,I44d4c73234138457d414856fef9184eab81d6d91,[Documentation] Fix links releases.,ABANDONED,2019-01-21 16:04:28.000000000,2019-03-18 10:15:20.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-01-21 16:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/b59a7ca8faa58760ee1b013672b62c68fbfdb333', 'message': '[Documentation] Fix links releases.\n\nFix the links with release example. Liberty and Kilo is not anymore\nmaintained by the community.\n\nChange-Id: I44d4c73234138457d414856fef9184eab81d6d91\n'}, {'number': 2, 'created': '2019-01-22 09:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/cac02580a6011c80bb91f1cbefe421c591e4fae2', 'message': '[Documentation] Fix links releases.\n\nFix the links with release example. Liberty and Kilo is not anymore\nmaintained by the community.\n\nChange-Id: I44d4c73234138457d414856fef9184eab81d6d91\n'}, {'number': 3, 'created': '2019-02-13 13:55:56.000000000', 'files': ['doc/source/stable-branches.rst', 'doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/af1e94fba52b568df89ed0ba69dfc1fc663935a9', 'message': '[Documentation] Fix links releases.\n\nFix the links with release example. Liberty and Kilo is not anymore\nmaintained by the community.\n\nChange-Id: I44d4c73234138457d414856fef9184eab81d6d91\n'}]",2,632121,af1e94fba52b568df89ed0ba69dfc1fc663935a9,19,4,3,29222,,,0,"[Documentation] Fix links releases.

Fix the links with release example. Liberty and Kilo is not anymore
maintained by the community.

Change-Id: I44d4c73234138457d414856fef9184eab81d6d91
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/21/632121/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/stable-branches.rst'],1,b59a7ca8faa58760ee1b013672b62c68fbfdb333,fix_links_release,will bring it to the attention of the maintainers e.g. `Nova Queens nominations`_`Nova Rocky potential`_.. _Nova Kilo nominations: https://bugs.launchpad.net/nova/queens/+nominations .. _Nova Liberty potential: https://bugs.launchpad.net/nova/+bugs?field.tag=rocky-backport-potential,will bring it to the attention of the maintainers e.g. `Nova Kilo nominations`_`Nova Liberty potential`_.. _Nova Kilo nominations: https://bugs.launchpad.net/nova/kilo/+nominations .. _Nova Liberty potential: https://bugs.launchpad.net/nova/+bugs?field.tag=liberty-backport-potential,4,4
openstack%2Frpm-packaging~master~I538ad7962520d8f6b635f476d563b34b8c668c13,openstack/rpm-packaging,master,I538ad7962520d8f6b635f476d563b34b8c668c13,Update python-masakariclient to 5.4.0,MERGED,2019-03-12 08:23:21.000000000,2019-03-18 10:05:15.000000000,2019-03-18 10:05:15.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 08:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4459d7625d3573bdcbdc4441aaf2257b185ff77c', 'message': 'Update python-masakariclient to 5.4.0\n\nDepends-on:Iec1f6cec46a386712026a7ae29340509a682656a\nChange-Id: I538ad7962520d8f6b635f476d563b34b8c668c13\n'}, {'number': 2, 'created': '2019-03-15 07:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f92aa13df933ea257645a9b4c5e36b718d2822f6', 'message': 'Update python-masakariclient to 5.4.0\n\nDepends-on:Iec1f6cec46a386712026a7ae29340509a682656a\nChange-Id: I538ad7962520d8f6b635f476d563b34b8c668c13\n'}, {'number': 3, 'created': '2019-03-15 07:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0063b4f100edce7dcdb150c7eb3f8b5cdc460b93', 'message': 'Update python-masakariclient to 5.4.0\n\nDepends-on:Iec1f6cec46a386712026a7ae29340509a682656a\nChange-Id: I538ad7962520d8f6b635f476d563b34b8c668c13\n'}, {'number': 4, 'created': '2019-03-18 01:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/385050756931b82b00fc22184807c7334f42c0b4', 'message': 'Update python-masakariclient to 5.4.0\n\nDepends-on:Iec1f6cec46a386712026a7ae29340509a682656a\nChange-Id: I538ad7962520d8f6b635f476d563b34b8c668c13\n'}, {'number': 5, 'created': '2019-03-18 09:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/86f57eb53a23233e6c52ef7b2c299d93f227eedf', 'message': 'Update python-masakariclient to 5.4.0\n\nDepends-on:Iec1f6cec46a386712026a7ae29340509a682656a\nChange-Id: I538ad7962520d8f6b635f476d563b34b8c668c13\n'}, {'number': 6, 'created': '2019-03-18 09:40:49.000000000', 'files': ['openstack/python-masakariclient/python-masakariclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fac4fb0f803a6be0c35ecf161d6a2610f0be3389', 'message': 'Update python-masakariclient to 5.4.0\n\nDepends-on:Iec1f6cec46a386712026a7ae29340509a682656a\nChange-Id: I538ad7962520d8f6b635f476d563b34b8c668c13\n'}]",0,642687,fac4fb0f803a6be0c35ecf161d6a2610f0be3389,29,5,6,26571,,,0,"Update python-masakariclient to 5.4.0

Depends-on:Iec1f6cec46a386712026a7ae29340509a682656a
Change-Id: I538ad7962520d8f6b635f476d563b34b8c668c13
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/642687/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-masakariclient/python-masakariclient.spec.j2'],1,4459d7625d3573bdcbdc4441aaf2257b185ff77c,,Version: 5.4.0,Version: 5.3.0,1,1
openstack%2Fpython-ironicclient~master~I55abc999f6f397b171d05fd9e9b39d833ca95e55,openstack/python-ironicclient,master,I55abc999f6f397b171d05fd9e9b39d833ca95e55,Run jobs under python2 and python3,MERGED,2019-03-11 14:38:07.000000000,2019-03-18 10:01:40.000000000,2019-03-18 10:01:40.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-03-11 14:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e98d05f40f2866c2ef156f08718cb6480b7344fb', 'message': 'Switch functional tests to python3\n\nRun the functional tests under python3\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 2, 'created': '2019-03-11 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b28532bcb7f119f170f600fb211d575d2ad8f8c4', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 3, 'created': '2019-03-11 15:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a2032f49923977f6b15c779544b02d2491605d13', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 4, 'created': '2019-03-11 15:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8a740ec597ccacdf963677825c45150a1c1db0d7', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 5, 'created': '2019-03-11 15:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d5f47468e96ae188806b21bfcfa2a1c512a28742', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 6, 'created': '2019-03-12 10:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c7b3406af3cbe70ec462d4d76e75fd2e6e3daede', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n-Create tox env to run functional tests under python3\n-Validate if `USE_PYTHON3` is set to `True` to call\nthe correct env for tests\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 7, 'created': '2019-03-12 10:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1a91e2e23ca22849779ec430d945816d6014c261', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n-Create tox env to run functional tests under python3\n-Validate if `USE_PYTHON3` is set to `True` to call\nthe correct env for tests\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 8, 'created': '2019-03-12 11:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f751b32ea662907115737be09f5b0987404d7e80', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n-Create tox env to run functional tests under python3\n-Validate if `USE_PYTHON3` is set to `True` to call\nthe correct env for tests\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 9, 'created': '2019-03-12 12:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9e38ed91be19c664f79eada47cb5855bf7bb9873', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n-Create tox env to run functional tests under python3\n-Validate if `USE_PYTHON3` is set to `True` to call\nthe correct env for tests\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 10, 'created': '2019-03-13 10:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/60aef6b3dbe39da7774adb55d769ccbae5659912', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n-Create tox env to run functional tests under python3\n-Validate if `USE_PYTHON3` is set to `True` to call\nthe correct env for tests\n-Remove hardcoded path for client when running functional tests\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}, {'number': 11, 'created': '2019-03-15 16:43:58.000000000', 'files': ['ironicclient/tests/functional/test_chassis.py', 'zuul.d/ironicclient-jobs.yaml', 'playbooks/functional/run.yaml', 'zuul.d/project.yaml', 'ironicclient/tests/functional/base.py', 'tox.ini', 'ironicclient/tests/functional/osc/v1/test_baremetal_node_negative.py', 'ironicclient/tests/functional/osc/v1/test_baremetal_allocation.py', 'ironicclient/tests/functional/osc/v1/test_baremetal_deploy_template_basic.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9b881cb973bc2219df90c2b71e2a1d0e18dcd98a', 'message': 'Run jobs under python2 and python3\n\n-Switch functional job to run under python3\n-Create a functional job to run under python2\n-Create a tempest job to run under python2\n-Create tox env to run functional tests under python3\n-Validate if `USE_PYTHON3` is set to `True` to call\nthe correct env for tests\n-Remove hardcoded path for client when running functional tests\n- Update tests failures to work for python2 and python3\n\nChange-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55\n'}]",5,642474,9b881cb973bc2219df90c2b71e2a1d0e18dcd98a,28,4,11,15519,,,0,"Run jobs under python2 and python3

-Switch functional job to run under python3
-Create a functional job to run under python2
-Create a tempest job to run under python2
-Create tox env to run functional tests under python3
-Validate if `USE_PYTHON3` is set to `True` to call
the correct env for tests
-Remove hardcoded path for client when running functional tests
- Update tests failures to work for python2 and python3

Change-Id: I55abc999f6f397b171d05fd9e9b39d833ca95e55
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/74/642474/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironicclient-jobs.yaml'],1,e98d05f40f2866c2ef156f08718cb6480b7344fb,python3, USE_PYTHON3: True, USE_PYTHON3: False,1,1
openstack%2Fcharms.ceph~master~I2ea119f5a1b2a36ccd36df4db094f208a1db100e,openstack/charms.ceph,master,I2ea119f5a1b2a36ccd36df4db094f208a1db100e,Update bluestore checks to match what we use in ceph-osd hooks,MERGED,2019-03-15 13:02:45.000000000,2019-03-18 10:00:06.000000000,2019-03-18 10:00:05.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 13:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/9f31ebb047f1047f61b6414e0609fb4d45549e6c', 'message': 'Update bluestore checks to match what we use in ceph-osd hooks\n\nChange-Id: I2ea119f5a1b2a36ccd36df4db094f208a1db100e\n'}, {'number': 2, 'created': '2019-03-15 13:04:13.000000000', 'files': ['ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/98183011bba073d6665780083ca54413d82d8dcf', 'message': 'Update bluestore checks to match what we use in ceph-osd hooks\n\nChange-Id: I2ea119f5a1b2a36ccd36df4db094f208a1db100e\nCloses-Bug: #1820271\n'}]",0,643575,98183011bba073d6665780083ca54413d82d8dcf,7,2,2,20634,,,0,"Update bluestore checks to match what we use in ceph-osd hooks

Change-Id: I2ea119f5a1b2a36ccd36df4db094f208a1db100e
Closes-Bug: #1820271
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/75/643575/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/utils.py'],1,9f31ebb047f1047f61b6414e0609fb4d45549e6c,bug/1820271," if cmp_pkgrevno('ceph', '12.2.0') >= 0 and bluestore: elif cmp_pkgrevno('ceph', '12.2.0') >= 0 and not bluestore:"," if cmp_pkgrevno('ceph', '10.2.0') >= 0 and bluestore: elif cmp_pkgrevno('ceph', '12.1.0') >= 0 and not bluestore:",2,2
openstack%2Fmonasca-agent~master~I5b7e6858f7b8c0bd2082fbb4ff6020476cc29eac,openstack/monasca-agent,master,I5b7e6858f7b8c0bd2082fbb4ff6020476cc29eac,Execute get I/O counters with sudo,ABANDONED,2018-10-23 08:20:56.000000000,2019-03-18 09:58:40.000000000,,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-10-23 08:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/95202c796de04c9e5be4cae36018183713024483', 'message': 'Execute get I/O counters with sudo\n\nChange-Id: I5b7e6858f7b8c0bd2082fbb4ff6020476cc29eac\n'}, {'number': 2, 'created': '2018-10-23 11:58:24.000000000', 'files': ['monasca_agent/collector/checks_d/process.py', 'docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a37ae2b279b7d2a4eb40f5d580489950cd3686ef', 'message': 'Execute get I/O counters with sudo\n\nChange-Id: I5b7e6858f7b8c0bd2082fbb4ff6020476cc29eac\nStory: 2004154\nTask: 27626\n'}]",0,612628,a37ae2b279b7d2a4eb40f5d580489950cd3686ef,7,5,2,16171,,,0,"Execute get I/O counters with sudo

Change-Id: I5b7e6858f7b8c0bd2082fbb4ff6020476cc29eac
Story: 2004154
Task: 27626
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/28/612628/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/process.py', 'docs/Plugins.md']",2,95202c796de04c9e5be4cae36018183713024483,," Sudo execution: The I/O counter metrics require either running the process check as the same user as the monitored process or privileged access to be retrieved. The mon-agent user doesnt have full access to all files in `/proc`, which is where the Agent looks to collect data for this metric. Users can enable the `use_sudo` option in the process check configuration and add the appropriate sudoers rules: ``` mon-agent ALL=NOPASSWD: /opt/monasca-agent/bin/python /opt/stack/monasca-agent/monasca_agent/collector/checks_d/process.py * ``` Sample configuration: ```yaml init_config: use_sudo: true instances: - name: monasca-collector detailed: true dimensions: service: monasca-collector exact_match: false search_string: - monasca-collector ``` ",,81,14
openstack%2Fblazar~master~I033dd814d384131de8e7494d22cd42f1ea67112b,openstack/blazar,master,I033dd814d384131de8e7494d22cd42f1ea67112b,Do not execute event of transitional lease,MERGED,2019-03-17 05:06:46.000000000,2019-03-18 09:41:05.000000000,2019-03-18 09:41:05.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-17 05:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6f8690182e0f217034f65ea94a69801f1d63e9de', 'message': 'Do not execute event of transitional lease\n\nIf the continuous execution of an event is called just after the lease\ncreation is called, it can fail with the invalid lease status\ntransition error from CREATING to STARTING.\n\nThis patch adds a check before the event execution whether the lease\nstatus of the event is not transitional but stable and pend the\nexecution to the next time if it is transitional.\n\nChange-Id: I033dd814d384131de8e7494d22cd42f1ea67112b\nCloses-Bug: #1820476\n'}, {'number': 2, 'created': '2019-03-17 06:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ef73e2416fa36d18263584c689602d2c36296302', 'message': 'Do not execute event of transitional lease\n\nIf the continuous execution of an event is called just after the lease\ncreation is called, it can fail with the invalid lease status\ntransition error from CREATING to STARTING.\n\nThis patch adds a check before the event execution whether the lease\nstatus of the event is not transitional but stable and pend the\nexecution to the next time if it is transitional.\n\nChange-Id: I033dd814d384131de8e7494d22cd42f1ea67112b\nCloses-Bug: #1820476\n'}, {'number': 3, 'created': '2019-03-18 04:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/00ef0877b56ef34fc3d79b0a51be0ca43718e1ea', 'message': 'Do not execute event of transitional lease\n\nIf the continuous execution of an event is called just after the lease\ncreation is called, it can fail with the invalid lease status\ntransition error from CREATING to STARTING.\n\nThis patch adds a check before the event execution whether the lease\nstatus of the event is not transitional but stable and pend the\nexecution to the next time if it is transitional.\n\nChange-Id: I033dd814d384131de8e7494d22cd42f1ea67112b\nCloses-Bug: #1820476\n'}, {'number': 4, 'created': '2019-03-18 05:26:20.000000000', 'files': ['blazar/manager/service.py', 'blazar/status.py', 'blazar/tests/manager/test_service.py', 'blazar/tests/test_status.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/bf574929266e1f6b367f4943007a3d496a394a03', 'message': 'Do not execute event of transitional lease\n\nIf the continuous execution of an event is called just after the lease\ncreation is called, it can fail with the invalid lease status\ntransition error from CREATING to STARTING.\n\nThis patch adds a check before the event execution whether the lease\nstatus of the event is not transitional but stable and pend the\nexecution to the next time if it is transitional.\n\nChange-Id: I033dd814d384131de8e7494d22cd42f1ea67112b\nCloses-Bug: #1820476\n'}]",0,643728,bf574929266e1f6b367f4943007a3d496a394a03,14,3,4,25625,,,0,"Do not execute event of transitional lease

If the continuous execution of an event is called just after the lease
creation is called, it can fail with the invalid lease status
transition error from CREATING to STARTING.

This patch adds a check before the event execution whether the lease
status of the event is not transitional but stable and pend the
execution to the next time if it is transitional.

Change-Id: I033dd814d384131de8e7494d22cd42f1ea67112b
Closes-Bug: #1820476
",git fetch https://review.opendev.org/openstack/blazar refs/changes/28/643728/3 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'blazar/status.py', 'blazar/tests/manager/test_service.py', 'blazar/tests/test_status.py']",4,6f8690182e0f217034f65ea94a69801f1d63e9de,bug/1820476," def test_is_stable(self): lease_id = self.lease_id lease_pending = {'id': lease_id, 'status': status.LeaseStatus.PENDING} lease_creating = {'id': lease_id, 'status': status.LeaseStatus.CREATING} self.patch(self.db_api, 'lease_get').return_value = lease_pending result = self.status.LeaseStatus.is_stable(lease_id) self.assertTrue(result) self.patch(self.db_api, 'lease_get').return_value = lease_creating result = self.status.LeaseStatus.is_stable(lease_id) self.assertFalse(result) ",,56,3
openstack%2Fheat~master~I1852739e818ec67ac5a821e436e243eaa72f0938,openstack/heat,master,I1852739e818ec67ac5a821e436e243eaa72f0938,Deprecate `personality` for `OS::Nova::Server`,MERGED,2019-03-12 09:01:24.000000000,2019-03-18 09:23:50.000000000,2019-03-18 09:23:50.000000000,"[{'_account_id': 4257}, {'_account_id': 7404}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 17499}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-12 09:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0fe3161088f30423205b9ba842ae8c936d261c1b', 'message': 'Deprecate `personality` for `OS::Nova::Server`\n\nThis patch deprecate personality property for `OS::Nova::Server`.\nSince that property is deprecated by nova since version 2.57,\nwe should plan to Hidden that property soon.\nplease use ``user_data`` or ``metadata`` instead. If that\nproperty really required, use config ``max_nova_api_microversion``\nto set the maximum nova API microversion <2.57 for nova client\nplugin to support personality property.\n\nAdd config option ``max_nova_api_microversion`` to set the maximum\nnova API microversion for nova client plugin.\n\nChange-Id: I1852739e818ec67ac5a821e436e243eaa72f0938\n'}, {'number': 2, 'created': '2019-03-12 09:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/90a639056a8ccc63e5dba97a58cf614ee718fda4', 'message': 'Deprecate `personality` for `OS::Nova::Server`\n\nThis patch deprecate personality property for `OS::Nova::Server`.\nSince that property is deprecated by nova since version 2.57,\nwe should plan to Hidden that property soon.\nplease use ``user_data`` or ``metadata`` instead. If that\nproperty really required, use config ``max_nova_api_microversion``\nto set the maximum nova API microversion <2.57 for nova client\nplugin to support personality property.\n\nAdd config option ``max_nova_api_microversion`` to set the maximum\nnova API microversion for nova client plugin.\n\nStory: #2004188\nTask: #29979\n\nChange-Id: I1852739e818ec67ac5a821e436e243eaa72f0938\n'}, {'number': 3, 'created': '2019-03-12 09:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8e59965f43e4effa81a9a73549d4a746bbe8d13b', 'message': 'Deprecate `personality` for `OS::Nova::Server`\n\nThis patch deprecate personality property for `OS::Nova::Server`.\nSince that property is deprecated by nova since version 2.57,\nwe should plan to Hidden that property soon.\nplease use ``user_data`` or ``metadata`` instead. If that\nproperty really required, use config ``max_nova_api_microversion``\nto set the maximum nova API microversion <2.57 for nova client\nplugin to support personality property.\n\nAdd config option ``max_nova_api_microversion`` to set the maximum\nnova API microversion for nova client plugin.\n\nStory: #2004188\nTask: #29979\n\nChange-Id: I1852739e818ec67ac5a821e436e243eaa72f0938\n'}, {'number': 4, 'created': '2019-03-13 04:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e969b9adbf08e565554229898085671ab22aed53', 'message': 'Deprecate `personality` for `OS::Nova::Server`\n\nThis patch deprecate personality property for `OS::Nova::Server`.\nSince that property is deprecated by nova since version 2.57,\nwe should plan to Hidden that property soon.\nplease use ``user_data`` or ``metadata`` instead. If that\nproperty really required, use config ``max_nova_api_microversion``\nto set the maximum nova API microversion <2.57 for nova client\nplugin to support personality property.\n\nAdd config option ``max_nova_api_microversion`` to set the maximum\nnova API microversion for nova client plugin.\n\nStory: #2004188\nTask: #29979\n\nChange-Id: I1852739e818ec67ac5a821e436e243eaa72f0938\n'}, {'number': 5, 'created': '2019-03-13 06:52:37.000000000', 'files': ['releasenotes/notes/deprecate_personality_property-6bcda7c7c0e07151.yaml', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/clients/os/nova.py', 'heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/680d7a0ecf40e6414f8b2ea143074d90d203d242', 'message': 'Deprecate `personality` for `OS::Nova::Server`\n\nThis patch deprecate personality property for `OS::Nova::Server`.\nSince that property is deprecated by nova since version 2.57,\nwe should plan to Hidden that property soon.\nplease use ``user_data`` or ``metadata`` instead. If that\nproperty really required, use config ``max_nova_api_microversion``\nto set the maximum nova API microversion <2.57 for nova client\nplugin to support personality property.\n\nAdd config option ``max_nova_api_microversion`` to set the maximum\nnova API microversion for nova client plugin.\n\nStory: #2004188\nTask: #29979\n\nChange-Id: I1852739e818ec67ac5a821e436e243eaa72f0938\n'}]",1,642696,680d7a0ecf40e6414f8b2ea143074d90d203d242,19,10,5,12404,,,0,"Deprecate `personality` for `OS::Nova::Server`

This patch deprecate personality property for `OS::Nova::Server`.
Since that property is deprecated by nova since version 2.57,
we should plan to Hidden that property soon.
please use ``user_data`` or ``metadata`` instead. If that
property really required, use config ``max_nova_api_microversion``
to set the maximum nova API microversion <2.57 for nova client
plugin to support personality property.

Add config option ``max_nova_api_microversion`` to set the maximum
nova API microversion for nova client plugin.

Story: #2004188
Task: #29979

Change-Id: I1852739e818ec67ac5a821e436e243eaa72f0938
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/642696/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_personality_property-6bcda7c7c0e07151.yaml', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/clients/os/nova.py', 'heat/common/config.py']",4,0fe3161088f30423205b9ba842ae8c936d261c1b,story/2004188," cfg.FloatOpt('max_nova_api_microversion', help=_('Maximum nova API version for client.')),",,26,1
openstack%2Fkuryr-kubernetes~master~Icdab52a6229b2209f58e26e4d885f551883727b5,openstack/kuryr-kubernetes,master,Icdab52a6229b2209f58e26e4d885f551883727b5,Add option to deploy coredns,MERGED,2019-03-08 16:42:48.000000000,2019-03-18 09:12:47.000000000,2019-03-18 09:12:47.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-03-08 16:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d5fb19fe8d544922366b867c3df8ad696455d93c', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 2, 'created': '2019-03-11 10:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/275f92a2837255d007e3d1122fbc1fbf0d42f116', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 3, 'created': '2019-03-11 13:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c15619d0a1e010b65b2ee6e8b3067173634f7331', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 4, 'created': '2019-03-13 17:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fc6514f862bd957b16959c433eef69c80b2a5178', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 5, 'created': '2019-03-13 18:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec0ae9642b960c0f79c6812d8d7b286fe82c4926', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 6, 'created': '2019-03-13 19:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ffc7a45c8347d9d86d6ec7718a251f56d95c984f', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 7, 'created': '2019-03-13 19:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e313663522cb92774564f5f2f1fcd6d46fe6f40f', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThe tricky part here is that on gate VM's an instance of unbound DNS is\nrunning on 127.0.0.1:53. As in DevStack-deployed Kuryr pods doesn't\nsupport IPv6, we couldn't just take IPv6 addresses of upstream DNS from\nunbound configuration and use them in coredns pods. Instead the coredns\ninstance is running on host networking and binds to $HOST_IP:53, which\nis also used as value of kubelet's --cluster-dns option, while\nforwarding any upstream DNS requests to the local unbound instance. This\nisn't perfectly how it would be set up in production environment, but\nshould be close enough for our purposes.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 8, 'created': '2019-03-14 11:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/191759cca2e676123bf75cefa836da3feb24e788', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThe tricky part here is that on gate VM's an instance of unbound DNS is\nrunning on 127.0.0.1:53. As in DevStack-deployed Kuryr pods doesn't\nsupport IPv6, we couldn't just take IPv6 addresses of upstream DNS from\nunbound configuration and use them in coredns pods. Instead the coredns\ninstance is running on host networking and binds to $HOST_IP:53, which\nis also used as value of kubelet's --cluster-dns option, while\nforwarding any upstream DNS requests to the local unbound instance. This\nisn't perfectly how it would be set up in production environment, but\nshould be close enough for our purposes.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view. coredns gets enabled only on gates running Kubernetes as\nOpenShift gates run openshift-dns already.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}, {'number': 9, 'created': '2019-03-15 10:01:25.000000000', 'files': ['.zuul.d/base.yaml', 'devstack/plugin.sh', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4b332cf3af0122af5e5cedb78fd7b618e62ca661', 'message': ""Add option to deploy coredns\n\nAs a step to improve testing capabilities of our gates, this commit\nenhances DevStack with support for deploying coredns in our K8s cluster.\nThe idea here is to be able to run any tests that are referring to\nservices by <namespace>.<service-name>, in particular upstream K8s\ntests.\n\nThe tricky part here is that on gate VM's an instance of unbound DNS is\nrunning on 127.0.0.1:53. As in DevStack-deployed Kuryr pods doesn't\nsupport IPv6, we couldn't just take IPv6 addresses of upstream DNS from\nunbound configuration and use them in coredns pods. Instead the coredns\ninstance is running on host networking and binds to $HOST_IP:53, which\nis also used as value of kubelet's --cluster-dns option, while\nforwarding any upstream DNS requests to the local unbound instance. This\nisn't perfectly how it would be set up in production environment, but\nshould be close enough for our purposes.\n\nThis change only affects DevStack, so it's completely safe from release\npoint of view. coredns gets enabled only on gates running Kubernetes as\nOpenShift gates run openshift-dns already.\n\nChange-Id: Icdab52a6229b2209f58e26e4d885f551883727b5\nPartial-Implements: blueprint k8s-upstream-tests\n""}]",0,642072,4b332cf3af0122af5e5cedb78fd7b618e62ca661,36,7,9,11600,,,0,"Add option to deploy coredns

As a step to improve testing capabilities of our gates, this commit
enhances DevStack with support for deploying coredns in our K8s cluster.
The idea here is to be able to run any tests that are referring to
services by <namespace>.<service-name>, in particular upstream K8s
tests.

The tricky part here is that on gate VM's an instance of unbound DNS is
running on 127.0.0.1:53. As in DevStack-deployed Kuryr pods doesn't
support IPv6, we couldn't just take IPv6 addresses of upstream DNS from
unbound configuration and use them in coredns pods. Instead the coredns
instance is running on host networking and binds to $HOST_IP:53, which
is also used as value of kubelet's --cluster-dns option, while
forwarding any upstream DNS requests to the local unbound instance. This
isn't perfectly how it would be set up in production environment, but
should be close enough for our purposes.

This change only affects DevStack, so it's completely safe from release
point of view. coredns gets enabled only on gates running Kubernetes as
OpenShift gates run openshift-dns already.

Change-Id: Icdab52a6229b2209f58e26e4d885f551883727b5
Partial-Implements: blueprint k8s-upstream-tests
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/72/642072/8 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/base.yaml', 'devstack/plugin.sh', '.zuul.d/octavia.yaml', 'devstack/lib/kuryr_kubernetes']",4,d5fb19fe8d544922366b867c3df8ad696455d93c,run-k8s-e2e," router_ip=$(_cidr_range ""$subnet_cidr"" | cut -f3)"," router_ip=$(_cidr_range ""$subnet_cidr"" | cut -f2)",142,2
openstack%2Frpm-packaging~master~Idce5444b63898e808d20d5d5198f7626e06f78b9,openstack/rpm-packaging,master,Idce5444b63898e808d20d5d5198f7626e06f78b9,Update python-mistralclient to 3.8.0,MERGED,2019-03-12 08:14:13.000000000,2019-03-18 09:10:23.000000000,2019-03-18 09:10:23.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26571}]","[{'number': 1, 'created': '2019-03-12 08:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b9381538c18fe6f7427aaa36e38e859fb5d69c5c', 'message': 'Update python-mistralclient to 3.8.0\n\nDepends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46\nChange-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9\n'}, {'number': 2, 'created': '2019-03-13 14:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/657cad7d8cb7b49a82b8dca6303d3efe654b544e', 'message': 'Update python-mistralclient to 3.8.0\n\nDepends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46\nChange-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9\n'}, {'number': 3, 'created': '2019-03-13 15:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b25c1416ad8fa0b2e7ec1b29421f53511cfa3b1f', 'message': 'Update python-mistralclient to 3.8.0\n\nDepends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46\nChange-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9\n'}, {'number': 4, 'created': '2019-03-15 06:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/754f295fa4dd57798be589f366611b4ec4e95c9f', 'message': 'Update python-mistralclient to 3.8.0\n\nDepends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46\nChange-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9\n'}, {'number': 5, 'created': '2019-03-15 06:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a82d47e6073d59b4d498be83174d4c9fa3c9fd8d', 'message': 'Update python-mistralclient to 3.8.0\n\nDepends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46\nChange-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9\n'}, {'number': 6, 'created': '2019-03-18 01:18:50.000000000', 'files': ['openstack/python-mistralclient/python-mistralclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6c1ea99d566891d93d98e89fd9dd036aee2dfc6a', 'message': 'Update python-mistralclient to 3.8.0\n\nDepends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46\nChange-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9\n'}]",1,642684,6c1ea99d566891d93d98e89fd9dd036aee2dfc6a,36,6,6,26571,,,0,"Update python-mistralclient to 3.8.0

Depends-on:I89646cd27344881d65d6383e6c2dfcf2c317fa46
Change-Id: Idce5444b63898e808d20d5d5198f7626e06f78b9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/84/642684/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-mistralclient/python-mistralclient.spec.j2'],1,b9381538c18fe6f7427aaa36e38e859fb5d69c5c,,Version: 3.8.0,Version: 3.7.0,1,1
openstack%2Fsearchlight~master~Iad22f67a1893b2580f8ff694d29d974e5957bbff,openstack/searchlight,master,Iad22f67a1893b2580f8ff694d29d974e5957bbff,Replace keystone v2 by v3 in test,MERGED,2019-03-18 08:22:36.000000000,2019-03-18 08:43:58.000000000,2019-03-18 08:43:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 08:22:36.000000000', 'files': ['doc/source/contributor/authoring-plugins.rst', 'searchlight/tests/functional/generate_load_data.py', 'test-scripts/generate-swift-data.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/a8c9a69238e127d57451a6e51266f0817cb87d25', 'message': 'Replace keystone v2 by v3 in test\n\nChange-Id: Iad22f67a1893b2580f8ff694d29d974e5957bbff\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643878,a8c9a69238e127d57451a6e51266f0817cb87d25,6,2,1,27068,,,0,"Replace keystone v2 by v3 in test

Change-Id: Iad22f67a1893b2580f8ff694d29d974e5957bbff
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/78/643878/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/authoring-plugins.rst', 'searchlight/tests/functional/generate_load_data.py', 'test-scripts/generate-swift-data.py']",3,a8c9a69238e127d57451a6e51266f0817cb87d25,,from keystoneclient.auth.identity import v3 auth = v3.Password(,from keystoneclient.auth.identity import v2 auth = v2.Password(,6,6
openstack%2Fvitrage~master~Ieefa3fd9993e273cebf22a10c238f75e47394322,openstack/vitrage,master,Ieefa3fd9993e273cebf22a10c238f75e47394322,DNM: Testing vitrage legacy jobs on bionic,ABANDONED,2019-03-10 08:24:45.000000000,2019-03-18 08:42:51.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-10 08:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/fbf268ebf98f4c4571ed852ada83e764920524de', 'message': 'DNM: Testing vitrage legacy jobs on bionic\n\nChange-Id: Ieefa3fd9993e273cebf22a10c238f75e47394322\nDepends-On: https://review.openstack.org/#/c/641886/\n'}, {'number': 2, 'created': '2019-03-10 08:49:53.000000000', 'files': ['vitrage/opts.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/642a2c18765ac218cf5423b088a8de8b5835377e', 'message': 'DNM: Testing vitrage legacy jobs on bionic\n\nChange-Id: Ieefa3fd9993e273cebf22a10c238f75e47394322\nDepends-On: https://review.openstack.org/#/c/641886/\n'}]",0,642256,642a2c18765ac218cf5423b088a8de8b5835377e,5,2,2,19134,,,0,"DNM: Testing vitrage legacy jobs on bionic

Change-Id: Ieefa3fd9993e273cebf22a10c238f75e47394322
Depends-On: https://review.openstack.org/#/c/641886/
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/56/642256/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fbf268ebf98f4c4571ed852ada83e764920524de,eyalb/bionic,,,1,0
openstack%2Fnova~master~I2657ea871ac962a07b28d653ef559ad738e03ccb,openstack/nova,master,I2657ea871ac962a07b28d653ef559ad738e03ccb,split host_state.least_disk_mb out of free_disk_mb,ABANDONED,2016-03-09 06:40:33.000000000,2019-03-18 08:16:46.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15648}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-03-09 06:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f04f3c68e8f74402059213e209aa08894f9625b', 'message': 'split host_state.least_disk_mb out of free_disk_mb\n\nResource tracker consumes compute_node.free_disk_gb, but scheduler\nconsumes host_state.free_disk_mb, which comes from the min value of\ncompute_node.free_disk_gb and compute_node.disk_available_least. This\ncauses resource inconsistency between scheduler cache and compute\nservice resource view within a small period. Thus the consequence of\nthis bug is not very explicit because host_state are refreshed from\ncompute_node very frequently.\n\nThis patch corrects the inconsistent resource consumption in scheduler\nside. It is a prerequisite of future schedulers such as\nresource-provider scheduler and shared-state scheduler. They requires\nthe consistent resource consumption between schedulers and compute\nnodes.\n\nCloses-Bug: #1420102\nRelated to blueprint resource-providers-scheduler\nRelated to blueprint eventually-consistent-scheduler-host-state\nChange-Id: I2657ea871ac962a07b28d653ef559ad738e03ccb\n'}, {'number': 2, 'created': '2016-03-10 15:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0d52faf8ce8f452107ede3af1facd5e96e310e1', 'message': 'split host_state.least_disk_mb out of free_disk_mb\n\nResource tracker consumes compute_node.free_disk_gb, but scheduler\nconsumes host_state.free_disk_mb, which comes from the min value of\ncompute_node.free_disk_gb and compute_node.disk_available_least. This\ncauses resource inconsistency between scheduler cache and compute\nservice resource view within a small period. Thus the consequence of\nthis bug is not very explicit because host_state are refreshed from\ncompute_node very frequently.\n\nThis patch corrects the inconsistent resource consumption in scheduler\nside. It is a prerequisite of future schedulers such as\nresource-provider scheduler and shared-state scheduler. They requires\nthe consistent resource consumption between schedulers and compute\nnodes.\n\nCloses-Bug: #1550098\nRelated to blueprint resource-providers-scheduler\nRelated to blueprint eventually-consistent-scheduler-host-state\nChange-Id: I2657ea871ac962a07b28d653ef559ad738e03ccb\n'}, {'number': 3, 'created': '2016-07-11 15:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5813386097712d0411ba2ad46ca5c17f5bd69a4', 'message': 'split host_state.least_disk_mb out of free_disk_mb\n\nResource tracker consumes compute_node.free_disk_gb, but scheduler\nconsumes host_state.free_disk_mb, which comes from the min value of\ncompute_node.free_disk_gb and compute_node.disk_available_least. This\ncauses resource inconsistency between scheduler cache and compute\nservice resource view within a small period. Thus the consequence of\nthis bug is not very explicit because host_state are refreshed from\ncompute_node very frequently.\n\nThis patch corrects the inconsistent resource consumption in scheduler\nside. It is a prerequisite of future schedulers such as\nresource-provider scheduler and shared-state scheduler. They requires\nthe consistent resource consumption between schedulers and compute\nnodes.\n\nCloses-Bug: #1550098\nRelated to blueprint resource-providers-scheduler\nRelated to blueprint eventually-consistent-scheduler-host-state\nChange-Id: I2657ea871ac962a07b28d653ef559ad738e03ccb\n'}, {'number': 4, 'created': '2016-11-30 06:50:03.000000000', 'files': ['nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/scheduler/filters/disk_filter.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/scheduler/test_caching_scheduler.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff1ab9d0c3c471afb461374a23e6dc9911028870', 'message': ""split host_state.least_disk_mb out of free_disk_mb\n\nResource tracker consumes compute_node.free_disk_gb, but scheduler\nconsumes host_state.free_disk_mb, which comes from the min value of\ncompute_node.free_disk_gb and compute_node.disk_available_least. This\ninconsistent consumption causes inconsistent available resource\nidentification between scheduler and compute resource trackers.\nHowever, the symptom is mild because scheduler cache is refreshed\nfrequently, and RT's claim is authoritative during instance placement in\ncompute nodes.\n\nThis patch corrects the inconsistent resource consumption in scheduler\nside.\n\nCloses-Bug: #1550098\nChange-Id: I2657ea871ac962a07b28d653ef559ad738e03ccb\n""}]",2,290302,ff1ab9d0c3c471afb461374a23e6dc9911028870,61,15,4,15648,,,0,"split host_state.least_disk_mb out of free_disk_mb

Resource tracker consumes compute_node.free_disk_gb, but scheduler
consumes host_state.free_disk_mb, which comes from the min value of
compute_node.free_disk_gb and compute_node.disk_available_least. This
inconsistent consumption causes inconsistent available resource
identification between scheduler and compute resource trackers.
However, the symptom is mild because scheduler cache is refreshed
frequently, and RT's claim is authoritative during instance placement in
compute nodes.

This patch corrects the inconsistent resource consumption in scheduler
side.

Closes-Bug: #1550098
Change-Id: I2657ea871ac962a07b28d653ef559ad738e03ccb
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/290302/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/scheduler/filters/disk_filter.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/scheduler/test_caching_scheduler.py', 'nova/scheduler/host_manager.py']",5,8f04f3c68e8f74402059213e209aa08894f9625b,bug/1550098, self.least_disk_mb = 0 free_disk_mb = free_gb * 1024 least_disk_mb = None if least_gb is not None: least_disk_mb = least_gb * 1024 self.least_disk_mb = least_disk_mb," if least_gb is not None: free_gb = min(least_gb, free_gb) free_disk_mb = free_gb * 1024",25,8
openstack%2Fopenstack-helm~master~Ieb0b85c18ed4f2a589ee3a3ba251317350dc4b81,openstack/openstack-helm,master,Ieb0b85c18ed4f2a589ee3a3ba251317350dc4b81,Armada: Fix openstack-helm update password job,MERGED,2019-03-15 15:56:41.000000000,2019-03-18 07:36:52.000000000,2019-03-18 07:36:52.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 15:56:41.000000000', 'files': ['tools/deployment/armada/040-armada-update-passwords.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/22779027261f5e4b0c402296c99f98bbc479d1db', 'message': ""Armada: Fix openstack-helm update password job\n\nThe armada update password job was attempting to invoke a script\nthat didn't exist for sourcing the passwords. This updates the\npath appropriately\n\nChange-Id: Ieb0b85c18ed4f2a589ee3a3ba251317350dc4b81\n""}]",0,643620,22779027261f5e4b0c402296c99f98bbc479d1db,7,3,1,17591,,,0,"Armada: Fix openstack-helm update password job

The armada update password job was attempting to invoke a script
that didn't exist for sourcing the passwords. This updates the
path appropriately

Change-Id: Ieb0b85c18ed4f2a589ee3a3ba251317350dc4b81
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/20/643620/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/040-armada-update-passwords.sh'],1,22779027261f5e4b0c402296c99f98bbc479d1db,fix-update-pw-job,source ./tools/deployment/armada/generate-osh-passwords.sh,source ./tools/deployment/armada/generate-passwords.sh,1,1
openstack%2Fsearchlight~master~I0838b027865fe372f161fce02cb13998b59603c9,openstack/searchlight,master,I0838b027865fe372f161fce02cb13998b59603c9,Drop py35 tox test,MERGED,2019-03-18 07:03:40.000000000,2019-03-18 07:33:52.000000000,2019-03-18 07:33:52.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 07:03:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/eaeb059fe015e1788ee49fd1987e77d666f9e55c', 'message': 'Drop py35 tox test\n\nChange-Id: I0838b027865fe372f161fce02cb13998b59603c9\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643867,eaeb059fe015e1788ee49fd1987e77d666f9e55c,6,2,1,27068,,,0,"Drop py35 tox test

Change-Id: I0838b027865fe372f161fce02cb13998b59603c9
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/67/643867/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eaeb059fe015e1788ee49fd1987e77d666f9e55c,,"envlist = py37,py36,py27,pep8,docs,releasenotes","envlist = py37,py36,py35,py27,pep8,docs,releasenotes",1,1
openstack%2Fsearchlight-ui~master~Ifcd85b37dd2085312102431c837e87d97bc6d194,openstack/searchlight-ui,master,Ifcd85b37dd2085312102431c837e87d97bc6d194,Drop py35 tox test,MERGED,2019-03-18 07:01:48.000000000,2019-03-18 07:26:57.000000000,2019-03-18 07:26:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 07:01:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/d7d176089104d6f9d4f939ff507bd321da549876', 'message': 'Drop py35 tox test\n\nChange-Id: Ifcd85b37dd2085312102431c837e87d97bc6d194\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643866,d7d176089104d6f9d4f939ff507bd321da549876,6,2,1,27068,,,0,"Drop py35 tox test

Change-Id: Ifcd85b37dd2085312102431c837e87d97bc6d194
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/66/643866/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d7d176089104d6f9d4f939ff507bd321da549876,,"envlist = py37,py36,py27,pep8,docs","envlist = py37,py36,py35,py27,pep8,docs",1,1
openstack%2Ftripleo-quickstart-extras~master~I561e0c94ae92f1a1c5e84ab042583296eff63c72,openstack/tripleo-quickstart-extras,master,I561e0c94ae92f1a1c5e84ab042583296eff63c72,WIP: Use the docker_image_tag instead of build id unless mixed upgrade,ABANDONED,2019-03-13 16:25:01.000000000,2019-03-18 07:11:53.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 16:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c3d915c8615a431c662875f093905f2952a8fc88', 'message': 'Use the docker_image_tag instead of build id unless mixed upgrade\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 2, 'created': '2019-03-13 17:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d6291cb771c9d3ed3555afecba0bd5b7f78560c2', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 3, 'created': '2019-03-13 22:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d3b1049cf7e0435ba751d62a44ef198a1fb1e270', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nDepends-On: https://review.openstack.org/#/c/642420/\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 4, 'created': '2019-03-13 23:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b2b5a911da55ae8b4c3f3f6f9c817bace43483ca', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nDepends-On: https://review.openstack.org/#/c/642420/\nDepends-On: https://review.openstack.org/643190\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 5, 'created': '2019-03-14 00:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b54e6540452525a9b896812d39765353bff2a288', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\nDepends-On: https://review.openstack.org/643190\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 6, 'created': '2019-03-14 08:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33e875cf2bd39b6bcd41ec92d463498a2a58db67', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 7, 'created': '2019-03-14 09:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e7b919bb244eabf2321e7e619dd4d91e3415e89', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 8, 'created': '2019-03-14 11:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cbccf38faa32293c6cc18ed9fbad1866c03cd3c4', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 9, 'created': '2019-03-14 13:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/97693a999c02cff24cd295b05f0226d4f65c29d4', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 10, 'created': '2019-03-14 16:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bcd331cb2598b08a5c798ec9c2223a1da2db80ce', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 11, 'created': '2019-03-14 19:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7b4b472d1ba957e4d6ca43b88502901363d1cd08', 'message': 'WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n'}, {'number': 12, 'created': '2019-03-14 23:49:10.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/overcloud-prep-containers/tasks/main.yml', 'roles/standalone/templates/standalone-container-prep.sh.j2', 'roles/standalone/templates/standalone.sh.j2', 'roles/standalone/tasks/main.yml', 'roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/18070a437a7c26b709fe45943b110a6117afafb4', 'message': ""WIP: Use the docker_image_tag instead of build id unless mixed upgrade\n\nThis patch is on top of https://review.openstack.org/#/c/642420/\n\nPlease compare this review to https://review.openstack.org/#/c/643187/\nTo figure out which direction we'd like to go.\n\nChange-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72\nRelated-Bug: 1819583\n""}]",8,643095,18070a437a7c26b709fe45943b110a6117afafb4,58,7,12,8449,,,0,"WIP: Use the docker_image_tag instead of build id unless mixed upgrade

This patch is on top of https://review.openstack.org/#/c/642420/

Please compare this review to https://review.openstack.org/#/c/643187/
To figure out which direction we'd like to go.

Change-Id: I561e0c94ae92f1a1c5e84ab042583296eff63c72
Related-Bug: 1819583
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/95/643095/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2'],1,c3d915c8615a431c662875f093905f2952a8fc88,bug/1819440,"{% if use_overcloud_mixed_upgrade|default(false)|bool %}{% else %} tag: ""{{ docker_image_tag }}"" {% fi %}",,4,0
openstack%2Fsearchlight~master~Ib2f6527e5c55e4759ff204d5970a42121383ccc6,openstack/searchlight,master,Ib2f6527e5c55e4759ff204d5970a42121383ccc6,Drop py35 tests,MERGED,2019-03-18 06:32:57.000000000,2019-03-18 07:00:19.000000000,2019-03-18 07:00:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 06:32:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/33da7eb278d29adc0704df1d711b8cd564b46587', 'message': 'Drop py35 tests\n\nTarget python runtime for Stein is py36 [1]. So, I will drop py35\ntests.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ib2f6527e5c55e4759ff204d5970a42121383ccc6\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643861,33da7eb278d29adc0704df1d711b8cd564b46587,6,2,1,27068,,,0,"Drop py35 tests

Target python runtime for Stein is py36 [1]. So, I will drop py35
tests.

[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: Ib2f6527e5c55e4759ff204d5970a42121383ccc6
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/61/643861/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,33da7eb278d29adc0704df1d711b8cd564b46587,,, - openstack-python35-jobs,0,1
openstack%2Fkuryr-kubernetes~master~Id257bd0a1b5dfe847eb9769568b4e9cdbece0906,openstack/kuryr-kubernetes,master,Id257bd0a1b5dfe847eb9769568b4e9cdbece0906,"DevStack: Bump SG quotas for ""policy"" SG driver",MERGED,2019-03-15 14:07:54.000000000,2019-03-18 06:52:36.000000000,2019-03-18 06:52:36.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-03-15 14:07:54.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e8f1f1706194f3ec40c9fac01cae01b15e1bd5f4', 'message': 'DevStack: Bump SG quotas for ""policy"" SG driver\n\nLooks like we only bump SG quotas when running with ""namespace"" SG\ndriver. This commit adds the same behavior for ""policy"" driver.\n\nChange-Id: Id257bd0a1b5dfe847eb9769568b4e9cdbece0906\nCloses-Bug: 1820284\n'}]",0,643592,e8f1f1706194f3ec40c9fac01cae01b15e1bd5f4,11,7,1,11600,,,0,"DevStack: Bump SG quotas for ""policy"" SG driver

Looks like we only bump SG quotas when running with ""namespace"" SG
driver. This commit adds the same behavior for ""policy"" driver.

Change-Id: Id257bd0a1b5dfe847eb9769568b4e9cdbece0906
Closes-Bug: 1820284
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/92/643592/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e8f1f1706194f3ec40c9fac01cae01b15e1bd5f4,bug/1820284," iniset ""$KURYR_CONFIG"" namespace_sg sg_allow_from_namespaces ""$allow_namespace_sg_id"" iniset ""$KURYR_CONFIG"" namespace_sg sg_allow_from_default ""$allow_default_sg_id"" fi if [[ ""$KURYR_SG_DRIVER"" == ""namespace"" || ""$KURYR_SG_DRIVER"" == ""policy"" ]]; then"," iniset ""$KURYR_CONFIG"" namespace_sg sg_allow_from_namespaces ""$allow_namespace_sg_id"" iniset ""$KURYR_CONFIG"" namespace_sg sg_allow_from_default ""$allow_default_sg_id""",6,4
openstack%2Fsearchlight-ui~master~I083bcf0529c4629ba0e232b8398c1800e1d1e6fa,openstack/searchlight-ui,master,I083bcf0529c4629ba0e232b8398c1800e1d1e6fa,Drop py35 tests,MERGED,2019-03-18 06:15:11.000000000,2019-03-18 06:50:30.000000000,2019-03-18 06:50:30.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 06:15:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/ce77522b4723b52abf7500601037f43a4b5009f0', 'message': 'Drop py35 tests\n\nTarget python runtime for Stein is py36 [1]. So, I will drop py35\ntests.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: I083bcf0529c4629ba0e232b8398c1800e1d1e6fa\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643859,ce77522b4723b52abf7500601037f43a4b5009f0,6,2,1,27068,,,0,"Drop py35 tests

Target python runtime for Stein is py36 [1]. So, I will drop py35
tests.

[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: I083bcf0529c4629ba0e232b8398c1800e1d1e6fa
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/59/643859/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ce77522b4723b52abf7500601037f43a4b5009f0,,, - openstack-python35-jobs-horizon,0,1
openstack%2Fpython-tackerclient~master~Iabae8a5730d934473a36d9e2bc83a7005c1aca17,openstack/python-tackerclient,master,Iabae8a5730d934473a36d9e2bc83a7005c1aca17,Add upper-constraints.txt to releasenotes tox environment,MERGED,2019-01-09 17:10:50.000000000,2019-03-18 06:48:53.000000000,2019-03-18 06:48:53.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27153}]","[{'number': 1, 'created': '2019-01-09 17:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/8bb0c14f9900a7996c83f06195d09db2f8cb52d8', 'message': 'Add upper-constraints.txt to releasenotes tox environment\n\nWithout these dependencies, the releasenotes build does not actually\nwork.\n\nChange-Id: Iabae8a5730d934473a36d9e2bc83a7005c1aca17\n'}, {'number': 2, 'created': '2019-02-11 05:53:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/6cb5d3c704e10e19a94af5ac61c166d01f9c4d13', 'message': 'Add upper-constraints.txt to releasenotes tox environment\n\nWithout these dependencies, the releasenotes build does not actually\nwork.\n\nChange-Id: Iabae8a5730d934473a36d9e2bc83a7005c1aca17\n'}]",0,629576,6cb5d3c704e10e19a94af5ac61c166d01f9c4d13,11,4,2,28935,,,0,"Add upper-constraints.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: Iabae8a5730d934473a36d9e2bc83a7005c1aca17
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/76/629576/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8bb0c14f9900a7996c83f06195d09db2f8cb52d8,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fsearchlight~master~I17eb8e9230c3097150ca60a9f0ace2fda2ce6bcc,openstack/searchlight,master,I17eb8e9230c3097150ca60a9f0ace2fda2ce6bcc,Fix devstack elasticsearch issue with jdk on bionic,MERGED,2019-03-18 05:48:38.000000000,2019-03-18 06:31:29.000000000,2019-03-18 06:31:29.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 05:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/973f7189e9474c20e4d1802710d019924b891163', 'message': 'Fix devstack elasticsearch issue with jdk on bionic\n\nChange-Id: I17eb8e9230c3097150ca60a9f0ace2fda2ce6bcc\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}, {'number': 2, 'created': '2019-03-18 05:51:27.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/a3e072ceb58c271a2b9da80fc0fbb0b2ebf365ba', 'message': 'Fix devstack elasticsearch issue with jdk on bionic\n\nChange-Id: I17eb8e9230c3097150ca60a9f0ace2fda2ce6bcc\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643854,a3e072ceb58c271a2b9da80fc0fbb0b2ebf365ba,7,2,2,27068,,,0,"Fix devstack elasticsearch issue with jdk on bionic

Change-Id: I17eb8e9230c3097150ca60a9f0ace2fda2ce6bcc
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/54/643854/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,973f7189e9474c20e4d1802710d019924b891163,," if [[ ${DISTRO} == ""bionic"" ]]; then is_package_installed openjdk-8-jre-headless || install_package openjdk-8-jre-headless else is_package_installed default-jre-headless || install_package default-jre-headless fi", is_package_installed default-jdk-headless || install_package default-jdk-headless,5,1
openstack%2Ftacker-horizon~master~I93d11fce8c51ed7b8b8ac65413a2b0b399be5e5e,openstack/tacker-horizon,master,I93d11fce8c51ed7b8b8ac65413a2b0b399be5e5e,Drop py35 jobs,MERGED,2019-03-12 10:14:35.000000000,2019-03-18 06:19:02.000000000,2019-03-18 06:19:02.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26297}, {'_account_id': 27153}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-12 10:14:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/88cc477b7afd50eaf364acd2e68065deb8386783', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: I93d11fce8c51ed7b8b8ac65413a2b0b399be5e5e\n'}]",0,642711,88cc477b7afd50eaf364acd2e68065deb8386783,10,6,1,29313,,,0,"Drop py35 jobs

Python 3.5 was the target runtime for the Rocky release. The current
target py3 runtime for Stein is Python 3.6, so there is no reason to
keep testing against the older version.

https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: I93d11fce8c51ed7b8b8ac65413a2b0b399be5e5e
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/11/642711/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,88cc477b7afd50eaf364acd2e68065deb8386783,,, - openstack-python35-jobs,0,1
openstack%2Fopenstack-ansible~master~Iac2ad26fc94a3c7b44bd5a145ea2b4fb9764496b,openstack/openstack-ansible,master,Iac2ad26fc94a3c7b44bd5a145ea2b4fb9764496b,Bump SHAs for master,MERGED,2019-03-09 08:45:30.000000000,2019-03-18 06:18:35.000000000,2019-03-18 06:18:35.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-09 08:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ddfa0719d33880a40fcbbaa7979f06aadbd64e06', 'message': 'Bump SHAs for master\n\nChange-Id: Iac2ad26fc94a3c7b44bd5a145ea2b4fb9764496b\n'}, {'number': 2, 'created': '2019-03-10 17:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/234ad7180433e41f04e6a95d462292a23f2ed1d3', 'message': 'Bump SHAs for master\n\nChange-Id: Iac2ad26fc94a3c7b44bd5a145ea2b4fb9764496b\n'}, {'number': 3, 'created': '2019-03-12 12:40:42.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d626d64569a96491500bacacf878ef0caff9b6ab', 'message': 'Bump SHAs for master\n\nChange-Id: Iac2ad26fc94a3c7b44bd5a145ea2b4fb9764496b\n'}]",0,642208,d626d64569a96491500bacacf878ef0caff9b6ab,33,5,3,17068,,,0,"Bump SHAs for master

Change-Id: Iac2ad26fc94a3c7b44bd5a145ea2b4fb9764496b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/642208/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,ddfa0719d33880a40fcbbaa7979f06aadbd64e06,bump_osa,tempest_git_install_branch: 31db1f6f391f9085b01c657dc363d571cbc0b927 # HEAD as of 09.03.2019,tempest_git_install_branch: 30cfcf8478f6d2e440c657048d97828ff4a5e2da # HEAD as of 09.02.2019,47,47
openstack%2Ftacker~master~Ia5eda02df415c9e3f6f035068176d60a14ffb68f,openstack/tacker,master,Ia5eda02df415c9e3f6f035068176d60a14ffb68f,Add support SFC encapsulation from networking-sfc,MERGED,2018-11-28 19:15:48.000000000,2019-03-18 05:32:58.000000000,2019-03-18 05:32:58.000000000,"[{'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27181}]","[{'number': 1, 'created': '2018-11-28 19:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5b56571d352254b9f69812f1de77da8d09cedaa2', 'message': 'Add support SFC encapsulation from networking-sfc\n\nThis feature allows choosing SFC encapsulation between MPLS\nand NSH (default MPLS). It also apply SFC proxy to make use\nof correlation.\n\nChange-Id: Ia5eda02df415c9e3f6f035068176d60a14ffb68f\n'}, {'number': 2, 'created': '2019-01-28 08:16:36.000000000', 'files': ['tacker/tests/unit/nfvo/test_nfvo_plugin.py', 'tacker/tosca/lib/tacker_nfv_defs.yaml', 'samples/tosca-templates/vnffgd/tosca-vnffgd-correlation.yaml', 'tacker/db/nfvo/vnffg_db.py', 'releasenotes/notes/add-support-nsh-encapsulation-7587127e4201fa26.yaml', 'contrib/tacker-config/vnffg-config.sh', 'contrib/tacker-config/vnffg-clean.sh', 'samples/tosca-templates/vnffgd/tosca-vnffg-vnfd1.yaml', 'doc/source/user/vnffg_usage_guide.rst', 'tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/nfvo/nfvo_plugin.py', 'samples/tosca-templates/vnffgd/tosca-vnffg-vnfd2.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0e7fffbc7741bfca8e3f34b129bdcf720da14fd2', 'message': 'Add support SFC encapsulation from networking-sfc\n\nThis feature allows choosing SFC encapsulation between MPLS\nand NSH (default MPLS). It also apply SFC proxy to make use\nof correlation.\n\nChange-Id: Ia5eda02df415c9e3f6f035068176d60a14ffb68f\n'}]",2,620680,0e7fffbc7741bfca8e3f34b129bdcf720da14fd2,15,6,2,26222,,,0,"Add support SFC encapsulation from networking-sfc

This feature allows choosing SFC encapsulation between MPLS
and NSH (default MPLS). It also apply SFC proxy to make use
of correlation.

Change-Id: Ia5eda02df415c9e3f6f035068176d60a14ffb68f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/80/620680/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/nfvo/test_nfvo_plugin.py', 'tacker/tosca/lib/tacker_nfv_defs.yaml', 'samples/tosca-templates/vnffgd/tosca-vnffgd-correlation.yaml', 'tacker/db/nfvo/vnffg_db.py', 'doc/source/user/vnffg_usage_guide.rst', 'releasenotes/notes/add-support-nsh-encapsulation-7587127e4201fa26.yaml', 'tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/nfvo/nfvo_plugin.py']",8,5b56571d352254b9f69812f1de77da8d09cedaa2,," vim_obj = self._get_vim_from_vnf( context, list(vnffg_dict['vnf_mapping'].values())[0]) correlation = super(NfvoPlugin, self)._get_correlation_template( context, vnffg_info) correlation=correlation,"," vim_obj = self._get_vim_from_vnf(context, list(vnffg_dict[ 'vnf_mapping'].values())[0])",184,59
openstack%2Ftacker~master~Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e,openstack/tacker,master,Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e,Migrate tacker legacy jobs to Ubuntu Bionic,MERGED,2019-03-12 11:36:02.000000000,2019-03-18 05:32:57.000000000,2019-03-18 05:32:57.000000000,"[{'_account_id': 8556}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 11:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6cb716fdaa5e4556b512ee79fa3b43b563c221bd', 'message': 'DNM: Testing legacy jobs on bionic\n\nDepends-On: https://review.openstack.org/#/c/641886/\nChange-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e\n'}, {'number': 2, 'created': '2019-03-12 12:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/33cde724125ec0f0c80c808197bb182658c4c054', 'message': 'DNM: Testing legacy jobs on bionic\n\nDepends-On: https://review.openstack.org/610977\nChange-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e\n'}, {'number': 3, 'created': '2019-03-12 13:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e1bf4b140450399251b0c2e67eb6cc6523df0d67', 'message': 'DNM: Testing legacy jobs on bionic\n\nDepends-On: https://review.openstack.org/610977\nChange-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e\n'}, {'number': 4, 'created': '2019-03-12 16:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bbbb1643cf36cd1bbd8bd48d05bb9b3888094717', 'message': 'DNM: Testing legacy jobs on bionic\n\nDepends-On: https://review.openstack.org/641886\nChange-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e\n'}, {'number': 5, 'created': '2019-03-13 03:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/56fa9251e682e1124d65fec8f96b7a659a01ac70', 'message': 'DNM: Testing legacy jobs on bionic\n\n\nChange-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e\n'}, {'number': 6, 'created': '2019-03-18 03:36:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2dd9cb5b70436ce1717974dc25d5b1f4c27d4294', 'message': 'Migrate tacker legacy jobs to Ubuntu Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nBelow patch move the legacy base jobs to bionic which will move the derived jobs\nautomatically to bionic. These jobs are modified with branch variant so that they will use\nBionic node from stein onwards and xenial for all other stable branches\nuntil stable/rocky.\n- https://review.openstack.org/#/c/639096\n\nThis commit modify the nodeset from xenial to bionic which will migrate\nthe tacker mutinode jobs to bionic.\n\nMore Details: \n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nChange-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e\n'}]",1,642727,2dd9cb5b70436ce1717974dc25d5b1f4c27d4294,20,3,6,18955,,,0,"Migrate tacker legacy jobs to Ubuntu Bionic

We have migrated the zuulv3 job to Bionic during Dec/Jan month.
 - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html
 - https://etherpad.openstack.org/p/devstack-bionic
But that effort does not move all gate job to Bionic as there are
large amount of jobs are still legacy jobs. All the legacy jobs still
use Xenial as nodeset.

As per the decided runtime for Stein, we need to test everything on openstack
CI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html

Below patch move the legacy base jobs to bionic which will move the derived jobs
automatically to bionic. These jobs are modified with branch variant so that they will use
Bionic node from stein onwards and xenial for all other stable branches
until stable/rocky.
- https://review.openstack.org/#/c/639096

This commit modify the nodeset from xenial to bionic which will migrate
the tacker mutinode jobs to bionic.

More Details: 
- https://etherpad.openstack.org/p/legacy-job-bionic
- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html

Change-Id: Ic83d18bbbbaa86750a370d04cbb4b2ea88c7ea9e
",git fetch https://review.opendev.org/openstack/tacker refs/changes/27/642727/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6cb716fdaa5e4556b512ee79fa3b43b563c221bd,, label: ubuntu-bionic label: ubuntu-bionic, label: ubuntu-xenial label: ubuntu-xenial,2,2
openstack%2Fmagnum~stable%2Fqueens~I77f46ac03cfd3f1e86db6e3327b37c27d8f0edab,openstack/magnum,stable/queens,I77f46ac03cfd3f1e86db6e3327b37c27d8f0edab,Bump k8s version up to v1.11.5,MERGED,2019-01-17 15:36:40.000000000,2019-03-18 04:24:31.000000000,2019-03-18 04:24:31.000000000,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-01-17 15:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4fc1a4d4bc70a302d9c06f5d812e4025cbb2dd6e', 'message': 'Bump k8s version up to v1.11.5\n\nChange-Id: I77f46ac03cfd3f1e86db6e3327b37c27d8f0edab\n(cherry picked from commit 6a034827176a7f4a0bb73e9d1cc376cd68df7cdc)\n'}, {'number': 2, 'created': '2019-01-19 11:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6f718895970d3c7914c2df6c15bb2906eac693a9', 'message': 'Bump k8s version up to v1.11.5\n\nChange-Id: I77f46ac03cfd3f1e86db6e3327b37c27d8f0edab\n(cherry picked from commit 6a034827176a7f4a0bb73e9d1cc376cd68df7cdc)\n'}, {'number': 3, 'created': '2019-03-08 09:58:50.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/6940c852cc219f94adda5d01a2cb63b622de49cb', 'message': 'Bump k8s version up to v1.11.5\n\nChange-Id: I77f46ac03cfd3f1e86db6e3327b37c27d8f0edab\n(cherry picked from commit 6a034827176a7f4a0bb73e9d1cc376cd68df7cdc)\n'}]",0,631535,6940c852cc219f94adda5d01a2cb63b622de49cb,13,5,3,28022,,,0,"Bump k8s version up to v1.11.5

Change-Id: I77f46ac03cfd3f1e86db6e3327b37c27d8f0edab
(cherry picked from commit 6a034827176a7f4a0bb73e9d1cc376cd68df7cdc)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/35/631535/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'],1,4fc1a4d4bc70a302d9c06f5d812e4025cbb2dd6e,queens-occm, default: v1.11.5-1 # FIXME update cloud_provider_tag when a fix for PVC is released # https://github.com/kubernetes/cloud-provider-openstack/pull/405 cloud_provider_tag: type: string description: tag of the kubernetes/cloud-provider-openstack https://hub.docker.com/r/k8scloudprovider/openstack-cloud-controller-manager/tags/ default: v0.2.0 default: v1.11.5, default: v1.9.3 default: v1.9.3,11,2
openstack%2Fmagnum~stable%2Fqueens~Id33fb59ef23da740712d9a9b7ec4205bd6579b35,openstack/magnum,stable/queens,Id33fb59ef23da740712d9a9b7ec4205bd6579b35,[k8s] Add kubelet to the master nodes,MERGED,2019-01-17 11:51:28.000000000,2019-03-18 04:24:27.000000000,2019-03-18 04:24:27.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-01-17 11:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3ac11aecf207294eb056de979fd65135aa90f569', 'message': '[k8s] Add kubelet to the master nodes\n\nAdd kubelet on the master nodes. This work was\ndone already for calico, this patch applies the\nsame config when calico is used as well.\n\nstory: 2003521\ntask: 24797\n\nChange-Id: Id33fb59ef23da740712d9a9b7ec4205bd6579b35\n(cherry picked from commit 6390e0dbd3a20f71d1b17999e1f21774fbb1c27e)\n'}, {'number': 2, 'created': '2019-03-08 09:58:50.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'releasenotes/notes/add-kubelet-to-master-nodes-da2d4ea0d3a332cd.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e8e8cffb54c96505eb74b6ce33f072c1b28dbc73', 'message': '[k8s] Add kubelet to the master nodes\n\nAdd kubelet on the master nodes. This work was\ndone already for calico, this patch applies the\nsame config when calico is used as well.\n\nstory: 2003521\ntask: 24797\n\nChange-Id: Id33fb59ef23da740712d9a9b7ec4205bd6579b35\n(cherry picked from commit 6390e0dbd3a20f71d1b17999e1f21774fbb1c27e)\n'}]",2,631474,e8e8cffb54c96505eb74b6ce33f072c1b28dbc73,14,5,2,28022,,,0,"[k8s] Add kubelet to the master nodes

Add kubelet on the master nodes. This work was
done already for calico, this patch applies the
same config when calico is used as well.

story: 2003521
task: 24797

Change-Id: Id33fb59ef23da740712d9a9b7ec4205bd6579b35
(cherry picked from commit 6390e0dbd3a20f71d1b17999e1f21774fbb1c27e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/631474/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'releasenotes/notes/add-kubelet-to-master-nodes-da2d4ea0d3a332cd.yaml']",4,3ac11aecf207294eb056de979fd65135aa90f569,queens-occm,"--- features: - | Deploy kubelet in master nodes for the k8s_fedora_atomic driver. Previously it was done only for calico, now kubelet will run in all cases. Really useful, for monitoing the master nodes (eg deploy fluentd) or run the kubernetes control-plance self-hosted. ",,153,48
openstack%2Fmagnum~stable%2Fqueens~Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e,openstack/magnum,stable/queens,Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e,[k8s] Cluster creation speedup,MERGED,2019-01-16 14:49:44.000000000,2019-03-18 04:24:22.000000000,2019-03-18 04:24:22.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29806}]","[{'number': 1, 'created': '2019-01-16 14:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/93dda896bb660b01db1e52a7c677c00e2b6214d3', 'message': '[k8s] Cluster creation speedup\n\n- Start workers as soon as the master VM is created, rather than\n  waiting all the services ready.\n- Move all the SoftwareDeployment outside of kubemaster stack.\n- Tweak the scripts in SoftwareDeployment so that they can be combined\n  into a single script.\n\nStory: 2004573\nTask: 28347\nChange-Id: Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\n(cherry picked from commit cae7fa21b63d471bb5bbc878fee68cace7a7d4a6)\n'}, {'number': 2, 'created': '2019-01-16 15:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7d29ab01c1db5aa0982c168965b819039f6f39e1', 'message': '[k8s] Cluster creation speedup\n\n- Start workers as soon as the master VM is created, rather than\n  waiting all the services ready.\n- Move all the SoftwareDeployment outside of kubemaster stack.\n- Tweak the scripts in SoftwareDeployment so that they can be combined\n  into a single script.\n\nStory: 2004573\nTask: 28347\nChange-Id: Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\n(cherry picked from commit cae7fa21b63d471bb5bbc878fee68cace7a7d4a6)\n'}, {'number': 3, 'created': '2019-01-16 23:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/728313d1196c4bedb5e764f16535bd9e4d99fa75', 'message': '[k8s] Cluster creation speedup\n\n- Start workers as soon as the master VM is created, rather than\n  waiting all the services ready.\n- Move all the SoftwareDeployment outside of kubemaster stack.\n- Tweak the scripts in SoftwareDeployment so that they can be combined\n  into a single script.\n\nStory: 2004573\nTask: 28347\nChange-Id: Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\n(cherry picked from commit cae7fa21b63d471bb5bbc878fee68cace7a7d4a6)\n'}, {'number': 4, 'created': '2019-01-17 10:20:14.000000000', 'files': ['releasenotes/notes/k8s-cluster-creation-speedup-21b5b368184d7bf0.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-controller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9e973c12e9c0ad535428a7715e63b30c5405a403', 'message': '[k8s] Cluster creation speedup\n\n- Start workers as soon as the master VM is created, rather than\n  waiting all the services ready.\n- Move all the SoftwareDeployment outside of kubemaster stack.\n- Tweak the scripts in SoftwareDeployment so that they can be combined\n  into a single script.\n\nStory: 2004573\nTask: 28347\nChange-Id: Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e\nCo-Authored-By: Lingxian Kong <anlin.kong@gmail.com>\n(cherry picked from commit cae7fa21b63d471bb5bbc878fee68cace7a7d4a6)\n'}]",2,631236,9e973c12e9c0ad535428a7715e63b30c5405a403,16,6,4,28022,,,0,"[k8s] Cluster creation speedup

- Start workers as soon as the master VM is created, rather than
  waiting all the services ready.
- Move all the SoftwareDeployment outside of kubemaster stack.
- Tweak the scripts in SoftwareDeployment so that they can be combined
  into a single script.

Story: 2004573
Task: 28347
Change-Id: Ie48861253615c8f60b34a2c1e9ad6b91d3ae685e
Co-Authored-By: Lingxian Kong <anlin.kong@gmail.com>
(cherry picked from commit cae7fa21b63d471bb5bbc878fee68cace7a7d4a6)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/631236/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/k8s-cluster-creation-speedup-21b5b368184d7bf0.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-controller', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring']",13,93dda896bb660b01db1e52a7c677c00e2b6214d3,queens-speed,"#!/bin/sh step=""enable-prometheus-monitoring"" printf ""Starting to run ${step}\n""if [ ""$(echo $PROMETHEUS_MONITORING | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then PROMETHEUS_MON_BASE_DIR=""/srv/magnum/kubernetes/monitoring"" KUBE_MON_BIN=${PROMETHEUS_MON_BASE_DIR}""/bin/kube-enable-monitoring"" KUBE_MON_SERVICE=""/etc/systemd/system/kube-enable-monitoring.service"" GRAFANA_DEF_DASHBOARDS=${PROMETHEUS_MON_BASE_DIR}""/dashboards"" GRAFANA_DEF_DASHBOARD_FILE=$GRAFANA_DEF_DASHBOARDS""/default.json"" # Write the binary for enable-monitoring KUBE_MON_BIN_CONTENT='''#!/bin/sh until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] do echo ""Waiting for Kubernetes API..."" sleep 5 done # Check if prometheus-monitoring namespace exist already before creating the namespace kubectl get namespace prometheus-monitoring if [ ""$?"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/prometheusNamespace.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/prometheusNamespace.yaml # Check if all resources exist already before creating them # Check if configmap Prometheus exists kubectl get configmap prometheus -n prometheus-monitoring if [ ""$?"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/prometheusConfigMap.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/prometheusConfigMap.yaml fi # Check if deployment and service Prometheus exist kubectl get service prometheus -n prometheus-monitoring | kubectl get deployment prometheus -n prometheus-monitoring if [ ""${PIPESTATUS[0]}"" != ""0"" ] && [ ""${PIPESTATUS[1]}"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/prometheusService.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/prometheusService.yaml fi # Check if configmap graf-dash exists kubectl get configmap graf-dash -n prometheus-monitoring if [ ""$?"" != ""0"" ] && \ [ -f '''$GRAFANA_DEF_DASHBOARD_FILE''' ]; then kubectl create configmap graf-dash --from-file='''$GRAFANA_DEF_DASHBOARD_FILE''' -n prometheus-monitoring fi # Check if deployment and service Grafana exist kubectl get service grafana -n prometheus-monitoring | kubectl get deployment grafana -n prometheus-monitoring if [ ""${PIPESTATUS[0]}"" != ""0"" ] && [ ""${PIPESTATUS[1]}"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/grafanaService.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/grafanaService.yaml fi # Wait for Grafana pod and then inject data source while true do echo ""Waiting for Grafana pod to be up and Running"" if [ ""$(kubectl get po -n prometheus-monitoring -l name=grafana -o jsonpath={..phase})"" = ""Running"" ]; then break fi sleep 2 done # Which node is running Grafana NODE_IP=`kubectl get po -n prometheus-monitoring -o jsonpath={.items[0].status.hostIP} -l name=grafana` PROM_SERVICE_IP=`kubectl get svc prometheus --namespace prometheus-monitoring -o jsonpath={..clusterIP}` # The Grafana pod might be running but the app might still be initiating echo ""Check if Grafana is ready..."" until [ $? -eq 0 ] do sleep 2 curl --user admin:$ADMIN_PASSWD -X GET http://$NODE_IP:3000/api/datasources/1 done # Inject Prometheus datasource into Grafana while true do INJECT=`curl --user admin:$ADMIN_PASSWD -X POST \ -H ""Content-Type: application/json;charset=UTF-8"" \ --data-binary '''""'""'''{""name"":""k8sPrometheus"",""isDefault"":true, ""type"":""prometheus"",""url"":""http://'''""'""'''$PROM_SERVICE_IP'''""'""''':9090"",""access"":""proxy""}'''""'""'''\ ""http://$NODE_IP:3000/api/datasources/""` if [[ ""$INJECT"" = *""Datasource added""* ]]; then echo ""Prometheus datasource injected into Grafana"" break fi echo ""Trying to inject Prometheus datasource into Grafana - ""$INJECT done ''' writeFile $KUBE_MON_BIN ""$KUBE_MON_BIN_CONTENT"" # Write the monitoring service KUBE_MON_SERVICE_CONTENT='''[Unit] Description=Enable Prometheus monitoring stack [Service] Type=oneshot Environment=HOME=/root EnvironmentFile=-/etc/kubernetes/config ExecStart='''${KUBE_MON_BIN}''' [Install] WantedBy=multi-user.target ''' writeFile $KUBE_MON_SERVICE ""$KUBE_MON_SERVICE_CONTENT"" chown root:root ${KUBE_MON_BIN} chmod 0755 ${KUBE_MON_BIN} chown root:root ${KUBE_MON_SERVICE} chmod 0644 ${KUBE_MON_SERVICE} # Download the default JSON Grafana dashboard # Not a crucial step, so allow it to fail # TODO: this JSON should be passed into the minions as gzip in cloud-init GRAFANA_DASHB_URL=""https://grafana.net/api/dashboards/1621/revisions/1/download"" mkdir -p $GRAFANA_DEF_DASHBOARDS curl $GRAFANA_DASHB_URL -o $GRAFANA_DEF_DASHBOARD_FILE || echo ""Failed to fetch default Grafana dashboard"" if [ -f $GRAFANA_DEF_DASHBOARD_FILE ]; then sed -i -- 's|${DS_PROMETHEUS}|k8sPrometheus|g' $GRAFANA_DEF_DASHBOARD_FILE # Launch the monitoring service set -x systemctl daemon-reload systemctl enable kube-enable-monitoring.service systemctl start --no-block kube-enable-monitoring.serviceprintf ""Finished running ${step}\n""","#!/bin/bash# NOTE(flwang): Let's keep the same addons yaml file on all masters, # but if it's not the primary/bootstrapping master, don't try to # create those resources to avoid race condition issue until the # kubectl issue https://github.com/kubernetes/kubernetes/issues/44165 # fixed. if [ ""$MASTER_INDEX"" != ""0"" ]; then exit 0 fi if [ ""$(echo $PROMETHEUS_MONITORING | tr '[:upper:]' '[:lower:]')"" = ""false"" ]; then exit 0 fi PROMETHEUS_MON_BASE_DIR=""/srv/magnum/kubernetes/monitoring"" KUBE_MON_BIN=${PROMETHEUS_MON_BASE_DIR}""/bin/kube-enable-monitoring"" KUBE_MON_SERVICE=""/etc/systemd/system/kube-enable-monitoring.service"" GRAFANA_DEF_DASHBOARDS=${PROMETHEUS_MON_BASE_DIR}""/dashboards"" GRAFANA_DEF_DASHBOARD_FILE=$GRAFANA_DEF_DASHBOARDS""/default.json"" # Write the binary for enable-monitoring KUBE_MON_BIN_CONTENT='''#!/bin/sh until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] do echo ""Waiting for Kubernetes API..."" sleep 5 done # Check if all resources exist already before creating them # Check if configmap Prometheus exists kubectl get configmap prometheus -n prometheus-monitoring if [ ""$?"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/prometheusConfigMap.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/prometheusConfigMap.yaml fi # Check if deployment and service Prometheus exist kubectl get service prometheus -n prometheus-monitoring | kubectl get deployment prometheus -n prometheus-monitoring if [ ""${PIPESTATUS[0]}"" != ""0"" ] && [ ""${PIPESTATUS[1]}"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/prometheusService.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/prometheusService.yaml fi # Check if configmap graf-dash exists kubectl get configmap graf-dash -n prometheus-monitoring if [ ""$?"" != ""0"" ] && \ [ -f '''$GRAFANA_DEF_DASHBOARD_FILE''' ]; then kubectl create configmap graf-dash --from-file='''$GRAFANA_DEF_DASHBOARD_FILE''' -n prometheus-monitoring fi # Check if deployment and service Grafana exist kubectl get service grafana -n prometheus-monitoring | kubectl get deployment grafana -n prometheus-monitoring if [ ""${PIPESTATUS[0]}"" != ""0"" ] && [ ""${PIPESTATUS[1]}"" != ""0"" ] && \ [ -f ""'''${PROMETHEUS_MON_BASE_DIR}'''/grafanaService.yaml"" ]; then kubectl create -f '''${PROMETHEUS_MON_BASE_DIR}'''/grafanaService.yaml fi # Wait for Grafana pod and then inject data source while true do echo ""Waiting for Grafana pod to be up and Running"" if [ ""$(kubectl get po -n prometheus-monitoring -l name=grafana -o jsonpath={..phase})"" = ""Running"" ]; then break sleep 2 done # Which node is running Grafana NODE_IP=`kubectl get po -n prometheus-monitoring -o jsonpath={.items[0].status.hostIP} -l name=grafana` PROM_SERVICE_IP=`kubectl get svc prometheus --namespace prometheus-monitoring -o jsonpath={..clusterIP}` # The Grafana pod might be running but the app might still be initiating echo ""Check if Grafana is ready..."" curl --user admin:$ADMIN_PASSWD -X GET http://$NODE_IP:3000/api/datasources/1 until [ $? -eq 0 ] do sleep 2done # Inject Prometheus datasource into Grafana while true do INJECT=`curl --user admin:$ADMIN_PASSWD -X POST \ -H ""Content-Type: application/json;charset=UTF-8"" \ --data-binary '''""'""'''{""name"":""k8sPrometheus"",""isDefault"":true, ""type"":""prometheus"",""url"":""http://'''""'""'''$PROM_SERVICE_IP'''""'""''':9090"",""access"":""proxy""}'''""'""'''\ ""http://$NODE_IP:3000/api/datasources/""` if [[ ""$INJECT"" = *""Datasource added""* ]]; then echo ""Prometheus datasource injected into Grafana"" break echo ""Trying to inject Prometheus datasource into Grafana - ""$INJECT done ''' writeFile $KUBE_MON_BIN ""$KUBE_MON_BIN_CONTENT"" # Write the monitoring service KUBE_MON_SERVICE_CONTENT='''[Unit] Description=Enable Prometheus monitoring stack [Service] Type=oneshot Environment=HOME=/root EnvironmentFile=-/etc/kubernetes/config ExecStart='''${KUBE_MON_BIN}''' [Install] WantedBy=multi-user.target ''' writeFile $KUBE_MON_SERVICE ""$KUBE_MON_SERVICE_CONTENT"" chown root:root ${KUBE_MON_BIN} chmod 0755 ${KUBE_MON_BIN} chown root:root ${KUBE_MON_SERVICE} chmod 0644 ${KUBE_MON_SERVICE} # Download the default JSON Grafana dashboard # Not a crucial step, so allow it to fail # TODO: this JSON should be passed into the minions as gzip in cloud-init GRAFANA_DASHB_URL=""https://grafana.net/api/dashboards/1621/revisions/1/download"" mkdir -p $GRAFANA_DEF_DASHBOARDS curl $GRAFANA_DASHB_URL -o $GRAFANA_DEF_DASHBOARD_FILE || echo ""Failed to fetch default Grafana dashboard"" if [ -f $GRAFANA_DEF_DASHBOARD_FILE ]; then sed -i -- 's|${DS_PROMETHEUS}|k8sPrometheus|g' $GRAFANA_DEF_DASHBOARD_FILE# Launch the monitoring service set -x systemctl daemon-reload systemctl enable kube-enable-monitoring.service systemctl start --no-block kube-enable-monitoring.service",265,393
openstack%2Fsearchlight-ui~master~I0dd93ff2b2e3f026c5248244f7088d4d25bad9b8,openstack/searchlight-ui,master,I0dd93ff2b2e3f026c5248244f7088d4d25bad9b8,Update storyboard links,MERGED,2019-03-18 03:25:29.000000000,2019-03-18 04:11:44.000000000,2019-03-18 04:11:44.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 03:25:29.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/0dcb3e82744cb3e5a4e8a04da87bc4abdcdd7721', 'message': 'Update storyboard links\n\nChange-Id: I0dd93ff2b2e3f026c5248244f7088d4d25bad9b8\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643845,0dcb3e82744cb3e5a4e8a04da87bc4abdcdd7721,6,2,1,27068,,,0,"Update storyboard links

Change-Id: I0dd93ff2b2e3f026c5248244f7088d4d25bad9b8
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/45/643845/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,0dcb3e82744cb3e5a4e8a04da87bc4abdcdd7721,,* Bugs: https://storyboard.openstack.org/#!/project_group/searchlight,* Bugs: https://storyboard.openstack.org/#!/project_group/93,2,2
openstack%2Fpython-searchlightclient~master~Iab4fe00f6ac19245be00825cf228ae4f96398186,openstack/python-searchlightclient,master,Iab4fe00f6ac19245be00825cf228ae4f96398186,Update storyboard links,MERGED,2019-03-18 03:23:10.000000000,2019-03-18 04:08:40.000000000,2019-03-18 04:08:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 03:23:10.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/d508dafe1c6ea02fac4b66d104d0d66ca89bb435', 'message': 'Update storyboard links\n\nChange-Id: Iab4fe00f6ac19245be00825cf228ae4f96398186\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643844,d508dafe1c6ea02fac4b66d104d0d66ca89bb435,6,2,1,27068,,,0,"Update storyboard links

Change-Id: Iab4fe00f6ac19245be00825cf228ae4f96398186
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/python-searchlightclient refs/changes/44/643844/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,d508dafe1c6ea02fac4b66d104d0d66ca89bb435,,.. _Storyboard: https://storyboard.openstack.org/#!/project_group/searchlight* Bugs: https://storyboard.openstack.org/#!/project_group/searchlight,.. _Storyboard: https://storyboard.openstack.org/#!/project_group/93* Bugs: https://storyboard.openstack.org/#!/project_group/93,3,3
openstack%2Fzaqar~master~I8f69e8eb21271d2265199838fcf0b16a87b8bc2d,openstack/zaqar,master,I8f69e8eb21271d2265199838fcf0b16a87b8bc2d,Add releasenotes for bp remove-pool-group-totally,MERGED,2019-03-06 06:56:30.000000000,2019-03-18 03:51:19.000000000,2019-03-18 03:51:18.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 06:56:30.000000000', 'files': ['releasenotes/notes/remove-pool-group-totally-062ecfccd90a6725.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d1a01d59190a2a30f20731411c0655a0d1d48b74', 'message': 'Add releasenotes for bp remove-pool-group-totally\n\nChange-Id: I8f69e8eb21271d2265199838fcf0b16a87b8bc2d\n'}]",0,641212,d1a01d59190a2a30f20731411c0655a0d1d48b74,6,2,1,21387,,,0,"Add releasenotes for bp remove-pool-group-totally

Change-Id: I8f69e8eb21271d2265199838fcf0b16a87b8bc2d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/12/641212/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-pool-group-totally-062ecfccd90a6725.yaml'],1,d1a01d59190a2a30f20731411c0655a0d1d48b74,bp/remove-pool-group-totally,"--- features: - | In Queens, we support the old way to use pool_group and the new way without it in Flavor both. In Stein, we will remove the pool_group totally and only keep the new way in Flavor and Pool. ",,7,0
openstack%2Fkeystoneauth~master~I0f3849d1c741aeaf9880984157dc73a13bbc9fab,openstack/keystoneauth,master,I0f3849d1c741aeaf9880984157dc73a13bbc9fab,Set Content-Type header explictly for LegacyJsonAdapter,ABANDONED,2019-03-15 04:21:21.000000000,2019-03-18 03:47:45.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 04:21:21.000000000', 'files': ['keystoneauth1/adapter.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b68ae1fcfac1553ee56068d8a43f14354da4ee0b', 'message': 'Set Content-Type header explictly for LegacyJsonAdapter\n\nSessionClient in most services subclass LegacyJsonAdapter.\nWe don\'t seem to set the Content-Type header explicitly and\nit can result in decoding issues.\n\nFrom RFC2616:\n\nAny HTTP/1.1 message containing an entity-body SHOULD include a\nContent-Type header field defining the media type of that body. If\nand only if the media type is not given by a Content-Type field, the\nrecipient MAY attempt to guess the media type via inspection of its\ncontent and/or the name extension(s) of the URI used to identify the\nresource. If the media type remains unknown, the recipient SHOULD\ntreat it as type ""application/octet-stream"".\n\nChange-Id: I0f3849d1c741aeaf9880984157dc73a13bbc9fab\nStory: 2005237\n'}]",0,643505,b68ae1fcfac1553ee56068d8a43f14354da4ee0b,10,4,1,8833,,,0,"Set Content-Type header explictly for LegacyJsonAdapter

SessionClient in most services subclass LegacyJsonAdapter.
We don't seem to set the Content-Type header explicitly and
it can result in decoding issues.

From RFC2616:

Any HTTP/1.1 message containing an entity-body SHOULD include a
Content-Type header field defining the media type of that body. If
and only if the media type is not given by a Content-Type field, the
recipient MAY attempt to guess the media type via inspection of its
content and/or the name extension(s) of the URI used to identify the
resource. If the media type remains unknown, the recipient SHOULD
treat it as type ""application/octet-stream"".

Change-Id: I0f3849d1c741aeaf9880984157dc73a13bbc9fab
Story: 2005237
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/05/643505/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/adapter.py'],1,b68ae1fcfac1553ee56068d8a43f14354da4ee0b,," headers.setdefault('Content-Type', 'application/json')",,1,0
openstack%2Fvitrage~master~I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5,openstack/vitrage,master,I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5,optimize snmp_service,MERGED,2019-03-14 12:41:25.000000000,2019-03-18 03:23:29.000000000,2019-03-18 03:23:29.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}, {'_account_id': 29383}]","[{'number': 1, 'created': '2019-03-14 12:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/795d3f67f94523e6500507f5309ee2f248271129', 'message': 'optimize snmp_service\n\n1.Alarm_oid_mapping content should be got when service init,it\n  should not be called evety time\n2.Delete invalid judgment in _send_snmp_to_queue\n\nChange-Id: I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5\nSigned-off-by: hewei <hewei@cmss.chinamobile.com>\n'}, {'number': 2, 'created': '2019-03-15 07:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6c6ff0ecbeea8b76ed5676fc7e0b6019e59a2567', 'message': 'optimize snmp_service\n\n1.Alarm_oid_mapping content should be got when service init,it\n  should not be called evety time\n2.Delete invalid judgment in _send_snmp_to_queue\n\nChange-Id: I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5\nSigned-off-by: hewei <hewei@cmss.chinamobile.com>\n'}, {'number': 3, 'created': '2019-03-15 07:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/67ece5f59f86a488721b37c2dbbfab1debc22658', 'message': 'optimize snmp_service\n\n1.Alarm_oid_mapping content should be got when service init,it\n  should not be called evety time\n2.Delete invalid judgment in _send_snmp_to_queue\n\nChange-Id: I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5\nSigned-off-by: hewei <hewei@cmss.chinamobile.com>\n'}, {'number': 4, 'created': '2019-03-15 08:52:17.000000000', 'files': ['vitrage/snmp_parsing/service.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/bddd3bf69c69ff5dc9924b816d19c8cb379ebeef', 'message': 'optimize snmp_service\n\n1.Alarm_oid_mapping content should be got when service init,it\n  should not be called evety time\n2.Delete invalid judgment in _send_snmp_to_queue\n\nChange-Id: I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5\nSigned-off-by: hewei <hewei@cmss.chinamobile.com>\n'}]",9,643316,bddd3bf69c69ff5dc9924b816d19c8cb379ebeef,21,6,4,29383,,,0,"optimize snmp_service

1.Alarm_oid_mapping content should be got when service init,it
  should not be called evety time
2.Delete invalid judgment in _send_snmp_to_queue

Change-Id: I1a3d6f1f157b21fd7e0f5ec68985cce3766f60a5
Signed-off-by: hewei <hewei@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/16/643316/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/tests/unit/snmp_parsing/test_snmp_parsing.py', 'vitrage/snmp_parsing/service.py']",2,795d3f67f94523e6500507f5309ee2f248271129,optimize_snmp_service," self.alarm_mapping = \ load_yaml_file(self.conf.snmp.alarm_oid_mapping, True) binds_dict[u_oid] = int(val) if isinstance(val, Integer) \ if not self.alarm_mapping: for mapping_info in self.alarm_mapping:",import json binds_dict[u_oid] = int(val) if type(val) == Integer \ if str == type(snmp_trap): snmp_trap = json.loads(snmp_trap) yaml_file_content = load_yaml_file(self.conf.snmp_parsing.oid_mapping) if not yaml_file_content: for mapping_info in yaml_file_content:,7,8
openstack%2Fkeystone~master~Ice8c08d192f6eea84a6a05975177be026b1e8929,openstack/keystone,master,Ice8c08d192f6eea84a6a05975177be026b1e8929,Small refactor for create nonlocal user,MERGED,2019-03-14 21:06:46.000000000,2019-03-18 03:21:31.000000000,2019-03-18 03:21:30.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-03-14 21:06:46.000000000', 'files': ['keystone/identity/shadow_backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/79be1dc10cf7be7a58d9ab9e18f74bd12933c867', 'message': 'Small refactor for create nonlocal user\n\nThis change refactors the local user attribute key deletion\nwhen creating a new nonlocal user to simply pop the specific keys\ninstead of creating a separate list and iterating over it in order\nto accomplish the same result.\n\nBased on this[0] previous comment.\n\n[0] https://review.openstack.org/#/c/357979/4/keystone/identity/shadow_backends/sql.py\n\nChange-Id: Ice8c08d192f6eea84a6a05975177be026b1e8929\n'}]",1,643457,79be1dc10cf7be7a58d9ab9e18f74bd12933c867,8,4,1,21420,,,0,"Small refactor for create nonlocal user

This change refactors the local user attribute key deletion
when creating a new nonlocal user to simply pop the specific keys
instead of creating a separate list and iterating over it in order
to accomplish the same result.

Based on this[0] previous comment.

[0] https://review.openstack.org/#/c/357979/4/keystone/identity/shadow_backends/sql.py

Change-Id: Ice8c08d192f6eea84a6a05975177be026b1e8929
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/643457/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/shadow_backends/sql.py'],1,79be1dc10cf7be7a58d9ab9e18f74bd12933c867,refactor," new_user_dict.pop('name', None) new_user_dict.pop('password', None)"," keys_to_delete = ['name', 'password'] for key in keys_to_delete: if key in new_user_dict: del new_user_dict[key]",2,4
openstack%2Fpuppet-cinder~stable%2Frocky~I9302dfde055c2e53bdb83bab4a873e00468e7ce1,openstack/puppet-cinder,stable/rocky,I9302dfde055c2e53bdb83bab4a873e00468e7ce1,Handle image_volume_cache_enabled for PureStorage backend,MERGED,2019-03-12 20:27:21.000000000,2019-03-18 03:00:09.000000000,2019-03-18 03:00:09.000000000,"[{'_account_id': 9414}, {'_account_id': 13425}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 20:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/14a59fe665a035a049be45364276106c76a6fdd0', 'message': 'Handle image_volume_cache_enabled for PureStorage backend\n\nAllows image_volume_cache_enabled to be set in the PureStorage\nbackend. This parameter will default to true if not set explicitly.\n\nChange-Id: I9302dfde055c2e53bdb83bab4a873e00468e7ce1\nCloses-bug: 1819055\n(cherry picked from commit 9299788303049b9563720104b22a8c70dbf157e1)\n'}, {'number': 2, 'created': '2019-03-12 21:05:29.000000000', 'files': ['releasenotes/notes/purestorage-handle-imagecache-6c2d78f91746bdbf.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3a8ba6bdb12d5869ca8a94496daeba1a34aeaa4a', 'message': 'Handle image_volume_cache_enabled for PureStorage backend\n\nAllows image_volume_cache_enabled to be set in the PureStorage\nbackend. This parameter will default to true if not set explicitly.\n\nChange-Id: I9302dfde055c2e53bdb83bab4a873e00468e7ce1\nCloses-bug: 1819055\n(cherry picked from commit 9299788303049b9563720104b22a8c70dbf157e1)\n'}]",1,642882,3a8ba6bdb12d5869ca8a94496daeba1a34aeaa4a,10,4,2,26359,,,0,"Handle image_volume_cache_enabled for PureStorage backend

Allows image_volume_cache_enabled to be set in the PureStorage
backend. This parameter will default to true if not set explicitly.

Change-Id: I9302dfde055c2e53bdb83bab4a873e00468e7ce1
Closes-bug: 1819055
(cherry picked from commit 9299788303049b9563720104b22a8c70dbf157e1)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/82/642882/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/purestorage-handle-imagecache-6c2d78f91746bdbf.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,14a59fe665a035a049be45364276106c76a6fdd0,bug/1819055,"# (optional) Use authentication for iSCSI. Only affects the PureISCSIDriver.# [*use_multipath_for_image_xfer*] # (optional) Use multipath when attaching the volume for image transfer. # Defaults to True ## [*image_volume_cache_enabled*] # (Optional) Enable Cinder's image cache function for the PureStorage # backend. # Defaults to True # $image_volume_cache_enabled = true, ""${name}/use_multipath_for_image_xfer"": value => $use_multipath_for_image_xfer; ""${name}/image_volume_cache_enabled"": value => $image_volume_cache_enabled;","# [*use_multipath_for_image_xfer*] # (optional) . # Defaults to True ## (optional) Only affects the PureISCSIDriver. ""${name}/use_multipath_for_image_xfer"": value => $use_multipath_for_image_xfer ;",30,6
openstack%2Fpuppet-watcher~master~I615989da04d074eb948451ef8d1271f3575bd71c,openstack/puppet-watcher,master,I615989da04d074eb948451ef8d1271f3575bd71c,Change watcher_client_project_name default value to services,MERGED,2019-03-15 01:28:11.000000000,2019-03-18 02:00:00.000000000,2019-03-18 01:59:59.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 01:28:11.000000000', 'files': ['releasenotes/notes/update_watcher_client_project_name-abd703bec044d78d.yaml', 'manifests/api.pp', 'spec/classes/watcher_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/5dea6e9b2ada43f9b15fc676dfd61508cddbfe50', 'message': 'Change watcher_client_project_name default value to services\n\nThe default project in keystone is named services. In order to keep\nit consistent, the default value of project_name is changed to services.\n\nChange-Id: I615989da04d074eb948451ef8d1271f3575bd71c\n'}]",0,643497,5dea6e9b2ada43f9b15fc676dfd61508cddbfe50,6,2,1,9414,,,0,"Change watcher_client_project_name default value to services

The default project in keystone is named services. In order to keep
it consistent, the default value of project_name is changed to services.

Change-Id: I615989da04d074eb948451ef8d1271f3575bd71c
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/97/643497/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/update_watcher_client_project_name-abd703bec044d78d.yaml', 'manifests/api.pp', 'spec/classes/watcher_api_spec.rb']",3,5dea6e9b2ada43f9b15fc676dfd61508cddbfe50,fix-watcher_client_project_name, is_expected.to contain_watcher_config('watcher_clients_auth/project_name').with_value('services'), is_expected.to contain_watcher_config('watcher_clients_auth/project_name').with_value('service'),7,3
openstack%2Frequirements~stable%2Fpike~Ie96b0abe285d6bd8f923c45332fa747357703123,openstack/requirements,stable/pike,Ie96b0abe285d6bd8f923c45332fa747357703123,Block requests 2.20.0 to ensure affected projects can too,MERGED,2019-03-12 17:09:30.000000000,2019-03-18 01:59:15.000000000,2019-03-18 01:59:14.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 14624}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 17:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1b4c2e64a875f9fce5bb99173e9a7aae34551876', 'message': 'Block requests 2.20.0 to ensure affected projects can too\n\nChange-Id: Ie96b0abe285d6bd8f923c45332fa747357703123\nCloses-Bug: 1800985\n'}, {'number': 2, 'created': '2019-03-12 19:05:05.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d7928b80d7fa3e07bf61963ec500c38a94c2b89b', 'message': 'Block requests 2.20.0 to ensure affected projects can too\n\nChange-Id: Ie96b0abe285d6bd8f923c45332fa747357703123\nCloses-Bug: 1800985\n(cherry picked from commit ab717879591fd08cd78ea3b10a88ae433a3fe002)\n'}]",0,642827,d7928b80d7fa3e07bf61963ec500c38a94c2b89b,9,5,2,24131,,,0,"Block requests 2.20.0 to ensure affected projects can too

Change-Id: Ie96b0abe285d6bd8f923c45332fa747357703123
Closes-Bug: 1800985
(cherry picked from commit ab717879591fd08cd78ea3b10a88ae433a3fe002)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/642827/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,1b4c2e64a875f9fce5bb99173e9a7aae34551876,bug/1800985,"requests>=2.14.2,!=2.20.0 # Apache-2.0",requests>=2.14.2 # Apache-2.0,1,1
openstack%2Fsahara~stable%2Fpike~Iaa77349ef0c0ba28732e32dee16e5c67c1e1654e,openstack/sahara,stable/pike,Iaa77349ef0c0ba28732e32dee16e5c67c1e1654e,DNM: for testing the sahara-test-tempest job,ABANDONED,2019-02-27 06:04:10.000000000,2019-03-18 01:33:08.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 06:04:10.000000000', 'files': ['sahara/version.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/073e73dd55f19b2a2744f1f599cdcfa9af01ab93', 'message': 'DNM: for testing the sahara-test-tempest job\n\nDepends-On: https://review.openstack.org/#/c/639506/\nChange-Id: Iaa77349ef0c0ba28732e32dee16e5c67c1e1654e\n'}]",0,639530,073e73dd55f19b2a2744f1f599cdcfa9af01ab93,5,3,1,8556,,,0,"DNM: for testing the sahara-test-tempest job

Depends-On: https://review.openstack.org/#/c/639506/
Change-Id: Iaa77349ef0c0ba28732e32dee16e5c67c1e1654e
",git fetch https://review.opendev.org/openstack/sahara refs/changes/30/639530/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/version.py'],1,073e73dd55f19b2a2744f1f599cdcfa9af01ab93,,,,1,0
openstack%2Fdevstack~stable%2Fpike~I16f6121cf1f298a173ca23935ba35a7db7338516,openstack/devstack,stable/pike,I16f6121cf1f298a173ca23935ba35a7db7338516,Use master upper-constraints when installing tempest plugins,ABANDONED,2019-02-27 05:57:56.000000000,2019-03-18 01:33:02.000000000,,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 05:57:56.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab1ea2de4103a99784c040772fa96ca258ef03c0', 'message': ""Use master upper-constraints when installing tempest plugins\n\nwhen tempst venv is build, it use the master upper_contraint[1]\nbut when we install tempest plugin, it use branch upper_contraint.\n\nThis leads to mismatch the dependency version between tempest and required\ntempest plugins setup.\n\nCurrent flow after this change is:\n\n1. install tempest form master (until you explicitly change TEMPEST_BRANCH\n   which is default to master in all stable branch). It applies the upper_constraint\n   from the stable branch but that will be overridden in step2\n2. configure tempest, here the created venv will install all dependency with\n   master's upper_constraint.\n3. install tempest plugins in same venv created above. Now tempest plugin\n   will also use the master upper_constraint.\n\nWith this tempest venv which has all enabled plugin will be contsraint with\nmaster.\n\n[1] https://github.com/openstack-dev/devstack/blob/72f632222f6d90d3545b5d7ca48297da4218e2ea/lib/tempest#L590\nCloses-Bug: #1816022\n\nChange-Id: I16f6121cf1f298a173ca23935ba35a7db7338516\n""}]",0,639506,ab1ea2de4103a99784c040772fa96ca258ef03c0,8,4,1,8556,,,0,"Use master upper-constraints when installing tempest plugins

when tempst venv is build, it use the master upper_contraint[1]
but when we install tempest plugin, it use branch upper_contraint.

This leads to mismatch the dependency version between tempest and required
tempest plugins setup.

Current flow after this change is:

1. install tempest form master (until you explicitly change TEMPEST_BRANCH
   which is default to master in all stable branch). It applies the upper_constraint
   from the stable branch but that will be overridden in step2
2. configure tempest, here the created venv will install all dependency with
   master's upper_constraint.
3. install tempest plugins in same venv created above. Now tempest plugin
   will also use the master upper_constraint.

With this tempest venv which has all enabled plugin will be contsraint with
master.

[1] https://github.com/openstack-dev/devstack/blob/72f632222f6d90d3545b5d7ca48297da4218e2ea/lib/tempest#L590
Closes-Bug: #1816022

Change-Id: I16f6121cf1f298a173ca23935ba35a7db7338516
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/639506/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,ab1ea2de4103a99784c040772fa96ca258ef03c0,," # The requirements might be on a different branch, while tempest & tempest plugins needs master requirements. (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > u-c-m.txt tox -evenv-tempest -- pip install -c u-c-m.txt $TEMPEST_PLUGINS", tox -evenv-tempest -- pip install -c $REQUIREMENTS_DIR/upper-constraints.txt $TEMPEST_PLUGINS,3,1
openstack%2Fdevstack~master~I5d589fd874a64fa9884e35cddc2b14a033fd1747,openstack/devstack,master,I5d589fd874a64fa9884e35cddc2b14a033fd1747,Adding create member role during the installation,ABANDONED,2018-08-02 06:39:19.000000000,2019-03-18 01:31:17.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26571}, {'_account_id': 26584}]","[{'number': 1, 'created': '2018-08-02 06:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/373b9c4638850d3d803dd7ebb1b610ce62b2e426', 'message': 'Adding create member role during the installation\n\nWhen I installed devstack,I encountered a\n""No role with a name or ID of \'member\'."" error.\nAfter reviewing the scripts of the installation\nprocess,I found that during the deployment of\nkeystone,the creation of the member role was\nreally missing,so I modified it with reference\nto the Queen version.\n\nChange-Id: I5d589fd874a64fa9884e35cddc2b14a033fd1747\n'}, {'number': 2, 'created': '2018-08-03 02:20:55.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4221104f3579490149562956ec65ed055b9e7f87', 'message': 'Adding create member role during the installation\n\nWhen I installed devstack,I encountered a\n""No role with a name or ID of \'member\'."" error.\nAfter reviewing the scripts of the installation\nprocess,I found that during the deployment of\nkeystone,the creation of the member role was\nreally missing,so I modified it with reference\nto the Queen version.\n\nChange-Id: I5d589fd874a64fa9884e35cddc2b14a033fd1747\n'}]",0,588147,4221104f3579490149562956ec65ed055b9e7f87,15,8,2,26571,,,0,"Adding create member role during the installation

When I installed devstack,I encountered a
""No role with a name or ID of 'member'."" error.
After reviewing the scripts of the installation
process,I found that during the deployment of
keystone,the creation of the member role was
really missing,so I modified it with reference
to the Queen version.

Change-Id: I5d589fd874a64fa9884e35cddc2b14a033fd1747
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/588147/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,373b9c4638850d3d803dd7ebb1b610ce62b2e426,dev," # The Member role is used by Horizon and Swift so we need to keep it: local member_role=""member"" # Capital Member role is legacy hard coded in Horizon / Swift # configs. Keep it around. get_or_create_role ""Member"" # The reality is that the rest of the roles listed below honestly # should work by symbolic names. get_or_create_role $member_role ",,11,0
openstack%2Ffreezer-api~master~I57e260fe8ce1db7e41100a7e151698b333d784d3,openstack/freezer-api,master,I57e260fe8ce1db7e41100a7e151698b333d784d3,Fix elasticsearch issue with jdk on bionic,MERGED,2019-03-14 01:57:42.000000000,2019-03-18 01:28:33.000000000,2019-03-14 09:21:24.000000000,"[{'_account_id': 8556}, {'_account_id': 17130}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-14 01:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c690c951a818663d527c51ba0a57a387ca83e141', 'message': 'DNM - Fix elasticsearch issue with jdk on bionic\n\nChange-Id: I57e260fe8ce1db7e41100a7e151698b333d784d3\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}, {'number': 2, 'created': '2019-03-14 01:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/130c13b9f7ff9ad23b2e0edddb72c822d71ec49b', 'message': 'Fix elasticsearch issue with jdk on bionic\n\nChange-Id: I57e260fe8ce1db7e41100a7e151698b333d784d3\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}, {'number': 3, 'created': '2019-03-14 04:16:30.000000000', 'files': ['devstack/lib/elasticsearch.sh'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c24f74ff5998ac9b6f55c32b6b304b2a9c3c802f', 'message': 'Fix elasticsearch issue with jdk on bionic\n\nChange-Id: I57e260fe8ce1db7e41100a7e151698b333d784d3\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,643213,c24f74ff5998ac9b6f55c32b6b304b2a9c3c802f,17,7,3,27068,,,0,"Fix elasticsearch issue with jdk on bionic

Change-Id: I57e260fe8ce1db7e41100a7e151698b333d784d3
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/13/643213/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/elasticsearch.sh'],1,c690c951a818663d527c51ba0a57a387ca83e141,, . /etc/os-release if [[ $VERSION_CODENAME = bionic ]]; then is_package_installed openjdk-8-jre-headless || install_package openjdk-8-jre-headless else is_package_installed default-jre-headless || install_package default-jre-headless fi, is_package_installed default-jre-headless || install_package default-jre-headless,6,1
openstack%2Frequirements~stable%2Fqueens~Ie96b0abe285d6bd8f923c45332fa747357703123,openstack/requirements,stable/queens,Ie96b0abe285d6bd8f923c45332fa747357703123,Block requests 2.20.0 to ensure affected projects can too,MERGED,2019-03-12 15:55:27.000000000,2019-03-18 01:10:59.000000000,2019-03-18 01:10:59.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 14624}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 15:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9990a26eb50692fa2b33cf52e2e5a2fa38cf1251', 'message': 'Block requests 2.20.0 to ensure affected projects can too\n\nChange-Id: Ie96b0abe285d6bd8f923c45332fa747357703123\nCloses-Bug: 1800985\n'}, {'number': 2, 'created': '2019-03-12 19:06:03.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/65c5daae8ce4be1fd94af43b736194c67fbecbeb', 'message': 'Block requests 2.20.0 to ensure affected projects can too\n\nChange-Id: Ie96b0abe285d6bd8f923c45332fa747357703123\nCloses-Bug: 1800985\n(cherry picked from commit ab717879591fd08cd78ea3b10a88ae433a3fe002)\n'}]",0,642802,65c5daae8ce4be1fd94af43b736194c67fbecbeb,10,5,2,24131,,,0,"Block requests 2.20.0 to ensure affected projects can too

Change-Id: Ie96b0abe285d6bd8f923c45332fa747357703123
Closes-Bug: 1800985
(cherry picked from commit ab717879591fd08cd78ea3b10a88ae433a3fe002)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/642802/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,9990a26eb50692fa2b33cf52e2e5a2fa38cf1251,bug/1800985,"requests>=2.14.2,!=2.20.0 # Apache-2.0",requests>=2.14.2 # Apache-2.0,1,1
openstack%2Fmonasca-analytics~master~I5e2e310c17b1dcdd4ab8e71c37f4f59104e2e63e,openstack/monasca-analytics,master,I5e2e310c17b1dcdd4ab8e71c37f4f59104e2e63e,"Update requirements for ""tornade""",MERGED,2019-03-14 03:53:12.000000000,2019-03-18 01:07:12.000000000,2019-03-18 01:07:12.000000000,"[{'_account_id': 12193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 03:53:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-analytics/commit/aeab923ba96a6a42e4cdbd15543f0bb04843d8e7', 'message': 'Update requirements for ""tornade""\n\n- Pin tornade version less than 6.0.\n  Currently, monasca-analytics use asynchronous decorator in tornade.web.\n  But this decorator has been removed in tornade version 6.0.\n  Therefore, openstack-tox-py35 in Zuul check is failed.\n\nThis is tentative approach. tornade should be replaced to flask in near future.\n\nChange-Id: I5e2e310c17b1dcdd4ab8e71c37f4f59104e2e63e\n'}]",0,643227,aeab923ba96a6a42e4cdbd15543f0bb04843d8e7,10,2,1,14162,,,0,"Update requirements for ""tornade""

- Pin tornade version less than 6.0.
  Currently, monasca-analytics use asynchronous decorator in tornade.web.
  But this decorator has been removed in tornade version 6.0.
  Therefore, openstack-tox-py35 in Zuul check is failed.

This is tentative approach. tornade should be replaced to flask in near future.

Change-Id: I5e2e310c17b1dcdd4ab8e71c37f4f59104e2e63e
",git fetch https://review.opendev.org/openstack/monasca-analytics refs/changes/27/643227/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,aeab923ba96a6a42e4cdbd15543f0bb04843d8e7,requirements,tornado < 6.0,tornado,1,1
openstack%2Fpython-watcherclient~master~I5723575d44dccf81779959c1cae43e2cab2abc9b,openstack/python-watcherclient,master,I5723575d44dccf81779959c1cae43e2cab2abc9b,Remove the functional test,MERGED,2019-03-14 09:01:40.000000000,2019-03-18 01:06:17.000000000,2019-03-18 01:06:17.000000000,"[{'_account_id': 14107}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-03-14 09:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/0068f93f183bcfc710cab5fd770b8f3eccff09db', 'message': '[WIP]Remove the functional test\n\nDepends-On: https://review.openstack.org/643247\n\nChange-Id: I5723575d44dccf81779959c1cae43e2cab2abc9b\n'}, {'number': 2, 'created': '2019-03-15 03:50:23.000000000', 'files': ['watcherclient/tests/functional/v1/test_action_plan.py', 'watcherclient/tests/functional/v1/test_audit.py', 'watcherclient/tests/functional/v1/base.py', 'watcherclient/config.py', 'watcherclient/tests/functional/v1/test_action.py', 'watcherclient/tests/functional/v1/test_audit_template.py', 'watcherclient/tests/functional/v1/test_service.py', 'watcherclient/tests/functional/__init__.py', 'watcherclient/tests/functional/v1/test_strategy.py', 'watcherclient/plugin.py', 'watcherclient/tests/functional/v1/__init__.py', 'setup.cfg', 'watcherclient/tests/functional/v1/test_goal.py', 'watcherclient/tests/functional/v1/test_scoring_engine.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/8342e6405161801fd78f86347784b9d5c3ee2935', 'message': 'Remove the functional test\n\nDepends-On: https://review.openstack.org/643247\nChange-Id: I5723575d44dccf81779959c1cae43e2cab2abc9b\n'}]",0,643248,8342e6405161801fd78f86347784b9d5c3ee2935,15,4,2,14107,,,0,"Remove the functional test

Depends-On: https://review.openstack.org/643247
Change-Id: I5723575d44dccf81779959c1cae43e2cab2abc9b
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/48/643248/2 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/tests/functional/v1/test_action_plan.py', 'watcherclient/tests/functional/v1/test_audit.py', 'watcherclient/tests/functional/v1/base.py', 'watcherclient/config.py', 'watcherclient/tests/functional/v1/test_action.py', 'watcherclient/tests/functional/v1/test_audit_template.py', 'watcherclient/tests/functional/v1/test_service.py', 'watcherclient/tests/functional/__init__.py', 'watcherclient/tests/functional/v1/test_strategy.py', 'watcherclient/plugin.py', 'watcherclient/tests/functional/v1/__init__.py', 'setup.cfg', 'watcherclient/tests/functional/v1/test_goal.py', 'watcherclient/tests/functional/v1/test_scoring_engine.py']",14,0068f93f183bcfc710cab5fd770b8f3eccff09db,,,"# Copyright (c) 2016 Servionica # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from watcherclient.tests.functional.v1 import base class ScoringEngineTests(base.TestCase): """"""Functional tests for scoring engine."""""" dummy_name = 'dummy_scorer' list_fields = ['UUID', 'Name', 'Description'] detailed_list_fields = list_fields + ['Metainfo'] def test_scoringengine_list(self): raw_output = self.watcher('scoringengine list') self.assertIn(self.dummy_name, raw_output) self.assert_table_structure([raw_output], self.list_fields) def test_scoringengine_detailed_list(self): raw_output = self.watcher('scoringengine list --detail') self.assertIn(self.dummy_name, raw_output) self.assert_table_structure([raw_output], self.detailed_list_fields) def test_scoringengine_show(self): raw_output = self.watcher('scoringengine show %s' % self.dummy_name) self.assertIn(self.dummy_name, raw_output) self.assert_table_structure([raw_output], self.detailed_list_fields) self.assertNotIn('dummy_avg_scorer', raw_output) ",0,844
openstack%2Frequirements~stable%2Frocky~I24eba0f5478fc0460d97a2162b0aac75de20e281,openstack/requirements,stable/rocky,I24eba0f5478fc0460d97a2162b0aac75de20e281,update constraint for instack-undercloud to new release 9.5.0,MERGED,2019-03-14 10:50:24.000000000,2019-03-18 00:39:17.000000000,2019-03-18 00:39:17.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:50:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1a369b246b38afd8b411e649f78201d27a1f9db9', 'message': 'update constraint for instack-undercloud to new release 9.5.0\n\nChange-Id: I24eba0f5478fc0460d97a2162b0aac75de20e281\nmeta:version: 9.5.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643276,1a369b246b38afd8b411e649f78201d27a1f9db9,7,3,1,11131,,,0,"update constraint for instack-undercloud to new release 9.5.0

Change-Id: I24eba0f5478fc0460d97a2162b0aac75de20e281
meta:version: 9.5.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/643276/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1a369b246b38afd8b411e649f78201d27a1f9db9,new-release,instack-undercloud===9.5.0,instack-undercloud===9.4.0,1,1
openstack%2Frequirements~stable%2Frocky~I86b2f889edeae10103108a2451cf4d272fbbf7ff,openstack/requirements,stable/rocky,I86b2f889edeae10103108a2451cf4d272fbbf7ff,update constraint for os-collect-config to new release 9.2.1,MERGED,2019-03-14 10:53:13.000000000,2019-03-18 00:39:16.000000000,2019-03-18 00:39:16.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:53:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e2a111f2a1a8b115b96b552fb41a8f9df9686319', 'message': 'update constraint for os-collect-config to new release 9.2.1\n\nChange-Id: I86b2f889edeae10103108a2451cf4d272fbbf7ff\nmeta:version: 9.2.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643278,e2a111f2a1a8b115b96b552fb41a8f9df9686319,7,3,1,11131,,,0,"update constraint for os-collect-config to new release 9.2.1

Change-Id: I86b2f889edeae10103108a2451cf4d272fbbf7ff
meta:version: 9.2.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/643278/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e2a111f2a1a8b115b96b552fb41a8f9df9686319,new-release,os-collect-config===9.2.1,os-collect-config===9.2.0,1,1
openstack%2Frequirements~stable%2Frocky~I82d94b34a7e1616fc2c3c7863f7eda4c8606fe89,openstack/requirements,stable/rocky,I82d94b34a7e1616fc2c3c7863f7eda4c8606fe89,update constraint for os-refresh-config to new release 9.1.1,MERGED,2019-03-14 10:54:13.000000000,2019-03-18 00:36:08.000000000,2019-03-18 00:36:08.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:54:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e556ba8e2550f05a43f96f6faf4b2b781724f32', 'message': 'update constraint for os-refresh-config to new release 9.1.1\n\nChange-Id: I82d94b34a7e1616fc2c3c7863f7eda4c8606fe89\nmeta:version: 9.1.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643280,3e556ba8e2550f05a43f96f6faf4b2b781724f32,7,3,1,11131,,,0,"update constraint for os-refresh-config to new release 9.1.1

Change-Id: I82d94b34a7e1616fc2c3c7863f7eda4c8606fe89
meta:version: 9.1.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/643280/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e556ba8e2550f05a43f96f6faf4b2b781724f32,new-release,os-refresh-config===9.1.1,os-refresh-config===9.1.0,1,1
openstack%2Frequirements~stable%2Frocky~I00d9c6c5e3abe751b6cc20c0ab595c5d08b0928c,openstack/requirements,stable/rocky,I00d9c6c5e3abe751b6cc20c0ab595c5d08b0928c,update constraint for paunch to new release 3.2.1,MERGED,2019-03-14 10:53:47.000000000,2019-03-18 00:36:07.000000000,2019-03-18 00:36:07.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:53:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/24a09cf9f5a3f5de555df28ec87caca7b69f23c7', 'message': 'update constraint for paunch to new release 3.2.1\n\nChange-Id: I00d9c6c5e3abe751b6cc20c0ab595c5d08b0928c\nmeta:version: 3.2.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643279,24a09cf9f5a3f5de555df28ec87caca7b69f23c7,7,3,1,11131,,,0,"update constraint for paunch to new release 3.2.1

Change-Id: I00d9c6c5e3abe751b6cc20c0ab595c5d08b0928c
meta:version: 3.2.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/643279/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,24a09cf9f5a3f5de555df28ec87caca7b69f23c7,new-release,paunch===3.2.1,paunch===3.2.0,1,1
openstack%2Frequirements~stable%2Frocky~I67acb8af26990356a617753f041ed97a337a955c,openstack/requirements,stable/rocky,I67acb8af26990356a617753f041ed97a337a955c,update constraint for os-apply-config to new release 9.1.1,MERGED,2019-03-14 10:56:49.000000000,2019-03-18 00:36:06.000000000,2019-03-18 00:36:06.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:56:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1d4a0b3dc53c64613ea4eb6c05c058118bf3182b', 'message': 'update constraint for os-apply-config to new release 9.1.1\n\nChange-Id: I67acb8af26990356a617753f041ed97a337a955c\nmeta:version: 9.1.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643282,1d4a0b3dc53c64613ea4eb6c05c058118bf3182b,7,3,1,11131,,,0,"update constraint for os-apply-config to new release 9.1.1

Change-Id: I67acb8af26990356a617753f041ed97a337a955c
meta:version: 9.1.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/643282/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1d4a0b3dc53c64613ea4eb6c05c058118bf3182b,new-release,os-apply-config===9.1.1,os-apply-config===9.1.0,1,1
openstack%2Frequirements~stable%2Frocky~Ic8396f59bbb6e244ab055eaf0486d4b42ffe92cc,openstack/requirements,stable/rocky,Ic8396f59bbb6e244ab055eaf0486d4b42ffe92cc,update constraint for tripleo-common to new release 9.5.0,MERGED,2019-03-14 10:55:27.000000000,2019-03-18 00:33:26.000000000,2019-03-18 00:33:26.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:55:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/07ffef75056543ab333c87d9a27b61404b8ce5cf', 'message': 'update constraint for tripleo-common to new release 9.5.0\n\nChange-Id: Ic8396f59bbb6e244ab055eaf0486d4b42ffe92cc\nmeta:version: 9.5.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643281,07ffef75056543ab333c87d9a27b61404b8ce5cf,9,3,1,11131,,,0,"update constraint for tripleo-common to new release 9.5.0

Change-Id: Ic8396f59bbb6e244ab055eaf0486d4b42ffe92cc
meta:version: 9.5.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/643281/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,07ffef75056543ab333c87d9a27b61404b8ce5cf,new-release,tripleo-common===9.5.0,tripleo-common===9.4.0,1,1
openstack%2Frequirements~stable%2Frocky~Ib5358390804879f5c604a96d989d00442e06bccf,openstack/requirements,stable/rocky,Ib5358390804879f5c604a96d989d00442e06bccf,update constraint for os-net-config to new release 9.3.0,MERGED,2019-03-14 10:52:38.000000000,2019-03-18 00:33:25.000000000,2019-03-18 00:33:25.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:52:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/63160eab02c43fd8355817dc79c16ba78a3bb115', 'message': 'update constraint for os-net-config to new release 9.3.0\n\nChange-Id: Ib5358390804879f5c604a96d989d00442e06bccf\nmeta:version: 9.3.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643277,63160eab02c43fd8355817dc79c16ba78a3bb115,10,3,1,11131,,,0,"update constraint for os-net-config to new release 9.3.0

Change-Id: Ib5358390804879f5c604a96d989d00442e06bccf
meta:version: 9.3.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ie59105e19796e728b8c288fe6cb8f2b6234751b2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/643277/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,63160eab02c43fd8355817dc79c16ba78a3bb115,new-release,os-net-config===9.3.0,os-net-config===9.2.0,1,1
openstack%2Freleases~master~I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3,openstack/releases,master,I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3,TripleO: Minor release for queens,MERGED,2019-02-19 14:24:29.000000000,2019-03-18 00:27:51.000000000,2019-03-18 00:27:51.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 14:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f5ed60764941a86dec83cbfe31c03d5fb2aedfae', 'message': 'TripleO: Minor release for queens\n\nChange-Id: I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3\n'}, {'number': 2, 'created': '2019-02-19 14:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aab36455f23a83f3f4424c59f6d988296c7b5375', 'message': 'TripleO: Minor release for queens\n\nDepends-On: https://review.openstack.org/637862\nChange-Id: I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3\n'}, {'number': 3, 'created': '2019-02-20 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ea3ca3f2deddfacf7f7b40fac11af3a9c6a34d33', 'message': 'TripleO: Minor release for queens\n\nDepends-On: https://review.openstack.org/637862\nChange-Id: I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3\n'}, {'number': 4, 'created': '2019-02-21 16:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dfb75e2b7bacbb3d57238fdab2db5b77bb43b1d7', 'message': 'TripleO: Minor release for queens\n\nDepends-On: https://review.openstack.org/637862\nChange-Id: I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3\n'}, {'number': 5, 'created': '2019-03-17 22:55:16.000000000', 'files': ['deliverables/queens/python-tripleoclient.yaml', 'deliverables/queens/tripleo-image-elements.yaml', 'deliverables/queens/os-apply-config.yaml', 'deliverables/queens/tripleo-common.yaml', 'deliverables/queens/instack-undercloud.yaml', 'deliverables/queens/os-net-config.yaml', 'deliverables/queens/tripleo-puppet-elements.yaml', 'deliverables/queens/os-collect-config.yaml', 'deliverables/queens/os-refresh-config.yaml', 'deliverables/queens/puppet-tripleo.yaml', 'deliverables/queens/tripleo-validations.yaml', 'deliverables/queens/paunch.yaml', 'deliverables/queens/tripleo-heat-templates.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8bb9d149fad61d3e3f019ad9641b11b2a0b3a478', 'message': 'TripleO: Minor release for queens\n\nDepends-On: https://review.openstack.org/637862\nChange-Id: I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3\n'}]",0,637857,8bb9d149fad61d3e3f019ad9641b11b2a0b3a478,29,7,5,10873,,,0,"TripleO: Minor release for queens

Depends-On: https://review.openstack.org/637862
Change-Id: I925df9a79a3e7369542a2046c9e4b8e40f5bd9d3
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/637857/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-tripleoclient.yaml', 'deliverables/queens/tripleo-ipsec.yaml', 'deliverables/queens/tripleo-image-elements.yaml', 'deliverables/queens/tripleo-ui.yaml', 'deliverables/queens/os-apply-config.yaml', 'deliverables/queens/tripleo-common.yaml', 'deliverables/queens/instack-undercloud.yaml', 'deliverables/queens/os-net-config.yaml', 'deliverables/queens/tripleo-puppet-elements.yaml', 'deliverables/queens/os-collect-config.yaml', 'deliverables/queens/os-refresh-config.yaml', 'deliverables/queens/puppet-tripleo.yaml', 'deliverables/queens/tripleo-validations.yaml', 'deliverables/queens/paunch.yaml', 'deliverables/queens/tripleo-heat-templates.yaml']",15,f5ed60764941a86dec83cbfe31c03d5fb2aedfae,release-queens, - projects: - hash: d6b05a755e9ad6cefd73987916dfbff47c9f72b5 repo: openstack/tripleo-heat-templates version: 8.3.1,,60,0
openstack%2Freleases~master~I6cfd7e847a7eae97acd233f60f83196b7d54dc90,openstack/releases,master,I6cfd7e847a7eae97acd233f60f83196b7d54dc90,Add Designate cycle highlights for Stein,MERGED,2019-03-14 20:58:10.000000000,2019-03-17 23:19:12.000000000,2019-03-17 23:19:12.000000000,"[{'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 20:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9d96c476044e27d9cb6fad78a32a1d2f46a42c3d', 'message': 'Add Designate cycle highlights for Stein\n\nChange-Id: I6cfd7e847a7eae97acd233f60f83196b7d54dc90\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 2, 'created': '2019-03-15 13:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/929cf83cdc2cd53fde6045727e91bc5af4ce33a7', 'message': 'Add Designate cycle highlights for Stein\n\nChange-Id: I6cfd7e847a7eae97acd233f60f83196b7d54dc90\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 3, 'created': '2019-03-17 22:40:28.000000000', 'files': ['deliverables/stein/designate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0909380fd158a15a93c8f9481d5929e79c2ef5e6', 'message': 'Add Designate cycle highlights for Stein\n\nChange-Id: I6cfd7e847a7eae97acd233f60f83196b7d54dc90\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",1,643456,0909380fd158a15a93c8f9481d5929e79c2ef5e6,12,3,3,8099,,,0,"Add Designate cycle highlights for Stein

Change-Id: I6cfd7e847a7eae97acd233f60f83196b7d54dc90
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/643456/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/designate.yaml'],1,9d96c476044e27d9cb6fad78a32a1d2f46a42c3d,designate-stein-highlights,cycle-highlights: - Added ``CAA`` recordset type for CA authorization for managed DNS Zones - Added `NAPTR`` recordset type for service chaining and SIP management - Validation of project IDs when updating quotas - ``designate-status upgrade check`` command was added to aid in upgrades.,,5,0
openstack%2Fadjutant~master~I68dbf16002b9105df280261ff14de6299fe5aa78,openstack/adjutant,master,I68dbf16002b9105df280261ff14de6299fe5aa78,better handle empty notification confs,MERGED,2019-03-11 00:07:05.000000000,2019-03-17 23:13:27.000000000,2019-03-17 23:13:27.000000000,"[{'_account_id': 10420}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 00:07:05.000000000', 'files': ['adjutant/notifications/models.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/764399bc147191afc7ca9c9058bb43eb38e208c3', 'message': ""better handle empty notification confs\n\nIn some cases we do want to disable notifications a little more\nselectively, but we should also log that we've done that in case\nsomeone does so by accident and needs to debug.\n\nChange-Id: I68dbf16002b9105df280261ff14de6299fe5aa78\n""}]",0,642302,764399bc147191afc7ca9c9058bb43eb38e208c3,7,3,1,10420,,,0,"better handle empty notification confs

In some cases we do want to disable notifications a little more
selectively, but we should also log that we've done that in case
someone does so by accident and needs to debug.

Change-Id: I68dbf16002b9105df280261ff14de6299fe5aa78
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/02/642302/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/notifications/models.py'],1,764399bc147191afc7ca9c9058bb43eb38e208c3,new/skip_notification,"from logging import getLogger from smtplib import SMTPException from django.utils import timezone self.logger = getLogger('adjutant') if not self.conf or not self.conf['emails']: # Log that we did this!! note = ( ""Skipped sending notification for task: %s "" ""as notification engine conf is None, or no emails "" ""were configured."" % task.uuid ) self.logger.info(""(%s) - %s"" % (timezone.now(), note)) return ",from smtplib import SMTPException,16,1
openstack%2Freleases~master~I8cf3046bd41d799ec7edd1a980030fbcbfc000eb,openstack/releases,master,I8cf3046bd41d799ec7edd1a980030fbcbfc000eb,Release OpenStack-Ansible queens/17.1.9,MERGED,2019-03-10 20:11:57.000000000,2019-03-17 23:04:19.000000000,2019-03-17 23:04:19.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-10 20:11:57.000000000', 'files': ['deliverables/queens/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fbbb814a7e713c0b314ab3ec92783e6794252f0b', 'message': 'Release OpenStack-Ansible queens/17.1.9\n\nChange-Id: I8cf3046bd41d799ec7edd1a980030fbcbfc000eb\n'}]",0,642290,fbbb814a7e713c0b314ab3ec92783e6794252f0b,8,3,1,17068,,,0,"Release OpenStack-Ansible queens/17.1.9

Change-Id: I8cf3046bd41d799ec7edd1a980030fbcbfc000eb
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/642290/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/openstack-ansible.yaml'],1,fbbb814a7e713c0b314ab3ec92783e6794252f0b,release_osa, - projects: - hash: f674bbe519fcad2082f671acc82d50d59f56ae9e repo: openstack/openstack-ansible version: 17.1.9,,4,0
openstack%2Freleases~master~I7cb95fdd90cf849ffb35d1ae3ef1f9f493c5ce03,openstack/releases,master,I7cb95fdd90cf849ffb35d1ae3ef1f9f493c5ce03,Release OpenStack-Ansible pike/16.0.27,MERGED,2019-03-10 20:12:12.000000000,2019-03-17 23:04:18.000000000,2019-03-17 23:04:18.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-10 20:12:12.000000000', 'files': ['deliverables/pike/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c65119b98b4fda2beb13e5c67cd8a2cff6770bbf', 'message': 'Release OpenStack-Ansible pike/16.0.27\n\nChange-Id: I7cb95fdd90cf849ffb35d1ae3ef1f9f493c5ce03\n'}]",0,642291,c65119b98b4fda2beb13e5c67cd8a2cff6770bbf,8,3,1,17068,,,0,"Release OpenStack-Ansible pike/16.0.27

Change-Id: I7cb95fdd90cf849ffb35d1ae3ef1f9f493c5ce03
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/642291/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/openstack-ansible.yaml'],1,c65119b98b4fda2beb13e5c67cd8a2cff6770bbf,release_osa, - projects: - hash: b2208fcfcef596c11247ef8475f0993122be377e repo: openstack/openstack-ansible version: 16.0.27,,4,0
openstack%2Fpython-adjutantclient~master~I93adb1f95f751f7db6b6aa01ceeeb329035c2676,openstack/python-adjutantclient,master,I93adb1f95f751f7db6b6aa01ceeeb329035c2676,fix tox python3 overrides,MERGED,2018-09-27 13:23:37.000000000,2019-03-17 23:01:59.000000000,2019-03-17 23:01:59.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-27 13:23:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-adjutantclient/commit/8627f50cb997c1602cce9580716ad588d2f7a690', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I93adb1f95f751f7db6b6aa01ceeeb329035c2676\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,605699,8627f50cb997c1602cce9580716ad588d2f7a690,9,5,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I93adb1f95f751f7db6b6aa01ceeeb329035c2676
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-adjutantclient refs/changes/99/605699/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8627f50cb997c1602cce9580716ad588d2f7a690,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Freleases~master~If8245e6ad6045e4c8168bda9f9dbe1a919de3bfe,openstack/releases,master,If8245e6ad6045e4c8168bda9f9dbe1a919de3bfe,Oslo stable/rocky releases for 2019-3-13,MERGED,2019-03-13 20:41:46.000000000,2019-03-17 23:01:33.000000000,2019-03-17 23:01:33.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 20:41:46.000000000', 'files': ['deliverables/rocky/tooz.yaml', 'deliverables/rocky/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/736fd063727c1fdfbbd782a988606ed9d6f1ca07', 'message': 'Oslo stable/rocky releases for 2019-3-13\n\nChange-Id: If8245e6ad6045e4c8168bda9f9dbe1a919de3bfe\n'}]",0,643158,736fd063727c1fdfbbd782a988606ed9d6f1ca07,8,3,1,6928,,,0,"Oslo stable/rocky releases for 2019-3-13

Change-Id: If8245e6ad6045e4c8168bda9f9dbe1a919de3bfe
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/643158/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/tooz.yaml', 'deliverables/rocky/oslo.db.yaml']",2,736fd063727c1fdfbbd782a988606ed9d6f1ca07,oslo-rocky, - projects: - hash: ddc4129a6dfdc16296d16e052c882717a4125611 repo: openstack/oslo.db version: 4.40.1,,8,0
openstack%2Freleases~master~I6711db064e29b32f49c8be6348a71f224fe405a6,openstack/releases,master,I6711db064e29b32f49c8be6348a71f224fe405a6,tooz 1.60.2,MERGED,2019-03-13 20:47:37.000000000,2019-03-17 23:01:32.000000000,2019-03-17 23:01:32.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 20:47:37.000000000', 'files': ['deliverables/queens/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/380a1f41709902caf5c5527c69fa197d69f45915', 'message': 'tooz 1.60.2\n\nChange-Id: I6711db064e29b32f49c8be6348a71f224fe405a6\n'}]",0,643159,380a1f41709902caf5c5527c69fa197d69f45915,8,3,1,6928,,,0,"tooz 1.60.2

Change-Id: I6711db064e29b32f49c8be6348a71f224fe405a6
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/643159/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/tooz.yaml'],1,380a1f41709902caf5c5527c69fa197d69f45915,oslo-queens, - projects: - hash: c1b787e682f1777064a5e7a66054b4842b39d21e repo: openstack/tooz version: 1.60.2,,4,0
openstack%2Freleases~master~I772e1de60b1dd47033d13904bd7cf9a199bd3691,openstack/releases,master,I772e1de60b1dd47033d13904bd7cf9a199bd3691,Release zun-ui 3.0.0,MERGED,2019-03-08 03:48:59.000000000,2019-03-17 23:01:31.000000000,2019-03-17 23:01:31.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 12898}, {'_account_id': 16352}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-08 03:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/766ac4955c6148cf1bf9e5e3ff8041276e63ba3f', 'message': 'Release zun-ui 3.0.0\n\nChange-Id: I772e1de60b1dd47033d13904bd7cf9a199bd3691\n'}, {'number': 2, 'created': '2019-03-14 02:46:22.000000000', 'files': ['deliverables/stein/zun-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ce7fbd0a4466c517e6f304673b58145f8be9265', 'message': 'Release zun-ui 3.0.0\n\nChange-Id: I772e1de60b1dd47033d13904bd7cf9a199bd3691\n'}]",0,641914,9ce7fbd0a4466c517e6f304673b58145f8be9265,19,9,2,11536,,,0,"Release zun-ui 3.0.0

Change-Id: I772e1de60b1dd47033d13904bd7cf9a199bd3691
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/641914/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/zun-ui.yaml'],1,766ac4955c6148cf1bf9e5e3ff8041276e63ba3f,,releases: - version: 3.0.0 projects: - repo: openstack/zun-ui hash: 7af2deea4899e164c04a0c9205aaea1743714596,,5,0
openstack%2Freleases~master~I1646e237cfb7919f90a5c59e565ba0a2b41ae27f,openstack/releases,master,I1646e237cfb7919f90a5c59e565ba0a2b41ae27f,Release zun-tempest-plugin 3.0.0,MERGED,2019-03-14 03:00:25.000000000,2019-03-17 23:01:30.000000000,2019-03-17 23:01:30.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-03-14 03:00:25.000000000', 'files': ['deliverables/stein/zun-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6560ba08627c2ec140a5f69ff30581c1fbe4fc35', 'message': 'Release zun-tempest-plugin 3.0.0\n\nChange-Id: I1646e237cfb7919f90a5c59e565ba0a2b41ae27f\n'}]",0,643223,6560ba08627c2ec140a5f69ff30581c1fbe4fc35,9,4,1,11536,,,0,"Release zun-tempest-plugin 3.0.0

Change-Id: I1646e237cfb7919f90a5c59e565ba0a2b41ae27f
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/643223/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/zun-tempest-plugin.yaml'],1,6560ba08627c2ec140a5f69ff30581c1fbe4fc35,,releases: - version: 3.0.0 projects: - repo: openstack/zun-tempest-plugin hash: e1d8cb3c73aca182245e2208d9dd876ae9cc4a49 tarball-base: zun-tempest-plugin,,6,0
openstack%2Fpython-adjutantclient~master~Icf8de9483da4c43521d8837939dbc5c9847c1b5e,openstack/python-adjutantclient,master,Icf8de9483da4c43521d8837939dbc5c9847c1b5e,Fix some py3 issues and a user invite cancel bug,MERGED,2019-03-17 22:56:23.000000000,2019-03-17 22:59:45.000000000,2019-03-17 22:59:44.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-17 22:56:23.000000000', 'files': ['adjutantclient/osc/v1/users.py', 'adjutantclient/v1/roles.py'], 'web_link': 'https://opendev.org/openstack/python-adjutantclient/commit/8ae1931d0caddc79c8030373b45961d65963a7d0', 'message': 'Fix some py3 issues and a user invite cancel bug\n\nold py3 issues on print, and some bad logic handling for canceling\na user invite when using the user (task) id.\n\nChange-Id: Icf8de9483da4c43521d8837939dbc5c9847c1b5e\n'}]",0,643770,8ae1931d0caddc79c8030373b45961d65963a7d0,6,2,1,10420,,,0,"Fix some py3 issues and a user invite cancel bug

old py3 issues on print, and some bad logic handling for canceling
a user invite when using the user (task) id.

Change-Id: Icf8de9483da4c43521d8837939dbc5c9847c1b5e
",git fetch https://review.opendev.org/openstack/python-adjutantclient refs/changes/70/643770/1 && git format-patch -1 --stdout FETCH_HEAD,"['adjutantclient/osc/v1/users.py', 'adjutantclient/v1/roles.py']",2,8ae1931d0caddc79c8030373b45961d65963a7d0,bug/py3, print(e.message) print(e.message), print e.message print e.message,7,3
openstack%2Freleases~master~I331c1ceace694cc3ccf1d73d0e91f91fd904128a,openstack/releases,master,I331c1ceace694cc3ccf1d73d0e91f91fd904128a,Add Senlin release highlights,MERGED,2019-03-14 16:49:57.000000000,2019-03-17 22:51:11.000000000,2019-03-17 22:51:10.000000000,"[{'_account_id': 2472}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 16:49:57.000000000', 'files': ['deliverables/stein/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e5fd5c73d2b4071d74292dd32731b70134fee83', 'message': 'Add Senlin release highlights\n\nChange-Id: I331c1ceace694cc3ccf1d73d0e91f91fd904128a\n'}]",1,643396,7e5fd5c73d2b4071d74292dd32731b70134fee83,8,3,1,27224,,,0,"Add Senlin release highlights

Change-Id: I331c1ceace694cc3ccf1d73d0e91f91fd904128a
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/643396/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/senlin.yaml'],1,7e5fd5c73d2b4071d74292dd32731b70134fee83,senlin_highlights,"cycle-highlights: - 'Improved performance so that Senlin operations execute multiple orders of magnitude faster.' - 'Health policy v1.1 now allows a user to specify multiple types of detection modes.' - 'Senlin APIs now issues synchronous failures in case of cluster/node lock, cooldown in effect or action conflict.' - 'A action-purge subcommand is added to senlin-manage tool for purging actions from the action table.'",,9,0
openstack%2Freleases~master~Ic848801c9ec9faec111f12f7b33f192ed6c344b5,openstack/releases,master,Ic848801c9ec9faec111f12f7b33f192ed6c344b5,Added Stein cycle-highlights for manila,MERGED,2019-03-14 12:28:07.000000000,2019-03-17 22:47:48.000000000,2019-03-17 22:47:48.000000000,"[{'_account_id': 2472}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 12:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f8295f9039957cfe46de624cb5897ce875848a89', 'message': 'Added Stein ycle-highlights for manila\n\nChange-Id: Ic848801c9ec9faec111f12f7b33f192ed6c344b5\n'}, {'number': 2, 'created': '2019-03-14 12:43:09.000000000', 'files': ['deliverables/stein/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eb4f287a36762bd59ccc4465b74ff86c42082324', 'message': 'Added Stein cycle-highlights for manila\n\nChange-Id: Ic848801c9ec9faec111f12f7b33f192ed6c344b5\n'}]",0,643311,eb4f287a36762bd59ccc4465b74ff86c42082324,9,3,2,9003,,,0,"Added Stein cycle-highlights for manila

Change-Id: Ic848801c9ec9faec111f12f7b33f192ed6c344b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/643311/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/manila.yaml'],1,f8295f9039957cfe46de624cb5897ce875848a89,,cycle-highlights: - | Extended support for manage/unmanage support for shares and snapshots to DHSS=True mode and added manage/unmanage support for share-servers.,,4,0
openstack%2Freleases~master~I7408fd40ffc3612a87f121ea77113b0fcb0497db,openstack/releases,master,I7408fd40ffc3612a87f121ea77113b0fcb0497db,Release OpenStack-Ansible rocky/18.1.5,MERGED,2019-03-10 20:11:27.000000000,2019-03-17 22:19:36.000000000,2019-03-17 22:19:36.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-10 20:11:27.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78704c7b82e19e632d664eb33c0662fc289c8d8c', 'message': 'Release OpenStack-Ansible rocky/18.1.5\n\nChange-Id: I7408fd40ffc3612a87f121ea77113b0fcb0497db\n'}]",0,642289,78704c7b82e19e632d664eb33c0662fc289c8d8c,7,3,1,17068,,,0,"Release OpenStack-Ansible rocky/18.1.5

Change-Id: I7408fd40ffc3612a87f121ea77113b0fcb0497db
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/642289/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,78704c7b82e19e632d664eb33c0662fc289c8d8c,release_osa, - projects: - hash: 6ec9c83247cf91f828ca4e1b88f23b38713769b3 repo: openstack/openstack-ansible version: 18.1.5,,4,0
openstack%2Ftempest~master~I6b7bfbaef3355afede2adba56f342d5bfcbe3975,openstack/tempest,master,I6b7bfbaef3355afede2adba56f342d5bfcbe3975,Update v3 identity inherits tests to work w/ pre-prov,MERGED,2019-01-03 19:52:40.000000000,2019-03-17 21:49:00.000000000,2019-03-17 21:49:00.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23625}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-01-03 19:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4559bc1b0e8cd8bf4ca50e296ce2d33c418d2bc3', 'message': ""Move 1 v3 identity inherits test to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the test:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\nThe following tests are not moved because they are creating\nusers and should have a skip_check added:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\n[0] http://codesearch.openstack.org/?q=admin.v3.test_inherits&i=nope&files=&repos=interop\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 2, 'created': '2019-01-07 13:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/040900c5141dac3d88fc8411ee29456898f1ad45', 'message': ""Move 1 v3 identity inherits test to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the test:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\nThe following tests are not moved because they are creating\nusers and should have a skip_check added:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\n[0] http://codesearch.openstack.org/?q=admin.v3.test_inherits&i=nope&files=&repos=interop\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 3, 'created': '2019-01-07 13:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3df6eb086d6fdf375b27f87d4f6d54acfbc4922e', 'message': ""Move 1 v3 identity inherits test to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the test:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\nThe following tests are not moved because they are creating\nusers and should have a skip_check added:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\n[0] http://codesearch.openstack.org/?q=admin.v3.test_inherits&i=nope&files=&repos=interop\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 4, 'created': '2019-01-07 16:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1141f9baeb3db24a3a3e07ec0f69ffff720a79b2', 'message': ""Move 2 v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n\nNote that these tests aren't interop tests [0] so can\nbe safely moved.\n\nThe following tests are not moved because they are creating\nusers and should have a skip_check added:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\n[0] http://codesearch.openstack.org/?q=admin.v3.test_inherits&i=nope&files=&repos=interop\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 5, 'created': '2019-01-17 16:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6a8887070749efe02bfe877d6cc956e567bc2a57', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 6, 'created': '2019-01-17 18:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/65db7369171bae8ee467f203387eb2e7142e3d22', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 7, 'created': '2019-01-17 22:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4284996fffb30b70bfa02dfd54307429030b490', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 8, 'created': '2019-01-17 22:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7d4c5591dc4e0ea99f15f975371daa7860c2b3e', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 9, 'created': '2019-02-20 00:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/750368fece3b1617da524ad87906f5cbb367a537', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 10, 'created': '2019-02-25 19:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/967ff2efcd5fb5357d913bcd1bddaa071611ece4', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 11, 'created': '2019-02-26 19:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/800db91ec3beff5448faceb747a01ec775fc42a9', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 12, 'created': '2019-03-12 23:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85ec652413b3c426bc9f27fb27c9c3bb21b3c61c', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}, {'number': 13, 'created': '2019-03-15 16:51:46.000000000', 'files': ['tempest/api/identity/admin/v3/test_inherits.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd89841dc6106cd30789edd9879cd35011349481', 'message': ""Update v3 identity inherits tests to work w/ pre-prov\n\nI don't see any limitations by using pre-provisioned credentials\nfor the tests:\n\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_group\n* test_inherit_assign_list_check_revoke_roles_on_domains_user\n* test_inherit_assign_list_check_revoke_roles_on_domains_group\n* test_inherit_assign_check_revoke_roles_on_projects_user\n* test_inherit_assign_list_revoke_user_roles_on_domain\n* test_inherit_assign_list_revoke_user_roles_on_project_tree\n\nBy setting force_tenant_isolation=False these tests now be\ncan executed with backends that don't allow user creation\n(immutable user source) like LDAP.\n\nPartial-Bug: #1714277\n\nChange-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975\n""}]",5,628284,bd89841dc6106cd30789edd9879cd35011349481,71,15,13,20378,,,0,"Update v3 identity inherits tests to work w/ pre-prov

I don't see any limitations by using pre-provisioned credentials
for the tests:

* test_inherit_assign_list_check_revoke_roles_on_domains_group
* test_inherit_assign_check_revoke_roles_on_projects_group
* test_inherit_assign_list_check_revoke_roles_on_domains_user
* test_inherit_assign_list_check_revoke_roles_on_domains_group
* test_inherit_assign_check_revoke_roles_on_projects_user
* test_inherit_assign_list_revoke_user_roles_on_domain
* test_inherit_assign_list_revoke_user_roles_on_project_tree

By setting force_tenant_isolation=False these tests now be
can executed with backends that don't allow user creation
(immutable user source) like LDAP.

Partial-Bug: #1714277

Change-Id: I6b7bfbaef3355afede2adba56f342d5bfcbe3975
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/628284/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_inherits.py'],1,4559bc1b0e8cd8bf4ca50e296ce2d33c418d2bc3,bug/1714277,"class BaseInheritsV3TestJSON(base.BaseIdentityV3AdminTest): @classmethod def resource_setup(cls): super(BaseInheritsV3TestJSON, cls).resource_setup() cls.domain = cls.create_domain() cls.project = cls.projects_client.create_project( data_utils.rand_name('project-'), description=data_utils.rand_name('project-desc-'), domain_id=cls.domain['id'])['project'] cls.addClassResourceCleanup(cls.projects_client.delete_project, cls.project['id']) cls.group = cls.groups_client.create_group( name=data_utils.rand_name('group-'), project_id=cls.project['id'], domain_id=cls.domain['id'])['group'] cls.addClassResourceCleanup(cls.groups_client.delete_group, cls.group['id']) def _list_assertions(self, body, fetched_role_ids, role_id): self.assertEqual(len(body), 1) self.assertIn(role_id, fetched_role_ids) class InheritsV3TestJSON(BaseInheritsV3TestJSON): class InheritsStaticV3TestJSON(BaseInheritsV3TestJSON): # NOTE: force_tenant_isolation is true in the base class by default but # overridden to false here to allow test execution for clouds using the # pre-provisioned credentials provider. force_tenant_isolation = False @decorators.idempotent_id('c7a8dda2-be50-4fb4-9a9c-e830771078b1') def test_inherit_assign_list_check_revoke_roles_on_domains_group(self): # Create role src_role = self.setup_test_role() # Assign role on domains group self.inherited_roles_client.create_inherited_role_on_domains_group( self.domain['id'], self.group['id'], src_role['id']) # List role on domains group roles = self.inherited_roles_client.\ list_inherited_project_role_for_group_on_domain( self.domain['id'], self.group['id'])['roles'] fetched_role_ids = [i['id'] for i in roles] self._list_assertions(roles, fetched_role_ids, src_role['id']) # Check role on domains group (self.inherited_roles_client. check_group_inherited_project_role_on_domain( self.domain['id'], self.group['id'], src_role['id'])) # Revoke role from domains group self.inherited_roles_client.delete_inherited_role_from_group_on_domain( self.domain['id'], self.group['id'], src_role['id'])","class InheritsV3TestJSON(base.BaseIdentityV3AdminTest): cls.domain = cls.create_domain() cls.project = cls.projects_client.create_project( data_utils.rand_name('project-'), description=data_utils.rand_name('project-desc-'), domain_id=cls.domain['id'])['project'] cls.addClassResourceCleanup(cls.projects_client.delete_project, cls.project['id']) cls.group = cls.groups_client.create_group( name=data_utils.rand_name('group-'), project_id=cls.project['id'], domain_id=cls.domain['id'])['group'] cls.addClassResourceCleanup(cls.groups_client.delete_group, cls.group['id']) def _list_assertions(self, body, fetched_role_ids, role_id): self.assertEqual(len(body), 1) self.assertIn(role_id, fetched_role_ids) @decorators.idempotent_id('c7a8dda2-be50-4fb4-9a9c-e830771078b1') def test_inherit_assign_list_check_revoke_roles_on_domains_group(self): # Create role src_role = self.setup_test_role() # Assign role on domains group self.inherited_roles_client.create_inherited_role_on_domains_group( self.domain['id'], self.group['id'], src_role['id']) # List role on domains group roles = self.inherited_roles_client.\ list_inherited_project_role_for_group_on_domain( self.domain['id'], self.group['id'])['roles'] fetched_role_ids = [i['id'] for i in roles] self._list_assertions(roles, fetched_role_ids, src_role['id']) # Check role on domains group (self.inherited_roles_client. check_group_inherited_project_role_on_domain( self.domain['id'], self.group['id'], src_role['id'])) # Revoke role from domains group self.inherited_roles_client.delete_inherited_role_from_group_on_domain( self.domain['id'], self.group['id'], src_role['id']) ",55,41
openstack%2Ftempest~master~I64f30c36adbf7fb26609142f22d3e305ac9e82b5,openstack/tempest,master,I64f30c36adbf7fb26609142f22d3e305ac9e82b5,Add profiler support into Tempest,MERGED,2017-11-29 17:13:00.000000000,2019-03-17 21:46:15.000000000,2019-03-17 21:46:15.000000000,"[{'_account_id': 1921}, {'_account_id': 3012}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 5950}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 20190}, {'_account_id': 21470}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 23630}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-11-29 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a014459db820f86a69c888b73437346dabe6bf37', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nwith profiling enabled. This will help to ensure that\nOpenStack is properly instrumented and continues to work\nwith profiling.\n\nThis patch adds profiler context into REST requests initiated\nby Tempest.\n\n2 parameters are introduced into tempest.conf:\n * profiler.enabled - True, if profiler is on\n * profiler_key - the key to be used to sign profiler context\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 2, 'created': '2017-11-30 10:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/05abd7f18e492b951c656b9a80de00b04164f12f', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nwith profiling enabled. This will help to ensure that\nOpenStack is properly instrumented and continues to work\nwith profiling.\n\nThis patch adds profiler context into REST requests initiated\nby Tempest.\n\n2 parameters are introduced into tempest.conf:\n * profiler.enabled - True, if profiler is switched on\n * profiler_key - the key to be used to sign profiler context\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 3, 'created': '2017-11-30 13:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/378ba7a15f8ebc831ece2c65f4a6de36935f42e0', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nwith profiling enabled. This will help to ensure that\nOpenStack is properly instrumented and continues to work\nwith profiling.\n\nThis patch adds profiler context into REST requests initiated\nby Tempest.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 4, 'created': '2017-11-30 14:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/749fc9517e52ec9b2447babb855c8a4de03be0d8', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nwith profiling enabled. This will help to ensure that\nOpenStack is properly instrumented and continues to work\nwith profiling.\n\nThis patch adds profiler context into REST requests initiated\nby Tempest.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 5, 'created': '2017-12-20 16:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/93156c5d383514ba67bcf9add68d32b57e754e5d', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nand verify OpenStack when profiling is enabled. Also this patch\nallows to:\n * manually verify that certain services are properly instrumented\n   and produce trace events when a scenario is executed;\n * write automatic tests for trace coverage;\n * profile certain tests from performance perspective.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nTo test the patch on DevStack:\n 1. Enable osprofiler with Redis collector in local.conf:\n\n   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master\n   OSPROFILER_COLLECTOR=redis\n\n 2. Run all Tempest tests or select some, e.g.:\n\n   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 6, 'created': '2018-07-14 17:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0948400f5d1fb4f2114af229fb737f3b247c7d61', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nand verify OpenStack when profiling is enabled. Also this patch\nallows to:\n * manually verify that certain services are properly instrumented\n   and produce trace events when a scenario is executed;\n * write automatic tests for trace coverage;\n * profile certain tests from performance perspective.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nTo test the patch on DevStack:\n 1. Enable osprofiler with Redis collector in local.conf:\n\n   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master\n   OSPROFILER_COLLECTOR=redis\n\n 2. Run all Tempest tests or select some, e.g.:\n\n   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 7, 'created': '2018-10-08 09:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4174e71e905057682d4a35238d0fdf18a85548a0', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nand verify OpenStack when profiling is enabled. Also this patch\nallows to:\n * manually verify that certain services are properly instrumented\n   and produce trace events when a scenario is executed;\n * write automatic tests for trace coverage;\n * profile certain tests from performance perspective.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nTo test the patch on DevStack:\n 1. Enable osprofiler with Redis collector in local.conf:\n\n   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master\n   OSPROFILER_COLLECTOR=redis\n\n 2. Run all Tempest tests or select some, e.g.:\n\n   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 8, 'created': '2018-12-15 01:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e187e70cbedf9750b679e8cbeea386f29876ef6', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nand verify OpenStack when profiling is enabled. Also this patch\nallows to:\n * manually verify that certain services are properly instrumented\n   and produce trace events when a scenario is executed;\n * write automatic tests for trace coverage;\n * profile certain tests from performance perspective.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nTo test the patch on DevStack:\n 1. Enable osprofiler with Redis collector in local.conf:\n\n   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master\n   OSPROFILER_COLLECTOR=redis\n\n 2. Run all Tempest tests or select some, e.g.:\n\n   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 9, 'created': '2019-02-15 16:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/34719099436d03ffb255520cf5e45d62b894c87c', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nand verify OpenStack when profiling is enabled. Also this patch\nallows to:\n * manually verify that certain services are properly instrumented\n   and produce trace events when a scenario is executed;\n * write automatic tests for trace coverage;\n * profile certain tests from performance perspective.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nTo test the patch on DevStack:\n 1. Enable osprofiler with Redis collector in local.conf:\n\n   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master\n   OSPROFILER_COLLECTOR=redis\n\n 2. Run all Tempest tests or select some, e.g.:\n\n   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}, {'number': 10, 'created': '2019-02-16 08:10:28.000000000', 'files': ['tempest/lib/common/profiler.py', 'tempest/tests/lib/common/test_profiler.py', 'releasenotes/notes/add-profiler-config-options-db7c4ae6d338ee5c.yaml', 'tempest/lib/common/rest_client.py', 'tempest/config.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1291bb4736425b5b34fffb716532188f31286391', 'message': 'Add profiler support into Tempest\n\nThe primary goal is to be able to run all Tempest tests\nand verify OpenStack when profiling is enabled. Also this patch\nallows to:\n * manually verify that certain services are properly instrumented\n   and produce trace events when a scenario is executed;\n * write automatic tests for trace coverage;\n * profile certain tests from performance perspective.\n\nA new parameter is introduced into tempest.conf:\n * profiler.key - the key used to enable OSProfiler (should\n     match the one configured in OpenStack services)\n\nTo test the patch on DevStack:\n 1. Enable osprofiler with Redis collector in local.conf:\n\n   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master\n   OSPROFILER_COLLECTOR=redis\n\n 2. Run all Tempest tests or select some, e.g.:\n\n   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*\n\nChange-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5\n'}]",14,523935,1291bb4736425b5b34fffb716532188f31286391,75,21,10,5950,,,0,"Add profiler support into Tempest

The primary goal is to be able to run all Tempest tests
and verify OpenStack when profiling is enabled. Also this patch
allows to:
 * manually verify that certain services are properly instrumented
   and produce trace events when a scenario is executed;
 * write automatic tests for trace coverage;
 * profile certain tests from performance perspective.

A new parameter is introduced into tempest.conf:
 * profiler.key - the key used to enable OSProfiler (should
     match the one configured in OpenStack services)

To test the patch on DevStack:
 1. Enable osprofiler with Redis collector in local.conf:

   enable_plugin osprofiler https://git.openstack.org/openstack/osprofiler master
   OSPROFILER_COLLECTOR=redis

 2. Run all Tempest tests or select some, e.g.:

   tempest run --regex tempest.api.network.test_networks.NetworksTest.test_list_networks*

Change-Id: I64f30c36adbf7fb26609142f22d3e305ac9e82b5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/523935/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/profiler.py', 'tempest/lib/common/rest_client.py', 'tempest/config.py', 'tempest/test.py']",4,a014459db820f86a69c888b73437346dabe6bf37,profiler,from tempest.lib.common import profiler profiler.stop() profiler.start(CONF.profiler.key),,75,2
openstack%2Ftempest~master~I401815b4a0d3f7ad90801d5580897be870d33013,openstack/tempest,master,I401815b4a0d3f7ad90801d5580897be870d33013,Use credentials domain instead of creating new one,MERGED,2019-03-08 18:16:28.000000000,2019-03-17 21:42:16.000000000,2019-03-17 21:42:16.000000000,"[{'_account_id': 5046}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 18:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30dd36f21732663125e207c70feae087b11df3a1', 'message': 'DNM: testing with using cred domain\n\nChange-Id: I401815b4a0d3f7ad90801d5580897be870d33013\n'}, {'number': 2, 'created': '2019-03-12 17:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ffe1a9f2aacd36796a24cde5374daa61a0de2b2f', 'message': 'DNM: testing with using cred domain\n\nChange-Id: I401815b4a0d3f7ad90801d5580897be870d33013\n'}, {'number': 3, 'created': '2019-03-12 18:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0844fca0fce5e6daa112902bb744ccd01347871', 'message': 'Use cresential domain instead of creating new one\n\ntest_list_projects tests create a new domain and try to test the\nlist projetcs operartion based on new domain-id. Keystone is\nimplementing the domain roles functionality for projects resource\n- https://review.openstack.org/#/c/624218/\n\nWhich means listing the projects with authorized domain only.\n\nThis commit modify the tests to use the same domain as requester and\ncreate project with that domain only not new one.\n\nAlso add the debug log.\n\nChange-Id: I401815b4a0d3f7ad90801d5580897be870d33013\n'}, {'number': 4, 'created': '2019-03-13 16:43:51.000000000', 'files': ['tempest/api/identity/admin/v3/test_list_projects.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea5efd5c3515b692cc0fce9e0b12f741db44aeeb', 'message': 'Use credentials domain instead of creating new one\n\ntest_list_projects tests create a new domain and try to test the\nlist projects operation based on new domain-id. Keystone is\nimplementing the domain roles functionality for projects resource\n- https://review.openstack.org/#/c/624218/\n\nWhich means listing the projects with authorized domain only.\n\nThis commit modify the tests to use the same domain as requester and\ncreate project with that domain only not new one.\n\nAlso add the debug log.\n\nChange-Id: I401815b4a0d3f7ad90801d5580897be870d33013\n'}]",3,642102,ea5efd5c3515b692cc0fce9e0b12f741db44aeeb,23,7,4,8556,,,0,"Use credentials domain instead of creating new one

test_list_projects tests create a new domain and try to test the
list projects operation based on new domain-id. Keystone is
implementing the domain roles functionality for projects resource
- https://review.openstack.org/#/c/624218/

Which means listing the projects with authorized domain only.

This commit modify the tests to use the same domain as requester and
create project with that domain only not new one.

Also add the debug log.

Change-Id: I401815b4a0d3f7ad90801d5580897be870d33013
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/642102/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_list_projects.py'],1,30dd36f21732663125e207c70feae087b11df3a1,domain-test, cls.domain = cls.os_admin.credentials.domain_id, cls.domain = cls.create_domain(),1,1
openstack%2Fmanila~stable%2Frocky~I0363d7174f3d7ddefa8ced59b182faed665e9c36,openstack/manila,stable/rocky,I0363d7174f3d7ddefa8ced59b182faed665e9c36,Fix version selector when for proxy-style URLs,MERGED,2019-03-12 16:44:17.000000000,2019-03-17 20:56:01.000000000,2019-03-15 18:45:45.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-03-12 16:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4602535bb2160622dbbe219aa46c8a4e9e56ca51', 'message': 'Fix version selector when for proxy-style URLs\n\nWhen manila API is served behind a proxy, the\n""script_name"" in the request can have the proxy\ncomponent in it. So, this patch fixes the version\nselection logic by looking for the version in the\nscript name string instead of equivalence.\n\nIn addition, this patch adds some missing unit\ntests and fixes tests that invoke a mocked\nwsgi app for testing request context.\n\nChange-Id: I0363d7174f3d7ddefa8ced59b182faed665e9c36\nPartial-Bug: #1815038\nCloses-Bug: #1818081\n(cherry picked from commit 0d8310ec7a169f6de113080c0cb335247805ee29)\n'}, {'number': 2, 'created': '2019-03-14 11:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1117d37e7585aac96b2fc5077e491f1d54522732', 'message': 'Fix version selector when for proxy-style URLs\n\nWhen manila API is served behind a proxy, the\n""script_name"" in the request can have the proxy\ncomponent in it. So, this patch fixes the version\nselection logic by looking for the version in the\nscript name string instead of equivalence.\n\nIn addition, this patch adds some missing unit\ntests and fixes tests that invoke a mocked\nwsgi app for testing request context.\n\nChange-Id: I0363d7174f3d7ddefa8ced59b182faed665e9c36\nPartial-Bug: #1815038\nCloses-Bug: #1818081\n(cherry picked from commit 0d8310ec7a169f6de113080c0cb335247805ee29)\n'}, {'number': 3, 'created': '2019-03-14 19:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1a3786017daa10768b7ed3edb6c8a61c2b5bcefc', 'message': 'Fix version selector when for proxy-style URLs\n\nWhen manila API is served behind a proxy, the\n""script_name"" in the request can have the proxy\ncomponent in it. So, this patch fixes the version\nselection logic by looking for the version in the\nscript name string instead of equivalence.\n\nIn addition, this patch adds some missing unit\ntests and fixes tests that invoke a mocked\nwsgi app for testing request context.\n\nChange-Id: I0363d7174f3d7ddefa8ced59b182faed665e9c36\nPartial-Bug: #1815038\nCloses-Bug: #1818081\n(cherry picked from commit 0d8310ec7a169f6de113080c0cb335247805ee29)\n'}, {'number': 4, 'created': '2019-03-15 10:50:34.000000000', 'files': ['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml\t\t\t', 'manila/tests/api/v2/test_shares.py', 'manila/tests/api/openstack/test_wsgi.py', 'manila/tests/api/v2/test_share_group_snapshots.py', 'manila/tests/api/v2/test_share_instances.py', 'manila/tests/api/v2/test_share_groups.py', 'manila/api/openstack/wsgi.py', 'manila/tests/api/v2/test_share_replicas.py', 'manila/tests/api/v2/test_share_snapshots.py', 'manila/tests/api/v2/test_share_snapshot_instances.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6b39562c0e0fc44b8f939efb523b2c976c0b210f', 'message': 'Fix version selector when for proxy-style URLs\n\nWhen manila API is served behind a proxy, the\n""script_name"" in the request can have the proxy\ncomponent in it. So, this patch fixes the version\nselection logic by looking for the version in the\nscript name string instead of equivalence.\n\nIn addition, this patch adds some missing unit\ntests and fixes tests that invoke a mocked\nwsgi app for testing request context.\n\nChange-Id: I0363d7174f3d7ddefa8ced59b182faed665e9c36\nPartial-Bug: #1815038\nCloses-Bug: #1818081\n(cherry picked from commit 0d8310ec7a169f6de113080c0cb335247805ee29)\n'}]",0,642820,6b39562c0e0fc44b8f939efb523b2c976c0b210f,23,6,4,16643,,,0,"Fix version selector when for proxy-style URLs

When manila API is served behind a proxy, the
""script_name"" in the request can have the proxy
component in it. So, this patch fixes the version
selection logic by looking for the version in the
script name string instead of equivalence.

In addition, this patch adds some missing unit
tests and fixes tests that invoke a mocked
wsgi app for testing request context.

Change-Id: I0363d7174f3d7ddefa8ced59b182faed665e9c36
Partial-Bug: #1815038
Closes-Bug: #1818081
(cherry picked from commit 0d8310ec7a169f6de113080c0cb335247805ee29)
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/642820/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml\t\t\t', 'manila/tests/api/v2/test_shares.py', 'manila/tests/api/openstack/test_wsgi.py', 'manila/tests/api/v2/test_share_group_snapshots.py', 'manila/tests/api/v2/test_share_instances.py', 'manila/tests/api/v2/test_share_groups.py', 'manila/api/openstack/wsgi.py', 'manila/tests/api/v2/test_share_replicas.py', 'manila/tests/api/v2/test_share_snapshot_instances.py', 'manila/tests/api/v2/test_share_snapshots.py']",10,4602535bb2160622dbbe219aa46c8a4e9e56ca51,bug/1818081," path = '/v2/fake/snapshots/%s/action' % snapshot['id'] req = fakes.HTTPRequest.blank(path, script_name=path, version=version)"," req = fakes.HTTPRequest.blank('/v2/fake/snapshots/%s/action' % snapshot['id'], version=version)",112,21
openstack%2Fmanila~stable%2Frocky~I13010d3ee0a83a67204145837503abe7126263cd,openstack/manila,stable/rocky,I13010d3ee0a83a67204145837503abe7126263cd,Extend remove_version_from_href support,MERGED,2019-03-12 16:49:43.000000000,2019-03-17 20:55:34.000000000,2019-03-15 17:48:07.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-12 16:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/214429dc74b68b026e1060ebbb47e08a59e48c7a', 'message': ""Extend remove_version_from_href support\n\nImprove remove_version_from_href so that it supports URLs for which\nthe version does not directly trail the hostname\n\nGiven: 'http://manila.example.com/share/v1.1/123'\nReturns: 'http://manila.example.com/share/123'\n\nBased on I8ccc449116ff164aacc0aefca3a0ec2ac8f73aa8\n\nChange-Id: I13010d3ee0a83a67204145837503abe7126263cd\nCloses-Bug: #1815038\n(cherry picked from commit 6d970b7375689eb73fc6a26ceb1c4d6e5553fa70)\n""}, {'number': 2, 'created': '2019-03-14 11:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ebbf0203a8f7d94f3c1731b6153aaeb7f176d6d7', 'message': ""Extend remove_version_from_href support\n\nImprove remove_version_from_href so that it supports URLs for which\nthe version does not directly trail the hostname\n\nGiven: 'http://manila.example.com/share/v1.1/123'\nReturns: 'http://manila.example.com/share/123'\n\nBased on I8ccc449116ff164aacc0aefca3a0ec2ac8f73aa8\n\nChange-Id: I13010d3ee0a83a67204145837503abe7126263cd\nCloses-Bug: #1815038\n(cherry picked from commit 6d970b7375689eb73fc6a26ceb1c4d6e5553fa70)\n""}, {'number': 3, 'created': '2019-03-15 10:57:52.000000000', 'files': ['manila/tests/api/test_common.py', 'manila/api/common.py', 'releasenotes/notes/bug-1815038-extend-remove_version_from_href-support-ea479daaaf5c5700.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/670449f3e1213018f076e461aa659de5fb94c8bb', 'message': ""Extend remove_version_from_href support\n\nImprove remove_version_from_href so that it supports URLs for which\nthe version does not directly trail the hostname\n\nGiven: 'http://manila.example.com/share/v1.1/123'\nReturns: 'http://manila.example.com/share/123'\n\nBased on I8ccc449116ff164aacc0aefca3a0ec2ac8f73aa8\n\nChange-Id: I13010d3ee0a83a67204145837503abe7126263cd\nCloses-Bug: #1815038\n(cherry picked from commit 6d970b7375689eb73fc6a26ceb1c4d6e5553fa70)\n""}]",0,642822,670449f3e1213018f076e461aa659de5fb94c8bb,21,6,3,16643,,,0,"Extend remove_version_from_href support

Improve remove_version_from_href so that it supports URLs for which
the version does not directly trail the hostname

Given: 'http://manila.example.com/share/v1.1/123'
Returns: 'http://manila.example.com/share/123'

Based on I8ccc449116ff164aacc0aefca3a0ec2ac8f73aa8

Change-Id: I13010d3ee0a83a67204145837503abe7126263cd
Closes-Bug: #1815038
(cherry picked from commit 6d970b7375689eb73fc6a26ceb1c4d6e5553fa70)
",git fetch https://review.opendev.org/openstack/manila refs/changes/22/642822/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/test_common.py', 'manila/api/common.py', 'releasenotes/notes/bug-1815038-extend-remove_version_from_href-support-ea479daaaf5c5700.yaml']",3,214429dc74b68b026e1060ebbb47e08a59e48c7a,bp/wsgi-web-servers-support-stable/rocky,"--- fixes: - | `Launchpad bug 1815038 <https://bugs.launchpad.net/manila/+bug/1815038>`_ has been fixed and now we correctly parse the base URL from manila's endpoint url, accounting for proxy URLs. ",,43,46
openstack%2Fpuppet-openstack-integration~master~Ibdcf8b18779a99edf206fd19041d56f2415cb2d9,openstack/puppet-openstack-integration,master,Ibdcf8b18779a99edf206fd19041d56f2415cb2d9,WIP: Debian noop test,ABANDONED,2018-06-19 08:15:29.000000000,2019-03-17 20:15:42.000000000,,"[{'_account_id': 6476}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-19 08:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d46ee127cd14d48f773fef9180096334b0497650', 'message': 'Debian noop test\n\nChange-Id: Ibdcf8b18779a99edf206fd19041d56f2415cb2d9\n'}, {'number': 2, 'created': '2018-06-19 16:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/edac31e83a318c95675ce71500901af763282d88', 'message': 'WIP: Debian noop test\n\nChange-Id: Ibdcf8b18779a99edf206fd19041d56f2415cb2d9\n'}, {'number': 3, 'created': '2018-07-04 22:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/78bfe2e061197a41252effe9409cc8cbe0d806ac', 'message': 'WIP: Debian noop test\n\nChange-Id: Ibdcf8b18779a99edf206fd19041d56f2415cb2d9\n'}, {'number': 4, 'created': '2018-08-06 14:36:15.000000000', 'files': ['fixtures/scenario002.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/82ba1446965457e4aaf66652d2a8e093e00104b7', 'message': 'WIP: Debian noop test\n\nChange-Id: Ibdcf8b18779a99edf206fd19041d56f2415cb2d9\n'}]",0,576416,82ba1446965457e4aaf66652d2a8e093e00104b7,40,3,4,6476,,,0,"WIP: Debian noop test

Change-Id: Ibdcf8b18779a99edf206fd19041d56f2415cb2d9
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/576416/4 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario002.pp'],1,d46ee127cd14d48f773fef9180096334b0497650,debian-noop,,,1,0
openstack%2Fneutron~master~I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0,openstack/neutron,master,I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0,Enable ipv6_forwarding in HA router's namespace,MERGED,2019-03-04 12:19:38.000000000,2019-03-17 18:45:31.000000000,2019-03-17 18:45:31.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-04 12:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b30320d1c6292940ef40e9127de3359067e9b1c', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 2, 'created': '2019-03-04 16:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b80933e3b1874796cbcaf1d7a02a34b5ef95dee', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 3, 'created': '2019-03-04 21:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e14e87db8eb2e468d6edc291a9fa3242f03c973', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 4, 'created': '2019-03-07 11:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d50d8e6bc30c33d60035b748d7ee53db5415f70', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 5, 'created': '2019-03-10 10:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d12544a0c5b6a9a2db80ea69aed844fffabbb4a', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 6, 'created': '2019-03-10 19:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c2fb763155322172ec55bf7fabbdaff5a4aa3b2', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 7, 'created': '2019-03-11 07:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44e40a0a3bccd7d7b51d0548f07546734764cd42', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 8, 'created': '2019-03-13 13:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b119247bea89aec5604e7ac61675aed240195931', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 9, 'created': '2019-03-15 13:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3959f18d73358cacb916d9e1b1cb1d324eb6b4e6', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}, {'number': 10, 'created': '2019-03-15 14:30:35.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66eb1e29f31a07573be2a5a7789fb7bfce598827', 'message': 'Enable ipv6_forwarding in HA router\'s namespace\n\nWhen HA router is created in ""stanby"" mode, ipv6 forwarding is\ndisabled by default in its namespace.\nBut when router is transitioned to be ""master"" on node, ipv6\nforwarding should be enabled. This was fine for routers with\nconfigured gateway but we somehow missed the case when router don\'t\nhave gateway configured.\nBecause of that missing ipv6 forwarding setting in such case, IPv6\nW-E traffic between 2 subnets was not working fine in L3 HA case.\n\nThis patch fixes it by adding configuring ipv6_forwarding on\n""all"" interface in router\'s namespace always, even if it don\'t have\ngateway configured.\n\nChange-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0\nCLoses-Bug: #1818224\n'}]",14,640746,66eb1e29f31a07573be2a5a7789fb7bfce598827,124,16,10,11975,,,0,"Enable ipv6_forwarding in HA router's namespace

When HA router is created in ""stanby"" mode, ipv6 forwarding is
disabled by default in its namespace.
But when router is transitioned to be ""master"" on node, ipv6
forwarding should be enabled. This was fine for routers with
configured gateway but we somehow missed the case when router don't
have gateway configured.
Because of that missing ipv6 forwarding setting in such case, IPv6
W-E traffic between 2 subnets was not working fine in L3 HA case.

This patch fixes it by adding configuring ipv6_forwarding on
""all"" interface in router's namespace always, even if it don't have
gateway configured.

Change-Id: I8b1b2b426f7a26a4b2407a83f9bf29dd6e9ba7b0
CLoses-Bug: #1818224
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/640746/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/agent/l3/ha.py']",4,5b30320d1c6292940ef40e9127de3359067e9b1c,bug/1818224," self._configure_ipv6_params_if_necessary(ri, state) def _configure_ipv6_params_if_necessary(self, ri, state): if ri.router.get('distributed', False): namespace = ri.ha_namespace else: namespace = ri.ns_name self._configure_ipv6_params_on_ext_gw_port_if_necessary(ri, state) if state == 'master': # This will make sure the 'all' setting is the same as # the interface, which is needed for forwarding to work. # Don't disable once it's been enabled so as to not send # spurious MLDv2 packets out. ri.driver.configure_ipv6_forwarding(namespace, 'all', True) "," self._configure_ipv6_params_on_ext_gw_port_if_necessary(ri, state)",61,2
openstack%2Fneutron~stable%2Fpike~Id646ab2c184c7a1d5ac38286a0162dd37d72df6e,openstack/neutron,stable/pike,Id646ab2c184c7a1d5ac38286a0162dd37d72df6e,Spawn metadata proxy on dvr ha standby routers,MERGED,2019-03-11 09:50:10.000000000,2019-03-17 17:55:05.000000000,2019-03-17 17:55:05.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-11 09:50:10.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5aa1c315fcd904bd66cd07980124d7213a960d26', 'message': 'Spawn metadata proxy on dvr ha standby routers\n\nIn case when L3 agent is running in dvr_snat mode on compute node,\nit is like that e.g. in some of the gate jobs, it may happen that\nsame router is scheduled to be in standby mode on compute node and\non same compute node there is instance connected to it.\nSo in such case metadata proxy needs to be spawned in router namespace\neven if it is in standby mode.\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_agent.py\n\nChange-Id: Id646ab2c184c7a1d5ac38286a0162dd37d72df6e\nCloses-Bug: #1817956\nCloses-Bug: #1606741\n(cherry picked from commit 6ae228cc2e75504d9a8f35e3480a66707f9d7246)\n'}]",0,642396,5aa1c315fcd904bd66cd07980124d7213a960d26,73,6,1,11975,,,0,"Spawn metadata proxy on dvr ha standby routers

In case when L3 agent is running in dvr_snat mode on compute node,
it is like that e.g. in some of the gate jobs, it may happen that
same router is scheduled to be in standby mode on compute node and
on same compute node there is instance connected to it.
So in such case metadata proxy needs to be spawned in router namespace
even if it is in standby mode.

Conflicts:
    neutron/tests/unit/agent/l3/test_agent.py

Change-Id: Id646ab2c184c7a1d5ac38286a0162dd37d72df6e
Closes-Bug: #1817956
Closes-Bug: #1606741
(cherry picked from commit 6ae228cc2e75504d9a8f35e3480a66707f9d7246)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/642396/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/ha.py']",2,5aa1c315fcd904bd66cd07980124d7213a960d26,bug/1817956," # NOTE(slaweq): Since the metadata proxy is spawned in the qrouter # namespace and not in the snat namespace, even standby DVR-HA # routers needs to serve metadata requests to local ports. if state == 'master' or ri.router.get('distributed', False):", if state == 'master':,43,1
openstack%2Fzun~master~Ifcbcf754b132fffbee1ad7a89efde3e264f091f5,openstack/zun,master,Ifcbcf754b132fffbee1ad7a89efde3e264f091f5,Update etcd version to latest,ABANDONED,2019-03-10 00:23:10.000000000,2019-03-17 15:20:59.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-10 00:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/836f9961d59c2820c94513f03e0d580a3b693fdf', 'message': 'Update etcd version to latest\n\nIn devstack plugin, update the etcd version to 3.3.12 which is\nthe latest.\n\nChange-Id: Ifcbcf754b132fffbee1ad7a89efde3e264f091f5\n'}, {'number': 2, 'created': '2019-03-10 01:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/97aecb0a5b3958e823b7cc253d884bce7704c458', 'message': 'Update etcd version to latest\n\nIn devstack plugin, update the etcd version to 3.3.12 which is\nthe latest.\n\nChange-Id: Ifcbcf754b132fffbee1ad7a89efde3e264f091f5\n'}, {'number': 3, 'created': '2019-03-10 04:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/88d789a5153606b1cb5b4773ddae5a7d4b73dc4a', 'message': 'Update etcd version to latest\n\nIn devstack plugin, update the etcd version to 3.3.12 which is\nthe latest.\n\nChange-Id: Ifcbcf754b132fffbee1ad7a89efde3e264f091f5\n'}, {'number': 4, 'created': '2019-03-10 06:00:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/d6a6d9909488707c674b869984376306ae1c7286', 'message': 'Update etcd version to latest\n\nIn devstack plugin, update the etcd version to 3.3.12 which is\nthe latest.\n\nChange-Id: Ifcbcf754b132fffbee1ad7a89efde3e264f091f5\n'}]",0,642246,d6a6d9909488707c674b869984376306ae1c7286,9,2,4,11536,,,0,"Update etcd version to latest

In devstack plugin, update the etcd version to 3.3.12 which is
the latest.

Change-Id: Ifcbcf754b132fffbee1ad7a89efde3e264f091f5
",git fetch https://review.opendev.org/openstack/zun refs/changes/46/642246/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/zun'],1,836f9961d59c2820c94513f03e0d580a3b693fdf,,"ETCD_VERSION=${ETCD_VERSION:-v3.3.12} ETCD_SHA256_AMD64=${ETCD_SHA256_AMD64:-""dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6""} ETCD_SHA256_ARM64=${ETCD_SHA256_ARM64:-""170b848ac1a071fe7d495d404a868a2c0090750b2944f8a260ef1c6125b2b4f4""} ETCD_SHA256_PPC64=${ETCD_SHA256_PPC64:-""77f807b1b51abbf51e020bb05bdb8ce088cb58260fcd22749ea32eee710463d3""} ",,5,0
openstack%2Fdevstack~master~I88983c9150efad882cd867c2d14d86ba6b2522c9,openstack/devstack,master,I88983c9150efad882cd867c2d14d86ba6b2522c9,Use trueorfalse for NEUTRON_DEPLOY_MOD_WSGI,MERGED,2018-11-30 14:00:35.000000000,2019-03-17 14:52:46.000000000,2019-03-17 14:52:46.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-30 14:00:35.000000000', 'files': ['lib/neutron', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3492feeedda7accb58a179c64932d4b6d154473a', 'message': 'Use trueorfalse for NEUTRON_DEPLOY_MOD_WSGI\n\nCurrent code assumes the variable is being set to either ""True"" or\n""False"", which will lead to weird errors if it is being set to something\nlike ""true"" instead.\n\nChange-Id: I88983c9150efad882cd867c2d14d86ba6b2522c9\n'}]",0,621162,3492feeedda7accb58a179c64932d4b6d154473a,20,9,1,13252,,,0,"Use trueorfalse for NEUTRON_DEPLOY_MOD_WSGI

Current code assumes the variable is being set to either ""True"" or
""False"", which will lead to weird errors if it is being set to something
like ""true"" instead.

Change-Id: I88983c9150efad882cd867c2d14d86ba6b2522c9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/621162/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'lib/neutron-legacy']",2,3492feeedda7accb58a179c64932d4b6d154473a,neutron-wsgi,NEUTRON_DEPLOY_MOD_WSGI=$(trueorfalse False NEUTRON_DEPLOY_MOD_WSGI),NEUTRON_DEPLOY_MOD_WSGI=${NEUTRON_DEPLOY_MOD_WSGI:-False},2,2
openstack%2Fdevstack~master~Icfabbe580bb83a3babb98cc9fdbfb8eb388dc108,openstack/devstack,master,Icfabbe580bb83a3babb98cc9fdbfb8eb388dc108,Update etcd version to 3.3.12,MERGED,2019-03-10 15:00:05.000000000,2019-03-17 14:52:45.000000000,2019-03-17 14:52:45.000000000,"[{'_account_id': 1653}, {'_account_id': 5638}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-10 15:00:05.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/676957ffcff78e790134776f71035a3b14974896', 'message': 'Update etcd version to 3.3.12\n\nThe default version is 3.2.17 which seems to be too old.\nSome external tools are not compatible with this old version.\nFor example, kubeadm cannot support external etcd version that is\nolder than 3.2.18.\n\nThis commit update the etcd version to 3.3.12 wich is the current\nlatest version.\n\nChange-Id: Icfabbe580bb83a3babb98cc9fdbfb8eb388dc108\n'}]",0,642270,676957ffcff78e790134776f71035a3b14974896,13,10,1,11536,,,0,"Update etcd version to 3.3.12

The default version is 3.2.17 which seems to be too old.
Some external tools are not compatible with this old version.
For example, kubeadm cannot support external etcd version that is
older than 3.2.18.

This commit update the etcd version to 3.3.12 wich is the current
latest version.

Change-Id: Icfabbe580bb83a3babb98cc9fdbfb8eb388dc108
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/642270/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,676957ffcff78e790134776f71035a3b14974896,,"ETCD_VERSION=${ETCD_VERSION:-v3.3.12} ETCD_SHA256_AMD64=${ETCD_SHA256_AMD64:-""dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6""} ETCD_SHA256_ARM64=${ETCD_SHA256_ARM64:-""170b848ac1a071fe7d495d404a868a2c0090750b2944f8a260ef1c6125b2b4f4""} ETCD_SHA256_PPC64=${ETCD_SHA256_PPC64:-""77f807b1b51abbf51e020bb05bdb8ce088cb58260fcd22749ea32eee710463d3""}","ETCD_VERSION=${ETCD_VERSION:-v3.2.17} ETCD_SHA256_AMD64=${ETCD_SHA256_AMD64:-""0a75e794502e2e76417b19da2807a9915fa58dcbf0985e397741d570f4f305cd""} ETCD_SHA256_ARM64=${ETCD_SHA256_ARM64:-""0ab4621c44c79d17d94e43bd184d0f23b763a3669056ce4ae2d0b2942410a98f""} ETCD_SHA256_PPC64=${ETCD_SHA256_PPC64:-""69e1279c4a2a52256b78d2a8dd23346ac46b836e678b971a459f2afaef3c275e""}",4,4
openstack%2Fdevstack~master~I14a0be0034f4a76ab37eb90325967500c3bf1ff9,openstack/devstack,master,I14a0be0034f4a76ab37eb90325967500c3bf1ff9,Bump noVNC to 1.0.0,MERGED,2018-03-06 17:23:04.000000000,2019-03-17 14:52:44.000000000,2019-03-17 14:52:44.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27302}]","[{'number': 1, 'created': '2018-03-06 17:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/97077ae6bb229d54518217eff72de81feac97219', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 2, 'created': '2018-04-12 07:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/053f070eb233c1584dfae1b923f59a0bd800b4c6', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nCo-Authored-By: Shilpa Devharakar <Shilpa.Devharakar@nttdata.com>\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 3, 'created': '2018-04-17 13:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6d2aa55aaca809a0b692f4eb0324d0403171db94', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nCo-Authored-By: Shilpa Devharakar <Shilpa.Devharakar@nttdata.com>\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 4, 'created': '2018-05-14 06:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6a3abc9d369e4c196f1b2e12e76b2b51afa8cfb0', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 5, 'created': '2018-06-28 11:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c9995583ba79ab10f3a189dff4efa4db2fcb80b', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 6, 'created': '2018-07-31 13:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1334a0102aa14d7e7a6854e4835b15f34d9d08a', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 7, 'created': '2018-10-08 13:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2b029ea5b579ee1b052dcb176437aec7a070f7fa', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}, {'number': 8, 'created': '2019-02-28 10:20:39.000000000', 'files': ['lib/nova', 'stackrc', 'doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8c5486993dec738a3e83746af2d62bdba648c999', 'message': 'Bump noVNC to 1.0.0\n\nThis introduces a breaking change in the URLs used to access the console\n[1]. This is updated in both the documentation and linked nova change.\n\n[1] https://github.com/novnc/noVNC/commit/83391ffc\n\nChange-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9\nDepends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c\nRelated-bug: #1682020\n'}]",9,550172,8c5486993dec738a3e83746af2d62bdba648c999,70,11,8,15334,,,0,"Bump noVNC to 1.0.0

This introduces a breaking change in the URLs used to access the console
[1]. This is updated in both the documentation and linked nova change.

[1] https://github.com/novnc/noVNC/commit/83391ffc

Change-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9
Depends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c
Related-bug: #1682020
",git fetch https://review.opendev.org/openstack/devstack refs/changes/72/550172/3 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'stackrc', 'doc/source/guides/multinode-lab.rst']",3,97077ae6bb229d54518217eff72de81feac97219,bug/1682020," NOVNCPROXY_URL=""http://$SERVICE_HOST:6080/vnc_lite.html"""," NOVNCPROXY_URL=""http://$SERVICE_HOST:6080/vnc_auto.html""",3,3
openstack%2Fopenstack-ansible~master~Ibd85ec9d810faaf204917e0f8fb465b4399ecd85,openstack/openstack-ansible,master,Ibd85ec9d810faaf204917e0f8fb465b4399ecd85,Imported Translations from Zanata,MERGED,2019-03-17 06:58:07.000000000,2019-03-17 14:49:47.000000000,2019-03-17 14:49:47.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-17 06:58:07.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6f87d74b999877d4d4a7c47cb5bf76a9cdf591e9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibd85ec9d810faaf204917e0f8fb465b4399ecd85\n'}]",0,643730,6f87d74b999877d4d4a7c47cb5bf76a9cdf591e9,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibd85ec9d810faaf204917e0f8fb465b4399ecd85
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/643730/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po']",7,6f87d74b999877d4d4a7c47cb5bf76a9cdf591e9,zanata/translations,"""POT-Creation-Date: 2019-03-16 19:48+0000\n""","""POT-Creation-Date: 2019-01-23 16:45+0000\n""""For example, the `os_glance documentation <https://docs.openstack.org/"" ""openstack-ansible-os_glance/latest/#default-variables>`_ lists the variable "" ""``glance_service_publicuri``. This contains the port used for the reaching "" ""the service externally. In this example, it is equal to to "" ""``glance_service_port``, whose value is 9292."" msgstr """" ""For example, the `os_glance documentation <https://docs.openstack.org/"" ""openstack-ansible-os_glance/latest/#default-variables>`_ lists the variable "" ""``glance_service_publicuri``. This contains the port used for the reaching "" ""the service externally. In this example, it is equal to to "" ""``glance_service_port``, whose value is 9292."" msgid """"",225,243
openstack%2Fopenstack-ansible~master~I7769428dc0e65f67b79693b033c7e70681a11a6c,openstack/openstack-ansible,master,I7769428dc0e65f67b79693b033c7e70681a11a6c,Fix bashate,MERGED,2019-03-14 11:32:35.000000000,2019-03-17 14:49:46.000000000,2019-03-17 14:49:46.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-14 11:32:35.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/475d45473c3c708ea5759aa63f5512c3f9f38070', 'message': 'Fix bashate\n\nChange-Id: I7769428dc0e65f67b79693b033c7e70681a11a6c\n'}]",0,643300,475d45473c3c708ea5759aa63f5512c3f9f38070,15,4,1,17068,,,0,"Fix bashate

Change-Id: I7769428dc0e65f67b79693b033c7e70681a11a6c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/643300/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,475d45473c3c708ea5759aa63f5512c3f9f38070,fix_linters," apache2 \ haproxy \ httpd \ memcached \ mongodb \ my.cnf \ mysql \ netplan \ network \ nginx \ pip.conf \ qpid-dispatch \ rabbitmq \ repo \ resolv.conf \ rsyslog \ sasl2 \ sysconfig/network-scripts \ sysconfig/network \ systemd/network \ yum \ yum.repos.d \ zypp"" # Store known artifacts only if they exist. If the target directory does # exist, it will be created. # USAGE: store_artifacts /src/to/artifacts /path/to/store if sudo test -e ""${1}""; then if [[ ! -d ""${2}"" ]]; then mkdir -vp ""${2}"" fi echo ""Running artifact sync for \""${1}\"" to \""${2}\"""" sudo ${RSYNC_CMD} ${1} ${2} || true # Store lines from a known unit's journal as a plain-text log file. # USAGE: store_journal_artifacts UNIT_TO_MATCH /path/to/store if [ $? == 0 ]; then if [[ ! -d ""${2}"" ]]; then mkdir -vp ""${2}"" fi if [[ ${3:-false} != false ]]; then if [[ -f ""${3}/system.journal"" ]]; then SYSTEMD_UNITS=$(sudo journalctl --file=""${3}/system.journal"" -F _SYSTEMD_UNIT | grep ""${service}"") for service_unit in $(echo -e ""${SYSTEMD_UNITS}""); do echo ""Pulling journal for ${service_unit}"" sudo journalctl --file=""${3}/system.journal"" \ --unit=""${service_unit}"" | sudo tee ""${2}/${service_unit}.journal-${TS}.log"" &>/dev/null done fi else SYSTEMD_UNITS=$(sudo journalctl --output=json-pretty -F _SYSTEMD_UNIT | grep ""${service}"") for service_unit in $(echo -e ""${SYSTEMD_UNITS}""); do echo ""Pulling journal for ${service_unit}"" sudo journalctl --unit=""${service_unit}"" | sudo tee ""${2}/${service_unit}.journal-${TS}.log"" &>/dev/null done fi find ""${WORKING_DIR}/logs/"" -type f \ ! -name ""*.gz"" \ ! -name '*.html' \ ! -name '*.subunit' \ ! -name ""*.journal"" \ ! -name 'ansible.sqlite' | grep -v 'stackviz' find_files |\ while read filename; do \ mv ${filename} ${filename}.txt || echo ""WARNING: Could not rename ${filename}""; \ done # We use 'command' to ensure that we're not executing with an alias. GZIP_CMD=""command gzip --force --best"" find_files |\ while read filename; do \ ${GZIP_CMD} ${filename} || echo ""WARNING: Could not gzip ${filename}""; \ done for CONTAINER_NAME in $(sudo lxc-ls -1); do CONTAINER_PID=$(sudo lxc-info -p -n ${CONTAINER_NAME} | awk '{print $2}') ETC_DIR=""/proc/${CONTAINER_PID}/root/etc"" MACHINE_ID=""$(sudo cat ${ETC_DIR}/machine-id)"" LOG_DIR=""/proc/${CONTAINER_PID}/root/var/log"" JOURNAL_DIR=""/proc/${CONTAINER_PID}/root/run/log/journal/${MACHINE_ID}"" repo_information ${CONTAINER_NAME} PIDS=() for service in ${COMMON_ETC_LOG_NAMES}; do echo ""Running in container collection for service ${service}"" store_artifacts ${ETC_DIR}/${service} ""${WORKING_DIR}/logs/etc/openstack/${CONTAINER_NAME}/"" & pid=$! PIDS[${pid}]=${pid} store_artifacts ${LOG_DIR}/${service} ""${WORKING_DIR}/logs/openstack/${CONTAINER_NAME}/"" & pid=$! PIDS[${pid}]=${pid} store_journal_artifacts ${service} ""${WORKING_DIR}/logs/openstack/${CONTAINER_NAME}"" ""${JOURNAL_DIR}"" & pid=$! PIDS[${pid}]=${pid} done echo ""Waiting for container collection jobs for ${CONTAINER_NAME} to finish"" for job_pid in ${!PIDS[@]}; do wait ${PIDS[$job_pid]} || exit 99 done for interface in $(ip -o link | awk -F':' '{print $2}' | sed 's/@.*//g'); do echo ""ethtool -k ${interface}"" ethtool -k ${interface} > ""${WORKING_DIR}/logs/ethtool-${interface}-${TS}-cfg.txt"" || true done"," apache2 \ haproxy \ httpd \ memcached \ mongodb \ my.cnf \ mysql \ netplan \ network \ nginx \ pip.conf \ qpid-dispatch \ rabbitmq \ repo \ resolv.conf \ rsyslog \ sasl2 \ sysconfig/network-scripts \ sysconfig/network \ systemd/network \ yum \ yum.repos.d \ zypp"" # Store known artifacts only if they exist. If the target directory does # exist, it will be created. # USAGE: store_artifacts /src/to/artifacts /path/to/store if sudo test -e ""${1}""; then if [[ ! -d ""${2}"" ]]; then mkdir -vp ""${2}"" echo ""Running artifact sync for \""${1}\"" to \""${2}\"""" sudo ${RSYNC_CMD} ${1} ${2} || true fi # Store lines from a known unit's journal as a plain-text log file. # USAGE: store_journal_artifacts UNIT_TO_MATCH /path/to/store if [ $? == 0 ]; then if [[ ! -d ""${2}"" ]]; then mkdir -vp ""${2}"" if [[ ${3:-false} != false ]]; then if [[ -f ""${3}/system.journal"" ]]; then SYSTEMD_UNITS=$(sudo journalctl --file=""${3}/system.journal"" -F _SYSTEMD_UNIT | grep ""${service}"") for service_unit in $(echo -e ""${SYSTEMD_UNITS}""); do echo ""Pulling journal for ${service_unit}"" sudo journalctl --file=""${3}/system.journal"" \ --unit=""${service_unit}"" | sudo tee ""${2}/${service_unit}.journal-${TS}.log"" &>/dev/null done fi else SYSTEMD_UNITS=$(sudo journalctl --output=json-pretty -F _SYSTEMD_UNIT | grep ""${service}"") for service_unit in $(echo -e ""${SYSTEMD_UNITS}""); do echo ""Pulling journal for ${service_unit}"" sudo journalctl --unit=""${service_unit}"" | sudo tee ""${2}/${service_unit}.journal-${TS}.log"" &>/dev/null done fi fi find ""${WORKING_DIR}/logs/"" -type f \ ! -name ""*.gz"" \ ! -name '*.html' \ ! -name '*.subunit' \ ! -name ""*.journal"" \ ! -name 'ansible.sqlite' | grep -v 'stackviz' find_files |\ while read filename; do \ mv ${filename} ${filename}.txt || echo ""WARNING: Could not rename ${filename}""; \ done # We use 'command' to ensure that we're not executing with an alias. GZIP_CMD=""command gzip --force --best"" find_files |\ while read filename; do \ ${GZIP_CMD} ${filename} || echo ""WARNING: Could not gzip ${filename}""; \ done for CONTAINER_NAME in $(sudo lxc-ls -1); do CONTAINER_PID=$(sudo lxc-info -p -n ${CONTAINER_NAME} | awk '{print $2}') ETC_DIR=""/proc/${CONTAINER_PID}/root/etc"" MACHINE_ID=""$(sudo cat ${ETC_DIR}/machine-id)"" LOG_DIR=""/proc/${CONTAINER_PID}/root/var/log"" JOURNAL_DIR=""/proc/${CONTAINER_PID}/root/run/log/journal/${MACHINE_ID}"" repo_information ${CONTAINER_NAME} PIDS=() for service in ${COMMON_ETC_LOG_NAMES}; do echo ""Running in container collection for service ${service}"" store_artifacts ${ETC_DIR}/${service} ""${WORKING_DIR}/logs/etc/openstack/${CONTAINER_NAME}/"" & pid=$! PIDS[${pid}]=${pid} store_artifacts ${LOG_DIR}/${service} ""${WORKING_DIR}/logs/openstack/${CONTAINER_NAME}/"" & pid=$! PIDS[${pid}]=${pid} store_journal_artifacts ${service} ""${WORKING_DIR}/logs/openstack/${CONTAINER_NAME}"" ""${JOURNAL_DIR}"" & pid=$! PIDS[${pid}]=${pid} echo ""Waiting for container collection jobs for ${CONTAINER_NAME} to finish"" for job_pid in ${!PIDS[@]}; do wait ${PIDS[$job_pid]} || exit 99 done done for interface in $(ip -o link | awk -F':' '{print $2}' | sed 's/@.*//g'); do echo ""ethtool -k ${interface}"" ethtool -k ${interface} > ""${WORKING_DIR}/logs/ethtool-${interface}-${TS}-cfg.txt"" || true done",99,98
openstack%2Fpython-tripleoclient~master~I1241985eac1aa7e092a11db5a443da0055ff0141,openstack/python-tripleoclient,master,I1241985eac1aa7e092a11db5a443da0055ff0141,"Force list when returning map(replaced_list_value, template_part)",MERGED,2019-03-13 16:15:02.000000000,2019-03-17 13:39:18.000000000,2019-03-17 13:39:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 17499}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25412}]","[{'number': 1, 'created': '2019-03-13 16:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2067ec7652222be967de8e996b4f54002e3e12bd', 'message': 'Fix replace links utility for processing lists\n\nOmit replacing types of parameters as that is not expected case\n\nCloses-bug: #1819737\n\nChange-Id: I1241985eac1aa7e092a11db5a443da0055ff0141\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-03-13 16:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bcde7120d5a1e4c028e4a6d76caae4ec944fc6cd', 'message': 'Fix replace links utility for processing lists\n\nOmit replacing types of parameters/outputs as that is not an expected\ncase. Originally we should replace it for resources only.\n\nCloses-bug: #1819737\n\nChange-Id: I1241985eac1aa7e092a11db5a443da0055ff0141\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-03-14 08:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/694dda74041a384e5fa8f1c71aa3a7b39617d129', 'message': ""WIP Force list when returning map(replaced_list_value, template_part)\n\nAs suggested by Jiri in this review adding a list() around\n'map(replaced_list_value, template_part)' fixes the py3 issue\nfor me.\n\nWIP: because I did not yet do a full analysis on this code/issue.\nThis is atm just a 'with this it works' kind of review\n\nCloses-bug: #1819737\n\nChange-Id: I1241985eac1aa7e092a11db5a443da0055ff0141\n""}, {'number': 4, 'created': '2019-03-14 10:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d8836c7ec9f0ef5efd7074abf5308da2041d7379', 'message': ""Force list when returning map(replaced_list_value, template_part)\n\nAs suggested by Jiri in this review adding a list() around\n'map(replaced_list_value, template_part)' fixes the py3 issue\nfor me.\n\nCloses-bug: #1819737\nChange-Id: I1241985eac1aa7e092a11db5a443da0055ff0141\n""}, {'number': 5, 'created': '2019-03-16 21:04:21.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f388fceeeff5f9c2fe56ea1c6a592a735e136f01', 'message': ""Force list when returning map(replaced_list_value, template_part)\n\nAs suggested by Jiri in this review adding a list() around\n'map(replaced_list_value, template_part)' fixes the py3 issue\nfor me.\n\nCloses-bug: #1819737\nChange-Id: I1241985eac1aa7e092a11db5a443da0055ff0141\n""}]",8,643091,f388fceeeff5f9c2fe56ea1c6a592a735e136f01,45,10,5,6926,,,0,"Force list when returning map(replaced_list_value, template_part)

As suggested by Jiri in this review adding a list() around
'map(replaced_list_value, template_part)' fixes the py3 issue
for me.

Closes-bug: #1819737
Change-Id: I1241985eac1aa7e092a11db5a443da0055ff0141
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/643091/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,2067ec7652222be967de8e996b4f54002e3e12bd,bug/1819737," result = {} for k, v in six.iteritems(template_part): if k == 'parameters' and 'type' in v.keys(): # NOTE(bogdando): omit replacing types of parameters result[k] = v else: result[k] = replaced_dict_value(k, v) return result"," return {k: replaced_dict_value(k, v) for k, v in six.iteritems(template_part)}",16,2
openstack%2Ftraining-labs~master~I11f823bf974931b5eafa5c74a003b0506543d37d,openstack/training-labs,master,I11f823bf974931b5eafa5c74a003b0506543d37d,"Revert ""Python 3 compatibility: convert raw_input to input""",MERGED,2019-03-01 09:53:32.000000000,2019-03-17 13:18:47.000000000,2019-03-17 13:18:47.000000000,"[{'_account_id': 11109}, {'_account_id': 15334}, {'_account_id': 20770}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-01 09:53:32.000000000', 'files': ['labs/st.py'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/20a43fbe5bd8470f0f690c98bade2ebba2b20d79', 'message': 'Revert ""Python 3 compatibility: convert raw_input to input""\n\nThe reverted patch introduced a library that is not part of a standard\nPython install. Up to that point, we carefully avoided such dependencies\nin the code, because it makes the software more difficult to install and\nuse. The patch provides no actual benefit (it was just a trivial first\nstep towards Python 3 support).\n\nThis reverts commit 03a35690a2f2067784188481882c079dbf4eb42b.\n\nChange-Id: I11f823bf974931b5eafa5c74a003b0506543d37d\n'}]",1,640294,20a43fbe5bd8470f0f690c98bade2ebba2b20d79,9,4,1,11109,,,0,"Revert ""Python 3 compatibility: convert raw_input to input""

The reverted patch introduced a library that is not part of a standard
Python install. Up to that point, we carefully avoided such dependencies
in the code, because it makes the software more difficult to install and
use. The patch provides no actual benefit (it was just a trivial first
step towards Python 3 support).

This reverts commit 03a35690a2f2067784188481882c079dbf4eb42b.

Change-Id: I11f823bf974931b5eafa5c74a003b0506543d37d
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/94/640294/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/st.py'],1,20a43fbe5bd8470f0f690c98bade2ebba2b20d79,revert_ext_lib, ans = raw_input().lower(),from six.moves import input ans = input().lower(),1,2
openstack%2Fopenstack-ansible~master~I477878073f8698862dd38b1249025e2f8c7a68ed,openstack/openstack-ansible,master,I477878073f8698862dd38b1249025e2f8c7a68ed,Fix connectivity between octavia and amphorae.,MERGED,2019-03-15 19:09:50.000000000,2019-03-17 11:35:20.000000000,2019-03-17 11:35:20.000000000,"[{'_account_id': 7353}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-15 19:09:50.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21a66019427f1de6f0135c72b7dd0d8039025ab7', 'message': ""Fix connectivity between octavia and amphorae.\n\nAfter OSA AIO deploy octavia container and amphorae VMs are placed\nin one L2 network domain but have different subnets, so it isn't possible\nfor octavia container to connect to amphorae VMs for configuration.\nThe solution is to create neutron subnet with the same CIDR as for\nlbaas-mgmt, but separate pool from space where container will start\n\nChange-Id: I477878073f8698862dd38b1249025e2f8c7a68ed\nCloses-Bug: 1818441\n""}]",0,643659,21a66019427f1de6f0135c72b7dd0d8039025ab7,11,5,1,16198,,,0,"Fix connectivity between octavia and amphorae.

After OSA AIO deploy octavia container and amphorae VMs are placed
in one L2 network domain but have different subnets, so it isn't possible
for octavia container to connect to amphorae VMs for configuration.
The solution is to create neutron subnet with the same CIDR as for
lbaas-mgmt, but separate pool from space where container will start

Change-Id: I477878073f8698862dd38b1249025e2f8c7a68ed
Closes-Bug: 1818441
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/643659/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,21a66019427f1de6f0135c72b7dd0d8039025ab7,bug/1818441,"## Octavia octavia_management_net_subnet_cidr: 172.29.252.0/22 octavia_management_net_subnet_allocation_pools: ""172.29.253.1-172.29.253.200"" ",,5,0
openstack%2Fmanila~stable%2Frocky~I64ed14b5a44d6e1b37cfc9321b25bdf4e0aabea5,openstack/manila,stable/rocky,I64ed14b5a44d6e1b37cfc9321b25bdf4e0aabea5,Return request-id to APIs that don't respond with a body,MERGED,2019-02-21 03:37:34.000000000,2019-03-17 09:57:42.000000000,2019-03-16 03:40:04.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-02-21 03:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4c89a1f4120989924d44bed4a04a50007d996579', 'message': ""Return request-id to APIs that don't respond with a body\n\nRequest-IDs help track actions initiated via the API.\nWith this patch, we can supply the request ID in the\nfollowing APIs:\n- POST {resource}/action APIs for actions such as\n  'reset-state', 'force-delete', 'shrink',\n  'extend', 'manage', 'deny_access', 'addProjectAccess',\n  'removeProjectAccess', 'promote', 'resync', 'unmanage',\n  'revert', 'migration_start', 'migration_complete',\n  'migration_cancel'\n- POST /share_unmanage/{id}\n- DELETE /{resource}/{id} APIs for\n  shares, share networks, share groups, share replicas,\n  security services, share servers, share snapshots,\n  extra specs, messages, quota sets, share-group-snapshots,\n  group specs, share-group-types, share types\n\nChange-Id: I64ed14b5a44d6e1b37cfc9321b25bdf4e0aabea5\nCloses-Bug: #1815532\n(cherry picked from commit 52db0754fe29df2d56ec642cdab75f11b21e85c0)\n""}, {'number': 2, 'created': '2019-03-14 11:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ce111ed14e089599512fdcd74219fac30b6d3772', 'message': ""Return request-id to APIs that don't respond with a body\n\nRequest-IDs help track actions initiated via the API.\nWith this patch, we can supply the request ID in the\nfollowing APIs:\n- POST {resource}/action APIs for actions such as\n  'reset-state', 'force-delete', 'shrink',\n  'extend', 'manage', 'deny_access', 'addProjectAccess',\n  'removeProjectAccess', 'promote', 'resync', 'unmanage',\n  'revert', 'migration_start', 'migration_complete',\n  'migration_cancel'\n- POST /share_unmanage/{id}\n- DELETE /{resource}/{id} APIs for\n  shares, share networks, share groups, share replicas,\n  security services, share servers, share snapshots,\n  extra specs, messages, quota sets, share-group-snapshots,\n  group specs, share-group-types, share types\n\nChange-Id: I64ed14b5a44d6e1b37cfc9321b25bdf4e0aabea5\nCloses-Bug: #1815532\n(cherry picked from commit 52db0754fe29df2d56ec642cdab75f11b21e85c0)\n""}, {'number': 3, 'created': '2019-03-15 19:49:04.000000000', 'files': ['manila/api/openstack/wsgi.py', 'releasenotes/notes/bug-1815532-supply-request-id-in-all-apis-74419bc1b1feea1e.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/d06801153d7879de74055cd789001e5109040192', 'message': ""Return request-id to APIs that don't respond with a body\n\nRequest-IDs help track actions initiated via the API.\nWith this patch, we can supply the request ID in the\nfollowing APIs:\n- POST {resource}/action APIs for actions such as\n  'reset-state', 'force-delete', 'shrink',\n  'extend', 'manage', 'deny_access', 'addProjectAccess',\n  'removeProjectAccess', 'promote', 'resync', 'unmanage',\n  'revert', 'migration_start', 'migration_complete',\n  'migration_cancel'\n- POST /share_unmanage/{id}\n- DELETE /{resource}/{id} APIs for\n  shares, share networks, share groups, share replicas,\n  security services, share servers, share snapshots,\n  extra specs, messages, quota sets, share-group-snapshots,\n  group specs, share-group-types, share types\n\nChange-Id: I64ed14b5a44d6e1b37cfc9321b25bdf4e0aabea5\nCloses-Bug: #1815532\n(cherry picked from commit 52db0754fe29df2d56ec642cdab75f11b21e85c0)\n""}]",0,638326,d06801153d7879de74055cd789001e5109040192,28,5,3,16643,,,0,"Return request-id to APIs that don't respond with a body

Request-IDs help track actions initiated via the API.
With this patch, we can supply the request ID in the
following APIs:
- POST {resource}/action APIs for actions such as
  'reset-state', 'force-delete', 'shrink',
  'extend', 'manage', 'deny_access', 'addProjectAccess',
  'removeProjectAccess', 'promote', 'resync', 'unmanage',
  'revert', 'migration_start', 'migration_complete',
  'migration_cancel'
- POST /share_unmanage/{id}
- DELETE /{resource}/{id} APIs for
  shares, share networks, share groups, share replicas,
  security services, share servers, share snapshots,
  extra specs, messages, quota sets, share-group-snapshots,
  group specs, share-group-types, share types

Change-Id: I64ed14b5a44d6e1b37cfc9321b25bdf4e0aabea5
Closes-Bug: #1815532
(cherry picked from commit 52db0754fe29df2d56ec642cdab75f11b21e85c0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/26/638326/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/openstack/wsgi.py', 'releasenotes/notes/bug-1815532-supply-request-id-in-all-apis-74419bc1b1feea1e.yaml']",2,4c89a1f4120989924d44bed4a04a50007d996579,bug/1815532-stable/rocky,--- fixes: - APIs that were not returning a request ID ('x-compute-request-id') in the response headers have been fixed. ,,5,1
openstack%2Fvitrage-dashboard~master~I9c83b8a07f4b69c72dad619ac0130222c5e14e98,openstack/vitrage-dashboard,master,I9c83b8a07f4b69c72dad619ac0130222c5e14e98,Switch to horizon-nodejs4-jobs-nonvoting template,MERGED,2019-03-14 00:37:38.000000000,2019-03-17 08:51:47.000000000,2019-03-17 08:51:47.000000000,"[{'_account_id': 1736}, {'_account_id': 19140}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 00:37:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/ef540f41a6817dee0e8c31b73b9a857f223001e7', 'message': ""Switch to horizon-nodejs4-jobs-nonvoting template\n\nWe need to switch these jobs to xenial. But while we're doing that,\nlet's shift to consuming a template managed in the horizon repo.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: I9c83b8a07f4b69c72dad619ac0130222c5e14e98\n""}]",0,643207,ef540f41a6817dee0e8c31b73b9a857f223001e7,7,3,1,2,,,0,"Switch to horizon-nodejs4-jobs-nonvoting template

We need to switch these jobs to xenial. But while we're doing that,
let's shift to consuming a template managed in the horizon repo.

Depends-On: https://review.openstack.org/643198
Change-Id: I9c83b8a07f4b69c72dad619ac0130222c5e14e98
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/07/643207/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ef540f41a6817dee0e8c31b73b9a857f223001e7,nodev4-xenial, - horizon-nodejs4-jobs-nonvoting, - nodejs-npm-run-lint: vars: node_version: 4 voting: false - nodejs-npm-run-test: vars: node_version: 4 voting: false,1,8
openstack%2Fmanila~stable%2Frocky~I50d1024ee8485b8290c24fa850e60755b518fff3,openstack/manila,stable/rocky,I50d1024ee8485b8290c24fa850e60755b518fff3,Fix API version inferred w/ un-versioned URLs,MERGED,2019-03-14 19:05:54.000000000,2019-03-17 08:12:18.000000000,2019-03-15 23:44:37.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-03-14 19:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a41058ebc06686bba7adfad605fc0c50a0bd2326', 'message': 'Fix API version inferred w/ un-versioned URLs\n\nWith [1], we fixed the issue with v1 API URLs when\nconfiguring manila with a reverse proxy, like uwsgi.\nHowever, the version discovery can be made against a\n""unversioned"" URL, i.e, the ""/"" endpoint.\n\nExample version discovery target when there\'s no reverse\nproxy:\n\n   curl -i -X GET www.openstack-overcloud.com:8786/\n\nExample version discovery target when manila is configured\nwith a web proxy:\n\n   curl -i -X GET www.openstack-overcloud.com/shared-file-system/\n\nCurrently, the API assumes that a v2 endpoint is requested\nand hence sets a default API version in the request, which\nresults in the wrong headers communicated to the client.\n\nFix this issue. The release note added with [1] should\nsuffice for this fix.\n\n[1] I0363d7174f3d7ddefa8ced59b182faed665e9c36\nChange-Id: I50d1024ee8485b8290c24fa850e60755b518fff3\nCloses-Bug: #1818081\n'}, {'number': 2, 'created': '2019-03-15 10:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/28588b4b466bccae84c21728d3f2b27c0ad8eb04', 'message': 'Fix API version inferred w/ un-versioned URLs\n\nWith [1], we fixed the issue with v1 API URLs when\nconfiguring manila with a reverse proxy, like uwsgi.\nHowever, the version discovery can be made against a\n""unversioned"" URL, i.e, the ""/"" endpoint.\n\nExample version discovery target when there\'s no reverse\nproxy:\n\n   curl -i -X GET www.openstack-overcloud.com:8786/\n\nExample version discovery target when manila is configured\nwith a web proxy:\n\n   curl -i -X GET www.openstack-overcloud.com/shared-file-system/\n\nCurrently, the API assumes that a v2 endpoint is requested\nand hence sets a default API version in the request, which\nresults in the wrong headers communicated to the client.\n\nFix this issue. The release note added with [1] should\nsuffice for this fix.\n\n[1] I0363d7174f3d7ddefa8ced59b182faed665e9c36\nChange-Id: I50d1024ee8485b8290c24fa850e60755b518fff3\nCloses-Bug: #1818081\n(Cherry-picked from commit 4b0c953f7fe7afbbbece8db7edce8efe69fb4387)\n'}, {'number': 3, 'created': '2019-03-15 19:47:48.000000000', 'files': ['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml\t\t\t', 'manila/tests/api/openstack/test_wsgi.py', 'manila/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5a3be01535d3902e1ee21ca070d4918adefc2018', 'message': 'Fix API version inferred w/ un-versioned URLs\n\nWith [1], we fixed the issue with v1 API URLs when\nconfiguring manila with a reverse proxy, like uwsgi.\nHowever, the version discovery can be made against a\n""unversioned"" URL, i.e, the ""/"" endpoint.\n\nExample version discovery target when there\'s no reverse\nproxy:\n\n   curl -i -X GET www.openstack-overcloud.com:8786/\n\nExample version discovery target when manila is configured\nwith a web proxy:\n\n   curl -i -X GET www.openstack-overcloud.com/shared-file-system/\n\nCurrently, the API assumes that a v2 endpoint is requested\nand hence sets a default API version in the request, which\nresults in the wrong headers communicated to the client.\n\nFix this issue. The release note added with [1] should\nsuffice for this fix.\n\n[1] I0363d7174f3d7ddefa8ced59b182faed665e9c36\nChange-Id: I50d1024ee8485b8290c24fa850e60755b518fff3\nCloses-Bug: #1818081\n(Cherry-picked from commit 4b0c953f7fe7afbbbece8db7edce8efe69fb4387)\n'}]",0,643431,5a3be01535d3902e1ee21ca070d4918adefc2018,19,5,3,16643,,,0,"Fix API version inferred w/ un-versioned URLs

With [1], we fixed the issue with v1 API URLs when
configuring manila with a reverse proxy, like uwsgi.
However, the version discovery can be made against a
""unversioned"" URL, i.e, the ""/"" endpoint.

Example version discovery target when there's no reverse
proxy:

   curl -i -X GET www.openstack-overcloud.com:8786/

Example version discovery target when manila is configured
with a web proxy:

   curl -i -X GET www.openstack-overcloud.com/shared-file-system/

Currently, the API assumes that a v2 endpoint is requested
and hence sets a default API version in the request, which
results in the wrong headers communicated to the client.

Fix this issue. The release note added with [1] should
suffice for this fix.

[1] I0363d7174f3d7ddefa8ced59b182faed665e9c36
Change-Id: I50d1024ee8485b8290c24fa850e60755b518fff3
Closes-Bug: #1818081
(Cherry-picked from commit 4b0c953f7fe7afbbbece8db7edce8efe69fb4387)
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/643431/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml\t\t\t', 'manila/tests/api/openstack/test_wsgi.py', 'manila/api/openstack/wsgi.py']",3,a41058ebc06686bba7adfad605fc0c50a0bd2326,bug/1818081,V2_SCRIPT_NAME = '/v2' if not self.script_name or not (V1_SCRIPT_NAME in self.script_name or V2_SCRIPT_NAME in self.script_name): # The request is on the base URL without a major version specified, if not self.script_name:,6,3
openstack%2Fblazar~master~I962808283e37e3235cd17d74407aa1d39d1e0fc6,openstack/blazar,master,I962808283e37e3235cd17d74407aa1d39d1e0fc6,Support adding to existing reservation inventory,MERGED,2019-01-31 10:04:11.000000000,2019-03-17 06:47:20.000000000,2019-03-17 06:47:20.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-01-31 10:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/1e261f0a079fef4987a9b52e554d3b491c1471fe', 'message': ""Support to add reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\n""}, {'number': 2, 'created': '2019-01-31 10:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e19905f3828c1f6effaa6f24017bdc0202f27b8e', 'message': ""Support to add reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}, {'number': 3, 'created': '2019-02-14 02:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f2ccb393a6ffe6ce652dc19f14fc635d403bbc41', 'message': ""Support to add reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}, {'number': 4, 'created': '2019-02-19 06:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fa4eeef4035264169124040f19d774036368f5f7', 'message': ""Support to add reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}, {'number': 5, 'created': '2019-03-13 01:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/11dfda2b8f03f7b9463b2dc4d5dfeb604a3a5a75', 'message': ""Support to add reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}, {'number': 6, 'created': '2019-03-13 01:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/332c86f4d972735979ead2cbf775237edefae4e1', 'message': ""Support to add reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}, {'number': 7, 'created': '2019-03-14 18:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f5ecaca9a692936675e115a1d11a77b873254550', 'message': ""Support adding to existing reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}, {'number': 8, 'created': '2019-03-14 18:30:57.000000000', 'files': ['blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/81f3ba9bb399eb9f7aabe624e2cf4aeef3b3e1c6', 'message': ""Support adding to existing reservation inventory\n\nupdate_reservation_inventory() in placement client just overwrote\nthe reservation inventory with the given total number. This is\ninconvenient for example reallocation cases where we don't know\nhow much inventory we already have.\n\nThis patch tweaks it to consider the existing inventory and add on\nrather than overwrite it.\n\nChange-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6\nBlueprint: placement-api\n""}]",6,634192,81f3ba9bb399eb9f7aabe624e2cf4aeef3b3e1c6,33,5,8,25625,,,0,"Support adding to existing reservation inventory

update_reservation_inventory() in placement client just overwrote
the reservation inventory with the given total number. This is
inconvenient for example reallocation cases where we don't know
how much inventory we already have.

This patch tweaks it to consider the existing inventory and add on
rather than overwrite it.

Change-Id: I962808283e37e3235cd17d74407aa1d39d1e0fc6
Blueprint: placement-api
",git fetch https://review.opendev.org/openstack/blazar refs/changes/92/634192/6 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py']",2,1e261f0a079fef4987a9b52e554d3b491c1471fe,bp/no-affinity-instance-reservation," 'BlazarPlacementClient.get') @mock.patch('keystoneauth1.session.Session.request') def test_add_reservation_inventory(self, kss_req, client_get, get_rp): host_uuid = uuidutils.generate_uuid() host_name = ""compute-1"" rp_uuid = uuidutils.generate_uuid() rp_name = ""blazar_compute-1"" # Build the mock of current resource provider mock_get_rp_json = {'uuid': rp_uuid, 'name': rp_name, 'generation': 0, 'parent_provider_uuid': host_uuid} get_rp.return_value = mock_get_rp_json # Build the mock of ""current"" inventory for get_inventory() curr_gen = 11 mock_get_inv_json = { 'inventories': { 'CUSTOM_RESERVATION_CURR': { ""allocation_ratio"": 1.0, ""max_unit"": 1, ""min_unit"": 1, ""reserved"": 0, ""step_size"": 1, ""total"": 1 }, }, ""resource_provider_generation"": curr_gen } client_get.return_value = fake_requests.FakeResponse( 200, content=json.dumps(mock_get_inv_json)) # Build the mock of ""updated"" inventory for update_inventory() update_gen = 12 mock_put_json = { 'inventories': { 'CUSTOM_RESERVATION_CURR': { ""allocation_ratio"": 1.0, ""max_unit"": 1, ""min_unit"": 1, ""reserved"": 0, ""step_size"": 1, ""total"": 3 }, }, ""resource_provider_generation"": update_gen } kss_req.return_value = fake_requests.FakeResponse( 200, content=json.dumps(mock_put_json)) result = self.client.update_reservation_inventory( host_name, 'curr', 2, additional=True) expected_data = { 'inventories': { 'CUSTOM_RESERVATION_CURR': { ""allocation_ratio"": 1.0, ""max_unit"": 1, ""min_unit"": 1, ""reserved"": 0, ""step_size"": 1, ""total"": 3 } }, ""resource_provider_generation"": curr_gen } expected_url = '/resource_providers/%s/inventories' % rp_uuid kss_req.assert_called_once_with( expected_url, 'PUT', json=expected_data, endpoint_filter={'service_type': 'placement', 'interface': 'public'}, headers={'accept': 'application/json'}, microversion=PLACEMENT_MICROVERSION, raise_exc=False) self.assertEqual(mock_put_json, result) @mock.patch('blazar.utils.openstack.placement.' 'BlazarPlacementClient.get_resource_provider') @mock.patch('blazar.utils.openstack.placement.'",,104,16
openstack%2Fmanila~stable%2Frocky~I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6,openstack/manila,stable/rocky,I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6,Manila VMAX docs -  differences between quotas,MERGED,2019-03-15 16:47:11.000000000,2019-03-17 06:12:46.000000000,2019-03-15 18:45:54.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:47:11.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/ddf05619bb0af7a571cd106eb32ebc5d3922d623', 'message': 'Manila VMAX docs -  differences between quotas\n\nHighlight the difference between nas_quotas and OpenStack manila\nquotas.\n\nChange-Id: I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6\n(cherry picked from commit 9ab3b8e80b9577c4aef0bc5604651148293dc893)\n'}]",0,643641,ddf05619bb0af7a571cd106eb32ebc5d3922d623,8,4,1,12670,,,0,"Manila VMAX docs -  differences between quotas

Highlight the difference between nas_quotas and OpenStack manila
quotas.

Change-Id: I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6
(cherry picked from commit 9ab3b8e80b9577c4aef0bc5604651148293dc893)
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/643641/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,ddf05619bb0af7a571cd106eb32ebc5d3922d623,," Other Remarks ~~~~~~~~~~~~~ - eNAS ``nas_quotas`` should not be confused with OpenStack manila quotas. The former edits quotas for mounted file systems, and displays a listing of quotas and disk usage at the file system level (by the user, group, or tree), or at the quota-tree level (by the user or group). ``nas_quotas`` also turns quotas on and off, and clears quotas records for a file system, quota tree, or a Data Mover. Refer to VMAX eNAS CLI Reference guide on `EMC support site <http://support.emc.com>`_ for additional information. ``OpenStack manila quotas`` delimit the number of shares, snapshots etc. a user can create. .. code-block:: console $ manila quota-show --tenant <project_id> --user <user_id> +-----------------------+-------+ | Property | Value | +-----------------------+-------+ | share_groups | 50 | | gigabytes | 1000 | | snapshot_gigabytes | 1000 | | share_group_snapshots | 50 | | snapshots | 50 | | shares | 50 | | share_networks | 10 | +-----------------------+-------+ ",,31,0
openstack%2Fmanila~stable%2Frocky~I9f598c6918455de7344d80d2663d9fd3a4cc3ed9,openstack/manila,stable/rocky,I9f598c6918455de7344d80d2663d9fd3a4cc3ed9,Manila VMAX docs -  improve pre-configurations on VMAX section,MERGED,2019-03-15 16:44:44.000000000,2019-03-17 04:19:08.000000000,2019-03-15 18:45:52.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:44:44.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/21d5f1ecaa83f0da30d0a844567489765896246b', 'message': 'Manila VMAX docs -  improve pre-configurations on VMAX section\n\nAdd storage pool and license configuration to the Pre-configurations\non VMAX section.\n\nChange-Id: I9f598c6918455de7344d80d2663d9fd3a4cc3ed9\n(cherry picked from commit 2528762a694d428bd037ec134d611ea86075bdfd)\n'}]",0,643640,21d5f1ecaa83f0da30d0a844567489765896246b,8,4,1,12670,,,0,"Manila VMAX docs -  improve pre-configurations on VMAX section

Add storage pool and license configuration to the Pre-configurations
on VMAX section.

Change-Id: I9f598c6918455de7344d80d2663d9fd3a4cc3ed9
(cherry picked from commit 2528762a694d428bd037ec134d611ea86075bdfd)
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/643640/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,21d5f1ecaa83f0da30d0a844567489765896246b,,"#. Configure a storage pool There is a one to one relationship between a storage pool in embedded NAS to a storage group on the VMAX. The best way to provision storage for file is from the Unisphere for VMAX UI rather than eNAS UI. Go to :menuselection:`{array} > SYSTEM > FIle` and under :menuselection:`Actions` click :menuselection:`PROVISION STORAGE FOR FILE` .. note:: When creating a new storage group you have the ability to assign a service level e.g. Diamond and disable compression/deduplication which is enabled by default. To pick up the newly created storage pool in the eNAS UI, go to :menuselection:`{Control Station} > Storage > Storage Configuration > Storage Pools` and under :menuselection:`File Storage` click :menuselection:`Rescan Storage Systems` or on the command line: $ nas_diskmark -mark -all -discovery y -monitor y The new storage pool should now appear in the eNAS UI #. Make sure you have the appropriate licenses $ nas_license -l key status value site_key online xx xx xx xx nfs online cifs online snapsure online replicatorV2 online filelevelretention online $ server_setup <movername> -Protocol cifs -option start [=<n>] # movername = name of the Data Mover # n = number of threads for CIFS users $ server_cifs <movername> | head # movername = name of the Data Mover difference should be less than 5 minutes. .. note:: If there is a clock skew then you may see the following error ""The local machine and the remote machine are not synchronized. Kerberos protocol requires a synchronization of both participants within the same 5 minutes"". To fix this error you must make sure the times of the eNas controller host and the Domain Controller or within 5 minutes of each other. You must be root to change the date of the eNas control station. Check also that your time zones coincide. $ server_date <movername> # movername = name of the Data Mover $ server_date <movername> timesvc start ntp <host> [<host> ...] # movername = name of the Data Mover # host = IP address of the time server host $ server_usermapper <movername> # movername = name of the Data Mover $ server_usermapper <movername> -enable # movername = name of the Data Mover To check the device list on the eNAS UI go to :menuselection:`{Control Station} > Settings > Network > Devices`. or on the command line: .. code-block:: console $ server_sysconfig server_2 -pci server_2 : PCI DEVICES: On Board: VendorID=0x1120 DeviceID=0x1B00 Controller 0: scsi-0 IRQ: 32 0: scsi-16 IRQ: 33 0: scsi-32 IRQ: 34 0: scsi-48 IRQ: 35 Broadcom 10 Gigabit Ethernet Controller 0: fxg-3-0 IRQ: 36 speed=10000 duplex=full txflowctl=disable rxflowctl=disable Link: Up 0: fxg-3-1 IRQ: 38 speed=10000 duplex=full txflowctl=disable rxflowctl=disable Link: Down ","#. Enable Unicode on Data Mover. The VMAX driver requires that the Unicode is enabled on Data Mover. .. warning:: After enabling Unicode, you cannot disable it. If there are some file systems created before Unicode is enabled on the VMAX, consult the storage administrator before enabling Unicode. To check the Unicode status on Data Mover, use the following VMAX eNAS File commands on the VMAX control station: server_cifs <MOVER_NAME> | head # MOVER_NAME = <name of the Data Mover> Check the value of I18N mode field. UNICODE mode is shown as ``I18N mode = UNICODE``. To enable the Unicode for Data Mover, use the following command: uc_config -on -mover <MOVER_NAME> # MOVER_NAME = <name of the Data Mover> Refer to the document Using International Character Sets on VMAX for File on `EMC support site <http://support.emc.com>`_ for more information. server_setup <MOVER_NAME> -Protocol cifs -option start [=<n>] # MOVER_NAME = <name of the Data Mover> # n = <number of threads for CIFS users> server_cifs <MOVER_NAME> | head # MOVER_NAME = <name of the Data Mover> difference should be less than 10 minutes. server_date <MOVER_NAME> # MOVER_NAME = <name of the Data Mover> server_date <MOVER_NAME> timesvc start ntp <host> [<host> ...] # MOVER_NAME = <name of the Data Mover> # host = <IP address of the time server host> server_usermapper <movername> # movername = <name of the Data Mover> server_usermapper <movername> -enable # movername = <name of the Data Mover> To check the device list, go to :menuselection:`Unisphere > Settings > Network > Device`.",82,35
openstack%2Fmanila~stable%2Frocky~I40a7b8c72b8ce67689c6b9a769cdb3399a3c6242,openstack/manila,stable/rocky,I40a7b8c72b8ce67689c6b9a769cdb3399a3c6242,Manila VMAX docs -  clarify snapshot support,MERGED,2019-03-15 16:42:27.000000000,2019-03-17 02:29:51.000000000,2019-03-15 18:45:51.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:42:27.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/396316b86e704d590a00f073e0134b7328e29af3', 'message': 'Manila VMAX docs -  clarify snapshot support\n\nAs snapshot support is disabled by default, this clarifies how to enable\nit for both create snapshot of share and create share from snapshot.\n\nChange-Id: I40a7b8c72b8ce67689c6b9a769cdb3399a3c6242\n(cherry picked from commit 6bc9b90cab18baa32cc2ead8efc2c30aca2bbe52)\n'}]",0,643638,396316b86e704d590a00f073e0134b7328e29af3,8,4,1,12670,,,0,"Manila VMAX docs -  clarify snapshot support

As snapshot support is disabled by default, this clarifies how to enable
it for both create snapshot of share and create share from snapshot.

Change-Id: I40a7b8c72b8ce67689c6b9a769cdb3399a3c6242
(cherry picked from commit 6bc9b90cab18baa32cc2ead8efc2c30aca2bbe52)
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/643638/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,396316b86e704d590a00f073e0134b7328e29af3,,"Snapshot Support ~~~~~~~~~~~~~~~~ Snapshot support is disabled by default, so in order to allow shapshots for a share type, the ``snapshot_support`` extra spec must be set to True. Creating a share from a snapshot is also disabled by default so ``create_share_from_snapshot_support`` must also be set to True if this functionality is required. For a new share type: .. code-block:: console $ manila type-create --snapshot_support True \ --create_share_from_snapshot_support True \ ${share_type_name} True For an existing share type: .. code-block:: console $ manila type-key ${share_type_name} \ set snapshot_support=True $ manila type-key ${share_type_name} \ set create_share_from_snapshot_support=True To create a snapshot from a share where snapshot_support=True: .. code-block:: console $ manila snapshot-create ${source_share_name} --name ${target_snapshot_name} To create a target share from a shapshot where create_share_from_snapshot_support=True: .. code-block:: console $ manila create cifs 3 --name ${target_share_name} \ --share-network ${share_network} \ --share-type ${share_type_name} \ --metadata source=snapshot \ --snapshot-id ${snapshot_id} ",,43,0
openstack%2Fmanila~stable%2Frocky~Iac40b4d250a87d8c993ec2db5ad1d7e03eab189b,openstack/manila,stable/rocky,Iac40b4d250a87d8c993ec2db5ad1d7e03eab189b,Manila VMAX docs -  clarify driver_handles_share_servers,MERGED,2019-03-15 16:40:44.000000000,2019-03-17 00:38:04.000000000,2019-03-15 18:45:50.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:40:44.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/9defa3bcf34d1ddb130f789b5577b281314c521e', 'message': 'Manila VMAX docs -  clarify driver_handles_share_servers\n\nClarify that only driver_handles_share_servers = True is supported in\nthe VMAX manila driver.\n\nChange-Id: Iac40b4d250a87d8c993ec2db5ad1d7e03eab189b\n(cherry picked from commit 9aac703672230a1acabdada94f4db16b3151fc58)\n'}]",0,643637,9defa3bcf34d1ddb130f789b5577b281314c521e,8,4,1,12670,,,0,"Manila VMAX docs -  clarify driver_handles_share_servers

Clarify that only driver_handles_share_servers = True is supported in
the VMAX manila driver.

Change-Id: Iac40b4d250a87d8c993ec2db5ad1d7e03eab189b
(cherry picked from commit 9aac703672230a1acabdada94f4db16b3151fc58)
",git fetch https://review.opendev.org/openstack/manila refs/changes/37/643637/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,9defa3bcf34d1ddb130f789b5577b281314c521e,," driver_handles_share_servers = True- `driver_handles_share_servers` VMAX only supports True, where the share driver handles the provisioning and management of the share servers. - Only ``driver_handles_share_servers`` equals True is supported. ",,7,0
openstack%2Fopenstacksdk~master~If3e62da2f037b44cb057856e6566d68ef16ded8e,openstack/openstacksdk,master,If3e62da2f037b44cb057856e6566d68ef16ded8e,Add proxy API reference to baremetal user guide,MERGED,2019-03-15 21:54:33.000000000,2019-03-17 00:08:48.000000000,2019-03-17 00:08:48.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 21:54:33.000000000', 'files': ['doc/source/user/guides/baremetal.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/16f2dbe3b08d6feb1438a59f6b0a82e46ea00fe3', 'message': 'Add proxy API reference to baremetal user guide\n\nToday was my first day with the openstacksdk docs, and it took me a\nwhile to find the baremetal proxy API reference [1] after banging my head\nagainst the examples in the user guide [2].\n\nThis commit adds a link to [1] at the top of [2] and makes clear that\nthe latter is just an exemplary subset of what can be done.\n\n[1] https://docs.openstack.org/openstacksdk/latest/user/proxies/baremetal.html\n[2] https://docs.openstack.org/openstacksdk/latest/user/guides/baremetal.html\n\nChange-Id: If3e62da2f037b44cb057856e6566d68ef16ded8e\n'}]",0,643683,16f2dbe3b08d6feb1438a59f6b0a82e46ea00fe3,7,3,1,14070,,,0,"Add proxy API reference to baremetal user guide

Today was my first day with the openstacksdk docs, and it took me a
while to find the baremetal proxy API reference [1] after banging my head
against the examples in the user guide [2].

This commit adds a link to [1] at the top of [2] and makes clear that
the latter is just an exemplary subset of what can be done.

[1] https://docs.openstack.org/openstacksdk/latest/user/proxies/baremetal.html
[2] https://docs.openstack.org/openstacksdk/latest/user/guides/baremetal.html

Change-Id: If3e62da2f037b44cb057856e6566d68ef16ded8e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/83/643683/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/baremetal.rst'],1,16f2dbe3b08d6feb1438a59f6b0a82e46ea00fe3,baremetal-proxy-doc-links,"Below are a few usage examples. For a reference to all the available methods, see :doc:`/user/proxies/baremetal`. ",,3,0
openstack%2Fpython-tripleoclient~master~I0d64cb0a534b48f1aa747655f7b7d997c74d77bc,openstack/python-tripleoclient,master,I0d64cb0a534b48f1aa747655f7b7d997c74d77bc,Fix timezone lookup,MERGED,2019-03-14 16:27:25.000000000,2019-03-16 23:56:36.000000000,2019-03-16 23:56:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-14 16:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1ca0b116cad90951f487b876d0412fdb92d97f22', 'message': 'Fix timezone lookup\n\nUnfortunate strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}, {'number': 2, 'created': '2019-03-14 16:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/825faf5f2c8a701e9b0f1f7a06071d8e55c45242', 'message': 'Fix timezone lookup\n\nUnfortunate strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}, {'number': 3, 'created': '2019-03-14 16:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd5e9487185563f40a97e93c03394e69c4052082', 'message': 'Fix timezone lookup\n\nUnfortunately strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}, {'number': 4, 'created': '2019-03-14 21:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9339f2241cf13937419aee0d6c76b1c77135a8a2', 'message': 'Fix timezone lookup\n\nUnfortunately strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}, {'number': 5, 'created': '2019-03-14 23:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f21ea5b60bbbfa92067fe47792b52f520b754f8', 'message': 'Fix timezone lookup\n\nUnfortunately strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}, {'number': 6, 'created': '2019-03-15 15:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b63f3848efacc42cc7730d59c4817fce3dcc6848', 'message': 'Fix timezone lookup\n\nUnfortunately strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}, {'number': 7, 'created': '2019-03-15 20:00:41.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/93bff9937974bd78248f0ab6fb188710fd4b5784', 'message': 'Fix timezone lookup\n\nUnfortunately strftime does not always return a timezone that matches up\nwith what is available via zoneinfo on the file system. So instead of\nusing that, this patch creates a function to use timedatectl on the host\nitself to determine what the current timezone is configured to.\n\nChange-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc\nCloses-Bug: #1820081\n'}]",0,643390,93bff9937974bd78248f0ab6fb188710fd4b5784,24,6,7,14985,,,0,"Fix timezone lookup

Unfortunately strftime does not always return a timezone that matches up
with what is available via zoneinfo on the file system. So instead of
using that, this patch creates a function to use timedatectl on the host
itself to determine what the current timezone is configured to.

Change-Id: I0d64cb0a534b48f1aa747655f7b7d997c74d77bc
Closes-Bug: #1820081
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/90/643390/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py']",3,1ca0b116cad90951f487b876d0412fdb92d97f22,bug/1820081,"def get_local_timezone(): info = run_command(['timedatectl'], name='timedatectl') timezoneline = [tz for tz in info.split('\n') if 'Time zone:' in tz] if not timezoneline: LOG.warning('Unable to determine timezone, using UTC') return 'UTC' # The line returned is ""[whitespace]Time zone: [timezone] ([tz], [offset])"" try: timezone = timezoneline[0].strip().split(' ')[2] except Exception: LOG.error('Unable to parse timezone from timedatectl, using UTC') timezone = 'UTC' return timezone",,36,1
openstack%2Fpython-tripleoclient~master~Iea3d6c7591b29f7474be97c939be60f368a04133,openstack/python-tripleoclient,master,Iea3d6c7591b29f7474be97c939be60f368a04133,Fix tests for container image prepare,MERGED,2019-03-14 15:36:49.000000000,2019-03-16 23:56:35.000000000,2019-03-16 23:56:35.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-14 15:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cdce7da6848506adda9f3853bd6a9354fea8d44e', 'message': 'Fix tests for container image prepare\n\nWe change behaviour of what is returned by\nset_neutron_driver for default network.\nSo we also need to change this test in tripleoclient\n\nDepends-On: https://review.openstack.org/#/c/643365/\nChange-Id: Iea3d6c7591b29f7474be97c939be60f368a04133\nCloses-Bug: #1820065\n'}, {'number': 2, 'created': '2019-03-14 15:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1a6c7c7d2cde85e24b7d7390e7a4a953398e928', 'message': 'Fix tests for container image prepare\n\nWe change behaviour of what is returned by\nset_neutron_driver for default network.\nSo we also need to change this test in tripleoclient\n\nDepends-On: https://review.openstack.org/#/c/643365/\nChange-Id: Iea3d6c7591b29f7474be97c939be60f368a04133\nCloses-Bug: #1820065\n'}, {'number': 3, 'created': '2019-03-15 20:00:36.000000000', 'files': ['requirements.txt', 'tripleoclient/tests/v1/test_container_image.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a09cf7c7821cd1214d48a4a1e37a9a5a72f8c97', 'message': 'Fix tests for container image prepare\n\nWe change behaviour of what is returned by\nset_neutron_driver for default network.\nSo we also need to change this test in tripleoclient\n\nDepends-On: https://review.openstack.org/#/c/643365/\nChange-Id: Iea3d6c7591b29f7474be97c939be60f368a04133\nCloses-Bug: #1820065\n'}]",0,643370,1a09cf7c7821cd1214d48a4a1e37a9a5a72f8c97,13,5,3,11082,,,0,"Fix tests for container image prepare

We change behaviour of what is returned by
set_neutron_driver for default network.
So we also need to change this test in tripleoclient

Depends-On: https://review.openstack.org/#/c/643365/
Change-Id: Iea3d6c7591b29f7474be97c939be60f368a04133
Closes-Bug: #1820065
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/643370/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleoclient/tests/v1/test_container_image.py', 'lower-constraints.txt']",3,cdce7da6848506adda9f3853bd6a9354fea8d44e,bug/1820065,tripleo-common==10.6.0,tripleo-common==10.4.0,4,3
openstack%2Fneutron~stable%2Fpike~Ie3fe825d65408fc969c478767b411fe0156e9fbc,openstack/neutron,stable/pike,Ie3fe825d65408fc969c478767b411fe0156e9fbc,Set initial ha router state in neutron-keepalived-state-change,MERGED,2019-03-14 21:16:08.000000000,2019-03-16 23:19:08.000000000,2019-03-16 23:19:07.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-14 21:16:08.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/91c26f56586e88a75e942cd06c8f4539acfb4963', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n(cherry picked from commit 8fec1ffc833eba9b3fc5f812bf881f44b4beba0c)\n'}]",0,643461,91c26f56586e88a75e942cd06c8f4539acfb4963,21,5,1,11975,,,0,"Set initial ha router state in neutron-keepalived-state-change

Sometimes in case of HA routers it may happend that
keepalived will set status of router to MASTER before
neutron-keepalived-state-change daemon will spawn ""ip monitor""
to monitor changes of IPs in router's namespace.

In such case neutron-keepalived-state-change process will never
notice that keepalived set router to be MASTER and L3 agent will
not be notified about that so router will not be configured properly.

To avoid such race condition neutron-keepalived-state-change will
now check if VIP address is already configured on ha interface
before it will spawn ""ip monitor"". If it is already configured
by keepalived, it will notify L3 agent that router is set to
MASTER.

Change-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc
Closes-Bug: #1818614
(cherry picked from commit 8fec1ffc833eba9b3fc5f812bf881f44b4beba0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/643461/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py']",4,91c26f56586e88a75e942cd06c8f4539acfb4963,bug/1818614-stable/pike,"from neutron.conf.agent import common as agent_config self.handle_initial_state() def handle_initial_state(self): try: state = 'backup' ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: state = 'master' self.write_state_change(state) self.notify_agent(state) break LOG.debug('Initial status of router %s is %s', self.router_id, state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id) agent_config.setup_privsep() agent_config.register_root_helper(cfg.CONF) cfg.CONF.register_cli_opts(agent_config.ROOT_HELPER_OPTS, 'AGENT')",,60,3
openstack%2Fmanila~stable%2Frocky~Ia2efb004125acea08d8bf72d99958c9a4f512dfd,openstack/manila,stable/rocky,Ia2efb004125acea08d8bf72d99958c9a4f512dfd,VMAX manila doc - SSL Support,MERGED,2019-03-15 16:38:37.000000000,2019-03-16 22:50:14.000000000,2019-03-15 18:45:49.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:38:37.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/ba0842c77a7d862aeaee8a02d7f791ac0ddeb110', 'message': 'VMAX manila doc - SSL Support\n\nDocumenting the steps for setting up the Secure Socket Layer for\ntrusted communication between the manila host and the eNas Control\nStation.\n\nChange-Id: Ia2efb004125acea08d8bf72d99958c9a4f512dfd\n(cherry picked from commit c8a0d1715f4d9205c108c672fc82b4dc19e7246a)\n'}]",0,643636,ba0842c77a7d862aeaee8a02d7f791ac0ddeb110,8,4,1,12670,,,0,"VMAX manila doc - SSL Support

Documenting the steps for setting up the Secure Socket Layer for
trusted communication between the manila host and the eNas Control
Station.

Change-Id: Ia2efb004125acea08d8bf72d99958c9a4f512dfd
(cherry picked from commit c8a0d1715f4d9205c108c672fc82b4dc19e7246a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/643636/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,ba0842c77a7d862aeaee8a02d7f791ac0ddeb110,," emc_ssl_cert_verify = True emc_ssl_cert_path = <path to cert>- `vmax_ethernet_ports (optional)` Examples: fxg-9-0, fxg-_*, * - `emc_ssl_cert_verify (optional)` By default this is True, setting it to False is not recommended - `emc_ssl_cert_path (optional)` The path to the This must be set if emc_ssl_cert_verify is True which is the recommended configuration. See ``SSL Support`` section for more details.SSL Support ----------- #. Run the following on eNas Control Station, to display the CA certification for the active CS. .. code-block:: console $ /nas/sbin/nas_ca_certificate -display .. warning:: This cert will be different for the secondary CS so if there is a failover a different certificate must be used. #. Copy the contents and create a file with a .pem extention on your manila host. .. code-block:: ini -----BEGIN CERTIFICATE----- the cert contents are here -----END CERTIFICATE----- #. To verify the cert by running the following and examining the output: .. code-block:: console $ openssl x509 -in test.pem -text -noout .. code-block:: ini Certificate: Data: Version: 3 (0x2) Serial Number: xxxxxx Signature Algorithm: sha1WithRSAEncryption Issuer: O=VNX Certificate Authority, CN=xxx Validity Not Before: Feb 27 16:02:41 2019 GMT Not After : Mar 4 16:02:41 2024 GMT Subject: O=VNX Certificate Authority, CN=xxxxxx Subject Public Key Info: Public Key Algorithm: rsaEncryption Public-Key: (2048 bit) Modulus: xxxxxx Exponent: xxxxxx X509v3 extensions: X509v3 Subject Key Identifier: xxxxxx X509v3 Authority Key Identifier: keyid:xxxxx DirName:/O=VNX Certificate Authority/CN=xxxxxx serial:xxxxx X509v3 Basic Constraints: CA:TRUE X509v3 Subject Alternative Name: DNS:xxxxxx, DNS:xxxxxx.localdomain, DNS:xxxxxxx, DNS:xxxxx Signature Algorithm: sha1WithRSAEncryption xxxxxx #. As it is the capath and not the cafile that is expected, copy the file to either new directory or an existing directory (where other .pem files exist). #. Run the following on the directory .. code-block:: console $ c_rehash $PATH_TO_CERTS #. Update manila.conf with the directory where the .pem exists. .. code-block:: ini emc_ssl_cert_path = /path_to_certs/ #. Restart manila services. ","- `vmax_ethernet_ports` Examples: spa_eth1, spa_*, * ",90,2
openstack%2Fcinder~master~I1b8f265e2efd1760b34baf32d9d92cb4b2777cdd,openstack/cinder,master,I1b8f265e2efd1760b34baf32d9d92cb4b2777cdd,Automate generation of snapshots api-ref samples,MERGED,2019-03-12 06:49:12.000000000,2019-03-16 22:46:09.000000000,2019-03-16 21:48:21.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-03-12 06:49:12.000000000', 'files': ['cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-show-key-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-key-request.json.tpl', 'api-ref/source/v3/samples/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshot-metadata-show-response.json', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/samples/snapshots/snapshot-create-request.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-request.json', 'api-ref/source/v3/samples/snapshot-metadata-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshots-list-response.json.tpl', 'api-ref/source/v3/samples/snapshots-list-response.json', 'api-ref/source/v3/samples/snapshot-metadata-update-key-request.json', 'api-ref/source/v3/samples/snapshot-metadata-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-create-response.json.tpl', 'api-ref/source/v3/samples/snapshot-show-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-response.json', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'api-ref/source/v3/samples/snapshots/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-create-response.json', 'api-ref/source/v3/samples/snapshots/snapshots-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-update-response.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-update-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-show-response.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-key-request.json', 'cinder/tests/functional/api_samples_test_base.py', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshots-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-create-request.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-show-key-response.json', 'api-ref/source/v3/samples/snapshot-metadata-update-key-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-create-request.json', 'api-ref/source/v3/samples/snapshots/snapshot-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-create-request.json.tpl', 'api-ref/source/v3/samples/snapshot-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-update-request.json.tpl', 'api-ref/source/v3/samples/snapshot-metadata-show-key-response.json', 'api-ref/source/v3/samples/snapshots/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-key-response.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/51a55ab03d24a4a1133eb3511b59c1970e160e59', 'message': 'Automate generation of snapshots api-ref samples\n\nThis patch adds the tests for generating api-ref responses of\nvolume snapshots.\n\nChange-Id: I1b8f265e2efd1760b34baf32d9d92cb4b2777cdd\nPartially-Implements: blueprint generating-sample-files\n'}]",0,642658,51a55ab03d24a4a1133eb3511b59c1970e160e59,69,29,1,27615,,,0,"Automate generation of snapshots api-ref samples

This patch adds the tests for generating api-ref responses of
volume snapshots.

Change-Id: I1b8f265e2efd1760b34baf32d9d92cb4b2777cdd
Partially-Implements: blueprint generating-sample-files
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/642658/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-show-key-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-key-request.json.tpl', 'api-ref/source/v3/samples/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshot-metadata-show-response.json', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/samples/snapshots/snapshot-create-request.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-request.json', 'api-ref/source/v3/samples/snapshot-metadata-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshots-list-response.json.tpl', 'api-ref/source/v3/samples/snapshots-list-response.json', 'api-ref/source/v3/samples/snapshot-metadata-update-key-request.json', 'api-ref/source/v3/samples/snapshot-metadata-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-create-response.json.tpl', 'api-ref/source/v3/samples/snapshot-show-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-response.json', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'api-ref/source/v3/samples/snapshots/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-create-response.json', 'api-ref/source/v3/samples/snapshots/snapshots-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-update-response.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-update-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-show-response.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-key-request.json', 'cinder/tests/functional/api_samples_test_base.py', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshots-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-create-request.json.tpl', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-show-key-response.json', 'api-ref/source/v3/samples/snapshot-metadata-update-key-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-create-request.json', 'api-ref/source/v3/samples/snapshots/snapshot-update-request.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-create-request.json.tpl', 'api-ref/source/v3/samples/snapshot-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-update-request.json.tpl', 'api-ref/source/v3/samples/snapshot-metadata-show-key-response.json', 'api-ref/source/v3/samples/snapshots/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-metadata-update-key-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/snapshot-metadata-update-key-response.json.tpl']",44,51a55ab03d24a4a1133eb3511b59c1970e160e59,bp/generating-sample-files,"{ ""meta"": { ""key"": ""new_value"" } }",,382,152
openstack%2Fneutron-lib~master~I18679b4f7d2c65abd5106f256eff4a1b481d239d,openstack/neutron-lib,master,I18679b4f7d2c65abd5106f256eff4a1b481d239d,standard-attr for network-segment-range api-ref,MERGED,2019-03-03 12:18:51.000000000,2019-03-16 22:18:54.000000000,2019-03-16 22:18:54.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15070}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25437}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28439}, {'_account_id': 28550}]","[{'number': 1, 'created': '2019-03-03 12:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6153d68ab8b5f4788163dc3143070b36c89cb041', 'message': 'standard-attr for network-segment-range api-ref\n\nAdds standard attributes with tagging support to the API definition and\nsamples of network-segment-range extension.\n\nCo-authored-by: Allain Legacy <Allain.legacy@windriver.com>\n\nPartially-implements: blueprint network-segment-range-management\nChange-Id: I18679b4f7d2c65abd5106f256eff4a1b481d239d\n'}, {'number': 2, 'created': '2019-03-03 13:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cc82a6f462c620ce7d2af801e3b326b50975fa5f', 'message': 'standard-attr for network-segment-range api-ref\n\nAdds standard attributes with tagging support to the API definition and\nsamples of network-segment-range extension.\n\nCo-authored-by: Allain Legacy <Allain.legacy@windriver.com>\n\nPartially-implements: blueprint network-segment-range-management\nChange-Id: I18679b4f7d2c65abd5106f256eff4a1b481d239d\n'}, {'number': 3, 'created': '2019-03-11 01:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/27161e6e9b60493f9b3bdca62117cff4a228629c', 'message': 'standard-attr for network-segment-range api-ref\n\nAdds standard attributes with tagging support to the API definition and\nsamples of network-segment-range extension.\n\nCo-authored-by: Allain Legacy <Allain.legacy@windriver.com>\n\nPartially-implements: blueprint network-segment-range-management\nChange-Id: I18679b4f7d2c65abd5106f256eff4a1b481d239d\n'}, {'number': 4, 'created': '2019-03-15 18:03:54.000000000', 'files': ['api-ref/source/v2/samples/network_segment_ranges/network_segment_range-create-request.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-update-response.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-update-request.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-show-response.json', 'api-ref/source/v2/network_segment_ranges.inc', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_ranges-list-response.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-create-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e13f082632f2924d7b214f04a77200e1a862acc5', 'message': 'standard-attr for network-segment-range api-ref\n\nAdds standard attributes with tagging support to the API definition and\nsamples of network-segment-range extension.\n\nCo-authored-by: Allain Legacy <Allain.legacy@windriver.com>\n\nPartially-implements: blueprint network-segment-range-management\nChange-Id: I18679b4f7d2c65abd5106f256eff4a1b481d239d\n'}]",7,640633,e13f082632f2924d7b214f04a77200e1a862acc5,31,15,4,28373,,,0,"standard-attr for network-segment-range api-ref

Adds standard attributes with tagging support to the API definition and
samples of network-segment-range extension.

Co-authored-by: Allain Legacy <Allain.legacy@windriver.com>

Partially-implements: blueprint network-segment-range-management
Change-Id: I18679b4f7d2c65abd5106f256eff4a1b481d239d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/33/640633/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/network_segment_ranges/network_segment_range-create-request.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-update-response.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-update-request.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-show-response.json', 'releasenotes/notes/add-standard-attr-to-network-segment-range-api-ref-1c68e13b4a29dd6e.yaml', 'api-ref/source/v2/network_segment_ranges.inc', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_ranges-list-response.json', 'api-ref/source/v2/samples/network_segment_ranges/network_segment_range-create-response.json']",8,6153d68ab8b5f4788163dc3143070b36c89cb041,bp/network-segment-range-management," ""description"": ""network segment range for testing"", ""used"": {}, ""created_at"": ""2019-03-04T04:49:28Z"", ""updated_at"": ""2019-03-04T04:49:28Z"", ""revision_number"": 1, ""tags"": [""tag1,tag2""]"," ""used"": {}",81,6
openstack%2Fopenstack-helm-infra~master~I008eeb520af853678078091b838b0b2ca48e026c,openstack/openstack-helm-infra,master,I008eeb520af853678078091b838b0b2ca48e026c,Add default AppArmor profile to prometheus-alert-manager,MERGED,2019-02-27 20:58:56.000000000,2019-03-16 21:53:21.000000000,2019-03-16 21:53:20.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 19064}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26686}, {'_account_id': 28025}, {'_account_id': 28235}, {'_account_id': 28778}, {'_account_id': 29131}]","[{'number': 1, 'created': '2019-02-27 20:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8bce5f2c04a2b2c8c37ad90700c6ba926fa51ee', 'message': 'dd default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}, {'number': 2, 'created': '2019-02-27 20:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe6bc7e70b6fc713057b182e2142b794f4a2909e', 'message': 'Add default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}, {'number': 3, 'created': '2019-03-07 22:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e27aa085cd7f032c76ead4e0235c388c1b8aaaa', 'message': 'Add default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}, {'number': 4, 'created': '2019-03-09 13:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d5e1de229b0f41496c8e42a600ed5129be0c277', 'message': 'Add default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}, {'number': 5, 'created': '2019-03-11 21:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34265a6ea63bc7418433ceb1deb5cf5d2eac6e03', 'message': 'Add default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}, {'number': 6, 'created': '2019-03-15 16:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5398d9a18d01f7c82c399089d1cebae4239e61d', 'message': 'Add default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}, {'number': 7, 'created': '2019-03-16 18:30:28.000000000', 'files': ['prometheus-alertmanager/templates/statefulset.yaml', 'prometheus-alertmanager/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77b37ca5206854639f8ad41a16bb7b3db1edc360', 'message': 'Add default AppArmor profile to prometheus-alert-manager\n\nChange-Id: I008eeb520af853678078091b838b0b2ca48e026c\n'}]",0,639823,77b37ca5206854639f8ad41a16bb7b3db1edc360,27,15,7,29131,,,0,"Add default AppArmor profile to prometheus-alert-manager

Change-Id: I008eeb520af853678078091b838b0b2ca48e026c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/639823/4 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-alertmanager/templates/statefulset.yaml', 'prometheus-alertmanager/values.yaml']",2,a8bce5f2c04a2b2c8c37ad90700c6ba926fa51ee,, mandatory_access_control: type: apparmor alert-manager: alert-manager: localhost/docker-default,,5,0
openstack%2Frally-openstack~master~I2d6e76caaa1aa9d19875c5a861cbdbba37cd29e4,openstack/rally-openstack,master,I2d6e76caaa1aa9d19875c5a861cbdbba37cd29e4,TempestContext: implement comparison operators,ABANDONED,2019-03-09 15:15:51.000000000,2019-03-16 21:26:58.000000000,,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-03-09 15:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/294843cc377cf58578b097eff75be28294fbee88', 'message': 'TempestContext: implement comparison operators\n\n__cmp__ is no longer used in python3\n\nOther operators need to be defined instead.\n\nhttps://docs.python.org/3/whatsnew/3.0.html#ordering-comparisons\n""The cmp() function should be treated as gone, and the __cmp__() special\nmethod is no longer supported. Use __lt__() for sorting, __eq__() with\n__hash__(), and other rich comparisons as needed. (If you really need\nthe cmp() functionality, you could use the expression (a > b) - (a < b)\nas the equivalent for cmp(a, b).)""\n\nhttps://www.python.org/dev/peps/pep-0207/\n\nThis change does it based on get_order that comes from\nBaseContext in rally/task/context.py by virtue of inheritance.\n\nPartial-Bug: #1819274\nChange-Id: I2d6e76caaa1aa9d19875c5a861cbdbba37cd29e4\n'}, {'number': 2, 'created': '2019-03-10 20:22:49.000000000', 'files': ['tests/unit/verification/tempest/test_context.py', 'rally_openstack/verification/tempest/context.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7ee84a07d8266efc2ed7182d09e90c5d097f688d', 'message': 'TempestContext: implement comparison operators\n\n__cmp__ is no longer used in python3\n\nOther operators need to be defined instead.\n\nhttps://docs.python.org/3/whatsnew/3.0.html#ordering-comparisons\n""The cmp() function should be treated as gone, and the __cmp__() special\nmethod is no longer supported. Use __lt__() for sorting, __eq__() with\n__hash__(), and other rich comparisons as needed. (If you really need\nthe cmp() functionality, you could use the expression (a > b) - (a < b)\nas the equivalent for cmp(a, b).)""\n\nhttps://www.python.org/dev/peps/pep-0207/\n\nThis change does it based on get_order that comes from\nBaseContext in rally/task/context.py by virtue of inheritance.\n\nPartial-Bug: #1819274\nChange-Id: I2d6e76caaa1aa9d19875c5a861cbdbba37cd29e4\n'}]",0,642234,7ee84a07d8266efc2ed7182d09e90c5d097f688d,8,4,2,24824,,,0,"TempestContext: implement comparison operators

__cmp__ is no longer used in python3

Other operators need to be defined instead.

https://docs.python.org/3/whatsnew/3.0.html#ordering-comparisons
""The cmp() function should be treated as gone, and the __cmp__() special
method is no longer supported. Use __lt__() for sorting, __eq__() with
__hash__(), and other rich comparisons as needed. (If you really need
the cmp() functionality, you could use the expression (a > b) - (a < b)
as the equivalent for cmp(a, b).)""

https://www.python.org/dev/peps/pep-0207/

This change does it based on get_order that comes from
BaseContext in rally/task/context.py by virtue of inheritance.

Partial-Bug: #1819274
Change-Id: I2d6e76caaa1aa9d19875c5a861cbdbba37cd29e4
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/34/642234/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/verification/tempest/context.py'],1,294843cc377cf58578b097eff75be28294fbee88,bug/1819274," def __eq__(self, other): return self.get_order() == other.get_order() def __lt__(self, other): return self.get_order() < other.get_order() def __gt__(self, other): return self.get_order() > other.get_order() def __le__(self, other): return self.get_order() <= other.get_order() def __ge__(self, other): return self.get_order() >= other.get_order() ",,15,0
openstack%2Fmanila~stable%2Frocky~I9dc91a48daed9779b02068b4fdd05a07227135dc,openstack/manila,stable/rocky,I9dc91a48daed9779b02068b4fdd05a07227135dc,VMAX manila doc - use of correct VMAX tags,MERGED,2019-03-15 16:35:48.000000000,2019-03-16 21:08:32.000000000,2019-03-15 18:45:48.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:35:48.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/814986995c5801ba64ad240e0dc28ce6a49a5539', 'message': 'VMAX manila doc - use of correct VMAX tags\n\nhttps://review.openstack.org/#/c/608725/ now aligns terminology with VNX and\nUnity.  Updating he documentation accordingly.\n\nChange-Id: I9dc91a48daed9779b02068b4fdd05a07227135dc\n(cherry picked from commit d21179e48acc75d1cacd5105951f0695d8589b92)\n'}]",0,643635,814986995c5801ba64ad240e0dc28ce6a49a5539,8,4,1,12670,,,0,"VMAX manila doc - use of correct VMAX tags

https://review.openstack.org/#/c/608725/ now aligns terminology with VNX and
Unity.  Updating he documentation accordingly.

Change-Id: I9dc91a48daed9779b02068b4fdd05a07227135dc
(cherry picked from commit d21179e48acc75d1cacd5105951f0695d8589b92)
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/643635/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,814986995c5801ba64ad240e0dc28ce6a49a5539,, vmax_server_container = <Data Mover name> vmax_share_data_pools = <Comma separated pool names> share_driver = manila.share.drivers.dell_emc.driver.EMCShareDriver vmax_ethernet_ports = <Comma separated ports list>- `vmax_server_container`- `vmax_share_data_pools`- `vmax_ethernet_ports`, emc_nas_server_container = <Data Mover name> emc_nas_pool_names = <Comma separated pool names> share_driver = manila.share.drivers.emc.driver.EMCShareDriver emc_interface_ports = <Comma separated ports list>- `emc_nas_server_container`- `emc_nas_pool_names`- `emc_interface_ports`,7,7
openstack%2Fkolla-ansible~master~If795a9eb3ec92f75867ce3f755d6b832eba31af9,openstack/kolla-ansible,master,If795a9eb3ec92f75867ce3f755d6b832eba31af9,Split placement from nova,MERGED,2018-10-26 16:14:16.000000000,2019-03-16 20:58:21.000000000,2019-03-16 20:58:20.000000000,"[{'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-10-26 16:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57290b4e6e65215983a68ca3d1e860f6a44f0fbf', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 2, 'created': '2018-10-29 11:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed42f3e0128dfdfe642b4fbb63ccb3baffab7919', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 3, 'created': '2018-11-23 16:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d9e41737b3c9bfe808ce05d80ce0d1fb8b6c29e', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 4, 'created': '2018-11-26 16:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a099e807cf71afa69983fb2835f605e3119fa0b2', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 5, 'created': '2018-11-27 07:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea37e02338d9a15c73d175406f6e02a8e7c88867', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 6, 'created': '2018-11-28 19:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/309e327a863ae07affc8eac2820816125ce5eb4a', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 7, 'created': '2018-11-30 08:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4bba13d940bea119eb07e7888db978042ee0ddd', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 8, 'created': '2018-12-13 12:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80d54b8b15674ea635eb8c9f22eaa60a16ef1773', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 9, 'created': '2018-12-18 09:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c861e812236447eb21046197e3189d2e2365de28', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 10, 'created': '2018-12-18 11:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f25c9141d1760791e3db615889adebd68d1a02a', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 11, 'created': '2018-12-18 18:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65efd4a70d534de9e5dc56a38a1ca42bc8b9c442', 'message': 'WIP: Split placement from nova\n\nDepends-On: I2bf6f5bf45b76e6900f41c21e9af30c69dc6e9c0\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 12, 'created': '2018-12-19 20:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c5c23b9ed40c5457eddcce4caecbe36f114d8e6', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 13, 'created': '2018-12-19 20:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/183c57227f19d37a09426946240609e60d8be564', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 14, 'created': '2018-12-19 22:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/373a8a66e677bccd274256510a1c32baa95bd824', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 15, 'created': '2018-12-20 08:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0df65de8fec65a68353406dcae10799efce0e812', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 16, 'created': '2018-12-20 15:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89a9b051a768a32fca316b5004dd2457169aac3d', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 17, 'created': '2018-12-20 20:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/940b896d1e064db3a2b7ba3fd87b9c5995f729cc', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 18, 'created': '2018-12-21 09:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d20fde00238dab30c11f5a56c5fac744d05ce243', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 19, 'created': '2018-12-21 10:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a31976ef403d13e90c83ce4ae030e925f1d03e86', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 20, 'created': '2018-12-21 12:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6fd4a62f8f38da94a9568e1e9926c87677c88ea2', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 21, 'created': '2019-01-02 10:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f012802fbef0036d29fadce09b0273e7bce21147', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 22, 'created': '2019-01-02 12:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f613bb2995c0678bf199cb7e1cec34c901b6f04a', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 23, 'created': '2019-01-02 13:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5c53b5a3190272a8b62db2dc8f5353b02de8139', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 24, 'created': '2019-01-03 08:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bf18b0bcd40f4fead8b7aeff20d4cdcf778115d', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 25, 'created': '2019-01-15 08:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3e12ea312b740437848190dfd2f563e59aa1a03', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 26, 'created': '2019-01-15 08:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5005fbe611fc44a58cedf0c396f8bb3b42103965', 'message': 'WIP: Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 27, 'created': '2019-03-06 13:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1be5e3eb13cbf66a83801944827804b57e3a690', 'message': 'Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 28, 'created': '2019-03-08 08:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb003d949250478abf5e1aea9574e233e2cabb84', 'message': 'Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 29, 'created': '2019-03-13 09:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee70c97727943f46b611f32369ea1c2e7f1bf02f', 'message': 'Split placement from nova\n\nDepends-On: I116277c5e11b484748784134be50c18675b28103\nDepends-On: https://review.openstack.org/642984\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 30, 'created': '2019-03-13 15:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61cfa8b7afa5692751a526cee3bb2defb7b2b275', 'message': 'Split placement from nova\n\nDepends-On: https://review.openstack.org/#/c/642958\nDepends-On: https://review.openstack.org/642984\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}, {'number': 31, 'created': '2019-03-15 15:20:05.000000000', 'files': ['ansible/roles/placement/tasks/pull.yml', 'ansible/roles/placement/tasks/clone.yml', 'ansible/roles/placement/templates/placement-api.json.j2', 'ansible/roles/nova/templates/placement-api.json.j2', 'ansible/site.yml', 'ansible/roles/placement/tasks/bootstrap_service.yml', 'ansible/roles/placement/tasks/deploy.yml', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/placement/tasks/loadbalancer.yml', 'ansible/roles/placement/tasks/stop.yml', 'ansible/roles/placement/tasks/bootstrap.yml', 'ansible/roles/placement/tasks/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/nova/handlers/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/placement/tasks/check.yml', 'ansible/roles/nova/tasks/precheck.yml', 'etc/kolla/passwords.yml', 'ansible/roles/placement/tasks/precheck.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'tools/setup_gate.sh', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/placement/tasks/register.yml', 'ansible/roles/placement/templates/migrate-db.rc.j2', 'ansible/group_vars/all.yml', 'ansible/roles/placement/meta/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/placement/handlers/main.yml', 'ansible/roles/placement/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2fc6d4cfc5aaaf915b45b4343135794b98105ca3', 'message': 'Split placement from nova\n\nDepends-On: https://review.openstack.org/#/c/642958\nDepends-On: https://review.openstack.org/642984\nChange-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9\n'}]",41,613629,2fc6d4cfc5aaaf915b45b4343135794b98105ca3,116,7,31,19316,,,0,"Split placement from nova

Depends-On: https://review.openstack.org/#/c/642958
Depends-On: https://review.openstack.org/642984
Change-Id: If795a9eb3ec92f75867ce3f755d6b832eba31af9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/613629/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/placement/tasks/pull.yml', 'ansible/roles/placement/tasks/clone.yml', 'ansible/roles/placement/templates/placement-api.json.j2', 'ansible/roles/nova/templates/placement-api.json.j2', 'ansible/site.yml', 'ansible/roles/placement/tasks/bootstrap_service.yml', 'ansible/roles/placement/tasks/deploy.yml', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/placement/tasks/loadbalancer.yml', 'ansible/roles/placement/tasks/bootstrap.yml', 'ansible/roles/placement/tasks/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/nova/handlers/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/placement/tasks/check.yml', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/placement/tasks/precheck.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'tools/setup_gate.sh', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/placement/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/placement/meta/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/placement/handlers/main.yml', 'ansible/roles/placement/tasks/reconfigure.yml']",29,57290b4e6e65215983a68ca3d1e860f6a44f0fbf,split-placement,--- - include_tasks: deploy.yml ,,552,143
openstack%2Fopenstack-ansible~master~Ica40e9aed76b0d7da7f50b95325cd3a9a7dee8e4,openstack/openstack-ansible,master,Ica40e9aed76b0d7da7f50b95325cd3a9a7dee8e4,Apply the OpenStack policies in rabbit by default,MERGED,2019-03-01 10:04:43.000000000,2019-03-16 19:37:44.000000000,2019-03-16 19:37:44.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-01 10:04:43.000000000', 'files': ['inventory/group_vars/rabbitmq_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d4e3e0e082e97e251c2d543f77474be477418e59', 'message': 'Apply the OpenStack policies in rabbit by default\n\nThis keeps the behaviour of having OpenStack policies in rabbitmq.\n\nNeeded-By: I0bf6e1829ade63052c0c7efe81afb0b765857687\nChange-Id: Ica40e9aed76b0d7da7f50b95325cd3a9a7dee8e4\n'}]",0,640300,d4e3e0e082e97e251c2d543f77474be477418e59,19,4,1,17068,,,0,"Apply the OpenStack policies in rabbit by default

This keeps the behaviour of having OpenStack policies in rabbitmq.

Needed-By: I0bf6e1829ade63052c0c7efe81afb0b765857687
Change-Id: Ica40e9aed76b0d7da7f50b95325cd3a9a7dee8e4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/640300/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/rabbitmq_all.yml'],1,d4e3e0e082e97e251c2d543f77474be477418e59,apply_openstack_policies_by_default,rabbitmq_apply_openstack_policies: True,,1,0
openstack%2Fopenstack-ansible~master~Ie1c620a0523a668a4e488038a70e4c683fc3b757,openstack/openstack-ansible,master,Ie1c620a0523a668a4e488038a70e4c683fc3b757,Convert the nova playbook to use newer ansible syntax,MERGED,2019-03-08 20:25:59.000000000,2019-03-16 19:37:43.000000000,2019-03-16 19:37:43.000000000,"[{'_account_id': 7353}, {'_account_id': 17499}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26297}, {'_account_id': 28008}, {'_account_id': 28543}, {'_account_id': 29759}]","[{'number': 1, 'created': '2019-03-08 20:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bff8f33ec86dee0f9d9a1fa4aa6736ca529e6505', 'message': 'Convert the nova playbook to use newer ansible syntax\n\nThe nova plabook has been converted from using ""include"" with playbooks\nas this funciton has ben deprecated and is set to be removed.\n\nChange-Id: Ie1c620a0523a668a4e488038a70e4c683fc3b757\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-03-08 20:37:35.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/934f73ad3e7fe06ab63515084e28fa8b23648df0', 'message': 'Convert the nova playbook to use newer ansible syntax\n\nThe nova plabook has been converted from using ""include"" with playbooks\nas this funciton has ben deprecated and is set to be removed.\n\nChange-Id: Ie1c620a0523a668a4e488038a70e4c683fc3b757\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",4,642143,934f73ad3e7fe06ab63515084e28fa8b23648df0,39,10,2,7353,,,0,"Convert the nova playbook to use newer ansible syntax

The nova plabook has been converted from using ""include"" with playbooks
as this funciton has ben deprecated and is set to be removed.

Change-Id: Ie1c620a0523a668a4e488038a70e4c683fc3b757
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/642143/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,bff8f33ec86dee0f9d9a1fa4aa6736ca529e6505,fix/include/deprecation, import_playbook: common-playbooks/nova.yml import_playbook: common-playbooks/nova.yml import_playbook: common-playbooks/nova.yml import_playbook: common-playbooks/nova.yml import_playbook: common-playbooks/nova.yml include_tasks: common-tasks/restart-service.yml include_tasks: common-tasks/restart-service.yml, include: common-playbooks/nova.yml include: common-playbooks/nova.yml include: common-playbooks/nova.yml include: common-playbooks/nova.yml include: common-playbooks/nova.yml include: common-tasks/restart-service.yml include: common-tasks/restart-service.yml,7,7
openstack%2Fmanila~stable%2Frocky~I759b1a5ccb2a315fe4e7b9a17e023ad50a92ac81,openstack/manila,stable/rocky,I759b1a5ccb2a315fe4e7b9a17e023ad50a92ac81,VMAX manila doc - support for IPv6,MERGED,2019-03-15 16:32:52.000000000,2019-03-16 19:26:51.000000000,2019-03-15 18:45:47.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 16:32:52.000000000', 'files': ['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/141d359fb7d2dedc4d5bd8e619016b26a06b6011', 'message': 'VMAX manila doc - support for IPv6\n\nVMAX manila drivers support for IPv6.\n\nChange-Id: I759b1a5ccb2a315fe4e7b9a17e023ad50a92ac81\n(cherry picked from commit a01cb72a5669d885e73fc564990b177bd6053927)\n'}]",0,643633,141d359fb7d2dedc4d5bd8e619016b26a06b6011,8,4,1,12670,,,0,"VMAX manila doc - support for IPv6

VMAX manila drivers support for IPv6.

Change-Id: I759b1a5ccb2a315fe4e7b9a17e023ad50a92ac81
(cherry picked from commit a01cb72a5669d885e73fc564990b177bd6053927)
",git fetch https://review.opendev.org/openstack/manila refs/changes/33/643633/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst']",2,141d359fb7d2dedc4d5bd8e619016b26a06b6011,,IPv6 support ~~~~~~~~~~~~ IPv6 support for VMAX Manila driver is introduced in Rocky release. The feature is divided into two parts: #. The driver is able to manage share or snapshot in the Neutron IPv6 network. #. The driver is able to connect VMAX management interface using its IPv6 address. Pre-Configurations for IPv6 support ----------------------------------- The following parameters need to be configured in ``/etc/manila/manila.conf`` for the VMAX driver: .. code-block:: ini network_plugin_ipv6_enabled = True If you want to connect to the eNAS controller using IPv6 address specify the address in ``/etc/manila/manila.conf``: .. code-block:: ini emc_nas_server = <IPv6 address> ,,29,2
openstack%2Fopenstack-ansible~master~Iff5235b6e11a6586f0836fd550331efbe4151de0,openstack/openstack-ansible,master,Iff5235b6e11a6586f0836fd550331efbe4151de0,Freeze for milestone release,MERGED,2019-03-10 17:09:27.000000000,2019-03-16 18:55:49.000000000,2019-03-16 18:55:49.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-10 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/966bacc7c39fcf78c6cef662265d9f40370c4125', 'message': 'Freeze for milestone release\n\nThis would be the first milestone release of OpenStack-Ansible Stein.\n\nChange-Id: Iff5235b6e11a6586f0836fd550331efbe4151de0\n'}, {'number': 2, 'created': '2019-03-12 12:40:28.000000000', 'files': ['releasenotes/notes/add-support-for-distro-89611067ce74fc2c.yaml', 'releasenotes/notes/config-template-move-a0f08aff8e54f62f.yaml', 'releasenotes/notes/add-cors-config-6326223fe7fa7423.yaml', 'releasenotes/notes/cloudkitty-horizon-panel-c3b616273b21d7aa.yaml', 'releasenotes/notes/tempest-service-setup-host-da08c1d4775ea0d1.yaml', 'releasenotes/notes/fix-l3-agent-ha-keepalive-helper-5f1f82c437c8a430.yaml', 'releasenotes/notes/os_cinder-private-volume-type-9b2cc92c6c74c277.yaml', 'releasenotes/notes/chrony-ntp-server-defaults-7cd2e3a80723e0bd.yaml', 'releasenotes/notes/blacklist-format-26c6097cf4e813c9.yaml', 'releasenotes/notes/keystone-init-config-overrides-1857d5e5bc5a905f.yaml', 'releasenotes/notes/octavia-service-setup-host-d57533fdea394394.yaml', 'releasenotes/notes/zun-horizon-panel-c3b616283b21d9ba.yaml', 'releasenotes/notes/add-nested-virt-1db2270e73d1b34.yaml', 'releasenotes/notes/neutron-sriov-50c0099554574d01.yaml', 'releasenotes/notes/backup-driver-rename-ca4424a0814ee8af.yaml', 'releasenotes/notes/swift-init-config-overrides-822ec734e02a0dd1.yaml', 'releasenotes/notes/diffmode-e8f9a041f662a2ef.yaml', 'releasenotes/notes/remove-pkg-cache-afba3577138dc0a0.yaml', 'releasenotes/notes/nova-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/remove-machinectl-workarounds-d67a4739f6385f54.yaml', 'releasenotes/notes/galera-client-gpg-keys-8b674cee476885d0.yaml', 'releasenotes/notes/tls12-only-75222cbe8c32ad57.yaml', 'releasenotes/notes/tls12-only-d7221a33188dc7a0.yaml', 'releasenotes/notes/neutron-vpnaas-dashboard-19f4ef09faae1f70.yaml', 'releasenotes/notes/chrony-ntp-server-options-f8f87225a5282e1a.yaml', 'ansible-role-requirements.yml', 'releasenotes/notes/add-random-devices-38671b23cb1319b8.yaml', 'releasenotes/notes/masakari-horizon-panel-c058881e1268b3b7.yaml', 'releasenotes/notes/dragonflow-removed-6285225b5525cd50.yaml', 'releasenotes/notes/use_vendored_gpg_keys-f268bd4f4cb7d105.yaml', 'releasenotes/notes/install-local-019edab04ffc8347.yaml', 'releasenotes/notes/drop-custom-themes-724c40e5cd69b8e2.yaml', 'releasenotes/notes/enable-tempestconf-support-0bd13c8393c9450b.yaml', 'releasenotes/notes/configurable-scheduler-filters-17ea2ed9d4aa0708.yaml', 'releasenotes/notes/blazar-horizon-panel-d5ba19273b21d7aa.yaml', 'releasenotes/notes/neutron-opendaylight-support-453dc9324eafaae7.yaml', 'releasenotes/notes/chrony-rtc-sync-f46b9a526aec0889.yaml', 'releasenotes/notes/nova-cpu-model-006da20048168842.yaml', 'releasenotes/notes/neutron-ovs-interface-mappings-789902128b82e721.yaml', 'releasenotes/notes/journal-log-cwbr789hd9b59612.yaml', 'releasenotes/notes/rabbitmq-server-ha-policy-d4e9b46cb5922032.yaml', 'releasenotes/notes/add-nfs-support-5aacc81dbf3c2270.yaml', 'releasenotes/notes/letsencrypt-ssl-certification-129a80cb88d8e6ff.yaml', 'releasenotes/notes/lxc-host-machine-vars-5d11b1f269167fd3.yaml', 'releasenotes/notes/repo-build-venv-removed-80686a21b693b0cd.yaml', 'releasenotes/notes/tls12-only-2025a08207fd562e.yaml', 'releasenotes/notes/os-keystone-remove-service-user-f2100fa3127c7c2e.yaml', 'releasenotes/notes/watcher-horizon-panel-c3b616273c21d70a.yaml', 'releasenotes/notes/top_ini_section-c28d7acadf5fe836.yaml', 'releasenotes/notes/remove_oslomsg_server-6b5c19e03a001e85.yaml', 'releasenotes/notes/galera-gpg-keys-96ed45fd1ec4cb14.yaml', 'releasenotes/notes/remove-proxy-no-cache-9b514030c87e7d1b.yaml', 'releasenotes/notes/update-mariadb-to-10.2-b99a87ed0bb60b37.yaml', 'releasenotes/notes/remove-tempest-image-dir-owner-ec10dfa5bb9f87f1.yaml', 'releasenotes/notes/fixes_sec_grp_rule_quota-2755da6c2c2ab434.yaml', 'releasenotes/notes/update-mariadb-to-10.2-a70764ae400aadf6.yaml', 'releasenotes/notes/smart-sources-59cd0811dcf1ae49.yaml', 'releasenotes/notes/default-lxd-pool-1aa179bd77868cb0.yaml', 'releasenotes/notes/legacy-networking-convert-networkd-5b514e604df7c429.yaml', 'releasenotes/notes/neutron-opendaylight-sfc-support-8b249b8f8efbc087.yaml', 'releasenotes/notes/tls12-only-a22d5f3f8198617f.yaml', 'releasenotes/notes/plugins-container-user-remote-tmp-0efec059fd04eae2.yaml', 'releasenotes/notes/tls12-only-9b74e96cfd47a634.yaml', 'releasenotes/notes/fix_quota-e3d4bf0b896dc393.yaml', 'releasenotes/notes/http-access-horizon-94c27a0aadb9f1b4.yaml', 'releasenotes/notes/rabbitmq-gpg-keys-042a47164265ea40.yaml', 'releasenotes/notes/mysqlcheck-options-60fae226d8d4f3ca.yaml', 'releasenotes/notes/tls12-only-40fea49efdb9d4dd.yaml', 'releasenotes/notes/tacker-horizon-panel-c3x916273c21d70a.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/84cb3ff05253d74df163e36b3c5bec49de178989', 'message': 'Freeze for milestone release\n\nThis would be the first milestone release of OpenStack-Ansible Stein.\n\nChange-Id: Iff5235b6e11a6586f0836fd550331efbe4151de0\n'}]",0,642274,84cb3ff05253d74df163e36b3c5bec49de178989,22,5,2,17068,,,0,"Freeze for milestone release

This would be the first milestone release of OpenStack-Ansible Stein.

Change-Id: Iff5235b6e11a6586f0836fd550331efbe4151de0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/642274/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-support-for-distro-89611067ce74fc2c.yaml', 'releasenotes/notes/config-template-move-a0f08aff8e54f62f.yaml', 'releasenotes/notes/add-cors-config-6326223fe7fa7423.yaml', 'releasenotes/notes/cloudkitty-horizon-panel-c3b616273b21d7aa.yaml', 'releasenotes/notes/tempest-service-setup-host-da08c1d4775ea0d1.yaml', 'releasenotes/notes/fix-l3-agent-ha-keepalive-helper-5f1f82c437c8a430.yaml', 'releasenotes/notes/os_cinder-private-volume-type-9b2cc92c6c74c277.yaml', 'releasenotes/notes/chrony-ntp-server-defaults-7cd2e3a80723e0bd.yaml', 'releasenotes/notes/blacklist-format-26c6097cf4e813c9.yaml', 'releasenotes/notes/keystone-init-config-overrides-1857d5e5bc5a905f.yaml', 'releasenotes/notes/octavia-service-setup-host-d57533fdea394394.yaml', 'releasenotes/notes/zun-horizon-panel-c3b616283b21d9ba.yaml', 'releasenotes/notes/add-nested-virt-1db2270e73d1b34.yaml', 'releasenotes/notes/neutron-sriov-50c0099554574d01.yaml', 'releasenotes/notes/backup-driver-rename-ca4424a0814ee8af.yaml', 'releasenotes/notes/swift-init-config-overrides-822ec734e02a0dd1.yaml', 'releasenotes/notes/diffmode-e8f9a041f662a2ef.yaml', 'releasenotes/notes/remove-pkg-cache-afba3577138dc0a0.yaml', 'releasenotes/notes/nova-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/remove-machinectl-workarounds-d67a4739f6385f54.yaml', 'releasenotes/notes/galera-client-gpg-keys-8b674cee476885d0.yaml', 'releasenotes/notes/tls12-only-75222cbe8c32ad57.yaml', 'releasenotes/notes/tls12-only-d7221a33188dc7a0.yaml', 'releasenotes/notes/neutron-vpnaas-dashboard-19f4ef09faae1f70.yaml', 'releasenotes/notes/chrony-ntp-server-options-f8f87225a5282e1a.yaml', 'ansible-role-requirements.yml', 'releasenotes/notes/add-random-devices-38671b23cb1319b8.yaml', 'releasenotes/notes/masakari-horizon-panel-c058881e1268b3b7.yaml', 'releasenotes/notes/dragonflow-removed-6285225b5525cd50.yaml', 'releasenotes/notes/use_vendored_gpg_keys-f268bd4f4cb7d105.yaml', 'releasenotes/notes/install-local-019edab04ffc8347.yaml', 'releasenotes/notes/drop-custom-themes-724c40e5cd69b8e2.yaml', 'releasenotes/notes/enable-tempestconf-support-0bd13c8393c9450b.yaml', 'releasenotes/notes/configurable-scheduler-filters-17ea2ed9d4aa0708.yaml', 'releasenotes/notes/blazar-horizon-panel-d5ba19273b21d7aa.yaml', 'releasenotes/notes/neutron-opendaylight-support-453dc9324eafaae7.yaml', 'releasenotes/notes/chrony-rtc-sync-f46b9a526aec0889.yaml', 'releasenotes/notes/nova-cpu-model-006da20048168842.yaml', 'releasenotes/notes/neutron-ovs-interface-mappings-789902128b82e721.yaml', 'releasenotes/notes/journal-log-cwbr789hd9b59612.yaml', 'releasenotes/notes/rabbitmq-server-ha-policy-d4e9b46cb5922032.yaml', 'releasenotes/notes/add-nfs-support-5aacc81dbf3c2270.yaml', 'releasenotes/notes/letsencrypt-ssl-certification-129a80cb88d8e6ff.yaml', 'releasenotes/notes/lxc-host-machine-vars-5d11b1f269167fd3.yaml', 'releasenotes/notes/repo-build-venv-removed-80686a21b693b0cd.yaml', 'releasenotes/notes/tls12-only-2025a08207fd562e.yaml', 'releasenotes/notes/os-keystone-remove-service-user-f2100fa3127c7c2e.yaml', 'releasenotes/notes/watcher-horizon-panel-c3b616273c21d70a.yaml', 'releasenotes/notes/top_ini_section-c28d7acadf5fe836.yaml', 'releasenotes/notes/remove_oslomsg_server-6b5c19e03a001e85.yaml', 'releasenotes/notes/galera-gpg-keys-96ed45fd1ec4cb14.yaml', 'releasenotes/notes/remove-proxy-no-cache-9b514030c87e7d1b.yaml', 'releasenotes/notes/update-mariadb-to-10.2-b99a87ed0bb60b37.yaml', 'releasenotes/notes/remove-tempest-image-dir-owner-ec10dfa5bb9f87f1.yaml', 'releasenotes/notes/fixes_sec_grp_rule_quota-2755da6c2c2ab434.yaml', 'releasenotes/notes/update-mariadb-to-10.2-a70764ae400aadf6.yaml', 'releasenotes/notes/smart-sources-59cd0811dcf1ae49.yaml', 'releasenotes/notes/default-lxd-pool-1aa179bd77868cb0.yaml', 'releasenotes/notes/legacy-networking-convert-networkd-5b514e604df7c429.yaml', 'releasenotes/notes/neutron-opendaylight-sfc-support-8b249b8f8efbc087.yaml', 'releasenotes/notes/tls12-only-a22d5f3f8198617f.yaml', 'releasenotes/notes/plugins-container-user-remote-tmp-0efec059fd04eae2.yaml', 'releasenotes/notes/tls12-only-9b74e96cfd47a634.yaml', 'releasenotes/notes/fix_quota-e3d4bf0b896dc393.yaml', 'releasenotes/notes/http-access-horizon-94c27a0aadb9f1b4.yaml', 'releasenotes/notes/rabbitmq-gpg-keys-042a47164265ea40.yaml', 'releasenotes/notes/mysqlcheck-options-60fae226d8d4f3ca.yaml', 'releasenotes/notes/tls12-only-40fea49efdb9d4dd.yaml', 'releasenotes/notes/tacker-horizon-panel-c3x916273c21d70a.yaml']",69,966bacc7c39fcf78c6cef662265d9f40370c4125,freeze_for_milestone_release,--- features: - | The tacker dashboard is available in Horizon. Deployers can enable the panel by setting the following Ansible variable: .. code-block:: yaml horizon_enable_tacker_ui: True ,,676,65
openstack%2Fhorizon~master~I57b1dc503a3060378c8fd0e8611e34f98443e9c3,openstack/horizon,master,I57b1dc503a3060378c8fd0e8611e34f98443e9c3,Imported Translations from Zanata,MERGED,2019-03-16 06:27:03.000000000,2019-03-16 18:23:28.000000000,2019-03-16 18:23:28.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-16 06:27:03.000000000', 'files': ['openstack_dashboard/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c482d8481bc97de3029982e3039d2eda750c377', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I57b1dc503a3060378c8fd0e8611e34f98443e9c3\n'}]",0,643697,0c482d8481bc97de3029982e3039d2eda750c377,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I57b1dc503a3060378c8fd0e8611e34f98443e9c3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/97/643697/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/de/LC_MESSAGES/django.po'],1,0c482d8481bc97de3029982e3039d2eda750c377,zanata/translations,"# Frank Kloeker <eumel@arcor.de>, 2019. #zanata""POT-Creation-Date: 2019-03-13 08:04+0000\n""""PO-Revision-Date: 2019-03-13 09:31+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""msgid ""Create Group Type"" msgstr ""Gruppentyp erstellen"" msgid ""Delete Group Type"" msgid_plural ""Delete Group Types"" msgstr[0] ""Gruppentyp lschen"" msgstr[1] ""Gruppentypen lschen"" msgid ""Deprecated Settings"" msgstr ""berholte Einstellungen"" msgid ""Deprecated settings: {}."" msgstr ""berholte Einstellungen: {}."" msgid ""Edit Group Type"" msgstr ""Gruppentyp bearbeiten"" msgid ""Group Types"" msgstr ""Gruppentypen"" #, python-format msgid ""Group type name \""%s\"" already exists."" msgstr ""Gruppentypname \""%s\"" ist schon vorhanden."" msgid ""Group type name can not be empty."" msgstr ""Der Gruppenname darf nicht leer sein."" msgid ""Missing required settings: {}."" msgstr ""Fehlende erforderliche Einstellungen: {}."" msgid ""New name conflicts with another group type."" msgstr ""Der neue Name kollidiert mit einem anderen Gruppentyp."" msgid ""Perform a check to see if the application is ready for upgrade."" msgstr """" ""Test ausfhren um festzustellen, ob die Applikation bereit zum Upgrade ist."" msgid ""Required Settings"" msgstr ""Erforderliche Einstellungen"" msgid ""Successfully created group type: %s"" msgstr ""Gruppentyp erfolgreich erstellt: %s"" #, python-formatmsgid ""Successfully updated group type."" msgstr ""Gruppentyp erfolgreich aktualisiert."" msgid ""The output format"" msgstr ""Ausgabeformat"" msgid ""To make group type private, uncheck this field."" msgstr ""Entfernen Sie die Markierung, um den Gruppentyp auf Privat zu setzen."" msgid ""Unable to create group type."" msgstr ""Gruppentyp kann nicht erstellt werden."" msgid ""Unable to update group type."" msgstr ""Gruppentyp kann nicht aktualisiert werden."" msgid ""Unknown Settings"" msgstr ""Unbekannte Einstellungen"" msgid ""Unknown settings: {}."" msgstr ""Unbekannte Einstellungen: {}."" msgid ""View Specs"" msgstr ""Spezifikationen betrachten"" ","""POT-Creation-Date: 2019-03-12 17:36+0000\n""""PO-Revision-Date: 2019-02-14 10:57+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""",72,3
openstack%2Fmanila~stable%2Fpike~Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c,openstack/manila,stable/pike,Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c,Fix service image boot issues,MERGED,2019-03-15 14:33:31.000000000,2019-03-16 17:45:53.000000000,2019-03-15 21:22:10.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-03-15 14:33:31.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c9e564e52b9edee02a1af2b379429ad0684fbed', 'message': ""Fix service image boot issues\n\nWe are getting:\n\n403 errors 'Only volume-backed servers are allowed for flavors\nwith zero disk' on scenario tests.\n\nAppears to be due to this change [1] which just merged to\nnova master branch.  Ubuntu bionic server doc says the root disk\nneeds 1.5 GB so we are setting the flavor definition to require\n2GB.\n\n[1] https://github.com/openstack/nova/commit/c8e65a5eb11515cfe70f8e6850b842cd594af6a5\n\nCloses-bug: #1816050\nChange-Id: Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c\n(cherry picked from commit 68b79e2ceae37d66105e9911bfd9f61265900ef0)\n(cherry picked from commit fcb40df7773b033c9d6c3d2b4d46cedc311bac87)\n(cherry picked from commit 5bfe7f335e3b450930923fbc86c834c66b557f01)\n""}]",0,643597,9c9e564e52b9edee02a1af2b379429ad0684fbed,9,5,1,9003,,,0,"Fix service image boot issues

We are getting:

403 errors 'Only volume-backed servers are allowed for flavors
with zero disk' on scenario tests.

Appears to be due to this change [1] which just merged to
nova master branch.  Ubuntu bionic server doc says the root disk
needs 1.5 GB so we are setting the flavor definition to require
2GB.

[1] https://github.com/openstack/nova/commit/c8e65a5eb11515cfe70f8e6850b842cd594af6a5

Closes-bug: #1816050
Change-Id: Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c
(cherry picked from commit 68b79e2ceae37d66105e9911bfd9f61265900ef0)
(cherry picked from commit fcb40df7773b033c9d6c3d2b4d46cedc311bac87)
(cherry picked from commit 5bfe7f335e3b450930923fbc86c834c66b557f01)
",git fetch https://review.opendev.org/openstack/manila refs/changes/97/643597/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,9c9e564e52b9edee02a1af2b379429ad0684fbed,bug/1816050-stable/queens-stable/pike,MANILA_SERVICE_VM_FLAVOR_RAM=${MANILA_SERVICE_VM_FLAVOR_RAM:-320} MANILA_SERVICE_VM_FLAVOR_DISK=${MANILA_SERVICE_VM_FLAVOR_DISK:-2},MANILA_SERVICE_VM_FLAVOR_RAM=${MANILA_SERVICE_VM_FLAVOR_RAM:-192} MANILA_SERVICE_VM_FLAVOR_DISK=${MANILA_SERVICE_VM_FLAVOR_DISK:-0},2,2
openstack%2Fnova~master~If17a910f8a891ce93491d931c95f65d9fd9529e5,openstack/nova,master,If17a910f8a891ce93491d931c95f65d9fd9529e5,Trivial typo fix for REST API in policy enforcement docs,MERGED,2019-03-15 12:34:32.000000000,2019-03-16 17:09:57.000000000,2019-03-15 17:48:00.000000000,"[{'_account_id': 1063}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-15 12:34:32.000000000', 'files': ['doc/source/reference/policy-enforcement.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a44d3ae0a69d4f884b0b1c4526d0f241c7fa426', 'message': 'Trivial typo fix for REST API in policy enforcement docs\n\nChange-Id: If17a910f8a891ce93491d931c95f65d9fd9529e5\n'}]",0,643569,0a44d3ae0a69d4f884b0b1c4526d0f241c7fa426,11,5,1,6873,,,0,"Trivial typo fix for REST API in policy enforcement docs

Change-Id: If17a910f8a891ce93491d931c95f65d9fd9529e5
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/643569/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/policy-enforcement.rst'],1,0a44d3ae0a69d4f884b0b1c4526d0f241c7fa426,docs-fixes,REST API Policy Enforcement,Rest API Policy Enforcement,1,1
openstack%2Fnova~master~I932a7ac6870a3f9d26556c23c9074115963b3c27,openstack/nova,master,I932a7ac6870a3f9d26556c23c9074115963b3c27,Remove resize caveat from conductor docs,MERGED,2019-03-15 12:05:24.000000000,2019-03-16 17:03:19.000000000,2019-03-15 17:47:44.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-15 12:05:24.000000000', 'files': ['doc/source/user/conductor.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1308d644bb4887cd157b5a7461534fd4c88b1c5b', 'message': 'Remove resize caveat from conductor docs\n\nThis document was written back in the liberty release [1]\nand says that conductor is not used for orchestrating the\nresize/migrate flow, but given the description of how\nconductor is used to orchestrate scheduling and reschedules\nduring a server create, it is unclear why the doc says that\nresize is not used the same way since it is used for rescheduling\nwhen prep_resize fails in a selected dest compute. This removes\nthe caveat to reflect reality.\n\n[1] Ieb9134302d21a11fe9b9ee876bb7b0dd32b437e1\n\nChange-Id: I932a7ac6870a3f9d26556c23c9074115963b3c27\n'}]",0,643567,1308d644bb4887cd157b5a7461534fd4c88b1c5b,11,5,1,6873,,,0,"Remove resize caveat from conductor docs

This document was written back in the liberty release [1]
and says that conductor is not used for orchestrating the
resize/migrate flow, but given the description of how
conductor is used to orchestrate scheduling and reschedules
during a server create, it is unclear why the doc says that
resize is not used the same way since it is used for rescheduling
when prep_resize fails in a selected dest compute. This removes
the caveat to reflect reality.

[1] Ieb9134302d21a11fe9b9ee876bb7b0dd32b437e1

Change-Id: I932a7ac6870a3f9d26556c23c9074115963b3c27
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/643567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/conductor.rst'],1,1308d644bb4887cd157b5a7461534fd4c88b1c5b,docs-fixes,, The resize/migrate process has not yet been fully converted to a style to take advantage of what conductor can provide so expect that this will change over time.,0,4
openstack%2Fpuppet-neutron~stable%2Frocky~I9091ef779caae693238d466754be1f10c7e9a5c7,openstack/puppet-neutron,stable/rocky,I9091ef779caae693238d466754be1f10c7e9a5c7,Fix dependency cycle from Mellanox ML2 plugin,MERGED,2019-02-25 07:52:18.000000000,2019-03-16 17:02:43.000000000,2019-03-16 17:02:43.000000000,"[{'_account_id': 9414}, {'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 26682}, {'_account_id': 28523}]","[{'number': 1, 'created': '2019-02-25 07:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/610bd338b84da8ad8377a16036f1981290862922', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 2, 'created': '2019-03-05 09:01:25.000000000', 'files': ['manifests/plugins/ml2/mellanox.pp', 'spec/classes/neutron_plugins_ml2_mellanox_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3246b06ef0b191ca57e77984b1d70137b87ee4a4', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n(cherry picked from commit 7f632c233e465fca1f3d6a6c9003369871a5719d)\n""}]",0,639025,3246b06ef0b191ca57e77984b1d70137b87ee4a4,12,8,2,22948,,,0,"Fix dependency cycle from Mellanox ML2 plugin

Using tag 'neutron-package' causes dependency cycle when using
Mellanox ML2 plugin

Closes-Bug: #1816758
Change-Id: I9091ef779caae693238d466754be1f10c7e9a5c7
(cherry picked from commit 7f632c233e465fca1f3d6a6c9003369871a5719d)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/25/639025/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/mellanox.pp', 'spec/classes/neutron_plugins_ml2_mellanox_spec.rb']",2,610bd338b84da8ad8377a16036f1981290862922,, :tag => ['openstack']," :tag => ['openstack', 'neutron-package']",2,2
openstack%2Fmanila~stable%2Fpike~Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec,openstack/manila,stable/pike,Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec,Port dummy driver manage/unmanage changes to stable,MERGED,2019-03-15 11:21:00.000000000,2019-03-16 16:42:44.000000000,2019-03-15 20:00:29.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-03-15 11:21:00.000000000', 'files': ['manila/tests/share/drivers/dummy.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4473ff64da8fd6c5a0ee296d7416e08441fb9629', 'message': 'Port dummy driver manage/unmanage changes to stable\n\nBranchless manila-tempest-plugin had changes for\nthe manage share server feature that required changes in\nthe dummy driver for its manage and unmanage routines.\n\nHere we test porting the dummy driver changes for the\nmanage and unmanage share and snapshot methods, omitting\nthe manage and unmanage methods for share servers since\nthese are not supported in the stable branches.\n\nNote that backporting such changes to a stable branch\nfor a regular driver would likely be unacceptable given\nstable policy but the dummy driver is test-only code that\nnever runs outside of tests.\n\nChange-Id: Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec\n(cherry picked from commit 6b25b0a4075550163554895b5a1e275675ef9f21)\n(cherry picked from commit 00bd9230de372cd7b28e6f7ceb1aa168bb68b61f)\n'}]",0,643561,4473ff64da8fd6c5a0ee296d7416e08441fb9629,13,6,1,9003,,,0,"Port dummy driver manage/unmanage changes to stable

Branchless manila-tempest-plugin had changes for
the manage share server feature that required changes in
the dummy driver for its manage and unmanage routines.

Here we test porting the dummy driver changes for the
manage and unmanage share and snapshot methods, omitting
the manage and unmanage methods for share servers since
these are not supported in the stable branches.

Note that backporting such changes to a stable branch
for a regular driver would likely be unacceptable given
stable policy but the dummy driver is test-only code that
never runs outside of tests.

Change-Id: Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec
(cherry picked from commit 6b25b0a4075550163554895b5a1e275675ef9f21)
(cherry picked from commit 00bd9230de372cd7b28e6f7ceb1aa168bb68b61f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/643561/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/share/drivers/dummy.py'],1,4473ff64da8fd6c5a0ee296d7416e08441fb9629,," new_export = share['export_location'] old_share_id = self._get_share_id_from_export(new_export) old_export = self.private_storage.get( old_share_id, key='export_location') if old_export.split("":/"")[-1] == new_export.split("":/"")[-1]: result = {""size"": 1, ""export_locations"": self._create_share(share)} self.private_storage.delete(old_share_id) return result else: msg = (""Invalid export specified, existing share %s"" "" could not be found"" % old_share_id) raise exception.ShareBackendException(msg=msg) def _get_share_id_from_export(self, export_location): values = export_location.split('share_') if len(values) > 1: return values[1][37:].replace(""_"", ""-"") else: return export_location self.private_storage.update( share['id'], {'export_location': share['export_location']}) old_snap_id = self._get_snap_id_from_provider_location( snapshot['provider_location']) old_provider_location = self.private_storage.get( old_snap_id, key='provider_location') if old_provider_location == snapshot['provider_location']: self._create_snapshot(snapshot) self.private_storage.delete(old_snap_id) return {""size"": 1, ""provider_location"": snapshot[""provider_location""]} else: msg = (""Invalid provider location specified, existing snapshot %s"" "" could not be found"" % old_snap_id) raise exception.ShareBackendException(msg=msg) def _get_snap_id_from_provider_location(self, provider_location): values = provider_location.split('snapshot_') if len(values) > 1: return values[1][37:].replace(""_"", ""-"") else: return provider_location self.private_storage.update( snapshot['id'], {'provider_location': snapshot['provider_location']})"," return {""size"": 1, ""export_locations"": self._create_share(share)} self._create_snapshot(snapshot) return {""size"": 1, ""provider_location"": snapshot[""provider_location""]}",44,3
openstack%2Fnova~master~I3ce0e130e3691240a625c67dfb6123bafe7f48b8,openstack/nova,master,I3ce0e130e3691240a625c67dfb6123bafe7f48b8,docs: cleanup driver parity scope section,MERGED,2019-03-15 12:02:18.000000000,2019-03-16 16:06:39.000000000,2019-03-15 17:47:36.000000000,"[{'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-15 12:02:18.000000000', 'files': ['doc/source/contributor/project-scope.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5de08c096675378d865fdaabb970191c5db0456f', 'message': 'docs: cleanup driver parity scope section\n\nThis fixes some grammar issues, links to the interop\npage and fixes a misuse of tenant.\n\nChange-Id: I3ce0e130e3691240a625c67dfb6123bafe7f48b8\n'}]",2,643566,5de08c096675378d865fdaabb970191c5db0456f,12,6,1,6873,,,0,"docs: cleanup driver parity scope section

This fixes some grammar issues, links to the interop
page and fixes a misuse of tenant.

Change-Id: I3ce0e130e3691240a625c67dfb6123bafe7f48b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/643566/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/project-scope.rst'],1,5de08c096675378d865fdaabb970191c5db0456f,docs-fixes,"Our goal for the Nova API is to provide a consistent abstraction to accessabstractions that are more `interoperable`_.The key tenet of driver parity is that if a feature is supported in a driver,It is important that drivers support enough features, so the API actuallyserver or delete a server would severely undermine that goal... _interoperable: https://www.openstack.org/brand/interop/ ","Our goal for the Nova API to provide a consistent abstraction to accessabstractions that are more interoperable.The key tenant of driver parity is that if a feature is supported in a driver,Its important that drivers support enough features, so the API actuallyserver or delete a server, would severely undermine that goal.",7,5
openstack%2Fopenstack-ansible~master~Icfac9e1173554103f3e9a792fec3bde4abafe394,openstack/openstack-ansible,master,Icfac9e1173554103f3e9a792fec3bde4abafe394,Add documentation for hybrid messaging configuration,MERGED,2018-10-12 15:05:01.000000000,2019-03-16 14:47:12.000000000,2019-03-16 14:47:12.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 19298}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-12 15:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad7d8b6400baf812949baaedfd27b244604fec15', 'message': 'Add documentation for hybrid messaging configuration\n\nDepends-On: I9246eccf724919065825b14889724764ff8d2300\nChange-Id: Icfac9e1173554103f3e9a792fec3bde4abafe394\n'}, {'number': 2, 'created': '2018-10-16 15:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83216791cabe42cb15257fd00896ea7b50432203', 'message': 'Add documentation for hybrid messaging configuration\n\nDepends-On: I9246eccf724919065825b14889724764ff8d2300\nChange-Id: Icfac9e1173554103f3e9a792fec3bde4abafe394\n'}, {'number': 3, 'created': '2018-11-13 14:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/72abecd709924d719151faae72a0f35291d13dad', 'message': 'Add documentation for hybrid messaging configuration\n\nDepends-On: I9246eccf724919065825b14889724764ff8d2300\nChange-Id: Icfac9e1173554103f3e9a792fec3bde4abafe394\n'}, {'number': 4, 'created': '2019-01-23 19:11:51.000000000', 'files': ['doc/source/user/messaging/messaging.rst', 'doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1c8448aab58cfb66fb68a466e8276e22eca98019', 'message': 'Add documentation for hybrid messaging configuration\n\nDepends-On: If9eed3d5848939eac005651336a1305433d96dbf\nChange-Id: Icfac9e1173554103f3e9a792fec3bde4abafe394\n'}]",7,610079,1c8448aab58cfb66fb68a466e8276e22eca98019,19,7,4,20523,,,0,"Add documentation for hybrid messaging configuration

Depends-On: If9eed3d5848939eac005651336a1305433d96dbf
Change-Id: Icfac9e1173554103f3e9a792fec3bde4abafe394
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/610079/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/messaging/messaging.rst', 'doc/source/user/index.rst']",2,ad7d8b6400baf812949baaedfd27b244604fec15,bp/hybrid-messaging, messaging/messaging.rst,,145,0
openstack%2Fironic-inspector~stable%2Fqueens~I62ff646b77e2d39f70bade11924b2a47e1173cb5,openstack/ironic-inspector,stable/queens,I62ff646b77e2d39f70bade11924b2a47e1173cb5,Fix lookup when ipmi_address is a hostname,MERGED,2019-03-14 18:23:16.000000000,2019-03-16 14:00:03.000000000,2019-03-16 14:00:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-03-14 18:23:16.000000000', 'files': ['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/81c0e178d1f53fd1e24294c30174872e913f3b30', 'message': ""Fix lookup when ipmi_address is a hostname\n\nThe commit 771f2d396b23510364cfb05582175d44cf3b44e6 breaks it because\nit tries to use hostname for lookup. Lookup must always use IP addresses,\nbecause that's what `ipmitool lan print` outputs.\n\nChange-Id: I62ff646b77e2d39f70bade11924b2a47e1173cb5\n(cherry picked from commit b3088916c6d7fcbc13fb1b70fa394d03e1f0d752)\n""}]",0,643419,81c0e178d1f53fd1e24294c30174872e913f3b30,15,5,1,21909,,,0,"Fix lookup when ipmi_address is a hostname

The commit 771f2d396b23510364cfb05582175d44cf3b44e6 breaks it because
it tries to use hostname for lookup. Lookup must always use IP addresses,
because that's what `ipmitool lan print` outputs.

Change-Id: I62ff646b77e2d39f70bade11924b2a47e1173cb5
(cherry picked from commit b3088916c6d7fcbc13fb1b70fa394d03e1f0d752)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/19/643419/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py']",2,81c0e178d1f53fd1e24294c30174872e913f3b30,lookup-stable/queens," lookup_attrs = list(filter(None, [bmc_ipv4, bmc_ipv6])) bmc_address=lookup_attrs,"," bmc_address=bmc_address,",36,7
openstack%2Fcharm-nova-compute~master~I44506c94927bb93002b040db09d7cc7c1c99d133,openstack/charm-nova-compute,master,I44506c94927bb93002b040db09d7cc7c1c99d133,Fixup commit c9a19c4,MERGED,2019-03-15 16:22:34.000000000,2019-03-16 12:53:47.000000000,2019-03-16 12:53:47.000000000,"[{'_account_id': 935}, {'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-03-15 16:22:34.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/53efb5d2f4ea2bce6f6c6566ba83dab6652eb28f', 'message': 'Fixup commit c9a19c4\n\nRemove vm.swappiness setting as per [1] and\nadd net.netfilter.nf_conntrack_buckets as\nper [2].\n\n[1] https://git.openstack.org/cgit/openstack/charm-ceph-osd/commit/?id=3527bf4ae1723a10f49774fef646aaa5b9fc0c45\n[2] https://bugs.launchpad.net/charm-nova-compute/+bug/1780348/comments/8\n\nChange-Id: I44506c94927bb93002b040db09d7cc7c1c99d133\nRelated-Bug: #1780348\n'}]",0,643626,53efb5d2f4ea2bce6f6c6566ba83dab6652eb28f,7,5,1,6737,,,0,"Fixup commit c9a19c4

Remove vm.swappiness setting as per [1] and
add net.netfilter.nf_conntrack_buckets as
per [2].

[1] https://git.openstack.org/cgit/openstack/charm-ceph-osd/commit/?id=3527bf4ae1723a10f49774fef646aaa5b9fc0c45
[2] https://bugs.launchpad.net/charm-nova-compute/+bug/1780348/comments/8

Change-Id: I44506c94927bb93002b040db09d7cc7c1c99d133
Related-Bug: #1780348
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/26/643626/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,53efb5d2f4ea2bce6f6c6566ba83dab6652eb28f,bug/1780348," { net.ipv4.neigh.default.gc_thresh1 : 128, net.netfilter.nf_conntrack_buckets : 204800,"," { vm.swappiness : 1, net.ipv4.neigh.default.gc_thresh1 : 128,",2,2
openstack%2Fopenstack-ansible~master~Id50c3ff9243b90a1468c1bdb680f2ae905ff09fe,openstack/openstack-ansible,master,Id50c3ff9243b90a1468c1bdb680f2ae905ff09fe,Add blank line to end of log-collect.sh to fix lint check,MERGED,2019-03-13 16:27:54.000000000,2019-03-16 12:44:47.000000000,2019-03-16 12:44:47.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-13 16:27:54.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b790a63442f7682eb424d017927434b6eac2d36a', 'message': 'Add blank line to end of log-collect.sh to fix lint check\n\nChange-Id: Id50c3ff9243b90a1468c1bdb680f2ae905ff09fe\n'}]",0,643097,b790a63442f7682eb424d017927434b6eac2d36a,25,6,1,25023,,,0,"Add blank line to end of log-collect.sh to fix lint check

Change-Id: Id50c3ff9243b90a1468c1bdb680f2ae905ff09fe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/643097/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,b790a63442f7682eb424d017927434b6eac2d36a,,,,1,0
openstack%2Fwatcher~master~I463203fee608be6684a09326d189d0254696d8e0,openstack/watcher,master,I463203fee608be6684a09326d189d0254696d8e0,Move client function test to watcher-tempest-plugin,MERGED,2019-03-14 09:01:01.000000000,2019-03-16 10:15:57.000000000,2019-03-16 10:15:57.000000000,"[{'_account_id': 14107}, {'_account_id': 18971}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-03-14 09:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2f12949ea4e0e76c0b2fe482a5f4674e41ec7b4a', 'message': '[WIP]Move client function test to watcher-tempest-plugin\n\nChange-Id: I463203fee608be6684a09326d189d0254696d8e0\n'}, {'number': 2, 'created': '2019-03-14 09:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a18c06b07e43fe6dae5a486ece5fd2a585238b67', 'message': '[WIP]Move client function test to watcher-tempest-plugin\n\nDepends-On: https://review.openstack.org/643244\nChange-Id: I463203fee608be6684a09326d189d0254696d8e0\n'}, {'number': 3, 'created': '2019-03-15 03:49:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c8bfb3b188b5a8dd2f7cbbfb1b853d5f9e22e09e', 'message': 'Move client function test to watcher-tempest-plugin\n\nDepends-On: https://review.openstack.org/643244\nChange-Id: I463203fee608be6684a09326d189d0254696d8e0\n'}]",0,643247,c8bfb3b188b5a8dd2f7cbbfb1b853d5f9e22e09e,18,5,3,14107,,,0,"Move client function test to watcher-tempest-plugin

Depends-On: https://review.openstack.org/643244
Change-Id: I463203fee608be6684a09326d189d0254696d8e0
",git fetch https://review.opendev.org/openstack/watcher refs/changes/47/643247/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2f12949ea4e0e76c0b2fe482a5f4674e41ec7b4a,, tempest_test_regex: watcher_tempest_plugin.tests.client_functional, devstack_localrc: TEMPEST_PLUGINS: /opt/stack/python-watcherclient tempest_test_regex: watcherclient.tests.functional,1,3
openstack%2Fwatcher-tempest-plugin~master~I79fcaded18471d2df4d49a526ad3024e55488f96,openstack/watcher-tempest-plugin,master,I79fcaded18471d2df4d49a526ad3024e55488f96,Move client function test to watcher-tempest-plugin,MERGED,2019-03-14 08:52:43.000000000,2019-03-16 10:15:56.000000000,2019-03-16 10:15:56.000000000,"[{'_account_id': 14107}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-03-14 08:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/be68e640179994f6e0a30e13997c4b3a0b1c88e4', 'message': 'WIP Move clint function test to watcher-tempest-plugin\n\nChange-Id: I79fcaded18471d2df4d49a526ad3024e55488f96\n'}, {'number': 2, 'created': '2019-03-15 00:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/9ad63f54b5ce07ba6b4e64169e2dd36b17887262', 'message': 'WIP Move clint function test to watcher-tempest-plugin\n\nChange-Id: I79fcaded18471d2df4d49a526ad3024e55488f96\n'}, {'number': 3, 'created': '2019-03-15 03:49:36.000000000', 'files': ['watcher_tempest_plugin/tests/client_functional/v1/__init__.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_scoring_engine.py', 'watcher_tempest_plugin/tests/client_functional/v1/base.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_action_plan.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_goal.py', 'watcher_tempest_plugin/tests/client_functional/__init__.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_audit_template.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_service.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_action.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_audit.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_strategy.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/33fb684fa24b54cbbe5680c286ca26997e63a399', 'message': 'Move client function test to watcher-tempest-plugin\n\nChange-Id: I79fcaded18471d2df4d49a526ad3024e55488f96\n'}]",0,643244,33fb684fa24b54cbbe5680c286ca26997e63a399,16,4,3,14107,,,0,"Move client function test to watcher-tempest-plugin

Change-Id: I79fcaded18471d2df4d49a526ad3024e55488f96
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/44/643244/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_tempest_plugin/tests/client_functional/v1/__init__.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_scoring_engine.py', 'watcher_tempest_plugin/tests/client_functional/v1/base.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_action_plan.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_goal.py', 'watcher_tempest_plugin/tests/client_functional/__init__.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_audit_template.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_service.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_action.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_audit.py', 'watcher_tempest_plugin/tests/client_functional/v1/test_strategy.py']",11,be68e640179994f6e0a30e13997c4b3a0b1c88e4,,"# Copyright (c) 2016 Servionica # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from watcherclient.tests.functional.v1 import base class StrategyTests(base.TestCase): """"""Functional tests for strategy."""""" dummy_name = 'dummy' basic_strategy = 'basic' list_fields = ['UUID', 'Name', 'Display name', 'Goal'] state_fields = ['Datasource', 'Metrics', 'CDM', 'Name'] def test_strategy_list(self): raw_output = self.watcher('strategy list') self.assertIn(self.dummy_name, raw_output) self.assert_table_structure([raw_output], self.list_fields) def test_strategy_detailed_list(self): raw_output = self.watcher('strategy list --detail') self.assertIn(self.dummy_name, raw_output) self.assert_table_structure([raw_output], self.list_fields + ['Parameters spec']) def test_strategy_show(self): raw_output = self.watcher('strategy show %s' % self.dummy_name) self.assertIn(self.dummy_name, raw_output) self.assert_table_structure([raw_output], self.list_fields + ['Parameters spec']) self.assertNotIn('basic', raw_output) def test_strategy_state(self): raw_output = self.watcher('strategy state %s' % self.basic_strategy) self.assertIn(self.basic_strategy, raw_output) self.assert_table_structure([raw_output], self.state_fields) ",,785,0
openstack%2Frally-openstack~master~Ic0b59c1a078586e58c68ce28011900d2820c297d,openstack/rally-openstack,master,Ic0b59c1a078586e58c68ce28011900d2820c297d,"[gate] try to fix ""[[: not found"" error",MERGED,2019-03-16 05:59:02.000000000,2019-03-16 09:38:12.000000000,2019-03-16 09:38:12.000000000,"[{'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-16 05:59:02.000000000', 'files': ['tests/ci/playbooks/roles/prepare-for-rally-task/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ec27fae75253e55ee04ef8902c085cd02a95e5b7', 'message': '[gate] try to fix ""[[: not found"" error\n\nChange-Id: Ic0b59c1a078586e58c68ce28011900d2820c297d\n'}]",0,643696,ec27fae75253e55ee04ef8902c085cd02a95e5b7,6,2,1,21528,,,0,"[gate] try to fix ""[[: not found"" error

Change-Id: Ic0b59c1a078586e58c68ce28011900d2820c297d
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/96/643696/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/roles/prepare-for-rally-task/tasks/main.yaml'],1,ec27fae75253e55ee04ef8902c085cd02a95e5b7,rally.task, executable: /bin/bash, executable: /bin/sh,1,1
openstack%2Fcontributor-guide~master~I521db53a729fafc0ee8b6930d940128e3844dfbf,openstack/contributor-guide,master,I521db53a729fafc0ee8b6930d940128e3844dfbf,Imported Translations from Zanata,MERGED,2019-03-12 09:11:24.000000000,2019-03-16 09:37:47.000000000,2019-03-16 09:37:46.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 09:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/af8b104bfc67c39699e5f689b85861477433cc4a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I521db53a729fafc0ee8b6930d940128e3844dfbf\n'}, {'number': 2, 'created': '2019-03-16 08:46:00.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/778fcbb064c1d1b23846c8e4957f0ff64427a416', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I521db53a729fafc0ee8b6930d940128e3844dfbf\n'}]",0,642698,778fcbb064c1d1b23846c8e4957f0ff64427a416,10,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I521db53a729fafc0ee8b6930d940128e3844dfbf
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/98/642698/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po']",7,af8b104bfc67c39699e5f689b85861477433cc4a,zanata/translations,"""POT-Creation-Date: 2019-02-11 21:21+0000\n""","""POT-Creation-Date: 2019-02-06 16:27+0000\n""""You need as many '^' as the number of the patch you want to edit first from "" ""the top of the chain. Gerrit also provides you options to edit the patch "" ""itself or only the commit message and a few more for more advanced changes, "" ""like modifying the author."" msgstr """" ""You need as many '^' as the number of the patch you want to edit first from "" ""the top of the chain. Gerrit also provides you options to edit the patch "" ""itself or only the commit message and a few more for more advanced changes, "" ""like modifying the author."" msgid """"",365,51
openstack%2Fironic~master~I5b9b64e5aa4fe96e056c8b010bf8a448c72f996f,openstack/ironic,master,I5b9b64e5aa4fe96e056c8b010bf8a448c72f996f,Fix idrac driver unit test backwards compat issue,MERGED,2019-03-15 10:44:01.000000000,2019-03-16 09:35:35.000000000,2019-03-15 12:58:14.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-03-15 10:44:01.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c11f45bddae308ce92e36f404c0bd02797741112', 'message': 'Fix idrac driver unit test backwards compat issue\n\nSince commit 8bd3c531a0ef7282cc8a0daac9f71bb18b6a9532, the idrac driver\nunit tests use real named tuple objects from the dracclient library, if\navailable. This added a coupling to a specific set of versions of that\nlibrary, since the correct set of fields for each object must be\nspecified.\n\nThis change uses the namedtuple._fields field to build a list of fields\nappropriate to the library version. Missing fields are filled in with\nNone, and unsupported fields are ignored.\n\nChange-Id: I5b9b64e5aa4fe96e056c8b010bf8a448c72f996f\n'}]",0,643557,c11f45bddae308ce92e36f404c0bd02797741112,11,6,1,14826,,,0,"Fix idrac driver unit test backwards compat issue

Since commit 8bd3c531a0ef7282cc8a0daac9f71bb18b6a9532, the idrac driver
unit tests use real named tuple objects from the dracclient library, if
available. This added a coupling to a specific set of versions of that
library, since the correct set of fields for each object must be
specified.

This change uses the namedtuple._fields field to build a list of fields
appropriate to the library version. Missing fields are filled in with
None, and unsupported fields are ignored.

Change-Id: I5b9b64e5aa4fe96e056c8b010bf8a448c72f996f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/643557/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/drac/utils.py'],1,c11f45bddae308ce92e36f404c0bd02797741112,fix-drac-unit-tests,"def dict_to_namedtuple(name='GenericNamedTuple', values=None, tuple_class=None): if tuple_class is None: tuple_class = collections.namedtuple(name, list(values)) else: # Support different versions of the driver as fields change. values = {field: values.get(field) for field in tuple_class._fields} return tuple_class(**values) tuple_class = dracclient_job.Job if dracclient_job else None return dict_to_namedtuple(values=job_dict, tuple_class=tuple_class) tuple_class = dracclient_raid.RAIDController if dracclient_raid else None return dict_to_namedtuple(values=raid_controller_dict, tuple_class=tuple_class) tuple_class = dracclient_raid.VirtualDisk if dracclient_raid else None return dict_to_namedtuple(values=virtual_disk_dict, tuple_class=tuple_class) tuple_class = dracclient_raid.PhysicalDisk if dracclient_raid else None return dict_to_namedtuple(values=physical_disk_dict, tuple_class=tuple_class)","def dict_to_namedtuple(name='GenericNamedTuple', values=None): return collections.namedtuple(name, list(values))(**values) if dracclient_job: return dracclient_job.Job(**job_dict) else: return dict_to_namedtuple(values=job_dict) if dracclient_raid: return dracclient_raid.RAIDController(**raid_controller_dict) else: return dict_to_namedtuple(values=raid_controller_dict) if dracclient_raid: return dracclient_raid.VirtualDisk(**virtual_disk_dict) else: return dict_to_namedtuple(values=virtual_disk_dict) if dracclient_raid: return dracclient_raid.PhysicalDisk(**physical_disk_dict) else: return dict_to_namedtuple(values=physical_disk_dict)",21,18
openstack%2Fmanila~stable%2Frocky~I41c93ef6c0472ae4293a733bb0ea99511a686440,openstack/manila,stable/rocky,I41c93ef6c0472ae4293a733bb0ea99511a686440,[pylint] Fix lintstack.py for python2.x,MERGED,2019-03-11 18:48:59.000000000,2019-03-16 09:11:24.000000000,2019-03-14 19:57:18.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 29759}]","[{'number': 1, 'created': '2019-03-11 18:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/91e84760904aeee67e1c91cd09835912e20afb98', 'message': '[pylint] Fix lintstack.py for python2.x\n\ntools/lintstack.py helper is used to run\npylint on manila in all branches prior to\nthe Stein release. In some downstream testing\nwith python2.x, it was found to be using a\nversion of the print() function available only\nin python3x.\n\nWe can enable the python3 style print function\nfrom __future__. See [1] for how this import\nis dealt with.\n\n[1] https://docs.python.org/2/reference/simple_stmts.html#future\n\nChange-Id: I41c93ef6c0472ae4293a733bb0ea99511a686440\n'}, {'number': 2, 'created': '2019-03-12 10:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/01397ca56436254165c0fdcfbbec6ff185a17aab', 'message': '[pylint] Fix lintstack.py for python2.x\n\ntools/lintstack.py helper is used to run\npylint on manila in all branches prior to\nthe Stein release. In some downstream testing\nwith python2.x, it was found to be using a\nversion of the print() function available only\nin python3x.\n\nWe can enable the python3 style print function\nfrom __future__. See [1] for how this import\nis dealt with.\n\n[1] https://docs.python.org/2/reference/simple_stmts.html#future\n\nDepends-on: https://review.openstack.org/642715\nChange-Id: I41c93ef6c0472ae4293a733bb0ea99511a686440\n'}, {'number': 3, 'created': '2019-03-14 17:36:17.000000000', 'files': ['tools/lintstack.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c9f581caeb51cbdd87f9284176d40bdcca628f56', 'message': '[pylint] Fix lintstack.py for python2.x\n\ntools/lintstack.py helper is used to run\npylint on manila in all branches prior to\nthe Stein release. In some downstream testing\nwith python2.x, it was found to be using a\nversion of the print() function available only\nin python3x.\n\nWe can enable the python3 style print function\nfrom __future__. See [1] for how this import\nis dealt with.\n\n[1] https://docs.python.org/2/reference/simple_stmts.html#future\n\nDepends-on: https://review.openstack.org/642715\nChange-Id: I41c93ef6c0472ae4293a733bb0ea99511a686440\n'}]",0,642540,c9f581caeb51cbdd87f9284176d40bdcca628f56,26,7,3,16643,,,0,"[pylint] Fix lintstack.py for python2.x

tools/lintstack.py helper is used to run
pylint on manila in all branches prior to
the Stein release. In some downstream testing
with python2.x, it was found to be using a
version of the print() function available only
in python3x.

We can enable the python3 style print function
from __future__. See [1] for how this import
is dealt with.

[1] https://docs.python.org/2/reference/simple_stmts.html#future

Depends-on: https://review.openstack.org/642715
Change-Id: I41c93ef6c0472ae4293a733bb0ea99511a686440
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/642540/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/lintstack.py'],1,91e84760904aeee67e1c91cd09835912e20afb98,pylint,from __future__ import print_function ,,2,0
openstack%2Fcharm-nova-cloud-controller~master~I91e2654bb0c5f89f51c703330ae2bd0a64cc84f3,openstack/charm-nova-cloud-controller,master,I91e2654bb0c5f89f51c703330ae2bd0a64cc84f3,Check console enabled before starting console svc,MERGED,2019-03-15 13:46:30.000000000,2019-03-16 09:04:49.000000000,2019-03-16 09:04:49.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-03-15 13:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c942f590acf1f98f479fd6b05e86dd32cfd4f6e4', 'message': 'Check console enabled before starting console svc\n\nCheck if console is enabled in this deploy before trying to start\nconsole service. As part of this add a function to determine whether\nconsole is enabled and change existing methods to use it.\n\nChange-Id: I91e2654bb0c5f89f51c703330ae2bd0a64cc84f3\nCloses-Bug: #1820266\n'}, {'number': 2, 'created': '2019-03-15 14:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f7f5e3a144ab970c97a8458e61da24ee27a297bc', 'message': 'Check console enabled before starting console svc\n\nCheck if console is enabled in this deploy before trying to start\nconsole service. As part of this add a functions to determine whether\nconsole is enabled and change existing methods to use them.\n\nChange-Id: I91e2654bb0c5f89f51c703330ae2bd0a64cc84f3\nCloses-Bug: #1820266\n'}, {'number': 3, 'created': '2019-03-15 14:30:02.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ba19f921c531906995b6b105a37c135950b06d53', 'message': 'Check console enabled before starting console svc\n\nCheck if console is enabled in this deploy before trying to start\nconsole service. As part of this add a functions to determine whether\nconsole is enabled and change existing methods to use them.\n\nChange-Id: I91e2654bb0c5f89f51c703330ae2bd0a64cc84f3\nCloses-Bug: #1820266\n'}]",0,643587,ba19f921c531906995b6b105a37c135950b06d53,13,4,3,12549,,,0,"Check console enabled before starting console svc

Check if console is enabled in this deploy before trying to start
console service. As part of this add a functions to determine whether
console is enabled and change existing methods to use them.

Change-Id: I91e2654bb0c5f89f51c703330ae2bd0a64cc84f3
Closes-Bug: #1820266
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/87/643587/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py']",3,c942f590acf1f98f479fd6b05e86dd32cfd4f6e4,bug/1820266, if (not ch_utils.is_unit_paused_set() and ncc_utils.is_serial_console_enabled()):, if not ch_utils.is_unit_paused_set():,37,3
openstack%2Fironic~master~Ic5e920e4e58811c6a6dfe927732595950aea64e7,openstack/ironic,master,Ic5e920e4e58811c6a6dfe927732595950aea64e7,Add Huawei iBMC driver support,MERGED,2019-02-26 09:51:16.000000000,2019-03-16 08:17:10.000000000,2019-03-15 16:59:22.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11224}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 28429}, {'_account_id': 29702}, {'_account_id': 29800}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-02-26 09:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d779650a47631e59a9ef294ed5e9aee1b4f3a4c', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the Huawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using Huawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\n'}, {'number': 2, 'created': '2019-02-26 14:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a914c026487da22fa69f47ec07b82acd259613f1', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the Huawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using Huawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\n'}, {'number': 3, 'created': '2019-02-27 01:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/451054459a145d1191a7b85d695e5da11fda71f7', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\n'}, {'number': 4, 'created': '2019-02-27 02:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cc98db26675dd9bd7c7b25dc4ec50637df7c777', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 5, 'created': '2019-03-04 07:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6fd6d75e38ebecb78d7458a189370a0466abe282', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 6, 'created': '2019-03-05 05:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b2100659745d763be89d582c4f694c9358ecf03', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 7, 'created': '2019-03-05 09:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/269b5fdcf85e71d76c5ee3940cb7e3efd8409f29', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 8, 'created': '2019-03-09 07:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26b46ead1bcbe0880dd7faafb23f95124e744d24', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 9, 'created': '2019-03-11 03:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ccbf11c5b8b106c4c4d026a1dad9d1813be36b91', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 10, 'created': '2019-03-11 10:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b42abceec6fd20b37be5996a61ebde5128d2ccf', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 11, 'created': '2019-03-11 14:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5386733d2c2958a8a71c1e1ac5f78eabad2f1f99', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 12, 'created': '2019-03-11 16:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/887df00dcf1c9a83f3cb9bb53dadcf172cc5c28d', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 13, 'created': '2019-03-12 12:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a801a97e3ae0ca19f0ffde1c3cb603f39443d9d', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 14, 'created': '2019-03-12 15:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/08f67dfffcece03a1aba360475d479f6887d4d46', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 15, 'created': '2019-03-13 01:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/570cab9486d6258c2dd411afd77c29572d513994', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}, {'number': 16, 'created': '2019-03-14 03:06:10.000000000', 'files': ['ironic/tests/unit/drivers/modules/ibmc/base.py', 'releasenotes/notes/ibmc-driver-45fcf9f50ebf0193.yaml', 'ironic/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/test_vendor.py', 'ironic/common/exception.py', 'doc/source/images/ironic_standalone_with_ibmc_driver.svg', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/conf/ibmc.py', 'driver-requirements.txt', 'ironic/drivers/modules/ibmc/management.py', 'ironic/tests/unit/drivers/test_ibmc.py', 'doc/source/admin/drivers.rst', 'ironic/conf/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/ibmc/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_management.py', 'ironic/drivers/ibmc.py', 'ironic/drivers/modules/ibmc/vendor.py', 'ironic/drivers/modules/ibmc/mappings.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_power.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/drivers/modules/ibmc/power.py', 'setup.cfg', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1f4f892fe95f95128f8b872d4a3d32dc9cdb5fd', 'message': 'Add Huawei iBMC driver support\n\nThis patch proposes to adding iBMC driver for deploying the\nHuawei 2288H V5, CH121 V5 series servers.\nThe driver aims to add management and power interfaces using\nHuawei iBMC RESTful APIs for those series servers.\n\nChange-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7\nStory: 2004635\nTask: 28566\n'}]",103,639288,f1f4f892fe95f95128f8b872d4a3d32dc9cdb5fd,143,15,16,29702,,,0,"Add Huawei iBMC driver support

This patch proposes to adding iBMC driver for deploying the
Huawei 2288H V5, CH121 V5 series servers.
The driver aims to add management and power interfaces using
Huawei iBMC RESTful APIs for those series servers.

Change-Id: Ic5e920e4e58811c6a6dfe927732595950aea64e7
Story: 2004635
Task: 28566
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/639288/14 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ibmc/base.py', 'ironic/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/test_vendor.py', 'ironic/common/exception.py', 'doc/source/images/ironic_standalone_with_ibmc_driver.svg', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/conf/ibmc.py', 'driver-requirements.txt', 'ironic/drivers/modules/ibmc/management.py', 'ironic/tests/unit/drivers/test_ibmc.py', 'ironic/conf/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/ibmc/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_management.py', 'ironic/drivers/ibmc.py', 'ironic/drivers/modules/ibmc/vendor.py', 'ironic/drivers/modules/ibmc/mappings.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_power.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/drivers/modules/ibmc/power.py', 'setup.cfg', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py']",24,7d779650a47631e59a9ef294ed5e9aee1b4f3a4c,feature/huawei-ironic-driver,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Version 1.0.0 import copy import os import mock from oslo_utils import importutils from ironic.common import exception from ironic.conductor import task_manager from ironic.drivers.modules.ibmc import utils from ironic.tests.unit.drivers.modules.ibmc import base constants = importutils.try_import('ibmc_client.constants') ibmc_client = importutils.try_import('ibmc_client') ibmc_error = importutils.try_import('ibmc_client.exceptions') class IBMCUtilsTestCase(base.IBMCTestCase): def setUp(self): super(IBMCUtilsTestCase, self).setUp() # Redfish specific configurations self.config(connection_attempts=2, group='ibmc') self.parsed_driver_info = { 'address': 'https://example.com', 'username': 'username', 'password': 'password', 'verify_ca': True, } def test_parse_driver_info(self): response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_default_scheme(self): self.node.driver_info['ibmc_address'] = 'example.com' response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_default_scheme_with_port(self): self.node.driver_info['ibmc_address'] = 'example.com:42' self.parsed_driver_info['address'] = 'https://example.com:42' response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_missing_info(self): for prop in utils.REQUIRED_PROPERTIES: self.node.driver_info = self.driver_info.copy() self.node.driver_info.pop(prop) self.assertRaises(exception.MissingParameterValue, utils.parse_driver_info, self.node) def test_parse_driver_info_invalid_address(self): for value in ['/banana!', 42]: self.node.driver_info['ibmc_address'] = value self.assertRaisesRegex(exception.InvalidParameterValue, 'Invalid iBMC address', utils.parse_driver_info, self.node) @mock.patch.object(os.path, 'isdir', autospec=True) def test_parse_driver_info_path_verify_ca(self, mock_isdir): mock_isdir.return_value = True fake_path = '/path/to/a/valid/CA' self.node.driver_info['ibmc_verify_ca'] = fake_path self.parsed_driver_info['verify_ca'] = fake_path response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) mock_isdir.assert_called_once_with(fake_path) @mock.patch.object(os.path, 'isfile', autospec=True) def test_parse_driver_info_valid_capath(self, mock_isfile): mock_isfile.return_value = True fake_path = '/path/to/a/valid/CA.pem' self.node.driver_info['ibmc_verify_ca'] = fake_path self.parsed_driver_info['verify_ca'] = fake_path response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) mock_isfile.assert_called_once_with(fake_path) def test_parse_driver_info_invalid_value_verify_ca(self): # Integers are not supported self.node.driver_info['ibmc_verify_ca'] = 123456 self.assertRaisesRegex(exception.InvalidParameterValue, 'Invalid value type', utils.parse_driver_info, self.node) def test_parse_driver_info_valid_string_value_verify_ca(self): for value in ('0', 'f', 'false', 'off', 'n', 'no'): self.node.driver_info['ibmc_verify_ca'] = value response = utils.parse_driver_info(self.node) parsed_driver_info = copy.deepcopy(self.parsed_driver_info) parsed_driver_info['verify_ca'] = False self.assertEqual(parsed_driver_info, response) for value in ('1', 't', 'true', 'on', 'y', 'yes'): self.node.driver_info['ibmc_verify_ca'] = value response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_invalid_string_value_verify_ca(self): for value in ('xyz', '*', '!123', '123'): self.node.driver_info['ibmc_verify_ca'] = value self.assertRaisesRegex(exception.InvalidParameterValue, 'The value should be a Boolean', utils.parse_driver_info, self.node) def test_revert_dictionary(self): data = { ""key1"": ""value1"", ""key2"": ""value2"" } revert = utils.revert_dictionary(data) self.assertEqual({ ""value1"": ""key1"", ""value2"": ""key2"" }, revert) @mock.patch.object(ibmc_client, 'IBMCClient', autospec=True) def test_handle_ibmc_exception_retry(self, ibmc_client_class): @utils.handle_ibmc_exception('get IBMC system') def get_ibmc_system(_task): driver_info = utils.parse_driver_info(_task.node) with ibmc_client.connect(**driver_info) as _conn: return _conn.system.get() conn = self.mock_ibmc_conn(ibmc_client_class) # Mocks conn.system.get.side_effect = [ ibmc_error.ConnectionError(url=self.ibmc['address'], error='Failed to connect to host'), mock.PropertyMock( boot_source_override=mock.PropertyMock( target=constants.BOOT_SOURCE_TARGET_PXE, enabled=constants.BOOT_SOURCE_ENABLED_CONTINUOUS ) ) ] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: system = get_ibmc_system(task) # Asserts self.assertEqual(constants.BOOT_SOURCE_TARGET_PXE, system.boot_source_override.target) self.assertEqual(constants.BOOT_SOURCE_ENABLED_CONTINUOUS, system.boot_source_override.enabled) # 1 failed, 1 succeed ibmc_client_class.assert_called_with(**self.ibmc) self.assertEqual(2, ibmc_client_class.call_count) # 1 failed, 1 succeed self.assertEqual(2, conn.system.get.call_count) ",,3153,0
openstack%2Ftempest~master~I5b9a4bd5350809d6b295dfede0c5059d01455404,openstack/tempest,master,I5b9a4bd5350809d6b295dfede0c5059d01455404,allow create_server with vnic_type and port_profile from kwargs,MERGED,2019-01-27 05:52:40.000000000,2019-03-16 06:30:03.000000000,2019-03-16 06:30:03.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 12033}, {'_account_id': 12171}, {'_account_id': 14807}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}, {'_account_id': 28523}]","[{'number': 1, 'created': '2019-01-27 05:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f421385336ae063f7940df8e91d001f7e8393352', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 2, 'created': '2019-01-27 05:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7ff1d58f2e5ed8cfcb5de19ad768b3ab3dd48cf', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 3, 'created': '2019-01-27 06:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/49efb94cfb2155b8996d1111d51fce86bfb32ff6', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 4, 'created': '2019-01-27 08:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/affcc2018f0bcae450c9cffcfc244ad90a520e77', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 5, 'created': '2019-01-27 10:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c15bc19e75fe9702e0b5f6fe05726f137e3ed9a', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 6, 'created': '2019-01-30 07:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/895021e3476cb8e36c514943d652b794188d673f', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal""\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 7, 'created': '2019-02-14 06:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a78c1cd1e370a2275a96555afc0667e8a3f2e061', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 8, 'created': '2019-02-25 06:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a21e7818048279093782b070c587a1f7d4055081', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 9, 'created': '2019-02-25 13:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/27224a4bfadeff665527cbb943dda64dd459baf3', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 10, 'created': '2019-02-26 09:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dcd91f5e76512daa99d1be9f5cdc672b4220544c', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 11, 'created': '2019-02-27 08:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/078a8a655554ced6b153b00b0684e5470287adfa', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 12, 'created': '2019-02-28 18:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9ae7eaf1f21d4a9ecda7c3e0bd4a8bb0c2ba9266', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 13, 'created': '2019-03-04 05:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6555046bea93ff11285d1abcc1970b198a3194cb', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}, {'number': 14, 'created': '2019-03-12 10:08:09.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e30995bc0e99c983d7e79691a8d8643e7e8c451', 'message': 'allow create_server with vnic_type and port_profile from kwargs\n\nthe purpose of this change is to enable creating advance network\nscenarios like checking connectivity from VM with port type ""direct"" to\nVM with port type ""normal"".\n\nwith this change scenario planer can overwrite tempest.conf vnic_type\nand port_profile paramters in scenario (ex. connectivty between VM\n""direct"" and VM ""normal"").\n\nChange-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404\n'}]",14,633383,6e30995bc0e99c983d7e79691a8d8643e7e8c451,79,13,14,16690,,,0,"allow create_server with vnic_type and port_profile from kwargs

the purpose of this change is to enable creating advance network
scenarios like checking connectivity from VM with port type ""direct"" to
VM with port type ""normal"".

with this change scenario planer can overwrite tempest.conf vnic_type
and port_profile paramters in scenario (ex. connectivty between VM
""direct"" and VM ""normal"").

Change-Id: I5b9a4bd5350809d6b295dfede0c5059d01455404
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/633383/11 && git format-patch -1 --stdout FETCH_HEAD,[],0,f421385336ae063f7940df8e91d001f7e8393352,,,,0,0
openstack%2Ftempest~master~I1d8105c24eb9b20e563de962f9e4d5776937126a,openstack/tempest,master,I1d8105c24eb9b20e563de962f9e4d5776937126a,Immutable user source: v3 test_inherits,MERGED,2019-01-17 15:27:08.000000000,2019-03-16 06:28:41.000000000,2019-03-16 06:28:41.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23625}, {'_account_id': 25540}]","[{'number': 1, 'created': '2019-01-17 15:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc0bc8d3525a26e7018077331e8f48d5837f255b', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 2, 'created': '2019-01-17 15:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d58152b8bb845d88e71d364a7fc93cf8b921e694', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 3, 'created': '2019-01-17 18:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccaedd2162d0aaa9c9783c9a01c5d38f52206e4d', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 4, 'created': '2019-01-17 18:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea8f498f8a5324225c1af0373625e8b414e736ea', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 5, 'created': '2019-02-18 20:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e678640fb05a2f089be7072bb3ae1126c89d92b5', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 6, 'created': '2019-02-20 00:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/58424874f0a723dfdd687e7fb2b87cfdd9f0c041', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 7, 'created': '2019-02-25 19:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b3d2cef041f77f7f42f33f22e18456011ae9eb0', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 8, 'created': '2019-02-25 19:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c6e8a03c3d1c1212b5dab24b574b8811d11612d', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 9, 'created': '2019-02-25 19:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9f39918210c4e34a3e80b8553fe1fce4c319d73', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 10, 'created': '2019-02-26 19:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6861bbcf5c5d0ea79bc4755c9facd1e978e9b5a9', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 11, 'created': '2019-02-26 19:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e845799048ace9d46db54cc85f79a2427c039db8', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 12, 'created': '2019-03-07 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5b03acf3d0798d0bd1029afad370c905526d4e93', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 13, 'created': '2019-03-12 23:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc6b109f61dc9505e7c1a67d798e866f21ce98e9', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}, {'number': 14, 'created': '2019-03-14 18:28:02.000000000', 'files': ['tempest/api/identity/admin/v3/test_inherits.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3f07b441f6a077efc478fb50dd1bb8f04700066', 'message': 'Immutable user source: v3 test_inherits\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip.\n\nParital-Bug: #1777047\n\nChange-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a\n'}]",6,631530,c3f07b441f6a077efc478fb50dd1bb8f04700066,44,15,14,20378,,,0,"Immutable user source: v3 test_inherits

If the keystone user source is immutable, such as an LDAP
active directory implementation, tempest tests that try
to create or delete a user will fail. Instead of failing,
we would like them to skip. This change uses a testtools
decorator to avoid unnecessary modifications and allow those tests
to skip.

Parital-Bug: #1777047

Change-Id: I1d8105c24eb9b20e563de962f9e4d5776937126a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/631530/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_inherits.py'],1,bc0bc8d3525a26e7018077331e8f48d5837f255b,bug/1777047,"import testtoolsfrom tempest import configCONF = config.CONF force_tenant_isolation = False cls.u_name = data_utils.rand_name('user-') cls.u_desc = '%s description' % cls.u_name cls.u_email = '%s@testmail.tm' % cls.u_name cls.u_password = data_utils.rand_name('pass-') @testtools.skipIf(CONF.identity_feature_enabled.immutable_user_source, 'Skipped because environment has an ' 'immutable user source and solely ' 'provides read-only access to users.') def test_inherit_assign_list_check_revoke_roles_on_domains_user(self): # Create user self.user = self.users_client.create_user( name=self.u_name, description=self.u_desc, password=self.u_password, email=self.u_email, project_id=self.project['id'], domain_id=self.domain['id'])['user'] self.addCleanup(self.users_client.delete_user, self.user['id']) @testtools.skipIf(CONF.identity_feature_enabled.immutable_user_source, 'Skipped because environment has an ' 'immutable user source and solely ' 'provides read-only access to users.') def test_inherit_assign_check_revoke_roles_on_projects_user(self): # Create user self.user = self.users_client.create_user( name=self.u_name, description=self.u_desc, password=self.u_password, email=self.u_email, project_id=self.project['id'], domain_id=self.domain['id'])['user'] self.addCleanup(self.users_client.delete_user, self.user['id']) @testtools.skipIf(CONF.identity_feature_enabled.immutable_user_source, 'Skipped because environment has an ' 'immutable user source and solely ' 'provides read-only access to users.') def test_inherit_assign_list_revoke_user_roles_on_domain(self): # Create user self.user = self.users_client.create_user( name=self.u_name, description=self.u_desc, password=self.u_password, email=self.u_email, project_id=self.project['id'], domain_id=self.domain['id'])['user'] self.addCleanup(self.users_client.delete_user, self.user['id']) @testtools.skipIf(CONF.identity_feature_enabled.immutable_user_source, 'Skipped because environment has an ' 'immutable user source and solely ' 'provides read-only access to users.') def test_inherit_assign_list_revoke_user_roles_on_project_tree(self): # Create user self.user = self.users_client.create_user( name=self.u_name, description=self.u_desc, password=self.u_password, email=self.u_email, project_id=self.project['id'], domain_id=self.domain['id'])['user'] self.addCleanup(self.users_client.delete_user, self.user['id']) "," u_name = data_utils.rand_name('user-') u_desc = '%s description' % u_name u_email = '%s@testmail.tm' % u_name u_password = data_utils.rand_name('pass-') cls.user = cls.users_client.create_user( name=u_name, description=u_desc, password=u_password, email=u_email, project_id=cls.project['id'], domain_id=cls.domain['id'])['user'] cls.addClassResourceCleanup(cls.users_client.delete_user, cls.user['id']) def test_inherit_assign_list_check_revoke_roles_on_domains_user(self): def test_inherit_assign_check_revoke_roles_on_projects_user(self): def test_inherit_assign_list_revoke_user_roles_on_domain(self): def test_inherit_assign_list_revoke_user_roles_on_project_tree(self):",60,10
openstack%2Ftempest~master~I6d8c63a62416b35e9d203cbeabc9868aa6a95f44,openstack/tempest,master,I6d8c63a62416b35e9d203cbeabc9868aa6a95f44,Move tempest-tox-plugin-sanity-check to Bionic,MERGED,2019-03-07 17:47:34.000000000,2019-03-16 05:27:36.000000000,2019-03-16 05:27:36.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-03-07 17:47:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/28edda63f2d0b5bf5babfb6e8d21e06c5bb3584e', 'message': 'Move tempest-tox-plugin-sanity-check to Bionic\n\nThis commit makes tempest-tox-plugin-sanity-check job\nto run on Bionic. This job only run on master Tempest gate\nso no need to worry about its xenial version.\n\nChange-Id: I6d8c63a62416b35e9d203cbeabc9868aa6a95f44\n'}]",0,641740,28edda63f2d0b5bf5babfb6e8d21e06c5bb3584e,13,5,1,8556,,,0,"Move tempest-tox-plugin-sanity-check to Bionic

This commit makes tempest-tox-plugin-sanity-check job
to run on Bionic. This job only run on master Tempest gate
so no need to worry about its xenial version.

Change-Id: I6d8c63a62416b35e9d203cbeabc9868aa6a95f44
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/641740/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,28edda63f2d0b5bf5babfb6e8d21e06c5bb3584e,legacy-job-bionic, nodeset: ubuntu-bionic, nodeset: ubuntu-xenial,1,1
openstack%2Fopenstack-ansible-os_nova~master~Id990633fb1816b3506778ccc0a9ae76bcb588e86,openstack/openstack-ansible-os_nova,master,Id990633fb1816b3506778ccc0a9ae76bcb588e86,Nova generates versioned_notifications but no one consume,MERGED,2018-11-13 02:50:45.000000000,2019-03-16 04:59:16.000000000,2019-03-16 04:59:16.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-11-13 02:50:45.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/822f19fc3d7f53e922ef8bffa30da36e924d9f41', 'message': ""Nova generates versioned_notifications but no one consume\n\nNova generates versioned_notifications but no one consume even\nceilometer. versioned_notification queues will continuously\nincrease if there is no consumer.\n\nhttps://docs.openstack.org/nova/latest/configuration/config.html#notifications\nhttps://docs.openstack.org/nova/latest/reference/notifications.html\nWe can set notification_format to 'unversioned'\nin the nova.conf\n\nChange-Id: Id990633fb1816b3506778ccc0a9ae76bcb588e86\nCloses-Bug: #1803019\n""}]",0,617426,822f19fc3d7f53e922ef8bffa30da36e924d9f41,9,5,1,22124,,,0,"Nova generates versioned_notifications but no one consume

Nova generates versioned_notifications but no one consume even
ceilometer. versioned_notification queues will continuously
increase if there is no consumer.

https://docs.openstack.org/nova/latest/configuration/config.html#notifications
https://docs.openstack.org/nova/latest/reference/notifications.html
We can set notification_format to 'unversioned'
in the nova.conf

Change-Id: Id990633fb1816b3506778ccc0a9ae76bcb588e86
Closes-Bug: #1803019
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/26/617426/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml']",2,822f19fc3d7f53e922ef8bffa30da36e924d9f41,bug/1803019,# Enable/Disable nova versioned notification nova_versioned_notification_enabled: False,,9,1
openstack%2Fopenstack-ansible-os_nova~master~I297c41734586be866627cffa36ab57882dbef8b3,openstack/openstack-ansible-os_nova,master,I297c41734586be866627cffa36ab57882dbef8b3,"missing document start ""---""",MERGED,2018-10-30 07:31:33.000000000,2019-03-16 04:59:15.000000000,2019-03-16 04:59:15.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-30 07:31:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6b259ed30a1a89b7ae3a545aaf459395032370cc', 'message': 'missing document start ""---""\n\nChange-Id: I297c41734586be866627cffa36ab57882dbef8b3\n'}]",0,614092,6b259ed30a1a89b7ae3a545aaf459395032370cc,9,2,1,21486,,,0,"missing document start ""---""

Change-Id: I297c41734586be866627cffa36ab57882dbef8b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/92/614092/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6b259ed30a1a89b7ae3a545aaf459395032370cc,,---,,1,0
openstack%2Fnova~master~I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,openstack/nova,master,I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,Avoid crashing while getting libvirt capabilities with unknown arch names,MERGED,2019-03-14 21:11:37.000000000,2019-03-16 04:48:13.000000000,2019-03-15 13:13:56.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 14826}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-14 21:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfcf874cabd97937b52817b6802447d8dc3473a2', 'message': ""Avoid crashing while getting libvirt capabilities with unknown arch names\n\nIn _get_instance_capabilities() we get a list of host capabilities and then\nbuild a list of arches supported by the virt type of an instance to arrive\nat the list of possibilities for the instance. We check each of those\nagainst our enum, but fail to gracefully skip unsupported values should we\nencounter one.\n\nThis patch makes that graceful, and also introduces an unsupported arch to\nthe test stub to make sure we always skip it. Note that we do not warn\nbecause this happens once per instance in a periodic task, and since the\nsituation is caused by a (somewhat permanent) mismatch of libvirt and\nnova version support, isn't something that needs to be remedied by an\noperator.\n\nChange-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4\n""}, {'number': 2, 'created': '2019-03-14 21:14:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71df650d0a390d2b6b19928db4379e723e9f5cde', 'message': ""Avoid crashing while getting libvirt capabilities with unknown arch names\n\nIn _get_instance_capabilities() we get a list of host capabilities and then\nbuild a list of arches supported by the virt type of an instance to arrive\nat the list of possibilities for the instance. We check each of those\nagainst our enum, but fail to gracefully skip unsupported values should we\nencounter one.\n\nThis patch makes that graceful, and also introduces an unsupported arch to\nthe test stub to make sure we always skip it. Note that we do not warn\nbecause this happens once per instance in a periodic task, and since the\nsituation is caused by a (somewhat permanent) mismatch of libvirt and\nnova version support, isn't something that needs to be remedied by an\noperator.\n\nCloses-Bug: #1820125\nChange-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4\n""}]",3,643458,71df650d0a390d2b6b19928db4379e723e9f5cde,29,13,2,4393,,,0,"Avoid crashing while getting libvirt capabilities with unknown arch names

In _get_instance_capabilities() we get a list of host capabilities and then
build a list of arches supported by the virt type of an instance to arrive
at the list of possibilities for the instance. We check each of those
against our enum, but fail to gracefully skip unsupported values should we
encounter one.

This patch makes that graceful, and also introduces an unsupported arch to
the test stub to make sure we always skip it. Note that we do not warn
because this happens once per instance in a periodic task, and since the
situation is caused by a (somewhat permanent) mismatch of libvirt and
nova version support, isn't something that needs to be remedied by an
operator.

Closes-Bug: #1820125
Change-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/643458/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,bfcf874cabd97937b52817b6802447d8dc3473a2,bug/1820125, # Include one that is not known to nova to make sure it # does not trip us up. guest = vconfig.LibvirtConfigGuest() guest.ostype = 'hvm' guest.arch = 'itanic' guest.domtype = ['kvm'] caps.guests.append(guest) ,,19,5
openstack%2Fcinder~stable%2Fqueens~Ibb39879a77c97c6a5d885461e93116810d16b265,openstack/cinder,stable/queens,Ibb39879a77c97c6a5d885461e93116810d16b265,VNX: update sg in cache,MERGED,2019-03-12 01:31:58.000000000,2019-03-16 04:47:46.000000000,2019-03-16 04:47:46.000000000,"[{'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-03-12 01:31:58.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'releasenotes/notes/vnx-update-sg-in-cache-3ecb673727bea79b.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29d42fa73448b3d23d9da4db7b2f407694681ece', 'message': ""VNX: update sg in cache\n\nWhen `destroy_empty_storage_group` is enabled, the sg will be deleted\nafter the last lun is detached from it. The issue is that the sg cache\nisn't updated, which caused the failure of subsequent attaching volumes\nto the same host because the sg in the cache will be used directly which\ndoesn't exist any more.\n\nThe fix is updating the sg with poll after deleting it. This doesn't\ndelete the sg from cache explicitly but makes sure the sg in cache with\nlatest status `not-exist`. Subsequent attaching will create the sg if it\nis `not-exist`.\n\nCloses-bug: #1817385\nChange-Id: Ibb39879a77c97c6a5d885461e93116810d16b265\n(cherry picked from commit eefd8302b3a01fd5cff0169b6eca0588975ff244)\n(cherry picked from commit 1f57f502c893a840ee5021fbca36ae95eed50e73)\n""}]",0,642613,29d42fa73448b3d23d9da4db7b2f407694681ece,20,16,1,18742,,,0,"VNX: update sg in cache

When `destroy_empty_storage_group` is enabled, the sg will be deleted
after the last lun is detached from it. The issue is that the sg cache
isn't updated, which caused the failure of subsequent attaching volumes
to the same host because the sg in the cache will be used directly which
doesn't exist any more.

The fix is updating the sg with poll after deleting it. This doesn't
delete the sg from cache explicitly but makes sure the sg in cache with
latest status `not-exist`. Subsequent attaching will create the sg if it
is `not-exist`.

Closes-bug: #1817385
Change-Id: Ibb39879a77c97c6a5d885461e93116810d16b265
(cherry picked from commit eefd8302b3a01fd5cff0169b6eca0588975ff244)
(cherry picked from commit 1f57f502c893a840ee5021fbca36ae95eed50e73)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/642613/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'releasenotes/notes/vnx-update-sg-in-cache-3ecb673727bea79b.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py']",4,29d42fa73448b3d23d9da4db7b2f407694681ece,bug/1817385, 11.0.2 - Fix bug https://bugs.launchpad.net/cinder/+bug/1817385 to make sure sg can be created again after it was destroyed under `destroy_empty_stroage_group` setting to `True` VERSION = '11.00.02', VERSION = '11.00.01',20,1
openstack%2Fopenstack-ansible-os_nova~master~I7a39a03bf1bf959c650e4454bcb32f8c0c792619,openstack/openstack-ansible-os_nova,master,I7a39a03bf1bf959c650e4454bcb32f8c0c792619,"If nova is installed on arm64 with active KVM, default to that.",MERGED,2018-12-05 14:41:17.000000000,2019-03-16 04:42:27.000000000,2019-03-16 04:42:27.000000000,"[{'_account_id': 7353}, {'_account_id': 16363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 14:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/16daf5544754ea9751c4080e3ab898dcfadd7b8b', 'message': ""If nova is installed on arm64 with active KVM, default to that.\n\nThere are problems using aarch64 booting UEFI with bare QEMU at the\nmoment, but if run under KVM it works well with a 4.15.0 kernel.\n\nTested with the current Ubuntu Bionic cloud image.  The Cirros 0.4.0\narm64 image has a 4.4.0 kernel which doesn't receive hardware\ninformation from UEFI and panics when it cannot find an interrupt\ncontroller, but without logging anything to console because it hasn't\ndetected the serial port either.\n\nChange-Id: I7a39a03bf1bf959c650e4454bcb32f8c0c792619\n""}, {'number': 2, 'created': '2019-01-03 09:37:57.000000000', 'files': ['tasks/nova_virt_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/76c982d1b36042a3aaf53b32245a5dd164bb4b74', 'message': ""If nova is installed on arm64 with active KVM, default to that.\n\nThere are problems using aarch64 booting UEFI with bare QEMU at the\nmoment, but if run under KVM it works well with a 4.15.0 kernel.\n\nTested with the current Ubuntu Bionic cloud image.  The Cirros 0.4.0\narm64 image has a 4.4.0 kernel which doesn't receive hardware\ninformation from UEFI and panics when it cannot find an interrupt\ncontroller, but without logging anything to console because it hasn't\ndetected the serial port either.\n\nChange-Id: I7a39a03bf1bf959c650e4454bcb32f8c0c792619\n""}]",1,622981,76c982d1b36042a3aaf53b32245a5dd164bb4b74,13,3,2,29574,,,0,"If nova is installed on arm64 with active KVM, default to that.

There are problems using aarch64 booting UEFI with bare QEMU at the
moment, but if run under KVM it works well with a 4.15.0 kernel.

Tested with the current Ubuntu Bionic cloud image.  The Cirros 0.4.0
arm64 image has a 4.4.0 kernel which doesn't receive hardware
information from UEFI and panics when it cannot find an interrupt
controller, but without logging anything to console because it hasn't
detected the serial port either.

Change-Id: I7a39a03bf1bf959c650e4454bcb32f8c0c792619
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/81/622981/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_virt_detect.yml'],1,16daf5544754ea9751c4080e3ab898dcfadd7b8b,arm64-kvm,- name: Check for existence of KVM node stat: path=/dev/kvm register: dev_kvm or (dev_kvm.stat.ischr is defined and dev_kvm.stat.ischr and ansible_architecture == 'aarch64'),,6,0
openstack%2Fwatcher~stable%2Frocky~I9fe992be8f54de51f0c8e0a9fcf7880c68360929,openstack/watcher,stable/rocky,I9fe992be8f54de51f0c8e0a9fcf7880c68360929,Access to action's uuid by key,MERGED,2019-03-15 06:30:13.000000000,2019-03-16 04:23:08.000000000,2019-03-16 04:23:08.000000000,"[{'_account_id': 9373}, {'_account_id': 13323}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-03-15 06:30:13.000000000', 'files': ['watcher/decision_engine/planner/workload_stabilization.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d226c5d0fb3713c73f523afbc274fe9dbd6116af', 'message': ""Access to action's uuid by key\n\nChange-Id: I9fe992be8f54de51f0c8e0a9fcf7880c68360929\nCloses-Bug: #1818962\n(cherry picked from commit e830d3793ec21b0d36e22033237cfa81ce35993c)\n""}]",0,643513,d226c5d0fb3713c73f523afbc274fe9dbd6116af,10,5,1,9373,,,0,"Access to action's uuid by key

Change-Id: I9fe992be8f54de51f0c8e0a9fcf7880c68360929
Closes-Bug: #1818962
(cherry picked from commit e830d3793ec21b0d36e22033237cfa81ce35993c)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/13/643513/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/planner/workload_stabilization.py'],1,d226c5d0fb3713c73f523afbc274fe9dbd6116af,bug/1818962-stable/rocky," self._mapping(resource_action_map, host_name, action['uuid'],"," self._mapping(resource_action_map, host_name, action.uuid,",1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I2b60f713ef94af587fee4c32a1e45e016a1209f5,openstack/openstack-ansible-rabbitmq_server,master,I2b60f713ef94af587fee4c32a1e45e016a1209f5,Trivial: Fix the pep8 warning,MERGED,2018-11-08 11:50:30.000000000,2019-03-16 04:09:43.000000000,2019-03-16 04:09:43.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-08 11:50:30.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/dce5f33a3c65712ec93afbb6a10573f0c4cd37f3', 'message': 'Trivial: Fix the pep8 warning\n\nThe yaml should start with ""---""\n\nChange-Id: I2b60f713ef94af587fee4c32a1e45e016a1209f5\n'}]",0,616520,dce5f33a3c65712ec93afbb6a10573f0c4cd37f3,6,2,1,17130,,,0,"Trivial: Fix the pep8 warning

The yaml should start with ""---""

Change-Id: I2b60f713ef94af587fee4c32a1e45e016a1209f5
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/20/616520/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,dce5f33a3c65712ec93afbb6a10573f0c4cd37f3,pep8,---,,1,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~I8e40c7a749817f11d1773d3f6ab2c34adf049104,openstack/openstack-ansible-rabbitmq_server,master,I8e40c7a749817f11d1773d3f6ab2c34adf049104,Add bugs url link to README.rst,MERGED,2019-01-03 02:23:11.000000000,2019-03-16 04:07:57.000000000,2019-03-16 04:07:57.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-03 02:23:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f28a798d137ee9e60c5fccb22bb70e6d857b34f9', 'message': 'Add bugs url link to README.rst\n\nChange-Id: I8e40c7a749817f11d1773d3f6ab2c34adf049104\n'}]",0,628089,f28a798d137ee9e60c5fccb22bb70e6d857b34f9,6,2,1,29423,,,0,"Add bugs url link to README.rst

Change-Id: I8e40c7a749817f11d1773d3f6ab2c34adf049104
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/89/628089/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f28a798d137ee9e60c5fccb22bb70e6d857b34f9,, https://launchpad.net/openstack-ansible The project bug tracker is located at: https://bugs.launchpad.net/openstack-ansible/, https://launchpad.net/openstack-ansible/,4,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Iedbb459a5d17f16bbb204b0b8e989ae84c77f8a6,openstack/openstack-ansible-rabbitmq_server,master,Iedbb459a5d17f16bbb204b0b8e989ae84c77f8a6,Introducing the new override rabbitmq_memory_high_watermark,MERGED,2019-03-11 15:38:32.000000000,2019-03-16 04:07:56.000000000,2019-03-16 04:07:56.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-11 15:38:32.000000000', 'files': ['releasenotes/notes/new-override-rabbitmq_memory_high_watermark-1d12effe59153605.yaml', 'templates/rabbitmq.config.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6f5946d2cc38da6105fba596edfb604d90de84b4', 'message': 'Introducing the new override rabbitmq_memory_high_watermark\n\nThe override rabbitmq_memory_high_watermark can be used to\nalter the overall memory consumption of rabbitMQ and more\nimportantly define when the garbage collection (gc) is happening.\nThe old default value of 0.4 can lead up to 80% memory usage\nduring gc which can lead to OOM scenarios.\nThe new default value is set to 0.2, lowering the maximum memory\nusage to 40%\n\nChange-Id: Iedbb459a5d17f16bbb204b0b8e989ae84c77f8a6\n'}]",0,642499,6f5946d2cc38da6105fba596edfb604d90de84b4,8,4,1,14552,,,0,"Introducing the new override rabbitmq_memory_high_watermark

The override rabbitmq_memory_high_watermark can be used to
alter the overall memory consumption of rabbitMQ and more
importantly define when the garbage collection (gc) is happening.
The old default value of 0.4 can lead up to 80% memory usage
during gc which can lead to OOM scenarios.
The new default value is set to 0.2, lowering the maximum memory
usage to 40%

Change-Id: Iedbb459a5d17f16bbb204b0b8e989ae84c77f8a6
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/99/642499/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/new-override-rabbitmq_memory_high_watermark-1d12effe59153605.yaml', 'templates/rabbitmq.config.j2', 'defaults/main.yml']",3,6f5946d2cc38da6105fba596edfb604d90de84b4,high-watermark,# Limit memory consumption of the erlang VM rabbitmq_memory_high_watermark: 0.2 ,,23,0
openstack%2Fmanila~master~I488889735cb698b9867e9b335549ff0ffd8468f2,openstack/manila,master,I488889735cb698b9867e9b335549ff0ffd8468f2,Replacing the HTTP protocol with HTTPS,MERGED,2019-01-13 07:32:55.000000000,2019-03-16 03:51:17.000000000,2019-03-14 19:57:19.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-01-13 07:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e03839eb227ca6e0ad070f461117282003be5e95', 'message': 'Replacing the HTTP protocal with HTTPS\n\nChange-Id: I488889735cb698b9867e9b335549ff0ffd8468f2\n'}, {'number': 2, 'created': '2019-03-14 17:33:42.000000000', 'files': ['doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/42e6eedf52165d01fef1d5797f9204660af388ac', 'message': 'Replacing the HTTP protocol with HTTPS\n\nChange-Id: I488889735cb698b9867e9b335549ff0ffd8468f2\n'}]",1,630489,42e6eedf52165d01fef1d5797f9204660af388ac,22,12,2,28563,,,0,"Replacing the HTTP protocol with HTTPS

Change-Id: I488889735cb698b9867e9b335549ff0ffd8468f2
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/630489/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,e03839eb227ca6e0ad070f461117282003be5e95,test,is https://review.openstack.org... _Development Workflow: https://docs.openstack.org/infra/manual/developers.html#development-workflow,is http://review.openstack.org... _Development Workflow: http://docs.openstack.org/infra/manual/developers.html#development-workflow,2,2
openstack%2Fcinder~stable%2Fqueens~Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8,openstack/cinder,stable/queens,Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8,Fix Snapshot object metadata loading,MERGED,2019-03-12 14:33:46.000000000,2019-03-16 03:44:48.000000000,2019-03-16 03:44:48.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-03-12 14:33:46.000000000', 'files': ['cinder/objects/snapshot.py', 'cinder/tests/unit/objects/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/24bdb9791a2168d7e5f230a47acee7df2a00f7cd', 'message': ""Fix Snapshot object metadata loading\n\nThe Snapshot object will fail to correctly load\nmetadata.  Initialize the object fully so that\nobj_what_changed() works as intended.\n\nThis prevents the error:\n   AttributeError: 'Snapshot' object has no\n   attribute '_obj_metadata'\n\nCloses-Bug: #1805790\n\nCo-Author: Gorka Eguileor <geguileo@redhat.com>\nChange-Id: Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8\n(cherry picked from commit 7ad0b0660c819cc7b2909b7e35cbe5a2fe0aef87)\n(cherry picked from commit bce461ba43dabea42d5c160ee6ff58298a62bd6c)\n""}]",0,642765,24bdb9791a2168d7e5f230a47acee7df2a00f7cd,31,21,1,4523,,,0,"Fix Snapshot object metadata loading

The Snapshot object will fail to correctly load
metadata.  Initialize the object fully so that
obj_what_changed() works as intended.

This prevents the error:
   AttributeError: 'Snapshot' object has no
   attribute '_obj_metadata'

Closes-Bug: #1805790

Co-Author: Gorka Eguileor <geguileo@redhat.com>
Change-Id: Idee4836ee3e4f9b9f4099e7a1a3d7a4bada3f7b8
(cherry picked from commit 7ad0b0660c819cc7b2909b7e35cbe5a2fe0aef87)
(cherry picked from commit bce461ba43dabea42d5c160ee6ff58298a62bd6c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/642765/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/snapshot.py', 'cinder/tests/unit/objects/test_snapshot.py']",2,24bdb9791a2168d7e5f230a47acee7df2a00f7cd,bug/1805790," self.assertEqual(snapshot.metadata, {})",,2,1
openstack%2Fcinder~master~I1a537490fe32f27f080fd828a0501a69a64ded83,openstack/cinder,master,I1a537490fe32f27f080fd828a0501a69a64ded83,PowerMax docs -  changing cinder tags to powermax,MERGED,2019-03-11 14:49:10.000000000,2019-03-16 03:44:45.000000000,2019-03-16 03:44:45.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-03-11 14:49:10.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbbb0c2060204bdf4f0c4a0725cfecbecace8d6d', 'message': 'PowerMax docs -  changing cinder tags to powermax\n\n1. Changing cinder tags from vmax to powermax in all ini examples.\n2. Changing metadata example to reflect the label changes.\n3. Some minor formatting changes also.\n\nChange-Id: I1a537490fe32f27f080fd828a0501a69a64ded83\n'}]",0,642480,cbbb0c2060204bdf4f0c4a0725cfecbecace8d6d,30,25,1,12670,,,0,"PowerMax docs -  changing cinder tags to powermax

1. Changing cinder tags from vmax to powermax in all ini examples.
2. Changing metadata example to reflect the label changes.
3. Some minor formatting changes also.

Change-Id: I1a537490fe32f27f080fd828a0501a69a64ded83
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/642480/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,cbbb0c2060204bdf4f0c4a0725cfecbecace8d6d,,"- Retyping attached(in-use) volume.. config-table:: :config-target: PowerMax cinder.volume.drivers.dell_emc.powermax.common .. note:: For security and backend uniformity, the use of the XML file for PowerMax backend configuration was deprecated in Queens and removed entirely in Rocky. .. note:: ``san_api_port`` is ``8443`` by default but can be changed if necessary. For the purposes of this documentation the default is assumed so the tag will not appear in any of the ``cinder.conf`` extracts below. .. note:: PowerMax ``PortGroups`` must be pre-configured to expose volumes managed by the array. Port groups can be supplied in the ``cinder.conf``, or can be specified as an extra spec ``storagetype:portgroupname`` on a volume type. The latter gives the user more control. When a dynamic masking view is created by the PowerMax driver, if there is no port group specified as an extra specification, the port group is chosen randomly from the PortGroup list, to evenly distribute load across the set of groups provided. .. note:: Service Level and workload can be added to the cinder.conf when the backend is the default case and there is no associated volume type. This not a recommended configuration as it is too restrictive. Workload is NONE for PowerMax and any All Flash with PowerMax OS (5978) or greater. +--------------------+----------------------------+---------+----------+ | PowerMax parameter | cinder.conf parameter | Default | Required | +====================+============================+=========+==========+ | ServiceLevel | powermax_service_level | None | No | +--------------------+----------------------------+---------+----------+ | Workload | powermax_workload | None | No | +--------------------+----------------------------+---------+----------+ Configure Block Storage in cinder.conf Add the following entries to ``/etc/cinder/cinder.conf``: .. code-block:: ini enabled_backends = CONF_GROUP_ISCSI, CONF_GROUP_FC [CONF_GROUP_ISCSI] volume_driver = cinder.volume.drivers.dell_emc.powermax.iscsi.PowerMaxISCSIDriver volume_backend_name = POWERMAX_ISCSI powermax_port_groups = [OS-ISCSI-PG] san_ip = 10.10.10.10 san_login = my_username san_password = my_password powermax_array = 000123456789 powermax_srp = SRP_1 [CONF_GROUP_FC] volume_driver = cinder.volume.drivers.dell_emc.powermax.fc.PowerMaxFCDriver volume_backend_name = POWERMAX_FC powermax_port_groups = [OS-FC-PG] san_ip = 10.10.10.10 san_login = my_username san_password = my_password powermax_array = 000123456789 powermax_srp = SRP_1 In this example, two back-end configuration groups are enabled: ``CONF_GROUP_ISCSI`` and ``CONF_GROUP_FC``. Each configuration group has a section describing unique parameters for connections, drivers and the ``volume_backend_name``. powermax_port_groups = [OS-ISCSI-PG] powermax_array = 000123456789 powermax_srp = SRP_1 powermax_srp = SRP_1 powermax_array = 000123456789 powermax_port_groups = [OS-ISCSI-PG] +------------------------------------+---------------------------------------------------------+ | Key | Value | +------------------------------------+---------------------------------------------------------+ | service_level | Gold | | is_compression_disabled | no | | powermax_cinder_driver_version | 3.2.0 | | identifier_name | OS-819470ab-a6d4-49cc-b4db-6f85e82822b7 | | openstack_release | 13.0.0.0b3.dev3 | | volume_id | 819470ab-a6d4-49cc-b4db-6f85e82822b7 | | storage_model | PowerMax_8000 | | successful_operation | delete | | default_sg_name | OS-DEFAULT_SRP-Gold-NONE-SG | | device_id | 01C03 | | unisphere_for_powermax_version | V9.0.0.9 | | workload | NONE | | openstack_version | 13.0.0 | | volume_updated_time | 2018-08-03 03:13:53 | | platform | Linux-4.4.0-127-generic-x86_64-with-Ubuntu-16.04-xenial | | python_version | 2.7.12 | | volume_size | 20 | | srp | DEFAULT_SRP | | openstack_name | 90_Test_Vol56 | | storage_firmware_version | 5978.143.144 | | serial_number | 000123456789 | +------------------------------------+---------------------------------------------------------+ correspond with the 'powermax_array' entry in the cinder.conf. powermax_srp = SRP_1 powermax_array = 000123456789 powermax_port_groups = [OS-FC-PG] $ cinder manage --name <new_volume_name> --volume-type <powermax_vol_type> \ $ cinder manage --name powermax_managed_volume --volume-type POWERMAX_ISCSI_DIAMOND \ $ cinder unmanage powermax_test_vol"," .. config-table:: :config-target: PowerMax cinder.volume.drivers.dell_emc.powermax.common .. note:: For security and backend uniformity, the use of the XML file for PowerMax backend configuration was deprecated in Queens and removed entirely in Rocky. .. note:: ``san_api_port`` is ``8443`` by default but can be changed if necessary. For the purposes of this documentation the default is assumed so the tag will not appear in any of the ``cinder.conf`` extracts below. .. note:: PowerMax ``PortGroups`` must be pre-configured to expose volumes managed by the array. Port groups can be supplied in the ``cinder.conf``, or can be specified as an extra spec ``storagetype:portgroupname`` on a volume type. The latter gives the user more control. When a dynamic masking view is created by the PowerMax driver, if there is no port group specified as an extra specification, the port group is chosen randomly from the PortGroup list, to evenly distribute load across the set of groups provided. .. note:: Service Level and workload can be added to the cinder.conf when the backend is the default case and there is no associated volume type. This not a recommended configuration as it is too restrictive. Workload is NONE for PowerMax and any All Flash with PowerMax OS (5978) or greater. +--------------------+------------------------+---------+----------+ | PowerMAX parameter | cinder.conf parameter | Default | Required | +====================+========================+=========+==========+ | ServiceLevel | vmax_service_level | None | No | +--------------------+------------------------+---------+----------+ | Workload | vmax_workload | None | No | +--------------------+------------------------+---------+----------+ Configure Block Storage in cinder.conf Add the following entries to ``/etc/cinder/cinder.conf``: .. code-block:: ini enabled_backends = CONF_GROUP_ISCSI, CONF_GROUP_FC [CONF_GROUP_ISCSI] volume_driver = cinder.volume.drivers.dell_emc.powermax.iscsi.PowerMaxISCSIDriver volume_backend_name = POWERMAX_ISCSI vmax_port_groups = [OS-ISCSI-PG] san_ip = 10.10.10.10 san_login = my_username san_password = my_password vmax_array = 000123456789 vmax_srp = SRP_1 [CONF_GROUP_FC] volume_driver = cinder.volume.drivers.dell_emc.powermax.fc.PowerMaxFCDriver volume_backend_name = POWERMAX_FC vmax_port_groups = [OS-FC-PG] san_ip = 10.10.10.10 san_login = my_username san_password = my_password vmax_array = 000123456789 vmax_srp = SRP_1 In this example, two back-end configuration groups are enabled: ``CONF_GROUP_ISCSI`` and ``CONF_GROUP_FC``. Each configuration group has a section describing unique parameters for connections, drivers and the ``volume_backend_name``. vmax_port_groups = [OS-ISCSI-PG] vmax_array = 000123456789 vmax_srp = SRP_1 vmax_srp = SRP_1 vmax_array = 000123456789 vmax_port_groups = [OS-ISCSI-PG] +-------------------------+---------------------------------------------------------+ | Key | Value | +-------------------------+---------------------------------------------------------+ | service_level | Gold | | is_compression_disabled | no | | vmax_driver_version | 3.2.0 | | identifier_name | OS-819470ab-a6d4-49cc-b4db-6f85e82822b7 | | openstack_release | 13.0.0.0b3.dev3 | | volume_id | 819470ab-a6d4-49cc-b4db-6f85e82822b7 | | vmax_model | PowerMax_8000 | | operation | delete | | default_sg_name | OS-DEFAULT_SRP-Gold-NONE-SG | | device_id | 01C03 | | unisphere_version | V9.0.0.9 | | workload | NONE | | openstack_version | 13.0.0 | | volume_updated_time | 2018-08-03 03:13:53 | | platform | Linux-4.4.0-127-generic-x86_64-with-Ubuntu-16.04-xenial | | python_version | 2.7.12 | | volume_size | 20 | | srp | DEFAULT_SRP | | openstack_name | 91_Test_Vol56 | | vmax_firmware_version | 5978.143.144 | | serial_number | 000123456789 | +-------------------------+---------------------------------------------------------+ correspond with the 'vmax_array' entry in the cinder.conf. vmax_srp = SRP_1 vmax_array = 000123456789 vmax_port_groups = [OS-FC-PG] $ cinder manage --name <new_volume_name> --volume-type <vmax_vol_type> \ $ cinder manage --name vmax_managed_volume --volume-type POWERMAX_ISCSI_DIAMOND \ $ cinder unmanage vmax_test_vol",117,112
openstack%2Fcinder~stable%2Fpike~I3f72481442436ddf78c10ab53c161663b05a330a,openstack/cinder,stable/pike,I3f72481442436ddf78c10ab53c161663b05a330a,VNX Driver: delete_hba() instead of remove_hba(),MERGED,2019-02-11 20:19:48.000000000,2019-03-16 03:44:42.000000000,2019-03-16 03:44:42.000000000,"[{'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-02-11 20:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43a08119401f81dc76e6d4490798692e3c545885', 'message': ""VNX Driver: delete_hba() instead of remove_hba()\n\nThe storops drivers doesn't have a remove_hba() function,\nit's called delete_hba(). The confusion comes from the fact\nthat storops uses -removeHBA argument when calling\nnaviseccli.\n\nChange-Id: I3f72481442436ddf78c10ab53c161663b05a330a\nCloses-bug: #1813525\n(cherry picked from commit 1c1bcf6b023b02f2a8e4a5bdfc32fb28ceed3a93)\n""}, {'number': 2, 'created': '2019-02-28 17:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42edfa274aade095eb26908cd43fef3b80748a05', 'message': ""VNX Driver: delete_hba() instead of remove_hba()\n\nThe storops drivers doesn't have a remove_hba() function,\nit's called delete_hba(). The confusion comes from the fact\nthat storops uses -removeHBA argument when calling\nnaviseccli.\n\nChange-Id: I3f72481442436ddf78c10ab53c161663b05a330a\nCloses-bug: #1813525\n(cherry picked from commit 6145f8583ad1b1b5c631534b1dc05d8bf89c330e)\n""}, {'number': 3, 'created': '2019-03-09 03:21:00.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/610833652bbb510200c711a5a565aa0a70afab3c', 'message': ""VNX Driver: delete_hba() instead of remove_hba()\n\nThe storops drivers doesn't have a remove_hba() function,\nit's called delete_hba(). The confusion comes from the fact\nthat storops uses -removeHBA argument when calling\nnaviseccli.\n\nChange-Id: I3f72481442436ddf78c10ab53c161663b05a330a\nCloses-bug: #1813525\n(cherry picked from commit 6145f8583ad1b1b5c631534b1dc05d8bf89c330e)\n(cherry picked from commit acca9dbc7cc990ea8f65b5d96233fa8b8ad9cfe4)\n(cherry picked from commit 5efe103c06e11654dada3877b1389618c48041ee)\n""}]",0,636214,610833652bbb510200c711a5a565aa0a70afab3c,46,21,3,27419,,,0,"VNX Driver: delete_hba() instead of remove_hba()

The storops drivers doesn't have a remove_hba() function,
it's called delete_hba(). The confusion comes from the fact
that storops uses -removeHBA argument when calling
naviseccli.

Change-Id: I3f72481442436ddf78c10ab53c161663b05a330a
Closes-bug: #1813525
(cherry picked from commit 6145f8583ad1b1b5c631534b1dc05d8bf89c330e)
(cherry picked from commit acca9dbc7cc990ea8f65b5d96233fa8b8ad9cfe4)
(cherry picked from commit 5efe103c06e11654dada3877b1389618c48041ee)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/636214/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",3,43a08119401f81dc76e6d4490798692e3c545885,bug/1813525, try: self.vnx.delete_hba(initiator_uid) except AttributeError: self.vnx.remove_hba(initiator_uid), self.vnx.remove_hba(initiator_uid),15,6
openstack%2Fcinder~master~Ic9e14429f1f5958725ab661b7d6639fc1ffae84a,openstack/cinder,master,Ic9e14429f1f5958725ab661b7d6639fc1ffae84a,Refactor for Veritas iSCSI driver.,MERGED,2018-10-19 07:10:10.000000000,2019-03-16 03:44:40.000000000,2019-03-16 03:44:40.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25838}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29854}]","[{'number': 1, 'created': '2018-10-19 07:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c16c86701d9eaaafc7033add698e89ccbe0b403', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 2, 'created': '2018-10-19 10:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6116ec28c22c3daa982d88820be91d236dbe0d2f', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 3, 'created': '2018-10-25 10:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd67c88f3aa7e0b32097dd69c9e83d41b4d3d104', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nRemoved unrequired API calls as they are no more supported\nby backend. The logic for check_for_setup_error method is\nmodified, now volume creation is allowed even when a single\ntarget is online at backend.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 4, 'created': '2018-10-26 04:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65006c174aec4bd65891a3f8e7fb9a7be1148ba7', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nRemoved unrequired API calls as they are no more supported\nby backend. The logic for check_for_setup_error method is\nmodified, now volume creation is allowed even when a single\ntarget is online at backend.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 5, 'created': '2018-11-16 15:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e4acc01807758fde29d4383be6e9fb4a5b5e998', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nRemoved unrequired API calls as they are no more supported\nby backend. The logic for check_for_setup_error method is\nmodified, now volume creation is allowed even when a single\ntarget is online at backend.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 6, 'created': '2018-11-19 10:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1afec342af60e6ce88f08f549927a6b7bac35b1', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nRemoved unrequired API calls as they are no more supported\nby backend. The logic for check_for_setup_error method is\nmodified, now volume creation is allowed even when a single\ntarget is online at backend.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 7, 'created': '2018-12-10 06:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb29930358e5f2e51500313654e91940a7a5a844', 'message': 'Code refactoring for existing veritas access cinder iSCSI driver.\n\nRemoved unrequired API calls as they are no longer supported\nby the backend. The logic for check_for_setup_error method is\nmodified, now volume creation is allowed even when a single\ntarget is online at backend.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}, {'number': 8, 'created': '2018-12-20 10:55:18.000000000', 'files': ['cinder/tests/unit/volume/drivers/veritas_access/test_veritas_iscsi.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0555c1bfa887d1e7e1bf3099f579572ad221ffe9', 'message': 'Refactor for Veritas iSCSI driver.\n\nRemoved unrequired API calls as they are no longer supported\nby the backend. The logic for check_for_setup_error method is\nmodified, now volume creation is allowed even when a single\ntarget is online at backend.\n\nChange-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a\n'}]",15,611791,0555c1bfa887d1e7e1bf3099f579572ad221ffe9,281,47,8,25838,,,0,"Refactor for Veritas iSCSI driver.

Removed unrequired API calls as they are no longer supported
by the backend. The logic for check_for_setup_error method is
modified, now volume creation is allowed even when a single
target is online at backend.

Change-Id: Ic9e14429f1f5958725ab661b7d6639fc1ffae84a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/611791/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/veritas_access/veritas_iscsi.py'],1,6c16c86701d9eaaafc7033add698e89ccbe0b403,," self._target_list_status = '/iscsi/target/full_list' self.backend_name = (self.configuration.safe_get('volume_' 'backend_name') or 'ACCESS_ISCSI') if not self._vrts_get_online_targets(target_list): message = ('ACCESSIscsiDriver setup error as ' 'no target is online') raise exception.VolumeBackendAPIException(message=message) def _vrts_get_online_targets(self, available_targets): """"""Out of available targets get list of targets which are online."""""" online_targets = [] path = self._target_list_status provider = '%s:%s' % (self._va_ip, self._port) data = {} target_status_list = self._access_api(self.session, provider, path, json.dumps(data), 'GET') target_status_output = eval(target_status_list['output']) for target in available_targets: if target['name'] in target_status_output.keys(): if target_status_output[target['name']] == 'ONLINE': online_targets.append(target) return online_targets if tail == self._fs_list_str:"," self._update_object = '/objecttags' self.backend_name = (self.configuration.safe_get('volume_backend_name') or 'ACCESS_ISCSI') path = self._target_status provider = '%s:%s' % (self._va_ip, self._port) for target in target_list: target_name = target['name'] data = {} data[""name""] = target_name output = self._access_api(self.session, provider, path, json.dumps(data), 'GET') target_status = output['output']['header']['messages'][0] if 'ONLINE' not in target_status: message = (_('ACCESSIscsiDriver setup error as %s ' 'target is offline') % target_name) raise exception.VolumeBackendAPIException(message=message) data2 = {""type"": ""LUN"", ""key"": ""cinder_iscsi""} data2[""id""] = lun_name data2[""value""] = 'cinder_lun' path = self._update_object result = self._access_api(self.session, provider, path, json.dumps(data2), 'POST') data2 = {""type"": ""LUN"", ""key"": ""cinder_iscsi""} data2[""id""] = lun_name path = self._update_object result = self._access_api(self.session, provider, path, json.dumps(data2), 'DELETE') data2 = {""type"": ""LUN_SNAP"", ""key"": ""cinder_iscsi""} data2[""id""] = snap_name data2[""value""] = 'cinder_lun_snap' path = self._update_object result = self._access_api(self.session, provider, path, json.dumps(data2), 'POST') data2 = {""type"": ""LUN_SNAP"", ""key"": ""cinder_iscsi""} data2[""id""] = snap_name path = self._update_object result = self._access_api(self.session, provider, path, json.dumps(data2), 'DELETE') data2 = {""type"": ""LUN"", ""key"": ""cinder_iscsi""} data2[""id""] = cloned_lun_name data2[""value""] = 'cinder_lun' path = self._update_object result = self._access_api(self.session, provider, path, json.dumps(data2), 'POST') data2 = {""type"": ""LUN"", ""key"": ""cinder_iscsi""} data2[""id""] = lun_name data2[""value""] = 'cinder_lun' path = self._update_object result = self._access_api(self.session, provider, path, json.dumps(data2), 'POST') if tail == self._fs_list_str or tail == self._update_object: if path == self._update_object: return True",27,64
openstack%2Fcinder~master~Iea8f445052be4882fb6450d939774eeb7124384e,openstack/cinder,master,Iea8f445052be4882fb6450d939774eeb7124384e,PowerMax driver - performance improvements,MERGED,2019-02-12 17:13:38.000000000,2019-03-16 03:44:37.000000000,2019-03-16 03:44:37.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26402}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-12 17:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94434e3ba237d4f8141ab95f3920cd22f7d49038', 'message': 'PowerMax driver - performance improvements\n\n1. Changing a payload parameter to in modifying storage group so that\na new volume does not have to be created on every operation.  This is\nespecially relevent as when we delete a volume we do not wait for the\ntracks to deallocate.  This volume (once deallocation is eventually\ncomplete) can be reused.\n2. Optimization on driver initialization to call method to determine\nwhether array is a powermax only once.\n\nChange-Id: Iea8f445052be4882fb6450d939774eeb7124384e\n'}, {'number': 2, 'created': '2019-02-12 17:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86e63082c2c1b1ac40384651e5037aa54614c305', 'message': 'PowerMax driver - performance improvements\n\n1. Changing a payload parameter to in modifying storage group so that\na new volume does not have to be created on every operation.  This is\nespecially relevent as when we delete a volume we do not wait for the\ntracks to deallocate.  This volume (once deallocation is eventually\ncomplete) can be reused.\n2. Optimization on driver initialization to call method to determine\nwhether array is a powermax only once.\n\nChange-Id: Iea8f445052be4882fb6450d939774eeb7124384e\n'}, {'number': 3, 'created': '2019-02-15 17:46:53.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d972bec8ab0ea9b1b038e71e3d39d0e1eceaf02', 'message': 'PowerMax driver - performance improvements\n\n1. Changing a payload parameter to in modifying storage group so that\na new volume does not have to be created on every operation.  This is\nespecially relevent as when we delete a volume we do not wait for the\ntracks to deallocate.  This volume (once deallocation is eventually\ncomplete) can be reused.\n2. Optimization on driver initialization to call method to determine\nwhether array is a powermax only once.\n\nChange-Id: Iea8f445052be4882fb6450d939774eeb7124384e\n'}]",0,636389,8d972bec8ab0ea9b1b038e71e3d39d0e1eceaf02,116,43,3,12670,,,0,"PowerMax driver - performance improvements

1. Changing a payload parameter to in modifying storage group so that
a new volume does not have to be created on every operation.  This is
especially relevent as when we delete a volume we do not wait for the
tracks to deallocate.  This volume (once deallocation is eventually
complete) can be reused.
2. Optimization on driver initialization to call method to determine
whether array is a powermax only once.

Change-Id: Iea8f445052be4882fb6450d939774eeb7124384e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/636389/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",9,94434e3ba237d4f8141ab95f3920cd22f7d49038,bp/powermax-storage-assisted-inuse-retype," def get_array_detail(self, array): array_details = self.get_array_detail(array) def get_slo_list(self, array, is_next_gen, array_model): :param is_next_gen: next generation flag :param array_model if not is_next_gen and ( any(array_model in x for x in def get_workload_settings(self, array, is_next_gen): :param is_next_gen: is next generation flag if is_next_gen: vmax_version = None system_info = self.get_array_detail(array) def get_array_model_info(self, array): """"""Get the PowerMax/VMAX model. :param array: the array serial number :return: the PowerMax/VMAX model """""" array_model = None is_next_gen = False system_info = self.get_array_detail(array) if system_info and system_info.get('model'): array_model = system_info.get('model') if system_info: ucode_version = system_info['ucode'].split('.')[0] if ucode_version >= UCODE_5978: is_next_gen = True return array_model, is_next_gen ""create_new_volumes"": ""False"","," def get_array_serial(self, array): array_details = self.get_array_serial(array) def get_slo_list(self, array): if not self.is_next_gen_array(array) and ( any(self.get_vmax_model(array) in x for x in def get_workload_settings(self, array): if self.is_next_gen_array(array): vmax_version = '' system_uri = (""/%(version)s/system/symmetrix/%(array)s"" % { 'version': U4V_VERSION, 'array': array}) system_info = self._get_request(system_uri, SYSTEM)",147,66
openstack%2Fmonasca-api~master~Ie3ed0b3bcc181876f74bb3378ad8efd6a18ec382,openstack/monasca-api,master,Ie3ed0b3bcc181876f74bb3378ad8efd6a18ec382,cassandra cluster no load-balancing policy,ABANDONED,2019-03-14 06:59:55.000000000,2019-03-16 03:22:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-03-14 06:59:55.000000000', 'files': ['releasenotes/notes/add-cassandra-loadbalancing-policy-4d5d0e7e8064a870.yaml', 'monasca_api/conf/cassandra.py', 'monasca_api/common/repositories/cassandra/metrics_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dc4996475f265bbce480ac43bb2705c6371cad9b', 'message': 'cassandra cluster no load-balancing policy\n\nmonasca-api connect to cassandra cluster without\nload-balancing policy parameter.\nTask: 29958\nStory: 2005196\n\nChange-Id: Ie3ed0b3bcc181876f74bb3378ad8efd6a18ec382\n'}]",0,643234,dc4996475f265bbce480ac43bb2705c6371cad9b,9,3,1,29970,,,0,"cassandra cluster no load-balancing policy

monasca-api connect to cassandra cluster without
load-balancing policy parameter.
Task: 29958
Story: 2005196

Change-Id: Ie3ed0b3bcc181876f74bb3378ad8efd6a18ec382
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/34/643234/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-cassandra-loadbalancing-policy-4d5d0e7e8064a870.yaml', 'monasca_api/conf/cassandra.py', 'monasca_api/common/repositories/cassandra/metrics_repository.py']",3,dc4996475f265bbce480ac43bb2705c6371cad9b,re-fix-loadbalancing-bug,"from cassandra.cluster import DCAwareRoundRobinPolicy from cassandra.cluster import TokenAwarePolicy self.cluster = Cluster(self.conf.cassandra.contact_points, auth_provider=auth_provider, load_balancing_policy=TokenAwarePolicy( DCAwareRoundRobinPolicy( local_dc=self.conf.cassandra.local_data_center)), )"," self.cluster = Cluster(self.conf.cassandra.contact_points, auth_provider=auth_provider)",16,1
openstack%2Frequirements~master~I5dc9107abc06158e0b914c5c35ddd4b2a55b2604,openstack/requirements,master,I5dc9107abc06158e0b914c5c35ddd4b2a55b2604,Blacklist os-brick 2.8.0,MERGED,2019-03-13 14:54:12.000000000,2019-03-16 02:41:17.000000000,2019-03-16 02:41:17.000000000,"[{'_account_id': 7198}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 14:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e26a15efc737def266d95a8066a4725bf821219', 'message': ""Blacklist os-brick 2.8.0\n\nos-brick 2.8.0 included a rename [1] which it was since decided [2] to\nrevert [3]. We need to blacklist 2.8.0 so the new symbol name doesn't\nget picked up by anyone who will then be broken when upgrading to a\nsubsequent version that includes the revert.\n\n[1] I1c99cdff5074180a09c315954c743b2bb0565f53\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2019-03-12.log.html#t2019-03-12T16:01:09\n[3] Ia1e119c16091bbf6ff79e0acea8c1a7c656d6dd1\n\nChange-Id: I5dc9107abc06158e0b914c5c35ddd4b2a55b2604\n""}, {'number': 2, 'created': '2019-03-15 23:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/738b32ba701d26760dacd1e3e7dca59452b04d08', 'message': ""Blacklist os-brick 2.8.0\n\nos-brick 2.8.0 included a rename [1] which it was since decided [2] to\nrevert [3]. We need to blacklist 2.8.0 so the new symbol name doesn't\nget picked up by anyone who will then be broken when upgrading to a\nsubsequent version that includes the revert.\n\n[1] I1c99cdff5074180a09c315954c743b2bb0565f53\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2019-03-12.log.html#t2019-03-12T16:01:09\n[3] Ia1e119c16091bbf6ff79e0acea8c1a7c656d6dd1\n\nChange-Id: I5dc9107abc06158e0b914c5c35ddd4b2a55b2604\n""}, {'number': 3, 'created': '2019-03-15 23:07:08.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/304ddc6a3ba4f3c7bba707f779584a593ae1e054', 'message': ""Blacklist os-brick 2.8.0\n\nos-brick 2.8.0 included a rename [1] which it was since decided [2] to\nrevert [3]. We need to blacklist 2.8.0 so the new symbol name doesn't\nget picked up by anyone who will then be broken when upgrading to a\nsubsequent version that includes the revert.\n\n[1] I1c99cdff5074180a09c315954c743b2bb0565f53\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2019-03-12.log.html#t2019-03-12T16:01:09\n[3] Ia1e119c16091bbf6ff79e0acea8c1a7c656d6dd1\n\nChange-Id: I5dc9107abc06158e0b914c5c35ddd4b2a55b2604\n""}]",0,643065,304ddc6a3ba4f3c7bba707f779584a593ae1e054,13,4,3,14070,,,0,"Blacklist os-brick 2.8.0

os-brick 2.8.0 included a rename [1] which it was since decided [2] to
revert [3]. We need to blacklist 2.8.0 so the new symbol name doesn't
get picked up by anyone who will then be broken when upgrading to a
subsequent version that includes the revert.

[1] I1c99cdff5074180a09c315954c743b2bb0565f53
[2] http://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2019-03-12.log.html#t2019-03-12T16:01:09
[3] Ia1e119c16091bbf6ff79e0acea8c1a7c656d6dd1

Change-Id: I5dc9107abc06158e0b914c5c35ddd4b2a55b2604
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/643065/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,3e26a15efc737def266d95a8066a4725bf821219,blacklist_os-brick_2.8.0,os-brick===2.7.0,os-brick===2.8.0,2,2
openstack%2Frequirements~master~Id7a5702ef4853ed5e19caeb8cf350220d919ac4e,openstack/requirements,master,Id7a5702ef4853ed5e19caeb8cf350220d919ac4e,update constraint for os-brick to new release 2.8.1,MERGED,2019-03-15 22:51:25.000000000,2019-03-16 02:41:16.000000000,2019-03-16 02:41:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 22:51:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/65755dc923d2381e76d5c63006d35983d7ed87c4', 'message': 'update constraint for os-brick to new release 2.8.1\n\nChange-Id: Id7a5702ef4853ed5e19caeb8cf350220d919ac4e\nmeta:version: 2.8.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jay S. Bryant <jsbryant@electronicjungle.net>\nmeta:release:Commit: Jay S. Bryant <jsbryant@electronicjungle.net>\nmeta:release:Change-Id: Ibb12599f776759a70476aa06e4f9e473a71bdb3f\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,643689,65755dc923d2381e76d5c63006d35983d7ed87c4,6,2,1,11131,,,0,"update constraint for os-brick to new release 2.8.1

Change-Id: Id7a5702ef4853ed5e19caeb8cf350220d919ac4e
meta:version: 2.8.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jay S. Bryant <jsbryant@electronicjungle.net>
meta:release:Commit: Jay S. Bryant <jsbryant@electronicjungle.net>
meta:release:Change-Id: Ibb12599f776759a70476aa06e4f9e473a71bdb3f
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/643689/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,65755dc923d2381e76d5c63006d35983d7ed87c4,new-release,os-brick===2.8.1,os-brick===2.8.0,1,1
openstack%2Fpatrole~master~Id20a1940a8679ec6222b9b9445631fc86e1af6d5,openstack/patrole,master,Id20a1940a8679ec6222b9b9445631fc86e1af6d5,Updates Launchpad references to Storyboard,MERGED,2018-06-18 20:40:48.000000000,2019-03-16 02:32:56.000000000,2019-03-16 02:32:55.000000000,"[{'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-06-18 20:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e5cf9c905c056ada48ba1b2fd09bdb148787f057', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 2, 'created': '2018-06-21 13:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/1d6215e3723bdfa6016a3f82ebddefbde2eb462c', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 3, 'created': '2018-06-21 13:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a5ea46d044402825e819e6f8c63d3178e9fd10af', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nAlso carries over recent documentation additions to\noverview.rst into the README.rst [0].\n\n[0] https://review.openstack.org/#/c/574094/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 4, 'created': '2018-07-04 05:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/f07e61b4166355a06d4108637d9b7d6a7a70dbbe', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\nThis patchset also makes the doc/source/overview.rst\nuse a relative symlink to point to the README.rst\n(just like Tempest) to reduce documentation maintenance\noverhead.\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 5, 'created': '2018-07-04 06:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7d1d8cd2000770a3a2cc73d7483627f7f17b3845', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\nThis patchset also makes the doc/source/overview.rst\nuse a relative symlink to point to the README.rst\n(just like Tempest) to reduce documentation maintenance\noverhead.\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 6, 'created': '2018-11-19 23:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7aaa94efa368f19e5659fd8bc4723307cdec3b9c', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\nThis patchset also makes the doc/source/overview.rst\nuse a relative symlink to point to the README.rst\n(just like Tempest) to reduce documentation maintenance\noverhead.\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 7, 'created': '2018-11-19 23:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d92dd85d20b19e2956cc8da8a7130dc6ca14a461', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\nThis patchset also makes the doc/source/overview.rst\nuse a relative symlink to point to the README.rst\n(just like Tempest) to reduce documentation maintenance\noverhead.\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 8, 'created': '2018-11-20 14:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/40f42bbec6eadfc74bc85bc7fc5b430ffd0686a7', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\nThis patchset also makes the doc/source/overview.rst\nuse a relative symlink to point to the README.rst\n(just like Tempest) to reduce documentation maintenance\noverhead.\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 9, 'created': '2018-11-20 14:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a2353b1b85d4a45fabcd675e3765a82fb7f1e687', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\n(#just like Tempest) to reduce documentation maintenance\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 10, 'created': '2019-03-12 01:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/03bb1c1d14cb96ce6ded0abf1660e56dcecaf881', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\n(#just like Tempest) to reduce documentation maintenance\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 11, 'created': '2019-03-15 14:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/1ab8e55f6cee04f0aab09af31be3cb6b9d9cfb2e', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\n(#just like Tempest) to reduce documentation maintenance\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}, {'number': 12, 'created': '2019-03-15 14:43:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/b2ebe4924ad389bf226ec4e1259471a17cff2a6d', 'message': 'Updates Launchpad references to Storyboard\n\nUpdates references to Launchpad to now point to Storyboard.\n\nPatrole moved to Stoyboard with patchset [0], which was\nrelatively straightforward since Patrole did not have much\nbaggage left in Launchpad.\n\n(#just like Tempest) to reduce documentation maintenance\n\n[0] https://review.openstack.org/#/c/575182/\n\nChange-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5\n'}]",5,576261,b2ebe4924ad389bf226ec4e1259471a17cff2a6d,37,5,12,23186,,,0,"Updates Launchpad references to Storyboard

Updates references to Launchpad to now point to Storyboard.

Patrole moved to Stoyboard with patchset [0], which was
relatively straightforward since Patrole did not have much
baggage left in Launchpad.

(#just like Tempest) to reduce documentation maintenance

[0] https://review.openstack.org/#/c/575182/

Change-Id: Id20a1940a8679ec6222b9b9445631fc86e1af6d5
",git fetch https://review.opendev.org/openstack/patrole refs/changes/61/576261/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e5cf9c905c056ada48ba1b2fd09bdb148787f057,storyboard,The documentation for Patrole is officially hosted at: https://docs.openstack.org/patrole/latest/ * *Self-testing*. Patrole should be self-testing. Storyboard ---------- Bugs and enhancements are tracked via Patrole's `Storyboard <https://storyboard.openstack.org/#!/project/1040>` page.,* *Self-tested*. Patrole should be self-tested.* Documentation: https://docs.openstack.org/patrole/latest/ * Bugs: https://bugs.launchpad.net/patrole ,9,4
openstack%2Freviewstats~master~I07f983cb70b5398727b0e92e17057b8cf72e281d,openstack/reviewstats,master,I07f983cb70b5398727b0e92e17057b8cf72e281d,Removes tabs from .sh files,MERGED,2017-05-08 19:20:34.000000000,2019-03-16 02:32:11.000000000,2019-03-16 02:32:11.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-08 19:20:34.000000000', 'files': ['genresults-reviewers.sh', 'genresults-openreviews.sh', 'genresults-reviews-for-bugs.sh'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/85a3e439c9b9ef7099ef197a9774c5aebdea34e1', 'message': 'Removes tabs from .sh files\n\nChange-Id: I07f983cb70b5398727b0e92e17057b8cf72e281d\n'}]",0,463395,85a3e439c9b9ef7099ef197a9774c5aebdea34e1,8,4,1,964,,,0,"Removes tabs from .sh files

Change-Id: I07f983cb70b5398727b0e92e17057b8cf72e281d
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/95/463395/1 && git format-patch -1 --stdout FETCH_HEAD,"['genresults-reviewers.sh', 'genresults-openreviews.sh', 'genresults-reviews-for-bugs.sh']",3,85a3e439c9b9ef7099ef197a9774c5aebdea34e1,no-tabs," EXTRA_ARGS=""-u ${GERRIT_USER}"" EXTRA_ARGS=""${EXTRA_ARGS} -k ${GERRIT_KEY}"" EXTRA_ARGS=""${EXTRA_ARGS} --server ${GERRIT_SERVER}"" date -u echo -n ""reviewstats HEAD: "" git rev-parse HEAD echo project_base=$(basename $(echo ${project} | cut -f1 -d'.')) (metadata && reviews_for_bugs -p ${project} ${EXTRA_ARGS}) > results/${project_base}-reviews-for-bugs.txt"," EXTRA_ARGS=""-u ${GERRIT_USER}"" EXTRA_ARGS=""${EXTRA_ARGS} -k ${GERRIT_KEY}"" EXTRA_ARGS=""${EXTRA_ARGS} --server ${GERRIT_SERVER}"" date -u echo -n ""reviewstats HEAD: "" git rev-parse HEAD echo project_base=$(basename $(echo ${project} | cut -f1 -d'.')) (metadata && reviews_for_bugs -p ${project} ${EXTRA_ARGS}) > results/${project_base}-reviews-for-bugs.txt",51,51
openstack%2Freviewstats~master~I082466f84d7b513216820fe232100117cd0da136,openstack/reviewstats,master,I082466f84d7b513216820fe232100117cd0da136,Remove tuskar projects,MERGED,2017-04-19 15:59:09.000000000,2019-03-16 02:30:04.000000000,2019-03-16 02:30:04.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7069}, {'_account_id': 10873}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-04-19 15:59:09.000000000', 'files': ['projects/tripleo.json'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/ac7d24cd703e8fd6265e8f5c41f9b6e42246584b', 'message': ""Remove tuskar projects\n\nTuskar has been retired for a very long time now.  There's no sense\nlooking for reviews or changes in these projects.\n\nChange-Id: I082466f84d7b513216820fe232100117cd0da136\n""}]",0,458148,ac7d24cd703e8fd6265e8f5c41f9b6e42246584b,10,6,1,6928,,,0,"Remove tuskar projects

Tuskar has been retired for a very long time now.  There's no sense
looking for reviews or changes in these projects.

Change-Id: I082466f84d7b513216820fe232100117cd0da136
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/48/458148/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/tripleo.json'],1,ac7d24cd703e8fd6265e8f5c41f9b6e42246584b,move-dib," ""openstack/tripleo-specs"" ""tripleo-quickstart"""," ""openstack/python-tuskarclient"", ""openstack/tripleo-specs"", ""openstack/tuskar"" ""tripleo-quickstart"", ""tuskar""",2,5
openstack%2Freviewstats~master~I100a0485593cf618ee734c965f0ed6c30ad87e86,openstack/reviewstats,master,I100a0485593cf618ee734c965f0ed6c30ad87e86,Move diskimage-builder to infra,MERGED,2017-04-19 15:59:09.000000000,2019-03-16 02:30:03.000000000,2019-03-16 02:30:03.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-04-19 15:59:09.000000000', 'files': ['projects/tripleo.json', 'projects/infra.json'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/392d0eecf87cb8db3dfe01674950a970cc9940c0', 'message': 'Move diskimage-builder to infra\n\nPer http://git.openstack.org/cgit/openstack/governance/commit/?id=44f092fac580a65037b5a4a406b0f11cb7d08eee\n\nChange-Id: I100a0485593cf618ee734c965f0ed6c30ad87e86\n'}]",0,458147,392d0eecf87cb8db3dfe01674950a970cc9940c0,8,3,1,6928,,,0,"Move diskimage-builder to infra

Per http://git.openstack.org/cgit/openstack/governance/commit/?id=44f092fac580a65037b5a4a406b0f11cb7d08eee

Change-Id: I100a0485593cf618ee734c965f0ed6c30ad87e86
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/47/458147/1 && git format-patch -1 --stdout FETCH_HEAD,"['projects/tripleo.json', 'projects/infra.json']",2,392d0eecf87cb8db3dfe01674950a970cc9940c0,move-dib," ""openstack/dib-utils"", ""openstack/diskimage-builder"",",,2,3
openstack%2Freviewstats~master~I045e982e587c9fb2c53a9cb587f944f09c2c5793,openstack/reviewstats,master,I045e982e587c9fb2c53a9cb587f944f09c2c5793,Add the ability to get reviewer stats across all stable branches,MERGED,2017-08-30 16:19:03.000000000,2019-03-16 02:29:34.000000000,2019-03-16 02:29:34.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-30 16:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/36d063a8fbea8830837b3f259f298f19dfe7aeaf', 'message': 'Add the ability to get reviewer stats across all stable branches\n\nThis adds a special ""all"" stable branch value handling for the\nreviewers entrypoint. This allows one to do something like:\n\n$ reviewers --stable all --days 90 --output ~/stable-all-reviewers-90\n\nIt would be nice to be able to specify a specific project, like nova,\nwith --stable but that is another change for another day.\n\nChange-Id: I045e982e587c9fb2c53a9cb587f944f09c2c5793\n'}, {'number': 2, 'created': '2017-08-30 17:58:43.000000000', 'files': ['reviewstats/utils.py', 'reviewstats/cmd/reviewers.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/73d434b28ce56c7bfd280750dec1f7e55e9d61b8', 'message': 'Add the ability to get reviewer stats across all stable branches\n\nThis adds a special ""all"" stable branch value handling for the\nreviewers entrypoint. This allows one to do something like:\n\n$ reviewers --stable all --days 90 --output ~/stable-all-reviewers-90\n\nIt would be nice to be able to specify a specific project, like nova,\nwith --stable but that is another change for another day.\n\nChange-Id: I045e982e587c9fb2c53a9cb587f944f09c2c5793\n'}]",3,499219,73d434b28ce56c7bfd280750dec1f7e55e9d61b8,15,6,2,6873,,,0,"Add the ability to get reviewer stats across all stable branches

This adds a special ""all"" stable branch value handling for the
reviewers entrypoint. This allows one to do something like:

$ reviewers --stable all --days 90 --output ~/stable-all-reviewers-90

It would be nice to be able to specify a specific project, like nova,
with --stable but that is another change for another day.

Change-Id: I045e982e587c9fb2c53a9cb587f944f09c2c5793
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/19/499219/1 && git format-patch -1 --stdout FETCH_HEAD,"['reviewstats/utils.py', 'reviewstats/cmd/reviewers.py', 'README.rst', 'projects/stable.json']",4,36d063a8fbea8830837b3f259f298f19dfe7aeaf,stable-all," ""openstack/nova"" ""core-team-gerrit-group"": ""nova-stable-maint"""," ""openstack/nova"", ""openstack/swift"", ""openstack/glance"", ""openstack/heat"", ""openstack/ceilometer"", ""openstack/keystone"", ""openstack/cinder"", ""openstack/neutron"", ""openstack/horizon"" ""core-team-gerrit-group"": ""stable-maint-core""",27,14
openstack%2Freviewstats~master~I9b1bcee5c22a912e4cbcc6a11363689f33ad4f59,openstack/reviewstats,master,I9b1bcee5c22a912e4cbcc6a11363689f33ad4f59,ironic subprojects are updated,MERGED,2017-08-29 15:56:37.000000000,2019-03-16 02:29:33.000000000,2019-03-16 02:29:33.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 7069}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14760}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-29 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/d421cc84bf63b1791179dc9787fb3f54208211e6', 'message': 'Update ironic subprojects\n\nThis updates the subprojects that are part of ironic. The\nsubprojects can be found at\nhttps://governance.openstack.org/tc/reference/projects/ironic.html\n\ncoreos-image-builder, ironic-webclient, and python-dracclient are no\nlonger under ironic and have been removed. Quite a few subprojects\nwere added.\n\nChange-Id: I9b1bcee5c22a912e4cbcc6a11363689f33ad4f59\n'}, {'number': 2, 'created': '2017-08-29 16:16:40.000000000', 'files': ['projects/ironic.json'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/610a81175d2c4a2c134247a8ce87b9a638548644', 'message': 'ironic subprojects are updated\n\nThis updates the subprojects that are part of ironic. The\nsubprojects can be found at\nhttps://governance.openstack.org/tc/reference/projects/ironic.html\n\ncoreos-image-builder, ironic-webclient, and python-dracclient are no\nlonger under ironic and have been removed. Quite a few subprojects\nwere added.\n\nChange-Id: I9b1bcee5c22a912e4cbcc6a11363689f33ad4f59\n'}]",1,498849,610a81175d2c4a2c134247a8ce87b9a638548644,16,8,2,6618,,,0,"ironic subprojects are updated

This updates the subprojects that are part of ironic. The
subprojects can be found at
https://governance.openstack.org/tc/reference/projects/ironic.html

coreos-image-builder, ironic-webclient, and python-dracclient are no
longer under ironic and have been removed. Quite a few subprojects
were added.

Change-Id: I9b1bcee5c22a912e4cbcc6a11363689f33ad4f59
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/49/498849/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/ironic.json'],1,d421cc84bf63b1791179dc9787fb3f54208211e6,ironic," ""openstack/ironic-inspector-tempest-plugin"", ""openstack/ironic-python-agent-builder"", ""openstack/ironic-tempest-plugin"", ""openstack/ironic-ui"", ""openstack/molteniron"", ""openstack/networking-baremetal"", ""openstack/python-ironicclient"", ""openstack/sushy"", ""openstack/sushy-tools"", ""openstack/virtualbmc"""," ""openstack/coreos-image-builder"", ""openstack/ironic-webclient"", ""openstack/python-dracclient"", ""openstack/python-ironicclient""",10,4
openstack%2Fproject-team-guide~master~I25b59527d744f25fbdd1882720ee7b71ad821618,openstack/project-team-guide,master,I25b59527d744f25fbdd1882720ee7b71ad821618,Cleanup the configuration file.,MERGED,2019-02-13 09:52:29.000000000,2019-03-16 02:14:01.000000000,2019-03-16 02:14:01.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-02-13 09:52:29.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/a4388aa45d9adae14b22fc961a381420c165d963', 'message': 'Cleanup the configuration file.\n\nRemove useless import and be pep8 compliant.\n\nChange-Id: I25b59527d744f25fbdd1882720ee7b71ad821618\n'}]",0,636580,a4388aa45d9adae14b22fc961a381420c165d963,7,3,1,29222,,,0,"Cleanup the configuration file.

Remove useless import and be pep8 compliant.

Change-Id: I25b59527d744f25fbdd1882720ee7b71ad821618
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/80/636580/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a4388aa45d9adae14b22fc961a381420c165d963,cleanup_conf_file,"# This file is execfile()d with the current directory set to its containing # dir.# sys.path.insert(0, os.path.abspath('.')) # -- General configuration --# needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom ones. 'openstackdocstheme']# source_encoding = 'utf-8-sig'# language = None# today = ''# today_fmt = '%B %d, %Y'# The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None# add_function_parentheses = True# -- Options for man page output --# -- Options for HTML output --# html_theme = 'nature'# html_theme_path = []# html_title = None# html_short_title = None# html_logo = None# html_favicon = None# git_cmd = ""git log --pretty=format:'%ad, commit %h' --date=local -n1"" # html_last_updated_fmt = os.popen(git_cmd).read()# html_use_smartypants = True# html_sidebars = {}# html_additional_pages = {}# html_split_index = False# html_show_sourcelink = True# html_show_sphinx = True# html_show_copyright = True# html_use_opensearch = ''# html_file_suffix = None# -- Options for LaTeX output -- # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '',# (source start file, target name, title, author, documentclass # [howto/manual]).# latex_logo = None# latex_use_parts = False# latex_show_pagerefs = False# latex_show_urls = False# latex_appendices = []# latex_domain_indices = True # -- Options for Texinfo output --# texinfo_appendices = []# texinfo_domain_indices = True# texinfo_show_urls = 'footnote' # -- Options for Epub output --# epub_language = ''# epub_scheme = ''# epub_identifier = ''# epub_uid = ''# epub_cover = ()# epub_pre_files = []# epub_post_files = []# epub_exclude_files = []# epub_tocdepth = 3# epub_tocdup = True","# This file is execfile()d with the current directory set to its containing dir.import sys import os#sys.path.insert(0, os.path.abspath('.')) # -- General configuration -----------------------------------------------------#needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be extensions # coming with Sphinx (named 'sphinx.ext.*') or your custom ones. 'openstackdocstheme' ]#source_encoding = 'utf-8-sig'#language = None#today = ''#today_fmt = '%B %d, %Y'# The reST default role (used for this markup: `text`) to use for all documents. #default_role = None#add_function_parentheses = True# -- Options for man page output ----------------------------------------------# -- Options for HTML output ---------------------------------------------------#html_theme = 'nature'#html_theme_path = []#html_title = None#html_short_title = None#html_logo = None#html_favicon = None#git_cmd = ""git log --pretty=format:'%ad, commit %h' --date=local -n1"" #html_last_updated_fmt = os.popen(git_cmd).read()#html_use_smartypants = True#html_sidebars = {}#html_additional_pages = {}#html_split_index = False#html_show_sourcelink = True#html_show_sphinx = True#html_show_copyright = True#html_use_opensearch = ''#html_file_suffix = None# -- Options for LaTeX output --------------------------------------------------# The paper size ('letterpaper' or 'a4paper'). #'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). #'pointsize': '10pt', # Additional stuff for the LaTeX preamble. #'preamble': '',# (source start file, target name, title, author, documentclass [howto/manual]).#latex_logo = None#latex_use_parts = False#latex_show_pagerefs = False#latex_show_urls = False#latex_appendices = []#latex_domain_indices = True # -- Options for Texinfo output ------------------------------------------------#texinfo_appendices = []#texinfo_domain_indices = True#texinfo_show_urls = 'footnote' # -- Options for Epub output ---------------------------------------------------#epub_language = ''#epub_scheme = ''#epub_identifier = ''#epub_uid = ''#epub_cover = ()#epub_pre_files = []#epub_post_files = []#epub_exclude_files = []#epub_tocdepth = 3#epub_tocdup = True",65,65
openstack%2Fneutron~stable%2Fpike~If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f,openstack/neutron,stable/pike,If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f,"When converting sg rules to iptables, do not emit dport if not supported",MERGED,2019-03-04 16:05:51.000000000,2019-03-16 02:12:09.000000000,2019-03-16 02:12:09.000000000,"[{'_account_id': 1131}, {'_account_id': 5263}, {'_account_id': 10980}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-04 16:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbb5eccc7364ce4a339401013bd6d42bba86bd58', 'message': ""When converting sg rules to iptables, do not emit dport if not supported\n\nSince iptables-restore doesn't support --dport with protocol vrrp,\nit errors out setting the security groups on the hypervisor.\n\nMarking this a partial fix, since we need a change to prevent\nadding those incompatible rules in the first place, but this\npatch will stop the bleeding.\n\nChange-Id: If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f\nPartial-Bug: #1818385\n""}, {'number': 2, 'created': '2019-03-12 02:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c87b373c218a43ed88c6a655c51c2fab78e7639', 'message': ""When converting sg rules to iptables, do not emit dport if not supported\n\nSince iptables-restore doesn't support --dport with protocol vrrp,\nit errors out setting the security groups on the hypervisor.\n\nMarking this a partial fix, since we need a change to prevent\nadding those incompatible rules in the first place, but this\npatch will stop the bleeding.\n\nChange-Id: If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f\nPartial-Bug: #1818385\n""}, {'number': 3, 'created': '2019-03-12 02:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f99fbb4455b0e252c98f3801cdc8159b01b32ba6', 'message': ""When converting sg rules to iptables, do not emit dport if not supported\n\nSince iptables-restore doesn't support --dport with protocol vrrp,\nit errors out setting the security groups on the hypervisor.\n\nMarking this a partial fix, since we need a change to prevent\nadding those incompatible rules in the first place, but this\npatch will stop the bleeding.\n\nChange-Id: If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f\nPartial-Bug: #1818385\n(cherry picked from commit 8c213e45902e21d2fe00639ef7d92b35304bde82)\n""}, {'number': 4, 'created': '2019-03-12 03:04:26.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e53afe831abd651e318b5a56372a230ee5f49731', 'message': ""When converting sg rules to iptables, do not emit dport if not supported\n\nSince iptables-restore doesn't support --dport with protocol vrrp,\nit errors out setting the security groups on the hypervisor.\n\nMarking this a partial fix, since we need a change to prevent\nadding those incompatible rules in the first place, but this\npatch will stop the bleeding.\n\nChange-Id: If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f\nPartial-Bug: #1818385\n(cherry picked from commit 8c213e45902e21d2fe00639ef7d92b35304bde82)\n""}]",2,640790,e53afe831abd651e318b5a56372a230ee5f49731,56,8,4,10980,,,0,"When converting sg rules to iptables, do not emit dport if not supported

Since iptables-restore doesn't support --dport with protocol vrrp,
it errors out setting the security groups on the hypervisor.

Marking this a partial fix, since we need a change to prevent
adding those incompatible rules in the first place, but this
patch will stop the bleeding.

Change-Id: If5e557a8e61c3aa364ba1e2c60be4cbe74c1ec8f
Partial-Bug: #1818385
(cherry picked from commit 8c213e45902e21d2fe00639ef7d92b35304bde82)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/640790/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,fbb5eccc7364ce4a339401013bd6d42bba86bd58,bug/1818385," def test_filter_bad_vrrp_with_dport(self): rule = {'ethertype': 'IPv4', 'direction': 'ingress', 'protocol': 'vrrp', 'port_range_min': 10, 'port_range_max': 10} # Dest port isn't support with VRRP, so don't send it # down to iptables. ingress = mock.call.add_rule('ifake_dev', '-p vrrp -j RETURN', top=False, comment=None) egress = None self._test_prepare_port_filter(rule, ingress, egress) ",,23,5
openstack%2Ftempest~master~I6d51b14a5a5b87761071d0927fca23ba1651aa41,openstack/tempest,master,I6d51b14a5a5b87761071d0927fca23ba1651aa41,Add autopep8 to tox.ini,MERGED,2019-03-08 10:28:54.000000000,2019-03-16 02:12:07.000000000,2019-03-16 02:12:07.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 12033}, {'_account_id': 17499}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 10:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f8e1f6237f9d6fdb22888522de2e5efd25c314c', 'message': 'Add autopep8 to tox.ini\n\nautopep8 is an automated code formatting tool for python,\nit does not know everything, also not super fast,\nbut it is faster than I can manually reformat the code.\n\ntools/format.sh will call the formatting,\nthe tox will check did you called it.\n\nautopep8 formats the lines in one way,\nwhere tempest used a another way it was changed.\n\nChange-Id: I6d51b14a5a5b87761071d0927fca23ba1651aa41\n'}, {'number': 2, 'created': '2019-03-08 15:04:15.000000000', 'files': ['tempest/cmd/cleanup.py', 'tempest/lib/cmd/check_uuid.py', 'tempest/scenario/manager.py', 'tempest/lib/common/preprov_creds.py', 'tempest/api/network/test_dhcp_ipv6.py', 'tempest/test_discover/plugins.py', 'tempest/common/identity.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/tests/lib/services/volume/v3/test_scheduler_stats_client.py', 'tempest/test_discover/test_discover.py', 'tempest/lib/common/utils/data_utils.py', 'tempest/api/network/test_networks.py', 'tempest/api/network/test_ports.py', 'tempest/tests/test_hacking.py', 'tempest/tests/lib/common/test_dynamic_creds.py', 'tools/format.sh', 'tempest/api/compute/servers/test_novnc.py', 'tempest/lib/services/compute/flavors_client.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/common/api_version_utils.py', 'tempest/tests/cmd/test_workspace.py', 'tempest/config.py', 'tempest/tests/lib/services/compute/test_images_client.py', 'tox.ini', 'tempest/common/utils/net_utils.py', 'tempest/cmd/run.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/40fcb9ba283d36bad341d57356ed4276199d2ec4', 'message': 'Add autopep8 to tox.ini\n\nautopep8 is an automated code formatting tool for python,\nit does not know everything, also not super fast,\nbut it is faster than I can manually reformat the code.\n\ntools/format.sh will call the formatting,\nthe tox will check did you called it.\n\nAlso adding a tox -eautopep8 way to use it.\n\nautopep8 formats the lines in one way,\nwhere tempest used a another way it was changed.\n\nChange-Id: I6d51b14a5a5b87761071d0927fca23ba1651aa41\n'}]",3,641978,40fcb9ba283d36bad341d57356ed4276199d2ec4,18,8,2,5803,,,0,"Add autopep8 to tox.ini

autopep8 is an automated code formatting tool for python,
it does not know everything, also not super fast,
but it is faster than I can manually reformat the code.

tools/format.sh will call the formatting,
the tox will check did you called it.

Also adding a tox -eautopep8 way to use it.

autopep8 formats the lines in one way,
where tempest used a another way it was changed.

Change-Id: I6d51b14a5a5b87761071d0927fca23ba1651aa41
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/641978/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/cleanup.py', 'tempest/lib/cmd/check_uuid.py', 'test-requirements.txt', 'tempest/scenario/manager.py', 'tempest/lib/common/preprov_creds.py', 'tempest/api/network/test_dhcp_ipv6.py', 'tempest/test_discover/plugins.py', 'tempest/common/identity.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/tests/lib/services/volume/v3/test_scheduler_stats_client.py', 'tempest/test_discover/test_discover.py', 'tempest/lib/common/utils/data_utils.py', 'tempest/api/network/test_networks.py', 'tempest/api/network/test_ports.py', 'tempest/tests/test_hacking.py', 'tempest/tests/lib/common/test_dynamic_creds.py', 'tools/format.sh', 'tempest/api/compute/servers/test_novnc.py', 'tempest/lib/services/compute/flavors_client.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/common/api_version_utils.py', 'tempest/tests/cmd/test_workspace.py', 'tempest/config.py', 'tempest/tests/lib/services/compute/test_images_client.py', 'tox.ini', 'tempest/common/utils/net_utils.py', 'tempest/cmd/run.py']",28,0f8e1f6237f9d6fdb22888522de2e5efd25c314c,autopep8," sort_keys=True, indent=2, separators=(',', ': ')))"," sort_keys=True, indent=2, separators=(',', ': ')))",40,28
openstack%2Fwatcher~stable%2Frocky~I817328148559dd35755a706085247f3547b188cb,openstack/watcher,stable/rocky,I817328148559dd35755a706085247f3547b188cb,set watcherclient no voting,MERGED,2019-03-15 09:13:27.000000000,2019-03-16 02:04:51.000000000,2019-03-16 02:04:51.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 09:13:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/294c3cd760f33defe1d3036b4be4464aa752ba6f', 'message': 'set watcherclient no voting\n\nChange-Id: I817328148559dd35755a706085247f3547b188cb\n'}]",0,643538,294c3cd760f33defe1d3036b4be4464aa752ba6f,6,2,1,21692,,,0,"set watcherclient no voting

Change-Id: I817328148559dd35755a706085247f3547b188cb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/38/643538/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,294c3cd760f33defe1d3036b4be4464aa752ba6f,rocky, voting: false,,1,0
openstack%2Fcinder~master~Iebcc8d8cd9bd39dbde64fef194b262ff7b12e5b6,openstack/cinder,master,Iebcc8d8cd9bd39dbde64fef194b262ff7b12e5b6,Restore PowerMax unit test mock,ABANDONED,2019-02-27 19:43:09.000000000,2019-03-16 01:50:59.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-02-27 19:43:09.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec8b8e2a3fb5cf7b947fbe31542493e2c7ebb764', 'message': 'Restore PowerMax unit test mock\n\nCommit If6f7c58f445dd813df7161cc6cd6dd84484e8a7e appears to have\ninadvertently removed a mock of get_max_over_subscription_ratio from one\nof the test suites. This still passed apparently due to timing of other\ntest runs also mocking this call, but if tests happen to run in a\ndiffernt order, or if these specific tests are run by themselves, it\nresults in the error:\n\nTypeError: float() argument must be a string or a number\n\nThis restores the mock to match the other tests. These should probably\nbe refactored to not need this in each one, but this will at least\nprevent failures for now and get back to how it had been in prior to the\nmentioned change.\n\nChange-Id: Iebcc8d8cd9bd39dbde64fef194b262ff7b12e5b6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,639795,ec8b8e2a3fb5cf7b947fbe31542493e2c7ebb764,26,24,1,11904,,,0,"Restore PowerMax unit test mock

Commit If6f7c58f445dd813df7161cc6cd6dd84484e8a7e appears to have
inadvertently removed a mock of get_max_over_subscription_ratio from one
of the test suites. This still passed apparently due to timing of other
test runs also mocking this call, but if tests happen to run in a
differnt order, or if these specific tests are run by themselves, it
results in the error:

TypeError: float() argument must be a string or a number

This restores the mock to match the other tests. These should probably
be refactored to not need this in each one, but this will at least
prevent failures for now and get back to how it had been in prior to the
mentioned change.

Change-Id: Iebcc8d8cd9bd39dbde64fef194b262ff7b12e5b6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/639795/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax.py'],1,ec8b8e2a3fb5cf7b947fbe31542493e2c7ebb764,powermocks, volume_utils.get_max_over_subscription_ratio = mock.Mock(),,1,0
openstack%2Ftripleo-common~master~Ic79b2008cb1190bb1d9546c956098c4177e5c01a,openstack/tripleo-common,master,Ic79b2008cb1190bb1d9546c956098c4177e5c01a,remove skydive-ansible from mistral container,MERGED,2019-02-15 08:40:58.000000000,2019-03-16 01:26:21.000000000,2019-03-16 01:26:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-15 08:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f899b503ef14352f8083696272fe975e313fdb08', 'message': 'remove skydive-ansible from mistral container\n\nNot needed anymore as the playbook is executed\non the host node itself.\n\nChange-Id: Ic79b2008cb1190bb1d9546c956098c4177e5c01a\n'}, {'number': 2, 'created': '2019-02-22 09:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/99122fd04e83e4a463dd2f908b685c96afd0ff31', 'message': 'remove skydive-ansible from mistral container\n\nNot needed anymore as the playbook is executed\non the host node itself.\n\nChange-Id: Ic79b2008cb1190bb1d9546c956098c4177e5c01a\n'}, {'number': 3, 'created': '2019-03-12 19:08:25.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ed17c27c114a13ff55a1d80ab49963dd8c09b93', 'message': 'remove skydive-ansible from mistral container\n\nNot needed anymore as the playbook is executed\non the host node itself.\n\nChange-Id: Ic79b2008cb1190bb1d9546c956098c4177e5c01a\n'}]",0,637144,5ed17c27c114a13ff55a1d80ab49963dd8c09b93,30,6,3,7141,,,0,"remove skydive-ansible from mistral container

Not needed anymore as the playbook is executed
on the host node itself.

Change-Id: Ic79b2008cb1190bb1d9546c956098c4177e5c01a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/637144/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,f899b503ef14352f8083696272fe975e313fdb08,remove-skydive-ansible,"{% set mistral_base_packages_append = ['openstack-tripleo-common', 'ansible', 'python-shade'] %}","{% set mistral_base_packages_append = ['openstack-tripleo-common', 'ansible', 'python-shade', 'skydive-ansible'] %}",1,1
openstack%2Ftripleo-common~master~I6a5c610a8e20ce140b510bf23bfee54d8752b76f,openstack/tripleo-common,master,I6a5c610a8e20ce140b510bf23bfee54d8752b76f,Switch to distro_python_version,MERGED,2019-03-12 14:46:45.000000000,2019-03-16 01:26:20.000000000,2019-03-16 01:26:20.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-03-12 14:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60d4cb62c40ba5c0ab36a5ec108ab11e56629495', 'message': 'Switch to distro_python_version\n\nKolla wants to store the version rather than use distro_python.\n\nChange-Id: I6a5c610a8e20ce140b510bf23bfee54d8752b76f\nDepends-On: https://review.openstack.org/#/c/642014/\nRelated-Blueprint: python3-support\n'}, {'number': 2, 'created': '2019-03-12 16:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b5236a476cf087e596085d9f2bed92ba0a9bb053', 'message': 'Switch to distro_python_version\n\nKolla wants to store the version rather than use distro_python.\n\nChange-Id: I6a5c610a8e20ce140b510bf23bfee54d8752b76f\nDepends-On: https://review.openstack.org/#/c/642014/\nRelated-Blueprint: python3-support\n'}, {'number': 3, 'created': '2019-03-13 03:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eefcd8c2681a3529145099055e585d515004e5d9', 'message': 'Switch to distro_python_version\n\nKolla wants to store the version rather than use distro_python.\n\nChange-Id: I6a5c610a8e20ce140b510bf23bfee54d8752b76f\nDepends-On: https://review.openstack.org/#/c/642014/\nRelated-Blueprint: python3-support\n'}, {'number': 4, 'created': '2019-03-13 09:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5cb14c66e78967025be83009849398f84071e89b', 'message': 'Switch to distro_python_version\n\nKolla wants to store the version rather than use distro_python.\n\nChange-Id: I6a5c610a8e20ce140b510bf23bfee54d8752b76f\nDepends-On: https://review.openstack.org/#/c/642014/\nRelated-Blueprint: python3-support\n'}, {'number': 5, 'created': '2019-03-15 16:26:01.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/99516d79ce2a6ac9f507af0e19ebc34317c8e090', 'message': 'Switch to distro_python_version\n\nKolla wants to store the version rather than use distro_python.\n\nChange-Id: I6a5c610a8e20ce140b510bf23bfee54d8752b76f\nDepends-On: https://review.openstack.org/#/c/642014/\nRelated-Blueprint: python3-support\n'}]",1,642772,99516d79ce2a6ac9f507af0e19ebc34317c8e090,34,10,5,14985,,,0,"Switch to distro_python_version

Kolla wants to store the version rather than use distro_python.

Change-Id: I6a5c610a8e20ce140b510bf23bfee54d8752b76f
Depends-On: https://review.openstack.org/#/c/642014/
Related-Blueprint: python3-support
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/642772/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,60d4cb62c40ba5c0ab36a5ec108ab11e56629495,bp/python3-support,{% if distro_python_version == '3.6' %}{% if distro_python_version == '3.6' %}{% if distro_python_version == '3.6' %}{% if distro_python_version == '3.6' %}{% if distro_python_version == '3.6' %}{% if distro_python_version == '3.6' %}{% if distro_python_version == '3.6' %},{% if distro_python3 %}{% if distro_python3 %}{% if distro_python3 %}{% if distro_python3 %}{% if distro_python3 %}{% if distro_python3 %}{% if distro_python3 %},7,7
openstack%2Fpython-openstackclient~master~Iab345e1651dd8b7904ff64a20633f194d719bb84,openstack/python-openstackclient,master,Iab345e1651dd8b7904ff64a20633f194d719bb84,Fix: incorrect check when no shared/private input,MERGED,2019-03-12 09:49:33.000000000,2019-03-16 01:05:18.000000000,2019-03-16 01:05:18.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 9926}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 25437}, {'_account_id': 28373}, {'_account_id': 28439}, {'_account_id': 29898}]","[{'number': 1, 'created': '2019-03-12 09:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/521dc38e765693e9a7104c028a86e46ab4a98e14', 'message': 'Fix: incorrect check when no shared/private input\n\nWhen neither of ""--shared"" and ""--private"" is input, we should not allow\nto specify ""--project"". Defaulting the created network segment range to\nshared is expected. Therefore, ""project_id"" attr should only be\npopulated on a shared range creation.\n\nChange-Id: Iab345e1651dd8b7904ff64a20633f194d719bb84\nStory: 2005206\nTask: 29980\n'}, {'number': 2, 'created': '2019-03-12 10:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/142db12e835c71104374a9baa66887444eab22d8', 'message': 'Fix: incorrect check when no shared/private input\n\nWhen neither of ""--shared"" and ""--private"" is input, we should not allow\nto specify ""--project"". Defaulting the created network segment range to\nshared is expected. Therefore, ""project_id"" attr should only be\npopulated on a private range creation.\n\nChange-Id: Iab345e1651dd8b7904ff64a20633f194d719bb84\nStory: 2005206\nTask: 29980\n'}, {'number': 3, 'created': '2019-03-13 08:10:42.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_network_segment_range.py', 'openstackclient/network/v2/network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/510e9a7b8e567ce644473cad9e10651ff4bf2ca1', 'message': 'Fix: incorrect check when no shared/private input\n\nWhen neither of ""--shared"" and ""--private"" is input, we should not allow\nto specify ""--project"". Defaulting the created network segment range to\nshared is expected. Therefore, ""project_id"" attr should only be\npopulated on a private range creation.\n\nChange-Id: Iab345e1651dd8b7904ff64a20633f194d719bb84\nStory: 2005206\nTask: 29980\n'}]",10,642708,510e9a7b8e567ce644473cad9e10651ff4bf2ca1,25,12,3,28373,,,0,"Fix: incorrect check when no shared/private input

When neither of ""--shared"" and ""--private"" is input, we should not allow
to specify ""--project"". Defaulting the created network segment range to
shared is expected. Therefore, ""project_id"" attr should only be
populated on a private range creation.

Change-Id: Iab345e1651dd8b7904ff64a20633f194d719bb84
Story: 2005206
Task: 29980
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/08/642708/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_network_segment_range.py', 'openstackclient/network/v2/network_segment_range.py']",2,521dc38e765693e9a7104c028a86e46ab4a98e14,story/2005206, if not parsed_args.private and parsed_args.project: if not attrs['shared'] and parsed_args.project: elif not attrs['shared'] and not parsed_args.shared:, if parsed_args.shared and parsed_args.project: if parsed_args.project: elif not parsed_args.shared:,52,3
openstack%2Fcinder~master~I9f0fec25444ed865d56d0d250fb6d840ab5b4095,openstack/cinder,master,I9f0fec25444ed865d56d0d250fb6d840ab5b4095,Gate Fix: Bumping versions in lower-constraints.txt,MERGED,2019-03-15 10:24:22.000000000,2019-03-16 00:52:22.000000000,2019-03-15 18:10:16.000000000,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-03-15 10:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f3c5fa91b4c945b972febbbaa8a9650429dc063', 'message': 'Gate Fix: Bumping versions in lower-constraints.txt\n\nDue to migration of gate jobs to bionic, several packages were\nincompatible with the distro.\nThis patch bumps the version of incompatible packages to the\nlowest compatible version.\n\nChange-Id: I9f0fec25444ed865d56d0d250fb6d840ab5b4095\n'}, {'number': 2, 'created': '2019-03-15 10:43:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/645ffab6bfc8dbb0ae1c3cdc4a0adc3e81f12692', 'message': 'Gate Fix: Bumping versions in lower-constraints.txt\n\nDue to migration of gate jobs to bionic, several packages were\nincompatible with the distro.\nThis patch bumps the version of incompatible packages to the\nlowest compatible version.\n\nChange-Id: I9f0fec25444ed865d56d0d250fb6d840ab5b4095\n'}]",0,643555,645ffab6bfc8dbb0ae1c3cdc4a0adc3e81f12692,38,30,2,27615,,,0,"Gate Fix: Bumping versions in lower-constraints.txt

Due to migration of gate jobs to bionic, several packages were
incompatible with the distro.
This patch bumps the version of incompatible packages to the
lowest compatible version.

Change-Id: I9f0fec25444ed865d56d0d250fb6d840ab5b4095
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/643555/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,4f3c5fa91b4c945b972febbbaa8a9650429dc063,,keystonemiddleware==4.21.0psycopg2==2.7python-keystoneclient==3.15.0stestr==2.2.0,keystonemiddleware==4.17.0psycopg2==2.6.2python-keystoneclient==3.8.0stestr==2.0.0,4,4
openstack%2Fmanila~master~If384392d0f140922bb85a1dc50b0c4494c231e2f,openstack/manila,master,If384392d0f140922bb85a1dc50b0c4494c231e2f,Fix driver filter to not check share_backend_name,MERGED,2019-03-03 11:22:02.000000000,2019-03-16 00:39:24.000000000,2019-03-14 21:56:27.000000000,"[{'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 10068}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 30033}]","[{'number': 1, 'created': '2019-03-03 11:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3415d8cbf7644acf6568ac283c5b2eb3e84c2d34', 'message': 'Fixed Bug #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 2, 'created': '2019-03-05 09:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f6ad185272c0783b7b519ea10360115ebf60b573', 'message': 'commit: 3415d8cbf7644acf6568ac283c5b2eb3e84c2d34\n\n  Fixed the bug stating: Driver filter disallows using\n  queries with share_backend_name by updating the\n  required files according to the openstack/cinder/commit/b32011\n\nFixed Bug #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 3, 'created': '2019-03-09 07:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7b6f9a5bf4db7b7437a2cc2f617c70c08428f62f', 'message': 'commit: 3415d8cbf7644acf6568ac283c5b2eb3e84c2d34\n\n  Fix driver filter to not check share_backend_name\n\n  Fixed the bug stating: Driver filter disallows using\n  queries with share_backend_name.\n  The driver filter was checking for hard equality between\n  the share_backend_name specified in the share type and\n  the name reported by the host [1]. This defeats the purpose\n  of the capabilities filter giving the ability to use ""<in>""\n  (selection) operator in the extra-spec.\n  Thus this commit fixes it by updating the\n  required files according to\n  openstack/cinder/commit/b32011 as now the driver does not \n  check for shared_backend_name.\n\nCloses-Bug: #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 4, 'created': '2019-03-12 02:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4d0b185f6e4c50dfd03304814decddcfe5fd80fa', 'message': 'Fix driver filter to not check share_backend_name\n\nFixed the bug stating: Driver filter disallows using\nqueries with share_backend_name.\nThe driver filter was checking for hard equality between\nthe share_backend_name specified in the share type and\nthe name reported by the host [1]. This defeats the purpose\nof the capabilities filter giving the ability to use ""<in>""\n(selection) operator in the extra-spec.\nThus this commit fixes it by updating the\nrequired files according to\nopenstack/cinder/commit/b32011 as now the driver does not\ncheck for shared_backend_name.\n\nCloses-Bug: #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 5, 'created': '2019-03-12 06:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7a070c7a4fe481048b9c8f64ecacc331e2c73d29', 'message': 'Fix driver filter to not check share_backend_name\n\nFixed the bug stating: Driver filter disallows using\nqueries with share_backend_name. The driver filter was\nchecking for hard equality between the share_backend_name\nspecified in the share type and the name reported by the\nhost [1]. This defeats the purpose of the capabilities\nfilter giving the ability to use ""<in>"" (selection)\noperator in the extra-spec. Thus this commit fixes it by\nupdating the required files according to\nopenstack/cinder/commit/b32011 as now the driver does not\ncheck for shared_backend_name.\n\nCloses-Bug: #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 6, 'created': '2019-03-12 08:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9de39cc0339785ba922613e82f5be8a700e5913a', 'message': 'Fix driver filter to not check share_backend_name\n\nFixed the bug stating: Driver filter disallows using\nqueries with share_backend_name. The driver filter was\nchecking for hard equality between the share_backend_name\nspecified in the share type and the name reported by the\nhost [1]. This defeats the purpose of the capabilities\nfilter giving the ability to use ""<in>"" (selection)\noperator in the extra-spec. Thus this commit fixes it by\nupdating the required files according to\nopenstack/cinder/commit/b32011 as now the driver does not\ncheck for shared_backend_name.\n\nCloses-Bug: #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 7, 'created': '2019-03-12 15:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/08ad35605b0a705c6675c0669163779b34cf4e80', 'message': 'Fix driver filter to not check share_backend_name\n\nFixed the bug stating: Driver filter disallows using\nqueries with share_backend_name. The driver filter was\nchecking for hard equality between the share_backend_name\nspecified in the share type and the name reported by the\nhost [1]. This defeats the purpose of the capabilities\nfilter giving the ability to use ""<in>"" (selection)\noperator in the extra-spec. Thus this commit fixes it by\nupdating the required files according to\nopenstack/cinder/commit/b32011 as now the driver does not\ncheck for shared_backend_name.\n\nCloses-Bug: #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}, {'number': 8, 'created': '2019-03-14 17:27:49.000000000', 'files': ['releasenotes/notes/fixing-driver-filter-14022294c8c04d2d.yaml', 'manila/scheduler/filters/driver.py', 'manila/tests/scheduler/filters/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/86c1576110f9e6d92ea539c2a2b16f46d325f6ee', 'message': 'Fix driver filter to not check share_backend_name\n\nFixed the bug stating: Driver filter disallows using\nqueries with share_backend_name. The driver filter was\nchecking for hard equality between the share_backend_name\nspecified in the share type and the name reported by the\nhost [1]. This defeats the purpose of the capabilities\nfilter giving the ability to use ""<in>"" (selection)\noperator in the extra-spec. Thus this commit fixes it by\nupdating the required files according to\nopenstack/cinder/commit/b32011 as now the driver does not\ncheck for shared_backend_name.\n\nCloses-Bug: #1815700\n\nChange-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f\n'}]",7,640630,86c1576110f9e6d92ea539c2a2b16f46d325f6ee,76,16,8,30033,,,0,"Fix driver filter to not check share_backend_name

Fixed the bug stating: Driver filter disallows using
queries with share_backend_name. The driver filter was
checking for hard equality between the share_backend_name
specified in the share type and the name reported by the
host [1]. This defeats the purpose of the capabilities
filter giving the ability to use ""<in>"" (selection)
operator in the extra-spec. Thus this commit fixes it by
updating the required files according to
openstack/cinder/commit/b32011 as now the driver does not
check for shared_backend_name.

Closes-Bug: #1815700

Change-Id: If384392d0f140922bb85a1dc50b0c4494c231e2f
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/640630/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/scheduler/filters/driver.py'],1,3415d8cbf7644acf6568ac283c5b2eb3e84c2d34,," LOG.debug(""Filter function not set :: passing host."")"," host_stats = stats['host_stats'] extra_specs = stats['extra_specs'] # Check that the share types match if extra_specs is None or 'share_backend_name' not in extra_specs: LOG.warning(""No 'share_backend_name' key in extra_specs. "" ""Skipping share backend name check."") elif (extra_specs['share_backend_name'] != host_stats['share_backend_name']): LOG.warning(""Share backend names do not match: '%(target)s' "" ""vs '%(current)s' :: Skipping."", {'target': extra_specs['share_backend_name'], 'current': host_stats['share_backend_name']}) return False LOG.warning(""Filter function not set :: passing host."")",2,15
openstack%2Ftripleo-image-elements~stable%2Fqueens~Ic830d22de4bed08d782a3f5c49163bb122016361,openstack/tripleo-image-elements,stable/queens,Ic830d22de4bed08d782a3f5c49163bb122016361,(queens only) Fix identation in README so we can do a release,MERGED,2019-02-28 13:02:16.000000000,2019-03-16 00:16:57.000000000,2019-03-16 00:16:57.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-28 13:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3500e7953938f97478ef23ef81a650f35c50f9f8', 'message': '(queens only) Fix identation in README so we can do a release\n\nThe following command was failing:\n\npython3 setup.py check --restructuredtext --strict\n\nThis was preventing us from releasing for queens.\n\nChange-Id: Ic830d22de4bed08d782a3f5c49163bb122016361\n'}, {'number': 2, 'created': '2019-03-01 12:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d87d78d32eba73137feef51a86e02ab22ba3412e', 'message': '(queens only) Fix identation in README so we can do a release\n\nThe following command was failing:\n\npython3 setup.py check --restructuredtext --strict\n\nThis was preventing us from releasing for queens.\n\nThis also adds a couple of jobs to our zuul layout... since none were\nmatching.\n\nChange-Id: Ic830d22de4bed08d782a3f5c49163bb122016361\n'}, {'number': 3, 'created': '2019-03-15 16:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/9b2c4999f7e4f43dc76f0a7d6cc5027a2569612f', 'message': '(queens only) Fix identation in README so we can do a release\n\nThe following command was failing:\n\npython3 setup.py check --restructuredtext --strict\n\nThis was preventing us from releasing for queens.\n\nThis also adds a couple of jobs to our zuul layout... since none were\nmatching.\n\nChange-Id: Ic830d22de4bed08d782a3f5c49163bb122016361\n'}, {'number': 4, 'created': '2019-03-15 16:38:59.000000000', 'files': ['zuul.d/layout.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/ed57f2eb8232e383ea4b8e7389e5c635f9816c94', 'message': '(queens only) Fix identation in README so we can do a release\n\nThe following command was failing:\n\npython3 setup.py check --restructuredtext --strict\n\nThis was preventing us from releasing for queens.\n\nThis also adds a couple of jobs to our zuul layout... since none were\nmatching.\n\nChange-Id: Ic830d22de4bed08d782a3f5c49163bb122016361\n'}]",0,640023,ed57f2eb8232e383ea4b8e7389e5c635f9816c94,30,9,4,10873,,,0,"(queens only) Fix identation in README so we can do a release

The following command was failing:

python3 setup.py check --restructuredtext --strict

This was preventing us from releasing for queens.

This also adds a couple of jobs to our zuul layout... since none were
matching.

Change-Id: Ic830d22de4bed08d782a3f5c49163bb122016361
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/23/640023/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,3500e7953938f97478ef23ef81a650f35c50f9f8,fix-ident,,,1,0
openstack%2Fironic-inspector~stable%2Fqueens~I7d57556ff00cf29aee6f1591dcb924086099c7d5,openstack/ironic-inspector,stable/queens,I7d57556ff00cf29aee6f1591dcb924086099c7d5,Use getaddrinfo instead of gethostbyname while resolving BMC address,MERGED,2019-03-14 17:51:10.000000000,2019-03-16 00:04:46.000000000,2019-03-16 00:04:46.000000000,"[{'_account_id': 8767}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 17:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c845aa772a7f21f8364c3b712a5f3eda48737cdb', 'message': ""Use getaddrinfo instead of gethostbyname while resolving BMC address\n\n* According to python docs 'gethostbyname() does not support IPv6 name resolution'\n  Changing it to socket.getaddrinfo.\n* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n(cherry picked from commit 771f2d396b23510364cfb05582175d44cf3b44e6)\n(cherry picked from commit 40abe1b58c5c3fffeee6bb430ee885afb62addea)\n""}, {'number': 2, 'created': '2019-03-14 18:23:16.000000000', 'files': ['ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/plugins/discovery.py', 'releasenotes/notes/ipv6-bmc-address-start-inspection-7a72794f25eb9f19.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d934e9ae84cd250953da02abab4f16848247b670', 'message': ""Use getaddrinfo instead of gethostbyname while resolving BMC address\n\n* According to python docs 'gethostbyname() does not support IPv6 name resolution'\n  Changing it to socket.getaddrinfo.\n* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n(cherry picked from commit 771f2d396b23510364cfb05582175d44cf3b44e6)\n(cherry picked from commit 40abe1b58c5c3fffeee6bb430ee885afb62addea)\n""}]",1,643409,d934e9ae84cd250953da02abab4f16848247b670,10,5,2,21909,,,0,"Use getaddrinfo instead of gethostbyname while resolving BMC address

* According to python docs 'gethostbyname() does not support IPv6 name resolution'
  Changing it to socket.getaddrinfo.
* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)

Change-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5
Story: #2004648
Task: #28601
(cherry picked from commit 771f2d396b23510364cfb05582175d44cf3b44e6)
(cherry picked from commit 40abe1b58c5c3fffeee6bb430ee885afb62addea)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/09/643409/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/plugins/discovery.py', 'releasenotes/notes/ipv6-bmc-address-start-inspection-7a72794f25eb9f19.yaml', 'ironic_inspector/common/ironic.py']",5,c845aa772a7f21f8364c3b712a5f3eda48737cdb,lookup-stable/queens," """"""Get the BMC address defined in node.driver_info dictionary Possible names of BMC address value examined in order of list ['ipmi_address'] + CONF.ipmi_address_fields. The value could be an IP address or a hostname. DNS lookup performed for the first non empty value. The first valid BMC address value returned along with it's v4 and v6 IP addresses. :param node: Node object with defined driver_info dictionary :return: tuple (ipmi_address, ipv4_address, ipv6_address) """""" none_address = None, None, None return none_address ipv4 = None ipv6 = None try: addrinfo = socket.getaddrinfo(value, None, 0, 0, socket.SOL_TCP) for family, socket_type, proto, canon_name, sockaddr in addrinfo: ip = sockaddr[0] if netaddr.IPAddress(ip).is_loopback(): LOG.warning('Ignoring loopback BMC address %s', ip, node_info=node) elif family == socket.AF_INET: ipv4 = ip elif family == socket.AF_INET6: ipv6 = ip return (value, ipv4, ipv6) if ipv4 or ipv6 else none_address return none_address"," return try: ip = socket.gethostbyname(value) if netaddr.IPAddress(ip).is_loopback(): LOG.warning('Ignoring loopback BMC address %s', ip, node_info=node) ip = None return ip",73,27
openstack%2Frequirements~master~I57b14c7b94afe391b7728dea13cfd6c120e2bbde,openstack/requirements,master,I57b14c7b94afe391b7728dea13cfd6c120e2bbde,update constraint for sushy to new release 1.8.1,MERGED,2019-03-15 09:42:22.000000000,2019-03-15 23:55:34.000000000,2019-03-15 23:55:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 09:42:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea7149cc883b96269040a0febb596e5bb44d05cc', 'message': 'update constraint for sushy to new release 1.8.1\n\nChange-Id: I57b14c7b94afe391b7728dea13cfd6c120e2bbde\nmeta:version: 1.8.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Commit: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Change-Id: I6f44af590cee8e3b44d6e90804d1280269e570d7\nmeta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643543,ea7149cc883b96269040a0febb596e5bb44d05cc,9,2,1,11131,,,0,"update constraint for sushy to new release 1.8.1

Change-Id: I57b14c7b94afe391b7728dea13cfd6c120e2bbde
meta:version: 1.8.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Commit: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Change-Id: I6f44af590cee8e3b44d6e90804d1280269e570d7
meta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/643543/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ea7149cc883b96269040a0febb596e5bb44d05cc,new-release,sushy===1.8.1,sushy===1.8.0,1,1
openstack%2Fneutron~master~I925476bc2515a1755364d92ab8d622d747a4a0fb,openstack/neutron,master,I925476bc2515a1755364d92ab8d622d747a4a0fb,Add some create subnet negative tests,MERGED,2018-12-07 20:03:51.000000000,2019-03-15 23:55:31.000000000,2019-03-15 23:55:31.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-07 20:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b797ace059886cdb9c0968ca242c20ff2118972', 'message': ""Add some create subnet negative tests\n\nThere were some edge cases that were untested that generate\n500 errors instead of 401's.\n\nWill need a neutron-lib version with\nhttps://review.openstack.org/#/c/623498/ in order to pass.\n\nChange-Id: I925476bc2515a1755364d92ab8d622d747a4a0fb\nRelated-bug: #1807394\n""}, {'number': 2, 'created': '2019-01-25 23:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d56f740a431108681594826682a768d441d0606b', 'message': ""Add some create subnet negative tests\n\nThere were some edge cases that were untested that generate\n500 errors instead of 401's.\n\nWill need a neutron-lib version with\nhttps://review.openstack.org/#/c/623498/ in order to pass.\n\nChange-Id: I925476bc2515a1755364d92ab8d622d747a4a0fb\nRelated-bug: #1807394\n""}, {'number': 3, 'created': '2019-01-28 21:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2051e705ddfbc1eedc82be252fc93ba5021f594', 'message': ""Add some create subnet negative tests\n\nThere were some edge cases that were untested that generate\n500 errors instead of 401's.\n\nWill need a neutron-lib version with\nhttps://review.openstack.org/#/c/623498/ in order to pass.\n\nChange-Id: I925476bc2515a1755364d92ab8d622d747a4a0fb\nRelated-bug: #1807394\n""}, {'number': 4, 'created': '2019-01-29 14:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f065092650ca8897a967dee3c26ba97bd8a520a6', 'message': ""Add some create subnet negative tests\n\nThere were some edge cases that were untested that generate\n500 errors instead of 401's.\n\nWill need a neutron-lib version with\nhttps://review.openstack.org/#/c/623498/ in order to pass.\n\nChange-Id: I925476bc2515a1755364d92ab8d622d747a4a0fb\nRelated-bug: #1807394\n""}, {'number': 5, 'created': '2019-02-04 01:21:48.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/98ef2ac8d6e75c56512d11377e3b9f9cadf7fe53', 'message': ""Add some create subnet negative tests\n\nThere were some edge cases that were untested that generate\n500 errors instead of 401's.\n\nWill need a neutron-lib version with\nhttps://review.openstack.org/#/c/623498/ in order to pass.\n\nChange-Id: I925476bc2515a1755364d92ab8d622d747a4a0fb\nRelated-bug: #1807394\n""}]",5,623573,98ef2ac8d6e75c56512d11377e3b9f9cadf7fe53,28,9,5,1131,,,0,"Add some create subnet negative tests

There were some edge cases that were untested that generate
500 errors instead of 401's.

Will need a neutron-lib version with
https://review.openstack.org/#/c/623498/ in order to pass.

Change-Id: I925476bc2515a1755364d92ab8d622d747a4a0fb
Related-bug: #1807394
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/623573/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/db/test_db_base_plugin_v2.py'],1,5b797ace059886cdb9c0968ca242c20ff2118972,bug/1807394," def test_create_subnet_invalid_gw_32_V4_cidr(self): with self.network() as network: data = {'subnet': {'network_id': network['network']['id'], 'cidr': '10.0.0.0/4', 'ip_version': constants.IP_VERSION_4, 'tenant_id': network['network']['tenant_id'], 'gateway_ip': '10.0.0.1/32'}} subnet_req = self.new_create_request('subnets', data) res = subnet_req.get_response(self.api) self.assertEqual(webob.exc.HTTPClientError.code, res.status_int) def test_create_subnet_invalid_gw_V6_cidr(self): with self.network() as network: data = {'subnet': {'network_id': network['network']['id'], 'cidr': '2001:db8:0:1::/64', 'ip_version': '6', 'tenant_id': network['network']['tenant_id']}} subnet_req = self.new_create_request('subnets', data) res = subnet_req.get_response(self.api) self.assertEqual(webob.exc.HTTPClientError.code, res.status_int) def test_create_subnet_invalid_gw_128_V6_cidr(self): with self.network() as network: data = {'subnet': {'network_id': network['network']['id'], 'cidr': '2001:db8:0:1::/64', 'ip_version': '6', 'tenant_id': network['network']['tenant_id'], 'gateway_ip': '2001:db8::1/128'}} subnet_req = self.new_create_request('subnets', data) res = subnet_req.get_response(self.api) self.assertEqual(webob.exc.HTTPClientError.code, res.status_int) ",,32,0
openstack%2Fnova~master~I4c12502c86c7ac27369d119e0f97768cf41695b5,openstack/nova,master,I4c12502c86c7ac27369d119e0f97768cf41695b5,Add functional test to delete a server while in VERIFY_RESIZE,MERGED,2018-11-05 20:35:05.000000000,2019-03-15 23:39:54.000000000,2019-03-15 04:13:23.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-11-05 20:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf8661aa13d1ef3dcc5b3c83cf1c2b09823bac2', 'message': ""Add functional test to delete a server while in VERIFY_RESIZE\n\nThis scenario came up while discussing what might be causing\nleaked resource allocations in Placement [1].\n\nI fully expected the new test to fail because I can't see where\nmigration-based allocations are cleaned up for a resized server\nwhen it is deleted, but the test doesn't fail, so either we are\ncleaning those up somewhere when the server is deleted, or there\nare bugs in our functional test framework.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-November/136295.html\n\nChange-Id: I4c12502c86c7ac27369d119e0f97768cf41695b5\n""}, {'number': 2, 'created': '2018-11-05 21:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5e443567dd0676759d9887022cb554504fd3a62', 'message': ""Add functional test to delete a server while in VERIFY_RESIZE\n\nThis scenario came up while discussing what might be causing\nleaked resource allocations in Placement [1].\n\nI fully expected the new test to fail because I couldn't see\nfrom the compute manager where the migration-based allocations\nwould be cleaned up when deleting the server. It turns out that\nwhen deleting a VERIFY_RESIZE server, the API confirms the resize\nwhich drops the migration-based allocations on the source node\nbefore deleting the server on the target node.\n\nSince this is not obvious, a comment in the compute API\n_confirm_resize_on_deleting() method is added.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-November/136295.html\n\nChange-Id: I4c12502c86c7ac27369d119e0f97768cf41695b5\n""}, {'number': 3, 'created': '2019-03-12 21:42:07.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33cab70e1c9584d8253a47e49f057381265f1817', 'message': ""Add functional test to delete a server while in VERIFY_RESIZE\n\nThis scenario came up while discussing what might be causing\nleaked resource allocations in Placement [1].\n\nI fully expected the new test to fail because I couldn't see\nfrom the compute manager where the migration-based allocations\nwould be cleaned up when deleting the server. It turns out that\nwhen deleting a VERIFY_RESIZE server, the API confirms the resize\nwhich drops the migration-based allocations on the source node\nbefore deleting the server on the target node.\n\nSince this is not obvious, a comment in the compute API\n_confirm_resize_on_deleting() method is added.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-November/136295.html\n\nChange-Id: I4c12502c86c7ac27369d119e0f97768cf41695b5\n""}]",0,615644,33cab70e1c9584d8253a47e49f057381265f1817,74,18,3,6873,,,0,"Add functional test to delete a server while in VERIFY_RESIZE

This scenario came up while discussing what might be causing
leaked resource allocations in Placement [1].

I fully expected the new test to fail because I couldn't see
from the compute manager where the migration-based allocations
would be cleaned up when deleting the server. It turns out that
when deleting a VERIFY_RESIZE server, the API confirms the resize
which drops the migration-based allocations on the source node
before deleting the server on the target node.

Since this is not obvious, a comment in the compute API
_confirm_resize_on_deleting() method is added.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-November/136295.html

Change-Id: I4c12502c86c7ac27369d119e0f97768cf41695b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/615644/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py']",2,7cf8661aa13d1ef3dcc5b3c83cf1c2b09823bac2,," def test_resize_delete_while_verify(self): """"""Test scenario where the server is deleted while in the VERIFY_RESIZE state and ensures the allocations are properly cleaned up from the source and target compute node resource providers. """""" dest_hostname = 'host2' source_hostname = self._other_hostname(dest_hostname) source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations(self.flavor1, source_hostname) self._resize_and_check_allocations(server, self.flavor1, self.flavor2, source_rp_uuid, dest_rp_uuid) self._delete_and_check_allocations(server) ",,41,0
openstack%2Fopenstack-zuul-jobs~master~Ide5614c550486e3d34f9217c3f03781aebd58e75,openstack/openstack-zuul-jobs,master,Ide5614c550486e3d34f9217c3f03781aebd58e75,Run logstash-filters job on Xenial,MERGED,2019-03-15 20:12:20.000000000,2019-03-15 23:08:23.000000000,2019-03-15 23:08:23.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 20:12:20.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/330c51f5613678e5f4504153c619d3e2212fe2bb', 'message': ""Run logstash-filters job on Xenial\n\nThis job was running on Xenial because we set it up using puppet which\nwe don't support on bionic. The default nodeset was then switched to\nbionic. Change this job back to xenial.\n\nChange-Id: Ide5614c550486e3d34f9217c3f03781aebd58e75\n""}]",0,643674,330c51f5613678e5f4504153c619d3e2212fe2bb,7,3,1,4146,,,0,"Run logstash-filters job on Xenial

This job was running on Xenial because we set it up using puppet which
we don't support on bionic. The default nodeset was then switched to
bionic. Change this job back to xenial.

Change-Id: Ide5614c550486e3d34f9217c3f03781aebd58e75
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/74/643674/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,330c51f5613678e5f4504153c619d3e2212fe2bb,logstash-filters-on-xenial, nodeset: ubuntu-xenial,,1,0
openstack%2Fironic~master~I1116bd5812f3715bd7d6d1bf34df932f81702147,openstack/ironic,master,I1116bd5812f3715bd7d6d1bf34df932f81702147,Make metrics usable,MERGED,2019-03-14 19:10:37.000000000,2019-03-15 22:56:23.000000000,2019-03-15 06:09:58.000000000,"[{'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-03-14 19:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98053e2e3121374858871973f4e939d17793a2eb', 'message': 'Make metrics usable\n\nMetric notifications were hard coded with a value indicating\n""ipmi"" for all hardware types and management interfaces which\noffer sensor data to be transmitted as a metric notification.\n\nAlso adds a node_name field to allow processors to leverage\nthe node name as opposed to needing ironic API or database access\nto construct enough data to make metrics notifications usable.\n\nChange-Id: I1116bd5812f3715bd7d6d1bf34df932f81702147\n'}, {'number': 2, 'created': '2019-03-14 22:29:10.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/metrics-notifier-information-17858c8e27c795d7.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5d44d3aaf9bff8ac3224a820cbe6514ca506e56', 'message': 'Make metrics usable\n\nMetric notifications were hard coded with a value indicating\n""ipmi"" for all hardware types and management interfaces which\noffer sensor data to be transmitted as a metric notification.\n\nAlso adds a node_name field to allow processors to leverage\nthe node name as opposed to needing ironic API or database access\nto construct enough data to make metrics notifications usable.\n\nChange-Id: I1116bd5812f3715bd7d6d1bf34df932f81702147\n'}]",6,643436,b5d44d3aaf9bff8ac3224a820cbe6514ca506e56,19,8,2,11655,,,0,"Make metrics usable

Metric notifications were hard coded with a value indicating
""ipmi"" for all hardware types and management interfaces which
offer sensor data to be transmitted as a metric notification.

Also adds a node_name field to allow processors to leverage
the node name as opposed to needing ironic API or database access
to construct enough data to make metrics notifications usable.

Change-Id: I1116bd5812f3715bd7d6d1bf34df932f81702147
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/643436/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/metrics-notifier-information-17858c8e27c795d7.yaml']",3,98053e2e3121374858871973f4e939d17793a2eb,,"--- features: - | Notification events for metrics data now contains a ``node_name`` field to assist operators with relating metrics data being transmitted by the conductor service. fixes: - | Notification event types now include the hardware type name string as opposed to a static string of ""ipmi"". This allows event processors and operators to understand what the actual notification event data source is as opposed to having to rely upon fingerprints of the data to make such determinations. ",,38,4
openstack%2Fironic~stable%2Fqueens~I96edb28955e64915e9d6a481634857fd27690555,openstack/ironic,stable/queens,I96edb28955e64915e9d6a481634857fd27690555,Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed),MERGED,2019-03-07 07:57:56.000000000,2019-03-15 22:55:43.000000000,2019-03-15 22:55:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-03-07 07:57:56.000000000', 'files': ['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/common/test_exception.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'releasenotes/notes/type-error-str-6826c53d7e5e1243.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/064486275a404031532eba9bb0e02fb23484aa3f', 'message': 'Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed)\n\nThis change contains two fixes for the same issue:\n* Do not pass an instance of ImageRefValidationFailed as a message\n  to an exception constructor.\n* Make sure that IronicException.__str__ always returns an str,\n  even when a non-string is passed as the first argument to __init__.\n\nChange-Id: I96edb28955e64915e9d6a481634857fd27690555\nStory: #2003682\nTask: #26206\n(cherry picked from commit 245af384ff582d586ce736aed41017ca39e0db14)\n'}]",0,641585,064486275a404031532eba9bb0e02fb23484aa3f,25,6,1,10239,,,0,"Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed)

This change contains two fixes for the same issue:
* Do not pass an instance of ImageRefValidationFailed as a message
  to an exception constructor.
* Make sure that IronicException.__str__ always returns an str,
  even when a non-string is passed as the first argument to __init__.

Change-Id: I96edb28955e64915e9d6a481634857fd27690555
Story: #2003682
Task: #26206
(cherry picked from commit 245af384ff582d586ce736aed41017ca39e0db14)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/641585/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/common/test_exception.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'releasenotes/notes/type-error-str-6826c53d7e5e1243.yaml']",5,064486275a404031532eba9bb0e02fb23484aa3f,story/2003682-stable/queens,--- fixes: - | Returns the correct error message on providing an invalid reference to ``image_source``. Previously an internal error was raised. ,,22,9
openstack%2Fheat~master~I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8,openstack/heat,master,I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8,Use keystone session with heatclient in integration tests,MERGED,2017-02-18 07:40:42.000000000,2019-03-15 22:54:35.000000000,2019-03-15 22:54:35.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 17842}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-02-18 07:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8e1ffe4982fecb2c6aeae3647b1620d0650e4c5', 'message': 'Use session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\n'}, {'number': 2, 'created': '2017-02-20 07:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a8372471454cb03bae9495b61ff54b2059350426', 'message': 'Use session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\n'}, {'number': 3, 'created': '2017-06-02 05:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/71d8822bf18514edffc23215b8a3d506031c6622', 'message': 'Use session with heatclient in integration tests\n\nThis also reduces the client socket timeout to be less\nthan the sighup_timeout, else the sighup tests fail\nat times(sockets are not closed for remote stacks).\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 4, 'created': '2017-06-07 03:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6eeb8c6e882a282bddbfd977ff3f2d2cf077974b', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 5, 'created': '2017-07-05 04:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a389debef8dabf54f68a02e139213355668fc189', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 6, 'created': '2017-07-07 05:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/94b6338e694b80380958c08505e6613c51ff4989', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 7, 'created': '2019-03-15 08:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/efcd610e847d58a8fdd8e8624848a68121802d76', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}, {'number': 8, 'created': '2019-03-15 09:14:32.000000000', 'files': ['heat_integrationtests/common/clients.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/97f2636dc72125897095e91b398da1cc20e9c39e', 'message': 'Use keystone session with heatclient in integration tests\n\nChange-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8\nRelated-Bug: #1695144\n'}]",0,435667,97f2636dc72125897095e91b398da1cc20e9c39e,39,7,8,8833,,,0,"Use keystone session with heatclient in integration tests

Change-Id: I4c66927e3dd3e1a91cfab94f26a24dbe8932bde8
Related-Bug: #1695144
",git fetch https://review.opendev.org/openstack/heat refs/changes/67/435667/3 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/common/clients.py'],1,c8e1ffe4982fecb2c6aeae3647b1620d0650e4c5,bug/1695144," session = None else: session = self.identity_client.session return heat_client.Client( self.HEATCLIENT_VERSION, endpoint, session=session, endpoint_type='publicURL', service_type='orchestration', region_name=self.conf.region, username=self._username(), password=self._password())"," token = None else: token = self.identity_client.auth_token try: if endpoint is None: endpoint = self.identity_client.get_endpoint_url( 'orchestration', self.conf.region) except kc_exceptions.EndpointNotFound: return None else: return heat_client.Client( self.HEATCLIENT_VERSION, endpoint, token=token, username=self._username(), password=self._password())",12,15
openstack%2Ftripleo-quickstart-extras~master~Ia767988dae7bf3c01b74fd719facf9f20daa6059,openstack/tripleo-quickstart-extras,master,Ia767988dae7bf3c01b74fd719facf9f20daa6059,WIP: attempt cleanup on container build id vars,MERGED,2019-03-13 23:34:46.000000000,2019-03-15 22:43:41.000000000,2019-03-15 22:43:41.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 23:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aa8448373528393fc91906740a0123b9984ba07b', 'message': 'WIP: attempt cleanup on container build id vars\n\nChange-Id: Ia767988dae7bf3c01b74fd719facf9f20daa6059\n'}, {'number': 2, 'created': '2019-03-14 23:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a7afe5047e16a299ecc013530a229ee0cd44bb4c', 'message': 'WIP: attempt cleanup on container build id vars\n\nChange-Id: Ia767988dae7bf3c01b74fd719facf9f20daa6059\n'}, {'number': 3, 'created': '2019-03-15 14:07:58.000000000', 'files': ['roles/container-prep/tasks/main.yml', 'roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c6eaa9d8cb48eb61791c49967b7741452e1c1732', 'message': 'WIP: attempt cleanup on container build id vars\n\nChange-Id: Ia767988dae7bf3c01b74fd719facf9f20daa6059\n'}]",3,643187,c6eaa9d8cb48eb61791c49967b7741452e1c1732,21,6,3,9592,,,0,"WIP: attempt cleanup on container build id vars

Change-Id: Ia767988dae7bf3c01b74fd719facf9f20daa6059
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/87/643187/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/container-prep/tasks/main.yml', 'roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2']",3,aa8448373528393fc91906740a0123b9984ba07b,bug/1819440, --tag {{ container_build_id }} \ --tag {{ container_build_id }} \ --tag {{ container_build_id }} --tag {{ container_build_id }},"BUILD_ID=${BUILD_ID:-""{{ container_build_id }}""} --tag $BUILD_ID \ --tag $BUILD_ID --tag $BUILD_ID",26,22
openstack%2Ftripleo-heat-templates~master~I3f666455a9c5d95536ec801cee86f83bef80fa81,openstack/tripleo-heat-templates,master,I3f666455a9c5d95536ec801cee86f83bef80fa81,rename rsyslogd service to rsyslog and deal with lack of reload.,MERGED,2019-03-15 08:11:51.000000000,2019-03-15 22:43:40.000000000,2019-03-15 22:43:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-15 08:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d762e515bf77d37da580158398cb9b7fa5674bc7', 'message': 'rename rsyslogd service to rsyslog.\n\nChange-Id: I3f666455a9c5d95536ec801cee86f83bef80fa81\nCloses: https://bugs.launchpad.net/tripleo/+bug/1820166\n'}, {'number': 2, 'created': '2019-03-15 08:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/369feafab18e826e99f9a514f94669ac3ce05cad', 'message': 'rename rsyslogd service to rsyslog.\n\nOverlcloud deployment fails during the ""Reload services"" TASK:\n\nTASK [Reload services] *********************************************************\nFriday 15 March 2019 07:51:43 +0000 (0:00:00.560) 0:02:53.361 **********\nskipping: [controller-0] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-0] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nfailed: [compute-0] (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""msg"": ""Could not find the requested service rsyslogd: host""}\n....\n\nChecking ""compute-0"" it looks like the service name is ""rsyslog"":\n\nroot@compute-0 ~]# systemctl |grep rsys\n  rsyslog.service\n\nChange-Id: I3f666455a9c5d95536ec801cee86f83bef80fa81\nCloses: https://bugs.launchpad.net/tripleo/+bug/1820166\n'}, {'number': 3, 'created': '2019-03-15 08:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/711671503ee32b8298c2afca8bf39b580fc48b83', 'message': 'rename rsyslogd service to rsyslog.\n\nOverlcloud deployment fails during the ""Reload services"" TASK:\n\nTASK [Reload services] *********************************************************\nFriday 15 March 2019 07:51:43 +0000 (0:00:00.560) 0:02:53.361 **********\nskipping: [controller-0] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-0] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nfailed: [compute-0] (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""msg"": ""Could not find the requested service rsyslogd: host""}\n....\n\nChecking ""compute-0"" it looks like the service name is ""rsyslog"":\n\nroot@compute-0 ~]# systemctl |grep rsys\n  rsyslog.service\n\nChange-Id: I3f666455a9c5d95536ec801cee86f83bef80fa81\nCloses-Bug: #1820166\n'}, {'number': 4, 'created': '2019-03-15 13:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bd6143ee9592a459e1cb88fbe1515243766aed8', 'message': 'rename rsyslogd service to rsyslog and deal with lack of reload.\n\nOverlcloud deployment fails during the ""Reload services"" TASK:\n\nTASK [Reload services] *********************************************************\nFriday 15 March 2019 07:51:43 +0000 (0:00:00.560) 0:02:53.361 **********\nskipping: [controller-0] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-0] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nfailed: [compute-0] (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""msg"": ""Could not find the requested service rsyslogd: host""}\n....\n\nChecking ""compute-0"" it looks like the service name is ""rsyslog"":\n\nroot@compute-0 ~]# systemctl |grep rsys\n  rsyslog.service\n\nSimply renaming the service is not sufficient, as the unit file does not\nsupport the reload OP:\n\n[Service]\nType=notify\nEnvironmentFile=-/etc/sysconfig/rsyslog\nExecStart=/usr/sbin/rsyslogd -n $SYSLOGD_OPTIONS\nUMask=0066\nStandardOutput=null\nRestart=on-failure\n\nLacking better options we need to restart rsyslog.\n\nChange-Id: I3f666455a9c5d95536ec801cee86f83bef80fa81\nCloses-Bug: #1820166\n'}, {'number': 5, 'created': '2019-03-15 13:55:12.000000000', 'files': ['deployment/time/timezone-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/256d763d4c1a2f6add2f630c2338b2d1250c7dce', 'message': 'rename rsyslogd service to rsyslog and deal with lack of reload.\n\nOverlcloud deployment fails during the ""Reload services"" TASK:\n\nTASK [Reload services] *********************************************************\nFriday 15 March 2019 07:51:43 +0000 (0:00:00.560) 0:02:53.361 **********\nskipping: [controller-0] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-0] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-1] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}\nskipping: [controller-2] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}\nfailed: [compute-0] (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""msg"": ""Could not find the requested service rsyslogd: host""}\n....\n\nChecking ""compute-0"" it looks like the service name is ""rsyslog"":\n\nroot@compute-0 ~]# systemctl |grep rsys\n  rsyslog.service\n\nSimply renaming the service is not sufficient, as the unit file does not\nsupport the reload OP:\n\n[Service]\nType=notify\nEnvironmentFile=-/etc/sysconfig/rsyslog\nExecStart=/usr/sbin/rsyslogd -n $SYSLOGD_OPTIONS\nUMask=0066\nStandardOutput=null\nRestart=on-failure\n\nLacking better options we need to restart rsyslog.\n\nChange-Id: I3f666455a9c5d95536ec801cee86f83bef80fa81\nCloses-Bug: #1820166\n'}]",3,643527,256d763d4c1a2f6add2f630c2338b2d1250c7dce,20,7,5,25259,,,0,"rename rsyslogd service to rsyslog and deal with lack of reload.

Overlcloud deployment fails during the ""Reload services"" TASK:

TASK [Reload services] *********************************************************
Friday 15 March 2019 07:51:43 +0000 (0:00:00.560) 0:02:53.361 **********
skipping: [controller-0] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}
skipping: [controller-0] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}
skipping: [controller-1] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}
skipping: [controller-1] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}
skipping: [controller-2] => (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""skip_reason"": ""Conditional result was False""}
skipping: [controller-2] => (item=crond) => {""changed"": false, ""item"": ""crond"", ""skip_reason"": ""Conditional result was False""}
failed: [compute-0] (item=rsyslogd) => {""changed"": false, ""item"": ""rsyslogd"", ""msg"": ""Could not find the requested service rsyslogd: host""}
....

Checking ""compute-0"" it looks like the service name is ""rsyslog"":

root@compute-0 ~]# systemctl |grep rsys
  rsyslog.service

Simply renaming the service is not sufficient, as the unit file does not
support the reload OP:

[Service]
Type=notify
EnvironmentFile=-/etc/sysconfig/rsyslog
ExecStart=/usr/sbin/rsyslogd -n $SYSLOGD_OPTIONS
UMask=0066
StandardOutput=null
Restart=on-failure

Lacking better options we need to restart rsyslog.

Change-Id: I3f666455a9c5d95536ec801cee86f83bef80fa81
Closes-Bug: #1820166
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/643527/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/time/timezone-baremetal-ansible.yaml'],1,d762e515bf77d37da580158398cb9b7fa5674bc7,bug/1820166, - rsyslog, - rsyslogd,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6,openstack/tripleo-heat-templates,stable/rocky,I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6,Enable Glance image_conversion plugin when backend is rbd,MERGED,2019-03-15 05:03:27.000000000,2019-03-15 22:43:38.000000000,2019-03-15 22:43:38.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 19138}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-15 05:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef48d840ae2d2b0f0427f0ffbe3cff257e391103', 'message': ""Enable Glance image_conversion plugin when backend is rbd\n\nCeph can store QCOW2 images but to be able to create Nova guests\nfrom image snapshots the image format must be in RAW format,\notherwise Nova will download the QCOW2 image, convert it locally\nand upload it back into the Ceph pool if the ephemeral storage is\nalso Ceph. This process slows down guest boot especially when\nmultiple guests are booted in parallel and consumes a lot of CPU\nand network resources.\n\nThis change enables the Glance image_conversion plugin when the\nGlance backend is set to 'rbd', which takes care of converting\nthe uploaded images into RAW format automatically when operators\nuse the glance 'import' command.\n\nConflicts:\n       puppet/services/glance-api.yaml\n\nChange-Id: I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6\n(cherry picked from commit ccb242f919a09527ec8414b95dda65e390cab9a2)\n""}, {'number': 2, 'created': '2019-03-15 14:25:43.000000000', 'files': ['puppet/services/glance-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/745369e8ac77f84f03ad7498b112888392ee094d', 'message': ""Enable Glance image_conversion plugin when backend is rbd\n\nCeph can store QCOW2 images but to be able to create Nova guests\nfrom image snapshots the image format must be in RAW format,\notherwise Nova will download the QCOW2 image, convert it locally\nand upload it back into the Ceph pool if the ephemeral storage is\nalso Ceph. This process slows down guest boot especially when\nmultiple guests are booted in parallel and consumes a lot of CPU\nand network resources.\n\nThis change enables the Glance image_conversion plugin when the\nGlance backend is set to 'rbd', which takes care of converting\nthe uploaded images into RAW format automatically when operators\nuse the glance 'import' command.\n\nConflicts:\n       puppet/services/glance-api.yaml\n\nCloses-bug: #1820289\nChange-Id: I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6\n(cherry picked from commit ccb242f919a09527ec8414b95dda65e390cab9a2)\n""}]",2,643507,745369e8ac77f84f03ad7498b112888392ee094d,13,7,2,19138,,,0,"Enable Glance image_conversion plugin when backend is rbd

Ceph can store QCOW2 images but to be able to create Nova guests
from image snapshots the image format must be in RAW format,
otherwise Nova will download the QCOW2 image, convert it locally
and upload it back into the Ceph pool if the ephemeral storage is
also Ceph. This process slows down guest boot especially when
multiple guests are booted in parallel and consumes a lot of CPU
and network resources.

This change enables the Glance image_conversion plugin when the
Glance backend is set to 'rbd', which takes care of converting
the uploaded images into RAW format automatically when operators
use the glance 'import' command.

Conflicts:
       puppet/services/glance-api.yaml

Closes-bug: #1820289
Change-Id: I9fc0758dbe64f3fcf0e990f4253151e9472a6ab6
(cherry picked from commit ccb242f919a09527ec8414b95dda65e390cab9a2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/643507/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/glance-api.yaml'],1,ef48d840ae2d2b0f0427f0ffbe3cff257e391103,glance_import," default: [] rbd_backend_enabled: {equals: [{get_param: GlanceBackend}, rbd]} glance::api::image_import_plugins: if: - rbd_backend_enabled - list_concat_unique: - {get_param: GlanceImageImportPlugins} - ['image_conversion'] - {get_param: GlanceImageImportPlugins}", default: ['no_op'] glance::api::image_import_plugins: {get_param: GlanceImageImportPlugins},10,2
openstack%2Freleases~master~Ibb12599f776759a70476aa06e4f9e473a71bdb3f,openstack/releases,master,Ibb12599f776759a70476aa06e4f9e473a71bdb3f,Release os-brick 2.8.1,MERGED,2019-03-15 13:52:37.000000000,2019-03-15 22:34:51.000000000,2019-03-15 22:34:51.000000000,"[{'_account_id': 2472}, {'_account_id': 7198}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 13:52:37.000000000', 'files': ['deliverables/stein/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78ae3ff90f7bf5adef17e3894c717eced76ede2f', 'message': 'Release os-brick 2.8.1\n\nThis release is to correct some changes that were accidentally\nallowed into os-brick during the stein release and to\nfix some associated bugs.\n\nChange-Id: Ibb12599f776759a70476aa06e4f9e473a71bdb3f\n'}]",0,643588,78ae3ff90f7bf5adef17e3894c717eced76ede2f,11,5,1,7198,,,0,"Release os-brick 2.8.1

This release is to correct some changes that were accidentally
allowed into os-brick during the stein release and to
fix some associated bugs.

Change-Id: Ibb12599f776759a70476aa06e4f9e473a71bdb3f
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/643588/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/os-brick.yaml'],1,78ae3ff90f7bf5adef17e3894c717eced76ede2f,, - projects: - hash: 05b6c9f9fad15354f598bbd332a5d56230ece1e0 repo: openstack/os-brick version: 2.8.1,,4,0
openstack%2Fironic-inspector~master~I115b92b9d7bcdbb1c03f0d259dbba6efd2baec2a,openstack/ironic-inspector,master,I115b92b9d7bcdbb1c03f0d259dbba6efd2baec2a,Pass reset_interfaces when updating a driver from the rules,MERGED,2019-03-06 12:23:57.000000000,2019-03-15 22:31:46.000000000,2019-03-15 22:31:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-03-06 12:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/23b378e9197af5c309acf215a99355b89adc6db4', 'message': '[WIP] Pass reset_interfaces when updating a driver from the rules\n\nChange-Id: I115b92b9d7bcdbb1c03f0d259dbba6efd2baec2a\n'}, {'number': 2, 'created': '2019-03-06 12:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/406ca4842f7707218fafc02a7a2b1dff25ebe766', 'message': 'Pass reset_interfaces when updating a driver from the rules\n\nOtherwise updating a driver requires listing all interfaces with their\nnew values. This patch is designed to be backportable, so it has\na fall-back to the previous behavior if the required API version and/or\nironicclient versions are not available.\n\nStory: #2005148\nTask: #29854\nChange-Id: I115b92b9d7bcdbb1c03f0d259dbba6efd2baec2a\n'}, {'number': 3, 'created': '2019-03-14 10:03:10.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/test/unit/test_plugins_rules.py', 'releasenotes/notes/reset-interfaces-ff78d50b9f05d47d.yaml', 'devstack/plugin.sh', 'ironic_inspector/plugins/rules.py', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ada6b106c523984d37713dff4779c4eb090d3c1f', 'message': 'Pass reset_interfaces when updating a driver from the rules\n\nOtherwise updating a driver requires listing all interfaces with their\nnew values. This patch is designed to be backportable, so it has\na fall-back to the previous behavior if the required API version and/or\nironicclient versions are not available.\n\nStory: #2005148\nTask: #29854\nDepends-On: https://review.openstack.org/#/c/643264/\nChange-Id: I115b92b9d7bcdbb1c03f0d259dbba6efd2baec2a\n'}]",9,641340,ada6b106c523984d37713dff4779c4eb090d3c1f,23,5,3,10239,,,0,"Pass reset_interfaces when updating a driver from the rules

Otherwise updating a driver requires listing all interfaces with their
new values. This patch is designed to be backportable, so it has
a fall-back to the previous behavior if the required API version and/or
ironicclient versions are not available.

Story: #2005148
Task: #29854
Depends-On: https://review.openstack.org/#/c/643264/
Change-Id: I115b92b9d7bcdbb1c03f0d259dbba6efd2baec2a
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/40/641340/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_rules.py', 'ironic_inspector/plugins/rules.py', 'ironic_inspector/common/ironic.py']",3,23b378e9197af5c309acf215a99355b89adc6db4,story/2005148,"# 1.46 is the latest API version in the Rocky release series, 11.1.0.DEFAULT_IRONIC_API_VERSION = ['1.38', '1.46']",DEFAULT_IRONIC_API_VERSION = '1.38',39,4
openstack%2Fopenstack-helm-infra~master~Icb407f5271581979d3a2869b776013ba478c9487,openstack/openstack-helm-infra,master,Icb407f5271581979d3a2869b776013ba478c9487,Add default AppArmor profile to prometheus-node-exporter,MERGED,2019-02-27 20:23:28.000000000,2019-03-15 22:15:01.000000000,2019-03-15 22:15:01.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 19064}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26686}, {'_account_id': 28025}, {'_account_id': 28235}, {'_account_id': 28778}, {'_account_id': 29131}, {'_account_id': 29254}]","[{'number': 1, 'created': '2019-02-27 20:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8e6b392e9f78b8d5b9e67b2921d69f10fbd0d9a', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 2, 'created': '2019-02-28 19:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60dad9e946b1eb29d59acc60d794d34d61d7ba90', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 3, 'created': '2019-02-28 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d2f49826755c86b22b53197980df2259c7fb22a', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 4, 'created': '2019-03-01 13:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa43dab5063089b1d7520d290dfd772fd0d10abe', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 5, 'created': '2019-03-05 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3f0f28a830ec06787c03d398fb638360bae3a04b', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 6, 'created': '2019-03-05 18:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a634c648aed2b0c0d37272f618efb5d7227b272', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 7, 'created': '2019-03-06 06:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b30ea4079de8190569896aa83fa101aed8ca0969', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 8, 'created': '2019-03-06 19:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06f4303f793a95956779a84c73824fd2c118e571', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 9, 'created': '2019-03-06 21:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a93b0bf521ec9d84aa850cf69d27acdb9438cf28', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 10, 'created': '2019-03-06 21:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bdfdfc2510ac2b83c82f3352033a6dcd82bfa40', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 11, 'created': '2019-03-12 14:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48f19aa62ee9fe0834230e2e72f40ca758ffc560', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 12, 'created': '2019-03-13 15:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78da751626a6e9eb9b90d59f9fb7bcee7f0a1512', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 13, 'created': '2019-03-14 14:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2ed92d07f0a17e94e8c86e74b1c04de2c0de0bf', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 14, 'created': '2019-03-15 16:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a28fe73f821ea480673db30083a50a2678526b9f', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}, {'number': 15, 'created': '2019-03-15 17:59:15.000000000', 'files': ['prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/daemonset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/469b31356ddb71698281bb1bd8990a8c05757368', 'message': 'Add default AppArmor profile to prometheus-node-exporter\n\nChange-Id: Icb407f5271581979d3a2869b776013ba478c9487\n'}]",1,639810,469b31356ddb71698281bb1bd8990a8c05757368,48,16,15,29131,,,0,"Add default AppArmor profile to prometheus-node-exporter

Change-Id: Icb407f5271581979d3a2869b776013ba478c9487
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/639810/5 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/daemonset.yaml']",2,b8e6b392e9f78b8d5b9e67b2921d69f10fbd0d9a,,"{{ dict ""envAll"" $envAll ""podName"" ""node-exporter"" ""containerNames"" (list ""node-exporter"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,5,1
openstack%2Ftripleo-quickstart~master~I1c5b872b01c17f19dee7d8a723b964646454bb1d,openstack/tripleo-quickstart,master,I1c5b872b01c17f19dee7d8a723b964646454bb1d,Add qemu-guest-agent to libvirt guests,MERGED,2018-04-30 13:06:22.000000000,2019-03-15 22:09:33.000000000,2019-03-15 22:09:33.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-04-30 13:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cc18093b0949a47a05aa2495b4c2cdfeb23a3d3c', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}, {'number': 2, 'created': '2018-04-30 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/856a8e4f57e6abf2f285af1423f2f3ba5229b09e', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}, {'number': 3, 'created': '2019-01-04 11:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a0d0d91430c968725c086e8fe862087aaa7c3032', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}, {'number': 4, 'created': '2019-01-07 12:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e2e28302d38a0e7219253cc3a17ecc4a303010d', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}, {'number': 5, 'created': '2019-01-08 15:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b66219370574244de534739272b37b7371c55e44', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}, {'number': 6, 'created': '2019-01-19 19:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/56b06c8ac760e1c94031d438baee92f6d83cf80a', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}, {'number': 7, 'created': '2019-03-07 11:42:02.000000000', 'files': ['roles/libvirt/setup/overcloud/templates/libvirtnodepoolvm.xml.j2', 'roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/49b647838b8bceaefe3962e700b7817e05f61f4d', 'message': 'Add qemu-guest-agent to libvirt guests\n\nadd qemu-guest-agent for libvirt reproducer guests.\n\nChange-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d\n'}]",3,565215,49b647838b8bceaefe3962e700b7817e05f61f4d,58,11,7,10969,,,0,"Add qemu-guest-agent to libvirt guests

add qemu-guest-agent for libvirt reproducer guests.

Change-Id: I1c5b872b01c17f19dee7d8a723b964646454bb1d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/15/565215/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/libvirt/setup/overcloud/tasks/fake_nodepool.yml', 'roles/libvirt/setup/overcloud/templates/fakenodepoolvm.xml.j2']",2,cc18093b0949a47a05aa2495b4c2cdfeb23a3d3c,agent, <channel type='unix'> <target type='virtio' name='org.qemu.guest_agent.0'/> </channel>,,13,0
openstack%2Fcharm-barbican~stable%2F18.11~I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5,openstack/charm-barbican,stable/18.11,I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5,Ensure HA resources are configured,MERGED,2019-03-15 19:08:44.000000000,2019-03-15 22:08:51.000000000,2019-03-15 22:08:51.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-03-15 19:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/b681766daf5f8f20868d0f8d18b4a635fb4c355a', 'message': 'Ensure HA resources are configured\n\nThe barbican charm was missing a configure_ha_resources call when the ha\nrelation is connected. This led to HA deploys missing a VIP resources.\n\nThis change enables barbican to run configure_ha_resources when the ha\nrelation is connected as the other OpenStack reactive charms do.\n\nChange-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5\nCloses-Bug: #1820290\n'}, {'number': 2, 'created': '2019-03-15 19:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/421c64f43ad47265ea21ed9ac205581af6514477', 'message': 'Ensure HA resources are configured\n\nThe barbican charm was missing a configure_ha_resources call when the ha\nrelation is connected. This led to HA deploys missing a VIP resources.\n\nThis change enables barbican to run configure_ha_resources when the ha\nrelation is connected as the other OpenStack reactive charms do.\n\nChange-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5\nCloses-Bug: #1820290\nDepends-On: https://review.openstack.org/#/c/643669\n'}, {'number': 3, 'created': '2019-03-15 20:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/47174d3d3ff6452b626334fef3a70dc936f7f9bc', 'message': 'Ensure HA resources are configured\n\nThe barbican charm was missing a configure_ha_resources call when the ha\nrelation is connected. This led to HA deploys missing a VIP resources.\n\nThis change enables barbican to run configure_ha_resources when the ha\nrelation is connected as the other OpenStack reactive charms do.\n\nChange-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5\nCloses-Bug: #1820290\nDepends-On: https://review.openstack.org/#/c/643669\n'}, {'number': 4, 'created': '2019-03-15 20:53:39.000000000', 'files': ['src/lib/charm/openstack/barbican.py', 'src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/fb09655d9d82a8a705cfc74e5479dd3cff0011de', 'message': 'Ensure HA resources are configured\n\nThe barbican charm was missing a configure_ha_resources call when the ha\nrelation is connected. This led to HA deploys missing a VIP resources.\n\nThis change enables barbican to run configure_ha_resources when the ha\nrelation is connected as the other OpenStack reactive charms do.\n\nChange-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5\nCloses-Bug: #1820290\nDepends-On: https://review.openstack.org/#/c/643669\n(cherry picked from commit e7f0a8ad65eecffad9c7a23ff7aac2bef1eea477)\n'}]",0,643657,fb09655d9d82a8a705cfc74e5479dd3cff0011de,19,5,4,11805,,,0,"Ensure HA resources are configured

The barbican charm was missing a configure_ha_resources call when the ha
relation is connected. This led to HA deploys missing a VIP resources.

This change enables barbican to run configure_ha_resources when the ha
relation is connected as the other OpenStack reactive charms do.

Change-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5
Closes-Bug: #1820290
Depends-On: https://review.openstack.org/#/c/643669
(cherry picked from commit e7f0a8ad65eecffad9c7a23ff7aac2bef1eea477)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/57/643657/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/barbican.py', 'src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py']",3,b681766daf5f8f20868d0f8d18b4a635fb4c355a,bug/1820290," 'cluster_connected': ('ha.connected',), }, 'when_not': { 'cluster_connected': ('ha.available',), }, def test_cluster_connected(self): hacluster = mock.MagicMock() barbican_charm = mock.MagicMock() self.patch_object(handlers.charm, 'provide_charm_instance', new=mock.MagicMock()) self.provide_charm_instance().__enter__.return_value = barbican_charm self.provide_charm_instance().__exit__.return_value = None handlers.cluster_connected(hacluster) barbican_charm.configure_ha_resources.assert_called_once_with( hacluster) barbican_charm.assess_status.assert_called_once_with()", },27,2
openstack%2Fnova~stable%2Fqueens~I46d124dfb0ecaa60bc10612055d2880104e2865f,openstack/nova,stable/queens,I46d124dfb0ecaa60bc10612055d2880104e2865f,DNM: testing tempest-slow fix for subnode config,ABANDONED,2019-03-13 14:46:49.000000000,2019-03-15 22:07:11.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-13 14:46:49.000000000', 'files': ['nova/conductor/tasks/live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc7247af847b3474503ebce3a4f80d7a4ee7bfd6', 'message': 'DNM: testing tempest-slow fix for subnode config\n\nDepends-On: https://review.openstack.org/#/c/643052/\nChange-Id: I46d124dfb0ecaa60bc10612055d2880104e2865f\n'}]",0,643059,dc7247af847b3474503ebce3a4f80d7a4ee7bfd6,7,5,1,6873,,,0,"DNM: testing tempest-slow fix for subnode config

Depends-On: https://review.openstack.org/#/c/643052/
Change-Id: I46d124dfb0ecaa60bc10612055d2880104e2865f
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/643059/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/live_migrate.py'],1,dc7247af847b3474503ebce3a4f80d7a4ee7bfd6,bug/1819910, # allocated for the given (destination) node. test, # allocated for the given (destination) node.,1,1
openstack%2Fmonasca-api~master~I5d31b46bc91c7ba270aeb28760996866081c7e07,openstack/monasca-api,master,I5d31b46bc91c7ba270aeb28760996866081c7e07,Remove Java build job,MERGED,2019-03-15 15:15:31.000000000,2019-03-15 21:33:30.000000000,2019-03-15 21:33:30.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2019-03-15 15:15:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7ebd8a90901f51f4dd75d35a9a2c07bda4b0244a', 'message': 'Remove Java build job\n\nJava implementation of monasca-api has been deprecated in Queens cycle\nand is not maintained anymore. This change removes the CI job for\nbuilding Java artifact.\n\nChange-Id: I5d31b46bc91c7ba270aeb28760996866081c7e07\n'}]",0,643606,7ebd8a90901f51f4dd75d35a9a2c07bda4b0244a,8,3,1,16222,,,0,"Remove Java build job

Java implementation of monasca-api has been deprecated in Queens cycle
and is not maintained anymore. This change removes the CI job for
building Java artifact.

Change-Id: I5d31b46bc91c7ba270aeb28760996866081c7e07
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/06/643606/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7ebd8a90901f51f4dd75d35a9a2c07bda4b0244a,,, - legacy-monasca-api-maven-build: voting: false,0,2
openstack%2Fironic~master~Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6,openstack/ironic,master,Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6,Kg key for IPMIv2 authentication,MERGED,2019-03-07 13:11:40.000000000,2019-03-15 21:17:58.000000000,2019-03-15 05:02:59.000000000,"[{'_account_id': 6620}, {'_account_id': 8767}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 18320}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 28429}, {'_account_id': 28543}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-03-07 13:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e53fe3d270b83e71757c4e0ec110478c53fab4d1', 'message': ""Kg key for IPMIv2 authentication\n\nSupport for the -y option of ipmitool\n\nQuote from docs:\n-y <hex key>\nUse supplied Kg key for IPMIv2 authentication. The key is expected\nin hexadecimal format and can be used to specify keys with non-printable\ncharacters. E.g. '-k PASSWORD' and '-y 50415353574F5244' are equivalent.\nThe default is not to use any Kg key.\n\nChange-Id: Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6\nStory: #2005158\nTask: #29876\n""}, {'number': 2, 'created': '2019-03-12 13:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fdc1be53def0f2d0b85ef16983b7a77ca0cc87f', 'message': ""Kg key for IPMIv2 authentication\n\nSupport for the -y option of ipmitool\n\nQuote from docs:\n-y <hex key>\nUse supplied Kg key for IPMIv2 authentication. The key is expected\nin hexadecimal format and can be used to specify keys with non-printable\ncharacters. E.g. '-k PASSWORD' and '-y 50415353574F5244' are equivalent.\nThe default is not to use any Kg key.\n\nChange-Id: Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6\nStory: #2005158\nTask: #29876\n""}, {'number': 3, 'created': '2019-03-14 14:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ab12a6a5dae24e41e13c1b4aafea369616d1397', 'message': ""Kg key for IPMIv2 authentication\n\nSupport for the -y option of ipmitool\n\nQuote from docs:\n-y <hex key>\nUse supplied Kg key for IPMIv2 authentication. The key is expected\nin hexadecimal format and can be used to specify keys with non-printable\ncharacters. E.g. '-k PASSWORD' and '-y 50415353574F5244' are equivalent.\nThe default is not to use any Kg key.\n\nChange-Id: Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6\nStory: #2005158\nTask: #29876\n""}, {'number': 4, 'created': '2019-03-14 15:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dce70064a4b2161950356431613c542fbfaa2541', 'message': ""Kg key for IPMIv2 authentication\n\nSupport for the -y option of ipmitool\n\nQuote from docs:\n-y <hex key>\nUse supplied Kg key for IPMIv2 authentication. The key is expected\nin hexadecimal format and can be used to specify keys with non-printable\ncharacters. E.g. '-k PASSWORD' and '-y 50415353574F5244' are equivalent.\nThe default is not to use any Kg key.\n\nChange-Id: Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6\nStory: #2005158\nTask: #29876\n""}, {'number': 5, 'created': '2019-03-14 19:41:30.000000000', 'files': ['releasenotes/notes/ipmi_hex_kg_key-8f6caabe5b7d7a9b.yaml', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82704e6d8d750f7a931d1b964bc246dcb2c50e38', 'message': ""Kg key for IPMIv2 authentication\n\nSupport for the -y option of ipmitool\n\nQuote from docs:\n-y <hex key>\nUse supplied Kg key for IPMIv2 authentication. The key is expected\nin hexadecimal format and can be used to specify keys with non-printable\ncharacters. E.g. '-k PASSWORD' and '-y 50415353574F5244' are equivalent.\nThe default is not to use any Kg key.\n\nChange-Id: Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6\nStory: #2005158\nTask: #29876\n""}]",2,641658,82704e6d8d750f7a931d1b964bc246dcb2c50e38,44,13,5,8767,,,0,"Kg key for IPMIv2 authentication

Support for the -y option of ipmitool

Quote from docs:
-y <hex key>
Use supplied Kg key for IPMIv2 authentication. The key is expected
in hexadecimal format and can be used to specify keys with non-printable
characters. E.g. '-k PASSWORD' and '-y 50415353574F5244' are equivalent.
The default is not to use any Kg key.

Change-Id: Ie6a9fc1a41d924e30eff526b3eae929ce6e085c6
Story: #2005158
Task: #29876
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/641658/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ipmitool.py'],1,e53fe3d270b83e71757c4e0ec110478c53fab4d1,ipmi-hex_kg_key," 'ipmi_hex_kg_key': _('Kg key for IPMIv2 authentication. ' 'The key is expected in hexadecimal format. ' 'Optional.'), hex_kg_key = six.text_type(info.get('ipmi_hex_kg_key', '')) 'hex_kg_key': hex_kg_key, if driver_info['hex_kg_key']: args.append('-y') args.append(driver_info['hex_kg_key']) ",,9,0
openstack%2Fovsdbapp~master~I3ae3daa529e864f139e200d7943288d7c931e86b,openstack/ovsdbapp,master,I3ae3daa529e864f139e200d7943288d7c931e86b,Add mock.patch.stopall cleanup handler to base test class,MERGED,2019-03-15 09:58:18.000000000,2019-03-15 21:12:13.000000000,2019-03-15 21:12:13.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 09:58:18.000000000', 'files': ['ovsdbapp/tests/base.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c52e53b1bc3bb2d783ec1716094893fd2dd77eb0', 'message': 'Add mock.patch.stopall cleanup handler to base test class\n\nThere are a few places where an object is mocked but never stopped.\nSuch a thing can cause unexpected behavior for other tests influeced by\nthe mock.  To be on the safe side, this patch adds a cleanup handler\nthat always stops all mocked objects after test is finished.\n\nChange-Id: I3ae3daa529e864f139e200d7943288d7c931e86b\n'}]",0,643547,c52e53b1bc3bb2d783ec1716094893fd2dd77eb0,11,3,1,8655,,,0,"Add mock.patch.stopall cleanup handler to base test class

There are a few places where an object is mocked but never stopped.
Such a thing can cause unexpected behavior for other tests influeced by
the mock.  To be on the safe side, this patch adds a cleanup handler
that always stops all mocked objects after test is finished.

Change-Id: I3ae3daa529e864f139e200d7943288d7c931e86b
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/47/643547/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/tests/base.py'],1,c52e53b1bc3bb2d783ec1716094893fd2dd77eb0,mock,"import mock """"""Test case base class for all unit and functional tests."""""" def setUp(self): super(TestCase, self).setUp() self.addCleanup(mock.patch.stopall)"," """"""Test case base class for all unit tests.""""""",6,1
openstack%2Fopenstack-helm-infra~master~Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b,openstack/openstack-helm-infra,master,Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b,Add init container to load apparmor profile for libvirt,MERGED,2019-03-06 15:49:38.000000000,2019-03-15 21:02:20.000000000,2019-03-15 17:22:41.000000000,"[{'_account_id': 8898}, {'_account_id': 10366}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 26449}, {'_account_id': 28025}, {'_account_id': 28778}, {'_account_id': 29254}]","[{'number': 1, 'created': '2019-03-06 15:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/947373a71357f4970b49237d462e02e6530f496f', 'message': 'Add init container to load apparmor profile for libvirt\n\nChange-Id: Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b\n'}, {'number': 2, 'created': '2019-03-06 20:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7629cdfbdfdad554b6f74dac86938ccc5b44279d', 'message': 'Add init container to load apparmor profile for libvirt\n\nChange-Id: Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b\n'}, {'number': 3, 'created': '2019-03-06 20:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a947e1deb73acebace50245e4e8eb42728d34012', 'message': 'Add init container to load apparmor profile for libvirt\n\nChange-Id: Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b\n'}, {'number': 4, 'created': '2019-03-12 14:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d617ffe46155973a83b64308912b60676ed9e6cb', 'message': 'Add init container to load apparmor profile for libvirt\n\nChange-Id: Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b\n'}, {'number': 5, 'created': '2019-03-15 14:11:54.000000000', 'files': ['libvirt/templates/daemonset-libvirt.yaml', 'zuul.d/project.yaml', 'libvirt/templates/configmap-apparmor.yaml', 'tools/deployment/apparmor/050-libvirt.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e606cf9754da29a9780a3b70d5d70bc336936879', 'message': 'Add init container to load apparmor profile for libvirt\n\nChange-Id: Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b\n'}]",9,641424,e606cf9754da29a9780a3b70d5d70bc336936879,26,12,5,29254,,,0,"Add init container to load apparmor profile for libvirt

Change-Id: Ie94e57725fefc8ef5584af9c1a66231c6bc2b91b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/24/641424/4 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/daemonset-libvirt.yaml', 'zuul.d/project.yaml', 'libvirt/templates/configmap-apparmor.yaml', 'tools/deployment/apparmor/050-libvirt.sh', 'zuul.d/jobs.yaml']",5,947373a71357f4970b49237d462e02e6530f496f,apparmor-loader, name: openstack-helm-infra-apparmor-libvirt parent: openstack-helm-infra-functional timeout: 7200 pre-run: playbooks/osh-infra-upgrade-host.yaml run: playbooks/osh-infra-gate-runner.yaml post-run: playbooks/osh-infra-collect-logs.yaml nodeset: openstack-helm-single-node vars: gate_scripts: - ./tools/deployment/apparmor/000-install-packages.sh - ./tools/deployment/apparmor/001-setup-apparmor-profiles.sh - ./tools/deployment/apparmor/005-deploy-k8s.sh - ./tools/deployment/apparmor/050-libvirt.sh - job:,,209,0
openstack%2Fdevstack~master~I7d16194d6ba1391ca31251d5b50cbb8de033fc38,openstack/devstack,master,I7d16194d6ba1391ca31251d5b50cbb8de033fc38,support python 3 on centos 7,MERGED,2019-02-28 11:25:21.000000000,2019-03-15 21:02:09.000000000,2019-03-12 21:35:43.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-28 11:25:21.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c759706686abb421879148410adced34e44333f2', 'message': 'support python 3 on centos 7\n\nwhen installing with python 3.6 on centos7 pip installs\npackages to /usr/local/bin as it does on new versions\nof fedora.\n\nthis change updates the check to include centos\n\nChange-Id: I7d16194d6ba1391ca31251d5b50cbb8de033fc38\n'}]",0,640002,c759706686abb421879148410adced34e44333f2,10,5,1,11604,,,0,"support python 3 on centos 7

when installing with python 3.6 on centos7 pip installs
packages to /usr/local/bin as it does on new versions
of fedora.

this change updates the check to include centos

Change-Id: I7d16194d6ba1391ca31251d5b50cbb8de033fc38
",git fetch https://review.opendev.org/openstack/devstack refs/changes/02/640002/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,c759706686abb421879148410adced34e44333f2,," if python3_enabled && [[ ""$os_VENDOR"" == ""CentOS"" ]] || \ [[ ""$os_VENDOR"" == ""Fedora"" && $os_RELEASE -gt 26 ]]; then"," if python3_enabled && [[ ""$os_VENDOR"" == ""Fedora"" && $os_RELEASE -gt 26 ]]; then",2,1
openstack%2Fplacement~master~I3d501543f7e79a8c3c030369af1398ca68f2b811,openstack/placement,master,I3d501543f7e79a8c3c030369af1398ca68f2b811,Remove unused table constants from allocation_candiate.py,MERGED,2019-03-14 12:32:05.000000000,2019-03-15 20:54:17.000000000,2019-03-15 20:54:17.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-14 12:32:05.000000000', 'files': ['placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/2e2cb183a4b889a8f9f66aad6e02f1f93de4136a', 'message': 'Remove unused table constants from allocation_candiate.py\n\nThe constants are not used in allocaion_candidate.py and\nare not referenced from elsewhere. The reason they ended\nup in there was because during the refactoring at [1] there\nwas indecision about whether some methods should be in\nresource_provider.py or allocation_candidate.py. They\nended up in resource_provider.py but the list of tables\nwas not updated.\n\n[1] I6539d7db87bc24b03842e3d28a4296002b3549d5\n\nChange-Id: I3d501543f7e79a8c3c030369af1398ca68f2b811\n'}]",1,643314,2e2cb183a4b889a8f9f66aad6e02f1f93de4136a,14,5,1,11564,,,0,"Remove unused table constants from allocation_candiate.py

The constants are not used in allocaion_candidate.py and
are not referenced from elsewhere. The reason they ended
up in there was because during the refactoring at [1] there
was indecision about whether some methods should be in
resource_provider.py or allocation_candidate.py. They
ended up in resource_provider.py but the list of tables
was not updated.

[1] I6539d7db87bc24b03842e3d28a4296002b3549d5

Change-Id: I3d501543f7e79a8c3c030369af1398ca68f2b811
",git fetch https://review.opendev.org/openstack/placement refs/changes/14/643314/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/allocation_candidate.py'],1,2e2cb183a4b889a8f9f66aad6e02f1f93de4136a,cd/de-list-phase2,,_AGG_TBL = models.PlacementAggregate.__table___RP_AGG_TBL = models.ResourceProviderAggregate.__table___RP_TRAIT_TBL = models.ResourceProviderTrait.__table__ _TRAIT_TBL = models.Trait.__table__,0,4
openstack%2Fplacement~master~I9995a81e47daa4d151d3ff1f027e8caf474a69ed,openstack/placement,master,I9995a81e47daa4d151d3ff1f027e8caf474a69ed,Note removal of OVO in contrib docs,MERGED,2019-03-11 18:58:29.000000000,2019-03-15 20:54:12.000000000,2019-03-15 20:54:12.000000000,"[{'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 18:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b3b006fa232c2283ccc5b7c7f132cbe42ca95288', 'message': 'Note removal of OVO in contrib docs\n\nWe got rid of OVO and otherwise refactored the object layer,\nso make that (more) clear in the contributor docs.\n\nChange-Id: I9995a81e47daa4d151d3ff1f027e8caf474a69ed\nStory: 2005190\nTask: 29945\n'}, {'number': 2, 'created': '2019-03-11 20:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a80b0b4fbeab6befaa0b8187b24e724acf3adfbb', 'message': 'Note removal of OVO in contrib docs\n\nWe got rid of OVO and otherwise refactored the object layer,\nso make that (more) clear in the contributor docs.\n\nChange-Id: I9995a81e47daa4d151d3ff1f027e8caf474a69ed\nStory: 2005190\nTask: 29945\n'}, {'number': 3, 'created': '2019-03-15 14:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ec5983559419795d8b3559484f826be2bd09c7d9', 'message': 'Note removal of OVO in contrib docs\n\nWe got rid of OVO and otherwise refactored the object layer,\nso make that (more) clear in the contributor docs.\n\nChange-Id: I9995a81e47daa4d151d3ff1f027e8caf474a69ed\nStory: 2005190\nTask: 29945\n'}, {'number': 4, 'created': '2019-03-15 14:49:23.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/a90b62d6f4f91f349c69276bd3e5ea9b2c0e0bf3', 'message': 'Note removal of OVO in contrib docs\n\nWe got rid of OVO and otherwise refactored the object layer,\nso make that (more) clear in the contributor docs.\n\nChange-Id: I9995a81e47daa4d151d3ff1f027e8caf474a69ed\nStory: 2005190\nTask: 29945\n'}]",4,642545,a90b62d6f4f91f349c69276bd3e5ea9b2c0e0bf3,24,7,4,11564,,,0,"Note removal of OVO in contrib docs

We got rid of OVO and otherwise refactored the object layer,
so make that (more) clear in the contributor docs.

Change-Id: I9995a81e47daa4d151d3ff1f027e8caf474a69ed
Story: 2005190
Task: 29945
",git fetch https://review.opendev.org/openstack/placement refs/changes/45/642545/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,b3b006fa232c2283ccc5b7c7f132cbe42ca95288,story/2005190,":oslo.versionedobjects-doc:`versioned objects <>` were used to provide thepersistence layer. In the Stein release, that interface was refactored to remove the use of versioned objects and split functionality into smaller modules.utility code is tested with unit tests found in ``placement/tests/unit``. Thefound in ``placement/tests/unit/objects`` and ``placement/tests/functional/db``.",":oslo.versionedobjects-doc:`versioned objects <>` are used to provide thepersistence layer. Even without RPC, these objects provide useful structuring and separation of the code.utility code is tested with unit tests found in `placement/tests/unit`. Thefound in ``placement/tests/unit/objects/test_resource_provider.py`` and `placement/tests/functional/db`.",7,6
openstack%2Fneutron~master~Ie92c2629b6e7d7af46287ef9e822786e71123439,openstack/neutron,master,Ie92c2629b6e7d7af46287ef9e822786e71123439,consume UnorderedList from neutron-lib,MERGED,2019-03-08 14:02:40.000000000,2019-03-15 20:54:10.000000000,2019-03-15 20:54:10.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-08 14:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acb73ef76b61d6976a0493d095b693953af7f3a5', 'message': 'consume UnorderedList from neutron-lib\n\nThe test tool class UnorderedList lives in neutron-lib.\nThis patch uses it from neutron-lib rather than neutron and removes\nthe class from neutron.\n\nDepends-On: https://review.openstack.org/#/c/641662/\nChange-Id: Ie92c2629b6e7d7af46287ef9e822786e71123439\n'}, {'number': 2, 'created': '2019-03-11 12:55:34.000000000', 'files': ['neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/tests/tools.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3a119bbbe8a032e7ce952f57a6fd1381de7b9a7', 'message': 'consume UnorderedList from neutron-lib\n\nThe test tool class UnorderedList lives in neutron-lib.\nThis patch uses it from neutron-lib rather than neutron and removes\nthe class from neutron.\n\nDepends-On: https://review.openstack.org/#/c/641662/\nChange-Id: Ie92c2629b6e7d7af46287ef9e822786e71123439\n'}]",0,642021,d3a119bbbe8a032e7ce952f57a6fd1381de7b9a7,25,9,2,5367,,,0,"consume UnorderedList from neutron-lib

The test tool class UnorderedList lives in neutron-lib.
This patch uses it from neutron-lib rather than neutron and removes
the class from neutron.

Depends-On: https://review.openstack.org/#/c/641662/
Change-Id: Ie92c2629b6e7d7af46287ef9e822786e71123439
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/642021/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/tests/tools.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py']",4,acb73ef76b61d6976a0493d095b693953af7f3a5,bp/neutronlib-decouple-db,from neutron_lib.tests import tools,from neutron.tests import tools,3,16
openstack%2Ftripleo-heat-templates~master~I93bd7bf988c881496ecee0c5d4e2bc97a5047571,openstack/tripleo-heat-templates,master,I93bd7bf988c881496ecee0c5d4e2bc97a5047571,Add python36 job,MERGED,2019-03-13 23:02:18.000000000,2019-03-15 20:52:05.000000000,2019-03-15 19:30:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-13 23:02:18.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df403c2cdfb94a7bd66a2ed57b2c2beed4ff4d3b', 'message': ""Add python36 job\n\nWe should be running a python3 job for tripleo-heat-templates and since\nwe dropped the old 3.5 job, let's add the correct 3.6 job.\n\nChange-Id: I93bd7bf988c881496ecee0c5d4e2bc97a5047571\n""}]",0,643179,df403c2cdfb94a7bd66a2ed57b2c2beed4ff4d3b,14,6,1,14985,,,0,"Add python36 job

We should be running a python3 job for tripleo-heat-templates and since
we dropped the old 3.5 job, let's add the correct 3.6 job.

Change-Id: I93bd7bf988c881496ecee0c5d4e2bc97a5047571
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/643179/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,df403c2cdfb94a7bd66a2ed57b2c2beed4ff4d3b,drop-tox-py35, - openstack-python36-jobs,,1,0
openstack%2Ftripleo-heat-templates~master~I41bf5002bd40654d55456a5cdafcef6b76b1f62e,openstack/tripleo-heat-templates,master,I41bf5002bd40654d55456a5cdafcef6b76b1f62e,Drop the old python35 job,MERGED,2019-03-13 23:00:01.000000000,2019-03-15 20:51:36.000000000,2019-03-15 19:04:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 23:00:01.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f0d23c78adf6f91259649f8a1369d6004cab35a', 'message': ""Drop the old python35 job\n\nWe are running the regular jobs with constraints now so we don't need to\nbe running this job. Additionally it's not functioning correctly with\nthe switch to bionic\n\nChange-Id: I41bf5002bd40654d55456a5cdafcef6b76b1f62e\n""}]",0,643178,9f0d23c78adf6f91259649f8a1369d6004cab35a,11,4,1,14985,,,0,"Drop the old python35 job

We are running the regular jobs with constraints now so we don't need to
be running this job. Additionally it's not functioning correctly with
the switch to bionic

Change-Id: I41bf5002bd40654d55456a5cdafcef6b76b1f62e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/643178/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9f0d23c78adf6f91259649f8a1369d6004cab35a,drop-tox-py35,, - openstack-python35-jobs-no-constraints,0,1
openstack%2Fheat-cfntools~master~I22733429c53c217e72fb6d65e1f0dc1353b021fa,openstack/heat-cfntools,master,I22733429c53c217e72fb6d65e1f0dc1353b021fa,add python 3.7 unit test job,MERGED,2019-02-15 18:54:02.000000000,2019-03-15 20:50:37.000000000,2019-03-15 20:50:36.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-15 18:54:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/00284d833802a01406de73e15f9f8fda8744032c', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I22733429c53c217e72fb6d65e1f0dc1353b021fa\nStory: #2004073\nTask: #27416\n'}]",0,637255,00284d833802a01406de73e15f9f8fda8744032c,6,2,1,11805,,,0,"add python 3.7 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.7.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I22733429c53c217e72fb6d65e1f0dc1353b021fa
Story: #2004073
Task: #27416
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/55/637255/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,00284d833802a01406de73e15f9f8fda8744032c,py37-job, - openstack-python37-jobs,,1,0
openstack%2Ftripleo-heat-templates~master~Icb7138de7f6065c758cd39cb0e433c6412442b1c,openstack/tripleo-heat-templates,master,Icb7138de7f6065c758cd39cb0e433c6412442b1c,Increase log level for command failures,MERGED,2019-03-13 15:13:40.000000000,2019-03-15 20:50:09.000000000,2019-03-15 19:15:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-13 15:13:40.000000000', 'files': ['docker/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9d382c514593d105374871a06ee5b1bb6d58b73', 'message': ""Increase log level for command failures\n\nIt's hard to find the actual root cause of the container configurations\nwhen looking in the logs because the error messages are just WARNINGs.\nLet's raise the messages where the real error message is to an ERROR\nlevel.\n\nChange-Id: Icb7138de7f6065c758cd39cb0e433c6412442b1c\nCloses-Bug: #1819931\n""}]",0,643071,b9d382c514593d105374871a06ee5b1bb6d58b73,16,7,1,14985,,,0,"Increase log level for command failures

It's hard to find the actual root cause of the container configurations
when looking in the logs because the error messages are just WARNINGs.
Let's raise the messages where the real error message is to an ERROR
level.

Change-Id: Icb7138de7f6065c758cd39cb0e433c6412442b1c
Closes-Bug: #1819931
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/643071/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/container-puppet.py'],1,b9d382c514593d105374871a06ee5b1bb6d58b73,bug/1819931," log.error('%s run failed after %s attempt(s): %s' % (cmd, cmd_stderr, count))"," log.warning('%s run failed after %s attempt(s): %s' % (cmd, cmd_stderr, count))",3,3
openstack%2Fpython-heatclient~master~Iad68a8b8e18f8b2d6e25444b4c79adf1b5bc8825,openstack/python-heatclient,master,Iad68a8b8e18f8b2d6e25444b4c79adf1b5bc8825,add python 3.7 unit test job,MERGED,2019-02-15 18:55:35.000000000,2019-03-15 20:34:01.000000000,2019-03-15 20:34:00.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-15 18:55:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/e4c37d7b13ee9fe8d88d464604378bc64936bc9c', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Iad68a8b8e18f8b2d6e25444b4c79adf1b5bc8825\nStory: #2004073\nTask: #27416\n'}]",0,637256,e4c37d7b13ee9fe8d88d464604378bc64936bc9c,6,2,1,11805,,,0,"add python 3.7 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.7.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: Iad68a8b8e18f8b2d6e25444b4c79adf1b5bc8825
Story: #2004073
Task: #27416
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/56/637256/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e4c37d7b13ee9fe8d88d464604378bc64936bc9c,py37-job, - openstack-python37-jobs,,1,0
openstack%2Fironic-tempest-plugin~master~I8718941bb194c8fc0646a1f0bc11ef3468291ccb,openstack/ironic-tempest-plugin,master,I8718941bb194c8fc0646a1f0bc11ef3468291ccb,discovery: optional support for testing changing driver,MERGED,2019-03-14 09:58:03.000000000,2019-03-15 20:24:35.000000000,2019-03-15 20:24:35.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-03-14 09:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9daf2b97dd917fe9da25d6e1b695d3bc4a65edc6', 'message': 'discovery: optional support for testing changing driver\n\nNow that we have reset_interfaces in the API, we can try changing the driver after\ndiscovery. This is optional, since reset_interfaces was only introduced in Rocky.\n\nChange-Id: I8718941bb194c8fc0646a1f0bc11ef3468291ccb\n'}, {'number': 2, 'created': '2019-03-15 09:54:08.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_introspection_discovery.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0812cc75944398e9aa7f74f8df0d146762dcc790', 'message': 'discovery: optional support for testing changing driver\n\nNow that we have reset_interfaces in the API, we can try changing the driver after\ndiscovery. This is optional, since reset_interfaces was only introduced in Rocky.\n\nChange-Id: I8718941bb194c8fc0646a1f0bc11ef3468291ccb\n'}]",1,643264,0812cc75944398e9aa7f74f8df0d146762dcc790,20,5,2,10239,,,0,"discovery: optional support for testing changing driver

Now that we have reset_interfaces in the API, we can try changing the driver after
discovery. This is optional, since reset_interfaces was only introduced in Rocky.

Change-Id: I8718941bb194c8fc0646a1f0bc11ef3468291ccb
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/64/643264/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_introspection_discovery.py']",2,9daf2b97dd917fe9da25d6e1b695d3bc4a65edc6,discovery," self.default_driver = ( CONF.baremetal_introspection.auto_discovery_default_driver ) self.expected_driver = ( CONF.baremetal_introspection.auto_discovery_target_driver or CONF.baremetal_introspection.auto_discovery_default_driver ) # This flag must be automatically set by the auto-discovery # process. ""value"": True}, # Making sure the initial driver matches the expected. {""op"": ""eq"", ""field"": ""node://driver"", ""value"": self.default_driver}, if self.expected_driver != self.default_driver: rule['actions'].append({ 'action': 'set-attribute', 'path': '/driver', 'value': self.expected_driver }) self.assertEqual(self.expected_driver, inspected_node['driver'])"," # This flag must be automatically set by the auto-discovery process ""value"": True} self.assertEqual( CONF.baremetal_introspection.auto_discovery_default_driver, inspected_node['driver'])",25,5
openstack%2Fironic-tempest-plugin~master~Ieeeb994e693a45954e77b3c1b22974224eb07de6,openstack/ironic-tempest-plugin,master,Ieeeb994e693a45954e77b3c1b22974224eb07de6,Run all defined jobs defined in check and gate,MERGED,2019-02-11 16:29:36.000000000,2019-03-15 20:24:34.000000000,2019-03-15 20:24:34.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-02-11 16:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/355c82997cd05c0b17f4f3143257be734149274b', 'message': 'DNM - Testing\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 2, 'created': '2019-02-12 10:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/fee786fdf60eb685e7da69c957f3ac1ff3c5aebb', 'message': 'DNM - Testing\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 3, 'created': '2019-02-12 10:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/00448dd48e990bdfd394ae7f88d01f3fec52d314', 'message': 'DNM - Testing\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 4, 'created': '2019-02-12 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/5dc89dd4bde6647b35c3bbc1dcdc7dd884b265a7', 'message': 'DNM - Testing\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 5, 'created': '2019-02-12 12:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/dad4af312e3c4b585cbf10193026f3094f29032e', 'message': 'DNM - Testing\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 6, 'created': '2019-02-12 13:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/677ecec42ca0761580b20ff127f6ebea3ae7e5da', 'message': 'Run all defined jobs defined in check and gate\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 7, 'created': '2019-02-12 13:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/11f2fb29d7971bed8be244240be3a0fe170e20f7', 'message': 'Run all defined jobs defined in check and gate\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 8, 'created': '2019-02-12 14:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/5ea0254ef4285f9e2387433c4ab9235368717d3b', 'message': 'Run all defined jobs defined in check and gate\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 9, 'created': '2019-02-12 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/97a7e5ec02e5bd8340cebb1f9a693ef2856d81af', 'message': 'Run all defined jobs defined in check and gate\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 10, 'created': '2019-02-13 13:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d0231630625eef0821c1049ca4e9a57d5c0d1b13', 'message': 'Run all defined jobs defined in check and gate\n\nDepends-On: https://review.openstack.org/#/c/630100\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 11, 'created': '2019-02-18 12:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/375e83df092fb44b9d9a7fe7d7d2e71cbfc662e3', 'message': 'Run all defined jobs defined in check and gate\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 12, 'created': '2019-02-18 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/1a24990cf1c1058a8ad95dc11726df38332685be', 'message': 'Run all defined jobs defined in check and gate\n\nDepends-On: https://review.openstack.org/#/c/635822/\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 13, 'created': '2019-02-19 11:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/607415701bdf5a5eb2860cb20b2ad45d10d9a9ce', 'message': 'Run all defined jobs defined in check and gate\n\nDepends-On: https://review.openstack.org/#/c/635822/\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 14, 'created': '2019-02-21 13:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e006a43d01cd8d0287729eb72931cb9072372dd7', 'message': 'Run all defined jobs defined in check and gate\n\nDepends-On: https://review.openstack.org/#/c/635822/\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 15, 'created': '2019-02-21 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e1e97441b1883a71e049e5e69e08fd78320cbe6a', 'message': 'Run all defined jobs defined in check and gate\n\nDepends-On: https://review.openstack.org/#/c/635822/\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}, {'number': 16, 'created': '2019-03-14 17:06:52.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/df2244ea40bdc114e19195af58183576a839084e', 'message': 'Run all defined jobs defined in check and gate\n\nChange-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6\n'}]",0,636169,df2244ea40bdc114e19195af58183576a839084e,46,4,16,15519,,,0,"Run all defined jobs defined in check and gate

Change-Id: Ieeeb994e693a45954e77b3c1b22974224eb07de6
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/69/636169/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/stable-jobs.yaml'],1,355c82997cd05c0b17f4f3143257be734149274b,test, description: test,,1,0
openstack%2Fcharm-barbican~stable%2F18.11~Icface3ab69059083e172a4c16f721f783a5ff5e0,openstack/charm-barbican,stable/18.11,Icface3ab69059083e172a4c16f721f783a5ff5e0,Replace ostestr with stestr in testing framework.,MERGED,2019-03-15 19:38:05.000000000,2019-03-15 20:15:52.000000000,2019-03-15 20:15:52.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-03-15 19:38:05.000000000', 'files': ['test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/b750dfb3fd7204a22f0b81b1397a87a45b1a178e', 'message': 'Replace ostestr with stestr in testing framework.\n\nA system upgrade broke ostestr. We can fix it by just calling stestr\ndirectly.\n\nChange-Id: Icface3ab69059083e172a4c16f721f783a5ff5e0\n(cherry picked from commit fac18726b751a0d7792de44cc65785ccd1808441)\n'}]",0,643669,b750dfb3fd7204a22f0b81b1397a87a45b1a178e,8,4,1,11805,,,0,"Replace ostestr with stestr in testing framework.

A system upgrade broke ostestr. We can fix it by just calling stestr
directly.

Change-Id: Icface3ab69059083e172a4c16f721f783a5ff5e0
(cherry picked from commit fac18726b751a0d7792de44cc65785ccd1808441)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/69/643669/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",3,b750dfb3fd7204a22f0b81b1397a87a45b1a178e,bug/1820290-stable/18.11,commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs},commands = ostestr {posargs}commands = ostestr {posargs}commands = ostestr {posargs},5,5
openstack%2Fopenstack-ansible-os_tempest~master~If53b59f3faede91e158cd544742ab37639800b57,openstack/openstack-ansible-os_tempest,master,If53b59f3faede91e158cd544742ab37639800b57,Set tempest concurrency to int only,MERGED,2019-03-14 18:35:55.000000000,2019-03-15 20:13:51.000000000,2019-03-15 20:13:51.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27379}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-14 18:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2bfedcc63f98697a8ba9ea5087e16aa0c4ab178b', 'message': 'Set tempest concurrency to int only\n\nCurrently os_tempest role checks tempest concurrency to greater\nthan 0. But this review https://review.openstack.org/#/c/641349/\nsets default concurrency to zero so we donot need to check the\ndefault concuurency to greater than 0.\n\nhttps://github.com/mtreinish/stestr/pull/232 already checks the\nconcurrency value to int so we donot need to define check for int.\n\nChange-Id: If53b59f3faede91e158cd544742ab37639800b57\n'}, {'number': 2, 'created': '2019-03-15 05:48:23.000000000', 'files': ['tasks/tempest_run.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/43298b1bbee6fbb0a612e558619c9eb374c38a3f', 'message': 'Set tempest concurrency to int only\n\nCurrently os_tempest role checks tempest concurrency to greater\nthan 0. But this review https://review.openstack.org/#/c/641349/\nsets default concurrency to zero so we donot need to check the\ndefault concuurency to greater than 0.\n\nhttps://github.com/mtreinish/stestr/pull/232 already checks the\nconcurrency value to int so we donot need to define check for int.\n\nChange-Id: If53b59f3faede91e158cd544742ab37639800b57\n'}]",1,643423,43298b1bbee6fbb0a612e558619c9eb374c38a3f,13,8,2,12393,,,0,"Set tempest concurrency to int only

Currently os_tempest role checks tempest concurrency to greater
than 0. But this review https://review.openstack.org/#/c/641349/
sets default concurrency to zero so we donot need to check the
default concuurency to greater than 0.

https://github.com/mtreinish/stestr/pull/232 already checks the
concurrency value to int so we donot need to define check for int.

Change-Id: If53b59f3faede91e158cd544742ab37639800b57
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/23/643423/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_run.yml'],1,2bfedcc63f98697a8ba9ea5087e16aa0c4ab178b,conc, tempest run {% if tempest_run_concurrency is defined %}--concurrency {{ tempest_run_concurrency }}{% else %}--serial{% endif %}{% endif %} --whitelist-file {{ tempest_test_whitelist_file_path }}{% if tempest_test_blacklist | length > 0 %} --blacklist-file {{ tempest_test_blacklist_file_path }}{% endif %}, tempest run {% if tempest_run_concurrency is defined %}{% if tempest_run_concurrency | int > 0 %}--concurrency {{ tempest_run_concurrency | int }}{% else %}--serial{% endif %}{% endif %} --whitelist-file {{ tempest_test_whitelist_file_path }}{% if tempest_test_blacklist | length > 0 %} --blacklist-file {{ tempest_test_blacklist_file_path }}{% endif %},1,1
openstack%2Fopenstacksdk~master~Ibab4b2af2ca71fd9bd388829afcf9062431739ec,openstack/openstacksdk,master,Ibab4b2af2ca71fd9bd388829afcf9062431739ec,Use auth_url as identity endpoint when not project scoped,MERGED,2019-03-13 12:41:36.000000000,2019-03-15 19:40:25.000000000,2019-03-15 19:40:25.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 10420}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27900}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-13 12:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fbdff2eac670fe8d12ab17624fef3ff213b1bff7', 'message': 'Use auth_url as identity endpoint when not project scoped\n\nThere are a set of actions in keystone that can be performed without\na project scope, but the current discovery code will try to find the\nidentity endpoint in the catalog.\n\nUse the auth_url for identity_endpoint_override when there is either\nno project info or system-scope declaration.\n\nChange-Id: Ibab4b2af2ca71fd9bd388829afcf9062431739ec\n'}, {'number': 2, 'created': '2019-03-13 18:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5e927ce34357cde56ce034282faed6996affb994', 'message': 'Use auth_url as identity endpoint when not project scoped\n\nThere are a set of actions in keystone that can be performed without\na project scope, but the current discovery code will try to find the\nidentity endpoint in the catalog.\n\nUse the auth_url for identity_endpoint_override when there is either\nno project info or system-scope declaration.\n\nChange-Id: Ibab4b2af2ca71fd9bd388829afcf9062431739ec\n'}, {'number': 3, 'created': '2019-03-13 19:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eab4d1033508f5bc77b2204082ab31db05779016', 'message': 'Use auth_url as identity endpoint when not project scoped\n\nThere are a set of actions in keystone that can be performed without\na project scope, but the current discovery code will try to find the\nidentity endpoint in the catalog.\n\nUse the auth_url for identity_endpoint_override when there is either\nno project info or system-scope declaration.\n\nChange-Id: Ibab4b2af2ca71fd9bd388829afcf9062431739ec\n'}, {'number': 4, 'created': '2019-03-13 21:45:46.000000000', 'files': ['openstack/config/cloud_region.py', 'releasenotes/notes/identity-auth-url-f3ae8ef22d2bcab6.yaml', 'openstack/tests/unit/config/test_config.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/72504d7f5b4be4a49a0e380b36a5c208ca11611d', 'message': 'Use auth_url as identity endpoint when not project scoped\n\nThere are a set of actions in keystone that can be performed without\na project scope, but the current discovery code will try to find the\nidentity endpoint in the catalog.\n\nUse the auth_url for identity_endpoint_override when there is either\nno project info or system-scope declaration.\n\nChange-Id: Ibab4b2af2ca71fd9bd388829afcf9062431739ec\n'}]",6,643037,72504d7f5b4be4a49a0e380b36a5c208ca11611d,24,9,4,2,,,0,"Use auth_url as identity endpoint when not project scoped

There are a set of actions in keystone that can be performed without
a project scope, but the current discovery code will try to find the
identity endpoint in the catalog.

Use the auth_url for identity_endpoint_override when there is either
no project info or system-scope declaration.

Change-Id: Ibab4b2af2ca71fd9bd388829afcf9062431739ec
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/643037/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'releasenotes/notes/identity-auth-url-f3ae8ef22d2bcab6.yaml', 'openstack/tests/unit/config/test_config.py']",3,fbdff2eac670fe8d12ab17624fef3ff213b1bff7,task-manager," self.assertEqual('http://example.com/v2', cc.get_endpoint('identity'))",,17,1
openstack%2Fopenstacksdk~master~I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1,openstack/openstacksdk,master,I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1,Collect request stats,MERGED,2018-11-01 18:44:22.000000000,2019-03-15 19:40:24.000000000,2019-03-15 19:40:24.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 3099}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-01 18:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/db2275b8d1fcbc60829f11ee477f9ee9008c733e', 'message': ""Collect request stats with statsd\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 2, 'created': '2018-11-01 21:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6db34808f8c51ee19cd0b789af962db769cb1819', 'message': ""Collect request stats with statsd\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 3, 'created': '2018-11-01 23:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/54f37a9f9591793b947df4f6b57d36de87a6144e', 'message': ""Collect request stats with statsd\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 4, 'created': '2018-11-04 14:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/365251d5db4435c86855d63e4f09f660caa5fba5', 'message': ""Collect request stats with statsd\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 5, 'created': '2018-11-08 14:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/304e777d6b7c4b6a304d0cf07543ab53132d4664', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill manage its own instance of prometheus_client and will pass the flag\nuse_promethus=True to the constructor.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 6, 'created': '2018-11-08 18:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9d6f196e43bd9a9b9c83c55485e96d7a26d31f4f', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nDepends-On: https://review.openstack.org/616612\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 7, 'created': '2018-11-08 18:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/46b49c8304353171fcd9443fd227f6e9754fdc00', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nDepends-On: https://review.openstack.org/616612\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 8, 'created': '2018-11-08 21:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/459dadda6c85dbd882580d5fe02a174013185093', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nDepends-On: https://review.openstack.org/616612\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 9, 'created': '2018-11-08 22:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/548d9b5794977eb5adba11d207a3985b026464f3', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nDepends-On: https://review.openstack.org/616612\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 10, 'created': '2018-11-09 14:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/829d8f96038cc1df69e7cca1f5e065a9aa471037', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nDepends-On: https://review.openstack.org/616612\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 11, 'created': '2018-11-09 16:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b0deca9911724937220b0bbf89f4049e6ebe3d0b', 'message': ""WIP Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nDepends-On: https://review.openstack.org/616612\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 12, 'created': '2019-03-02 15:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec8d98fe46857c78c5ca9d74c9c763fbf0aee471', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 13, 'created': '2019-03-03 14:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d0d551af277a3c8ca224df9c8c8e1e453490bb73', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 14, 'created': '2019-03-03 18:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/82be859ccf316db8ec6210d9ebdd9864f556371e', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 15, 'created': '2019-03-09 14:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f1d6eee21821a016c22f273140df3f02083951b0', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 16, 'created': '2019-03-10 16:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c2ce5537db48dafd4acd54508c45d51e7a4d091b', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 17, 'created': '2019-03-10 16:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/77fdf0ccc57737718f60e36d56ce741d5a7b06c8', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 18, 'created': '2019-03-10 19:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b6c7dbb17d97ea3ff53748664553a4318bc8e8ee', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 19, 'created': '2019-03-11 15:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a354ebc7fe3580a6af4e5bd7539abefe1f02572a', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}, {'number': 20, 'created': '2019-03-11 19:45:10.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/tests/unit/test_stats.py', 'openstack/cloud/openstackcloud.py', 'openstack/config/loader.py', 'test-requirements.txt', 'lower-constraints.txt', 'openstack/proxy.py', 'releasenotes/notes/request-stats-9d70480bebbdb4d6.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c8b96cddd3d65b9b79788d93e72fe499f07ffae0', 'message': ""Collect request stats\n\nThis is a thing that nodepool has been doing for ages. With the upcoming\nchanges to remove the task manager, the mechanism it has been using to\nput activity in the right place isn't going to be available anymore. But\nalso, people using openstacksdk from within a service might also want to\nbe able to do the same logging.\n\nThis improves upon the old method as well, as it uses the history in the\nresponse object to get and report on all of the calls made as part of a\nrequest. This will catch things that do auto retries.\n\nWhile we're in there, add support for reporting to prometheus instead.\nThe prometheus support does not read from config, and does not run an\nhttp service, since openstacksdk is a library. It is expected that\nan application that uses openstacksdk and wants request stats collected\nwill pass a prometheus_client.CollectorRegistry to collector_registry.\n\nChange-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1\n""}]",4,614834,c8b96cddd3d65b9b79788d93e72fe499f07ffae0,51,5,20,2,,,0,"Collect request stats

This is a thing that nodepool has been doing for ages. With the upcoming
changes to remove the task manager, the mechanism it has been using to
put activity in the right place isn't going to be available anymore. But
also, people using openstacksdk from within a service might also want to
be able to do the same logging.

This improves upon the old method as well, as it uses the history in the
response object to get and report on all of the calls made as part of a
request. This will catch things that do auto retries.

While we're in there, add support for reporting to prometheus instead.
The prometheus support does not read from config, and does not run an
http service, since openstacksdk is a library. It is expected that
an application that uses openstacksdk and wants request stats collected
will pass a prometheus_client.CollectorRegistry to collector_registry.

Change-Id: I7218179dd5f0c068a52a4704b2ce1a0942fdc0d1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/34/614834/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/config/loader.py', 'openstack/_adapter.py']",3,db2275b8d1fcbc60829f11ee477f9ee9008c733e,task-manager," statsd_client=None, statsd_prefix=None, self._statsd_client = statsd_client self._statsd_prefix = statsd_prefix response = ret.result() if self._statsd_client: for h in response.history: self._report_stats(h) self._report_stats(response) def _report_stats(self, response): name_parts = _extract_name(respone.request.url, self.service_type) key = '.'.join( [self._statsd_prefix, self.service_type, response.request.method] + name_parts) self._statsd_client.timing(key, int(response.elapsed * 1000)) self._statsd_client.incr(key) ",,66,2
openstack%2Frpm-packaging~master~I0604b7c26b8452e441edd4d1ac7550cfd5a323d2,openstack/rpm-packaging,master,I0604b7c26b8452e441edd4d1ac7550cfd5a323d2,Update openstackdocstheme to 1.29.2,MERGED,2019-03-15 09:23:46.000000000,2019-03-15 19:24:34.000000000,2019-03-15 19:24:33.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-15 09:23:46.000000000', 'files': ['openstack/openstackdocstheme/openstackdocstheme.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/75a6c0cac24e9945b02491647d797c288429aa09', 'message': 'Update openstackdocstheme to 1.29.2\n\nChange-Id: I0604b7c26b8452e441edd4d1ac7550cfd5a323d2\n'}]",0,643540,75a6c0cac24e9945b02491647d797c288429aa09,9,5,1,8482,,,0,"Update openstackdocstheme to 1.29.2

Change-Id: I0604b7c26b8452e441edd4d1ac7550cfd5a323d2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/643540/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstackdocstheme/openstackdocstheme.spec.j2'],1,75a6c0cac24e9945b02491647d797c288429aa09,openstackdocstheme,{% set upstream_version = upstream_version('1.29.2') %},{% set upstream_version = upstream_version('1.29.1') %},1,1
openstack%2Ftripleo-quickstart~master~Id8c7c76263b3ea294cc359f4b914f476a35340d9,openstack/tripleo-quickstart,master,Id8c7c76263b3ea294cc359f4b914f476a35340d9,Improve libvirt image resize logic,ABANDONED,2018-12-17 16:26:54.000000000,2019-03-15 19:22:00.000000000,,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-12-17 16:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6daae0c1831b30fa7d3ec9b4de908735e82c537d', 'message': 'Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 2, 'created': '2018-12-17 16:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/da8da2b23d7412ede50bb366514f5af56a9bad01', 'message': 'Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 3, 'created': '2018-12-17 21:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07a74edf42519c772ac34384c0f275ddb24bbec8', 'message': 'Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 4, 'created': '2018-12-18 17:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3f7290de8754483cfd5a28501b720ce2a9078adf', 'message': 'WIP: Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 5, 'created': '2018-12-19 18:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3bac18ad7ac354e848c18147a566cc55d3218aec', 'message': 'WIP: Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 6, 'created': '2018-12-19 18:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b27e2d43d70a4f15d4d8462ab0f43236ed3b68b1', 'message': 'WIP: Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 7, 'created': '2018-12-27 13:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a36fe07d01651953257e0d719b2e758cbb3e80ee', 'message': 'WIP: Avoid reproducer image resize failure when run root and non-root user\n\nRezise needs to run by root if root was the user used to run reproducer.\nFixes bug where reproducer was failing to resize when run by root\nby was working when run by non-root user.\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}, {'number': 8, 'created': '2019-01-18 12:09:12.000000000', 'files': ['roles/fetch-images/tasks/fetch.yml', 'roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9860a8f9a49689cc682abf3888d45e01cb0516fb', 'message': 'Improve libvirt image resize logic\n\n- Replace command with shell because command module does not pass\n  environment variables.\n- Use CoW cp to improve performance\n\nChange-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9\n'}]",5,625648,9860a8f9a49689cc682abf3888d45e01cb0516fb,37,12,8,24162,,,0,"Improve libvirt image resize logic

- Replace command with shell because command module does not pass
  environment variables.
- Use CoW cp to improve performance

Change-Id: Id8c7c76263b3ea294cc359f4b914f476a35340d9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/48/625648/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,6daae0c1831b30fa7d3ec9b4de908735e82c537d,oooq/ansible.cfg," become: lookup('env', 'USER') == 'root' # ^ to avoid resize failure when run as root or non root-user",,2,0
openstack%2Fcharm-barbican~master~I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5,openstack/charm-barbican,master,I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5,Ensure HA resources are configured,MERGED,2019-03-15 16:58:03.000000000,2019-03-15 19:17:15.000000000,2019-03-15 19:17:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 16:58:03.000000000', 'files': ['src/lib/charm/openstack/barbican.py', 'src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/e7f0a8ad65eecffad9c7a23ff7aac2bef1eea477', 'message': 'Ensure HA resources are configured\n\nThe barbican charm was missing a configure_ha_resources call when the ha\nrelation is connected. This led to HA deploys missing a VIP resources.\n\nThis change enables barbican to run configure_ha_resources when the ha\nrelation is connected as the other OpenStack reactive charms do.\n\nChange-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5\nCloses-Bug: #1820290\n'}]",0,643642,e7f0a8ad65eecffad9c7a23ff7aac2bef1eea477,9,3,1,20805,,,0,"Ensure HA resources are configured

The barbican charm was missing a configure_ha_resources call when the ha
relation is connected. This led to HA deploys missing a VIP resources.

This change enables barbican to run configure_ha_resources when the ha
relation is connected as the other OpenStack reactive charms do.

Change-Id: I92121af2621b9f7d9a7b2eb993abe522d4b0f1a5
Closes-Bug: #1820290
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/42/643642/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/barbican.py', 'src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py']",3,e7f0a8ad65eecffad9c7a23ff7aac2bef1eea477,bug/1820290," 'cluster_connected': ('ha.connected',), }, 'when_not': { 'cluster_connected': ('ha.available',), }, def test_cluster_connected(self): hacluster = mock.MagicMock() barbican_charm = mock.MagicMock() self.patch_object(handlers.charm, 'provide_charm_instance', new=mock.MagicMock()) self.provide_charm_instance().__enter__.return_value = barbican_charm self.provide_charm_instance().__exit__.return_value = None handlers.cluster_connected(hacluster) barbican_charm.configure_ha_resources.assert_called_once_with( hacluster) barbican_charm.assess_status.assert_called_once_with()", },27,2
openstack%2Fkolla~master~I48c2d252a834716f1bcf10b18f2d32fe541e8137,openstack/kolla,master,I48c2d252a834716f1bcf10b18f2d32fe541e8137,Move to Debian 'buster',MERGED,2018-10-23 12:31:26.000000000,2019-03-15 19:16:54.000000000,2019-03-15 19:16:54.000000000,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-10-23 12:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e26ead3ddcddb2bdd0f18832ff298065e2dd3ed2', 'message': ""[DNM] move to Debian 'buster' (when it will be released as stable)\n\nI was doing several Buster related things and decided to check how Kolla\nis ready for it. Turned out that things go nicely for most of images.\nSome changes were required anyway:\n\n- there is no 'tgt' package in Buster\n- some external repos do not have Buster packages yet\n  - 'ceph' from Linaro OBS installs fine\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 2, 'created': '2019-01-02 13:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/33dcc43e37ee6c03fea0290f61b7987219839755', 'message': ""move to Debian 'buster' (when it will be released as stable)\n\nI was doing several Buster related things and decided to check how Kolla\nis ready for it. Turned out that things go nicely for most of images.\nSome changes were required anyway:\n\n- there is no 'tgt' package in Buster\n- some external repos do not have Buster packages yet\n  - 'ceph' from Linaro OBS installs fine\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 3, 'created': '2019-02-18 15:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b98aeeef30c132a8afa8b75677db80b443ab496d', 'message': ""[WIP] move to Debian 'buster' (when it will be released as stable)\n\nI was doing several Buster related things and decided to check how Kolla\nis ready for it. Turned out that things go nicely for most of images.\nSome changes were required anyway:\n\n- there is no 'tgt' package in Buster\n- some external repos do not have Buster packages yet\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 4, 'created': '2019-02-19 12:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c85c0d72af8b6d60cceaae38c3b10c2d8b7a8b3', 'message': ""[WIP] move to Debian 'buster'\n\nSome work is needed still. Python3 changes have to land first.\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 5, 'created': '2019-02-22 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c056318607bf647e626d75743a78f4b10fa3c14', 'message': ""move to Debian 'buster'\n\nSome work is needed still. Python3 changes have to land first.\n\nDepends-On: I160f79cc57f54ec3eac857c5babd1a6e2656d228\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 6, 'created': '2019-03-06 17:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/718812b2520685a5cb0ae2f1d66ae68f647515ac', 'message': ""move to Debian 'buster'\n\nSome work is needed still. Python3 changes have to land first.\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 7, 'created': '2019-03-08 13:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14509c6edc3f349e6871bdb0acdaa2dc1cba211d', 'message': ""Move to Debian 'buster'\n\nBuster is at freeze phase so safe to update and use. Will give us\nPython 3 based OpenStack packages (usually release delayed).\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 8, 'created': '2019-03-11 10:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dca138020902913ad7cd6db322374a45612782e9', 'message': ""Move to Debian 'buster'\n\nBuster is at freeze phase so safe to update and use. Will give us\nPython 3 based OpenStack packages (usually release delayed).\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}, {'number': 9, 'created': '2019-03-14 10:23:53.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'releasenotes/notes/debian-buster-7bd8be7ec4ce0d13.yaml', 'docker/base/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/base/sources.list.debian', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4d31ca695bb8d1fe5f1e7f31c14cab4e64827d96', 'message': ""Move to Debian 'buster'\n\nBuster is at freeze phase so safe to update and use. Will give us\nPython 3 based OpenStack packages (usually release delayed).\n\nChange-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137\n""}]",12,612681,4d31ca695bb8d1fe5f1e7f31c14cab4e64827d96,46,8,9,24072,,,0,"Move to Debian 'buster'

Buster is at freeze phase so safe to update and use. Will give us
Python 3 based OpenStack packages (usually release delayed).

Change-Id: I48c2d252a834716f1bcf10b18f2d32fe541e8137
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/612681/5 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/base/sources.list.debian', 'kolla/common/config.py']",6,e26ead3ddcddb2bdd0f18832ff298065e2dd3ed2,625298," 'debian': 'buster',"," 'debian': 'stretch-backports',",7,36
openstack%2Ftripleo-common~master~I6ce4983529346160c772d4cb255a90ac9bc53caf,openstack/tripleo-common,master,I6ce4983529346160c772d4cb255a90ac9bc53caf,drop kolla python-congressclient in container images,MERGED,2019-03-01 14:44:52.000000000,2019-03-15 19:04:21.000000000,2019-03-15 19:04:20.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-01 14:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b05da5ed7fbec5e519a7e7028ccc1af5c5572156', 'message': 'drop kolla python-congressclient in container images\n\nThis is a followup to dropping the congress container image\n\nChange-Id: I6ce4983529346160c772d4cb255a90ac9bc53caf\nDepends-On: I1b945047310d89192bb84bea6689274173ffe32f\n'}, {'number': 2, 'created': '2019-03-13 14:04:22.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa52ef5c6f4dae33693d581ce6ddc798ce96e87e', 'message': 'drop kolla python-congressclient in container images\n\nThis is a followup to dropping the congress container image\n\nChange-Id: I6ce4983529346160c772d4cb255a90ac9bc53caf\nDepends-On: I1b945047310d89192bb84bea6689274173ffe32f\n'}]",0,640388,fa52ef5c6f4dae33693d581ce6ddc798ce96e87e,24,7,2,16282,,,0,"drop kolla python-congressclient in container images

This is a followup to dropping the congress container image

Change-Id: I6ce4983529346160c772d4cb255a90ac9bc53caf
Depends-On: I1b945047310d89192bb84bea6689274173ffe32f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/640388/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,b05da5ed7fbec5e519a7e7028ccc1af5c5572156,congress," 'python3-congressclient',",,1,0
openstack%2Fpuppet-tripleo~master~I2489581b040f4798aad752b50cfd1a53b4c3d4fd,openstack/puppet-tripleo,master,I2489581b040f4798aad752b50cfd1a53b4c3d4fd,Remove Congress,MERGED,2019-02-28 21:32:56.000000000,2019-03-15 19:02:42.000000000,2019-03-15 19:02:42.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-28 21:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a813b95b959734cb6d4b653c78481b8a1ebe1d2', 'message': 'Remove Congress\n\nDepends-On: Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\nChange-Id: I2489581b040f4798aad752b50cfd1a53b4c3d4fd\n'}, {'number': 2, 'created': '2019-03-13 23:59:06.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/congress.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/database/mysql.pp', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/00818969cf99d3de7eb97a299bd128b9cda2e1f2', 'message': 'Remove Congress\n\nDepends-On: Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\nChange-Id: I2489581b040f4798aad752b50cfd1a53b4c3d4fd\n'}]",0,640195,00818969cf99d3de7eb97a299bd128b9cda2e1f2,32,6,2,3153,,,0,"Remove Congress

Depends-On: Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa
Change-Id: I2489581b040f4798aad752b50cfd1a53b4c3d4fd
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/640195/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/congress.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/database/mysql.pp', 'zuul.d/layout.yaml']",5,8a813b95b959734cb6d4b653c78481b8a1ebe1d2,congress,, - ^manifests/profile/(base|pacemaker)/congress.*$,0,120
openstack%2Ftripleo-quickstart-extras~master~I90204150085a1c9b943f9e054c0420a8a5e66538,openstack/tripleo-quickstart-extras,master,I90204150085a1c9b943f9e054c0420a8a5e66538,Fix containerized tempest logic,MERGED,2019-03-11 11:15:21.000000000,2019-03-15 19:02:41.000000000,2019-03-15 19:02:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-11 11:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d84bab5a380edfc47c8bde622bad63a7dbdcf955', 'message': 'Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 2, 'created': '2019-03-11 11:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e440562ae0ce3b25f439b03739465a90a1abe084', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 3, 'created': '2019-03-11 12:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f9bc608d7993b17681675012a744251e62f85de', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 4, 'created': '2019-03-12 12:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6590f187078f56f545c37e0d816b3af9e594750f', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 5, 'created': '2019-03-12 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fcd1b55a41ce72d9fd3cea6dfcb246394850e4bd', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 6, 'created': '2019-03-12 16:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55792207526ab848636704b42bd804094dd1dda3', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 7, 'created': '2019-03-13 11:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1b58dc44d6083065f1e889714e8585e44fac1ca4', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 8, 'created': '2019-03-13 12:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7fe424e6669a4931456afaa84ca2b682edf9a9db', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 9, 'created': '2019-03-13 15:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d97cae3071549a8a165b912c31f9904733e77415', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 10, 'created': '2019-03-13 22:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce7243debae9d3b88f685f60b7e16ac5b3b60aee', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 11, 'created': '2019-03-13 22:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37542d03ec1acfbe327ca75db0dcb6a9254af3d4', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 12, 'created': '2019-03-13 22:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/05deffb6e4882208f33d7f8fea74c3fe5ba3cfc5', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 13, 'created': '2019-03-13 23:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c67a3c81d7a28aeccb3882c617609cb03eb3289a', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 14, 'created': '2019-03-14 10:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0213d93e65a59a5c0542333141ecc8a6160f57a6', 'message': ""Fix containerized tempest logic\n\nWe weren't testing containerized tempest in standalone job due the\nmissing logic on tempest-setup.sh script. This patch adds the logic for\nwhen containerized tempest runs in standalone, copying the clouds.yaml\nfile instead of the stackrc/undercloudrc and also maintain the logic\nwhen you execute tempest in the ovb, copying the rc file.\nThis also ensures that /var/lib/tempestdata and /var/log/tempest\ndirectories exists in order to not fail the execution of containerized\ntempest.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nRelated-Bug: 1819440\n""}, {'number': 15, 'created': '2019-03-14 13:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd36a9fb00d0571dbbe54093190c725781a8c152', 'message': ""Fix containerized tempest logic\n\nWe weren't testing containerized tempest in standalone job due the\nmissing logic on tempest-setup.sh script. This patch adds the logic for\nwhen containerized tempest runs in standalone, copying the clouds.yaml\nfile instead of the stackrc/undercloudrc and also maintain the logic\nwhen you execute tempest in the ovb, copying the rc file.\nThis also ensures that /var/lib/tempestdata and /var/log/tempest\ndirectories exists in order to not fail the execution of containerized\ntempest.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nDepends-On: https://review.openstack.org/#/c/643212/\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nRelated-Bug: 1819440\n""}, {'number': 16, 'created': '2019-03-14 17:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5705df913fcbf648dad7cdb6be6dcd9a2a979927', 'message': ""Fix containerized tempest logic\n\nWe weren't testing containerized tempest in standalone job due the\nmissing logic on tempest-setup.sh script. This patch adds the logic for\nwhen containerized tempest runs in standalone, copying the clouds.yaml\nfile instead of the stackrc/undercloudrc and also maintain the logic\nwhen you execute tempest in the ovb, copying the rc file.\nThis also ensures that /var/lib/tempestdata and /var/log/tempest\ndirectories exists in order to not fail the execution of containerized\ntempest.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nDepends-On: https://review.openstack.org/#/c/643212/\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nRelated-Bug: 1819440\n""}, {'number': 17, 'created': '2019-03-14 19:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f1f819c790652067033aa64d9767be7fb088e5ae', 'message': '[WIP] Fix the copy of tempest directories\n\nBoth files are in the remote target, so remote_src is required\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nCloses-Bug: 1819440\n'}, {'number': 18, 'created': '2019-03-15 09:34:54.000000000', 'files': ['roles/validate-tempest/templates/run-tempest.sh.j2', 'roles/validate-tempest/templates/configure-tempest.sh.j2', 'roles/validate-tempest/tasks/tempest-containers.yml', 'zuul.d/layout.yaml', 'roles/validate-tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a4b1340a1c8e61ca6a864a908fc2083b68918a7b', 'message': ""Fix containerized tempest logic\n\nWe weren't testing containerized tempest in standalone job due the\nmissing logic on tempest-setup.sh script. This patch adds the logic for\nwhen containerized tempest runs in standalone, copying the clouds.yaml\nfile instead of the stackrc/undercloudrc and also maintain the logic\nwhen you execute tempest in the ovb, copying the rc file.\nThis also ensures that /var/lib/tempestdata and /var/log/tempest\ndirectories exists in order to not fail the execution of containerized\ntempest.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/issue/836\n\nDepends-On: https://review.openstack.org/#/c/643212/\nChange-Id: I90204150085a1c9b943f9e054c0420a8a5e66538\nRelated-Bug: 1819440\n""}]",5,642420,a4b1340a1c8e61ca6a864a908fc2083b68918a7b,71,8,18,8367,,,0,"Fix containerized tempest logic

We weren't testing containerized tempest in standalone job due the
missing logic on tempest-setup.sh script. This patch adds the logic for
when containerized tempest runs in standalone, copying the clouds.yaml
file instead of the stackrc/undercloudrc and also maintain the logic
when you execute tempest in the ovb, copying the rc file.
This also ensures that /var/lib/tempestdata and /var/log/tempest
directories exists in order to not fail the execution of containerized
tempest.

https://tree.taiga.io/project/tripleo-ci-board/issue/836

Depends-On: https://review.openstack.org/#/c/643212/
Change-Id: I90204150085a1c9b943f9e054c0420a8a5e66538
Related-Bug: 1819440
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/20/642420/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/tasks/tempest-results.yml'],1,d84bab5a380edfc47c8bde622bad63a7dbdcf955,bug/1819440, remote_src: yes,,1,0
openstack%2Ftripleo-common~master~I1747b7505dfce848902d171b1db6ad3c4c3c81e4,openstack/tripleo-common,master,I1747b7505dfce848902d171b1db6ad3c4c3c81e4,Use ANSIBLE_BECOME_FLAGS instead of ANSIBLE_SUDO_FLAGS,MERGED,2019-02-26 12:03:53.000000000,2019-03-15 19:02:39.000000000,2019-03-15 19:02:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-02-26 12:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6e8212068fa1ffe17d35d2931423f40b4ef105c', 'message': ""Use ANSIBLE_BECOME_FLAGS instead of ANSIBLE_SUDO_FLAGS\n\n'ANSIBLE_SUDO_FLAGS' is now deprecated and will be removed in Ansible 2.8\nin favor of become. We now have to use 'ANSIBLE_BECOME_FLAGS' to pass\nflags to the privilege escalation executable, 'sudo'.\n\nChange-Id: I1747b7505dfce848902d171b1db6ad3c4c3c81e4\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-02-28 18:18:58.000000000', 'files': ['scripts/run-validation'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2a785095acbff9e8a110c4b2d7be88d9754b60be', 'message': ""Use ANSIBLE_BECOME_FLAGS instead of ANSIBLE_SUDO_FLAGS\n\n'ANSIBLE_SUDO_FLAGS' is now deprecated and will be removed in Ansible 2.8\nin favor of become. We now have to use 'ANSIBLE_BECOME_FLAGS' to pass\nflags to the privilege escalation executable, 'sudo'.\n\nChange-Id: I1747b7505dfce848902d171b1db6ad3c4c3c81e4\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,639320,2a785095acbff9e8a110c4b2d7be88d9754b60be,13,10,2,11491,,,0,"Use ANSIBLE_BECOME_FLAGS instead of ANSIBLE_SUDO_FLAGS

'ANSIBLE_SUDO_FLAGS' is now deprecated and will be removed in Ansible 2.8
in favor of become. We now have to use 'ANSIBLE_BECOME_FLAGS' to pass
flags to the privilege escalation executable, 'sudo'.

Change-Id: I1747b7505dfce848902d171b1db6ad3c4c3c81e4
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/639320/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-validation'],1,b6e8212068fa1ffe17d35d2931423f40b4ef105c,,"# ANSIBLE_SUDO_FLAGS is deprecated in favor of become and will be removed in # version 2.8. We now have to use ANSIBLE_BECOME_FLAGS to pass Flags to the # privilege escalation sudo executable. export ANSIBLE_BECOME_FLAGS=""-H -S -n -E""","# Add `-E` to the sudo flags to preserve the shell environment. The `-H -S -n` # options are Ansible's default values. export ANSIBLE_SUDO_FLAGS=""-H -S -n -E""",4,3
openstack%2Ftripleo-heat-templates~master~Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d,openstack/tripleo-heat-templates,master,Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d,flatten the gnocchi service configurations,MERGED,2019-02-04 14:48:53.000000000,2019-03-15 19:02:38.000000000,2019-03-15 19:02:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-02-04 14:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4d25888efdd265de238f2d4c08b404c559ae77c', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 2, 'created': '2019-02-04 17:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93db0bb4f6f18c421a1a12e7593a823fdf01fa99', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 3, 'created': '2019-02-04 22:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09a72d584f78bcd50acbfb1fcf84c2d9851e5c24', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 4, 'created': '2019-02-05 12:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48bc2751a2635558c4bbb897d3a5108456ad4207', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 5, 'created': '2019-02-18 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/713be954fde3a38fd78cbfc5f9a08a1e6ee9f2ef', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 6, 'created': '2019-02-18 23:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9cdce5dd94f293da9f727db157d2689632c2c41', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 7, 'created': '2019-02-22 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74d153f18ce548207f4d9dbc281183f589a45087', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 8, 'created': '2019-03-07 12:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/119b301379128695255c02d2d8da3cdeafccb994', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}, {'number': 9, 'created': '2019-03-11 12:19:53.000000000', 'files': ['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'ci/environments/scenario002-standalone.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'puppet/services/gnocchi-metricd.yaml', 'environments/services/undercloud-gnocchi.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services-baremetal/undercloud-gnocchi.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/gnocchi-statsd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e261993ec3280cae6d4ccddd3948c2f368bf3bb', 'message': 'flatten the gnocchi service configurations\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the gnocchi services.\n\nWith this patch the baremetal version of each respective gnocchi service\nhas been removed.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d\n'}]",0,634703,2e261993ec3280cae6d4ccddd3948c2f368bf3bb,31,5,9,360,,,0,"flatten the gnocchi service configurations

This change combines the previous puppet and docker files into a single
file that performs the docker service installation and configuration
for the gnocchi services.

With this patch the baremetal version of each respective gnocchi service
has been removed.

Related-Blueprint: services-yaml-flattening

Change-Id: Ifd7df4e48ae18545b9d0a62bcfb32b3c5d8f8e0d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/634703/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario002-standalone.yaml', 'deployment/gnocchi/gnocchi-statsd.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'environments/baremetal-services.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'puppet/services/gnocchi-metricd.yaml', 'environments/services/undercloud-gnocchi.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services-baremetal/undercloud-gnocchi.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/gnocchi-statsd.yaml']",13,e4d25888efdd265de238f2d4c08b404c559ae77c,bp/services-yaml-flattening,,"heat_template_version: rocky description: > Gnocchi service configured with Puppet parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json MonitoringSubscriptionGnocchiStatsd: default: 'overcloud-gnocchi-statsd' type: string resources: GnocchiServiceBase: type: ./gnocchi-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for the Gnocchi role. value: service_name: gnocchi_statsd monitoring_subscription: {get_param: MonitoringSubscriptionGnocchiStatsd} config_settings: map_merge: - get_attr: [GnocchiServiceBase, role_data, config_settings] - tripleo::gnocchi_statsd::firewall_rules: '140 gnocchi-statsd': dport: 8125 proto: 'udp' step_config: | include ::tripleo::profile::base::gnocchi::statsd upgrade_tasks: [] ",193,380
openstack%2Ftripleo-heat-templates~master~I86b36756bade09529921d59f13b0ef950fa00a96,openstack/tripleo-heat-templates,master,I86b36756bade09529921d59f13b0ef950fa00a96,flatten opendaylight-api service,MERGED,2019-03-01 14:39:26.000000000,2019-03-15 18:39:35.000000000,2019-03-15 18:39:35.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-01 14:39:26.000000000', 'files': ['ci/environments/scenario008-multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-opendaylight.yaml', 'puppet/services/opendaylight-api.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3997198c2aa84fafaf923f0e67e4e8c02e326662', 'message': 'flatten opendaylight-api service\n\nThis change combines the previous puppet and docker files into a single\nfile that performs the docker service installation and configuration\nfor the opendaylight-api service.\n\nRelated-Blueprint: services-yaml-flattening\n\nChange-Id: I86b36756bade09529921d59f13b0ef950fa00a96\n'}]",0,640384,3997198c2aa84fafaf923f0e67e4e8c02e326662,15,6,1,360,,,0,"flatten opendaylight-api service

This change combines the previous puppet and docker files into a single
file that performs the docker service installation and configuration
for the opendaylight-api service.

Related-Blueprint: services-yaml-flattening

Change-Id: I86b36756bade09529921d59f13b0ef950fa00a96
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/640384/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario008-multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-opendaylight.yaml', 'puppet/services/opendaylight-api.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml']",6,3997198c2aa84fafaf923f0e67e4e8c02e326662,bp/services-yaml-flattening, OS::TripleO::Services::OpenDaylightApi: ../../deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml, OS::TripleO::Services::OpenDaylightApi: ../../puppet/services/opendaylight-api.yaml,117,194
openstack%2Fpython-saharaclient~stable%2Fstein~I1f6ac3618f24b1a06f6ce111666d6f9eb79ab405,openstack/python-saharaclient,stable/stein,I1f6ac3618f24b1a06f6ce111666d6f9eb79ab405,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-08 00:19:11.000000000,2019-03-15 18:31:59.000000000,2019-03-15 18:31:59.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 00:19:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/6d96f1a7ca21712d084a5f182801300f07fcf47f', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I1f6ac3618f24b1a06f6ce111666d6f9eb79ab405\n""}]",0,641875,6d96f1a7ca21712d084a5f182801300f07fcf47f,6,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I1f6ac3618f24b1a06f6ce111666d6f9eb79ab405
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/75/641875/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6d96f1a7ca21712d084a5f182801300f07fcf47f,create-stein, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/stein} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/stein} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/stein} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/stein}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fpython-saharaclient~stable%2Fstein~I03cb4fe95f6116b4c39534405d3af46a086e9598,openstack/python-saharaclient,stable/stein,I03cb4fe95f6116b4c39534405d3af46a086e9598,Update .gitreview for stable/stein,MERGED,2019-03-08 00:19:09.000000000,2019-03-15 18:29:35.000000000,2019-03-15 18:29:35.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 00:19:09.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/fcc553a8553f786a3611a101253113c0b114de9c', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I03cb4fe95f6116b4c39534405d3af46a086e9598\n'}]",0,641874,fcc553a8553f786a3611a101253113c0b114de9c,6,2,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I03cb4fe95f6116b4c39534405d3af46a086e9598
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/74/641874/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,fcc553a8553f786a3611a101253113c0b114de9c,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fkeystone~stable%2Frocky~I592ca4962794dc34cb549c65f911c795cdf7f749,openstack/keystone,stable/rocky,I592ca4962794dc34cb549c65f911c795cdf7f749,Fix the incorrect release name of project guide,MERGED,2019-03-15 08:28:38.000000000,2019-03-15 18:26:05.000000000,2019-03-15 18:26:05.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 19779}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 08:28:38.000000000', 'files': ['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index-obs.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0f5cd1f884c7a49ad9086e0d3568a78346f1379f', 'message': 'Fix the incorrect release name of project guide\n\nbackport: rocky\n\nChange-Id: I592ca4962794dc34cb549c65f911c795cdf7f749\nCloses-Bug: #1819299\n(cherry picked from commit fd5da18bf61a1ac9653f8f6afc8ddbb91d1f34f1)\n'}]",0,643532,0f5cd1f884c7a49ad9086e0d3568a78346f1379f,7,5,1,8482,,,0,"Fix the incorrect release name of project guide

backport: rocky

Change-Id: I592ca4962794dc34cb549c65f911c795cdf7f749
Closes-Bug: #1819299
(cherry picked from commit fd5da18bf61a1ac9653f8f6afc8ddbb91d1f34f1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/32/643532/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index-obs.rst']",3,0f5cd1f884c7a49ad9086e0d3568a78346f1379f,bug/1819299-stable/rocky,,This guide documents the OpenStack Queens release. ,0,6
openstack%2Ftripleo-heat-templates~master~I19f6bff7b8b75ca0f48edd2a94c2f46ec96eb44a,openstack/tripleo-heat-templates,master,I19f6bff7b8b75ca0f48edd2a94c2f46ec96eb44a,Fix: Unknown Property ML2HostConfigs,MERGED,2019-03-12 20:34:09.000000000,2019-03-15 18:16:17.000000000,2019-03-15 18:16:17.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 20:34:09.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bcea8e0c49f05edcb3b4751046a31f7594a8074', 'message': ""Fix: Unknown Property ML2HostConfigs\n\nThis should fix tripleo-ci-centos-7-scenario012-standalone\nwhich is failing in CI.\n\nWe don't need to pass ML2HostConfigs to the base resource.\n\nChange-Id: I19f6bff7b8b75ca0f48edd2a94c2f46ec96eb44a\n""}]",0,642885,3bcea8e0c49f05edcb3b4751046a31f7594a8074,8,4,1,360,,,0,"Fix: Unknown Property ML2HostConfigs

This should fix tripleo-ci-centos-7-scenario012-standalone
which is failing in CI.

We don't need to pass ML2HostConfigs to the base resource.

Change-Id: I19f6bff7b8b75ca0f48edd2a94c2f46ec96eb44a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/642885/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml'],1,3bcea8e0c49f05edcb3b4751046a31f7594a8074,fix_ml2_host_configs,, ML2HostConfigs: {get_param: ML2HostConfigs},0,1
openstack%2Fironic~master~I7ebbaddb33b38c87246c10165339ac4bac0ac6fc,openstack/ironic,master,I7ebbaddb33b38c87246c10165339ac4bac0ac6fc,fast tracked deployment support,MERGED,2019-02-09 04:28:23.000000000,2019-03-15 18:11:15.000000000,2019-03-14 20:43:05.000000000,"[{'_account_id': 8745}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 18320}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 24828}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-02-09 04:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1d5e5dadee110fd7b34c4f95b5152a5437636a59', 'message': '[WIP]: fast tracked deployment support\n\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 2, 'created': '2019-02-10 18:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bd9ff6f02695f6f8c1dff717df825f64936dcc7', 'message': ""[WIP]: fast tracked deployment support\n\nTODO: iscsi/agent flows don't match, we could likely\nuse helpers instead... maybe.\n\nprovide -> clean (enabled) -> available -> deploy\nneeds to be wired in.\n\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n""}, {'number': 3, 'created': '2019-02-12 06:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26fa4fb921e5b91c6cf93921fd5f7132f1e97eca', 'message': ""[WIP]: fast tracked deployment support\n\nTODO: iscsi/agent flows don't match, we could likely\nuse helpers instead... maybe.\n\nNeed to write tests... lots of tests.\n\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n""}, {'number': 4, 'created': '2019-02-13 02:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/456e230077f7780f8d0440e73d7fed1f29df39f8', 'message': '[WIP]: fast tracked deployment support\n\nNeed to write tests... lots of tests.\n\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 5, 'created': '2019-02-13 23:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63c1b992cfd878963a03f76f3af001f53b79bdac', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 6, 'created': '2019-02-14 15:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6da2050478f9cfab204ca685c9aa54b0a78b710a', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 7, 'created': '2019-02-14 20:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dcb94f90094c8954e81bbfc0caabe01f1d6b8bf7', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 8, 'created': '2019-02-15 18:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea41ccdbb2326169f3ce10a394e6e249009941cb', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 9, 'created': '2019-02-15 20:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f347c88336f1c80c5c855eccc40bf6bde5da9578', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 10, 'created': '2019-02-15 23:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5abeaf0971c14e924cbbb4cc60c072319558808c', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 11, 'created': '2019-02-16 00:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b214e0246381b2ff94771edf2c263db1f135bf2a', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 12, 'created': '2019-02-19 00:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d33fc4d26b1030b83820724bc7f0f36cac3e645', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/636774\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 13, 'created': '2019-02-25 23:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69fd088f04a0d8fa92839753d83f438df0f92967', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 14, 'created': '2019-02-26 00:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/20efa0c0f787a49b3ff17b9b9e9a3d497703eba6', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 15, 'created': '2019-02-26 20:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9f89b3bab5c0eca9c06dc4eec66cc7af5c563898', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 16, 'created': '2019-02-27 04:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d68864007c69a80e3167a0117bc8fd0a5af22e6b', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 17, 'created': '2019-02-27 13:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19124d1242c9bdc513c86b406b7cf415830c3bad', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 18, 'created': '2019-02-27 13:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8059558d587fd3af71a65a704a8d93b42cf2603c', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 19, 'created': '2019-02-27 13:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11088f984decf5b4c257fe3d4136d865b6933e94', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nDepends-On: https://review.openstack.org/637039\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 20, 'created': '2019-03-05 18:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8aa031fdff295739d967ea40251cc7bb35742098', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 21, 'created': '2019-03-07 18:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ee511f01444ca13374bb4387d5517233b024700', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 22, 'created': '2019-03-12 19:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75a2ece9ed3296b07877fdac51c3b77033e9c8d8', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 23, 'created': '2019-03-13 23:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25abcdd817b248f1ecc9b2a9e9bd5d7f6ff393ed', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 24, 'created': '2019-03-13 23:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c333af81c1d8fff3a40fc59169d76c8330ca077d', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}, {'number': 25, 'created': '2019-03-14 17:34:37.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/drivers/modules/agent.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/fast-track-deployment-f09a8b921b3aae36.yaml', 'ironic/conf/deploy.py', 'ironic/common/pxe_utils.py', 'ironic/common/states.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f734c8728f0cf436921d57ce6b2389687684221', 'message': 'fast tracked deployment support\n\nProvides a facility to minimize the power state changes of\na baremetal node to save critical time during deployment\noperations.\n\nStory: #2004965\nTask: #29408\nDepends-On: https://review.openstack.org/636778\nChange-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc\n'}]",132,635996,3f734c8728f0cf436921d57ce6b2389687684221,227,17,25,11655,,,0,"fast tracked deployment support

Provides a facility to minimize the power state changes of
a baremetal node to save critical time during deployment
operations.

Story: #2004965
Task: #29408
Depends-On: https://review.openstack.org/636778
Change-Id: I7ebbaddb33b38c87246c10165339ac4bac0ac6fc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/635996/25 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/conductor/utils.py', 'ironic/conf/deploy.py']",8,1d5e5dadee110fd7b34c4f95b5152a5437636a59,fast_track_deployments," cfg.BoolOpt('fast_deploy', default=False, help=_('Whether to allow deployment agents to perform lookup, ' 'heartbeat operations during initial states of a ' 'machine lifecycle. This feature also enables power ' 'operations which are part of deployment processes ' 'to be bypassed when ""flat"" and ""noop"" networking ' 'is in use.')), cfg.IntOpt('fast_deploy_timeout', default=300, help=_('Seconds for which the last heartbeat event is to be ' 'considered valid for the purpose of a fast ' 'deployment.')),",,128,12
openstack%2Fkolla~master~I3694ba72733cb5cb391af62b609272cb4461431f,openstack/kolla,master,I3694ba72733cb5cb391af62b609272cb4461431f,helm-repository: drop unused os_client_config variable,MERGED,2019-03-11 14:09:02.000000000,2019-03-15 18:06:44.000000000,2019-03-15 18:06:44.000000000,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 26285}]","[{'number': 1, 'created': '2019-03-11 14:09:02.000000000', 'files': ['docker/helm-repository/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/13d930701c9a672107286dfc03107948e09e367e', 'message': 'helm-repository: drop unused os_client_config variable\n\nChange-Id: I3694ba72733cb5cb391af62b609272cb4461431f\n'}]",0,642460,13d930701c9a672107286dfc03107948e09e367e,20,8,1,24072,,,0,"helm-repository: drop unused os_client_config variable

Change-Id: I3694ba72733cb5cb391af62b609272cb4461431f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/642460/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/helm-repository/Dockerfile.j2'],1,13d930701c9a672107286dfc03107948e09e367e,,,{% set os_client_config='/usr/lib/python2.7/site-packages/os_client_config/defaults.json' %} {% if base_distro == 'debian' %} {% set os_client_config='/usr/local/lib/python2.7/dist-packages/os_client_config/defaults.json' %} {% endif %} ,0,6
openstack%2Foslo.rootwrap~master~I1127113163bc5fd5013d78fef2336d378f1ddc02,openstack/oslo.rootwrap,master,I1127113163bc5fd5013d78fef2336d378f1ddc02,Defer to use /proc/PID/cmdline when it mismatches exe,ABANDONED,2019-03-11 21:14:31.000000000,2019-03-15 17:59:50.000000000,,"[{'_account_id': 308}, {'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 21:14:31.000000000', 'files': ['oslo_rootwrap/tests/test_rootwrap.py', 'oslo_rootwrap/filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/92763fa3acccbc14db1cdaa399cf9451c43cc5f7', 'message': ""Defer to use /proc/PID/cmdline when it mismatches exe\n\nWhen setproctitle is used to change a command string, it\ncauses a problem where the rootwrap daemon incorrectly\nmatches the KillFilter since it's checking /proc/PID/exe first.\nChange to always check /proc/PID/cmdline starts with\n/proc/PID/exe and return it if it doesn't, assuming that\nis the correct string match.\n\nChange-Id: I1127113163bc5fd5013d78fef2336d378f1ddc02\n""}]",1,642569,92763fa3acccbc14db1cdaa399cf9451c43cc5f7,5,4,1,1131,,,0,"Defer to use /proc/PID/cmdline when it mismatches exe

When setproctitle is used to change a command string, it
causes a problem where the rootwrap daemon incorrectly
matches the KillFilter since it's checking /proc/PID/exe first.
Change to always check /proc/PID/cmdline starts with
/proc/PID/exe and return it if it doesn't, assuming that
is the correct string match.

Change-Id: I1127113163bc5fd5013d78fef2336d378f1ddc02
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/69/642569/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_rootwrap/tests/test_rootwrap.py', 'oslo_rootwrap/filters.py']",2,92763fa3acccbc14db1cdaa399cf9451c43cc5f7,cmdline, # Defer to /proc/PID/cmdline if it doesn't start with # /proc/PID/exe since it might indicate setproctitle # was used to change the command string. if not cmdline.startswith(command): cmdline = self._program_path(cmdline) if os.path.isfile(cmdline): command = cmdline # Note we don't return None if command doesn't exist, if os.path.isfile(command): return command # /proc/PID/exe may have been renamed with # a ';......' or '.#prelink#......' suffix etc. # So defer to /proc/PID/cmdline in that case. cmdline = self._program_path(cmdline) if os.path.isfile(cmdline): command = cmdline # Note we don't return None if cmdline doesn't exist,34,14
openstack%2Fopenstack-ansible~master~Ia608fe85b98b17d88f7d0042eef2ced4460c52b7,openstack/openstack-ansible,master,Ia608fe85b98b17d88f7d0042eef2ced4460c52b7,"Revert ""zuul: move ceph jobs to non-voting""",ABANDONED,2019-03-15 15:25:07.000000000,2019-03-15 17:59:35.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 15:25:07.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5757d9a00f012267f7df4f13ab2ad78ac868e2f8', 'message': 'Revert ""zuul: move ceph jobs to non-voting""\n\nThis reverts commit e44916c2af709d46e875168ce5d5802356709dce.\n\nChange-Id: Ia608fe85b98b17d88f7d0042eef2ced4460c52b7\n'}]",0,643609,5757d9a00f012267f7df4f13ab2ad78ac868e2f8,4,2,1,1004,,,0,"Revert ""zuul: move ceph jobs to non-voting""

This reverts commit e44916c2af709d46e875168ce5d5802356709dce.

Change-Id: Ia608fe85b98b17d88f7d0042eef2ced4460c52b7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/643609/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,5757d9a00f012267f7df4f13ab2ad78ac868e2f8,, - openstack-ansible-deploy-aio_ceph-ubuntu-bionic gate: jobs: - openstack-ansible-deploy-aio_ceph-ubuntu-bionic, - openstack-ansible-deploy-aio_ceph-ubuntu-bionic: voting: false,4,2
openstack%2Fopenstack-ansible~master~Ie38593e963e5883f7975045f2d3d678996937122,openstack/openstack-ansible,master,Ie38593e963e5883f7975045f2d3d678996937122,zuul: move ceph jobs to non-voting,ABANDONED,2019-03-15 15:25:07.000000000,2019-03-15 17:59:31.000000000,,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 15:25:07.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/adb19b632aa8082dfade3e843f7eb17be7d9f8cf', 'message': ""zuul: move ceph jobs to non-voting\n\nthe ceph jobs are currently broken because of an upstream issue\nwith repos, let's move them to non-voting until this issue is\nfixed.\n\nChange-Id: Ie38593e963e5883f7975045f2d3d678996937122\n""}]",0,643608,adb19b632aa8082dfade3e843f7eb17be7d9f8cf,9,4,1,1004,,,0,"zuul: move ceph jobs to non-voting

the ceph jobs are currently broken because of an upstream issue
with repos, let's move them to non-voting until this issue is
fixed.

Change-Id: Ie38593e963e5883f7975045f2d3d678996937122
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/643608/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,adb19b632aa8082dfade3e843f7eb17be7d9f8cf,, - openstack-ansible-deploy-aio_ceph-ubuntu-bionic: voting: false, - openstack-ansible-deploy-aio_ceph-ubuntu-bionic gate: jobs: - openstack-ansible-deploy-aio_ceph-ubuntu-bionic,2,4
openstack%2Fopenstack-helm~master~Ib8dc53c3a54e12014025de8fafe16fbe9721c0da,openstack/openstack-helm,master,Ib8dc53c3a54e12014025de8fafe16fbe9721c0da,Added volume related keys to pod mounts to ease the overriding,MERGED,2019-03-13 13:08:02.000000000,2019-03-15 17:53:54.000000000,2019-03-15 17:53:54.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-13 13:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c4f8b8ebe50e19c5593ce0f99f71eea26e77ba97', 'message': ""Added volume related keys to pod mounts to ease the overriding\n\nIf user wants to add an extra volumeMounts/volume to a pod,\namd uses override values e.g. like this\n\npod:\n  mounts:\n    nova_placement:\n      init_container: null\n      nova_placement:\n        volumeMounts:\n          - name: nova-etc\n          ...\n\nhelm template parser complains with\n\nWarning: The destination item 'nova_placement' is a table and ignoring the source 'nova_placement' as it has a non-table value of: <nil>\n\nSo when we create empty values for such keys in values.yaml, the source\nwill be present and warning does not need to be shown.\n\nChange-Id: Ib8dc53c3a54e12014025de8fafe16fbe9721c0da\n""}, {'number': 2, 'created': '2019-03-15 06:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a430038e61032c58081b41b70ef17e682b2bab5c', 'message': ""Added volume related keys to pod mounts to ease the overriding\n\nIf user wants to add an extra volumeMounts/volume to a pod,\namd uses override values e.g. like this\n\npod:\n  mounts:\n    nova_placement:\n      init_container: null\n      nova_placement:\n        volumeMounts:\n          - name: nova-etc\n          ...\n\nhelm template parser complains with\n\nWarning: The destination item 'nova_placement' is a table and ignoring the source 'nova_placement' as it has a non-table value of: <nil>\n\nSo when we create empty values for such keys in values.yaml, the source\nwill be present and warning does not need to be shown.\n\nChange-Id: Ib8dc53c3a54e12014025de8fafe16fbe9721c0da\n""}, {'number': 3, 'created': '2019-03-15 16:29:19.000000000', 'files': ['mistral/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2a5dda47c2a614e5e18c971e1585c9da32564aa', 'message': ""Added volume related keys to pod mounts to ease the overriding\n\nIf user wants to add an extra volumeMounts/volume to a pod,\namd uses override values e.g. like this\n\npod:\n  mounts:\n    nova_placement:\n      init_container: null\n      nova_placement:\n        volumeMounts:\n          - name: nova-etc\n          ...\n\nhelm template parser complains with\n\nWarning: The destination item 'nova_placement' is a table and ignoring the source 'nova_placement' as it has a non-table value of: <nil>\n\nSo when we create empty values for such keys in values.yaml, the source\nwill be present and warning does not need to be shown.\n\nChange-Id: Ib8dc53c3a54e12014025de8fafe16fbe9721c0da\n""}]",0,643043,a2a5dda47c2a614e5e18c971e1585c9da32564aa,14,5,3,9963,,,0,"Added volume related keys to pod mounts to ease the overriding

If user wants to add an extra volumeMounts/volume to a pod,
amd uses override values e.g. like this

pod:
  mounts:
    nova_placement:
      init_container: null
      nova_placement:
        volumeMounts:
          - name: nova-etc
          ...

helm template parser complains with

Warning: The destination item 'nova_placement' is a table and ignoring the source 'nova_placement' as it has a non-table value of: <nil>

So when we create empty values for such keys in values.yaml, the source
will be present and warning does not need to be shown.

Change-Id: Ib8dc53c3a54e12014025de8fafe16fbe9721c0da
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/643043/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml', 'rally/values.yaml']",14,c4f8b8ebe50e19c5593ce0f99f71eea26e77ba97,empty-values, volumeMounts: volumes: volumeMounts: volumes:,,160,0
openstack%2Fopenstack-helm-infra~master~I94e95e1f7d785a1d274e1ee3d9f90ffb00e23ea1,openstack/openstack-helm-infra,master,I94e95e1f7d785a1d274e1ee3d9f90ffb00e23ea1,Add default AppArmor profile to prometheus-openstack-exporter,MERGED,2019-02-27 21:49:57.000000000,2019-03-15 17:53:30.000000000,2019-03-15 17:53:30.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26686}, {'_account_id': 28235}, {'_account_id': 28778}, {'_account_id': 29131}]","[{'number': 1, 'created': '2019-02-27 21:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d32c2c8c920faaf1ab0b9454de935b06105eff4b', 'message': 'Add default AppArmor profile to prometheus-openstack-exporter\n\nChange-Id: I94e95e1f7d785a1d274e1ee3d9f90ffb00e23ea1\n'}, {'number': 2, 'created': '2019-03-08 20:52:23.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f97f56fae5aef2a011fa904a150e14d8a807ea36', 'message': 'Add default AppArmor profile to prometheus-openstack-exporter\n\nChange-Id: I94e95e1f7d785a1d274e1ee3d9f90ffb00e23ea1\n'}]",0,639851,f97f56fae5aef2a011fa904a150e14d8a807ea36,12,12,2,29131,,,0,"Add default AppArmor profile to prometheus-openstack-exporter

Change-Id: I94e95e1f7d785a1d274e1ee3d9f90ffb00e23ea1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/639851/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml']",2,d32c2c8c920faaf1ab0b9454de935b06105eff4b,,"{{ dict ""envAll"" $envAll ""podName"" ""prometheus-openstack-exporter"" ""containerNames"" (list ""openstack-metrics-exporter"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,5,1
openstack%2Fnova~master~I4878df606037ca95441bdefd748f4fc9eabedf97,openstack/nova,master,I4878df606037ca95441bdefd748f4fc9eabedf97,Add descriptions of numbered resource classes and traits,MERGED,2018-12-03 07:37:48.000000000,2019-03-15 17:47:53.000000000,2019-03-15 17:47:53.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28885}, {'_account_id': 29344}]","[{'number': 1, 'created': '2018-12-03 07:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e210fb4afddece51608ef1c5b5ddc205265f18df', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 2, 'created': '2018-12-10 02:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/473759e5c0e114649690e7c67f7f9fc2a370c126', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 3, 'created': '2018-12-25 02:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb1fe3d93fceb1258b672280fc179094a2becd9d', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 4, 'created': '2019-01-07 04:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be65aee3c360edc47fa712c14f387d6ad43f8ecf', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 5, 'created': '2019-01-08 02:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de40c1f7733f6f297979fb5b7823ed65915930f5', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 6, 'created': '2019-01-17 04:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/414dc5b8c6de1fa3b01e65fc8c6dc7dff72ae242', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 7, 'created': '2019-01-28 07:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df403cb9143e3790fafacab21563005fcefddffe', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 8, 'created': '2019-02-07 08:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a5c00976d11d8429d6bfcc25d3f93f84b2c0c58', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 9, 'created': '2019-02-22 00:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf235abe257c269e0cdb77bc9e92a949cff18aed', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 10, 'created': '2019-03-04 03:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9315de649d2bd37fcb0cb7029932e1ef5a88e4ac', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}, {'number': 11, 'created': '2019-03-11 01:44:46.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/6cc88bab4fd1894934596546028b13701f6082d4', 'message': 'Add descriptions of numbered resource classes and traits\n\nAdd descriptions about numbered resource classes and traits\nin the Flavor doc.\n\nChange-Id: I4878df606037ca95441bdefd748f4fc9eabedf97\nCloses-Bug: #1800661\n'}]",12,621494,6cc88bab4fd1894934596546028b13701f6082d4,102,16,11,7634,,,0,"Add descriptions of numbered resource classes and traits

Add descriptions about numbered resource classes and traits
in the Flavor doc.

Change-Id: I4878df606037ca95441bdefd748f4fc9eabedf97
Closes-Bug: #1800661
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/621494/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,e210fb4afddece51608ef1c5b5ddc205265f18df,bug/1800661," Numbered groupings of resource classes and traits Added in the 18.0.0 Rocky release. Specify numbered groupings of resource classes and traits. The syntax is as follows (``N`` and ``VALUE`` are integers): .. parsed-literal:: resources\ *N*:*<resource_class_name>*\ =\ *VALUE* trait\ *N*:*<trait_name>*\ =required A given numbered ``resources`` or ``trait`` key may be repeated to specify multiple resources/traits in the same grouping, just as with the un-numbered syntax. Specify inter-group affinity policy via the ``group_policy`` key, which may have the following values: * ``isolate``: Different numbered request groups will be satisfied by *different* providers. * ``none``: Different numbered request groups may be satisfied by different providers *or* common providers. For example:: resources:VCPU=2 resources:MEMORY_MB=2048 trait:HW_CPU_X86_AVX=required trait:CUSTOM_MAGIC=required resources1:SRIOV_NET_VF=1 resources1:NET_EGRESS_BYTES_SEC=10000 trait1:CUSTOM_PHYSNET_NET1=required resources2:SRIOV_NET_VF=1 resources2:NET_EGRESS_BYTES_SEC:20000 trait2:CUSTOM_PHYSNET_NET2=required trait2:HW_NIC_ACCEL_SSL=required group_policy=isolate See the `Granular Resource Request Syntax`_ for more details. .. _Granular Resource Request Syntax: https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/granular-resource-requests.html",,43,0
openstack%2Fplacement~master~Ie948a7bded8dab17d4a85c6ebaf519e01466bc80,openstack/placement,master,Ie948a7bded8dab17d4a85c6ebaf519e01466bc80,Move TestAllocation into test_allocation,MERGED,2019-03-07 00:17:36.000000000,2019-03-15 17:47:32.000000000,2019-03-15 17:47:32.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-07 00:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/464bdfc65f1671c708d3593583af53860382ecb4', 'message': 'Move TestAllocation into test_allocation\n\nIn [1], TestAllocation should have been moved but was missed. Done here.\n\n[1] Ic673dfa95f6c8e42692c6287fb8d7cc27ee6cbf6\n\nChange-Id: Ie948a7bded8dab17d4a85c6ebaf519e01466bc80\n'}, {'number': 2, 'created': '2019-03-11 17:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/853163bda07ece5e1365efb8b4db351172212cb7', 'message': 'Move TestAllocation into test_allocation\n\nIn [1], TestAllocation should have been moved but was missed. Done here.\n\n[1] Ic673dfa95f6c8e42692c6287fb8d7cc27ee6cbf6\n\nChange-Id: Ie948a7bded8dab17d4a85c6ebaf519e01466bc80\n'}, {'number': 3, 'created': '2019-03-15 11:15:54.000000000', 'files': ['placement/tests/functional/db/test_allocation.py', 'placement/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/dd3320387c4aff4079e0342785cfff555c571bbf', 'message': 'Move TestAllocation into test_allocation\n\nIn [1], TestAllocation should have been moved but was missed. Done here.\n\n[1] Ic673dfa95f6c8e42692c6287fb8d7cc27ee6cbf6\n\nChange-Id: Ie948a7bded8dab17d4a85c6ebaf519e01466bc80\n'}]",0,641524,dd3320387c4aff4079e0342785cfff555c571bbf,17,6,3,14070,,,0,"Move TestAllocation into test_allocation

In [1], TestAllocation should have been moved but was missed. Done here.

[1] Ic673dfa95f6c8e42692c6287fb8d7cc27ee6cbf6

Change-Id: Ie948a7bded8dab17d4a85c6ebaf519e01466bc80
",git fetch https://review.opendev.org/openstack/placement refs/changes/24/641524/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_allocation.py', 'placement/tests/functional/db/test_resource_provider.py']",2,464bdfc65f1671c708d3593583af53860382ecb4,move-TestAllocation,,"from placement.objects import consumer as consumer_objclass TestAllocation(tb.PlacementDbBaseTestCase): def test_create_list_and_delete_allocation(self): rp, _ = self._make_allocation(tb.DISK_INVENTORY, tb.DISK_ALLOCATION) allocations = alloc_obj.get_all_by_resource_provider(self.ctx, rp) self.assertEqual(1, len(allocations)) self.assertEqual(tb.DISK_ALLOCATION['used'], allocations[0].used) alloc_obj.delete_all(self.ctx, allocations) allocations = alloc_obj.get_all_by_resource_provider(self.ctx, rp) self.assertEqual(0, len(allocations)) def test_delete_all_with_multiple_consumers(self): """"""Tests fix for LP #1781430 where alloc_obj.delete_all() when issued for a list of allocations returned by alloc_obj.get_by_resource_provider() where the resource provider had multiple consumers allocated against it, left the DB in an inconsistent state. """""" # Create a single resource provider and allocate resources for two # instances from it. Then grab all the provider's allocations with # alloc_obj.get_all_by_resource_provider() and attempt to delete # them all with alloc_obj.delete_all(). After which, another call # to alloc_obj.get_all_by_resource_provider() should return an # empty list. cn1 = self._create_provider('cn1') tb.add_inventory(cn1, 'VCPU', 8) c1_uuid = uuidsentinel.consumer1 c2_uuid = uuidsentinel.consumer2 for c_uuid in (c1_uuid, c2_uuid): self.allocate_from_provider(cn1, 'VCPU', 1, consumer_id=c_uuid) allocs = alloc_obj.get_all_by_resource_provider(self.ctx, cn1) self.assertEqual(2, len(allocs)) alloc_obj.delete_all(self.ctx, allocs) allocs = alloc_obj.get_all_by_resource_provider(self.ctx, cn1) self.assertEqual(0, len(allocs)) def test_multi_provider_allocation(self): """"""Tests that an allocation that includes more than one resource provider can be created, listed and deleted properly. Bug #1707669 highlighted a situation that arose when attempting to remove part of an allocation for a source host during a resize operation where the exiting allocation was not being properly deleted. """""" cn_source = self._create_provider('cn_source') cn_dest = self._create_provider('cn_dest') # Add same inventory to both source and destination host for cn in (cn_source, cn_dest): tb.add_inventory(cn, orc.VCPU, 24, allocation_ratio=16.0) tb.add_inventory(cn, orc.MEMORY_MB, 1024, min_unit=64, max_unit=1024, step_size=64, allocation_ratio=1.5) # Create a consumer representing the instance inst_consumer = consumer_obj.Consumer( self.ctx, uuid=uuidsentinel.instance, user=self.user_obj, project=self.project_obj) inst_consumer.create() # Now create an allocation that represents a move operation where the # scheduler has selected cn_dest as the target host and created a # ""doubled-up"" allocation for the duration of the move operation alloc_list = [ alloc_obj.Allocation( consumer=inst_consumer, resource_provider=cn_source, resource_class=orc.VCPU, used=1), alloc_obj.Allocation( consumer=inst_consumer, resource_provider=cn_source, resource_class=orc.MEMORY_MB, used=256), alloc_obj.Allocation( consumer=inst_consumer, resource_provider=cn_dest, resource_class=orc.VCPU, used=1), alloc_obj.Allocation( consumer=inst_consumer, resource_provider=cn_dest, resource_class=orc.MEMORY_MB, used=256), ] alloc_obj.replace_all(self.ctx, alloc_list) src_allocs = alloc_obj.get_all_by_resource_provider( self.ctx, cn_source) self.assertEqual(2, len(src_allocs)) dest_allocs = alloc_obj.get_all_by_resource_provider(self.ctx, cn_dest) self.assertEqual(2, len(dest_allocs)) consumer_allocs = alloc_obj.get_all_by_consumer_id( self.ctx, uuidsentinel.instance) self.assertEqual(4, len(consumer_allocs)) # Validate that when we create an allocation for a consumer that we # delete any existing allocation and replace it with what the new. # Here, we're emulating the step that occurs on confirm_resize() where # the source host pulls the existing allocation for the instance and # removes any resources that refer to itself and saves the allocation # back to placement new_alloc_list = [ alloc_obj.Allocation( consumer=inst_consumer, resource_provider=cn_dest, resource_class=orc.VCPU, used=1), alloc_obj.Allocation( consumer=inst_consumer, resource_provider=cn_dest, resource_class=orc.MEMORY_MB, used=256), ] alloc_obj.replace_all(self.ctx, new_alloc_list) src_allocs = alloc_obj.get_all_by_resource_provider( self.ctx, cn_source) self.assertEqual(0, len(src_allocs)) dest_allocs = alloc_obj.get_all_by_resource_provider( self.ctx, cn_dest) self.assertEqual(2, len(dest_allocs)) consumer_allocs = alloc_obj.get_all_by_consumer_id( self.ctx, uuidsentinel.instance) self.assertEqual(2, len(consumer_allocs)) def test_get_all_by_resource_provider(self): rp, allocation = self._make_allocation(tb.DISK_INVENTORY, tb.DISK_ALLOCATION) allocations = alloc_obj.get_all_by_resource_provider(self.ctx, rp) self.assertEqual(1, len(allocations)) self.assertEqual(rp.id, allocations[0].resource_provider.id) self.assertEqual(allocation.resource_provider.id, allocations[0].resource_provider.id) ",162,163
openstack%2Fnova~stable%2Frocky~Ic27195e46502067c87ee9c71a811a3ca3f610b73,openstack/nova,stable/rocky,Ic27195e46502067c87ee9c71a811a3ca3f610b73,Check hosts have no instances for AZ rename,MERGED,2019-03-06 13:31:25.000000000,2019-03-15 17:47:29.000000000,2019-03-15 17:47:28.000000000,"[{'_account_id': 6873}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 22348}, {'_account_id': 26286}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-06 13:31:25.000000000', 'files': ['releasenotes/notes/bug-1378904-disable-az-rename-b22a558a20b12706.yaml', 'nova/tests/functional/db/test_instance.py', 'nova/objects/instance.py', 'nova/tests/functional/test_aggregates.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1559db570452cd5502b8f5e9ba44fef54295537f', 'message': 'Check hosts have no instances for AZ rename\n\nUpdate aggregate and update aggregate metadata API calls have the\nability to update availability zone name for the aggregate. If the\naggregate is not empty (has hosts with instances on it)\nthe update leads to discrepancy for objects saving availability zone as a\nstring but not reference.\n\nFrom devstack DB they are:\n- cinder.backups.availability_zone\n- cinder.consistencygroups.availability_zone\n- cinder.groups.availability_zone\n- cinder.services.availability_zone\n- cinder.volumes.availability_zone\n- neutron.agents.availability_zone\n- neutron.networks.availability_zone_hints\n- neutron.router_extra_attributes.availability_zone_hints\n- nova.dns_domains.availability_zone\n- nova.instances.availability_zone\n- nova.volume_usage_cache.availability_zone\n- nova.shadow_dns_domains.availability_zone\n- nova.shadow_instances.availability_zone\n- nova.shadow_volume_usage_cache.availability_zone\n\nWhy that\'s bad?\nFirst, API and Horizon show different values for host and instance for\nexample. Second, migration for instances with changed availability\nzone fails with ""No valid host found"" for old AZ.\n\nThis change adds an additional check to aggregate an Update Aggregate API call.\nWith the check, it\'s not possible to rename AZ if the corresponding\naggregate has instances in any hosts.\n\nPUT /os-aggregates/{aggregate_id} and\nPOST /os-aggregates/{aggregate_id}/action return HTTP 400 for\navailability zone renaming if the hosts of the aggregate have any instances.\nIt\'s similar to conflicting AZ names error already available.\n\nChange-Id: Ic27195e46502067c87ee9c71a811a3ca3f610b73\nCloses-Bug: #1378904\n(cherry picked from commit 8e19ef4173906da0b7c761da4de0728a2fd71e24)\n'}]",0,641351,1559db570452cd5502b8f5e9ba44fef54295537f,12,7,1,21813,,,0,"Check hosts have no instances for AZ rename

Update aggregate and update aggregate metadata API calls have the
ability to update availability zone name for the aggregate. If the
aggregate is not empty (has hosts with instances on it)
the update leads to discrepancy for objects saving availability zone as a
string but not reference.

From devstack DB they are:
- cinder.backups.availability_zone
- cinder.consistencygroups.availability_zone
- cinder.groups.availability_zone
- cinder.services.availability_zone
- cinder.volumes.availability_zone
- neutron.agents.availability_zone
- neutron.networks.availability_zone_hints
- neutron.router_extra_attributes.availability_zone_hints
- nova.dns_domains.availability_zone
- nova.instances.availability_zone
- nova.volume_usage_cache.availability_zone
- nova.shadow_dns_domains.availability_zone
- nova.shadow_instances.availability_zone
- nova.shadow_volume_usage_cache.availability_zone

Why that's bad?
First, API and Horizon show different values for host and instance for
example. Second, migration for instances with changed availability
zone fails with ""No valid host found"" for old AZ.

This change adds an additional check to aggregate an Update Aggregate API call.
With the check, it's not possible to rename AZ if the corresponding
aggregate has instances in any hosts.

PUT /os-aggregates/{aggregate_id} and
POST /os-aggregates/{aggregate_id}/action return HTTP 400 for
availability zone renaming if the hosts of the aggregate have any instances.
It's similar to conflicting AZ names error already available.

Change-Id: Ic27195e46502067c87ee9c71a811a3ca3f610b73
Closes-Bug: #1378904
(cherry picked from commit 8e19ef4173906da0b7c761da4de0728a2fd71e24)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/641351/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1378904-disable-az-rename-b22a558a20b12706.yaml', 'nova/tests/functional/db/test_instance.py', 'nova/objects/instance.py', 'nova/tests/functional/test_aggregates.py', 'nova/compute/api.py']",5,1559db570452cd5502b8f5e9ba44fef54295537f,bug/1378904," action_name=AGGREGATE_ACTION_UPDATE, check_no_instances_in_az=True) action_name=AGGREGATE_ACTION_UPDATE_META, check_no_instances_in_az=True) action_name=AGGREGATE_ACTION_ADD, check_no_instances_in_az=False): :param action_name: Calling method for logging purposes :param check_no_instances_in_az: if True, it checks there is no instances on any hosts of the aggregate same_az_name = (aggregate.availability_zone == metadata['availability_zone']) if check_no_instances_in_az and not same_az_name: instance_count_by_cell = ( nova_context.scatter_gather_skip_cell0( context, objects.InstanceList.get_count_by_hosts, _hosts)) if any(cnt for cnt in instance_count_by_cell.values()): msg = _(""One or more hosts contain instances in this zone"") self._raise_invalid_aggregate_exc( action_name, aggregate.id, msg)", action_name=AGGREGATE_ACTION_UPDATE) action_name=AGGREGATE_ACTION_UPDATE_META) action_name=AGGREGATE_ACTION_ADD): :action_name: Calling method for logging purposes,151,4
openstack%2Fmanila~master~I03a732b550194f800f129652dd115a27e607a0de,openstack/manila,master,I03a732b550194f800f129652dd115a27e607a0de,[DNM] Debug job failure w/ tls-proxy/uwsgi changes,ABANDONED,2019-03-12 01:30:56.000000000,2019-03-15 17:44:00.000000000,,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}]","[{'number': 1, 'created': '2019-03-12 01:30:56.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/007a85ccf247b2e225f34397c3b42ffd8c01614c', 'message': '[DNM] Debug job failure w/ tls-proxy/uwsgi changes\n\nChange-Id: I03a732b550194f800f129652dd115a27e607a0de\nDepends-On: https://review.openstack.org/#/c/631338/\n'}]",0,642612,007a85ccf247b2e225f34397c3b42ffd8c01614c,6,4,1,16643,,,0,"[DNM] Debug job failure w/ tls-proxy/uwsgi changes

Change-Id: I03a732b550194f800f129652dd115a27e607a0de
Depends-On: https://review.openstack.org/#/c/631338/
",git fetch https://review.opendev.org/openstack/manila refs/changes/12/642612/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh']",2,007a85ccf247b2e225f34397c3b42ffd8c01614c,bp/wsgi-web-servers-support, manila --debug type-list manila --debug type-create $command_args, manila type-create $command_args,2,39
openstack%2Fopenstack-helm-images~master~Iccf07ba22a7c6bbc862a5fd2d0c08e004d60ac52,openstack/openstack-helm-images,master,Iccf07ba22a7c6bbc862a5fd2d0c08e004d60ac52,Update image names,MERGED,2019-03-08 10:43:17.000000000,2019-03-15 17:33:17.000000000,2019-03-15 17:28:06.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-08 10:43:17.000000000', 'files': ['zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/mini-mirror.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml', 'releasenotes/notes/image-name-convention-3acbf8dddd42427a.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a484272f8b88aa7e0cfe3e17a9a3aae183d41321', 'message': 'Update image names\n\nAccording to a meeting with portdirect, the convention for our\nimages is <imagename>:<tagging> where <tagging> takes the format\n<version>-<distro>.\n\nThis make sure all the non-LOCI images are updated to this latest\npattern.\n\n[1]: http://eavesdrop.openstack.org/irclogs/%23openstack-helm/%23openstack-helm.2019-03-07.log.html#t2019-03-07T17:50:58\n\nChange-Id: Iccf07ba22a7c6bbc862a5fd2d0c08e004d60ac52\n'}]",0,641982,a484272f8b88aa7e0cfe3e17a9a3aae183d41321,8,3,1,17068,,,0,"Update image names

According to a meeting with portdirect, the convention for our
images is <imagename>:<tagging> where <tagging> takes the format
<version>-<distro>.

This make sure all the non-LOCI images are updated to this latest
pattern.

[1]: http://eavesdrop.openstack.org/irclogs/%23openstack-helm/%23openstack-helm.2019-03-07.log.html#t2019-03-07T17:50:58

Change-Id: Iccf07ba22a7c6bbc862a5fd2d0c08e004d60ac52
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/82/641982/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/mini-mirror.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml', 'zuul.d/vbmc.yaml', 'releasenotes/notes/image-name-convention-3acbf8dddd42427a.yaml']",10,a484272f8b88aa7e0cfe3e17a9a3aae183d41321,update_image_names,--- other: - | Images are now built with tagging like version-distro. ,,17,13
openstack%2Fopenstack-helm-infra~master~I309e3b550fd1d683745c319aa39bcfb96b77ea14,openstack/openstack-helm-infra,master,I309e3b550fd1d683745c319aa39bcfb96b77ea14,Add init container to load apparmor profile,MERGED,2018-10-09 03:22:03.000000000,2019-03-15 17:22:40.000000000,2019-03-15 17:22:40.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18206}, {'_account_id': 20466}, {'_account_id': 20889}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 27589}, {'_account_id': 28025}, {'_account_id': 28701}, {'_account_id': 29254}]","[{'number': 1, 'created': '2018-10-09 03:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6841dff0b34f9e403119fb123832aebadce6f283', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-10-09 03:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/80bd5c61379c5d5ab296b05bae3ec2e6b51e7cd4', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-10-09 04:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a48a29206a18b4080f336f3424c67a5e2bc625eb', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-10-09 04:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0afaea16f86f96a236d9d2b19a7a75a8e24da20', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2018-10-09 05:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7467a5bc920d015e0c028d359286cdfd0aeb5c46', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2018-10-09 06:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6fdc635a85ab1a1b0ceb8c4d41bdbe2abb2c8688', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2018-10-09 07:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b83dd8224933c97ef9e8d8da3211834769e4e2b5', 'message': 'DNM | POC: AppArmor loader init container\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2018-10-09 07:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f921e20ab91e8221a35cd4ba952cca1f2b8b73b5', 'message': 'WIP, POC: Apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2018-10-09 07:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98440f9b34c2797b284c10cbd981116b7cdc8f1b', 'message': 'WIP, POC: Apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2018-10-09 14:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88d56626e400df2f11c2eb38d71b552c6586bd16', 'message': 'WIP, POC: Apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2018-10-09 18:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3e4c5a1326923c1b7368d632adf07705200d054', 'message': 'RFC: Apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2018-10-09 23:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9526282e48d5f62a52bfa41811426fbaf3f1c1ee', 'message': 'RFC: Add apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 13, 'created': '2018-10-09 23:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bf4172dec9ff64af27377668c3f1ff397e40cb6', 'message': 'RFC: Add apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2018-10-10 14:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54e85e58ac314d16a981e27f278c02295c7b809d', 'message': 'RFC: Add apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2018-10-12 03:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5285d918e5d5af28386480e5c7e88fd56b1b375b', 'message': 'RFC: Add apparmor profile loader\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2018-10-12 03:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47d0bdbbe2136256134fbd6f77271a1d27bba766', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2018-10-13 04:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47fe824b762c4f48f518e3c1d35274e90ba7f90a', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2018-10-13 15:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa8db0e8d83adf61a64c36ce0ff9a5c489641ef5', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2018-10-15 07:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aaa56322465a7cd9f1a96febe2270cac8d3adbbc', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2018-10-16 02:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5b19f4d4f6129d088eb941cc30f54580b691131', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 21, 'created': '2018-10-17 03:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b840c41303b7c7c664d824398fa5744b23ab9fa', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 22, 'created': '2018-10-17 03:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad33c9ddf63286cf70fa05f4c3aa874529416551', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 23, 'created': '2018-10-17 15:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b1c638b9b58c61e3aae6bd277a4abb69694cdc0', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 24, 'created': '2018-10-17 18:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c0d9d66a83abb03c6d28ddfe7e222160c60e75e', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 25, 'created': '2018-10-18 08:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a07a29d24547178932a3258644887ac8414984da', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 26, 'created': '2018-10-18 13:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb814d1c45e32f2cc4286f35f70947967ec3c2a0', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by helm\ntoolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 27, 'created': '2018-10-19 14:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f98b1b25e031cfe4828f3a7d390cd0c59bb3d7a5', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 28, 'created': '2018-10-19 20:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4ef2a2745c1c7da25b3cecf1952e03854b120ea', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 29, 'created': '2018-10-20 14:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f35d574a1ef536a9b05e500490f749d9e2ee2d38', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 30, 'created': '2018-10-21 16:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d17bc719129ae59edf9b4b2d1217a54ada212df0', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 31, 'created': '2018-10-22 06:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/480d0cca4b03caa6e0ef9d3821a994bcd3b1519f', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 32, 'created': '2018-10-23 03:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e170ddb9db45558cb44444ccdb6de9ad560c543d', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 33, 'created': '2018-10-24 00:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/054f69f8c098070cfc2f0900f817e26791da3f66', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 34, 'created': '2018-10-24 03:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f63bd9297853314abae9a36e976ea27472dcbf14', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 35, 'created': '2018-10-24 08:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c85fde9a6ca9f972b2d766bc5d70decc02e1fbc3', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 36, 'created': '2018-10-28 18:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a1d6669e70e3ef626f52a56c6cbbd9573435b9e', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 37, 'created': '2018-11-26 08:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96251db3bfe7ab1f74f54e31b6f1444c5ea44ef0', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 38, 'created': '2018-11-27 15:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82b18fd5f62e8246333a2c4c001f51b02767b50a', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 39, 'created': '2018-12-05 20:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/269e9b05d787b31dabbf4f68a5b1ca52c3abb280', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 40, 'created': '2018-12-06 08:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b5563b233afe57a7020432ce9a4ab2dbd6253668', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 41, 'created': '2018-12-06 23:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/22201f0d2ac3268408b925839cb2dba45ea94422', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 42, 'created': '2018-12-13 06:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/413a5f59c3fb853252093a1744ea35b55ff658b3', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 43, 'created': '2019-01-11 19:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52797f8330ed8336b26186bf21fceefd001d4d8f', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 44, 'created': '2019-01-21 16:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac2ed453b4763b773de65888ff7bcb911c862c0d', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 45, 'created': '2019-01-22 00:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ee9721c8c92b856befebfba781ace2f3f355f6b', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 46, 'created': '2019-01-28 16:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e256efcada738b205afaaedb02546e1e4a4b9c2e', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 47, 'created': '2019-01-28 16:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54f9836b9ba2dc299e6491eb459657722455e1d2', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 48, 'created': '2019-01-28 17:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff50e1ce4add28558fd9f76aa46a9da4d15bc004', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 49, 'created': '2019-01-28 20:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29ed0313f32805cb7ba735f10ef2343c60751cd6', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 50, 'created': '2019-03-05 04:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/323f588d597c47a21f5e70d7fb205c97a52a024a', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 51, 'created': '2019-03-12 05:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba1679b31669d618baa82acd810530f2cc2af128', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 52, 'created': '2019-03-15 14:09:01.000000000', 'files': ['tools/deployment/apparmor/000-install-packages.sh', 'tools/deployment/common/001-setup-apparmor-profiles.sh', 'tools/deployment/apparmor/040-memcached.sh', 'tools/deployment/apparmor/001-setup-apparmor-profiles.sh', 'helm-toolkit/templates/snippets/_kubernetes_apparmor_volumes.tpl', 'helm-toolkit/templates/snippets/_kubernetes_apparmor_configmap.tpl', 'memcached/templates/deployment.yaml', 'helm-toolkit/templates/snippets/_kubernetes_apparmor_loader_init_container.tpl', 'tools/deployment/apparmor/005-deploy-k8s.sh', 'memcached/templates/configmap-apparmor.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9af8205c01efd48c3b37ed00c557232a63716f9', 'message': 'Add init container to load apparmor profile\n\nThis patch place in a sample for an init container, generated by\nhelm toolkit, to load an apparmor profile included in the chart.\n\nChange-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",28,608826,d9af8205c01efd48c3b37ed00c557232a63716f9,145,14,52,20466,,,0,"Add init container to load apparmor profile

This patch place in a sample for an init container, generated by
helm toolkit, to load an apparmor profile included in the chart.

Change-Id: I309e3b550fd1d683745c319aa39bcfb96b77ea14
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/26/608826/25 && git format-patch -1 --stdout FETCH_HEAD,"['memcached/values.yaml', 'memcached/templates/deployment.yaml', '.zuul.yaml', 'memcached/templates/configmap-apparmor.yaml', 'playbooks/osh-infra-apparmor.yaml', 'helm-toolkit/templates/snippets/_kubernetes_apparmor_profile_loader.tpl', 'tools/deployment/developer/common/046-memcached.sh']",7,6841dff0b34f9e403119fb123832aebadce6f283,apparmor-loader,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe # NOTE: Lint and package chart make memcached tee /tmp/memcached.yaml <<EOF manifests: configmap_apparmor: true pod: apparmor: memcached: memcached: localhost/my-apparmor-v1 apparmor-profile-loader: unconfined EOF # NOTE: Deploy command : ${OSH_INFRA_EXTRA_HELM_ARGS:=""""} helm upgrade --install memcached ./memcached \ --namespace=osh-infra \ --set pod.replicas.server=1 \ --values=/tmp/memcached.yaml \ ${OSH_INFRA_EXTRA_HELM_ARGS} \ ${OSH_INFRA_EXTRA_HELM_ARGS_MEMCACHED} # NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh osh-infra # NOTE: Validate Deployment info helm status memcached # Run a test POD=$(kubectl --namespace=osh-infra | grep memcached | awk '{print $1}') RESULT=$(kubectl --namespace=osh-infra $POD -- cat /proc/1/attr/current) echo $RESULT ",,243,11
openstack%2Fmonasca-agent~master~If3a28ceb5cdde40749d077ad465054eba37c848c,openstack/monasca-agent,master,If3a28ceb5cdde40749d077ad465054eba37c848c,Ceph plugin detects client.admin keyring,MERGED,2019-03-08 17:18:58.000000000,2019-03-15 17:19:53.000000000,2019-03-15 17:19:53.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2019-03-08 17:18:58.000000000', 'files': ['monasca_setup/detection/plugins/ceph.py', 'tests/detection/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2099661acbb65ea9696248aaa4e6bc32866bb801', 'message': 'Ceph plugin detects client.admin keyring\n\nIn standard system locations, check for the client.admin key\nfor each detected Ceph cluster and conditionally suppress\nCeph agent checks that require it if it is not found.\n\nChange-Id: If3a28ceb5cdde40749d077ad465054eba37c848c\nStory: 2005172\n'}]",2,642082,2099661acbb65ea9696248aaa4e6bc32866bb801,8,5,1,10910,,,0,"Ceph plugin detects client.admin keyring

In standard system locations, check for the client.admin key
for each detected Ceph cluster and conditionally suppress
Ceph agent checks that require it if it is not found.

Change-Id: If3a28ceb5cdde40749d077ad465054eba37c848c
Story: 2005172
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/82/642082/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_setup/detection/plugins/ceph.py', 'tests/detection/test_ceph.py']",2,2099661acbb65ea9696248aaa4e6bc32866bb801,story-2005172," def test_build_config_with_no_admin_key(self, list_dir, path_exists): self._ceph._service_config = mock.Mock( side_effect=mocked_service_config) processes = MON_PROCESSES + RGW_PROCESSES process_instances = list() for p in processes: instance = { 'exact_match': False, 'search_string': p['search_string'], 'detailed': True, 'name': p['name'], 'dimensions': {'component': p['type'], 'service': 'ceph'} } process_instances.append(instance) expected_config = { 'process': { 'init_config': None, 'instances': process_instances, }, 'ceph': { 'init_config': None, 'instances': [{'cluster_name': 'ceph', 'collect_mon_metrics': False, 'collect_osd_metrics': False, 'collect_pool_metrics': False, 'collect_stats_metrics': False, 'collect_usage_metrics': False}, {'cluster_name': 'ceph1', 'collect_mon_metrics': False, 'collect_osd_metrics': False, 'collect_pool_metrics': False, 'collect_stats_metrics': False, 'collect_usage_metrics': False}] } } config = self._ceph.build_config() self.assertEqual(expected_config, dict(config)) @mock.patch('os.path.exists', return_value=True) @mock.patch('os.listdir', return_value=['ceph.conf', 'ceph1.conf', 'ceph1.client.admin.keyring']) 'instances': [{'cluster_name': 'ceph', 'collect_mon_metrics': False, 'collect_osd_metrics': False, 'collect_pool_metrics': False, 'collect_stats_metrics': False, 'collect_usage_metrics': False},"," 'instances': [{'cluster_name': 'ceph'},",67,4
openstack%2Floci~master~I3973d6a9d8156f305e4ea2f3ffbb831ee94156be,openstack/loci,master,I3973d6a9d8156f305e4ea2f3ffbb831ee94156be,allow using python-ldap instead of pyldap,MERGED,2019-03-04 10:14:05.000000000,2019-03-15 17:18:30.000000000,2019-03-15 17:18:30.000000000,"[{'_account_id': 2062}, {'_account_id': 7822}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-04 10:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/3950316765e0780bdbaada0f2082a59d34d04253', 'message': 'use python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be removed\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 2, 'created': '2019-03-04 10:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/eb55a5dc2fd422c398788dca31df142a068a6662', 'message': 'use python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be removed\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 3, 'created': '2019-03-14 21:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/32c4016a3158297169a3df3ed4db46314a3df58b', 'message': 'allow using python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be used on versions lower than rocky\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 4, 'created': '2019-03-14 21:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b9155453fabf5909cdfa172e15bea06ed7c83a8d', 'message': 'allow using python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be used on versions lower than rocky\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 5, 'created': '2019-03-14 22:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e81e5eb70e4ea2e0d53127bece52ae07c16de132', 'message': 'allow using python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be used on versions lower than rocky\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 6, 'created': '2019-03-15 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/94bc86d840c7aa2eb495d967cb5cacf23d6b5b07', 'message': 'allow using python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be used on versions lower than rocky\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 7, 'created': '2019-03-15 13:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/3297a973fecd018d9b15ec56ff1ea760dd2ee1ed', 'message': 'allow using python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be used on versions lower than rocky\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}, {'number': 8, 'created': '2019-03-15 14:09:48.000000000', 'files': ['pydep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/491f76105b93a2a4aabd72ff3ab582e4b4fb1576', 'message': 'allow using python-ldap instead of pyldap\n\npyldap has been deprecated and merged back into python-ldap so\nusing pyldap should be used on versions lower than rocky\n\nChange-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be\n'}]",3,640711,491f76105b93a2a4aabd72ff3ab582e4b4fb1576,34,6,8,12281,,,0,"allow using python-ldap instead of pyldap

pyldap has been deprecated and merged back into python-ldap so
using pyldap should be used on versions lower than rocky

Change-Id: I3973d6a9d8156f305e4ea2f3ffbb831ee94156be
",git fetch https://review.opendev.org/openstack/loci refs/changes/11/640711/2 && git format-patch -1 --stdout FETCH_HEAD,['pydep.txt'],1,3950316765e0780bdbaada0f2082a59d34d04253,fix_pyldap_deprecated,python-ldap [(keystone ldap)],pyldap [(keystone ldap)],1,1
openstack%2Fmonasca-common~master~I02361fd1de5d541e2c8e175c2fe1886724670522,openstack/monasca-common,master,I02361fd1de5d541e2c8e175c2fe1886724670522,Convert mysql port to int in wait script,MERGED,2019-03-14 12:57:38.000000000,2019-03-15 17:17:13.000000000,2019-03-15 17:17:13.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-03-14 12:57:38.000000000', 'files': ['docker/mysql_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/7fb362200b5835f306eec5ba7565ddea16c38473', 'message': 'Convert mysql port to int in wait script\n\nChange-Id: I02361fd1de5d541e2c8e175c2fe1886724670522\n'}]",0,643321,7fb362200b5835f306eec5ba7565ddea16c38473,10,4,1,21922,,,0,"Convert mysql port to int in wait script

Change-Id: I02361fd1de5d541e2c8e175c2fe1886724670522
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/21/643321/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/mysql_check.py'],1,7fb362200b5835f306eec5ba7565ddea16c38473,docker,"MYSQL_PORT = int(os.environ.get('MYSQL_PORT', 3306))","MYSQL_PORT = os.environ.get('MYSQL_PORT', 3306)",1,1
openstack%2Fopenstack-helm~master~I5a60efd133c156ce2ecac31d22e94b25e4e837bf,openstack/openstack-helm,master,I5a60efd133c156ce2ecac31d22e94b25e4e837bf,Add default-docker (enforce) AppArmor profile to nova,MERGED,2019-02-28 19:40:22.000000000,2019-03-15 17:12:32.000000000,2019-03-15 17:12:32.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 19064}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26686}, {'_account_id': 28025}, {'_account_id': 28235}, {'_account_id': 28778}]","[{'number': 1, 'created': '2019-02-28 19:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8547d0be840908b0cdfebd0888e3f135ffdd3e2', 'message': 'Add default-docker (enforce) AppArmor profile to nova\n\nChange-Id: I5a60efd133c156ce2ecac31d22e94b25e4e837bf\n'}, {'number': 2, 'created': '2019-02-28 20:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8b5cdf79f376f356748ba088a91fe83b1eb8131', 'message': 'Add default-docker (enforce) AppArmor profile to nova\n\nChange-Id: I5a60efd133c156ce2ecac31d22e94b25e4e837bf\n'}, {'number': 3, 'created': '2019-02-28 20:36:01.000000000', 'files': ['nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/statefulset-compute-ironic.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a32b05bfab23b87bdf5ecc62ba431788c2523793', 'message': 'Add default-docker (enforce) AppArmor profile to nova\n\nChange-Id: I5a60efd133c156ce2ecac31d22e94b25e4e837bf\n'}]",0,640177,a32b05bfab23b87bdf5ecc62ba431788c2523793,10,13,3,29298,,,0,"Add default-docker (enforce) AppArmor profile to nova

Change-Id: I5a60efd133c156ce2ecac31d22e94b25e4e837bf
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/640177/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/statefulset-compute-ironic.yaml']",3,a8547d0be840908b0cdfebd0888e3f135ffdd3e2,,"{{ dict ""envAll"" $envAll ""podName"" ""nova-compute"" ""containerNames"" (list ""nova-compute"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,6,0
openstack%2Fopenstack-helm~master~I17b44183c00a23081f00a6932d519c2ed7806385,openstack/openstack-helm,master,I17b44183c00a23081f00a6932d519c2ed7806385,Add Docker default AppArmor profile to neutron,MERGED,2019-02-28 19:26:20.000000000,2019-03-15 17:06:44.000000000,2019-03-15 17:06:44.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 19064}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26686}, {'_account_id': 28025}, {'_account_id': 28235}, {'_account_id': 28778}, {'_account_id': 29131}]","[{'number': 1, 'created': '2019-02-28 19:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe796a336ed2c85a9e1a7432bade88a89d15a633', 'message': 'Add  Docker default AppArmor profile to neutron\n\nChange-Id: I17b44183c00a23081f00a6932d519c2ed7806385\n'}, {'number': 2, 'created': '2019-02-28 20:10:35.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/584c63c2e9120536005bcb677bac88dca9ee1335', 'message': 'Add Docker default AppArmor profile to neutron\n\nChange-Id: I17b44183c00a23081f00a6932d519c2ed7806385\n'}]",13,640173,584c63c2e9120536005bcb677bac88dca9ee1335,24,16,2,29131,,,0,"Add Docker default AppArmor profile to neutron

Change-Id: I17b44183c00a23081f00a6932d519c2ed7806385
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/640173/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml']",7,fe796a336ed2c85a9e1a7432bade88a89d15a633,,"{{ dict ""envAll"" $envAll ""podName"" ""neutron-sriov-agent-default"" ""containerNames"" (list ""neutron-sriov-agent-default"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,20,1
openstack%2Foctavia-dashboard~master~I58404ec835f362faaa04df58bf23cd9fee1963c2,openstack/octavia-dashboard,master,I58404ec835f362faaa04df58bf23cd9fee1963c2,Switch to horizon-nodejs4-jobs template,MERGED,2019-03-14 00:33:44.000000000,2019-03-15 16:47:40.000000000,2019-03-15 16:47:40.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 00:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/aee245ccc15969fea5dcb8902877b9568165fcff', 'message': ""Switch to horizon-nodejs4-jobs-nonvoting template\n\nWe need to switch these jobs to xenial. But while we're doing that,\nlet's shift to consuming a template managed in the horizon repo.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: I58404ec835f362faaa04df58bf23cd9fee1963c2\n""}, {'number': 2, 'created': '2019-03-14 00:41:43.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/c709cf0e9b226d62253eba0cd9a75408dbcfa8ea', 'message': ""Switch to horizon-nodejs4-jobs template\n\nWe need to switch these jobs to xenial. But while we're doing that,\nlet's shift to consuming a template managed in the horizon repo.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: I58404ec835f362faaa04df58bf23cd9fee1963c2\n""}]",0,643202,c709cf0e9b226d62253eba0cd9a75408dbcfa8ea,11,5,2,2,,,0,"Switch to horizon-nodejs4-jobs template

We need to switch these jobs to xenial. But while we're doing that,
let's shift to consuming a template managed in the horizon repo.

Depends-On: https://review.openstack.org/643198
Change-Id: I58404ec835f362faaa04df58bf23cd9fee1963c2
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/02/643202/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,aee245ccc15969fea5dcb8902877b9568165fcff,nodev4-xenial, - horizon-nodejs4-jobs, - nodejs-npm-run-lint: vars: node_version: 4 required-projects: - openstack/horizon - nodejs-npm-run-test: vars: node_version: 4 required-projects: - openstack/horizon - nodejs-npm-run-lint: vars: node_version: 4 required-projects: - openstack/horizon - nodejs-npm-run-test: vars: node_version: 4 required-projects: - openstack/horizon ,1,21
openstack%2Fopenstack-helm-addons~master~If832945d126572d821ae631d10d39d6671f46101,openstack/openstack-helm-addons,master,If832945d126572d821ae631d10d39d6671f46101,add prometheus-bot chart,MERGED,2019-03-08 04:43:29.000000000,2019-03-15 16:43:12.000000000,2019-03-15 16:43:11.000000000,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-08 04:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7e491c334359c9107056c83d5bf2302b2616a5be', 'message': 'add prometheus-bot chart\n\nThis PS adds prometheus-bot chart to send prometheus alerts to telegram\nmessenger\n\nChange-Id: If832945d126572d821ae631d10d39d6671f46101\n'}, {'number': 2, 'created': '2019-03-08 09:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/abb8548450e75ecbd5adcb5695a8e7dcdc659f01', 'message': 'add prometheus-bot chart\n\nThis PS adds prometheus-bot chart to send prometheus alerts to telegram\nmessenger\n\nChange-Id: If832945d126572d821ae631d10d39d6671f46101\n'}, {'number': 3, 'created': '2019-03-08 09:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1a6176dad05f8f2290e608f96c5562efc3b9a725', 'message': 'add prometheus-bot chart\n\nThis PS adds prometheus-bot chart to send prometheus alerts to telegram\nmessenger\n\nChange-Id: If832945d126572d821ae631d10d39d6671f46101\nStory: 2005155\n'}, {'number': 4, 'created': '2019-03-15 06:17:46.000000000', 'files': ['prometheus-bot/values.yaml', 'prometheus-bot/templates/secret-telegram-token.yaml', 'prometheus-bot/Chart.yaml', 'prometheus-bot/requirements.yaml', 'prometheus-bot/templates/service.yaml', 'prometheus-bot/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/013ea578d81c4906b2fbac5b0e90d5da46d19730', 'message': 'add prometheus-bot chart\n\nThis PS adds prometheus-bot chart to send prometheus alerts to telegram\nmessenger\n\nChange-Id: If832945d126572d821ae631d10d39d6671f46101\nStory: 2005155\n'}]",2,641922,013ea578d81c4906b2fbac5b0e90d5da46d19730,14,5,4,26196,,,0,"add prometheus-bot chart

This PS adds prometheus-bot chart to send prometheus alerts to telegram
messenger

Change-Id: If832945d126572d821ae631d10d39d6671f46101
Story: 2005155
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/22/641922/3 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-bot/values.yaml', 'prometheus-bot/templates/secret-telegram-token.yaml', 'prometheus-bot/Chart.yaml', 'prometheus-bot/requirements.yaml', 'prometheus-bot/templates/service.yaml', 'prometheus-bot/templates/deployment.yaml']",6,7e491c334359c9107056c83d5bf2302b2616a5be,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- $envAll := . }} --- apiVersion: apps/v1 kind: Deployment metadata: name: prometheus-bot annotations: labels: {{ tuple $envAll ""prometheus-bot"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: replicas: {{ .Values.pod.replicas.server }} selector: matchLabels: {{ tuple $envAll ""prometheus-bot"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} template: metadata: labels: {{ tuple $envAll ""prometheus-bot"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: hostNetwork: true affinity: {{ tuple $envAll ""prometheus-bot"" ""server"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.server.node_selector_key }}: {{ .Values.labels.server.node_selector_value }} terminationGracePeriodSeconds: {{ .Values.pod.lifecycle.termination_grace_period.prometheus_bot.timeout | default ""30"" }} containers: - name: prometheus-bot {{ tuple $envAll ""prometheus_bot"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.server | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} securityContext: runAsUser: 0 command: - /prometheus_bot - -c - config.yaml ports: - name: web containerPort: {{ tuple ""server"" ""internal"" ""webhook"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: tcpSocket: port: {{ tuple ""server"" ""internal"" ""webhook"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 15 periodSeconds: 10 livenessProbe: tcpSocket: port: {{ tuple ""server"" ""internal"" ""webhook"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 180 periodSeconds: 60 timeoutSeconds: 5 volumeMounts: - name: secret-telegram-token mountPath: /config.yaml subPath: config.yaml readOnly: true volumes: - name: secret-telegram-token secret: secretName: telegram-token defaultMode: 0444 ",,273,0
openstack%2Fopenstack-helm~master~I48e46612e17556babc35263355c6749c70fd8711,openstack/openstack-helm,master,I48e46612e17556babc35263355c6749c70fd8711,[nova] Do not throw out stdout of nova-manage --version,MERGED,2019-03-14 11:07:57.000000000,2019-03-15 16:40:51.000000000,2019-03-15 16:40:51.000000000,"[{'_account_id': 7069}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-14 11:07:57.000000000', 'files': ['nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/bin/_cell-setup.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f33c07b8fb214e9451096609e17703fb750d7edc', 'message': '[nova] Do not throw out stdout of nova-manage --version\n\n""nova-manage --version"" used to print to stderr, but\nat least since Rocky it prints to stdout\n\nChange-Id: I48e46612e17556babc35263355c6749c70fd8711\n'}]",0,643291,f33c07b8fb214e9451096609e17703fb750d7edc,9,5,1,9963,,,0,"[nova] Do not throw out stdout of nova-manage --version

""nova-manage --version"" used to print to stderr, but
at least since Rocky it prints to stdout

Change-Id: I48e46612e17556babc35263355c6749c70fd8711
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/643291/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/bin/_cell-setup.sh.tpl']",2,f33c07b8fb214e9451096609e17703fb750d7edc,nova-manage,NOVA_VERSION=$(nova-manage --version 2>&1),NOVA_VERSION=$(nova-manage --version 2>&1 > /dev/null),2,2
openstack%2Ftripleo-image-elements~stable%2Fqueens~I1a47bf9cf25f0b3d17d76c5277d7a1aed080d794,openstack/tripleo-image-elements,stable/queens,I1a47bf9cf25f0b3d17d76c5277d7a1aed080d794,Add upper constraints for stable/queens,ABANDONED,2019-03-12 22:22:36.000000000,2019-03-15 16:37:55.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 22:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/24f13b494add20ef952909a6d2cdc7faa26cbb75', 'message': 'Add upper constraints for stable/queens\n\nThis appears to have been missed during the branch creation of\nstable/queens.\n\nChange-Id: I1a47bf9cf25f0b3d17d76c5277d7a1aed080d794\n'}, {'number': 2, 'created': '2019-03-12 22:27:35.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/52223ebb73336010df2f704c9ae9741ef1e02850', 'message': 'Add upper constraints for stable/queens\n\nThis appears to have been missed during the branch creation of\nstable/queens.\n\nChange-Id: I1a47bf9cf25f0b3d17d76c5277d7a1aed080d794\n'}]",0,642911,52223ebb73336010df2f704c9ae9741ef1e02850,8,3,2,14985,,,0,"Add upper constraints for stable/queens

This appears to have been missed during the branch creation of
stable/queens.

Change-Id: I1a47bf9cf25f0b3d17d76c5277d7a1aed080d794
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/11/642911/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,24f13b494add20ef952909a6d2cdc7faa26cbb75,fix-constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,2
openstack%2Fopenstack-helm-infra~master~I54621e94f2866a4b4301baa6b570472c5fcda291,openstack/openstack-helm-infra,master,I54621e94f2866a4b4301baa6b570472c5fcda291,Kubernetes-keystone-webhook: Add security context,MERGED,2019-02-21 22:01:12.000000000,2019-03-15 16:33:27.000000000,2019-03-15 16:33:27.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-02-21 22:01:12.000000000', 'files': ['kubernetes-keystone-webhook/templates/deployment.yaml', 'kubernetes-keystone-webhook/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1d0fd369955477cde46dcc5afd5684a19aa450e', 'message': 'Kubernetes-keystone-webhook: Add security context\n\nThis adds the security context to the\nkubernetes-keystone-webhook. This changes the default\nuser from root to the nobody user.\nThis also adds the container security context to\nexplicitly set allowPrivilegeEscalation to false\n\nChange-Id: I54621e94f2866a4b4301baa6b570472c5fcda291\n'}]",0,638515,b1d0fd369955477cde46dcc5afd5684a19aa450e,9,4,1,24780,,,0,"Kubernetes-keystone-webhook: Add security context

This adds the security context to the
kubernetes-keystone-webhook. This changes the default
user from root to the nobody user.
This also adds the container security context to
explicitly set allowPrivilegeEscalation to false

Change-Id: I54621e94f2866a4b4301baa6b570472c5fcda291
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/638515/1 && git format-patch -1 --stdout FETCH_HEAD,"['kubernetes-keystone-webhook/templates/deployment.yaml', 'kubernetes-keystone-webhook/values.yaml']",2,b1d0fd369955477cde46dcc5afd5684a19aa450e,, user: kubernetes-keystone-webhook: uid: 65534,,6,0
openstack%2Fopenstack-helm-infra~master~I0f73a6f3ca7e9d045832435410933bd630a8c686,openstack/openstack-helm-infra,master,I0f73a6f3ca7e9d045832435410933bd630a8c686,Adding text collector for i40e VF stats from node The stats are generated by divingbell job and node-exporter picks the stats from the host file system.,MERGED,2019-01-04 23:00:43.000000000,2019-03-15 16:32:30.000000000,2019-03-15 16:32:30.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-01-04 23:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07cfd92b5913e4756b51d6f5fd7bab870a9d19c8', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 2, 'created': '2019-01-04 23:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/efa25305c6848b19f5bbdf6e1c550b6c5fc8ae83', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 3, 'created': '2019-01-29 15:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c9c0d68482a21f5e9751fd5531a7d55d413050b', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 4, 'created': '2019-01-31 20:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79f4ac93745a88f736d3fb5632b7df6cf71f1853', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 5, 'created': '2019-01-31 20:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/277ef2f9838e9194df4a4abcb00ab5d46ff4205c', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 6, 'created': '2019-01-31 20:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5d21a2f51237980bf4a51d61ed1380bc27c4104b', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 7, 'created': '2019-02-01 17:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7286fbe2242ddb797fb6fdbe1aa03cf925c87c0d', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 8, 'created': '2019-02-04 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c87cac6af8903f3a44e9eacd7a4c5dc24f11aff6', 'message': '[WIP] adding text collector for VF stats from node.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 9, 'created': '2019-02-12 13:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f61d3b7c4278bb052e6ab5d36561913e811e9c1b', 'message': '[WIP] adding text collector for VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 10, 'created': '2019-02-13 15:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5d1eb3ed8dc32e28f4b41a2954f9d2dfc02bb663', 'message': 'Adding text collector for i40e VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 11, 'created': '2019-03-01 00:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0dd41d337d3304c717f154ab9a031768df3c6db', 'message': 'Adding text collector for i40e VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 12, 'created': '2019-03-01 14:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/697b8d2f119bd36ed8684c70b298fbd726b2374e', 'message': 'Adding text collector for i40e VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 13, 'created': '2019-03-05 18:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b2c757d604639822a718f09711993c720daf083', 'message': 'Adding text collector for i40e VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 14, 'created': '2019-03-05 19:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41543ba53fdabc71cd0c18aec151d5c381069e93', 'message': 'Adding text collector for i40e VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 15, 'created': '2019-03-05 19:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d94c3c891112c535ca12e3796cb7ad8a4cfeaaf', 'message': 'Adding text collector for i40e VF stats from node.\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 16, 'created': '2019-03-07 14:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f53d99472de750d05393defce121cbaafe708c5f', 'message': 'Adding text collector for i40e VF stats from node\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 17, 'created': '2019-03-07 17:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b451397c4d87d034d3e12807db7d04abb68cb813', 'message': 'Adding text collector for i40e VF stats from node\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 18, 'created': '2019-03-12 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c6736d0d0ccc3497ecf86ce9ca4ba384a7393bb1', 'message': 'Adding text collector for i40e VF stats from node\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 19, 'created': '2019-03-15 04:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a20e76602ea0bc2d36feb715111de665bbdd37e', 'message': 'Adding text collector for i40e VF stats from node\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}, {'number': 20, 'created': '2019-03-15 13:21:15.000000000', 'files': ['prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/daemonset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e766bc6adb2fac0b0a3c5f533d8fce4b2957baec', 'message': 'Adding text collector for i40e VF stats from node\nThe stats are generated by divingbell job and node-exporter picks\nthe stats from the host file system.\n\nChange-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686\n'}]",17,628700,e766bc6adb2fac0b0a3c5f533d8fce4b2957baec,58,10,20,16881,,,0,"Adding text collector for i40e VF stats from node
The stats are generated by divingbell job and node-exporter picks
the stats from the host file system.

Change-Id: I0f73a6f3ca7e9d045832435410933bd630a8c686
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/628700/17 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/templates/bin/_vfstats.sh.tpl', 'prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/templates/configmap-bin.yaml', 'prometheus-node-exporter/templates/daemonset.yaml']",5,07cfd92b5913e4756b51d6f5fd7bab870a9d19c8,node-exporter-vfstats, - /tmp/vfstats.sh - name: vfstats-bin mountPath: /tmp/vfstats.sh subPath: vfstats.sh readOnly: true - name: vfstats-bin configMap: name: node-exporter-bin defaultMode: 0555,,91,1
openstack%2Ftripleo-image-elements~master~I7c54b1d99e7cf6c4e3f4ded8c518bf447b2ba1de,openstack/tripleo-image-elements,master,I7c54b1d99e7cf6c4e3f4ded8c518bf447b2ba1de,Add python jobs to tripleo-image-elements,MERGED,2018-05-31 15:52:05.000000000,2019-03-15 16:31:58.000000000,2018-06-01 01:17:29.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-31 15:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d8e259d8ad31189ae157db1b273a3aabb1141d56', 'message': 'Add python jobs to tripleo-image-elements\n\nChange-Id: I7c54b1d99e7cf6c4e3f4ded8c518bf447b2ba1de\n'}, {'number': 2, 'created': '2018-05-31 16:51:55.000000000', 'files': ['tests/base.py', 'elements/os-svc-install/tests/test_os_svc_daemon.py', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a7837c9430efbe5fae64afb9107bbbd17644b7a5', 'message': 'Add python jobs to tripleo-image-elements\n\nThis change also fixes the python tests to properly mock the path so our\nstubs work if the command already exists on the system path.\n\nChange-Id: I7c54b1d99e7cf6c4e3f4ded8c518bf447b2ba1de\n'}]",0,571512,a7837c9430efbe5fae64afb9107bbbd17644b7a5,10,4,2,14985,,,0,"Add python jobs to tripleo-image-elements

This change also fixes the python tests to properly mock the path so our
stubs work if the command already exists on the system path.

Change-Id: I7c54b1d99e7cf6c4e3f4ded8c518bf447b2ba1de
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/12/571512/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d8e259d8ad31189ae157db1b273a3aabb1141d56,fix-tripleo-image-elements, - openstack-python-jobs,,1,0
openstack%2Fneutron-lbaas-dashboard~master~Ie222177cafc5bbde984714a44e113cc538623aa9,openstack/neutron-lbaas-dashboard,master,Ie222177cafc5bbde984714a44e113cc538623aa9,Switch to horizon-nodejs4-jobs template,MERGED,2019-03-13 22:43:16.000000000,2019-03-15 16:30:45.000000000,2019-03-15 16:30:45.000000000,"[{'_account_id': 1736}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 22:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/182c572983630773c7eff85b3908e778ed961409', 'message': 'Update node_version to 10\n\nVersion 4 is EOL and is not available on bionic. 10 is the\nmost recent LTS - so seems like a good target.\n\nChange-Id: Ie222177cafc5bbde984714a44e113cc538623aa9\n'}, {'number': 2, 'created': '2019-03-14 00:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/99ac7d387ec1d7547461367c910b9d477cbf599a', 'message': ""Switch to horizon-nodejs4-jobs-nonvoting template\n\nWe need to switch these jobs to xenial. But while we're doing that,\nlet's shift to consuming a template managed in the horizon repo.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: Ie222177cafc5bbde984714a44e113cc538623aa9\n""}, {'number': 3, 'created': '2019-03-14 00:45:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/d51abb9856a8ac9d13e480949fbe734747b35a8a', 'message': ""Switch to horizon-nodejs4-jobs template\n\nWe need to switch these jobs to xenial. But while we're doing that,\nlet's shift to consuming a template managed in the horizon repo.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: Ie222177cafc5bbde984714a44e113cc538623aa9\n""}]",1,643177,d51abb9856a8ac9d13e480949fbe734747b35a8a,11,3,3,2,,,0,"Switch to horizon-nodejs4-jobs template

We need to switch these jobs to xenial. But while we're doing that,
let's shift to consuming a template managed in the horizon repo.

Depends-On: https://review.openstack.org/643198
Change-Id: Ie222177cafc5bbde984714a44e113cc538623aa9
",git fetch https://review.opendev.org/openstack/neutron-lbaas-dashboard refs/changes/77/643177/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,182c572983630773c7eff85b3908e778ed961409,nodev4-xenial, node_version: 8 node_version: 8 node_version: 8 node_version: 8, node_version: 4 node_version: 4 node_version: 4 node_version: 4,4,4
openstack%2Fopenstacksdk~master~I7f59ec145946b316432357f3d0190b65157bcbfb,openstack/openstacksdk,master,I7f59ec145946b316432357f3d0190b65157bcbfb,Fix bugtracker and documentation references,MERGED,2018-04-25 09:51:19.000000000,2019-03-15 16:28:20.000000000,2018-04-25 17:09:16.000000000,"[{'_account_id': 5545}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 09:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e2f9853b16029d33bf15e53dcb3508322c0b604e', 'message': 'Fix bugtracker and documentation references\n\nThese are all out of date.\n\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nChange-Id: I7f59ec145946b316432357f3d0190b65157bcbfb\n'}, {'number': 2, 'created': '2018-04-25 11:17:21.000000000', 'files': ['openstack/image/v2/image.py', 'CONTRIBUTING.rst', 'doc/source/user/guides/connect_from_config.rst', 'openstack/tests/unit/config/test_config.py', 'README.rst', 'doc/source/conf.py', 'openstack/tests/functional/orchestration/v1/test_stack.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9c31aeca60f465ce692cb24354c557a1d3384819', 'message': 'Fix bugtracker and documentation references\n\nThese are all out of date.\n\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nChange-Id: I7f59ec145946b316432357f3d0190b65157bcbfb\n'}]",1,564154,9c31aeca60f465ce692cb24354c557a1d3384819,13,3,2,2,,,0,"Fix bugtracker and documentation references

These are all out of date.

Co-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>
Change-Id: I7f59ec145946b316432357f3d0190b65157bcbfb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/564154/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/image.py', 'CONTRIBUTING.rst', 'doc/source/user/guides/connect_from_config.rst', 'openstack/tests/unit/config/test_config.py', 'README.rst', 'doc/source/conf.py', 'openstack/tests/functional/orchestration/v1/test_stack.py']",7,e2f9853b16029d33bf15e53dcb3508322c0b604e,, ' https://storyboard.openstack.org/#!/story/1525005'), ' https://bugs.launchpad.net/python-openstacksdk/+bug/1525005'),10,11
openstack%2Fopenstacksdk~master~I45fd5ffd18255450d38a1f56c80f5c157ea19ae3,openstack/openstacksdk,master,I45fd5ffd18255450d38a1f56c80f5c157ea19ae3,Rationalize logging helpers and docs,MERGED,2018-01-10 20:51:53.000000000,2019-03-15 16:28:14.000000000,2018-01-18 21:06:02.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 26001}]","[{'number': 1, 'created': '2018-01-10 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/43717586fabcba44c070395342ee4c40f14c038c', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}, {'number': 2, 'created': '2018-01-12 18:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9aa09cf5ea11b1d8da280103ffaf83e01b7f42f7', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}, {'number': 3, 'created': '2018-01-12 23:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/79c277f022c8d35a0b2fee57699521fa1803238a', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}, {'number': 4, 'created': '2018-01-15 06:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6184c61ed62a70b9a48fbd3683b6bb9b43402487', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}, {'number': 5, 'created': '2018-01-15 23:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/43c476c530082a452ff751630c3fcaca805d43f6', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}, {'number': 6, 'created': '2018-01-16 01:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d3cbdbd59fea29cee3af11c0b248cbccb80bd255', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}, {'number': 7, 'created': '2018-01-16 22:09:05.000000000', 'files': ['examples/cloud/upload-large-object.py', 'openstack/image/v2/image.py', 'examples/cloud/cleanup-servers.py', 'examples/cloud/service-conditional-overrides.py', 'SHADE-MERGE-TODO.rst', 'examples/cloud/debug-logging.py', 'README.rst', 'doc/source/user/guides/logging.rst', 'openstack/task_manager.py', 'examples/cloud/service-conditionals.py', 'examples/cloud/create-server-name-or-id.py', 'examples/cloud/munch-dict-object.py', 'examples/cloud/normalization.py', 'examples/cloud/server-information.py', 'doc/source/user/logging.rst', 'examples/cloud/http-debug-logging.py', 'doc/source/user/multi-cloud-demo.rst', 'openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py', 'doc/source/user/index.rst', 'examples/cloud/user-agent.py', 'openstack/__init__.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/utils.py', 'openstack/connection.py', 'examples/cloud/find-an-image.py', 'openstack/profile.py', 'openstack/config/loader.py', 'openstack/_log.py', 'openstack/tests/unit/test_utils.py', 'examples/cloud/strict-mode.py', 'openstack/cloud/_utils.py', 'examples/cloud/create-server-dict.py', 'examples/cloud/upload-object.py', 'openstack/cloud/meta.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/da2406bace893df7842b21d2bee7867f3a5c7855', 'message': ""Rationalize logging helpers and docs\n\nshade and openstacksdk each have a logging doc and a logging setup helper\nfunction. They both basically do the same thing, and we have a TODO item\nabout collapsing them.\n\nThis moves openstack.utils.enable_logging to openstack.enable_logging\n(leaving behind a compat piece at openstack.utils.enable_logging) It\nadds the shade functionality to it, and also changes the behavior to\nmatch shade's WRT behavior when no parameters are passed (defaults to\nlogging to stdout)\n\nUpdate the codebase to call openstack._log.setup_logging instead of\nlogging.getLogger directly, as setup_logging attaches a NullHandler by\ndefault.\n\nCollapse the docs into a single document.\n\nThere were only two places where openstacksdk was already logging to\nsomething other than 'openstack'. Collapse those down to 'openstack'\nuntil we come up with a reason to break them out more logically.\n\nChange-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3\n""}]",7,532634,da2406bace893df7842b21d2bee7867f3a5c7855,22,5,7,2,,,0,"Rationalize logging helpers and docs

shade and openstacksdk each have a logging doc and a logging setup helper
function. They both basically do the same thing, and we have a TODO item
about collapsing them.

This moves openstack.utils.enable_logging to openstack.enable_logging
(leaving behind a compat piece at openstack.utils.enable_logging) It
adds the shade functionality to it, and also changes the behavior to
match shade's WRT behavior when no parameters are passed (defaults to
logging to stdout)

Update the codebase to call openstack._log.setup_logging instead of
logging.getLogger directly, as setup_logging attaches a NullHandler by
default.

Collapse the docs into a single document.

There were only two places where openstacksdk was already logging to
something other than 'openstack'. Collapse those down to 'openstack'
until we come up with a reason to break them out more logically.

Change-Id: I45fd5ffd18255450d38a1f56c80f5c157ea19ae3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/34/532634/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/cloud/upload-large-object.py', 'openstack/image/v2/image.py', 'examples/cloud/cleanup-servers.py', 'examples/cloud/service-conditional-overrides.py', 'SHADE-MERGE-TODO.rst', 'examples/cloud/debug-logging.py', 'README.rst', 'doc/source/user/guides/logging.rst', 'openstack/task_manager.py', 'examples/cloud/service-conditionals.py', 'examples/cloud/create-server-name-or-id.py', 'examples/cloud/munch-dict-object.py', 'examples/cloud/normalization.py', 'examples/cloud/server-information.py', 'doc/source/user/logging.rst', 'examples/cloud/http-debug-logging.py', 'doc/source/user/multi-cloud-demo.rst', 'openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py', 'doc/source/user/index.rst', 'examples/cloud/user-agent.py', 'openstack/__init__.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/utils.py', 'openstack/connection.py', 'examples/cloud/find-an-image.py', 'openstack/profile.py', 'openstack/config/loader.py', 'openstack/_log.py', 'openstack/tests/unit/test_utils.py', 'examples/cloud/strict-mode.py', 'openstack/cloud/_utils.py', 'examples/cloud/create-server-dict.py', 'examples/cloud/upload-object.py', 'openstack/cloud/meta.py']",35,43717586fabcba44c070395342ee4c40f14c038c,swift-resource2, log = _log.setup_logging('openstack') log = _log.setup_logging('openstack'), log = _log.setup_logging('shade') log = _log.setup_logging('shade'),388,404
openstack%2Foctavia-dashboard~master~I76ff2edac65b83b845ef4a21df22a6e7f4ebb0aa,openstack/octavia-dashboard,master,I76ff2edac65b83b845ef4a21df22a6e7f4ebb0aa,Update nodejs to 10 LTS,ABANDONED,2019-03-13 23:54:54.000000000,2019-03-15 16:26:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-13 23:54:54.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/353cc57d9be3f4aac6bc2adde70831f76da459f9', 'message': 'Update nodejs to 10 LTS\n\nThis patch updates the zuul nodejs test jobs to use the LTS version\n10 of nodejs.\n\nChange-Id: I76ff2edac65b83b845ef4a21df22a6e7f4ebb0aa\n'}]",0,643189,353cc57d9be3f4aac6bc2adde70831f76da459f9,3,1,1,11628,,,0,"Update nodejs to 10 LTS

This patch updates the zuul nodejs test jobs to use the LTS version
10 of nodejs.

Change-Id: I76ff2edac65b83b845ef4a21df22a6e7f4ebb0aa
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/89/643189/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,353cc57d9be3f4aac6bc2adde70831f76da459f9,, node_version: 10 node_version: 10 node_version: 10 node_version: 10, node_version: 4 node_version: 4 node_version: 4 node_version: 4,4,4
openstack%2Fopenstack-ansible-os_ceilometer~master~I62890be07192cd9baad6da87a13142c494bf4fa9,openstack/openstack-ansible-os_ceilometer,master,I62890be07192cd9baad6da87a13142c494bf4fa9,fix tox python3 overrides,MERGED,2018-10-12 09:16:18.000000000,2019-03-15 16:20:27.000000000,2019-03-15 16:20:27.000000000,"[{'_account_id': 1004}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-12 09:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/81feded64c10bae6160fee8b0d103059ca38e6ea', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I62890be07192cd9baad6da87a13142c494bf4fa9\n'}, {'number': 2, 'created': '2018-12-01 10:54:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/d2e5ce53d221ab7626ceb589a82dbb5079dd0840', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I62890be07192cd9baad6da87a13142c494bf4fa9\nCloses-Bug:  #1801657\n'}]",0,609979,d2e5ce53d221ab7626ceb589a82dbb5079dd0840,13,6,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I62890be07192cd9baad6da87a13142c494bf4fa9
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/79/609979/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,81feded64c10bae6160fee8b0d103059ca38e6ea,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fopenstack-ansible-os_mistral~stable%2Frocky~Ia94dc3ac167bdf0aa99d6dc032e7daea980fbf29,openstack/openstack-ansible-os_mistral,stable/rocky,Ia94dc3ac167bdf0aa99d6dc032e7daea980fbf29,Port venv build of os_mistral to stable/rocky,MERGED,2019-03-14 20:14:57.000000000,2019-03-15 16:17:10.000000000,2019-03-15 16:17:10.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 20:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/17c4b9160ce304332c6f992d2c36e6e17ed02482', 'message': 'Port venv build of os_mistral to stable/rocky\n\nAs we changed the way we prepare venv in master (aka stein)\nand we are ""backporting"" os_mistral to stable/rocky we need\nto change venv build to the correspondent branch.\n\nChange-Id: Ia94dc3ac167bdf0aa99d6dc032e7daea980fbf29\n'}, {'number': 2, 'created': '2019-03-14 20:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/c976646d4716062fcfd3c24fa3b5ab21dca983bd', 'message': 'Port venv build of os_mistral to stable/rocky\n\nAs we changed the way we prepare venv in master (aka stein)\nand we are ""backporting"" os_mistral to stable/rocky we need\nto change venv build to the correspondent branch.\n\nChange-Id: Ia94dc3ac167bdf0aa99d6dc032e7daea980fbf29\n'}, {'number': 3, 'created': '2019-03-15 13:26:56.000000000', 'files': ['tasks/mistral_install.yml', 'tasks/mistral_install_source.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/f10361eaef489452218730c10117ec0d892962b9', 'message': 'Port venv build of os_mistral to stable/rocky\n\nAs we changed the way we prepare venv in master (aka stein)\nand we are ""backporting"" os_mistral to stable/rocky we need\nto change venv build to the correspondent branch.\n\nChange-Id: Ia94dc3ac167bdf0aa99d6dc032e7daea980fbf29\n'}]",6,643449,f10361eaef489452218730c10117ec0d892962b9,13,4,3,28008,,,0,"Port venv build of os_mistral to stable/rocky

As we changed the way we prepare venv in master (aka stein)
and we are ""backporting"" os_mistral to stable/rocky we need
to change venv build to the correspondent branch.

Change-Id: Ia94dc3ac167bdf0aa99d6dc032e7daea980fbf29
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/49/643449/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/mistral_install_source.yml', 'defaults/main.yml']",2,17c4b9160ce304332c6f992d2c36e6e17ed02482,mistral_rocky,"# venv_download, even when true, will use the fallback method of building the # venv from scratch if the venv download fails. mistral_venv_download: ""{{ not mistral_developer_mode | bool }}"" mistral_venv_download_url: http://127.0.0.1/venvs/untagged/ubuntu/mistral.tgz ",,120,21
openstack%2Fkolla~master~I5edc46c3b93f93bdb7fa97b08072a773b8296e02,openstack/kolla,master,I5edc46c3b93f93bdb7fa97b08072a773b8296e02,base: more strict pin of Ceph/Luminous for Ubuntu,MERGED,2019-03-13 16:04:25.000000000,2019-03-15 16:15:39.000000000,2019-03-15 16:15:39.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-13 16:04:25.000000000', 'files': ['docker/base/apt_preferences.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f2b3187f5f001bd7466531e652c2b0800fcfe83', 'message': 'base: more strict pin of Ceph/Luminous for Ubuntu\n\nChange-Id: I5edc46c3b93f93bdb7fa97b08072a773b8296e02\n'}]",0,643090,3f2b3187f5f001bd7466531e652c2b0800fcfe83,10,5,1,24072,,,0,"base: more strict pin of Ceph/Luminous for Ubuntu

Change-Id: I5edc46c3b93f93bdb7fa97b08072a773b8296e02
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/643090/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.ubuntu'],1,3f2b3187f5f001bd7466531e652c2b0800fcfe83,,Package: ceph* *cephfs* librbd* *rados* python*-rbd librgw* python*-rados python*-ceph* python*-rgw,Package: ceph* *cephfs* librbd* *rados* python-rbd librgw*,1,1
openstack%2Fneutron~stable%2Fqueens~Ie3fe825d65408fc969c478767b411fe0156e9fbc,openstack/neutron,stable/queens,Ie3fe825d65408fc969c478767b411fe0156e9fbc,Set initial ha router state in neutron-keepalived-state-change,MERGED,2019-03-14 21:15:56.000000000,2019-03-15 16:15:03.000000000,2019-03-15 16:15:03.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-14 21:15:56.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bcca13f4a58ee5541ae81a45b89f783194f1279', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n(cherry picked from commit 8fec1ffc833eba9b3fc5f812bf881f44b4beba0c)\n'}]",0,643460,5bcca13f4a58ee5541ae81a45b89f783194f1279,8,4,1,11975,,,0,"Set initial ha router state in neutron-keepalived-state-change

Sometimes in case of HA routers it may happend that
keepalived will set status of router to MASTER before
neutron-keepalived-state-change daemon will spawn ""ip monitor""
to monitor changes of IPs in router's namespace.

In such case neutron-keepalived-state-change process will never
notice that keepalived set router to be MASTER and L3 agent will
not be notified about that so router will not be configured properly.

To avoid such race condition neutron-keepalived-state-change will
now check if VIP address is already configured on ha interface
before it will spawn ""ip monitor"". If it is already configured
by keepalived, it will notify L3 agent that router is set to
MASTER.

Change-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc
Closes-Bug: #1818614
(cherry picked from commit 8fec1ffc833eba9b3fc5f812bf881f44b4beba0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/643460/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py']",4,5bcca13f4a58ee5541ae81a45b89f783194f1279,bug/1818614-stable/queens,"from neutron.conf.agent import common as agent_config self.handle_initial_state() def handle_initial_state(self): try: state = 'backup' ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: state = 'master' self.write_state_change(state) self.notify_agent(state) break LOG.debug('Initial status of router %s is %s', self.router_id, state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id) agent_config.setup_privsep() agent_config.register_root_helper(cfg.CONF) cfg.CONF.register_cli_opts(agent_config.ROOT_HELPER_OPTS, 'AGENT')",,60,3
openstack%2Fneutron~stable%2Frocky~Ie3fe825d65408fc969c478767b411fe0156e9fbc,openstack/neutron,stable/rocky,Ie3fe825d65408fc969c478767b411fe0156e9fbc,Set initial ha router state in neutron-keepalived-state-change,MERGED,2019-03-14 21:15:46.000000000,2019-03-15 16:15:00.000000000,2019-03-15 16:15:00.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-14 21:15:46.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/56c591996bdf3a2bda8855df4af5e4011779e5a2', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n(cherry picked from commit 8fec1ffc833eba9b3fc5f812bf881f44b4beba0c)\n'}]",0,643459,56c591996bdf3a2bda8855df4af5e4011779e5a2,13,5,1,11975,,,0,"Set initial ha router state in neutron-keepalived-state-change

Sometimes in case of HA routers it may happend that
keepalived will set status of router to MASTER before
neutron-keepalived-state-change daemon will spawn ""ip monitor""
to monitor changes of IPs in router's namespace.

In such case neutron-keepalived-state-change process will never
notice that keepalived set router to be MASTER and L3 agent will
not be notified about that so router will not be configured properly.

To avoid such race condition neutron-keepalived-state-change will
now check if VIP address is already configured on ha interface
before it will spawn ""ip monitor"". If it is already configured
by keepalived, it will notify L3 agent that router is set to
MASTER.

Change-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc
Closes-Bug: #1818614
(cherry picked from commit 8fec1ffc833eba9b3fc5f812bf881f44b4beba0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/643459/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py']",4,56c591996bdf3a2bda8855df4af5e4011779e5a2,bug/1818614-stable/rocky,"from neutron.conf.agent import common as agent_config self.handle_initial_state() def handle_initial_state(self): try: state = 'backup' ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: state = 'master' self.write_state_change(state) self.notify_agent(state) break LOG.debug('Initial status of router %s is %s', self.router_id, state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id) agent_config.setup_privsep() agent_config.register_root_helper(cfg.CONF) cfg.CONF.register_cli_opts(agent_config.ROOT_HELPER_OPTS, 'AGENT')",,60,3
openstack%2Fkolla~master~I2983932898f877da2e31a5a968f6c91e5a9d760b,openstack/kolla,master,I2983932898f877da2e31a5a968f6c91e5a9d760b,Drop tcp_wrappers package requirement,MERGED,2019-03-12 09:43:14.000000000,2019-03-15 16:12:26.000000000,2019-03-15 16:12:26.000000000,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-03-12 09:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5ed16037358fb427942db125267df9b6417a35b4', 'message': 'Drop tcp_wrappers package requirement\n\nOriginally added in [1] when improving the base image, nothing appears\nto require this package currently.\n\nAlso, this legacy package is not maintained and has been dropped from\nFedora (and upcoming RHEL 8) [2]\n\n[1] https://review.openstack.org/#/c/295048/\n[2] https://fedoraproject.org//wiki/Changes/Deprecate_TCP_wrappers\n\nChange-Id: I2983932898f877da2e31a5a968f6c91e5a9d760b\n'}, {'number': 2, 'created': '2019-03-12 14:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6072a1027b555b0a23c5e42abd6e7002c9a7adaa', 'message': 'Drop tcp_wrappers package requirement\n\nOriginally added in [1] when improving the base image, nothing appears\nto require this package currently.\n\nAlso, this legacy package is not maintained and has been dropped from\nFedora (and upcoming RHEL 8) [2]\n\n[1] https://review.openstack.org/#/c/295048/\n[2] https://fedoraproject.org//wiki/Changes/Deprecate_TCP_wrappers\n\nChange-Id: I2983932898f877da2e31a5a968f6c91e5a9d760b\n'}, {'number': 3, 'created': '2019-03-13 01:55:43.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/33d45a03429119c6d4dd19816f93843e4d7f4a04', 'message': 'Drop tcp_wrappers package requirement\n\nOriginally added in [1] when improving the base image, nothing appears\nto require this package currently.\n\nAlso, this legacy package is not maintained and has been dropped from\nFedora (and upcoming RHEL 8) [2]\n\n[1] https://review.openstack.org/#/c/295048/\n[2] https://fedoraproject.org//wiki/Changes/Deprecate_TCP_wrappers\n\nChange-Id: I2983932898f877da2e31a5a968f6c91e5a9d760b\n'}]",0,642706,33d45a03429119c6d4dd19816f93843e4d7f4a04,20,8,3,21798,,,0,"Drop tcp_wrappers package requirement

Originally added in [1] when improving the base image, nothing appears
to require this package currently.

Also, this legacy package is not maintained and has been dropped from
Fedora (and upcoming RHEL 8) [2]

[1] https://review.openstack.org/#/c/295048/
[2] https://fedoraproject.org//wiki/Changes/Deprecate_TCP_wrappers

Change-Id: I2983932898f877da2e31a5a968f6c91e5a9d760b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/642706/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,5ed16037358fb427942db125267df9b6417a35b4,drop-tcp_wrappers, 'sysvinit-tools'," 'sysvinit-tools', 'tcp_wrappers-libs'",1,2
openstack%2Freleases~master~Icc3f644fa1ecc799add0a6c8baf19acf2dec41cd,openstack/releases,master,Icc3f644fa1ecc799add0a6c8baf19acf2dec41cd,release-test 1.3.0,MERGED,2019-03-15 15:41:39.000000000,2019-03-15 16:10:27.000000000,2019-03-15 16:10:27.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 15:41:39.000000000', 'files': ['deliverables/stein/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/02b46ea2b627080e36162ed5635832e0a4eff105', 'message': 'release-test 1.3.0\n\nChange-Id: Icc3f644fa1ecc799add0a6c8baf19acf2dec41cd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,643614,02b46ea2b627080e36162ed5635832e0a4eff105,6,2,1,2472,,,0,"release-test 1.3.0

Change-Id: Icc3f644fa1ecc799add0a6c8baf19acf2dec41cd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/643614/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/release-test.yaml'],1,02b46ea2b627080e36162ed5635832e0a4eff105,release-test-1.3.0, - projects: - hash: bfbe801058ca3fe2be7bceef2e202e6e8c2ca281 repo: openstack/release-test tarball-base: openstack-release-test version: 1.3.0,,5,0
openstack%2Fopenstack-ansible-os_heat~master~Id666842a71e7b5ba3165e9ad5aac11ed4480e2e6,openstack/openstack-ansible-os_heat,master,Id666842a71e7b5ba3165e9ad5aac11ed4480e2e6,fix tox python3 overrides,MERGED,2018-10-12 09:11:24.000000000,2019-03-15 16:06:29.000000000,2019-03-15 16:06:29.000000000,"[{'_account_id': 1004}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-12 09:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/97f372916a753b35a4b91081d8a63e29751439be', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Id666842a71e7b5ba3165e9ad5aac11ed4480e2e6\n'}, {'number': 2, 'created': '2018-12-01 10:58:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/7037916858d22bf9dd0165e3b70be60ec9567eb5', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Id666842a71e7b5ba3165e9ad5aac11ed4480e2e6\nCloses-Bug:  #1801657\n'}]",0,609976,7037916858d22bf9dd0165e3b70be60ec9567eb5,13,6,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Id666842a71e7b5ba3165e9ad5aac11ed4480e2e6
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/76/609976/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97f372916a753b35a4b91081d8a63e29751439be,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Ftripleo-quickstart-extras~master~If9a51c697a0c2cf5443021d272541932ae0969a7,openstack/tripleo-quickstart-extras,master,If9a51c697a0c2cf5443021d272541932ae0969a7,Provide default value for target_upgrade_version,ABANDONED,2019-01-11 17:40:22.000000000,2019-03-15 16:05:35.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-11 17:40:22.000000000', 'files': ['playbooks/multinode-overcloud-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37efb44f8ffeabca9236944c00cfe4dbf5be3836', 'message': ""Provide default value for target_upgrade_version\n\nUsing a fallback 'master' value for tagert_upgrade_version should\nmake the playbook easier to run and test.\n\nChange-Id: If9a51c697a0c2cf5443021d272541932ae0969a7\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1811450\n""}]",0,630360,37efb44f8ffeabca9236944c00cfe4dbf5be3836,6,4,1,24162,,,0,"Provide default value for target_upgrade_version

Using a fallback 'master' value for tagert_upgrade_version should
make the playbook easier to run and test.

Change-Id: If9a51c697a0c2cf5443021d272541932ae0969a7
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1811450
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/630360/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-upgrade.yml'],1,37efb44f8ffeabca9236944c00cfe4dbf5be3836,fix/defaults-repo-setup," repo_setup_script: ""repo-setup-{{ target_upgrade_version | default('master') }}.sh"" containerized_overcloud: ""{{ prep_container_upgrade_run|default(false) }}"" repo_setup_script: ""{{ working_dir }}/repo-setup-{{ target_upgrade_version | default('master') }}.sh"""," repo_setup_script: ""repo-setup-{{ target_upgrade_version }}.sh"" containerized_overcloud: ""{{prep_container_upgrade_run|default(false)}}"" repo_setup_script: ""{{ working_dir }}/repo-setup-{{ target_upgrade_version }}.sh""",3,3
openstack%2Fproject-config~master~Idb9c99a2372a4d4135b8f62ea8b76ce9d7b77d4e,openstack/project-config,master,Idb9c99a2372a4d4135b8f62ea8b76ce9d7b77d4e,WIP: attempt removal of fetch-zuul-cloner from base job,ABANDONED,2019-01-07 17:34:08.000000000,2019-03-15 16:04:31.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-07 17:34:08.000000000', 'files': ['playbooks/base/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b4b593af5e5686069db63f33ae57f6ba9a5272b2', 'message': 'WIP: attempt removal of fetch-zuul-cloner from base job\n\nfetch-zuul-cloner is deprecated and does some nasty stuff like chmod\no+w on src folder.\n\nThis removes it from base job.\n\nChange-Id: Idb9c99a2372a4d4135b8f62ea8b76ce9d7b77d4e\n'}]",0,629019,b4b593af5e5686069db63f33ae57f6ba9a5272b2,4,2,1,24162,,,0,"WIP: attempt removal of fetch-zuul-cloner from base job

fetch-zuul-cloner is deprecated and does some nasty stuff like chmod
o+w on src folder.

This removes it from base job.

Change-Id: Idb9c99a2372a4d4135b8f62ea8b76ce9d7b77d4e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/629019/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/base/pre.yaml'],1,b4b593af5e5686069db63f33ae57f6ba9a5272b2,fix/rm-zuul-cloner-base,," - role: fetch-zuul-cloner destination: ""/usr/zuul-env/bin/zuul-cloner"" repo_src_dir: ""/home/zuul/src/git.openstack.org""",1,3
openstack%2Fopenstack-ansible-os_gnocchi~master~I7a526b86f10a871630a6362827d4dcb80ea58342,openstack/openstack-ansible-os_gnocchi,master,I7a526b86f10a871630a6362827d4dcb80ea58342,fix tox python3 overrides,MERGED,2018-10-12 09:06:47.000000000,2019-03-15 16:04:22.000000000,2019-03-15 16:04:22.000000000,"[{'_account_id': 1004}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-12 09:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/02a247635f6c446eab7729f3fc2c3a6118b2f2e9', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7a526b86f10a871630a6362827d4dcb80ea58342\n'}, {'number': 2, 'created': '2018-12-01 10:55:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/3f8c2ee32465ad030d0ffa9f6125cf432c09adea', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7a526b86f10a871630a6362827d4dcb80ea58342\nCloses-Bug:  #1801657\n'}]",0,609975,3f8c2ee32465ad030d0ffa9f6125cf432c09adea,13,6,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7a526b86f10a871630a6362827d4dcb80ea58342
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/75/609975/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,02a247635f6c446eab7729f3fc2c3a6118b2f2e9,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fopenstacksdk~master~Idb4aebdd3b4604c95096dbd8e15a061a3cbf0fa1,openstack/openstacksdk,master,Idb4aebdd3b4604c95096dbd8e15a061a3cbf0fa1,DNM: testing cp --reflink,ABANDONED,2019-01-07 15:41:48.000000000,2019-03-15 16:03:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-07 15:41:48.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/32a9c637a1bdeea8a80d2eee3e58994ee875c997', 'message': 'DNM: testing cp --reflink\n\nDepends-On: https://review.openstack.org/#/c/628998/\nDepends-On: https://review.openstack.org/#/c/628998/\nChange-Id: Idb4aebdd3b4604c95096dbd8e15a061a3cbf0fa1\n'}]",0,629002,32a9c637a1bdeea8a80d2eee3e58994ee875c997,3,1,1,24162,,,0,"DNM: testing cp --reflink

Depends-On: https://review.openstack.org/#/c/628998/
Depends-On: https://review.openstack.org/#/c/628998/
Change-Id: Idb4aebdd3b4604c95096dbd8e15a061a3cbf0fa1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/02/629002/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,32a9c637a1bdeea8a80d2eee3e58994ee875c997,fix/cp-reflink,,,0,0
openstack%2Ftripleo-docs~master~I1e8f1ee9ae1e37780cca4ded426896ffffc01c9d,openstack/tripleo-docs,master,I1e8f1ee9ae1e37780cca4ded426896ffffc01c9d,WIP: Avoid sphinx build warnings,ABANDONED,2019-01-03 17:48:52.000000000,2019-03-15 16:02:59.000000000,,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-01-03 17:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/73035387cd83d45aa3484732c99c01acef95cf86', 'message': 'WIP: Avoid sphinx build warnings\n\nUpgrade sphinx to newer version to avoid the spamming deprecation\nmessages while building the docs, like:\n\nChange-Id: I1e8f1ee9ae1e37780cca4ded426896ffffc01c9d\nRemovedInSphinx20Warning: builder.css_files is deprecated. Please use app.add_stylesheet() instead.\n'}, {'number': 2, 'created': '2019-03-02 14:09:05.000000000', 'files': ['_templates/layout.html', 'test-requirements.txt', 'doc/ext/__init__.py', 'doc/source/conf.py', 'doc/ext/custom_css.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/03ce956da0efb87b2e432790be707e9a1bf1800f', 'message': 'WIP: Avoid sphinx build warnings\n\nUpgrade sphinx to newer version to avoid the spamming deprecation\nmessages while building the docs, like:\n  RemovedInSphinx20Warning: builder.css_files is deprecated.\n  Please use app.add_stylesheet() instead.\n\nDepends-On: https://review.openstack.org/#/c/640594/\nChange-Id: I1e8f1ee9ae1e37780cca4ded426896ffffc01c9d\n'}]",0,628241,03ce956da0efb87b2e432790be707e9a1bf1800f,8,3,2,24162,,,0,"WIP: Avoid sphinx build warnings

Upgrade sphinx to newer version to avoid the spamming deprecation
messages while building the docs, like:
  RemovedInSphinx20Warning: builder.css_files is deprecated.
  Please use app.add_stylesheet() instead.

Depends-On: https://review.openstack.org/#/c/640594/
Change-Id: I1e8f1ee9ae1e37780cca4ded426896ffffc01c9d
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/41/628241/2 && git format-patch -1 --stdout FETCH_HEAD,"['_templates/layout.html', 'test-requirements.txt', 'doc/ext/__init__.py', 'doc/source/conf.py', 'doc/ext/custom_css.py', 'deploy-guide/source/conf.py']",6,73035387cd83d45aa3484732c99c01acef95cf86,,"needs_sphinx = '1.8.3' 'openstackdocstheme', 'ext.custom_css'",# needs_sphinx = '1.0' 'openstackdocstheme',27,8
openstack%2Freleases~master~Ia747ede0c146044e921f66d1f2ab91f1127534ef,openstack/releases,master,Ia747ede0c146044e921f66d1f2ab91f1127534ef,Release tripleo-common 10.6.0,MERGED,2019-03-14 15:16:17.000000000,2019-03-15 15:55:26.000000000,2019-03-15 15:55:26.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 15:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d10b3136bdf75111bcd9e8ba2868dd524f92a425', 'message': 'Change 637405 - Merged\n\nReply\n\nIncluded in\n\nRelease tripleo-common 10.6.0\n\nWe need this release which contains fixed\nset_neutron_driver for kolla_builder\n\nChange-Id: Ia747ede0c146044e921f66d1f2ab91f1127534ef\n'}, {'number': 2, 'created': '2019-03-14 15:19:17.000000000', 'files': ['deliverables/stein/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/93bbf6952710be9434ed7f90a8258882eb3a3357', 'message': 'Release tripleo-common 10.6.0\n\nWe need this release which contains fixed\nset_neutron_driver for kolla_builder\n\nChange-Id: Ia747ede0c146044e921f66d1f2ab91f1127534ef\n'}]",0,643365,93bbf6952710be9434ed7f90a8258882eb3a3357,11,8,2,11082,,,0,"Release tripleo-common 10.6.0

We need this release which contains fixed
set_neutron_driver for kolla_builder

Change-Id: Ia747ede0c146044e921f66d1f2ab91f1127534ef
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/643365/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/tripleo-common.yaml'],1,d10b3136bdf75111bcd9e8ba2868dd524f92a425,tripleo/bump_version, - projects: - hash: bba82c7c76c59261af78e9e664fd31a37868acf5 repo: openstack/tripleo-common version: 10.6.0,,4,0
openstack%2Fnova~stable%2Fqueens~I1ef4a23aa2bf5cb46b481045f3d968f62f74606d,openstack/nova,stable/queens,I1ef4a23aa2bf5cb46b481045f3d968f62f74606d,Fix incompatible version handling in BuildRequest,MERGED,2019-02-01 15:47:16.000000000,2019-03-15 15:51:44.000000000,2019-03-15 15:51:44.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-01 15:47:16.000000000', 'files': ['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c85ebad0bf13d609b384e7637b0787bf8d484f7', 'message': 'Fix incompatible version handling in BuildRequest\n\nThe BuildRequest object code assumed that IncompatibleObjectVersion\nexception has a objver field that contains the object version. This\nassumption is not true. The unit test made another mistake serializing\nthe function object obj_to_primitive instead of serializing the result\nof the call of obj_to_primitive. This caused a false positive test\ncovering the error in the implementation as well.\n\nCloses-Bug: #1812177\n\nChange-Id: I1ef4a23aa2bf5cb46b481045f3d968f62f74606d\n(cherry picked from commit 975f0156137e37f7a9139c0268547d79dcc3c43c)\n(cherry picked from commit 6061186d2d86eb628dcdc61667c240576fa8f10e)\n'}]",0,634439,7c85ebad0bf13d609b384e7637b0787bf8d484f7,26,11,1,17685,,,0,"Fix incompatible version handling in BuildRequest

The BuildRequest object code assumed that IncompatibleObjectVersion
exception has a objver field that contains the object version. This
assumption is not true. The unit test made another mistake serializing
the function object obj_to_primitive instead of serializing the result
of the call of obj_to_primitive. This caused a false positive test
covering the error in the implementation as well.

Closes-Bug: #1812177

Change-Id: I1ef4a23aa2bf5cb46b481045f3d968f62f74606d
(cherry picked from commit 975f0156137e37f7a9139c0268547d79dcc3c43c)
(cherry picked from commit 6061186d2d86eb628dcdc61667c240576fa8f10e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/634439/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py']",2,7c85ebad0bf13d609b384e7637b0787bf8d484f7,bug/1812177, fake_req['instance'] = jsonutils.dumps(instance.obj_to_primitive()), fake_req['instance'] = jsonutils.dumps(instance.obj_to_primitive),4,3
openstack%2Fnova~stable%2Fqueens~I44f09aec60b0b18c458f9ba6d8b725db962e9cc7,openstack/nova,stable/queens,I44f09aec60b0b18c458f9ba6d8b725db962e9cc7,Provide a useful error message when trying to update non-compute services,MERGED,2019-02-23 10:13:45.000000000,2019-03-15 15:49:53.000000000,2019-03-15 15:49:52.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-23 10:13:45.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b041160c8d56f657059743bc5a0e6dbefc27ddd6', 'message': ""Provide a useful error message when trying to update non-compute services\n\nStarting in Pike, we disallowed trying to update (enable/disable/force down)\nnon-nova-compute services because of multi-cell support using host mappings\nto lookup service records, and simply because disabling non-compute services\ndoesn't do anything.\n\nHowever, before microversion 2.53, the error the user gets back is confusing:\n\n  HTTP exception thrown: Host 'p024.domain.com' is not mapped to any cell\n\nThis change provides a useful error message in this case and also changes\nthe 404 response to a 400 response to align with the type of error and the\nbehavior of the 2.53 microversion.\n\nChange-Id: I44f09aec60b0b18c458f9ba6d8b725db962e9cc7\nCloses-Bug: #1805164\n(cherry picked from commit 95cbc35b0bdae0de15569bc35fadbcf970da5b9e)\n(cherry picked from commit 315d9fab7aaa6b9835e80f5f56b49b44d382ca1f)\n""}]",0,638803,b041160c8d56f657059743bc5a0e6dbefc27ddd6,28,8,1,9373,,,0,"Provide a useful error message when trying to update non-compute services

Starting in Pike, we disallowed trying to update (enable/disable/force down)
non-nova-compute services because of multi-cell support using host mappings
to lookup service records, and simply because disabling non-compute services
doesn't do anything.

However, before microversion 2.53, the error the user gets back is confusing:

  HTTP exception thrown: Host 'p024.domain.com' is not mapped to any cell

This change provides a useful error message in this case and also changes
the 404 response to a 400 response to align with the type of error and the
behavior of the 2.53 microversion.

Change-Id: I44f09aec60b0b18c458f9ba6d8b725db962e9cc7
Closes-Bug: #1805164
(cherry picked from commit 95cbc35b0bdae0de15569bc35fadbcf970da5b9e)
(cherry picked from commit 315d9fab7aaa6b9835e80f5f56b49b44d382ca1f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/638803/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py']",2,b041160c8d56f657059743bc5a0e6dbefc27ddd6,bug/1805164," # If the user tried to perform an action # (disable/enable/force down) on a non-nova-compute # service, provide a more useful error message. if binary != 'nova-compute': msg = (_( 'Updating a %(binary)s service is not supported. Only ' 'nova-compute services can be updated.') % {'binary': binary}) raise webob.exc.HTTPBadRequest(explanation=msg) # mapping so you'll get a 400. In this new microversion, we close that"," # mapping so you'll get a 404. In this new microversion, we close that",22,3
openstack%2Fneutron~stable%2Frocky~Idd55f7d24a2062c08ac8a0dc2243625632d962a5,openstack/neutron,stable/rocky,Idd55f7d24a2062c08ac8a0dc2243625632d962a5,Delete port binding level for deleted bindings,MERGED,2019-03-05 15:28:21.000000000,2019-03-15 15:49:43.000000000,2019-03-15 15:49:43.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-05 15:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa6e3e97ef86db47d8f419d87befe78e5d8eddfe', 'message': ""Delete port binding level for deleted bindings\n\nToday, if live migration has failed after an inactive\nbinding was created on the destination node but before\nthe activation of the created binding, the port's binding level\nfor the destination host is not cleared during nova's API call\nto neutron to delete the port binding.\n\nThis causes future attempts to perform live migration\nof the instance to the same host to fail.\n\nThis change removes port binding level object during port binding\ndeletion.\n\nCloses-Bug: #1815345\n\nChange-Id: Idd55f7d24a2062c08ac8a0dc2243625632d962a5\n""}, {'number': 2, 'created': '2019-03-06 14:37:23.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/28a7dd12fef78857a0c0f347cf11a63091ea0f5a', 'message': ""Delete port binding level for deleted bindings\n\nToday, if live migration has failed after an inactive\nbinding was created on the destination node but before\nthe activation of the created binding, the port's binding level\nfor the destination host is not cleared during nova's API call\nto neutron to delete the port binding.\n\nThis causes future attempts to perform live migration\nof the instance to the same host to fail.\n\nThis change removes port binding level object during port binding\ndeletion.\n\nCloses-Bug: #1815345\n\nChange-Id: Idd55f7d24a2062c08ac8a0dc2243625632d962a5\n(cherry picked from commit b197f7c1c4b9c0dd4c58f5c5a4b654dde5596b85)\n""}]",2,641042,28a7dd12fef78857a0c0f347cf11a63091ea0f5a,26,10,2,4187,,,0,"Delete port binding level for deleted bindings

Today, if live migration has failed after an inactive
binding was created on the destination node but before
the activation of the created binding, the port's binding level
for the destination host is not cleared during nova's API call
to neutron to delete the port binding.

This causes future attempts to perform live migration
of the instance to the same host to fail.

This change removes port binding level object during port binding
deletion.

Closes-Bug: #1815345

Change-Id: Idd55f7d24a2062c08ac8a0dc2243625632d962a5
(cherry picked from commit b197f7c1c4b9c0dd4c58f5c5a4b654dde5596b85)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/641042/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,fa6e3e97ef86db47d8f419d87befe78e5d8eddfe,bug/1815345-stable/rocky," ports_obj.PortBinding.delete_objects(context, host=host, db.clear_binding_levels(context, port_id=port_id, host=host)"," ports_obj.PortBinding.delete_objects(context, host=host,",22,1
openstack%2Fvitrage-tempest-plugin~master~Id65ee5b6e1c92d8ea25a2cb0e6dd41d01d924cde,openstack/vitrage-tempest-plugin,master,Id65ee5b6e1c92d8ea25a2cb0e6dd41d01d924cde,small refactoring,MERGED,2019-03-07 12:10:58.000000000,2019-03-15 15:49:20.000000000,2019-03-15 15:49:19.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-03-07 12:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/e088a34c6448d4a393cf67071a4513e9eeeb949e', 'message': 'small refactoring\n\nmake the code cleaner and more readable\n\nChange-Id: Id65ee5b6e1c92d8ea25a2cb0e6dd41d01d924cde\n'}, {'number': 2, 'created': '2019-03-07 13:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/342c0b0037c7504efaa4bda2fbcb0b64164d84cb', 'message': 'small refactoring\n\nmake the code cleaner and more readable\n\nChange-Id: Id65ee5b6e1c92d8ea25a2cb0e6dd41d01d924cde\n'}, {'number': 3, 'created': '2019-03-10 07:50:06.000000000', 'files': ['vitrage_tempest_plugin/tests/base.py', 'vitrage_tempest_plugin/tests/resources/mock_datasource/test_3rd_degree_scenarios.py'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/dac3d01f1fda6bcc86b5685d06b207d968ca842e', 'message': 'small refactoring\n\nmake the code cleaner and more readable\n\nChange-Id: Id65ee5b6e1c92d8ea25a2cb0e6dd41d01d924cde\n'}]",4,641646,dac3d01f1fda6bcc86b5685d06b207d968ca842e,14,5,3,19134,,,0,"small refactoring

make the code cleaner and more readable

Change-Id: Id65ee5b6e1c92d8ea25a2cb0e6dd41d01d924cde
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/46/641646/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_tempest_plugin/tests/base.py'],1,e088a34c6448d4a393cf67071a4513e9eeeb949e,eyalb/refactor,"from itertools import chain self._delete_keys_from_dicts(chain(g1_nodes, g2_nodes), to_remove) '%s Nodes of each graph are not equal' % msg) '%s Edges of each graph are not equal' % msg) def _delete_keys_from_dicts(dictionaries, keys_to_remove): def check_vertex(node): _, node_data = node for key, content in _filter.items(): if not node_data.get(key) == content: entity_vertices = self._get_vertices(graph, _filter=query) observed_num_vertices = len(entity_vertices) failed_msg = 'Num entity_vertices is incorrect for: %s\n %s' % \ (vitrage_type, self._to_dict(graph)) self.assertEqual(expected_num_vertices, observed_num_vertices, failed_msg) def num_of_edges_for(v_id): return len(graph.out_edges(v_id)) + len(graph.in_edges(v_id)) observed_entity_num_edges = sum( (num_of_edges_for(v_id) for v_id, _ in entity_vertices) ) expected_entity_num_edges = entity[self.NUM_EDGES_PER_TYPE] (vitrage_type, self._to_dict(graph)) self.assertEqual(expected_entity_num_edges, observed_entity_num_edges, failed_msg) vertices = self._extract_graph_vertices_data(nodes) self.assertEqual(num_entities, len(vertices), self._to_dict(graph)) self.assertEqual(num_edges, len(graph.edges()), self._to_dict(graph)) self._validate_timestamps(vertices) @staticmethod def _to_dict(graph): return json_graph.node_link_data(graph) # This will unzip the nodes and create a tuple of nodes with data only. # Using next and islice because zip returns iterator on py3 # e.g. (id1, data1), (id2, data2) --> (data1, data2) @staticmethod def _extract_graph_vertices_data(nodes): def unzip(_nodes): return zip(*_nodes) return next(islice(unzip(nodes), 1, 2), ()) def _validate_timestamps(self, vertices): self._validate_timestamp(vertices, VProps.UPDATE_TIMESTAMP) self._validate_timestamp(vertices, VProps.VITRAGE_SAMPLE_TIMESTAMP) def _validate_timestamp(self, vertices, timestamp_name): for vertex in vertices:"," self._remove_keys_from_dicts(g1_nodes, g2_nodes, to_remove) msg + ""Nodes of each graph are not equal"") msg + ""Edges of each graph are not equal"") def _remove_keys_from_dicts(self, dictionaries1, dictionaries2, keys_to_remove): self._delete_keys_from_dict(dictionaries1, keys_to_remove) self._delete_keys_from_dict(dictionaries2, keys_to_remove) def _delete_keys_from_dict(dictionaries, keys_to_remove): def check_vertex(data): data = data[1] for key, content in _filter.items(): if not data.get(key) == content: vertices = self._get_vertices(graph, _filter=query) failed_msg = 'Num vertices is incorrect for: %s\n %s' % \ (vitrage_type, json_graph.node_link_data(graph)) self.assertEqual(expected_num_vertices, len(vertices), failed_msg) entity_num_edges = sum([len(graph.out_edges(vertex[0])) + len(graph.in_edges(vertex[0])) for vertex in vertices]) (vitrage_type, json_graph.node_link_data(graph)) expected_num_edges = entity[self.NUM_EDGES_PER_TYPE] self.assertEqual(expected_num_edges, entity_num_edges, failed_msg) # this will unzip the vertices and create a tuple of # vertices with data only graph_vertices = next(islice(zip(*nodes), 1, 2)) if len(nodes) else [] self.assertEqual(num_entities, len(graph_vertices), json_graph.node_link_data(graph)) self.assertEqual(num_edges, len(graph.edges()), json_graph.node_link_data(graph)) self._validate_timestamps(graph_vertices) def _validate_timestamps(self, graph_vertices): self._validate_timestamp(graph_vertices, VProps.UPDATE_TIMESTAMP) self._validate_timestamp(graph_vertices, VProps.VITRAGE_SAMPLE_TIMESTAMP) def _validate_timestamp(self, graph_vertices, timestamp_name): for vertex in graph_vertices:",51,36
openstack%2Ftripleo-quickstart-extras~master~I3146f838145e3d3fd08ebd0fdb1491fa887e10a1,openstack/tripleo-quickstart-extras,master,I3146f838145e3d3fd08ebd0fdb1491fa887e10a1,Avoid spamming console with ara JSON output,ABANDONED,2018-09-04 13:16:15.000000000,2019-03-15 15:48:17.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-09-04 13:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a2f3135b922bd907452ccbb86cc86c0f5c9ecf87', 'message': 'Avoid spamming console with ara JSON output\n\nHides ARA json output which from console to avoid huge logs files\nthat can even crash the browser.\n\nChange-Id: I3146f838145e3d3fd08ebd0fdb1491fa887e10a1\n'}, {'number': 2, 'created': '2018-09-06 10:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d7a971ccf4664aa5478bf0ce3f93a25e8207c0c', 'message': 'Avoid spamming console with ara JSON output\n\nHides ARA json output which from console to avoid huge logs files\nthat can even crash the browser.\n\nPartial-Bug: #1787912\nChange-Id: I3146f838145e3d3fd08ebd0fdb1491fa887e10a1\n'}, {'number': 3, 'created': '2018-09-17 14:28:33.000000000', 'files': ['roles/collect-logs/library/ara_graphite.py', 'roles/collect-logs/tasks/ara_graphite.yml', 'roles/collect-logs/tasks/ara_influxdb.yml', 'roles/collect-logs/library/ara_influxdb.py'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/652544998a8492ee82e54d7ebd1a9f5da089a73f', 'message': 'Avoid spamming console with ara JSON output\n\nHides ARA json output which from console to avoid huge logs files\nthat can even crash the browser.\n\nPartial-Bug: #1787912\nChange-Id: I3146f838145e3d3fd08ebd0fdb1491fa887e10a1\n'}]",0,599594,652544998a8492ee82e54d7ebd1a9f5da089a73f,24,13,3,24162,,,0,"Avoid spamming console with ara JSON output

Hides ARA json output which from console to avoid huge logs files
that can even crash the browser.

Partial-Bug: #1787912
Change-Id: I3146f838145e3d3fd08ebd0fdb1491fa887e10a1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/94/599594/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect-logs/library/ara_graphite.py', 'roles/collect-logs/tasks/ara_graphite.yml', 'roles/collect-logs/tasks/ara_influxdb.yml', 'roles/collect-logs/library/ara_influxdb.py']",4,a2f3135b922bd907452ccbb86cc86c0f5c9ecf87,fix/ara-spam, no_log: ara_data.rc == 0,,4,0
openstack%2Ftripleo-quickstart~master~I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d,openstack/tripleo-quickstart,master,I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d,Enable testing using ansible molecule,ABANDONED,2018-10-26 19:18:38.000000000,2019-03-15 15:46:22.000000000,,"[{'_account_id': 4162}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-26 19:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5e34594a2e180c1280d236e87935e92a8003705c', 'message': ""wip: enable testing using ansible molecule\n\nIntended way of using it is via `tox -e py27` but this is not working\nyet.\n\nFor the moment run it outside virtualenv, with\n\n>cd roles/common && molecule test\n\nOnce I figure-out correct layout we will probably be able to run\nwithout having to do the chdir.\n\nWhat works:\n- commons is run on both supported platforms in ~12s\n\nKnown problems:\n- testing a single role 'common'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 2, 'created': '2018-10-30 10:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dff00d23ff14c4578036969ca477d93310f3fedd', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 3, 'created': '2018-10-30 14:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12592e11f029723f143eea0d8f2c85cd2d9d30a9', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 4, 'created': '2018-10-30 16:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/09f68b0dcbedb5df8636d1e30911f26d74fe856e', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 5, 'created': '2018-10-30 19:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5285f7088cae0cba074a12fc63559b9a35f5588a', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 6, 'created': '2018-10-30 19:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6dbdfc1ae86754618c82591c7b3fd6108be28ab9', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 7, 'created': '2018-10-30 20:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/245bbcaf5fd63b2e9620f83dca95a720d7c47491', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 8, 'created': '2018-10-30 20:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/722ee54f6c04c16418eb1db490691013fbf102fa', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 9, 'created': '2018-10-31 10:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4b21dda5e69a582b5b3c9af7b95083683630091e', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 10, 'created': '2018-10-31 13:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2fd5ff04f145fa68ed20e1f447a52871241ba31a', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 11, 'created': '2018-10-31 16:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/957cdce7236abf0b6c0dcc9b83ef86edaa20bc12', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing two platforms: centos-7 and fedora-27\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 12, 'created': '2018-10-31 18:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cfdce3705cd8162d6390920df72e40709007fe55', 'message': 'wip: enable testing using ansible molecule\n\nTo test molecule just run ""make"", see Makefile for details.\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-26, fedora-28\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role \'common\'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- calling molecule from inside tox not working\n  https://github.com/metacloud/molecule/issues/1521\n- hostname does not seem to work: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n- random failures of ""[Build an Ansible compatible image]"" task\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 13, 'created': '2018-11-04 18:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/59809e6c932078b3beaa12b206e4ac8a845d7b36', 'message': ""wip: enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-26, fedora-28\n- execution of commons role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nKnown problems:\n- testing a single role 'common'\n  https://github.com/metacloud/molecule/issues/942#issuecomment-433507222\n- hostname reported as localhost: https://github.com/metacloud/molecule/issues/1524\n- yamllint part of molecule is disabled as our code is not yet compliant\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 14, 'created': '2018-11-06 15:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b36ae4083b720aa9f45c9a53dd84d4b89b2fb963', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-26, fedora-28\n- execution of common role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled as our code is not yet compliant\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Include testing or additional roles/scenarios with molecule\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 15, 'created': '2018-11-06 17:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/90f65031c0ff68b9063057bc526ee15e2eadc0d7', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-26, fedora-28\n- execution of common role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled as our code is not yet compliant\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Include testing or additional roles/scenarios with molecule\n\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 16, 'created': '2018-11-09 14:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f6af3179571f40bddafde45f1d2e85a212df831f', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-26, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nDepends-On: https://review.openstack.org/616937\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 17, 'created': '2018-11-09 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4c635bae42273b793d053c357ce7cf3a1081a027', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-26, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nDepends-On: https://review.openstack.org/616937\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 18, 'created': '2018-11-16 15:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8873f36efd43effcefcf71cf58f2f9baf0331d1b', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nDepends-On: https://review.openstack.org/616937\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 19, 'created': '2018-11-26 11:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/61e717d57fb0f57ce1e0acbc75631ce8557ce661', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nDepends-On: https://review.openstack.org/616937\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 20, 'created': '2018-11-26 12:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/be4c320d6630cfba6bfac00e1e0e24822ea0ab95', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nDepends-On: https://review.openstack.org/616937\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 21, 'created': '2018-11-26 13:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c734230a09ce3d83bb032fdc63c9a4ad03483973', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nDepends-On: https://review.openstack.org/616937\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 22, 'created': '2019-01-02 14:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ea769e20a337c13ee947429fe5018609e9ee8520', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 23, 'created': '2019-01-02 14:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e0ae03d57cfb0a67f486ad38ceffeea3edf96c9d', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 24, 'created': '2019-01-03 10:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/56c56aecfe78d90ab87dc97be936f3f98c97f132', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nIncludes changes made to quickstart.sh to make it sourceable as\nwe wanted to load python_cmd from Makefile.\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- yamllint part of molecule is disabled (oooq code not compliant yet)\n- few ansible-lint excludes added (oooq code not compliant yet)\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 25, 'created': '2019-01-04 14:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c123779bd50c7fe963f29330b34199f3cafcb4fe', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nWhat works:\n- testing multiple platforms: centos-7, fedora-27, fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- linting feature of molecule is disabled as do it our way\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 26, 'created': '2019-01-09 10:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ea3313900fa1ede610ea9262429bc88f212820fd', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nWhat works:\n- testing multiple platforms: centos-7 and fedora-27\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- linting feature of molecule is disabled as do it our way\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 27, 'created': '2019-01-14 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fb48e13bd1f5dcdde48c9656513ae27e6e8ad2b4', 'message': 'Enable testing using ansible molecule\n\nTo test molecule just run `tox -e molecule`\n\nWhat works:\n- testing multiple platforms: centos-7 and fedora-28\n- execution of common role\n- execution of build-test-packages role\n- execution of quickstart.sh --help\n- execution of quickstart.sh --install-deps (when sudo is available)\n\nFuture work:\n- linting feature of molecule is disabled as do it our way\n- Run quickstack.sh as user instead of root\n- Run quickstart.sh with fake-TTY to test for sudo prompts\n- Allow partial execution by platform\n- Allow partial execution of a single role or playbook\n- Use side_effects to validate success and avoid false positives\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n'}, {'number': 28, 'created': '2019-01-16 17:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0842e3d3a950d6e39bcafde481f8924c28c65844', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 29, 'created': '2019-01-17 10:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/085e4124c66e3de9e3698a0205f116f927c835db', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 30, 'created': '2019-01-18 11:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fb4560d8a542b0dd550ec61073f4e659abbcb617', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 31, 'created': '2019-01-18 18:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4a2991a12d83fca5101ec8c5f36d5826b466f690', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 32, 'created': '2019-01-18 19:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f46be6b74270c5c943cecdf330c0589d157eb72c', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 33, 'created': '2019-01-21 14:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4d6cbe25c3fbfe8145d1e9f5a3698203ac314f84', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 34, 'created': '2019-01-21 18:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12d0e3911b7a0014e79c16aa6c8c441b9b0c07ac', 'message': ""(WIP) Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 35, 'created': '2019-01-23 15:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f16445e2525e8a84c218c828badeb22f5294fb7', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 36, 'created': '2019-01-29 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/291bd5c28a18724fd1c39e52700f201450f6b827', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 37, 'created': '2019-01-31 16:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/02461c81c5c6989851837ba22b4ceb35925dbef4', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}, {'number': 38, 'created': '2019-02-05 12:55:34.000000000', 'files': ['test-requirements.txt', 'molecule/default/tests/test_default.py', 'molecule/qs/Dockerfile.j2', 'playbooks/tox-molecule-fedora-28-run.yml', 'molecule/default/pytest.ini', 'molecule/default/Dockerfile.j2', 'playbooks/tox-molecule-run.yml', 'molecule/README.rst', 'molecule/default/INSTALL.rst', 'molecule/qs/molecule.yml', 'molecule/default/molecule.yml', 'molecule/qs/playbook.yml', 'zuul.d/layout.yaml', 'playbooks/tox-molecule-pre-run.yml', 'tox.ini', 'molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/153daf9895b183a238054e677a5229eed5122926', 'message': ""Enable testing using ansible molecule\n\nTo test molecule just run:\n\ntox -e molecule (implicit, defaults to centos-7)\ntox -e molecule-fedora-28 (optional)\ntox -e molecule-fedora-latest (optional)\ntox -e molecule-fedora-rawhide (optional)\n\nWhat is included:\n- two scenarios (can be run individually with -s param)\n- scenario default: runs common role\n- scenario qs: tests execution of quickstart.sh in various combinations.\n\nUseful molecule commands:\n\nmolecule list         list all instances configured (containers/vms)\nmolecule test         runs only default scenario\nmolecule test --all   runs all scenarios)\nmolecule test -s qs   only qs scenario\nmolecule destroy      destroys instances\nmolecule create       only creates instances\nmolecule --debug ...  to enable extra logging\n\nYou either install molecule on you system or use tox role, in which case\nyou replace 'molecule ...' cmd with `tox -e molecule ...`.\n\nYou can control which platform is used via environment variables, which\ncan also be freely used anywhere inside molecule.yml file.\n\nPartial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358\nChange-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d\n""}]",64,613672,153daf9895b183a238054e677a5229eed5122926,168,14,38,24162,,,0,"Enable testing using ansible molecule

To test molecule just run:

tox -e molecule (implicit, defaults to centos-7)
tox -e molecule-fedora-28 (optional)
tox -e molecule-fedora-latest (optional)
tox -e molecule-fedora-rawhide (optional)

What is included:
- two scenarios (can be run individually with -s param)
- scenario default: runs common role
- scenario qs: tests execution of quickstart.sh in various combinations.

Useful molecule commands:

molecule list         list all instances configured (containers/vms)
molecule test         runs only default scenario
molecule test --all   runs all scenarios)
molecule test -s qs   only qs scenario
molecule destroy      destroys instances
molecule create       only creates instances
molecule --debug ...  to enable extra logging

You either install molecule on you system or use tox role, in which case
you replace 'molecule ...' cmd with `tox -e molecule ...`.

You can control which platform is used via environment variables, which
can also be freely used anywhere inside molecule.yml file.

Partial-Bug: https://tree.taiga.io/project/tripleo-ci-board/task/358
Change-Id: I4dfb6b0beabd7a5eb83f22903c7016cb05b44d9d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/72/613672/38 && git format-patch -1 --stdout FETCH_HEAD,"['roles/common/molecule/default/molecule.yml', 'roles/common/molecule/default/Dockerfile.j2', 'test-requirements.txt', 'roles/common/molecule/default/playbook.yml', 'roles/common/molecule/default/tests/test_default.py', 'tox.ini', 'roles/common/molecule/default/INSTALL.rst']",7,5e34594a2e180c1280d236e87935e92a8003705c,oooq/molecule,******* Docker driver installation guide ******* Requirements ============ * General molecule dependencies (see https://molecule.readthedocs.io/en/latest/installation.html) * Docker Engine * docker-py * docker Install ======= $ sudo pip install docker-py ,,79,3
openstack%2Fopenstack-ansible-os_almanach~master~Ib41b2ea8657a996459e43caaac81f5020c0bb31a,openstack/openstack-ansible-os_almanach,master,Ib41b2ea8657a996459e43caaac81f5020c0bb31a,fix tox python3 overrides,MERGED,2018-10-12 09:13:16.000000000,2019-03-15 15:43:44.000000000,2019-03-15 15:43:44.000000000,"[{'_account_id': 1004}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-12 09:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_almanach/commit/5d6afb89a41ecf6d21b30ca6f0409b677e2eb739', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ib41b2ea8657a996459e43caaac81f5020c0bb31a\n'}, {'number': 2, 'created': '2018-12-01 10:56:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_almanach/commit/f475bb53bbea7c8d12767e100b3f7922fbb22ad7', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ib41b2ea8657a996459e43caaac81f5020c0bb31a\nCloses-Bug:  #1801657\n'}]",0,609977,f475bb53bbea7c8d12767e100b3f7922fbb22ad7,13,6,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ib41b2ea8657a996459e43caaac81f5020c0bb31a
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_almanach refs/changes/77/609977/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d6afb89a41ecf6d21b30ca6f0409b677e2eb739,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ia2cbc45522c98f3f55eb52374725bf502785f40f,openstack/tripleo-heat-templates,stable/rocky,Ia2cbc45522c98f3f55eb52374725bf502785f40f,Allow embedded Skydive etcd port,MERGED,2019-03-13 11:30:51.000000000,2019-03-15 15:38:02.000000000,2019-03-15 15:38:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7141}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 11:30:51.000000000', 'files': ['extraconfig/services/skydive-analyzer.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ef34d51cbd0f1a1da8518200fe95a89aff030be', 'message': 'Allow embedded Skydive etcd port\n\nSkydive uses an embedded etcd. Ports\nneed to be opened in clustering mode.\n\nChange-Id: Ia2cbc45522c98f3f55eb52374725bf502785f40f\n(cherry picked from commit b697b0184fc255f7ce155ebd09f7c5babdcd18f2)\n'}]",0,643010,0ef34d51cbd0f1a1da8518200fe95a89aff030be,9,5,1,7141,,,0,"Allow embedded Skydive etcd port

Skydive uses an embedded etcd. Ports
need to be opened in clustering mode.

Change-Id: Ia2cbc45522c98f3f55eb52374725bf502785f40f
(cherry picked from commit b697b0184fc255f7ce155ebd09f7c5babdcd18f2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/643010/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/skydive-analyzer.yaml'],1,0ef34d51cbd0f1a1da8518200fe95a89aff030be,, dport: - 8082 - 12379 - 12380, dport: 8082 proto: tcp,4,2
openstack%2Fopenstack-ansible-openstack_hosts~master~I3dc33f7dbbbf691255ead0ccb1acaeb3e1ddb6c9,openstack/openstack-ansible-openstack_hosts,master,I3dc33f7dbbbf691255ead0ccb1acaeb3e1ddb6c9,fix tox python3 overrides,MERGED,2018-10-12 09:18:10.000000000,2019-03-15 15:32:54.000000000,2019-03-15 15:32:54.000000000,"[{'_account_id': 1004}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-12 09:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/942f93313c875747ee3dceda8db10d98f2aad2af', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I3dc33f7dbbbf691255ead0ccb1acaeb3e1ddb6c9\n'}, {'number': 2, 'created': '2018-12-01 10:57:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b30a28b64dd247b700c02dba2f00a67e6b04b769', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I3dc33f7dbbbf691255ead0ccb1acaeb3e1ddb6c9\nCloses-Bug:  #1801657\n'}]",0,609980,b30a28b64dd247b700c02dba2f00a67e6b04b769,13,6,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I3dc33f7dbbbf691255ead0ccb1acaeb3e1ddb6c9
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/80/609980/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,942f93313c875747ee3dceda8db10d98f2aad2af,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Ftripleo-ci~master~I6f3f072e86037584fc386ba6032a6ef1fe846178,openstack/tripleo-ci,master,I6f3f072e86037584fc386ba6032a6ef1fe846178,[DNM] Add fedora28 support to tripleo-buildcontainers,ABANDONED,2019-02-14 10:23:37.000000000,2019-03-15 15:32:47.000000000,,"[{'_account_id': 8175}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-02-14 10:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/52864c3085cb5bd5a2d9fea15a3acedd7fe70296', 'message': 'Add py3/fedora28 support to tripleo-repos and tripleo-buildcontainers\n\nThis code also adds testing via molecule for both modified roles,\ndeveloper can call it using one of:\n\n- cd roles/tripleo-repos && molecule test --all\n- cd playbooks/tripleo-buildcontainers && molecule test --all\n- tox -e molecule (runs both)\n\nChange-Id: I6f3f072e86037584fc386ba6032a6ef1fe846178\n'}, {'number': 2, 'created': '2019-02-14 11:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e45ce8a6bec84d2c5f7a0eaea5d7af6592907d66', 'message': 'Add py3/fedora28 support to tripleo-repos and tripleo-buildcontainers\n\nThis code also adds testing via molecule for both modified roles,\ndeveloper can call it using one of:\n\n- cd roles/tripleo-repos && molecule test --all\n- cd playbooks/tripleo-buildcontainers && molecule test --all\n- tox -e molecule (runs both)\n\nChange-Id: I6f3f072e86037584fc386ba6032a6ef1fe846178\n'}, {'number': 3, 'created': '2019-02-14 13:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9889c2f1dafb246d9beb42fd00587bee8ea7177a', 'message': 'Add fedora28 support to tripleo-buildcontainers\n\nThis code also adds testing via molecule for both modified role:\n\n  cd playbooks/tripleo-buildcontainers\n  molecule test --all\n\nChange-Id: I6f3f072e86037584fc386ba6032a6ef1fe846178\n'}, {'number': 4, 'created': '2019-02-14 17:20:38.000000000', 'files': ['playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/gilt.yml', 'roles/tripleo-repos/vars/main.yml', 'playbooks/tripleo-buildcontainers/run.yaml', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/molecule.yml', 'roles/tripleo-repos/tasks/main.yml', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/Dockerfile.j2', 'playbooks/tripleo-buildcontainers/vars/common.yaml', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2b3b4d579e48e385a33a5ac0628e45fcfccd0e20', 'message': '[DNM] Add fedora28 support to tripleo-buildcontainers\n\nThis code also adds testing via molecule for both modified role:\n\n  cd playbooks/tripleo-buildcontainers\n  molecule test --all\n\nChange-Id: I6f3f072e86037584fc386ba6032a6ef1fe846178\n'}]",8,636905,2b3b4d579e48e385a33a5ac0628e45fcfccd0e20,16,6,4,24162,,,0,"[DNM] Add fedora28 support to tripleo-buildcontainers

This code also adds testing via molecule for both modified role:

  cd playbooks/tripleo-buildcontainers
  molecule test --all

Change-Id: I6f3f072e86037584fc386ba6032a6ef1fe846178
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/636905/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'playbooks/tripleo-buildcontainers/run.yaml', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/molecule.yml', 'roles/tripleo-repos/tasks/main.yml', 'test-requirements.txt', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/Dockerfile.j2', 'playbooks/tripleo-buildcontainers/vars/common.yaml', 'roles/tripleo-repos/gilt.yml', 'roles/tripleo-repos/molecule/tripleo-repos/molecule.yml', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/gilt.yml', 'roles/tripleo-repos/defaults/main.yml', 'roles/tripleo-repos/vars/main.yml', 'roles/tripleo-repos/molecule/tripleo-repos/playbook.yml', 'roles/tripleo-repos/molecule/tripleo-repos/Dockerfile.j2', 'tox.ini', 'playbooks/tripleo-buildcontainers/molecule/tripleo-buildcontainers/playbook.yml']",16,52864c3085cb5bd5a2d9fea15a3acedd7fe70296,oooq/molecule,--- - name: import tripleo-buildcontainers/run.yaml vars: zuul: projects: git.openstack.org/openstack/python-tripleoclient: src_dir: '.' import_playbook: ../../run.yaml ,,335,51
openstack%2Fkolla~master~I8d40a4d66c18022e73b48ecdfd299d9ed459777f,openstack/kolla,master,I8d40a4d66c18022e73b48ecdfd299d9ed459777f,Separate placement DB sync and data migrations,MERGED,2019-03-13 09:38:19.000000000,2019-03-15 15:31:38.000000000,2019-03-15 15:31:38.000000000,"[{'_account_id': 17499}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-03-13 09:38:19.000000000', 'files': ['docker/placement/placement-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c8f8b301243d9e63353e96ba30e7b0de5f874e7a', 'message': 'Separate placement DB sync and data migrations\n\nFor an online upgrade, these commands should be executed separately.\n\nChange-Id: I8d40a4d66c18022e73b48ecdfd299d9ed459777f\n'}]",0,642984,c8f8b301243d9e63353e96ba30e7b0de5f874e7a,18,5,1,14826,,,0,"Separate placement DB sync and data migrations

For an online upgrade, these commands should be executed separately.

Change-Id: I8d40a4d66c18022e73b48ecdfd299d9ed459777f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/84/642984/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/placement/placement-api/extend_start.sh'],1,c8f8b301243d9e63353e96ba30e7b0de5f874e7a,split-placement,"# DB synchronisation. To be executed prior to upgrading services. if [[ ""${!KOLLA_UPGRADE[@]}"" ]]; then placement-manage db sync exit 0 fi # Online data migrations. To be executed after upgrading services. if [[ ""${!KOLLA_OSM[@]}"" ]]; then placement-manage db online_data_migrations exit 0 fi ",,12,0
openstack%2Fopenstack-ansible-memcached_server~master~I76d4aeeb50299a43164dc32fe1f91b47ec194bb1,openstack/openstack-ansible-memcached_server,master,I76d4aeeb50299a43164dc32fe1f91b47ec194bb1,fix tox python3 overrides,MERGED,2018-10-12 09:03:49.000000000,2019-03-15 15:30:14.000000000,2019-03-15 15:30:14.000000000,"[{'_account_id': 1004}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-10-12 09:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/aec07dfc0ae65a741526ae1f5c439c244b409ad9', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I76d4aeeb50299a43164dc32fe1f91b47ec194bb1\n'}, {'number': 2, 'created': '2018-12-01 10:57:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/5895ad56370ce00f226d36679afeb1da9ea997ce', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I76d4aeeb50299a43164dc32fe1f91b47ec194bb1\nCloses-Bug:  #1801657\n'}]",0,609973,5895ad56370ce00f226d36679afeb1da9ea997ce,11,4,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I76d4aeeb50299a43164dc32fe1f91b47ec194bb1
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/73/609973/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aec07dfc0ae65a741526ae1f5c439c244b409ad9,bug/1801657,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fopenstack-ansible-os_mistral~master~I9d0b7e21509790aeecbc97879fb8b3960484cfe9,openstack/openstack-ansible-os_mistral,master,I9d0b7e21509790aeecbc97879fb8b3960484cfe9,Updated from OpenStack Ansible Tests,MERGED,2019-02-27 06:05:17.000000000,2019-03-15 15:29:59.000000000,2019-03-15 15:29:59.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 06:05:17.000000000', 'files': ['run_tests.sh', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/6cae077b56933d1f5d6499ee6ecf065edb0dea6e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I9d0b7e21509790aeecbc97879fb8b3960484cfe9\n'}]",0,639538,6cae077b56933d1f5d6499ee6ecf065edb0dea6e,8,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I9d0b7e21509790aeecbc97879fb8b3960484cfe9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/38/639538/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt']",2,6cae077b56933d1f5d6499ee6ecf065edb0dea6e,openstack/openstack-ansible-tests/sync-tests,# Base requirements for Gentoo git [platform:gentoo] ,,5,1
openstack%2Ftripleo-quickstart~master~I9ef5430ff3f2aa720bd86fe2d387ed3d6eb7bebc,openstack/tripleo-quickstart,master,I9ef5430ff3f2aa720bd86fe2d387ed3d6eb7bebc,Allow quickstart.sh to be sourceable,ABANDONED,2019-01-04 14:53:10.000000000,2019-03-15 15:28:28.000000000,,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-01-04 14:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/65f0dc8177ad57ced8bf66d79c7211a2c1a96d97', 'message': 'Allow quickstart.sh to be sourceable\n\nTo be able to correctly run a bash script stanalone or using source,\n`exit` must be avoided inside it as it would stop execution\nwhen sourceing it.\n\nInstead functions should use `return` instead of `exit` and the main\nexecution body should be included in a function that is executed\nlast (return cannot be used outside a function).\n\nThis assures that the exit code is kept.\n\nThis change enables us to isolate testing of functions defined\ninside quickstart.sh, by sourcing them and running them in various\nuse-case scenarios. This would allow us to have a better code\ncoverage of the script, one that would require a ridiculous number\nof jobs if order to cover as a whole (number of platforms,\nlibvirt on/off, virtualenv on/off, ...)\n\nThis change also disables logging to _quickstart.log *when* the script\nis sourced as we can assume that the caller takes care of that aspect.\n\nChange-Id: I9ef5430ff3f2aa720bd86fe2d387ed3d6eb7bebc\nRelated: https://review.openstack.org/#/c/613672/\n'}, {'number': 2, 'created': '2019-01-09 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7784ea8b4d6d93e3b3558b76b3f789521349d1a4', 'message': 'Allow quickstart.sh to be sourceable\n\nTo be able to correctly run a bash script stanalone or using source,\n`exit` must be avoided inside it as it would stop execution\nwhen sourceing it.\n\nInstead functions should use `return` instead of `exit` and the main\nexecution body should be included in a function that is executed\nlast (return cannot be used outside a function).\n\nThis assures that the exit code is kept.\n\nThis change enables us to isolate testing of functions defined\ninside quickstart.sh, by sourcing them and running them in various\nuse-case scenarios. This would allow us to have a better code\ncoverage of the script, one that would require a ridiculous number\nof jobs if order to cover as a whole (number of platforms,\nlibvirt on/off, virtualenv on/off, ...)\n\nThis change also disables logging to _quickstart.log *when* the script\nis sourced as we can assume that the caller takes care of that aspect.\n\nChange-Id: I9ef5430ff3f2aa720bd86fe2d387ed3d6eb7bebc\nRelated: https://review.openstack.org/#/c/613672/\n'}, {'number': 3, 'created': '2019-01-18 11:07:50.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/993c73b6dffc4f7c336bb59cd40108513e77bbbd', 'message': 'Allow quickstart.sh to be sourceable\n\nTo be able to correctly run a bash script stanalone or using source,\n`exit` must be avoided inside it as it would stop execution\nwhen sourceing it.\n\nInstead functions should use `return` instead of `exit` and the main\nexecution body should be included in a function that is executed\nlast (return cannot be used outside a function).\n\nThis assures that the exit code is kept.\n\nThis change enables us to isolate testing of functions defined\ninside quickstart.sh, by sourcing them and running them in various\nuse-case scenarios. This would allow us to have a better code\ncoverage of the script, one that would require a ridiculous number\nof jobs if order to cover as a whole (number of platforms,\nlibvirt on/off, virtualenv on/off, ...)\n\nThis change also disables logging to _quickstart.log *when* the script\nis sourced as we can assume that the caller takes care of that aspect.\n\nAlso fixes bug where use of bootstrap option would stop execution of\nthe script. Now bootstrap will not prevent other options from being\nrespected, if mentioned. If only bootstrap param is given, the\ntool will perform it and return 0 on success.\n\nChange-Id: I9ef5430ff3f2aa720bd86fe2d387ed3d6eb7bebc\nRelated: https://review.openstack.org/#/c/613672/\n'}]",1,628449,993c73b6dffc4f7c336bb59cd40108513e77bbbd,16,8,3,24162,,,0,"Allow quickstart.sh to be sourceable

To be able to correctly run a bash script stanalone or using source,
`exit` must be avoided inside it as it would stop execution
when sourceing it.

Instead functions should use `return` instead of `exit` and the main
execution body should be included in a function that is executed
last (return cannot be used outside a function).

This assures that the exit code is kept.

This change enables us to isolate testing of functions defined
inside quickstart.sh, by sourcing them and running them in various
use-case scenarios. This would allow us to have a better code
coverage of the script, one that would require a ridiculous number
of jobs if order to cover as a whole (number of platforms,
libvirt on/off, virtualenv on/off, ...)

This change also disables logging to _quickstart.log *when* the script
is sourced as we can assume that the caller takes care of that aspect.

Also fixes bug where use of bootstrap option would stop execution of
the script. Now bootstrap will not prevent other options from being
respected, if mentioned. If only bootstrap param is given, the
tool will perform it and return 0 on success.

Change-Id: I9ef5430ff3f2aa720bd86fe2d387ed3d6eb7bebc
Related: https://review.openstack.org/#/c/613672/
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/49/628449/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,65f0dc8177ad57ced8bf66d79c7211a2c1a96d97,oooq/qs-sourceable," [[ $_ == $0 ]] && { # ^ Log everything into _quickstart.log only when *not* sourced. # We may source the file in order to reuse functions from it. # Due to this we need to avoid using exit inside the script and only # rely on __main fuction for returning a failure exit code. echo ""$0 $@"" > _quickstart.log exec &> >(tee -i -a _quickstart.log ) }__main() { unset -f __main return 0 return 2 finish 0 return $? return 1 return 2 return 2 return 1} # end __main __main ""$@""","# Log everything from this script into _quickstart.log echo ""$0 $@"" > _quickstart.log exec &> >(tee -i -a _quickstart.log ) exit exit exit 2 exit exit $? exit 1 exit 2 exit 2 exit 1",24,12
openstack%2Ftripleo-ci~master~I2b262cc7b363a3950196904e32e056e40d981df7,openstack/tripleo-ci,master,I2b262cc7b363a3950196904e32e056e40d981df7,Simplified tox.ini,ABANDONED,2019-03-06 17:37:58.000000000,2019-03-15 15:28:01.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 17:37:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d08ad0d097461a43c43238d7b9e4b811e5d61965', 'message': 'Simplified tox.ini\n\n- enable testing with multiple py3 versions\n- avoid warnings/errors when py3 version does not match (dev only)\n- running just ""tox"" will use all installed interpreters on dev machine\n\nThis change affects only usage of tox by developers as on CI the\nuse of specific interpreters and jobs is assured outside tox.\n\nChange-Id: I2b262cc7b363a3950196904e32e056e40d981df7\n'}]",0,641451,d08ad0d097461a43c43238d7b9e4b811e5d61965,3,4,1,24162,,,0,"Simplified tox.ini

- enable testing with multiple py3 versions
- avoid warnings/errors when py3 version does not match (dev only)
- running just ""tox"" will use all installed interpreters on dev machine

This change affects only usage of tox by developers as on CI the
use of specific interpreters and jobs is assured outside tox.

Change-Id: I2b262cc7b363a3950196904e32e056e40d981df7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/641451/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d08ad0d097461a43c43238d7b9e4b811e5d61965,oooq/tox-flex,"envlist = linters, py27, py35, py36, py37 ignore_missing_interpreters = true ignore_basepython_conflict = true; changedir = scripts/emit_releases_file commands = pytest {posargs:--cov=emit_releases_file} scripts/emit_releases_file whitelist_externals = sh bashcommands = {posargs:sh -}","envlist = linters, py27, py35commands = {posargs}whitelist_externals = bashwhitelist_externals = {[testenv:linters]whitelist_externals} # This environment is used to run unit tests [testenv:py27] deps = {[testenv]deps} changedir = scripts/emit_releases_file commands = pytest {posargs:--cov=emit_releases_file} [testenv:py35] basepython = python3 deps={[testenv]deps} changedir = {[testenv:py27]changedir} commands = {[testenv:py27]commands}",9,16
openstack%2Fopenstack-helm-infra~master~I19b6a4da21d1fe9816759b836b73a14bacd373a8,openstack/openstack-helm-infra,master,I19b6a4da21d1fe9816759b836b73a14bacd373a8,Few updates for gnocchi chart,MERGED,2019-02-20 21:23:49.000000000,2019-03-15 15:24:51.000000000,2019-03-15 15:24:50.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28435}]","[{'number': 1, 'created': '2019-02-20 21:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e0653092520eea67938d86a8b966256c410fe17', 'message': 'Gnocchi chart: set the coordination driver and remove the upgrade option\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 2, 'created': '2019-02-24 23:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e0f84b7c883c81f2fbd887c18e24b0b82948421', 'message': 'Gnocchi chart: set the coordination driver and remove the upgrade option\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 3, 'created': '2019-02-25 04:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a06cedebc7e48a62daeedcd22b102d7ab7fbb552', 'message': 'Gnocchi chart: set the coordination driver and remove the upgrade option\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 4, 'created': '2019-02-25 18:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6b347696398306bf324139494d32ea4812c85d25', 'message': 'Few updates for gnocchi chart\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nThe missing image for gnocchi_resources_cleaner is added in this commit.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 5, 'created': '2019-02-27 15:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/665a354b1e17025d933270b6a3b700ff9a2dee5c', 'message': 'Few updates for gnocchi chart\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nThe missing image for gnocchi_resources_cleaner is added in this commit.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 6, 'created': '2019-03-01 01:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2addd0d24f403895b9dc7a20eb978b9433e1db8', 'message': 'Few updates for gnocchi chart\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nThe missing image for gnocchi_resources_cleaner is added in this commit.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 7, 'created': '2019-03-06 14:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0fc5f287f0b144104a266a2146f7eb26168fdbaa', 'message': 'Few updates for gnocchi chart\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nThe missing image for gnocchi_resources_cleaner is added in this commit.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 8, 'created': '2019-03-15 13:20:31.000000000', 'files': ['gnocchi/templates/configmap-etc.yaml', 'gnocchi/templates/bin/_db-sync.sh.tpl', 'gnocchi/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61c1e58e23647f9462c8a6a0bf4a67c8e8eda451', 'message': 'Few updates for gnocchi chart\n\nWithout setting the coordination driver, the gnocchi worker will\nbattle against other workers for jobs. This commit updates to use\nmemcached as gnocchi\'s coordinator.\n\nThis commit also removes the gnocchi upgrade option ""--create-legacy-\nresource-types"" in the chart which creates ceilometer resource types.\nThe resource types creation is done by the ceilometer side during\nceilometer-upgrade. The option was already removed since gnocchi 4.0.0.\n\nThe missing image for gnocchi_resources_cleaner is added in this commit.\n\nChange-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}]",3,638270,61c1e58e23647f9462c8a6a0bf4a67c8e8eda451,36,5,8,28435,,,0,"Few updates for gnocchi chart

Without setting the coordination driver, the gnocchi worker will
battle against other workers for jobs. This commit updates to use
memcached as gnocchi's coordinator.

This commit also removes the gnocchi upgrade option ""--create-legacy-
resource-types"" in the chart which creates ceilometer resource types.
The resource types creation is done by the ceilometer side during
ceilometer-upgrade. The option was already removed since gnocchi 4.0.0.

The missing image for gnocchi_resources_cleaner is added in this commit.

Change-Id: I19b6a4da21d1fe9816759b836b73a14bacd373a8
Signed-off-by: Angie Wang <angie.wang@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/70/638270/2 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/templates/configmap-etc.yaml', 'gnocchi/templates/bin/_db-sync.sh.tpl', 'gnocchi/values.yaml']",3,1e0653092520eea67938d86a8b966256c410fe17,, default: memcached, default: memcache,8,2
openstack%2Fopenstack-helm-infra~master~Ic5972d7de20b73aee0b019143ba778d6f1ff9271,openstack/openstack-helm-infra,master,Ic5972d7de20b73aee0b019143ba778d6f1ff9271,Gate: Minor shellcheck fixes,MERGED,2019-03-14 17:56:38.000000000,2019-03-15 15:22:22.000000000,2019-03-15 15:22:21.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-03-14 17:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab483e5d8e770543e5eb7bc7d2eb138e5a0a88b0', 'message': 'Gate: Minor shellcheck fixes\n\nThis PS makes some minor changes to the minikube k8s script to\nmake shellcheck happy\n\nChange-Id: Ic5972d7de20b73aee0b019143ba778d6f1ff9271\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-03-15 13:20:11.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70ff2f3042d2ddc487abcfe09b3724e29a565f8a', 'message': 'Gate: Minor shellcheck fixes\n\nThis PS makes some minor changes to the minikube k8s script to\nmake shellcheck happy\n\nChange-Id: Ic5972d7de20b73aee0b019143ba778d6f1ff9271\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,643410,70ff2f3042d2ddc487abcfe09b3724e29a565f8a,15,5,2,23928,,,0,"Gate: Minor shellcheck fixes

This PS makes some minor changes to the minikube k8s script to
make shellcheck happy

Change-Id: Ic5972d7de20b73aee0b019143ba778d6f1ff9271
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/643410/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,ab483e5d8e770543e5eb7bc7d2eb138e5a0a88b0,format-k8s-script,": ""${HTTPS_PROXY:=""""}"" [ ""${NOW}"" -gt ""${END}"" ] && exit 1"," [ ""${NOW}"" -gt ""${END}"" ] && exit -1",2,1
openstack%2Fironic~stable%2Frocky~I96edb28955e64915e9d6a481634857fd27690555,openstack/ironic,stable/rocky,I96edb28955e64915e9d6a481634857fd27690555,Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed),MERGED,2019-03-07 07:57:38.000000000,2019-03-15 15:21:17.000000000,2019-03-15 15:19:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-03-07 07:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1d809174f54a7f44b360a3aa6c1bf2a99fb3ea8', 'message': 'Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed)\n\nThis change contains two fixes for the same issue:\n* Do not pass an instance of ImageRefValidationFailed as a message\n  to an exception constructor.\n* Make sure that IronicException.__str__ always returns an str,\n  even when a non-string is passed as the first argument to __init__.\n\nChange-Id: I96edb28955e64915e9d6a481634857fd27690555\nStory: #2003682\nTask: #26206\n(cherry picked from commit 245af384ff582d586ce736aed41017ca39e0db14)\n'}, {'number': 2, 'created': '2019-03-12 10:52:42.000000000', 'files': ['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/common/test_exception.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'releasenotes/notes/type-error-str-6826c53d7e5e1243.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f6fd978d759771a4cd35e3f114adbeb6de06420', 'message': 'Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed)\n\nThis change contains two fixes for the same issue:\n* Do not pass an instance of ImageRefValidationFailed as a message\n  to an exception constructor.\n* Make sure that IronicException.__str__ always returns an str,\n  even when a non-string is passed as the first argument to __init__.\n\nChange-Id: I96edb28955e64915e9d6a481634857fd27690555\nStory: #2003682\nTask: #26206\n(cherry picked from commit 245af384ff582d586ce736aed41017ca39e0db14)\n'}]",0,641584,7f6fd978d759771a4cd35e3f114adbeb6de06420,19,7,2,10239,,,0,"Fix TypeError: __str__ returned non-string (type ImageRefValidationFailed)

This change contains two fixes for the same issue:
* Do not pass an instance of ImageRefValidationFailed as a message
  to an exception constructor.
* Make sure that IronicException.__str__ always returns an str,
  even when a non-string is passed as the first argument to __init__.

Change-Id: I96edb28955e64915e9d6a481634857fd27690555
Story: #2003682
Task: #26206
(cherry picked from commit 245af384ff582d586ce736aed41017ca39e0db14)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/641584/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/common/test_exception.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'releasenotes/notes/type-error-str-6826c53d7e5e1243.yaml']",5,c1d809174f54a7f44b360a3aa6c1bf2a99fb3ea8,story/2003682-stable/rocky,--- fixes: - | Returns the correct error message on providing an invalid reference to ``image_source``. Previously an internal error was raised. ,,22,9
openstack%2Fheat-dashboard~master~Ifb5d57e078d16bd1b15418f38750fc0ef2b571f7,openstack/heat-dashboard,master,Ifb5d57e078d16bd1b15418f38750fc0ef2b571f7,Add python 3.6 unit test job,MERGED,2019-03-12 11:03:47.000000000,2019-03-15 15:20:09.000000000,2019-03-15 15:20:09.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 12404}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-12 11:03:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/1703721a383be83d1e0e190f9eef65d043a3aac2', 'message': 'Add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ifb5d57e078d16bd1b15418f38750fc0ef2b571f7\n'}]",0,642722,1703721a383be83d1e0e190f9eef65d043a3aac2,10,7,1,29313,,,0,"Add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ifb5d57e078d16bd1b15418f38750fc0ef2b571f7
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/22/642722/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1703721a383be83d1e0e190f9eef65d043a3aac2,, - openstack-python36-jobs-horizon,,1,0
openstack%2Fopenstack-helm-infra~master~I09b9a11747bab32c19637d8dd076b8caa3b89445,openstack/openstack-helm-infra,master,I09b9a11747bab32c19637d8dd076b8caa3b89445,Gate: Permit ceph deployment from outside the cluster,MERGED,2019-03-14 20:27:41.000000000,2019-03-15 15:19:35.000000000,2019-03-15 15:19:35.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-14 20:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b86495ee485f2a887840d4abd2a6b2b9b1dc1ea8', 'message': 'Gate: Permit ceph deployment from outside the cluster\n\nThis PS extends the gate scripts to allow ceph to be deployed from\na workstation external to the k8s cluster.\n\nChange-Id: I09b9a11747bab32c19637d8dd076b8caa3b89445\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-03-14 20:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30b380b70657d85a120645062eb67ae9498f1528', 'message': 'Gate: Permit ceph deployment from outside the cluster\n\nThis PS extends the gate scripts to allow ceph to be deployed from\na workstation external to the k8s cluster.\n\nChange-Id: I09b9a11747bab32c19637d8dd076b8caa3b89445\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-03-14 20:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a60152dfba5080f8fe63779e9a5868a1a51a733', 'message': 'Gate: Permit ceph deployment from outside the cluster\n\nThis PS extends the gate scripts to allow ceph to be deployed from\na workstation external to the k8s cluster.\n\nChange-Id: I09b9a11747bab32c19637d8dd076b8caa3b89445\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-03-15 13:20:19.000000000', 'files': ['tools/deployment/multinode/035-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/multinode/kube-node-subnet.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6a0e0b85c912c478a59d3173ffa0b7392a3f65d', 'message': 'Gate: Permit ceph deployment from outside the cluster\n\nThis PS extends the gate scripts to allow ceph to be deployed from\na workstation external to the k8s cluster.\n\nChange-Id: I09b9a11747bab32c19637d8dd076b8caa3b89445\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,643452,d6a0e0b85c912c478a59d3173ffa0b7392a3f65d,15,5,4,23928,,,0,"Gate: Permit ceph deployment from outside the cluster

This PS extends the gate scripts to allow ceph to be deployed from
a workstation external to the k8s cluster.

Change-Id: I09b9a11747bab32c19637d8dd076b8caa3b89445
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/643452/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/030-ceph.sh', 'tools/deployment/multinode/kube-node-subnet.sh']",2,b86495ee485f2a887840d4abd2a6b2b9b1dc1ea8,format-k8s-script,"NODE_IPS=$(mktemp)function run_and_log_ipcalc { POD_NAME=""tmp-$(cat /dev/urandom | env LC_CTYPE=C tr -dc a-z | head -c 5; echo)"" kubectl run ${POD_NAME} \ --generator=run-pod/v1 \ --wait \ --image ${UTILS_IMAGE} \ --restart=Never \ ipcalc -- ""$1"" end=$(($(date +%s) + 900)) until kubectl get pod/${POD_NAME} -o go-template='{{.status.phase}}' | grep -q Succeeded; do now=$(date +%s) [ $now -gt $end ] && echo containers failed to start. && \ kubectl get pod/${POD_NAME} -o wide && exit 1 done kubectl logs pod/${POD_NAME} kubectl delete pod/${POD_NAME} } FIRST_IP_SUBNET=$(run_and_log_ipcalc ""$(head -n 1 ${NODE_IPS})/24"" | awk '/^Network/ { print $2 }') LAST_IP_SUBNET=$(run_and_log_ipcalc ""$(tail -n 1 ${NODE_IPS})/24"" | awk '/^Network/ { print $2 }')","NODE_IPS=$(mktemp --suffix=.txt)FIRST_IP_SUBNET=$(sudo docker run --rm ${UTILS_IMAGE} ipcalc ""$(head -n 1 ${NODE_IPS})/24"" | awk '/^Network/ { print $2 }') LAST_IP_SUBNET=$(sudo docker run --rm ${UTILS_IMAGE} ipcalc ""$(tail -n 1 ${NODE_IPS})/24"" | awk '/^Network/ { print $2 }')",27,16
openstack%2Fopenstack-helm-infra~master~Ia2255ada2f32f21888bd4ca96df88496720fd0a5,openstack/openstack-helm-infra,master,Ia2255ada2f32f21888bd4ca96df88496720fd0a5,Elastic Curator: Add basic action overrides for deployment jobs,MERGED,2019-02-04 14:19:17.000000000,2019-03-15 15:19:33.000000000,2019-03-15 15:19:33.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-02-04 14:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e08e505d3c15530562fef008c0f17d978a94e41e', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}, {'number': 2, 'created': '2019-02-05 21:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e4059bc7a8b756ff61907d4affee225b55f13d6', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}, {'number': 3, 'created': '2019-02-06 14:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c57636a87a921569520ca6cc0f9f1836ef03566b', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}, {'number': 4, 'created': '2019-02-07 17:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0a18799ce5d034244b516f01c7e6db23d0cf598', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}, {'number': 5, 'created': '2019-03-06 03:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d3868acf2aa0cae1c847e730a96a4f2b8933645', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}, {'number': 6, 'created': '2019-03-15 05:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62b708d5b9947b79282e71ca543b053d560748b6', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}, {'number': 7, 'created': '2019-03-15 13:20:55.000000000', 'files': ['tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'tools/deployment/network-policy/120-elasticsearch.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/588acdbf8c1e72902135bc4dcb4e02cc02df3fe0', 'message': ""Elastic Curator: Add basic action overrides for deployment jobs\n\nThis adds configuration overrides for a very basic Curator action\nthat should effectively be a no-op. This is to address periodic\nfailures seen in the osh-infra-aio-logging job that appear when\nthe run times coincide with Elastic Curator's cron schedule (every\nsix hours). This ensures curator actions are defined in cases\nwhere this occurs\n\nChange-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5\n""}]",1,634694,588acdbf8c1e72902135bc4dcb4e02cc02df3fe0,21,4,7,17591,,,0,"Elastic Curator: Add basic action overrides for deployment jobs

This adds configuration overrides for a very basic Curator action
that should effectively be a no-op. This is to address periodic
failures seen in the osh-infra-aio-logging job that appear when
the run times coincide with Elastic Curator's cron schedule (every
six hours). This ensures curator actions are defined in cases
where this occurs

Change-Id: Ia2255ada2f32f21888bd4ca96df88496720fd0a5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/634694/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh']",2,e08e505d3c15530562fef008c0f17d978a94e41e,add-curator-overrides," curator: schedule: ""0 */6 * * *"" action_file: actions: 1: action: delete_indices description: >- ""Delete indices older than 365 days"" options: timeout_override: continue_if_exception: False ignore_empty_list: True disable_action: True filters: - filtertype: pattern kind: prefix value: logstash- - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: 365",,46,0
openstack%2Fplacement~master~Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1,openstack/placement,master,Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1,Add explicit short-circuit in get_all_by_consumer_id,MERGED,2019-03-01 23:47:53.000000000,2019-03-15 15:18:02.000000000,2019-03-15 15:18:02.000000000,"[{'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-01 23:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/dec3522c4062cdb2fa942c2e3098317239ea1043', 'message': 'Nit collector\n\nFix nits noticed in (but not related to) other reviews.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n'}, {'number': 2, 'created': '2019-03-01 23:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/08078cc3c7da9ce84decee63f1657a753d57ab80', 'message': 'Nit collector\n\nFix nits noticed in (but not related to) other reviews.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n'}, {'number': 3, 'created': '2019-03-02 00:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fc42895910b69d20cab03c95128ab7cadff9ba54', 'message': 'Nit collector\n\nFix nits noticed in (but not related to) other reviews.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n'}, {'number': 4, 'created': '2019-03-04 10:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d7436aef54e22f84f947a43e66cc2cf78eaf8fec', 'message': 'Nit collector\n\nFix nits noticed in (but not related to) other reviews.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n'}, {'number': 5, 'created': '2019-03-04 15:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7c83a57392a096707aa90ee6821078fe4e0a9f9f', 'message': 'Nit collector\n\nFix nits noticed in (but not related to) other reviews.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n'}, {'number': 6, 'created': '2019-03-06 00:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/17cc76b9c33d3d4c16c66493cff7a2eff187c724', 'message': 'Nit collector\n\nFix nits noticed in (but not related to) other reviews.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n'}, {'number': 7, 'created': '2019-03-06 16:38:51.000000000', 'files': ['placement/tests/functional/db/test_allocation.py', 'placement/objects/allocation.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/aa2c1442af8ee865983ec40370d9207352f2ebbe', 'message': ""Add explicit short-circuit in get_all_by_consumer_id\n\nPyCharm complained of a potentially-unset local variable in\nget_all_by_consumer_id, even though that wasn't actually possible given\nthe list comp would be iterating over zero values in that case. However,\nadding an explicit short-circuit for this case makes the code clearer to\nread, and gets rid of the IDE warning, so \\o/.\n\nAn unrelated typo in a comment is fixed at the same time.\n\nChange-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1\n""}]",1,640555,aa2c1442af8ee865983ec40370d9207352f2ebbe,25,7,7,14070,,,0,"Add explicit short-circuit in get_all_by_consumer_id

PyCharm complained of a potentially-unset local variable in
get_all_by_consumer_id, even though that wasn't actually possible given
the list comp would be iterating over zero values in that case. However,
adding an explicit short-circuit for this case makes the code clearer to
read, and gets rid of the IDE warning, so \o/.

An unrelated typo in a comment is fixed at the same time.

Change-Id: Ic7b5a223a8eab8f7dd651521b8723d89abf2ded1
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/640555/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_allocation.py', 'placement/objects/allocation.py']",2,dec3522c4062cdb2fa942c2e3098317239ea1043,scrub-Lists," if not db_allocs: return [] # Build up the Consumer object (it's the same for all allocations # since we looked up by consumer ID) db_first = db_allocs[0] consumer = consumer_obj.Consumer( context, id=db_first['consumer_id'], uuid=db_first['consumer_uuid'], generation=db_first['consumer_generation'], project=project_obj.Project( context, id=db_first['project_id'], external_id=db_first['project_external_id']), user=user_obj.User( context, id=db_first['user_id'], external_id=db_first['user_external_id']))"," if db_allocs: # Build up the Consumer object (it's the same for all allocations # since we looked up by consumer ID) db_first = db_allocs[0] consumer = consumer_obj.Consumer( context, id=db_first['consumer_id'], uuid=db_first['consumer_uuid'], generation=db_first['consumer_generation'], project=project_obj.Project( context, id=db_first['project_id'], external_id=db_first['project_external_id']), user=user_obj.User( context, id=db_first['user_id'], external_id=db_first['user_external_id']))",17,15
openstack%2Fneutron-tempest-plugin~master~I24055036e6d45b5eff1cd127e2a2c78485287587,openstack/neutron-tempest-plugin,master,I24055036e6d45b5eff1cd127e2a2c78485287587,add assert to ping test,MERGED,2019-03-04 19:55:02.000000000,2019-03-15 15:18:01.000000000,2019-03-15 15:18:00.000000000,"[{'_account_id': 1131}, {'_account_id': 8873}, {'_account_id': 9396}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-04 19:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fac66830f2431d88eb12a03df36057857c26e279', 'message': 'add assert to ping test\n\nChange-Id: I24055036e6d45b5eff1cd127e2a2c78485287587\nCloses-Bug: #1818233\n'}, {'number': 2, 'created': '2019-03-04 20:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eeea494001fc96cb31876a1bf3a2969f7bf37089', 'message': 'add assert to ping test\n\nChange-Id: I24055036e6d45b5eff1cd127e2a2c78485287587\nCloses-Bug: #1818233\n'}, {'number': 3, 'created': '2019-03-05 17:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2e59404bc7533c3f417f7b20c7a07fdc7a78ff62', 'message': 'add assert to ping test\n\nChange-Id: I24055036e6d45b5eff1cd127e2a2c78485287587\nCloses-Bug: #1818233\n'}, {'number': 4, 'created': '2019-03-08 21:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ed72dc7883b904ab715d22a2731c96289475ac2f', 'message': 'add assert to ping test\n\nChange-Id: I24055036e6d45b5eff1cd127e2a2c78485287587\nCloses-Bug: #1818233\n'}, {'number': 5, 'created': '2019-03-14 17:50:42.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8bbf899ec0c1ce5a9a500d680dac2391b8149a96', 'message': 'add assert to ping test\n\nChange-Id: I24055036e6d45b5eff1cd127e2a2c78485287587\nCloses-Bug: #1818233\n'}]",10,640847,8bbf899ec0c1ce5a9a500d680dac2391b8149a96,23,6,5,17120,,,0,"add assert to ping test

Change-Id: I24055036e6d45b5eff1cd127e2a2c78485287587
Closes-Bug: #1818233
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/47/640847/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,fac66830f2431d88eb12a03df36057857c26e279,bug/1818233, if should_succeed: self.assertTrue(result) else: self.assertFalse(result) ,,6,0
openstack%2Fmanila~master~I6099180575c9b6cacc6f08b3d960e9ef77324e9a,openstack/manila,master,I6099180575c9b6cacc6f08b3d960e9ef77324e9a,Adds User Message in case of Shrinking Error,NEW,2019-03-07 13:28:02.000000000,2019-03-15 15:12:54.000000000,,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}]","[{'number': 1, 'created': '2019-03-07 13:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2130d527d40fcca4108979ccc1b16229c3af80b7', 'message': ""Adds User Message in case of Shrinking Error\n\nWhen an update for shrinking a share fails, there is no User Message\ngenerated. In case of a STATUS_SHRINKING_ERROR, the shrink operation\nfails for an unknown reason, and the user must rectify whatever's\nwrong with the share and reattempt shrinking.\nThis change uses the Message API module and updates the user\nmessage list suggesting an UNKNOWN_ERROR, which corresponds to:\n\nUNKNOWN_ERROR = ('001', _('An unknown error occurred.'))\n\nChange-Id: I6099180575c9b6cacc6f08b3d960e9ef77324e9a\nCloses-Bug: #1802424\n""}, {'number': 2, 'created': '2019-03-14 17:24:56.000000000', 'files': ['manila/share/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/70383540a4aba9ebf4da3feef98f37056f89498d', 'message': ""Adds User Message in case of Shrinking Error\n\nWhen an update for shrinking a share fails, there is no User Message\ngenerated. In case of a STATUS_SHRINKING_ERROR, the shrink operation\nfails for an unknown reason, and the user must rectify whatever's\nwrong with the share and reattempt shrinking.\nThis change uses the Message API module and updates the user\nmessage list suggesting an UNKNOWN_ERROR, which corresponds to:\n\nUNKNOWN_ERROR = ('001', _('An unknown error occurred.'))\n\nChange-Id: I6099180575c9b6cacc6f08b3d960e9ef77324e9a\nCloses-Bug: #1802424\n""}]",0,641666,70383540a4aba9ebf4da3feef98f37056f89498d,11,5,2,30021,,,0,"Adds User Message in case of Shrinking Error

When an update for shrinking a share fails, there is no User Message
generated. In case of a STATUS_SHRINKING_ERROR, the shrink operation
fails for an unknown reason, and the user must rectify whatever's
wrong with the share and reattempt shrinking.
This change uses the Message API module and updates the user
message list suggesting an UNKNOWN_ERROR, which corresponds to:

UNKNOWN_ERROR = ('001', _('An unknown error occurred.'))

Change-Id: I6099180575c9b6cacc6f08b3d960e9ef77324e9a
Closes-Bug: #1802424
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/641666/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/manager.py'],1,2130d527d40fcca4108979ccc1b16229c3af80b7,bug/1802424," self.message.api.create( context, message_field.Action.UPDATE, share['project_id'], resource_type=message_field.Resouce.SHARE, resource_id=share['id'], detail=message_field.Detail.UNKNOWN_ERROR) ",,7,0
openstack%2Ftripleo-quickstart~master~I21f43d246f8a09431101e5b6aa118c64f22cc51c,openstack/tripleo-quickstart,master,I21f43d246f8a09431101e5b6aa118c64f22cc51c,Assure fetched image is owned by current user,ABANDONED,2018-10-17 15:15:27.000000000,2019-03-15 15:11:42.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-17 15:15:27.000000000', 'files': ['roles/fetch-images/tasks/fetch.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/21739a2a846c5cf0d0a002cbb5df11d630d374a3', 'message': 'Assure fetched image is owned by current user\n\nAvoids failure to resize image when reproducer is run as non root user.\n\nChange-Id: I21f43d246f8a09431101e5b6aa118c64f22cc51c\nCloses-Bug:  #1788919\n'}]",0,611353,21739a2a846c5cf0d0a002cbb5df11d630d374a3,12,10,1,24162,,,0,"Assure fetched image is owned by current user

Avoids failure to resize image when reproducer is run as non root user.

Change-Id: I21f43d246f8a09431101e5b6aa118c64f22cc51c
Closes-Bug:  #1788919
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/53/611353/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/fetch-images/tasks/fetch.yml'],1,21739a2a846c5cf0d0a002cbb5df11d630d374a3,bug/1788919,"# copy it to our `{{ image_fetch_dir }}`. copy: remote_src: true src: ""{{ image_cache_path }}"" dest: > {{ image_fetch_dir }}/ {%- if image.md5sum is defined -%} undercloud {%- else -%} {{ image.name }} {%- endif -%} .{{ image.type }}"" owner: ""{{ ansible_user_id }}"" when: - image.type == ""qcow2""","# copy it to `undercloud.qcow2 in our `{{ image_fetch_dir }}`. command: > cp {{ image_cache_path }} {{ image_fetch_dir }}/{{ image.name }}.{{ image.type }} when: image.type == ""qcow2"" and image.md5sum is not defined # Same as the above just copy the base os image to the fetch_dir as undercloud - name: Get base OS qcow2 image from cache command: > cp {{ image_cache_path }} {{ image_fetch_dir }}/undercloud.{{ image.type }} when: image.type == ""qcow2"" and image.md5sum is defined",15,10
openstack%2Ftripleo-heat-templates~master~I62985ef89a096f8a243f7e49bfc9e2232a0d1382,openstack/tripleo-heat-templates,master,I62985ef89a096f8a243f7e49bfc9e2232a0d1382,Make NovaHWMachineType use q35 arch,ABANDONED,2019-03-12 17:42:06.000000000,2019-03-15 15:08:43.000000000,,"[{'_account_id': 9592}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-03-12 17:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62e1d82c02000d9ac8ebabffe50f6b2022e758ed', 'message': 'Make NovaHWMachineType use q35 arch\n\nChange-Id: I62985ef89a096f8a243f7e49bfc9e2232a0d1382\n'}, {'number': 2, 'created': '2019-03-12 17:47:55.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2010f4aab94943d1855453a0397b93dc9c57fc16', 'message': 'Make NovaHWMachineType use q35 arch\n\nBased on feedback received from nova team, we should better use `q35`\nwhich is newer than `pc`.\n\nOut tests indicated that q35 was present on both centos-7 and fedora-28.\n\nChange-Id: I62985ef89a096f8a243f7e49bfc9e2232a0d1382\n'}]",2,642835,2010f4aab94943d1855453a0397b93dc9c57fc16,8,7,2,24162,,,0,"Make NovaHWMachineType use q35 arch

Based on feedback received from nova team, we should better use `q35`
which is newer than `pc`.

Out tests indicated that q35 was present on both centos-7 and fedora-28.

Change-Id: I62985ef89a096f8a243f7e49bfc9e2232a0d1382
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/642835/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,62e1d82c02000d9ac8ebabffe50f6b2022e758ed,nova-arch,,,0,0
openstack%2Fopenstack-helm-infra~master~I474c4361c86287f05ab6078c1f81d671e902598d,openstack/openstack-helm-infra,master,I474c4361c86287f05ab6078c1f81d671e902598d,Elastic Beats: Update daemonset templates to match other daemonsets,MERGED,2019-03-04 13:49:12.000000000,2019-03-15 14:59:41.000000000,2019-03-15 14:59:41.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-03-04 13:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7484d8ac0bb116554947e346eb6ead5d00326aff', 'message': 'Metricbeat: Update daemonset template to match other daemonsets\n\nThis updates the metricbeat daemonset template to include both the\nappropriate node selector definitions as well as the ability to\nenable tolerations for the daemonset in the same manner as\nfluentbit and the node exporter\n\nChange-Id: I474c4361c86287f05ab6078c1f81d671e902598d\n'}, {'number': 2, 'created': '2019-03-04 16:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa51d31c311781782e3b9f0bacee33657e2e90c1', 'message': 'Elastic Beats: Update daemonset templates to match other daemonsets\n\nThis updates the metricbeat and filebeat daemonset templates to\ninclude both the appropriate node selector definitions as well as\nthe ability to enable tolerations for the daemonsets in the same\nmanner as fluentbit and the node exporter\n\nChange-Id: I474c4361c86287f05ab6078c1f81d671e902598d\n'}, {'number': 3, 'created': '2019-03-15 05:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/255497166a7b5a432adf11e644ea40f04b07b954', 'message': 'Elastic Beats: Update daemonset templates to match other daemonsets\n\nThis updates the metricbeat and filebeat daemonset templates to\ninclude both the appropriate node selector definitions as well as\nthe ability to enable tolerations for the daemonsets in the same\nmanner as fluentbit and the node exporter\n\nChange-Id: I474c4361c86287f05ab6078c1f81d671e902598d\n'}, {'number': 4, 'created': '2019-03-15 13:20:43.000000000', 'files': ['elastic-filebeat/templates/daemonset.yaml', 'elastic-metricbeat/templates/daemonset-node-metrics.yaml', 'elastic-metricbeat/values.yaml', 'elastic-filebeat/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f970a1b3a73b68697a3d22709c8dc275e5eac4f7', 'message': 'Elastic Beats: Update daemonset templates to match other daemonsets\n\nThis updates the metricbeat and filebeat daemonset templates to\ninclude both the appropriate node selector definitions as well as\nthe ability to enable tolerations for the daemonsets in the same\nmanner as fluentbit and the node exporter\n\nChange-Id: I474c4361c86287f05ab6078c1f81d671e902598d\n'}]",0,640764,f970a1b3a73b68697a3d22709c8dc275e5eac4f7,19,5,4,17591,,,0,"Elastic Beats: Update daemonset templates to match other daemonsets

This updates the metricbeat and filebeat daemonset templates to
include both the appropriate node selector definitions as well as
the ability to enable tolerations for the daemonsets in the same
manner as fluentbit and the node exporter

Change-Id: I474c4361c86287f05ab6078c1f81d671e902598d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/640764/4 && git format-patch -1 --stdout FETCH_HEAD,"['elastic-metricbeat/templates/daemonset-node-metrics.yaml', 'elastic-metricbeat/values.yaml']",2,7484d8ac0bb116554947e346eb6ead5d00326aff,update-metricbeat, tolerations: metricbeat: enabled: false tolerations: - key: node-role.kubernetes.io/master operator: Exists - key: node-role.kubernetes.io/node operator: Exists,,17,0
openstack%2Fopenstack-helm~master~I902e7de9d9d37458b71f146ae549a0196fb8c466,openstack/openstack-helm,master,I902e7de9d9d37458b71f146ae549a0196fb8c466,Barbican: Fix value of node_port to match default,MERGED,2019-03-14 07:32:37.000000000,2019-03-15 14:49:27.000000000,2019-03-15 14:49:27.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-03-14 07:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9a00dbc338a11a1c76fede869f9e1e3d756000f', 'message': 'Barbican: Fix value of node_port to match default\n\nnode_port value is by default between 30000 and 32767\n\nChange-Id: I902e7de9d9d37458b71f146ae549a0196fb8c466\n'}, {'number': 2, 'created': '2019-03-15 13:19:29.000000000', 'files': ['barbican/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a6bf0d6278f9907cb6fba33d6ca6037838fc0aa', 'message': 'Barbican: Fix value of node_port to match default\n\nnode_port value is by default between 30000 and 32767\n\nChange-Id: I902e7de9d9d37458b71f146ae549a0196fb8c466\n'}]",0,643239,3a6bf0d6278f9907cb6fba33d6ca6037838fc0aa,14,4,2,28507,,,0,"Barbican: Fix value of node_port to match default

node_port value is by default between 30000 and 32767

Change-Id: I902e7de9d9d37458b71f146ae549a0196fb8c466
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/643239/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/values.yaml'],1,c9a00dbc338a11a1c76fede869f9e1e3d756000f,, port: 30486, port: 39486,1,1
openstack%2Fkeystone~master~Ia1a86724b7a6747fc5177476ee462d8d062978e0,openstack/keystone,master,Ia1a86724b7a6747fc5177476ee462d8d062978e0,Invalidate shadow_federated_user cache when deleting protocol,MERGED,2019-01-03 09:42:50.000000000,2019-03-15 14:42:47.000000000,2019-01-04 21:08:23.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-03 09:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/47c38165b2379d2464a42b89ffa762431611c385', 'message': 'Invalidate shadow_federated_user cache when deleting protocol\n\nWhen delete identity provider protocol, the related\nshadow_federated_user cache should be invalidated as well.\n\nChange-Id: Ia1a86724b7a6747fc5177476ee462d8d062978e0\nCloses-bug: 1810393\n'}, {'number': 2, 'created': '2019-01-04 01:46:11.000000000', 'files': ['releasenotes/notes/bug-1810393-5a7d379842c51d9b.yaml', 'keystone/federation/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3bcd8968e97a8efd8f9788a8840dd008c490cea1', 'message': 'Invalidate shadow_federated_user cache when deleting protocol\n\nWhen delete identity provider protocol, the related\nshadow_federated_user cache should be invalidated as well.\n\nChange-Id: Ia1a86724b7a6747fc5177476ee462d8d062978e0\nCloses-bug: 1810393\n'}]",1,628132,3bcd8968e97a8efd8f9788a8840dd008c490cea1,19,4,2,15054,,,0,"Invalidate shadow_federated_user cache when deleting protocol

When delete identity provider protocol, the related
shadow_federated_user cache should be invalidated as well.

Change-Id: Ia1a86724b7a6747fc5177476ee462d8d062978e0
Closes-bug: 1810393
",git fetch https://review.opendev.org/openstack/keystone refs/changes/32/628132/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/core.py'],1,47c38165b2379d2464a42b89ffa762431611c385,bug/1810393," def delete_protocol(self, idp_id, protocol_id): hints = driver_hints.Hints() hints.add_filter('protocol_id', protocol_id) shadow_users = PROVIDERS.shadow_users_api.list_federated_users_info( hints) self.driver.delete_protocol(idp_id, protocol_id) for shadow_user in shadow_users: PROVIDERS.identity_api.shadow_federated_user.invalidate( PROVIDERS.identity_api, shadow_user['idp_id'], shadow_user['protocol_id'], shadow_user['unique_id'], shadow_user['display_name'], shadow_user.get('extra', {}).get('email')) ",,15,0
openstack%2Fmanila~stable%2Fqueens~Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c,openstack/manila,stable/queens,Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c,Fix service image boot issues,MERGED,2019-02-18 15:09:21.000000000,2019-03-15 14:33:31.000000000,2019-02-18 20:38:17.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-18 15:09:21.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/5bfe7f335e3b450930923fbc86c834c66b557f01', 'message': ""Fix service image boot issues\n\nWe are getting:\n\n403 errors 'Only volume-backed servers are allowed for flavors\nwith zero disk' on scenario tests.\n\nAppears to be due to this change [1] which just merged to\nnova master branch.  Ubuntu bionic server doc says the root disk\nneeds 1.5 GB so we are setting the flavor definition to require\n2GB.\n\n[1] https://github.com/openstack/nova/commit/c8e65a5eb11515cfe70f8e6850b842cd594af6a5\n\nCloses-bug: #1816050\nChange-Id: Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c\n(cherry picked from commit 68b79e2ceae37d66105e9911bfd9f61265900ef0)\n(cherry picked from commit fcb40df7773b033c9d6c3d2b4d46cedc311bac87)\n""}]",0,637565,5bfe7f335e3b450930923fbc86c834c66b557f01,8,3,1,9003,,,0,"Fix service image boot issues

We are getting:

403 errors 'Only volume-backed servers are allowed for flavors
with zero disk' on scenario tests.

Appears to be due to this change [1] which just merged to
nova master branch.  Ubuntu bionic server doc says the root disk
needs 1.5 GB so we are setting the flavor definition to require
2GB.

[1] https://github.com/openstack/nova/commit/c8e65a5eb11515cfe70f8e6850b842cd594af6a5

Closes-bug: #1816050
Change-Id: Iba0a15b78bf75a04c1ac0e64e70634772b2dca5c
(cherry picked from commit 68b79e2ceae37d66105e9911bfd9f61265900ef0)
(cherry picked from commit fcb40df7773b033c9d6c3d2b4d46cedc311bac87)
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/637565/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,5bfe7f335e3b450930923fbc86c834c66b557f01,bug/1816050-stable/queens,MANILA_SERVICE_VM_FLAVOR_RAM=${MANILA_SERVICE_VM_FLAVOR_RAM:-320} MANILA_SERVICE_VM_FLAVOR_DISK=${MANILA_SERVICE_VM_FLAVOR_DISK:-2},MANILA_SERVICE_VM_FLAVOR_RAM=${MANILA_SERVICE_VM_FLAVOR_RAM:-192} MANILA_SERVICE_VM_FLAVOR_DISK=${MANILA_SERVICE_VM_FLAVOR_DISK:-0},2,2
openstack%2Fproject-config~master~I96eb4e36b9e73c7faaccc505ffee343b56cb36ea,openstack/project-config,master,I96eb4e36b9e73c7faaccc505ffee343b56cb36ea,Use xenial for translation jobs,MERGED,2019-03-15 09:16:08.000000000,2019-03-15 14:30:08.000000000,2019-03-15 14:30:08.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 09:16:08.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/db20079a5d0f879d9d4463c200a64fe14d265c7b', 'message': 'Use xenial for translation jobs\n\nZanata-cli needs Java 8 and will fail with newer Java, Bionic uses Java 11\nThis fails Zanata up to version 4.6.2 (current release in March 2019).\n\nGo back to Xenial for now.\n\nChange-Id: I96eb4e36b9e73c7faaccc505ffee343b56cb36ea\n'}]",0,643539,db20079a5d0f879d9d4463c200a64fe14d265c7b,7,3,1,6547,,,0,"Use xenial for translation jobs

Zanata-cli needs Java 8 and will fail with newer Java, Bionic uses Java 11
This fails Zanata up to version 4.6.2 (current release in March 2019).

Go back to Xenial for now.

Change-Id: I96eb4e36b9e73c7faaccc505ffee343b56cb36ea
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/643539/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,db20079a5d0f879d9d4463c200a64fe14d265c7b,fix-zanata," # Zanata-cli needs Java 8 and will fail with newer Java, Bionic uses Java 11 # This fails Zanata up to version 4.6.2 (current release in March 2019). nodeset: ubuntu-xenial # Zanata-cli needs Java 8 and will fail with newer Java, Bionic uses Java 11 # This fails Zanata up to version 4.6.2 (current release in March 2019). nodeset: ubuntu-xenial",,6,0
openstack%2Ftripleo-quickstart-extras~master~Iacc5950c83b0b40095a6ce588354c516c31f58d0,openstack/tripleo-quickstart-extras,master,Iacc5950c83b0b40095a6ce588354c516c31f58d0,reproducer: fix install without virtualenv,ABANDONED,2018-07-13 14:20:11.000000000,2019-03-15 14:26:41.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-07-13 14:20:11.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/67c62df796d008ef4a27e6e74fe85320c8012e3e', 'message': 'reproducer: fix install without virtualenv\n\nFix bug which missed to install requirements\nwhen CREATE_VIRTUALENV=false.\n\nAdds --user to assure that installation will work\nwithout needing root access when not inside\na virtualenv (which can be activated by script\nor before running the script).\n\nChange-Id: Iacc5950c83b0b40095a6ce588354c516c31f58d0\n'}]",6,582599,67c62df796d008ef4a27e6e74fe85320c8012e3e,26,15,1,24162,,,0,"reproducer: fix install without virtualenv

Fix bug which missed to install requirements
when CREATE_VIRTUALENV=false.

Adds --user to assure that installation will work
without needing root access when not inside
a virtualenv (which can be activated by script
or before running the script).

Change-Id: Iacc5950c83b0b40095a6ce588354c516c31f58d0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/99/582599/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'],1,67c62df796d008ef4a27e6e74fe85320c8012e3e,fix/install-wo-venv,"# tell pip to use --user when not inside a virtualenv [[ ""${VIRTUAL_ENV:-}"" != """" ]] || export PIP_USER=yes pip install --upgrade setuptools pip pip install -Ur $WORKSPACE/tripleo-quickstart/requirements.txt", pip install --upgrade setuptools pip pip install -Ur $WORKSPACE/tripleo-quickstart/requirements.txt,4,2
openstack%2Fkeystone~master~I10e45f46085cd5575981cf32d81c2aa71f31d6c8,openstack/keystone,master,I10e45f46085cd5575981cf32d81c2aa71f31d6c8,trivial: fix broken link in trust API reference,MERGED,2019-03-13 19:46:14.000000000,2019-03-15 14:15:53.000000000,2019-03-15 14:15:52.000000000,"[{'_account_id': 8482}, {'_account_id': 17130}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-03-13 19:46:14.000000000', 'files': ['api-ref/source/v3-ext/trust.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1edb5c3bb48cfdee858fba9e9fe46060f93e0c45', 'message': 'trivial: fix broken link in trust API reference\n\nChange-Id: I10e45f46085cd5575981cf32d81c2aa71f31d6c8\n'}]",0,643148,1edb5c3bb48cfdee858fba9e9fe46060f93e0c45,10,6,1,5046,,,0,"trivial: fix broken link in trust API reference

Change-Id: I10e45f46085cd5575981cf32d81c2aa71f31d6c8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/643148/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/trust.inc'],1,1edb5c3bb48cfdee858fba9e9fe46060f93e0c45,,"For more information, see `Use trusts <https://docs.openstack.org/keystone/latest/user/trusts.html>`_. :language: javascript ","For more information, see `Use trusts <https://docs.openstack.org /keystone/latest/admin/identity-use-trusts.html>`_. :language: javascript",2,3
openstack%2Fplacement~master~I71d000804985aaf5f3a1c467974ac7f8d0250a98,openstack/placement,master,I71d000804985aaf5f3a1c467974ac7f8d0250a98,Docs: extract testing info to own sub-page,MERGED,2019-02-27 10:57:56.000000000,2019-03-15 14:15:49.000000000,2019-03-15 14:15:49.000000000,"[{'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 10:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ffb1e47aeda67568f34319473cbb65fe40e4323c', 'message': 'Docs: extract testing info to own sub-page\n\nIn preparation for extending the testing documentation to include\ninformation about more than just gabbi, including the tempest,\ngrenade and perload jobs, pull the content out to its own page.\n\nAs noted in a TODO within, making subpages show up is cumbersome\nfor the moment, but we can iterate to something swell.\n\nChange-Id: I71d000804985aaf5f3a1c467974ac7f8d0250a98\n'}, {'number': 2, 'created': '2019-02-28 09:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/527dd20347619cfa5a974315525521e0210e34bb', 'message': 'Docs: extract testing info to own sub-page\n\nIn preparation for extending the testing documentation to include\ninformation about more than just gabbi, including the tempest,\ngrenade and perload jobs, pull the content out to its own page.\n\nAs noted in a TODO within, making subpages show up is cumbersome\nfor the moment, but we can iterate to something swell.\n\nChange-Id: I71d000804985aaf5f3a1c467974ac7f8d0250a98\n'}, {'number': 3, 'created': '2019-03-04 16:41:54.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/531b68fb6a44cf41d310a5e17f86e56630000c65', 'message': 'Docs: extract testing info to own sub-page\n\nIn preparation for extending the testing documentation to include\ninformation about more than just gabbi, including the tempest,\ngrenade and perload jobs, pull the content out to its own page.\n\nAs noted in a TODO within, making subpages show up is cumbersome\nfor the moment, but we can iterate to something swell.\n\nChange-Id: I71d000804985aaf5f3a1c467974ac7f8d0250a98\n'}]",1,639628,531b68fb6a44cf41d310a5e17f86e56630000c65,12,4,3,11564,,,0,"Docs: extract testing info to own sub-page

In preparation for extending the testing documentation to include
information about more than just gabbi, including the tempest,
grenade and perload jobs, pull the content out to its own page.

As noted in a TODO within, making subpages show up is cumbersome
for the moment, but we can iterate to something swell.

Change-Id: I71d000804985aaf5f3a1c467974ac7f8d0250a98
",git fetch https://review.opendev.org/openstack/placement refs/changes/28/639628/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst']",3,ffb1e47aeda67568f34319473cbb65fe40e4323c,cd/test-doc-split,"Subpages ======== .. # TODO(cdent): What I really want here is to be able to have this list # in the info column that is to the left of the page on the docs theme. # Thus far there doesn't seem to be a way to do that, so this ugly way # provides a method for making sure the subpages are more discoverable. .. toctree:: :maxdepth: 1 api-ref-guideline goals quick-dev testing * Include functional gabbi tests as appropriate (see :doc:`testing`). At theTesting of handler code is described in :doc:`testing`.","* Include functional gabbi tests as appropriate (see `Using Gabbi`_). At theTesting of handler code is described in the next section. Testing ======= Most of the handler code in the placement API is tested using `gabbi`_. Some utility code is tested with unit tests found in `placement/tests/unit`. The back-end objects are tested with a combination of unit and functional tests found in ``placement/tests/unit/objects/test_resource_provider.py`` and `placement/tests/functional/db`. When writing tests for handler code (that is, the code found in ``placement/handlers``) a good rule of thumb is that if you feel like there needs to be a unit test for some of the code in the handler, that is a good sign that the piece of code should be extracted to a separate method. That method should be independent of the handler method itself (the one decorated by the ``wsgify`` method) and testable as a unit, without mocks if possible. If the extracted method is useful for multiple resources consider putting it in the ``util`` package. As a general guide, handler code should be relatively short and where there are conditionals and branching, they should be reachable via the gabbi functional tests. This is merely a design goal, not a strict constraint. Using Gabbi ----------- Gabbi was developed in the `telemetry`_ project to provide a declarative way to test HTTP APIs that preserves visibility of both the request and response of the HTTP interaction. Tests are written in YAML files where each file is an ordered suite of tests. Fixtures (such as a database) are set up and torn down at the beginning and end of each file, not each test. JSON response bodies can be evaluated with `JSONPath`_. The placement WSGI application is run via `wsgi-intercept`_, meaning that real HTTP requests are being made over a file handle that appears to Python to be a socket. In the placement API the YAML files (aka ""gabbits"") can be found in ``placement/tests/functional/gabbits``. Fixture definitions are in ``placement/tests/functional/fixtures/gabbits.py``. Tests are frequently grouped by handler name (e.g., ``resource-provider.yaml`` and ``inventory.yaml``). This is not a requirement and as we increase the number of tests it makes sense to have more YAML files with fewer tests, divided up by the arc of API interaction that they test. The gabbi tests are integrated into the functional tox target, loaded via ``placement/tests/functional/test_api.py``. If you want to run just the gabbi tests one way to do so is:: tox -efunctional test_api If you want to run just one yaml file (in this example ``inventory.yaml``):: tox -efunctional api.inventory It is also possible to run just one test from within one file. When you do this every test prior to the one you asked for will also be run. This is because the YAML represents a sequence of dependent requests. Select the test by using the name in the yaml file, replacing space with ``_``:: tox -efunctional api.inventory_post_new_ipv4_address_inventory .. note:: ``tox.ini`` in the placement repository is configured by a ``group_regex`` so that each gabbi YAML is considered a group. Thus, all tests in the file will be run in the same process when running stestr concurrently (the default). Writing More Gabbi Tests ------------------------ The docs for `gabbi`_ try to be complete and explain the `syntax`_ in some depth. Where something is missing or confusing, please log a `bug`_. While it is possible to test all aspects of a response (all the response headers, the status code, every attribute in a JSON structure) in one single test, doing so will likely make the test harder to read and will certainly make debugging more challenging. If there are multiple things that need to be asserted, making multiple requests is reasonable. Since database set up is only happening once per file (instead of once per test) and since there is no TCP overhead, the tests run quickly. While `fixtures`_ can be used to establish entities that are required for tests, creating those entities via the HTTP API results in tests which are more descriptive. For example the ``inventory.yaml`` file creates the resource provider to which it will then add inventory. This makes it easy to explore a sequence of interactions and a variety of responses with the tests: * create a resource provider * confirm it has empty inventory * add inventory to the resource provider (in a few different ways) * confirm the resource provider now has inventory * modify the inventory * delete the inventory * confirm the resource provider now has empty inventory Nothing special is required to add a new set of tests: create a YAML file with a unique name in the same directory as the others. The other files can provide examples. Gabbi can provide a useful way of doing test driven development of a new handler: create a YAML file that describes the desired URLs and behavior and write the code to make it pass. It's also possible to use gabbi against a running placement service, for example in devstack. See `gabbi-run`_ to get started. If you don't want to go to the trouble of using devstack, but do want a live server see :doc:`quick-dev`... _gabbi: https://gabbi.readthedocs.io/ .. _telemetry: http://specs.openstack.org/openstack/telemetry-specs/specs/kilo/declarative-http-tests.html .. _wsgi-intercept: http://wsgi-intercept.readthedocs.io/ .. _syntax: https://gabbi.readthedocs.io/en/latest/format.html .. _bug: https://github.com/cdent/gabbi/issues .. _fixtures: http://gabbi.readthedocs.io/en/latest/fixtures.html .. _JSONPath: http://goessner.net/articles/JsonPath/ .. _gabbi-run: http://gabbi.readthedocs.io/en/latest/runner.html",144,116
openstack%2Fnova~master~I36f641a7c281a7d8e168c507dae7109132bcefde,openstack/nova,master,I36f641a7c281a7d8e168c507dae7109132bcefde,add python 3.7 unit test job,MERGED,2018-10-15 18:19:51.000000000,2019-03-15 14:15:41.000000000,2019-03-15 14:15:41.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11805}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-15 18:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43bb436686b1387d055fb1dd52b95ef5642ce52f', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I36f641a7c281a7d8e168c507dae7109132bcefde\nStory: #2004073\nTask: #27433\n""}, {'number': 2, 'created': '2019-02-14 10:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eb4bf6dceedb06c5b7ae19e1c0854240514a689', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I36f641a7c281a7d8e168c507dae7109132bcefde\nStory: #2004073\nTask: #27433\n""}, {'number': 3, 'created': '2019-02-15 19:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab0415519fa5c66550c0554f888e16e636789858', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I36f641a7c281a7d8e168c507dae7109132bcefde\nStory: #2004073\nTask: #27433\n'}, {'number': 4, 'created': '2019-03-13 14:36:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/21357c76baf8915aab3a688910b5ca0b0a1cd9b7', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I36f641a7c281a7d8e168c507dae7109132bcefde\nStory: #2004073\nTask: #27433\n'}]",1,610694,21357c76baf8915aab3a688910b5ca0b0a1cd9b7,63,20,4,11805,,,0,"add python 3.7 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.7.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I36f641a7c281a7d8e168c507dae7109132bcefde
Story: #2004073
Task: #27433
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/610694/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,43bb436686b1387d055fb1dd52b95ef5642ce52f,py37-job, - openstack-python37-jobs, - openstack-python35-jobs,1,1
openstack%2Ftripleo-heat-templates~master~Iab8f1324e65c97869c9124ada8202c8b0d90339c,openstack/tripleo-heat-templates,master,Iab8f1324e65c97869c9124ada8202c8b0d90339c,Fix NovaHWMachineType to be compatible with fedora,ABANDONED,2019-03-11 13:38:02.000000000,2019-03-15 13:58:51.000000000,,"[{'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-03-11 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee43a8662b09615679a90f67e3f60691eaf23f76', 'message': 'Fix NovaHWMachineType to be compatible with fedora\n\nWe need to be sure that there default values is supported by both\nCentOS 7+ and Fedora 28+.\n\nChange-Id: Iab8f1324e65c97869c9124ada8202c8b0d90339c\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1819452\n'}, {'number': 2, 'created': '2019-03-12 17:39:55.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7c84271bcee6ff2f7f3326ee198b92db515d9d3', 'message': 'Fix NovaHWMachineType to be compatible with fedora\n\nWe need to be sure that there default values is supported by both\nCentOS 7+ and Fedora 28+.\n\nChange-Id: Iab8f1324e65c97869c9124ada8202c8b0d90339c\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1819452\n'}]",3,642443,e7c84271bcee6ff2f7f3326ee198b92db515d9d3,20,11,2,24162,,,0,"Fix NovaHWMachineType to be compatible with fedora

We need to be sure that there default values is supported by both
CentOS 7+ and Fedora 28+.

Change-Id: Iab8f1324e65c97869c9124ada8202c8b0d90339c
Closes-Bug: https://bugs.launchpad.net/tripleo/+bug/1819452
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/642443/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,ee43a8662b09615679a90f67e3f60691eaf23f76,nova-arch," default: 'x86_64=pc,aarch64=virt-rhel7.6.0,ppc64=pseries-rhel7.6.0,ppc64le=pseries-rhel7.6.0'"," default: 'x86_64=pc-i440fx-rhel7.6.0,aarch64=virt-rhel7.6.0,ppc64=pseries-rhel7.6.0,ppc64le=pseries-rhel7.6.0'",1,1
openstack%2Fplacement~master~Ib928162702a54f000161367c90172c730cb632c7,openstack/placement,master,Ib928162702a54f000161367c90172c730cb632c7,Extract user and endpoint creation install doc,MERGED,2019-03-14 15:14:26.000000000,2019-03-15 13:42:39.000000000,2019-03-15 13:42:39.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 15:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5ab31a114e1423ab6b01989f76925820116983de', 'message': 'Extract user and endpoint creation install doc\n\nThe placement user and service catalog endpoint creation information\nin the three different distro docs is very nearly exactly the same\nso it has been extracted to a file which is included by all three.\nThis file can then be reused elsewhere as well, such as planned\n""from-pypi"" install docs (for which there exists a stub).\n\nThe only difference in the three versions was the URL used for\nthe endpoint(s) which already required some cooking to work in\nany environment. A note has been added to point out the installar\'s\nresponsibilities in this case.\n\nSubsubheadings are introduced in the surrounding document so that\nthe numbered list is considered two separate lists. Otherwise the\noutput ends up looking like a single list with two initial number\none items.\n\nChange-Id: Ib928162702a54f000161367c90172c730cb632c7\n'}, {'number': 2, 'created': '2019-03-14 19:18:58.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/endpoints.rst', 'doc/source/install/controller-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/fbf9510907454ef99cfc3c6163fe7ece02cd003f', 'message': 'Extract user and endpoint creation install doc\n\nThe placement user and service catalog endpoint creation information\nin the three different distro docs is very nearly exactly the same\nso it has been extracted to a file which is included by all three.\nThis file can then be reused elsewhere as well, such as planned\n""from-pypi"" install docs (for which there exists a stub).\n\nThe only difference in the three versions was the URL used for\nthe endpoint(s) which already required some cooking to work in\nany environment. A note has been added to point out the installar\'s\nresponsibilities in this case.\n\nSubsubheadings are introduced in the surrounding document so that\nthe numbered list is considered two separate lists. Otherwise the\noutput ends up looking like a single list with two initial number\none items.\n\nChange-Id: Ib928162702a54f000161367c90172c730cb632c7\n'}]",5,643363,fbf9510907454ef99cfc3c6163fe7ece02cd003f,12,5,2,11564,,,0,"Extract user and endpoint creation install doc

The placement user and service catalog endpoint creation information
in the three different distro docs is very nearly exactly the same
so it has been extracted to a file which is included by all three.
This file can then be reused elsewhere as well, such as planned
""from-pypi"" install docs (for which there exists a stub).

The only difference in the three versions was the URL used for
the endpoint(s) which already required some cooking to work in
any environment. A note has been added to point out the installar's
responsibilities in this case.

Subsubheadings are introduced in the surrounding document so that
the numbered list is considered two separate lists. Otherwise the
output ends up looking like a single list with two initial number
one items.

Change-Id: Ib928162702a54f000161367c90172c730cb632c7
",git fetch https://review.opendev.org/openstack/placement refs/changes/63/643363/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/endpoints.rst']",4,5ab31a114e1423ab6b01989f76925820116983de,cd/install-docs," #. Source the ``admin`` credentials to gain access to admin-only CLI commands: .. code-block:: console $ . admin-openrc #. Create a Placement service user using your chosen ``PLACEMENT_PASS``: .. code-block:: console $ openstack user create --domain default --password-prompt placement User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | fa742015a6494a949f67629884fc7ec8 | | name | placement | | options | {} | | password_expires_at | None | +---------------------+----------------------------------+ #. Add the Placement user to the service project with the admin role: .. code-block:: console $ openstack role add --project service --user placement admin .. note:: This command provides no output. #. Create the Placement API entry in the service catalog: .. code-block:: console $ openstack service create --name placement \ --description ""Placement API"" placement +-------------+----------------------------------+ | Field | Value | +-------------+----------------------------------+ | description | Placement API | | enabled | True | | id | 2d1a27022e6e4185b86adac4444c495f | | name | placement | | type | placement | +-------------+----------------------------------+ #. Create the Placement API service endpoints: .. note:: Depending on your environment, the URL for the endpoint will vary by port (possibly 8780 instead of 8778, or no port at all) and hostname. You are responsible for determining the correct URL. .. code-block:: console $ openstack endpoint create --region RegionOne \ placement public http://controller:8778 +--------------+----------------------------------+ | Field | Value | +--------------+----------------------------------+ | enabled | True | | id | 2b1b2637908b4137a9c2e0470487cbc0 | | interface | public | | region | RegionOne | | region_id | RegionOne | | service_id | 2d1a27022e6e4185b86adac4444c495f | | service_name | placement | | service_type | placement | | url | http://controller:8778 | +--------------+----------------------------------+ $ openstack endpoint create --region RegionOne \ placement internal http://controller:8778 +--------------+----------------------------------+ | Field | Value | +--------------+----------------------------------+ | enabled | True | | id | 02bcda9a150a4bd7993ff4879df971ab | | interface | internal | | region | RegionOne | | region_id | RegionOne | | service_id | 2d1a27022e6e4185b86adac4444c495f | | service_name | placement | | service_type | placement | | url | http://controller:8778 | +--------------+----------------------------------+ $ openstack endpoint create --region RegionOne \ placement admin http://controller:8778 +--------------+----------------------------------+ | Field | Value | +--------------+----------------------------------+ | enabled | True | | id | 3d71177b9e0f406f98cbff198d74b182 | | interface | admin | | region | RegionOne | | region_id | RegionOne | | service_id | 2d1a27022e6e4185b86adac4444c495f | | service_name | placement | | service_type | placement | | url | http://controller:8778 | +--------------+----------------------------------+ ",,129,315
openstack%2Fplacement~master~Iea846e5b69a7abc38c7db922183f6d5b1db948fb,openstack/placement,master,Iea846e5b69a7abc38c7db922183f6d5b1db948fb,Remove NAME in placement/deploy.py,MERGED,2019-03-12 12:49:19.000000000,2019-03-15 13:42:38.000000000,2019-03-15 13:42:38.000000000,"[{'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-12 12:49:19.000000000', 'files': ['placement/deploy.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/3414f384137128da7df243c5544e1b544b1d28c1', 'message': ""Remove NAME in placement/deploy.py\n\nIt hasn't been used in a long time, and was pointing to 'nova'\nso may as well get rid of it.\n\nChange-Id: Iea846e5b69a7abc38c7db922183f6d5b1db948fb\n""}]",1,642739,3414f384137128da7df243c5544e1b544b1d28c1,10,5,1,11564,,,0,"Remove NAME in placement/deploy.py

It hasn't been used in a long time, and was pointing to 'nova'
so may as well get rid of it.

Change-Id: Iea846e5b69a7abc38c7db922183f6d5b1db948fb
",git fetch https://review.opendev.org/openstack/placement refs/changes/39/642739/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/deploy.py'],1,3414f384137128da7df243c5544e1b544b1d28c1,,"def loadapp(config, project_name=None):","# TODO(cdent): NAME points to the config project being used, so for # now this is ""nova"" but we probably want ""placement"" eventually. NAME = ""nova"" def loadapp(config, project_name=NAME):",1,6
openstack%2Fopenstack-helm~master~I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef,openstack/openstack-helm,master,I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef,Spec: Support OCI image registry with authentication turned on,MERGED,2019-02-11 21:21:53.000000000,2019-03-15 13:41:49.000000000,2019-03-15 13:41:49.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28208}, {'_account_id': 28435}]","[{'number': 1, 'created': '2019-02-11 21:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed7064fcbab84c6a976e7c334769b9615ec4b32f', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 2, 'created': '2019-02-11 22:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc2dbe3f382660df8f6d3a7131f6532ec5756a38', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 3, 'created': '2019-02-11 22:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba994ba2f056d680bef168131f71e81a910da53b', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 4, 'created': '2019-02-27 14:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99f1cf27eaed65f0875f61f4ff0be37e3ff94f48', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 5, 'created': '2019-03-01 16:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba010d9b7b2d0b1967582050c38623bcdc146f72', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 6, 'created': '2019-03-05 14:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3c5875cde1874650946947558052ad4e151e74d3', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 7, 'created': '2019-03-06 06:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b612bc98d6d6a8ecf0ba5015edbd249fecbba44b', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 8, 'created': '2019-03-06 15:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83b5ac5a9acdb381b659c5ad79d380b0184dbdd7', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 9, 'created': '2019-03-06 16:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dfdeed819a3ba4a01e596879795931c196149728', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 10, 'created': '2019-03-06 23:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/adb2b5bb3ed894f55307483a6dfe6673c5faad4b', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 11, 'created': '2019-03-11 20:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2663ee78ff487e2d585aa548ed29edd443d984ee', 'message': 'Spec: Support docker registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with docker registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-docker-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 12, 'created': '2019-03-12 21:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47b23b1587876f268b6b347d6b692e7cb2a6a535', 'message': 'Spec: Support OCI image registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with OCI image registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-oci-image-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 13, 'created': '2019-03-15 13:19:47.000000000', 'files': ['doc/source/specs/support-OCI-image-registry-with-authentication-turned-on.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/75f3083d240c6ef80486b96e5dad4cfbe0230170', 'message': 'Spec: Support OCI image registry with authentication turned on\n\nThis specification proposes support for deploying openstack services\nusing OSH with OCI image registry which has authentication turned on.\n\nChange-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef\nImplements: blueprint support-oci-image-registry-with-authentication-turned-on\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}]",11,636223,75f3083d240c6ef80486b96e5dad4cfbe0230170,44,7,13,28435,,,0,"Spec: Support OCI image registry with authentication turned on

This specification proposes support for deploying openstack services
using OSH with OCI image registry which has authentication turned on.

Change-Id: I26e34a5a39c06e9d481af58c15fb930d3fe9b1ef
Implements: blueprint support-oci-image-registry-with-authentication-turned-on
Signed-off-by: Angie Wang <angie.wang@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/636223/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/support-docker-registry-with-authentication-turned-on.rst']",2,ed7064fcbab84c6a976e7c334769b9615ec4b32f,bp/support-oci-image-registry-with-authentication-turned-on,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ===================================================== Support docker registry with authentication turned on ===================================================== Blueprint: support-docker-registry-with-authentication-turned-on_ .. _support-docker-registry-with-authentication-turned-on: https://blueprints.launchpad.net/openstack-helm/+spec/support-docker-registry-with-authentication-turned-on Problem Description =================== In the current openstack-helm, all charts provide an ``images:`` section in their ``values.yaml`` that have the docker images references. By default, the docker images are all downloaded from a registry hosted by Docker or Quay. However, the image references can be overridden by operators to download images from any docker registry. In the case that the docker registry has authentication turned on, kubelet would fail to download the images because the current Openstack-Helm does not provide a way to pass docker registry credentials to kubernetes when pulling images. Use case ======== Operators should be able to use Openstack-Helm to deploy containerized openstack services with a docker registry has authentication turned on. Proposed Change =============== To be able to pull images from a docker registry which has the authentication turned on, kubernetes needs credentials. For each chart, a new section should be added in ``values.yaml`` to provide image credentials, a secret needs to be generated to hold the credentials and the ``imagePullSecrets:`` field should be added in each service account to specify which secret should be used to get the credentials from when pulling images by kubelet. The detailed proposes change are described as following: 1. For each chart, add a new section ``registry_auth:`` under ``images:`` in ``values.yaml`` which contains the ``imageCredentials:`` (registry, username, password) for accessing images and an option ``enabled:`` to determine whether images authentication is required or not. Also add a new component ``secret_registry`` in ``manifests:`` section to create the secret that holds the provided credentials. For example: .. code-block:: yaml images: ... registry_auth: enabled: false imageCredentials: registry: dockerServer username: dockerUsername password: dockerPassword manifests: secret_registry: true The option ``enabled:`` and the manifest ``secret_registry:`` provide the ability for operator to determine whether they would like to have secrets generated and passed to kubernetes for pulling images. The ``imageCredentials:`` section allows operators to override the default credentials. The secret would not be created with the default option ``enabled: false`` and ``secret_registry: true``. To enable secret creation, operator should override ``enabled:`` to true. The above example shows the default credentials, operator should override the ``imageCredentials:`` section to provide their own credentials. Then, add manifest ``secret-registry.yaml`` in ``templates/`` to leverage the function that will be added in helm-toolkit to create the secret. For example: .. code-block:: yaml {{- if and .Values.manifests.secret_registry .Values.images.registry_auth.enabled }} {{- $envAll := . }} {{ tuple $envAll .Chart.Name | include ""helm-toolkit.manifests.registry_secret"" }} {{- end }} 2. Add a helm-toolkit function ``helm-toolkit.manifests.secret_registry`` to create a manifest for secret generation. For example: .. code-block:: {{- $envAll := index . 0 -}} {{- $chartName := index . 1 -}} {{- $imageCredentials := index $envAll.Values.images.registry_auth ""imageCredentials"" }} {{- $dockerAuthToken := printf ""%s:%s"" $imageCredentials.username $imageCredentials.password | b64enc }} {{- $dockerAuth := printf ""{\""auths\"": {\""%s\"": {\""auth\"": \""%s\""}}}"" $imageCredentials.registry $dockerAuthToken | b64enc }} --- apiVersion: v1 kind: Secret metadata: name: {{ printf ""%s-%s"" $chartName ""image-key"" | quote }} type: kubernetes.io/dockerconfigjson data: .dockerconfigjson: {{ $dockerAuth }} {{- end }} 3. Reference the created secret by adding the ``imagePullSecrets:`` field to ServiceAccount resource template in ``helm-toolkit/snippets/_kubernetes_pod_rbac_serviceaccount.tpl``. To handle it as optional, the field is wrapped in a conditional. For example, .. code-block:: yaml --- apiVersion: v1 kind: ServiceAccount ... {{- if $envAll.Values.images.registry_auth.enabled }} imagePullSecrets: - name: {{ printf ""%s-%s"" $envAll.Chart.Name ""image-key"" }} {{- end }} If .Values.images.registry_auth.enabled will be set to true, then any containers created with the current service account will have the ``imagePullSecrets`` automatically added to their spec and the secret will be passed to kubelet to be used for pulling images. Security Impact --------------- The credentials for the registry could be exposed by running the kubectl command: kubectl get secret <secret-name> --output=""jsonpath={.data.\.dockerconfigjson}"" | base64 --decode Authentication should be enabled for normal users to access Kube API server via either kubectl command or kube REST API call. Performance Impact ------------------ No performance impact Alternatives ------------ Before using Openstack-Helm to deploy openstack services, 1. Put .docker/config.json in docker/kubelet root directory on all nodes 2. Pre-pulling images on all nodes But above alternatives have limitations and security impact. i.e...require root access to configure on all nodes, all pods can read any configured private registries, all pods can use any images cached on a node Implementation ============== Assignee(s) ----------- Primary assignees: * Angie Wang (angiewang) Work Items ---------- #. Provide the credentials and add the manifest across all charts in OSH and OSH-infra #. Update helm-toolkit to provide manifest to create secret for registry authentication #. Update helm-toolkit serviceaccount template to pass the secret in a conditional Testing ======= None Documentation Impact ==================== Documentation of how to enable the registry secret generation References ========== .. [1] https://kubernetes.io/docs/concepts/containers/images/ .. [2] https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#add-imagepullsecrets-to-a-service-account",,186,0
openstack%2Fkolla~master~Ic797d41f53a5f146d112619f1683cbfbf3a85dc2,openstack/kolla,master,Ic797d41f53a5f146d112619f1683cbfbf3a85dc2,Fix lower-constraints and kolla CI jobs,MERGED,2019-03-14 12:09:29.000000000,2019-03-15 13:19:29.000000000,2019-03-15 13:19:29.000000000,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-03-14 12:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cc77b1d2e697b25bbfcdbf03a87fecdfe320952e', 'message': ""Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 2, 'created': '2019-03-14 12:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/395ec349d85d10556b07a9405c04a37ae444070b', 'message': ""Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 3, 'created': '2019-03-14 15:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/222f56e9003f9e4501185afb1be8860caebbc856', 'message': ""Fix lower-constraints and kolla-build-ubuntu-binary jobs\n\nMultiple fixes to fix multiple problems.\n\n1. Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\n2. ubuntu-binary horizon image needs to use python3 for django\nmanage.py\n\n3. ubuntu-binary nova-placement-api image needs to use python3 for\napache mod wsgi.\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 4, 'created': '2019-03-14 18:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f895864735124cd380e82a3dc8ed2387b3f18fc', 'message': ""Fix lower-constraints and kolla-build-ubuntu-binary jobs\n\nMultiple fixes to fix multiple problems.\n\n1. Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\n2. ubuntu-binary horizon image needs to use python3 for django\nmanage.py\n\n3. ubuntu-binary nova-placement-api image needs to use python3 for\napache mod wsgi.\n\n4. nova-libvirt needs exact qemu dependencies due to packaging change\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 5, 'created': '2019-03-14 20:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc19f0391855ab4347c0c00fa3d6408626e3bfe4', 'message': ""Fix lower-constraints and kolla-build-ubuntu-binary jobs\n\nMultiple fixes to fix multiple problems.\n\n1. Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\n2. ubuntu-binary horizon image needs to use python3 for django\nmanage.py\n\n3. ubuntu-binary nova-placement-api image needs to use python3 for\napache mod wsgi.\n\n4. nova-libvirt needs exact qemu dependencies due to packaging change\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 6, 'created': '2019-03-15 06:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/079926a7b8f6c02fde02e8427cbbc7cba5f9760a', 'message': ""Fix lower-constraints and kolla CI jobs\n\nMultiple fixes to fix multiple problems.\n\n1. Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\n2. ubuntu-binary horizon image needs to use python3 for django\nmanage.py\n\n3. ubuntu-binary nova-placement-api image needs to use python3 for\napache mod wsgi.\n\n4. nova-libvirt needs exact qemu dependencies due to packaging change\n\n5. OracleLinux repos definition was changed in official image.\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 7, 'created': '2019-03-15 10:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/99908b86ccd1d880658f24c1187423c18bd5333d', 'message': ""Fix lower-constraints and kolla CI jobs\n\nMultiple fixes to fix multiple problems.\n\n1. Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\n2. ubuntu-binary horizon image needs to use python3 for django\nmanage.py\n\n3. ubuntu-binary nova-placement-api image needs to use python3 for\napache mod wsgi.\n\n4. nova-libvirt needs exact qemu dependencies due to packaging change\n\n5. OracleLinux repos definition was changed in official image.\n\n6. Dropped InfluxDB gpg key from Ubuntu base image (key dropped from\nkeyserver).\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}, {'number': 8, 'created': '2019-03-15 11:01:28.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'requirements.txt', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/nova/nova-placement-api/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'lower-constraints.txt', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cdcd5610e95a8188d3e66f93e098838fe91a5a97', 'message': ""Fix lower-constraints and kolla CI jobs\n\nMultiple fixes to fix multiple problems.\n\n1. Bump setuptools requirement to 21.0.0\n\nThe 16.0.0 requirement breaks the lower-constraints job on Ubuntu\nbionic. We see the following error:\n\nAttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'\n\n2. ubuntu-binary horizon image needs to use python3 for django\nmanage.py\n\n3. ubuntu-binary nova-placement-api image needs to use python3 for\napache mod wsgi.\n\n4. nova-libvirt needs exact qemu dependencies due to packaging change\n\n5. OracleLinux repos definition was changed in official image.\n\n6. Fetch InfluxDB gpg key for Ubuntu base image from influx server.\n\nChange-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2\n""}]",2,643308,cdcd5610e95a8188d3e66f93e098838fe91a5a97,48,8,8,14826,,,0,"Fix lower-constraints and kolla CI jobs

Multiple fixes to fix multiple problems.

1. Bump setuptools requirement to 21.0.0

The 16.0.0 requirement breaks the lower-constraints job on Ubuntu
bionic. We see the following error:

AttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'

2. ubuntu-binary horizon image needs to use python3 for django
manage.py

3. ubuntu-binary nova-placement-api image needs to use python3 for
apache mod wsgi.

4. nova-libvirt needs exact qemu dependencies due to packaging change

5. OracleLinux repos definition was changed in official image.

6. Fetch InfluxDB gpg key for Ubuntu base image from influx server.

Change-Id: Ic797d41f53a5f146d112619f1683cbfbf3a85dc2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/643308/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,cc77b1d2e697b25bbfcdbf03a87fecdfe320952e,643308,setuptools==21.0.0,setuptools==16.0,2,2
openstack%2Ftripleo-heat-templates~master~I903916c37bb4310cc0eb817b4e9dcd2b59904e70,openstack/tripleo-heat-templates,master,I903916c37bb4310cc0eb817b4e9dcd2b59904e70,DNM: CI test,ABANDONED,2018-08-01 13:18:07.000000000,2019-03-15 13:16:18.000000000,,"[{'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 8873}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-01 13:18:07.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario011-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c8d31a7c2746e8eddb8acdee474edf03c63c63e', 'message': 'DNM: CI test\n\nChange-Id: I903916c37bb4310cc0eb817b4e9dcd2b59904e70\n'}]",0,587819,7c8d31a7c2746e8eddb8acdee474edf03c63c63e,8,6,1,23804,,,0,"DNM: CI test

Change-Id: I903916c37bb4310cc0eb817b4e9dcd2b59904e70
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/587819/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario011-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",7,7c8d31a7c2746e8eddb8acdee474edf03c63c63e,ovn-testing," OS::TripleO::Docker::NeutronMl2PluginBase: ../../puppet/services/neutron-plugin-ml2-ovn.yaml OS::TripleO::Services::OVNController: ../../docker/services/ovn-controller.yaml OS::TripleO::Services::OVNDBs: ../../docker/services/ovn-dbs.yaml OS::TripleO::Services::OVNMetadataAgent: ../../docker/services/ovn-metadata.yaml - OS::TripleO::Services::OVNDBs - OS::TripleO::Services::OVNController - OS::TripleO::Services::OVNMetadataAgent # For OVN. NeutronMechanismDrivers: ovn OVNVifType: ovs OVNNeutronSyncMode: log OVNQosDriver: ovn-qos OVNTunnelEncapType: geneve NeutronEnableDHCPAgent: false NeutronTypeDrivers: 'geneve,vlan,flat,vxlan' NeutronNetworkType: 'geneve' NeutronServicePlugins: 'qos,networking_ovn.l3.l3_ovn.OVNL3RouterPlugin' NeutronVniRanges: ['1:65536', ] OVNBridgeMappings: 'datacentre:br-ex'", - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronOvsAgent,139,28
openstack%2Fcookbook-openstack-identity~stable%2Fqueens~I848b3fd923fface842578ae614c2d9b1e14a0892,openstack/cookbook-openstack-identity,stable/queens,I848b3fd923fface842578ae614c2d9b1e14a0892,Fix apache2 version cap,MERGED,2019-03-11 15:26:29.000000000,2019-03-15 13:02:28.000000000,2019-03-15 13:02:28.000000000,"[{'_account_id': 11915}, {'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 15:26:29.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/b4683fe828beb75e8c4d983194692e1073e7f873', 'message': ""Fix apache2 version cap\n\nTurns out that the chef server thinks that '6' is an invalid version,\nneed to use '6.0' instead, otherwise uploading the cookbook to a chef\nserver fails.\n\nChange-Id: I848b3fd923fface842578ae614c2d9b1e14a0892\n""}]",0,642494,b4683fe828beb75e8c4d983194692e1073e7f873,13,4,1,13252,,,0,"Fix apache2 version cap

Turns out that the chef server thinks that '6' is an invalid version,
need to use '6.0' instead, otherwise uploading the cookbook to a chef
server fails.

Change-Id: I848b3fd923fface842578ae614c2d9b1e14a0892
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/94/642494/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,b4683fe828beb75e8c4d983194692e1073e7f873,fix-apache-cap,"depends 'apache2', '< 6.0'","depends 'apache2', '< 6'",1,1
openstack%2Fironic-inspector~master~I6446e167b957b94bc9bb7f6737bcf57e94a4433a,openstack/ironic-inspector,master,I6446e167b957b94bc9bb7f6737bcf57e94a4433a,Removing two deprecated values from json responses,MERGED,2019-03-14 14:24:21.000000000,2019-03-15 12:58:12.000000000,2019-03-15 12:58:12.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-03-14 14:24:21.000000000', 'files': ['api-ref/source/samples/api-v1-data-introspection-response.json', 'api-ref/source/samples/api-v1-continue-request.json'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d9f2f4f894948bfa5ead2e8b4ce2fa5244477ee5', 'message': 'Removing two deprecated values from json responses\n\nThis patch removes two reserved fields, ``switch_port_descr`` and\n``switch_chassis_descr``, from the json request and response\nexamples in api-ref, that were still present despite having been\nremoved from the ironic-python-agent code base during\nocata cycle[0].\n\n[0]https://github.com/openstack/ironic-python-agent/commit/73f316d804abff4cfbe45bf01aa4c81c2450ff2f#diff-664ce09492251bb45bf8a2fb7c1a5f18\n\nChange-Id: I6446e167b957b94bc9bb7f6737bcf57e94a4433a\n'}]",0,643350,d9f2f4f894948bfa5ead2e8b4ce2fa5244477ee5,7,3,1,23851,,,0,"Removing two deprecated values from json responses

This patch removes two reserved fields, ``switch_port_descr`` and
``switch_chassis_descr``, from the json request and response
examples in api-ref, that were still present despite having been
removed from the ironic-python-agent code base during
ocata cycle[0].

[0]https://github.com/openstack/ironic-python-agent/commit/73f316d804abff4cfbe45bf01aa4c81c2450ff2f#diff-664ce09492251bb45bf8a2fb7c1a5f18

Change-Id: I6446e167b957b94bc9bb7f6737bcf57e94a4433a
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/50/643350/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/api-v1-data-introspection-response.json', 'api-ref/source/samples/api-v1-continue-request.json']",2,d9f2f4f894948bfa5ead2e8b4ce2fa5244477ee5,remove-switch-descr,," ""switch_port_descr"": null, ""switch_chassis_descr"": null, ""switch_port_descr"": null, ""switch_chassis_descr"": null,",0,8
openstack%2Ftripleo-ci~master~Ia81afbef82a87641409e2ae4e000c6f0500e3855,openstack/tripleo-ci,master,Ia81afbef82a87641409e2ae4e000c6f0500e3855,Make tripleo-ci-centos-7-standalone-os-tempest job to voting,MERGED,2019-03-13 05:28:57.000000000,2019-03-15 12:50:07.000000000,2019-03-15 12:50:07.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-03-13 05:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c2213b02b865cef006ecb2d7615a18f3bf8053c', 'message': ""Make tripleo-ci-centos-7-standalone-os-tempest job to voting\n\nhttps://review.openstack.org/634380-> ru-use the skip list from\nvalidate-tempest role in os_tempest job is working fine. It's time\nto make the job voting so that we can move other standalone jobs\nto os_tempest soon.\n\nChange-Id: Ia81afbef82a87641409e2ae4e000c6f0500e3855\n""}, {'number': 2, 'created': '2019-03-13 11:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0d27548edc6a3791e5400a38f252ea16274670be', 'message': ""Make tripleo-ci-centos-7-standalone-os-tempest job to voting\n\nhttps://review.openstack.org/634380-> ru-use the skip list from\nvalidate-tempest role in os_tempest job is working fine[1]. It's\ntime to make the job voting so that we can move other standalone\njobs to os_tempest soon.\n\nIt will run under tripleo-multinode-container-full job template.\n\n[1] http://zuul.openstack.org/builds?job_name=\ntripleo-ci-centos-7-standalone-os-tempest\n\nChange-Id: Ia81afbef82a87641409e2ae4e000c6f0500e3855\n""}, {'number': 3, 'created': '2019-03-14 17:42:28.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c90c4b02f692cef86a67af4c95b1a4a49a625881', 'message': ""Make tripleo-ci-centos-7-standalone-os-tempest job to voting\n\nhttps://review.openstack.org/634380-> ru-use the skip list from\nvalidate-tempest role in os_tempest job is working fine[1]. It's\ntime to make the job voting so that we can move other standalone\njobs to os_tempest soon.\n\nIt will run under tripleo-multinode-container-full job template.\n\n[1] http://zuul.openstack.org/builds?job_name=\ntripleo-ci-centos-7-standalone-os-tempest\n\nChange-Id: Ia81afbef82a87641409e2ae4e000c6f0500e3855\n""}]",2,642948,c90c4b02f692cef86a67af4c95b1a4a49a625881,30,10,3,12393,,,0,"Make tripleo-ci-centos-7-standalone-os-tempest job to voting

https://review.openstack.org/634380-> ru-use the skip list from
validate-tempest role in os_tempest job is working fine[1]. It's
time to make the job voting so that we can move other standalone
jobs to os_tempest soon.

It will run under tripleo-multinode-container-full job template.

[1] http://zuul.openstack.org/builds?job_name=
tripleo-ci-centos-7-standalone-os-tempest

Change-Id: Ia81afbef82a87641409e2ae4e000c6f0500e3855
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/642948/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,7c2213b02b865cef006ecb2d7615a18f3bf8053c,os_tempest,, voting: false,0,1
openstack%2Frpm-packaging~master~If5311bcfb0a2bbbf16a0047a2f4a47b60394b87f,openstack/rpm-packaging,master,If5311bcfb0a2bbbf16a0047a2f4a47b60394b87f,Update neutron to 14.0.0.0b3,MERGED,2019-03-14 09:20:01.000000000,2019-03-15 12:47:20.000000000,2019-03-15 12:47:20.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-14 09:20:01.000000000', 'files': ['openstack/neutron/neutron.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c160d3999c0b52a0b5ee37e2f63c4f97608a0d0e', 'message': 'Update neutron to 14.0.0.0b3\n\nChange-Id: If5311bcfb0a2bbbf16a0047a2f4a47b60394b87f\n'}]",0,643253,c160d3999c0b52a0b5ee37e2f63c4f97608a0d0e,9,5,1,8482,,,0,"Update neutron to 14.0.0.0b3

Change-Id: If5311bcfb0a2bbbf16a0047a2f4a47b60394b87f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/643253/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/neutron.spec.j2'],1,c160d3999c0b52a0b5ee37e2f63c4f97608a0d0e,neutron,{% set upstream_version = '14.0.0.0b3' %},{% set upstream_version = '14.0.0.0b2' %},1,1
openstack%2Ftripleo-quickstart~master~Ida2b8bd7e1d504bfe952b50e474ed247363e632f,openstack/tripleo-quickstart,master,Ida2b8bd7e1d504bfe952b50e474ed247363e632f,avoid ignore_errors on Check for processes owned by non-root user,ABANDONED,2018-05-30 11:50:48.000000000,2019-03-15 12:46:45.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 18851}, {'_account_id': 20936}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24752}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-30 11:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/46cb4eef6670193d532622b5eb1703d8b64e0c6a', 'message': 'avoid ignore_errors on Check for processes owned by non-root user\n\nAvoids triggering ansible debugger and reporting\na task as failed when finding no process is\nan expected outcome, not a failure.\n\nChange-Id: Ida2b8bd7e1d504bfe952b50e474ed247363e632f\n'}, {'number': 2, 'created': '2018-08-24 06:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/abeceb61c3cb5b090dbfd1d61c513a6d1102813a', 'message': 'avoid ignore_errors on Check for processes owned by non-root user\n\nAvoids triggering ansible debugger and reporting\na task as failed when finding no process is\nan expected outcome, not a failure.\n\nChange-Id: Ida2b8bd7e1d504bfe952b50e474ed247363e632f\n'}, {'number': 3, 'created': '2018-08-28 07:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/be6f356c9b9e9fc00db3ab83f54d813ef120a2b1', 'message': 'avoid ignore_errors on Check for processes owned by non-root user\n\nAvoids triggering ansible debugger and reporting\na task as failed when finding no process is\nan expected outcome, not a failure.\n\nChange-Id: Ida2b8bd7e1d504bfe952b50e474ed247363e632f\n'}, {'number': 4, 'created': '2018-09-04 08:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a6e08441b80d90d3b64047cb5391855f7e88edd9', 'message': 'avoid ignore_errors on Check for processes owned by non-root user\n\nAvoids triggering ansible debugger and reporting\na task as failed when finding no process is\nan expected outcome, not a failure.\n\nChange-Id: Ida2b8bd7e1d504bfe952b50e474ed247363e632f\n'}, {'number': 5, 'created': '2019-01-07 14:43:58.000000000', 'files': ['roles/provision/teardown/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9d86585120e68811153f9f2c57e1dcc46a47007c', 'message': 'avoid ignore_errors on Check for processes owned by non-root user\n\nAvoids triggering ansible debugger and reporting\na task as failed when finding no process is\nan expected outcome, not a failure.\n\nChange-Id: Ida2b8bd7e1d504bfe952b50e474ed247363e632f\n'}]",5,571176,9d86585120e68811153f9f2c57e1dcc46a47007c,34,16,5,24162,,,0,"avoid ignore_errors on Check for processes owned by non-root user

Avoids triggering ansible debugger and reporting
a task as failed when finding no process is
an expected outcome, not a failure.

Change-Id: Ida2b8bd7e1d504bfe952b50e474ed247363e632f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/76/571176/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/provision/teardown/tasks/main.yml'],1,46cb4eef6670193d532622b5eb1703d8b64e0c6a,571176," failed_when: proc_exist.rc not in [0, 1]", ignore_errors: true,1,1
openstack%2Fcharm-keystone-ldap~master~I5e4953db6a6b5f79a70d44450a1d6f22a2de1f67,openstack/charm-keystone-ldap,master,I5e4953db6a6b5f79a70d44450a1d6f22a2de1f67,py3: Switch to using Python 3 for rocky or later,ABANDONED,2018-09-24 19:21:49.000000000,2019-03-15 12:28:02.000000000,,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 19:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/9c31b8369ede3bf4ffcf951842810c2eaf14db0b', 'message': 'py3: Switch to using Python 3 for rocky or later\n\nSwitch package install to Python 3 for OpenStack Rocky or later.\n\nChange-Id: I5e4953db6a6b5f79a70d44450a1d6f22a2de1f67\n'}, {'number': 2, 'created': '2018-10-04 09:45:25.000000000', 'files': ['src/tox.ini', 'src/lib/charm/openstack/keystone_ldap.py', 'unit_tests/test_keystone_ldap_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/b0c5613e4ea7ca9185ea54a01bf58a5970a83ad6', 'message': 'py3: Switch to using Python 3 for rocky or later\n\nSwitch package install to Python 3 for OpenStack Rocky or later.\n\nFix patching issue in unit tests - fallback to default patching\nof OPENSTACK_RELEASES in charms.openstack which works just fine.\n\nChange-Id: I5e4953db6a6b5f79a70d44450a1d6f22a2de1f67\n'}]",0,604883,b0c5613e4ea7ca9185ea54a01bf58a5970a83ad6,15,4,2,11805,,,0,"py3: Switch to using Python 3 for rocky or later

Switch package install to Python 3 for OpenStack Rocky or later.

Fix patching issue in unit tests - fallback to default patching
of OPENSTACK_RELEASES in charms.openstack which works just fine.

Change-Id: I5e4953db6a6b5f79a70d44450a1d6f22a2de1f67
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/83/604883/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/lib/charm/openstack/keystone_ldap.py']",2,9c31b8369ede3bf4ffcf951842810c2eaf14db0b,py3-rocky, class KeystoneLDAPCharmRocky(KeystoneLDAPCharm): release = 'rocky' packages = ['python3-ldappool'] purge_packages = ['python-ldappool'] python_version = 3,,12,1
openstack%2Fneutron~master~I15df276ba7dbcb3763ab20b63b26cddf2d594954,openstack/neutron,master,I15df276ba7dbcb3763ab20b63b26cddf2d594954,Use dynamic lazy mode for fetching security group rules,MERGED,2019-02-16 23:02:50.000000000,2019-03-15 12:05:57.000000000,2019-03-15 12:05:57.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-02-16 23:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccbf5447865fab2978e3ded0fc35508b722fa24e', 'message': 'Use dynamic lazy mode for fetching security group rules\n\nIn conjunction with the prior fix to only get a subset of fields\nwhen needed, this makes the querying of non-rules SG objects\nvery very fast.\n\nDepends-On: https://review.openstack.org/637389\nChange-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954\n'}, {'number': 2, 'created': '2019-03-04 06:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7f6fede7cc043d56318db7370e6e7539db428ee', 'message': 'Use dynamic lazy mode for fetching security group rules\n\nIn conjunction with the prior fix to only get a subset of fields\nwhen needed, this makes the querying of non-rules SG objects\nvery very fast.\n\nChange-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954\n'}, {'number': 3, 'created': '2019-03-05 02:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b9472f8de1b7d8a797a61b078ee060caa6bbce8', 'message': ""Use dynamic lazy mode for fetching security group rules\n\nIn conjunction with the prior fix to only get a subset of fields\nwhen needed, this makes the querying of non-rules SG objects\nvery very fast.\n\nBefore the two fixes, if you have about ten security groups with 2000 rules each:\n\nlist all: 14s\nlist all, just 'id' field: 14s\nlist one: 0.6s\nlist one, just 'id' field: 0.6s\n\nWith just the previous partial fix:\n\nlist all: 14s\nlist all, just 'id' field: 6s\nlist one: 0.6s\nlist one, just 'id' field: 0.2s\n\nNow with this change:\n\nlist all: 14s\nlist all, just 'id' field: 0.04s\nlist one: 0.6s\nlist one, just 'id' field: 0.03s\n\nCloses-Bug: #1810563\nChange-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954\n""}, {'number': 4, 'created': '2019-03-12 02:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/813a7ba2e263b21f9dc0cd5003c906082a0b71e8', 'message': ""Use dynamic lazy mode for fetching security group rules\n\nIn conjunction with the prior fix to only get a subset of fields\nwhen needed, this makes the querying of non-rules SG objects\nvery very fast.\n\nBefore the two fixes, if you have about ten security groups with 2000 rules each:\n\nlist all: 14s\nlist all, just 'id' field: 14s\nlist one: 0.6s\nlist one, just 'id' field: 0.6s\n\nWith just the previous partial fix:\n\nlist all: 14s\nlist all, just 'id' field: 6s\nlist one: 0.6s\nlist one, just 'id' field: 0.2s\n\nNow with this change:\n\nlist all: 14s\nlist all, just 'id' field: 0.04s\nlist one: 0.6s\nlist one, just 'id' field: 0.03s\n\nCloses-Bug: #1810563\nChange-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954\n""}, {'number': 5, 'created': '2019-03-14 03:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f707e2af2bcd582c4ae6465722599c7577020f3', 'message': ""Use dynamic lazy mode for fetching security group rules\n\nIn conjunction with the prior fix to only get a subset of fields\nwhen needed, this makes the querying of non-rules SG objects\nvery very fast.\n\nBefore the two fixes, if you have about ten security groups with 2000 rules each:\n\nlist all: 14s\nlist all, just 'id' field: 14s\nlist one: 0.6s\nlist one, just 'id' field: 0.6s\n\nWith just the previous partial fix:\n\nlist all: 14s\nlist all, just 'id' field: 6s\nlist one: 0.6s\nlist one, just 'id' field: 0.2s\n\nNow with this change:\n\nlist all: 14s\nlist all, just 'id' field: 0.04s\nlist one: 0.6s\nlist one, just 'id' field: 0.03s\n\nCloses-Bug: #1810563\nChange-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954\n""}, {'number': 6, 'created': '2019-03-14 22:24:04.000000000', 'files': ['neutron/objects/securitygroup.py', 'requirements.txt', 'neutron/db/models/securitygroup.py', 'neutron/objects/base.py', 'neutron/tests/unit/objects/test_base.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651', 'message': ""Use dynamic lazy mode for fetching security group rules\n\nIn conjunction with the prior fix to only get a subset of fields\nwhen needed, this makes the querying of non-rules SG objects\nvery very fast.\n\nBefore the two fixes, if you have about ten security groups with 2000 rules each:\n\nlist all: 14s\nlist all, just 'id' field: 14s\nlist one: 0.6s\nlist one, just 'id' field: 0.6s\n\nWith just the previous partial fix:\n\nlist all: 14s\nlist all, just 'id' field: 6s\nlist one: 0.6s\nlist one, just 'id' field: 0.2s\n\nNow with this change:\n\nlist all: 14s\nlist all, just 'id' field: 0.04s\nlist one: 0.6s\nlist one, just 'id' field: 0.03s\n\nCloses-Bug: #1810563\nChange-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954\n""}]",20,637407,1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651,68,10,6,10980,,,0,"Use dynamic lazy mode for fetching security group rules

In conjunction with the prior fix to only get a subset of fields
when needed, this makes the querying of non-rules SG objects
very very fast.

Before the two fixes, if you have about ten security groups with 2000 rules each:

list all: 14s
list all, just 'id' field: 14s
list one: 0.6s
list one, just 'id' field: 0.6s

With just the previous partial fix:

list all: 14s
list all, just 'id' field: 6s
list one: 0.6s
list one, just 'id' field: 0.2s

Now with this change:

list all: 14s
list all, just 'id' field: 0.04s
list one: 0.6s
list one, just 'id' field: 0.03s

Closes-Bug: #1810563
Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/637407/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/securitygroup.py'],1,ccbf5447865fab2978e3ded0fc35508b722fa24e,bug/1810563," backref=orm.backref('rules', cascade='all,delete', lazy='dynamic'),"," backref=orm.backref('rules', cascade='all,delete', lazy='subquery'),",1,1
openstack%2Fneutron~master~Ie6ad33e2170c53a16c39a31a8d7f6496170a90ce,openstack/neutron,master,Ie6ad33e2170c53a16c39a31a8d7f6496170a90ce,Fail placement sync if _get_rp_by_name() fails,MERGED,2019-03-05 15:22:40.000000000,2019-03-15 11:52:05.000000000,2019-03-15 11:52:05.000000000,"[{'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-05 15:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a33c00f6e0f4e0b50e6905983faec876e272d66', 'message': ""Fail placement sync if _get_rp_by_name() fails\n\nThe Placement sync process involves some input from Placement first.\nThat is the UUID of the compute host RP. This is a remote call just like\nthe Placement updates we send later and it also may fail in all the\nusual ways of remote calls. We need to fail the sync procedure if this\nremote call fails.\n\nPreviously I had the mistaken belief that if I set the parent_uuid to\nNone that will be an invalid call rejected by Placement. But no, that's\na valid call and creates a resource provider without a parent. That is\nthe neutron managed resource providers will be in their own resource\nprovider tree instead of the compute host's resource provider tree.\n\nIn this change we make sure to handle the failure of getting the compute\nhost RP properly. We must not continue with the updates. And we must set\nthe agent's resources_synced to False.\n\nChange-Id: Ie6ad33e2170c53a16c39a31a8d7f6496170a90ce\nCloses-Bug: #1818683\n""}, {'number': 2, 'created': '2019-03-06 10:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d85496cfbf5453a1b03ba91b7b72f5d4c62819a', 'message': ""Fail placement sync if _get_rp_by_name() fails\n\nThe Placement sync process involves some input from Placement first.\nThat is the UUID of the compute host RP. This is a remote call just like\nthe Placement updates we send later and it also may fail in all the\nusual ways of remote calls. We need to fail the sync procedure if this\nremote call fails.\n\nPreviously I had the mistaken belief that if I set the parent_uuid to\nNone that will be an invalid call rejected by Placement. But no, that's\na valid call and creates a resource provider without a parent. That is\nthe neutron managed resource providers will be in their own resource\nprovider tree instead of the compute host's resource provider tree.\n\nIn this change we make sure to handle the failure of getting the compute\nhost RP properly. We must not continue with the updates. And we must set\nthe agent's resources_synced to False.\n\nChange-Id: Ie6ad33e2170c53a16c39a31a8d7f6496170a90ce\nCloses-Bug: #1818683\n""}, {'number': 3, 'created': '2019-03-12 09:07:06.000000000', 'files': ['neutron/tests/unit/services/placement_report/test_plugin.py', 'neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/732dbdaf5e1ccf5a592131447927e66b9202e534', 'message': ""Fail placement sync if _get_rp_by_name() fails\n\nThe Placement sync process involves some input from Placement first.\nThat is the UUID of the compute host RP. This is a remote call just like\nthe Placement updates we send later and it also may fail in all the\nusual ways of remote calls. We need to fail the sync procedure if this\nremote call fails.\n\nPreviously I had the mistaken belief that if I set the parent_uuid to\nNone that will be an invalid call rejected by Placement. But no, that's\na valid call and creates a resource provider without a parent. That is\nthe neutron managed resource providers will be in their own resource\nprovider tree instead of the compute host's resource provider tree.\n\nIn this change we make sure to handle the failure of getting the compute\nhost RP properly. We must not continue with the updates. And we must set\nthe agent's resources_synced to False.\n\nChange-Id: Ie6ad33e2170c53a16c39a31a8d7f6496170a90ce\nCloses-Bug: #1818683\n""}]",10,641034,732dbdaf5e1ccf5a592131447927e66b9202e534,44,9,3,15554,,,0,"Fail placement sync if _get_rp_by_name() fails

The Placement sync process involves some input from Placement first.
That is the UUID of the compute host RP. This is a remote call just like
the Placement updates we send later and it also may fail in all the
usual ways of remote calls. We need to fail the sync procedure if this
remote call fails.

Previously I had the mistaken belief that if I set the parent_uuid to
None that will be an invalid call rejected by Placement. But no, that's
a valid call and creates a resource provider without a parent. That is
the neutron managed resource providers will be in their own resource
provider tree instead of the compute host's resource provider tree.

In this change we make sure to handle the failure of getting the compute
host RP properly. We must not continue with the updates. And we must set
the agent's resources_synced to False.

Change-Id: Ie6ad33e2170c53a16c39a31a8d7f6496170a90ce
Closes-Bug: #1818683
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/641034/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/placement_report/test_plugin.py', 'neutron/services/placement_report/plugin.py']",2,5a33c00f6e0f4e0b50e6905983faec876e272d66,bug/1818683," except (IndexError, ks_exc.HttpError): agent_db.resources_synced = False agent_db.update() LOG.debug( 'Synchronization of resources' ' of agent type %(type)s' ' at host %(host)s' ' to placement %(result)s.', {'type': agent['agent_type'], 'host': agent['host'], 'result': 'failed'}) return"," if len(rps) != 1: # NOTE(bence romsics): While we could raise() here and by detect # an error a bit earlier, we want the error to surface in the # sync batch below so it is going to be properly caught and is # going to influence the agent's resources_synced attribute. LOG.warning( 'placement client: no such resource provider: %s', name) return {'uuid': None} except ks_exc.HttpError: # Delay the error for the same reason as in _get_rp_by_name(). agent_host_rp_uuid = None",63,15
openstack%2Fneutron~master~I9137150ccf129bf443e33428267cd4bc9c323b54,openstack/neutron,master,I9137150ccf129bf443e33428267cd4bc9c323b54,Fix pep8 E128 warnings in non-test code,MERGED,2019-03-05 20:27:10.000000000,2019-03-15 11:37:27.000000000,2019-03-15 11:37:27.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-05 20:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14a5e179279b0f510501e226eafaa204db778b07', 'message': ""Fix some pylint E128 warnings\n\nReduces E128 warnings by ~60 to just more than a thousand,\nno way we're getting rid of all of them at once (or ever).\nNoticed by inspection while looking at another pylint issue.\n\nChange-Id: I9137150ccf129bf443e33428267cd4bc9c323b54\n""}, {'number': 2, 'created': '2019-03-08 07:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff1785f3a44d9d431fac018b6da59d3fd347c848', 'message': ""Fix pylint E128 warnings in non-test codes\n\nReduces E128 warnings by ~260 to just ~900,\nno way we're getting rid of all of them at once (or ever).\nFiles under neutron/tests still have a ton of E128 warnings.\nNoticed by inspection while looking at another pylint issue.\n\nChange-Id: I9137150ccf129bf443e33428267cd4bc9c323b54\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n""}, {'number': 3, 'created': '2019-03-11 08:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/704e7809202aa467cb1ff040144695b6f3009284', 'message': ""Fix pylint E128 warnings in non-test codes\n\nReduces E128 warnings by ~260 to just ~900,\nno way we're getting rid of all of them at once (or ever).\nFiles under neutron/tests still have a ton of E128 warnings.\nNoticed by inspection while looking at another pylint issue.\n\nChange-Id: I9137150ccf129bf443e33428267cd4bc9c323b54\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n""}, {'number': 4, 'created': '2019-03-12 08:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d94d3d8372fa5f5574fd72ed17ba98501822e112', 'message': ""Fix pep8 E128 warnings in non-test codes\n\nReduces E128 warnings by ~260 to just ~900,\nno way we're getting rid of all of them at once (or ever).\nFiles under neutron/tests still have a ton of E128 warnings.\n\nChange-Id: I9137150ccf129bf443e33428267cd4bc9c323b54\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n""}, {'number': 5, 'created': '2019-03-12 09:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/639810f77a0fec3b96cc662b501133f62ab13ae2', 'message': ""Fix pep8 E128 warnings in non-test codes\n\nReduces E128 warnings by ~260 to just ~900,\nno way we're getting rid of all of them at once (or ever).\nFiles under neutron/tests still have a ton of E128 warnings.\n\nChange-Id: I9137150ccf129bf443e33428267cd4bc9c323b54\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n""}, {'number': 6, 'created': '2019-03-12 21:22:44.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/scheduler/base_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/services/qos/qos_plugin.py', 'neutron/cmd/sanity/checks.py', 'neutron/quota/__init__.py', 'neutron/services/auto_allocate/db.py', 'neutron/pecan_wsgi/hooks/context.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/db/migration/alembic_migrations/cisco_init_ops.py', 'neutron/scheduler/dhcp_agent_scheduler.py', 'neutron/db/migration/cli.py', 'neutron/extensions/subnet_service_types.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/services/tag/tag_plugin.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/db/migration/alembic_migrations/core_init_ops.py', 'neutron/plugins/ml2/drivers/l2pop/db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_tun.py', 'neutron/db/migration/alembic_migrations/versions/newton/expand/0f5bef0f87d4_add_qos_minimum_bandwidth_rules.py', 'neutron/services/placement_report/plugin.py', 'neutron/tests/common/l3_test_common.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/2e0d7a8a1586_add_binding_index_to_routerl3agentbinding.py', 'neutron/objects/network.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/agent/l3/l3_agent_extensions_manager.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/c879c5e1ee90_add_segment_id_to_subnet.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/db/servicetype_db.py', 'neutron/db/migration/alembic_migrations/versions/newton/expand/5abc0278ca73_add_support_for_vlan_trunking.py', 'neutron/db/dns_db.py', 'neutron/agent/linux/ipset_manager.py', 'neutron/objects/l3agent.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/agent/l3/router_info.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/db/flavors_db.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/db/extraroute_db.py', 'neutron/api/rpc/callbacks/version_manager.py', 'neutron/db/migration/alembic_migrations/versions/ocata/expand/a9c43481023c_extend_ml2_port_bindings.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/db/models/plugins/ml2/geneveallocation.py', 'neutron/conf/services/extdns_designate_driver.py', 'neutron/db/uplink_status_propagation_db.py', 'neutron/privileged/agent/linux/netlink_lib.py', 'neutron/db/l3_gwmode_db.py', 'neutron/services/segments/plugin.py', 'neutron/db/l3_dvr_db.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/dhcp.py', 'neutron/db/models/flavor.py', 'neutron/objects/ports.py', 'neutron/db/models/l3.py', 'neutron/db/data_plane_status_db.py', 'neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/api/v2/base.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/ipam/drivers/neutrondb_ipam/db_api.py', 'neutron/agent/l2/l2_agent_extensions_manager.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/db/migration/alembic_migrations/versions/newton/expand/a5648cfeeadf_add_subnet_service_types.py', 'neutron/objects/tag.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/migration/alembic_migrations/versions/stein/expand/9bfad3f1e780_support_shared_security_groups.py', 'neutron/services/network_ip_availability/plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/objects/router.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_phys.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/pecan_wsgi/hooks/translation.py', 'neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/agent/linux/ra.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/db/db_base_plugin_common.py', 'neutron/ipam/subnet_alloc.py', 'neutron/agent/metadata/agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/api/rpc/handlers/resources_rpc.py', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaf990b2bcac5649968266cd14b937d4c296734f', 'message': ""Fix pep8 E128 warnings in non-test code\n\nReduces E128 warnings by ~260 to just ~900,\nno way we're getting rid of all of them at once (or ever).\nFiles under neutron/tests still have a ton of E128 warnings.\n\nChange-Id: I9137150ccf129bf443e33428267cd4bc9c323b54\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n""}]",6,641119,eaf990b2bcac5649968266cd14b937d4c296734f,57,13,6,1131,,,0,"Fix pep8 E128 warnings in non-test code

Reduces E128 warnings by ~260 to just ~900,
no way we're getting rid of all of them at once (or ever).
Files under neutron/tests still have a ton of E128 warnings.

Change-Id: I9137150ccf129bf443e33428267cd4bc9c323b54
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/641119/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ra.py', 'neutron/db/l3_gwmode_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/objects/l3agent.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/tests/common/l3_test_common.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/db/l3_agentschedulers_db.py']",20,14a5e179279b0f510501e226eafaa204db778b07,fix-indent, router_id=router_id) agent.host), router_id=router_id) agent.host),82,80
openstack%2Fblazar~master~Icc15efaeb029d330ef0b77aeed4a7a12cb18315e,openstack/blazar,master,Icc15efaeb029d330ef0b77aeed4a7a12cb18315e,Consider the number of instances for reservation inventory,MERGED,2018-12-26 02:53:16.000000000,2019-03-15 11:28:08.000000000,2019-03-15 11:28:08.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-12-26 02:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/03121f55a62ea7e4e17a908ecb8eafd51ac83f9e', 'message': 'Change placement call to consider affinity=True\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity.\n\nThis patch changes it to count the number of allocations and register\nappropriate numbers of the inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 2, 'created': '2018-12-26 07:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c9b4f7333cc4ab295b6ea0d6f0c8afb2b05ccc47', 'message': 'Change placement call to consider affinity=True\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity.\n\nThis patch changes it to count the number of allocations and register\nappropriate numbers of the inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 3, 'created': '2018-12-28 03:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e000a2d78beca95ce0ccb64da58b385941397745', 'message': 'Change placement call to consider affinity=True\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity.\n\nThis patch changes it to count the number of allocations and register\nappropriate numbers of the inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 4, 'created': '2018-12-29 10:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d5f201f343219d115ee05022ad31384894d1f038', 'message': 'Change placement call to consider affinity=True\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity.\n\nThis patch changes it to count the number of allocations and register\nappropriate numbers of the inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 5, 'created': '2018-12-31 06:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/da6e9a4d95363521de497e6d808b0f6f461429fc', 'message': 'Consider the number of reservation inventory\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity policy.\n\nThis patch changes it to count the number of allocations and register\nappropriate number of the reservation inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 6, 'created': '2019-01-23 04:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b9fbcb68f3380c63e02d187c92f52c0b9f491cba', 'message': 'Consider the number of reservation inventory\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity policy.\n\nThis patch changes it to count the number of allocations and register\nappropriate number of the reservation inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 7, 'created': '2019-02-14 02:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/21bb6f7cb53bab1b7b3aa2175c275c266d081a81', 'message': 'Consider the number of reservation inventory\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity policy.\n\nThis patch changes it to count the number of allocations and register\nappropriate number of the reservation inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 8, 'created': '2019-02-19 06:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/75ed76324a21b9c6f40dab13dd38b0048dbd8ef5', 'message': 'Consider the number of reservation inventory\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity policy.\n\nThis patch changes it to count the number of allocations and register\nappropriate number of the reservation inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 9, 'created': '2019-03-13 01:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/7914ecdfa35a9fd784a0d5f89d4133bb02dc54a4', 'message': 'Consider the number of reservation inventory\n\nWhen an instance reservation starts, blazar calls placement to update\nthe reservation resource provider to have reserved instance numbers\nof the reservation inventory. However it has been fixed to one because\nwe have supported only anti-affinity policy.\n\nThis patch changes it to count the number of allocations and register\nappropriate number of the reservation inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}, {'number': 10, 'created': '2019-03-14 18:25:35.000000000', 'files': ['blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/b7e72674adac175e27029175370c0cf37fc63ded', 'message': 'Consider the number of instances for reservation inventory\n\nWhen an instance reservation starts, Blazar calls placement to update\nreservation resource providers to have the number of reserved instances\nin each reservation inventory. However, it has been fixed to one because\nwe have supported only anti-affinity policy.\n\nThis patch changes it to count the number of allocations and register\nthe appropriate number in each reservation inventory.\n\nChange-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e\nBlueprint: no-affinity-instance-reservation\n'}]",1,627326,b7e72674adac175e27029175370c0cf37fc63ded,30,6,10,25625,,,0,"Consider the number of instances for reservation inventory

When an instance reservation starts, Blazar calls placement to update
reservation resource providers to have the number of reserved instances
in each reservation inventory. However, it has been fixed to one because
we have supported only anti-affinity policy.

This patch changes it to count the number of allocations and register
the appropriate number in each reservation inventory.

Change-Id: Icc15efaeb029d330ef0b77aeed4a7a12cb18315e
Blueprint: no-affinity-instance-reservation
",git fetch https://review.opendev.org/openstack/blazar refs/changes/26/627326/9 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py']",2,03121f55a62ea7e4e17a908ecb8eafd51ac83f9e,bp/no-affinity-instance-reservation,"import collections # Dict of number of instances to reserve on a host keyed by the # host id allocation_map = collections.defaultdict(lambda: 0) host_id = allocation['compute_host_id'] allocation_map[host_id] += 1 for host_id, num in allocation_map.iteritems(): host = db_api.host_get(host_id) host['service_name'], reservation['id'], num) # Dict of number of instances to reserve on a host keyed by the # host id allocation_map = collections.defaultdict(lambda: 0) host_id = allocation['compute_host_id'] allocation_map[host_id] += 1 for host_id, num in allocation_map.iteritems(): host = db_api.host_get(host_id) host['service_name'], reservation_id, num)"," host = db_api.host_get(allocation['compute_host_id']) host['service_name'], reservation['id'], 1) host = db_api.host_get(allocation['compute_host_id']) host['service_name'], reservation_id, 1)",37,10
openstack%2Fos-brick~master~Iab6a3ca6bf92dc5606c7723dc6c62bf07fa1d934,openstack/os-brick,master,Iab6a3ca6bf92dc5606c7723dc6c62bf07fa1d934,Fix ScaleIO KeyError after upgrade,MERGED,2019-03-13 16:15:02.000000000,2019-03-15 11:23:43.000000000,2019-03-15 04:06:31.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17499}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}, {'_account_id': 29759}]","[{'number': 1, 'created': '2019-03-13 16:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4d88b2ab3ea63d82b8f977ff6b5d0417ea7747fc', 'message': 'Fix ScaleIO KeyError after upgrade\n\nA long time ago the driver was changed to store volume_id\nin the nova database and use that. Previously it would use the\nvolume_name and make a call to get the volume_id.\n\nBoth should be supported, but as the code path currently throws\na KeyError it will never reach the backwards compatible code.\nThis makes sure that the driver works even after an upgrade from Mitaka.\n\nChange-Id: Iab6a3ca6bf92dc5606c7723dc6c62bf07fa1d934\nCloses-Bug: #1648629\n'}, {'number': 2, 'created': '2019-03-14 05:41:30.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/05b6c9f9fad15354f598bbd332a5d56230ece1e0', 'message': 'Fix ScaleIO KeyError after upgrade\n\nA long time ago the driver was changed to store volume_id\nin the nova database and use that. Previously it would use the\nvolume_name and make a call to get the volume_id.\n\nBoth should be supported, but as the code path currently throws\na KeyError it will never reach the backwards compatible code.\nThis makes sure that the driver works even after an upgrade from Mitaka.\n\nDepends-On: https://review.openstack.org/#/c/643130/\nChange-Id: Iab6a3ca6bf92dc5606c7723dc6c62bf07fa1d934\nCloses-Bug: #1648629\n'}]",0,643092,05b6c9f9fad15354f598bbd332a5d56230ece1e0,71,19,2,29675,,,0,"Fix ScaleIO KeyError after upgrade

A long time ago the driver was changed to store volume_id
in the nova database and use that. Previously it would use the
volume_name and make a call to get the volume_id.

Both should be supported, but as the code path currently throws
a KeyError it will never reach the backwards compatible code.
This makes sure that the driver works even after an upgrade from Mitaka.

Depends-On: https://review.openstack.org/#/c/643130/
Change-Id: Iab6a3ca6bf92dc5606c7723dc6c62bf07fa1d934
Closes-Bug: #1648629
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/92/643092/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py']",2,4d88b2ab3ea63d82b8f977ff6b5d0417ea7747fc,bug/1648629," def test_connect_volume_without_volume_id(self): """"""Successful connect to volume without a Volume Id"""""" connection_properties = dict(self.fake_connection_properties) connection_properties.pop('scaleIO_volume_id') self.connector.connect_volume(connection_properties) def test_disconnect_volume_without_volume_id(self): """"""Successful disconnect from volume without a Volume Id"""""" connection_properties = dict(self.fake_connection_properties) connection_properties.pop('scaleIO_volume_id') self.connector.disconnect_volume(connection_properties, None) ",,18,1
openstack%2Fmanila~stable%2Fqueens~Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec,openstack/manila,stable/queens,Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec,Port dummy driver manage/unmanage changes to stable,MERGED,2019-03-13 21:30:12.000000000,2019-03-15 11:21:00.000000000,2019-03-15 11:15:05.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-03-13 21:30:12.000000000', 'files': ['manila/tests/share/drivers/dummy.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/00bd9230de372cd7b28e6f7ceb1aa168bb68b61f', 'message': 'Port dummy driver manage/unmanage changes to stable\n\nBranchless manila-tempest-plugin had changes for\nthe manage share server feature that required changes in\nthe dummy driver for its manage and unmanage routines.\n\nHere we test porting the dummy driver changes for the\nmanage and unmanage share and snapshot methods, omitting\nthe manage and unmanage methods for share servers since\nthese are not supported in the stable branches.\n\nNote that backporting such changes to a stable branch\nfor a regular driver would likely be unacceptable given\nstable policy but the dummy driver is test-only code that\nnever runs outside of tests.\n\nChange-Id: Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec\n(cherry picked from commit 6b25b0a4075550163554895b5a1e275675ef9f21)\n'}]",0,643163,00bd9230de372cd7b28e6f7ceb1aa168bb68b61f,10,5,1,16643,,,0,"Port dummy driver manage/unmanage changes to stable

Branchless manila-tempest-plugin had changes for
the manage share server feature that required changes in
the dummy driver for its manage and unmanage routines.

Here we test porting the dummy driver changes for the
manage and unmanage share and snapshot methods, omitting
the manage and unmanage methods for share servers since
these are not supported in the stable branches.

Note that backporting such changes to a stable branch
for a regular driver would likely be unacceptable given
stable policy but the dummy driver is test-only code that
never runs outside of tests.

Change-Id: Ib9e5dd3ad6b745ea1dfe442d9357a70ca4c148ec
(cherry picked from commit 6b25b0a4075550163554895b5a1e275675ef9f21)
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/643163/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/share/drivers/dummy.py'],1,00bd9230de372cd7b28e6f7ceb1aa168bb68b61f,," new_export = share['export_location'] old_share_id = self._get_share_id_from_export(new_export) old_export = self.private_storage.get( old_share_id, key='export_location') if old_export.split("":/"")[-1] == new_export.split("":/"")[-1]: result = {""size"": 1, ""export_locations"": self._create_share(share)} self.private_storage.delete(old_share_id) return result else: msg = (""Invalid export specified, existing share %s"" "" could not be found"" % old_share_id) raise exception.ShareBackendException(msg=msg) def _get_share_id_from_export(self, export_location): values = export_location.split('share_') if len(values) > 1: return values[1][37:].replace(""_"", ""-"") else: return export_location self.private_storage.update( share['id'], {'export_location': share['export_location']}) old_snap_id = self._get_snap_id_from_provider_location( snapshot['provider_location']) old_provider_location = self.private_storage.get( old_snap_id, key='provider_location') if old_provider_location == snapshot['provider_location']: self._create_snapshot(snapshot) self.private_storage.delete(old_snap_id) return {""size"": 1, ""provider_location"": snapshot[""provider_location""]} else: msg = (""Invalid provider location specified, existing snapshot %s"" "" could not be found"" % old_snap_id) raise exception.ShareBackendException(msg=msg) def _get_snap_id_from_provider_location(self, provider_location): values = provider_location.split('snapshot_') if len(values) > 1: return values[1][37:].replace(""_"", ""-"") else: return provider_location self.private_storage.update( snapshot['id'], {'provider_location': snapshot['provider_location']})"," return {""size"": 1, ""export_locations"": self._create_share(share)} self._create_snapshot(snapshot) return {""size"": 1, ""provider_location"": snapshot[""provider_location""]}",44,3
openstack%2Fheat-tempest-plugin~master~Ia0be1aab36448b291ea43371a5d906fa79eb3753,openstack/heat-tempest-plugin,master,Ia0be1aab36448b291ea43371a5d906fa79eb3753,Fix test_server_software_config scenario test,MERGED,2019-02-01 16:49:45.000000000,2019-03-15 11:19:03.000000000,2019-03-15 11:19:03.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 16:49:45.000000000', 'files': ['heat_tempest_plugin/tests/scenario/test_server_software_config.py', 'heat_tempest_plugin/tests/scenario/templates/test_server_software_config.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/9fe7820864a9f7dd65af9660d2b6250e16d1a2a7', 'message': 'Fix test_server_software_config scenario test\n\nIn commit 4ca172ae78bc606b02150b07776b695f1b3a6678 we changed to\nuse heatclient utilities to load files and it broke this test.\n\nFile mode must be string from Puppet 4 onwards, so the inline\nmanifest also needs to be fixed.\n\nNote: This test is not run in the gate.\n\nChange-Id: Ia0be1aab36448b291ea43371a5d906fa79eb3753\n'}]",0,634453,9fe7820864a9f7dd65af9660d2b6250e16d1a2a7,6,3,1,8833,,,0,"Fix test_server_software_config scenario test

In commit 4ca172ae78bc606b02150b07776b695f1b3a6678 we changed to
use heatclient utilities to load files and it broke this test.

File mode must be string from Puppet 4 onwards, so the inline
manifest also needs to be fixed.

Note: This test is not run in the gate.

Change-Id: Ia0be1aab36448b291ea43371a5d906fa79eb3753
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/53/634453/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/tests/scenario/test_server_software_config.py', 'heat_tempest_plugin/tests/scenario/templates/test_server_software_config.yaml']",2,9fe7820864a9f7dd65af9660d2b6250e16d1a2a7,, config: {get_file: /cfg1.sh} config: {get_file: /cfg3.pp}, config: {get_file: cfg1.sh} config: {get_file: cfg3.pp},6,6
openstack%2Fopenstack-ansible-os_mistral~stable%2Frocky~Ica367ee1ec201f135599ff032d2972ca8a43e106,openstack/openstack-ansible-os_mistral,stable/rocky,Ica367ee1ec201f135599ff032d2972ca8a43e106,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2019-03-14 19:07:01.000000000,2019-03-15 11:10:33.000000000,2019-03-15 11:10:33.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 19:07:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/47029c1ab50f658d84d33d906152740f18dd40c4', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ica367ee1ec201f135599ff032d2972ca8a43e106\n""}]",0,643433,47029c1ab50f658d84d33d906152740f18dd40c4,7,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ica367ee1ec201f135599ff032d2972ca8a43e106
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/33/643433/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,47029c1ab50f658d84d33d906152740f18dd40c4,create-rocky, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-helm~master~I8296074f4d20e47afe0c7aea41bf21999685aecd,openstack/openstack-helm,master,I8296074f4d20e47afe0c7aea41bf21999685aecd,Fix py3 issue on fernet-manage and update-endpoint,MERGED,2019-03-07 14:33:49.000000000,2019-03-15 11:09:08.000000000,2019-03-15 11:09:08.000000000,"[{'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-07 14:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d7a318818efc87460be050399838b163d1337f6', 'message': 'Fix py3 issue on fernet-manage\n\nCilter used to return a list on python2 but on python3 it returns\nan iterator which has no len method\n\nCoherce the keys var into a list so we can run len on it on both\nversions\n\nChange-Id: I8296074f4d20e47afe0c7aea41bf21999685aecd\n'}, {'number': 2, 'created': '2019-03-07 14:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1e8608ff7a4c9c42e9184ce3c220a99200c18083', 'message': 'Fix py3 issue on fernet-manage\n\nfilter used to return a list on python2 but on python3 it returns\nan iterator which has no len method\n\nCoherce the keys var into a list so we can run len on it on both\nversions\n\nChange-Id: I8296074f4d20e47afe0c7aea41bf21999685aecd\n'}, {'number': 3, 'created': '2019-03-07 14:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4734ecf82c6659c5a26648a3c06f7950a875f1f', 'message': 'Fix py3 issue on fernet-manage and update-endpoint\n\nfernet-manage:\n - filter used to return a list on python2 but on python3 it returns\n an iterator which has no len method\n - Coherce the keys var into a list so we can run len on it on both\n versions\n\nupdate-endpoint:\n - ConfigParser is called configparser on python3\n - try/catch and import the proper configparser\n\nChange-Id: I8296074f4d20e47afe0c7aea41bf21999685aecd\n'}, {'number': 4, 'created': '2019-03-14 21:24:47.000000000', 'files': ['keystone/templates/bin/_endpoint-update.py.tpl', 'keystone/templates/bin/_fernet-manage.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e136b0d82218bbe91c3d9f16d2187752289e27e6', 'message': 'Fix py3 issue on fernet-manage and update-endpoint\n\nfernet-manage:\n - filter used to return a list on python2 but on python3 it returns\n an iterator which has no len method\n - Coherce the keys var into a list so we can run len on it on both\n versions\n\nupdate-endpoint:\n - ConfigParser is called configparser on python3\n - try/catch and import the proper configparser\n\nChange-Id: I8296074f4d20e47afe0c7aea41bf21999685aecd\n'}]",1,641680,e136b0d82218bbe91c3d9f16d2187752289e27e6,23,6,4,12281,,,0,"Fix py3 issue on fernet-manage and update-endpoint

fernet-manage:
 - filter used to return a list on python2 but on python3 it returns
 an iterator which has no len method
 - Coherce the keys var into a list so we can run len on it on both
 versions

update-endpoint:
 - ConfigParser is called configparser on python3
 - try/catch and import the proper configparser

Change-Id: I8296074f4d20e47afe0c7aea41bf21999685aecd
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/80/641680/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/bin/_fernet-manage.py.tpl'],1,5d7a318818efc87460be050399838b163d1337f6,osh_suse-python36, if len(list(keys)):, if len(keys):,1,1
openstack%2Ftripleo-heat-templates~master~I1ba5e2fc96f6a9e2cad44e1b18f32612919fd796,openstack/tripleo-heat-templates,master,I1ba5e2fc96f6a9e2cad44e1b18f32612919fd796,octavia: pass container cli to external deploy tasks,MERGED,2019-03-14 14:40:13.000000000,2019-03-15 11:05:19.000000000,2019-03-15 11:05:19.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-14 14:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6245ef78c7e76191f49f73a1f91932f16d9d44ad', 'message': 'octavia: pass container cli to external deploy tasks\n\nThe octavia ansible playbooks restart the octavia containers to pickup\ngenerated configuration so this needs to be passed into the tasks.\n\nChange-Id: I1ba5e2fc96f6a9e2cad44e1b18f32612919fd796\n'}, {'number': 2, 'created': '2019-03-14 14:43:11.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c33183c05122b63c0f76fd0a244eaea0a60fd26', 'message': 'octavia: pass container cli to external deploy tasks\n\nThe octavia ansible playbooks restart the octavia containers to pickup\ngenerated configuration so this needs to be passed into the tasks.\n\nDepends-On: I6ef5ae0cf8c8acdb6e9a9ab78e0deddd0ea968ec\nChange-Id: I1ba5e2fc96f6a9e2cad44e1b18f32612919fd796\n'}]",0,643358,1c33183c05122b63c0f76fd0a244eaea0a60fd26,9,4,2,6681,,,0,"octavia: pass container cli to external deploy tasks

The octavia ansible playbooks restart the octavia containers to pickup
generated configuration so this needs to be passed into the tasks.

Depends-On: I6ef5ae0cf8c8acdb6e9a9ab78e0deddd0ea968ec
Change-Id: I1ba5e2fc96f6a9e2cad44e1b18f32612919fd796
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/643358/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,6245ef78c7e76191f49f73a1f91932f16d9d44ad,octavia_podman," ContainerCli: type: string default: 'podman' description: CLI tool used to manage containers. constraints: - allowed_values: ['docker', 'podman'] container_cli: { get_param: ContainerCli }",,7,0
openstack%2Fmanila~master~I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6,openstack/manila,master,I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6,Manila VMAX docs -  differences between quotas,MERGED,2019-03-13 14:02:49.000000000,2019-03-15 10:58:29.000000000,2019-03-15 10:58:29.000000000,"[{'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}]","[{'number': 1, 'created': '2019-03-13 14:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7367c6476a3063e9eb03719c40aed434f88282ec', 'message': 'Manila VMAX docs -  differences between quotas\n\nHighlight the difference between nas_quotas and OpenStack manila\nquotas.\n\nChange-Id: I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6\n'}, {'number': 2, 'created': '2019-03-14 10:40:25.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/9ab3b8e80b9577c4aef0bc5604651148293dc893', 'message': 'Manila VMAX docs -  differences between quotas\n\nHighlight the difference between nas_quotas and OpenStack manila\nquotas.\n\nChange-Id: I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6\n'}]",2,643050,9ab3b8e80b9577c4aef0bc5604651148293dc893,23,9,2,12670,,,0,"Manila VMAX docs -  differences between quotas

Highlight the difference between nas_quotas and OpenStack manila
quotas.

Change-Id: I9eb2eb48b377c707191dc2f4e0a8a6f2dc606fe6
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/643050/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,7367c6476a3063e9eb03719c40aed434f88282ec,docs," Other Remarks ~~~~~~~~~~~~~ - eNAS ``nas_quotas`` should not be confused with OpenStacks manila quotas. The former edits quotas for mounted file systems, and displays a listing of quotas and disk usage at the file system level (by the user, group, or tree), or at the quota-tree level (by the user or group). ``nas_quotas`` also turns quotas on and off, and clears quotas records for a file system, quota tree, or a Data Mover. Refer to VMAX eNAS CLI Reference guide on `EMC support site <http://support.emc.com>`_ for additional information. ``OpenStack manila quotas`` delimits the number of shares, snapshots etc. a user can create. .. code-block:: console $ manila quota-show --tenant <project_id> --user <user_id> +-----------------------+-------+ | Property | Value | +-----------------------+-------+ | share_groups | 50 | | gigabytes | 1000 | | snapshot_gigabytes | 1000 | | share_group_snapshots | 50 | | snapshots | 50 | | shares | 50 | | share_networks | 10 | +-----------------------+-------+ ",,31,0
openstack%2Fmanila~master~I9f598c6918455de7344d80d2663d9fd3a4cc3ed9,openstack/manila,master,I9f598c6918455de7344d80d2663d9fd3a4cc3ed9,Manila VMAX docs -  improve pre-configurations on VMAX section,MERGED,2019-03-12 16:39:21.000000000,2019-03-15 10:58:28.000000000,2019-03-15 10:58:28.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}]","[{'number': 1, 'created': '2019-03-12 16:39:21.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/2528762a694d428bd037ec134d611ea86075bdfd', 'message': 'Manila VMAX docs -  improve pre-configurations on VMAX section\n\nAdd storage pool and license configuration to the Pre-configurations\non VMAX section.\n\nChange-Id: I9f598c6918455de7344d80d2663d9fd3a4cc3ed9\n'}]",1,642816,2528762a694d428bd037ec134d611ea86075bdfd,15,10,1,12670,,,0,"Manila VMAX docs -  improve pre-configurations on VMAX section

Add storage pool and license configuration to the Pre-configurations
on VMAX section.

Change-Id: I9f598c6918455de7344d80d2663d9fd3a4cc3ed9
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/642816/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,2528762a694d428bd037ec134d611ea86075bdfd,docs,"#. Configure a storage pool There is a one to one relationship between a storage pool in embedded NAS to a storage group on the VMAX. The best way to provision storage for file is from the Unisphere for VMAX UI rather than eNAS UI. Go to :menuselection:`{array} > SYSTEM > FIle` and under :menuselection:`Actions` click :menuselection:`PROVISION STORAGE FOR FILE` .. note:: When creating a new storage group you have the ability to assign a service level e.g. Diamond and disable compression/deduplication which is enabled by default. To pick up the newly created storage pool in the eNAS UI, go to :menuselection:`{Control Station} > Storage > Storage Configuration > Storage Pools` and under :menuselection:`File Storage` click :menuselection:`Rescan Storage Systems` or on the command line: $ nas_diskmark -mark -all -discovery y -monitor y The new storage pool should now appear in the eNAS UI #. Make sure you have the appropriate licenses $ nas_license -l key status value site_key online xx xx xx xx nfs online cifs online snapsure online replicatorV2 online filelevelretention online $ server_setup <movername> -Protocol cifs -option start [=<n>] # movername = name of the Data Mover # n = number of threads for CIFS users $ server_cifs <movername> | head # movername = name of the Data Mover difference should be less than 5 minutes. .. note:: If there is a clock skew then you may see the following error ""The local machine and the remote machine are not synchronized. Kerberos protocol requires a synchronization of both participants within the same 5 minutes"". To fix this error you must make sure the times of the eNas controller host and the Domain Controller or within 5 minutes of each other. You must be root to change the date of the eNas control station. Check also that your time zones coincide. $ server_date <movername> # movername = name of the Data Mover $ server_date <movername> timesvc start ntp <host> [<host> ...] # movername = name of the Data Mover # host = IP address of the time server host $ server_usermapper <movername> # movername = name of the Data Mover $ server_usermapper <movername> -enable # movername = name of the Data Mover To check the device list on the eNAS UI go to :menuselection:`{Control Station} > Settings > Network > Devices`. or on the command line: .. code-block:: console $ server_sysconfig server_2 -pci server_2 : PCI DEVICES: On Board: VendorID=0x1120 DeviceID=0x1B00 Controller 0: scsi-0 IRQ: 32 0: scsi-16 IRQ: 33 0: scsi-32 IRQ: 34 0: scsi-48 IRQ: 35 Broadcom 10 Gigabit Ethernet Controller 0: fxg-3-0 IRQ: 36 speed=10000 duplex=full txflowctl=disable rxflowctl=disable Link: Up 0: fxg-3-1 IRQ: 38 speed=10000 duplex=full txflowctl=disable rxflowctl=disable Link: Down ","#. Enable Unicode on Data Mover. The VMAX driver requires that the Unicode is enabled on Data Mover. .. warning:: After enabling Unicode, you cannot disable it. If there are some file systems created before Unicode is enabled on the VMAX, consult the storage administrator before enabling Unicode. To check the Unicode status on Data Mover, use the following VMAX eNAS File commands on the VMAX control station: server_cifs <MOVER_NAME> | head # MOVER_NAME = <name of the Data Mover> Check the value of I18N mode field. UNICODE mode is shown as ``I18N mode = UNICODE``. To enable the Unicode for Data Mover, use the following command: uc_config -on -mover <MOVER_NAME> # MOVER_NAME = <name of the Data Mover> Refer to the document Using International Character Sets on VMAX for File on `EMC support site <http://support.emc.com>`_ for more information. server_setup <MOVER_NAME> -Protocol cifs -option start [=<n>] # MOVER_NAME = <name of the Data Mover> # n = <number of threads for CIFS users> server_cifs <MOVER_NAME> | head # MOVER_NAME = <name of the Data Mover> difference should be less than 10 minutes. server_date <MOVER_NAME> # MOVER_NAME = <name of the Data Mover> server_date <MOVER_NAME> timesvc start ntp <host> [<host> ...] # MOVER_NAME = <name of the Data Mover> # host = <IP address of the time server host> server_usermapper <movername> # movername = <name of the Data Mover> server_usermapper <movername> -enable # movername = <name of the Data Mover> To check the device list, go to :menuselection:`Unisphere > Settings > Network > Device`.",82,35
openstack%2Fansible-role-openstack-operations~master~If6fa0f337d5aa5a51bea7c6823b20c21b134b576,openstack/ansible-role-openstack-operations,master,If6fa0f337d5aa5a51bea7c6823b20c21b134b576,Fix temp. inventory on the backup host,MERGED,2019-02-19 07:28:38.000000000,2019-03-15 10:51:50.000000000,2019-03-15 10:51:50.000000000,"[{'_account_id': 5241}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17126}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2019-02-19 07:28:38.000000000', 'files': ['templates/backup_ssh_config.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/fb411a2756923bd74cbb40ddd871849991f878e2', 'message': 'Fix temp. inventory on the backup host\n\nOn the mysql backup task, there is a problem when the backup file is\ntrying to copied to the backup server. This patch fix that using\nthe IP instead of the hostname\n\nChange-Id: If6fa0f337d5aa5a51bea7c6823b20c21b134b576\n'}]",0,637715,fb411a2756923bd74cbb40ddd871849991f878e2,10,6,1,22954,,,0,"Fix temp. inventory on the backup host

On the mysql backup task, there is a problem when the backup file is
trying to copied to the backup server. This patch fix that using
the IP instead of the hostname

Change-Id: If6fa0f337d5aa5a51bea7c6823b20c21b134b576
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/15/637715/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/backup_ssh_config.j2'],1,fb411a2756923bd74cbb40ddd871849991f878e2,fix/backup_inventory,Host {{ ansible_host }} User {{ ansible_user }} ,Host {{ inventory_hostname }} User {{ ansible_user }},2,2
openstack%2Ftripleo-common~master~I6ef5ae0cf8c8acdb6e9a9ab78e0deddd0ea968ec,openstack/tripleo-common,master,I6ef5ae0cf8c8acdb6e9a9ab78e0deddd0ea968ec,octavia: parameterize calls to container cli,MERGED,2019-03-14 14:37:03.000000000,2019-03-15 10:51:29.000000000,2019-03-15 10:51:28.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-14 14:37:03.000000000', 'files': ['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-controller-post-config/tasks/main.yml', 'workbooks/octavia_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df1980a385bb755b875add9c7aad53b43ba1543c', 'message': 'octavia: parameterize calls to container cli\n\nThe octavia ansible playbooks restart the octavia containers to pickup\ngenerated configuration so this needs to be changed to take the value\nfrom the heat environment.\n\nChange-Id: I6ef5ae0cf8c8acdb6e9a9ab78e0deddd0ea968ec\n'}]",1,643351,df1980a385bb755b875add9c7aad53b43ba1543c,8,4,1,6681,,,0,"octavia: parameterize calls to container cli

The octavia ansible playbooks restart the octavia containers to pickup
generated configuration so this needs to be changed to take the value
from the heat environment.

Change-Id: I6ef5ae0cf8c8acdb6e9a9ab78e0deddd0ea968ec
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/643351/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-controller-post-config/tasks/main.yml', 'workbooks/octavia_post.yaml']",3,df1980a385bb755b875add9c7aad53b43ba1543c,octavia_podman, - container_cli container_cli: <% $.container_cli %>,,4,1
openstack%2Fansible-role-openstack-operations~master~Ibecbc53203376489110819c431c9f8ba884aa409,openstack/ansible-role-openstack-operations,master,Ibecbc53203376489110819c431c9f8ba884aa409,Switch script to shell,MERGED,2019-03-05 14:26:49.000000000,2019-03-15 10:49:35.000000000,2019-03-15 10:49:35.000000000,"[{'_account_id': 5241}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17126}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-05 14:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/a3616e708902dbdeb9cb26a38e60a973caa81573', 'message': 'WIP - Switch script to shell\n\nRunning the task from the undercloud I had no errors, however when I tried to\nrun the task from my laptop to do a backup of the undercloud the following error\nshowed up:\nTASK [ansible-role-openstack-operations : Get the database root password]\nFatal: [undercloud-0]:\n         FAILED! => {""changed"": false,\n                     ""msg"": ""Could not find or access /bin/hiera""}\n  to retry, use: --limit @/home/jbadiapa/tools/infrared/backup-and\\\n                 -restore-ffwd/undercloud-backup-openstack-operations.retry\n\nThis patch fix that error\n\nChange-Id: Ibecbc53203376489110819c431c9f8ba884aa409\n'}, {'number': 2, 'created': '2019-03-05 16:59:10.000000000', 'files': ['tasks/restore_galera.yml', 'tasks/backup_pacemaker.yml', 'tasks/validate_galera.yml', 'tasks/backup_mysql.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/b9c9cad6e0b433802390bbb0f4d99cc1e8a65ca3', 'message': 'Switch script to shell\n\nRunning the task from the undercloud I had no errors, however when I tried to\nrun the task from my laptop to do a backup of the undercloud the following error\nshowed up:\nTASK [ansible-role-openstack-operations : Get the database root password]\nFatal: [undercloud-0]:\n         FAILED! => {""changed"": false,\n                     ""msg"": ""Could not find or access /bin/hiera""}\n  to retry, use: --limit @/home/jbadiapa/tools/infrared/backup-and\\\n                 -restore-ffwd/undercloud-backup-openstack-operations.retry\n\nThis patch fix that error\n\nChange-Id: Ibecbc53203376489110819c431c9f8ba884aa409\n'}]",0,641022,b9c9cad6e0b433802390bbb0f4d99cc1e8a65ca3,11,5,2,22954,,,0,"Switch script to shell

Running the task from the undercloud I had no errors, however when I tried to
run the task from my laptop to do a backup of the undercloud the following error
showed up:
TASK [ansible-role-openstack-operations : Get the database root password]
Fatal: [undercloud-0]:
         FAILED! => {""changed"": false,
                     ""msg"": ""Could not find or access /bin/hiera""}
  to retry, use: --limit @/home/jbadiapa/tools/infrared/backup-and\
                 -restore-ffwd/undercloud-backup-openstack-operations.retry

This patch fix that error

Change-Id: Ibecbc53203376489110819c431c9f8ba884aa409
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/22/641022/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/restore_galera.yml', 'tasks/backup_pacemaker.yml', 'tasks/validate_galera.yml', 'tasks/backup_mysql.yml']",4,a3616e708902dbdeb9cb26a38e60a973caa81573,scriptBug, shell: | shell: |, script: | script: |,11,11
openstack%2Fansible-role-openstack-operations~master~I59d48d4f6450373ff416e86b1e911017f02603eb,openstack/ansible-role-openstack-operations,master,I59d48d4f6450373ff416e86b1e911017f02603eb,Added filesystem backup,MERGED,2019-02-19 14:40:13.000000000,2019-03-15 10:49:07.000000000,2019-03-15 10:49:07.000000000,"[{'_account_id': 5241}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17126}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2019-02-19 14:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/27dd7dfb2d711037ee8818d6d896c3ee78b437a0', 'message': 'WIP - Add B&R filesystem\n\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 2, 'created': '2019-03-03 09:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/e4f970ee82f8f3616fd6244b37dcd4584a0d5685', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 3, 'created': '2019-03-03 09:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/9b6ef3087221dd42b3bdea158277d4c6dfc29f0c', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 4, 'created': '2019-03-03 11:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/685b57cf67576df883bd2ba34fabca49147529f8', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nDepends-On: I67b1991daf617093ec59efea5062157d59106bd4\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 5, 'created': '2019-03-04 07:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/f9ed4361c3ca107d7b1bb38ef2729ce4cd154010', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nDepends-On: I67b1991daf617093ec59efea5062157d59106bd4\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 6, 'created': '2019-03-04 07:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/b43c29a3401eee16a442fa75523e367dc5d82223', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 7, 'created': '2019-03-05 08:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/a5a682fa7ff02aa7aad53b840730f0b578bd89c6', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}, {'number': 8, 'created': '2019-03-05 08:45:26.000000000', 'files': ['tasks/backup_filesystem.yml', 'README-backup-ops.md', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/f3ed94413d75875ed95a0a6a3ecb58f7a1386e34', 'message': 'Added filesystem backup\n\nAdded filesystem backup task, Its documentation and an example\nof how to use it.\n\nChange-Id: I59d48d4f6450373ff416e86b1e911017f02603eb\n'}]",2,637860,f3ed94413d75875ed95a0a6a3ecb58f7a1386e34,23,7,8,22954,,,0,"Added filesystem backup

Added filesystem backup task, Its documentation and an example
of how to use it.

Change-Id: I59d48d4f6450373ff416e86b1e911017f02603eb
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/60/637860/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/restore_filesystem.yml', 'tasks/backup_filesystem.yml', 'defaults/main.yml']",3,27dd7dfb2d711037ee8818d6d896c3ee78b437a0,Bck_Rest_filesystem," # Backup backup_base_dir: ""/var/tmp/"" backup_file: ""system.bck.tar"" backup_dirs: - /etc - /var/lib/nova - /var/lib/glance - /var/lib/keystone - /var/lib/cinder - /var/lib/heat - /var/lib/heat-config - /var/lib/heat-cfntools - /var/lib/rabbitmq - /var/lib/neutron - /var/lib/haproxy - /var/lib/openvswitch - /var/lib/redis - /srv/node - /usr/libexec/os-apply-config/ - /home/heat-admin - /root backup_excludes: - /var/lib/nova/instances # Restore restore_tmp_dir: ""/var/tmp/"" restore_directories: - path: etc/puppet user: root cleaing_directories: - /var/lib/neutron/metadata_proxy - /var/lib/kolla - /var/lib/config-data",,116,0
openstack%2Fnova~stable%2Fpike~I6915b7deca20eabb88c231b287586c64cdcf3646,openstack/nova,stable/pike,I6915b7deca20eabb88c231b287586c64cdcf3646,Migrate nova v2.0 legacy job to zuulv3,MERGED,2018-11-28 11:53:25.000000000,2019-03-15 10:03:15.000000000,2019-03-15 05:09:54.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-28 11:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5542db761a0df3d77cdac2308d2564b3c369183', 'message': 'Migrate nova v2.0 legacy job to zuulv3\n\nThis commit migrate the legacy-tempest-dsvm-nova-v20-api\njob to zullv3 native with new job - tempest-nova-v2-api\n\nChange-Id: I6915b7deca20eabb88c231b287586c64cdcf3646\n(cherry picked from commit f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f)\n'}, {'number': 2, 'created': '2018-11-28 12:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffb0a5ad1cc3be3174f3e9d2abdf8263b6d4b55a', 'message': 'Migrate nova v2.0 legacy job to zuulv3\n\nThis commit migrate the legacy-tempest-dsvm-nova-v20-api\njob to zullv3 native with new job - tempest-nova-v2-api\n\nConflicts:\n      .zuul.yaml\n\nThe conflict is due to Ife046b91c96dd300e8c46125b75623d8e12b8da3\n\nChange-Id: I6915b7deca20eabb88c231b287586c64cdcf3646\n(cherry picked from commit f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f)\n'}, {'number': 3, 'created': '2019-01-25 08:37:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/70eb288ee7993e384a5bdd383c5bc6c2c0128e5c', 'message': 'Migrate nova v2.0 legacy job to zuulv3\n\nThis commit migrate the legacy-tempest-dsvm-nova-v20-api\njob to zullv3 native with new job - tempest-nova-v2-api\n\nConflicts:\n      .zuul.yaml\n\nThe conflict is due to Ife046b91c96dd300e8c46125b75623d8e12b8da3\n\nChange-Id: I6915b7deca20eabb88c231b287586c64cdcf3646\n(cherry picked from commit f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f)\n'}]",0,620579,70eb288ee7993e384a5bdd383c5bc6c2c0128e5c,34,11,3,8556,,,0,"Migrate nova v2.0 legacy job to zuulv3

This commit migrate the legacy-tempest-dsvm-nova-v20-api
job to zullv3 native with new job - tempest-nova-v2-api

Conflicts:
      .zuul.yaml

The conflict is due to Ife046b91c96dd300e8c46125b75623d8e12b8da3

Change-Id: I6915b7deca20eabb88c231b287586c64cdcf3646
(cherry picked from commit f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/620579/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b5542db761a0df3d77cdac2308d2564b3c369183,zuulv3-nova,- job: name: tempest-nova-v2-api parent: devstack-tempest branches: - master description: | This job runs the Tempest compute tests against v2.0 endpoint. Former names for this job was: * legacy-tempest-dsvm-nova-v20-api vars: tox_envlist: all tempest_test_regex: api.*compute devstack_localrc: TEMPEST_COMPUTE_TYPE: compute_legacy - tempest-nova-v2-api:, - legacy-tempest-dsvm-nova-v20-api:,16,1
openstack%2Fplacement~master~I8e1e62518c1c2308a64bb19997fedc219bf8342a,openstack/placement,master,I8e1e62518c1c2308a64bb19997fedc219bf8342a,Move set_traits tests back to test_resource_provider,MERGED,2019-03-14 12:32:05.000000000,2019-03-15 10:02:20.000000000,2019-03-15 10:02:20.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-14 12:32:05.000000000', 'files': ['placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/tests/functional/db/test_trait.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/0a2a611d9fce57e6c38e5d4edbe9b945f07b55b1', 'message': 'Move set_traits tests back to test_resource_provider\n\nThe set_traits related tests were moved in [1] and in the\nreview process it was determined that they should be\nassociated with resource provider-related tests.\n\nPrivate methods used to assert traits in test results are moved\nto test_base.\n\n[1] Ibe11ebd7ccc97a46586edd6c897b173ed67ca134\n\nChange-Id: I8e1e62518c1c2308a64bb19997fedc219bf8342a\n'}]",0,643313,0a2a611d9fce57e6c38e5d4edbe9b945f07b55b1,7,3,1,11564,,,0,"Move set_traits tests back to test_resource_provider

The set_traits related tests were moved in [1] and in the
review process it was determined that they should be
associated with resource provider-related tests.

Private methods used to assert traits in test results are moved
to test_base.

[1] Ibe11ebd7ccc97a46586edd6c897b173ed67ca134

Change-Id: I8e1e62518c1c2308a64bb19997fedc219bf8342a
",git fetch https://review.opendev.org/openstack/placement refs/changes/13/643313/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/tests/functional/db/test_trait.py']",3,0a2a611d9fce57e6c38e5d4edbe9b945f07b55b1,cd/de-list-phase2,," def _assert_traits(self, expected_traits, traits_objs): expected_traits.sort() traits = [] for obj in traits_objs: traits.append(obj.name) traits.sort() self.assertEqual(expected_traits, traits) def _assert_traits_in(self, expected_traits, traits_objs): traits = [trait.name for trait in traits_objs] for expected in expected_traits: self.assertIn(expected, traits) def test_set_traits_for_resource_provider(self): rp = self._create_provider('fake_resource_provider') generation = rp.generation self.assertIsInstance(rp.id, int) trait_names = ['CUSTOM_TRAIT_A', 'CUSTOM_TRAIT_B', 'CUSTOM_TRAIT_C'] tb.set_traits(rp, *trait_names) rp_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp) self._assert_traits(trait_names, rp_traits) self.assertEqual(rp.generation, generation + 1) generation = rp.generation trait_names.remove('CUSTOM_TRAIT_A') updated_traits = trait_obj.get_all( self.ctx, filters={'name_in': trait_names}) self._assert_traits(trait_names, updated_traits) tb.set_traits(rp, *trait_names) rp_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp) self._assert_traits(trait_names, rp_traits) self.assertEqual(rp.generation, generation + 1) def test_set_traits_for_correct_resource_provider(self): """"""This test creates two ResourceProviders, and attaches same trait to both of them. Then detaching the trait from one of them, and ensure the trait still associated with another one. """""" # Create two ResourceProviders rp1 = self._create_provider('fake_resource_provider1') rp2 = self._create_provider('fake_resource_provider2') tname = 'CUSTOM_TRAIT_A' # Associate the trait with two ResourceProviders tb.set_traits(rp1, tname) tb.set_traits(rp2, tname) # Ensure the association rp1_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp1) rp2_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp2) self._assert_traits([tname], rp1_traits) self._assert_traits([tname], rp2_traits) # Detach the trait from one of ResourceProvider, and ensure the # trait association with another ResourceProvider still exists. tb.set_traits(rp1) rp1_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp1) rp2_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp2) self._assert_traits([], rp1_traits) self._assert_traits([tname], rp2_traits) ",64,64
openstack%2Fplacement~master~Ib9365200ebec58002c2456435f858466c6afea7f,openstack/placement,master,Ib9365200ebec58002c2456435f858466c6afea7f,Remove ResourceProviderList class,MERGED,2019-03-08 20:11:31.000000000,2019-03-15 10:02:20.000000000,2019-03-15 10:02:20.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-08 20:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d7a15f368786a4d1fc2f67fa8ef162daf928e565', 'message': ""Remove ResourceProviderList class\n\nThe get_all_by_filters class method is now module level. Callers\nand tests are updated accordingly.\n\nAs there is no longer any package using common.py, it is removed.\n\nLooking at this, it now seems obvious that 'get_all_by_filters' is\noxymoronic but changing it now didn't seem appropriate. We may\nwish to do that in future work.\n\nChange-Id: Ib9365200ebec58002c2456435f858466c6afea7f\n""}, {'number': 2, 'created': '2019-03-09 00:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1c0bfbcbfc91c6b0152c2b30c07469fa095cc6c1', 'message': ""Remove ResourceProviderList class\n\nThe get_all_by_filters class method is now module level. Callers\nand tests are updated accordingly.\n\nAs there is no longer any package using common.py, it is removed.\n\nLooking at this, it now seems obvious that 'get_all_by_filters' is\noxymoronic but changing it now didn't seem appropriate. We may\nwish to do that in future work.\n\nChange-Id: Ib9365200ebec58002c2456435f858466c6afea7f\n""}, {'number': 3, 'created': '2019-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e74f0ad3876b139a17759442df98f02e4870a36e', 'message': ""Remove ResourceProviderList class\n\nThe get_all_by_filters class method is now module level. Callers\nand tests are updated accordingly.\n\nAs there is no longer any package using common.py, it is removed.\n\nLooking at this, it now seems obvious that 'get_all_by_filters' is\noxymoronic but changing it now didn't seem appropriate. We may\nwish to do that in future work.\n\nChange-Id: Ib9365200ebec58002c2456435f858466c6afea7f\n""}, {'number': 4, 'created': '2019-03-11 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/697d5cce4604d324be6c8424f55e264e67f075ee', 'message': ""Remove ResourceProviderList class\n\nThe get_all_by_filters class method is now module level. Callers\nand tests are updated accordingly.\n\nAs there is no longer any package using common.py, it is removed.\n\nLooking at this, it now seems obvious that 'get_all_by_filters' is\noxymoronic but changing it now didn't seem appropriate. We may\nwish to do that in future work.\n\nChange-Id: Ib9365200ebec58002c2456435f858466c6afea7f\n""}, {'number': 5, 'created': '2019-03-12 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e4a53597ac4cd449dbdc97c5aa33fa8bff54a3e6', 'message': ""Remove ResourceProviderList class\n\nThe get_all_by_filters class method is now module level. Callers\nand tests are updated accordingly.\n\nAs there is no longer any package using common.py, it is removed.\n\nLooking at this, it now seems obvious that 'get_all_by_filters' is\noxymoronic but changing it now didn't seem appropriate. We may\nwish to do that in future work.\n\nChange-Id: Ib9365200ebec58002c2456435f858466c6afea7f\n""}, {'number': 6, 'created': '2019-03-13 21:24:57.000000000', 'files': ['placement/handlers/allocation.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/handlers/resource_provider.py', 'placement/objects/common.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/a53aef47b20479d54efbc0f43d96a804b585a77b', 'message': ""Remove ResourceProviderList class\n\nThe get_all_by_filters class method is now module level. Callers\nand tests are updated accordingly.\n\nAs there is no longer any package using common.py, it is removed.\n\nLooking at this, it now seems obvious that 'get_all_by_filters' is\noxymoronic but changing it now didn't seem appropriate. We may\nwish to do that in future work.\n\nChange-Id: Ib9365200ebec58002c2456435f858466c6afea7f\n""}]",2,642138,a53aef47b20479d54efbc0f43d96a804b585a77b,19,5,6,11564,,,0,"Remove ResourceProviderList class

The get_all_by_filters class method is now module level. Callers
and tests are updated accordingly.

As there is no longer any package using common.py, it is removed.

Looking at this, it now seems obvious that 'get_all_by_filters' is
oxymoronic but changing it now didn't seem appropriate. We may
wish to do that in future work.

Change-Id: Ib9365200ebec58002c2456435f858466c6afea7f
",git fetch https://review.opendev.org/openstack/placement refs/changes/38/642138/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/handlers/allocation.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/handlers/resource_provider.py', 'placement/objects/common.py']",5,d7a15f368786a4d1fc2f67fa8ef162daf928e565,cd/de-list-phase2,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. class ObjectList(object): # For FooList, ITEM_CLS = Foo ITEM_CLS = None """"""Provide listiness for objects which are a list of other objects."""""" def __init__(self, objects=None): self.objects = objects or [] def __len__(self): """"""List length is a proxy for truthiness."""""" return len(self.objects) def __getitem__(self, index): return self.objects[index] def __repr__(self): strings = [repr(x) for x in self.objects] return ""%s[%s]"" % (self.__class__.__name__, "", "".join(strings)) @classmethod def _set_objects(cls, context, db_list): list_obj = cls() for db_item in db_list: list_obj.objects.append(cls.ITEM_CLS(context, **db_item)) return list_obj ",237,283
openstack%2Fopenstack-ansible-os_tempest~stable%2Frocky~I4a9fdf9c3ff566ac53dc0d95452a70f57a1c8914,openstack/openstack-ansible-os_tempest,stable/rocky,I4a9fdf9c3ff566ac53dc0d95452a70f57a1c8914,Reuse tempest installed from git clone,ABANDONED,2019-03-15 08:07:19.000000000,2019-03-15 10:00:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-15 08:07:19.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2b72d8286ffc018a10a020097d8526b937c1ae91', 'message': 'Reuse tempest installed from git clone\n\nSince os_tempest role is used to install tempest and run tempest.\nBut we are installing tempest from pip which does not\nmake any sense to install it in a venv as the latest version will\nbe already there. Removing it from there.\n\nChange-Id: I4a9fdf9c3ff566ac53dc0d95452a70f57a1c8914\n'}]",0,643522,2b72d8286ffc018a10a020097d8526b937c1ae91,3,1,1,12393,,,0,"Reuse tempest installed from git clone

Since os_tempest role is used to install tempest and run tempest.
But we are installing tempest from pip which does not
make any sense to install it in a venv as the latest version will
be already there. Removing it from there.

Change-Id: I4a9fdf9c3ff566ac53dc0d95452a70f57a1c8914
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/22/643522/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2b72d8286ffc018a10a020097d8526b937c1ae91,debug-stable/rocky,, - tempest,0,1
openstack%2Fironic~master~I1d5f0dab41638be1df9d63ede267f5a6d9f8c566,openstack/ironic,master,I1d5f0dab41638be1df9d63ede267f5a6d9f8c566,Fix lower-constraints job,MERGED,2019-03-14 06:01:59.000000000,2019-03-15 09:36:06.000000000,2019-03-14 12:50:13.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 17499}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-03-14 06:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a540638947f2b8af1eb4140eb36176acef32d34c', 'message': 'TEST lower-constraint job\n\nSpotted log:\n\nhttp://logs.openstack.org/02/642402/6/check/openstack-tox-lower-constraints/ca317fe/job-output.txt.gz#_2019-03-14_01_51_01_006156\n\nChange-Id: I1d5f0dab41638be1df9d63ede267f5a6d9f8c566\n'}, {'number': 2, 'created': '2019-03-14 08:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42ca2025600041c870e1867e391b7b79751cc7f8', 'message': 'TEST lower-constraints job\n\nSpotted log:\n\nhttp://logs.openstack.org/02/642402/6/check/openstack-tox-lower-constraints/ca317fe/job-output.txt.gz#_2019-03-14_01_51_01_006156\n\nChange-Id: I1d5f0dab41638be1df9d63ede267f5a6d9f8c566\n'}, {'number': 3, 'created': '2019-03-14 09:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/060024b6523cb6e76d2f513b1b82cc151379c6c2', 'message': ""TEST lower-constraints job\n\nSpotted log:\n\nhttp://logs.openstack.org/02/642402/6/check/openstack-tox-lower-constraints/ca317fe/job-output.txt.gz#_2019-03-14_01_51_01_006156\n\nSeems it's not only a package requirement, psycopg also has issue to\nsupport postgres > 10.0\n\nChange-Id: I1d5f0dab41638be1df9d63ede267f5a6d9f8c566\n""}, {'number': 4, 'created': '2019-03-14 09:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99bfd1f98bd2f29aea92a467ea1377f329da5c28', 'message': ""TEST lower-constraints job\n\nSpotted log:\n\nhttp://logs.openstack.org/02/642402/6/check/openstack-tox-lower-constraints/ca317fe/job-output.txt.gz#_2019-03-14_01_51_01_006156\n\nSeems it's not only a package requirement, psycopg also has issue to\nsupport postgres > 10.0\n\nChange-Id: I1d5f0dab41638be1df9d63ede267f5a6d9f8c566\n""}, {'number': 5, 'created': '2019-03-14 09:33:21.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2eceb3c8ab18e7151f27e8b756ceeaad7ad46b2d', 'message': 'Fix lower-constraints job\n\nlower-constraints job is broken due to fail to install psycopg.\n\nSpotted log:\n\nhttp://logs.openstack.org/02/642402/6/check/openstack-tox-lower-constraints/ca317fe/job-output.txt.gz#_2019-03-14_01_51_01_006156\n\nAdd libpq-dev to the bindep and bump psycopg version to >= 2.7 as evidence\nshows it has a bug to support PostgreSQL >= 10.0 [1]\n\n[1] https://github.com/getredash/redash/pull/2111\n\nChange-Id: I1d5f0dab41638be1df9d63ede267f5a6d9f8c566\n'}]",2,643231,2eceb3c8ab18e7151f27e8b756ceeaad7ad46b2d,24,9,5,24828,,,0,"Fix lower-constraints job

lower-constraints job is broken due to fail to install psycopg.

Spotted log:

http://logs.openstack.org/02/642402/6/check/openstack-tox-lower-constraints/ca317fe/job-output.txt.gz#_2019-03-14_01_51_01_006156

Add libpq-dev to the bindep and bump psycopg version to >= 2.7 as evidence
shows it has a bug to support PostgreSQL >= 10.0 [1]

[1] https://github.com/getredash/redash/pull/2111

Change-Id: I1d5f0dab41638be1df9d63ede267f5a6d9f8c566
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/643231/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a540638947f2b8af1eb4140eb36176acef32d34c,add-pgsql,postgresql-server-dev-10 [platform:dpkg],,1,0
openstack%2Ftripleo-ci~master~I418803970e506b41a69016ad0c63fb9050ba7845,openstack/tripleo-ci,master,I418803970e506b41a69016ad0c63fb9050ba7845,Adds tripleo-ci-fedora-28-scenario00[1234]-standalone,ABANDONED,2019-03-06 17:19:40.000000000,2019-03-15 09:33:03.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-06 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b255ad927af5afefdc99732812b642c9d5c91913', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 2, 'created': '2019-03-06 17:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfe34a126bd47c6818ffb2725dc63147774aa5e7', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 3, 'created': '2019-03-06 17:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93c63a22fd0e76e8d60acb50b7b3597d5be45df4', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 4, 'created': '2019-03-06 17:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23b02d63e04c7982cdf2e76c1abffcc78886b3ac', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nMoves files patterns to a centralized place in order to avoid\nconfiguration duplication.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 5, 'created': '2019-03-07 11:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/38c3bcc41c9f0315be104ce0c172ee8d8ee15092', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nMoves files patterns to a centralized place in order to avoid\nconfiguration duplication.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 6, 'created': '2019-03-09 14:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0799530a76ffdd4178024f01161e786f70f5530f', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nMoves files patterns to a centralized place in order to avoid\nconfiguration duplication.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 7, 'created': '2019-03-12 14:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6866e43ab100a214ccf8f512bd12db00d5fc6b3f', 'message': '[DNM] Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nMoves files patterns to a centralized place in order to avoid\nconfiguration duplication.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}, {'number': 8, 'created': '2019-03-12 14:46:33.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/44e86b0992dac654bea661987941eedf3f724a50', 'message': 'Adds tripleo-ci-fedora-28-scenario00[1234]-standalone\n\nNon-voting and based on centos-7 definitions, only nodeset being\ndifferent.\n\nMoves files patterns to a centralized place in order to avoid\nconfiguration duplication.\n\nChange-Id: I418803970e506b41a69016ad0c63fb9050ba7845\n'}]",1,641447,44e86b0992dac654bea661987941eedf3f724a50,22,7,8,24162,,,0,"Adds tripleo-ci-fedora-28-scenario00[1234]-standalone

Non-voting and based on centos-7 definitions, only nodeset being
different.

Moves files patterns to a centralized place in order to avoid
configuration duplication.

Change-Id: I418803970e506b41a69016ad0c63fb9050ba7845
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/641447/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,b255ad927af5afefdc99732812b642c9d5c91913,oooq/f28-scenarios, - tripleo-ci-centos-7-scenario001-standalone files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ci/environments/scenario001-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - zuul.d/layout.yaml # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ - job: name: tripleo-ci-fedora-28-scenario001-standalone voting: false parent: tripleo-ci-centos-7-scenario001-standalone nodeset: single-fedora-28-node - job: name: tripleo-ci-fedora-28-scenario002-standalone voting: false parent: tripleo-ci-centos-7-scenario002-standalone nodeset: single-fedora-28-node - job: name: tripleo-ci-fedora-28-scenario003-standalone voting: false parent: tripleo-ci-centos-7-scenario003-standalone nodeset: single-fedora-28-node - job: name: tripleo-ci-fedora-28-scenario004-standalone voting: false parent: tripleo-ci-centos-7-scenario004-standalone nodeset: single-fedora-28-node, files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ci/environments/scenario001-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - zuul.d/layout.yaml # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* - roles/ceph-loop-device/.* # scen1/4 ceph - tripleo-ci-centos-7-scenario001-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ci/environments/scenario001-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - zuul.d/layout.yaml # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ ,67,89
openstack%2Freleases~master~I6f44af590cee8e3b44d6e90804d1280269e570d7,openstack/releases,master,I6f44af590cee8e3b44d6e90804d1280269e570d7,Release sushy 1.8.1 for Stein,MERGED,2019-03-14 09:33:51.000000000,2019-03-15 09:26:55.000000000,2019-03-15 09:26:55.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 14288}, {'_account_id': 16312}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 09:33:51.000000000', 'files': ['deliverables/stein/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/588214f9822821aea5156f40a39aed5c65079749', 'message': 'Release sushy 1.8.1 for Stein\n\nThe 1.8.0 release contained an issue in its JSON code, that apparently\naffects rsd-lib, making them pin non-final version conflicting with u-c:\nhttps://github.com/openstack/rsd-lib/commit/e3a061f4d2bf70e3a2f9411f810d328c065658f1\nThis, in turn, breaks packagers (e.g. RDO).\n\nChange-Id: I6f44af590cee8e3b44d6e90804d1280269e570d7\n'}]",0,643258,588214f9822821aea5156f40a39aed5c65079749,12,7,1,10239,,,0,"Release sushy 1.8.1 for Stein

The 1.8.0 release contained an issue in its JSON code, that apparently
affects rsd-lib, making them pin non-final version conflicting with u-c:
https://github.com/openstack/rsd-lib/commit/e3a061f4d2bf70e3a2f9411f810d328c065658f1
This, in turn, breaks packagers (e.g. RDO).

Change-Id: I6f44af590cee8e3b44d6e90804d1280269e570d7
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/643258/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sushy.yaml'],1,588214f9822821aea5156f40a39aed5c65079749,sushy-stein, - projects: - hash: 88ef6fea392574e55dac7e74cfa4ecb66318deb4 repo: openstack/sushy version: 1.8.1,,4,0
openstack%2Frpm-packaging~master~I0aaf9019792f6ffe3db0d15ee947892378551638,openstack/rpm-packaging,master,I0aaf9019792f6ffe3db0d15ee947892378551638,python-novaclient: Update to 13.0.0,MERGED,2019-03-12 05:29:22.000000000,2019-03-15 09:19:52.000000000,2019-03-15 09:19:52.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 05:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/45d39d5f7e7e7c239e637027b79f4c54dd7b77e0', 'message': 'python-novaclient: Update to 13.0.0\n\nChange-Id: I0aaf9019792f6ffe3db0d15ee947892378551638\n'}, {'number': 2, 'created': '2019-03-12 10:09:06.000000000', 'files': ['openstack/python-novaclient/python-novaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2aa08dedf5ae67a34b3243df1ee665219ea55429', 'message': 'python-novaclient: Update to 13.0.0\n\nChange-Id: I0aaf9019792f6ffe3db0d15ee947892378551638\n'}]",0,642647,2aa08dedf5ae67a34b3243df1ee665219ea55429,17,5,2,7102,,,0,"python-novaclient: Update to 13.0.0

Change-Id: I0aaf9019792f6ffe3db0d15ee947892378551638
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/642647/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-novaclient/python-novaclient.spec.j2'],1,45d39d5f7e7e7c239e637027b79f4c54dd7b77e0,642647,{% set upstream_version = upstream_version('13.0.0') %}BuildRequires: {{ py2pkg('sphinxcontrib-apidoc') }}PBR_VERSION={{ upstream_version }} sphinx-build -b html -d doc/build/doctrees doc/source doc/build/htmlrm -fr doc/build/html/.doctrees doc/build/html/.buildinfo,{% set upstream_version = upstream_version('11.0.0') %}%{__python2} setup.py build_sphinxrm -fr html/.doctrees html/.buildinfo,4,3
openstack%2Fui-cookiecutter~master~Iad915c80b33f6fd6d9e74590dba0988a0b4c9620,openstack/ui-cookiecutter,master,Iad915c80b33f6fd6d9e74590dba0988a0b4c9620,Run node jobs using version 4 on xenial nodes,MERGED,2019-03-14 00:22:38.000000000,2019-03-15 09:08:07.000000000,2019-03-15 09:08:07.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 00:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/aa57991bf98c0cdd0c8f063ef2454bae5c5e648e', 'message': 'Run node jobs using version 4 on xenial nodes\n\nUntil such a time as we figure out a strategy off of 4 for these\njobs, we should run them on xenial.\n\nChange-Id: Iad915c80b33f6fd6d9e74590dba0988a0b4c9620\n'}, {'number': 2, 'created': '2019-03-14 00:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/1c4b494ef1173afa5a3a1da00aaed5e49316d65e', 'message': 'Run node jobs using version 4 on xenial nodes\n\nUntil such a time as we figure out a strategy off of 4 for these\njobs, we should run them on xenial.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: Iad915c80b33f6fd6d9e74590dba0988a0b4c9620\n'}, {'number': 3, 'created': '2019-03-15 08:04:08.000000000', 'files': ['{{cookiecutter.repo_name}}/.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/0968d228c22d49f7da83b1eaafbcc6da096fd32a', 'message': 'Run node jobs using version 4 on xenial nodes\n\nUntil such a time as we figure out a strategy off of 4 for these\njobs, we should run them on xenial.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: Iad915c80b33f6fd6d9e74590dba0988a0b4c9620\n'}]",0,643197,0968d228c22d49f7da83b1eaafbcc6da096fd32a,11,2,3,2,,,0,"Run node jobs using version 4 on xenial nodes

Until such a time as we figure out a strategy off of 4 for these
jobs, we should run them on xenial.

Depends-On: https://review.openstack.org/643198
Change-Id: Iad915c80b33f6fd6d9e74590dba0988a0b4c9620
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/97/643197/3 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/.zuul.yaml'],1,aa57991bf98c0cdd0c8f063ef2454bae5c5e648e,nodev4-xenial, nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial,,4,0
openstack%2Fmanila~master~I423de87cf09caa522817a9b949dbf448be833587,openstack/manila,master,I423de87cf09caa522817a9b949dbf448be833587,Fix logging in wsgi module,MERGED,2019-02-15 20:11:51.000000000,2019-03-15 09:01:53.000000000,2019-03-14 21:07:33.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-02-15 20:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/86629239eb66eddb9246ce63ba7f753bae281685', 'message': 'Fix logging in wsgi module\n\n- Method names in the wsgi module are\n  being logged incorrectly, like ""Calling method\n  <bound method METHODNAME of CLASS object at HEXADDR>"".\n- The body attribute needs to be decoded when logging.\n- HTTP Status codes can be passed as strings.\n\nTrivialFix\nChange-Id: I423de87cf09caa522817a9b949dbf448be833587\n'}, {'number': 2, 'created': '2019-03-14 17:22:13.000000000', 'files': ['manila/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7ed71490ef236e6241725362826e181591f86102', 'message': 'Fix logging in wsgi module\n\n- Method names in the wsgi module are\n  being logged incorrectly, like ""Calling method\n  <bound method METHODNAME of CLASS object at HEXADDR>"".\n- The body attribute needs to be decoded when logging.\n- HTTP Status codes can be passed as strings.\n\nTrivialFix\nChange-Id: I423de87cf09caa522817a9b949dbf448be833587\n'}]",0,637292,7ed71490ef236e6241725362826e181591f86102,24,12,2,16643,,,0,"Fix logging in wsgi module

- Method names in the wsgi module are
  being logged incorrectly, like ""Calling method
  <bound method METHODNAME of CLASS object at HEXADDR>"".
- The body attribute needs to be decoded when logging.
- HTTP Status codes can be passed as strings.

TrivialFix
Change-Id: I423de87cf09caa522817a9b949dbf448be833587
",git fetch https://review.opendev.org/openstack/manila refs/changes/92/637292/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/openstack/wsgi.py'],1,86629239eb66eddb9246ce63ba7f753bae281685,TrivialFix,"from oslo_utils import encodeutils try: method_name = meth.__qualname__ except AttributeError: method_name = 'Controller: %s Method: %s' % ( six.text_type(self.controller), meth.__name__) if body: decoded_body = encodeutils.safe_decode(body, errors='ignore') 'body': decoded_body, 'meth': method_name} LOG.debug(""Calling method '%(meth)s'"", {'meth': method_name}) msg = _(""%(url)s returned with HTTP %(status)s"") % msg_dict"," if body: 'body': six.text_type(body), 'meth': six.text_type(meth)} LOG.debug(""Calling method '%(meth)s'"", {'meth': six.text_type(meth)}) msg = _(""%(url)s returned with HTTP %(status)d"") % msg_dict",12,5
openstack%2Fos-brick~stable%2Fpike~I7a5bdf285a74e045ce7d11df5e8c0921d3447106,openstack/os-brick,stable/pike,I7a5bdf285a74e045ce7d11df5e8c0921d3447106,Handle multiple errors in multipath -l parsing,MERGED,2019-03-13 18:05:27.000000000,2019-03-15 09:01:28.000000000,2019-03-15 01:35:48.000000000,"[{'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14892}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-03-13 18:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0438e33925604238a6300dfc48918a565947b8de', 'message': 'Handle multiple errors in multipath -l parsing\n\nThe current code in linuxscsi.py handles the case where there is one\nerror in the output of ""multipath -l"", but when there are multiple\nerrors there is an empty line between error messages. The code filters\nout the error lines but not the empty lines, and so it then looks for\nthe device name in an empty line and so it fails to parse it.\n\nCloses-Bug: #1778468\nChange-Id: I7a5bdf285a74e045ce7d11df5e8c0921d3447106\n(cherry picked from commit 9b729ef0e7461f5ca2d80b7f991aeacf547a1819)\n(cherry picked from commit dbe9ec6c6d7585667d9dce9cd5234b926c3e1936)\n'}, {'number': 4, 'created': '2019-03-13 23:41:27.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7ce585438f219d5c90839ec496930526024a751e', 'message': 'Handle multiple errors in multipath -l parsing\n\nThe current code in linuxscsi.py handles the case where there is one\nerror in the output of ""multipath -l"", but when there are multiple\nerrors there is an empty line between error messages. The code filters\nout the error lines but not the empty lines, and so it then looks for\nthe device name in an empty line and so it fails to parse it.\n\nCloses-Bug: #1778468\nChange-Id: I7a5bdf285a74e045ce7d11df5e8c0921d3447106\n(cherry picked from commit 9b729ef0e7461f5ca2d80b7f991aeacf547a1819)\n'}]",0,643120,7ce585438f219d5c90839ec496930526024a751e,40,14,2,14892,,,0,"Handle multiple errors in multipath -l parsing

The current code in linuxscsi.py handles the case where there is one
error in the output of ""multipath -l"", but when there are multiple
errors there is an empty line between error messages. The code filters
out the error lines but not the empty lines, and so it then looks for
the device name in an empty line and so it fails to parse it.

Closes-Bug: #1778468
Change-Id: I7a5bdf285a74e045ce7d11df5e8c0921d3447106
(cherry picked from commit 9b729ef0e7461f5ca2d80b7f991aeacf547a1819)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/20/643120/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,0438e33925604238a6300dfc48918a565947b8de,bug/1778468-stable/pike," if not re.match(MULTIPATH_ERROR_REGEX, line) and len(line)]"," if not re.match(MULTIPATH_ERROR_REGEX, line)]",40,1
openstack%2Fnova~master~If3e3fe590cbc7426cd00aad8441c1a69708c0eff,openstack/nova,master,If3e3fe590cbc7426cd00aad8441c1a69708c0eff,Add armv6l to Architecture enum,ABANDONED,2019-03-14 20:56:13.000000000,2019-03-15 08:45:02.000000000,,"[{'_account_id': 4393}, {'_account_id': 14070}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-03-14 20:56:13.000000000', 'files': ['nova/virt/arch.py', 'nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/559976f3631b85654b6bac6fba4aebea9766e196', 'message': ""Add armv6l to Architecture enum\n\nA new architecture, 'armv6l', is being returned in libvirt capabilities,\nwhich causes nova-compute to error with the following:\n\nInvalidArchitectureName: Architecture name 'armv6l' is not recognised\n\nThis change adds 'armv6l' to the architecture enum.\n\nChange-Id: If3e3fe590cbc7426cd00aad8441c1a69708c0eff\n""}]",0,643455,559976f3631b85654b6bac6fba4aebea9766e196,8,5,1,14826,,,0,"Add armv6l to Architecture enum

A new architecture, 'armv6l', is being returned in libvirt capabilities,
which causes nova-compute to error with the following:

InvalidArchitectureName: Architecture name 'armv6l' is not recognised

This change adds 'armv6l' to the architecture enum.

Change-Id: If3e3fe590cbc7426cd00aad8441c1a69708c0eff
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/643455/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/arch.py', 'nova/objects/fields.py']",2,559976f3631b85654b6bac6fba4aebea9766e196,armv6l, ARMV6L = arch.ARMV6L,,3,1
openstack%2Fironic~master~I72c19b46f63b139a1a4b1fd0f6c41a1e62e65383,openstack/ironic,master,I72c19b46f63b139a1a4b1fd0f6c41a1e62e65383,Deprecates `hash_distribution_replicas` config option,MERGED,2019-03-13 10:57:47.000000000,2019-03-15 08:39:04.000000000,2019-03-15 08:38:15.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 17499}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26297}, {'_account_id': 28429}, {'_account_id': 30013}]","[{'number': 1, 'created': '2019-03-13 10:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7229189a03a892ecc1711addd21777b750d9d827', 'message': 'Deprecates `hash_distribution_replicas` config option\n\n`hash_distribution_replicas` was an experimental feature. It accounted for\nthe number of hosts to map onto each hash partition and caused a couple of bugs.\n\nStory: #1680160\nTask: #10585\n\nChange-Id: I72c19b46f63b139a1a4b1fd0f6c41a1e62e65383\n'}, {'number': 2, 'created': '2019-03-13 12:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ebcb507e8838db477b9998769174feddadac31c', 'message': 'Deprecates `hash_distribution_replicas` config option\n\nThe `hash_distribution_replicas` was an experimental feature. It accounted for\nthe number of hosts to map onto each hash partition and caused a couple of bugs.\n\nStory: #1680160\nTask: #10585\n\nChange-Id: I72c19b46f63b139a1a4b1fd0f6c41a1e62e65383\n'}, {'number': 3, 'created': '2019-03-14 07:14:09.000000000', 'files': ['releasenotes/notes/deprecate-hash-distribution-replicas-ef0626ccc592b70e.yaml', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c266df8be21f9e73136e96ba42cf04e5f49bae2', 'message': 'Deprecates `hash_distribution_replicas` config option\n\nThe `hash_distribution_replicas` was an experimental feature. It accounted for\nthe number of hosts to map onto each hash partition and caused a couple of bugs.\n\nStory: #1680160\nTask: #10585\n\nChange-Id: I72c19b46f63b139a1a4b1fd0f6c41a1e62e65383\n'}]",6,643002,9c266df8be21f9e73136e96ba42cf04e5f49bae2,32,12,3,30013,,,0,"Deprecates `hash_distribution_replicas` config option

The `hash_distribution_replicas` was an experimental feature. It accounted for
the number of hosts to map onto each hash partition and caused a couple of bugs.

Story: #1680160
Task: #10585

Change-Id: I72c19b46f63b139a1a4b1fd0f6c41a1e62e65383
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/643002/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-hash-distribution-replicas-ef0626ccc592b70e.yaml', 'doc/source/admin/report.txt', 'ironic/conductor/base_manager.py', 'ironic/conf/default.py', 'ironic/conductor/rpcapi.py']",5,7229189a03a892ecc1711addd21777b750d9d827,DEPRECATE-HASH-DISTRIBUTION-REPLICAS, dest = ring.get_nodes(node.uuid.encode('utf-8'))," dest = ring.get_nodes(node.uuid.encode('utf-8'), replicas=CONF.hash_distribution_replicas)",9,6
openstack%2Fui-cookiecutter~master~I00f7939997283284a11b15733c51965ef9e7a861,openstack/ui-cookiecutter,master,I00f7939997283284a11b15733c51965ef9e7a861,Use ubuntu-xenial for nodeset,MERGED,2019-03-15 07:47:25.000000000,2019-03-15 08:34:41.000000000,2019-03-15 08:34:41.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 07:47:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/eb5c1601fb2af1adc43a7f3102cae0db21e65b68', 'message': 'Use ubuntu-xenial for nodeset\n\nUntil bionic nodeset becomming available.\n\nChange-Id: I00f7939997283284a11b15733c51965ef9e7a861\n'}]",0,643520,eb5c1601fb2af1adc43a7f3102cae0db21e65b68,6,2,1,16352,,,0,"Use ubuntu-xenial for nodeset

Until bionic nodeset becomming available.

Change-Id: I00f7939997283284a11b15733c51965ef9e7a861
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/20/643520/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb5c1601fb2af1adc43a7f3102cae0db21e65b68,nodeset-xenial, nodeset: ubuntu-xenial,,1,0
openstack%2Fkeystone~master~I592ca4962794dc34cb549c65f911c795cdf7f749,openstack/keystone,master,I592ca4962794dc34cb549c65f911c795cdf7f749,Fix the incorrect release name of project guide,MERGED,2019-03-13 08:45:37.000000000,2019-03-15 08:28:38.000000000,2019-03-14 19:28:34.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-03-13 08:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f36a123b18e043faedbbad665640da02c224651c', 'message': 'Fix the incorrect release name of project guide\n\nChange-Id: I592ca4962794dc34cb549c65f911c795cdf7f749\nCloses-Bug: #1819299\n'}, {'number': 2, 'created': '2019-03-14 08:18:36.000000000', 'files': ['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index-obs.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fd5da18bf61a1ac9653f8f6afc8ddbb91d1f34f1', 'message': 'Fix the incorrect release name of project guide\n\nbackport: rocky\n\nChange-Id: I592ca4962794dc34cb549c65f911c795cdf7f749\nCloses-Bug: #1819299\n'}]",0,642972,fd5da18bf61a1ac9653f8f6afc8ddbb91d1f34f1,13,4,2,19779,,,0,"Fix the incorrect release name of project guide

backport: rocky

Change-Id: I592ca4962794dc34cb549c65f911c795cdf7f749
Closes-Bug: #1819299
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/642972/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index-obs.rst']",3,f36a123b18e043faedbbad665640da02c224651c,bug/1819299,This guide documents the OpenStack Stein release.,This guide documents the OpenStack Queens release.,3,3
openstack%2Fdevstack~stable%2Fpike~Id133108e0436018be81fca74a15ff29a4fe2e796,openstack/devstack,stable/pike,Id133108e0436018be81fca74a15ff29a4fe2e796,Fixed git show for upper-constraints.txt in lib/tempest,MERGED,2019-03-14 18:12:19.000000000,2019-03-15 08:10:43.000000000,2019-03-15 08:10:43.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 18:12:19.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dc9219039700d4d3a8d2a87ad2d6fdb9eabecb90', 'message': 'Fixed git show for upper-constraints.txt in lib/tempest\n\nChange-Id: Id133108e0436018be81fca74a15ff29a4fe2e796\nCloses-Bug: #1789643\n(cherry picked from commit 6465219ec39ea3ec75e796b3bd80b96550470546)\n'}]",0,643415,dc9219039700d4d3a8d2a87ad2d6fdb9eabecb90,9,5,1,8556,,,0,"Fixed git show for upper-constraints.txt in lib/tempest

Change-Id: Id133108e0436018be81fca74a15ff29a4fe2e796
Closes-Bug: #1789643
(cherry picked from commit 6465219ec39ea3ec75e796b3bd80b96550470546)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/643415/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,dc9219039700d4d3a8d2a87ad2d6fdb9eabecb90,bug/1789643-stable/pike, (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > u-c-m.txt,1,1
openstack%2Fdevstack~stable%2Fqueens~Id133108e0436018be81fca74a15ff29a4fe2e796,openstack/devstack,stable/queens,Id133108e0436018be81fca74a15ff29a4fe2e796,Fixed git show for upper-constraints.txt in lib/tempest,MERGED,2019-03-14 18:12:02.000000000,2019-03-15 07:52:35.000000000,2019-03-15 07:52:35.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 18:12:02.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9cbcba53ab7c2fa7c4e6b8f4181348105238371', 'message': 'Fixed git show for upper-constraints.txt in lib/tempest\n\nChange-Id: Id133108e0436018be81fca74a15ff29a4fe2e796\nCloses-Bug: #1789643\n(cherry picked from commit 6465219ec39ea3ec75e796b3bd80b96550470546)\n'}]",0,643414,e9cbcba53ab7c2fa7c4e6b8f4181348105238371,9,5,1,8556,,,0,"Fixed git show for upper-constraints.txt in lib/tempest

Change-Id: Id133108e0436018be81fca74a15ff29a4fe2e796
Closes-Bug: #1789643
(cherry picked from commit 6465219ec39ea3ec75e796b3bd80b96550470546)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/643414/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,e9cbcba53ab7c2fa7c4e6b8f4181348105238371,bug/1789643-stable/queens, (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > u-c-m.txt,1,1
openstack%2Fplacement~master~I50e69aececf0d1afd3218bb2d63407b273757b29,openstack/placement,master,I50e69aececf0d1afd3218bb2d63407b273757b29,Remove InventoryList class,MERGED,2019-03-08 18:59:02.000000000,2019-03-15 07:48:44.000000000,2019-03-15 07:48:44.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-08 18:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9cb7016c145b107beb28b8ebeca929789f9873a4', 'message': ""Remove InventoryList class\n\nThe two methods from the class, 'find' and\n'get_all_by_resource_provider' are made module-level and tests\nand callers updated as required. The signature on find changes to\ntake a list of Inventory objects as its first arg.\n\nChange-Id: I50e69aececf0d1afd3218bb2d63407b273757b29\n""}, {'number': 2, 'created': '2019-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8526b193f9723d0b2db0c959e70d5a7f8d514875', 'message': ""Remove InventoryList class\n\nThe two methods from the class, 'find' and\n'get_all_by_resource_provider' are made module-level and tests\nand callers updated as required. The signature on find changes to\ntake a list of Inventory objects as its first arg.\n\nChange-Id: I50e69aececf0d1afd3218bb2d63407b273757b29\n""}, {'number': 3, 'created': '2019-03-11 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/401e7471bf78bd9960ee6a77a6888df3ac08ec4d', 'message': ""Remove InventoryList class\n\nThe two methods from the class, 'find' and\n'get_all_by_resource_provider' are made module-level and tests\nand callers updated as required. The signature on find changes to\ntake a list of Inventory objects as its first arg.\n\nChange-Id: I50e69aececf0d1afd3218bb2d63407b273757b29\n""}, {'number': 4, 'created': '2019-03-12 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3598ce53537ac48da39029a98c7561734ea09ce7', 'message': ""Remove InventoryList class\n\nThe two methods from the class, 'find' and\n'get_all_by_resource_provider' are made module-level and tests\nand callers updated as required. The signature on find changes to\ntake a list of Inventory objects as its first arg.\n\nChange-Id: I50e69aececf0d1afd3218bb2d63407b273757b29\n""}, {'number': 5, 'created': '2019-03-13 21:24:57.000000000', 'files': ['placement/objects/inventory.py', 'placement/tests/functional/db/test_allocation.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/tests/functional/db/test_usage.py', 'placement/objects/reshaper.py', 'placement/tests/functional/db/test_reshape.py', 'placement/tests/functional/db/test_base.py', 'placement/handlers/reshaper.py', 'placement/tests/unit/objects/test_inventory.py', 'placement/handlers/inventory.py', 'placement/tests/functional/db/test_resource_class.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/f23137beeef99cf287dd1761b8e19610958501cb', 'message': ""Remove InventoryList class\n\nThe two methods from the class, 'find' and\n'get_all_by_resource_provider' are made module-level and tests\nand callers updated as required. The signature on find changes to\ntake a list of Inventory objects as its first arg.\n\nChange-Id: I50e69aececf0d1afd3218bb2d63407b273757b29\n""}]",4,642112,f23137beeef99cf287dd1761b8e19610958501cb,20,6,5,11564,,,0,"Remove InventoryList class

The two methods from the class, 'find' and
'get_all_by_resource_provider' are made module-level and tests
and callers updated as required. The signature on find changes to
take a list of Inventory objects as its first arg.

Change-Id: I50e69aececf0d1afd3218bb2d63407b273757b29
",git fetch https://review.opendev.org/openstack/placement refs/changes/12/642112/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/inventory.py', 'placement/tests/functional/db/test_allocation.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/tests/functional/db/test_usage.py', 'placement/objects/reshaper.py', 'placement/tests/functional/db/test_reshape.py', 'placement/tests/functional/db/test_base.py', 'placement/handlers/reshaper.py', 'placement/tests/unit/objects/test_inventory.py', 'placement/handlers/inventory.py', 'placement/tests/functional/db/test_resource_class.py']",12,9cb7016c145b107beb28b8ebeca929789f9873a4,cd/de-list-phase2, rp.set_inventory([inv]) rp.set_inventory([]), inv_list = inv_obj.InventoryList(objects=[inv]) rp.set_inventory(inv_list) rp.set_inventory(inv_obj.InventoryList(objects=[])),113,143
openstack%2Fplacement~master~Ia1ad18585194236647ec2c83480254531a619e91,openstack/placement,master,Ia1ad18585194236647ec2c83480254531a619e91,Move Inventory and InventoryList to own file,MERGED,2019-03-08 18:59:02.000000000,2019-03-15 07:48:43.000000000,2019-03-15 07:48:43.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-08 18:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3969b870b1a73ea00ea0a808b0cfcc7287d8ca60', 'message': 'Move Inventory and InventoryList to own file\n\nThe Inventory and InventoryList classes are moved to an\ninventory.py file. Tests and other callers are udpated\nto reflect the new location.\n\nA new unit.objects.test_inventory is created. A\nfunctional.db.test_inventory is _not_ created because though\nthere are inventory related tests within test_resource_provider\nthey are within a ResourceProvider-related class and teasing\nout the ones that are for the sake of just Inventory versus\nfor both Inventory and ResourceProvider is not entirely\nclear.\n\nChange-Id: Ia1ad18585194236647ec2c83480254531a619e91\n'}, {'number': 2, 'created': '2019-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a8587a29c6863453fa5e3ca344859bb3e3947464', 'message': 'Move Inventory and InventoryList to own file\n\nThe Inventory and InventoryList classes are moved to an\ninventory.py file. Tests and other callers are udpated\nto reflect the new location.\n\nA new unit.objects.test_inventory is created. A\nfunctional.db.test_inventory is _not_ created because though\nthere are inventory related tests within test_resource_provider\nthey are within a ResourceProvider-related class and teasing\nout the ones that are for the sake of just Inventory versus\nfor both Inventory and ResourceProvider is not entirely\nclear.\n\nChange-Id: Ia1ad18585194236647ec2c83480254531a619e91\n'}, {'number': 3, 'created': '2019-03-11 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/12924e788fecfb1f7963d05870a7d547798fdb37', 'message': 'Move Inventory and InventoryList to own file\n\nThe Inventory and InventoryList classes are moved to an\ninventory.py file. Tests and other callers are udpated\nto reflect the new location.\n\nA new unit.objects.test_inventory is created. A\nfunctional.db.test_inventory is _not_ created because though\nthere are inventory related tests within test_resource_provider\nthey are within a ResourceProvider-related class and teasing\nout the ones that are for the sake of just Inventory versus\nfor both Inventory and ResourceProvider is not entirely\nclear.\n\nChange-Id: Ia1ad18585194236647ec2c83480254531a619e91\n'}, {'number': 4, 'created': '2019-03-12 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d0f40a7fc92bf1f8f3012ea7dc3043d8dbb0d9c0', 'message': 'Move Inventory and InventoryList to own file\n\nThe Inventory and InventoryList classes are moved to an\ninventory.py file. Tests and other callers are udpated\nto reflect the new location.\n\nA new unit.objects.test_inventory is created. A\nfunctional.db.test_inventory is _not_ created because though\nthere are inventory related tests within test_resource_provider\nthey are within a ResourceProvider-related class and teasing\nout the ones that are for the sake of just Inventory versus\nfor both Inventory and ResourceProvider is not entirely\nclear.\n\nChange-Id: Ia1ad18585194236647ec2c83480254531a619e91\n'}, {'number': 5, 'created': '2019-03-13 21:24:57.000000000', 'files': ['placement/objects/inventory.py', 'placement/tests/functional/db/test_allocation.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/tests/functional/db/test_usage.py', 'placement/objects/reshaper.py', 'placement/tests/functional/db/test_reshape.py', 'placement/tests/functional/db/test_base.py', 'placement/tests/unit/objects/test_resource_provider.py', 'placement/handlers/reshaper.py', 'placement/tests/unit/objects/test_inventory.py', 'placement/handlers/inventory.py', 'placement/tests/functional/db/test_resource_class.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/ca3ade76162d1d1e7b9d1018b18ad7e5c4c930d2', 'message': 'Move Inventory and InventoryList to own file\n\nThe Inventory and InventoryList classes are moved to an\ninventory.py file. Tests and other callers are udpated\nto reflect the new location.\n\nA new unit.objects.test_inventory is created. A\nfunctional.db.test_inventory is _not_ created because though\nthere are inventory related tests within test_resource_provider\nthey are within a ResourceProvider-related class and teasing\nout the ones that are for the sake of just Inventory versus\nfor both Inventory and ResourceProvider is not entirely\nclear.\n\nChange-Id: Ia1ad18585194236647ec2c83480254531a619e91\n'}]",6,642111,ca3ade76162d1d1e7b9d1018b18ad7e5c4c930d2,16,5,5,11564,,,0,"Move Inventory and InventoryList to own file

The Inventory and InventoryList classes are moved to an
inventory.py file. Tests and other callers are udpated
to reflect the new location.

A new unit.objects.test_inventory is created. A
functional.db.test_inventory is _not_ created because though
there are inventory related tests within test_resource_provider
they are within a ResourceProvider-related class and teasing
out the ones that are for the sake of just Inventory versus
for both Inventory and ResourceProvider is not entirely
clear.

Change-Id: Ia1ad18585194236647ec2c83480254531a619e91
",git fetch https://review.opendev.org/openstack/placement refs/changes/11/642111/4 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/inventory.py', 'placement/tests/functional/db/test_allocation.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/tests/functional/db/test_usage.py', 'placement/objects/reshaper.py', 'placement/tests/functional/db/test_reshape.py', 'placement/tests/functional/db/test_base.py', 'placement/tests/unit/objects/test_resource_provider.py', 'placement/handlers/reshaper.py', 'placement/tests/unit/objects/test_inventory.py', 'placement/handlers/inventory.py', 'placement/tests/functional/db/test_resource_class.py']",13,3969b870b1a73ea00ea0a808b0cfcc7287d8ca60,cd/de-list-phase2,from placement.objects import inventory as inv_obj inv = inv_obj.Inventory( inv_list = inv_obj.InventoryList(objects=[inv]) rp.set_inventory(inv_obj.InventoryList(objects=[])), inv = rp_obj.Inventory( inv_list = rp_obj.InventoryList(objects=[inv]) rp.set_inventory(rp_obj.InventoryList(objects=[])),325,274
openstack%2Fironic~master~I074347748e1ce0f749f47ce30d4cb123a70dc2b8,openstack/ironic,master,I074347748e1ce0f749f47ce30d4cb123a70dc2b8,Fix idrac Job.state renamed to Job.status,MERGED,2019-03-13 19:18:05.000000000,2019-03-15 07:47:40.000000000,2019-03-14 21:24:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-03-13 19:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e18b9b798c7cc7b4133d9875ea7f037ecb4e0d3', 'message': 'Fix idrac Job.state renamed to Job.status\n\nIn python-dracclient 0.1.0, the Job.state field was renamed to\nJob.status. The old name was left for backwards compatibility, but was\nremoved in python-dracclient 2.0.0.\n\nThis change uses the new field name, to avoid an AttributeError in\npython-dracclient 2.0.0 onwards.\n\nAlso modifies the drac unit tests to use the Job, RAIDController,\nPhysicalDisk and VirtualDisk objects from the dracclient library when\navailable.\n\nChange-Id: I074347748e1ce0f749f47ce30d4cb123a70dc2b8\nStory: 2005225\nTask: 30007\n'}, {'number': 2, 'created': '2019-03-14 08:24:30.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_job.py', 'ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/fix-drac-job-state-8c5422bbeaf15226.yaml', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/drac/test_periodic_task.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82cd13177caf74b570b29c23ad07a74aa94d8785', 'message': 'Fix idrac Job.state renamed to Job.status\n\nIn python-dracclient 0.1.0, the Job.state field was renamed to\nJob.status. The old name was left for backwards compatibility, but was\nremoved in python-dracclient 2.0.0.\n\nThis change uses the new field name, to avoid an AttributeError in\npython-dracclient 2.0.0 onwards.\n\nAlso modifies the drac unit tests to use the Job, RAIDController,\nPhysicalDisk and VirtualDisk objects from the dracclient library when\navailable.\n\nChange-Id: I074347748e1ce0f749f47ce30d4cb123a70dc2b8\nStory: 2005225\nTask: 30007\n'}]",0,643142,82cd13177caf74b570b29c23ad07a74aa94d8785,22,10,2,14826,,,0,"Fix idrac Job.state renamed to Job.status

In python-dracclient 0.1.0, the Job.state field was renamed to
Job.status. The old name was left for backwards compatibility, but was
removed in python-dracclient 2.0.0.

This change uses the new field name, to avoid an AttributeError in
python-dracclient 2.0.0 onwards.

Also modifies the drac unit tests to use the Job, RAIDController,
PhysicalDisk and VirtualDisk objects from the dracclient library when
available.

Change-Id: I074347748e1ce0f749f47ce30d4cb123a70dc2b8
Story: 2005225
Task: 30007
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/643142/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_job.py', 'ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/fix-drac-job-state-8c5422bbeaf15226.yaml', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/drac/test_periodic_task.py']",6,7e18b9b798c7cc7b4133d9875ea7f037ecb4e0d3,story/2005225," 'status': 'Running', 'status': 'ok', 'raid_status': 'online', self.job['status'] = 'Completed' self.job['status'] = 'Failed' self.job['status'] = 'Completed' self.job['status'] = 'Completed' self.job['status'] = 'Completed' failed_job['status'] = 'Failed'"," 'state': 'Running', 'state': 'ok', 'raid_state': 'online', self.job['state'] = 'Completed' self.job['state'] = 'Failed' self.job['state'] = 'Completed' self.job['state'] = 'Completed' self.job['state'] = 'Completed' failed_job['state'] = 'Failed'",87,43
openstack%2Fopenstack-helm-addons~master~I040fe3a60d4d10e101238a4d760da14cbb18bf31,openstack/openstack-helm-addons,master,I040fe3a60d4d10e101238a4d760da14cbb18bf31,Add release-uuid annotation to pod spec,MERGED,2019-02-12 18:36:41.000000000,2019-03-15 07:41:41.000000000,2019-03-15 07:41:41.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-02-12 18:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/bb2c7277ba813a61abbf05ea08b10911d484639b', 'message': 'Add release-uuid annotation to pod spec\n\nThis adds the release-uuid annotation to the pod spec for all\nreplication controller templates in the openstack-helm-addons\ncharts\n\nChange-Id: I040fe3a60d4d10e101238a4d760da14cbb18bf31\n'}, {'number': 2, 'created': '2019-03-15 06:00:25.000000000', 'files': ['ranger/templates/deployment-ranger-services.yaml', 'ranger-agent/templates/deployment-ranger-agent-api.yaml', 'artifactory/templates/statefulset.yaml', 'mini-mirror/templates/deployment-mini-mirror.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/15b5f31291f694d16bde980dc04b4b7ea31e83ac', 'message': 'Add release-uuid annotation to pod spec\n\nThis adds the release-uuid annotation to the pod spec for all\nreplication controller templates in the openstack-helm-addons\ncharts\n\nChange-Id: I040fe3a60d4d10e101238a4d760da14cbb18bf31\n'}]",0,636417,15b5f31291f694d16bde980dc04b4b7ea31e83ac,14,5,2,17591,,,0,"Add release-uuid annotation to pod spec

This adds the release-uuid annotation to the pod spec for all
replication controller templates in the openstack-helm-addons
charts

Change-Id: I040fe3a60d4d10e101238a4d760da14cbb18bf31
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/17/636417/2 && git format-patch -1 --stdout FETCH_HEAD,"['ranger-agent/templates/deployment-ranger-agent-api.yaml', 'ranger/templates/deployment-ranger-services.yaml', 'artifactory/templates/statefulset.yaml', 'mini-mirror/templates/deployment-mini-mirror.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml']",5,bb2c7277ba813a61abbf05ea08b10911d484639b,update-annotations,"{{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }}",,8,0
openstack%2Fopenstack-helm-infra~master~I17aecd4f977ed897bb0771edc9acafd4479777d1,openstack/openstack-helm-infra,master,I17aecd4f977ed897bb0771edc9acafd4479777d1,Ceph-RGW code cleanup,MERGED,2019-02-04 19:20:33.000000000,2019-03-15 07:40:49.000000000,2019-03-15 07:40:49.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28701}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-04 19:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c4ca03f851c4ea0d8017f1c1fa868b5d28f2578', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 2, 'created': '2019-02-04 21:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75eead2f62f8ffc48ebbcb96716757cc73aa39b8', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 3, 'created': '2019-02-04 23:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ca51b8921ee33cbd1cd0a4fd6cc4818655b3dd5', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 4, 'created': '2019-02-07 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7cbba6b6556c56fead3c96e68d5688f9400aa4c6', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 5, 'created': '2019-02-08 05:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b93878b469f0c3f4f2d46b072f74f5c8d1031764', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 6, 'created': '2019-02-21 17:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1161776025fde6245ad88800e467b948ad9d5183', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 7, 'created': '2019-02-23 00:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02581a0a5c087605c10f80c983cd9074a5cefd4a', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 8, 'created': '2019-03-06 07:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f8d75ad8b8a35b6414bda82efc97b899087145c', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 9, 'created': '2019-03-12 07:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37fa524a023fd479a3004f0db69bca7788bf8e80', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}, {'number': 10, 'created': '2019-03-15 05:03:13.000000000', 'files': ['ceph-rgw/templates/secret-keystone.yaml', 'ceph-rgw/templates/job-ks-service.yaml', 'ceph-rgw/templates/job-ks-user.yaml', 'ceph-rgw/templates/job-ks-endpoints.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/configmap-bin-ks.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3552406832cb8874e74f819cbc9d86861058ab05', 'message': ""Ceph-RGW code cleanup\n\nCurrently both 'deployment:rgw_keystone_user_and_endpoints`\nand 'conf: rgw_ks' are used and set to true to deploy\nceph-rgw with keystone integration.\n\nGoing forward, we should only use `conf: rgw_ks: enabled: true`\nto deploy ceph-rgw with keystone integration.\n\nChange-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1\n""}]",0,634782,3552406832cb8874e74f819cbc9d86861058ab05,36,7,10,24165,,,0,"Ceph-RGW code cleanup

Currently both 'deployment:rgw_keystone_user_and_endpoints`
and 'conf: rgw_ks' are used and set to true to deploy
ceph-rgw with keystone integration.

Going forward, we should only use `conf: rgw_ks: enabled: true`
to deploy ceph-rgw with keystone integration.

Change-Id: I17aecd4f977ed897bb0771edc9acafd4479777d1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/82/634782/10 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/secret-keystone.yaml', 'ceph-rgw/templates/job-ks-service.yaml', 'ceph-rgw/templates/job-ks-user.yaml', 'ceph-rgw/templates/job-ks-endpoints.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/configmap-bin-ks.yaml']",6,2c4ca03f851c4ea0d8017f1c1fa868b5d28f2578,ceph-rgw-code-cleanup,{{- if and .Values.manifests.configmap_bin_ks .Values.conf.rgw_ks.enabled }},{{- if and .Values.manifests.configmap_bin_ks .Values.deployment.rgw_keystone_user_and_endpoints }},5,6
openstack%2Fneutron~master~Idb93835f2312625d649231c1baa2a3c566096825,openstack/neutron,master,Idb93835f2312625d649231c1baa2a3c566096825,Fix pylint R1717 (consider-using-dict-comprehension) refactor messages,MERGED,2019-02-21 00:48:03.000000000,2019-03-15 07:37:41.000000000,2019-03-15 05:24:38.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-02-21 00:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcca9d341f0acd025519dea032d61976967e3ca1', 'message': ""Fix pylint R1717 (consider-using-dict-comprehension) refactor messages\n\nDon't create an intermediate list before creating a dict.\n\nChange-Id: Idb93835f2312625d649231c1baa2a3c566096825\n""}, {'number': 2, 'created': '2019-02-21 03:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b906c506048c752631328e752747f17ee5dbd0ef', 'message': ""Fix pylint R1717 (consider-using-dict-comprehension) refactor messages\n\nDon't create an intermediate list before creating a dict.\n\nChange-Id: Idb93835f2312625d649231c1baa2a3c566096825\n""}, {'number': 3, 'created': '2019-02-21 03:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3bd43e865d341ecbf5d6acb7661f0fee7d4cb7f', 'message': ""Fix pylint R1717 (consider-using-dict-comprehension) refactor messages\n\nDon't create an intermediate list before creating a dict.\n\nChange-Id: Idb93835f2312625d649231c1baa2a3c566096825\n""}, {'number': 4, 'created': '2019-02-21 03:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69f3fbdbe7debc8e19e463bbd3dddc58e675184a', 'message': ""Fix pylint R1717 (consider-using-dict-comprehension) refactor messages\n\nDon't create an intermediate list before creating a dict.\n\nChange-Id: Idb93835f2312625d649231c1baa2a3c566096825\n""}, {'number': 5, 'created': '2019-02-21 21:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b4c720970ce3ee6505a45fb0f26610d06e1ad0e', 'message': ""Fix pylint R1717 (consider-using-dict-comprehension) refactor messages\n\nDon't create an intermediate list before creating a dict.\n\nChange-Id: Idb93835f2312625d649231c1baa2a3c566096825\n""}, {'number': 6, 'created': '2019-03-14 23:19:58.000000000', 'files': ['.pylintrc', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e4f625da69d128465178a51488044e9551be1be', 'message': ""Fix pylint R1717 (consider-using-dict-comprehension) refactor messages\n\nDon't create an intermediate list before creating a dict.\n\nChange-Id: Idb93835f2312625d649231c1baa2a3c566096825\n""}]",1,638305,8e4f625da69d128465178a51488044e9551be1be,46,8,6,1131,,,0,"Fix pylint R1717 (consider-using-dict-comprehension) refactor messages

Don't create an intermediate list before creating a dict.

Change-Id: Idb93835f2312625d649231c1baa2a3c566096825
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/638305/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py']",4,fcca9d341f0acd025519dea032d61976967e3ca1,pylint-R1717," (a, mock.DEFAULT) for a in ['active', 'interface_name'] attrs_to_mock = dict((a, mock.DEFAULT) for a in ['active', 'interface_name']) attrs_to_mock = dict((a, mock.DEFAULT) for a in ['active', 'interface_name']) (a, mock.DEFAULT) for a in ['_output_opts_file', 'get_conf_file_name', 'interface_name']"," [(a, mock.DEFAULT) for a in ['active', 'interface_name']] attrs_to_mock = dict([(a, mock.DEFAULT) for a in ['active', 'interface_name']]) attrs_to_mock = dict([(a, mock.DEFAULT) for a in ['active', 'interface_name']]) [(a, mock.DEFAULT) for a in ['_output_opts_file', 'get_conf_file_name', 'interface_name']]",18,19
openstack%2Fcharm-neutron-api~master~Iff75ab3b4dda91be29d4349b8a9796d943c5fe44,openstack/charm-neutron-api,master,Iff75ab3b4dda91be29d4349b8a9796d943c5fe44,Mark min-l3-agents-per-router as deprecated for >= O,MERGED,2019-03-13 12:03:36.000000000,2019-03-15 07:32:57.000000000,2019-03-15 07:32:57.000000000,"[{'_account_id': 6737}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 12:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/65909809cd611224b57b6bef51f468c77f3ea8b8', 'message': 'Mark min-l3-agents-per-router as deprecated for >= O\n\nChange-Id: Iff75ab3b4dda91be29d4349b8a9796d943c5fe44\nCloses-Bug: #1819902\n'}, {'number': 2, 'created': '2019-03-13 18:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/4a830d30ae2872200db45950c7689bd40f55fb4c', 'message': 'Mark min-l3-agents-per-router as deprecated for >= O\n\nChange-Id: Iff75ab3b4dda91be29d4349b8a9796d943c5fe44\nCloses-Bug: #1819902\n'}, {'number': 3, 'created': '2019-03-14 19:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/a8c125e3197bf672b7f3d8baa3f1bc434d0509a8', 'message': 'Mark min-l3-agents-per-router as deprecated for >= O\n\nDeprecated in O and removed in P to be precise so\nremoving from neutron.conf templates for >= P and\nmarking as deprecated from O in config.yaml.\n\nChange-Id: Iff75ab3b4dda91be29d4349b8a9796d943c5fe44\nCloses-Bug: #1819902\n'}, {'number': 4, 'created': '2019-03-14 19:37:03.000000000', 'files': ['templates/pike/neutron.conf', 'templates/queens/neutron.conf', 'config.yaml', 'templates/rocky/neutron.conf', 'templates/ocata/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c9103a668a3d6efcedd7735282f75ae773a9bf89', 'message': 'Mark min-l3-agents-per-router as deprecated for >= O\n\nDeprecated in N and removed in O to be precise so\nremoving from neutron.conf templates for >= O and\nmarking as deprecated from N in config.yaml.\n\nChange-Id: Iff75ab3b4dda91be29d4349b8a9796d943c5fe44\nCloses-Bug: #1819902\n'}]",2,643026,c9103a668a3d6efcedd7735282f75ae773a9bf89,17,4,4,6737,,,0,"Mark min-l3-agents-per-router as deprecated for >= O

Deprecated in N and removed in O to be precise so
removing from neutron.conf templates for >= O and
marking as deprecated from N in config.yaml.

Change-Id: Iff75ab3b4dda91be29d4349b8a9796d943c5fe44
Closes-Bug: #1819902
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/26/643026/4 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,65909809cd611224b57b6bef51f468c77f3ea8b8,bug/1819902, . NOTE: This option was deprecated in Newton and removed in Ocata so will have no effect from then onwards., allow-automatic-l3agent-failover:,3,1
openstack%2Fopenstack-helm~master~I83017db7e47bbfae4e09be08c92a62475750d3d7,openstack/openstack-helm,master,I83017db7e47bbfae4e09be08c92a62475750d3d7,Zuul: Add osh nodeset to bandit checks,MERGED,2019-03-15 05:29:25.000000000,2019-03-15 07:01:46.000000000,2019-03-15 07:01:46.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 05:29:25.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/91466b69114f712836046fcdb8a36cc39e70146f', 'message': 'Zuul: Add osh nodeset to bandit checks\n\nThis ps adds the osh nodeset to bandit checks\n\nChange-Id: I83017db7e47bbfae4e09be08c92a62475750d3d7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,643508,91466b69114f712836046fcdb8a36cc39e70146f,7,3,1,23928,,,0,"Zuul: Add osh nodeset to bandit checks

This ps adds the osh nodeset to bandit checks

Change-Id: I83017db7e47bbfae4e09be08c92a62475750d3d7
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/08/643508/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,91466b69114f712836046fcdb8a36cc39e70146f,, nodeset: openstack-helm-single-node,,1,0
openstack%2Fwatcher~master~I89d1e9df681be7b11127338fea63ee25bc1fb81e,openstack/watcher,master,I89d1e9df681be7b11127338fea63ee25bc1fb81e,[WIP] fix watcherclient tempest error,ABANDONED,2019-03-14 09:25:31.000000000,2019-03-15 06:56:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-14 09:25:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/91a5456357f90e4d0dfb72bc94169fb39f8b4311', 'message': '[WIP] fix watcherclient tempest error\n\nChange-Id: I89d1e9df681be7b11127338fea63ee25bc1fb81e\n'}]",0,643254,91a5456357f90e4d0dfb72bc94169fb39f8b4311,3,1,1,28748,,,0,"[WIP] fix watcherclient tempest error

Change-Id: I89d1e9df681be7b11127338fea63ee25bc1fb81e
",git fetch https://review.opendev.org/openstack/watcher refs/changes/54/643254/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,91a5456357f90e4d0dfb72bc94169fb39f8b4311,, TEMPEST_PLUGINS: python-watcherclient, TEMPEST_PLUGINS: /opt/stack/python-watcherclient,1,1
openstack%2Fcongress-dashboard~master~Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d,openstack/congress-dashboard,master,Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d,Drop py35 jobs,MERGED,2019-03-06 09:24:08.000000000,2019-03-15 06:55:52.000000000,2019-03-15 06:55:52.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-03-06 09:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/a0dc8629b19846a9d683ec6555a847b836751d9d', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d\n'}, {'number': 2, 'created': '2019-03-14 17:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/c84025b3eba9ea1b5b60d435bd8108906bd622e6', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d\n'}, {'number': 3, 'created': '2019-03-15 06:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/c9ca10ca4fdc417947fd1657abf24e5508dd51ef', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d\n'}, {'number': 4, 'created': '2019-03-15 06:30:41.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/97cc90da486e03bd705cf607015e5735a642d716', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d\n'}]",1,641285,97cc90da486e03bd705cf607015e5735a642d716,18,4,4,29313,,,0,"Drop py35 jobs

Python 3.5 was the target runtime for the Rocky release. The current
target py3 runtime for Stein is Python 3.6, so there is no reason to
keep testing against the older version.

https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: Ibd0fb9d3a87bd8c83c55298f4f3a7e0714fdc33d
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/85/641285/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a0dc8629b19846a9d683ec6555a847b836751d9d,,"envlist = py36,py27,pep8","envlist = py36,py35,py27,pep8",1,2
openstack%2Ffreezer-web-ui~master~Ifdb9f64533cadb865ad896ce7f0c0cb5840a6a31,openstack/freezer-web-ui,master,Ifdb9f64533cadb865ad896ce7f0c0cb5840a6a31,Dumplicate words was deleted in  moment.js,NEW,2019-01-07 02:09:30.000000000,2019-03-15 06:55:33.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-01-07 02:09:30.000000000', 'files': ['disaster_recovery/static/freezer/js/vendor/moment.js'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/7f156e45ac7f355dc450d90eb167f51c952b05f5', 'message': 'Dumplicate words was deleted in  moment.js\n\nChange-Id: Ifdb9f64533cadb865ad896ce7f0c0cb5840a6a31\n'}]",0,628819,7f156e45ac7f355dc450d90eb167f51c952b05f5,7,4,1,29423,,,0,"Dumplicate words was deleted in  moment.js

Change-Id: Ifdb9f64533cadb865ad896ce7f0c0cb5840a6a31
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/19/628819/1 && git format-patch -1 --stdout FETCH_HEAD,['disaster_recovery/static/freezer/js/vendor/moment.js'],1,7f156e45ac7f355dc450d90eb167f51c952b05f5,," // which months you are talking about, so we have to store"," // which months you are are talking about, so we have to store",1,1
openstack%2Fopenstack-helm-infra~master~Iaa97a9f7699a47d13c25b9e2e4249c37c29e4559,openstack/openstack-helm-infra,master,Iaa97a9f7699a47d13c25b9e2e4249c37c29e4559,Elasticsearch: Update locations for apache virtual host,MERGED,2019-02-20 16:53:28.000000000,2019-03-15 06:32:51.000000000,2019-03-15 06:32:51.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-20 16:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/927530e5220502b322b189a0387e864f40ec0a20', 'message': 'Elasticsearch: Set deny all for Update and Update By Query paths\n\nThis sets the default access for the Update and Update By Query\npaths for the Elasticsearch http API to deny all. This sets a\nrestrictive default control that prohibits modification of any\nexisting indexed documents.\n\nChange-Id: Iaa97a9f7699a47d13c25b9e2e4249c37c29e4559\n'}, {'number': 2, 'created': '2019-02-20 18:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af16e1c7a4e557ae7a9f730d2c97fb18f14373a0', 'message': ""Elasticsearch: Update locations for apache virtual host\n\nThis begins to break out the various location paths for the\nElasticsearch apache-proxy virtual host.  These include:\n\n- Deny all access to the update document api\n- Deny all access to the update by query api\n- Deny all access to the delete by query api\n- Prohibit the DELETE method on all document api endpoints\n\nThis helps ensure that documents can't be updated or deleted once\nindexed into Elasticsearch\n\nChange-Id: Iaa97a9f7699a47d13c25b9e2e4249c37c29e4559\n""}, {'number': 3, 'created': '2019-03-06 03:09:02.000000000', 'files': ['elasticsearch/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2db75d3e806a3c2901b223a33c77b500938a3d7', 'message': ""Elasticsearch: Update locations for apache virtual host\n\nThis begins to break out the various location paths for the\nElasticsearch apache-proxy virtual host.  These include:\n\n- Deny all access to the update document api\n- Deny all access to the update by query api\n- Deny all access to the delete by query api\n- Prohibit the DELETE method on all document api endpoints\n\nThis helps ensure that documents can't be updated or deleted once\nindexed into Elasticsearch\n\nChange-Id: Iaa97a9f7699a47d13c25b9e2e4249c37c29e4559\n""}]",0,638211,b2db75d3e806a3c2901b223a33c77b500938a3d7,11,3,3,17591,,,0,"Elasticsearch: Update locations for apache virtual host

This begins to break out the various location paths for the
Elasticsearch apache-proxy virtual host.  These include:

- Deny all access to the update document api
- Deny all access to the update by query api
- Deny all access to the delete by query api
- Prohibit the DELETE method on all document api endpoints

This helps ensure that documents can't be updated or deleted once
indexed into Elasticsearch

Change-Id: Iaa97a9f7699a47d13c25b9e2e4249c37c29e4559
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/638211/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,927530e5220502b322b189a0387e864f40ec0a20,elasticsearch-update-api, </Location> # Restrict access to the Elasticsearch Update API endpoint to prevent modification of indexed documents <Location /*/_doc/*/_update*> Require all denied </Location> # Restrict access to the Elasticsearch Update By Query API Endpoint to prevent modification of indexed documents <Location /*/_update_by_query*> Require all denied </Location>, </Location> <Proxy *> </Proxy>,9,3
openstack%2Fwatcher~master~I9fe992be8f54de51f0c8e0a9fcf7880c68360929,openstack/watcher,master,I9fe992be8f54de51f0c8e0a9fcf7880c68360929,Access to action's uuid by key,MERGED,2019-03-14 09:04:50.000000000,2019-03-15 06:30:13.000000000,2019-03-15 05:01:09.000000000,"[{'_account_id': 9373}, {'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-03-14 09:04:50.000000000', 'files': ['watcher/decision_engine/planner/workload_stabilization.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e830d3793ec21b0d36e22033237cfa81ce35993c', 'message': ""Access to action's uuid by key\n\nChange-Id: I9fe992be8f54de51f0c8e0a9fcf7880c68360929\nCloses-Bug: #1818962\n""}]",0,643249,e830d3793ec21b0d36e22033237cfa81ce35993c,10,6,1,13323,,,0,"Access to action's uuid by key

Change-Id: I9fe992be8f54de51f0c8e0a9fcf7880c68360929
Closes-Bug: #1818962
",git fetch https://review.opendev.org/openstack/watcher refs/changes/49/643249/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/planner/workload_stabilization.py'],1,e830d3793ec21b0d36e22033237cfa81ce35993c,bug/1818962," self._mapping(resource_action_map, host_name, action['uuid'],"," self._mapping(resource_action_map, host_name, action.uuid,",1,1
openstack%2Fopenstack-helm~master~If2d83d82a720d7a1a39729bbf3bddc226af3ba20,openstack/openstack-helm,master,If2d83d82a720d7a1a39729bbf3bddc226af3ba20,Fix placement of privilege escalation in Glance.,MERGED,2019-03-06 22:29:28.000000000,2019-03-15 06:29:32.000000000,2019-03-15 06:29:32.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-03-06 22:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9596a8aca9d1e6bcabb35ce6ade149dba02078de', 'message': 'Fix placement of privilege escalation in Glance.\n\nIn a previous patch set (https://review.openstack.org/#/c/629300/),\nthe ""allowPrivilegeEscalation"" flag was set to false for one of the\ninit containers, but it was intended to be used for the glance-api\ncontainer.\n\nChange-Id: If2d83d82a720d7a1a39729bbf3bddc226af3ba20\n'}, {'number': 2, 'created': '2019-03-15 04:52:50.000000000', 'files': ['glance/templates/deployment-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d0a93d3370c127b4980f3e9d1059b1f6e85cb82c', 'message': 'Fix placement of privilege escalation in Glance.\n\nIn a previous patch set (https://review.openstack.org/#/c/629300/),\nthe ""allowPrivilegeEscalation"" flag was set to false for one of the\ninit containers, but it was intended to be used for the glance-api\ncontainer.\n\nChange-Id: If2d83d82a720d7a1a39729bbf3bddc226af3ba20\n'}]",0,641502,d0a93d3370c127b4980f3e9d1059b1f6e85cb82c,13,10,2,22636,,,0,"Fix placement of privilege escalation in Glance.

In a previous patch set (https://review.openstack.org/#/c/629300/),
the ""allowPrivilegeEscalation"" flag was set to false for one of the
init containers, but it was intended to be used for the glance-api
container.

Change-Id: If2d83d82a720d7a1a39729bbf3bddc226af3ba20
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/02/641502/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/templates/deployment-api.yaml'],1,9596a8aca9d1e6bcabb35ce6ade149dba02078de,, securityContext: allowPrivilegeEscalation: false, securityContext: allowPrivilegeEscalation: false,2,2
openstack%2Fopenstack-helm~master~I59e21bd5cde7e239320125e9a7e0a33adae578a8,openstack/openstack-helm,master,I59e21bd5cde7e239320125e9a7e0a33adae578a8,[neutron] 'up' interfaces added via ovs auto_bridge_add,MERGED,2019-03-07 21:49:11.000000000,2019-03-15 06:29:31.000000000,2019-03-15 06:29:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29668}]","[{'number': 1, 'created': '2019-03-07 21:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0bd06dc4e7732bfdf0803d62ff17837c640ccd2d', 'message': ""[neutron] 'up' interfaces added via ovs auto_bridge_add\n\nPreviously, when adding interfaces to an ovs bridge we would set the\nlink state to up.  Some environments assume this is the case so\nrestore that behavior.\n\nThis fixes the problem where external (public) IPs for routers and VMs\nno longer respond.\n\nChange-Id: I59e21bd5cde7e239320125e9a7e0a33adae578a8\n""}, {'number': 2, 'created': '2019-03-12 08:03:48.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dcd7ebf37b0333191c9be07cd7e8f6a5fdadd567', 'message': ""[neutron] 'up' interfaces added via ovs auto_bridge_add\n\nPreviously, when adding interfaces to an ovs bridge we would set the\nlink state to up.  Some environments assume this is the case so\nrestore that behavior.\n\nThis fixes the problem where external (public) IPs for routers and VMs\nno longer respond.\n\nChange-Id: I59e21bd5cde7e239320125e9a7e0a33adae578a8\n""}]",0,641812,dcd7ebf37b0333191c9be07cd7e8f6a5fdadd567,13,4,2,8898,,,0,"[neutron] 'up' interfaces added via ovs auto_bridge_add

Previously, when adding interfaces to an ovs bridge we would set the
link state to up.  Some environments assume this is the case so
restore that behavior.

This fixes the problem where external (public) IPs for routers and VMs
no longer respond.

Change-Id: I59e21bd5cde7e239320125e9a7e0a33adae578a8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/641812/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,0bd06dc4e7732bfdf0803d62ff17837c640ccd2d,neutron-ovs-set-iface-up, ip link set dev $iface up,,1,0
openstack%2Fnova~master~I9c9689aa1fb75702c5ad339983d18f794f925d97,openstack/nova,master,I9c9689aa1fb75702c5ad339983d18f794f925d97,libvirt: Improve 'qemu-img convert' performance,ABANDONED,2017-11-22 02:21:10.000000000,2019-03-15 06:12:38.000000000,,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12175}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17920}, {'_account_id': 20722}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26490}, {'_account_id': 26515}, {'_account_id': 28203}]","[{'number': 1, 'created': '2017-11-22 02:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca1e201e9a6ca18a2dcc1f0c926602ceed52ddb', 'message': 'Libvirt: improve convert image performace in qemu-img\n\nAdd -t none option to qemu-img when converting image from qcow2 to\nother format image (raw/volume) with a very large size.\n\nCloses-Bug: #1484992\nChange-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97\n'}, {'number': 2, 'created': '2017-11-24 03:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd1c171a24cc40f78856fba86c0ec91bc79c954b', 'message': 'Libvirt: improve \'qemu-img convert\' performance\n\nWe use `qemu-img convert` to convert image format in Nova.\n\n`qemu-img convert` has some options to leverage cache to speed up\nconvert progress.\n\nconvert [-c] [-p] [-q] [-n] [-f fmt] [-t cache] [-T src_cache] [-O\noutput_fmt] [-o options] [-s snapshot_name] [-S sparse_size] filename\n[filename2 [...]] output_filename\n\nBy default:\n\n1. src_cache = ""writeback""\n\n/* Default to cache=writeback as data integrity is not important for\n * qemu-img */\n\nSo no need to change this option.\n\n2. cache = ""unsafe""\n\nThis will use host\'s page cache, so the performance will be unpredictable .\n\nThis patch adds `-t none` option to set cache to ""none "" to enable sparse\nfile handling & TRIM working, saving time on writing GB\'s worth of zeros at\n\nCloses-Bug: #1484992\nChange-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97\n'}, {'number': 3, 'created': '2017-11-24 14:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d49534b67f729630f39f6e58042018c6f6066cf', 'message': 'libvirt: Improve \'qemu-img convert\' performance\n\nWe use \'qemu-img convert\' to convert image format in nova. This has some\noptions to leverage cache to speed up the conversion progress.\n\n  convert [-c] [-p] [-q] [-n] [-f fmt] [-t cache] [-T src_cache]\n    [-O output_fmt] [-o options] [-s snapshot_name] [-S sparse_size]\n    filename [filename2 [...]] output_filename\n\nThe following cache defaults are used.\n\n- src_cache = ""writeback""\n- cache = ""unsafe""\n\nAs data integrity is not important, the \'src_cache\' default of\n\'writeback\' is appropriate. However, the default for \'cache\', \'unsafe\',\nwill use the host\'s page cache resulting in unpredicatable performance\nand another option should be used.\n\nAdd the \'-t none\' option to set \'cache\' to \'none\'. This enables sparse\nfile handling & TRIM working, saving us time when writing GBs worth of\nzeros.\n\nChange-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97\nCloses-Bug: #1484992\n'}, {'number': 4, 'created': '2018-03-20 06:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eceff630043b3e593b15136befcc3270943436eb', 'message': 'libvirt: Improve \'qemu-img convert\' performance\n\nWe use \'qemu-img convert\' to convert image format in nova. This has some\noptions to leverage cache to speed up the conversion progress.\n\n  convert [-c] [-p] [-q] [-n] [-f fmt] [-t cache] [-T src_cache]\n    [-O output_fmt] [-o options] [-s snapshot_name] [-S sparse_size]\n    filename [filename2 [...]] output_filename\n\nThe following cache defaults are used.\n\n- src_cache = ""writeback""\n- cache = ""unsafe""\n\nAs data integrity is not important, the \'src_cache\' default of\n\'writeback\' is appropriate. However, the default for \'cache\', \'unsafe\',\nwill use the host\'s page cache resulting in unpredicatable performance\nand another option should be used.\n\nAdd the \'-t none\' option to set \'cache\' to \'none\'. This enables sparse\nfile handling & TRIM working, saving us time when writing GBs worth of\nzeros.\n\nChange-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97\nCloses-Bug: #1484992\n'}, {'number': 5, 'created': '2018-05-17 09:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66fbedeb02ce6810e7369b79f5b3fa36aa36b6c2', 'message': 'libvirt: Improve \'qemu-img convert\' performance\n\nWe use \'qemu-img convert\' to convert image format in nova. This has some\noptions to leverage cache to speed up the conversion progress.\n\n  convert [-c] [-p] [-q] [-n] [-f fmt] [-t cache] [-T src_cache]\n    [-O output_fmt] [-o options] [-s snapshot_name] [-S sparse_size]\n    filename [filename2 [...]] output_filename\n\nThe following cache defaults are used.\n\n- src_cache = ""writeback""\n- cache = ""unsafe""\n\nAs data integrity is not important, the \'src_cache\' default of\n\'writeback\' is appropriate. However, the default for \'cache\', \'unsafe\',\nwill use the host\'s page cache resulting in unpredicatable performance\nand another option should be used.\n\nAdd the \'-t none\' option to set \'cache\' to \'none\'. This enables sparse\nfile handling & TRIM working, saving us time when writing GBs worth of\nzeros.\n\nChange-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97\nCloses-Bug: #1484992\n'}, {'number': 6, 'created': '2018-05-17 13:32:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1c749238b75c9778ce4a9a50b77f33a4f5ed126', 'message': 'libvirt: Improve \'qemu-img convert\' performance\n\nWe use \'qemu-img convert\' to convert image format in nova. This has some\noptions to leverage cache to speed up the conversion progress.\n\n  convert [-c] [-p] [-q] [-n] [-f fmt] [-t cache] [-T src_cache]\n    [-O output_fmt] [-o options] [-s snapshot_name] [-S sparse_size]\n    filename [filename2 [...]] output_filename\n\nThe following cache defaults are used.\n\n- src_cache = ""writeback""\n- cache = ""unsafe""\n\nAs data integrity is not important, the \'src_cache\' default of\n\'writeback\' is appropriate. However, the default for \'cache\', \'unsafe\',\nwill use the host\'s page cache resulting in unpredicatable performance\nand another option should be used.\n\nAdd the \'-t none\' option to set \'cache\' to \'none\'. This enables sparse\nfile handling & TRIM working, saving us time when writing GBs worth of\nzeros.\n\nChange-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97\nCloses-Bug: #1484992\n'}]",15,522067,c1c749238b75c9778ce4a9a50b77f33a4f5ed126,92,28,6,12175,,,0,"libvirt: Improve 'qemu-img convert' performance

We use 'qemu-img convert' to convert image format in nova. This has some
options to leverage cache to speed up the conversion progress.

  convert [-c] [-p] [-q] [-n] [-f fmt] [-t cache] [-T src_cache]
    [-O output_fmt] [-o options] [-s snapshot_name] [-S sparse_size]
    filename [filename2 [...]] output_filename

The following cache defaults are used.

- src_cache = ""writeback""
- cache = ""unsafe""

As data integrity is not important, the 'src_cache' default of
'writeback' is appropriate. However, the default for 'cache', 'unsafe',
will use the host's page cache resulting in unpredicatable performance
and another option should be used.

Add the '-t none' option to set 'cache' to 'none'. This enables sparse
file handling & TRIM working, saving us time when writing GBs worth of
zeros.

Change-Id: I9c9689aa1fb75702c5ad339983d18f794f925d97
Closes-Bug: #1484992
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/522067/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,6ca1e201e9a6ca18a2dcc1f0c926602ceed52ddb,bug/1484992," mock.call('qemu-img', 'convert', '-t', 'none', '-f', 'qcow2', '-O', 'raw', path, _path_raw),"," mock.call('qemu-img', 'convert', '-f', 'qcow2', '-O', 'raw', path, _path_raw),",7,5
openstack%2Fheat~master~Ibd73389902935518fafda649b6d419881fe6349e,openstack/heat,master,Ibd73389902935518fafda649b6d419881fe6349e,Migrate to bionic test image,MERGED,2019-03-14 08:54:23.000000000,2019-03-15 05:49:31.000000000,2019-03-14 15:34:05.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 08:54:23.000000000', 'files': ['playbooks/devstack/functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/c737ed82fb60e2c41dec3db2d7cb59dd840d3bde', 'message': 'Migrate to bionic test image\n\nDepends-On: https://review.openstack.org/#/c/643093/\nChange-Id: Ibd73389902935518fafda649b6d419881fe6349e\n'}]",1,643245,c737ed82fb60e2c41dec3db2d7cb59dd840d3bde,7,2,1,12404,,,0,"Migrate to bionic test image

Depends-On: https://review.openstack.org/#/c/643093/
Change-Id: Ibd73389902935518fafda649b6d419881fe6349e
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/643245/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack/functional/run.yaml'],1,c737ed82fb60e2c41dec3db2d7cb59dd840d3bde,Migrate-test-images," export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_FILE=/tmp/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_NAME=test-only-amphora-x64-haproxy-ubuntu-bionic"""," export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_FILE=/tmp/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""OCTAVIA_AMP_IMAGE_NAME=test-only-amphora-x64-haproxy-ubuntu-xenial""",2,2
openstack%2Fopenstack-helm-addons~master~Idd7771756da1da96c1ad9ae14b2fdc6b6bb9debb,openstack/openstack-helm-addons,master,Idd7771756da1da96c1ad9ae14b2fdc6b6bb9debb,mini-mirror: Use templated values for Helm test,MERGED,2019-02-04 17:48:36.000000000,2019-03-15 05:48:02.000000000,2019-03-15 05:48:02.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-02-04 17:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/63d9c7158e91433ce65f509fff1da759cc126975', 'message': 'mini-mirror: Use templated values for Helm test\n\nCurrently, the mini-mirror Helm test uses pre-defined components and\ndistributions, making it ineffective for custom built-images. This\ncommit uses templating to retrieve the appropriate service address,\ndistributions, and components when rendering the Helm test.\n\nChange-Id: Idd7771756da1da96c1ad9ae14b2fdc6b6bb9debb\n'}, {'number': 2, 'created': '2019-02-04 17:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/77ee1c08ac9ce1984f7e4de2bb417684fe28c914', 'message': 'mini-mirror: Use templated values for Helm test\n\nCurrently, the mini-mirror Helm test uses pre-defined components and\ndistributions, making it ineffective for custom built-images. This\ncommit uses templating to retrieve the appropriate service address,\ndistributions, and components when rendering the Helm test.\n\nChange-Id: Idd7771756da1da96c1ad9ae14b2fdc6b6bb9debb\n'}, {'number': 3, 'created': '2019-03-04 17:17:03.000000000', 'files': ['mini-mirror/templates/bin/_helm_test.sh.tpl', 'mini-mirror/values.yaml', 'mini-mirror/templates/pod-helm-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/237cb76f1851fa45002ad8d8cc55a0764155cb4c', 'message': 'mini-mirror: Use templated values for Helm test\n\nCurrently, the mini-mirror Helm test uses pre-defined components and\ndistributions, making it ineffective for custom built-images. This\ncommit uses templating to retrieve the appropriate service address,\ndistributions, and components when rendering the Helm test.\n\nChange-Id: Idd7771756da1da96c1ad9ae14b2fdc6b6bb9debb\n'}]",2,634762,237cb76f1851fa45002ad8d8cc55a0764155cb4c,13,9,3,28618,,,0,"mini-mirror: Use templated values for Helm test

Currently, the mini-mirror Helm test uses pre-defined components and
distributions, making it ineffective for custom built-images. This
commit uses templating to retrieve the appropriate service address,
distributions, and components when rendering the Helm test.

Change-Id: Idd7771756da1da96c1ad9ae14b2fdc6b6bb9debb
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/62/634762/2 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/templates/bin/_helm_test.sh.tpl', 'mini-mirror/templates/pod-helm-test.yaml', 'mini-mirror/values.yaml']",3,63d9c7158e91433ce65f509fff1da759cc126975,mini-mirror/templated-helm-test-sources, test: # NOTE(drewwalters96): Used by the mini-mirror Helm test; should be valid # dists and components contained in the mini-mirror image. dists: - squeeze components: - main,,10,3
openstack%2Fdiskimage-builder~master~Ibef3ce9d1167b9c4ff3d5717b113cd3ed374f5e3,openstack/diskimage-builder,master,Ibef3ce9d1167b9c4ff3d5717b113cd3ed374f5e3,Unmount internal mounts on finalise errors,MERGED,2019-03-13 06:17:43.000000000,2019-03-15 05:44:03.000000000,2019-03-15 05:44:03.000000000,"[{'_account_id': 7118}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-03-13 06:17:43.000000000', 'files': ['diskimage_builder/lib/img-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/528456407131c8771588fd3d53f91785b728752e', 'message': 'Unmount internal mounts on finalise errors\n\nThis is only one line, but it takes a lot to untangle ...  basically\nthe current ""correct"" path is:\n\n---\n mk_build_dir()\n  -> sets trap trap_cleanup EXIT\n\n ... stuff ..\n\n mount_proc_dev_sys\n  -> mounts $TMP_MOUNT_PATH/<proc,dev.sysfs>\n\n pre-finalise.d\n finalise.d\n\n unmount_image $TMP_BUILD_DIR/mnt # nb == $TMP_MOUNT_PATH\n  -> unmount_dir()\n   -> recursive unmount everything inside TMP_MOUNT_PATH\n\n TMP_IMAGE_PATH=$(dib-block-device getval image-path)\n export TMP_IMAGE_PATH\n\n dib-block-device umount\n dib-block-device cleanup\n\n ... actually cleanup directories ...\n---\n\nOur current failure exit trap does:\n\n---\n dib-block-device umount\n unmount_image\n ...\n---\n\nNote this is the *opposite* of what is done in the correct exit path.\nIn the failure case, if a script fails in the finalise stages it leads\nto /proc, /sys, /dev etc. still being mounted inside the image; the\n""dib-block-device umount"" call doesn\'t know anything about these\nmounts and tries to unmount the parent directory, and we get a hard\nfailure with a busy mount, and all the mounts are subsequently leaked.\n\nNote that ""unmount_dir"", which is ultimately called by\n""unmount_image"", already knows to skip those mounts that\n""dib-block-device umount"" manages (this is the DIB_MOUNTPOINTS list).\nThis is further evidence it should be called *before* the\ndib-block-device umount.\n\nChange-Id: Ibef3ce9d1167b9c4ff3d5717b113cd3ed374f5e3\n'}]",0,642953,528456407131c8771588fd3d53f91785b728752e,9,5,1,7118,,,0,"Unmount internal mounts on finalise errors

This is only one line, but it takes a lot to untangle ...  basically
the current ""correct"" path is:

---
 mk_build_dir()
  -> sets trap trap_cleanup EXIT

 ... stuff ..

 mount_proc_dev_sys
  -> mounts $TMP_MOUNT_PATH/<proc,dev.sysfs>

 pre-finalise.d
 finalise.d

 unmount_image $TMP_BUILD_DIR/mnt # nb == $TMP_MOUNT_PATH
  -> unmount_dir()
   -> recursive unmount everything inside TMP_MOUNT_PATH

 TMP_IMAGE_PATH=$(dib-block-device getval image-path)
 export TMP_IMAGE_PATH

 dib-block-device umount
 dib-block-device cleanup

 ... actually cleanup directories ...
---

Our current failure exit trap does:

---
 dib-block-device umount
 unmount_image
 ...
---

Note this is the *opposite* of what is done in the correct exit path.
In the failure case, if a script fails in the finalise stages it leads
to /proc, /sys, /dev etc. still being mounted inside the image; the
""dib-block-device umount"" call doesn't know anything about these
mounts and tries to unmount the parent directory, and we get a hard
failure with a busy mount, and all the mounts are subsequently leaked.

Note that ""unmount_dir"", which is ultimately called by
""unmount_image"", already knows to skip those mounts that
""dib-block-device umount"" manages (this is the DIB_MOUNTPOINTS list).
This is further evidence it should be called *before* the
dib-block-device umount.

Change-Id: Ibef3ce9d1167b9c4ff3d5717b113cd3ed374f5e3
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/53/642953/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/img-functions'],1,528456407131c8771588fd3d53f91785b728752e,umount-error-exit, dib-block-device umount, dib-block-device umount,1,1
openstack%2Fopenstack-helm~master~Iac300334aed4c16f7e88e2f4333a8d7480efaf8d,openstack/openstack-helm,master,Iac300334aed4c16f7e88e2f4333a8d7480efaf8d,Fix letters mistake in tempest chart,MERGED,2019-03-11 14:57:41.000000000,2019-03-15 05:40:22.000000000,2019-03-15 05:40:22.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9542}, {'_account_id': 14525}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-03-11 14:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55b3d52a1f01e78959752d4eaf68e864aa0f5e12', 'message': 'Fix letters mistake in tempest chart\n\nChange-Id: Iac300334aed4c16f7e88e2f4333a8d7480efaf8d\nStory: 2005199\n'}, {'number': 2, 'created': '2019-03-11 15:03:50.000000000', 'files': ['tempest/templates/job-run-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bca5deacde31fce79b556c0d63926144a482b7f', 'message': 'Fix letters mistake in tempest chart\n\nChange-Id: Iac300334aed4c16f7e88e2f4333a8d7480efaf8d\nStory: 2005199\nTask: 29963\n'}]",0,642483,9bca5deacde31fce79b556c0d63926144a482b7f,12,7,2,20675,,,0,"Fix letters mistake in tempest chart

Change-Id: Iac300334aed4c16f7e88e2f4333a8d7480efaf8d
Story: 2005199
Task: 29963
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/642483/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/templates/job-run-tests.yaml'],1,55b3d52a1f01e78959752d4eaf68e864aa0f5e12,tempest, name: {{ .Release.Name }}-run-tests, name: {{ .Release.name }}-run-tests,1,1
openstack%2Fpython-watcherclient~master~I1c99f149ebdd08c9ee52b6b7a400c25d008e9180,openstack/python-watcherclient,master,I1c99f149ebdd08c9ee52b6b7a400c25d008e9180,TEST,ABANDONED,2019-03-15 03:01:09.000000000,2019-03-15 05:37:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-15 03:01:09.000000000', 'files': ['watcherclient/v1/audit.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/80b38273d08932eee617bc1872d8b343b245a5d7', 'message': 'TEST\n\nChange-Id: I1c99f149ebdd08c9ee52b6b7a400c25d008e9180\n'}]",0,643502,80b38273d08932eee617bc1872d8b343b245a5d7,3,1,1,14107,,,0,"TEST

Change-Id: I1c99f149ebdd08c9ee52b6b7a400c25d008e9180
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/02/643502/1 && git format-patch -1 --stdout FETCH_HEAD,['watcherclient/v1/audit.py'],1,80b38273d08932eee617bc1872d8b343b245a5d7,, return '/v1/audit/%s' % id if id else '/v1/audit', return '/v1/audits/%s' % id if id else '/v1/audits',1,1
openstack%2Fopenstack-helm~master~I7370db4c9177976f90176c027f4d65a3fe5b5649,openstack/openstack-helm,master,I7370db4c9177976f90176c027f4d65a3fe5b5649,[nova] Mount ceph-keyring volume when needed,MERGED,2019-02-26 07:02:16.000000000,2019-03-15 05:31:19.000000000,2019-03-15 05:31:19.000000000,"[{'_account_id': 6678}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28208}]","[{'number': 1, 'created': '2019-02-26 07:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/761b1b6224e847990463c941fd2928f10d83e83f', 'message': 'No need to mount ceph-keyring volume when admin_keyring exists\n\nChange-Id: I7370db4c9177976f90176c027f4d65a3fe5b5649\n'}, {'number': 2, 'created': '2019-03-14 08:31:13.000000000', 'files': ['nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fa1f8e800179c4bbca38a6a55b3bb847cde991d', 'message': '[nova] Mount ceph-keyring volume when needed\n\nChange-Id: I7370db4c9177976f90176c027f4d65a3fe5b5649\n'}]",3,639261,4fa1f8e800179c4bbca38a6a55b3bb847cde991d,13,5,2,6678,,,0,"[nova] Mount ceph-keyring volume when needed

Change-Id: I7370db4c9177976f90176c027f4d65a3fe5b5649
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/639261/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/daemonset-compute.yaml'],1,761b1b6224e847990463c941fd2928f10d83e83f,, {{- if and ( empty .Values.conf.ceph.cinder.keyring ) ( empty .Values.conf.ceph.admin_keyring )}} {{- if and ( empty .Values.conf.ceph.cinder.keyring ) ( empty .Values.conf.ceph.admin_keyring ) }}, {{- if empty .Values.conf.ceph.cinder.keyring }} {{- if empty .Values.conf.ceph.cinder.keyring }},2,2
openstack%2Fos-win~master~I92affa334ae90246be430677ee6d0d246a60dfb7,openstack/os-win,master,I92affa334ae90246be430677ee6d0d246a60dfb7,add python 3.7 unit test job,MERGED,2019-03-11 14:26:11.000000000,2019-03-15 05:10:51.000000000,2019-03-15 05:10:51.000000000,"[{'_account_id': 7730}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 14:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/4c6c51d01fbfa6956434ce5453ab0406c1fcd444', 'message': 'add python 3.7 unit test job\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I92affa334ae90246be430677ee6d0d246a60dfb7\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-03-14 12:05:03.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-win/commit/19a4ab5e5a640f0e17a65e07df6576771bbf5cf9', 'message': 'add python 3.7 unit test job\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I92affa334ae90246be430677ee6d0d246a60dfb7\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",2,642468,19a4ab5e5a640f0e17a65e07df6576771bbf5cf9,13,3,2,7730,,,0,"add python 3.7 unit test job

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I92affa334ae90246be430677ee6d0d246a60dfb7
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/os-win refs/changes/68/642468/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,4c6c51d01fbfa6956434ce5453ab0406c1fcd444,py37-job,"envlist = py35,py37,py27,pep8","envlist = py35,py27,pep8",2,1
openstack%2Fnetworking-midonet~master~I4d03b7e40687790ac6f1aad3fac550a3a5a9e46e,openstack/networking-midonet,master,I4d03b7e40687790ac6f1aad3fac550a3a5a9e46e,stop using common db mixin methods,MERGED,2019-02-07 15:10:02.000000000,2019-03-15 04:49:19.000000000,2019-03-15 04:49:07.000000000,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 15:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f3f3bc10ce4aedaadddae6c7f2afa192d57c991a', 'message': ""stop using common db mixin methods\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin.\n\nChange-Id: I4d03b7e40687790ac6f1aad3fac550a3a5a9e46e\n""}, {'number': 2, 'created': '2019-02-11 14:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b7be170c23bf3626b1c1679beb0cd470318fda47', 'message': ""stop using common db mixin methods\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin and also removes the use of common_db_mixin as\na parent class.\n\nDepends-On: https://review.openstack.org/#/c/635596/\n\nChange-Id: I4d03b7e40687790ac6f1aad3fac550a3a5a9e46e\n""}, {'number': 3, 'created': '2019-03-06 15:42:40.000000000', 'files': ['midonet/neutron/db/gateway_device.py', 'midonet/neutron/services/l3/l3_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f7afe7895d159051ef7109450eb08296c9dc9561', 'message': ""stop using common db mixin methods\n\nAll of the methods of common db mixin are available via neutron-lib\nand the mixin will be removed before long.\nThis patch switches the code over to use neutron-lib's APIs rather\nthan those of the mixin and also removes the use of common_db_mixin as\na parent class.\n\nDepends-On: https://review.openstack.org/#/c/635596/\n\nChange-Id: I4d03b7e40687790ac6f1aad3fac550a3a5a9e46e\n""}]",0,635531,f7afe7895d159051ef7109450eb08296c9dc9561,20,4,3,5367,,,0,"stop using common db mixin methods

All of the methods of common db mixin are available via neutron-lib
and the mixin will be removed before long.
This patch switches the code over to use neutron-lib's APIs rather
than those of the mixin and also removes the use of common_db_mixin as
a parent class.

Depends-On: https://review.openstack.org/#/c/635596/

Change-Id: I4d03b7e40687790ac6f1aad3fac550a3a5a9e46e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/31/635531/3 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/gateway_device.py'],1,f3f3bc10ce4aedaadddae6c7f2afa192d57c991a,bp/neutronlib-decouple-db," return db_utils.resource_fields(res, fields) return db_utils.resource_fields(res, fields) return db_utils.resource_fields(res, fields) return model_query.get_collection(context, GatewayDevice, self._make_gateway_device_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse) return model_query.get_collection(context, GatewayRemoteMacTable, self._make_remote_mac_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse)"," return self._fields(res, fields) return self._fields(res, fields) return self._fields(res, fields) return self._get_collection(context, GatewayDevice, self._make_gateway_device_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse) return self._get_collection(context, GatewayRemoteMacTable, self._make_remote_mac_dict, filters=filters, fields=fields, sorts=sorts, limit=limit, marker_obj=marker_obj, page_reverse=page_reverse)",17,17
openstack%2Fnetworking-midonet~master~I5d35d796e7d220e46613291f2e67631377470028,openstack/networking-midonet,master,I5d35d796e7d220e46613291f2e67631377470028,Make legacy-dsvm-base based jobs non-voting,ABANDONED,2019-03-13 11:50:28.000000000,2019-03-15 03:02:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-13 11:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/4c5ecc2d198c67a6c3a6f7682a168cd465b6f43e', 'message': 'Make networking-midonet-tempest-multinode-ml2 non-voting\n\nBecause it will be broken by legacy jobs migration to bionic.\nSee http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003761.html\n\nChange-Id: I5d35d796e7d220e46613291f2e67631377470028\n'}, {'number': 2, 'created': '2019-03-13 13:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c98e5ef73875e451d7b94f20e3b773bb11e6b42a', 'message': ""Make legacy-dsvm-base based jobs non-voting\n\nNamely the folloing jobs:\n\tnetworking-midonet-tempest-multinode-ml2\n\tnetworking-midonet-rally-ml2\n\nBecause they will be broken by legacy jobs migration to bionic.\nSee http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003761.html\n\nNote: MidoNet doesn't support bionic right now.\nhttps://midonet.atlassian.net/browse/MNA-1344\n\nChange-Id: I5d35d796e7d220e46613291f2e67631377470028\n""}, {'number': 3, 'created': '2019-03-13 13:24:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2555f1f440eacefb5f7f92b8ea84ced28ead5eeb', 'message': ""Make legacy-dsvm-base based jobs non-voting\n\nNamely the following jobs:\n\tnetworking-midonet-tempest-multinode-ml2\n\tnetworking-midonet-rally-ml2\n\nBecause they will be broken by legacy jobs migration to bionic.\nSee http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003761.html\n\nNote: MidoNet doesn't support bionic right now.\nhttps://midonet.atlassian.net/browse/MNA-1344\n\nChange-Id: I5d35d796e7d220e46613291f2e67631377470028\n""}]",0,643022,2555f1f440eacefb5f7f92b8ea84ced28ead5eeb,6,1,3,6854,,,0,"Make legacy-dsvm-base based jobs non-voting

Namely the following jobs:
	networking-midonet-tempest-multinode-ml2
	networking-midonet-rally-ml2

Because they will be broken by legacy jobs migration to bionic.
See http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003761.html

Note: MidoNet doesn't support bionic right now.
https://midonet.atlassian.net/browse/MNA-1344

Change-Id: I5d35d796e7d220e46613291f2e67631377470028
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/22/643022/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4c5ecc2d198c67a6c3a6f7682a168cd465b6f43e,, voting: false, - networking-midonet-tempest-multinode-ml2: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$,1,8
openstack%2Fnova~stable%2Fqueens~I528794b4b6f0007efc1238ad28dc402456664f86,openstack/nova,stable/queens,I528794b4b6f0007efc1238ad28dc402456664f86,Fix WeighedHost logging regression,MERGED,2019-03-06 13:52:19.000000000,2019-03-15 02:52:50.000000000,2019-03-15 02:52:50.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-06 13:52:19.000000000', 'files': ['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc2c3359b32f452cd772e510d4c139a8e4594900', 'message': 'Fix WeighedHost logging regression\n\nChange I8666e0af3f057314f6b06939a108411b8a88d64b in Pike\nrefactored some code in the FilterScheduler which accidentally\nchanged how the list of weighed hosts are logged, which caused\nthe wrapped HostState objects to be logged rather than the\nWeighedHost objects, which contain the actual ""weight"" attribute\nwhich is useful for debugging weigher configuration and\nscheduling decisions.\n\nThis fixes the regression by logging the weighed hosts before\nstripping off the WeighedHost wrapper and adds a simple wrinkle\nto an existing test to assert we are logging the correct object.\n\nChange-Id: I528794b4b6f0007efc1238ad28dc402456664f86\nCloses-Bug: #1816360\n(cherry picked from commit 84533f5eb3c5b4ab7598d7c278b53524acc1c6e0)\n(cherry picked from commit 31b74bfa4063d68d0f5ea9e883cad8cbcb70ab09)\n'}]",0,641359,bc2c3359b32f452cd772e510d4c139a8e4594900,10,5,1,6873,,,0,"Fix WeighedHost logging regression

Change I8666e0af3f057314f6b06939a108411b8a88d64b in Pike
refactored some code in the FilterScheduler which accidentally
changed how the list of weighed hosts are logged, which caused
the wrapped HostState objects to be logged rather than the
WeighedHost objects, which contain the actual ""weight"" attribute
which is useful for debugging weigher configuration and
scheduling decisions.

This fixes the regression by logging the weighed hosts before
stripping off the WeighedHost wrapper and adds a simple wrinkle
to an existing test to assert we are logging the correct object.

Change-Id: I528794b4b6f0007efc1238ad28dc402456664f86
Closes-Bug: #1816360
(cherry picked from commit 84533f5eb3c5b4ab7598d7c278b53524acc1c6e0)
(cherry picked from commit 31b74bfa4063d68d0f5ea9e883cad8cbcb70ab09)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/641359/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",2,bc2c3359b32f452cd772e510d4c139a8e4594900,bug/1816360," @mock.patch('nova.scheduler.filter_scheduler.LOG.debug') def test_get_sorted_hosts(self, mock_filt, mock_weighed, mock_rand, debug): # Make sure that when logging the weighed hosts we are logging them # with the WeighedHost wrapper class rather than the HostState objects. def fake_debug(message, *args, **kwargs): if message.startswith('Weighed'): self.assertEqual(1, len(args)) for weighed_host in args[0]['hosts']: self.assertIsInstance(weighed_host, weights.WeighedHost) debug.side_effect = fake_debug debug.assert_called()"," def test_get_sorted_hosts(self, mock_filt, mock_weighed, mock_rand):",15,3
openstack%2Ftempest~master~I8217e0e311b62e21b3ef2f935b11a7e077ea1023,openstack/tempest,master,I8217e0e311b62e21b3ef2f935b11a7e077ea1023,Add py37 tox env,MERGED,2019-03-08 06:51:27.000000000,2019-03-15 02:52:46.000000000,2019-03-15 02:52:46.000000000,"[{'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 25553}, {'_account_id': 27078}, {'_account_id': 29759}]","[{'number': 1, 'created': '2019-03-08 06:51:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa6f7df0be605ece6b933804d8aa7954fc857e97', 'message': 'Add py37 tox env\n\nWith python3.7 jobs added to the Zuul jobs, it makes sense to add this to the tox config too.\n\nChange-Id: I8217e0e311b62e21b3ef2f935b11a7e077ea1023\n'}]",0,641935,aa6f7df0be605ece6b933804d8aa7954fc857e97,13,8,1,27078,,,0,"Add py37 tox env

With python3.7 jobs added to the Zuul jobs, it makes sense to add this to the tox config too.

Change-Id: I8217e0e311b62e21b3ef2f935b11a7e077ea1023
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/641935/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa6f7df0be605ece6b933804d8aa7954fc857e97,bug/1808473,"envlist = pep8,py36,py37,py27,pip-check-reqs","envlist = pep8,py36,py27,pip-check-reqs",1,1
openstack%2Ftempest~master~I5c1e3b675d770bbeaeece676880c56d840646284,openstack/tempest,master,I5c1e3b675d770bbeaeece676880c56d840646284,Remove LOG in misc.py,MERGED,2019-03-11 10:08:27.000000000,2019-03-15 02:49:24.000000000,2019-03-15 02:49:24.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-03-11 10:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3aab0620d84812fc775e97bd60beaffd0408bff', 'message': 'Remove LOG in misc.py\n\nLOG is not used in misc.py, so this is to remove it.\n\nChange-Id: I5c1e3b675d770bbeaeece676880c56d840646284\n'}, {'number': 2, 'created': '2019-03-13 01:00:11.000000000', 'files': ['tempest/lib/common/utils/misc.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/19cb7836dc8c2174afc19ee07b9b15b6c0f07b5a', 'message': 'Remove LOG in misc.py\n\nLOG is not used in misc.py, so this is to remove it.\n\nChange-Id: I5c1e3b675d770bbeaeece676880c56d840646284\n'}]",0,642401,19cb7836dc8c2174afc19ee07b9b15b6c0f07b5a,14,6,2,20190,,,0,"Remove LOG in misc.py

LOG is not used in misc.py, so this is to remove it.

Change-Id: I5c1e3b675d770bbeaeece676880c56d840646284
",git fetch https://review.opendev.org/openstack/tempest refs/changes/01/642401/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/utils/misc.py'],1,a3aab0620d84812fc775e97bd60beaffd0408bff,useless_log,,from oslo_log import log as logging LOG = logging.getLogger(__name__) ,0,4
openstack%2Fwatcher~master~I30d66cf23fc04a48dc655b52d7c11bf546eeef06,openstack/watcher,master,I30d66cf23fc04a48dc655b52d7c11bf546eeef06,just test,ABANDONED,2019-03-14 03:52:00.000000000,2019-03-15 02:48:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-14 03:52:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/08bdc156ba0307e88487b588fb247441aaf7a5a0', 'message': 'just test\n\nChange-Id: I30d66cf23fc04a48dc655b52d7c11bf546eeef06\n'}]",0,643226,08bdc156ba0307e88487b588fb247441aaf7a5a0,5,1,1,21692,,,0,"just test

Change-Id: I30d66cf23fc04a48dc655b52d7c11bf546eeef06
",git fetch https://review.opendev.org/openstack/watcher refs/changes/26/643226/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,08bdc156ba0307e88487b588fb247441aaf7a5a0,watcherclient_tempest,, devstack_localrc: TEMPEST_PLUGINS: /opt/stack/python-watcherclient,0,2
openstack%2Fmanila~stable%2Frocky~Ia7eaef2d4fd9f9a3d95ccc82e80f343d1368da57,openstack/manila,stable/rocky,Ia7eaef2d4fd9f9a3d95ccc82e80f343d1368da57,Bump pylint job timeout,MERGED,2019-03-12 10:33:29.000000000,2019-03-15 02:40:54.000000000,2019-03-14 15:41:47.000000000,"[{'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-12 10:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c7ce4d5a34cad4f0da2f18632da6bf344c4ef5c7', 'message': 'Bump pylint job timeout\n\nChange-Id: Ia7eaef2d4fd9f9a3d95ccc82e80f343d1368da57\n(cherry picked from commit b7613f60bcab1df8bb23db8cd6a0dd34c2363f19)\n'}, {'number': 2, 'created': '2019-03-13 14:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/22e26d4838941caaa859e6f4db50c99f89652df6', 'message': 'Bump pylint job timeout\n\nDepends-on: https://review.openstack.org/#/c/643048/\nChange-Id: Ia7eaef2d4fd9f9a3d95ccc82e80f343d1368da57\n(cherry picked from commit b7613f60bcab1df8bb23db8cd6a0dd34c2363f19)\n'}, {'number': 3, 'created': '2019-03-14 11:05:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/ba9a8bd578ee96434b1bac5a8fcce626ce464f67', 'message': 'Bump pylint job timeout\n\nChange-Id: Ia7eaef2d4fd9f9a3d95ccc82e80f343d1368da57\n(cherry picked from commit b7613f60bcab1df8bb23db8cd6a0dd34c2363f19)\n'}]",0,642715,ba9a8bd578ee96434b1bac5a8fcce626ce464f67,26,8,3,9003,,,0,"Bump pylint job timeout

Change-Id: Ia7eaef2d4fd9f9a3d95ccc82e80f343d1368da57
(cherry picked from commit b7613f60bcab1df8bb23db8cd6a0dd34c2363f19)
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/642715/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c7ce4d5a34cad4f0da2f18632da6bf344c4ef5c7,, timeout: 5400,,1,0
openstack%2Fcongress-tempest-plugin~master~Id4e0312ff5093aae9704e400bfa74803520bc0e4,openstack/congress-tempest-plugin,master,Id4e0312ff5093aae9704e400bfa74803520bc0e4,Move legacy job to bionic and stable on xenial,MERGED,2019-03-13 04:59:49.000000000,2019-03-15 02:36:01.000000000,2019-03-15 02:36:01.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-03-13 04:59:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/3607a08cd4046b1d818a91d1dc9d52fbbbbb44d0', 'message': 'Move legacy job to bionic and stable on xenial\n\nWe are migrating all the legacy jobs to bionic now\n- https://review.openstack.org/#/c/639096\n\nAbove patch move all the legacy base jobs to bionic which\nwill automatically move all derived jobs to bionic.\n\nAs congress-tempest-plugin is branchless so these jobs running\non stable branch needs to be on xenial and this also has been\ntaken care in base patch.\n\nstable job running on master gate has to be on xenial.\n\nThis commit keep the stable branch master job on xenial\nand rest all on bionic.\n\nDepends-On: https://review.openstack.org/#/c/639096\nChange-Id: Id4e0312ff5093aae9704e400bfa74803520bc0e4\n'}]",0,642947,3607a08cd4046b1d818a91d1dc9d52fbbbbb44d0,9,3,1,8556,,,0,"Move legacy job to bionic and stable on xenial

We are migrating all the legacy jobs to bionic now
- https://review.openstack.org/#/c/639096

Above patch move all the legacy base jobs to bionic which
will automatically move all derived jobs to bionic.

As congress-tempest-plugin is branchless so these jobs running
on stable branch needs to be on xenial and this also has been
taken care in base patch.

stable job running on master gate has to be on xenial.

This commit keep the stable branch master job on xenial
and rest all on bionic.

Depends-On: https://review.openstack.org/#/c/639096
Change-Id: Id4e0312ff5093aae9704e400bfa74803520bc0e4
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/47/642947/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3607a08cd4046b1d818a91d1dc9d52fbbbbb44d0,legacy-job-bionic, nodeset: openstack-single-node-xenial nodeset: openstack-single-node-xenial nodeset: openstack-single-node-xenial nodeset: openstack-single-node-xenial,,4,0
openstack%2Ffreezer-web-ui~master~I4d7db76a3426e575abb1fb487043cafb86d441ee,openstack/freezer-web-ui,master,I4d7db76a3426e575abb1fb487043cafb86d441ee,Add the project source code repository in README,MERGED,2018-11-05 09:08:32.000000000,2019-03-15 02:35:04.000000000,2019-03-15 02:35:04.000000000,"[{'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-11-05 09:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/a5d903edd63aa2ef138285e60e08708dfc831465', 'message': 'Add the project source code repository in README\n\nChange-Id: I4d7db76a3426e575abb1fb487043cafb86d441ee\n'}, {'number': 2, 'created': '2019-03-14 02:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/7c70c7f7ec2d59a8d91fea42d97465d2f3a4c411', 'message': 'Add the project source code repository in README\n\nChange-Id: I4d7db76a3426e575abb1fb487043cafb86d441ee\n'}, {'number': 3, 'created': '2019-03-14 03:57:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/81f8c09b83df5b73eff5e134d729b3cd95273a2c', 'message': 'Add the project source code repository in README\n\nChange-Id: I4d7db76a3426e575abb1fb487043cafb86d441ee\n'}]",1,615510,81f8c09b83df5b73eff5e134d729b3cd95273a2c,13,4,3,28956,,,0,"Add the project source code repository in README

Change-Id: I4d7db76a3426e575abb1fb487043cafb86d441ee
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/10/615510/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a5d903edd63aa2ef138285e60e08708dfc831465,readme, Source Code ================ The project source code repository is located at: https://git.openstack.org/cgit/openstack/freezer-web-ui,,6,0
openstack%2Fplacement~master~I6db7191d1d99f48b5ca9a911f2f3f5060490efc4,openstack/placement,master,I6db7191d1d99f48b5ca9a911f2f3f5060490efc4,Move tests for split allocation candidates,ABANDONED,2019-03-13 08:19:40.000000000,2019-03-15 02:20:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-13 08:19:40.000000000', 'files': ['placement/tests/unit/objects/test_resource_provider.py', 'placement/tests/unit/objects/test_allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/2c340a9b5ec79021355d4fda3168a7bad275779a', 'message': 'Move tests for split allocation candidates\n\nThe file objects/resource_provider.py is getting bigger and bigger\nadding new features to `GET /allocation_candidates` API and\n`GET /resource_providers` API.\n\nThis series extract some code related to `GET /allocation_candidates`\nAPI from objects/resource_provider.py to objects/resource_provider.py\nin the following procedure.\n\n1. Create objects/allocation_candidate.py and move related functions.\n2. Create objects/util.py and move functions that are used both in\n   resource_provider.py and in new allocation_candidate.py\n3. Move related unit/functional tests accordingly.\n\nThis patch proceeds the third task.\n\nChange-Id: I6db7191d1d99f48b5ca9a911f2f3f5060490efc4\nWIP: move tests in /tests/functional/db/test_resource_provider.py\n'}]",0,642967,2c340a9b5ec79021355d4fda3168a7bad275779a,3,1,1,25625,,,0,"Move tests for split allocation candidates

The file objects/resource_provider.py is getting bigger and bigger
adding new features to `GET /allocation_candidates` API and
`GET /resource_providers` API.

This series extract some code related to `GET /allocation_candidates`
API from objects/resource_provider.py to objects/resource_provider.py
in the following procedure.

1. Create objects/allocation_candidate.py and move related functions.
2. Create objects/util.py and move functions that are used both in
   resource_provider.py and in new allocation_candidate.py
3. Move related unit/functional tests accordingly.

This patch proceeds the third task.

Change-Id: I6db7191d1d99f48b5ca9a911f2f3f5060490efc4
WIP: move tests in /tests/functional/db/test_resource_provider.py
",git fetch https://review.opendev.org/openstack/placement refs/changes/67/642967/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/unit/objects/test_resource_provider.py', 'placement/tests/unit/objects/test_allocation_candidate.py']",2,2c340a9b5ec79021355d4fda3168a7bad275779a,split-alloc-cands,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import os_resource_classes as orc from placement.objects import allocation_candidate from placement.tests.unit.objects import base class TestProviderSummaryNoDB(base.TestCase): def test_resource_class_names(self): psum = allocation_candidate.ProviderSummary(mock.sentinel.ctx) disk_psr = allocation_candidate.ProviderSummaryResource( resource_class=orc.DISK_GB, capacity=100, used=0) ram_psr = allocation_candidate.ProviderSummaryResource( resource_class=orc.MEMORY_MB, capacity=1024, used=0) psum.resources = [disk_psr, ram_psr] expected = set(['DISK_GB', 'MEMORY_MB']) self.assertEqual(expected, psum.resource_class_names) class TestAllocationCandidatesNoDB(base.TestCase): def test_limit_results(self): # UUIDs don't have to be real UUIDs to test the logic aro_in = [ mock.Mock( resource_requests=[ mock.Mock(resource_provider=mock.Mock(uuid=uuid)) for uuid in (1, 0, 4, 8)]), mock.Mock( resource_requests=[ mock.Mock(resource_provider=mock.Mock(uuid=uuid)) for uuid in (4, 8, 5)]), mock.Mock( resource_requests=[ mock.Mock(resource_provider=mock.Mock(uuid=uuid)) for uuid in (1, 7, 6, 4, 8, 5)]), ] sum1 = mock.Mock(resource_provider=mock.Mock(uuid=1)) sum0 = mock.Mock(resource_provider=mock.Mock(uuid=0)) sum4 = mock.Mock(resource_provider=mock.Mock(uuid=4)) sum8 = mock.Mock(resource_provider=mock.Mock(uuid=8)) sum5 = mock.Mock(resource_provider=mock.Mock(uuid=5)) sum7 = mock.Mock(resource_provider=mock.Mock(uuid=7)) sum6 = mock.Mock(resource_provider=mock.Mock(uuid=6)) sum_in = [sum1, sum0, sum4, sum8, sum5, sum7, sum6] aro, sum = allocation_candidate.AllocationCandidates._limit_results( self.context, aro_in, sum_in, 2) self.assertEqual(aro_in[:2], aro) self.assertEqual(set([sum1, sum0, sum4, sum8, sum5]), set(sum)) ",,60,47
openstack%2Fplacement~master~Ic7c1b596be6e0d09c63a1448642af8a784d05245,openstack/placement,master,Ic7c1b596be6e0d09c63a1448642af8a784d05245,Create object/util.py,ABANDONED,2019-03-13 08:19:40.000000000,2019-03-15 02:20:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-13 08:19:40.000000000', 'files': ['placement/objects/util.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/dacfbad8719eda4621245f6676d37af9a2646c89', 'message': 'Create object/util.py\n\nThe file objects/resource_provider.py is getting bigger and bigger\nadding new features to `GET /allocation_candidates` API and\n`GET /resource_providers` API.\n\nThis series extract some code related to `GET /allocation_candidates`\nAPI from objects/resource_provider.py to objects/resource_provider.py\nin the following procedure.\n\n1. Create objects/allocation_candidate.py and move related functions.\n2. Create objects/util.py and move functions that are used both in\n   resource_provider.py and in new allocation_candidate.py\n3. Move related unit/functional tests accordingly.\n\nThis patch proceeds the second process. This might be controversial\nand could be skipped, but is done to keep resource_provider.py as\npremitive as possible and to make clear which functions are re-used\nboth paths in `GET /allocation_candidates` and in\n`GET /resource_providers` API.\n\nChange-Id: Ic7c1b596be6e0d09c63a1448642af8a784d05245\n'}]",0,642966,dacfbad8719eda4621245f6676d37af9a2646c89,3,1,1,25625,,,0,"Create object/util.py

The file objects/resource_provider.py is getting bigger and bigger
adding new features to `GET /allocation_candidates` API and
`GET /resource_providers` API.

This series extract some code related to `GET /allocation_candidates`
API from objects/resource_provider.py to objects/resource_provider.py
in the following procedure.

1. Create objects/allocation_candidate.py and move related functions.
2. Create objects/util.py and move functions that are used both in
   resource_provider.py and in new allocation_candidate.py
3. Move related unit/functional tests accordingly.

This patch proceeds the second process. This might be controversial
and could be skipped, but is done to keep resource_provider.py as
premitive as possible and to make clear which functions are re-used
both paths in `GET /allocation_candidates` and in
`GET /resource_providers` API.

Change-Id: Ic7c1b596be6e0d09c63a1448642af8a784d05245
",git fetch https://review.opendev.org/openstack/placement refs/changes/66/642966/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/util.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py']",5,dacfbad8719eda4621245f6676d37af9a2646c89,split-alloc-cands,"from placement.objects import util rp_ids, forbidden_rp_ids = util.get_provider_ids_for_traits_and_aggs( usage = util.usage_select(list(resources)) util.capacity_check_clause(amount, usage)","def _usage_select(rc_ids): usage = sa.select([_ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id, sql.func.sum(_ALLOC_TBL.c.used).label('used')]) usage = usage.where(_ALLOC_TBL.c.resource_class_id.in_(rc_ids)) usage = usage.group_by(_ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id) return sa.alias(usage, name='usage') def _capacity_check_clause(amount, usage, inv_tbl=_INV_TBL): return sa.and_( sql.func.coalesce(usage.c.used, 0) + amount <= ( (inv_tbl.c.total - inv_tbl.c.reserved) * inv_tbl.c.allocation_ratio), inv_tbl.c.min_unit <= amount, inv_tbl.c.max_unit >= amount, amount % inv_tbl.c.step_size == 0, ) def _provider_ids_matching_aggregates(context, member_of, rp_ids=None): """"""Given a list of lists of aggregate UUIDs, return the internal IDs of all resource providers associated with the aggregates. :param member_of: A list containing lists of aggregate UUIDs. Each item in the outer list is to be AND'd together. If that item contains multiple values, they are OR'd together. For example, if member_of is:: [ ['agg1'], ['agg2', 'agg3'], ] we will return all the resource providers that are associated with agg1 as well as either (agg2 or agg3) :param rp_ids: When present, returned resource providers are limited to only those in this value :returns: A set of internal resource provider IDs having all required aggregate associations """""" # Given a request for the following: # # member_of = [ # [agg1], # [agg2], # [agg3, agg4] # ] # # we need to produce the following SQL expression: # # SELECT # rp.id # FROM resource_providers AS rp # JOIN resource_provider_aggregates AS rpa1 # ON rp.id = rpa1.resource_provider_id # AND rpa1.aggregate_id IN ($AGG1_ID) # JOIN resource_provider_aggregates AS rpa2 # ON rp.id = rpa2.resource_provider_id # AND rpa2.aggregate_id IN ($AGG2_ID) # JOIN resource_provider_aggregates AS rpa3 # ON rp.id = rpa3.resource_provider_id # AND rpa3.aggregate_id IN ($AGG3_ID, $AGG4_ID) # # Only if we have rp_ids... # WHERE rp.id IN ($RP_IDs) # First things first, get a map of all the aggregate UUID to internal # aggregate IDs agg_uuids = set() for members in member_of: for member in members: agg_uuids.add(member) agg_tbl = sa.alias(_AGG_TBL, name='aggs') agg_sel = sa.select([agg_tbl.c.uuid, agg_tbl.c.id]) agg_sel = agg_sel.where(agg_tbl.c.uuid.in_(agg_uuids)) agg_uuid_map = { r[0]: r[1] for r in context.session.execute(agg_sel).fetchall() } rp_tbl = sa.alias(_RP_TBL, name='rp') join_chain = rp_tbl for x, members in enumerate(member_of): rpa_tbl = sa.alias(_RP_AGG_TBL, name='rpa%d' % x) agg_ids = [agg_uuid_map[member] for member in members if member in agg_uuid_map] if not agg_ids: # This member_of list contains only non-existent aggregate UUIDs # and therefore we will always return 0 results, so short-circuit return set() join_cond = sa.and_( rp_tbl.c.id == rpa_tbl.c.resource_provider_id, rpa_tbl.c.aggregate_id.in_(agg_ids)) join_chain = sa.join(join_chain, rpa_tbl, join_cond) sel = sa.select([rp_tbl.c.id]).select_from(join_chain) if rp_ids: sel = sel.where(rp_tbl.c.id.in_(rp_ids)) return set(r[0] for r in context.session.execute(sel)) rp_ids, forbidden_rp_ids = _get_provider_ids_for_traits_and_aggs( usage = _usage_select(list(resources)) _capacity_check_clause(amount, usage) @db_api.placement_context_manager.reader def _get_provider_ids_having_any_trait(ctx, traits): """"""Returns a set of resource provider internal IDs that have ANY of the supplied traits. :param ctx: Session context to use :param traits: A map, keyed by trait string name, of trait internal IDs, at least one of which each provider must have associated with it. :raise ValueError: If traits is empty or None. """""" if not traits: raise ValueError(_('traits must not be empty')) rptt = sa.alias(_RP_TRAIT_TBL, name=""rpt"") sel = sa.select([rptt.c.resource_provider_id]) sel = sel.where(rptt.c.trait_id.in_(traits.values())) sel = sel.group_by(rptt.c.resource_provider_id) return set(r[0] for r in ctx.session.execute(sel)) @db_api.placement_context_manager.reader def _get_provider_ids_having_all_traits(ctx, required_traits): """"""Returns a set of resource provider internal IDs that have ALL of the required traits. NOTE: Don't call this method with no required_traits. :param ctx: Session context to use :param required_traits: A map, keyed by trait string name, of required trait internal IDs that each provider must have associated with it :raise ValueError: If required_traits is empty or None. """""" if not required_traits: raise ValueError(_('required_traits must not be empty')) rptt = sa.alias(_RP_TRAIT_TBL, name=""rpt"") sel = sa.select([rptt.c.resource_provider_id]) sel = sel.where(rptt.c.trait_id.in_(required_traits.values())) sel = sel.group_by(rptt.c.resource_provider_id) # Only get the resource providers that have ALL the required traits, so we # need to GROUP BY the resource provider and ensure that the # COUNT(trait_id) is equal to the number of traits we are requiring num_traits = len(required_traits) cond = sa.func.count(rptt.c.trait_id) == num_traits sel = sel.having(cond) return set(r[0] for r in ctx.session.execute(sel)) def _get_provider_ids_for_traits_and_aggs(ctx, required_traits, forbidden_traits, member_of): """"""Get internal IDs for all providers matching the specified traits/aggs. :return: A tuple of: filtered_rp_ids: A set of internal provider IDs matching the specified criteria. If None, work was done and resulted in no matching providers. This is in contrast to the empty set, which indicates that no filtering was performed. forbidden_rp_ids: A set of internal IDs of providers having any of the specified forbidden_traits. """""" filtered_rps = set() if required_traits: trait_map = _normalize_trait_map(ctx, required_traits) trait_rps = _get_provider_ids_having_all_traits(ctx, trait_map) filtered_rps = trait_rps LOG.debug(""found %d providers after applying required traits filter "" ""(%s)"", len(filtered_rps), list(required_traits)) if not filtered_rps: return None, [] # If 'member_of' has values, do a separate lookup to identify the # resource providers that meet the member_of constraints. if member_of: rps_in_aggs = _provider_ids_matching_aggregates(ctx, member_of) if filtered_rps: filtered_rps &= rps_in_aggs else: filtered_rps = rps_in_aggs LOG.debug(""found %d providers after applying aggregates filter (%s)"", len(filtered_rps), member_of) if not filtered_rps: return None, [] forbidden_rp_ids = set() if forbidden_traits: trait_map = _normalize_trait_map(ctx, forbidden_traits) forbidden_rp_ids = _get_provider_ids_having_any_trait(ctx, trait_map) if filtered_rps: filtered_rps -= forbidden_rp_ids LOG.debug(""found %d providers after applying forbidden traits "" ""filter (%s)"", len(filtered_rps), list(forbidden_traits)) if not filtered_rps: return None, [] return filtered_rps, forbidden_rp_ids @db_api.placement_context_manager.reader def _trait_ids_from_names(ctx, names): """"""Given a list of string trait names, returns a dict, keyed by those string names, of the corresponding internal integer trait ID. :raises: ValueError when names is empty. :param ctx: placement.context.RequestContext object :param names: list of string trait names :raise TraitNotFound: if any named trait doesn't exist in the database. """""" if not names: raise ValueError(_(""Expected names to be a list of string trait "" ""names, but got an empty list."")) # Avoid SAWarnings about unicode types... unames = map(six.text_type, names) tt = sa.alias(_TRAIT_TBL, name='t') sel = sa.select([tt.c.name, tt.c.id]).where(tt.c.name.in_(unames)) trait_map = {r[0]: r[1] for r in ctx.session.execute(sel)} if len(trait_map) != len(names): missing = names - set(trait_map) raise exception.TraitNotFound(names=', '.join(missing)) return trait_map def _normalize_trait_map(ctx, traits): if not isinstance(traits, dict): return _trait_ids_from_names(ctx, traits) return traits",293,278
openstack%2Fplacement~master~I673e212e46d80dae8c3a7ad85b7b150f36a80fa2,openstack/placement,master,I673e212e46d80dae8c3a7ad85b7b150f36a80fa2,Create objects/allocation_candidate.py,ABANDONED,2019-03-13 08:19:40.000000000,2019-03-15 02:20:36.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-13 08:19:40.000000000', 'files': ['placement/tests/unit/objects/test_resource_provider.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/02c0c8985b988083b18dadd0dc296b358918e790', 'message': 'Create objects/allocation_candidate.py\n\nThe file objects/resource_provider.py is getting bigger and bigger\nadding new features to `GET /allocation_candidates` API and\n`GET /resource_providers` API.\n\nThis series extract some code related to `GET /allocation_candidates`\nAPI from objects/resource_provider.py to objects/resource_provider.py\nin the following procedure.\n\n1. Create objects/allocation_candidate.py and move related functions.\n2. Create objects/util.py and move functions that are used both in\n   resource_provider.py and in new allocation_candidate.py\n3. Move related unit/functional tests accordingly.\n\nThis patch proceeds the first task.\n\nChange-Id: I673e212e46d80dae8c3a7ad85b7b150f36a80fa2\n'}]",0,642965,02c0c8985b988083b18dadd0dc296b358918e790,7,4,1,25625,,,0,"Create objects/allocation_candidate.py

The file objects/resource_provider.py is getting bigger and bigger
adding new features to `GET /allocation_candidates` API and
`GET /resource_providers` API.

This series extract some code related to `GET /allocation_candidates`
API from objects/resource_provider.py to objects/resource_provider.py
in the following procedure.

1. Create objects/allocation_candidate.py and move related functions.
2. Create objects/util.py and move functions that are used both in
   resource_provider.py and in new allocation_candidate.py
3. Move related unit/functional tests accordingly.

This patch proceeds the first task.

Change-Id: I673e212e46d80dae8c3a7ad85b7b150f36a80fa2
",git fetch https://review.opendev.org/openstack/placement refs/changes/65/642965/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/unit/objects/test_resource_provider.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/handlers/allocation_candidate.py']",6,02c0c8985b988083b18dadd0dc296b358918e790,split-alloc-cands,from placement.objects import allocation_candidate as ac_obj cands = ac_obj.AllocationCandidates.get_by_requests(,from placement.objects import resource_provider as rp_obj cands = rp_obj.AllocationCandidates.get_by_requests(,1705,1631
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I12a02f636f31985bc1b71bff5b744d346286a95f,openstack/tripleo-heat-templates,stable/queens,I12a02f636f31985bc1b71bff5b744d346286a95f,Move cellv2 discovery from control plane services to compute services,MERGED,2019-03-08 09:00:46.000000000,2019-03-15 02:06:51.000000000,2019-03-15 02:06:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-03-08 09:00:46.000000000', 'files': ['common/services.yaml', 'docker_config_scripts/nova_statedir_ownership.py', 'docker/services/nova-ironic.yaml', 'puppet/all-nodes-config.j2.yaml', 'docker/services/nova-compute-common.yaml', 'overcloud.j2.yaml', 'docker_config_scripts/nova_cell_v2_discover_host.py', 'docker/services/nova-api.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d77ea1691f60eb7229404f3c33c0cd833b3756b', 'message': ""Move cellv2 discovery from control plane services to compute services\n\nIf compute nodes are deployed without deploying/updating the controllers then\nthe computes will not have cellv2 mappings as this is run in the controller\ndeploy steps (nova-api).\nThis can happen if the controller nodes are blacklisted during a compute scale\nout. It's also likely to be an issue going forward if the deployment is staged\n(e.g split control plane).\n\nThis change moves the cell_v2 discovery logic to the nova-compute/nova-ironic\ndeploy step.\n\nConflicts:\n       common/services.yaml\n       docker/services/nova-api.yaml\n\nCloses-bug: 1786961\nChange-Id: I12a02f636f31985bc1b71bff5b744d346286a95f\n(cherry picked from commit e0e885b8ca3332e0815c537a32c564cac81f7f7e)\n(cherry picked from commit d7704bbf56cc155884e233a816422aa6e721cda3)\n""}]",0,641968,8d77ea1691f60eb7229404f3c33c0cd833b3756b,10,8,1,20733,,,0,"Move cellv2 discovery from control plane services to compute services

If compute nodes are deployed without deploying/updating the controllers then
the computes will not have cellv2 mappings as this is run in the controller
deploy steps (nova-api).
This can happen if the controller nodes are blacklisted during a compute scale
out. It's also likely to be an issue going forward if the deployment is staged
(e.g split control plane).

This change moves the cell_v2 discovery logic to the nova-compute/nova-ironic
deploy step.

Conflicts:
       common/services.yaml
       docker/services/nova-api.yaml

Closes-bug: 1786961
Change-Id: I12a02f636f31985bc1b71bff5b744d346286a95f
(cherry picked from commit e0e885b8ca3332e0815c537a32c564cac81f7f7e)
(cherry picked from commit d7704bbf56cc155884e233a816422aa6e721cda3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/641968/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/services.yaml', 'docker_config_scripts/nova_statedir_ownership.py', 'docker/services/nova-ironic.yaml', 'puppet/all-nodes-config.j2.yaml', 'docker/services/nova-compute-common.yaml', 'overcloud.j2.yaml', 'docker_config_scripts/nova_cell_v2_discover_host.py', 'docker/services/nova-api.yaml', 'docker/services/nova-compute.yaml']",9,8d77ea1691f60eb7229404f3c33c0cd833b3756b,bug/1786961," step_5: nova_cellv2_discover_hosts: start_order: 0 image: *nova_compute_image net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/nova_libvirt/etc/my.cnf.d/:/etc/my.cnf.d/:ro - /var/lib/config-data/nova_libvirt/etc/nova/:/etc/nova/:ro - /var/log/containers/nova:/var/log/nova - /var/lib/docker-config-scripts/:/docker-config-scripts/ user: root command: ""/docker-config-scripts/nova_cell_v2_discover_host.py""", cellv2_discovery: true,136,110
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ie56513a1ba476f26daa4ada4b9d6d664955d32ac,openstack/tripleo-heat-templates,stable/rocky,Ie56513a1ba476f26daa4ada4b9d6d664955d32ac,"fix typo in ansible module name in ""upgrade_tasks"" of octavia*",MERGED,2019-01-03 18:07:07.000000000,2019-03-15 02:06:49.000000000,2019-03-15 02:06:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 20764}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-03 18:07:07.000000000', 'files': ['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/octavia-housekeeping.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e98a582376c273602c6d2670a45135d76422838', 'message': 'fix typo in ansible module name in ""upgrade_tasks"" of octavia*\n\n`openstack overcloud upgrade` command fails due to typo in the ansible\nmodule name in ""upgrade_tasks"" of octavia*. This change fix the typo.\n\nChange-Id: Ie56513a1ba476f26daa4ada4b9d6d664955d32ac\nCloses-Bug: #1810432\n'}]",0,628243,7e98a582376c273602c6d2670a45135d76422838,10,5,1,22420,,,0,"fix typo in ansible module name in ""upgrade_tasks"" of octavia*

`openstack overcloud upgrade` command fails due to typo in the ansible
module name in ""upgrade_tasks"" of octavia*. This change fix the typo.

Change-Id: Ie56513a1ba476f26daa4ada4b9d6d664955d32ac
Closes-Bug: #1810432
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/628243/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/octavia-housekeeping.yaml']",3,7e98a582376c273602c6d2670a45135d76422838,bug/1810432, command: systemctl is-enabled --quiet openstack-octavia-housekeeping, common: systemctl is-enabled --quiet openstack-octavia-housekeeping,3,3
openstack%2Ftripleo-repos~master~Ie3138801eb2e9f1c07afacbbc48d8fb3a937bcac,openstack/tripleo-repos,master,Ie3138801eb2e9f1c07afacbbc48d8fb3a937bcac,Include python*-tripleoclient from delorean.repo,MERGED,2019-03-14 19:14:57.000000000,2019-03-15 02:06:47.000000000,2019-03-15 02:06:47.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-03-14 19:14:57.000000000', 'files': ['tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5609d2e3aee35578e914bcbfac92a46c759c0a31', 'message': 'Include python*-tripleoclient from delorean.repo\n\nNow that tripleoclient is packaged as python2-tripleoclient for python\nv2, we need to make sure we are including the latest version by using a\nwildcard in the package name. Otherwise, the version of\npython2-tripleoclient that ends up getting installed could be too old to\nwork with other versions of tripleo packages from latest delorean.\n\nChange-Id: Ie3138801eb2e9f1c07afacbbc48d8fb3a937bcac\nCloses-Bug: #1820111\n'}]",0,643439,5609d2e3aee35578e914bcbfac92a46c759c0a31,9,6,1,7144,,,0,"Include python*-tripleoclient from delorean.repo

Now that tripleoclient is packaged as python2-tripleoclient for python
v2, we need to make sure we are including the latest version by using a
wildcard in the package name. Otherwise, the version of
python2-tripleoclient that ends up getting installed could be too old to
work with other versions of tripleo packages from latest delorean.

Change-Id: Ie3138801eb2e9f1c07afacbbc48d8fb3a937bcac
Closes-Bug: #1820111
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/39/643439/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,5609d2e3aee35578e914bcbfac92a46c759c0a31,bug/1820111," 'os-refresh-config,python*-tripleoclient,'"," 'os-refresh-config,python-tripleoclient,'",1,1
openstack%2Ftripleo-heat-templates~master~Ic280ad8e95fcc32986987f5abaa524f171d7c13b,openstack/tripleo-heat-templates,master,Ic280ad8e95fcc32986987f5abaa524f171d7c13b,"Avoid ""-a"" cp option in order to avoid SELinux AVC",MERGED,2019-03-14 07:48:10.000000000,2019-03-15 02:06:45.000000000,2019-03-15 02:06:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-03-14 07:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af6b9c46d7cdf61a5e55196cc37b0a4ee89c54e9', 'message': 'Avoid ""-a"" cp option in order to avoid SELinux AVC\n\nUsing ""cp -a"" in a container might lead to SELinux failures, since this option\nis a shortcut for ""-dR --preserve=all"". The ""all"" has the context, and we do\nnot allow SELinux relabelling within containers.\n\nSplitting the ""-a"" to ""-dR --preserve"" will provide the same end results, but\nwithout the relabelling, preventing audit.log to fill up during the deploy.\n\nChange-Id: Ic280ad8e95fcc32986987f5abaa524f171d7c13b\n'}, {'number': 2, 'created': '2019-03-14 07:48:45.000000000', 'files': ['deployment/swift/swift-ringbuilder-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c55cf61c99a8ad5e743672d1ef56fa12dbdc5f17', 'message': 'Avoid ""-a"" cp option in order to avoid SELinux AVC\n\nUsing ""cp -a"" in a container might lead to SELinux failures, since this option\nis a shortcut for ""-dR --preserve=all"". The ""all"" has the context, and we do\nnot allow SELinux relabelling within containers.\n\nSplitting the ""-a"" to ""-dR --preserve"" will provide the same end results, but\nwithout the relabelling, preventing audit.log to fill up during the deploy.\n\nCloses-Bug: #1819459\nChange-Id: Ic280ad8e95fcc32986987f5abaa524f171d7c13b\n'}]",2,643240,c55cf61c99a8ad5e743672d1ef56fa12dbdc5f17,13,10,2,28223,,,0,"Avoid ""-a"" cp option in order to avoid SELinux AVC

Using ""cp -a"" in a container might lead to SELinux failures, since this option
is a shortcut for ""-dR --preserve=all"". The ""all"" has the context, and we do
not allow SELinux relabelling within containers.

Splitting the ""-a"" to ""-dR --preserve"" will provide the same end results, but
without the relabelling, preventing audit.log to fill up during the deploy.

Closes-Bug: #1819459
Change-Id: Ic280ad8e95fcc32986987f5abaa524f171d7c13b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/643240/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-ringbuilder-container-puppet.yaml'],1,af6b9c46d7cdf61a5e55196cc37b0a4ee89c54e9,bug/1819459, - 'cp -v -dR --preserve -t /etc/swift /swift_ringbuilder/etc/swift/*.gz /swift_ringbuilder/etc/swift/*.builder /swift_ringbuilder/etc/swift/backups', - 'cp -v -a -t /etc/swift /swift_ringbuilder/etc/swift/*.gz /swift_ringbuilder/etc/swift/*.builder /swift_ringbuilder/etc/swift/backups',1,1
openstack%2Ftripleo-quickstart~master~I937fe2def396fbf0517d22f8a35fc1a08348a42c,openstack/tripleo-quickstart,master,I937fe2def396fbf0517d22f8a35fc1a08348a42c,"Revert ""Activate ansible lint after deployment.""",MERGED,2019-03-14 01:14:52.000000000,2019-03-15 02:06:44.000000000,2019-03-15 02:06:44.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17499}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-03-14 01:14:52.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e81fa978fbb0b1671ce36c72792cc7586ceb5289', 'message': 'Revert ""Activate ansible lint after deployment.""\n\nThis reverts commit 6f8a47ba0f653a7a717481b28ed0172137dc45b2.\n\nThis is broken for some scenario jobs. Let\'s turn this off\nuntil it can be addressed.\n\nChange-Id: I937fe2def396fbf0517d22f8a35fc1a08348a42c\nRelated-Bug: 1819991\n'}]",0,643212,e81fa978fbb0b1671ce36c72792cc7586ceb5289,17,13,1,14985,,,0,"Revert ""Activate ansible lint after deployment.""

This reverts commit 6f8a47ba0f653a7a717481b28ed0172137dc45b2.

This is broken for some scenario jobs. Let's turn this off
until it can be addressed.

Change-Id: I937fe2def396fbf0517d22f8a35fc1a08348a42c
Related-Bug: 1819991
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/12/643212/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,e81fa978fbb0b1671ce36c72792cc7586ceb5289,feature/standalone_ansible_lint,,standalone_ansible_lint: true,0,1
openstack%2Ftacker~master~I78a941e2ad1a8ce378dbb8aa36e98f1462ab602b,openstack/tacker,master,I78a941e2ad1a8ce378dbb8aa36e98f1462ab602b,Add template for vdu-autoheal in sample dir.,MERGED,2019-03-12 17:57:56.000000000,2019-03-15 02:05:58.000000000,2019-03-15 02:05:58.000000000,"[{'_account_id': 18955}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 17:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f78aa6d6b1050252fbcb11ba3c65ac43f5afb5aa', 'message': 'Add templates for vdu-autoheal in sample dir\n\nChange-Id: I78a941e2ad1a8ce378dbb8aa36e98f1462ab602b\n'}, {'number': 2, 'created': '2019-03-13 05:42:17.000000000', 'files': ['samples/tosca-templates/vnfd/tosca-vnfd-monitoring-vdu-autoheal.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d82541e50aad7058fea75ca6b6d26f18db9eb436', 'message': 'Add template for vdu-autoheal in sample dir.\n\nvdu-autoheal template is missing in sample dir. Adding it here\nfor user references.\nChange-Id: I78a941e2ad1a8ce378dbb8aa36e98f1462ab602b\n'}]",0,642839,d82541e50aad7058fea75ca6b6d26f18db9eb436,8,3,2,18955,,,0,"Add template for vdu-autoheal in sample dir.

vdu-autoheal template is missing in sample dir. Adding it here
for user references.
Change-Id: I78a941e2ad1a8ce378dbb8aa36e98f1462ab602b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/39/642839/2 && git format-patch -1 --stdout FETCH_HEAD,['samples/tosca-templates/vnfd/tosca-vnfd-monitoring-vdu-autoheal.yaml'],1,f78aa6d6b1050252fbcb11ba3c65ac43f5afb5aa,,"tosca_definitions_version: tosca_simple_profile_for_nfv_1_0_0 description: Demo example metadata: template_name: sample-tosca-vnfd topology_template: node_templates: VDU1: type: tosca.nodes.nfv.VDU.Tacker capabilities: nfv_compute: properties: disk_size: 1 GB mem_size: 512 MB num_cpus: 1 properties: image: cirros-0.4.0-x86_64-disk mgmt_driver: noop availability_zone: nova mgmt_driver: noop monitoring_policy: name: ping parameters: monitoring_delay: 45 count: 3 interval: 1 timeout: 2 actions: failure: vdu_autoheal user_data_format: RAW user_data: | #!/bin/sh echo ""my hostname is `hostname`"" > /tmp/hostname df -h > /home/cirros/diskinfo sleep 90 sudo ifdown eth0 CP1: type: tosca.nodes.nfv.CP.Tacker properties: management: true anti_spoofing_protection: false requirements: - virtualLink: node: VL1 - virtualBinding: node: VDU1 VL1: type: tosca.nodes.nfv.VL properties: network_name: net_mgmt vendor: Tacker ",,55,0
openstack%2Fneutron~master~I906c2500ffb6dfde9f8706dac6da194b51dc7cbf,openstack/neutron,master,I906c2500ffb6dfde9f8706dac6da194b51dc7cbf,Try running functional/fullstack with one test thread,ABANDONED,2019-03-07 19:56:39.000000000,2019-03-15 01:57:13.000000000,,"[{'_account_id': 9396}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-07 19:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c88d00f0791f6fb1cd06802b2bc7b18ae3dbc710', 'message': 'Try running functional/fullstack with one test thread\n\nChange-Id: I906c2500ffb6dfde9f8706dac6da194b51dc7cbf\n'}, {'number': 2, 'created': '2019-03-07 22:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be3b1acaca33b4eff444b86cf820a56c7a76055a', 'message': 'Try running functional/fullstack with one test thread\n\nChange-Id: I906c2500ffb6dfde9f8706dac6da194b51dc7cbf\n'}, {'number': 3, 'created': '2019-03-08 03:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69b2d188932051f2024a8bd1e30b8ffab0f0e11f', 'message': 'Try running functional/fullstack with one test thread\n\nChange-Id: I906c2500ffb6dfde9f8706dac6da194b51dc7cbf\n'}, {'number': 4, 'created': '2019-03-08 06:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19425842dbee652fa9050a8fbcc80155fb263863', 'message': 'Try running functional/fullstack with one test thread\n\nChange-Id: I906c2500ffb6dfde9f8706dac6da194b51dc7cbf\n'}, {'number': 5, 'created': '2019-03-12 02:35:03.000000000', 'files': ['.zuul.yaml', 'neutron/agent/linux/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/496a1decce46bb794d5b32594ad4c4c69e467ca5', 'message': 'Try running functional/fullstack with one test thread\n\nChange-Id: I906c2500ffb6dfde9f8706dac6da194b51dc7cbf\n'}]",0,641781,496a1decce46bb794d5b32594ad4c4c69e467ca5,15,4,5,10980,,,0,"Try running functional/fullstack with one test thread

Change-Id: I906c2500ffb6dfde9f8706dac6da194b51dc7cbf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/641781/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c88d00f0791f6fb1cd06802b2bc7b18ae3dbc710,(HEAD, stestr run --concurrency=1 {posargs} stestr run --concurrency=1 {posargs}, stestr run {posargs} stestr run --concurrency 4 {posargs},2,2
openstack%2Ftripleo-heat-templates~master~Ie1a92ca5677833f302daa71cba42c5091302b2aa,openstack/tripleo-heat-templates,master,Ie1a92ca5677833f302daa71cba42c5091302b2aa,Manage system timezone with ansible,MERGED,2019-03-11 22:36:47.000000000,2019-03-15 01:52:26.000000000,2019-03-14 00:15:40.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8161}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-03-11 22:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01f5a5e3f964d652c4bb1fb9e90f456c236a58c4', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 2, 'created': '2019-03-11 22:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93841e18619e9a9913a7b114c0a1b92a8af9c1b1', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 3, 'created': '2019-03-11 22:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/182af7818757e858156316bb37e243bcc1209c9c', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 4, 'created': '2019-03-12 00:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/165dc84d09db529503e0afeba815155f8de48316', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 5, 'created': '2019-03-12 00:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79ba639d9c8dde7fa7b4f7bfd20306d7f284c98a', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 6, 'created': '2019-03-12 12:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b821123418dd5ba3474a81783edab34a5517df04', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 7, 'created': '2019-03-12 16:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62ddccfaf396b84b665a7abf6b7c3d372f4e7f3b', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}, {'number': 8, 'created': '2019-03-13 12:21:49.000000000', 'files': ['deployment/deprecated/time/timezone-baremetal-puppet.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/timezone-ansible-c7ffcd118f881b82.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/866a7f79e4fa8eaad394c430adf3c053455dd6ec', 'message': ""Manage system timezone with ansible\n\nSwitch to use ansible's timezone module for timezone management of the\novercloud and undercloud systems. This change deprecates using puppet to\nmanage the timezone configuration.\n\nChange-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa\n""}]",6,642589,866a7f79e4fa8eaad394c430adf3c053455dd6ec,29,10,8,14985,,,0,"Manage system timezone with ansible

Switch to use ansible's timezone module for timezone management of the
overcloud and undercloud systems. This change deprecates using puppet to
manage the timezone configuration.

Change-Id: Ie1a92ca5677833f302daa71cba42c5091302b2aa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/642589/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/time/timezone-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/timezone-ansible-c7ffcd118f881b82.yaml']",3,01f5a5e3f964d652c4bb1fb9e90f456c236a58c4,bug/1819548,--- features: - | Using Ansible timezone module to manage the system timezone for the deployed systems. deprecations: - | Managing timezone via puppet is now deprecated. ,,64,1
openstack%2Ffreezer~master~Ic133fd0d0f37fc65f6dac560644db043ee773904,openstack/freezer,master,Ic133fd0d0f37fc65f6dac560644db043ee773904,Make freezer-ubuntu as voting job again,MERGED,2019-03-14 16:00:56.000000000,2019-03-15 01:47:50.000000000,2019-03-15 01:47:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-14 16:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/83d411bab8cfac48b7caab241bb40c868aaa8800', 'message': ""Make freezer-ubuntu as voting job again\n\nfreezer-ubuntu job has been made n-v in legacy\njob migration work.\n- https://review.openstack.org/#/c/642607/\n\nNot issue has been fixed and it is working fine\n- https://review.openstack.org/#/c/643213/3\n\nLet's reenable it as voting and running on gate pipeline also.\n\nChange-Id: Ic133fd0d0f37fc65f6dac560644db043ee773904\n""}, {'number': 2, 'created': '2019-03-14 16:07:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/70e6f52d75fe07b898c74dca38d7cb3e52ec8c8a', 'message': ""Make freezer-ubuntu as voting job again\n\nfreezer-ubuntu job has been made n-v in legacy\njob migration work.\n- https://review.openstack.org/#/c/642607/\n\nNot issue has been fixed and it is working fine\n- https://review.openstack.org/#/c/643213/3\n\nLet's reenable it as voting and running on gate pipeline also.\n\nStory: 2005227\nTask: 30009\n\nChange-Id: Ic133fd0d0f37fc65f6dac560644db043ee773904\n""}]",0,643382,70e6f52d75fe07b898c74dca38d7cb3e52ec8c8a,8,2,2,8556,,,0,"Make freezer-ubuntu as voting job again

freezer-ubuntu job has been made n-v in legacy
job migration work.
- https://review.openstack.org/#/c/642607/

Not issue has been fixed and it is working fine
- https://review.openstack.org/#/c/643213/3

Let's reenable it as voting and running on gate pipeline also.

Story: 2005227
Task: 30009

Change-Id: Ic133fd0d0f37fc65f6dac560644db043ee773904
",git fetch https://review.opendev.org/openstack/freezer refs/changes/82/643382/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83d411bab8cfac48b7caab241bb40c868aaa8800,enable-ubuntu-job, - freezer-ubuntu - freezer-ubuntu, - freezer-ubuntu: # n-v till story#2005227 voting: false # Commenting as this is n-v job till story#2005227 #- freezer-ubuntu,2,5
openstack%2Ftempest~master~Idea94dde6973805995c1678fcfb6b0e93025492a,openstack/tempest,master,Idea94dde6973805995c1678fcfb6b0e93025492a,Set ENABLE_VOLUME_MULTIATTACH=true on tempest-slow subnode localrc,MERGED,2019-03-13 14:20:38.000000000,2019-03-15 01:40:19.000000000,2019-03-15 01:40:19.000000000,"[{'_account_id': 4690}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-13 14:20:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3858ced89c09ded6cfd5ed859d59361caf3c18ef', 'message': 'Set ENABLE_VOLUME_MULTIATTACH=true on tempest-slow subnode localrc\n\nBefore change Icb971831c8d4fe5f940d9e7993d53f1c3765e30f in devstack\nin Rocky, the ENABLE_VOLUME_MULTIATTACH variable is used to control\nwhether or not the UCA is enabled on the node and defaults to False.\nThe tempest-slow job is multi-node and runs on stable branches since\nchange Ie5492603a12ca4ae56baa744bf650ae4d8036256 and as a result\nis configuring the UCA on the subnode but not the controller, so\nnova-compute on each node is running with different versions of QEMU\nwhich can cause live migration failures if trying to live migrate\nfrom a newer version of QEMU to an older version.\n\nThis fixes the issue by configuring the subnode with the correct\nlocalrc value for ENABLE_VOLUME_MULTIATTACH.\n\nChange-Id: Idea94dde6973805995c1678fcfb6b0e93025492a\nCloses-Bug: #1819910\n'}]",0,643052,3858ced89c09ded6cfd5ed859d59361caf3c18ef,17,9,1,6873,,,0,"Set ENABLE_VOLUME_MULTIATTACH=true on tempest-slow subnode localrc

Before change Icb971831c8d4fe5f940d9e7993d53f1c3765e30f in devstack
in Rocky, the ENABLE_VOLUME_MULTIATTACH variable is used to control
whether or not the UCA is enabled on the node and defaults to False.
The tempest-slow job is multi-node and runs on stable branches since
change Ie5492603a12ca4ae56baa744bf650ae4d8036256 and as a result
is configuring the UCA on the subnode but not the controller, so
nova-compute on each node is running with different versions of QEMU
which can cause live migration failures if trying to live migrate
from a newer version of QEMU to an older version.

This fixes the issue by configuring the subnode with the correct
localrc value for ENABLE_VOLUME_MULTIATTACH.

Change-Id: Idea94dde6973805995c1678fcfb6b0e93025492a
Closes-Bug: #1819910
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/643052/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3858ced89c09ded6cfd5ed859d59361caf3c18ef,bug/1819910, group-vars: # NOTE(mriedem): The ENABLE_VOLUME_MULTIATTACH variable is used on both # the controller and subnode prior to Rocky so we have to make sure the # variable is set in both locations. subnode: devstack_localrc: ENABLE_VOLUME_MULTIATTACH: true,,7,0
openstack%2Fpuppet-watcher~master~I1a65956f524e7b2af2a1b376f58f19a1f286cbe8,openstack/puppet-watcher,master,I1a65956f524e7b2af2a1b376f58f19a1f286cbe8,Fix the comment,MERGED,2019-03-14 02:25:05.000000000,2019-03-15 01:17:26.000000000,2019-03-15 01:17:26.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 02:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/7a8db33409870d400d9bb70440ece68b2796c197', 'message': 'Fix the comment\n\nChange-Id: I1a65956f524e7b2af2a1b376f58f19a1f286cbe8\n'}, {'number': 2, 'created': '2019-03-14 02:26:38.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/e971d73af82e00d14d44bb91b89adab1300deaaf', 'message': 'Fix the comment\n\nChange-Id: I1a65956f524e7b2af2a1b376f58f19a1f286cbe8\n'}]",0,643218,e971d73af82e00d14d44bb91b89adab1300deaaf,7,2,2,9414,,,0,"Fix the comment

Change-Id: I1a65956f524e7b2af2a1b376f58f19a1f286cbe8
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/18/643218/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,7a8db33409870d400d9bb70440ece68b2796c197,fix-comment,# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to $::os_service_default# Defaults to 'password',# Defaults to undef# Defaults to undef# Defaults to undef# Defaults to undef# Defaults to undef# Defaults to undef# Defaults to undef# Defaults to undef,8,8
openstack%2Fstackviz~master~I7d0fc0d56f03a5c77cb02800e6a4abaa5ef59bc5,openstack/stackviz,master,I7d0fc0d56f03a5c77cb02800e6a4abaa5ef59bc5,Add py36 and py37 tox envs,MERGED,2019-03-08 07:39:42.000000000,2019-03-15 00:54:12.000000000,2019-03-15 00:54:11.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 07:39:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/81755805d95becf5528a649bdbdf9a0cb8585671', 'message': 'Add py36 and py37 tox envs\n\nWith python3.6 and python3.7 jobs added to the Zuul jobs, it makes sense\nto add this to the tox config too.\n\nChange-Id: I7d0fc0d56f03a5c77cb02800e6a4abaa5ef59bc5\n'}]",0,641954,81755805d95becf5528a649bdbdf9a0cb8585671,6,2,1,27078,,,0,"Add py36 and py37 tox envs

With python3.6 and python3.7 jobs added to the Zuul jobs, it makes sense
to add this to the tox config too.

Change-Id: I7d0fc0d56f03a5c77cb02800e6a4abaa5ef59bc5
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/54/641954/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,81755805d95becf5528a649bdbdf9a0cb8585671,py37-job,"envlist = py35,py36,py37,py27,pypy,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fstackviz~master~Ic2869dd3b4020707c0a96e124a59409fb0118266,openstack/stackviz,master,Ic2869dd3b4020707c0a96e124a59409fb0118266,add python 3.7 unit test job,MERGED,2019-02-19 09:05:56.000000000,2019-03-15 00:53:01.000000000,2019-03-15 00:53:01.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-02-19 09:05:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/02fc04a42084cd19c2a4c1cb57ad124c83be6d5d', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ic2869dd3b4020707c0a96e124a59409fb0118266\nStory: #2004073\nTask: #27445\n'}]",0,637740,02fc04a42084cd19c2a4c1cb57ad124c83be6d5d,8,3,1,9414,,,0,"add python 3.7 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.7.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: Ic2869dd3b4020707c0a96e124a59409fb0118266
Story: #2004073
Task: #27445
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/40/637740/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,02fc04a42084cd19c2a4c1cb57ad124c83be6d5d,py37-job, - openstack-python37-jobs,,1,0
openstack%2Ftempest-stress~master~I05055a387877c1be107a88f2d8b96a6e85440939,openstack/tempest-stress,master,I05055a387877c1be107a88f2d8b96a6e85440939,Add py36 and py37 tox envs,MERGED,2019-03-08 07:25:17.000000000,2019-03-15 00:50:29.000000000,2019-03-15 00:50:28.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 07:25:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/759db160848fe5cff8dce3ac5d47736826fc2e4b', 'message': 'Add py36 and py37 tox envs\n\nWith python3.6 and python3.7 jobs added to the Zuul jobs, it makes sense\nto add this to the tox config too.\n\nChange-Id: I05055a387877c1be107a88f2d8b96a6e85440939\n'}]",0,641952,759db160848fe5cff8dce3ac5d47736826fc2e4b,6,2,1,27078,,,0,"Add py36 and py37 tox envs

With python3.6 and python3.7 jobs added to the Zuul jobs, it makes sense
to add this to the tox config too.

Change-Id: I05055a387877c1be107a88f2d8b96a6e85440939
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/52/641952/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,759db160848fe5cff8dce3ac5d47736826fc2e4b,,"envlist = py35,py27,py36,py37,pypy,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fcongress~master~I3db0e10d0317ab3bd96a4480308b5661da4691c9,openstack/congress,master,I3db0e10d0317ab3bd96a4480308b5661da4691c9,Use YAML safe_load_all,MERGED,2019-03-08 19:30:05.000000000,2019-03-15 00:03:52.000000000,2019-03-15 00:03:52.000000000,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 18591}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-03-08 19:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/8c47f71652f97fd63c70b7da5e69f94aba440f4d', 'message': 'Use YAML safe load\n\nThe arbitrarily powerful YAML load is not necessary.\n\nChange-Id: I3db0e10d0317ab3bd96a4480308b5661da4691c9\nCloses-Bug: 1819211\n'}, {'number': 2, 'created': '2019-03-13 17:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/42e36f827c0fd97867270b1ab5c717faaa101de6', 'message': 'Use YAML safe load\n\nThe arbitrarily powerful YAML load is not necessary.\n\nChange-Id: I3db0e10d0317ab3bd96a4480308b5661da4691c9\nCloses-Bug: 1819211\n'}, {'number': 3, 'created': '2019-03-13 17:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/c17d7c28992034f15753a7ff48a51b6c5d2106fc', 'message': 'Use YAML safe_load_all\n\nThe arbitrarily powerful YAML load_all is not necessary.\n\nChange-Id: I3db0e10d0317ab3bd96a4480308b5661da4691c9\nCloses-Bug: 1819211\n'}, {'number': 4, 'created': '2019-03-13 17:52:41.000000000', 'files': ['congress/library_service/library_service.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/4752a6fdcf6af836ab7da5606d2b0df2c5e74ec1', 'message': 'Use YAML safe_load_all\n\nThe arbitrarily powerful YAML load_all is not necessary.\n\nChange-Id: I3db0e10d0317ab3bd96a4480308b5661da4691c9\nCloses-Bug: 1819211\n'}]",0,642124,4752a6fdcf6af836ab7da5606d2b0df2c5e74ec1,23,6,4,18591,,,0,"Use YAML safe_load_all

The arbitrarily powerful YAML load_all is not necessary.

Change-Id: I3db0e10d0317ab3bd96a4480308b5661da4691c9
Closes-Bug: 1819211
",git fetch https://review.opendev.org/openstack/congress refs/changes/24/642124/4 && git format-patch -1 --stdout FETCH_HEAD,['congress/library_service/library_service.py'],1,8c47f71652f97fd63c70b7da5e69f94aba440f4d,bug/1819211, policies = yaml.safe_load_all(stream), policies = yaml.load_all(stream),1,1
openstack%2Fcongress~master~I8bc27a2b0416191638f3ece4dd0d1b3aae8c63cc,openstack/congress,master,I8bc27a2b0416191638f3ece4dd0d1b3aae8c63cc,Use YAML safe_load,MERGED,2019-03-13 17:55:21.000000000,2019-03-15 00:00:38.000000000,2019-03-15 00:00:38.000000000,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-03-13 17:55:21.000000000', 'files': ['congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/794e5f3719b387e25cb19b5c7210ac571d8b435f', 'message': 'Use YAML safe_load\n\nThe arbitrarily powerful YAML load is not necessary.\n\nChange-Id: I8bc27a2b0416191638f3ece4dd0d1b3aae8c63cc\nPartial-Bug: 1819211\n'}]",0,643112,794e5f3719b387e25cb19b5c7210ac571d8b435f,10,5,1,18591,,,0,"Use YAML safe_load

The arbitrarily powerful YAML load is not necessary.

Change-Id: I8bc27a2b0416191638f3ece4dd0d1b3aae8c63cc
Partial-Bug: 1819211
",git fetch https://review.opendev.org/openstack/congress refs/changes/12/643112/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/datasource_driver.py'],1,794e5f3719b387e25cb19b5c7210ac571d8b435f,bug/1819211, named_args[arg_name] = yaml.safe_load( positional_args[index] = yaml.safe_load(arg), named_args[arg_name] = yaml.load( positional_args[index] = yaml.load(arg),2,2
openstack%2Fnetworking-ovn~stable%2Frocky~I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77,openstack/networking-ovn,stable/rocky,I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77,"Use vhost user client mode, instead of server",MERGED,2019-03-14 13:50:34.000000000,2019-03-14 23:48:56.000000000,2019-03-14 23:48:56.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 13:50:34.000000000', 'files': ['networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/849d13d3616120c33600a81b7668b13032c41e37', 'message': 'Use vhost user client mode, instead of server\n\nWhen doing the port binding, we need to tell libvirt to be the\nvhostuser server so that OVS can connect to the socket as a client.\nOVS being the ""server"" is also deprecated behavior.\n\nWithout this change, libvirt and OVS also end up disagreeing about\nwhere the socket lives when booting a VM and using DPDK.\n\nChange-Id: I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77\n(cherry picked from commit 5cbfbe6782e2b7d7b75d4be6c339ce80b1099a4e)\n'}]",1,643335,849d13d3616120c33600a81b7668b13032c41e37,12,4,1,5756,,,0,"Use vhost user client mode, instead of server

When doing the port binding, we need to tell libvirt to be the
vhostuser server so that OVS can connect to the socket as a client.
OVS being the ""server"" is also deprecated behavior.

Without this change, libvirt and OVS also end up disagreeing about
where the socket lives when booting a VM and using DPDK.

Change-Id: I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77
(cherry picked from commit 5cbfbe6782e2b7d7b75d4be6c339ce80b1099a4e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/35/643335/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_mech_driver.py']",2,849d13d3616120c33600a81b7668b13032c41e37,," self.vhu_mode = 'server' 'vhostuser_mode': self.vhu_mode, 'vhostuser_mode': self.vhu_mode,"," 'vhostuser_mode': 'client', 'vhostuser_mode': 'client',",4,3
openstack%2Frequirements~master~I62042c97b3c0c45f5abb30260d88a88a6353ae75,openstack/requirements,master,I62042c97b3c0c45f5abb30260d88a88a6353ae75,update constraint for openstackdocstheme to new release 1.29.2,MERGED,2019-03-14 10:57:03.000000000,2019-03-14 23:42:03.000000000,2019-03-14 23:42:03.000000000,"[{'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d838581d8ba240be58977b79955504ca19b1d1d', 'message': 'update constraint for openstackdocstheme to new release 1.29.2\n\nChange-Id: I62042c97b3c0c45f5abb30260d88a88a6353ae75\nmeta:version: 1.29.2\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: Ibe1583cc1b37c4c42e01a07da06898a887a528f9\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+1: Graham Hayes <gr@ham.ie>\nmeta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2019-03-14 15:50:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1106bfc8851bbbbf935786d556103b76ebbdb98a', 'message': 'update constraint for openstackdocstheme to new release 1.29.2\n\nDepends-On: https://review.openstack.org/643375\nChange-Id: I62042c97b3c0c45f5abb30260d88a88a6353ae75\nmeta:version: 1.29.2\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: Ibe1583cc1b37c4c42e01a07da06898a887a528f9\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+1: Graham Hayes <gr@ham.ie>\nmeta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,643283,1106bfc8851bbbbf935786d556103b76ebbdb98a,12,3,2,11131,,,0,"update constraint for openstackdocstheme to new release 1.29.2

Depends-On: https://review.openstack.org/643375
Change-Id: I62042c97b3c0c45f5abb30260d88a88a6353ae75
meta:version: 1.29.2
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: Ibe1583cc1b37c4c42e01a07da06898a887a528f9
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+1: Graham Hayes <gr@ham.ie>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/643283/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9d838581d8ba240be58977b79955504ca19b1d1d,new-release,openstackdocstheme===1.29.2,openstackdocstheme===1.29.1,1,1
openstack%2Frequirements~master~I8b0ce86299fc1240a14492d9c0823647b41afaa3,openstack/requirements,master,I8b0ce86299fc1240a14492d9c0823647b41afaa3,Use xenial for all py35 jobs,MERGED,2019-03-14 15:47:16.000000000,2019-03-14 23:42:02.000000000,2019-03-14 23:42:02.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 15:47:16.000000000', 'files': ['.zuul.d/jobs.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f46801ec77116dabb096c52d326f8a6ea8c4fe6d', 'message': 'Use xenial for all py35 jobs\n\nThe default nodeset is now bionic which does not include py35, so\nwe need to explicitly request a nodeset which does.\n\nChange-Id: I8b0ce86299fc1240a14492d9c0823647b41afaa3\n'}]",0,643375,f46801ec77116dabb096c52d326f8a6ea8c4fe6d,17,5,1,1,,,0,"Use xenial for all py35 jobs

The default nodeset is now bionic which does not include py35, so
we need to explicitly request a nodeset which does.

Change-Id: I8b0ce86299fc1240a14492d9c0823647b41afaa3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/643375/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/jobs.yaml', '.zuul.d/cross-jobs.yaml']",2,f46801ec77116dabb096c52d326f8a6ea8c4fe6d,, nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial nodeset: ubuntu-xenial,,8,0
openstack%2Fhorizon~stable%2Frocky~I8dfdc7e80dfe680d6699fc7f1f8325b85a9f7c8f,openstack/horizon,stable/rocky,I8dfdc7e80dfe680d6699fc7f1f8325b85a9f7c8f,Update geckodriver to version 0.23.0,MERGED,2018-12-12 07:33:22.000000000,2019-03-14 23:38:47.000000000,2019-03-14 23:38:47.000000000,"[{'_account_id': 841}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-12 07:33:22.000000000', 'files': ['roles/setup-selenium-tests/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3a90d8d4b8505eb711c1ca41fd15e0bf8586fae6', 'message': 'Update geckodriver to version 0.23.0\n\nThe latest selenium webdriver fails with old geckodriver.\n\nThis patch also fixes horizon-selenium-headless job.\n\nChange-Id: I8dfdc7e80dfe680d6699fc7f1f8325b85a9f7c8f\n(cherry picked from commit e3bfad6ade9cd6eb8498a41a0a9256c456f9cec5)\n'}]",0,624596,3a90d8d4b8505eb711c1ca41fd15e0bf8586fae6,9,5,1,1736,,,0,"Update geckodriver to version 0.23.0

The latest selenium webdriver fails with old geckodriver.

This patch also fixes horizon-selenium-headless job.

Change-Id: I8dfdc7e80dfe680d6699fc7f1f8325b85a9f7c8f
(cherry picked from commit e3bfad6ade9cd6eb8498a41a0a9256c456f9cec5)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/624596/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup-selenium-tests/defaults/main.yaml'],1,3a90d8d4b8505eb711c1ca41fd15e0bf8586fae6,geckodriver-stable/rocky,"geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.23.0/geckodriver-v0.23.0-linux64.tar.gz""","geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.19.1/geckodriver-v0.19.1-linux64.tar.gz""",1,1
openstack%2Ftripleo-quickstart~master~Icabcba5efed48b3c06d675ee7f0e594e26410753,openstack/tripleo-quickstart,master,Icabcba5efed48b3c06d675ee7f0e594e26410753,Point to the right ovn environment file,MERGED,2019-03-10 07:29:23.000000000,2019-03-14 23:12:46.000000000,2019-03-14 23:12:46.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-10 07:29:23.000000000', 'files': ['config/general_config/featureset028.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32990b0d052961eab5f1352568eb639d2c687c86', 'message': 'Point to the right ovn environment file\n\nThe files under environment/* are deprecated and will be removed via\nI8dc362bcbf860386b497490e57eec69d69f69cc8.\nSince openvswitch is now at version openvswitch-2.10.1-3.el7.x86_64\nwe can remove the comment and point to the right file.\n\nChange-Id: Icabcba5efed48b3c06d675ee7f0e594e26410753\n'}]",0,642254,32990b0d052961eab5f1352568eb639d2c687c86,14,7,1,20172,,,0,"Point to the right ovn environment file

The files under environment/* are deprecated and will be removed via
I8dc362bcbf860386b497490e57eec69d69f69cc8.
Since openvswitch is now at version openvswitch-2.10.1-3.el7.x86_64
we can remove the comment and point to the right file.

Change-Id: Icabcba5efed48b3c06d675ee7f0e594e26410753
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/54/642254/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset028.yml'],1,32990b0d052961eab5f1352568eb639d2c687c86,, -e {{ overcloud_templates_path }}/environments/services/neutron-ovn-ha.yaml,# TODO(numans) - Change to neutron-ml2-ovn-ha.yaml once OVS 2.7.2 is available # in rdo. -e {{ overcloud_templates_path }}/environments/neutron-ml2-ovn.yaml,1,3
openstack%2Fopenstack-zuul-jobs~master~I6a1ffeb830799314d1086f6b43fea29025260eb3,openstack/openstack-zuul-jobs,master,I6a1ffeb830799314d1086f6b43fea29025260eb3,Run legacy-puppet-lint on Xenial,MERGED,2019-03-14 22:48:03.000000000,2019-03-14 23:11:54.000000000,2019-03-14 23:11:54.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 22:48:03.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a012d1cd9a8890734ee0c3f6abef9886ae729be7', 'message': 'Run legacy-puppet-lint on Xenial\n\nThe default nodeset jumped to bionic but we need to run our puppet jobs\non xenial as puppet 3 and puppet 4 are not options on bionic. Move this\njob back to xenial.\n\nChange-Id: I6a1ffeb830799314d1086f6b43fea29025260eb3\n'}]",0,643481,a012d1cd9a8890734ee0c3f6abef9886ae729be7,7,3,1,4146,,,0,"Run legacy-puppet-lint on Xenial

The default nodeset jumped to bionic but we need to run our puppet jobs
on xenial as puppet 3 and puppet 4 are not options on bionic. Move this
job back to xenial.

Change-Id: I6a1ffeb830799314d1086f6b43fea29025260eb3
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/81/643481/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,a012d1cd9a8890734ee0c3f6abef9886ae729be7,more-bionic-fixes, nodeset: ubuntu-xenial,,1,0
openstack%2Fproject-config~master~I8ca39a7dceefa45504f0a90aeac1e6fda6ac7b1b,openstack/project-config,master,I8ca39a7dceefa45504f0a90aeac1e6fda6ac7b1b,Use a for loop to get the key from the hostvars,ABANDONED,2019-03-14 20:41:18.000000000,2019-03-14 23:07:23.000000000,,"[{'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 20:41:18.000000000', 'files': ['playbooks/javascript/release.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ab4085c15c0f43b369536636698664364ee2dd41', 'message': ""Use a for loop to get the key from the hostvars\n\nWe don't know what the host is, but we do know this really only\nworks if there's one host in the inventory. There might be a way\nto do this with smarter jinja, but this seems to work.\n\nChange-Id: I8ca39a7dceefa45504f0a90aeac1e6fda6ac7b1b\n""}]",2,643453,ab4085c15c0f43b369536636698664364ee2dd41,5,2,1,2,,,0,"Use a for loop to get the key from the hostvars

We don't know what the host is, but we do know this really only
works if there's one host in the inventory. There might be a way
to do this with smarter jinja, but this seems to work.

Change-Id: I8ca39a7dceefa45504f0a90aeac1e6fda6ac7b1b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/643453/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/javascript/release.yaml'],1,ab4085c15c0f43b369536636698664364ee2dd41,,"- hosts: localhost roles: - role: upload-npm project_ver: ""{% for key, value in hostvars.items() %}{{ hostvars[key]['project_ver'] }}{% endfor %}""",- hosts: all tasks: - name: Upload to npm include_role: name: upload-npm delegate_to: localhost,4,6
openstack%2Fproject-config~master~Icf0c36f94e55a9d8ef8ac123fde441af48303b25,openstack/project-config,master,Icf0c36f94e55a9d8ef8ac123fde441af48303b25,Wrap upload-npm invocation in a block,MERGED,2019-03-14 20:55:52.000000000,2019-03-14 22:43:10.000000000,2019-03-14 22:43:10.000000000,"[{'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 20:55:52.000000000', 'files': ['playbooks/javascript/release.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ad44f84d45b985a3b106c699b810691cfe1ee1f', 'message': 'Wrap upload-npm invocation in a block\n\nBefore ansible 2.7 this is needed for the delegate_to to apply.\n\nChange-Id: Icf0c36f94e55a9d8ef8ac123fde441af48303b25\n'}]",0,643454,5ad44f84d45b985a3b106c699b810691cfe1ee1f,8,3,1,2,,,0,"Wrap upload-npm invocation in a block

Before ansible 2.7 this is needed for the delegate_to to apply.

Change-Id: Icf0c36f94e55a9d8ef8ac123fde441af48303b25
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/643454/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/javascript/release.yaml'],1,5ad44f84d45b985a3b106c699b810691cfe1ee1f,, - block: - name: Upload to npm include_role: name: upload-npm, - name: Upload to npm include_role: name: upload-npm,4,3
openstack%2Fnova~master~Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,openstack/nova,master,Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,Re-enable Ceph in live migration testing,MERGED,2019-03-13 19:51:23.000000000,2019-03-14 22:20:59.000000000,2019-03-14 22:13:40.000000000,"[{'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26285}, {'_account_id': 26515}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-13 19:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5155f89a76851f6f2e7e9155a6a000991f81c1df', 'message': 'WIP Use Ceph Jewel release for live migration testing\n\nThe devstack-plugin-ceph defaults to trying to install the Hammer\nrelease, which is not available on bionic. Try using the newer Jewel\nrelease.\n\nCloses-Bug: #1819944\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}, {'number': 2, 'created': '2019-03-13 19:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c427a30413ca24de307fc1a2bfe2cdeecc32d00', 'message': 'WIP Use Ceph Jewel release for live migration testing\n\nThe devstack-plugin-ceph defaults to trying to install the Hammer\nrelease, which is not available on bionic. Try using the newer Jewel\nrelease.\n\nCloses-Bug: #1819944\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}, {'number': 3, 'created': '2019-03-13 19:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f9e1fa1efb33a8196599543267d88a46afb0acd', 'message': 'WIP Use Ceph Jewel release for live migration testing\n\nThe devstack-plugin-ceph defaults to trying to install the Hammer\nrelease, which is not available on bionic. Try using the newer Jewel\nrelease.\n\nCloses-Bug: #1819944\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}, {'number': 4, 'created': '2019-03-14 00:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d432f9a64855168ceeb28b65b4af53cdae69d0ce', 'message': 'Re-enable Ceph in live migration testing\n\nDepends-On: https://review.openstack.org/643154\n\nRelated-Bug: #1819944\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}, {'number': 5, 'created': '2019-03-14 12:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/583707cb3df5ab13f0476d69051a0236c9e06429', 'message': 'Re-enable Ceph in live migration testing\n\nAdd fix to enable proper OS detection.\n\nRelated-Bug: #1819944\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}, {'number': 6, 'created': '2019-03-14 14:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44a6a8197c396664d9ffbd41f2a06f5e1207b7fc', 'message': 'Re-enable Ceph in live migration testing\n\nAdd fix to enable proper OS detection.\n\nCloses-Bug: #1819944\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}, {'number': 7, 'created': '2019-03-14 18:48:58.000000000', 'files': ['nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53', 'message': 'Re-enable Ceph in live migration testing\n\nRevert I05182d8fd0df5e8f3f9f4fb11feed074990cdb9f and\nAdd fix to enable proper OS detection.\n\nCloses-Bug: #1819944\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n'}]",9,643150,9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53,69,18,7,4690,,,0,"Re-enable Ceph in live migration testing

Revert I05182d8fd0df5e8f3f9f4fb11feed074990cdb9f and
Add fix to enable proper OS detection.

Closes-Bug: #1819944

Co-Authored-By: Jens Harbott <j.harbott@x-ion.de>

Change-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/643150/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/ceph.sh'],1,5155f89a76851f6f2e7e9155a6a000991f81c1df,bug/1819944, CEPH_RELEASE=jewel,,1,0
openstack%2Fnova~master~I753fda1a83b340f4699c049158e6744b099f55d8,openstack/nova,master,I753fda1a83b340f4699c049158e6744b099f55d8,Customize irrelevant-files for nova-live-migration job,MERGED,2019-03-14 14:10:56.000000000,2019-03-14 22:13:23.000000000,2019-03-14 22:13:23.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-14 14:10:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9a6321c7bffefd7c18d0c4732539e1ae49ccb5c', 'message': 'Customize irrelevant-files for nova-live-migration job\n\nI noticed change Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\nwas not running the nova-live-migration job even though\nit was making changes to nova/tests/live_migration/hooks/run_tests.sh.\nThe reason is the nova-live-migration job irrelevant-files were\nexcluding changes to nova/tests/*.\n\nThis copies the nova-grenade-live-migration irrelevant-files list\nto the nova-live-migration job and defines it as a variable so it\ncan be re-used in the nova-grenade-live-migration job definition.\n\nChange-Id: I753fda1a83b340f4699c049158e6744b099f55d8\n'}]",2,643346,f9a6321c7bffefd7c18d0c4732539e1ae49ccb5c,16,12,1,6873,,,0,"Customize irrelevant-files for nova-live-migration job

I noticed change Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
was not running the nova-live-migration job even though
it was making changes to nova/tests/live_migration/hooks/run_tests.sh.
The reason is the nova-live-migration job irrelevant-files were
excluding changes to nova/tests/*.

This copies the nova-grenade-live-migration irrelevant-files list
to the nova-live-migration job and defines it as a variable so it
can be re-used in the nova-grenade-live-migration job definition.

Change-Id: I753fda1a83b340f4699c049158e6744b099f55d8
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/643346/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9a6321c7bffefd7c18d0c4732539e1ae49ccb5c,bug/1819944, irrelevant-files: &live-migration-irrelevant-files # We define our own irrelevant-files because we need to run # this if there are changes to nova/tests/live_migration/. # TODO(mriedem): Move the nova/tests/live_migration/ scripts to gate/ # so this job can use the standard dsvm-irrelevant-files. - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/(?!live_migration/).*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tests-py3.txt$ - ^tools/.*$ - ^tox.ini$ irrelevant-files: *live-migration-irrelevant-files, irrelevant-files: # We define our own irrelevant-files because we need to run # this if there are changes to nova/tests/live_migration/. # TODO(mriedem): Move the nova/tests/live_migration/ scripts to gate/ # so this job can use the standard dsvm-irrelevant-files. - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/(?!live_migration/).*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tests-py3.txt$ - ^tools/.*$ - ^tox.ini$,19,18
openstack%2Freleases~master~I11c1637a1a09ed828117a480d9ff472ce9f5e277,openstack/releases,master,I11c1637a1a09ed828117a480d9ff472ce9f5e277,Add cinderlib,MERGED,2019-03-13 18:40:08.000000000,2019-03-14 22:00:50.000000000,2019-03-14 22:00:50.000000000,"[{'_account_id': 308}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 18:40:08.000000000', 'files': ['deliverables/_independent/cinderlib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0477545ad8ab0fa2b901e680a7c44bdb8491f067', 'message': ""Add cinderlib\n\nThis patch adds a new independent deliverable for openstack/cinderlib,\nand will be changed to a cycle-based model once we change to Train.\n\nThe cinderlib project is a special kind of project, because even though\nit's a library, it is unlike the rest of the OpenStack libraries.\n\nIt's primary use is for non OpenStack projects, and uses the Cinder\nproject itself as if it were a library to consume existing block storage\ndrivers.\n\nChange-Id: I11c1637a1a09ed828117a480d9ff472ce9f5e277\n""}]",0,643133,0477545ad8ab0fa2b901e680a7c44bdb8491f067,8,5,1,9535,,,0,"Add cinderlib

This patch adds a new independent deliverable for openstack/cinderlib,
and will be changed to a cycle-based model once we change to Train.

The cinderlib project is a special kind of project, because even though
it's a library, it is unlike the rest of the OpenStack libraries.

It's primary use is for non OpenStack projects, and uses the Cinder
project itself as if it were a library to consume existing block storage
drivers.

Change-Id: I11c1637a1a09ed828117a480d9ff472ce9f5e277
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/643133/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/cinderlib.yaml'],1,0477545ad8ab0fa2b901e680a7c44bdb8491f067,add-cinderlib,--- team: cinder launchpad: cinderlib include-pypi-link: yes type: library release-type: python-pypi repository-settings: openstack/cinderlib: {} ,,8,0
openstack%2Fpython-tripleoclient~master~I5dcf3250a181c3614189618b9bae62e466b00275,openstack/python-tripleoclient,master,I5dcf3250a181c3614189618b9bae62e466b00275,Expose timezone configuration,MERGED,2019-01-02 17:55:16.000000000,2019-03-14 21:33:02.000000000,2019-01-09 11:49:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-01-02 17:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f577e0cf1c8f26cd33b532d97534b9ea9b4b5eb', 'message': 'Expose timezone configuration\n\nThis change adds an undercloud_timezone configuration that can be used\nto configure the timezone when we install the undercloud.\n\nChange-Id: I5dcf3250a181c3614189618b9bae62e466b00275\nRelated-Bug: #1784068\n'}, {'number': 2, 'created': '2019-01-02 21:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02806bceb6e18ed5a691c00ad600ea900f96fb5b', 'message': 'Expose timezone configuration\n\nThis change adds an undercloud_timezone configuration that can be used\nto configure the timezone when we install the undercloud.\n\nChange-Id: I5dcf3250a181c3614189618b9bae62e466b00275\nRelated-Bug: #1784068\n'}, {'number': 3, 'created': '2019-01-03 14:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/585a728c6c9a2074d433f3635480f57324b53fd7', 'message': 'Expose timezone configuration\n\nThis change adds an undercloud_timezone configuration that can be used\nto configure the timezone when we install the undercloud.\n\nChange-Id: I5dcf3250a181c3614189618b9bae62e466b00275\nRelated-Bug: #1784068\n'}, {'number': 4, 'created': '2019-01-07 22:44:47.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/undercloud-timezone-052a6c1c05e80850.yaml', 'tripleoclient/tests/config/test_config_undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cca24538d425ce05612101a6d0123168e09acd29', 'message': 'Expose timezone configuration\n\nThis change adds an undercloud_timezone configuration that can be used\nto configure the timezone when we install the undercloud.\n\nChange-Id: I5dcf3250a181c3614189618b9bae62e466b00275\nRelated-Bug: #1784068\n'}]",5,628015,cca24538d425ce05612101a6d0123168e09acd29,54,9,4,14985,,,0,"Expose timezone configuration

This change adds an undercloud_timezone configuration that can be used
to configure the timezone when we install the undercloud.

Change-Id: I5dcf3250a181c3614189618b9bae62e466b00275
Related-Bug: #1784068
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/628015/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py']",3,5f577e0cf1c8f26cd33b532d97534b9ea9b4b5eb,bug/1784068," 'undercloud_timezone', 'undercloud_timezone',",,8,0
openstack%2Fnetworking-ovn~master~I46c2527b61b0220c112ce5452461f93859f40975,openstack/networking-ovn,master,I46c2527b61b0220c112ce5452461f93859f40975,Unified name of patcher,MERGED,2019-03-12 02:55:39.000000000,2019-03-14 21:27:04.000000000,2019-03-14 21:27:04.000000000,"[{'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-03-12 02:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/49ec91f45574317303065ef042c70c40ae03e70b', 'message': 'Unified name of patcher\n\nUnified name of patcher for ovsdbapp and validation of new acl_columns\n\nChange-Id: I46c2527b61b0220c112ce5452461f93859f40975\n'}, {'number': 2, 'created': '2019-03-12 02:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e80b22142abd9544b0a70ff7b3d58c9ed05ee958', 'message': 'Unified name of patcher\n\nUnified name of patcher for ovsdbapp and validation of new acl_columns\n\nChange-Id: I46c2527b61b0220c112ce5452461f93859f40975\n'}, {'number': 3, 'created': '2019-03-13 02:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/87f58a1dfe03f7f42b7136254f61776e65994d60', 'message': 'Unified name of patcher\n\nUnified name of patcher for ovsdbapp and validation of new acl_columns\n\nChange-Id: I46c2527b61b0220c112ce5452461f93859f40975\n'}, {'number': 4, 'created': '2019-03-13 05:51:11.000000000', 'files': ['networking_ovn/tests/unit/common/test_acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/68e33f5df420a6ddb4930b9e0517ecf19c60720d', 'message': 'Unified name of patcher\n\nUnified name of patcher for ovsdbapp and validation of new acl_columns\n\nChange-Id: I46c2527b61b0220c112ce5452461f93859f40975\n'}]",4,642638,68e33f5df420a6ddb4930b9e0517ecf19c60720d,24,5,4,29874,,,0,"Unified name of patcher

Unified name of patcher for ovsdbapp and validation of new acl_columns

Change-Id: I46c2527b61b0220c112ce5452461f93859f40975
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/642638/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/unit/common/test_acl.py'],1,49ec91f45574317303065ef042c70c40ae03e70b,, patcher_ovsdbapp = mock.patch( patcher_ovsdbapp.start() patcher_new_acl_columns_validation = mock.patch( ) patcher_acl.start(), patcher = mock.patch( patcher.start() mock.patch( ).start(),5,4
openstack%2Fironic~master~I7bedb9598e9b374bc4d2140eac02bb81fe5a18f9,openstack/ironic,master,I7bedb9598e9b374bc4d2140eac02bb81fe5a18f9,Deploy Templates: documentation,MERGED,2019-03-11 18:03:54.000000000,2019-03-14 21:26:32.000000000,2019-03-14 21:24:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a18fc780f914e930e52200ffcaaf6c108d0f7e6', 'message': 'Deploy Templates: documentation\n\nAdds documentation for the deploy templates feature added in ironic API\nversion 1.55.\n\nChange-Id: I7bedb9598e9b374bc4d2140eac02bb81fe5a18f9\nStory: 1722275\nTask: 29962\n'}, {'number': 2, 'created': '2019-03-11 20:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fe1b53f1f37de2d6f0ccd655c16d49b22f0b43d', 'message': 'Deploy Templates: documentation\n\nAdds documentation for the deploy templates feature added in ironic API\nversion 1.55.\n\nChange-Id: I7bedb9598e9b374bc4d2140eac02bb81fe5a18f9\nStory: 1722275\nTask: 29962\n'}, {'number': 3, 'created': '2019-03-12 17:09:28.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/notifications.rst', 'doc/source/admin/deploy-steps.rst', 'doc/source/admin/node-deployment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/89c58cbb6a3a2375e775907f02c45a5a703d3c35', 'message': 'Deploy Templates: documentation\n\nAdds documentation for the deploy templates feature added in ironic API\nversion 1.55.\n\nChange-Id: I7bedb9598e9b374bc4d2140eac02bb81fe5a18f9\nStory: 1722275\nTask: 29962\n'}]",24,642531,89c58cbb6a3a2375e775907f02c45a5a703d3c35,18,6,3,14826,,,0,"Deploy Templates: documentation

Adds documentation for the deploy templates feature added in ironic API
version 1.55.

Change-Id: I7bedb9598e9b374bc4d2140eac02bb81fe5a18f9
Story: 1722275
Task: 29962
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/642531/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/notifications.rst', 'doc/source/admin/deploy-steps.rst', 'doc/source/admin/node-deployment.rst']",4,9a18fc780f914e930e52200ffcaaf6c108d0f7e6,story/1722275,"=============== Node Deployment =============== Overview ======== Node deployment is performed by the Bare Metal service to prepare a node for use by a workload. The exact work flow used depends on a number of factors, including the hardware type and interfaces assigned to a node. This section describes the following concepts, which can be used to customize the deployment of nodes: * Deploy steps * Deploy templates Deploy Steps ============ The Bare Metal service implements deployment by collecting a list of deploy steps to perform on a node from the Power, Deploy, Management, BIOS, and RAID interfaces of the driver assigned to the node. These steps are then ordered by priority and executed on the node when the node is moved to the ``deploying`` state. Nodes move to the ``deploying`` state when attempting to move to the ``active`` state (when the hardware is prepared for use by a workload). For a full understanding of all state transitions into deployment, please see :ref:`states`. The Bare Metal service added support for deploy steps in the Rocky release. Order of execution ------------------ Deploy steps are ordered from higher to lower priority, where a larger integer is a higher priority. If the same priority is used by deploy steps on different interfaces, the following resolution order is used: Power, Management, Deploy, BIOS, and RAID interfaces. Writing a Deploy Step --------------------- Please refer to :doc:`/contributor/deploy-steps`. Deploy Templates ================ Starting with the Stein release, with Bare Metal API version 1.55, deploy templates offer a way to define a set of one or more deploy steps to be executed with particular sets of arguments and priorities. Each deploy template has a name, which must be a valid trait. Traits can be either standard or custom. Standard traits are listed in the `os_traits library <https://docs.openstack.org/os-traits/latest/>`_. Custom traits must meet the following requirements: * prefixed with ``CUSTOM_`` * contain only upper case characters A to Z, digits 0 to 9, or underscores * no longer than 255 characters in length Deploy step format ------------------ An invocation of a deploy step is defined in a deploy template as follows: .. code-block:: json { ""interface"": ""<name of the driver interface>"", ""step"": ""<name of the step>"", ""args"": { ""<arg1>"": ""<value1>"", ""<arg2>"": ""<value2>"" }, ""priority"": <priority of the step> } A deploy template contains a list of one or more such steps. Each combination of `interface` and `step` may only be specified once in a deploy template. Matching deploy templates ------------------------- During deployment, if any of the traits in a node's ``instance_info.traits`` field match the name of a deploy template, then the steps from that deploy template will be added to the list of steps to be executed by the node. When using the Compute service, any traits in the instance's flavor properties or image properties are stored in ``instance_info.traits`` during deployment. See :ref:`scheduling-traits` for further information on how traits are used for scheduling when the Bare Metal service is used with the Compute service. Note that there is no ongoing relationship between a node and any templates that are matched during deployment. The set of matching deploy templates is checked at deployment time. Any subsequent updates to or deletion of those templates will not be reflected in the node's configuration unless it is redeployed or rebuilt. Similarly, if a node is rebuilt and the set of matching deploy templates has changed since the initial deployment, then the resulting configuration of the node may be different from the initial deployment. Overriding default deploy steps ------------------------------- A deploy step is enabled by default if it has a non-zero default priority. A default deploy step may be overridden in a deploy template. If the step's priority is a positive integer it will be executed with the specified priority and arguments. If the step's priority is zero, the step will not be executed. Certain default deploy steps are designated as 'core' deploy steps. If a core deploy step is included in a deploy template, it can only be assigned a priority of zero. Currently the only core deploy step is the ``deploy`` step on the ``deploy`` interface. Creating a deploy template via API ---------------------------------- A deploy template can be created using the Bare Metal API:: POST /v1/deploy_templates Here is an example of the body of a request to create a deploy template with a single step: .. code-block:: json { ""extra"": {}, ""name"": ""CUSTOM_HYPERTHREADING_ON"", ""steps"": [ { ""interface"": ""bios"", ""step"": ""apply_configuration"", ""args"": { ""settings"": [ { ""name"": ""LogicalProc"", ""value"": ""Enabled"" } ] }, ""priority"": 150 } ] } Further information on this API is available `here <https://developer.openstack.org/api-ref/baremetal/index.html?expanded=create-deploy-template-detail#create-deploy-template>`__. Creating a deploy template via ""openstack baremetal"" client ----------------------------------------------------------- A deploy template can be created via the ``openstack baremetal deploy template create`` command. The argument ``--steps`` must be specified. Its value is one of: - a JSON string - path to a JSON file whose contents are passed to the API - '-', to read from stdin. This allows piping in the deploy steps. Using '-' to signify stdin is common in Unix utilities. The following examples assume that the Bare Metal API version was set via the ``OS_BAREMETAL_API_VERSION`` environment variable. (The alternative is to add ``--os-baremetal-api-version 1.55`` to the command.):: export OS_BAREMETAL_API_VERSION=1.55 Example of creating a deploy template with a single step using a JSON string:: openstack baremetal deploy template create \ CUSTOM_HYPERTHREADING_ON \ --steps '[{""interface"": ""bios"", ""step"": ""apply_configuration"", ""args"": {""settings"": [{""name"": ""LogicalProc"", ""value"": ""Enabled""}]}, ""priority"": 150}]' Or with a file:: openstack baremetal deploy template create \ CUSTOM_HYPERTHREADING_ON \ ---steps my-deploy-steps.txt Or with stdin:: cat my-deploy-steps.txt | openstack baremetal deploy template create \ CUSTOM_HYPERTHREADING_ON \ --steps - Example of use with the Compute service --------------------------------------- In the following example, we have a node with a node trait of ``CUSTOM_TRAIT1``. We also have a flavor in the Compute service with the following property:: trait:CUSTOM_TRAIT1:required Creating a Compute instance with this flavor will ensure that the instance is scheduled only to Bare Metal nodes with this trait. If, when the instance is created, there is a Bare Metal deploy template with the name ``CUSTOM_TRAIT``, then the deploy steps of that deploy template will be executed during the deployment of the scheduled node. FAQ === What deploy step is running? ---------------------------- To check what deploy step the node is performing or attempted to perform and failed, run the following command; it will return the value in the node's ``driver_internal_info`` field:: openstack baremetal node show $node_ident -f value -c driver_internal_info The ``deploy_steps`` field will contain a list of all remaining steps with their priorities, and the first one listed is the step currently in progress or that the node failed before going into ``deploy failed`` state. Troubleshooting =============== If deployment fails on a node, the node will be put into the ``deploy failed`` state until the node is deprovisioned. A deprovisioned node is moved to the ``available`` state after the cleaning process has been performed successfully. Strategies for determining why a deploy step failed include checking the ironic conductor logs, checking logs from the ironic-python-agent that have been stored on the ironic conductor, or performing general hardware troubleshooting on the node. ",,280,66
openstack%2Fironic~master~I14716e6023dd09096e17e60c7d02230ecb3e7150,openstack/ironic,master,I14716e6023dd09096e17e60c7d02230ecb3e7150,Deploy Templates: API reference,MERGED,2019-03-11 15:33:26.000000000,2019-03-14 21:25:59.000000000,2019-03-14 21:24:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 15:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ecd5b1e739da300785f326595e980f724bf1345b', 'message': 'Deploy Templates: API reference\n\nChange-Id: I14716e6023dd09096e17e60c7d02230ecb3e7150\nStory: 1722275\nTask: 28680\n'}, {'number': 2, 'created': '2019-03-12 15:43:23.000000000', 'files': ['api-ref/source/baremetal-api-v1-deploy-templates.inc', 'api-ref/source/parameters.yaml', 'api-ref/source/samples/deploy-template-list-response.json', 'api-ref/source/index.rst', 'api-ref/regenerate-samples.sh', 'api-ref/source/samples/deploy-template-update-request.json', 'api-ref/source/samples/deploy-template-show-response.json', 'api-ref/source/samples/deploy-template-update-response.json', 'api-ref/source/samples/deploy-template-create-request.json', 'api-ref/source/samples/deploy-template-detail-response.json', 'api-ref/source/samples/deploy-template-create-response.json'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9672cb73d23ae140ceaf6b2412dc91a6a9402ef8', 'message': 'Deploy Templates: API reference\n\nChange-Id: I14716e6023dd09096e17e60c7d02230ecb3e7150\nStory: 1722275\nTask: 28680\n'}]",4,642498,9672cb73d23ae140ceaf6b2412dc91a6a9402ef8,14,4,2,14826,,,0,"Deploy Templates: API reference

Change-Id: I14716e6023dd09096e17e60c7d02230ecb3e7150
Story: 1722275
Task: 28680
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/642498/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/baremetal-api-v1-deploy-templates.inc', 'api-ref/source/parameters.yaml', 'api-ref/source/samples/deploy-template-list-response.json', 'api-ref/source/index.rst', 'api-ref/regenerate-samples.sh', 'api-ref/source/samples/deploy-template-update-request.json', 'api-ref/source/samples/deploy-template-show-response.json', 'api-ref/source/samples/deploy-template-create-request.json', 'api-ref/source/samples/deploy-template-detail-response.json', 'api-ref/source/samples/deploy-template-update-response.json', 'api-ref/source/samples/deploy-template-create-response.json']",11,ecd5b1e739da300785f326595e980f724bf1345b,story/1722275,"{ ""created_at"": ""2016-08-18T22:28:48.643434+11:11"", ""extra"": {}, ""links"": [ { ""href"": ""http://10.60.253.180:6385/v1/deploy_templates/bbb45f41-d4bc-4307-8d1d-32f95ce1e920"", ""rel"": ""self"" }, { ""href"": ""http://10.60.253.180:6385/deploy_templates/bbb45f41-d4bc-4307-8d1d-32f95ce1e920"", ""rel"": ""bookmark"" } ], ""name"": ""CUSTOM_HYPERTHREADING_ON"", ""steps"": [ { ""args"": { ""settings"": [ { ""name"": ""LogicalProc"", ""value"": ""Enabled"" } ] }, ""interface"": ""bios"", ""priority"": 150, ""step"": ""apply_configuration"" } ], ""updated_at"": null, ""uuid"": ""bbb45f41-d4bc-4307-8d1d-32f95ce1e920"" } ",,465,1
openstack%2Fneutron~master~Ie3fe825d65408fc969c478767b411fe0156e9fbc,openstack/neutron,master,Ie3fe825d65408fc969c478767b411fe0156e9fbc,Set initial ha router state in neutron-keepalived-state-change,MERGED,2019-03-10 21:46:23.000000000,2019-03-14 21:16:08.000000000,2019-03-14 19:08:18.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-10 21:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a7d2390dbe75dae84588ce9e6a1add5ac11163e', 'message': 'WIP Set initial ha router state in neutron-keepalived-state-change\n\nThis is still WIP patch.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nRelated-Bug: #1818614\n'}, {'number': 2, 'created': '2019-03-11 11:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a9604227e8a7a64608bc7b1d0efacad4a081afb', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n'}, {'number': 3, 'created': '2019-03-11 16:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bae9b71fcf99617a4456fb4c6ed0d1cb755fb0b', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n'}, {'number': 4, 'created': '2019-03-11 20:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4bacee967b97f3ee666e2067ab31f01e1372036', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n'}, {'number': 5, 'created': '2019-03-11 23:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7578fefa2e358bc1a81587391425cc2f214d7103', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n'}, {'number': 6, 'created': '2019-03-12 11:36:42.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fec1ffc833eba9b3fc5f812bf881f44b4beba0c', 'message': 'Set initial ha router state in neutron-keepalived-state-change\n\nSometimes in case of HA routers it may happend that\nkeepalived will set status of router to MASTER before\nneutron-keepalived-state-change daemon will spawn ""ip monitor""\nto monitor changes of IPs in router\'s namespace.\n\nIn such case neutron-keepalived-state-change process will never\nnotice that keepalived set router to be MASTER and L3 agent will\nnot be notified about that so router will not be configured properly.\n\nTo avoid such race condition neutron-keepalived-state-change will\nnow check if VIP address is already configured on ha interface\nbefore it will spawn ""ip monitor"". If it is already configured\nby keepalived, it will notify L3 agent that router is set to\nMASTER.\n\nChange-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc\nCloses-Bug: #1818614\n'}]",7,642295,8fec1ffc833eba9b3fc5f812bf881f44b4beba0c,47,10,6,11975,,,0,"Set initial ha router state in neutron-keepalived-state-change

Sometimes in case of HA routers it may happend that
keepalived will set status of router to MASTER before
neutron-keepalived-state-change daemon will spawn ""ip monitor""
to monitor changes of IPs in router's namespace.

In such case neutron-keepalived-state-change process will never
notice that keepalived set router to be MASTER and L3 agent will
not be notified about that so router will not be configured properly.

To avoid such race condition neutron-keepalived-state-change will
now check if VIP address is already configured on ha interface
before it will spawn ""ip monitor"". If it is already configured
by keepalived, it will notify L3 agent that router is set to
MASTER.

Change-Id: Ie3fe825d65408fc969c478767b411fe0156e9fbc
Closes-Bug: #1818614
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/642295/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,1a7d2390dbe75dae84588ce9e6a1add5ac11163e,bug/1818614," # NOTE(slaweq): this triggers issue more often: import time; time.sleep(30) self.handle_initial_state() def handle_initial_state(self): try: state = 'backup' ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: state = 'master' LOG.debug('Initial status of router %s is %s', self.router_id, state) self.write_state_change(state) self.notify_agent(state) break else: LOG.debug('Initial status of router %s is %s', self.router_id, state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id) ",,22,0
openstack%2Fpuppet-cinder~master~Ia5af561658f4ddb0aa66532164dd0040a2788c73,openstack/puppet-cinder,master,Ia5af561658f4ddb0aa66532164dd0040a2788c73,Convert specs to RSpec 3.8.0 syntax with Transpec,ABANDONED,2019-03-12 20:48:12.000000000,2019-03-14 21:04:02.000000000,,"[{'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29958}]","[{'number': 1, 'created': '2019-03-12 20:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/31bf06f4a544f241acd5f8c79f35f20959301910', 'message': ' Convert specs to RSpec 3.8.0 syntax with Transpec\n\n    This conversion is done by Transpec 3.4.0\n    This patch complements ae0c571a525e22f3ba891c3157093ccda666e642\n    adding the needed converted files inside lib/puppet/type dir.\n\n    Closes-Bug: #1816857\n\nChange-Id: Ia5af561658f4ddb0aa66532164dd0040a2788c73\n'}, {'number': 2, 'created': '2019-03-12 21:04:02.000000000', 'files': ['lib/puppet/type/cinder_qos.rb', 'lib/puppet/type/cinder_type.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2b0a2ead4924511449e04a7a6f3aebb1b9662c86', 'message': 'Convert specs to RSpec 3.8.0 syntax with Transpec\n\nThis conversion is done by Transpec 3.4.0\nThis patch complements ae0c571a525e22f3ba891c3157093ccda666e642\nadding the needed converted files inside lib/puppet/type dir.\nCloses-Bug: #1816857\n\nChange-Id: Ia5af561658f4ddb0aa66532164dd0040a2788c73\n'}]",3,642889,2b0a2ead4924511449e04a7a6f3aebb1b9662c86,15,5,2,29958,,,0,"Convert specs to RSpec 3.8.0 syntax with Transpec

This conversion is done by Transpec 3.4.0
This patch complements ae0c571a525e22f3ba891c3157093ccda666e642
adding the needed converted files inside lib/puppet/type dir.
Closes-Bug: #1816857

Change-Id: Ia5af561658f4ddb0aa66532164dd0040a2788c73
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/89/642889/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/cinder_qos.rb', 'lib/puppet/type/cinder_type.rb']",2,31bf06f4a544f241acd5f8c79f35f20959301910,bug/1816857, is.sort == is_expected.to.sort is.sort == is_expected.to.sort, is.sort == should.sort is.sort == should.sort,4,4
openstack%2Fnetworking-ovn~stable%2Fqueens~I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77,openstack/networking-ovn,stable/queens,I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77,"Use vhost user client mode, instead of server",MERGED,2019-03-14 13:50:46.000000000,2019-03-14 20:46:41.000000000,2019-03-14 20:46:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 13:50:46.000000000', 'files': ['networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/79acc345f3908d7a01b0e89b260d8eb97db1d1a3', 'message': 'Use vhost user client mode, instead of server\n\nWhen doing the port binding, we need to tell libvirt to be the\nvhostuser server so that OVS can connect to the socket as a client.\nOVS being the ""server"" is also deprecated behavior.\n\nWithout this change, libvirt and OVS also end up disagreeing about\nwhere the socket lives when booting a VM and using DPDK.\n\nChange-Id: I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77\n(cherry picked from commit 5cbfbe6782e2b7d7b75d4be6c339ce80b1099a4e)\n'}]",1,643338,79acc345f3908d7a01b0e89b260d8eb97db1d1a3,7,3,1,5756,,,0,"Use vhost user client mode, instead of server

When doing the port binding, we need to tell libvirt to be the
vhostuser server so that OVS can connect to the socket as a client.
OVS being the ""server"" is also deprecated behavior.

Without this change, libvirt and OVS also end up disagreeing about
where the socket lives when booting a VM and using DPDK.

Change-Id: I09a4c31d65ed5daa6e2d5cbf9235343d139bdc77
(cherry picked from commit 5cbfbe6782e2b7d7b75d4be6c339ce80b1099a4e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/643338/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_mech_driver.py']",2,79acc345f3908d7a01b0e89b260d8eb97db1d1a3,," self.vhu_mode = 'server' 'vhostuser_mode': self.vhu_mode, 'vhostuser_mode': self.vhu_mode,"," 'vhostuser_mode': 'client', 'vhostuser_mode': 'client',",4,3
openstack%2Fkeystone~master~I9ea9a5e9f56c3bd050dc0a3217dda96c06e823e0,openstack/keystone,master,I9ea9a5e9f56c3bd050dc0a3217dda96c06e823e0,Migrate keystone-dsvm-grenade-multinode job to Ubuntu Bionic,MERGED,2019-03-08 05:18:09.000000000,2019-03-14 20:17:55.000000000,2019-03-14 20:17:55.000000000,"[{'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 05:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/35d6806f35870265247313944a9cd9e390765a06', 'message': 'DNM: Testing keystone legacy jobs on bionic\n\nDepends-On: https://review.openstack.org/#/c/641886/\nChange-Id: I9ea9a5e9f56c3bd050dc0a3217dda96c06e823e0\n'}, {'number': 2, 'created': '2019-03-13 03:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee5100f7fceb7b740b4413bd9f685343f05106a9', 'message': 'Migrate keystone-dsvm-grenade-multinode job to Ubuntu Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nBelow patch move the legacy base jobs to bionic which will move the derived jobs\nautomatically to bionic. These jobs are modified with branch variant so that they will use\nBionic node from stein onwards and xenial for all other stable branches\nuntil stable/rocky.\n- https://review.openstack.org/#/c/639096\n\nThis commit remove the overridden nodeset in keystone-dsvm-grenade-multinode\njob so that it will start using the nodeset defined in parent job.\n\nMore Details:\n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\n\nDepends-On: https://review.openstack.org/#/c/639096\nChange-Id: I9ea9a5e9f56c3bd050dc0a3217dda96c06e823e0\n'}, {'number': 3, 'created': '2019-03-13 03:09:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c9038480439ab7b653738a34de9fddbdbb383730', 'message': 'Migrate keystone-dsvm-grenade-multinode job to Ubuntu Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nBelow patch move the legacy base jobs to bionic which will move the derived jobs\nautomatically to bionic. These jobs are modified with branch variant so that they will use\nBionic node from stein onwards and xenial for all other stable branches\nuntil stable/rocky.\n- https://review.openstack.org/#/c/639096\n\nThis commit remove the overridden nodeset in keystone-dsvm-grenade-multinode\njob so that it will start using the nodeset defined in parent job.\n\nMore Details:\n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\n\nDepends-On: https://review.openstack.org/#/c/639096\nChange-Id: I9ea9a5e9f56c3bd050dc0a3217dda96c06e823e0\n'}]",2,641925,c9038480439ab7b653738a34de9fddbdbb383730,19,4,3,27621,,,0,"Migrate keystone-dsvm-grenade-multinode job to Ubuntu Bionic

We have migrated the zuulv3 job to Bionic during Dec/Jan month.
 - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html
 - https://etherpad.openstack.org/p/devstack-bionic
But that effort does not move all gate job to Bionic as there are
large amount of jobs are still legacy jobs. All the legacy jobs still
use Xenial as nodeset.

As per the decided runtime for Stein, we need to test everything on openstack
CI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html

Below patch move the legacy base jobs to bionic which will move the derived jobs
automatically to bionic. These jobs are modified with branch variant so that they will use
Bionic node from stein onwards and xenial for all other stable branches
until stable/rocky.
- https://review.openstack.org/#/c/639096

This commit remove the overridden nodeset in keystone-dsvm-grenade-multinode
job so that it will start using the nodeset defined in parent job.

More Details:
- https://etherpad.openstack.org/p/legacy-job-bionic
- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>

Depends-On: https://review.openstack.org/#/c/639096
Change-Id: I9ea9a5e9f56c3bd050dc0a3217dda96c06e823e0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/641925/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,35d6806f35870265247313944a9cd9e390765a06,legacy-job-bionic,,,1,0
openstack%2Fopenstack-ansible-os_mistral~master~I0061f5b0778ca825d9340996b47fb51a04b2875a,openstack/openstack-ansible-os_mistral,master,I0061f5b0778ca825d9340996b47fb51a04b2875a,Port venv build of os_mistral to stable/rocky,ABANDONED,2019-03-14 19:28:11.000000000,2019-03-14 20:15:57.000000000,,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-14 19:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/3e7c4f06d894b8c3b3fa5e31eb2cc1f8dea5be76', 'message': 'Port venv build of os_mistral to stable/rocky\n\nAs we changed the way we prepare venv in master (aka stein)\nand we are ""backporting"" os_mistral to stable/rocky\nwe need to change venv build to the correspondent branch.\n\nChange-Id: I0061f5b0778ca825d9340996b47fb51a04b2875a\n'}, {'number': 2, 'created': '2019-03-14 20:07:59.000000000', 'files': ['tasks/mistral_install_source.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/f373d422900b7c7f60d6c6f65eeabcbbd3c5d8ce', 'message': 'Port venv build of os_mistral to stable/rocky\n\nAs we changed the way we prepare venv in master (aka stein)\nand we are ""backporting"" os_mistral to stable/rocky\nwe need to change venv build to the correspondent branch.\n\nChange-Id: I0061f5b0778ca825d9340996b47fb51a04b2875a\n'}]",0,643442,f373d422900b7c7f60d6c6f65eeabcbbd3c5d8ce,7,3,2,28008,,,0,"Port venv build of os_mistral to stable/rocky

As we changed the way we prepare venv in master (aka stein)
and we are ""backporting"" os_mistral to stable/rocky
we need to change venv build to the correspondent branch.

Change-Id: I0061f5b0778ca825d9340996b47fb51a04b2875a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/42/643442/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/mistral_install_source.yml', 'defaults/main.yml']",2,3e7c4f06d894b8c3b3fa5e31eb2cc1f8dea5be76,mistral_rocky,"# venv_download, even when true, will use the fallback method of building the # venv from scratch if the venv download fails. mistral_venv_download: ""{{ not mistral_developer_mode | bool }}"" mistral_venv_download_url: http://127.0.0.1/venvs/untagged/ubuntu/mistral.tgz ",,120,21
openstack%2Ftripleo-ci~master~I0afda235e81f329a1a3a3623e197a462d617ccbc,openstack/tripleo-ci,master,I0afda235e81f329a1a3a3623e197a462d617ccbc,partial revert of 642808,ABANDONED,2019-03-13 23:57:56.000000000,2019-03-14 20:05:46.000000000,,"[{'_account_id': 3153}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 23:57:56.000000000', 'files': ['toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/44b1876f07fc19df9e0ec5d5ab461592ee01b8a3', 'message': 'partial revert of 642808\n\nhttps://review.openstack.org/#/c/642808/\nbroke ovb jobs.\n\nCloses-Bug: #1819981\nChange-Id: I0afda235e81f329a1a3a3623e197a462d617ccbc\n'}]",1,643190,44b1876f07fc19df9e0ec5d5ab461592ee01b8a3,9,5,1,9592,,,0,"partial revert of 642808

https://review.openstack.org/#/c/642808/
broke ovb jobs.

Closes-Bug: #1819981
Change-Id: I0afda235e81f329a1a3a3623e197a462d617ccbc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/643190/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb.yml'],1,44b1876f07fc19df9e0ec5d5ab461592ee01b8a3,bug/1819981,"undercloud_docker_registry_mirror: ""{{ lookup('env','NODEPOOL_DOCKER_REGISTRY_PROXY') }}""","undercloud_docker_registry_mirror: ""{{ lookup('env','NODEPOOL_DOCKER_REGISTRY_V2_PROXY') }}""",1,1
openstack%2Ftripleo-heat-templates~master~I75b3b97c55e7886a1b31adaafccb474ed996ee92,openstack/tripleo-heat-templates,master,I75b3b97c55e7886a1b31adaafccb474ed996ee92,DNM - test setting CephVolumeMode for Manila,ABANDONED,2019-02-23 17:02:21.000000000,2019-03-14 20:03:09.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-23 17:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ea879aaaed2f71c54b7e387c8081cb45d643ba4', 'message': ""DNM - test setting CephVolumeMode for Manila\n\nDependencies here are the pending THT, puppet-tripleo, and\npuppet-manila changes to enable this parameter.  Default\nvalue is '0755'; here we set it to '0775'.\n\nDepends-on: https://review.openstack.org/#/c/638775/\nDepends-on: https://review.openstack.org/#/c/638773\nDepends-on: https://review.openstack.org/#/c/638770\nChange-Id: I75b3b97c55e7886a1b31adaafccb474ed996ee92\n""}, {'number': 2, 'created': '2019-02-26 12:58:56.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/194ac5d61cb19f1e599e5bf65d6eb0426d944fa1', 'message': ""DNM - test setting CephVolumeMode for Manila\n\nDependencies here are the pending THT, puppet-tripleo, and\npuppet-manila changes to enable this parameter.  Default\nvalue is '0755'; here we set it to '0775'.\n\nDepends-on: https://review.openstack.org/#/c/638775/\nDepends-on: https://review.openstack.org/#/c/638773\nDepends-on: https://review.openstack.org/#/c/638770\nChange-Id: I75b3b97c55e7886a1b31adaafccb474ed996ee92\n""}]",0,638853,194ac5d61cb19f1e599e5bf65d6eb0426d944fa1,8,6,2,9003,,,0,"DNM - test setting CephVolumeMode for Manila

Dependencies here are the pending THT, puppet-tripleo, and
puppet-manila changes to enable this parameter.  Default
value is '0755'; here we set it to '0775'.

Depends-on: https://review.openstack.org/#/c/638775/
Depends-on: https://review.openstack.org/#/c/638773
Depends-on: https://review.openstack.org/#/c/638770
Change-Id: I75b3b97c55e7886a1b31adaafccb474ed996ee92
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/638853/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,0ea879aaaed2f71c54b7e387c8081cb45d643ba4,, ManilaCephFSCephVolumeMode: '0775', ManilaCephFSMetadataPoolPGNum: 16,1,1
openstack%2Fopenstack-zuul-jobs~master~Idecb985ef1e3ee89e65be3bf7873022e83fd1a6d,openstack/openstack-zuul-jobs,master,Idecb985ef1e3ee89e65be3bf7873022e83fd1a6d,Run legacy puppet 3 syntax checks on xenial,MERGED,2019-03-14 19:29:33.000000000,2019-03-14 19:53:26.000000000,2019-03-14 19:53:26.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 19:29:33.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/62a66c0ccd2394694b1968a222dcc7d127928c72', 'message': ""Run legacy puppet 3 syntax checks on xenial\n\nThe base nodest has moved ahead to bionic but puppet 3 doesn't work on\nbionic. Instead pin these legacy jobs to the legacy ubuntu xenial\nnodeset so that we run these jobs on a platform that understands puppet\n3.\n\nChange-Id: Idecb985ef1e3ee89e65be3bf7873022e83fd1a6d\n""}]",0,643446,62a66c0ccd2394694b1968a222dcc7d127928c72,7,3,1,4146,,,0,"Run legacy puppet 3 syntax checks on xenial

The base nodest has moved ahead to bionic but puppet 3 doesn't work on
bionic. Instead pin these legacy jobs to the legacy ubuntu xenial
nodeset so that we run these jobs on a platform that understands puppet
3.

Change-Id: Idecb985ef1e3ee89e65be3bf7873022e83fd1a6d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/46/643446/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,62a66c0ccd2394694b1968a222dcc7d127928c72,fix-bionic-things, nodeset: legacy-ubuntu-xenial nodeset: legacy-ubuntu-xenial,,2,0
openstack%2Fopenstack-zuul-jobs~master~I48b32e5d1d810f791c26cc5eef86fc0eaa592f21,openstack/openstack-zuul-jobs,master,I48b32e5d1d810f791c26cc5eef86fc0eaa592f21,Run infra puppet apply xenial jobs on xenial nodes,MERGED,2019-03-14 19:24:18.000000000,2019-03-14 19:53:26.000000000,2019-03-14 19:53:25.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 19:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f0d723d48aac9ae91083787a87e34f2dd7d4f9c0', 'message': 'Run infra puppet apply xenial jobs on xenial nodes\n\nThe base job nodeset has moved ahead to bionic so we need to explicitly\nset xenial as the nodeset on our infra puppet apply xenial jobs.\n\nChange-Id: I48b32e5d1d810f791c26cc5eef86fc0eaa592f21\n'}, {'number': 2, 'created': '2019-03-14 19:29:33.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/961271a1a77d0447fd63c8b2a4f2f75d76b2922c', 'message': 'Run infra puppet apply xenial jobs on xenial nodes\n\nThe base job nodeset has moved ahead to bionic so we need to explicitly\nset xenial as the nodeset on our infra puppet apply xenial jobs.\n\nChange-Id: I48b32e5d1d810f791c26cc5eef86fc0eaa592f21\n'}]",0,643441,961271a1a77d0447fd63c8b2a4f2f75d76b2922c,8,3,2,4146,,,0,"Run infra puppet apply xenial jobs on xenial nodes

The base job nodeset has moved ahead to bionic so we need to explicitly
set xenial as the nodeset on our infra puppet apply xenial jobs.

Change-Id: I48b32e5d1d810f791c26cc5eef86fc0eaa592f21
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/41/643441/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f0d723d48aac9ae91083787a87e34f2dd7d4f9c0,fix-bionic-things, nodeset: ubuntu-xenial nodeset: ubuntu-xenial,,2,0
openstack%2Fopenstack-ansible-os_mistral~master~Ifd06dcba81067ea893a2f4cc27499a8ec79f821e,openstack/openstack-ansible-os_mistral,master,Ifd06dcba81067ea893a2f4cc27499a8ec79f821e,Update master for stable/rocky,MERGED,2019-03-14 19:07:04.000000000,2019-03-14 19:46:10.000000000,2019-03-14 19:46:10.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 19:07:04.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/2407ccd6a713af6ceca739007d405306f84851ba', 'message': 'Update master for stable/rocky\n\nAdd file to the reno documentation build to show release notes for\nstable/rocky.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/rocky.\n\nChange-Id: Ifd06dcba81067ea893a2f4cc27499a8ec79f821e\nSem-Ver: feature\n'}]",0,643434,2407ccd6a713af6ceca739007d405306f84851ba,6,2,1,22816,,,0,"Update master for stable/rocky

Add file to the reno documentation build to show release notes for
stable/rocky.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/rocky.

Change-Id: Ifd06dcba81067ea893a2f4cc27499a8ec79f821e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/34/643434/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,2407ccd6a713af6ceca739007d405306f84851ba,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,8,1
openstack%2Fopenstack-ansible-os_mistral~stable%2Frocky~Id37d77d7851f87fc3ce5c2741cc25952e585249b,openstack/openstack-ansible-os_mistral,stable/rocky,Id37d77d7851f87fc3ce5c2741cc25952e585249b,Update .gitreview for stable/rocky,MERGED,2019-03-14 19:06:58.000000000,2019-03-14 19:46:09.000000000,2019-03-14 19:46:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 19:06:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/a2ea3177161c3a341c7ea2e8d7640e56ba208242', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: Id37d77d7851f87fc3ce5c2741cc25952e585249b\n'}]",0,643432,a2ea3177161c3a341c7ea2e8d7640e56ba208242,6,2,1,22816,,,0,"Update .gitreview for stable/rocky

Change-Id: Id37d77d7851f87fc3ce5c2741cc25952e585249b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/32/643432/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a2ea3177161c3a341c7ea2e8d7640e56ba208242,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fkuryr-kubernetes~master~Id996651a7d03bc7621e57b46825ddfa9d98e48ce,openstack/kuryr-kubernetes,master,Id996651a7d03bc7621e57b46825ddfa9d98e48ce,Ensure only affected services are updated on Pod/NetworkPolicy events,MERGED,2019-02-28 22:52:10.000000000,2019-03-14 19:41:18.000000000,2019-03-14 19:41:18.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-02-28 22:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c12af702fe6a4efec2e97ccf0bc0b3738f31ab97', 'message': 'Ensure only affected services are updated on Pod/NetworkPolicy events\n\nWhen Pods or Network Policies are created/updated/deleted, only the affected\nservice(s) should have the SG updated. Right now, all the services are updated.\n\nChange-Id: Id996651a7d03bc7621e57b46825ddfa9d98e48ce\n'}, {'number': 2, 'created': '2019-03-01 13:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6597d7d4744afc870468cc6521216ec65ae00681', 'message': 'Ensure only affected services are updated on Pod/NetworkPolicy events\n\nWhen Pods or Network Policies are created/updated/deleted, only the affected\nservice(s) should have the SG updated. Right now, all the services are updated.\n\nCloses-Bug: 1818203\nChange-Id: Id996651a7d03bc7621e57b46825ddfa9d98e48ce\n'}, {'number': 3, 'created': '2019-03-01 15:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/10b4dab62133f3dd0b65f28cd7e60701cb1c40f3', 'message': 'Ensure only affected services are updated on Pod/NetworkPolicy events\n\nWhen Pods or Network Policies are created/updated/deleted, only the affected\nservice(s) should have the SG updated. Right now, all the services are updated.\n\nCloses-Bug: 1818203\nChange-Id: Id996651a7d03bc7621e57b46825ddfa9d98e48ce\n'}, {'number': 4, 'created': '2019-03-05 10:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cf46ef74b6bc68240ec370c60b3e4436a9fd8310', 'message': 'Ensure only affected services are updated on Pod/NetworkPolicy events\n\nWhen Pods or Network Policies are created/updated/deleted, only the affected\nservice(s) should have the SG updated. Right now, all the services are updated.\n\nThis commit fixes the issue, on the Network Policy side, by checking if any of\nthe pods selected by a Service is also selected by a Network Policy, and if so\nupdate the SG of that LBaaS.\nAnd on the Pods side, by matching the Service selectors and Network Policy\nselectors, when this NP got the pointed pods SG updated. If the selectors\nmatch the LBaaS SG is updated.\n\nCloses-Bug: 1818203\nChange-Id: Id996651a7d03bc7621e57b46825ddfa9d98e48ce\n'}, {'number': 5, 'created': '2019-03-08 11:25:53.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/660bbf039a3beeddc162e50e63180001ee193d12', 'message': 'Ensure only affected services are updated on Pod/NetworkPolicy events\n\nWhen Pods or Network Policies are created/updated/deleted, only the affected\nservice(s) should have the SG updated. Right now, all the services are updated.\n\nThis commit fixes the issue, on the Network Policy side, by checking if any of\nthe pods selected by a Service is also selected by a Network Policy, and if so\nupdate the SG of that LBaaS.\nAnd on the Pods side, by matching the Service selectors and Network Policy\nselectors, when this NP got the pointed pods SG updated. If the selectors\nmatch the LBaaS SG is updated.\n\nCloses-Bug: 1818203\nChange-Id: Id996651a7d03bc7621e57b46825ddfa9d98e48ce\n'}]",3,640216,660bbf039a3beeddc162e50e63180001ee193d12,29,6,5,27032,,,0,"Ensure only affected services are updated on Pod/NetworkPolicy events

When Pods or Network Policies are created/updated/deleted, only the affected
service(s) should have the SG updated. Right now, all the services are updated.

This commit fixes the issue, on the Network Policy side, by checking if any of
the pods selected by a Service is also selected by a Network Policy, and if so
update the SG of that LBaaS.
And on the Pods side, by matching the Service selectors and Network Policy
selectors, when this NP got the pointed pods SG updated. If the selectors
match the LBaaS SG is updated.

Closes-Bug: 1818203
Change-Id: Id996651a7d03bc7621e57b46825ddfa9d98e48ce
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/16/640216/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/policy.py']",3,c12af702fe6a4efec2e97ccf0bc0b3738f31ab97,bug/1816015," if (service['metadata']['name'] == 'kubernetes' or not self._is_service_affected(service, pods_to_update)): if (service['metadata']['name'] == 'kubernetes' or not self._is_service_affected(service, pods_to_update)): def _is_service_affected(self, service, affected_pods): svc_namespace = service['metadata']['namespace'] svc_selector = service['spec'].get('selector') svc_pods = driver_utils.get_pods({'selector': svc_selector}, svc_namespace).get('items') return any(pod in svc_pods for pod in affected_pods)", if service['metadata']['name'] == 'kubernetes': if service['metadata']['name'] == 'kubernetes':,31,9
openstack%2Fironic~master~I8bfbd171b3fb0d07b666420592df37392aad405c,openstack/ironic,master,I8bfbd171b3fb0d07b666420592df37392aad405c,Fix misuse of assertTrue,MERGED,2019-03-14 00:37:40.000000000,2019-03-14 19:37:56.000000000,2019-03-14 15:44:34.000000000,"[{'_account_id': 7634}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 17499}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-14 00:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ea132ea6f48cbd7a4c69a3e51d65722e465bacb', 'message': 'Fix misuse of assertTrue\n\nReplace assertTrue with assertEqual.\n\nChange-Id: I8bfbd171b3fb0d07b666420592df37392aad405c\nStory: 2005228\nTask: 30010\n'}, {'number': 2, 'created': '2019-03-14 00:39:59.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/618b94c7174b8c9c7c6d2ea29e6a11745a5cdac8', 'message': 'Fix misuse of assertTrue\n\nReplace assertTrue with assertEqual.\n\nChange-Id: I8bfbd171b3fb0d07b666420592df37392aad405c\nStory: 2005228\nTask: 30010\n'}]",1,643208,618b94c7174b8c9c7c6d2ea29e6a11745a5cdac8,18,8,2,7634,,,0,"Fix misuse of assertTrue

Replace assertTrue with assertEqual.

Change-Id: I8bfbd171b3fb0d07b666420592df37392aad405c
Story: 2005228
Task: 30010
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/643208/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py']",2,6ea132ea6f48cbd7a4c69a3e51d65722e465bacb,story/2005228," self.assertEqual(2, port_mock.call_count)"," self.assertTrue(port_mock.call_count, 2)",2,2
openstack%2Fneutron~master~I8021f740bd78e654915337bd3287b45b2c422e95,openstack/neutron,master,I8021f740bd78e654915337bd3287b45b2c422e95,Do not release DHCP lease when no client ID is set on port,MERGED,2018-12-05 20:48:23.000000000,2019-03-14 19:29:08.000000000,2019-03-14 19:08:15.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 21907}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-12-05 20:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cd71d8ca27790483e174231917b8a00ca210883', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nDHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed\n\nWhen reload_allocations() is called, DHCP agent parses the leases file,\nthe hosts file, and gets the list all the ports in the network from DB,\ncomputing 3 different sets. The set from leases file (v4_leases) will have\nsome client ID. The set from port DB and hosts file will have None.\n\nAs a result the set subtraction does not filter out the entry,\nand all ports that have an active lease with client ID are released\n\nClient ID should only be enforced and leases released,\nif it's actually set on the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If client ID on port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs dont have this on by default, but they may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}, {'number': 2, 'created': '2018-12-05 22:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97dc9084934f610ee1276d72a2b86c4bf378e7be', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nDHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed\n\nWhen reload_allocations() is called, DHCP agent parses the leases file,\nthe hosts file, and gets the list all the ports in the network from DB,\ncomputing 3 different sets. The set from leases file (v4_leases) will have\nsome client ID. The set from port DB and hosts file will have None.\n\nAs a result the set subtraction does not filter out the entry,\nand all ports that have an active lease with client ID are released\n\nClient ID should only be enforced and leases released,\nif it's actually set on the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If client ID on port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs dont have this on by default, but they may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}, {'number': 3, 'created': '2018-12-07 22:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fc3f98036edd045748d16b1ab83e3c8e0f71b06', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nDHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed\n\nWhen reload_allocations() is called, DHCP agent parses the leases file,\nthe hosts file, and gets the list all the ports in the network from DB,\ncomputing 3 different sets. The set from leases file (v4_leases) will have\nsome client ID. The set from port DB and hosts file will have None.\n\nAs a result the set subtraction does not filter out the entry,\nand all ports that have an active lease with client ID are released\n\nClient ID should only be enforced and leases released,\nif it's actually set on the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If client ID on port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs dont have this on by default, but they may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}, {'number': 4, 'created': '2019-01-18 18:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9872664b74af8717f4b5f667f9e3f7945a556028', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nDHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed\n\nWhen reload_allocations() is called, DHCP agent parses the leases file,\nthe hosts file, and gets the list all the ports in the network from DB,\ncomputing 3 different sets. The set from leases file (v4_leases) will have\nsome client ID. The set from port DB and hosts file will have None.\n\nAs a result the set subtraction does not filter out the entry,\nand all ports that have an active lease with client ID are released\n\nClient ID should only be enforced and leases released,\nif it's actually set on the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If client ID on port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs dont have this on by default, but they may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}, {'number': 5, 'created': '2019-01-23 13:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d54e2f32fdc4f482beea00798b8b2cc084a3009a', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nThe DHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed.\n\nWhen reload_allocations() is called, the DHCP agent parses the leases\nand hosts files, and gets the list of all the ports in the network from the\nDB, computing 3 different sets. The set from the leases file (v4_leases)\ncould have a client ID, but the set from the port DB and hosts file will\nhave None.\n\nAs a result, the set subtraction does not filter out the entry,\nand all ports that have an active lease with a client ID are released.\n\nThe Client ID should only be enforced and leases released\nif it's actually set in the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If the client ID on a port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs don't have this on by default, but it may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}, {'number': 6, 'created': '2019-01-24 14:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a9323937f4dcad7ff26a353933afe9c539b1438', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nThe DHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed.\n\nWhen reload_allocations() is called, the DHCP agent parses the leases\nand hosts files, and gets the list of all the ports in the network from the\nDB, computing 3 different sets. The set from the leases file (v4_leases)\ncould have a client ID, but the set from the port DB and hosts file will\nhave None.\n\nAs a result, the set subtraction does not filter out the entry,\nand all ports that have an active lease with a client ID are released.\n\nThe Client ID should only be enforced and leases released\nif it's actually set in the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If the client ID on a port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs don't have this on by default, but it may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}, {'number': 7, 'created': '2019-01-30 23:24:20.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2111e035424bf714099966ad724e9a4bd604c18', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nThe DHCP agent has a really strict enforcement of client ID, which\nis part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted, even if no client ID is set on the port,\nbecause it thinks the client ID has changed.\n\nWhen reload_allocations() is called, the DHCP agent parses the leases\nand hosts files, and gets the list of all the ports in the network from the\nDB, computing 3 different sets. The set from the leases file (v4_leases)\ncould have a client ID, but the set from the port DB and hosts file will\nhave None.\n\nAs a result, the set subtraction does not filter out the entry,\nand all ports that have an active lease with a client ID are released.\n\nThe Client ID should only be enforced and leases released\nif it's actually set in the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If the client ID on a port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs don't have this on by default, but it may be enabled\nin some templates unknown to users.\n\nChange-Id: I8021f740bd78e654915337bd3287b45b2c422e95\nCloses-Bug: #1806770\n""}]",12,623066,f2111e035424bf714099966ad724e9a4bd604c18,59,15,7,21907,,,0,"Do not release DHCP lease when no client ID is set on port

The DHCP agent has a really strict enforcement of client ID, which
is part of the DHCP extra options. If a VM advertises a client ID,
DHCP agent will automatically release it's lease whenever *any* other
port is updated/deleted, even if no client ID is set on the port,
because it thinks the client ID has changed.

When reload_allocations() is called, the DHCP agent parses the leases
and hosts files, and gets the list of all the ports in the network from the
DB, computing 3 different sets. The set from the leases file (v4_leases)
could have a client ID, but the set from the port DB and hosts file will
have None.

As a result, the set subtraction does not filter out the entry,
and all ports that have an active lease with a client ID are released.

The Client ID should only be enforced and leases released
if it's actually set in the port DB's DHCP extra Opts.
In that case it means someone knows what they are doing,
and we want to check for a mismatch. If the client ID on a port is
empty, it should not be treated like an unused lease.

We can't expect end users that just create VMs with auto created ports
to know/care about DHCP client IDs, then manually update ports or
change app templates.

In some cases, like Windows VMs, the client ID is advertised as the MAC by default.
In fact, there is a Windows bug which prevents you from even turning this off:
https://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8

Linux VMs don't have this on by default, but it may be enabled
in some templates unknown to users.

Change-Id: I8021f740bd78e654915337bd3287b45b2c422e95
Closes-Bug: #1806770
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/623066/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,8cd71d8ca27790483e174231917b8a00ca210883,bug/1806770," # If an entry is in the leases or host file(s), but doesn't have # a fixed IP on a corresponding neutron port, consider it stale. lease_differences = (v4_leases | old_leases) - new_leases if not lease_differences: # If the VM advertises a client ID in its lease, but its not set in # the port's Extra DHCP Opts, the lease will not be filtered above. # Release the lease only if client ID is set in port DB and a mismatch # Otherwise the lease is released when other ports are deleted/updated entries_to_release = list() for entry in lease_differences: # If client ID is set if entry[2]: entry_no_client_id = (entry[0], entry[1], None) if entry_no_client_id in old_leases and entry_no_client_id in new_leases: continue # Add entry to entries_to_release entries_to_release.append(entry) entries_to_release = set(entries_to_release)", entries_to_release = (v4_leases | old_leases) - new_leases if not entries_to_release:,20,2
openstack%2Fneutron~master~I51a0347d9314818a9f8cbb71ae95266a904d01da,openstack/neutron,master,I51a0347d9314818a9f8cbb71ae95266a904d01da,Add documentation for subnet onboard,MERGED,2019-03-13 18:57:35.000000000,2019-03-14 19:28:30.000000000,2019-03-14 19:28:30.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-13 18:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd628543771ee45df6dab65496714b6138833d7e', 'message': 'Add documentation for subnet onboard\n\nThis is the content for subnet onboard to be included\nin the networking guide.\n\nChange-Id: I51a0347d9314818a9f8cbb71ae95266a904d01da\nImplements: blueprint subnet-onboard\n'}, {'number': 2, 'created': '2019-03-14 14:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2d4a82fdd4f9843f305e03215bdd3cd9e88df31', 'message': 'Add documentation for subnet onboard\n\nThis is the content for subnet onboard to be included\nin the networking guide.\n\nChange-Id: I51a0347d9314818a9f8cbb71ae95266a904d01da\nImplements: blueprint subnet-onboard\n'}, {'number': 3, 'created': '2019-03-14 14:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4d87fc32e82eedc3b94ff0271dabe00441d9923', 'message': 'Add documentation for subnet onboard\n\nThis is the content for subnet onboard to be included\nin the networking guide.\n\nChange-Id: I51a0347d9314818a9f8cbb71ae95266a904d01da\nImplements: blueprint subnet-onboard\n'}, {'number': 4, 'created': '2019-03-14 15:43:20.000000000', 'files': ['doc/source/admin/config-subnet-onboard.rst', 'doc/source/admin/config.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72e783f14edb69cd324acd01c539274f327daf74', 'message': 'Add documentation for subnet onboard\n\nThis is the content for subnet onboard to be included\nin the networking guide.\n\nChange-Id: I51a0347d9314818a9f8cbb71ae95266a904d01da\nImplements: blueprint subnet-onboard\n'}]",29,643139,72e783f14edb69cd324acd01c539274f327daf74,24,10,4,4187,,,0,"Add documentation for subnet onboard

This is the content for subnet onboard to be included
in the networking guide.

Change-Id: I51a0347d9314818a9f8cbb71ae95266a904d01da
Implements: blueprint subnet-onboard
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/643139/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-subnet-onboard.rst', 'doc/source/admin/config.rst']",2,dd628543771ee45df6dab65496714b6138833d7e,bp/subnet-onboard, config-subnet-onboard,,174,0
openstack%2Fplacement~master~I229d429ff4cadfabfbc53d89b57a89949901be89,openstack/placement,master,I229d429ff4cadfabfbc53d89b57a89949901be89,Reorder classes and methods in allocation_candidate,MERGED,2019-03-07 20:18:41.000000000,2019-03-14 19:28:27.000000000,2019-03-14 19:28:27.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-07 20:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b9aed4dc706c0561b352afc5508e7363639a54b6', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}, {'number': 2, 'created': '2019-03-08 09:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ba6f537d367df4151f6cb16f764511e8afaaddfd', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}, {'number': 3, 'created': '2019-03-08 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b632b9430c36f2f7d716fca9ff74c6e0c26cb770', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}, {'number': 4, 'created': '2019-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c04e8056547c27063ce0b1aa809677babe281a1f', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}, {'number': 5, 'created': '2019-03-11 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0f9887a0d61f7d1fe6b216670c55e044ac8111c0', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}, {'number': 6, 'created': '2019-03-12 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d8ceb23b529ce5a14533e50c14b607168f9b8d01', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}, {'number': 7, 'created': '2019-03-13 21:24:57.000000000', 'files': ['placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/275fb28c20c4d4bc17d8bb969ddf1a216f607616', 'message': 'Reorder classes and methods in allocation_candidate\n\nClasses first, in alpha order, followed by private methods\nin alpha order. There are no module level public methods.\n\nMethods within classes have not been reordered.\n\nChange-Id: I229d429ff4cadfabfbc53d89b57a89949901be89\n'}]",0,641789,275fb28c20c4d4bc17d8bb969ddf1a216f607616,23,6,7,11564,,,0,"Reorder classes and methods in allocation_candidate

Classes first, in alpha order, followed by private methods
in alpha order. There are no module level public methods.

Methods within classes have not been reordered.

Change-Id: I229d429ff4cadfabfbc53d89b57a89949901be89
",git fetch https://review.opendev.org/openstack/placement refs/changes/89/641789/7 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/allocation_candidate.py'],1,b9aed4dc706c0561b352afc5508e7363639a54b6,cd/de-list-phase2," class AllocationRequest(object): def __init__(self, anchor_root_provider_uuid=None, use_same_provider=None, resource_requests=None): # UUID of (the root of the tree including) the non-sharing resource # provider associated with this AllocationRequest. Internal use only, # not included when the object is serialized for output. self.anchor_root_provider_uuid = anchor_root_provider_uuid # Whether all AllocationRequestResources in this AllocationRequest are # required to be satisfied by the same provider (based on the # corresponding RequestGroup's use_same_provider attribute). Internal # use only, not included when the object is serialized for output. self.use_same_provider = use_same_provider self.resource_requests = resource_requests or [] def __repr__(self): anchor = (self.anchor_root_provider_uuid[-8:] if self.anchor_root_provider_uuid else '<?>') usp = (self.use_same_provider if self.use_same_provider is not None else '<?>') repr_str = ('%s(anchor=...%s, same_provider=%s, ' 'resource_requests=[%s])' % (self.__class__.__name__, anchor, usp, ', '.join([str(arr) for arr in self.resource_requests]))) if six.PY2: repr_str = encodeutils.safe_encode(repr_str, incoming='utf-8') return repr_str def __eq__(self, other): return set(self.resource_requests) == set(other.resource_requests) def __hash__(self): return hash(tuple(self.resource_requests)) class AllocationRequestResource(object): def __init__(self, resource_provider=None, resource_class=None, amount=None): self.resource_provider = resource_provider self.resource_class = resource_class self.amount = amount def __eq__(self, other): return ((self.resource_provider.id == other.resource_provider.id) and (self.resource_class == other.resource_class) and (self.amount == other.amount)) def __hash__(self): return hash((self.resource_provider.id, self.resource_class, self.amount)) class ProviderSummary(object): def __init__(self, resource_provider=None, resources=None, traits=None): self.resource_provider = resource_provider self.resources = resources or [] self.traits = traits or [] @property def resource_class_names(self): """"""Helper property that returns a set() of resource class string names that are included in the provider summary. """""" return set(res.resource_class for res in self.resources) class ProviderSummaryResource(object): def __init__(self, resource_class=None, capacity=None, used=None, max_unit=None): self.resource_class = resource_class self.capacity = capacity self.used = used # Internal use only; not included when the object is serialized for # output. self.max_unit = max_unit def _alloc_candidates_multiple_providers( ctx, requested_resources, required_traits, forbidden_traits, rp_candidates): """"""Returns a tuple of (allocation requests, provider summaries) for a supplied set of requested resource amounts and tuples of (rp_id, root_id, rc_id). The supplied resource provider trees have capacity to satisfy ALL of the resources in the requested resources as well as ALL required traits that were requested by the user. This is a code path to get results for a RequestGroup with use_same_provider=False. In this scenario, we are able to use multiple providers within the same provider tree including sharing providers to satisfy different resources involved in a single request group. :param ctx: placement.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param required_traits: A map, keyed by trait string name, of required trait internal IDs that each *allocation request's set of providers* must *collectively* have associated with them :param forbidden_traits: A map, keyed by trait string name, of trait internal IDs that a resource provider must not have. :param rp_candidates: RPCandidates object representing the providers that satisfy the request for resources. """""" if not rp_candidates: return [], [] # Get all the root resource provider IDs. We should include the first # values of rp_tuples because while sharing providers are root providers, # they have their ""anchor"" providers for the second value. root_ids = rp_candidates.all_rps # Grab usage summaries for each provider in the trees usages = _get_usages_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of trait string names # that provider has associated with it prov_traits = trait_obj.get_traits_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(ctx, usages, prov_traits) # Get a dict, keyed by root provider internal ID, of a dict, keyed by # resource class internal ID, of lists of AllocationRequestResource objects tree_dict = collections.defaultdict(lambda: collections.defaultdict(list)) for rp in rp_candidates.rps_info: rp_summary = summaries[rp.id] tree_dict[rp.root_id][rp.rc_id].append( AllocationRequestResource( resource_provider=rp_summary.resource_provider, resource_class=rc_cache.RC_CACHE.string_from_id(rp.rc_id), amount=requested_resources[rp.rc_id])) # Next, build up a set of allocation requests. These allocation requests # are AllocationRequest objects, containing resource provider UUIDs, # resource class names and amounts to consume from that resource provider alloc_requests = set() # Let's look into each tree for root_id, alloc_dict in tree_dict.items(): # Get request_groups, which is a list of lists of # AllocationRequestResource(ARR) per requested resource class(rc). # For example, if we have the alloc_dict: # {rc1_id: [ARR(rc1, rp1), ARR(rc1, rp2)], # rc2_id: [ARR(rc2, rp1), ARR(rc2, rp2)], # rc3_id: [ARR(rc3, rp1)]} # then the request_groups would be something like # [[ARR(rc1, rp1), ARR(rc1, rp2)], # [ARR(rc2, rp1), ARR(rc2, rp2)], # [ARR(rc3, rp1)]] # , which should be ordered by the resource class id. request_groups = [val for key, val in sorted(alloc_dict.items())] root_summary = summaries[root_id] root_uuid = root_summary.resource_provider.uuid root_alloc_reqs = set() # Using itertools.product, we get all the combinations of resource # providers in a tree. # For example, the sample in the comment above becomes: # [(ARR(rc1, ss1), ARR(rc2, ss1), ARR(rc3, ss1)), # (ARR(rc1, ss1), ARR(rc2, ss2), ARR(rc3, ss1)), # (ARR(rc1, ss2), ARR(rc2, ss1), ARR(rc3, ss1)), # (ARR(rc1, ss2), ARR(rc2, ss2), ARR(rc3, ss1))] for res_requests in itertools.product(*request_groups): if not _check_traits_for_alloc_request( res_requests, summaries, prov_traits, required_traits, forbidden_traits): # This combination doesn't satisfy trait constraints continue root_alloc_reqs.add( AllocationRequest(resource_requests=list(res_requests), anchor_root_provider_uuid=root_uuid)) LOG.debug(""got %d allocation requests under root provider %s"", len(root_alloc_reqs), root_uuid) alloc_requests |= root_alloc_reqs return list(alloc_requests), list(summaries.values()) def _alloc_candidates_single_provider(ctx, requested_resources, rp_tuples): """"""Returns a tuple of (allocation requests, provider summaries) for a supplied set of requested resource amounts and resource providers. The supplied resource providers have capacity to satisfy ALL of the resources in the requested resources as well as ALL required traits that were requested by the user. This is used in two circumstances: - To get results for a RequestGroup with use_same_provider=True. - As an optimization when no sharing providers satisfy any of the requested resources, and nested providers are not in play. In these scenarios, we can more efficiently build the list of AllocationRequest and ProviderSummary objects due to not having to determine requests across multiple providers. :param ctx: placement.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param rp_tuples: List of two-tuples of (provider ID, root provider ID)s for providers that matched the requested resources """""" if not rp_tuples: return [], [] # Get all root resource provider IDs. root_ids = set(p[1] for p in rp_tuples) # Grab usage summaries for each provider usages = _get_usages_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of trait string names # that provider has associated with it prov_traits = trait_obj.get_traits_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(ctx, usages, prov_traits) # Next, build up a list of allocation requests. These allocation requests # are AllocationRequest objects, containing resource provider UUIDs, # resource class names and amounts to consume from that resource provider alloc_requests = [] for rp_id, root_id in rp_tuples: rp_summary = summaries[rp_id] req_obj = _allocation_request_for_provider( ctx, requested_resources, rp_summary.resource_provider) alloc_requests.append(req_obj) # If this is a sharing provider, we have to include an extra # AllocationRequest for every possible anchor. traits = [trait.name for trait in rp_summary.traits] if os_traits.MISC_SHARES_VIA_AGGREGATE in traits: anchors = set([p[1] for p in rp_obj.anchors_for_sharing_providers( ctx, [rp_summary.resource_provider.id])]) for anchor in anchors: # We already added self if anchor == rp_summary.resource_provider.root_provider_uuid: continue req_obj = copy.copy(req_obj) req_obj.anchor_root_provider_uuid = anchor alloc_requests.append(req_obj) return alloc_requests, list(summaries.values()) def _allocation_request_for_provider(ctx, requested_resources, provider): """"""Returns an AllocationRequest object containing AllocationRequestResource objects for each resource class in the supplied requested resources dict. :param ctx: placement.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param provider: ResourceProvider object representing the provider of the resources. """""" resource_requests = [ AllocationRequestResource( resource_provider=provider, resource_class=rc_cache.RC_CACHE.string_from_id(rc_id), amount=amount, ) for rc_id, amount in requested_resources.items() ] # NOTE(efried): This method only produces an AllocationRequest with its # anchor in its own tree. If the provider is a sharing provider, the # caller needs to identify the other anchors with which it might be # associated. return AllocationRequest( resource_requests=resource_requests, anchor_root_provider_uuid=provider.root_provider_uuid) def _build_provider_summaries(context, usages, prov_traits): """"""Given a list of dicts of usage information and a map of providers to their associated string traits, returns a dict, keyed by resource provider ID, of ProviderSummary objects. :param context: placement.context.RequestContext object :param usages: A list of dicts with the following format: { 'resource_provider_id': <internal resource provider ID>, 'resource_provider_uuid': <UUID>, 'resource_class_id': <internal resource class ID>, 'total': integer, 'reserved': integer, 'allocation_ratio': float, } :param prov_traits: A dict, keyed by internal resource provider ID, of string trait names associated with that provider """""" # Before we go creating provider summary objects, first grab all the # provider information (including root, parent and UUID information) for # all providers involved in our operation rp_ids = set(usage['resource_provider_id'] for usage in usages) provider_ids = rp_obj.provider_ids_from_rp_ids(context, rp_ids) # Build up a dict, keyed by internal resource provider ID, of # ProviderSummary objects containing one or more ProviderSummaryResource # objects representing the resources the provider has inventory for. summaries = {} for usage in usages: rp_id = usage['resource_provider_id'] summary = summaries.get(rp_id) if not summary: pids = provider_ids[rp_id] summary = ProviderSummary( resource_provider=rp_obj.ResourceProvider( context, id=pids.id, uuid=pids.uuid, root_provider_uuid=pids.root_uuid, parent_provider_uuid=pids.parent_uuid), resources=[], ) summaries[rp_id] = summary traits = prov_traits[rp_id] summary.traits = [trait_obj.Trait(context, name=tname) for tname in traits] rc_id = usage['resource_class_id'] if rc_id is None: # NOTE(tetsuro): This provider doesn't have any inventory itself. # But we include this provider in summaries since another # provider in the same tree will be in the ""allocation_request"". # Let's skip the following and leave ""ProviderSummary.resources"" # field empty. continue # NOTE(jaypipes): usage['used'] may be None due to the LEFT JOIN of # the usages subquery, so we coerce NULL values to 0 here. It may # also be a Decimal, as that's the type that mysql tends to return # when func.sum is used in a query. We need an int, otherwise later # JSON serialization will not work. used = int(usage['used'] or 0) allocation_ratio = usage['allocation_ratio'] cap = int((usage['total'] - usage['reserved']) * allocation_ratio) rc_name = rc_cache.RC_CACHE.string_from_id(rc_id) rpsr = ProviderSummaryResource( resource_class=rc_name, capacity=cap, used=used, max_unit=usage['max_unit'], ) summary.resources.append(rpsr) return summaries def _check_traits_for_alloc_request(res_requests, summaries, prov_traits, required_traits, forbidden_traits): """"""Given a list of AllocationRequestResource objects, check if that combination can provide trait constraints. If it can, returns all resource provider internal IDs in play, else return an empty list. TODO(tetsuro): For optimization, we should move this logic to SQL in rp_obj.get_trees_matching_all(). :param res_requests: a list of AllocationRequestResource objects that have resource providers to be checked if they collectively satisfy trait constraints in the required_traits and forbidden_traits parameters. :param summaries: dict, keyed by resource provider ID, of ProviderSummary objects containing usage and trait information for resource providers involved in the overall request :param prov_traits: A dict, keyed by internal resource provider ID, of string trait names associated with that provider :param required_traits: A map, keyed by trait string name, of required trait internal IDs that each *allocation request's set of providers* must *collectively* have associated with them :param forbidden_traits: A map, keyed by trait string name, of trait internal IDs that a resource provider must not have. """""" all_prov_ids = [] all_traits = set() for res_req in res_requests: rp_uuid = res_req.resource_provider.uuid for rp_id, summary in summaries.items(): if summary.resource_provider.uuid == rp_uuid: break rp_traits = set(prov_traits.get(rp_id, [])) # Check if there are forbidden_traits conflict_traits = set(forbidden_traits) & set(rp_traits) if conflict_traits: LOG.debug('Excluding resource provider %s, it has ' 'forbidden traits: (%s).', rp_id, ', '.join(conflict_traits)) return [] all_prov_ids.append(rp_id) all_traits |= rp_traits # Check if there are missing traits missing_traits = set(required_traits) - all_traits if missing_traits: LOG.debug('Excluding a set of allocation candidate %s : ' 'missing traits %s are not satisfied.', all_prov_ids, ','.join(missing_traits)) return [] return all_prov_ids def _consolidate_allocation_requests(areqs): """"""Consolidates a list of AllocationRequest into one. :param areqs: A list containing one AllocationRequest for each input RequestGroup. This may mean that multiple resource_requests contain resource amounts of the same class from the same provider. :return: A single consolidated AllocationRequest, containing no resource_requests with duplicated (resource_provider, resource_class). """""" # Construct a dict, keyed by resource provider UUID + resource class, of # AllocationRequestResource, consolidating as we go. arrs_by_rp_rc = {} # areqs must have at least one element. Save the anchor to populate the # returned AllocationRequest. anchor_rp_uuid = areqs[0].anchor_root_provider_uuid for areq in areqs: # Sanity check: the anchor should be the same for every areq if anchor_rp_uuid != areq.anchor_root_provider_uuid: # This should never happen. If it does, it's a dev bug. raise ValueError( _(""Expected every AllocationRequest in "" ""`_consolidate_allocation_requests` to have the same "" ""anchor!"")) for arr in areq.resource_requests: key = _rp_rc_key(arr.resource_provider, arr.resource_class) if key not in arrs_by_rp_rc: arrs_by_rp_rc[key] = copy.copy(arr) else: arrs_by_rp_rc[key].amount += arr.amount return AllocationRequest( resource_requests=list(arrs_by_rp_rc.values()), anchor_root_provider_uuid=anchor_rp_uuid) @db_api.placement_context_manager.reader def _get_usages_by_provider_tree(ctx, root_ids): """"""Returns a row iterator of usage records grouped by provider ID for all resource providers in all trees indicated in the ``root_ids``. """""" # We build up a SQL expression that looks like this: # SELECT # rp.id as resource_provider_id # , rp.uuid as resource_provider_uuid # , inv.resource_class_id # , inv.total # , inv.reserved # , inv.allocation_ratio # , inv.max_unit # , usage.used # FROM resource_providers AS rp # LEFT JOIN inventories AS inv # ON rp.id = inv.resource_provider_id # LEFT JOIN ( # SELECT resource_provider_id, resource_class_id, SUM(used) as used # FROM allocations # JOIN resource_providers # ON allocations.resource_provider_id = resource_providers.id # AND (resource_providers.root_provider_id IN($root_ids) # OR resource_providers.id IN($root_ids)) # GROUP BY resource_provider_id, resource_class_id # ) # AS usage # ON inv.resource_provider_id = usage.resource_provider_id # AND inv.resource_class_id = usage.resource_class_id # WHERE (rp.root_provider_id IN ($root_ids) # OR resource_providers.id IN($root_ids)) rpt = sa.alias(_RP_TBL, name=""rp"") inv = sa.alias(_INV_TBL, name=""inv"") # Build our derived table (subquery in the FROM clause) that sums used # amounts for resource provider and resource class derived_alloc_to_rp = sa.join( _ALLOC_TBL, _RP_TBL, sa.and_(_ALLOC_TBL.c.resource_provider_id == _RP_TBL.c.id, # TODO(tetsuro): Remove this OR condition when all # root_provider_id values are NOT NULL sa.or_(_RP_TBL.c.root_provider_id.in_(root_ids), _RP_TBL.c.id.in_(root_ids)) ) ) usage = sa.alias( sa.select([ _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id, sql.func.sum(_ALLOC_TBL.c.used).label('used'), ]).select_from(derived_alloc_to_rp).group_by( _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id ), name='usage') # Build a join between the resource providers and inventories table rpt_inv_join = sa.outerjoin(rpt, inv, rpt.c.id == inv.c.resource_provider_id) # And then join to the derived table of usages usage_join = sa.outerjoin( rpt_inv_join, usage, sa.and_( usage.c.resource_provider_id == inv.c.resource_provider_id, usage.c.resource_class_id == inv.c.resource_class_id, ), ) query = sa.select([ rpt.c.id.label(""resource_provider_id""), rpt.c.uuid.label(""resource_provider_uuid""), inv.c.resource_class_id, inv.c.total, inv.c.reserved, inv.c.allocation_ratio, inv.c.max_unit, usage.c.used, ]).select_from(usage_join).where( # TODO(tetsuro): Remove this or condition when all # root_provider_id values are NOT NULL sa.or_( rpt.c.root_provider_id.in_(root_ids), rpt.c.id.in_(root_ids) ) ) return ctx.session.execute(query).fetchall() def _exceeds_capacity(areq, psum_res_by_rp_rc): """"""Checks a (consolidated) AllocationRequest against the provider summaries to ensure that it does not exceed capacity. Exceeding capacity can mean the total amount (already used plus this allocation) exceeds the total inventory amount; or this allocation exceeds the max_unit in the inventory record. :param areq: An AllocationRequest produced by the `_consolidate_allocation_requests` method. :param psum_res_by_rp_rc: A dict, keyed by provider + resource class via _rp_rc_key, of ProviderSummaryResource. :return: True if areq exceeds capacity; False otherwise. """""" for arr in areq.resource_requests: key = _rp_rc_key(arr.resource_provider, arr.resource_class) psum_res = psum_res_by_rp_rc[key] if psum_res.used + arr.amount > psum_res.capacity: LOG.debug('Excluding the following AllocationRequest because used ' '(%d) + amount (%d) > capacity (%d) for resource class ' '%s: %s', psum_res.used, arr.amount, psum_res.capacity, arr.resource_class, str(areq)) return True if arr.amount > psum_res.max_unit: LOG.debug('Excluding the following AllocationRequest because ' 'amount (%d) > max_unit (%d) for resource class %s: %s', arr.amount, psum_res.max_unit, arr.resource_class, str(areq)) return True return False def _merge_candidates(candidates, group_policy=None): """"""Given a dict, keyed by RequestGroup suffix, of tuples of (allocation_requests, provider_summaries), produce a single tuple of (allocation_requests, provider_summaries) that appropriately incorporates the elements from each. Each (alloc_reqs, prov_sums) in `candidates` satisfies one RequestGroup. This method creates a list of alloc_reqs, *each* of which satisfies *all* of the RequestGroups. For that merged list of alloc_reqs, a corresponding provider_summaries is produced. :param candidates: A dict, keyed by integer suffix or '', of tuples of (allocation_requests, provider_summaries) to be merged. :param group_policy: String indicating how RequestGroups should interact with each other. If the value is ""isolate"", we will filter out candidates where AllocationRequests that came from RequestGroups keyed by nonempty suffixes are satisfied by the same provider. :return: A tuple of (allocation_requests, provider_summaries). """""" # Build a dict, keyed by anchor root provider UUID, of dicts, keyed by # suffix, of nonempty lists of AllocationRequest. Each inner dict must # possess all of the suffix keys to be viable (i.e. contains at least # one AllocationRequest per RequestGroup). # # areq_lists_by_anchor = # { anchor_root_provider_uuid: { # '': [AllocationRequest, ...], \ This dict must contain # '1': [AllocationRequest, ...], \ exactly one nonempty list per # ... / suffix to be viable. That # '42': [AllocationRequest, ...], / filtering is done later. # }, # ... # } areq_lists_by_anchor = collections.defaultdict( lambda: collections.defaultdict(list)) # Save off all the provider summaries lists - we'll use 'em later. all_psums = [] # Construct a dict, keyed by resource provider + resource class, of # ProviderSummaryResource. This will be used to do a final capacity # check/filter on each merged AllocationRequest. psum_res_by_rp_rc = {} for suffix, (areqs, psums) in candidates.items(): for areq in areqs: anchor = areq.anchor_root_provider_uuid areq_lists_by_anchor[anchor][suffix].append(areq) for psum in psums: all_psums.append(psum) for psum_res in psum.resources: key = _rp_rc_key( psum.resource_provider, psum_res.resource_class) psum_res_by_rp_rc[key] = psum_res # Create all combinations picking one AllocationRequest from each list # for each anchor. areqs = set() all_suffixes = set(candidates) num_granular_groups = len(all_suffixes - set([''])) for areq_lists_by_suffix in areq_lists_by_anchor.values(): # Filter out any entries that don't have allocation requests for # *all* suffixes (i.e. all RequestGroups) if set(areq_lists_by_suffix) != all_suffixes: continue # We're using itertools.product to go from this: # areq_lists_by_suffix = { # '': [areq__A, areq__B, ...], # '1': [areq_1_A, areq_1_B, ...], # ... # '42': [areq_42_A, areq_42_B, ...], # } # to this: # [ [areq__A, areq_1_A, ..., areq_42_A], Each of these lists is one # [areq__A, areq_1_A, ..., areq_42_B], areq_list in the loop below. # [areq__A, areq_1_B, ..., areq_42_A], each areq_list contains one # [areq__A, areq_1_B, ..., areq_42_B], AllocationRequest from each # [areq__B, areq_1_A, ..., areq_42_A], RequestGroup. So taken as a # [areq__B, areq_1_A, ..., areq_42_B], whole, each list is a viable # [areq__B, areq_1_B, ..., areq_42_A], (preliminary) candidate to # [areq__B, areq_1_B, ..., areq_42_B], return. # ..., # ] for areq_list in itertools.product( *list(areq_lists_by_suffix.values())): # At this point, each AllocationRequest in areq_list is still # marked as use_same_provider. This is necessary to filter by group # policy, which enforces how these interact with each other. if not _satisfies_group_policy( areq_list, group_policy, num_granular_groups): continue # Now we go from this (where 'arr' is AllocationRequestResource): # [ areq__B(arrX, arrY, arrZ), # areq_1_A(arrM, arrN), # ..., # areq_42_B(arrQ) # ] # to this: # areq_combined(arrX, arrY, arrZ, arrM, arrN, arrQ) # Note that this discards the information telling us which # RequestGroup led to which piece of the final AllocationRequest. # We needed that to be present for the previous filter; we need it # to be *absent* for the next one (and for the final output). areq = _consolidate_allocation_requests(areq_list) # Since we sourced this AllocationRequest from multiple # *independent* queries, it's possible that the combined result # now exceeds capacity where amounts of the same RP+RC were # folded together. So do a final capacity check/filter. if _exceeds_capacity(areq, psum_res_by_rp_rc): continue areqs.add(areq) # It's possible we've filtered out everything. If so, short out. if not areqs: return [], [] # Now we have to produce provider summaries. The provider summaries in # the candidates input contain all the information; we just need to # filter it down to only the providers in trees represented by our merged # list of allocation requests. tree_uuids = set() for areq in areqs: for arr in areq.resource_requests: tree_uuids.add(arr.resource_provider.root_provider_uuid) psums = [psum for psum in all_psums if psum.resource_provider.root_provider_uuid in tree_uuids] return list(areqs), psums def _rp_rc_key(rp, rc): """"""Creates hashable key unique to a provider + resource class."""""" return rp.uuid, rc def _satisfies_group_policy(areqs, group_policy, num_granular_groups): """"""Applies group_policy to a list of AllocationRequest. Returns True or False, indicating whether this list of AllocationRequest satisfies group_policy, as follows: * ""isolate"": Each AllocationRequest with use_same_provider=True is satisfied by a single resource provider. If the ""isolate"" policy is in effect, each such AllocationRequest must be satisfied by a *unique* resource provider. * ""none"" or None: Always returns True. :param areqs: A list containing one AllocationRequest for each input RequestGroup. :param group_policy: String indicating how RequestGroups should interact with each other. If the value is ""isolate"", we will return False if AllocationRequests that came from RequestGroups keyed by nonempty suffixes are satisfied by the same provider. :param num_granular_groups: The number of granular (use_same_provider=True) RequestGroups in the request. :return: True if areqs satisfies group_policy; False otherwise. """""" if group_policy != 'isolate': # group_policy=""none"" means no filtering return True # The number of unique resource providers referenced in the request groups # having use_same_provider=True must be equal to the number of granular # groups. num_granular_groups_in_areqs = len(set( # We can reliably use the first resource_request's provider: all the # resource_requests are satisfied by the same provider by definition # because use_same_provider is True. areq.resource_requests[0].resource_provider.uuid for areq in areqs if areq.use_same_provider)) if num_granular_groups == num_granular_groups_in_areqs: return True LOG.debug('Excluding the following set of AllocationRequest because ' 'group_policy=isolate and the number of granular groups in the ' 'set (%d) does not match the number of granular groups in the ' 'request (%d): %s', num_granular_groups_in_areqs, num_granular_groups, str(areqs)) return False","class AllocationRequestResource(object): def __init__(self, resource_provider=None, resource_class=None, amount=None): self.resource_provider = resource_provider self.resource_class = resource_class self.amount = amount def __eq__(self, other): return ((self.resource_provider.id == other.resource_provider.id) and (self.resource_class == other.resource_class) and (self.amount == other.amount)) def __hash__(self): return hash((self.resource_provider.id, self.resource_class, self.amount)) class AllocationRequest(object): def __init__(self, anchor_root_provider_uuid=None, use_same_provider=None, resource_requests=None): # UUID of (the root of the tree including) the non-sharing resource # provider associated with this AllocationRequest. Internal use only, # not included when the object is serialized for output. self.anchor_root_provider_uuid = anchor_root_provider_uuid # Whether all AllocationRequestResources in this AllocationRequest are # required to be satisfied by the same provider (based on the # corresponding RequestGroup's use_same_provider attribute). Internal # use only, not included when the object is serialized for output. self.use_same_provider = use_same_provider self.resource_requests = resource_requests or [] def __repr__(self): anchor = (self.anchor_root_provider_uuid[-8:] if self.anchor_root_provider_uuid else '<?>') usp = (self.use_same_provider if self.use_same_provider is not None else '<?>') repr_str = ('%s(anchor=...%s, same_provider=%s, ' 'resource_requests=[%s])' % (self.__class__.__name__, anchor, usp, ', '.join([str(arr) for arr in self.resource_requests]))) if six.PY2: repr_str = encodeutils.safe_encode(repr_str, incoming='utf-8') return repr_str def __eq__(self, other): return set(self.resource_requests) == set(other.resource_requests) def __hash__(self): return hash(tuple(self.resource_requests)) class ProviderSummaryResource(object): def __init__(self, resource_class=None, capacity=None, used=None, max_unit=None): self.resource_class = resource_class self.capacity = capacity self.used = used # Internal use only; not included when the object is serialized for # output. self.max_unit = max_unit class ProviderSummary(object): def __init__(self, resource_provider=None, resources=None, traits=None): self.resource_provider = resource_provider self.resources = resources or [] self.traits = traits or [] @property def resource_class_names(self): """"""Helper property that returns a set() of resource class string names that are included in the provider summary. """""" return set(res.resource_class for res in self.resources) @db_api.placement_context_manager.reader def _get_usages_by_provider_tree(ctx, root_ids): """"""Returns a row iterator of usage records grouped by provider ID for all resource providers in all trees indicated in the ``root_ids``. """""" # We build up a SQL expression that looks like this: # SELECT # rp.id as resource_provider_id # , rp.uuid as resource_provider_uuid # , inv.resource_class_id # , inv.total # , inv.reserved # , inv.allocation_ratio # , inv.max_unit # , usage.used # FROM resource_providers AS rp # LEFT JOIN inventories AS inv # ON rp.id = inv.resource_provider_id # LEFT JOIN ( # SELECT resource_provider_id, resource_class_id, SUM(used) as used # FROM allocations # JOIN resource_providers # ON allocations.resource_provider_id = resource_providers.id # AND (resource_providers.root_provider_id IN($root_ids) # OR resource_providers.id IN($root_ids)) # GROUP BY resource_provider_id, resource_class_id # ) # AS usage # ON inv.resource_provider_id = usage.resource_provider_id # AND inv.resource_class_id = usage.resource_class_id # WHERE (rp.root_provider_id IN ($root_ids) # OR resource_providers.id IN($root_ids)) rpt = sa.alias(_RP_TBL, name=""rp"") inv = sa.alias(_INV_TBL, name=""inv"") # Build our derived table (subquery in the FROM clause) that sums used # amounts for resource provider and resource class derived_alloc_to_rp = sa.join( _ALLOC_TBL, _RP_TBL, sa.and_(_ALLOC_TBL.c.resource_provider_id == _RP_TBL.c.id, # TODO(tetsuro): Remove this OR condition when all # root_provider_id values are NOT NULL sa.or_(_RP_TBL.c.root_provider_id.in_(root_ids), _RP_TBL.c.id.in_(root_ids)) ) ) usage = sa.alias( sa.select([ _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id, sql.func.sum(_ALLOC_TBL.c.used).label('used'), ]).select_from(derived_alloc_to_rp).group_by( _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id ), name='usage') # Build a join between the resource providers and inventories table rpt_inv_join = sa.outerjoin(rpt, inv, rpt.c.id == inv.c.resource_provider_id) # And then join to the derived table of usages usage_join = sa.outerjoin( rpt_inv_join, usage, sa.and_( usage.c.resource_provider_id == inv.c.resource_provider_id, usage.c.resource_class_id == inv.c.resource_class_id, ), ) query = sa.select([ rpt.c.id.label(""resource_provider_id""), rpt.c.uuid.label(""resource_provider_uuid""), inv.c.resource_class_id, inv.c.total, inv.c.reserved, inv.c.allocation_ratio, inv.c.max_unit, usage.c.used, ]).select_from(usage_join).where( # TODO(tetsuro): Remove this or condition when all # root_provider_id values are NOT NULL sa.or_( rpt.c.root_provider_id.in_(root_ids), rpt.c.id.in_(root_ids) ) ) return ctx.session.execute(query).fetchall() def _build_provider_summaries(context, usages, prov_traits): """"""Given a list of dicts of usage information and a map of providers to their associated string traits, returns a dict, keyed by resource provider ID, of ProviderSummary objects. :param context: placement.context.RequestContext object :param usages: A list of dicts with the following format: { 'resource_provider_id': <internal resource provider ID>, 'resource_provider_uuid': <UUID>, 'resource_class_id': <internal resource class ID>, 'total': integer, 'reserved': integer, 'allocation_ratio': float, } :param prov_traits: A dict, keyed by internal resource provider ID, of string trait names associated with that provider """""" # Before we go creating provider summary objects, first grab all the # provider information (including root, parent and UUID information) for # all providers involved in our operation rp_ids = set(usage['resource_provider_id'] for usage in usages) provider_ids = rp_obj.provider_ids_from_rp_ids(context, rp_ids) # Build up a dict, keyed by internal resource provider ID, of # ProviderSummary objects containing one or more ProviderSummaryResource # objects representing the resources the provider has inventory for. summaries = {} for usage in usages: rp_id = usage['resource_provider_id'] summary = summaries.get(rp_id) if not summary: pids = provider_ids[rp_id] summary = ProviderSummary( resource_provider=rp_obj.ResourceProvider( context, id=pids.id, uuid=pids.uuid, root_provider_uuid=pids.root_uuid, parent_provider_uuid=pids.parent_uuid), resources=[], ) summaries[rp_id] = summary traits = prov_traits[rp_id] summary.traits = [trait_obj.Trait(context, name=tname) for tname in traits] rc_id = usage['resource_class_id'] if rc_id is None: # NOTE(tetsuro): This provider doesn't have any inventory itself. # But we include this provider in summaries since another # provider in the same tree will be in the ""allocation_request"". # Let's skip the following and leave ""ProviderSummary.resources"" # field empty. continue # NOTE(jaypipes): usage['used'] may be None due to the LEFT JOIN of # the usages subquery, so we coerce NULL values to 0 here. It may # also be a Decimal, as that's the type that mysql tends to return # when func.sum is used in a query. We need an int, otherwise later # JSON serialization will not work. used = int(usage['used'] or 0) allocation_ratio = usage['allocation_ratio'] cap = int((usage['total'] - usage['reserved']) * allocation_ratio) rc_name = rc_cache.RC_CACHE.string_from_id(rc_id) rpsr = ProviderSummaryResource( resource_class=rc_name, capacity=cap, used=used, max_unit=usage['max_unit'], ) summary.resources.append(rpsr) return summaries def _allocation_request_for_provider(ctx, requested_resources, provider): """"""Returns an AllocationRequest object containing AllocationRequestResource objects for each resource class in the supplied requested resources dict. :param ctx: placement.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param provider: ResourceProvider object representing the provider of the resources. """""" resource_requests = [ AllocationRequestResource( resource_provider=provider, resource_class=rc_cache.RC_CACHE.string_from_id(rc_id), amount=amount, ) for rc_id, amount in requested_resources.items() ] # NOTE(efried): This method only produces an AllocationRequest with its # anchor in its own tree. If the provider is a sharing provider, the # caller needs to identify the other anchors with which it might be # associated. return AllocationRequest( resource_requests=resource_requests, anchor_root_provider_uuid=provider.root_provider_uuid) def _check_traits_for_alloc_request(res_requests, summaries, prov_traits, required_traits, forbidden_traits): """"""Given a list of AllocationRequestResource objects, check if that combination can provide trait constraints. If it can, returns all resource provider internal IDs in play, else return an empty list. TODO(tetsuro): For optimization, we should move this logic to SQL in rp_obj.get_trees_matching_all(). :param res_requests: a list of AllocationRequestResource objects that have resource providers to be checked if they collectively satisfy trait constraints in the required_traits and forbidden_traits parameters. :param summaries: dict, keyed by resource provider ID, of ProviderSummary objects containing usage and trait information for resource providers involved in the overall request :param prov_traits: A dict, keyed by internal resource provider ID, of string trait names associated with that provider :param required_traits: A map, keyed by trait string name, of required trait internal IDs that each *allocation request's set of providers* must *collectively* have associated with them :param forbidden_traits: A map, keyed by trait string name, of trait internal IDs that a resource provider must not have. """""" all_prov_ids = [] all_traits = set() for res_req in res_requests: rp_uuid = res_req.resource_provider.uuid for rp_id, summary in summaries.items(): if summary.resource_provider.uuid == rp_uuid: break rp_traits = set(prov_traits.get(rp_id, [])) # Check if there are forbidden_traits conflict_traits = set(forbidden_traits) & set(rp_traits) if conflict_traits: LOG.debug('Excluding resource provider %s, it has ' 'forbidden traits: (%s).', rp_id, ', '.join(conflict_traits)) return [] all_prov_ids.append(rp_id) all_traits |= rp_traits # Check if there are missing traits missing_traits = set(required_traits) - all_traits if missing_traits: LOG.debug('Excluding a set of allocation candidate %s : ' 'missing traits %s are not satisfied.', all_prov_ids, ','.join(missing_traits)) return [] return all_prov_ids def _alloc_candidates_single_provider(ctx, requested_resources, rp_tuples): """"""Returns a tuple of (allocation requests, provider summaries) for a supplied set of requested resource amounts and resource providers. The supplied resource providers have capacity to satisfy ALL of the resources in the requested resources as well as ALL required traits that were requested by the user. This is used in two circumstances: - To get results for a RequestGroup with use_same_provider=True. - As an optimization when no sharing providers satisfy any of the requested resources, and nested providers are not in play. In these scenarios, we can more efficiently build the list of AllocationRequest and ProviderSummary objects due to not having to determine requests across multiple providers. :param ctx: placement.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param rp_tuples: List of two-tuples of (provider ID, root provider ID)s for providers that matched the requested resources """""" if not rp_tuples: return [], [] # Get all root resource provider IDs. root_ids = set(p[1] for p in rp_tuples) # Grab usage summaries for each provider usages = _get_usages_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of trait string names # that provider has associated with it prov_traits = trait_obj.get_traits_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(ctx, usages, prov_traits) # Next, build up a list of allocation requests. These allocation requests # are AllocationRequest objects, containing resource provider UUIDs, # resource class names and amounts to consume from that resource provider alloc_requests = [] for rp_id, root_id in rp_tuples: rp_summary = summaries[rp_id] req_obj = _allocation_request_for_provider( ctx, requested_resources, rp_summary.resource_provider) alloc_requests.append(req_obj) # If this is a sharing provider, we have to include an extra # AllocationRequest for every possible anchor. traits = [trait.name for trait in rp_summary.traits] if os_traits.MISC_SHARES_VIA_AGGREGATE in traits: anchors = set([p[1] for p in rp_obj.anchors_for_sharing_providers( ctx, [rp_summary.resource_provider.id])]) for anchor in anchors: # We already added self if anchor == rp_summary.resource_provider.root_provider_uuid: continue req_obj = copy.copy(req_obj) req_obj.anchor_root_provider_uuid = anchor alloc_requests.append(req_obj) return alloc_requests, list(summaries.values()) def _alloc_candidates_multiple_providers( ctx, requested_resources, required_traits, forbidden_traits, rp_candidates): """"""Returns a tuple of (allocation requests, provider summaries) for a supplied set of requested resource amounts and tuples of (rp_id, root_id, rc_id). The supplied resource provider trees have capacity to satisfy ALL of the resources in the requested resources as well as ALL required traits that were requested by the user. This is a code path to get results for a RequestGroup with use_same_provider=False. In this scenario, we are able to use multiple providers within the same provider tree including sharing providers to satisfy different resources involved in a single request group. :param ctx: placement.context.RequestContext object :param requested_resources: dict, keyed by resource class ID, of amounts being requested for that resource class :param required_traits: A map, keyed by trait string name, of required trait internal IDs that each *allocation request's set of providers* must *collectively* have associated with them :param forbidden_traits: A map, keyed by trait string name, of trait internal IDs that a resource provider must not have. :param rp_candidates: RPCandidates object representing the providers that satisfy the request for resources. """""" if not rp_candidates: return [], [] # Get all the root resource provider IDs. We should include the first # values of rp_tuples because while sharing providers are root providers, # they have their ""anchor"" providers for the second value. root_ids = rp_candidates.all_rps # Grab usage summaries for each provider in the trees usages = _get_usages_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of trait string names # that provider has associated with it prov_traits = trait_obj.get_traits_by_provider_tree(ctx, root_ids) # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(ctx, usages, prov_traits) # Get a dict, keyed by root provider internal ID, of a dict, keyed by # resource class internal ID, of lists of AllocationRequestResource objects tree_dict = collections.defaultdict(lambda: collections.defaultdict(list)) for rp in rp_candidates.rps_info: rp_summary = summaries[rp.id] tree_dict[rp.root_id][rp.rc_id].append( AllocationRequestResource( resource_provider=rp_summary.resource_provider, resource_class=rc_cache.RC_CACHE.string_from_id(rp.rc_id), amount=requested_resources[rp.rc_id])) # Next, build up a set of allocation requests. These allocation requests # are AllocationRequest objects, containing resource provider UUIDs, # resource class names and amounts to consume from that resource provider alloc_requests = set() # Let's look into each tree for root_id, alloc_dict in tree_dict.items(): # Get request_groups, which is a list of lists of # AllocationRequestResource(ARR) per requested resource class(rc). # For example, if we have the alloc_dict: # {rc1_id: [ARR(rc1, rp1), ARR(rc1, rp2)], # rc2_id: [ARR(rc2, rp1), ARR(rc2, rp2)], # rc3_id: [ARR(rc3, rp1)]} # then the request_groups would be something like # [[ARR(rc1, rp1), ARR(rc1, rp2)], # [ARR(rc2, rp1), ARR(rc2, rp2)], # [ARR(rc3, rp1)]] # , which should be ordered by the resource class id. request_groups = [val for key, val in sorted(alloc_dict.items())] root_summary = summaries[root_id] root_uuid = root_summary.resource_provider.uuid root_alloc_reqs = set() # Using itertools.product, we get all the combinations of resource # providers in a tree. # For example, the sample in the comment above becomes: # [(ARR(rc1, ss1), ARR(rc2, ss1), ARR(rc3, ss1)), # (ARR(rc1, ss1), ARR(rc2, ss2), ARR(rc3, ss1)), # (ARR(rc1, ss2), ARR(rc2, ss1), ARR(rc3, ss1)), # (ARR(rc1, ss2), ARR(rc2, ss2), ARR(rc3, ss1))] for res_requests in itertools.product(*request_groups): if not _check_traits_for_alloc_request( res_requests, summaries, prov_traits, required_traits, forbidden_traits): # This combination doesn't satisfy trait constraints continue root_alloc_reqs.add( AllocationRequest(resource_requests=list(res_requests), anchor_root_provider_uuid=root_uuid)) LOG.debug(""got %d allocation requests under root provider %s"", len(root_alloc_reqs), root_uuid) alloc_requests |= root_alloc_reqs return list(alloc_requests), list(summaries.values()) def _rp_rc_key(rp, rc): """"""Creates hashable key unique to a provider + resource class."""""" return rp.uuid, rc def _consolidate_allocation_requests(areqs): """"""Consolidates a list of AllocationRequest into one. :param areqs: A list containing one AllocationRequest for each input RequestGroup. This may mean that multiple resource_requests contain resource amounts of the same class from the same provider. :return: A single consolidated AllocationRequest, containing no resource_requests with duplicated (resource_provider, resource_class). """""" # Construct a dict, keyed by resource provider UUID + resource class, of # AllocationRequestResource, consolidating as we go. arrs_by_rp_rc = {} # areqs must have at least one element. Save the anchor to populate the # returned AllocationRequest. anchor_rp_uuid = areqs[0].anchor_root_provider_uuid for areq in areqs: # Sanity check: the anchor should be the same for every areq if anchor_rp_uuid != areq.anchor_root_provider_uuid: # This should never happen. If it does, it's a dev bug. raise ValueError( _(""Expected every AllocationRequest in "" ""`_consolidate_allocation_requests` to have the same "" ""anchor!"")) for arr in areq.resource_requests: key = _rp_rc_key(arr.resource_provider, arr.resource_class) if key not in arrs_by_rp_rc: arrs_by_rp_rc[key] = copy.copy(arr) else: arrs_by_rp_rc[key].amount += arr.amount return AllocationRequest( resource_requests=list(arrs_by_rp_rc.values()), anchor_root_provider_uuid=anchor_rp_uuid) def _satisfies_group_policy(areqs, group_policy, num_granular_groups): """"""Applies group_policy to a list of AllocationRequest. Returns True or False, indicating whether this list of AllocationRequest satisfies group_policy, as follows: * ""isolate"": Each AllocationRequest with use_same_provider=True is satisfied by a single resource provider. If the ""isolate"" policy is in effect, each such AllocationRequest must be satisfied by a *unique* resource provider. * ""none"" or None: Always returns True. :param areqs: A list containing one AllocationRequest for each input RequestGroup. :param group_policy: String indicating how RequestGroups should interact with each other. If the value is ""isolate"", we will return False if AllocationRequests that came from RequestGroups keyed by nonempty suffixes are satisfied by the same provider. :param num_granular_groups: The number of granular (use_same_provider=True) RequestGroups in the request. :return: True if areqs satisfies group_policy; False otherwise. """""" if group_policy != 'isolate': # group_policy=""none"" means no filtering return True # The number of unique resource providers referenced in the request groups # having use_same_provider=True must be equal to the number of granular # groups. num_granular_groups_in_areqs = len(set( # We can reliably use the first resource_request's provider: all the # resource_requests are satisfied by the same provider by definition # because use_same_provider is True. areq.resource_requests[0].resource_provider.uuid for areq in areqs if areq.use_same_provider)) if num_granular_groups == num_granular_groups_in_areqs: return True LOG.debug('Excluding the following set of AllocationRequest because ' 'group_policy=isolate and the number of granular groups in the ' 'set (%d) does not match the number of granular groups in the ' 'request (%d): %s', num_granular_groups_in_areqs, num_granular_groups, str(areqs)) return False def _exceeds_capacity(areq, psum_res_by_rp_rc): """"""Checks a (consolidated) AllocationRequest against the provider summaries to ensure that it does not exceed capacity. Exceeding capacity can mean the total amount (already used plus this allocation) exceeds the total inventory amount; or this allocation exceeds the max_unit in the inventory record. :param areq: An AllocationRequest produced by the `_consolidate_allocation_requests` method. :param psum_res_by_rp_rc: A dict, keyed by provider + resource class via _rp_rc_key, of ProviderSummaryResource. :return: True if areq exceeds capacity; False otherwise. """""" for arr in areq.resource_requests: key = _rp_rc_key(arr.resource_provider, arr.resource_class) psum_res = psum_res_by_rp_rc[key] if psum_res.used + arr.amount > psum_res.capacity: LOG.debug('Excluding the following AllocationRequest because used ' '(%d) + amount (%d) > capacity (%d) for resource class ' '%s: %s', psum_res.used, arr.amount, psum_res.capacity, arr.resource_class, str(areq)) return True if arr.amount > psum_res.max_unit: LOG.debug('Excluding the following AllocationRequest because ' 'amount (%d) > max_unit (%d) for resource class %s: %s', arr.amount, psum_res.max_unit, arr.resource_class, str(areq)) return True return False def _merge_candidates(candidates, group_policy=None): """"""Given a dict, keyed by RequestGroup suffix, of tuples of (allocation_requests, provider_summaries), produce a single tuple of (allocation_requests, provider_summaries) that appropriately incorporates the elements from each. Each (alloc_reqs, prov_sums) in `candidates` satisfies one RequestGroup. This method creates a list of alloc_reqs, *each* of which satisfies *all* of the RequestGroups. For that merged list of alloc_reqs, a corresponding provider_summaries is produced. :param candidates: A dict, keyed by integer suffix or '', of tuples of (allocation_requests, provider_summaries) to be merged. :param group_policy: String indicating how RequestGroups should interact with each other. If the value is ""isolate"", we will filter out candidates where AllocationRequests that came from RequestGroups keyed by nonempty suffixes are satisfied by the same provider. :return: A tuple of (allocation_requests, provider_summaries). """""" # Build a dict, keyed by anchor root provider UUID, of dicts, keyed by # suffix, of nonempty lists of AllocationRequest. Each inner dict must # possess all of the suffix keys to be viable (i.e. contains at least # one AllocationRequest per RequestGroup). # # areq_lists_by_anchor = # { anchor_root_provider_uuid: { # '': [AllocationRequest, ...], \ This dict must contain # '1': [AllocationRequest, ...], \ exactly one nonempty list per # ... / suffix to be viable. That # '42': [AllocationRequest, ...], / filtering is done later. # }, # ... # } areq_lists_by_anchor = collections.defaultdict( lambda: collections.defaultdict(list)) # Save off all the provider summaries lists - we'll use 'em later. all_psums = [] # Construct a dict, keyed by resource provider + resource class, of # ProviderSummaryResource. This will be used to do a final capacity # check/filter on each merged AllocationRequest. psum_res_by_rp_rc = {} for suffix, (areqs, psums) in candidates.items(): for areq in areqs: anchor = areq.anchor_root_provider_uuid areq_lists_by_anchor[anchor][suffix].append(areq) for psum in psums: all_psums.append(psum) for psum_res in psum.resources: key = _rp_rc_key( psum.resource_provider, psum_res.resource_class) psum_res_by_rp_rc[key] = psum_res # Create all combinations picking one AllocationRequest from each list # for each anchor. areqs = set() all_suffixes = set(candidates) num_granular_groups = len(all_suffixes - set([''])) for areq_lists_by_suffix in areq_lists_by_anchor.values(): # Filter out any entries that don't have allocation requests for # *all* suffixes (i.e. all RequestGroups) if set(areq_lists_by_suffix) != all_suffixes: continue # We're using itertools.product to go from this: # areq_lists_by_suffix = { # '': [areq__A, areq__B, ...], # '1': [areq_1_A, areq_1_B, ...], # ... # '42': [areq_42_A, areq_42_B, ...], # } # to this: # [ [areq__A, areq_1_A, ..., areq_42_A], Each of these lists is one # [areq__A, areq_1_A, ..., areq_42_B], areq_list in the loop below. # [areq__A, areq_1_B, ..., areq_42_A], each areq_list contains one # [areq__A, areq_1_B, ..., areq_42_B], AllocationRequest from each # [areq__B, areq_1_A, ..., areq_42_A], RequestGroup. So taken as a # [areq__B, areq_1_A, ..., areq_42_B], whole, each list is a viable # [areq__B, areq_1_B, ..., areq_42_A], (preliminary) candidate to # [areq__B, areq_1_B, ..., areq_42_B], return. # ..., # ] for areq_list in itertools.product( *list(areq_lists_by_suffix.values())): # At this point, each AllocationRequest in areq_list is still # marked as use_same_provider. This is necessary to filter by group # policy, which enforces how these interact with each other. if not _satisfies_group_policy( areq_list, group_policy, num_granular_groups): continue # Now we go from this (where 'arr' is AllocationRequestResource): # [ areq__B(arrX, arrY, arrZ), # areq_1_A(arrM, arrN), # ..., # areq_42_B(arrQ) # ] # to this: # areq_combined(arrX, arrY, arrZ, arrM, arrN, arrQ) # Note that this discards the information telling us which # RequestGroup led to which piece of the final AllocationRequest. # We needed that to be present for the previous filter; we need it # to be *absent* for the next one (and for the final output). areq = _consolidate_allocation_requests(areq_list) # Since we sourced this AllocationRequest from multiple # *independent* queries, it's possible that the combined result # now exceeds capacity where amounts of the same RP+RC were # folded together. So do a final capacity check/filter. if _exceeds_capacity(areq, psum_res_by_rp_rc): continue areqs.add(areq) # It's possible we've filtered out everything. If so, short out. if not areqs: return [], [] # Now we have to produce provider summaries. The provider summaries in # the candidates input contain all the information; we just need to # filter it down to only the providers in trees represented by our merged # list of allocation requests. tree_uuids = set() for areq in areqs: for arr in areq.resource_requests: tree_uuids.add(arr.resource_provider.root_provider_uuid) psums = [psum for psum in all_psums if psum.resource_provider.root_provider_uuid in tree_uuids] return list(areqs), psums ",740,740
openstack%2Fplacement~master~I6539d7db87bc24b03842e3d28a4296002b3549d5,openstack/placement,master,I6539d7db87bc24b03842e3d28a4296002b3549d5,Move allocation candidate classes and methods,MERGED,2019-03-07 20:18:41.000000000,2019-03-14 19:28:25.000000000,2019-03-14 19:28:24.000000000,"[{'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-07 20:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/eb589e21cec379b23bf5f56dd2e4ce71a736cbf4', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}, {'number': 2, 'created': '2019-03-08 09:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/881866156e6885a77194b55c19853d7a49316a88', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}, {'number': 3, 'created': '2019-03-08 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5f6ce4b6fa2ca239975085013e51895740d025bc', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}, {'number': 4, 'created': '2019-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3e2ffede43e3961ada4e0c20d6b8e81d4f64ec0d', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}, {'number': 5, 'created': '2019-03-11 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b32ce664d48e54b5f1a60fe11105fd13155ec9c9', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods used solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}, {'number': 6, 'created': '2019-03-12 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b1a9bb1e7be08ce43d90b1ef775f381e60701dae', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods used solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}, {'number': 7, 'created': '2019-03-13 21:24:57.000000000', 'files': ['placement/tests/unit/objects/test_resource_provider.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/tests/unit/objects/test_allocation_candidate.py', 'placement/objects/resource_provider.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/0f0d80b6f507cf23e6bf4aa11cec390b5be9f9f6', 'message': 'Move allocation candidate classes and methods\n\nThe AllocationCandidates class and the classes it uses to assemble\na suite of classes are moved to objects/allocation_candidate.\nAlso included are the several methods used solely by those classes.\n\nMethods which are more directly about resource providers, even\nif only used by the allocation_candidate modules, are kept in\nresource_provider.py. As a result several methods in\nresource_provider.py are made public.\n\nTests are updated accordingly.\n\nAs this is already a rather chaotic change, no reordering was\ndone of the classes and methods in allocation_candidate. That\nwill follow.\n\nChange-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5\n'}]",9,641788,0f0d80b6f507cf23e6bf4aa11cec390b5be9f9f6,30,6,7,11564,,,0,"Move allocation candidate classes and methods

The AllocationCandidates class and the classes it uses to assemble
a suite of classes are moved to objects/allocation_candidate.
Also included are the several methods used solely by those classes.

Methods which are more directly about resource providers, even
if only used by the allocation_candidate modules, are kept in
resource_provider.py. As a result several methods in
resource_provider.py are made public.

Tests are updated accordingly.

As this is already a rather chaotic change, no reordering was
done of the classes and methods in allocation_candidate. That
will follow.

Change-Id: I6539d7db87bc24b03842e3d28a4296002b3549d5
",git fetch https://review.opendev.org/openstack/placement refs/changes/88/641788/5 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/unit/objects/test_resource_provider.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/tests/unit/objects/test_allocation_candidate.py', 'placement/objects/resource_provider.py', 'placement/handlers/allocation_candidate.py']",7,eb589e21cec379b23bf5f56dd2e4ce71a736cbf4,cd/de-list-phase2,from placement.objects import allocation_candidate as ac_obj cands = ac_obj.AllocationCandidates.get_by_requests(,from placement.objects import resource_provider as rp_obj cands = rp_obj.AllocationCandidates.get_by_requests(,1127,1070
openstack%2Fneutron~master~I247705feeb71e20ad5260b0ca1da08de7290ba6e,openstack/neutron,master,I247705feeb71e20ad5260b0ca1da08de7290ba6e,Fix misuse of assertTrue/assertFalse,MERGED,2019-03-14 00:16:36.000000000,2019-03-14 19:28:22.000000000,2019-03-14 19:28:22.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7634}, {'_account_id': 8313}, {'_account_id': 9396}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-03-14 00:16:36.000000000', 'files': ['neutron/tests/unit/services/placement_report/test_plugin.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86b3993ceec0c64f4aed02a498fc747ce91eb682', 'message': 'Fix misuse of assertTrue/assertFalse\n\nChange-Id: I247705feeb71e20ad5260b0ca1da08de7290ba6e\nCloses-Bug: #1819982\n'}]",0,643194,86b3993ceec0c64f4aed02a498fc747ce91eb682,15,9,1,7634,,,0,"Fix misuse of assertTrue/assertFalse

Change-Id: I247705feeb71e20ad5260b0ca1da08de7290ba6e
Closes-Bug: #1819982
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/643194/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/placement_report/test_plugin.py', 'neutron/tests/unit/notifiers/test_nova.py']",2,86b3993ceec0c64f4aed02a498fc747ce91eb682,bug/1819982, self.assertIsNone(event) self.assertFalse(send_events.called)," self.assertFalse(event, None) self.assertFalse(send_events.called, False)",3,3
openstack%2Fneutron~master~Ib48f7f1c89e215e9e94d62de31776c492f810f54,openstack/neutron,master,Ib48f7f1c89e215e9e94d62de31776c492f810f54,consume is_bsd from neutron-lib,MERGED,2019-03-06 21:53:30.000000000,2019-03-14 19:28:19.000000000,2019-03-14 19:28:19.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9396}, {'_account_id': 9845}, {'_account_id': 10980}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-06 21:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a812a586cc5c777215e1ba9db4bdb1b05f9f52c1', 'message': 'consume is_bsd from neutron-lib\n\nThe test tool function is_bsd() lives in neutron-lib.\nThis patch removes the function from neutron and uses it from\nneutron-lib instead.\n\nNeutronLibImpact\n\nChange-Id: Ib48f7f1c89e215e9e94d62de31776c492f810f54\n'}, {'number': 2, 'created': '2019-03-11 16:50:00.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/tools.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a285a7fcc96767ab7825d04071ea70247964f38', 'message': 'consume is_bsd from neutron-lib\n\nThe test tool function is_bsd() lives in neutron-lib.\nThis patch removes the function from neutron and uses it from\nneutron-lib instead.\n\nNeutronLibImpact\n\nChange-Id: Ib48f7f1c89e215e9e94d62de31776c492f810f54\n'}]",0,641491,7a285a7fcc96767ab7825d04071ea70247964f38,33,10,2,5367,,,0,"consume is_bsd from neutron-lib

The test tool function is_bsd() lives in neutron-lib.
This patch removes the function from neutron and uses it from
neutron-lib instead.

NeutronLibImpact

Change-Id: Ib48f7f1c89e215e9e94d62de31776c492f810f54
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/641491/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/tools.py']",2,a812a586cc5c777215e1ba9db4bdb1b05f9f52c1,bp/neutronlib-decouple-db,,"import platformdef is_bsd(): """"""Return True on BSD-based systems."""""" system = platform.system() if system == 'Darwin': return True if 'bsd' in system.lower(): return True return False ",1,13
openstack%2Foslo.policy~master~Ia575beabad06f081d4f68bff8fcf83566331f1d6,openstack/oslo.policy,master,Ia575beabad06f081d4f68bff8fcf83566331f1d6,Corrects tox.ini snippet to point to config file,MERGED,2019-03-13 23:33:37.000000000,2019-03-14 19:25:47.000000000,2019-03-14 19:25:47.000000000,"[{'_account_id': 6928}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-13 23:33:37.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/cebe29b2b85ed84ffd2e6fe26112ac71219105cf', 'message': 'Corrects tox.ini snippet to point to config file\n\nPreviously the code snippet for tox.ini genpolicy pointed to the output yaml\ninstead of the config file.\n\nChange-Id: Ia575beabad06f081d4f68bff8fcf83566331f1d6\n'}]",0,643186,cebe29b2b85ed84ffd2e6fe26112ac71219105cf,7,3,1,23140,,,0,"Corrects tox.ini snippet to point to config file

Previously the code snippet for tox.ini genpolicy pointed to the output yaml
instead of the config file.

Change-Id: Ia575beabad06f081d4f68bff8fcf83566331f1d6
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/86/643186/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/usage.rst'],1,cebe29b2b85ed84ffd2e6fe26112ac71219105cf,, commands = oslopolicy-sample-generator --config-file etc/foo/foo-policy-generator.conf, commands = oslopolicy-sample-generator --config-file etc/foo/policy.yaml.sample,1,1
openstack%2Fopenstack-zuul-jobs~master~I0b289309642efe7dce6d403fb37e109f24ce499d,openstack/openstack-zuul-jobs,master,I0b289309642efe7dce6d403fb37e109f24ce499d,Use ubuntu-xenial for build-openstack-sphinx-docs,MERGED,2019-03-14 15:39:26.000000000,2019-03-14 19:18:10.000000000,2019-03-14 19:18:09.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 15:39:26.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d61781ada28f6fbad04d31f70bf1a4d93557baa6', 'message': ""Use ubuntu-xenial for build-openstack-sphinx-docs\n\nThe build-openstack-sphinx-docs job is deprecated since Rocky so\nshould not be used for any branches which test on ubuntu-bionic\nnodes. As a result it's reasonable to force it to always use an\nubuntu-xenial nodeset instead.\n\nChange-Id: I0b289309642efe7dce6d403fb37e109f24ce499d\n""}]",1,643371,d61781ada28f6fbad04d31f70bf1a4d93557baa6,9,5,1,5263,,,0,"Use ubuntu-xenial for build-openstack-sphinx-docs

The build-openstack-sphinx-docs job is deprecated since Rocky so
should not be used for any branches which test on ubuntu-bionic
nodes. As a result it's reasonable to force it to always use an
ubuntu-xenial nodeset instead.

Change-Id: I0b289309642efe7dce6d403fb37e109f24ce499d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/71/643371/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,d61781ada28f6fbad04d31f70bf1a4d93557baa6,bionic-transition, nodeset: ubuntu-xenial,,1,0
openstack%2Fdesignate-dashboard~master~I60bc2f2ef60c3f4dbc4d63badf03e4c18c1ff86a,openstack/designate-dashboard,master,I60bc2f2ef60c3f4dbc4d63badf03e4c18c1ff86a,Switch to horizon-nodejs4-jobs-nonvoting template,MERGED,2019-03-14 00:31:05.000000000,2019-03-14 19:14:46.000000000,2019-03-14 19:14:46.000000000,"[{'_account_id': 841}, {'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-03-14 00:31:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ffadf3868f3edd22cffb880591cd41710e685377', 'message': ""Switch to horizon-nodejs4-jobs-nonvoting template\n\nWe need to switch these jobs to xenial. But while we're doing that,\nlet's shift to consuming a template managed in the horizon repo.\n\nDepends-On: https://review.openstack.org/643198\nChange-Id: I60bc2f2ef60c3f4dbc4d63badf03e4c18c1ff86a\n""}]",0,643200,ffadf3868f3edd22cffb880591cd41710e685377,17,6,1,2,,,0,"Switch to horizon-nodejs4-jobs-nonvoting template

We need to switch these jobs to xenial. But while we're doing that,
let's shift to consuming a template managed in the horizon repo.

Depends-On: https://review.openstack.org/643198
Change-Id: I60bc2f2ef60c3f4dbc4d63badf03e4c18c1ff86a
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/00/643200/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ffadf3868f3edd22cffb880591cd41710e685377,nodev4-xenial, - horizon-nodejs4-jobs-nonvoting, - nodejs-npm-run-lint: vars: node_version: 4 voting: false - nodejs-npm-run-test: vars: node_version: 4 voting: false,1,8
openstack%2Fproject-config~master~Iab3b36cafdce48a84e23a3c8fd94a1b8b844a147,openstack/project-config,master,Iab3b36cafdce48a84e23a3c8fd94a1b8b844a147,use the new redirect target for constraints when branching,MERGED,2019-03-14 16:15:34.000000000,2019-03-14 19:10:16.000000000,2019-03-14 19:10:16.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 16:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8a7f8336488c0c387593216b07d47f4436c0151', 'message': 'use the new redirect target for constraints when branching\n\nRather than pointing to the git server, point to a redirect on the\nreleases.openstack.org server that we can update easily when a branch\ncloses.\n\nChange-Id: Iab3b36cafdce48a84e23a3c8fd94a1b8b844a147\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2019-03-14 16:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bfa16869a41ea2ad2dc524c3b39333b848fca865', 'message': 'use the new redirect target for constraints when branching\n\nRather than pointing to the git server, point to a redirect on the\nreleases.openstack.org server that we can update easily when a branch\ncloses.\n\nChange-Id: Iab3b36cafdce48a84e23a3c8fd94a1b8b844a147\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2019-03-14 18:28:56.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/functions'], 'web_link': 'https://opendev.org/openstack/project-config/commit/092bc57dbaa93b4fb0f122d02334a5e0916ad82a', 'message': 'use the new redirect target for constraints when branching\n\nRather than pointing to the git server, point to a redirect on the\nreleases.openstack.org server that we can update easily when a branch\ncloses.\n\nChange-Id: Iab3b36cafdce48a84e23a3c8fd94a1b8b844a147\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,643387,092bc57dbaa93b4fb0f122d02334a5e0916ad82a,16,8,3,2472,,,0,"use the new redirect target for constraints when branching

Rather than pointing to the git server, point to a redirect on the
releases.openstack.org server that we can update easily when a branch
closes.

Change-Id: Iab3b36cafdce48a84e23a3c8fd94a1b8b844a147
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/643387/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/copy-release-tools-scripts/files/release-tools/functions'],1,c8a7f8336488c0c387593216b07d47f4436c0151,upper-constraint-redirects," typeset uc_url=""https://releases.openstack.org/constraints/upper/${branch}"""," typeset uc_url=""https://${uc_server}/${uc_path}?h=${branch}""",1,1
openstack%2Fplacement~master~I29967aed8d3995d05110602fb382d282cd4b1a5b,openstack/placement,master,I29967aed8d3995d05110602fb382d282cd4b1a5b,Trivial: Update doc for _set_traits(),MERGED,2019-03-14 10:59:29.000000000,2019-03-14 19:08:23.000000000,2019-03-14 19:08:23.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:59:29.000000000', 'files': ['placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5a667c1f053e066a5314ceeebe501594269afe47', 'message': 'Trivial: Update doc for _set_traits()\n\nThis patch updates the doc for _set_traits()\nbecause TraitList is now removed.\n\nChange-Id: I29967aed8d3995d05110602fb382d282cd4b1a5b\n'}]",0,643286,5a667c1f053e066a5314ceeebe501594269afe47,10,2,1,25625,,,0,"Trivial: Update doc for _set_traits()

This patch updates the doc for _set_traits()
because TraitList is now removed.

Change-Id: I29967aed8d3995d05110602fb382d282cd4b1a5b
",git fetch https://review.opendev.org/openstack/placement refs/changes/86/643286/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/resource_provider.py'],1,5a667c1f053e066a5314ceeebe501594269afe47,cd/de-list-phase2," """"""Given a ResourceProvider object and a list of Trait objects, replaces the set of traits associated with the resource provider. :param traits: List of Trait objects"," """"""Given a ResourceProvider object and a TraitList object, replaces the set of traits associated with the resource provider. :param traits: A TraitList object or list of Trait objects",3,3
openstack%2Fplacement~master~I593bfa80007eb41803f09597377ae5c2a3540990,openstack/placement,master,I593bfa80007eb41803f09597377ae5c2a3540990,Remove the TraitList class,MERGED,2019-03-07 13:22:21.000000000,2019-03-14 19:08:22.000000000,2019-03-14 19:08:22.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-07 13:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/acb7dcab106eef6626657e53051a7c3432c61194', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}, {'number': 2, 'created': '2019-03-07 20:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/374505a223d35804adc3ccfd1c7b92530ac0c492', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}, {'number': 3, 'created': '2019-03-08 09:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4f085f64d080d62a73dda8039142670cbe2f6aef', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}, {'number': 4, 'created': '2019-03-08 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ac7ac91897e78538a6f45eb6e6a39b3b7f36ada4', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}, {'number': 5, 'created': '2019-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/10458e4b8e9ac1c4257bc1b4033392fe213b3f82', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}, {'number': 6, 'created': '2019-03-12 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bae765c3e5caa1b0816e081c149f5628f16068ea', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}, {'number': 7, 'created': '2019-03-13 21:24:57.000000000', 'files': ['placement/handlers/trait.py', 'placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/trait.py', 'placement/tests/functional/db/test_trait.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/580cc15d9ecd5768a537dc232e72a6a46152c774', 'message': 'Remove the TraitList class\n\nThe get_all and get_all_by_resource_provider methods are moved\nto module level, callers and tests updated accordingly.\n\nNote that this leaves some commonality between the ResourceClass\nand Trait single-items classes, which we may wish to address in\nfuture work.\n\nChange-Id: I593bfa80007eb41803f09597377ae5c2a3540990\n'}]",1,641663,580cc15d9ecd5768a537dc232e72a6a46152c774,27,7,7,11564,,,0,"Remove the TraitList class

The get_all and get_all_by_resource_provider methods are moved
to module level, callers and tests updated accordingly.

Note that this leaves some commonality between the ResourceClass
and Trait single-items classes, which we may wish to address in
future work.

Change-Id: I593bfa80007eb41803f09597377ae5c2a3540990
",git fetch https://review.opendev.org/openstack/placement refs/changes/63/641663/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/handlers/trait.py', 'placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/trait.py', 'placement/tests/functional/db/test_trait.py']",5,acb7dcab106eef6626657e53051a7c3432c61194,cd/de-list-phase2," trait_obj.get_all(self.ctx)) traits = trait_obj.get_all( traits = trait_obj.get_all( traits = trait_obj.get_all(self.ctx, filters={'prefix': 'CUSTOM'}) traits = trait_obj.get_all(self.ctx, filters={""prefix"": ""NOT_EXISTED""}) rp_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp) updated_traits = trait_obj.get_all( rp_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp) rp1_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp1) rp2_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp2) rp1_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp1) rp2_traits = trait_obj.get_all_by_resource_provider(self.ctx, rp2) associated_traits = trait_obj.get_all( trait_obj.get_all(self.ctx, filters={'associated': True})) associated_traits = trait_obj.get_all( trait_obj.get_all(self.ctx, filters={'associated': False}))"," trait_obj.TraitList.get_all(self.ctx)) traits = trait_obj.TraitList.get_all( traits = trait_obj.TraitList.get_all( traits = trait_obj.TraitList.get_all( self.ctx, filters={'prefix': 'CUSTOM'}) traits = trait_obj.TraitList.get_all( self.ctx, filters={""prefix"": ""NOT_EXISTED""}) rp_traits = trait_obj.TraitList.get_all_by_resource_provider( self.ctx, rp) updated_traits = trait_obj.TraitList.get_all( rp_traits = trait_obj.TraitList.get_all_by_resource_provider( self.ctx, rp) rp1_traits = trait_obj.TraitList.get_all_by_resource_provider( self.ctx, rp1) rp2_traits = trait_obj.TraitList.get_all_by_resource_provider( self.ctx, rp2) rp1_traits = trait_obj.TraitList.get_all_by_resource_provider( self.ctx, rp1) rp2_traits = trait_obj.TraitList.get_all_by_resource_provider( self.ctx, rp2) associated_traits = trait_obj.TraitList.get_all( trait_obj.TraitList.get_all( self.ctx, filters={'associated': True})) associated_traits = trait_obj.TraitList.get_all( trait_obj.TraitList.get_all( self.ctx, filters={'associated': False}))",69,85
openstack%2Fproject-config~master~If1b93c39ed978d76df4286d52d28af73ea1de574,openstack/project-config,master,If1b93c39ed978d76df4286d52d28af73ea1de574,Sphinx publishing adjustments for ubuntu-bionic,MERGED,2019-03-14 16:00:42.000000000,2019-03-14 19:04:14.000000000,2019-03-14 19:04:14.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 16:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/51357283f9e5a3a3d02ef87f513f77f2ff980858', 'message': ""Sphinx publishing adjustments for ubuntu-bionic\n\nFirst, publish-openstack-sphinx-docs-base is deprecated since Rocky\nso should not be used for any branches which test on ubuntu-bionic\nnodes. As a result it's reasonable to force it to always use an\nubuntu-xenial nodeset instead.\n\nSecond, its replacement publish-openstack-tox-docs-base needs two\nvariants, one which uses an ubuntu-xenial nodeset on stable/ocata\nthrough stable/rocky and another which uses the default\n(ubuntu-bionic) nodeset for stable/stein and later.\n\nChange-Id: If1b93c39ed978d76df4286d52d28af73ea1de574\n""}, {'number': 2, 'created': '2019-03-14 16:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6afc0aea88878be62f0254a8afb8440307db79cb', 'message': ""Use Xenial for publish-openstack-sphinx-docs-base\n\nThe publish-openstack-sphinx-docs-base job is deprecated since Rocky\nso should not be used for any branches which test on ubuntu-bionic\nnodes. As a result it's reasonable to force it to always use an\nubuntu-xenial nodeset instead.\n\nChange-Id: If1b93c39ed978d76df4286d52d28af73ea1de574\n""}, {'number': 3, 'created': '2019-03-14 17:11:59.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/434ebab31bf8cddc4ffc58b7fcc36790f6cd3739', 'message': ""Sphinx publishing adjustments for ubuntu-bionic\n\nFirst, the publish-openstack-sphinx-docs-base job is deprecated\nsince Rocky so should not be used for any branches which test on\nubuntu-bionic nodes. As a result it's reasonable to force it to\nalways use an ubuntu-xenial nodeset instead.\n\nSecond, its replacement publish-openstack-tox-docs-base needs two\nvariants, one which uses an ubuntu-xenial nodeset on stable/ocata\nthrough stable/rocky and another which uses the default\n(ubuntu-bionic) nodeset for stable/stein and later.\n\nChange-Id: If1b93c39ed978d76df4286d52d28af73ea1de574\n""}]",0,643381,434ebab31bf8cddc4ffc58b7fcc36790f6cd3739,17,6,3,5263,,,0,"Sphinx publishing adjustments for ubuntu-bionic

First, the publish-openstack-sphinx-docs-base job is deprecated
since Rocky so should not be used for any branches which test on
ubuntu-bionic nodes. As a result it's reasonable to force it to
always use an ubuntu-xenial nodeset instead.

Second, its replacement publish-openstack-tox-docs-base needs two
variants, one which uses an ubuntu-xenial nodeset on stable/ocata
through stable/rocky and another which uses the default
(ubuntu-bionic) nodeset for stable/stein and later.

Change-Id: If1b93c39ed978d76df4286d52d28af73ea1de574
",git fetch https://review.opendev.org/openstack/project-config refs/changes/81/643381/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,51357283f9e5a3a3d02ef87f513f77f2ff980858,bionic-transition-patch1," nodeset: ubuntu-xenial branches: ^(?!stable/(ocata|pike|queens|rocky)).*$ abstract: true protected: true pre-run: playbooks/project-config/pre-tox.yaml run: playbooks/project-config/run-tox.yaml post-run: - playbooks/project-config/post-tox.yaml - playbooks/publish/openstack-afs.yaml required-projects: - name: openstack/requirements roles: - zuul: openstack-infra/zuul-jobs - zuul: openstack-infra/openstack-zuul-jobs vars: tox_envlist: docs bindep_profile: compile doc secrets: - secret: afsdocs_secret name: afs - job: name: publish-openstack-tox-docs-base nodeset: ubuntu-xenial description: | Base job for publishing docs tox job. Publish the results of the docs tox job to /afs/.openstack.org/docs/{{ zuul.project.short_name }}. This job runs on Xenial for stable/ocata, pike, queens and rocky. This job is prepared to make sure all stable branches before stable/stein will keep running on xenial. branches: - stable/ocata - stable/pike - stable/queens - stable/rocky",,39,0
openstack%2Fopenstack-zuul-jobs~master~Ic5287f25b532072cc82b9f6f72877dc584b50046,openstack/openstack-zuul-jobs,master,Ic5287f25b532072cc82b9f6f72877dc584b50046,nodeset adjustment for openstack-tox-docs,MERGED,2019-03-14 17:01:38.000000000,2019-03-14 19:02:34.000000000,2019-03-14 19:02:33.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 17:01:38.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e7f75f3a49922c74aa51afa1f835f6a83e016e2c', 'message': 'nodeset adjustment for openstack-tox-docs\n\nopenstack-tox-docs has been introduced and added on projects side\nfrom rocky release. few projects has this new tox base job running\non rocky.\nFor example- https://git.openstack.org/cgit/openstack/cyborg/tree/.zuul.yaml?h=stable%2Frocky\n\nFor safer side, this commit keep the xenial as nodeset for\nopenstack-tox-docs job for stable/rocky and another which\nuses the default nodeset Bionic.\n\nChange-Id: Ic5287f25b532072cc82b9f6f72877dc584b50046\n'}]",0,643399,e7f75f3a49922c74aa51afa1f835f6a83e016e2c,8,4,1,8556,,,0,"nodeset adjustment for openstack-tox-docs

openstack-tox-docs has been introduced and added on projects side
from rocky release. few projects has this new tox base job running
on rocky.
For example- https://git.openstack.org/cgit/openstack/cyborg/tree/.zuul.yaml?h=stable%2Frocky

For safer side, this commit keep the xenial as nodeset for
openstack-tox-docs job for stable/rocky and another which
uses the default nodeset Bionic.

Change-Id: Ic5287f25b532072cc82b9f6f72877dc584b50046
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/99/643399/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e7f75f3a49922c74aa51afa1f835f6a83e016e2c,, branches: ^(?!stable/rocky).*$ name: openstack-tox-docs parent: tox-docs description: | Run documentation build (xenial). Uses tox with the ``docs`` environment. This job runs on Xenial for stable/rocky. This job is prepared to make sure all stable/rocky will keep running on xenial. required-projects: - name: openstack/requirements vars: tox_constraints_file: '{{ ansible_user_dir }}/src/git.openstack.org/openstack/requirements/upper-constraints.txt' tox_envlist: docs bindep_profile: compile doc success-url: html/ nodeset: ubuntu-xenial branches: - stable/rocky - job:,,22,0
openstack%2Fproject-config~master~I92fe1a3d2fe7e886723cdbc6495933795040e8b3,openstack/project-config,master,I92fe1a3d2fe7e886723cdbc6495933795040e8b3,Use include_role and delegate_to for upload-npm,MERGED,2019-03-14 14:38:11.000000000,2019-03-14 19:01:47.000000000,2019-03-14 19:01:47.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 14:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bbc923a4ea6e4b48e1eb7b394882eceafa80142b', 'message': 'Use include_role and delegate_to for upload-npm\n\nChange-Id: I92fe1a3d2fe7e886723cdbc6495933795040e8b3\n'}, {'number': 2, 'created': '2019-03-14 16:12:07.000000000', 'files': ['playbooks/javascript/release.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e72b12822f4be0406f06131f6699fd0984ddc3dc', 'message': 'Use include_role and delegate_to for upload-npm\n\nChange-Id: I92fe1a3d2fe7e886723cdbc6495933795040e8b3\n'}]",1,643353,e72b12822f4be0406f06131f6699fd0984ddc3dc,10,3,2,2,,,0,"Use include_role and delegate_to for upload-npm

Change-Id: I92fe1a3d2fe7e886723cdbc6495933795040e8b3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/643353/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/javascript/release.yaml'],1,bbc923a4ea6e4b48e1eb7b394882eceafa80142b,,- hosts: all- hosts: all tasks: - name: Upload to npm include_role: upload-npm delegate_to: localhost,"- hosts: ubuntu-xenial- hosts: localhost roles: - role: upload-npm project_ver: ""{{ hostvars['ubuntu-xenial']['project_ver'] }}""",6,5
openstack%2Fproject-config~master~I3c2317cef73f2dda0d047663a0c1c350dd168c72,openstack/project-config,master,I3c2317cef73f2dda0d047663a0c1c350dd168c72,Run node jobs using version 4 on xenial nodes,MERGED,2019-03-14 00:19:20.000000000,2019-03-14 19:00:18.000000000,2019-03-14 19:00:18.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 00:19:20.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f400a5e7adbe62316f64a20df1289915f711c5cd', 'message': 'Run node jobs using version 4 on xenial nodes\n\nUntil such a time as we figure out a strategy off of 4 for these\njobs, we should run them on xenial.\n\nChange-Id: I3c2317cef73f2dda0d047663a0c1c350dd168c72\n'}]",0,643196,f400a5e7adbe62316f64a20df1289915f711c5cd,7,3,1,2,,,0,"Run node jobs using version 4 on xenial nodes

Until such a time as we figure out a strategy off of 4 for these
jobs, we should run them on xenial.

Change-Id: I3c2317cef73f2dda0d047663a0c1c350dd168c72
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/643196/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f400a5e7adbe62316f64a20df1289915f711c5cd,nodev4-xenial, nodeset: ubuntu-xenial nodeset: ubuntu-xenial,,2,0
openstack%2Freleases~master~I971913de532465b23cf3027f0f194cd8d42a0d35,openstack/releases,master,I971913de532465b23cf3027f0f194cd8d42a0d35,openstack-ansible: add mistral role to rocky,MERGED,2019-03-14 18:18:08.000000000,2019-03-14 18:59:54.000000000,2019-03-14 18:59:54.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-14 18:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bb3c4c5f6ed88448a92f6ab9e1690c9b585fd33b', 'message': 'openstack-ansible: add mistral role to rocky\n\nThis patch adds an os_mistral role as a Rocky deliverable in order\nto bring support to deploy Mistral inside Rocky.\n\nChange-Id: I971913de532465b23cf3027f0f194cd8d42a0d35\n'}, {'number': 2, 'created': '2019-03-14 18:20:36.000000000', 'files': ['deliverables/rocky/openstack-ansible-roles.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1b78c8c108bfcef7150c11170ff8a9be2b329013', 'message': 'openstack-ansible: add mistral role to rocky\n\nThis patch adds an os_mistral role as a Rocky deliverable in order\nto bring support to deploy Mistral inside Rocky.\n\nChange-Id: I971913de532465b23cf3027f0f194cd8d42a0d35\n'}]",1,643417,1b78c8c108bfcef7150c11170ff8a9be2b329013,9,3,2,1004,,,0,"openstack-ansible: add mistral role to rocky

This patch adds an os_mistral role as a Rocky deliverable in order
to bring support to deploy Mistral inside Rocky.

Change-Id: I971913de532465b23cf3027f0f194cd8d42a0d35
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/643417/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible-roles.yaml'],1,bb3c4c5f6ed88448a92f6ab9e1690c9b585fd33b,branch-mistral, openstack/openstack-ansible-os_mistral: c6dd57141e06b442f07339f9d0617a2ffdb5a275,,1,0
openstack%2Fmanila~master~I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96,openstack/manila,master,I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96,Deploy manila with uwsgi on devstack,MERGED,2019-01-16 21:12:37.000000000,2019-03-14 18:52:26.000000000,2019-03-14 18:52:26.000000000,"[{'_account_id': 1736}, {'_account_id': 5196}, {'_account_id': 6413}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-01-16 21:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fbedddbe2eed4fa081cba5fe1ec7fcba03df1e92', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 2, 'created': '2019-01-17 12:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/eb969a36caaaf0cd00cadf41b37b6da6b3903753', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 3, 'created': '2019-01-17 14:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d6f45a42dcfc82bcb97e71e39ef86643af059f90', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 4, 'created': '2019-01-17 18:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a5f4030284adc5118396cc1cb98eb236bb10c4ca', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 5, 'created': '2019-01-18 16:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b3463b0b1f0c7369c5afb977e1731df8f5b14499', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 6, 'created': '2019-01-21 19:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6d360a66f12b38eb21eac7fbaca1e4f75333c31e', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nDepends-On: I981792e39eccdb5436775a8456a68d1024c01240\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 7, 'created': '2019-01-21 20:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d7c9799dee1f62b3f1b4bf849dd3f93e4e59a7d3', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nDepends-On: I981792e39eccdb5436775a8456a68d1024c01240\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 8, 'created': '2019-02-04 23:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e65ddb9f96059f1de755530ae0bd71fc58521eb4', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nDepends-On: b534089118f888455bb8f2eb0193f693f196c022\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 9, 'created': '2019-02-07 13:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/991b4f96bf14af71e9f1739a761d09ad18f9d28b', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nDepends-On: b534089118f888455bb8f2eb0193f693f196c022\nDepends-On: 6836035a2dde5eb7f41ff0191b637d259b58d8cb\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 10, 'created': '2019-02-11 17:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3f1d1fdf225051391faa9f39938a4d5eba95dcec', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 11, 'created': '2019-02-17 23:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/07fbde45712d8cb5ca2c30bfade490da343168c6', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 12, 'created': '2019-02-18 17:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/166fd55495dad5378b5988c899e1cfd244069324', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 13, 'created': '2019-02-18 21:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e45bfd34042e094d85eb71fd454dc44857f0e8ec', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 14, 'created': '2019-02-19 15:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fbd64dc01fb5612442683f6f9d79637b84084c53', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 15, 'created': '2019-02-19 19:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/57ab67a8c384c06361c5ee8b4bd23dc45000126a', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 16, 'created': '2019-02-21 17:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8604ef1eca952441322a9e60432d18afe42b8e48', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 17, 'created': '2019-02-22 14:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9cf24f7e92b62638eedbb49ddf2d7f11e02143df', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 18, 'created': '2019-02-25 15:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3807c8bc349d8742083a4da33fed9c43375093ed', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 19, 'created': '2019-03-07 14:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/af5af14698e2c118665616fbd112e1be8b98673d', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 20, 'created': '2019-03-08 02:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b8e09cdddb1ba3b2bbb2c35ef2c090644b946508', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 21, 'created': '2019-03-08 18:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b0213a104ec7f2f5caf0596c99d5f89b94c9a72f', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 22, 'created': '2019-03-11 21:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0450bc00aab247d546f9a3f4c376c115b0c8dfe3', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 23, 'created': '2019-03-11 21:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6affb479ba5905d2a3bd47b3e02285173533ded6', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 24, 'created': '2019-03-11 21:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7adcb85cd6b01c21b90a0e43fcc2c481a93ba462', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 25, 'created': '2019-03-12 17:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2906072c1667343c40ab034cafda4fcc70282c66', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 26, 'created': '2019-03-12 20:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3040069640ae700fe06245d3f2c7702ffb60f639', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 27, 'created': '2019-03-12 20:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cbcd63c049a4d9e9f8f3a8180595ae55633b179b', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nbp wsgi-web-servers-support\n\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 28, 'created': '2019-03-13 23:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/270211ea76ec57f3d362f19358ec752b1bd005f1', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nImplements: bp wsgi-web-servers-support\nDepends-On: https://review.openstack.org/#/c/643188/\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}, {'number': 29, 'created': '2019-03-14 06:25:24.000000000', 'files': ['contrib/ci/pre_test_hook.sh', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/bd4673100b052e3720a242ff19f5c3d71170f793', 'message': 'Deploy manila with uwsgi on devstack\n\nSwitch manila to use devstack common functions\nfor deploying a wsgi app under uwsgi and apache.\n\nThis change aims to fulfill the community requirement\nfor all projects on OpenStack to switch devstack jobs\nto deploy control-plane API services under uwsgi with\nApache acting as a front end proxy.\n\nMore details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\n\nWe used to deploy with mod_wsgi, but mod_wsgi has many\nissues when being used in devstack for development or testing.\n\nNow we leave mod_wsgi as optional and we default to uwsgi.\n\nImplements: bp wsgi-web-servers-support\nDepends-On: https://review.openstack.org/#/c/643188/\nChange-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96\n'}]",42,631338,bd4673100b052e3720a242ff19f5c3d71170f793,232,18,29,6413,,,0,"Deploy manila with uwsgi on devstack

Switch manila to use devstack common functions
for deploying a wsgi app under uwsgi and apache.

This change aims to fulfill the community requirement
for all projects on OpenStack to switch devstack jobs
to deploy control-plane API services under uwsgi with
Apache acting as a front end proxy.

More details in https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html

We used to deploy with mod_wsgi, but mod_wsgi has many
issues when being used in devstack for development or testing.

Now we leave mod_wsgi as optional and we default to uwsgi.

Implements: bp wsgi-web-servers-support
Depends-On: https://review.openstack.org/#/c/643188/
Change-Id: I12d4c864f2ceb0f3555e32d2dc893e00dbef0d96
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/631338/20 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,fbedddbe2eed4fa081cba5fe1ec7fcba03df1e92,bp/wsgi-web-servers-support,"# that should be assigned to default share group type. Both - qualified and # unqualified specs are supported. Pairs are separated by spaces, value is # assigned to key using sign of equality. Examples:# MANILA_DEFAULT_SHARE_GROUP_TYPE_SPECS='foo=bar quuz=xyzzy # fakeprefix:baz=waldo'if [[ -d $MANILA_DIR/bin ]]; then MANILA_BIN_DIR=$MANILA_DIR/bin else MANILA_BIN_DIR=$(get_python_exec_prefix) fi# Following env var defines whether to apply downgrade migrations setting up DB # or not. If it is set to False, then only 'upgrade' migrations will be # applied. If it is set to True, then will be applied 'upgrade', 'downgrade' # and 'upgrade' migrations again.# Toggle for deploying manila-api service under Apache web server with enabled # 'mod_wsgi' plugin. Disabled by default, which means running manila-api # service as standalone eventlet-based WSGI application. Set it as True, # because starting with Pike it is requirement from 'governance' project. See:# Toggle for deploying manila-api service with uWSGI MANILA_USE_UWSGI=${MANILA_USE_UWSGI:-True} MANILA_WSGI=$MANILA_BIN_DIR/manila-wsgi-api MANILA_UWSGI_CONF=$MANILA_BIN_DIR/manila-uwsgi.ini ","# that should be assigned to default share group type. Both - qualified and unqualified specs are supported. # Pairs are separated by spaces, value is assigned to key using sign of equality. Examples:# MANILA_DEFAULT_SHARE_GROUP_TYPE_SPECS='foo=bar quuz=xyzzy fakeprefix:baz=waldo'if [[ -d $MANILA_DIR/bin ]]; then MANILA_BIN_DIR=$MANILA_DIR/bin else MANILA_BIN_DIR=$(get_python_exec_prefix) fi# Following env var defines whether to apply downgrade migrations setting up DB or not. # If it is set to False, then only 'upgrade' migrations will be applied. # If it is set to True, then will be applied 'upgrade', 'downgrade' and 'upgrade' # migrations again.# Toggle for deploying manila-api service under Apache web server with enabled 'mod_wsgi' plugin. # Disabled by default, which means running manila-api service as standalone # eventlet-based WSGI application. # Set it as True, because starting with Pike it is requirement from # 'governance' project. See:",53,26
openstack%2Fmanila~master~I50d1024ee8485b8290c24fa850e60755b518fff3,openstack/manila,master,I50d1024ee8485b8290c24fa850e60755b518fff3,Fix API version inferred w/ un-versioned URLs,MERGED,2019-03-13 23:51:15.000000000,2019-03-14 18:50:33.000000000,2019-03-14 18:50:33.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-03-13 23:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d7d6cbb4e226f585e051c7139ccd9e4032fc570b', 'message': 'Fix API version inferred w/ un-versioned URLs\n\nWith [1], we fixed the issue with v1 API URLs when\nconfiguring manila with a reverse proxy, like uwsgi.\nHowever, the version discovery can be made against a\n""unversioned"" URL, i.e, the ""/"" endpoint.\n\nExample version discovery target when there\'s no reverse\nproxy:\n\n   curl -i -X GET www.openstack-overcloud.com:8786/\n\nExample version discovery target when manila is configured\nwith a web proxy:\n\n   curl -i -X GET www.openstack-overcloud.com/shared-file-system/\n\nCurrently, the API assumes that a v2 endpoint is requested\nand hence sets a default API version in the request, which\nresults in the wrong headers communicated to the client.\n\nFix this issue. The release note added with [1] should\nsuffice for this fix.\n\nChange-Id: I50d1024ee8485b8290c24fa850e60755b518fff3\nCloses-Bug: #1818081\n'}, {'number': 2, 'created': '2019-03-14 00:42:15.000000000', 'files': ['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml\t\t\t', 'manila/tests/api/openstack/test_wsgi.py', 'manila/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4b0c953f7fe7afbbbece8db7edce8efe69fb4387', 'message': 'Fix API version inferred w/ un-versioned URLs\n\nWith [1], we fixed the issue with v1 API URLs when\nconfiguring manila with a reverse proxy, like uwsgi.\nHowever, the version discovery can be made against a\n""unversioned"" URL, i.e, the ""/"" endpoint.\n\nExample version discovery target when there\'s no reverse\nproxy:\n\n   curl -i -X GET www.openstack-overcloud.com:8786/\n\nExample version discovery target when manila is configured\nwith a web proxy:\n\n   curl -i -X GET www.openstack-overcloud.com/shared-file-system/\n\nCurrently, the API assumes that a v2 endpoint is requested\nand hence sets a default API version in the request, which\nresults in the wrong headers communicated to the client.\n\nFix this issue. The release note added with [1] should\nsuffice for this fix.\n\n[1] I0363d7174f3d7ddefa8ced59b182faed665e9c36\nChange-Id: I50d1024ee8485b8290c24fa850e60755b518fff3\nCloses-Bug: #1818081\n'}]",0,643188,4b0c953f7fe7afbbbece8db7edce8efe69fb4387,17,13,2,16643,,,0,"Fix API version inferred w/ un-versioned URLs

With [1], we fixed the issue with v1 API URLs when
configuring manila with a reverse proxy, like uwsgi.
However, the version discovery can be made against a
""unversioned"" URL, i.e, the ""/"" endpoint.

Example version discovery target when there's no reverse
proxy:

   curl -i -X GET www.openstack-overcloud.com:8786/

Example version discovery target when manila is configured
with a web proxy:

   curl -i -X GET www.openstack-overcloud.com/shared-file-system/

Currently, the API assumes that a v2 endpoint is requested
and hence sets a default API version in the request, which
results in the wrong headers communicated to the client.

Fix this issue. The release note added with [1] should
suffice for this fix.

[1] I0363d7174f3d7ddefa8ced59b182faed665e9c36
Change-Id: I50d1024ee8485b8290c24fa850e60755b518fff3
Closes-Bug: #1818081
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/643188/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/openstack/test_wsgi.py', 'manila/api/openstack/wsgi.py']",2,d7d6cbb4e226f585e051c7139ccd9e4032fc570b,bug/1818081,V2_SCRIPT_NAME = '/v2' if not self.script_name or not (V1_SCRIPT_NAME in self.script_name or V2_SCRIPT_NAME in self.script_name): # The request is on the base URL without a major version specified, if not self.script_name:,5,2
openstack%2Fcharm-openstack-dashboard~master~I6960e6860cdaf6f7c293558aadea557a227357dc,openstack/charm-openstack-dashboard,master,I6960e6860cdaf6f7c293558aadea557a227357dc,Sync charm helpers for NoNetworkBinding fix,MERGED,2019-03-13 18:52:33.000000000,2019-03-14 18:46:31.000000000,2019-03-14 18:46:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-03-13 18:52:33.000000000', 'files': ['charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/cli/unitdata.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f80b94b9a39204d029cd78f0de212dbbb83a074d', 'message': 'Sync charm helpers for NoNetworkBinding fix\n\nPlease review and merge CH change first:\nhttps://github.com/juju/charm-helpers/pull/298\n\nChange-Id: I6960e6860cdaf6f7c293558aadea557a227357dc\n'}]",0,643138,f80b94b9a39204d029cd78f0de212dbbb83a074d,13,4,1,20805,,,0,"Sync charm helpers for NoNetworkBinding fix

Please review and merge CH change first:
https://github.com/juju/charm-helpers/pull/298

Change-Id: I6960e6860cdaf6f7c293558aadea557a227357dc
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/38/643138/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/cli/unitdata.py']",7,f80b94b9a39204d029cd78f0de212dbbb83a074d,ch-sync-for-no-network-binding," getrange_cmd = nested.add_parser('getrange', help='Retrieve multiple data') getrange_cmd.add_argument('key', metavar='prefix', help='Prefix of the keys to retrieve') getrange_cmd.set_defaults(action='getrange', value=None) elif action == 'getrange': return unitdata.kv().getrange(key)",,71,14
openstack%2Fpython-saharaclient~stable%2Fpike~I3b0a4c0c26f96a901c8df215a8abc8bd73278c12,openstack/python-saharaclient,stable/pike,I3b0a4c0c26f96a901c8df215a8abc8bd73278c12,Explicitly use venv-py2 to run sahara-scenario,MERGED,2019-03-14 16:10:17.000000000,2019-03-14 18:23:51.000000000,2019-03-14 18:23:51.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 16:10:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/e6589628165546df850ac290f74fd2680fc2b5ee', 'message': 'Explicitly use venv-py2 to run sahara-scenario\n\nThis patch is required only on the stable branches, because\nmaster will end up using Python 3 to execute sahara-scenario.\nIt ensures that sahara-scenario will always be executed using\nPython 2 on this branch.\n\nDepends-On: https://review.openstack.org/608211\nChange-Id: I3b0a4c0c26f96a901c8df215a8abc8bd73278c12\n(cherry picked from commit 83d94f0a10dbb30d3de8c37de7b09ac009202cc9)\n'}]",0,643386,e6589628165546df850ac290f74fd2680fc2b5ee,6,2,1,10459,,,0,"Explicitly use venv-py2 to run sahara-scenario

This patch is required only on the stable branches, because
master will end up using Python 3 to execute sahara-scenario.
It ensures that sahara-scenario will always be executed using
Python 2 on this branch.

Depends-On: https://review.openstack.org/608211
Change-Id: I3b0a4c0c26f96a901c8df215a8abc8bd73278c12
(cherry picked from commit 83d94f0a10dbb30d3de8c37de7b09ac009202cc9)
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/86/643386/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e6589628165546df850ac290f74fd2680fc2b5ee,, sahara_scenario_tox_env: venv-py2,,1,0
openstack%2Fdevstack~master~Id133108e0436018be81fca74a15ff29a4fe2e796,openstack/devstack,master,Id133108e0436018be81fca74a15ff29a4fe2e796,Fixed git show for upper-constraints.txt in lib/tempest,MERGED,2018-08-29 13:43:17.000000000,2019-03-14 18:12:19.000000000,2018-09-04 07:29:49.000000000,"[{'_account_id': 1653}, {'_account_id': 2245}, {'_account_id': 6637}, {'_account_id': 7118}, {'_account_id': 8213}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 14595}, {'_account_id': 14807}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-29 13:43:17.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6465219ec39ea3ec75e796b3bd80b96550470546', 'message': 'Fixed git show for upper-constraints.txt in lib/tempest\n\nChange-Id: Id133108e0436018be81fca74a15ff29a4fe2e796\nCloses-Bug: #1789643\n'}]",0,597524,6465219ec39ea3ec75e796b3bd80b96550470546,15,12,1,14807,,,0,"Fixed git show for upper-constraints.txt in lib/tempest

Change-Id: Id133108e0436018be81fca74a15ff29a4fe2e796
Closes-Bug: #1789643
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/597524/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,6465219ec39ea3ec75e796b3bd80b96550470546,bug/1789643, (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > u-c-m.txt,1,1
openstack%2Ftripleo-quickstart-extras~master~I22f2ec00109337fa6f0d2a98868a56abd950d733,openstack/tripleo-quickstart-extras,master,I22f2ec00109337fa6f0d2a98868a56abd950d733,Improve warning message on docker group issue,MERGED,2019-03-07 21:23:47.000000000,2019-03-14 18:07:47.000000000,2019-03-14 18:07:47.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-07 21:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7b9932b45b1f1ea8acdbde46e76b885e4f228d0e', 'message': 'Improve warning message on docker group issue\n\nWhen running for the first time, user will be added to the docker\ngroup and the script will exit. Ask the user to re-run the script.\n\nDocker requires the user to log out and log in to refresh group\npermissions.\n\nChange-Id: I22f2ec00109337fa6f0d2a98868a56abd950d733\n'}, {'number': 2, 'created': '2019-03-08 12:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af74b5403a064cb362f1a47654c1deb11ec80c58', 'message': 'Improve warning message on docker group issue\n\nWhen running for the first time, user will be added to the docker\ngroup and the script will exit. Ask the user to re-run the script.\n\nDocker requires the user to log out and log in to refresh group\npermissions.\n\nChange-Id: I22f2ec00109337fa6f0d2a98868a56abd950d733\n'}, {'number': 3, 'created': '2019-03-12 10:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be8dbf25afeee88118bfa990c949693873dbd367', 'message': 'Improve warning message on docker group issue\n\nWhen running for the first time, user will be added to the docker\ngroup and the script will exit. Ask the user to re-run the script.\n\nDocker requires the user to log out and log in to refresh group\npermissions.\n\nChange-Id: I22f2ec00109337fa6f0d2a98868a56abd950d733\n'}, {'number': 4, 'created': '2019-03-12 17:48:41.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f9ba72c7f3b31980fb6bb7aca1d9991e0f275bdc', 'message': 'Improve warning message on docker group issue\n\nWhen running for the first time, user will be added to the docker\ngroup and the script will exit. Ask the user to re-run the script.\n\nDocker requires the user to log out and log in to refresh group\npermissions.\n\nChange-Id: I22f2ec00109337fa6f0d2a98868a56abd950d733\n'}]",4,641808,f9ba72c7f3b31980fb6bb7aca1d9991e0f275bdc,29,12,4,8175,,,0,"Improve warning message on docker group issue

When running for the first time, user will be added to the docker
group and the script will exit. Ask the user to re-run the script.

Docker requires the user to log out and log in to refresh group
permissions.

Change-Id: I22f2ec00109337fa6f0d2a98868a56abd950d733
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/08/641808/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,7b9932b45b1f1ea8acdbde46e76b885e4f228d0e,reproducer," echo -e ""\e[31m WARNING: User $USER needs to log out/log in from shell \ session to refresh Docker group permissions. Please re-execute the script. \ More info: https://docs.docker.com/install/linux/linux-postinstall \e[0m"""," echo -e ""\e[31m WARNING: Add user immediately to the $DG group. \ Changing the user's groups will exit the script, please re-execute the script. \e[0m""",3,2
openstack%2Fopenstack-ansible-os_tempest~master~I62aa3eb48f779f45ff97cc5d449c7d9876752ac8,openstack/openstack-ansible-os_tempest,master,I62aa3eb48f779f45ff97cc5d449c7d9876752ac8,Fix tempest_image_dir default var to user's home tempest-image dir,MERGED,2019-03-04 12:13:46.000000000,2019-03-14 18:07:46.000000000,2019-03-14 18:07:45.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27379}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-04 12:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f92c948fbe3fa33eeb297aed04a503d80980ffa6', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}, {'number': 2, 'created': '2019-03-06 10:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cdc7e18b95658277c569907a71b651a5cd253bd1', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}, {'number': 3, 'created': '2019-03-06 10:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/148bdb04c5308cf5f35028bf53aeeabca5b44706', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nDepends-On: https://review.openstack.org/641304\nDepends-On: https://review.openstack.org/641308\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}, {'number': 4, 'created': '2019-03-12 11:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/18d08194a89c61bf134d5a0dd5473a3d54e868a2', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nDepends-On: https://review.openstack.org/641304\n\nDepends-On: https://review.openstack.org/641308\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}, {'number': 5, 'created': '2019-03-13 09:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a294eac3e170d4a5546160e4e48ba8cc95f83cd4', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nDepends-On: https://review.openstack.org/641304\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}, {'number': 6, 'created': '2019-03-14 07:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/8e7464a7546aac22f8b81bc9378019f7448ba0f4', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nDepends-On: https://review.openstack.org/641304\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}, {'number': 7, 'created': '2019-03-14 10:21:26.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b3e904e8f0415f9512fec9a4ae9a87c479c5a247', 'message': ""Fix tempest_image_dir default var to user's home tempest-image dir\n\nCurrently the tempest_image_dir default var points to\n/opt/cache/files, basically used in openstack infra ci and the\nnormal user does not have permission to create it. Moving it to\nansible user home/tempest-image makes it easier to access it.\n\nChange-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8\n""}]",5,640742,b3e904e8f0415f9512fec9a4ae9a87c479c5a247,31,10,7,12393,,,0,"Fix tempest_image_dir default var to user's home tempest-image dir

Currently the tempest_image_dir default var points to
/opt/cache/files, basically used in openstack infra ci and the
normal user does not have permission to create it. Moving it to
ansible user home/tempest-image makes it easier to access it.

Change-Id: I62aa3eb48f779f45ff97cc5d449c7d9876752ac8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/42/640742/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/os_tempest-overrides.yml', 'defaults/main.yml']",2,f92c948fbe3fa33eeb297aed04a503d80980ffa6,img_path,"tempest_image_dir: ""{{ lookup('env', 'HOME') }}/tempest-images""","tempest_image_dir: ""/opt/cache/files""",4,1
openstack%2Fironic~master~Ic964ec706349a74ff371d91b1d7203d942c81fb0,openstack/ironic,master,Ic964ec706349a74ff371d91b1d7203d942c81fb0,Allow methods to be both deploy and clean steps,MERGED,2019-03-13 11:38:55.000000000,2019-03-14 18:00:55.000000000,2019-03-13 19:55:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-03-13 11:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c080626b47b54f560721257040c4a213b3ab81e3', 'message': 'Allow methods to be both deploy and clean steps\n\nThis means we can add clean_step and deploy_step decorators to a driver\ninterface method.\n\nChange-Id: Ic964ec706349a74ff371d91b1d7203d942c81fb0\nStory: 2005223\nTask: 30005\n'}, {'number': 2, 'created': '2019-03-13 16:29:23.000000000', 'files': ['ironic/drivers/base.py', 'ironic/tests/unit/drivers/test_base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfc4a6f752899fcddbb357e09a02b4ed372bae1b', 'message': 'Allow methods to be both deploy and clean steps\n\nThis means we can add clean_step and deploy_step decorators to a driver\ninterface method.\n\nChange-Id: Ic964ec706349a74ff371d91b1d7203d942c81fb0\nStory: 2005223\nTask: 30005\n'}]",0,643012,cfc4a6f752899fcddbb357e09a02b4ed372bae1b,18,8,2,14826,,,0,"Allow methods to be both deploy and clean steps

This means we can add clean_step and deploy_step decorators to a driver
interface method.

Change-Id: Ic964ec706349a74ff371d91b1d7203d942c81fb0
Story: 2005223
Task: 30005
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/643012/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/base.py', 'ironic/tests/unit/drivers/test_base.py']",2,c080626b47b54f560721257040c4a213b3ab81e3,story/2005223,"class DeployStepDecoratorTestCase(base.TestCase): def setUp(self): super(DeployStepDecoratorTestCase, self).setUp() method_mock = mock.MagicMock() del method_mock._is_deploy_step del method_mock._deploy_step_priority del method_mock._deploy_step_argsinfo self.method = method_mock def test_deploy_step_priority_only(self): d = driver_base.deploy_step(priority=10) d(self.method) self.assertTrue(self.method._is_deploy_step) self.assertEqual(10, self.method._deploy_step_priority) self.assertIsNone(self.method._deploy_step_argsinfo) def test_deploy_step_all_args(self): argsinfo = {'arg1': {'description': 'desc1', 'required': True}} d = driver_base.deploy_step(priority=0, argsinfo=argsinfo) d(self.method) self.assertTrue(self.method._is_deploy_step) self.assertEqual(0, self.method._deploy_step_priority) self.assertEqual(argsinfo, self.method._deploy_step_argsinfo) def test_deploy_step_bad_priority(self): d = driver_base.deploy_step(priority='hi') self.assertRaisesRegex(exception.InvalidParameterValue, 'priority', d, self.method) self.assertTrue(self.method._is_deploy_step) self.assertFalse(hasattr(self.method, '_deploy_step_priority')) self.assertFalse(hasattr(self.method, '_deploy_step_argsinfo')) @mock.patch.object(driver_base, '_validate_argsinfo', spec_set=True, autospec=True) def test_deploy_step_bad_argsinfo(self, mock_valid): mock_valid.side_effect = exception.InvalidParameterValue('bad') d = driver_base.deploy_step(priority=0, argsinfo=100) self.assertRaises(exception.InvalidParameterValue, d, self.method) self.assertTrue(self.method._is_deploy_step) self.assertEqual(0, self.method._deploy_step_priority) self.assertFalse(hasattr(self.method, '_deploy_step_argsinfo')) class DeployAndCleanStepDecoratorTestCase(base.TestCase): def setUp(self): super(DeployAndCleanStepDecoratorTestCase, self).setUp() method_mock = mock.MagicMock() del method_mock._is_deploy_step del method_mock._deploy_step_priority del method_mock._deploy_step_argsinfo del method_mock._is_clean_step del method_mock._clean_step_priority del method_mock._clean_step_abortable del method_mock._clean_step_argsinfo self.method = method_mock def test_deploy_and_clean_step_priority_only(self): dd = driver_base.deploy_step(priority=10) dc = driver_base.clean_step(priority=11) dd(dc(self.method)) self.assertTrue(self.method._is_deploy_step) self.assertEqual(10, self.method._deploy_step_priority) self.assertIsNone(self.method._deploy_step_argsinfo) self.assertTrue(self.method._is_clean_step) self.assertEqual(11, self.method._clean_step_priority) self.assertFalse(self.method._clean_step_abortable) self.assertIsNone(self.method._clean_step_argsinfo) def test_deploy_and_clean_step_all_args(self): dargsinfo = {'arg1': {'description': 'desc1', 'required': True}} cargsinfo = {'arg2': {'description': 'desc2', 'required': False}} dd = driver_base.deploy_step(priority=0, argsinfo=dargsinfo) dc = driver_base.clean_step(priority=0, argsinfo=cargsinfo) dd(dc(self.method)) self.assertTrue(self.method._is_deploy_step) self.assertEqual(0, self.method._deploy_step_priority) self.assertEqual(dargsinfo, self.method._deploy_step_argsinfo) self.assertTrue(self.method._is_clean_step) self.assertEqual(0, self.method._clean_step_priority) self.assertFalse(self.method._clean_step_abortable) self.assertEqual(cargsinfo, self.method._clean_step_argsinfo) def test_clean_and_deploy_step_all_args(self): # Opposite ordering, should make no difference. dargsinfo = {'arg1': {'description': 'desc1', 'required': True}} cargsinfo = {'arg2': {'description': 'desc2', 'required': False}} dd = driver_base.deploy_step(priority=0, argsinfo=dargsinfo) dc = driver_base.clean_step(priority=0, argsinfo=cargsinfo) dc(dd(self.method)) self.assertTrue(self.method._is_deploy_step) self.assertEqual(0, self.method._deploy_step_priority) self.assertEqual(dargsinfo, self.method._deploy_step_argsinfo) self.assertTrue(self.method._is_clean_step) self.assertEqual(0, self.method._clean_step_priority) self.assertFalse(self.method._clean_step_abortable) self.assertEqual(cargsinfo, self.method._clean_step_argsinfo) def create_configuration(self, task, create_root_volume=True, create_nonroot_volumes=True):"," def create_configuration(self, task):",109,2
openstack%2Fdesignate-tempest-plugin~master~I5c8160a1cd4a41c4931ab852d478753bb98f4b7d,openstack/designate-tempest-plugin,master,I5c8160a1cd4a41c4931ab852d478753bb98f4b7d,Properly quote TXT/SPF sample data,MERGED,2018-11-13 19:44:55.000000000,2019-03-14 17:51:12.000000000,2019-03-14 17:51:12.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 20104}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 19:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3eec49ee2a1866d254ddf6b313665c5f0432f626', 'message': 'Those are the changes for https://review.openstack.org/#/c/555398\n\n(Check TXT/SPF records for RFC1035 sec. 5.1.)\n\nAdds quotes and escape for quotes across the TXT/SPF data sets and tests.\n\nChange-Id: I5c8160a1cd4a41c4931ab852d478753bb98f4b7d\nCloses-Bug: 1755788\n'}, {'number': 2, 'created': '2018-11-13 20:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/6cc786f7b90a384d365df1c729a73821c106fc22', 'message': 'Those are the changes for https://review.openstack.org/#/c/555398\n\n(Check TXT/SPF records for RFC1035 sec. 5.1.)\n\nAdds quotes and escape for quotes across the TXT/SPF data sets and tests.\n\nChange-Id: I5c8160a1cd4a41c4931ab852d478753bb98f4b7d\nCloses-Bug: 1755788\n'}, {'number': 3, 'created': '2018-11-14 09:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8cd67379bdd9841d92b2edda9d507ea97dc9cbce', 'message': 'Those are the changes for https://review.openstack.org/#/c/555398\n\n(Check TXT/SPF records for RFC1035 sec. 5.1.)\n\nAdds quotes and escape for quotes across the TXT/SPF data sets and tests.\n\nChange-Id: I5c8160a1cd4a41c4931ab852d478753bb98f4b7d\nCloses-Bug: 1755788\n'}, {'number': 4, 'created': '2018-11-14 18:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8c76d8669ec2b3f73e01c183f1a889775f40e658', 'message': 'Those are the changes for https://review.openstack.org/#/c/555398\n\n(Check TXT/SPF records for RFC1035 sec. 5.1.)\n\nAdds quotes and escape for quotes across the TXT/SPF data sets and tests.\n\nChange-Id: I5c8160a1cd4a41c4931ab852d478753bb98f4b7d\nCloses-Bug: 1755788\n'}, {'number': 5, 'created': '2019-03-13 14:40:17.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/invalid_txt_dataset.json', 'designate_tempest_plugin/tests/api/v2/valid_txt_dataset.json', 'designate_tempest_plugin/tests/api/v2/recordset_wildcard_data.json', 'designate_tempest_plugin/tests/api/v2/test_recordset_validation.py', 'designate_tempest_plugin/tests/api/v2/recordset_data.json', 'designate_tempest_plugin/data_utils.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9a0a360be06e06a7f2d08ab5c28ccdb5dd9dfc87', 'message': 'Properly quote TXT/SPF sample data\n\n(Check TXT/SPF records for RFC1035 sec. 5.1.)\n\nAdds quotes and escape for quotes across the TXT/SPF data sets and tests.\n\nNeeded-By: https://review.openstack.org/#/c/555398\nChange-Id: I5c8160a1cd4a41c4931ab852d478753bb98f4b7d\nCloses-Bug: 1755788\n'}]",1,617809,9a0a360be06e06a7f2d08ab5c28ccdb5dd9dfc87,19,4,5,20104,,,0,"Properly quote TXT/SPF sample data

(Check TXT/SPF records for RFC1035 sec. 5.1.)

Adds quotes and escape for quotes across the TXT/SPF data sets and tests.

Needed-By: https://review.openstack.org/#/c/555398
Change-Id: I5c8160a1cd4a41c4931ab852d478753bb98f4b7d
Closes-Bug: 1755788
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/09/617809/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/invalid_txt_dataset.json', 'designate_tempest_plugin/tests/api/v2/valid_txt_dataset.json', 'designate_tempest_plugin/tests/api/v2/recordset_wildcard_data.json', 'designate_tempest_plugin/tests/api/v2/recordset_data.json', 'designate_tempest_plugin/data_utils.py']",5,3eec49ee2a1866d254ddf6b313665c5f0432f626,bug/1755788," data = data or '""v=spf1 +all""' data = data or '""v=spf1 +all""'"," data = data or ""v=spf1 +all"" data = data or ""v=spf1 +all""",11,11
openstack%2Fironic-inspector~stable%2Frocky~I7d57556ff00cf29aee6f1591dcb924086099c7d5,openstack/ironic-inspector,stable/rocky,I7d57556ff00cf29aee6f1591dcb924086099c7d5,Use getaddrinfo instead of gethostbyname while resolving BMC address,MERGED,2019-03-11 20:35:53.000000000,2019-03-14 17:51:10.000000000,2019-03-14 15:39:34.000000000,"[{'_account_id': 8767}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-03-11 20:35:53.000000000', 'files': ['ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/plugins/discovery.py', 'releasenotes/notes/ipv6-bmc-address-start-inspection-7a72794f25eb9f19.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/40abe1b58c5c3fffeee6bb430ee885afb62addea', 'message': ""Use getaddrinfo instead of gethostbyname while resolving BMC address\n\n* According to python docs 'gethostbyname() does not support IPv6 name resolution'\n  Changing it to socket.getaddrinfo.\n* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n(cherry picked from commit 771f2d396b23510364cfb05582175d44cf3b44e6)\n""}]",0,642560,40abe1b58c5c3fffeee6bb430ee885afb62addea,12,7,1,21909,,,0,"Use getaddrinfo instead of gethostbyname while resolving BMC address

* According to python docs 'gethostbyname() does not support IPv6 name resolution'
  Changing it to socket.getaddrinfo.
* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)

Change-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5
Story: #2004648
Task: #28601
(cherry picked from commit 771f2d396b23510364cfb05582175d44cf3b44e6)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/60/642560/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/plugins/discovery.py', 'releasenotes/notes/ipv6-bmc-address-start-inspection-7a72794f25eb9f19.yaml', 'ironic_inspector/common/ironic.py']",5,40abe1b58c5c3fffeee6bb430ee885afb62addea,inspector-ipv6-bmc-address-stable/rocky," """"""Get the BMC address defined in node.driver_info dictionary Possible names of BMC address value examined in order of list ['ipmi_address'] + CONF.ipmi_address_fields. The value could be an IP address or a hostname. DNS lookup performed for the first non empty value. The first valid BMC address value returned along with it's v4 and v6 IP addresses. :param node: Node object with defined driver_info dictionary :return: tuple (ipmi_address, ipv4_address, ipv6_address) """""" none_address = None, None, None return none_address ipv4 = None ipv6 = None try: addrinfo = socket.getaddrinfo(value, None, 0, 0, socket.SOL_TCP) for family, socket_type, proto, canon_name, sockaddr in addrinfo: ip = sockaddr[0] if netaddr.IPAddress(ip).is_loopback(): LOG.warning('Ignoring loopback BMC address %s', ip, node_info=node) elif family == socket.AF_INET: ipv4 = ip elif family == socket.AF_INET6: ipv6 = ip return (value, ipv4, ipv6) if ipv4 or ipv6 else none_address return none_address"," return try: ip = socket.gethostbyname(value) if netaddr.IPAddress(ip).is_loopback(): LOG.warning('Ignoring loopback BMC address %s', ip, node_info=node) ip = None return ip",73,27
openstack%2Fneutron-lib~master~I4096a9884aec25758438c2f7bd8df212eec20796,openstack/neutron-lib,master,I4096a9884aec25758438c2f7bd8df212eec20796,Allow filtering/sorting by the 'mtu' field,MERGED,2019-03-12 21:46:04.000000000,2019-03-14 17:43:13.000000000,2019-03-14 17:43:12.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 17120}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-12 21:46:04.000000000', 'files': ['neutron_lib/api/definitions/network_mtu_writable.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/31bad8c63742b92d900546df741b086a229a0db7', 'message': ""Allow filtering/sorting by the 'mtu' field\n\nChange-Id: I4096a9884aec25758438c2f7bd8df212eec20796\nCloses-Bug: #1818317\n""}]",0,642900,31bad8c63742b92d900546df741b086a229a0db7,12,8,1,27654,,,0,"Allow filtering/sorting by the 'mtu' field

Change-Id: I4096a9884aec25758438c2f7bd8df212eec20796
Closes-Bug: #1818317
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/00/642900/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/network_mtu_writable.py'],1,31bad8c63742b92d900546df741b086a229a0db7,bug/1818317," 'is_filter': True, 'is_sort_key': True,",,1,0
openstack%2Fmanila~master~I2a136f84e7d5d5be8a23830c0b334dc609092004,openstack/manila,master,I2a136f84e7d5d5be8a23830c0b334dc609092004,Use legacy base to run CI/CD on Bionic,MERGED,2019-02-25 15:50:43.000000000,2019-03-14 17:35:12.000000000,2019-03-14 16:04:02.000000000,"[{'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-02-25 15:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/661a27113d3f41c0edbec347a0379cb7b769b859', 'message': 'DNM: Test running all CI/CD on Bionic\n\nNull change that depends on change to run bionic nodeset on\nlegacy-dsvm-base.\n\nChange-Id: I2a136f84e7d5d5be8a23830c0b334dc609092004\nDepends-on: https://review.openstack.org/#/c/630961/\n'}, {'number': 2, 'created': '2019-02-25 20:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/185aa58073d5cd0df1152700af3df0caa697af4e', 'message': 'DNM: Test running all CI/CD on Bionic\n\nNull change that depends on change to run bionic nodeset on\nlegacy-dsvm-base.\n\nChange-Id: I2a136f84e7d5d5be8a23830c0b334dc609092004\nDepends-on: https://review.openstack.org/#/c/639096/\n'}, {'number': 3, 'created': '2019-03-06 20:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2e6be80f048271cc123abdb671e1a7c70c2c5714', 'message': 'DNM: Test running all CI/CD on Bionic\n\nNull change that depends on change to run bionic nodeset on\nlegacy-dsvm-base.\n\nChange-Id: I2a136f84e7d5d5be8a23830c0b334dc609092004\nDepends-on: https://review.openstack.org/#/c/639096/\n'}, {'number': 4, 'created': '2019-03-08 10:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3611a68d3894252eef26f53c475b9e7ba1cb5377', 'message': 'DNM: Test running all CI/CD on Bionic\n\nNull change that depends on change to run bionic nodeset on\nlegacy-dsvm-base.\n\nChange-Id: I2a136f84e7d5d5be8a23830c0b334dc609092004\nDepends-on: https://review.openstack.org/#/c/639096/\n'}, {'number': 5, 'created': '2019-03-14 10:53:55.000000000', 'files': ['playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/post.yaml', '.zuul.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/post.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/post.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend-no-ss/post.yaml', 'playbooks/legacy/grenade-dsvm-manila/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/post.yaml', 'playbooks/legacy/rally-dsvm-manila-multibackend/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/e5e336f8343202a52c8158be4f04927d7745a37f', 'message': 'Use legacy base to run CI/CD on Bionic\n\nlegacy-dsvm-base now [1] runs with bionic nodeset so use it\ndirectly instead of overriding locally to use bionic.\n\n[1] https://review.openstack.org/#/c/639096/\n\nChange-Id: I2a136f84e7d5d5be8a23830c0b334dc609092004\n'}]",0,639140,e5e336f8343202a52c8158be4f04927d7745a37f,64,14,5,9003,,,0,"Use legacy base to run CI/CD on Bionic

legacy-dsvm-base now [1] runs with bionic nodeset so use it
directly instead of overriding locally to use bionic.

[1] https://review.openstack.org/#/c/639096/

Change-Id: I2a136f84e7d5d5be8a23830c0b334dc609092004
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/639140/5 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,661a27113d3f41c0edbec347a0379cb7b769b859,legacy-job-bionic-done,,,0,0
openstack%2Ffreezer-tempest-plugin~master~I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4,openstack/freezer-tempest-plugin,master,I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4,Migrate the xenial gate jobs to bionic,MERGED,2019-03-12 00:44:43.000000000,2019-03-14 17:33:29.000000000,2019-03-14 17:33:29.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-12 00:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/916918bbeef1ae0cc4b978598f48b8f478b71bce', 'message': 'DNM: Testing all legacy jobs on bionic\n\nDepends-On: https://review.openstack.org/#/c/641886/\nChange-Id: I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4\n'}, {'number': 2, 'created': '2019-03-12 00:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/c8a70d79d648a52ddeb8dbabd3b9c73c8bf35a2c', 'message': 'Migrate the xenial gate jobs to bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nBelow patch move the legacy base jobs to bionic which will move the derived jobs\nautomatically to bionic. These jobs are modified with branch variant so that they will use\nBionic node from stein onwards and xenial for all other stable branches\nuntil stable/rocky.\n- https://review.openstack.org/#/c/639096\n\nThis commit migrate the ubuntu based gate job to bionic by removing the\noverridden nodeset. parent job nodeset will work here.\n\nMore Details: \n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\nDepends-On: https://review.openstack.org/#/c/639096\nChange-Id: I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4\n'}, {'number': 3, 'created': '2019-03-14 00:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/7bcf13ca24fd41bace7a50cdf506985f04996041', 'message': 'Migrate the xenial gate jobs to bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nBelow patch move the legacy base jobs to bionic which will move the derived jobs\nautomatically to bionic. These jobs are modified with branch variant so that they will use\nBionic node from stein onwards and xenial for all other stable branches\nuntil stable/rocky.\n- https://review.openstack.org/#/c/639096\n\nThis commit migrate the ubuntu based gate job to bionic by removing the\noverridden nodeset. parent job nodeset will work here.\n\nMore Details: \n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\nDepends-On: https://review.openstack.org/#/c/639096\nChange-Id: I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4\n'}, {'number': 4, 'created': '2019-03-14 15:38:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/0f2b0e9a8424e50adca10fdfa64359f6df93c569', 'message': 'Migrate the xenial gate jobs to bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nBelow patch move the legacy base jobs to bionic which will move the derived jobs\nautomatically to bionic. These jobs are modified with branch variant so that they will use\nBionic node from stein onwards and xenial for all other stable branches\nuntil stable/rocky.\n- https://review.openstack.org/#/c/639096\n\nThis commit migrate the ubuntu based gate job to bionic by removing the\noverridden nodeset. parent job nodeset will work here.\n\nMore Details: \n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\nDepends-On: https://review.openstack.org/#/c/639096\nChange-Id: I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4\n'}]",0,642608,0f2b0e9a8424e50adca10fdfa64359f6df93c569,19,6,4,8556,,,0,"Migrate the xenial gate jobs to bionic

We have migrated the zuulv3 job to Bionic during Dec/Jan month.
 - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html
 - https://etherpad.openstack.org/p/devstack-bionic
But that effort does not move all gate job to Bionic as there are
large amount of jobs are still legacy jobs. All the legacy jobs still
use Xenial as nodeset.

As per the decided runtime for Stein, we need to test everything on openstack
CI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html

Below patch move the legacy base jobs to bionic which will move the derived jobs
automatically to bionic. These jobs are modified with branch variant so that they will use
Bionic node from stein onwards and xenial for all other stable branches
until stable/rocky.
- https://review.openstack.org/#/c/639096

This commit migrate the ubuntu based gate job to bionic by removing the
overridden nodeset. parent job nodeset will work here.

More Details: 
- https://etherpad.openstack.org/p/legacy-job-bionic
- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html
Depends-On: https://review.openstack.org/#/c/639096
Change-Id: I8ed1d446c17d086a491681c5f3da4a3dbaba7ee4
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/08/642608/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,916918bbeef1ae0cc4b978598f48b8f478b71bce,legacy-job-bionic,, nodeset: openstack-single-node-xenial,0,1
openstack%2Ffreezer-api~master~Idd8ee0c8d2540d40a855e10581f9f350f1adb069,openstack/freezer-api,master,Idd8ee0c8d2540d40a855e10581f9f350f1adb069,Make freezer-api-ubuntu as voting job again,MERGED,2019-03-14 15:57:33.000000000,2019-03-14 17:31:58.000000000,2019-03-14 17:31:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-14 15:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/9e227ab10c9c9a47a57fa1061f83bea360d485a8', 'message': ""Make freezer-api-ubuntu as voting job again\n\nfreezer-api-ubuntu job has been made n-v in legacy\njob migration work.\n- https://review.openstack.org/#/c/642607/\n\nNot issue has been fixed and it is working fine\n- https://review.openstack.org/#/c/643213/3\n\nLet's reenable it as voting and running on gate pipeline also.\n\nChange-Id: Idd8ee0c8d2540d40a855e10581f9f350f1adb069\n""}, {'number': 2, 'created': '2019-03-14 15:59:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/470fa7020af64a876f27d904a590ead02abe6958', 'message': ""Make freezer-api-ubuntu as voting job again\n\nfreezer-api-ubuntu job has been made n-v in legacy\njob migration work.\n- https://review.openstack.org/#/c/642607/\n\nNot issue has been fixed and it is working fine\n- https://review.openstack.org/#/c/643213/3\n\nLet's reenable it as voting and running on gate pipeline also.\n\nChange-Id: Idd8ee0c8d2540d40a855e10581f9f350f1adb069\n""}]",1,643380,470fa7020af64a876f27d904a590ead02abe6958,9,2,2,8556,,,0,"Make freezer-api-ubuntu as voting job again

freezer-api-ubuntu job has been made n-v in legacy
job migration work.
- https://review.openstack.org/#/c/642607/

Not issue has been fixed and it is working fine
- https://review.openstack.org/#/c/643213/3

Let's reenable it as voting and running on gate pipeline also.

Change-Id: Idd8ee0c8d2540d40a855e10581f9f350f1adb069
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/80/643380/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e227ab10c9c9a47a57fa1061f83bea360d485a8,enable-ubuntu-job, - freezer-api-ubuntu: - freezer-api-ubuntu, # making n-v till story#2005227 - freezer-api-ubuntu: voting: false # Commenting as this is n-v job till story#2005227 #- freezer-api-ubuntu,1,4
openstack%2Fdevstack-plugin-ceph~master~I520b3db106f72cddabfde4d71eee67607d7a4558,openstack/devstack-plugin-ceph,master,I520b3db106f72cddabfde4d71eee67607d7a4558,Enable multiattach tests in gate jobs,MERGED,2019-02-21 19:48:51.000000000,2019-03-14 17:30:30.000000000,2019-03-01 04:16:18.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-21 19:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2bf85e256d07d80472860f1beac9fe586923581a', 'message': 'Enable multiattach tests in gate jobs\n\nDepends-On: Ie3945427b54544a3b411c23bffdad1acb5e508e1\nChange-Id: I520b3db106f72cddabfde4d71eee67607d7a4558\n'}, {'number': 2, 'created': '2019-02-27 19:38:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b69c941d5ccafb7024027bfef4792014c9799c53', 'message': 'Enable multiattach tests in gate jobs\n\nDepends-On: Ie3945427b54544a3b411c23bffdad1acb5e508e1\nChange-Id: I520b3db106f72cddabfde4d71eee67607d7a4558\n'}]",0,638499,b69c941d5ccafb7024027bfef4792014c9799c53,13,4,2,9236,,,0,"Enable multiattach tests in gate jobs

Depends-On: Ie3945427b54544a3b411c23bffdad1acb5e508e1
Change-Id: I520b3db106f72cddabfde4d71eee67607d7a4558
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/99/638499/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2bf85e256d07d80472860f1beac9fe586923581a,,, ENABLE_VOLUME_MULTIATTACH: false ENABLE_VOLUME_MULTIATTACH: false,0,2
openstack%2Fmanila~master~I43692f5edca2f91951c6b136cb3b5aef9f7289d0,openstack/manila,master,I43692f5edca2f91951c6b136cb3b5aef9f7289d0,DNM - baseline run on master,ABANDONED,2019-02-16 11:30:45.000000000,2019-03-14 17:30:26.000000000,,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-02-16 11:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/483c044d7420fbd076ef67d009ea65b3873f4b27', 'message': 'DNM - baseline run on master\n\nChange-Id: I43692f5edca2f91951c6b136cb3b5aef9f7289d0\n'}, {'number': 2, 'created': '2019-02-19 11:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/50d67b7839563ef8fefe4871b802557aa9315ed6', 'message': 'DNM - baseline run on master\n\nChange-Id: I43692f5edca2f91951c6b136cb3b5aef9f7289d0\n'}, {'number': 3, 'created': '2019-02-19 14:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9f0defec2c1dea048bd3e2e85aafa182111e9f82', 'message': 'DNM - baseline run on master\n\nChange-Id: I43692f5edca2f91951c6b136cb3b5aef9f7289d0\n'}, {'number': 4, 'created': '2019-03-07 14:02:32.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/8032d775bb26c8f870a0890c940b0f780c42fc26', 'message': 'DNM - baseline run on master\n\nChange-Id: I43692f5edca2f91951c6b136cb3b5aef9f7289d0\n'}]",0,637376,8032d775bb26c8f870a0890c940b0f780c42fc26,30,11,4,9003,,,0,"DNM - baseline run on master

Change-Id: I43692f5edca2f91951c6b136cb3b5aef9f7289d0
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/637376/4 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,483c044d7420fbd076ef67d009ea65b3873f4b27,,,,0,0
openstack%2Fdevstack~master~I7efefead873037da4aaacbdc6284458bdaad0f6b,openstack/devstack,master,I7efefead873037da4aaacbdc6284458bdaad0f6b,Cinder: create target directory for targetcli-fb package,MERGED,2019-03-13 18:21:28.000000000,2019-03-14 17:23:46.000000000,2019-03-14 17:23:46.000000000,"[{'_account_id': 4523}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-03-13 18:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e6b7065b6312367d367cb0e0fa1cbdd2bc1018d3', 'message': ""Cinder: create target directory for targetcli-fb package\n\nWhile installing 'targetcli-fb' on bionic, a dependent package\n'python-rtslib-fb' requires (but doesn't create) /etc/target\nand fails[1] when this directory not found.\nThis patch creates the required directory.\n\n[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623\n\nChange-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b\n""}, {'number': 2, 'created': '2019-03-13 18:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7de3e92094b64f9503a6c8136e301f70bb8986a6', 'message': ""Cinder: create target directory for targetcli-fb package\n\nWhile installing 'targetcli-fb' on bionic, a dependent package\n'python-rtslib-fb' requires (but doesn't create) /etc/target\nand fails[1] when this directory not found.\nThis patch creates the required directory.\n\n[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623\n\nChange-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b\n""}, {'number': 3, 'created': '2019-03-13 23:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f371181198c5e9325886afe0d73c440b45b12fde', 'message': ""Cinder: create target directory for targetcli-fb package\n\nWhile installing 'targetcli-fb' on bionic, a dependent package\n'python-rtslib-fb' requires (but doesn't create) /etc/target\nand fails[1] when this directory not found.\nThis patch creates the required directory.\n\n[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623\n\nRelated-bug: #1819819\nChange-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b\n""}, {'number': 4, 'created': '2019-03-14 05:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/adf3c795c40f0f352be8558afade31b3e5d9d353', 'message': ""Cinder: create target directory for targetcli-fb package\n\nWhile installing 'targetcli-fb' on bionic, a dependent package\n'python-rtslib-fb' requires (but doesn't create) /etc/target\nand fails[1] when this directory not found.\nThis patch creates the required directory.\n\n[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623\n\nRelated-bug: #1819819\nChange-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b\n""}, {'number': 5, 'created': '2019-03-14 10:21:19.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f28c75f87abdda00dcfc2f673816728676313c95', 'message': ""Cinder: create target directory for targetcli-fb package\n\nWhile installing 'targetcli-fb' on bionic, a dependent package\n'python-rtslib-fb' requires (but doesn't create) /etc/target\nand fails[1] when this directory not found.\nThis patch creates the required directory.\n\n[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623\n\nRelated-bug: #1819819\nChange-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b\n""}]",4,643130,f28c75f87abdda00dcfc2f673816728676313c95,44,12,5,27615,,,0,"Cinder: create target directory for targetcli-fb package

While installing 'targetcli-fb' on bionic, a dependent package
'python-rtslib-fb' requires (but doesn't create) /etc/target
and fails[1] when this directory not found.
This patch creates the required directory.

[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623

Related-bug: #1819819
Change-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/643130/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,e6b7065b6312367d367cb0e0fa1cbdd2bc1018d3,legacy-job-bionic, sudo mkdir /etc/target install_package targetcli-fb, install_package targetcli-fb,2,1
openstack%2Freleases~master~I40fd38599b0851dd596f9669edd8d26ccedd8c2a,openstack/releases,master,I40fd38599b0851dd596f9669edd8d26ccedd8c2a,Reorder steps on RC1 week process,MERGED,2019-03-14 16:51:27.000000000,2019-03-14 17:17:15.000000000,2019-03-14 17:17:15.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 16:51:27.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/038e855fb12d3ccea80867346bb40cb77a93fa56', 'message': 'Reorder steps on RC1 week process\n\nFor RC1 week the steps are roughly in chronological order.\nIn order to get cycle-highlights in time for the deadline,\nmove that point up.\n\nChange-Id: I40fd38599b0851dd596f9669edd8d26ccedd8c2a\n'}]",0,643398,038e855fb12d3ccea80867346bb40cb77a93fa56,7,3,1,308,,,0,"Reorder steps on RC1 week process

For RC1 week the steps are roughly in chronological order.
In order to get cycle-highlights in time for the deadline,
move that point up.

Change-Id: I40fd38599b0851dd596f9669edd8d26ccedd8c2a
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/643398/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,038e855fb12d3ccea80867346bb40cb77a93fa56,update-process-2,#. Email openstack-discuss list to remind PTLs that cycle-highlights are due this week so that they can be included in release marketing preparations. ,#. Email openstack-discuss list to remind PTLs that cycle-highlights are due this week so that they can be included in release marketing preparations. ,3,3
openstack%2Fpuppet-tripleo~stable%2Fqueens~I55fa09481413634027348245b035012d890ccd21,openstack/puppet-tripleo,stable/queens,I55fa09481413634027348245b035012d890ccd21,DNM - baseline run on stable/queens,ABANDONED,2019-03-01 15:39:53.000000000,2019-03-14 17:14:16.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-01 15:39:53.000000000', 'files': ['DNM', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/991dfbeb40dcac8a7071b9f9244a136299fbf8ea', 'message': 'DNM - baseline run on stable/queens\n\nfor comparison with https://review.openstack.org/#/c/640203/\n\nChange-Id: I55fa09481413634027348245b035012d890ccd21\n'}]",0,640403,991dfbeb40dcac8a7071b9f9244a136299fbf8ea,7,3,1,9003,,,0,"DNM - baseline run on stable/queens

for comparison with https://review.openstack.org/#/c/640203/

Change-Id: I55fa09481413634027348245b035012d890ccd21
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/640403/1 && git format-patch -1 --stdout FETCH_HEAD,"['DNM', 'zuul.d/layout.yaml']",2,991dfbeb40dcac8a7071b9f9244a136299fbf8ea,,, - puppet-openstack-lint - puppet-openstack-syntax-4 - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/barbican.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/nova/ec2.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - ^manifests/profile/(base|pacemaker)/swift.*$ - ^manifests/profile/(base|pacemaker)/zaqar.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/mistral.*$ - ^manifests/profile/(base|pacemaker)/sahara.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/manila.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^manifests/profile/pacemaker/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/agents/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/ovn.*$ - ^manifests/profile/(base|pacemaker)/congress.*$ - ^manifests/profile/(base|pacemaker)/tacker.*$ - tripleo-ci-centos-7-scenario008-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/neutron/ml2.pp$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/opendaylight.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ovs/opendaylight.*$ - ^manifests/profile/(base|pacemaker)/neutron/opendaylight.*$ - ^lib/puppet/functions/.*odl.*$,0,69
openstack%2Fironic-inspector~master~I7d57556ff00cf29aee6f1591dcb924086099c7d5,openstack/ironic-inspector,master,I7d57556ff00cf29aee6f1591dcb924086099c7d5,Use getaddrinfo instead of gethostbyname while resolving BMC address,MERGED,2018-12-20 11:17:04.000000000,2019-03-14 17:11:50.000000000,2019-03-07 19:54:17.000000000,"[{'_account_id': 6620}, {'_account_id': 8767}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-12-20 11:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/99cfcb7e6eba548d6cef0af3cbbf54dbf90acdb9', 'message': ""Use getaddrinfo instead of gethostbyname\n\nAccording to python docs 'gethostbyname() does not support IPv6 name resolution'\nChanging it to socket.getaddrinfo\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\n""}, {'number': 2, 'created': '2018-12-20 12:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/24753866f0dd89174e60dd44af9955b459bc0fed', 'message': ""Use getaddrinfo instead of gethostbyname\n\nAccording to python docs 'gethostbyname() does not support IPv6 name resolution'\nChanging it to socket.getaddrinfo\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n""}, {'number': 3, 'created': '2019-01-24 11:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7ba9ba387e6692b61371f2f38a1d2afe821c496b', 'message': 'Remove the host resolution in get_ipmi_address\n\nHostname is not used as ipmi_address\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n'}, {'number': 4, 'created': '2019-01-24 19:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b7825a7279d4b4841be8b3829edd8ac472a0207e', 'message': 'Remove the host resolution in get_ipmi_address\n\nHostname is not used as ipmi_address\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n'}, {'number': 5, 'created': '2019-01-30 06:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3acdba453987f2afc08c6e49a8651900982f6ff4', 'message': 'Remove the host resolution in get_ipmi_address\n\nHostname is not used as ipmi_address\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n'}, {'number': 6, 'created': '2019-01-30 10:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3e8508fdb804183af9cd0ddf10a9e4237db422d4', 'message': 'Remove the host resolution in get_ipmi_address\n\nHostname is not used as ipmi_address\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n'}, {'number': 7, 'created': '2019-02-04 12:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2eca410680211353d29c81db47cfb0a285ecec0f', 'message': 'Remove the host resolution in get_ipmi_address\n\nHostname is not used as ipmi_address\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n'}, {'number': 8, 'created': '2019-03-04 12:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/22cfdb95870975a27216d42ca91642d8785cc079', 'message': ""Use getaddrinfo instead of gethostbyname while resolving BMC address\n\n* According to python docs 'gethostbyname() does not support IPv6 name resolution'\n  Changing it to socket.getaddrinfo.\n* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n""}, {'number': 9, 'created': '2019-03-04 15:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4f94aea0daace1f5f2fa56489d1e7c1cc37b45dc', 'message': ""Use getaddrinfo instead of gethostbyname while resolving BMC address\n\n* According to python docs 'gethostbyname() does not support IPv6 name resolution'\n  Changing it to socket.getaddrinfo.\n* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n""}, {'number': 10, 'created': '2019-03-05 07:10:47.000000000', 'files': ['ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/plugins/discovery.py', 'releasenotes/notes/ipv6-bmc-address-start-inspection-7a72794f25eb9f19.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/771f2d396b23510364cfb05582175d44cf3b44e6', 'message': ""Use getaddrinfo instead of gethostbyname while resolving BMC address\n\n* According to python docs 'gethostbyname() does not support IPv6 name resolution'\n  Changing it to socket.getaddrinfo.\n* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)\n\nChange-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5\nStory: #2004648\nTask: #28601\n""}]",33,626552,771f2d396b23510364cfb05582175d44cf3b44e6,55,8,10,8767,,,0,"Use getaddrinfo instead of gethostbyname while resolving BMC address

* According to python docs 'gethostbyname() does not support IPv6 name resolution'
  Changing it to socket.getaddrinfo.
* get_ipmi_address method returns tuple (<BMC Address>, ipv4, ipv6)

Change-Id: I7d57556ff00cf29aee6f1591dcb924086099c7d5
Story: #2004648
Task: #28601
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/52/626552/9 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/common/ironic.py'],1,99cfcb7e6eba548d6cef0af3cbbf54dbf90acdb9,inspector-ipv6-bmc-address," addrinfo = socket.getaddrinfo(value, None, 0, 0, socket.SOL_TCP) ips = [] for family, _, _, _, sockaddr in addrinfo: if family == socket.AF_INET: ips.insert(0, sockaddr[0]) elif family == socket.AF_INET6: ips.append(sockaddr[0]) # NOTE(nfedotov): Is IPv4 more preferable? ip = ips[0]", ip = socket.gethostbyname(value),9,1
openstack%2Fnetworking-odl~master~If55740b900de420beb5456e1a1c54c0659cac7d5,openstack/networking-odl,master,If55740b900de420beb5456e1a1c54c0659cac7d5,"Fix the misspelling of ""available""",MERGED,2019-01-22 05:41:09.000000000,2019-03-14 17:10:25.000000000,2019-03-14 17:10:25.000000000,"[{'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 05:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/56cc91beb24359486f26b94fa9e977898742c873', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: If55740b900de420beb5456e1a1c54c0659cac7d5\n'}, {'number': 2, 'created': '2019-03-14 08:17:56.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5a2e4708382b5c1fd0db164ffcd3eacbd0550333', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: If55740b900de420beb5456e1a1c54c0659cac7d5\n'}]",0,632222,5a2e4708382b5c1fd0db164ffcd3eacbd0550333,8,2,2,29721,,,0,"Fix the misspelling of ""available""

Change-Id: If55740b900de420beb5456e1a1c54c0659cac7d5
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/22/632222/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,56cc91beb24359486f26b94fa9e977898742c873,," # required files available with neutron only. For now, lib/neutron-legacy to"," # required files avaialble with neutron only. For now, lib/neutron-legacy to",1,1
openstack%2Fironic-lib~master~I9134b4cfdf15ba9610b4d1f844e64858d69713a5,openstack/ironic-lib,master,I9134b4cfdf15ba9610b4d1f844e64858d69713a5,Add wait_for_disk to destroy_disk_metadata function,MERGED,2017-12-20 14:04:43.000000000,2019-03-14 17:10:21.000000000,2018-01-17 22:09:47.000000000,"[{'_account_id': 6618}, {'_account_id': 6620}, {'_account_id': 8767}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14760}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-20 14:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/2aff46ab0af24e5e698f2f436e3f5056d439ff11', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the _wait_for_disk_to_become_available at the\n  of destroy_disk_metadata to be sure nothing\n  is using disk (metadata has been destroyed).\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 2, 'created': '2018-01-08 18:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/cd3e0d8d24f72586e7d71d1d963fd4bd4eccf4cb', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the _wait_for_disk_to_become_available at the\n  of destroy_disk_metadata to be sure nothing\n  is using disk (metadata has been destroyed).\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 3, 'created': '2018-01-10 23:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/5cb8a2a1c939c42b9ae6cebfca0132350c496d60', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the _wait_for_disk_to_become_available at the\n  of destroy_disk_metadata to be sure nothing\n  is using disk (metadata has been destroyed).\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 4, 'created': '2018-01-12 22:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/09fda9179ea4ca8d7dd4a89eee11f931328c33da', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the wait_for_disk_to_become_available during\n  the destroy_disk_metadata metadata to ensure that\n  nothing is using disk and preventing metadata\n  from being destroyed.\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 5, 'created': '2018-01-15 23:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/075e37cfd5b40e63a3ebad6fa5f360576dd28426', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the wait_for_disk_to_become_available during\n  the destroy_disk_metadata metadata to ensure that\n  nothing is using disk and preventing metadata\n  from being destroyed.\n* Updated the fuser call to utilize the -m flag,\n  which allows for data to be raised regarding things\n  such as mounted filesystems.\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 6, 'created': '2018-01-16 15:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/72f85fa0338e69baa69cb193466bc790e864745a', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the wait_for_disk_to_become_available during\n  the destroy_disk_metadata metadata to ensure that\n  nothing is using disk and preventing metadata\n  from being destroyed.\n* Updated the fuser call to utilize the -m flag,\n  which allows for data to be raised regarding things\n  such as mounted filesystems.\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 7, 'created': '2018-01-17 15:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/86f443570f012074b6be52a58c8abb2773894456', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the wait_for_disk_to_become_available during\n  the destroy_disk_metadata metadata to ensure that\n  nothing is using disk and preventing metadata\n  from being destroyed.\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}, {'number': 8, 'created': '2018-01-17 18:55:02.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py', 'ironic_lib/disk_partitioner.py', 'ironic_lib/tests/test_disk_partitioner.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0d65451cfc7c96f735143c0d2e593abb80beb731', 'message': 'Add wait_for_disk to destroy_disk_metadata function\n\n* Move _wait_for_disk_to_become_available function\n  from DiskPartitioner class to utils.py\n* Call the wait_for_disk_to_become_available during\n  the destroy_disk_metadata metadata to ensure that\n  nothing is using disk and preventing metadata\n  from being destroyed.\n\nChange-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5\nCloses-Bug: #1739421\n'}]",85,529325,0d65451cfc7c96f735143c0d2e593abb80beb731,63,7,8,8767,,,0,"Add wait_for_disk to destroy_disk_metadata function

* Move _wait_for_disk_to_become_available function
  from DiskPartitioner class to utils.py
* Call the wait_for_disk_to_become_available during
  the destroy_disk_metadata metadata to ensure that
  nothing is using disk and preventing metadata
  from being destroyed.

Change-Id: I9134b4cfdf15ba9610b4d1f844e64858d69713a5
Closes-Bug: #1739421
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/25/529325/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py', 'ironic_lib/disk_partitioner.py']",4,2aff46ab0af24e5e698f2f436e3f5056d439ff11,bug/1739421," try: utils.wait_for_disk_to_become_available(self._device) except exception.IronicException as e: raise exception.InstanceDeployFailure( _('Disk partitioning failed on device %(device)s. ' 'Error: %(error)s') % {'device': self._device, 'error': e})","import re from oslo_concurrency import processutilsfrom oslo_service import loopingcall self._fuser_pids_re = re.compile(r'((\d)+\s*)+') def _wait_for_disk_to_become_available(self, retries, max_retries, pids, stderr): retries[0] += 1 if retries[0] > max_retries: raise loopingcall.LoopingCallDone() try: # NOTE(ifarkas): fuser returns a non-zero return code if none of # the specified files is accessed out, err = utils.execute('fuser', self._device, check_exit_code=[0, 1], run_as_root=True) if not out and not err: raise loopingcall.LoopingCallDone() else: if err: stderr[0] = err if out: pids_match = re.search(self._fuser_pids_re, out) pids[0] = pids_match.group() except processutils.ProcessExecutionError as exc: LOG.warning('Failed to check the device %(device)s with fuser:' ' %(err)s', {'device': self._device, 'err': exc}) retries = [0] pids = [''] fuser_err = [''] interval = CONF.disk_partitioner.check_device_interval max_retries = CONF.disk_partitioner.check_device_max_retries timer = loopingcall.FixedIntervalLoopingCall( self._wait_for_disk_to_become_available, retries, max_retries, pids, fuser_err) timer.start(interval=interval).wait() if retries[0] > max_retries: if pids[0]: raise exception.InstanceDeployFailure( _('Disk partitioning failed on device %(device)s. ' 'Processes with the following PIDs are holding it: ' '%(pids)s. Time out waiting for completion.') % {'device': self._device, 'pids': pids[0]}) else: raise exception.InstanceDeployFailure( _('Disk partitioning failed on device %(device)s. Fuser ' 'exited with ""%(fuser_err)s"". Time out waiting for ' 'completion.') % {'device': self._device, 'fuser_err': fuser_err[0]})",75,59
openstack%2Fpython-manilaclient~master~I7ae8e95d2dca05ae2e55600a48454064e432c676,openstack/python-manilaclient,master,I7ae8e95d2dca05ae2e55600a48454064e432c676,base job has changed to bionic,MERGED,2019-03-11 10:11:02.000000000,2019-03-14 17:06:24.000000000,2019-03-14 17:06:24.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-11 10:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1442abc09220ad58d61a27645bcb91413bea27b4', 'message': 'DNM - testing base job change to bionic\n\nDepends-on: https://review.openstack.org/#/c/639096/\nChange-Id: I7ae8e95d2dca05ae2e55600a48454064e432c676\n'}, {'number': 2, 'created': '2019-03-14 14:42:04.000000000', 'files': ['playbooks/legacy/manilaclient-dsvm-neutron-functional/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ca0daf17348ab11c84774c990ba6f40583fd2b8b', 'message': 'base job has changed to bionic\n\nThe base job that we use has switched to bionic nodeset [1] so\nuse that instead of defining use of nodeset locally.\n\n[1] https://review.openstack.org/#/c/639096/\n\nChange-Id: I7ae8e95d2dca05ae2e55600a48454064e432c676\n'}]",0,642404,ca0daf17348ab11c84774c990ba6f40583fd2b8b,8,2,2,9003,,,0,"base job has changed to bionic

The base job that we use has switched to bionic nodeset [1] so
use that instead of defining use of nodeset locally.

[1] https://review.openstack.org/#/c/639096/

Change-Id: I7ae8e95d2dca05ae2e55600a48454064e432c676
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/04/642404/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manilaclient-dsvm-neutron-functional/post.yaml', '.zuul.yaml']",2,1442abc09220ad58d61a27645bcb91413bea27b4,legacy-jobs-bionic,, nodeset: openstack-single-node-bionic,1,2
openstack%2Fos-brick~master~Id8183cf3d8baf2f8ba6a00a47fa2ad7cc2a96aa5,openstack/os-brick,master,Id8183cf3d8baf2f8ba6a00a47fa2ad7cc2a96aa5,'iscsiadm -m session' failure handling,MERGED,2018-09-25 03:42:40.000000000,2019-03-14 17:06:03.000000000,2018-09-28 17:48:23.000000000,"[{'_account_id': 5997}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17097}, {'_account_id': 18058}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-09-25 03:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9ff06a0f114c18330e1d2f0a0870f85609ded80f', 'message': ""Don't give up on iscsiadm -m session\n\nSometimes 'iscsiadm -m session' outputs warnings on stderr, but\nstill serves its purpose (usable stdout). We should not give up on\nit when stderr is non-empty - instead, rely on the exit status, log\nthe stderr as a warning, and move on.\n\nChange-Id: Id8183cf3d8baf2f8ba6a00a47fa2ad7cc2a96aa5\nCloses-Bug: #1732199\n""}, {'number': 2, 'created': '2018-09-25 17:32:25.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d398fa82334bbabbc4c7d5b8f1fe5a7a4465200e', 'message': ""'iscsiadm -m session' failure handling\n\nSometimes 'iscsiadm -m session' outputs warnings on stderr, but\nstill serves its purpose (usable stdout). We should not give up on\nit when stderr is non-empty - instead, rely on the exit status, log\nthe stderr as a warning, and move on.\n\nThis change also removes 1 (ISCSI_ERR) from the list of acceptable\nexit codes for the iscsiadm command, to ensure that failures get\ncaught.\n\nChange-Id: Id8183cf3d8baf2f8ba6a00a47fa2ad7cc2a96aa5\nCloses-Bug: #1732199\n""}]",0,604961,d398fa82334bbabbc4c7d5b8f1fe5a7a4465200e,37,19,2,23561,,,0,"'iscsiadm -m session' failure handling

Sometimes 'iscsiadm -m session' outputs warnings on stderr, but
still serves its purpose (usable stdout). We should not give up on
it when stderr is non-empty - instead, rely on the exit status, log
the stderr as a warning, and move on.

This change also removes 1 (ISCSI_ERR) from the list of acceptable
exit codes for the iscsiadm command, to ensure that failures get
caught.

Change-Id: Id8183cf3d8baf2f8ba6a00a47fa2ad7cc2a96aa5
Closes-Bug: #1732199
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/61/604961/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,9ff06a0f114c18330e1d2f0a0870f85609ded80f,bug/1732199," LOG.warning(""iscsiadm stderr output when getting sessions: %s"", err)"," LOG.warning(""Couldn't find iscsi sessions because "" ""iscsiadm err: %s"", err) return []",12,8
